var i2=Object.defineProperty;var r2=(s,e,t)=>e in s?i2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var He=(s,e,t)=>(r2(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vm(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const Vt={},xr=[],Yn=()=>{},w1=()=>!1,xc=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),ym=s=>s.startsWith("onUpdate:"),ds=Object.assign,xm=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},a2=Object.prototype.hasOwnProperty,At=(s,e)=>a2.call(s,e),Je=Array.isArray,br=s=>pl(s)==="[object Map]",zr=s=>pl(s)==="[object Set]",Hf=s=>pl(s)==="[object Date]",lt=s=>typeof s=="function",es=s=>typeof s=="string",Qn=s=>typeof s=="symbol",Ut=s=>s!==null&&typeof s=="object",k1=s=>(Ut(s)||lt(s))&&lt(s.then)&&lt(s.catch),$1=Object.prototype.toString,pl=s=>$1.call(s),l2=s=>pl(s).slice(8,-1),C1=s=>pl(s)==="[object Object]",bm=s=>es(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Ta=vm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bc=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},d2=/-\w/g,Nn=bc(s=>s.replace(d2,e=>e.slice(1).toUpperCase())),c2=/\B([A-Z])/g,yi=bc(s=>s.replace(c2,"-$1").toLowerCase()),wc=bc(s=>s.charAt(0).toUpperCase()+s.slice(1)),Cu=bc(s=>s?`on${wc(s)}`:""),li=(s,e)=>!Object.is(s,e),pd=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},S1=(s,e,t,o=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:o,value:t})},Ld=s=>{const e=parseFloat(s);return isNaN(e)?s:e},u2=s=>{const e=es(s)?Number(s):NaN;return isNaN(e)?s:e};let qf;const kc=()=>qf||(qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bt(s){if(Je(s)){const e={};for(let t=0;t<s.length;t++){const o=s[t],i=es(o)?h2(o):bt(o);if(i)for(const r in i)e[r]=i[r]}return e}else if(es(s)||Ut(s))return s}const m2=/;(?![^(]*\))/g,f2=/:([^]+)/,p2=/\/\*[^]*?\*\//g;function h2(s){const e={};return s.replace(p2,"").split(m2).forEach(t=>{if(t){const o=t.split(f2);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function X(s){let e="";if(es(s))e=s;else if(Je(s))for(let t=0;t<s.length;t++){const o=X(s[t]);o&&(e+=o+" ")}else if(Ut(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const g2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_2=vm(g2);function M1(s){return!!s||s===""}function v2(s,e){if(s.length!==e.length)return!1;let t=!0;for(let o=0;t&&o<s.length;o++)t=Zi(s[o],e[o]);return t}function Zi(s,e){if(s===e)return!0;let t=Hf(s),o=Hf(e);if(t||o)return t&&o?s.getTime()===e.getTime():!1;if(t=Qn(s),o=Qn(e),t||o)return s===e;if(t=Je(s),o=Je(e),t||o)return t&&o?v2(s,e):!1;if(t=Ut(s),o=Ut(e),t||o){if(!t||!o)return!1;const i=Object.keys(s).length,r=Object.keys(e).length;if(i!==r)return!1;for(const a in s){const l=s.hasOwnProperty(a),c=e.hasOwnProperty(a);if(l&&!c||!l&&c||!Zi(s[a],e[a]))return!1}}return String(s)===String(e)}function wm(s,e){return s.findIndex(t=>Zi(t,e))}const T1=s=>!!(s&&s.__v_isRef===!0),d=s=>es(s)?s:s==null?"":Je(s)||Ut(s)&&(s.toString===$1||!lt(s.toString))?T1(s)?d(s.value):JSON.stringify(s,D1,2):String(s),D1=(s,e)=>T1(e)?D1(s,e.value):br(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,i],r)=>(t[Su(o,r)+" =>"]=i,t),{})}:zr(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Su(t))}:Qn(e)?Su(e):Ut(e)&&!Je(e)&&!C1(e)?String(e):e,Su=(s,e="")=>{var t;return Qn(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fs;class A1{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fs,!e&&Fs&&(this.index=(Fs.scopes||(Fs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Fs;try{return Fs=this,e()}finally{Fs=t}}}on(){++this._on===1&&(this.prevScope=Fs,Fs=this)}off(){this._on>0&&--this._on===0&&(Fs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(this.effects.length=0,t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function P1(s){return new A1(s)}function E1(){return Fs}function y2(s,e=!1){Fs&&Fs.cleanups.push(s)}let qt;const Mu=new WeakSet;class j1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fs&&Fs.active&&Fs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Mu.has(this)&&(Mu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||I1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wf(this),O1(this);const e=qt,t=Gn;qt=this,Gn=!0;try{return this.fn()}finally{L1(this),qt=e,Gn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Cm(e);this.deps=this.depsTail=void 0,Wf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Mu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){C0(this)&&this.run()}get dirty(){return C0(this)}}let R1=0,Da,Aa;function I1(s,e=!1){if(s.flags|=8,e){s.next=Aa,Aa=s;return}s.next=Da,Da=s}function km(){R1++}function $m(){if(--R1>0)return;if(Aa){let e=Aa;for(Aa=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;Da;){let e=Da;for(Da=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){s||(s=o)}e=t}}if(s)throw s}function O1(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function L1(s){let e,t=s.depsTail,o=t;for(;o;){const i=o.prevDep;o.version===-1?(o===t&&(t=i),Cm(o),x2(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}s.deps=e,s.depsTail=t}function C0(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(F1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function F1(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Xa)||(s.globalVersion=Xa,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!C0(s))))return;s.flags|=2;const e=s.dep,t=qt,o=Gn;qt=s,Gn=!0;try{O1(s);const i=s.fn(s._value);(e.version===0||li(i,s._value))&&(s.flags|=128,s._value=i,e.version++)}catch(i){throw e.version++,i}finally{qt=t,Gn=o,L1(s),s.flags&=-3}}function Cm(s,e=!1){const{dep:t,prevSub:o,nextSub:i}=s;if(o&&(o.nextSub=i,s.prevSub=void 0),i&&(i.prevSub=o,s.nextSub=void 0),t.subs===s&&(t.subs=o,!o&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)Cm(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function x2(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let Gn=!0;const N1=[];function Io(){N1.push(Gn),Gn=!1}function Oo(){const s=N1.pop();Gn=s===void 0?!0:s}function Wf(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=qt;qt=void 0;try{e()}finally{qt=t}}}let Xa=0;class b2{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!qt||!Gn||qt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==qt)t=this.activeLink=new b2(qt,this),qt.deps?(t.prevDep=qt.depsTail,qt.depsTail.nextDep=t,qt.depsTail=t):qt.deps=qt.depsTail=t,z1(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const o=t.nextDep;o.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=o),t.prevDep=qt.depsTail,t.nextDep=void 0,qt.depsTail.nextDep=t,qt.depsTail=t,qt.deps===t&&(qt.deps=o)}return t}trigger(e){this.version++,Xa++,this.notify(e)}notify(e){km();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{$m()}}}function z1(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)z1(o)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Fd=new WeakMap,Yi=Symbol(""),S0=Symbol(""),Ja=Symbol("");function Bs(s,e,t){if(Gn&&qt){let o=Fd.get(s);o||Fd.set(s,o=new Map);let i=o.get(t);i||(o.set(t,i=new Sm),i.map=o,i.key=t),i.track()}}function Do(s,e,t,o,i,r){const a=Fd.get(s);if(!a){Xa++;return}const l=c=>{c&&c.trigger()};if(km(),e==="clear")a.forEach(l);else{const c=Je(s),u=c&&bm(t);if(c&&t==="length"){const m=Number(o);a.forEach((h,p)=>{(p==="length"||p===Ja||!Qn(p)&&p>=m)&&l(h)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),u&&l(a.get(Ja)),e){case"add":c?u&&l(a.get("length")):(l(a.get(Yi)),br(s)&&l(a.get(S0)));break;case"delete":c||(l(a.get(Yi)),br(s)&&l(a.get(S0)));break;case"set":br(s)&&l(a.get(Yi));break}}$m()}function w2(s,e){const t=Fd.get(s);return t&&t.get(e)}function dr(s){const e=kt(s);return e===s?e:(Bs(e,"iterate",Ja),Ln(s)?e:e.map(Ss))}function $c(s){return Bs(s=kt(s),"iterate",Ja),s}const k2={__proto__:null,[Symbol.iterator](){return Tu(this,Symbol.iterator,Ss)},concat(...s){return dr(this).concat(...s.map(e=>Je(e)?dr(e):e))},entries(){return Tu(this,"entries",s=>(s[1]=Ss(s[1]),s))},every(s,e){return bo(this,"every",s,e,void 0,arguments)},filter(s,e){return bo(this,"filter",s,e,t=>t.map(Ss),arguments)},find(s,e){return bo(this,"find",s,e,Ss,arguments)},findIndex(s,e){return bo(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return bo(this,"findLast",s,e,Ss,arguments)},findLastIndex(s,e){return bo(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return bo(this,"forEach",s,e,void 0,arguments)},includes(...s){return Du(this,"includes",s)},indexOf(...s){return Du(this,"indexOf",s)},join(s){return dr(this).join(s)},lastIndexOf(...s){return Du(this,"lastIndexOf",s)},map(s,e){return bo(this,"map",s,e,void 0,arguments)},pop(){return na(this,"pop")},push(...s){return na(this,"push",s)},reduce(s,...e){return Kf(this,"reduce",s,e)},reduceRight(s,...e){return Kf(this,"reduceRight",s,e)},shift(){return na(this,"shift")},some(s,e){return bo(this,"some",s,e,void 0,arguments)},splice(...s){return na(this,"splice",s)},toReversed(){return dr(this).toReversed()},toSorted(s){return dr(this).toSorted(s)},toSpliced(...s){return dr(this).toSpliced(...s)},unshift(...s){return na(this,"unshift",s)},values(){return Tu(this,"values",Ss)}};function Tu(s,e,t){const o=$c(s),i=o[e]();return o!==s&&!Ln(s)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=t(r.value)),r}),i}const $2=Array.prototype;function bo(s,e,t,o,i,r){const a=$c(s),l=a!==s&&!Ln(s),c=a[e];if(c!==$2[e]){const h=c.apply(s,r);return l?Ss(h):h}let u=t;a!==s&&(l?u=function(h,p){return t.call(this,Ss(h),p,s)}:t.length>2&&(u=function(h,p){return t.call(this,h,p,s)}));const m=c.call(a,u,o);return l&&i?i(m):m}function Kf(s,e,t,o){const i=$c(s);let r=t;return i!==s&&(Ln(s)?t.length>3&&(r=function(a,l,c){return t.call(this,a,l,c,s)}):r=function(a,l,c){return t.call(this,a,Ss(l),c,s)}),i[e](r,...o)}function Du(s,e,t){const o=kt(s);Bs(o,"iterate",Ja);const i=o[e](...t);return(i===-1||i===!1)&&Dm(t[0])?(t[0]=kt(t[0]),o[e](...t)):i}function na(s,e,t=[]){Io(),km();const o=kt(s)[e].apply(s,t);return $m(),Oo(),o}const C2=vm("__proto__,__v_isRef,__isVue"),U1=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Qn));function S2(s){Qn(s)||(s=String(s));const e=kt(this);return Bs(e,"has",s),e.hasOwnProperty(s)}class B1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,o){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return o===(i?r?O2:W1:r?q1:H1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const a=Je(e);if(!i){let c;if(a&&(c=k2[t]))return c;if(t==="hasOwnProperty")return S2}const l=Reflect.get(e,t,ls(e)?e:o);if((Qn(t)?U1.has(t):C2(t))||(i||Bs(e,"get",t),r))return l;if(ls(l)){const c=a&&bm(t)?l:l.value;return i&&Ut(c)?T0(c):c}return Ut(l)?i?T0(l):at(l):l}}class V1 extends B1{constructor(e=!1){super(!1,e)}set(e,t,o,i){let r=e[t];if(!this._isShallow){const c=fi(r);if(!Ln(o)&&!fi(o)&&(r=kt(r),o=kt(o)),!Je(e)&&ls(r)&&!ls(o))return c||(r.value=o),!0}const a=Je(e)&&bm(t)?Number(t)<e.length:At(e,t),l=Reflect.set(e,t,o,ls(e)?e:i);return e===kt(i)&&(a?li(o,r)&&Do(e,"set",t,o):Do(e,"add",t,o)),l}deleteProperty(e,t){const o=At(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Do(e,"delete",t,void 0),i}has(e,t){const o=Reflect.has(e,t);return(!Qn(t)||!U1.has(t))&&Bs(e,"has",t),o}ownKeys(e){return Bs(e,"iterate",Je(e)?"length":Yi),Reflect.ownKeys(e)}}class M2 extends B1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const T2=new V1,D2=new M2,A2=new V1(!0);const M0=s=>s,El=s=>Reflect.getPrototypeOf(s);function P2(s,e,t){return function(...o){const i=this.__v_raw,r=kt(i),a=br(r),l=s==="entries"||s===Symbol.iterator&&a,c=s==="keys"&&a,u=i[s](...o),m=t?M0:e?Nd:Ss;return!e&&Bs(r,"iterate",c?S0:Yi),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:l?[m(h[0]),m(h[1])]:m(h),done:p}},[Symbol.iterator](){return this}}}}function jl(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function E2(s,e){const t={get(i){const r=this.__v_raw,a=kt(r),l=kt(i);s||(li(i,l)&&Bs(a,"get",i),Bs(a,"get",l));const{has:c}=El(a),u=e?M0:s?Nd:Ss;if(c.call(a,i))return u(r.get(i));if(c.call(a,l))return u(r.get(l));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!s&&Bs(kt(i),"iterate",Yi),i.size},has(i){const r=this.__v_raw,a=kt(r),l=kt(i);return s||(li(i,l)&&Bs(a,"has",i),Bs(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const a=this,l=a.__v_raw,c=kt(l),u=e?M0:s?Nd:Ss;return!s&&Bs(c,"iterate",Yi),l.forEach((m,h)=>i.call(r,u(m),u(h),a))}};return ds(t,s?{add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear")}:{add(i){!e&&!Ln(i)&&!fi(i)&&(i=kt(i));const r=kt(this);return El(r).has.call(r,i)||(r.add(i),Do(r,"add",i,i)),this},set(i,r){!e&&!Ln(r)&&!fi(r)&&(r=kt(r));const a=kt(this),{has:l,get:c}=El(a);let u=l.call(a,i);u||(i=kt(i),u=l.call(a,i));const m=c.call(a,i);return a.set(i,r),u?li(r,m)&&Do(a,"set",i,r):Do(a,"add",i,r),this},delete(i){const r=kt(this),{has:a,get:l}=El(r);let c=a.call(r,i);c||(i=kt(i),c=a.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return c&&Do(r,"delete",i,void 0),u},clear(){const i=kt(this),r=i.size!==0,a=i.clear();return r&&Do(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=P2(i,s,e)}),t}function Mm(s,e){const t=E2(s,e);return(o,i,r)=>i==="__v_isReactive"?!s:i==="__v_isReadonly"?s:i==="__v_raw"?o:Reflect.get(At(t,i)&&i in o?t:o,i,r)}const j2={get:Mm(!1,!1)},R2={get:Mm(!1,!0)},I2={get:Mm(!0,!1)};const H1=new WeakMap,q1=new WeakMap,W1=new WeakMap,O2=new WeakMap;function L2(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function F2(s){return s.__v_skip||!Object.isExtensible(s)?0:L2(l2(s))}function at(s){return fi(s)?s:Tm(s,!1,T2,j2,H1)}function N2(s){return Tm(s,!1,A2,R2,q1)}function T0(s){return Tm(s,!0,D2,I2,W1)}function Tm(s,e,t,o,i){if(!Ut(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=F2(s);if(r===0)return s;const a=i.get(s);if(a)return a;const l=new Proxy(s,r===2?o:t);return i.set(s,l),l}function di(s){return fi(s)?di(s.__v_raw):!!(s&&s.__v_isReactive)}function fi(s){return!!(s&&s.__v_isReadonly)}function Ln(s){return!!(s&&s.__v_isShallow)}function Dm(s){return s?!!s.__v_raw:!1}function kt(s){const e=s&&s.__v_raw;return e?kt(e):s}function Dr(s){return!At(s,"__v_skip")&&Object.isExtensible(s)&&S1(s,"__v_skip",!0),s}const Ss=s=>Ut(s)?at(s):s,Nd=s=>Ut(s)?T0(s):s;function ls(s){return s?s.__v_isRef===!0:!1}function E(s){return Y1(s,!1)}function K1(s){return Y1(s,!0)}function Y1(s,e){return ls(s)?s:new z2(s,e)}class z2{constructor(e,t){this.dep=new Sm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:kt(e),this._value=t?e:Ss(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,o=this.__v_isShallow||Ln(e)||fi(e);e=o?e:kt(e),li(e,t)&&(this._rawValue=e,this._value=o?e:Ss(e),this.dep.trigger())}}function f(s){return ls(s)?s.value:s}const U2={get:(s,e,t)=>e==="__v_raw"?s:f(Reflect.get(s,e,t)),set:(s,e,t,o)=>{const i=s[e];return ls(i)&&!ls(t)?(i.value=t,!0):Reflect.set(s,e,t,o)}};function G1(s){return di(s)?s:new Proxy(s,U2)}function B2(s){const e=Je(s)?new Array(s.length):{};for(const t in s)e[t]=H2(s,t);return e}class V2{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return w2(kt(this._object),this._key)}}function H2(s,e,t){const o=s[e];return ls(o)?o:new V2(s,e,t)}class q2{constructor(e,t,o){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Sm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&qt!==this)return I1(this,!0),!0}get value(){const e=this.dep.track();return F1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function W2(s,e,t=!1){let o,i;return lt(s)?o=s:(o=s.get,i=s.set),new q2(o,i,t)}const Rl={},zd=new WeakMap;let Fi;function K2(s,e=!1,t=Fi){if(t){let o=zd.get(t);o||zd.set(t,o=[]),o.push(s)}}function Y2(s,e,t=Vt){const{immediate:o,deep:i,once:r,scheduler:a,augmentJob:l,call:c}=t,u=$=>i?$:Ln($)||i===!1||i===0?Ao($,1):Ao($);let m,h,p,_,v=!1,x=!1;if(ls(s)?(h=()=>s.value,v=Ln(s)):di(s)?(h=()=>u(s),v=!0):Je(s)?(x=!0,v=s.some($=>di($)||Ln($)),h=()=>s.map($=>{if(ls($))return $.value;if(di($))return u($);if(lt($))return c?c($,2):$()})):lt(s)?e?h=c?()=>c(s,2):s:h=()=>{if(p){Io();try{p()}finally{Oo()}}const $=Fi;Fi=m;try{return c?c(s,3,[_]):s(_)}finally{Fi=$}}:h=Yn,e&&i){const $=h,A=i===!0?1/0:i;h=()=>Ao($(),A)}const w=E1(),b=()=>{m.stop(),w&&w.active&&xm(w.effects,m)};if(r&&e){const $=e;e=(...A)=>{$(...A),b()}}let k=x?new Array(s.length).fill(Rl):Rl;const C=$=>{if(!(!(m.flags&1)||!m.dirty&&!$))if(e){const A=m.run();if(i||v||(x?A.some((R,T)=>li(R,k[T])):li(A,k))){p&&p();const R=Fi;Fi=m;try{const T=[A,k===Rl?void 0:x&&k[0]===Rl?[]:k,_];k=A,c?c(e,3,T):e(...T)}finally{Fi=R}}}else m.run()};return l&&l(C),m=new j1(h),m.scheduler=a?()=>a(C,!1):C,_=$=>K2($,!1,m),p=m.onStop=()=>{const $=zd.get(m);if($){if(c)c($,4);else for(const A of $)A();zd.delete(m)}},e?o?C(!0):k=m.run():a?a(C.bind(null,!0),!0):m.run(),b.pause=m.pause.bind(m),b.resume=m.resume.bind(m),b.stop=b,b}function Ao(s,e=1/0,t){if(e<=0||!Ut(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,ls(s))Ao(s.value,e,t);else if(Je(s))for(let o=0;o<s.length;o++)Ao(s[o],e,t);else if(zr(s)||br(s))s.forEach(o=>{Ao(o,e,t)});else if(C1(s)){for(const o in s)Ao(s[o],e,t);for(const o of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,o)&&Ao(s[o],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hl(s,e,t,o){try{return o?s(...o):s()}catch(i){Cc(i,e,t)}}function Zn(s,e,t,o){if(lt(s)){const i=hl(s,e,t,o);return i&&k1(i)&&i.catch(r=>{Cc(r,e,t)}),i}if(Je(s)){const i=[];for(let r=0;r<s.length;r++)i.push(Zn(s[r],e,t,o));return i}}function Cc(s,e,t,o=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Vt;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const m=l.ec;if(m){for(let h=0;h<m.length;h++)if(m[h](s,c,u)===!1)return}l=l.parent}if(r){Io(),hl(r,null,10,[s,c,u]),Oo();return}}G2(s,t,i,o,a)}function G2(s,e,t,o=!0,i=!1){if(i)throw s}const tn=[];let lo=-1;const wr=[];let Go=null,gr=0;const X1=Promise.resolve();let Ud=null;function Tn(s){const e=Ud||X1;return s?e.then(this?s.bind(this):s):e}function X2(s){let e=lo+1,t=tn.length;for(;e<t;){const o=e+t>>>1,i=tn[o],r=Qa(i);r<s||r===s&&i.flags&2?e=o+1:t=o}return e}function Am(s){if(!(s.flags&1)){const e=Qa(s),t=tn[tn.length-1];!t||!(s.flags&2)&&e>=Qa(t)?tn.push(s):tn.splice(X2(e),0,s),s.flags|=1,J1()}}function J1(){Ud||(Ud=X1.then(Z1))}function J2(s){Je(s)?wr.push(...s):Go&&s.id===-1?Go.splice(gr+1,0,s):s.flags&1||(wr.push(s),s.flags|=1),J1()}function Yf(s,e,t=lo+1){for(;t<tn.length;t++){const o=tn[t];if(o&&o.flags&2){if(s&&o.id!==s.uid)continue;tn.splice(t,1),t--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Q1(s){if(wr.length){const e=[...new Set(wr)].sort((t,o)=>Qa(t)-Qa(o));if(wr.length=0,Go){Go.push(...e);return}for(Go=e,gr=0;gr<Go.length;gr++){const t=Go[gr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Go=null,gr=0}}const Qa=s=>s.id==null?s.flags&2?-1:1/0:s.id;function Z1(s){const e=Yn;try{for(lo=0;lo<tn.length;lo++){const t=tn[lo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;lo<tn.length;lo++){const t=tn[lo];t&&(t.flags&=-2)}lo=-1,tn.length=0,Q1(),Ud=null,(tn.length||wr.length)&&Z1()}}let Ts=null,e_=null;function Bd(s){const e=Ts;return Ts=s,e_=s&&s.type.__scopeId||null,e}function W(s,e=Ts,t){if(!e||s._n)return s;const o=(...i)=>{o._d&&qd(-1);const r=Bd(e);let a;try{a=s(...i)}finally{Bd(r),o._d&&qd(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function z(s,e){if(Ts===null)return s;const t=Ac(Ts),o=s.dirs||(s.dirs=[]);for(let i=0;i<e.length;i++){let[r,a,l,c=Vt]=e[i];r&&(lt(r)&&(r={mounted:r,updated:r}),r.deep&&Ao(a),o.push({dir:r,instance:t,value:a,oldValue:void 0,arg:l,modifiers:c}))}return s}function Mi(s,e,t,o){const i=s.dirs,r=e&&e.dirs;for(let a=0;a<i.length;a++){const l=i[a];r&&(l.oldValue=r[a].value);let c=l.dir[o];c&&(Io(),Zn(c,t,8,[s.el,l,s,e]),Oo())}}const t_=Symbol("_vte"),s_=s=>s.__isTeleport,Pa=s=>s&&(s.disabled||s.disabled===""),Gf=s=>s&&(s.defer||s.defer===""),Xf=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Jf=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,D0=(s,e)=>{const t=s&&s.to;return es(t)?e?e(t):null:t},n_={name:"Teleport",__isTeleport:!0,process(s,e,t,o,i,r,a,l,c,u){const{mc:m,pc:h,pbc:p,o:{insert:_,querySelector:v,createText:x,createComment:w}}=u,b=Pa(e.props);let{shapeFlag:k,children:C,dynamicChildren:$}=e;if(s==null){const A=e.el=x(""),R=e.anchor=x("");_(A,t,o),_(R,t,o);const T=(L,D)=>{k&16&&m(C,L,D,i,r,a,l,c)},F=()=>{const L=e.target=D0(e.props,v),D=o_(L,e,x,_);L&&(a!=="svg"&&Xf(L)?a="svg":a!=="mathml"&&Jf(L)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(L),b||(T(L,D),hd(e,!1)))};b&&(T(t,R),hd(e,!0)),Gf(e.props)?(e.el.__isMounted=!1,en(()=>{F(),delete e.el.__isMounted},r)):F()}else{if(Gf(e.props)&&s.el.__isMounted===!1){en(()=>{n_.process(s,e,t,o,i,r,a,l,c,u)},r);return}e.el=s.el,e.targetStart=s.targetStart;const A=e.anchor=s.anchor,R=e.target=s.target,T=e.targetAnchor=s.targetAnchor,F=Pa(s.props),L=F?t:R,D=F?A:T;if(a==="svg"||Xf(R)?a="svg":(a==="mathml"||Jf(R))&&(a="mathml"),$?(p(s.dynamicChildren,$,L,i,r,a,l),Lm(s,e,!0)):c||h(s,e,L,D,i,r,a,l,!1),b)F?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):Il(e,t,A,u,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const N=e.target=D0(e.props,v);N&&Il(e,N,null,u,0)}else F&&Il(e,R,T,u,1);hd(e,b)}},remove(s,e,t,{um:o,o:{remove:i}},r){const{shapeFlag:a,children:l,anchor:c,targetStart:u,targetAnchor:m,target:h,props:p}=s;if(h&&(i(u),i(m)),r&&i(c),a&16){const _=r||!Pa(p);for(let v=0;v<l.length;v++){const x=l[v];o(x,e,t,_,!!x.dynamicChildren)}}},move:Il,hydrate:Q2};function Il(s,e,t,{o:{insert:o},m:i},r=2){r===0&&o(s.targetAnchor,e,t);const{el:a,anchor:l,shapeFlag:c,children:u,props:m}=s,h=r===2;if(h&&o(a,e,t),(!h||Pa(m))&&c&16)for(let p=0;p<u.length;p++)i(u[p],e,t,2);h&&o(l,e,t)}function Q2(s,e,t,o,i,r,{o:{nextSibling:a,parentNode:l,querySelector:c,insert:u,createText:m}},h){function p(x,w,b,k){w.anchor=h(a(x),w,l(x),t,o,i,r),w.targetStart=b,w.targetAnchor=k}const _=e.target=D0(e.props,c),v=Pa(e.props);if(_){const x=_._lpa||_.firstChild;if(e.shapeFlag&16)if(v)p(s,e,x,x&&a(x));else{e.anchor=a(s);let w=x;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,_._lpa=e.targetAnchor&&a(e.targetAnchor);break}}w=a(w)}e.targetAnchor||o_(_,e,m,u),h(x&&a(x),e,_,t,o,i,r)}hd(e,v)}else v&&e.shapeFlag&16&&p(s,e,s,a(s));return e.anchor&&a(e.anchor)}const kr=n_;function hd(s,e){const t=s.ctx;if(t&&t.ut){let o,i;for(e?(o=s.el,i=s.anchor):(o=s.targetStart,i=s.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}function o_(s,e,t,o){const i=e.targetStart=t(""),r=e.targetAnchor=t("");return i[t_]=r,s&&(o(i,s),o(r,s)),r}const Mo=Symbol("_leaveCb"),Ol=Symbol("_enterCb");function i_(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ne(()=>{s.isMounted=!0}),Em(()=>{s.isUnmounting=!0}),s}const Pn=[Function,Array],r_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},a_=s=>{const e=s.subTree;return e.component?a_(e.component):e},Z2={name:"BaseTransition",props:r_,setup(s,{slots:e}){const t=Br(),o=i_();return()=>{const i=e.default&&Pm(e.default(),!0);if(!i||!i.length)return;const r=l_(i),a=kt(s),{mode:l}=a;if(o.isLeaving)return Au(r);const c=Qf(r);if(!c)return Au(r);let u=Za(c,a,o,t,h=>u=h);c.type!==Vs&&er(c,u);let m=t.subTree&&Qf(t.subTree);if(m&&m.type!==Vs&&!Bi(m,c)&&a_(t).type!==Vs){let h=Za(m,a,o,t);if(er(m,h),l==="out-in"&&c.type!==Vs)return o.isLeaving=!0,h.afterLeave=()=>{o.isLeaving=!1,t.job.flags&8||t.update(),delete h.afterLeave,m=void 0},Au(r);l==="in-out"&&c.type!==Vs?h.delayLeave=(p,_,v)=>{const x=d_(o,m);x[String(m.key)]=m,p[Mo]=()=>{_(),p[Mo]=void 0,delete u.delayedLeave,m=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return r}}};function l_(s){let e=s[0];if(s.length>1){for(const t of s)if(t.type!==Vs){e=t;break}}return e}const ew=Z2;function d_(s,e){const{leavingVNodes:t}=s;let o=t.get(e.type);return o||(o=Object.create(null),t.set(e.type,o)),o}function Za(s,e,t,o,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:m,onEnterCancelled:h,onBeforeLeave:p,onLeave:_,onAfterLeave:v,onLeaveCancelled:x,onBeforeAppear:w,onAppear:b,onAfterAppear:k,onAppearCancelled:C}=e,$=String(s.key),A=d_(t,s),R=(L,D)=>{L&&Zn(L,o,9,D)},T=(L,D)=>{const N=D[1];R(L,D),Je(L)?L.every(P=>P.length<=1)&&N():L.length<=1&&N()},F={mode:a,persisted:l,beforeEnter(L){let D=c;if(!t.isMounted)if(r)D=w||c;else return;L[Mo]&&L[Mo](!0);const N=A[$];N&&Bi(s,N)&&N.el[Mo]&&N.el[Mo](),R(D,[L])},enter(L){let D=u,N=m,P=h;if(!t.isMounted)if(r)D=b||u,N=k||m,P=C||h;else return;let U=!1;const ye=L[Ol]=le=>{U||(U=!0,le?R(P,[L]):R(N,[L]),F.delayedLeave&&F.delayedLeave(),L[Ol]=void 0)};D?T(D,[L,ye]):ye()},leave(L,D){const N=String(s.key);if(L[Ol]&&L[Ol](!0),t.isUnmounting)return D();R(p,[L]);let P=!1;const U=L[Mo]=ye=>{P||(P=!0,D(),ye?R(x,[L]):R(v,[L]),L[Mo]=void 0,A[N]===s&&delete A[N])};A[N]=s,_?T(_,[L,U]):U()},clone(L){const D=Za(L,e,t,o,i);return i&&i(D),D}};return F}function Au(s){if(Sc(s))return s=Lo(s),s.children=null,s}function Qf(s){if(!Sc(s))return s_(s.type)&&s.children?l_(s.children):s;if(s.component)return s.component.subTree;const{shapeFlag:e,children:t}=s;if(t){if(e&16)return t[0];if(e&32&&lt(t.default))return t.default()}}function er(s,e){s.shapeFlag&6&&s.component?(s.transition=e,er(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function Pm(s,e=!1,t){let o=[],i=0;for(let r=0;r<s.length;r++){let a=s[r];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:r);a.type===oe?(a.patchFlag&128&&i++,o=o.concat(Pm(a.children,e,l))):(e||a.type!==Vs)&&o.push(l!=null?Lo(a,{key:l}):a)}if(i>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function ve(s,e){return lt(s)?(()=>ds({name:s.name},e,{setup:s}))():s}function tw(){const s=Br();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function c_(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Vd=new WeakMap;function Ea(s,e,t,o,i=!1){if(Je(s)){s.forEach((v,x)=>Ea(v,e&&(Je(e)?e[x]:e),t,o,i));return}if($r(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Ea(s,e,t,o.component.subTree);return}const r=o.shapeFlag&4?Ac(o.component):o.el,a=i?null:r,{i:l,r:c}=s,u=e&&e.r,m=l.refs===Vt?l.refs={}:l.refs,h=l.setupState,p=kt(h),_=h===Vt?w1:v=>At(p,v);if(u!=null&&u!==c){if(Zf(e),es(u))m[u]=null,_(u)&&(h[u]=null);else if(ls(u)){u.value=null;const v=e;v.k&&(m[v.k]=null)}}if(lt(c))hl(c,l,12,[a,m]);else{const v=es(c),x=ls(c);if(v||x){const w=()=>{if(s.f){const b=v?_(c)?h[c]:m[c]:c.value;if(i)Je(b)&&xm(b,r);else if(Je(b))b.includes(r)||b.push(r);else if(v)m[c]=[r],_(c)&&(h[c]=m[c]);else{const k=[r];c.value=k,s.k&&(m[s.k]=k)}}else v?(m[c]=a,_(c)&&(h[c]=a)):x&&(c.value=a,s.k&&(m[s.k]=a))};if(a){const b=()=>{w(),Vd.delete(s)};b.id=-1,Vd.set(s,b),en(b,t)}else Zf(s),w()}}}function Zf(s){const e=Vd.get(s);e&&(e.flags|=8,Vd.delete(s))}kc().requestIdleCallback;kc().cancelIdleCallback;const $r=s=>!!s.type.__asyncLoader,Sc=s=>s.type.__isKeepAlive;function u_(s,e){f_(s,"a",e)}function m_(s,e){f_(s,"da",e)}function f_(s,e,t=Hs){const o=s.__wdc||(s.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return s()});if(Mc(e,o,t),t){let i=t.parent;for(;i&&i.parent;)Sc(i.parent.vnode)&&sw(o,e,t,i),i=i.parent}}function sw(s,e,t,o){const i=Mc(e,s,o,!0);Ks(()=>{xm(o[e],i)},t)}function Mc(s,e,t=Hs,o=!1){if(t){const i=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...a)=>{Io();const l=gl(t),c=Zn(e,t,s,a);return l(),Oo(),c});return o?i.unshift(r):i.push(r),r}}const zo=s=>(e,t=Hs)=>{(!sl||s==="sp")&&Mc(s,(...o)=>e(...o),t)},nw=zo("bm"),Ne=zo("m"),ow=zo("bu"),Ur=zo("u"),Em=zo("bum"),Ks=zo("um"),iw=zo("sp"),rw=zo("rtg"),aw=zo("rtc");function lw(s,e=Hs){Mc("ec",s,e)}const jm="components";function Bt(s,e){return h_(jm,s,!0,e)||s}const p_=Symbol.for("v-ndc");function Xn(s){return es(s)?h_(jm,s,!1)||s:s||p_}function h_(s,e,t=!0,o=!1){const i=Ts||Hs;if(i){const r=i.type;if(s===jm){const l=Gw(r,!1);if(l&&(l===e||l===Nn(e)||l===wc(Nn(e))))return r}const a=ep(i[s]||r[s],e)||ep(i.appContext[s],e);return!a&&o?r:a}}function ep(s,e){return s&&(s[e]||s[Nn(e)]||s[wc(Nn(e))])}function ue(s,e,t,o){let i;const r=t&&t[o],a=Je(s);if(a||es(s)){const l=a&&di(s);let c=!1,u=!1;l&&(c=!Ln(s),u=fi(s),s=$c(s)),i=new Array(s.length);for(let m=0,h=s.length;m<h;m++)i[m]=e(c?u?Nd(Ss(s[m])):Ss(s[m]):s[m],m,void 0,r&&r[m])}else if(typeof s=="number"){i=new Array(s);for(let l=0;l<s;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(Ut(s))if(s[Symbol.iterator])i=Array.from(s,(l,c)=>e(l,c,void 0,r&&r[c]));else{const l=Object.keys(s);i=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const m=l[c];i[c]=e(s[m],m,c,r&&r[c])}}else i=[];return t&&(t[o]=i),i}function Es(s,e,t={},o,i){if(Ts.ce||Ts.parent&&$r(Ts.parent)&&Ts.parent.ce){const u=Object.keys(t).length>0;return e!=="default"&&(t.name=e),g(),re(oe,null,[S("slot",t,o&&o())],u?-2:64)}let r=s[e];r&&r._c&&(r._d=!1),g();const a=r&&g_(r(t)),l=t.key||a&&a.key,c=re(oe,{key:(l&&!Qn(l)?l:`_${e}`)+(!a&&o?"_fb":"")},a||(o?o():[]),a&&s._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function g_(s){return s.some(e=>tl(e)?!(e.type===Vs||e.type===oe&&!g_(e.children)):!0)?s:null}const A0=s=>s?R_(s)?Ac(s):A0(s.parent):null,ja=ds(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>A0(s.parent),$root:s=>A0(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Rm(s),$forceUpdate:s=>s.f||(s.f=()=>{Am(s.update)}),$nextTick:s=>s.n||(s.n=Tn.bind(s.proxy)),$watch:s=>Aw.bind(s)}),Pu=(s,e)=>s!==Vt&&!s.__isScriptSetup&&At(s,e),dw={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:o,data:i,props:r,accessCache:a,type:l,appContext:c}=s;let u;if(e[0]!=="$"){const _=a[e];if(_!==void 0)switch(_){case 1:return o[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Pu(o,e))return a[e]=1,o[e];if(i!==Vt&&At(i,e))return a[e]=2,i[e];if((u=s.propsOptions[0])&&At(u,e))return a[e]=3,r[e];if(t!==Vt&&At(t,e))return a[e]=4,t[e];P0&&(a[e]=0)}}const m=ja[e];let h,p;if(m)return e==="$attrs"&&Bs(s.attrs,"get",""),m(s);if((h=l.__cssModules)&&(h=h[e]))return h;if(t!==Vt&&At(t,e))return a[e]=4,t[e];if(p=c.config.globalProperties,At(p,e))return p[e]},set({_:s},e,t){const{data:o,setupState:i,ctx:r}=s;return Pu(i,e)?(i[e]=t,!0):o!==Vt&&At(o,e)?(o[e]=t,!0):At(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:o,appContext:i,propsOptions:r,type:a}},l){let c,u;return!!(t[l]||s!==Vt&&l[0]!=="$"&&At(s,l)||Pu(e,l)||(c=r[0])&&At(c,l)||At(o,l)||At(ja,l)||At(i.config.globalProperties,l)||(u=a.__cssModules)&&u[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:At(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function tp(s){return Je(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let P0=!0;function cw(s){const e=Rm(s),t=s.proxy,o=s.ctx;P0=!1,e.beforeCreate&&sp(e.beforeCreate,s,"bc");const{data:i,computed:r,methods:a,watch:l,provide:c,inject:u,created:m,beforeMount:h,mounted:p,beforeUpdate:_,updated:v,activated:x,deactivated:w,beforeDestroy:b,beforeUnmount:k,destroyed:C,unmounted:$,render:A,renderTracked:R,renderTriggered:T,errorCaptured:F,serverPrefetch:L,expose:D,inheritAttrs:N,components:P,directives:U,filters:ye}=e;if(u&&uw(u,o,null),a)for(const q in a){const ne=a[q];lt(ne)&&(o[q]=ne.bind(t))}if(i){const q=i.call(t,t);Ut(q)&&(s.data=at(q))}if(P0=!0,r)for(const q in r){const ne=r[q],G=lt(ne)?ne.bind(t,t):lt(ne.get)?ne.get.bind(t,t):Yn,ie=!lt(ne)&&lt(ne.set)?ne.set.bind(t):Yn,$e=Me({get:G,set:ie});Object.defineProperty(o,q,{enumerable:!0,configurable:!0,get:()=>$e.value,set:we=>$e.value=we})}if(l)for(const q in l)__(l[q],o,t,q);if(c){const q=lt(c)?c.call(t):c;Reflect.ownKeys(q).forEach(ne=>{As(ne,q[ne])})}m&&sp(m,s,"c");function de(q,ne){Je(ne)?ne.forEach(G=>q(G.bind(t))):ne&&q(ne.bind(t))}if(de(nw,h),de(Ne,p),de(ow,_),de(Ur,v),de(u_,x),de(m_,w),de(lw,F),de(aw,R),de(rw,T),de(Em,k),de(Ks,$),de(iw,L),Je(D))if(D.length){const q=s.exposed||(s.exposed={});D.forEach(ne=>{Object.defineProperty(q,ne,{get:()=>t[ne],set:G=>t[ne]=G,enumerable:!0})})}else s.exposed||(s.exposed={});A&&s.render===Yn&&(s.render=A),N!=null&&(s.inheritAttrs=N),P&&(s.components=P),U&&(s.directives=U),L&&c_(s)}function uw(s,e,t=Yn){Je(s)&&(s=E0(s));for(const o in s){const i=s[o];let r;Ut(i)?"default"in i?r=Ze(i.from||o,i.default,!0):r=Ze(i.from||o):r=Ze(i),ls(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[o]=r}}function sp(s,e,t){Zn(Je(s)?s.map(o=>o.bind(e.proxy)):s.bind(e.proxy),e,t)}function __(s,e,t,o){let i=o.includes(".")?T_(t,o):()=>t[o];if(es(s)){const r=e[s];lt(r)&&Pt(i,r)}else if(lt(s))Pt(i,s.bind(t));else if(Ut(s))if(Je(s))s.forEach(r=>__(r,e,t,o));else{const r=lt(s.handler)?s.handler.bind(t):e[s.handler];lt(r)&&Pt(i,r,s)}}function Rm(s){const e=s.type,{mixins:t,extends:o}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!t&&!o?c=e:(c={},i.length&&i.forEach(u=>Hd(c,u,a,!0)),Hd(c,e,a)),Ut(e)&&r.set(e,c),c}function Hd(s,e,t,o=!1){const{mixins:i,extends:r}=e;r&&Hd(s,r,t,!0),i&&i.forEach(a=>Hd(s,a,t,!0));for(const a in e)if(!(o&&a==="expose")){const l=mw[a]||t&&t[a];s[a]=l?l(s[a],e[a]):e[a]}return s}const mw={data:np,props:op,emits:op,methods:_a,computed:_a,beforeCreate:Qs,created:Qs,beforeMount:Qs,mounted:Qs,beforeUpdate:Qs,updated:Qs,beforeDestroy:Qs,beforeUnmount:Qs,destroyed:Qs,unmounted:Qs,activated:Qs,deactivated:Qs,errorCaptured:Qs,serverPrefetch:Qs,components:_a,directives:_a,watch:pw,provide:np,inject:fw};function np(s,e){return e?s?function(){return ds(lt(s)?s.call(this,this):s,lt(e)?e.call(this,this):e)}:e:s}function fw(s,e){return _a(E0(s),E0(e))}function E0(s){if(Je(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Qs(s,e){return s?[...new Set([].concat(s,e))]:e}function _a(s,e){return s?ds(Object.create(null),s,e):e}function op(s,e){return s?Je(s)&&Je(e)?[...new Set([...s,...e])]:ds(Object.create(null),tp(s),tp(e??{})):e}function pw(s,e){if(!s)return e;if(!e)return s;const t=ds(Object.create(null),s);for(const o in e)t[o]=Qs(s[o],e[o]);return t}function v_(){return{app:null,config:{isNativeTag:w1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hw=0;function gw(s,e){return function(o,i=null){lt(o)||(o=ds({},o)),i!=null&&!Ut(i)&&(i=null);const r=v_(),a=new WeakSet,l=[];let c=!1;const u=r.app={_uid:hw++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:Jw,get config(){return r.config},set config(m){},use(m,...h){return a.has(m)||(m&&lt(m.install)?(a.add(m),m.install(u,...h)):lt(m)&&(a.add(m),m(u,...h))),u},mixin(m){return r.mixins.includes(m)||r.mixins.push(m),u},component(m,h){return h?(r.components[m]=h,u):r.components[m]},directive(m,h){return h?(r.directives[m]=h,u):r.directives[m]},mount(m,h,p){if(!c){const _=u._ceVNode||S(o,i);return _.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(_,m):s(_,m,p),c=!0,u._container=m,m.__vue_app__=u,Ac(_.component)}},onUnmount(m){l.push(m)},unmount(){c&&(Zn(l,u._instance,16),s(null,u._container),delete u._container.__vue_app__)},provide(m,h){return r.provides[m]=h,u},runWithContext(m){const h=Gi;Gi=u;try{return m()}finally{Gi=h}}};return u}}let Gi=null;function As(s,e){if(Hs){let t=Hs.provides;const o=Hs.parent&&Hs.parent.provides;o===t&&(t=Hs.provides=Object.create(o)),t[s]=e}}function Ze(s,e,t=!1){const o=Br();if(o||Gi){let i=Gi?Gi._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&s in i)return i[s];if(arguments.length>1)return t&&lt(e)?e.call(o&&o.proxy):e}}function _w(){return!!(Br()||Gi)}const y_={},x_=()=>Object.create(y_),b_=s=>Object.getPrototypeOf(s)===y_;function vw(s,e,t,o=!1){const i={},r=x_();s.propsDefaults=Object.create(null),w_(s,e,i,r);for(const a in s.propsOptions[0])a in i||(i[a]=void 0);t?s.props=o?i:N2(i):s.type.props?s.props=i:s.props=r,s.attrs=r}function yw(s,e,t,o){const{props:i,attrs:r,vnode:{patchFlag:a}}=s,l=kt(i),[c]=s.propsOptions;let u=!1;if((o||a>0)&&!(a&16)){if(a&8){const m=s.vnode.dynamicProps;for(let h=0;h<m.length;h++){let p=m[h];if(Tc(s.emitsOptions,p))continue;const _=e[p];if(c)if(At(r,p))_!==r[p]&&(r[p]=_,u=!0);else{const v=Nn(p);i[v]=j0(c,l,v,_,s,!1)}else _!==r[p]&&(r[p]=_,u=!0)}}}else{w_(s,e,i,r)&&(u=!0);let m;for(const h in l)(!e||!At(e,h)&&((m=yi(h))===h||!At(e,m)))&&(c?t&&(t[h]!==void 0||t[m]!==void 0)&&(i[h]=j0(c,l,h,void 0,s,!0)):delete i[h]);if(r!==l)for(const h in r)(!e||!At(e,h))&&(delete r[h],u=!0)}u&&Do(s.attrs,"set","")}function w_(s,e,t,o){const[i,r]=s.propsOptions;let a=!1,l;if(e)for(let c in e){if(Ta(c))continue;const u=e[c];let m;i&&At(i,m=Nn(c))?!r||!r.includes(m)?t[m]=u:(l||(l={}))[m]=u:Tc(s.emitsOptions,c)||(!(c in o)||u!==o[c])&&(o[c]=u,a=!0)}if(r){const c=kt(t),u=l||Vt;for(let m=0;m<r.length;m++){const h=r[m];t[h]=j0(i,c,h,u[h],s,!At(u,h))}}return a}function j0(s,e,t,o,i,r){const a=s[t];if(a!=null){const l=At(a,"default");if(l&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&lt(c)){const{propsDefaults:u}=i;if(t in u)o=u[t];else{const m=gl(i);o=u[t]=c.call(null,e),m()}}else o=c;i.ce&&i.ce._setProp(t,o)}a[0]&&(r&&!l?o=!1:a[1]&&(o===""||o===yi(t))&&(o=!0))}return o}const xw=new WeakMap;function k_(s,e,t=!1){const o=t?xw:e.propsCache,i=o.get(s);if(i)return i;const r=s.props,a={},l=[];let c=!1;if(!lt(s)){const m=h=>{c=!0;const[p,_]=k_(h,e,!0);ds(a,p),_&&l.push(..._)};!t&&e.mixins.length&&e.mixins.forEach(m),s.extends&&m(s.extends),s.mixins&&s.mixins.forEach(m)}if(!r&&!c)return Ut(s)&&o.set(s,xr),xr;if(Je(r))for(let m=0;m<r.length;m++){const h=Nn(r[m]);ip(h)&&(a[h]=Vt)}else if(r)for(const m in r){const h=Nn(m);if(ip(h)){const p=r[m],_=a[h]=Je(p)||lt(p)?{type:p}:ds({},p),v=_.type;let x=!1,w=!0;if(Je(v))for(let b=0;b<v.length;++b){const k=v[b],C=lt(k)&&k.name;if(C==="Boolean"){x=!0;break}else C==="String"&&(w=!1)}else x=lt(v)&&v.name==="Boolean";_[0]=x,_[1]=w,(x||At(_,"default"))&&l.push(h)}}const u=[a,l];return Ut(s)&&o.set(s,u),u}function ip(s){return s[0]!=="$"&&!Ta(s)}const Im=s=>s==="_"||s==="_ctx"||s==="$stable",Om=s=>Je(s)?s.map(mo):[mo(s)],bw=(s,e,t)=>{if(e._n)return e;const o=W((...i)=>Om(e(...i)),t);return o._c=!1,o},$_=(s,e,t)=>{const o=s._ctx;for(const i in s){if(Im(i))continue;const r=s[i];if(lt(r))e[i]=bw(i,r,o);else if(r!=null){const a=Om(r);e[i]=()=>a}}},C_=(s,e)=>{const t=Om(e);s.slots.default=()=>t},S_=(s,e,t)=>{for(const o in e)(t||!Im(o))&&(s[o]=e[o])},ww=(s,e,t)=>{const o=s.slots=x_();if(s.vnode.shapeFlag&32){const i=e._;i?(S_(o,e,t),t&&S1(o,"_",i,!0)):$_(e,o)}else e&&C_(s,e)},kw=(s,e,t)=>{const{vnode:o,slots:i}=s;let r=!0,a=Vt;if(o.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:S_(i,e,t):(r=!e.$stable,$_(e,i)),a=e}else e&&(C_(s,e),a={default:1});if(r)for(const l in i)!Im(l)&&a[l]==null&&delete i[l]},en=Fw;function $w(s){return Cw(s)}function Cw(s,e){const t=kc();t.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:a,createText:l,createComment:c,setText:u,setElementText:m,parentNode:h,nextSibling:p,setScopeId:_=Yn,insertStaticContent:v}=s,x=(B,Q,ee,te=null,se=null,ge=null,Ae=void 0,Pe=null,De=!!Q.dynamicChildren)=>{if(B===Q)return;B&&!Bi(B,Q)&&(te=Te(B),we(B,se,ge,!0),B=null),Q.patchFlag===-2&&(De=!1,Q.dynamicChildren=null);const{type:Se,ref:Ge,shapeFlag:ze}=Q;switch(Se){case Dc:w(B,Q,ee,te);break;case Vs:b(B,Q,ee,te);break;case gd:B==null&&k(Q,ee,te,Ae);break;case oe:P(B,Q,ee,te,se,ge,Ae,Pe,De);break;default:ze&1?A(B,Q,ee,te,se,ge,Ae,Pe,De):ze&6?U(B,Q,ee,te,se,ge,Ae,Pe,De):(ze&64||ze&128)&&Se.process(B,Q,ee,te,se,ge,Ae,Pe,De,Oe)}Ge!=null&&se?Ea(Ge,B&&B.ref,ge,Q||B,!Q):Ge==null&&B&&B.ref!=null&&Ea(B.ref,null,ge,B,!0)},w=(B,Q,ee,te)=>{if(B==null)o(Q.el=l(Q.children),ee,te);else{const se=Q.el=B.el;Q.children!==B.children&&u(se,Q.children)}},b=(B,Q,ee,te)=>{B==null?o(Q.el=c(Q.children||""),ee,te):Q.el=B.el},k=(B,Q,ee,te)=>{[B.el,B.anchor]=v(B.children,Q,ee,te,B.el,B.anchor)},C=({el:B,anchor:Q},ee,te)=>{let se;for(;B&&B!==Q;)se=p(B),o(B,ee,te),B=se;o(Q,ee,te)},$=({el:B,anchor:Q})=>{let ee;for(;B&&B!==Q;)ee=p(B),i(B),B=ee;i(Q)},A=(B,Q,ee,te,se,ge,Ae,Pe,De)=>{Q.type==="svg"?Ae="svg":Q.type==="math"&&(Ae="mathml"),B==null?R(Q,ee,te,se,ge,Ae,Pe,De):L(B,Q,se,ge,Ae,Pe,De)},R=(B,Q,ee,te,se,ge,Ae,Pe)=>{let De,Se;const{props:Ge,shapeFlag:ze,transition:je,dirs:nt}=B;if(De=B.el=a(B.type,ge,Ge&&Ge.is,Ge),ze&8?m(De,B.children):ze&16&&F(B.children,De,null,te,se,Eu(B,ge),Ae,Pe),nt&&Mi(B,null,te,"created"),T(De,B,B.scopeId,Ae,te),Ge){for(const Dt in Ge)Dt!=="value"&&!Ta(Dt)&&r(De,Dt,null,Ge[Dt],ge,te);"value"in Ge&&r(De,"value",null,Ge.value,ge),(Se=Ge.onVnodeBeforeMount)&&oo(Se,te,B)}nt&&Mi(B,null,te,"beforeMount");const _t=Sw(se,je);_t&&je.beforeEnter(De),o(De,Q,ee),((Se=Ge&&Ge.onVnodeMounted)||_t||nt)&&en(()=>{Se&&oo(Se,te,B),_t&&je.enter(De),nt&&Mi(B,null,te,"mounted")},se)},T=(B,Q,ee,te,se)=>{if(ee&&_(B,ee),te)for(let ge=0;ge<te.length;ge++)_(B,te[ge]);if(se){let ge=se.subTree;if(Q===ge||A_(ge.type)&&(ge.ssContent===Q||ge.ssFallback===Q)){const Ae=se.vnode;T(B,Ae,Ae.scopeId,Ae.slotScopeIds,se.parent)}}},F=(B,Q,ee,te,se,ge,Ae,Pe,De=0)=>{for(let Se=De;Se<B.length;Se++){const Ge=B[Se]=Pe?Xo(B[Se]):mo(B[Se]);x(null,Ge,Q,ee,te,se,ge,Ae,Pe)}},L=(B,Q,ee,te,se,ge,Ae)=>{const Pe=Q.el=B.el;let{patchFlag:De,dynamicChildren:Se,dirs:Ge}=Q;De|=B.patchFlag&16;const ze=B.props||Vt,je=Q.props||Vt;let nt;if(ee&&Ti(ee,!1),(nt=je.onVnodeBeforeUpdate)&&oo(nt,ee,Q,B),Ge&&Mi(Q,B,ee,"beforeUpdate"),ee&&Ti(ee,!0),(ze.innerHTML&&je.innerHTML==null||ze.textContent&&je.textContent==null)&&m(Pe,""),Se?D(B.dynamicChildren,Se,Pe,ee,te,Eu(Q,se),ge):Ae||ne(B,Q,Pe,null,ee,te,Eu(Q,se),ge,!1),De>0){if(De&16)N(Pe,ze,je,ee,se);else if(De&2&&ze.class!==je.class&&r(Pe,"class",null,je.class,se),De&4&&r(Pe,"style",ze.style,je.style,se),De&8){const _t=Q.dynamicProps;for(let Dt=0;Dt<_t.length;Dt++){const wt=_t[Dt],ws=ze[wt],us=je[wt];(us!==ws||wt==="value")&&r(Pe,wt,ws,us,se,ee)}}De&1&&B.children!==Q.children&&m(Pe,Q.children)}else!Ae&&Se==null&&N(Pe,ze,je,ee,se);((nt=je.onVnodeUpdated)||Ge)&&en(()=>{nt&&oo(nt,ee,Q,B),Ge&&Mi(Q,B,ee,"updated")},te)},D=(B,Q,ee,te,se,ge,Ae)=>{for(let Pe=0;Pe<Q.length;Pe++){const De=B[Pe],Se=Q[Pe],Ge=De.el&&(De.type===oe||!Bi(De,Se)||De.shapeFlag&198)?h(De.el):ee;x(De,Se,Ge,null,te,se,ge,Ae,!0)}},N=(B,Q,ee,te,se)=>{if(Q!==ee){if(Q!==Vt)for(const ge in Q)!Ta(ge)&&!(ge in ee)&&r(B,ge,Q[ge],null,se,te);for(const ge in ee){if(Ta(ge))continue;const Ae=ee[ge],Pe=Q[ge];Ae!==Pe&&ge!=="value"&&r(B,ge,Pe,Ae,se,te)}"value"in ee&&r(B,"value",Q.value,ee.value,se)}},P=(B,Q,ee,te,se,ge,Ae,Pe,De)=>{const Se=Q.el=B?B.el:l(""),Ge=Q.anchor=B?B.anchor:l("");let{patchFlag:ze,dynamicChildren:je,slotScopeIds:nt}=Q;nt&&(Pe=Pe?Pe.concat(nt):nt),B==null?(o(Se,ee,te),o(Ge,ee,te),F(Q.children||[],ee,Ge,se,ge,Ae,Pe,De)):ze>0&&ze&64&&je&&B.dynamicChildren?(D(B.dynamicChildren,je,ee,se,ge,Ae,Pe),(Q.key!=null||se&&Q===se.subTree)&&Lm(B,Q,!0)):ne(B,Q,ee,Ge,se,ge,Ae,Pe,De)},U=(B,Q,ee,te,se,ge,Ae,Pe,De)=>{Q.slotScopeIds=Pe,B==null?Q.shapeFlag&512?se.ctx.activate(Q,ee,te,Ae,De):ye(Q,ee,te,se,ge,Ae,De):le(B,Q,De)},ye=(B,Q,ee,te,se,ge,Ae)=>{const Pe=B.component=Hw(B,te,se);if(Sc(B)&&(Pe.ctx.renderer=Oe),qw(Pe,!1,Ae),Pe.asyncDep){if(se&&se.registerDep(Pe,de,Ae),!B.el){const De=Pe.subTree=S(Vs);b(null,De,Q,ee),B.placeholder=De.el}}else de(Pe,B,Q,ee,se,ge,Ae)},le=(B,Q,ee)=>{const te=Q.component=B.component;if(Ow(B,Q,ee))if(te.asyncDep&&!te.asyncResolved){q(te,Q,ee);return}else te.next=Q,te.update();else Q.el=B.el,te.vnode=Q},de=(B,Q,ee,te,se,ge,Ae)=>{const Pe=()=>{if(B.isMounted){let{next:ze,bu:je,u:nt,parent:_t,vnode:Dt}=B;{const vs=M_(B);if(vs){ze&&(ze.el=Dt.el,q(B,ze,Ae)),vs.asyncDep.then(()=>{B.isUnmounted||Pe()});return}}let wt=ze,ws;Ti(B,!1),ze?(ze.el=Dt.el,q(B,ze,Ae)):ze=Dt,je&&pd(je),(ws=ze.props&&ze.props.onVnodeBeforeUpdate)&&oo(ws,_t,ze,Dt),Ti(B,!0);const us=ju(B),Is=B.subTree;B.subTree=us,x(Is,us,h(Is.el),Te(Is),B,se,ge),ze.el=us.el,wt===null&&Lw(B,us.el),nt&&en(nt,se),(ws=ze.props&&ze.props.onVnodeUpdated)&&en(()=>oo(ws,_t,ze,Dt),se)}else{let ze;const{el:je,props:nt}=Q,{bm:_t,m:Dt,parent:wt,root:ws,type:us}=B,Is=$r(Q);if(Ti(B,!1),_t&&pd(_t),!Is&&(ze=nt&&nt.onVnodeBeforeMount)&&oo(ze,wt,Q),Ti(B,!0),je&&fe){const vs=()=>{B.subTree=ju(B),fe(je,B.subTree,B,se,null)};Is&&us.__asyncHydrate?us.__asyncHydrate(je,B,vs):vs()}else{ws.ce&&ws.ce._def.shadowRoot!==!1&&ws.ce._injectChildStyle(us);const vs=B.subTree=ju(B);x(null,vs,ee,te,B,se,ge),Q.el=vs.el}if(Dt&&en(Dt,se),!Is&&(ze=nt&&nt.onVnodeMounted)){const vs=Q;en(()=>oo(ze,wt,vs),se)}(Q.shapeFlag&256||wt&&$r(wt.vnode)&&wt.vnode.shapeFlag&256)&&B.a&&en(B.a,se),B.isMounted=!0,Q=ee=te=null}};B.scope.on();const De=B.effect=new j1(Pe);B.scope.off();const Se=B.update=De.run.bind(De),Ge=B.job=De.runIfDirty.bind(De);Ge.i=B,Ge.id=B.uid,De.scheduler=()=>Am(Ge),Ti(B,!0),Se()},q=(B,Q,ee)=>{Q.component=B;const te=B.vnode.props;B.vnode=Q,B.next=null,yw(B,Q.props,te,ee),kw(B,Q.children,ee),Io(),Yf(B),Oo()},ne=(B,Q,ee,te,se,ge,Ae,Pe,De=!1)=>{const Se=B&&B.children,Ge=B?B.shapeFlag:0,ze=Q.children,{patchFlag:je,shapeFlag:nt}=Q;if(je>0){if(je&128){ie(Se,ze,ee,te,se,ge,Ae,Pe,De);return}else if(je&256){G(Se,ze,ee,te,se,ge,Ae,Pe,De);return}}nt&8?(Ge&16&&Ce(Se,se,ge),ze!==Se&&m(ee,ze)):Ge&16?nt&16?ie(Se,ze,ee,te,se,ge,Ae,Pe,De):Ce(Se,se,ge,!0):(Ge&8&&m(ee,""),nt&16&&F(ze,ee,te,se,ge,Ae,Pe,De))},G=(B,Q,ee,te,se,ge,Ae,Pe,De)=>{B=B||xr,Q=Q||xr;const Se=B.length,Ge=Q.length,ze=Math.min(Se,Ge);let je;for(je=0;je<ze;je++){const nt=Q[je]=De?Xo(Q[je]):mo(Q[je]);x(B[je],nt,ee,null,se,ge,Ae,Pe,De)}Se>Ge?Ce(B,se,ge,!0,!1,ze):F(Q,ee,te,se,ge,Ae,Pe,De,ze)},ie=(B,Q,ee,te,se,ge,Ae,Pe,De)=>{let Se=0;const Ge=Q.length;let ze=B.length-1,je=Ge-1;for(;Se<=ze&&Se<=je;){const nt=B[Se],_t=Q[Se]=De?Xo(Q[Se]):mo(Q[Se]);if(Bi(nt,_t))x(nt,_t,ee,null,se,ge,Ae,Pe,De);else break;Se++}for(;Se<=ze&&Se<=je;){const nt=B[ze],_t=Q[je]=De?Xo(Q[je]):mo(Q[je]);if(Bi(nt,_t))x(nt,_t,ee,null,se,ge,Ae,Pe,De);else break;ze--,je--}if(Se>ze){if(Se<=je){const nt=je+1,_t=nt<Ge?Q[nt].el:te;for(;Se<=je;)x(null,Q[Se]=De?Xo(Q[Se]):mo(Q[Se]),ee,_t,se,ge,Ae,Pe,De),Se++}}else if(Se>je)for(;Se<=ze;)we(B[Se],se,ge,!0),Se++;else{const nt=Se,_t=Se,Dt=new Map;for(Se=_t;Se<=je;Se++){const ys=Q[Se]=De?Xo(Q[Se]):mo(Q[Se]);ys.key!=null&&Dt.set(ys.key,Se)}let wt,ws=0;const us=je-_t+1;let Is=!1,vs=0;const Bn=new Array(us);for(Se=0;Se<us;Se++)Bn[Se]=0;for(Se=nt;Se<=ze;Se++){const ys=B[Se];if(ws>=us){we(ys,se,ge,!0);continue}let Os;if(ys.key!=null)Os=Dt.get(ys.key);else for(wt=_t;wt<=je;wt++)if(Bn[wt-_t]===0&&Bi(ys,Q[wt])){Os=wt;break}Os===void 0?we(ys,se,ge,!0):(Bn[Os-_t]=Se+1,Os>=vs?vs=Os:Is=!0,x(ys,Q[Os],ee,null,se,ge,Ae,Pe,De),ws++)}const Nt=Is?Mw(Bn):xr;for(wt=Nt.length-1,Se=us-1;Se>=0;Se--){const ys=_t+Se,Os=Q[ys],lr=Q[ys+1],Vn=ys+1<Ge?lr.el||lr.placeholder:te;Bn[Se]===0?x(null,Os,ee,Vn,se,ge,Ae,Pe,De):Is&&(wt<0||Se!==Nt[wt]?$e(Os,ee,Vn,2):wt--)}}},$e=(B,Q,ee,te,se=null)=>{const{el:ge,type:Ae,transition:Pe,children:De,shapeFlag:Se}=B;if(Se&6){$e(B.component.subTree,Q,ee,te);return}if(Se&128){B.suspense.move(Q,ee,te);return}if(Se&64){Ae.move(B,Q,ee,Oe);return}if(Ae===oe){o(ge,Q,ee);for(let ze=0;ze<De.length;ze++)$e(De[ze],Q,ee,te);o(B.anchor,Q,ee);return}if(Ae===gd){C(B,Q,ee);return}if(te!==2&&Se&1&&Pe)if(te===0)Pe.beforeEnter(ge),o(ge,Q,ee),en(()=>Pe.enter(ge),se);else{const{leave:ze,delayLeave:je,afterLeave:nt}=Pe,_t=()=>{B.ctx.isUnmounted?i(ge):o(ge,Q,ee)},Dt=()=>{ge._isLeaving&&ge[Mo](!0),ze(ge,()=>{_t(),nt&&nt()})};je?je(ge,_t,Dt):Dt()}else o(ge,Q,ee)},we=(B,Q,ee,te=!1,se=!1)=>{const{type:ge,props:Ae,ref:Pe,children:De,dynamicChildren:Se,shapeFlag:Ge,patchFlag:ze,dirs:je,cacheIndex:nt}=B;if(ze===-2&&(se=!1),Pe!=null&&(Io(),Ea(Pe,null,ee,B,!0),Oo()),nt!=null&&(Q.renderCache[nt]=void 0),Ge&256){Q.ctx.deactivate(B);return}const _t=Ge&1&&je,Dt=!$r(B);let wt;if(Dt&&(wt=Ae&&Ae.onVnodeBeforeUnmount)&&oo(wt,Q,B),Ge&6)pe(B.component,ee,te);else{if(Ge&128){B.suspense.unmount(ee,te);return}_t&&Mi(B,null,Q,"beforeUnmount"),Ge&64?B.type.remove(B,Q,ee,Oe,te):Se&&!Se.hasOnce&&(ge!==oe||ze>0&&ze&64)?Ce(Se,Q,ee,!1,!0):(ge===oe&&ze&384||!se&&Ge&16)&&Ce(De,Q,ee),te&&Qe(B)}(Dt&&(wt=Ae&&Ae.onVnodeUnmounted)||_t)&&en(()=>{wt&&oo(wt,Q,B),_t&&Mi(B,null,Q,"unmounted")},ee)},Qe=B=>{const{type:Q,el:ee,anchor:te,transition:se}=B;if(Q===oe){pt(ee,te);return}if(Q===gd){$(B);return}const ge=()=>{i(ee),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(B.shapeFlag&1&&se&&!se.persisted){const{leave:Ae,delayLeave:Pe}=se,De=()=>Ae(ee,ge);Pe?Pe(B.el,ge,De):De()}else ge()},pt=(B,Q)=>{let ee;for(;B!==Q;)ee=p(B),i(B),B=ee;i(Q)},pe=(B,Q,ee)=>{const{bum:te,scope:se,job:ge,subTree:Ae,um:Pe,m:De,a:Se}=B;rp(De),rp(Se),te&&pd(te),se.stop(),ge&&(ge.flags|=8,we(Ae,B,Q,ee)),Pe&&en(Pe,Q),en(()=>{B.isUnmounted=!0},Q)},Ce=(B,Q,ee,te=!1,se=!1,ge=0)=>{for(let Ae=ge;Ae<B.length;Ae++)we(B[Ae],Q,ee,te,se)},Te=B=>{if(B.shapeFlag&6)return Te(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const Q=p(B.anchor||B.el),ee=Q&&Q[t_];return ee?p(ee):Q};let Ue=!1;const tt=(B,Q,ee)=>{B==null?Q._vnode&&we(Q._vnode,null,null,!0):x(Q._vnode||null,B,Q,null,null,null,ee),Q._vnode=B,Ue||(Ue=!0,Yf(),Q1(),Ue=!1)},Oe={p:x,um:we,m:$e,r:Qe,mt:ye,mc:F,pc:ne,pbc:D,n:Te,o:s};let me,fe;return e&&([me,fe]=e(Oe)),{render:tt,hydrate:me,createApp:gw(tt,me)}}function Eu({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ti({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function Sw(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function Lm(s,e,t=!1){const o=s.children,i=e.children;if(Je(o)&&Je(i))for(let r=0;r<o.length;r++){const a=o[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Xo(i[r]),l.el=a.el),!t&&l.patchFlag!==-2&&Lm(a,l)),l.type===Dc&&l.patchFlag!==-1&&(l.el=a.el),l.type===Vs&&!l.el&&(l.el=a.el)}}function Mw(s){const e=s.slice(),t=[0];let o,i,r,a,l;const c=s.length;for(o=0;o<c;o++){const u=s[o];if(u!==0){if(i=t[t.length-1],s[i]<u){e[o]=i,t.push(o);continue}for(r=0,a=t.length-1;r<a;)l=r+a>>1,s[t[l]]<u?r=l+1:a=l;u<s[t[r]]&&(r>0&&(e[o]=t[r-1]),t[r]=o)}}for(r=t.length,a=t[r-1];r-- >0;)t[r]=a,a=e[a];return t}function M_(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:M_(e)}function rp(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const Tw=Symbol.for("v-scx"),Dw=()=>Ze(Tw);function pn(s,e){return Fm(s,null,e)}function Pt(s,e,t){return Fm(s,e,t)}function Fm(s,e,t=Vt){const{immediate:o,deep:i,flush:r,once:a}=t,l=ds({},t),c=e&&o||!e&&r!=="post";let u;if(sl){if(r==="sync"){const _=Dw();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=Yn,_.resume=Yn,_.pause=Yn,_}}const m=Hs;l.call=(_,v,x)=>Zn(_,m,v,x);let h=!1;r==="post"?l.scheduler=_=>{en(_,m&&m.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(_,v)=>{v?_():Am(_)}),l.augmentJob=_=>{e&&(_.flags|=4),h&&(_.flags|=2,m&&(_.id=m.uid,_.i=m))};const p=Y2(s,e,l);return sl&&(u?u.push(p):c&&p()),p}function Aw(s,e,t){const o=this.proxy,i=es(s)?s.includes(".")?T_(o,s):()=>o[s]:s.bind(o,o);let r;lt(e)?r=e:(r=e.handler,t=e);const a=gl(this),l=Fm(i,r.bind(o),t);return a(),l}function T_(s,e){const t=e.split(".");return()=>{let o=s;for(let i=0;i<t.length&&o;i++)o=o[t[i]];return o}}const Pw=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${Nn(e)}Modifiers`]||s[`${yi(e)}Modifiers`];function Ew(s,e,...t){if(s.isUnmounted)return;const o=s.vnode.props||Vt;let i=t;const r=e.startsWith("update:"),a=r&&Pw(o,e.slice(7));a&&(a.trim&&(i=t.map(m=>es(m)?m.trim():m)),a.number&&(i=t.map(Ld)));let l,c=o[l=Cu(e)]||o[l=Cu(Nn(e))];!c&&r&&(c=o[l=Cu(yi(e))]),c&&Zn(c,s,6,i);const u=o[l+"Once"];if(u){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Zn(u,s,6,i)}}const jw=new WeakMap;function D_(s,e,t=!1){const o=t?jw:e.emitsCache,i=o.get(s);if(i!==void 0)return i;const r=s.emits;let a={},l=!1;if(!lt(s)){const c=u=>{const m=D_(u,e,!0);m&&(l=!0,ds(a,m))};!t&&e.mixins.length&&e.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}return!r&&!l?(Ut(s)&&o.set(s,null),null):(Je(r)?r.forEach(c=>a[c]=null):ds(a,r),Ut(s)&&o.set(s,a),a)}function Tc(s,e){return!s||!xc(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(s,e[0].toLowerCase()+e.slice(1))||At(s,yi(e))||At(s,e))}function ju(s){const{type:e,vnode:t,proxy:o,withProxy:i,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:m,props:h,data:p,setupState:_,ctx:v,inheritAttrs:x}=s,w=Bd(s);let b,k;try{if(t.shapeFlag&4){const $=i||o,A=$;b=mo(u.call(A,$,m,h,_,p,v)),k=l}else{const $=e;b=mo($.length>1?$(h,{attrs:l,slots:a,emit:c}):$(h,null)),k=e.props?l:Rw(l)}}catch($){Ra.length=0,Cc($,s,1),b=S(Vs)}let C=b;if(k&&x!==!1){const $=Object.keys(k),{shapeFlag:A}=C;$.length&&A&7&&(r&&$.some(ym)&&(k=Iw(k,r)),C=Lo(C,k,!1,!0))}return t.dirs&&(C=Lo(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&er(C,t.transition),b=C,Bd(w),b}const Rw=s=>{let e;for(const t in s)(t==="class"||t==="style"||xc(t))&&((e||(e={}))[t]=s[t]);return e},Iw=(s,e)=>{const t={};for(const o in s)(!ym(o)||!(o.slice(9)in e))&&(t[o]=s[o]);return t};function Ow(s,e,t){const{props:o,children:i,component:r}=s,{props:a,children:l,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return o?ap(o,a,u):!!a;if(c&8){const m=e.dynamicProps;for(let h=0;h<m.length;h++){const p=m[h];if(a[p]!==o[p]&&!Tc(u,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:o===a?!1:o?a?ap(o,a,u):!0:!!a;return!1}function ap(s,e,t){const o=Object.keys(e);if(o.length!==Object.keys(s).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(e[r]!==s[r]&&!Tc(t,r))return!0}return!1}function Lw({vnode:s,parent:e},t){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===s&&(o.el=s.el),o===s)(s=e.vnode).el=t,e=e.parent;else break}}const A_=s=>s.__isSuspense;function Fw(s,e){e&&e.pendingBranch?Je(s)?e.effects.push(...s):e.effects.push(s):J2(s)}const oe=Symbol.for("v-fgt"),Dc=Symbol.for("v-txt"),Vs=Symbol.for("v-cmt"),gd=Symbol.for("v-stc"),Ra=[];let Sn=null;function g(s=!1){Ra.push(Sn=s?null:[])}function Nw(){Ra.pop(),Sn=Ra[Ra.length-1]||null}let el=1;function qd(s,e=!1){el+=s,s<0&&Sn&&e&&(Sn.hasOnce=!0)}function P_(s){return s.dynamicChildren=el>0?Sn||xr:null,Nw(),el>0&&Sn&&Sn.push(s),s}function y(s,e,t,o,i,r){return P_(n(s,e,t,o,i,r,!0))}function re(s,e,t,o,i){return P_(S(s,e,t,o,i,!0))}function tl(s){return s?s.__v_isVNode===!0:!1}function Bi(s,e){return s.type===e.type&&s.key===e.key}const E_=({key:s})=>s??null,_d=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?es(s)||ls(s)||lt(s)?{i:Ts,r:s,k:e,f:!!t}:s:null);function n(s,e=null,t=null,o=0,i=null,r=s===oe?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&E_(e),ref:e&&_d(e),scopeId:e_,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ts};return l?(Nm(c,t),r&128&&s.normalize(c)):t&&(c.shapeFlag|=es(t)?8:16),el>0&&!a&&Sn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Sn.push(c),c}const S=zw;function zw(s,e=null,t=null,o=0,i=null,r=!1){if((!s||s===p_)&&(s=Vs),tl(s)){const l=Lo(s,e,!0);return t&&Nm(l,t),el>0&&!r&&Sn&&(l.shapeFlag&6?Sn[Sn.indexOf(s)]=l:Sn.push(l)),l.patchFlag=-2,l}if(Xw(s)&&(s=s.__vccOpts),e){e=Uw(e);let{class:l,style:c}=e;l&&!es(l)&&(e.class=X(l)),Ut(c)&&(Dm(c)&&!Je(c)&&(c=ds({},c)),e.style=bt(c))}const a=es(s)?1:A_(s)?128:s_(s)?64:Ut(s)?4:lt(s)?2:0;return n(s,e,t,o,i,a,r,!0)}function Uw(s){return s?Dm(s)||b_(s)?ds({},s):s:null}function Lo(s,e,t=!1,o=!1){const{props:i,ref:r,patchFlag:a,children:l,transition:c}=s,u=e?j_(i||{},e):i,m={__v_isVNode:!0,__v_skip:!0,type:s.type,props:u,key:u&&E_(u),ref:e&&e.ref?t&&r?Je(r)?r.concat(_d(e)):[r,_d(e)]:_d(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==oe?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:c,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Lo(s.ssContent),ssFallback:s.ssFallback&&Lo(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return c&&o&&er(m,c.clone(m)),m}function J(s=" ",e=0){return S(Dc,null,s,e)}function Ps(s,e){const t=S(gd,null,s);return t.staticCount=e,t}function j(s="",e=!1){return e?(g(),re(Vs,null,s)):S(Vs,null,s)}function mo(s){return s==null||typeof s=="boolean"?S(Vs):Je(s)?S(oe,null,s.slice()):tl(s)?Xo(s):S(Dc,null,String(s))}function Xo(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Lo(s)}function Nm(s,e){let t=0;const{shapeFlag:o}=s;if(e==null)e=null;else if(Je(e))t=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Nm(s,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!b_(e)?e._ctx=Ts:i===3&&Ts&&(Ts.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:Ts},t=32):(e=String(e),o&64?(t=16,e=[J(e)]):t=8);s.children=e,s.shapeFlag|=t}function j_(...s){const e={};for(let t=0;t<s.length;t++){const o=s[t];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=X([e.class,o.class]));else if(i==="style")e.style=bt([e.style,o.style]);else if(xc(i)){const r=e[i],a=o[i];a&&r!==a&&!(Je(r)&&r.includes(a))&&(e[i]=r?[].concat(r,a):a)}else i!==""&&(e[i]=o[i])}return e}function oo(s,e,t,o=null){Zn(s,e,7,[t,o])}const Bw=v_();let Vw=0;function Hw(s,e,t){const o=s.type,i=(e?e.appContext:s.appContext)||Bw,r={uid:Vw++,vnode:s,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new A1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:k_(o,i),emitsOptions:D_(o,i),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:o.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Ew.bind(null,r),s.ce&&s.ce(r),r}let Hs=null;const Br=()=>Hs||Ts;let Wd,R0;{const s=kc(),e=(t,o)=>{let i;return(i=s[t])||(i=s[t]=[]),i.push(o),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};Wd=e("__VUE_INSTANCE_SETTERS__",t=>Hs=t),R0=e("__VUE_SSR_SETTERS__",t=>sl=t)}const gl=s=>{const e=Hs;return Wd(s),s.scope.on(),()=>{s.scope.off(),Wd(e)}},lp=()=>{Hs&&Hs.scope.off(),Wd(null)};function R_(s){return s.vnode.shapeFlag&4}let sl=!1;function qw(s,e=!1,t=!1){e&&R0(e);const{props:o,children:i}=s.vnode,r=R_(s);vw(s,o,r,e),ww(s,i,t||e);const a=r?Ww(s,e):void 0;return e&&R0(!1),a}function Ww(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,dw);const{setup:o}=t;if(o){Io();const i=s.setupContext=o.length>1?Yw(s):null,r=gl(s),a=hl(o,s,0,[s.props,i]),l=k1(a);if(Oo(),r(),(l||s.sp)&&!$r(s)&&c_(s),l){if(a.then(lp,lp),e)return a.then(c=>{dp(s,c,e)}).catch(c=>{Cc(c,s,0)});s.asyncDep=a}else dp(s,a,e)}else I_(s,e)}function dp(s,e,t){lt(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Ut(e)&&(s.setupState=G1(e)),I_(s,t)}let cp;function I_(s,e,t){const o=s.type;if(!s.render){if(!e&&cp&&!o.render){const i=o.template||Rm(s).template;if(i){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:l,compilerOptions:c}=o,u=ds(ds({isCustomElement:r,delimiters:l},a),c);o.render=cp(i,u)}}s.render=o.render||Yn}{const i=gl(s);Io();try{cw(s)}finally{Oo(),i()}}}const Kw={get(s,e){return Bs(s,"get",""),s[e]}};function Yw(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,Kw),slots:s.slots,emit:s.emit,expose:e}}function Ac(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(G1(Dr(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in ja)return ja[t](s)},has(e,t){return t in e||t in ja}})):s.proxy}function Gw(s,e=!0){return lt(s)?s.displayName||s.name:s.name||e&&s.__name}function Xw(s){return lt(s)&&"__vccOpts"in s}const Me=(s,e)=>W2(s,e,sl);function Ot(s,e,t){try{qd(-1);const o=arguments.length;return o===2?Ut(e)&&!Je(e)?tl(e)?S(s,null,[e]):S(s,e):S(s,null,e):(o>3?t=Array.prototype.slice.call(arguments,2):o===3&&tl(t)&&(t=[t]),S(s,e,t))}finally{qd(1)}}const Jw="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let I0;const up=typeof window<"u"&&window.trustedTypes;if(up)try{I0=up.createPolicy("vue",{createHTML:s=>s})}catch{}const O_=I0?s=>I0.createHTML(s):s=>s,Qw="http://www.w3.org/2000/svg",Zw="http://www.w3.org/1998/Math/MathML",So=typeof document<"u"?document:null,mp=So&&So.createElement("template"),e5={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,o)=>{const i=e==="svg"?So.createElementNS(Qw,s):e==="mathml"?So.createElementNS(Zw,s):t?So.createElement(s,{is:t}):So.createElement(s);return s==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:s=>So.createTextNode(s),createComment:s=>So.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>So.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,o,i,r){const a=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{mp.innerHTML=O_(o==="svg"?`<svg>${s}</svg>`:o==="mathml"?`<math>${s}</math>`:s);const l=mp.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},qo="transition",oa="animation",Ar=Symbol("_vtc"),L_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F_=ds({},r_,L_),t5=s=>(s.displayName="Transition",s.props=F_,s),s5=t5((s,{slots:e})=>Ot(ew,N_(s),e)),Di=(s,e=[])=>{Je(s)?s.forEach(t=>t(...e)):s&&s(...e)},fp=s=>s?Je(s)?s.some(e=>e.length>1):s.length>1:!1;function N_(s){const e={};for(const P in s)P in L_||(e[P]=s[P]);if(s.css===!1)return e;const{name:t="v",type:o,duration:i,enterFromClass:r=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:c=r,appearActiveClass:u=a,appearToClass:m=l,leaveFromClass:h=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:_=`${t}-leave-to`}=s,v=n5(i),x=v&&v[0],w=v&&v[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:C,onLeave:$,onLeaveCancelled:A,onBeforeAppear:R=b,onAppear:T=k,onAppearCancelled:F=C}=e,L=(P,U,ye,le)=>{P._enterCancelled=le,Ko(P,U?m:l),Ko(P,U?u:a),ye&&ye()},D=(P,U)=>{P._isLeaving=!1,Ko(P,h),Ko(P,_),Ko(P,p),U&&U()},N=P=>(U,ye)=>{const le=P?T:k,de=()=>L(U,P,ye);Di(le,[U,de]),pp(()=>{Ko(U,P?c:r),ro(U,P?m:l),fp(le)||hp(U,o,x,de)})};return ds(e,{onBeforeEnter(P){Di(b,[P]),ro(P,r),ro(P,a)},onBeforeAppear(P){Di(R,[P]),ro(P,c),ro(P,u)},onEnter:N(!1),onAppear:N(!0),onLeave(P,U){P._isLeaving=!0;const ye=()=>D(P,U);ro(P,h),P._enterCancelled?(ro(P,p),O0(P)):(O0(P),ro(P,p)),pp(()=>{P._isLeaving&&(Ko(P,h),ro(P,_),fp($)||hp(P,o,w,ye))}),Di($,[P,ye])},onEnterCancelled(P){L(P,!1,void 0,!0),Di(C,[P])},onAppearCancelled(P){L(P,!0,void 0,!0),Di(F,[P])},onLeaveCancelled(P){D(P),Di(A,[P])}})}function n5(s){if(s==null)return null;if(Ut(s))return[Ru(s.enter),Ru(s.leave)];{const e=Ru(s);return[e,e]}}function Ru(s){return u2(s)}function ro(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[Ar]||(s[Ar]=new Set)).add(e)}function Ko(s,e){e.split(/\s+/).forEach(o=>o&&s.classList.remove(o));const t=s[Ar];t&&(t.delete(e),t.size||(s[Ar]=void 0))}function pp(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let o5=0;function hp(s,e,t,o){const i=s._endId=++o5,r=()=>{i===s._endId&&o()};if(t!=null)return setTimeout(r,t);const{type:a,timeout:l,propCount:c}=z_(s,e);if(!a)return o();const u=a+"end";let m=0;const h=()=>{s.removeEventListener(u,p),r()},p=_=>{_.target===s&&++m>=c&&h()};setTimeout(()=>{m<c&&h()},l+1),s.addEventListener(u,p)}function z_(s,e){const t=window.getComputedStyle(s),o=v=>(t[v]||"").split(", "),i=o(`${qo}Delay`),r=o(`${qo}Duration`),a=gp(i,r),l=o(`${oa}Delay`),c=o(`${oa}Duration`),u=gp(l,c);let m=null,h=0,p=0;e===qo?a>0&&(m=qo,h=a,p=r.length):e===oa?u>0&&(m=oa,h=u,p=c.length):(h=Math.max(a,u),m=h>0?a>u?qo:oa:null,p=m?m===qo?r.length:c.length:0);const _=m===qo&&/\b(?:transform|all)(?:,|$)/.test(o(`${qo}Property`).toString());return{type:m,timeout:h,propCount:p,hasTransform:_}}function gp(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,o)=>_p(t)+_p(s[o])))}function _p(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function O0(s){return(s?s.ownerDocument:document).body.offsetHeight}function i5(s,e,t){const o=s[Ar];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Kd=Symbol("_vod"),U_=Symbol("_vsh"),zt={name:"show",beforeMount(s,{value:e},{transition:t}){s[Kd]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):ia(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:o}){!e!=!t&&(o?e?(o.beforeEnter(s),ia(s,!0),o.enter(s)):o.leave(s,()=>{ia(s,!1)}):ia(s,e))},beforeUnmount(s,{value:e}){ia(s,e)}};function ia(s,e){s.style.display=e?s[Kd]:"none",s[U_]=!e}const r5=Symbol(""),a5=/(?:^|;)\s*display\s*:/;function l5(s,e,t){const o=s.style,i=es(t);let r=!1;if(t&&!i){if(e)if(es(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&vd(o,l,"")}else for(const a in e)t[a]==null&&vd(o,a,"");for(const a in t)a==="display"&&(r=!0),vd(o,a,t[a])}else if(i){if(e!==t){const a=o[r5];a&&(t+=";"+a),o.cssText=t,r=a5.test(t)}}else e&&s.removeAttribute("style");Kd in s&&(s[Kd]=r?o.display:"",s[U_]&&(o.display="none"))}const vp=/\s*!important$/;function vd(s,e,t){if(Je(t))t.forEach(o=>vd(s,e,o));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const o=d5(s,e);vp.test(t)?s.setProperty(yi(o),t.replace(vp,""),"important"):s[o]=t}}const yp=["Webkit","Moz","ms"],Iu={};function d5(s,e){const t=Iu[e];if(t)return t;let o=Nn(e);if(o!=="filter"&&o in s)return Iu[e]=o;o=wc(o);for(let i=0;i<yp.length;i++){const r=yp[i]+o;if(r in s)return Iu[e]=r}return e}const xp="http://www.w3.org/1999/xlink";function bp(s,e,t,o,i,r=_2(e)){o&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(xp,e.slice(6,e.length)):s.setAttributeNS(xp,e,t):t==null||r&&!M1(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Qn(t)?String(t):t)}function wp(s,e,t,o,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?O_(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,c=t==null?s.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in s))&&(s.value=c),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=M1(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(i||e)}function Po(s,e,t,o){s.addEventListener(e,t,o)}function c5(s,e,t,o){s.removeEventListener(e,t,o)}const kp=Symbol("_vei");function u5(s,e,t,o,i=null){const r=s[kp]||(s[kp]={}),a=r[e];if(o&&a)a.value=o;else{const[l,c]=m5(e);if(o){const u=r[e]=h5(o,i);Po(s,l,u,c)}else a&&(c5(s,l,a,c),r[e]=void 0)}}const $p=/(?:Once|Passive|Capture)$/;function m5(s){let e;if($p.test(s)){e={};let o;for(;o=s.match($p);)s=s.slice(0,s.length-o[0].length),e[o[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):yi(s.slice(2)),e]}let Ou=0;const f5=Promise.resolve(),p5=()=>Ou||(f5.then(()=>Ou=0),Ou=Date.now());function h5(s,e){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Zn(g5(o,t.value),e,5,[o])};return t.value=s,t.attached=p5(),t}function g5(s,e){if(Je(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const Cp=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,_5=(s,e,t,o,i,r)=>{const a=i==="svg";e==="class"?i5(s,o,a):e==="style"?l5(s,t,o):xc(e)?ym(e)||u5(s,e,t,o,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):v5(s,e,o,a))?(wp(s,e,o),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bp(s,e,o,a,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!es(o))?wp(s,Nn(e),o,r,e):(e==="true-value"?s._trueValue=o:e==="false-value"&&(s._falseValue=o),bp(s,e,o,a))};function v5(s,e,t,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in s&&Cp(e)&&lt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=s.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Cp(e)&&es(t)?!1:e in s}const B_=new WeakMap,V_=new WeakMap,Yd=Symbol("_moveCb"),Sp=Symbol("_enterCb"),y5=s=>(delete s.props.mode,s),x5=y5({name:"TransitionGroup",props:ds({},F_,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=Br(),o=i_();let i,r;return Ur(()=>{if(!i.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!C5(i[0].el,t.vnode.el,a)){i=[];return}i.forEach(w5),i.forEach(k5);const l=i.filter($5);O0(t.vnode.el),l.forEach(c=>{const u=c.el,m=u.style;ro(u,a),m.transform=m.webkitTransform=m.transitionDuration="";const h=u[Yd]=p=>{p&&p.target!==u||(!p||p.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",h),u[Yd]=null,Ko(u,a))};u.addEventListener("transitionend",h)}),i=[]}),()=>{const a=kt(s),l=N_(a);let c=a.tag||oe;if(i=[],r)for(let u=0;u<r.length;u++){const m=r[u];m.el&&m.el instanceof Element&&(i.push(m),er(m,Za(m,l,o,t)),B_.set(m,m.el.getBoundingClientRect()))}r=e.default?Pm(e.default()):[];for(let u=0;u<r.length;u++){const m=r[u];m.key!=null&&er(m,Za(m,l,o,t))}return S(c,null,r)}}}),b5=x5;function w5(s){const e=s.el;e[Yd]&&e[Yd](),e[Sp]&&e[Sp]()}function k5(s){V_.set(s,s.el.getBoundingClientRect())}function $5(s){const e=B_.get(s),t=V_.get(s),o=e.left-t.left,i=e.top-t.top;if(o||i){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${o}px,${i}px)`,r.transitionDuration="0s",s}}function C5(s,e,t){const o=s.cloneNode(),i=s[Ar];i&&i.forEach(l=>{l.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),t.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(o);const{hasTransform:a}=z_(o);return r.removeChild(o),a}const pi=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Je(e)?t=>pd(e,t):e};function S5(s){s.target.composing=!0}function Mp(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fn=Symbol("_assign"),K={created(s,{modifiers:{lazy:e,trim:t,number:o}},i){s[Fn]=pi(i);const r=o||i.props&&i.props.type==="number";Po(s,e?"change":"input",a=>{if(a.target.composing)return;let l=s.value;t&&(l=l.trim()),r&&(l=Ld(l)),s[Fn](l)}),t&&Po(s,"change",()=>{s.value=s.value.trim()}),e||(Po(s,"compositionstart",S5),Po(s,"compositionend",Mp),Po(s,"change",Mp))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:o,trim:i,number:r}},a){if(s[Fn]=pi(a),s.composing)return;const l=(r||s.type==="number")&&!/^0\d/.test(s.value)?Ld(s.value):s.value,c=e??"";l!==c&&(document.activeElement===s&&s.type!=="range"&&(o&&e===t||i&&s.value.trim()===c)||(s.value=c))}},rs={deep:!0,created(s,e,t){s[Fn]=pi(t),Po(s,"change",()=>{const o=s._modelValue,i=Pr(s),r=s.checked,a=s[Fn];if(Je(o)){const l=wm(o,i),c=l!==-1;if(r&&!c)a(o.concat(i));else if(!r&&c){const u=[...o];u.splice(l,1),a(u)}}else if(zr(o)){const l=new Set(o);r?l.add(i):l.delete(i),a(l)}else a(H_(s,r))})},mounted:Tp,beforeUpdate(s,e,t){s[Fn]=pi(t),Tp(s,e,t)}};function Tp(s,{value:e,oldValue:t},o){s._modelValue=e;let i;if(Je(e))i=wm(e,o.props.value)>-1;else if(zr(e))i=e.has(o.props.value);else{if(e===t)return;i=Zi(e,H_(s,!0))}s.checked!==i&&(s.checked=i)}const In={created(s,{value:e},t){s.checked=Zi(e,t.props.value),s[Fn]=pi(t),Po(s,"change",()=>{s[Fn](Pr(s))})},beforeUpdate(s,{value:e,oldValue:t},o){s[Fn]=pi(o),e!==t&&(s.checked=Zi(e,o.props.value))}},xe={deep:!0,created(s,{value:e,modifiers:{number:t}},o){const i=zr(e);Po(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>t?Ld(Pr(a)):Pr(a));s[Fn](s.multiple?i?new Set(r):r:r[0]),s._assigning=!0,Tn(()=>{s._assigning=!1})}),s[Fn]=pi(o)},mounted(s,{value:e}){Dp(s,e)},beforeUpdate(s,e,t){s[Fn]=pi(t)},updated(s,{value:e}){s._assigning||Dp(s,e)}};function Dp(s,e){const t=s.multiple,o=Je(e);if(!(t&&!o&&!zr(e))){for(let i=0,r=s.options.length;i<r;i++){const a=s.options[i],l=Pr(a);if(t)if(o){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=wm(e,l)>-1}else a.selected=e.has(l);else if(Zi(Pr(a),e)){s.selectedIndex!==i&&(s.selectedIndex=i);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function Pr(s){return"_value"in s?s._value:s.value}function H_(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const M5={created(s,e,t){Ll(s,e,t,null,"created")},mounted(s,e,t){Ll(s,e,t,null,"mounted")},beforeUpdate(s,e,t,o){Ll(s,e,t,o,"beforeUpdate")},updated(s,e,t,o){Ll(s,e,t,o,"updated")}};function T5(s,e){switch(s){case"SELECT":return xe;case"TEXTAREA":return K;default:switch(e){case"checkbox":return rs;case"radio":return In;default:return K}}}function Ll(s,e,t,o,i){const a=T5(s.tagName,t.props&&t.props.type)[i];a&&a(s,e,t,o)}const D5=["ctrl","shift","alt","meta"],A5={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>D5.some(t=>s[`${t}Key`]&&!e.includes(t))},Ve=(s,e)=>{const t=s._withMods||(s._withMods={}),o=e.join(".");return t[o]||(t[o]=(i,...r)=>{for(let a=0;a<e.length;a++){const l=A5[e[a]];if(l&&l(i,e))return}return s(i,...r)})},P5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},On=(s,e)=>{const t=s._withKeys||(s._withKeys={}),o=e.join(".");return t[o]||(t[o]=i=>{if(!("key"in i))return;const r=yi(i.key);if(e.some(a=>a===r||P5[a]===r))return s(i)})},E5=ds({patchProp:_5},e5);let Ap;function j5(){return Ap||(Ap=$w(E5))}const R5=(...s)=>{const e=j5().createApp(...s),{mount:t}=e;return e.mount=o=>{const i=O5(o);if(!i)return;const r=e._component;!lt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=t(i,!1,I5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function I5(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function O5(s){return es(s)?document.querySelector(s):s}var L5=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let q_;const Pc=s=>q_=s,W_=Symbol();function L0(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Ia;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Ia||(Ia={}));function F5(){const s=P1(!0),e=s.run(()=>E({}));let t=[],o=[];const i=Dr({install(r){Pc(i),i._a=r,r.provide(W_,i),r.config.globalProperties.$pinia=i,o.forEach(a=>t.push(a)),o=[]},use(r){return!this._a&&!L5?o.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return i}const K_=()=>{};function Pp(s,e,t,o=K_){s.push(e);const i=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),o())};return!t&&E1()&&y2(i),i}function cr(s,...e){s.slice().forEach(t=>{t(...e)})}const N5=s=>s(),Ep=Symbol(),Lu=Symbol();function F0(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,o)=>s.set(o,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t],i=s[t];L0(i)&&L0(o)&&s.hasOwnProperty(t)&&!ls(o)&&!di(o)?s[t]=F0(i,o):s[t]=o}return s}const z5=Symbol();function U5(s){return!L0(s)||!s.hasOwnProperty(z5)}const{assign:Yo}=Object;function B5(s){return!!(ls(s)&&s.effect)}function V5(s,e,t,o){const{state:i,actions:r,getters:a}=e,l=t.state.value[s];let c;function u(){l||(t.state.value[s]=i?i():{});const m=B2(t.state.value[s]);return Yo(m,r,Object.keys(a||{}).reduce((h,p)=>(h[p]=Dr(Me(()=>{Pc(t);const _=t._s.get(s);return a[p].call(_,_)})),h),{}))}return c=Y_(s,u,e,t,o,!0),c}function Y_(s,e,t={},o,i,r){let a;const l=Yo({actions:{}},t),c={deep:!0};let u,m,h=[],p=[],_;const v=o.state.value[s];!r&&!v&&(o.state.value[s]={}),E({});let x;function w(F){let L;u=m=!1,typeof F=="function"?(F(o.state.value[s]),L={type:Ia.patchFunction,storeId:s,events:_}):(F0(o.state.value[s],F),L={type:Ia.patchObject,payload:F,storeId:s,events:_});const D=x=Symbol();Tn().then(()=>{x===D&&(u=!0)}),m=!0,cr(h,L,o.state.value[s])}const b=r?function(){const{state:L}=t,D=L?L():{};this.$patch(N=>{Yo(N,D)})}:K_;function k(){a.stop(),h=[],p=[],o._s.delete(s)}const C=(F,L="")=>{if(Ep in F)return F[Lu]=L,F;const D=function(){Pc(o);const N=Array.from(arguments),P=[],U=[];function ye(q){P.push(q)}function le(q){U.push(q)}cr(p,{args:N,name:D[Lu],store:A,after:ye,onError:le});let de;try{de=F.apply(this&&this.$id===s?this:A,N)}catch(q){throw cr(U,q),q}return de instanceof Promise?de.then(q=>(cr(P,q),q)).catch(q=>(cr(U,q),Promise.reject(q))):(cr(P,de),de)};return D[Ep]=!0,D[Lu]=L,D},$={_p:o,$id:s,$onAction:Pp.bind(null,p),$patch:w,$reset:b,$subscribe(F,L={}){const D=Pp(h,F,L.detached,()=>N()),N=a.run(()=>Pt(()=>o.state.value[s],P=>{(L.flush==="sync"?m:u)&&F({storeId:s,type:Ia.direct,events:_},P)},Yo({},c,L)));return D},$dispose:k},A=at($);o._s.set(s,A);const T=(o._a&&o._a.runWithContext||N5)(()=>o._e.run(()=>(a=P1()).run(()=>e({action:C}))));for(const F in T){const L=T[F];if(ls(L)&&!B5(L)||di(L))r||(v&&U5(L)&&(ls(L)?L.value=v[F]:F0(L,v[F])),o.state.value[s][F]=L);else if(typeof L=="function"){const D=C(L,F);T[F]=D,l.actions[F]=L}}return Yo(A,T),Yo(kt(A),T),Object.defineProperty(A,"$state",{get:()=>o.state.value[s],set:F=>{w(L=>{Yo(L,F)})}}),o._p.forEach(F=>{Yo(A,a.run(()=>F({store:A,app:o._a,pinia:o,options:l})))}),v&&r&&t.hydrate&&t.hydrate(A.$state,v),u=!0,m=!0,A}/*! #__NO_SIDE_EFFECTS__ */function hn(s,e,t){let o,i;const r=typeof e=="function";typeof s=="string"?(o=s,i=r?t:e):(i=s,o=s.id);function a(l,c){const u=_w();return l=l||(u?Ze(W_,null):null),l&&Pc(l),l=q_,l._s.has(o)||(r?Y_(o,e,i,l):V5(o,i,l)),l._s.get(o)}return a.$id=o,a}const Ec=hn("main",()=>{const s=E(!1),e=E(!1);return{isBlankPage:s,isMobileSidebar:e}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _r=typeof window<"u";function H5(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const Rt=Object.assign;function Fu(s,e){const t={};for(const o in e){const i=e[o];t[o]=eo(i)?i.map(s):s(i)}return t}const Oa=()=>{},eo=Array.isArray,q5=/\/$/,W5=s=>s.replace(q5,"");function Nu(s,e,t="/"){let o,i={},r="",a="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),i=s(r)),l>-1&&(o=o||e.slice(0,l),a=e.slice(l,e.length)),o=X5(o??e,t),{fullPath:o+(r&&"?")+r+a,path:o,query:i,hash:a}}function K5(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function jp(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function Y5(s,e,t){const o=e.matched.length-1,i=t.matched.length-1;return o>-1&&o===i&&Er(e.matched[o],t.matched[i])&&G_(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function Er(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function G_(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!G5(s[t],e[t]))return!1;return!0}function G5(s,e){return eo(s)?Rp(s,e):eo(e)?Rp(e,s):s===e}function Rp(s,e){return eo(e)?s.length===e.length&&s.every((t,o)=>t===e[o]):s.length===1&&s[0]===e}function X5(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),o=s.split("/");let i=t.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var nl;(function(s){s.pop="pop",s.push="push"})(nl||(nl={}));var La;(function(s){s.back="back",s.forward="forward",s.unknown=""})(La||(La={}));function J5(s){if(!s)if(_r){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),W5(s)}const Q5=/^[^#]+#/;function Z5(s,e){return s.replace(Q5,"#")+e}function ek(s,e){const t=document.documentElement.getBoundingClientRect(),o=s.getBoundingClientRect();return{behavior:e.behavior,left:o.left-t.left-(e.left||0),top:o.top-t.top-(e.top||0)}}const jc=()=>({left:window.pageXOffset,top:window.pageYOffset});function tk(s){let e;if("el"in s){const t=s.el,o=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=ek(i,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ip(s,e){return(history.state?history.state.position-e:-1)+s}const N0=new Map;function sk(s,e){N0.set(s,e)}function nk(s){const e=N0.get(s);return N0.delete(s),e}let ok=()=>location.protocol+"//"+location.host;function X_(s,e){const{pathname:t,search:o,hash:i}=e,r=s.indexOf("#");if(r>-1){let l=i.includes(s.slice(r))?s.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),jp(c,"")}return jp(t,s)+o+i}function ik(s,e,t,o){let i=[],r=[],a=null;const l=({state:p})=>{const _=X_(s,location),v=t.value,x=e.value;let w=0;if(p){if(t.value=_,e.value=p,a&&a===v){a=null;return}w=x?p.position-x.position:0}else o(_);i.forEach(b=>{b(t.value,v,{delta:w,type:nl.pop,direction:w?w>0?La.forward:La.back:La.unknown})})};function c(){a=t.value}function u(p){i.push(p);const _=()=>{const v=i.indexOf(p);v>-1&&i.splice(v,1)};return r.push(_),_}function m(){const{history:p}=window;p.state&&p.replaceState(Rt({},p.state,{scroll:jc()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",m),{pauseListeners:c,listen:u,destroy:h}}function Op(s,e,t,o=!1,i=!1){return{back:s,current:e,forward:t,replaced:o,position:window.history.length,scroll:i?jc():null}}function rk(s){const{history:e,location:t}=window,o={value:X_(s,t)},i={value:e.state};i.value||r(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,u,m){const h=s.indexOf("#"),p=h>-1?(t.host&&document.querySelector("base")?s:s.slice(h))+c:ok()+s+c;try{e[m?"replaceState":"pushState"](u,"",p),i.value=u}catch{t[m?"replace":"assign"](p)}}function a(c,u){const m=Rt({},e.state,Op(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});r(c,m,!0),o.value=c}function l(c,u){const m=Rt({},i.value,e.state,{forward:c,scroll:jc()});r(m.current,m,!0);const h=Rt({},Op(o.value,c,null),{position:m.position+1},u);r(c,h,!1),o.value=c}return{location:o,state:i,push:l,replace:a}}function ak(s){s=J5(s);const e=rk(s),t=ik(s,e.state,e.location,e.replace);function o(r,a=!0){a||t.pauseListeners(),history.go(r)}const i=Rt({location:"",base:s,go:o,createHref:Z5.bind(null,s)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function lk(s){return typeof s=="string"||s&&typeof s=="object"}function J_(s){return typeof s=="string"||typeof s=="symbol"}const Wo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Q_=Symbol("");var Lp;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(Lp||(Lp={}));function jr(s,e){return Rt(new Error,{type:s,[Q_]:!0},e)}function wo(s,e){return s instanceof Error&&Q_ in s&&(e==null||!!(s.type&e))}const Fp="[^/]+?",dk={sensitive:!1,strict:!1,start:!0,end:!0},ck=/[.+*?^${}()[\]/\\]/g;function uk(s,e){const t=Rt({},dk,e),o=[];let i=t.start?"^":"";const r=[];for(const u of s){const m=u.length?[]:[90];t.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const p=u[h];let _=40+(t.sensitive?.25:0);if(p.type===0)h||(i+="/"),i+=p.value.replace(ck,"\\$&"),_+=40;else if(p.type===1){const{value:v,repeatable:x,optional:w,regexp:b}=p;r.push({name:v,repeatable:x,optional:w});const k=b||Fp;if(k!==Fp){_+=10;try{new RegExp(`(${k})`)}catch($){throw new Error(`Invalid custom RegExp for param "${v}" (${k}): `+$.message)}}let C=x?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(C=w&&u.length<2?`(?:/${C})`:"/"+C),w&&(C+="?"),i+=C,_+=20,w&&(_+=-8),x&&(_+=-20),k===".*"&&(_+=-50)}m.push(_)}o.push(m)}if(t.strict&&t.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const a=new RegExp(i,t.sensitive?"":"i");function l(u){const m=u.match(a),h={};if(!m)return null;for(let p=1;p<m.length;p++){const _=m[p]||"",v=r[p-1];h[v.name]=_&&v.repeatable?_.split("/"):_}return h}function c(u){let m="",h=!1;for(const p of s){(!h||!m.endsWith("/"))&&(m+="/"),h=!1;for(const _ of p)if(_.type===0)m+=_.value;else if(_.type===1){const{value:v,repeatable:x,optional:w}=_,b=v in u?u[v]:"";if(eo(b)&&!x)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const k=eo(b)?b.join("/"):b;if(!k)if(w)p.length<2&&(m.endsWith("/")?m=m.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);m+=k}}return m||"/"}return{re:a,score:o,keys:r,parse:l,stringify:c}}function mk(s,e){let t=0;for(;t<s.length&&t<e.length;){const o=e[t]-s[t];if(o)return o;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function fk(s,e){let t=0;const o=s.score,i=e.score;for(;t<o.length&&t<i.length;){const r=mk(o[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-o.length)===1){if(Np(o))return 1;if(Np(i))return-1}return i.length-o.length}function Np(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const pk={type:0,value:""},hk=/[a-zA-Z0-9_]/;function gk(s){if(!s)return[[]];if(s==="/")return[[pk]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(_){throw new Error(`ERR (${t})/"${u}": ${_}`)}let t=0,o=t;const i=[];let r;function a(){r&&i.push(r),r=[]}let l=0,c,u="",m="";function h(){u&&(t===0?r.push({type:0,value:u}):t===1||t===2||t===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:m,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=c}for(;l<s.length;){if(c=s[l++],c==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:c==="/"?(u&&h(),a()):c===":"?(h(),t=1):p();break;case 4:p(),t=o;break;case 1:c==="("?t=2:hk.test(c)?p():(h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+c:t=3:m+=c;break;case 3:h(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,m="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),a(),i}function _k(s,e,t){const o=uk(gk(s.path),t),i=Rt(o,{record:s,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function vk(s,e){const t=[],o=new Map;e=Bp({strict:!1,end:!0,sensitive:!1},e);function i(m){return o.get(m)}function r(m,h,p){const _=!p,v=yk(m);v.aliasOf=p&&p.record;const x=Bp(e,m),w=[v];if("alias"in m){const C=typeof m.alias=="string"?[m.alias]:m.alias;for(const $ of C)w.push(Rt({},v,{components:p?p.record.components:v.components,path:$,aliasOf:p?p.record:v}))}let b,k;for(const C of w){const{path:$}=C;if(h&&$[0]!=="/"){const A=h.record.path,R=A[A.length-1]==="/"?"":"/";C.path=h.record.path+($&&R+$)}if(b=_k(C,h,x),p?p.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),_&&m.name&&!Up(b)&&a(m.name)),v.children){const A=v.children;for(let R=0;R<A.length;R++)r(A[R],b,p&&p.children[R])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return k?()=>{a(k)}:Oa}function a(m){if(J_(m)){const h=o.get(m);h&&(o.delete(m),t.splice(t.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=t.indexOf(m);h>-1&&(t.splice(h,1),m.record.name&&o.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function l(){return t}function c(m){let h=0;for(;h<t.length&&fk(m,t[h])>=0&&(m.record.path!==t[h].record.path||!Z_(m,t[h]));)h++;t.splice(h,0,m),m.record.name&&!Up(m)&&o.set(m.record.name,m)}function u(m,h){let p,_={},v,x;if("name"in m&&m.name){if(p=o.get(m.name),!p)throw jr(1,{location:m});x=p.record.name,_=Rt(zp(h.params,p.keys.filter(k=>!k.optional).map(k=>k.name)),m.params&&zp(m.params,p.keys.map(k=>k.name))),v=p.stringify(_)}else if("path"in m)v=m.path,p=t.find(k=>k.re.test(v)),p&&(_=p.parse(v),x=p.record.name);else{if(p=h.name?o.get(h.name):t.find(k=>k.re.test(h.path)),!p)throw jr(1,{location:m,currentLocation:h});x=p.record.name,_=Rt({},h.params,m.params),v=p.stringify(_)}const w=[];let b=p;for(;b;)w.unshift(b.record),b=b.parent;return{name:x,path:v,params:_,matched:w,meta:bk(w)}}return s.forEach(m=>r(m)),{addRoute:r,resolve:u,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function zp(s,e){const t={};for(const o of e)o in s&&(t[o]=s[o]);return t}function yk(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:xk(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function xk(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const o in s.components)e[o]=typeof t=="boolean"?t:t[o];return e}function Up(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function bk(s){return s.reduce((e,t)=>Rt(e,t.meta),{})}function Bp(s,e){const t={};for(const o in s)t[o]=o in e?e[o]:s[o];return t}function Z_(s,e){return e.children.some(t=>t===s||Z_(s,t))}const ev=/#/g,wk=/&/g,kk=/\//g,$k=/=/g,Ck=/\?/g,tv=/\+/g,Sk=/%5B/g,Mk=/%5D/g,sv=/%5E/g,Tk=/%60/g,nv=/%7B/g,Dk=/%7C/g,ov=/%7D/g,Ak=/%20/g;function zm(s){return encodeURI(""+s).replace(Dk,"|").replace(Sk,"[").replace(Mk,"]")}function Pk(s){return zm(s).replace(nv,"{").replace(ov,"}").replace(sv,"^")}function z0(s){return zm(s).replace(tv,"%2B").replace(Ak,"+").replace(ev,"%23").replace(wk,"%26").replace(Tk,"`").replace(nv,"{").replace(ov,"}").replace(sv,"^")}function Ek(s){return z0(s).replace($k,"%3D")}function jk(s){return zm(s).replace(ev,"%23").replace(Ck,"%3F")}function Rk(s){return s==null?"":jk(s).replace(kk,"%2F")}function Gd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function Ik(s){const e={};if(s===""||s==="?")return e;const o=(s[0]==="?"?s.slice(1):s).split("&");for(let i=0;i<o.length;++i){const r=o[i].replace(tv," "),a=r.indexOf("="),l=Gd(a<0?r:r.slice(0,a)),c=a<0?null:Gd(r.slice(a+1));if(l in e){let u=e[l];eo(u)||(u=e[l]=[u]),u.push(c)}else e[l]=c}return e}function Vp(s){let e="";for(let t in s){const o=s[t];if(t=Ek(t),o==null){o!==void 0&&(e+=(e.length?"&":"")+t);continue}(eo(o)?o.map(r=>r&&z0(r)):[o&&z0(o)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function Ok(s){const e={};for(const t in s){const o=s[t];o!==void 0&&(e[t]=eo(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return e}const iv=Symbol(""),Hp=Symbol(""),Rc=Symbol(""),Um=Symbol(""),U0=Symbol("");function ra(){let s=[];function e(o){return s.push(o),()=>{const i=s.indexOf(o);i>-1&&s.splice(i,1)}}function t(){s=[]}return{add:e,list:()=>s,reset:t}}function Lk(s,e,t){const o=()=>{s[e].delete(t)};Ks(o),m_(o),u_(()=>{s[e].add(t)}),s[e].add(t)}function Fk(s){const e=Ze(iv,{}).value;e&&Lk(e,"updateGuards",s)}function Jo(s,e,t,o,i){const r=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(jr(4,{from:t,to:e})):h instanceof Error?l(h):lk(h)?l(jr(2,{from:e,to:h})):(r&&o.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),a())},u=s.call(o&&o.instances[i],e,t,c);let m=Promise.resolve(u);s.length<3&&(m=m.then(c)),m.catch(h=>l(h))})}function zu(s,e,t,o){const i=[];for(const r of s)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(Nk(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Jo(u,t,o,r,a))}else{let c=l();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const m=H5(u)?u.default:u;r.components[a]=m;const p=(m.__vccOpts||m)[e];return p&&Jo(p,t,o,r,a)()}))}}return i}function Nk(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function qp(s){const e=Ze(Rc),t=Ze(Um),o=Me(()=>e.resolve(f(s.to))),i=Me(()=>{const{matched:c}=o.value,{length:u}=c,m=c[u-1],h=t.matched;if(!m||!h.length)return-1;const p=h.findIndex(Er.bind(null,m));if(p>-1)return p;const _=Wp(c[u-2]);return u>1&&Wp(m)===_&&h[h.length-1].path!==_?h.findIndex(Er.bind(null,c[u-2])):p}),r=Me(()=>i.value>-1&&Vk(t.params,o.value.params)),a=Me(()=>i.value>-1&&i.value===t.matched.length-1&&G_(t.params,o.value.params));function l(c={}){return Bk(c)?e[f(s.replace)?"replace":"push"](f(s.to)).catch(Oa):Promise.resolve()}return{route:o,href:Me(()=>o.value.href),isActive:r,isExactActive:a,navigate:l}}const zk=ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qp,setup(s,{slots:e}){const t=at(qp(s)),{options:o}=Ze(Rc),i=Me(()=>({[Kp(s.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[Kp(s.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return s.custom?r:Ot("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),Uk=zk;function Bk(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function Vk(s,e){for(const t in e){const o=e[t],i=s[t];if(typeof o=="string"){if(o!==i)return!1}else if(!eo(i)||i.length!==o.length||o.some((r,a)=>r!==i[a]))return!1}return!0}function Wp(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Kp=(s,e,t)=>s??e??t,Hk=ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const o=Ze(U0),i=Me(()=>s.route||o.value),r=Ze(Hp,0),a=Me(()=>{let u=f(r);const{matched:m}=i.value;let h;for(;(h=m[u])&&!h.components;)u++;return u}),l=Me(()=>i.value.matched[a.value]);As(Hp,Me(()=>a.value+1)),As(iv,l),As(U0,i);const c=E();return Pt(()=>[c.value,l.value,s.name],([u,m,h],[p,_,v])=>{m&&(m.instances[h]=u,_&&_!==m&&u&&u===p&&(m.leaveGuards.size||(m.leaveGuards=_.leaveGuards),m.updateGuards.size||(m.updateGuards=_.updateGuards))),u&&m&&(!_||!Er(m,_)||!p)&&(m.enterCallbacks[h]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=i.value,m=s.name,h=l.value,p=h&&h.components[m];if(!p)return Yp(t.default,{Component:p,route:u});const _=h.props[m],v=_?_===!0?u.params:typeof _=="function"?_(u):_:null,w=Ot(p,Rt({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[m]=null)},ref:c}));return Yp(t.default,{Component:w,route:u})||w}}});function Yp(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const Bm=Hk;function qk(s){const e=vk(s.routes,s),t=s.parseQuery||Ik,o=s.stringifyQuery||Vp,i=s.history,r=ra(),a=ra(),l=ra(),c=K1(Wo);let u=Wo;_r&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Fu.bind(null,pe=>""+pe),h=Fu.bind(null,Rk),p=Fu.bind(null,Gd);function _(pe,Ce){let Te,Ue;return J_(pe)?(Te=e.getRecordMatcher(pe),Ue=Ce):Ue=pe,e.addRoute(Ue,Te)}function v(pe){const Ce=e.getRecordMatcher(pe);Ce&&e.removeRoute(Ce)}function x(){return e.getRoutes().map(pe=>pe.record)}function w(pe){return!!e.getRecordMatcher(pe)}function b(pe,Ce){if(Ce=Rt({},Ce||c.value),typeof pe=="string"){const fe=Nu(t,pe,Ce.path),B=e.resolve({path:fe.path},Ce),Q=i.createHref(fe.fullPath);return Rt(fe,B,{params:p(B.params),hash:Gd(fe.hash),redirectedFrom:void 0,href:Q})}let Te;if("path"in pe)Te=Rt({},pe,{path:Nu(t,pe.path,Ce.path).path});else{const fe=Rt({},pe.params);for(const B in fe)fe[B]==null&&delete fe[B];Te=Rt({},pe,{params:h(pe.params)}),Ce.params=h(Ce.params)}const Ue=e.resolve(Te,Ce),tt=pe.hash||"";Ue.params=m(p(Ue.params));const Oe=K5(o,Rt({},pe,{hash:Pk(tt),path:Ue.path})),me=i.createHref(Oe);return Rt({fullPath:Oe,hash:tt,query:o===Vp?Ok(pe.query):pe.query||{}},Ue,{redirectedFrom:void 0,href:me})}function k(pe){return typeof pe=="string"?Nu(t,pe,c.value.path):Rt({},pe)}function C(pe,Ce){if(u!==pe)return jr(8,{from:Ce,to:pe})}function $(pe){return T(pe)}function A(pe){return $(Rt(k(pe),{replace:!0}))}function R(pe){const Ce=pe.matched[pe.matched.length-1];if(Ce&&Ce.redirect){const{redirect:Te}=Ce;let Ue=typeof Te=="function"?Te(pe):Te;return typeof Ue=="string"&&(Ue=Ue.includes("?")||Ue.includes("#")?Ue=k(Ue):{path:Ue},Ue.params={}),Rt({query:pe.query,hash:pe.hash,params:"path"in Ue?{}:pe.params},Ue)}}function T(pe,Ce){const Te=u=b(pe),Ue=c.value,tt=pe.state,Oe=pe.force,me=pe.replace===!0,fe=R(Te);if(fe)return T(Rt(k(fe),{state:typeof fe=="object"?Rt({},tt,fe.state):tt,force:Oe,replace:me}),Ce||Te);const B=Te;B.redirectedFrom=Ce;let Q;return!Oe&&Y5(o,Ue,Te)&&(Q=jr(16,{to:B,from:Ue}),ie(Ue,Ue,!0,!1)),(Q?Promise.resolve(Q):L(B,Ue)).catch(ee=>wo(ee)?wo(ee,2)?ee:G(ee):q(ee,B,Ue)).then(ee=>{if(ee){if(wo(ee,2))return T(Rt({replace:me},k(ee.to),{state:typeof ee.to=="object"?Rt({},tt,ee.to.state):tt,force:Oe}),Ce||B)}else ee=N(B,Ue,!0,me,tt);return D(B,Ue,ee),ee})}function F(pe,Ce){const Te=C(pe,Ce);return Te?Promise.reject(Te):Promise.resolve()}function L(pe,Ce){let Te;const[Ue,tt,Oe]=Wk(pe,Ce);Te=zu(Ue.reverse(),"beforeRouteLeave",pe,Ce);for(const fe of Ue)fe.leaveGuards.forEach(B=>{Te.push(Jo(B,pe,Ce))});const me=F.bind(null,pe,Ce);return Te.push(me),ur(Te).then(()=>{Te=[];for(const fe of r.list())Te.push(Jo(fe,pe,Ce));return Te.push(me),ur(Te)}).then(()=>{Te=zu(tt,"beforeRouteUpdate",pe,Ce);for(const fe of tt)fe.updateGuards.forEach(B=>{Te.push(Jo(B,pe,Ce))});return Te.push(me),ur(Te)}).then(()=>{Te=[];for(const fe of pe.matched)if(fe.beforeEnter&&!Ce.matched.includes(fe))if(eo(fe.beforeEnter))for(const B of fe.beforeEnter)Te.push(Jo(B,pe,Ce));else Te.push(Jo(fe.beforeEnter,pe,Ce));return Te.push(me),ur(Te)}).then(()=>(pe.matched.forEach(fe=>fe.enterCallbacks={}),Te=zu(Oe,"beforeRouteEnter",pe,Ce),Te.push(me),ur(Te))).then(()=>{Te=[];for(const fe of a.list())Te.push(Jo(fe,pe,Ce));return Te.push(me),ur(Te)}).catch(fe=>wo(fe,8)?fe:Promise.reject(fe))}function D(pe,Ce,Te){for(const Ue of l.list())Ue(pe,Ce,Te)}function N(pe,Ce,Te,Ue,tt){const Oe=C(pe,Ce);if(Oe)return Oe;const me=Ce===Wo,fe=_r?history.state:{};Te&&(Ue||me?i.replace(pe.fullPath,Rt({scroll:me&&fe&&fe.scroll},tt)):i.push(pe.fullPath,tt)),c.value=pe,ie(pe,Ce,Te,me),G()}let P;function U(){P||(P=i.listen((pe,Ce,Te)=>{if(!pt.listening)return;const Ue=b(pe),tt=R(Ue);if(tt){T(Rt(tt,{replace:!0}),Ue).catch(Oa);return}u=Ue;const Oe=c.value;_r&&sk(Ip(Oe.fullPath,Te.delta),jc()),L(Ue,Oe).catch(me=>wo(me,12)?me:wo(me,2)?(T(me.to,Ue).then(fe=>{wo(fe,20)&&!Te.delta&&Te.type===nl.pop&&i.go(-1,!1)}).catch(Oa),Promise.reject()):(Te.delta&&i.go(-Te.delta,!1),q(me,Ue,Oe))).then(me=>{me=me||N(Ue,Oe,!1),me&&(Te.delta&&!wo(me,8)?i.go(-Te.delta,!1):Te.type===nl.pop&&wo(me,20)&&i.go(-1,!1)),D(Ue,Oe,me)}).catch(Oa)}))}let ye=ra(),le=ra(),de;function q(pe,Ce,Te){G(pe);const Ue=le.list();return Ue.length&&Ue.forEach(tt=>tt(pe,Ce,Te)),Promise.reject(pe)}function ne(){return de&&c.value!==Wo?Promise.resolve():new Promise((pe,Ce)=>{ye.add([pe,Ce])})}function G(pe){return de||(de=!pe,U(),ye.list().forEach(([Ce,Te])=>pe?Te(pe):Ce()),ye.reset()),pe}function ie(pe,Ce,Te,Ue){const{scrollBehavior:tt}=s;if(!_r||!tt)return Promise.resolve();const Oe=!Te&&nk(Ip(pe.fullPath,0))||(Ue||!Te)&&history.state&&history.state.scroll||null;return Tn().then(()=>tt(pe,Ce,Oe)).then(me=>me&&tk(me)).catch(me=>q(me,pe,Ce))}const $e=pe=>i.go(pe);let we;const Qe=new Set,pt={currentRoute:c,listening:!0,addRoute:_,removeRoute:v,hasRoute:w,getRoutes:x,resolve:b,options:s,push:$,replace:A,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:le.add,isReady:ne,install(pe){const Ce=this;pe.component("RouterLink",Uk),pe.component("RouterView",Bm),pe.config.globalProperties.$router=Ce,Object.defineProperty(pe.config.globalProperties,"$route",{enumerable:!0,get:()=>f(c)}),_r&&!we&&c.value===Wo&&(we=!0,$(i.location).catch(tt=>{}));const Te={};for(const tt in Wo)Te[tt]=Me(()=>c.value[tt]);pe.provide(Rc,Ce),pe.provide(Um,at(Te)),pe.provide(U0,c);const Ue=pe.unmount;Qe.add(pe),pe.unmount=function(){Qe.delete(pe),Qe.size<1&&(u=Wo,P&&P(),P=null,c.value=Wo,we=!1,de=!1),Ue()}}};return pt}function ur(s){return s.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function Wk(s,e){const t=[],o=[],i=[],r=Math.max(e.matched.length,s.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(s.matched.find(u=>Er(u,l))?o.push(l):t.push(l));const c=s.matched[a];c&&(e.matched.find(u=>Er(u,c))||i.push(c))}return[t,o,i]}function gn(){return Ze(Rc)}function Vr(){return Ze(Um)}function Vm(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(e=>setTimeout(()=>{throw e}))}function _l(){let s=[],e={addEventListener(t,o,i,r){return t.addEventListener(o,i,r),e.add(()=>t.removeEventListener(o,i,r))},requestAnimationFrame(...t){let o=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(o))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let o=setTimeout(...t);e.add(()=>clearTimeout(o))},microTask(...t){let o={current:!0};return Vm(()=>{o.current&&t[0]()}),e.add(()=>{o.current=!1})},style(t,o,i){let r=t.style.getPropertyValue(o);return Object.assign(t.style,{[o]:i}),this.add(()=>{Object.assign(t.style,{[o]:r})})},group(t){let o=_l();return t(o),this.add(()=>o.dispose())},add(t){return s.push(t),()=>{let o=s.indexOf(t);if(o>=0)for(let i of s.splice(o,1))i()}},dispose(){for(let t of s.splice(0))t()}};return e}var Gp;let Kk=Symbol("headlessui.useid"),Yk=0;const Hr=(Gp=tw)!=null?Gp:function(){return Ze(Kk,()=>`${++Yk}`)()};function yt(s){var e;if(s==null||s.value==null)return null;let t=(e=s.value.$el)!=null?e:s.value;return t instanceof Node?t:null}function to(s,e,...t){if(s in e){let i=e[s];return typeof i=="function"?i(...t):i}let o=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,to),o}var Gk=Object.defineProperty,Xk=(s,e,t)=>e in s?Gk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Xp=(s,e,t)=>(Xk(s,typeof e!="symbol"?e+"":e,t),t);let Jk=class{constructor(){Xp(this,"current",this.detect()),Xp(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},vl=new Jk;function xi(s){if(vl.isServer)return null;if(s instanceof Node)return s.ownerDocument;if(s!=null&&s.hasOwnProperty("value")){let e=yt(s);if(e)return e.ownerDocument}return document}let B0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var fo=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(fo||{}),rv=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(rv||{}),Qk=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(Qk||{});function av(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(B0)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Hm=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(Hm||{});function qm(s,e=0){var t;return s===((t=xi(s))==null?void 0:t.body)?!1:to(e,{0(){return s.matches(B0)},1(){let o=s;for(;o!==null;){if(o.matches(B0))return!0;o=o.parentElement}return!1}})}function lv(s){let e=xi(s);Tn(()=>{e&&!qm(e.activeElement,0)&&ci(s)})}var Zk=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(Zk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ci(s){s==null||s.focus({preventScroll:!0})}let e4=["textarea","input"].join(",");function t4(s){var e,t;return(t=(e=s==null?void 0:s.matches)==null?void 0:e.call(s,e4))!=null?t:!1}function dv(s,e=t=>t){return s.slice().sort((t,o)=>{let i=e(t),r=e(o);if(i===null||r===null)return 0;let a=i.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function s4(s,e){return Fa(av(),e,{relativeTo:s})}function Fa(s,e,{sorted:t=!0,relativeTo:o=null,skipElements:i=[]}={}){var r;let a=(r=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s==null?void 0:s.ownerDocument)!=null?r:document,l=Array.isArray(s)?t?dv(s):s:av(s);i.length>0&&l.length>1&&(l=l.filter(v=>!i.includes(v))),o=o??a.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(o))-1;if(e&4)return Math.max(0,l.indexOf(o))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},h=0,p=l.length,_;do{if(h>=p||h+p<=0)return 0;let v=u+h;if(e&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}_=l[v],_==null||_.focus(m),h+=c}while(_!==a.activeElement);return e&6&&t4(_)&&_.select(),2}function cv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function n4(){return/Android/gi.test(window.navigator.userAgent)}function o4(){return cv()||n4()}function Fl(s,e,t){vl.isServer||pn(o=>{document.addEventListener(s,e,t),o(()=>document.removeEventListener(s,e,t))})}function uv(s,e,t){vl.isServer||pn(o=>{window.addEventListener(s,e,t),o(()=>window.removeEventListener(s,e,t))})}function mv(s,e,t=Me(()=>!0)){function o(r,a){if(!t.value||r.defaultPrevented)return;let l=a(r);if(l===null||!l.getRootNode().contains(l))return;let c=function u(m){return typeof m=="function"?u(m()):Array.isArray(m)||m instanceof Set?m:[m]}(s);for(let u of c){if(u===null)continue;let m=u instanceof HTMLElement?u:yt(u);if(m!=null&&m.contains(l)||r.composed&&r.composedPath().includes(m))return}return!qm(l,Hm.Loose)&&l.tabIndex!==-1&&r.preventDefault(),e(r,l)}let i=E(null);Fl("pointerdown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Fl("mousedown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Fl("click",r=>{o4()||i.value&&(o(r,()=>i.value),i.value=null)},!0),Fl("touchend",r=>o(r,()=>r.target instanceof HTMLElement?r.target:null),!0),uv("blur",r=>o(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Jp(s,e){if(s)return s;let t=e??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function i4(s,e){let t=E(Jp(s.value.type,s.value.as));return Ne(()=>{t.value=Jp(s.value.type,s.value.as)}),pn(()=>{var o;t.value||yt(e)&&yt(e)instanceof HTMLButtonElement&&!((o=yt(e))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function Qp(s){return[s.screenX,s.screenY]}function r4(){let s=E([-1,-1]);return{wasMoved(e){let t=Qp(e);return s.value[0]===t[0]&&s.value[1]===t[1]?!1:(s.value=t,!0)},update(e){s.value=Qp(e)}}}function a4({container:s,accept:e,walk:t,enabled:o}){pn(()=>{let i=s.value;if(!i||o!==void 0&&!o.value)return;let r=xi(s);if(!r)return;let a=Object.assign(c=>e(c),{acceptNode:e}),l=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)t(l.currentNode)})}var Rr=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(Rr||{}),ei=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(ei||{});function Dn({visible:s=!0,features:e=0,ourProps:t,theirProps:o,...i}){var r;let a=pv(o,t),l=Object.assign(i,{props:a});if(s||e&2&&a.static)return Uu(l);if(e&1){let c=(r=a.unmount)==null||r?0:1;return to(c,{0(){return null},1(){return Uu({...i,props:{...a,hidden:!0,style:{display:"none"}}})}})}return Uu(l)}function Uu({props:s,attrs:e,slots:t,slot:o,name:i}){var r,a;let{as:l,...c}=hv(s,["unmount","static"]),u=(r=t.default)==null?void 0:r.call(t,o),m={};if(o){let h=!1,p=[];for(let[_,v]of Object.entries(o))typeof v=="boolean"&&(h=!0),v===!0&&p.push(_);h&&(m["data-headlessui-state"]=p.join(" "))}if(l==="template"){if(u=fv(u??[]),Object.keys(c).length>0||Object.keys(e).length>0){let[h,...p]=u??[];if(!l4(h)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(e)).map(x=>x.trim()).filter((x,w,b)=>b.indexOf(x)===w).sort((x,w)=>x.localeCompare(w)).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let _=pv((a=h.props)!=null?a:{},c,m),v=Lo(h,_,!0);for(let x in _)x.startsWith("on")&&(v.props||(v.props={}),v.props[x]=_[x]);return v}return Array.isArray(u)&&u.length===1?u[0]:u}return Ot(l,Object.assign({},c,m),{default:()=>u})}function fv(s){return s.flatMap(e=>e.type===oe?fv(e.children):[e])}function pv(...s){if(s.length===0)return{};if(s.length===1)return s[0];let e={},t={};for(let o of s)for(let i in o)i.startsWith("on")&&typeof o[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(o[i])):e[i]=o[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(e,{[o](i,...r){let a=t[o];for(let l of a){if(i instanceof Event&&i.defaultPrevented)return;l(i,...r)}}});return e}function hv(s,e=[]){let t=Object.assign({},s);for(let o of e)o in t&&delete t[o];return t}function l4(s){return s==null?!1:typeof s.type=="string"||typeof s.type=="object"||typeof s.type=="function"}var Xd=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(Xd||{});let V0=ve({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(s,{slots:e,attrs:t}){return()=>{var o;let{features:i,...r}=s,a={"aria-hidden":(i&2)===2?!0:(o=r["aria-hidden"])!=null?o:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Dn({ourProps:a,theirProps:r,slot:{},attrs:t,slots:e,name:"Hidden"})}}}),gv=Symbol("Context");var Ms=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(Ms||{});function d4(){return Ic()!==null}function Ic(){return Ze(gv,null)}function _v(s){As(gv,s)}var ks=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(ks||{});function c4(s){function e(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Vi=[];c4(()=>{function s(e){e.target instanceof HTMLElement&&e.target!==document.body&&Vi[0]!==e.target&&(Vi.unshift(e.target),Vi=Vi.filter(t=>t!=null&&t.isConnected),Vi.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function u4(s){throw new Error("Unexpected object: "+s)}var Mn=(s=>(s[s.First=0]="First",s[s.Previous=1]="Previous",s[s.Next=2]="Next",s[s.Last=3]="Last",s[s.Specific=4]="Specific",s[s.Nothing=5]="Nothing",s))(Mn||{});function m4(s,e){let t=e.resolveItems();if(t.length<=0)return null;let o=e.resolveActiveIndex(),i=o??-1;switch(s.focus){case 0:{for(let r=0;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 1:{i===-1&&(i=t.length);for(let r=i-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=i+1;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(e.resolveId(t[r],r,t)===s.id)return r;return o}case 5:return null;default:u4(s)}}function vv(s,e,t,o){vl.isServer||pn(i=>{s=s??window,s.addEventListener(e,t,o),i(()=>s.removeEventListener(e,t,o))})}var va=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(va||{});function f4(){let s=E(0);return uv("keydown",e=>{e.key==="Tab"&&(s.value=e.shiftKey?1:0)}),s}function yv(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let e=new Set;for(let t of s.value){let o=yt(t);o instanceof HTMLElement&&e.add(o)}return e}var xv=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(xv||{});let aa=Object.assign(ve({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:E(new Set)}},inheritAttrs:!1,setup(s,{attrs:e,slots:t,expose:o}){let i=E(null);o({el:i,$el:i});let r=Me(()=>xi(i)),a=E(!1);Ne(()=>a.value=!0),Ks(()=>a.value=!1),h4({ownerDocument:r},Me(()=>a.value&&!!(s.features&16)));let l=g4({ownerDocument:r,container:i,initialFocus:Me(()=>s.initialFocus)},Me(()=>a.value&&!!(s.features&2)));_4({ownerDocument:r,container:i,containers:s.containers,previousActiveElement:l},Me(()=>a.value&&!!(s.features&8)));let c=f4();function u(_){let v=yt(i);v&&(x=>x())(()=>{to(c.value,{[va.Forwards]:()=>{Fa(v,fo.First,{skipElements:[_.relatedTarget]})},[va.Backwards]:()=>{Fa(v,fo.Last,{skipElements:[_.relatedTarget]})}})})}let m=E(!1);function h(_){_.key==="Tab"&&(m.value=!0,requestAnimationFrame(()=>{m.value=!1}))}function p(_){if(!a.value)return;let v=yv(s.containers);yt(i)instanceof HTMLElement&&v.add(yt(i));let x=_.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(bv(v,x)||(m.value?Fa(yt(i),to(c.value,{[va.Forwards]:()=>fo.Next,[va.Backwards]:()=>fo.Previous})|fo.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&ci(_.target)))}return()=>{let _={},v={ref:i,onKeydown:h,onFocusout:p},{features:x,initialFocus:w,containers:b,...k}=s;return Ot(oe,[!!(x&4)&&Ot(V0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Xd.Focusable}),Dn({ourProps:v,theirProps:{...e,...k},slot:_,attrs:e,slots:t,name:"FocusTrap"}),!!(x&4)&&Ot(V0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Xd.Focusable})])}}}),{features:xv});function p4(s){let e=E(Vi.slice());return Pt([s],([t],[o])=>{o===!0&&t===!1?Vm(()=>{e.value.splice(0)}):o===!1&&t===!0&&(e.value=Vi.slice())},{flush:"post"}),()=>{var t;return(t=e.value.find(o=>o!=null&&o.isConnected))!=null?t:null}}function h4({ownerDocument:s},e){let t=p4(e);Ne(()=>{pn(()=>{var o,i;e.value||((o=s.value)==null?void 0:o.activeElement)===((i=s.value)==null?void 0:i.body)&&ci(t())},{flush:"post"})}),Ks(()=>{e.value&&ci(t())})}function g4({ownerDocument:s,container:e,initialFocus:t},o){let i=E(null),r=E(!1);return Ne(()=>r.value=!0),Ks(()=>r.value=!1),Ne(()=>{Pt([e,t,o],(a,l)=>{if(a.every((u,m)=>(l==null?void 0:l[m])===u)||!o.value)return;let c=yt(e);c&&Vm(()=>{var u,m;if(!r.value)return;let h=yt(t),p=(u=s.value)==null?void 0:u.activeElement;if(h){if(h===p){i.value=p;return}}else if(c.contains(p)){i.value=p;return}h?ci(h):(Fa(c,fo.First|fo.NoScroll),rv.Error),i.value=(m=s.value)==null?void 0:m.activeElement})},{immediate:!0,flush:"post"})}),i}function _4({ownerDocument:s,container:e,containers:t,previousActiveElement:o},i){var r;vv((r=s.value)==null?void 0:r.defaultView,"focus",a=>{if(!i.value)return;let l=yv(t);yt(e)instanceof HTMLElement&&l.add(yt(e));let c=o.value;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?bv(l,u)?(o.value=u,ci(u)):(a.preventDefault(),a.stopPropagation(),ci(c)):ci(o.value)},!0)}function bv(s,e){for(let t of s)if(t.contains(e))return!0;return!1}function v4(s){let e=K1(s.getSnapshot());return Ks(s.subscribe(()=>{e.value=s.getSnapshot()})),e}function y4(s,e){let t=s(),o=new Set;return{getSnapshot(){return t},subscribe(i){return o.add(i),()=>o.delete(i)},dispatch(i,...r){let a=e[i].call(t,...r);a&&(t=a,o.forEach(l=>l()))}}}function x4(){let s;return{before({doc:e}){var t;let o=e.documentElement;s=((t=e.defaultView)!=null?t:window).innerWidth-o.clientWidth},after({doc:e,d:t}){let o=e.documentElement,i=o.clientWidth-o.offsetWidth,r=s-i;t.style(o,"paddingRight",`${r}px`)}}}function b4(){return cv()?{before({doc:s,d:e,meta:t}){function o(i){return t.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let l=_l();l.style(s.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(s,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),m=s.querySelector(u);m&&!o(m)&&(a=m)}catch{}},!0),e.addEventListener(s,"touchstart",l=>{if(l.target instanceof HTMLElement)if(o(l.target)){let c=l.target;for(;c.parentElement&&o(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(s,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(o(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;r!==c&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function w4(){return{before({doc:s,d:e}){e.style(s.documentElement,"overflow","hidden")}}}function k4(s){let e={};for(let t of s)Object.assign(e,t(e));return e}let qi=y4(()=>new Map,{PUSH(s,e){var t;let o=(t=this.get(s))!=null?t:{doc:s,count:0,d:_l(),meta:new Set};return o.count++,o.meta.add(e),this.set(s,o),this},POP(s,e){let t=this.get(s);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:s,d:e,meta:t}){let o={doc:s,d:e,meta:k4(t)},i=[b4(),x4(),w4()];i.forEach(({before:r})=>r==null?void 0:r(o)),i.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});qi.subscribe(()=>{let s=qi.getSnapshot(),e=new Map;for(let[t]of s)e.set(t,t.documentElement.style.overflow);for(let t of s.values()){let o=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!o||!i&&o)&&qi.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&qi.dispatch("TEARDOWN",t)}});function $4(s,e,t){let o=v4(qi),i=Me(()=>{let r=s.value?o.value.get(s.value):void 0;return r?r.count>0:!1});return Pt([s,e],([r,a],[l],c)=>{if(!r||!a)return;qi.dispatch("PUSH",r,t);let u=!1;c(()=>{u||(qi.dispatch("POP",l??r,t),u=!0)})},{immediate:!0}),i}let Bu=new Map,la=new Map;function Zp(s,e=E(!0)){pn(t=>{var o;if(!e.value)return;let i=yt(s);if(!i)return;t(function(){var a;if(!i)return;let l=(a=la.get(i))!=null?a:1;if(l===1?la.delete(i):la.set(i,l-1),l!==1)return;let c=Bu.get(i);c&&(c["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",c["aria-hidden"]),i.inert=c.inert,Bu.delete(i))});let r=(o=la.get(i))!=null?o:0;la.set(i,r+1),r===0&&(Bu.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function C4({defaultContainers:s=[],portals:e,mainTreeNodeRef:t}={}){let o=E(null),i=xi(o);function r(){var a,l,c;let u=[];for(let m of s)m!==null&&(m instanceof HTMLElement?u.push(m):"value"in m&&m.value instanceof HTMLElement&&u.push(m.value));if(e!=null&&e.value)for(let m of e.value)u.push(m);for(let m of(a=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(yt(o))||m.contains((c=(l=yt(o))==null?void 0:l.getRootNode())==null?void 0:c.host)||u.some(h=>m.contains(h))||u.push(m));return u}return{resolveContainers:r,contains(a){return r().some(l=>l.contains(a))},mainTreeNodeRef:o,MainTreeNode(){return t!=null?null:Ot(V0,{features:Xd.Hidden,ref:o})}}}let wv=Symbol("ForcePortalRootContext");function S4(){return Ze(wv,!1)}let eh=ve({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(s,{slots:e,attrs:t}){return As(wv,s.force),()=>{let{force:o,...i}=s;return Dn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:t,name:"ForcePortalRoot"})}}}),kv=Symbol("StackContext");var H0=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(H0||{});function M4(){return Ze(kv,()=>{})}function T4({type:s,enabled:e,element:t,onUpdate:o}){let i=M4();function r(...a){o==null||o(...a),i(...a)}Ne(()=>{Pt(e,(a,l)=>{a?r(0,s,t):l===!0&&r(1,s,t)},{immediate:!0,flush:"sync"})}),Ks(()=>{e.value&&r(1,s,t)}),As(kv,r)}let D4=Symbol("DescriptionContext");function A4({slot:s=E({}),name:e="Description",props:t={}}={}){let o=E([]);function i(r){return o.value.push(r),()=>{let a=o.value.indexOf(r);a!==-1&&o.value.splice(a,1)}}return As(D4,{register:i,slot:s,name:e,props:t}),Me(()=>o.value.length>0?o.value.join(" "):void 0)}function P4(s){let e=xi(s);if(!e){if(s===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${s}`)}let t=e.getElementById("headlessui-portal-root");if(t)return t;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)}const q0=new WeakMap;function E4(s){var e;return(e=q0.get(s))!=null?e:0}function th(s,e){let t=e(E4(s));return t<=0?q0.delete(s):q0.set(s,t),t}let j4=ve({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:e,attrs:t}){let o=E(null),i=Me(()=>xi(o)),r=S4(),a=Ze($v,null),l=E(r===!0||a==null?P4(o.value):a.resolveTarget());l.value&&th(l.value,p=>p+1);let c=E(!1);Ne(()=>{c.value=!0}),pn(()=>{r||a!=null&&(l.value=a.resolveTarget())});let u=Ze(W0,null),m=!1,h=Br();return Pt(o,()=>{if(m||!u)return;let p=yt(o);p&&(Ks(u.register(p),h),m=!0)}),Ks(()=>{var p,_;let v=(p=i.value)==null?void 0:p.getElementById("headlessui-portal-root");!v||l.value!==v||th(l.value,x=>x-1)||l.value.children.length>0||(_=l.value.parentElement)==null||_.removeChild(l.value)}),()=>{if(!c.value||l.value===null)return null;let p={ref:o,"data-headlessui-portal":""};return Ot(kr,{to:l.value},Dn({ourProps:p,theirProps:s,slot:{},attrs:t,slots:e,name:"Portal"}))}}}),W0=Symbol("PortalParentContext");function R4(){let s=Ze(W0,null),e=E([]);function t(r){return e.value.push(r),s&&s.register(r),()=>o(r)}function o(r){let a=e.value.indexOf(r);a!==-1&&e.value.splice(a,1),s&&s.unregister(r)}let i={register:t,unregister:o,portals:e};return[e,ve({name:"PortalWrapper",setup(r,{slots:a}){return As(W0,i),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let $v=Symbol("PortalGroupContext"),I4=ve({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(s,{attrs:e,slots:t}){let o=at({resolveTarget(){return s.target}});return As($v,o),()=>{let{target:i,...r}=s;return Dn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:t,name:"PortalGroup"})}}});var O4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(O4||{});let K0=Symbol("DialogContext");function Cv(s){let e=Ze(K0,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Cv),t}return e}let Nl="DC8F892D-2EBD-447C-A4C8-A03058436FF4",L4=ve({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Nl},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:s=>!0},setup(s,{emit:e,attrs:t,slots:o,expose:i}){var r,a;let l=(r=s.id)!=null?r:`headlessui-dialog-${Hr()}`,c=E(!1);Ne(()=>{c.value=!0});let u=!1,m=Me(()=>s.role==="dialog"||s.role==="alertdialog"?s.role:(u||(u=!0),"dialog")),h=E(0),p=Ic(),_=Me(()=>s.open===Nl&&p!==null?(p.value&Ms.Open)===Ms.Open:s.open),v=E(null),x=Me(()=>xi(v));if(i({el:v,$el:v}),!(s.open!==Nl||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof _.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_.value===Nl?void 0:s.open}`);let w=Me(()=>c.value&&_.value?0:1),b=Me(()=>w.value===0),k=Me(()=>h.value>1),C=Ze(K0,null)!==null,[$,A]=R4(),{resolveContainers:R,mainTreeNodeRef:T,MainTreeNode:F}=C4({portals:$,defaultContainers:[Me(()=>{var $e;return($e=q.panelRef.value)!=null?$e:v.value})]}),L=Me(()=>k.value?"parent":"leaf"),D=Me(()=>p!==null?(p.value&Ms.Closing)===Ms.Closing:!1),N=Me(()=>C||D.value?!1:b.value),P=Me(()=>{var $e,we,Qe;return(Qe=Array.from((we=($e=x.value)==null?void 0:$e.querySelectorAll("body > *"))!=null?we:[]).find(pt=>pt.id==="headlessui-portal-root"?!1:pt.contains(yt(T))&&pt instanceof HTMLElement))!=null?Qe:null});Zp(P,N);let U=Me(()=>k.value?!0:b.value),ye=Me(()=>{var $e,we,Qe;return(Qe=Array.from((we=($e=x.value)==null?void 0:$e.querySelectorAll("[data-headlessui-portal]"))!=null?we:[]).find(pt=>pt.contains(yt(T))&&pt instanceof HTMLElement))!=null?Qe:null});Zp(ye,U),T4({type:"Dialog",enabled:Me(()=>w.value===0),element:v,onUpdate:($e,we)=>{if(we==="Dialog")return to($e,{[H0.Add]:()=>h.value+=1,[H0.Remove]:()=>h.value-=1})}});let le=A4({name:"DialogDescription",slot:Me(()=>({open:_.value}))}),de=E(null),q={titleId:de,panelRef:E(null),dialogState:w,setTitleId($e){de.value!==$e&&(de.value=$e)},close(){e("close",!1)}};As(K0,q);let ne=Me(()=>!(!b.value||k.value));mv(R,($e,we)=>{$e.preventDefault(),q.close(),Tn(()=>we==null?void 0:we.focus())},ne);let G=Me(()=>!(k.value||w.value!==0));vv((a=x.value)==null?void 0:a.defaultView,"keydown",$e=>{G.value&&($e.defaultPrevented||$e.key===ks.Escape&&($e.preventDefault(),$e.stopPropagation(),q.close()))});let ie=Me(()=>!(D.value||w.value!==0||C));return $4(x,ie,$e=>{var we;return{containers:[...(we=$e.containers)!=null?we:[],R]}}),pn($e=>{if(w.value!==0)return;let we=yt(v);if(!we)return;let Qe=new ResizeObserver(pt=>{for(let pe of pt){let Ce=pe.target.getBoundingClientRect();Ce.x===0&&Ce.y===0&&Ce.width===0&&Ce.height===0&&q.close()}});Qe.observe(we),$e(()=>Qe.disconnect())}),()=>{let{open:$e,initialFocus:we,...Qe}=s,pt={...t,ref:v,id:l,role:m.value,"aria-modal":w.value===0?!0:void 0,"aria-labelledby":de.value,"aria-describedby":le.value},pe={open:w.value===0};return Ot(eh,{force:!0},()=>[Ot(j4,()=>Ot(I4,{target:v.value},()=>Ot(eh,{force:!1},()=>Ot(aa,{initialFocus:we,containers:R,features:b.value?to(L.value,{parent:aa.features.RestoreFocus,leaf:aa.features.All&~aa.features.FocusLock}):aa.features.None},()=>Ot(A,{},()=>Dn({ourProps:pt,theirProps:{...Qe,...t},slot:pe,attrs:t,slots:o,visible:w.value===0,features:Rr.RenderStrategy|Rr.Static,name:"Dialog"})))))),Ot(F)])}}}),F4=ve({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t}){var o;let i=(o=s.id)!=null?o:`headlessui-dialog-overlay-${Hr()}`,r=Cv("DialogOverlay");function a(l){l.target===l.currentTarget&&(l.preventDefault(),l.stopPropagation(),r.close())}return()=>{let{...l}=s;return Dn({ourProps:{id:i,"aria-hidden":!0,onClick:a},theirProps:l,slot:{open:r.dialogState.value===0},attrs:e,slots:t,name:"DialogOverlay"})}}}),sh=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function nh(s){var e,t;let o=(e=s.innerText)!=null?e:"",i=s.cloneNode(!0);if(!(i instanceof HTMLElement))return o;let r=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),r=!0;let a=r?(t=i.innerText)!=null?t:"":o;return sh.test(a)&&(a=a.replace(sh,"")),a}function N4(s){let e=s.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=s.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(i=>{let r=document.getElementById(i);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():nh(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return nh(s).trim()}function z4(s){let e=E(""),t=E("");return()=>{let o=yt(s);if(!o)return"";let i=o.innerText;if(e.value===i)return t.value;let r=N4(o).trim().toLowerCase();return e.value=i,t.value=r,r}}var U4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(U4||{}),B4=(s=>(s[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s))(B4||{});function V4(s){requestAnimationFrame(()=>requestAnimationFrame(s))}let Sv=Symbol("MenuContext");function Oc(s){let e=Ze(Sv,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Oc),t}return e}let Lc=ve({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:e,attrs:t}){let o=E(1),i=E(null),r=E(null),a=E([]),l=E(""),c=E(null),u=E(1);function m(p=_=>_){let _=c.value!==null?a.value[c.value]:null,v=dv(p(a.value.slice()),w=>yt(w.dataRef.domRef)),x=_?v.indexOf(_):null;return x===-1&&(x=null),{items:v,activeItemIndex:x}}let h={menuState:o,buttonRef:i,itemsRef:r,items:a,searchQuery:l,activeItemIndex:c,activationTrigger:u,closeMenu:()=>{o.value=1,c.value=null},openMenu:()=>o.value=0,goToItem(p,_,v){let x=m(),w=m4(p===Mn.Specific?{focus:Mn.Specific,id:_}:{focus:p},{resolveItems:()=>x.items,resolveActiveIndex:()=>x.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});l.value="",c.value=w,u.value=v??1,a.value=x.items},search(p){let _=l.value!==""?0:1;l.value+=p.toLowerCase();let v=(c.value!==null?a.value.slice(c.value+_).concat(a.value.slice(0,c.value+_)):a.value).find(w=>w.dataRef.textValue.startsWith(l.value)&&!w.dataRef.disabled),x=v?a.value.indexOf(v):-1;x===-1||x===c.value||(c.value=x,u.value=1)},clearSearch(){l.value=""},registerItem(p,_){let v=m(x=>[...x,{id:p,dataRef:_}]);a.value=v.items,c.value=v.activeItemIndex,u.value=1},unregisterItem(p){let _=m(v=>{let x=v.findIndex(w=>w.id===p);return x!==-1&&v.splice(x,1),v});a.value=_.items,c.value=_.activeItemIndex,u.value=1}};return mv([i,r],(p,_)=>{var v;h.closeMenu(),qm(_,Hm.Loose)||(p.preventDefault(),(v=yt(i))==null||v.focus())},Me(()=>o.value===0)),As(Sv,h),_v(Me(()=>to(o.value,{0:Ms.Open,1:Ms.Closed}))),()=>{let p={open:o.value===0,close:h.closeMenu};return Dn({ourProps:{},theirProps:s,slot:p,slots:e,attrs:t,name:"Menu"})}}}),Fc=ve({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-button-${Hr()}`,a=Oc("MenuButton");o({el:a.buttonRef,$el:a.buttonRef});function l(h){switch(h.key){case ks.Space:case ks.Enter:case ks.ArrowDown:h.preventDefault(),h.stopPropagation(),a.openMenu(),Tn(()=>{var p;(p=yt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(Mn.First)});break;case ks.ArrowUp:h.preventDefault(),h.stopPropagation(),a.openMenu(),Tn(()=>{var p;(p=yt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(Mn.Last)});break}}function c(h){switch(h.key){case ks.Space:h.preventDefault();break}}function u(h){s.disabled||(a.menuState.value===0?(a.closeMenu(),Tn(()=>{var p;return(p=yt(a.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(h.preventDefault(),a.openMenu(),V4(()=>{var p;return(p=yt(a.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let m=i4(Me(()=>({as:s.as,type:e.type})),a.buttonRef);return()=>{var h;let p={open:a.menuState.value===0},{..._}=s,v={ref:a.buttonRef,id:r,type:m.value,"aria-haspopup":"menu","aria-controls":(h=yt(a.itemsRef))==null?void 0:h.id,"aria-expanded":a.menuState.value===0,onKeydown:l,onKeyup:c,onClick:u};return Dn({ourProps:v,theirProps:_,slot:p,attrs:e,slots:t,name:"MenuButton"})}}}),Nc=ve({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-items-${Hr()}`,a=Oc("MenuItems"),l=E(null);o({el:a.itemsRef,$el:a.itemsRef}),a4({container:Me(()=>yt(a.itemsRef)),enabled:Me(()=>a.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function c(p){var _;switch(l.value&&clearTimeout(l.value),p.key){case ks.Space:if(a.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),a.search(p.key);case ks.Enter:if(p.preventDefault(),p.stopPropagation(),a.activeItemIndex.value!==null){let v=a.items.value[a.activeItemIndex.value];(_=yt(v.dataRef.domRef))==null||_.click()}a.closeMenu(),lv(yt(a.buttonRef));break;case ks.ArrowDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(Mn.Next);case ks.ArrowUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(Mn.Previous);case ks.Home:case ks.PageUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(Mn.First);case ks.End:case ks.PageDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(Mn.Last);case ks.Escape:p.preventDefault(),p.stopPropagation(),a.closeMenu(),Tn(()=>{var v;return(v=yt(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case ks.Tab:p.preventDefault(),p.stopPropagation(),a.closeMenu(),Tn(()=>s4(yt(a.buttonRef),p.shiftKey?fo.Previous:fo.Next));break;default:p.key.length===1&&(a.search(p.key),l.value=setTimeout(()=>a.clearSearch(),350));break}}function u(p){switch(p.key){case ks.Space:p.preventDefault();break}}let m=Ic(),h=Me(()=>m!==null?(m.value&Ms.Open)===Ms.Open:a.menuState.value===0);return()=>{var p,_;let v={open:a.menuState.value===0},{...x}=s,w={"aria-activedescendant":a.activeItemIndex.value===null||(p=a.items.value[a.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(_=yt(a.buttonRef))==null?void 0:_.id,id:r,onKeydown:c,onKeyup:u,role:"menu",tabIndex:0,ref:a.itemsRef};return Dn({ourProps:w,theirProps:x,slot:v,attrs:e,slots:t,features:Rr.RenderStrategy|Rr.Static,visible:h.value,name:"MenuItems"})}}}),cn=ve({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(s,{slots:e,attrs:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-item-${Hr()}`,a=Oc("MenuItem"),l=E(null);o({el:l,$el:l});let c=Me(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===r:!1),u=z4(l),m=Me(()=>({disabled:s.disabled,get textValue(){return u()},domRef:l}));Ne(()=>a.registerItem(r,m)),Ks(()=>a.unregisterItem(r)),pn(()=>{a.menuState.value===0&&c.value&&a.activationTrigger.value!==0&&Tn(()=>{var b,k;return(k=(b=yt(l))==null?void 0:b.scrollIntoView)==null?void 0:k.call(b,{block:"nearest"})})});function h(b){if(s.disabled)return b.preventDefault();a.closeMenu(),lv(yt(a.buttonRef))}function p(){if(s.disabled)return a.goToItem(Mn.Nothing);a.goToItem(Mn.Specific,r)}let _=r4();function v(b){_.update(b)}function x(b){_.wasMoved(b)&&(s.disabled||c.value||a.goToItem(Mn.Specific,r,0))}function w(b){_.wasMoved(b)&&(s.disabled||c.value&&a.goToItem(Mn.Nothing))}return()=>{let{disabled:b,...k}=s,C={active:c.value,disabled:b,close:a.closeMenu};return Dn({ourProps:{id:r,ref:l,role:"menuitem",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,onClick:h,onFocus:p,onPointerenter:v,onMouseenter:v,onPointermove:x,onMousemove:x,onPointerleave:w,onMouseleave:w},theirProps:{...t,...k},slot:C,attrs:t,slots:e,name:"MenuItem"})}}});function H4(s){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,s(...t)}}function Vu(s,...e){s&&e.length>0&&s.classList.add(...e)}function zl(s,...e){s&&e.length>0&&s.classList.remove(...e)}var Y0=(s=>(s.Finished="finished",s.Cancelled="cancelled",s))(Y0||{});function q4(s,e){let t=_l();if(!s)return t.dispose;let{transitionDuration:o,transitionDelay:i}=getComputedStyle(s),[r,a]=[o,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,m)=>m-u);return c});return r!==0?t.setTimeout(()=>e("finished"),r+a):e("finished"),t.add(()=>e("cancelled")),t.dispose}function oh(s,e,t,o,i,r){let a=_l(),l=r!==void 0?H4(r):()=>{};return zl(s,...i),Vu(s,...e,...t),a.nextFrame(()=>{zl(s,...t),Vu(s,...o),a.add(q4(s,c=>(zl(s,...o,...e),Vu(s,...i),l(c))))}),a.add(()=>zl(s,...e,...t,...o,...i)),a.add(()=>l("cancelled")),a.dispose}function Ai(s=""){return s.split(/\s+/).filter(e=>e.length>1)}let Wm=Symbol("TransitionContext");var W4=(s=>(s.Visible="visible",s.Hidden="hidden",s))(W4||{});function K4(){return Ze(Wm,null)!==null}function Y4(){let s=Ze(Wm,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}function G4(){let s=Ze(Km,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}let Km=Symbol("NestingContext");function zc(s){return"children"in s?zc(s.children):s.value.filter(({state:e})=>e==="visible").length>0}function Mv(s){let e=E([]),t=E(!1);Ne(()=>t.value=!0),Ks(()=>t.value=!1);function o(r,a=ei.Hidden){let l=e.value.findIndex(({id:c})=>c===r);l!==-1&&(to(a,{[ei.Unmount](){e.value.splice(l,1)},[ei.Hidden](){e.value[l].state="hidden"}}),!zc(e)&&t.value&&(s==null||s()))}function i(r){let a=e.value.find(({id:l})=>l===r);return a?a.state!=="visible"&&(a.state="visible"):e.value.push({id:r,state:"visible"}),()=>o(r,ei.Unmount)}return{children:e,register:i,unregister:o}}let Tv=Rr.RenderStrategy,yd=ve({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:o,expose:i}){let r=E(0);function a(){r.value|=Ms.Opening,e("beforeEnter")}function l(){r.value&=~Ms.Opening,e("afterEnter")}function c(){r.value|=Ms.Closing,e("beforeLeave")}function u(){r.value&=~Ms.Closing,e("afterLeave")}if(!K4()&&d4())return()=>Ot(Dv,{...s,onBeforeEnter:a,onAfterEnter:l,onBeforeLeave:c,onAfterLeave:u},o);let m=E(null),h=Me(()=>s.unmount?ei.Unmount:ei.Hidden);i({el:m,$el:m});let{show:p,appear:_}=Y4(),{register:v,unregister:x}=G4(),w=E(p.value?"visible":"hidden"),b={value:!0},k=Hr(),C={value:!1},$=Mv(()=>{!C.value&&w.value!=="hidden"&&(w.value="hidden",x(k),u())});Ne(()=>{let U=v(k);Ks(U)}),pn(()=>{if(h.value===ei.Hidden&&k){if(p.value&&w.value!=="visible"){w.value="visible";return}to(w.value,{hidden:()=>x(k),visible:()=>v(k)})}});let A=Ai(s.enter),R=Ai(s.enterFrom),T=Ai(s.enterTo),F=Ai(s.entered),L=Ai(s.leave),D=Ai(s.leaveFrom),N=Ai(s.leaveTo);Ne(()=>{pn(()=>{if(w.value==="visible"){let U=yt(m);if(U instanceof Comment&&U.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function P(U){let ye=b.value&&!_.value,le=yt(m);!le||!(le instanceof HTMLElement)||ye||(C.value=!0,p.value&&a(),p.value||c(),U(p.value?oh(le,A,R,T,F,de=>{C.value=!1,de===Y0.Finished&&l()}):oh(le,L,D,N,F,de=>{C.value=!1,de===Y0.Finished&&(zc($)||(w.value="hidden",x(k),u()))})))}return Ne(()=>{Pt([p],(U,ye,le)=>{P(le),b.value=!1},{immediate:!0})}),As(Km,$),_v(Me(()=>to(w.value,{visible:Ms.Open,hidden:Ms.Closed})|r.value)),()=>{let{appear:U,show:ye,enter:le,enterFrom:de,enterTo:q,entered:ne,leave:G,leaveFrom:ie,leaveTo:$e,...we}=s,Qe={ref:m},pt={...we,..._.value&&p.value&&vl.isServer?{class:X([t.class,we.class,...A,...R])}:{}};return Dn({theirProps:pt,ourProps:Qe,slot:{},slots:o,attrs:t,features:Tv,visible:w.value==="visible",name:"TransitionChild"})}}}),X4=yd,Dv=ve({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:o}){let i=Ic(),r=Me(()=>s.show===null&&i!==null?(i.value&Ms.Open)===Ms.Open:s.show);pn(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=E(r.value?"visible":"hidden"),l=Mv(()=>{a.value="hidden"}),c=E(!0),u={show:r,appear:Me(()=>s.appear||!c.value)};return Ne(()=>{pn(()=>{c.value=!1,r.value?a.value="visible":zc(l)||(a.value="hidden")})}),As(Km,l),As(Wm,u),()=>{let m=hv(s,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),h={unmount:s.unmount};return Dn({ourProps:{...h,as:"template"},theirProps:{},slot:{},slots:{...o,default:()=>[Ot(X4,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...t,...h,...m},o.default)]},attrs:{},features:Tv,visible:a.value==="visible",name:"Transition"})}}});function J4(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})])}function Q4(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function ih(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Av(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function Z4(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})])}function Pv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function tr(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])}function e$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function t$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"})])}function Uc(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})])}function s$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})])}function n$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})])}function Ys(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function Ev(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function o$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function Ym(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])}function i$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function r$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 002.25 1.016c.896 0 1.7-.393 2.25-1.016a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72L4.318 3.44A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3 3 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.75c0 .415.336.75.75.75z"})])}function jv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})])}function nn(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])}function qr(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function a$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})])}function rh(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})])}function l$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})])}function Yt(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Rv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function Iv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function d$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})])}function Ov(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}function c$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})])}function Lv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function u$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})])}function hs(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function m$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function f$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Fv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})])}function bi(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function p$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function Bc(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Vc(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Jd(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function h$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function Hc(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])}function g$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function ah(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})])}function Fo(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function zn(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function _$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function G0(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})])}function v$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"})])}function Nv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})])}function y$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})])}function x$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Gm(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})])}function zv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function Qt(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function Uv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Wr(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}function Un(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function Hu(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})])}function qc(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})])}function lh(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function gs(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function b$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z"})])}function Xm(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])}function Qd(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function Kr(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})])}function w$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}function Gt(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function k$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function $$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}function Bv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}function Yr(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function Vv(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})])}function C$(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})])}function mn(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function ui(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const dh=[{label:"Home",uri:"/",icon:x$},{label:"My Tasks",uri:"/tasks",icon:Gm},{label:"Attendance",uri:"/attendance",icon:nn},{label:"Employees",uri:"/employees",icon:i$,permission:"employee:view"},{label:"Working Hours",uri:"/working-hours",icon:hs,attendanceAdminOnly:!0},{label:"Activity Reports",uri:"/activity-reports",icon:a$,attendanceAdminOnly:!0},{label:"Leave Requests",uri:"/leaves",icon:c$,permission:"leave:view"},{label:"Holidays",uri:"/holidays",icon:jv},{label:"Leads",uri:"/leads",icon:$$},{label:"Financial",icon:C$,children:[{label:"Payroll",uri:"/payrolls",permission:"payroll:view"},{label:"Clients",uri:"/clients",permission:"client:view"},{label:"Quotations",uri:"/quotations",permission:"quotation:view"},{label:"Expenses",uri:"/expenses",permission:"expense:view"},{label:"Income",uri:"/income",permission:"income:view"},{label:"Profit & Loss",uri:"/profit-loss"}]},{label:"Legume Business",icon:r$,children:[{label:"Dashboard",uri:"/legume"},{label:"Products",uri:"/legume/products"},{label:"Suppliers",uri:"/legume/suppliers"},{label:"Purchases",uri:"/legume/purchases"},{label:"Inventory",uri:"/legume/inventory"},{label:"Customers",uri:"/legume/customers"},{label:"Orders",uri:"/legume/orders"},{label:"Payments",uri:"/legume/payments"},{label:"Deliveries",uri:"/legume/deliveries"},{label:"Budget",uri:"/legume/budget"},{label:"Stock Alerts",uri:"/legume/alerts"},{label:"Reports",uri:"/legume/reports/monthly"}]},{label:"Team Members",uri:"/users",icon:Yr,permission:"user:view"},{label:"Service Providers",icon:J4,children:[{label:"All Providers",uri:"/service-providers",permission:"service_provider:view"},{label:"Recording Sessions",uri:"/recording-sessions",permission:"service_provider:view"},{label:"Lesson Plans",uri:"/lesson-plans",permission:"service_provider:view"},{label:"Subjects",uri:"/subjects",permission:"service_provider:view"}]},{label:"AdSense Reports",uri:"/adsense-reports",icon:qr},{label:"Video Enhancer",uri:"/video-enhancer",icon:_$},{label:"Audit Trail",uri:"/audit-trail",icon:Lv,permission:"audit:view"}],vt=at({...window.AppData}),S$={class:"space-y-1"},M$={key:0},T$=["onClick"],D$={class:"flex-1 text-left"},A$={class:"mt-1 space-y-1 pl-4"},P$=["href","onClick"],E$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},j$={class:"flex-1"},R$=["href","onClick"],I$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},O$={class:"flex-1"},L$=["onClick"],Hv=ve({__name:"SidebarNav",setup(s){const e=Ze("can"),t=Ze("__"),o=gn(),i=Me(()=>o.currentRoute.value.path),r=at({});function a(p){return p==="/"||p=="/projects"?i.value===p:i.value.startsWith(p)}function l(p){return p.some(_=>a(_.uri))}function c(p){return p.some(_=>!_.permission||e(_.permission))}function u(p){r[p]=!r[p]}function m(p){return!(p.superAdminOnly&&!vt.is_super_admin||p.attendanceAdminOnly&&!vt.is_attendance_admin||p.permission&&!e(p.permission))}function h(p){o.push(p)}return Ne(()=>{dh.forEach(p=>{p.children&&l(p.children)&&(r[p.label]=!0)})}),(p,_)=>{const v=Bt("RouterLink");return g(),y("div",S$,[(g(!0),y(oe,null,ue(f(dh),x=>(g(),y(oe,{key:x.label},[x.children&&c(x.children)?(g(),y("div",M$,[n("button",{type:"button",class:X([l(x.children)?"bg-gray-700/50 text-white":"text-gray-300 hover:bg-gray-700/70 hover:text-white","group relative flex w-full items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out border-l-4 border-transparent"]),onClick:w=>u(x.label)},[(g(),re(Xn(x.icon),{class:X([l(x.children)?"text-indigo-300":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),n("span",D$,d(f(t)(x.label)),1),S(f(Iv),{class:X([r[x.label]?"rotate-180":"","h-4 w-4 text-gray-400 transition-transform duration-200"])},null,8,["class"])],10,T$),z(n("div",A$,[(g(!0),y(oe,null,ue(x.children,w=>(g(),y(oe,{key:w.label},[!w.permission||f(e)(w.permission)?(g(),re(v,{key:0,custom:"",to:w.uri},{default:W(({href:b,navigate:k})=>[n("a",{href:b,class:X([a(w.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:k},[a(w.uri)?(g(),y("div",E$)):j("",!0),n("span",j$,d(f(t)(w.label)),1)],10,P$)]),_:2},1032,["to"])):j("",!0)],64))),128))],512),[[zt,r[x.label]]])])):x.uri&&m(x)?(g(),re(v,{key:1,custom:"",to:x.uri},{default:W(({href:w,navigate:b})=>[n("a",{href:w,class:X([a(x.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:b},[a(x.uri)?(g(),y("div",I$)):j("",!0),(g(),re(Xn(x.icon),{class:X([a(x.uri)?"text-white":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),n("span",O$,d(f(t)(x.label)),1),x.create&&f(e)(x.createPermission||"false")?(g(),y("span",{key:1,class:"ml-auto flex h-6 w-6 cursor-pointer items-center justify-center rounded-md bg-gray-700/50 text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500 hover:text-white group-hover:opacity-100",onClick:Ve(k=>h(x.create||"/"),["prevent"])},[(g(),re(Xn(f(gs)),{class:"h-3.5 w-3.5"}))],8,L$)):j("",!0)],10,R$)]),_:2},1032,["to"])):j("",!0)],64))),128))])}}}),F$=["src"],N$={key:1,class:"flex items-center"},z$={class:"relative"},U$={class:"relative h-8 transition-all duration-200 group-hover:scale-110",style:{color:"#6875f5"},fill:"none",viewBox:"0 0 34 32",xmlns:"http://www.w3.org/2000/svg"},B$={class:"bg-gradient-to-r from-white to-gray-200 bg-clip-text text-[1.375rem] font-bold text-transparent ltr:ml-2.5 rtl:mr-2.5 transition-all duration-200 group-hover:from-indigo-200 group-hover:to-white"},qv=ve({__name:"SidebarLogo",setup(s){const e=vt.app_name,t=vt.app_logo;return(o,i)=>f(t)?(g(),y("img",{key:0,src:`/${f(t)}`,class:"h-8 object-contain transition-transform duration-200 group-hover:scale-105"},null,8,F$)):(g(),y("div",N$,[n("div",z$,[i[1]||(i[1]=n("div",{class:"absolute inset-0 rounded-lg bg-indigo-500/30 blur-md"},null,-1)),(g(),y("svg",U$,[...i[0]||(i[0]=[n("path",{fill:"currentColor",d:"M15.258 26.865a4.043 4.043 0 01-1.133 2.917A4.006 4.006 0 0111.253 31a3.992 3.992 0 01-2.872-1.218 4.028 4.028 0 01-1.133-2.917c.009-.698.2-1.382.557-1.981.356-.6.863-1.094 1.47-1.433-.024.109.09-.055 0 0l1.86-1.652a8.495 8.495 0 002.304-5.793c0-2.926-1.711-5.901-4.17-7.457.094.055-.036-.094 0 0A3.952 3.952 0 017.8 7.116a3.975 3.975 0 01-.557-1.98 4.042 4.042 0 011.133-2.918A4.006 4.006 0 0111.247 1a3.99 3.99 0 012.872 1.218 4.025 4.025 0 011.133 2.917 8.521 8.521 0 002.347 5.832l.817.8c.326.285.668.551 1.024.798.621.33 1.142.826 1.504 1.431a3.902 3.902 0 01-1.504 5.442c.033-.067-.063.036 0 0a8.968 8.968 0 00-3.024 3.183 9.016 9.016 0 00-1.158 4.244zM19.741 5.123c0 .796.235 1.575.676 2.237a4.01 4.01 0 001.798 1.482 3.99 3.99 0 004.366-.873 4.042 4.042 0 00.869-4.386 4.02 4.02 0 00-1.476-1.806 3.994 3.994 0 00-5.058.501 4.038 4.038 0 00-1.175 2.845zM23.748 22.84c-.792 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.806 4.042 4.042 0 00.869 4.387 3.99 3.99 0 004.366.873A4.01 4.01 0 0027.08 29.1a4.039 4.039 0 00-.5-5.082 4 4 0 00-2.832-1.18zM34 15.994c0-.796-.235-1.574-.675-2.236a4.01 4.01 0 00-1.798-1.483 3.99 3.99 0 00-4.367.873 4.042 4.042 0 00-.869 4.387 4.02 4.02 0 001.476 1.806 3.993 3.993 0 002.226.678 4.003 4.003 0 002.832-1.18A4.04 4.04 0 0034 15.993z"},null,-1),n("path",{fill:"currentColor",d:"M5.007 11.969c-.793 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.807 4.042 4.042 0 00.869 4.386 4.001 4.001 0 004.366.873 4.011 4.011 0 001.798-1.483 4.038 4.038 0 00-.5-5.08 4.004 4.004 0 00-2.831-1.181z"},null,-1)])]))]),n("span",B$,d(f(e)),1)]))}}),V$={class:"relative flex w-full max-w-xs flex-1 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pt-5 pb-4 shadow-2xl"},H$={class:"absolute top-0 right-0 -mr-12 pt-2"},q$=["href","onClick"],W$={class:"mt-5 h-0 flex-1 space-y-1 overflow-y-auto px-3 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},K$=ve({__name:"SidebarMobile",setup(s){const e=Ec();return(t,o)=>{const i=Bt("RouterLink");return g(),re(f(Dv),{as:"template",show:f(e).isMobileSidebar},{default:W(()=>[S(f(L4),{as:"div",static:"",class:"fixed inset-0 z-40 flex md:hidden",open:f(e).isMobileSidebar,onClose:o[1]||(o[1]=r=>f(e).isMobileSidebar=!1)},{default:W(()=>[S(f(yd),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:W(()=>[S(f(F4),{class:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm"})]),_:1}),S(f(yd),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:W(()=>[n("div",V$,[S(f(yd),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:W(()=>[n("div",H$,[n("button",{class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm transition-all duration-200 hover:bg-indigo-500/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-400",onClick:o[0]||(o[0]=r=>f(e).isMobileSidebar=!1)},[o[2]||(o[2]=n("span",{class:"sr-only"},"Close sidebar",-1)),S(f(ui),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),S(i,{to:"/",custom:""},{default:W(({href:r,navigate:a})=>[n("a",{href:r,class:"group flex flex-shrink-0 items-center border-b border-gray-700/50 px-4 pb-4 transition-all duration-200",onClick:a},[S(qv)],8,q$)]),_:1}),n("div",W$,[S(Hv)])])]),_:1}),o[3]||(o[3]=n("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1))]),_:1},8,["open"])]),_:1},8,["show"])}}});function Wv(s,e){return function(){return s.apply(e,arguments)}}const{toString:Y$}=Object.prototype,{getPrototypeOf:Jm}=Object,{iterator:Wc,toStringTag:Kv}=Symbol,Kc=(s=>e=>{const t=Y$.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),so=s=>(s=s.toLowerCase(),e=>Kc(e)===s),Yc=s=>e=>typeof e===s,{isArray:Gr}=Array,Ir=Yc("undefined");function yl(s){return s!==null&&!Ir(s)&&s.constructor!==null&&!Ir(s.constructor)&&fn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Yv=so("ArrayBuffer");function G$(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Yv(s.buffer),e}const X$=Yc("string"),fn=Yc("function"),Gv=Yc("number"),xl=s=>s!==null&&typeof s=="object",J$=s=>s===!0||s===!1,xd=s=>{if(Kc(s)!=="object")return!1;const e=Jm(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Kv in s)&&!(Wc in s)},Q$=s=>{if(!xl(s)||yl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Z$=so("Date"),e3=so("File"),t3=so("Blob"),s3=so("FileList"),n3=s=>xl(s)&&fn(s.pipe),o3=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||fn(s.append)&&((e=Kc(s))==="formdata"||e==="object"&&fn(s.toString)&&s.toString()==="[object FormData]"))},i3=so("URLSearchParams"),[r3,a3,l3,d3]=["ReadableStream","Request","Response","Headers"].map(so),c3=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bl(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let o,i;if(typeof s!="object"&&(s=[s]),Gr(s))for(o=0,i=s.length;o<i;o++)e.call(null,s[o],o,s);else{if(yl(s))return;const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(o=0;o<a;o++)l=r[o],e.call(null,s[l],l,s)}}function Xv(s,e){if(yl(s))return null;e=e.toLowerCase();const t=Object.keys(s);let o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}const Wi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Jv=s=>!Ir(s)&&s!==Wi;function X0(){const{caseless:s,skipUndefined:e}=Jv(this)&&this||{},t={},o=(i,r)=>{const a=s&&Xv(t,r)||r;xd(t[a])&&xd(i)?t[a]=X0(t[a],i):xd(i)?t[a]=X0({},i):Gr(i)?t[a]=i.slice():(!e||!Ir(i))&&(t[a]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&bl(arguments[i],o);return t}const u3=(s,e,t,{allOwnKeys:o}={})=>(bl(e,(i,r)=>{t&&fn(i)?s[r]=Wv(i,t):s[r]=i},{allOwnKeys:o}),s),m3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),f3=(s,e,t,o)=>{s.prototype=Object.create(e.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},p3=(s,e,t,o)=>{let i,r,a;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)a=i[r],(!o||o(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&Jm(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},h3=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const o=s.indexOf(e,t);return o!==-1&&o===t},g3=s=>{if(!s)return null;if(Gr(s))return s;let e=s.length;if(!Gv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},_3=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Jm(Uint8Array)),v3=(s,e)=>{const o=(s&&s[Wc]).call(s);let i;for(;(i=o.next())&&!i.done;){const r=i.value;e.call(s,r[0],r[1])}},y3=(s,e)=>{let t;const o=[];for(;(t=s.exec(e))!==null;)o.push(t);return o},x3=so("HTMLFormElement"),b3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),ch=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),w3=so("RegExp"),Qv=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),o={};bl(t,(i,r)=>{let a;(a=e(i,r,s))!==!1&&(o[r]=a||i)}),Object.defineProperties(s,o)},k3=s=>{Qv(s,(e,t)=>{if(fn(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=s[t];if(fn(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$3=(s,e)=>{const t={},o=i=>{i.forEach(r=>{t[r]=!0})};return Gr(s)?o(s):o(String(s).split(e)),t},C3=()=>{},S3=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function M3(s){return!!(s&&fn(s.append)&&s[Kv]==="FormData"&&s[Wc])}const T3=s=>{const e=new Array(10),t=(o,i)=>{if(xl(o)){if(e.indexOf(o)>=0)return;if(yl(o))return o;if(!("toJSON"in o)){e[i]=o;const r=Gr(o)?[]:{};return bl(o,(a,l)=>{const c=t(a,i+1);!Ir(c)&&(r[l]=c)}),e[i]=void 0,r}}return o};return t(s,0)},D3=so("AsyncFunction"),A3=s=>s&&(xl(s)||fn(s))&&fn(s.then)&&fn(s.catch),Zv=((s,e)=>s?setImmediate:e?((t,o)=>(Wi.addEventListener("message",({source:i,data:r})=>{i===Wi&&r===t&&o.length&&o.shift()()},!1),i=>{o.push(i),Wi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",fn(Wi.postMessage)),P3=typeof queueMicrotask<"u"?queueMicrotask.bind(Wi):typeof process<"u"&&process.nextTick||Zv,E3=s=>s!=null&&fn(s[Wc]),he={isArray:Gr,isArrayBuffer:Yv,isBuffer:yl,isFormData:o3,isArrayBufferView:G$,isString:X$,isNumber:Gv,isBoolean:J$,isObject:xl,isPlainObject:xd,isEmptyObject:Q$,isReadableStream:r3,isRequest:a3,isResponse:l3,isHeaders:d3,isUndefined:Ir,isDate:Z$,isFile:e3,isBlob:t3,isRegExp:w3,isFunction:fn,isStream:n3,isURLSearchParams:i3,isTypedArray:_3,isFileList:s3,forEach:bl,merge:X0,extend:u3,trim:c3,stripBOM:m3,inherits:f3,toFlatObject:p3,kindOf:Kc,kindOfTest:so,endsWith:h3,toArray:g3,forEachEntry:v3,matchAll:y3,isHTMLForm:x3,hasOwnProperty:ch,hasOwnProp:ch,reduceDescriptors:Qv,freezeMethods:k3,toObjectSet:$3,toCamelCase:b3,noop:C3,toFiniteNumber:S3,findKey:Xv,global:Wi,isContextDefined:Jv,isSpecCompliantForm:M3,toJSONObject:T3,isAsyncFn:D3,isThenable:A3,setImmediate:Zv,asap:P3,isIterable:E3};function ft(s,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const ey=ft.prototype,ty={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ty[s]={value:s}});Object.defineProperties(ft,ty);Object.defineProperty(ey,"isAxiosError",{value:!0});ft.from=(s,e,t,o,i,r)=>{const a=Object.create(ey);he.toFlatObject(s,a,function(m){return m!==Error.prototype},u=>u!=="isAxiosError");const l=s&&s.message?s.message:"Error",c=e==null&&s?s.code:e;return ft.call(a,l,c,t,o,i),s&&a.cause==null&&Object.defineProperty(a,"cause",{value:s,configurable:!0}),a.name=s&&s.name||"Error",r&&Object.assign(a,r),a};const j3=null;function J0(s){return he.isPlainObject(s)||he.isArray(s)}function sy(s){return he.endsWith(s,"[]")?s.slice(0,-2):s}function uh(s,e,t){return s?s.concat(e).map(function(i,r){return i=sy(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function R3(s){return he.isArray(s)&&!s.some(J0)}const I3=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function Gc(s,e,t){if(!he.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=he.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!he.isUndefined(w[x])});const o=t.metaTokens,i=t.visitor||m,r=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(he.isDate(v))return v.toISOString();if(he.isBoolean(v))return v.toString();if(!c&&he.isBlob(v))throw new ft("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(v)||he.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,x,w){let b=v;if(v&&!w&&typeof v=="object"){if(he.endsWith(x,"{}"))x=o?x:x.slice(0,-2),v=JSON.stringify(v);else if(he.isArray(v)&&R3(v)||(he.isFileList(v)||he.endsWith(x,"[]"))&&(b=he.toArray(v)))return x=sy(x),b.forEach(function(C,$){!(he.isUndefined(C)||C===null)&&e.append(a===!0?uh([x],$,r):a===null?x:x+"[]",u(C))}),!1}return J0(v)?!0:(e.append(uh(w,x,r),u(v)),!1)}const h=[],p=Object.assign(I3,{defaultVisitor:m,convertValue:u,isVisitable:J0});function _(v,x){if(!he.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),he.forEach(v,function(b,k){(!(he.isUndefined(b)||b===null)&&i.call(e,b,he.isString(k)?k.trim():k,x,p))===!0&&_(b,x?x.concat(k):[k])}),h.pop()}}if(!he.isObject(s))throw new TypeError("data must be an object");return _(s),e}function mh(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Qm(s,e){this._pairs=[],s&&Gc(s,this,e)}const ny=Qm.prototype;ny.append=function(e,t){this._pairs.push([e,t])};ny.toString=function(e){const t=e?function(o){return e.call(this,o,mh)}:mh;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function O3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oy(s,e,t){if(!e)return s;const o=t&&t.encode||O3;he.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let r;if(i?r=i(e,t):r=he.isURLSearchParams(e)?e.toString():new Qm(e,t).toString(o),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class L3{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(o){o!==null&&e(o)})}}const fh=L3,iy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F3=typeof URLSearchParams<"u"?URLSearchParams:Qm,N3=typeof FormData<"u"?FormData:null,z3=typeof Blob<"u"?Blob:null,U3={isBrowser:!0,classes:{URLSearchParams:F3,FormData:N3,Blob:z3},protocols:["http","https","file","blob","url","data"]},Zm=typeof window<"u"&&typeof document<"u",Q0=typeof navigator=="object"&&navigator||void 0,B3=Zm&&(!Q0||["ReactNative","NativeScript","NS"].indexOf(Q0.product)<0),V3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),H3=Zm&&window.location.href||"http://localhost",q3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zm,hasStandardBrowserEnv:B3,hasStandardBrowserWebWorkerEnv:V3,navigator:Q0,origin:H3},Symbol.toStringTag,{value:"Module"})),qs={...q3,...U3};function W3(s,e){return Gc(s,new qs.classes.URLSearchParams,{visitor:function(t,o,i,r){return qs.isNode&&he.isBuffer(t)?(this.append(o,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function K3(s){return he.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Y3(s){const e={},t=Object.keys(s);let o;const i=t.length;let r;for(o=0;o<i;o++)r=t[o],e[r]=s[r];return e}function ry(s){function e(t,o,i,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=r>=t.length;return a=!a&&he.isArray(i)?i.length:a,c?(he.hasOwnProp(i,a)?i[a]=[i[a],o]:i[a]=o,!l):((!i[a]||!he.isObject(i[a]))&&(i[a]=[]),e(t,o,i[a],r)&&he.isArray(i[a])&&(i[a]=Y3(i[a])),!l)}if(he.isFormData(s)&&he.isFunction(s.entries)){const t={};return he.forEachEntry(s,(o,i)=>{e(K3(o),i,t,0)}),t}return null}function G3(s,e,t){if(he.isString(s))try{return(e||JSON.parse)(s),he.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(s)}const ef={transitional:iy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",i=o.indexOf("application/json")>-1,r=he.isObject(e);if(r&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(ry(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(o.indexOf("application/x-www-form-urlencoded")>-1)return W3(e,this.formSerializer).toString();if((l=he.isFileList(e))||o.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gc(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),G3(e)):e}],transformResponse:[function(e){const t=this.transitional||ef.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(o&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ft.from(l,ft.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],s=>{ef.headers[s]={}});const tf=ef,X3=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J3=s=>{const e={};let t,o,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),o=a.substring(i+1).trim(),!(!t||e[t]&&X3[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},ph=Symbol("internals");function da(s){return s&&String(s).trim().toLowerCase()}function bd(s){return s===!1||s==null?s:he.isArray(s)?s.map(bd):String(s)}function Q3(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(s);)e[o[1]]=o[2];return e}const Z3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function qu(s,e,t,o,i){if(he.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!he.isString(e)){if(he.isString(o))return e.indexOf(o)!==-1;if(he.isRegExp(o))return o.test(e)}}function e6(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function t6(s,e){const t=he.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+t,{value:function(i,r,a){return this[o].call(this,e,i,r,a)},configurable:!0})})}class Xc{constructor(e){e&&this.set(e)}set(e,t,o){const i=this;function r(l,c,u){const m=da(c);if(!m)throw new Error("header name must be a non-empty string");const h=he.findKey(i,m);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=bd(l))}const a=(l,c)=>he.forEach(l,(u,m)=>r(u,m,c));if(he.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(he.isString(e)&&(e=e.trim())&&!Z3(e))a(J3(e),t);else if(he.isObject(e)&&he.isIterable(e)){let l={},c,u;for(const m of e){if(!he.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[u=m[0]]=(c=l[u])?he.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}a(l,t)}else e!=null&&r(t,e,o);return this}get(e,t){if(e=da(e),e){const o=he.findKey(this,e);if(o){const i=this[o];if(!t)return i;if(t===!0)return Q3(i);if(he.isFunction(t))return t.call(this,i,o);if(he.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=da(e),e){const o=he.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||qu(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let i=!1;function r(a){if(a=da(a),a){const l=he.findKey(o,a);l&&(!t||qu(o,o[l],l,t))&&(delete o[l],i=!0)}}return he.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let o=t.length,i=!1;for(;o--;){const r=t[o];(!e||qu(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,o={};return he.forEach(this,(i,r)=>{const a=he.findKey(o,r);if(a){t[a]=bd(i),delete t[r];return}const l=e?e6(r):String(r).trim();l!==r&&delete t[r],t[l]=bd(i),o[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return he.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&he.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[ph]=this[ph]={accessors:{}}).accessors,i=this.prototype;function r(a){const l=da(a);o[l]||(t6(i,a),o[l]=!0)}return he.isArray(e)?e.forEach(r):r(e),this}}Xc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Xc.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(o){this[t]=o}}});he.freezeMethods(Xc);const Jn=Xc;function Wu(s,e){const t=this||tf,o=e||t,i=Jn.from(o.headers);let r=o.data;return he.forEach(s,function(l){r=l.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function ay(s){return!!(s&&s.__CANCEL__)}function Xr(s,e,t){ft.call(this,s??"canceled",ft.ERR_CANCELED,e,t),this.name="CanceledError"}he.inherits(Xr,ft,{__CANCEL__:!0});function ly(s,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?s(t):e(new ft("Request failed with status code "+t.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function s6(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function n6(s,e){s=s||10;const t=new Array(s),o=new Array(s);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),m=o[r];a||(a=u),t[i]=c,o[i]=u;let h=r,p=0;for(;h!==i;)p+=t[h++],h=h%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),u-a<e)return;const _=m&&u-m;return _?Math.round(p*1e3/_):void 0}}function o6(s,e){let t=0,o=1e3/e,i,r;const a=(u,m=Date.now())=>{t=m,i=null,r&&(clearTimeout(r),r=null),s(...u)};return[(...u)=>{const m=Date.now(),h=m-t;h>=o?a(u,m):(i=u,r||(r=setTimeout(()=>{r=null,a(i)},o-h)))},()=>i&&a(i)]}const Zd=(s,e,t=3)=>{let o=0;const i=n6(50,250);return o6(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,c=a-o,u=i(c),m=a<=l;o=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&m?(l-a)/u:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(h)},t)},hh=(s,e)=>{const t=s!=null;return[o=>e[0]({lengthComputable:t,total:s,loaded:o}),e[1]]},gh=s=>(...e)=>he.asap(()=>s(...e)),i6=qs.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,qs.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,r6=qs.hasStandardBrowserEnv?{write(s,e,t,o,i,r){const a=[s+"="+encodeURIComponent(e)];he.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),he.isString(o)&&a.push("path="+o),he.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a6(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function l6(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function dy(s,e,t){let o=!a6(e);return s&&(o||t==!1)?l6(s,e):e}const _h=s=>s instanceof Jn?{...s}:s;function sr(s,e){e=e||{};const t={};function o(u,m,h,p){return he.isPlainObject(u)&&he.isPlainObject(m)?he.merge.call({caseless:p},u,m):he.isPlainObject(m)?he.merge({},m):he.isArray(m)?m.slice():m}function i(u,m,h,p){if(he.isUndefined(m)){if(!he.isUndefined(u))return o(void 0,u,h,p)}else return o(u,m,h,p)}function r(u,m){if(!he.isUndefined(m))return o(void 0,m)}function a(u,m){if(he.isUndefined(m)){if(!he.isUndefined(u))return o(void 0,u)}else return o(void 0,m)}function l(u,m,h){if(h in e)return o(u,m);if(h in s)return o(void 0,u)}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,m,h)=>i(_h(u),_h(m),h,!0)};return he.forEach(Object.keys({...s,...e}),function(m){const h=c[m]||i,p=h(s[m],e[m],m);he.isUndefined(p)&&h!==l||(t[m]=p)}),t}const cy=s=>{const e=sr({},s);let{data:t,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:l}=e;if(e.headers=a=Jn.from(a),e.url=oy(dy(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),he.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(he.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([m,h])=>{u.includes(m.toLowerCase())&&a.set(m,h)})}}if(qs.hasStandardBrowserEnv&&(o&&he.isFunction(o)&&(o=o(e)),o||o!==!1&&i6(e.url))){const c=i&&r&&r6.read(r);c&&a.set(i,c)}return e},d6=typeof XMLHttpRequest<"u",c6=d6&&function(s){return new Promise(function(t,o){const i=cy(s);let r=i.data;const a=Jn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,m,h,p,_,v;function x(){_&&_(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function b(){if(!w)return;const C=Jn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:s,request:w};ly(function(T){t(T),x()},function(T){o(T),x()},A),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(o(new ft("Request aborted",ft.ECONNABORTED,s,w)),w=null)},w.onerror=function($){const A=$&&$.message?$.message:"Network Error",R=new ft(A,ft.ERR_NETWORK,s,w);R.event=$||null,o(R),w=null},w.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||iy;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),o(new ft($,A.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,s,w)),w=null},r===void 0&&a.setContentType(null),"setRequestHeader"in w&&he.forEach(a.toJSON(),function($,A){w.setRequestHeader(A,$)}),he.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),u&&([p,v]=Zd(u,!0),w.addEventListener("progress",p)),c&&w.upload&&([h,_]=Zd(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(m=C=>{w&&(o(!C||C.type?new Xr(null,s,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const k=s6(i.url);if(k&&qs.protocols.indexOf(k)===-1){o(new ft("Unsupported protocol "+k+":",ft.ERR_BAD_REQUEST,s));return}w.send(r||null)})},u6=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let o=new AbortController,i;const r=function(u){if(!i){i=!0,l();const m=u instanceof Error?u:this.reason;o.abort(m instanceof ft?m:new Xr(m instanceof Error?m.message:m))}};let a=e&&setTimeout(()=>{a=null,r(new ft(`timeout ${e} of ms exceeded`,ft.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),s=null)};s.forEach(u=>u.addEventListener("abort",r));const{signal:c}=o;return c.unsubscribe=()=>he.asap(l),c}},m6=u6,f6=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let o=0,i;for(;o<t;)i=o+e,yield s.slice(o,i),o=i},p6=async function*(s,e){for await(const t of h6(s))yield*f6(t,e)},h6=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},vh=(s,e,t,o)=>{const i=p6(s,e);let r=0,a,l=c=>{a||(a=!0,o&&o(c))};return new ReadableStream({async pull(c){try{const{done:u,value:m}=await i.next();if(u){l(),c.close();return}let h=m.byteLength;if(t){let p=r+=h;t(p)}c.enqueue(new Uint8Array(m))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},yh=64*1024,{isFunction:Ul}=he,g6=(({Request:s,Response:e})=>({Request:s,Response:e}))(he.global),{ReadableStream:xh,TextEncoder:bh}=he.global,wh=(s,...e)=>{try{return!!s(...e)}catch{return!1}},_6=s=>{s=he.merge.call({skipUndefined:!0},g6,s);const{fetch:e,Request:t,Response:o}=s,i=e?Ul(e):typeof fetch=="function",r=Ul(t),a=Ul(o);if(!i)return!1;const l=i&&Ul(xh),c=i&&(typeof bh=="function"?(v=>x=>v.encode(x))(new bh):async v=>new Uint8Array(await new t(v).arrayBuffer())),u=r&&l&&wh(()=>{let v=!1;const x=new t(qs.origin,{body:new xh,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),m=a&&l&&wh(()=>he.isReadableStream(new o("").body)),h={stream:m&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(x,w)=>{let b=x&&x[v];if(b)return b.call(x);throw new ft(`Response type '${v}' is not supported`,ft.ERR_NOT_SUPPORT,w)})});const p=async v=>{if(v==null)return 0;if(he.isBlob(v))return v.size;if(he.isSpecCompliantForm(v))return(await new t(qs.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(he.isArrayBufferView(v)||he.isArrayBuffer(v))return v.byteLength;if(he.isURLSearchParams(v)&&(v=v+""),he.isString(v))return(await c(v)).byteLength},_=async(v,x)=>{const w=he.toFiniteNumber(v.getContentLength());return w??p(x)};return async v=>{let{url:x,method:w,data:b,signal:k,cancelToken:C,timeout:$,onDownloadProgress:A,onUploadProgress:R,responseType:T,headers:F,withCredentials:L="same-origin",fetchOptions:D}=cy(v),N=e||fetch;T=T?(T+"").toLowerCase():"text";let P=m6([k,C&&C.toAbortSignal()],$),U=null;const ye=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let le;try{if(R&&u&&w!=="get"&&w!=="head"&&(le=await _(F,b))!==0){let $e=new t(x,{method:"POST",body:b,duplex:"half"}),we;if(he.isFormData(b)&&(we=$e.headers.get("content-type"))&&F.setContentType(we),$e.body){const[Qe,pt]=hh(le,Zd(gh(R)));b=vh($e.body,yh,Qe,pt)}}he.isString(L)||(L=L?"include":"omit");const de=r&&"credentials"in t.prototype,q={...D,signal:P,method:w.toUpperCase(),headers:F.normalize().toJSON(),body:b,duplex:"half",credentials:de?L:void 0};U=r&&new t(x,q);let ne=await(r?N(U,D):N(x,q));const G=m&&(T==="stream"||T==="response");if(m&&(A||G&&ye)){const $e={};["status","statusText","headers"].forEach(pe=>{$e[pe]=ne[pe]});const we=he.toFiniteNumber(ne.headers.get("content-length")),[Qe,pt]=A&&hh(we,Zd(gh(A),!0))||[];ne=new o(vh(ne.body,yh,Qe,()=>{pt&&pt(),ye&&ye()}),$e)}T=T||"text";let ie=await h[he.findKey(h,T)||"text"](ne,v);return!G&&ye&&ye(),await new Promise(($e,we)=>{ly($e,we,{data:ie,headers:Jn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:v,request:U})})}catch(de){throw ye&&ye(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,v,U),{cause:de.cause||de}):ft.from(de,de&&de.code,v,U)}}},v6=new Map,uy=s=>{let e=s?s.env:{};const{fetch:t,Request:o,Response:i}=e,r=[o,i,t];let a=r.length,l=a,c,u,m=v6;for(;l--;)c=r[l],u=m.get(c),u===void 0&&m.set(c,u=l?new Map:_6(e)),m=u;return u};uy();const Z0={http:j3,xhr:c6,fetch:{get:uy}};he.forEach(Z0,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const kh=s=>`- ${s}`,y6=s=>he.isFunction(s)||s===null||s===!1,my={getAdapter:(s,e)=>{s=he.isArray(s)?s:[s];const{length:t}=s;let o,i;const r={};for(let a=0;a<t;a++){o=s[a];let l;if(i=o,!y6(o)&&(i=Z0[(l=String(o)).toLowerCase()],i===void 0))throw new ft(`Unknown adapter '${l}'`);if(i&&(he.isFunction(i)||(i=i.get(e))))break;r[l||"#"+a]=i}if(!i){const a=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(kh).join(`
`):" "+kh(a[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Z0};function Ku(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Xr(null,s)}function $h(s){return Ku(s),s.headers=Jn.from(s.headers),s.data=Wu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),my.getAdapter(s.adapter||tf.adapter,s)(s).then(function(o){return Ku(s),o.data=Wu.call(s,s.transformResponse,o),o.headers=Jn.from(o.headers),o},function(o){return ay(o)||(Ku(s),o&&o.response&&(o.response.data=Wu.call(s,s.transformResponse,o.response),o.response.headers=Jn.from(o.response.headers))),Promise.reject(o)})}const fy="1.12.2",Jc={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Jc[s]=function(o){return typeof o===s||"a"+(e<1?"n ":" ")+s}});const Ch={};Jc.transitional=function(e,t,o){function i(r,a){return"[Axios v"+fy+"] Transitional option '"+r+"'"+a+(o?". "+o:"")}return(r,a,l)=>{if(e===!1)throw new ft(i(a," has been removed"+(t?" in "+t:"")),ft.ERR_DEPRECATED);return t&&!Ch[a]&&(Ch[a]=!0),e?e(r,a,l):!0}};Jc.spelling=function(e){return(t,o)=>!0};function x6(s,e,t){if(typeof s!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let i=o.length;for(;i-- >0;){const r=o[i],a=e[r];if(a){const l=s[r],c=l===void 0||a(l,r,s);if(c!==!0)throw new ft("option "+r+" must be "+c,ft.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ft("Unknown option "+r,ft.ERR_BAD_OPTION)}}const wd={assertOptions:x6,validators:Jc},io=wd.validators;class ec{constructor(e){this.defaults=e||{},this.interceptors={request:new fh,response:new fh}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?r&&!String(o.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+r):o.stack=r}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sr(this.defaults,t);const{transitional:o,paramsSerializer:i,headers:r}=t;o!==void 0&&wd.assertOptions(o,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),i!=null&&(he.isFunction(i)?t.paramsSerializer={serialize:i}:wd.assertOptions(i,{encode:io.function,serialize:io.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wd.assertOptions(t,{baseUrl:io.spelling("baseURL"),withXsrfToken:io.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&he.merge(r.common,r[t.method]);r&&he.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),t.headers=Jn.concat(a,r);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let m,h=0,p;if(!c){const v=[$h.bind(this),void 0];for(v.unshift(...l),v.push(...u),p=v.length,m=Promise.resolve(t);h<p;)m=m.then(v[h++],v[h++]);return m}p=l.length;let _=t;for(;h<p;){const v=l[h++],x=l[h++];try{_=v(_)}catch(w){x.call(this,w);break}}try{m=$h.call(this,_)}catch(v){return Promise.reject(v)}for(h=0,p=u.length;h<p;)m=m.then(u[h++],u[h++]);return m}getUri(e){e=sr(this.defaults,e);const t=dy(e.baseURL,e.url,e.allowAbsoluteUrls);return oy(t,e.params,e.paramsSerializer)}}he.forEach(["delete","get","head","options"],function(e){ec.prototype[e]=function(t,o){return this.request(sr(o||{},{method:e,url:t,data:(o||{}).data}))}});he.forEach(["post","put","patch"],function(e){function t(o){return function(r,a,l){return this.request(sr(l||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ec.prototype[e]=t(),ec.prototype[e+"Form"]=t(!0)});const kd=ec;class sf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const o=this;this.promise.then(i=>{if(!o._listeners)return;let r=o._listeners.length;for(;r-- >0;)o._listeners[r](i);o._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(l=>{o.subscribe(l),r=l}).then(i);return a.cancel=function(){o.unsubscribe(r)},a},e(function(r,a,l){o.reason||(o.reason=new Xr(r,a,l),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sf(function(i){e=i}),cancel:e}}}const b6=sf;function w6(s){return function(t){return s.apply(null,t)}}function k6(s){return he.isObject(s)&&s.isAxiosError===!0}const em={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(em).forEach(([s,e])=>{em[e]=s});const $6=em;function py(s){const e=new kd(s),t=Wv(kd.prototype.request,e);return he.extend(t,kd.prototype,e,{allOwnKeys:!0}),he.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return py(sr(s,i))},t}const ps=py(tf);ps.Axios=kd;ps.CanceledError=Xr;ps.CancelToken=b6;ps.isCancel=ay;ps.VERSION=fy;ps.toFormData=Gc;ps.AxiosError=ft;ps.Cancel=ps.CanceledError;ps.all=function(e){return Promise.all(e)};ps.spread=w6;ps.isAxiosError=k6;ps.mergeConfig=sr;ps.AxiosHeaders=Jn;ps.formToJSON=s=>ry(he.isHTMLForm(s)?new FormData(s):s);ps.getAdapter=my.getAdapter;ps.HttpStatusCode=$6;ps.default=ps;const ke=ps,ce=ke.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});ce.interceptors.response.use(s=>{const e=s.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):s},s=>{var t,o;((t=s.response)==null?void 0:t.status)===401&&(window.location.href="/login");const e=(o=s.response)==null?void 0:o.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):Promise.reject(s)});const _s=s=>hn(`form-${s}`,()=>{const e=at({}),t=at({}),o=at({}),i=E(!1),r=E(!1),a=E(""),l=E("post"),c=E(null),u=E([]);async function m(k,C){a.value=k,c.value=C||null,C?(l.value="put",await p(C)):await h()}async function h(){r.value=!0;try{const k=await ce.get(`${a.value}/create`);Array.isArray(k.data)?k.data.forEach(C=>{C.name&&C.value!==void 0&&(e[C.name]=C.value),C.name&&C.options&&C.options.length>0&&(o[C.name]=C.options)}):(k.data.options&&Object.assign(o,k.data.options),k.data.data&&Object.assign(e,k.data.data))}catch{}finally{r.value=!1}}async function p(k){r.value=!0,x();try{const C=await ce.get(`${a.value}/${k}/edit`);Array.isArray(C.data)?C.data.forEach($=>{$.name&&$.value!==void 0&&(e[$.name]=$.value),$.name&&$.options&&$.options.length>0&&(o[$.name]=$.options)}):(Object.assign(e,C.data.data||C.data),C.data.options&&Object.assign(o,C.data.options))}catch{}finally{r.value=!1}}async function _(){var k,C;i.value=!0,x();try{const $=c.value?`${a.value}/${c.value}`:a.value,A=await ce[l.value]($,e);return i.value=!1,u.value.forEach(R=>R(A)),A}catch($){throw i.value=!1,(C=(k=$.response)==null?void 0:k.data)!=null&&C.errors&&Object.assign(t,$.response.data.errors),$}}function v(k){u.value.push(k)}function x(){Object.keys(t).forEach(k=>delete t[k])}function w(k,C){e[k]=C}function b(){Object.keys(e).forEach(k=>delete e[k]),x(),i.value=!1,r.value=!1}return{data:e,errors:t,options:o,submitting:i,fetching:r,init:m,fetch:p,submit:_,onSuccess:v,clearErrors:x,setData:w,reset:b}}),Ft=hn("modals",()=>{const s=E([]),e=E(new Map);function t(a,l={}){s.value.push({component:Dr(a),payload:l})}function o(){const a=s.value.length-1,l=e.value.get(a);l&&(l(),e.value.delete(a)),s.value.pop()}function i(){s.value=[],e.value.clear()}function r(a){const l=s.value.length-1;e.value.set(l,a)}return{components:s,add:t,pop:o,clear:i,onHide:r}}),js=s=>hn(`index-${s}`,()=>{const e=E([]),t=at({}),o=at({}),i=E(""),r=E("asc"),a=E(15),l=E(1),c=E(""),u=E(!1),m=at({});function h($,A){t[$]=A}function p($){delete t[$]}function _(){Object.keys(t).forEach($=>delete t[$])}function v($,A="asc"){i.value=$,r.value=A}function x($){i.value===$?r.value=r.value==="asc"?"desc":"asc":(i.value=$,r.value="asc")}function w(){_(),i.value="",r.value="asc",l.value=1}function b($){Object.assign(m,$),$.uri&&(c.value=$.uri)}function k(){l.value=1,C()}async function C(){if(c.value){u.value=!0;try{const $={...t,...o,per_page:a.value,page:l.value};i.value&&($.sort_by=i.value,$.sort_order=r.value);const A=await ce.get(c.value,{params:$});e.value=A.data}catch{}finally{u.value=!1}}}return{data:e,filters:t,params:o,sortBy:i,sortOrder:r,perPage:a,currentPage:l,uri:c,fetching:u,config:m,setFilter:h,clearFilter:p,clearAllFilters:_,setSort:v,toggleSort:x,reset:w,setConfig:b,onSearch:k,fetch:C}}),$d=hn("confirm",()=>{const s=E(!1),e=E("Confirm"),t=E(""),o=E("Confirm"),i=E("Cancel"),r=E(!1);let a=null,l=null;function c(p){e.value=p.title||"Confirm",t.value=p.message,o.value=p.confirmText||"Confirm",i.value=p.cancelText||"Cancel",a=p.onConfirm||null,l=p.onCancel||null,s.value=!0}async function u(){if(a){r.value=!0;try{await a()}finally{r.value=!1}}h()}function m(){l&&l(),h()}function h(){s.value=!1,a=null,l=null}return{isOpen:s,title:e,message:t,confirmText:o,cancelText:i,processing:r,show:c,confirm:u,cancel:m,close:h}}),Kn=hn("flash",()=>{const s=E([]);let e=0;function t(u,m="info",h=5e3){const p=e++,_={id:p,type:m,message:u,duration:h};return s.value.push(_),h>0&&setTimeout(()=>{l(p)},h),p}function o(u,m=5e3){return t(u,"success",m)}function i(u,m=5e3){return t(u,"error",m)}function r(u,m=5e3){return t(u,"warning",m)}function a(u,m=5e3){return t(u,"info",m)}function l(u){const m=s.value.findIndex(h=>h.id===u);m>-1&&s.value.splice(m,1)}function c(){s.value=[]}return{messages:s,add:t,success:o,error:i,warning:r,info:a,remove:l,clear:c}}),Sh=hn("toast",()=>{const s=E([]);let e=0;function t(u,m="info",h=3e3){const p=e++,_={id:p,type:m,message:u,duration:h};return s.value.push(_),h>0&&setTimeout(()=>{l(p)},h),p}function o(u,m=3e3){return t(u,"success",m)}function i(u,m=3e3){return t(u,"error",m)}function r(u,m=3e3){return t(u,"warning",m)}function a(u,m=3e3){return t(u,"info",m)}function l(u){const m=s.value.findIndex(h=>h.id===u);m>-1&&s.value.splice(m,1)}function c(){s.value=[]}return{toasts:s,add:t,success:o,error:i,warning:r,info:a,remove:l,clear:c}}),C6=(s="tab")=>hn(`tab-${s}`,()=>{const e=E(0),t=E(0),o=E([]),i=Me(()=>{var m;const u=typeof e.value=="number"?e.value:parseInt(e.value);return(m=o.value[u])==null?void 0:m.component});function r(u){t.value=u,e.value=u}function a(u){e.value=u,t.value=u}function l(u){o.value=u}function c(){t.value=0,e.value=0}return{active:e,activeTab:t,tabsList:o,tab:i,setTab:r,select:a,tabs:l,reset:c}});function S6(s){s.config.globalProperties.__=o=>{var i;return((i=vt.translations)==null?void 0:i[o])||o};const e=o=>{var i;return!o||vt.is_super_admin?!0:((i=vt.permissions)==null?void 0:i.includes(o))||!1},t=o=>!e(o);s.config.globalProperties.can=e,s.config.globalProperties.cannot=t,s.provide("can",e),s.provide("cannot",t),s.provide("__",s.config.globalProperties.__),s.provide("user",{...vt.user,is_super_admin:vt.is_super_admin})}const M6={install:S6};let Bl;const Jr=hn("timer",{state:()=>({taskId:null,projectId:null,projectName:null,taskTitle:null,processing:!1,timers:[],isTimerRunning:!1,timerStartedAt:null,timerStoppedAt:null,currentTaskTimer:{h:0,m:0,s:0}}),actions:{start(s){this.stopPrev(),this.startTimer(),this.taskId=s.id,this.taskTitle=s.title,this.projectId=s.project_id,this.projectName=s.project.name,this.processing=!0,ce.post("time-logs",{taskId:this.taskId,projectId:this.projectId,start:!0,currentTime:this.timerStartedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1})},stop(){this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ce.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1}),this.taskId=null,this.projectId=null,this.projectName=null},stopPrev(){if(!this.taskId)return;this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ce.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(({data:t})=>{}).catch(()=>{this.processing=!1})},fetch(){ce.get("time-logs").then(s=>{this.timers=s.data;const e=s.data.find(t=>t.user.id==vt.user.id);if(e){this.taskId=e.task.id,this.taskTitle=e.task.title,this.projectId=e.task.project_id,this.projectName=e.task.project.name;const t=new Date(e.started_at_raw),i=Math.floor((new Date().getTime()-t.getTime())/1e3);this.setTimer(i),this.startTimer()}})},startTimer(){Bl&&clearInterval(Bl),Bl=setInterval(()=>{this.currentTaskTimer.s++,this.currentTaskTimer.s>=60&&(this.currentTaskTimer.s=0,this.currentTaskTimer.m++,this.currentTaskTimer.m>=60&&(this.currentTaskTimer.m=0,this.currentTaskTimer.h++))},1e3),this.timerStartedAt=new Date,this.isTimerRunning=!0},stopTimer(){clearInterval(Bl),this.timerStoppedAt=new Date,this.isTimerRunning=!1},setTimer(s){this.currentTaskTimer.s=Math.floor(s%60),this.currentTaskTimer.m=Math.floor(s%3600/60),this.currentTaskTimer.h=Math.floor(s/3600)}}}),T6={key:0,class:"flex items-center"},D6=["aria-label"],A6=ve({__name:"TimerCurrentUser",setup(s){const e=Jr();return(t,o)=>f(e).isTimerRunning?(g(),y("div",T6,[n("span",{class:"block cursor-pointer",onClick:o[0]||(o[0]=Ve((...i)=>f(e).stop&&f(e).stop(...i),["stop"]))},[S(f(Kr),{class:"h-[1.125rem] w-[1.125rem] text-red-600 hover:text-red-800"})]),n("p",{class:"ml-2 w-[4.500rem] text-base text-red-600","aria-label":`${f(e).taskTitle} (${f(e).projectName})`,"data-cooltipz-dir":"bottom"},d(f(e).currentTaskTimer.h.toString().padStart(2,"0"))+":"+d(f(e).currentTaskTimer.m.toString().padStart(2,"0"))+":"+d(f(e).currentTaskTimer.s.toString().padStart(2,"0")),9,D6)])):j("",!0)}}),P6={class:"w-full min-w-[18rem] max-w-sm rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-800"},E6={class:"flex items-center justify-between p-4 leading-8"},j6={class:"text-base font-medium text-gray-800 dark:text-gray-100"},R6={class:"grid grid-cols-7 px-2 pb-2"},I6=["onClick"],O6=ve({__name:"Calendar",props:{date:{}},emits:["selected"],setup(s){const e=s,t=e.date?new Date(e.date):new Date,o=E(t.getMonth()),i=E(t.getFullYear()),r=E(),a=E(t.getDate()),l=E(w()),c=E([]),u=["Su","Mo","Tu","We","Th","Fr","Sa"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];p();function p(){const k=[];r.value=null,a.value=null;for(let C=1;C<=x();C++)k.push(C),C===t.getDate()&&o.value===t.getMonth()&&i.value===t.getFullYear()&&(a.value=C);c.value=k,l.value=w()}function _(){i.value=o.value===11?i.value+1:i.value,o.value=(o.value+1)%12,p()}function v(){i.value=o.value===0?i.value-1:i.value,o.value=o.value===0?11:o.value-1,p()}function x(){return new Date(i.value,o.value+1,0).getDate()}function w(){return new Date(i.value,o.value).getDay()}function b(k){r.value=k}return(k,C)=>(g(),y("div",P6,[n("div",E6,[n("h1",j6,d(k.__(m[o.value]))+" "+d(i.value),1),n("div",{class:"flex items-center text-gray-800 dark:text-gray-100"},[n("span",{class:"cursor-pointer hover:text-gray-500",onClick:v},[...C[0]||(C[0]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("polyline",{points:"15 6 9 12 15 18"})],-1)])]),n("span",{class:"cursor-pointer hover:text-gray-500",onClick:_},[...C[1]||(C[1]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-right ml-3",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("polyline",{points:"9 6 15 12 9 18"})],-1)])])])]),n("ol",R6,[(g(),y(oe,null,ue(u,$=>n("li",{key:$,class:"pb-2 text-center text-sm font-medium text-gray-800"},d($),1)),64)),l.value?(g(),y("li",{key:0,class:"flex items-center justify-center py-1",style:bt({gridColumnStart:l.value})},"  ",4)):j("",!0),(g(!0),y(oe,null,ue(c.value,$=>(g(),y("li",{key:$,class:"flex items-center justify-center py-1"},[n("p",{class:X(["flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-sm font-medium",{"bg-indigo-700 text-white":$==r.value,"text-gray-500 hover:bg-gray-200":$!=r.value,"bg-gray-200":$==a.value}]),onClick:A=>(b($),k.$emit("selected",{day:("0"+$).slice(-2),month:("0"+(o.value+1)).slice(-2),year:i.value,date:`${i.value}-${("0"+(o.value+1)).slice(-2)}-${("0"+$).slice(-2)}`,label:`${h[o.value]} ${$}, ${i.value}`}))},d($),11,I6)]))),128))])]))}}),nf=(s,e)=>{const t=s.__vccOpts||s;for(const[o,i]of e)t[o]=i;return t},L6={},F6={class:"rounded-lg bg-white shadow"};function N6(s,e){return g(),y("div",F6,[Es(s.$slots,"default")])}const hi=nf(L6,[["render",N6]]),Qc=ve({__name:"Collapsible",props:{open:{type:Boolean,default:!1}},setup(s){const t=E(s.open);return(o,i)=>(g(),y(oe,null,[n("div",{onClick:i[0]||(i[0]=Ve(r=>t.value=!t.value,["prevent"]))},[Es(o.$slots,"trigger",{open:t.value})]),t.value?Es(o.$slots,"content",{key:0}):j("",!0)],64))}}),Gs=ve({__name:"Dropdown",props:{shouldClose:{type:Boolean},closeOutside:{type:Boolean},close:{type:Boolean}},emits:["toggle"],setup(s,{emit:e}){const t=s;Ur(()=>{t.shouldClose&&c()}),Pt(()=>t.close,h=>{h&&c()});const o=E(!1),i=E(null),r=E(null),a=e;function l(){o.value=!o.value}Pt(o,h=>{a("toggle",h),h?window.addEventListener("click",t.closeOutside?u:m,{capture:!0}):window.removeEventListener("click",t.closeOutside?u:m,{capture:!0})});function c(){o.value=!1}function u(h){const p=i.value;!p||p===h.target||h.composedPath().includes(p)||c()}function m(h){const p=i.value,_=r.value;(!_||_===h.target||h.composedPath().includes(_))&&c(),!(!p||p===h.target||h.composedPath().includes(p))&&c()}return(h,p)=>(g(),y("div",{ref_key:"target",ref:i,class:"relative"},[n("div",{onClick:Ve(l,["prevent"])},[Es(h.$slots,"trigger")]),S(s5,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:W(()=>[o.value?(g(),y("div",{key:0,ref_key:"content",ref:r},[Es(h.$slots,"content")],512)):j("",!0)]),_:3})],512))}});function z6(){const s=Ec();s.isBlankPage=!0,Em(()=>s.isBlankPage=!1)}const U6={class:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},B6={class:"mx-auto max-w-max"},V6={class:"sm:flex"},H6=["textContent"],q6={class:"sm:ml-6"},W6={class:"sm:border-l sm:border-gray-200 sm:pl-6"},K6=["textContent"],Y6=["textContent"],hy=ve({__name:"ErrorPage",props:{code:{},heading:{},description:{}},setup(s){return z6(),(e,t)=>(g(),y("div",U6,[n("div",B6,[n("main",V6,[n("p",{class:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",textContent:d(s.code)},null,8,H6),n("div",q6,[n("div",W6,[n("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl",textContent:d(s.heading)},null,8,K6),n("p",{class:"mt-1 text-base text-gray-500",textContent:d(s.description)},null,8,Y6)])])])])]))}}),_o=ve({__name:"ModalBase",props:{width:{default:"max-w-2xl"}},emits:["close"],setup(s,{emit:e}){const t=e;function o(){t("close"),Ft().pop()}return(i,r)=>(g(),y("div",{class:"fixed inset-0 z-[250] flex min-h-screen items-center justify-center overflow-y-auto bg-gray-500 bg-opacity-75 p-4",onClick:o},[n("div",{class:X(["modal-content relative w-full rounded-lg bg-white shadow-xl",[s.width]]),onClick:r[0]||(r[0]=Ve(()=>{},["stop"]))},[Es(i.$slots,"default")],2)]))}}),G6={},X6={class:"animate-pulse px-6"};function J6(s,e){return g(),y(oe,null,[n("div",X6,[(g(),y(oe,null,ue(2,t=>n("div",{key:t,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},[...e[0]||(e[0]=[n("label",{class:"mr-16 h-4 rounded bg-gray-200 sm:mt-px sm:pt-2"},null,-1),n("div",{class:"h-4 rounded bg-gray-200 sm:col-span-2"},"",-1)])])),64))]),e[1]||(e[1]=n("div",{class:"sticky bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},[n("span",{class:"h-4 w-32 rounded bg-gray-300"},"")],-1))],64)}const gy=nf(G6,[["render",J6]]),Q6=["width","height"],Z6=["stroke-width"],e8=["stroke-width"],it=ve({__name:"Loader",props:{size:{default:"40"},color:{default:"text-gray-800"},thick:{default:"4"}},setup(s){return(e,t)=>(g(),y("svg",{class:X(["animate-spin stroke-current",s.color]),viewBox:"0 0 32 32",width:s.size,height:s.size},[n("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{opacity:"0.2"}},null,8,Z6),n("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{"stroke-dasharray":"80","stroke-dashoffset":"60"}},null,8,e8)],10,Q6))}}),t8=["href"],s8=["disabled"],Le=ve({__name:"TheButton",props:{href:{default:""},processing:{type:Boolean},disabled:{type:Boolean},white:{type:Boolean},danger:{type:Boolean},size:{default:"md"}},setup(s){const e=s;let t="inline-flex items-center border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",o={xs:" px-2.5 py-1.5 text-xs rounded",sm:" px-3 py-2 text-sm leading-4 rounded-md",md:" px-4 py-2 text-sm rounded-md",lg:" px-4 py-2 text-base rounded-md",xl:" px-6 py-3 text-base rounded-md"},i={xs:"16",sm:"16",md:"20",lg:"20",xl:"22"},r=" text-gray-700 border-gray-300 bg-white hover:bg-gray-50 focus:ring-indigo-500",a=" text-white border-transparent bg-red-600 hover:bg-red-700 focus:ring-red-500",l=" text-white border-transparent bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",c=e.white?"":"text-white",u=i[e.size];return e.white?t=t.concat(r,o[e.size]):e.danger?t=t.concat(a,o[e.size]):t=t.concat(l,o[e.size]),(m,h)=>s.href?(g(),y("a",{key:0,href:s.href,class:X([f(t)])},[Es(m.$slots,"default"),s.processing?(g(),re(it,{key:0,class:"ltr:ml-2 rtl:mr-2",size:f(u),color:f(c)},null,8,["size","color"])):j("",!0)],10,t8)):(g(),y("button",{key:1,class:X([f(t)]),disabled:s.disabled||s.processing},[Es(m.$slots,"default"),s.processing?(g(),re(it,{key:0,class:"ltr:ml-2 rtl:mr-2",size:f(u),color:f(c)},null,8,["size","color"])):j("",!0)],10,s8))}}),n8={key:1},o8={class:"px-6 pt-6"},i8={class:"text-xl font-semibold text-gray-900","data-cy":"page-title"},r8={class:"px-6"},a8={class:"grid grid-cols-12 gap-6 pt-3 pb-6"},l8={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},bs=ve({__name:"FormModal",props:{id:{},name:{},uri:{},title:{},size:{}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=Me(()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full"})[t.size||"lg"]||"max-w-2xl"),r=Me(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let c=0;c<l.length;c++)l[c]=l[c].charAt(0).toUpperCase()+l[c].slice(1);return l.join(" ")});t.name&&As("form_name",t.name);let a;return t.name&&t.uri?(a=_s(t.name)(),a.init(t.uri,t.id)):a={fetching:!1,submitting:!1,submit:()=>{}},(l,c)=>(g(),re(_o,{width:i.value,onClose:c[1]||(c[1]=u=>o("close"))},{default:W(()=>[s.name&&s.uri?(g(),y(oe,{key:0},[f(a).fetching?(g(),re(gy,{key:0})):(g(),y("section",n8,[n("div",o8,[n("h1",i8,d(s.title||(s.id?l.__(`Edit ${r.value}`):l.__(`Create ${r.value}`))),1)]),n("div",r8,[n("div",a8,[Es(l.$slots,"default")])]),n("div",l8,[S(Le,{class:"mr-3",white:"",disabled:f(a).submitting,onClick:c[0]||(c[0]=u=>f(Ft)().pop())},{default:W(()=>[J(d(l.__("Cancel")),1)]),_:1},8,["disabled"]),S(Le,{"data-cy":"submit-button",processing:f(a).submitting,onClick:f(a).submit},{default:W(()=>[J(d(s.id?l.__(`Update ${r.value}`):l.__(`Create ${r.value}`)),1)]),_:1},8,["processing","onClick"])])]))],64)):Es(l.$slots,"default",{key:1})]),_:3},8,["width"]))}}),d8={key:1},c8={key:0,class:"border-b border-gray-200 px-6 py-4"},u8={class:"text-lg font-semibold text-gray-900"},m8={class:"px-6 py-4"},f8={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},p8={key:0},h8={key:1},Uo=ve({__name:"FormBase",props:{id:{},name:{},uri:{},title:{},saveOnly:{type:Boolean},buttonText:{},externalForm:{}},emits:["submit","cancel"],setup(s,{emit:e}){const t=s,o=e,i=Me(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let c=0;c<l.length;c++)l[c]=l[c].charAt(0).toUpperCase()+l[c].slice(1);return l.join(" ")});t.name&&As("form_name",t.name);let r;t.externalForm?r=t.externalForm:t.name&&t.uri?(r=_s(t.name)(),r.init(t.uri)):r={fetching:!1,submitting:!1,submit:()=>o("submit")};const a=()=>{t.externalForm?o("cancel"):Ft().pop()};return(l,c)=>(g(),re(f(hi),null,{default:W(()=>[f(r).fetching?(g(),re(gy,{key:0})):(g(),y("section",d8,[l.$slots.title?(g(),y("div",c8,[n("h2",u8,[Es(l.$slots,"title")])])):j("",!0),n("div",m8,[Es(l.$slots,"default")]),n("div",f8,[s.saveOnly?j("",!0):(g(),re(f(Le),{key:0,class:"mr-3",white:"",disabled:f(r).submitting,onClick:a},{default:W(()=>[J(d(l.__("Cancel")),1)]),_:1},8,["disabled"])),S(f(Le),{"data-cy":"submit-button",processing:f(r).submitting,onClick:f(r).submit},{default:W(()=>[s.saveOnly?(g(),y("span",p8,d(l.__("Save")),1)):(g(),y("span",h8,d(s.buttonText||(s.id?l.__("Update"):l.__("Create"))+" "+i.value),1))]),_:1},8,["processing","onClick"])])]))]),_:3}))}}),g8={class:"hidden sm:block"},_8={class:"text-sm text-gray-700"},v8={class:"font-medium text-gray-600"},y8={class:"font-medium text-gray-600"},x8={key:0,class:"flex flex-1 justify-between sm:justify-end"},Rs=ve({__name:"IndexPagination",props:{index:{},classes:{default:"px-4 sm:px-6 border-t border-gray-200"}},setup(s){return(e,t)=>(g(),y("nav",{class:X(["flex items-center justify-between bg-white py-3",[s.classes]]),"aria-label":"Pagination"},[n("div",g8,[n("p",_8,[J(d(e.__("Showing"))+" ",1),n("span",v8,d(s.index.data.from),1),J(" "+d(e.__("to"))+" ",1),n("span",y8,d(s.index.data.to),1)])]),s.index.data.next_page_url||s.index.data.prev_page_url?(g(),y("div",x8,[n("span",{class:X(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",{"pointer-events-none opacity-50":!s.index.data.prev_page_url}]),onClick:t[0]||(t[0]=o=>s.index.prev())},d(e.__("Previous")),3),n("span",{class:X(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ltr:ml-3 rtl:mr-3",{"pointer-events-none opacity-50":!s.index.data.next_page_url}]),onClick:t[1]||(t[1]=o=>s.index.next())},d(e.__("Next")),3)])):j("",!0)],2))}}),b8={key:0,class:"ml-2 font-bold text-white"},w8={class:"absolute z-30 mt-2 max-h-80 w-72 origin-top-left overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 shadow-lg ltr:left-0 rtl:right-0"},k8={class:"shadow-xs rounded-md bg-white",role:"menu","aria-orientation":"vertical","aria-labelledby":"filters"},$8=ve({__name:"IndexFilters",props:{name:{}},setup(s){const t=js(s.name)();return(o,i)=>(g(),re(f(Gs),{name:"filter",class:"ltr:ml-4 rtl:mr-4","close-outside":""},{trigger:W(()=>[n("button",{class:X(["inline-flex justify-center rounded-md border border-gray-300 bg-white px-3.5 py-2 text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none",{"bg-gray-700 hover:bg-gray-700":f(t).appliedFilters.length}])},[S(f(y$),{class:X(["w-5",f(t).appliedFilters.length?"text-white":"text-gray-400"])},null,8,["class"]),f(t).appliedFilters.length?(g(),y("span",b8,d(f(t).appliedFilters.length),1)):j("",!0)],2)]),content:W(()=>[n("div",w8,[n("div",k8,[f(t).appliedFilters.length?(g(),y("div",{key:0,class:"cursor-pointer border-b border-gray-200 bg-gray-50 py-2 text-center text-sm font-medium uppercase text-gray-600 hover:text-gray-400",onClick:i[0]||(i[0]=(...r)=>f(t).resetFilters&&f(t).resetFilters(...r))},d(o.__("Reset Filters")),1)):j("",!0),(g(!0),y(oe,null,ue(f(t).filters,r=>(g(),re(Xn(r==null?void 0:r.component),{key:r==null?void 0:r.name,filter:r,name:s.name},null,8,["filter","name"]))),128))])])]),_:1}))}}),C8={class:"mt-6 text-center text-gray-500"},wl=ve({__name:"IndexNoData",props:{btnTo:{},btnText:{},noCreate:{type:Boolean}},setup(s){return(e,t)=>(g(),re(hi,{class:"px-6 py-16"},{default:W(()=>[t[0]||(t[0]=n("div",{class:"flex justify-center"},[n("svg",{width:"65",height:"51",viewBox:"0 0 65 51",class:"fill-current text-gray-400"},[n("path",{d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})])],-1)),n("p",C8,d(e.__("No record matched the given criteria.")),1)]),_:1}))}}),S8={class:"flex"},M8={key:0,class:"relative mb-4 w-64 rounded-md shadow-sm"},T8=["placeholder"],D8={key:0,class:"mt-8 flex justify-center"},A8=["data-cy"],of=ve({__name:"IndexTable",props:{name:{},uri:{},filterUri:{default:""},shallowUri:{default:""},btnTo:{default:""},btnText:{default:""},noCreate:{type:Boolean},noFilters:{type:Boolean},noSearch:{type:Boolean},orderByDirection:{default:"desc"},searchColumn:{default:"name"}},setup(s){const e=s,t=js(e.name)();return t.setConfig(e),t.fetch(),e.noFilters||t.getFilters(),(o,i)=>{var r;return g(),y(oe,null,[n("div",S8,[s.noSearch?j("",!0):(g(),y("div",M8,[i[2]||(i[2]=n("div",{class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},[n("svg",{class:"h-5 w-5 text-gray-400","x-description":"Heroicon name: search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),z(n("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>f(t).params.search=a),type:"search",placeholder:o.__("Search"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:i[1]||(i[1]=(...a)=>f(t).onSearch&&f(t).onSearch(...a))},null,40,T8),[[K,f(t).params.search]])])),s.noFilters?j("",!0):(g(),re($8,{key:1,name:s.name},null,8,["name"]))]),f(t).fetching?(g(),y("div",D8,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",{key:1,"data-cy":s.name?"index-"+s.name:"index"},[(r=f(t).data)!=null&&r.length?Es(o.$slots,"default",{key:1,index:f(t),items:f(t).data}):(g(),re(wl,{key:0,"no-create":s.noCreate||o.cannot(`${s.name}:create`),"btn-text":s.btnText,"btn-to":s.btnTo},null,8,["no-create","btn-text","btn-to"]))],8,A8))],64)}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kl(s){return s+.5|0}const ti=(s,e,t)=>Math.max(Math.min(s,t),e);function ya(s){return ti(kl(s*2.55),0,255)}function mi(s){return ti(kl(s*255),0,255)}function To(s){return ti(kl(s/2.55)/100,0,1)}function Mh(s){return ti(kl(s*100),0,100)}const En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tm=[..."0123456789ABCDEF"],P8=s=>tm[s&15],E8=s=>tm[(s&240)>>4]+tm[s&15],Vl=s=>(s&240)>>4===(s&15),j8=s=>Vl(s.r)&&Vl(s.g)&&Vl(s.b)&&Vl(s.a);function R8(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&En[s[1]]*17,g:255&En[s[2]]*17,b:255&En[s[3]]*17,a:e===5?En[s[4]]*17:255}:(e===7||e===9)&&(t={r:En[s[1]]<<4|En[s[2]],g:En[s[3]]<<4|En[s[4]],b:En[s[5]]<<4|En[s[6]],a:e===9?En[s[7]]<<4|En[s[8]]:255})),t}const I8=(s,e)=>s<255?e(s):"";function O8(s){var e=j8(s)?P8:E8;return s?"#"+e(s.r)+e(s.g)+e(s.b)+I8(s.a,e):void 0}const L8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _y(s,e,t){const o=e*Math.min(t,1-t),i=(r,a=(r+s/30)%12)=>t-o*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function F8(s,e,t){const o=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[o(5),o(3),o(1)]}function N8(s,e,t){const o=_y(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)o[i]*=1-e-t,o[i]+=e;return o}function z8(s,e,t,o,i){return s===i?(e-t)/o+(e<t?6:0):e===i?(t-s)/o+2:(s-e)/o+4}function rf(s){const t=s.r/255,o=s.g/255,i=s.b/255,r=Math.max(t,o,i),a=Math.min(t,o,i),l=(r+a)/2;let c,u,m;return r!==a&&(m=r-a,u=l>.5?m/(2-r-a):m/(r+a),c=z8(t,o,i,m,r),c=c*60+.5),[c|0,u||0,l]}function af(s,e,t,o){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,o)).map(mi)}function lf(s,e,t){return af(_y,s,e,t)}function U8(s,e,t){return af(N8,s,e,t)}function B8(s,e,t){return af(F8,s,e,t)}function vy(s){return(s%360+360)%360}function V8(s){const e=L8.exec(s);let t=255,o;if(!e)return;e[5]!==o&&(t=e[6]?ya(+e[5]):mi(+e[5]));const i=vy(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?o=U8(i,r,a):e[1]==="hsv"?o=B8(i,r,a):o=lf(i,r,a),{r:o[0],g:o[1],b:o[2],a:t}}function H8(s,e){var t=rf(s);t[0]=vy(t[0]+e),t=lf(t),s.r=t[0],s.g=t[1],s.b=t[2]}function q8(s){if(!s)return;const e=rf(s),t=e[0],o=Mh(e[1]),i=Mh(e[2]);return s.a<255?`hsla(${t}, ${o}%, ${i}%, ${To(s.a)})`:`hsl(${t}, ${o}%, ${i}%)`}const Th={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function W8(){const s={},e=Object.keys(Dh),t=Object.keys(Th);let o,i,r,a,l;for(o=0;o<e.length;o++){for(a=l=e[o],i=0;i<t.length;i++)r=t[i],l=l.replace(r,Th[r]);r=parseInt(Dh[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Hl;function K8(s){Hl||(Hl=W8(),Hl.transparent=[0,0,0,0]);const e=Hl[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Y8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G8(s){const e=Y8.exec(s);let t=255,o,i,r;if(e){if(e[7]!==o){const a=+e[7];t=e[8]?ya(a):ti(a*255,0,255)}return o=+e[1],i=+e[3],r=+e[5],o=255&(e[2]?ya(o):ti(o,0,255)),i=255&(e[4]?ya(i):ti(i,0,255)),r=255&(e[6]?ya(r):ti(r,0,255)),{r:o,g:i,b:r,a:t}}}function X8(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${To(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Yu=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,mr=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function J8(s,e,t){const o=mr(To(s.r)),i=mr(To(s.g)),r=mr(To(s.b));return{r:mi(Yu(o+t*(mr(To(e.r))-o))),g:mi(Yu(i+t*(mr(To(e.g))-i))),b:mi(Yu(r+t*(mr(To(e.b))-r))),a:s.a+t*(e.a-s.a)}}function ql(s,e,t){if(s){let o=rf(s);o[e]=Math.max(0,Math.min(o[e]+o[e]*t,e===0?360:1)),o=lf(o),s.r=o[0],s.g=o[1],s.b=o[2]}}function yy(s,e){return s&&Object.assign(e||{},s)}function Ah(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=mi(s[3]))):(e=yy(s,{r:0,g:0,b:0,a:1}),e.a=mi(e.a)),e}function Q8(s){return s.charAt(0)==="r"?G8(s):V8(s)}class ol{constructor(e){if(e instanceof ol)return e;const t=typeof e;let o;t==="object"?o=Ah(e):t==="string"&&(o=R8(e)||K8(e)||Q8(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=yy(this._rgb);return e&&(e.a=To(e.a)),e}set rgb(e){this._rgb=Ah(e)}rgbString(){return this._valid?X8(this._rgb):void 0}hexString(){return this._valid?O8(this._rgb):void 0}hslString(){return this._valid?q8(this._rgb):void 0}mix(e,t){if(e){const o=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,c=o.a-i.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;r=1-u,o.r=255&u*o.r+r*i.r+.5,o.g=255&u*o.g+r*i.g+.5,o.b=255&u*o.b+r*i.b+.5,o.a=a*o.a+(1-a)*i.a,this.rgb=o}return this}interpolate(e,t){return e&&(this._rgb=J8(this._rgb,e._rgb,t)),this}clone(){return new ol(this.rgb)}alpha(e){return this._rgb.a=mi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=kl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ql(this._rgb,2,e),this}darken(e){return ql(this._rgb,2,-e),this}saturate(e){return ql(this._rgb,1,e),this}desaturate(e){return ql(this._rgb,1,-e),this}rotate(e){return H8(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ko(){}const Z8=(()=>{let s=0;return()=>s++})();function Ct(s){return s==null}function Jt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function ss(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function kn(s,e){return ss(s)?s:e}function ht(s,e){return typeof s>"u"?e:s}const eC=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,xy=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Wt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function It(s,e,t,o){let i,r,a;if(Jt(s))if(r=s.length,o)for(i=r-1;i>=0;i--)e.call(t,s[i],i);else for(i=0;i<r;i++)e.call(t,s[i],i);else if(xt(s))for(a=Object.keys(s),r=a.length,i=0;i<r;i++)e.call(t,s[a[i]],a[i])}function tc(s,e){let t,o,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,o=s.length;t<o;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function sc(s){if(Jt(s))return s.map(sc);if(xt(s)){const e=Object.create(null),t=Object.keys(s),o=t.length;let i=0;for(;i<o;++i)e[t[i]]=sc(s[t[i]]);return e}return s}function by(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function tC(s,e,t,o){if(!by(s))return;const i=e[s],r=t[s];xt(i)&&xt(r)?il(i,r,o):e[s]=sc(r)}function il(s,e,t){const o=Jt(e)?e:[e],i=o.length;if(!xt(s))return s;t=t||{};const r=t.merger||tC;let a;for(let l=0;l<i;++l){if(a=o[l],!xt(a))continue;const c=Object.keys(a);for(let u=0,m=c.length;u<m;++u)r(c[u],s,a,t)}return s}function Na(s,e){return il(s,e,{merger:sC})}function sC(s,e,t){if(!by(s))return;const o=e[s],i=t[s];xt(o)&&xt(i)?Na(o,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=sc(i))}const Ph={"":s=>s,x:s=>s.x,y:s=>s.y};function nC(s){const e=s.split("."),t=[];let o="";for(const i of e)o+=i,o.endsWith("\\")?o=o.slice(0,-1)+".":(t.push(o),o="");return t}function oC(s){const e=nC(s);return t=>{for(const o of e){if(o==="")break;t=t&&t[o]}return t}}function nr(s,e){return(Ph[e]||(Ph[e]=oC(e)))(s)}function df(s){return s.charAt(0).toUpperCase()+s.slice(1)}const rl=s=>typeof s<"u",gi=s=>typeof s=="function",Eh=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function iC(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Lt=Math.PI,Kt=2*Lt,rC=Kt+Lt,nc=Number.POSITIVE_INFINITY,aC=Lt/180,as=Lt/2,Pi=Lt/4,jh=Lt*2/3,si=Math.log10,ho=Math.sign;function za(s,e,t){return Math.abs(s-e)<t}function Rh(s){const e=Math.round(s);s=za(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(si(s))),o=s/t;return(o<=1?1:o<=2?2:o<=5?5:10)*t}function lC(s){const e=[],t=Math.sqrt(s);let o;for(o=1;o<t;o++)s%o===0&&(e.push(o),e.push(s/o));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function dC(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function al(s){return!dC(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function cC(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function wy(s,e,t){let o,i,r;for(o=0,i=s.length;o<i;o++)r=s[o][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function po(s){return s*(Lt/180)}function cf(s){return s*(180/Lt)}function Ih(s){if(!ss(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function ky(s,e){const t=e.x-s.x,o=e.y-s.y,i=Math.sqrt(t*t+o*o);let r=Math.atan2(o,t);return r<-.5*Lt&&(r+=Kt),{angle:r,distance:i}}function sm(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function uC(s,e){return(s-e+rC)%Kt-Lt}function Us(s){return(s%Kt+Kt)%Kt}function ll(s,e,t,o){const i=Us(s),r=Us(e),a=Us(t),l=Us(r-i),c=Us(a-i),u=Us(i-r),m=Us(i-a);return i===r||i===a||o&&r===a||l>c&&u<m}function Ws(s,e,t){return Math.max(e,Math.min(t,s))}function mC(s){return Ws(s,-32768,32767)}function Eo(s,e,t,o=1e-6){return s>=Math.min(e,t)-o&&s<=Math.max(e,t)+o}function uf(s,e,t){t=t||(a=>s[a]<e);let o=s.length-1,i=0,r;for(;o-i>1;)r=i+o>>1,t(r)?i=r:o=r;return{lo:i,hi:o}}const Ki=(s,e,t,o)=>uf(s,t,o?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),fC=(s,e,t)=>uf(s,t,o=>s[o][e]>=t);function pC(s,e,t){let o=0,i=s.length;for(;o<i&&s[o]<e;)o++;for(;i>o&&s[i-1]>t;)i--;return o>0||i<s.length?s.slice(o,i):s}const $y=["push","pop","shift","splice","unshift"];function hC(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$y.forEach(t=>{const o="_onData"+df(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[o]=="function"&&l[o](...r)}),a}})})}function Oh(s,e){const t=s._chartjs;if(!t)return;const o=t.listeners,i=o.indexOf(e);i!==-1&&o.splice(i,1),!(o.length>0)&&($y.forEach(r=>{delete s[r]}),delete s._chartjs)}function Cy(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Sy=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function My(s,e){let t=[],o=!1;return function(...i){t=i,o||(o=!0,Sy.call(window,()=>{o=!1,s.apply(e,t)}))}}function gC(s,e){let t;return function(...o){return e?(clearTimeout(t),t=setTimeout(s,e,o)):s.apply(this,o),e}}const Ty=s=>s==="start"?"left":s==="end"?"right":"center",bn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,_C=(s,e,t,o)=>s===(o?"left":"right")?t:s==="center"?(e+t)/2:e;function vC(s,e,t){const o=e.length;let i=0,r=o;if(s._sorted){const{iScale:a,vScale:l,_parsed:c}=s,u=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,m=a.axis,{min:h,max:p,minDefined:_,maxDefined:v}=a.getUserBounds();if(_){if(i=Math.min(Ki(c,m,h).lo,t?o:Ki(e,m,a.getPixelForValue(h)).lo),u){const x=c.slice(0,i+1).reverse().findIndex(w=>!Ct(w[l.axis]));i-=Math.max(0,x)}i=Ws(i,0,o-1)}if(v){let x=Math.max(Ki(c,a.axis,p,!0).hi+1,t?0:Ki(e,m,a.getPixelForValue(p),!0).hi+1);if(u){const w=c.slice(x-1).findIndex(b=>!Ct(b[l.axis]));x+=Math.max(0,w)}r=Ws(x,i,o)-i}else r=o-i}return{start:i,count:r}}function yC(s){const{xScale:e,yScale:t,_scaleRanges:o}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!o)return s._scaleRanges=i,!0;const r=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==t.min||o.ymax!==t.max;return Object.assign(o,i),r}const Wl=s=>s===0||s===1,Lh=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Kt/t)),Fh=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Kt/t)+1,Ua={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*as)+1,easeOutSine:s=>Math.sin(s*as),easeInOutSine:s=>-.5*(Math.cos(Lt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Wl(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Wl(s)?s:Lh(s,.075,.3),easeOutElastic:s=>Wl(s)?s:Fh(s,.075,.3),easeInOutElastic(s){return Wl(s)?s:s<.5?.5*Lh(s*2,.1125,.45):.5+.5*Fh(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Ua.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Ua.easeInBounce(s*2)*.5:Ua.easeOutBounce(s*2-1)*.5+.5};function mf(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Nh(s){return mf(s)?s:new ol(s)}function Gu(s){return mf(s)?s:new ol(s).saturate(.5).darken(.1).hexString()}const xC=["x","y","borderWidth","radius","tension"],bC=["color","borderColor","backgroundColor"];function wC(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:bC},numbers:{type:"number",properties:xC}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kC(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zh=new Map;function $C(s,e){e=e||{};const t=s+JSON.stringify(e);let o=zh.get(t);return o||(o=new Intl.NumberFormat(s,e),zh.set(t,o)),o}function Zc(s,e,t){return $C(e,t).format(s)}const Dy={values(s){return Jt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const o=this.chart.options.locale;let i,r=s;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=CC(s,t)}const a=si(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Zc(s,o,c)},logarithmic(s,e,t){if(s===0)return"0";const o=t[e].significand||s/Math.pow(10,Math.floor(si(s)));return[1,2,3,5,10,15].includes(o)||e>.8*t.length?Dy.numeric.call(this,s,e,t):""}};function CC(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var eu={formatters:Dy};function SC(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const or=Object.create(null),nm=Object.create(null);function Ba(s,e){if(!e)return s;const t=e.split(".");for(let o=0,i=t.length;o<i;++o){const r=t[o];s=s[r]||(s[r]=Object.create(null))}return s}function Xu(s,e,t){return typeof e=="string"?il(Ba(s,e),t):il(Ba(s,""),e)}class MC{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,i)=>Gu(i.backgroundColor),this.hoverBorderColor=(o,i)=>Gu(i.borderColor),this.hoverColor=(o,i)=>Gu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Xu(this,e,t)}get(e){return Ba(this,e)}describe(e,t){return Xu(nm,e,t)}override(e,t){return Xu(or,e,t)}route(e,t,o,i){const r=Ba(this,e),a=Ba(this,o),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],u=a[i];return xt(c)?Object.assign({},u,c):ht(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var ns=new MC({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wC,kC,SC]);function TC(s){return!s||Ct(s.size)||Ct(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function oc(s,e,t,o,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>o&&(o=r),o}function DC(s,e,t,o){o=o||{};let i=o.data=o.data||{},r=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(i=o.data={},r=o.garbageCollect=[],o.font=e),s.save(),s.font=e;let a=0;const l=t.length;let c,u,m,h,p;for(c=0;c<l;c++)if(h=t[c],h!=null&&!Jt(h))a=oc(s,i,r,a,h);else if(Jt(h))for(u=0,m=h.length;u<m;u++)p=h[u],p!=null&&!Jt(p)&&(a=oc(s,i,r,a,p));s.restore();const _=r.length/2;if(_>t.length){for(c=0;c<_;c++)delete i[r[c]];r.splice(0,_)}return a}function Ei(s,e,t){const o=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*o)/o+i}function Uh(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function om(s,e,t,o){Ay(s,e,t,o,null)}function Ay(s,e,t,o,i){let r,a,l,c,u,m,h,p;const _=e.pointStyle,v=e.rotation,x=e.radius;let w=(v||0)*aC;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,o),s.rotate(w),s.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),s.restore();return}if(!(isNaN(x)||x<=0)){switch(s.beginPath(),_){default:i?s.ellipse(t,o,i/2,x,0,0,Kt):s.arc(t,o,x,0,Kt),s.closePath();break;case"triangle":m=i?i/2:x,s.moveTo(t+Math.sin(w)*m,o-Math.cos(w)*x),w+=jh,s.lineTo(t+Math.sin(w)*m,o-Math.cos(w)*x),w+=jh,s.lineTo(t+Math.sin(w)*m,o-Math.cos(w)*x),s.closePath();break;case"rectRounded":u=x*.516,c=x-u,a=Math.cos(w+Pi)*c,h=Math.cos(w+Pi)*(i?i/2-u:c),l=Math.sin(w+Pi)*c,p=Math.sin(w+Pi)*(i?i/2-u:c),s.arc(t-h,o-l,u,w-Lt,w-as),s.arc(t+p,o-a,u,w-as,w),s.arc(t+h,o+l,u,w,w+as),s.arc(t-p,o+a,u,w+as,w+Lt),s.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,m=i?i/2:c,s.rect(t-m,o-c,2*m,2*c);break}w+=Pi;case"rectRot":h=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,p=Math.sin(w)*(i?i/2:x),s.moveTo(t-h,o-l),s.lineTo(t+p,o-a),s.lineTo(t+h,o+l),s.lineTo(t-p,o+a),s.closePath();break;case"crossRot":w+=Pi;case"cross":h=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,p=Math.sin(w)*(i?i/2:x),s.moveTo(t-h,o-l),s.lineTo(t+h,o+l),s.moveTo(t+p,o-a),s.lineTo(t-p,o+a);break;case"star":h=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,p=Math.sin(w)*(i?i/2:x),s.moveTo(t-h,o-l),s.lineTo(t+h,o+l),s.moveTo(t+p,o-a),s.lineTo(t-p,o+a),w+=Pi,h=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,p=Math.sin(w)*(i?i/2:x),s.moveTo(t-h,o-l),s.lineTo(t+h,o+l),s.moveTo(t+p,o-a),s.lineTo(t-p,o+a);break;case"line":a=i?i/2:Math.cos(w)*x,l=Math.sin(w)*x,s.moveTo(t-a,o-l),s.lineTo(t+a,o+l);break;case"dash":s.moveTo(t,o),s.lineTo(t+Math.cos(w)*(i?i/2:x),o+Math.sin(w)*x);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function jo(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function tu(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function su(s){s.restore()}function AC(s,e,t,o,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!o?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function PC(s,e,t,o){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?t.cp2x:t.cp1x,o?t.cp2y:t.cp1y,t.x,t.y)}function EC(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),Ct(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function jC(s,e,t,o,i){if(i.strikethrough||i.underline){const r=s.measureText(o),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,c=t-r.actualBoundingBoxAscent,u=t+r.actualBoundingBoxDescent,m=i.strikethrough?(c+u)/2:u;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(a,m),s.lineTo(l,m),s.stroke()}}function RC(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Or(s,e,t,o,i,r={}){const a=Jt(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(s.save(),s.font=i.string,EC(s,r),c=0;c<a.length;++c)u=a[c],r.backdrop&&RC(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),Ct(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(u,t,o,r.maxWidth)),s.fillText(u,t,o,r.maxWidth),jC(s,t,o,u,r),o+=Number(i.lineHeight);s.restore()}function dl(s,e){const{x:t,y:o,w:i,h:r,radius:a}=e;s.arc(t+a.topLeft,o+a.topLeft,a.topLeft,1.5*Lt,Lt,!0),s.lineTo(t,o+r-a.bottomLeft),s.arc(t+a.bottomLeft,o+r-a.bottomLeft,a.bottomLeft,Lt,as,!0),s.lineTo(t+i-a.bottomRight,o+r),s.arc(t+i-a.bottomRight,o+r-a.bottomRight,a.bottomRight,as,0,!0),s.lineTo(t+i,o+a.topRight),s.arc(t+i-a.topRight,o+a.topRight,a.topRight,0,-as,!0),s.lineTo(t+a.topLeft,o)}const IC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LC(s,e){const t=(""+s).match(IC);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const FC=s=>+s||0;function ff(s,e){const t={},o=xt(e),i=o?Object.keys(e):e,r=xt(s)?o?a=>ht(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of i)t[a]=FC(r(a));return t}function Py(s){return ff(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Xi(s){return ff(s,["topLeft","topRight","bottomLeft","bottomRight"])}function on(s){const e=Py(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ds(s,e){s=s||{},e=e||ns.font;let t=ht(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let o=ht(s.style,e.style);o&&!(""+o).match(OC)&&(o=void 0);const i={family:ht(s.family,e.family),lineHeight:LC(ht(s.lineHeight,e.lineHeight),t),size:t,style:o,weight:ht(s.weight,e.weight),string:""};return i.string=TC(i),i}function Kl(s,e,t,o){let i=!0,r,a,l;for(r=0,a=s.length;r<a;++r)if(l=s[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),i=!1),t!==void 0&&Jt(l)&&(l=l[t%l.length],i=!1),l!==void 0))return o&&!i&&(o.cacheable=!1),l}function NC(s,e,t){const{min:o,max:i}=s,r=xy(e,(i-o)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(o,-Math.abs(r)),max:a(i,r)}}function wi(s,e){return Object.assign(Object.create(s),e)}function pf(s,e=[""],t,o,i=()=>s[0]){const r=t||s;typeof o>"u"&&(o=Iy("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:o,_getTarget:i,override:l=>pf([l,...s],e,r,o)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return jy(l,c,()=>KC(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return Vh(l).includes(c)},ownKeys(l){return Vh(l)},set(l,c,u){const m=l._storage||(l._storage=i());return l[c]=m[c]=u,delete l._keys,!0}})}function Lr(s,e,t,o){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Ey(s,o),setContext:r=>Lr(s,r,t,o),override:r=>Lr(s.override(r),e,t,o)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return jy(r,a,()=>UC(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function Ey(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:o=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:o,isScriptable:gi(t)?t:()=>t,isIndexable:gi(o)?o:()=>o}}const zC=(s,e)=>s?s+df(e):e,hf=(s,e)=>xt(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function jy(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const o=t();return s[e]=o,o}function UC(s,e,t){const{_proxy:o,_context:i,_subProxy:r,_descriptors:a}=s;let l=o[e];return gi(l)&&a.isScriptable(e)&&(l=BC(e,l,s,t)),Jt(l)&&l.length&&(l=VC(e,l,s,a.isIndexable)),hf(e,l)&&(l=Lr(l,i,r&&r[e],a)),l}function BC(s,e,t,o){const{_proxy:i,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(r,a||o);return l.delete(s),hf(s,c)&&(c=gf(i._scopes,i,s,c)),c}function VC(s,e,t,o){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&o(s))return e[r.index%e.length];if(xt(e[0])){const c=e,u=i._scopes.filter(m=>m!==c);e=[];for(const m of c){const h=gf(u,i,s,m);e.push(Lr(h,r,a&&a[s],l))}}return e}function Ry(s,e,t){return gi(s)?s(e,t):s}const HC=(s,e)=>s===!0?e:typeof s=="string"?nr(e,s):void 0;function qC(s,e,t,o,i){for(const r of e){const a=HC(t,r);if(a){s.add(a);const l=Ry(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==o)return l}else if(a===!1&&typeof o<"u"&&t!==o)return null}return!1}function gf(s,e,t,o){const i=e._rootScopes,r=Ry(e._fallback,t,o),a=[...s,...i],l=new Set;l.add(o);let c=Bh(l,a,t,r||t,o);return c===null||typeof r<"u"&&r!==t&&(c=Bh(l,a,r,c,o),c===null)?!1:pf(Array.from(l),[""],i,r,()=>WC(e,t,o))}function Bh(s,e,t,o,i){for(;t;)t=qC(s,e,t,o,i);return t}function WC(s,e,t){const o=s._getTarget();e in o||(o[e]={});const i=o[e];return Jt(i)&&xt(t)?t:i||{}}function KC(s,e,t,o){let i;for(const r of e)if(i=Iy(zC(r,s),t),typeof i<"u")return hf(s,i)?gf(t,o,s,i):i}function Iy(s,e){for(const t of e){if(!t)continue;const o=t[s];if(typeof o<"u")return o}}function Vh(s){let e=s._keys;return e||(e=s._keys=YC(s._scopes)),e}function YC(s){const e=new Set;for(const t of s)for(const o of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(o);return Array.from(e)}const GC=Number.EPSILON||1e-14,Fr=(s,e)=>e<s.length&&!s[e].skip&&s[e],Oy=s=>s==="x"?"y":"x";function XC(s,e,t,o){const i=s.skip?e:s,r=e,a=t.skip?e:t,l=sm(r,i),c=sm(a,r);let u=l/(l+c),m=c/(l+c);u=isNaN(u)?0:u,m=isNaN(m)?0:m;const h=o*u,p=o*m;return{previous:{x:r.x-h*(a.x-i.x),y:r.y-h*(a.y-i.y)},next:{x:r.x+p*(a.x-i.x),y:r.y+p*(a.y-i.y)}}}function JC(s,e,t){const o=s.length;let i,r,a,l,c,u=Fr(s,0);for(let m=0;m<o-1;++m)if(c=u,u=Fr(s,m+1),!(!c||!u)){if(za(e[m],0,GC)){t[m]=t[m+1]=0;continue}i=t[m]/e[m],r=t[m+1]/e[m],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[m]=i*a*e[m],t[m+1]=r*a*e[m])}}function QC(s,e,t="x"){const o=Oy(t),i=s.length;let r,a,l,c=Fr(s,0);for(let u=0;u<i;++u){if(a=l,l=c,c=Fr(s,u+1),!l)continue;const m=l[t],h=l[o];a&&(r=(m-a[t])/3,l[`cp1${t}`]=m-r,l[`cp1${o}`]=h-r*e[u]),c&&(r=(c[t]-m)/3,l[`cp2${t}`]=m+r,l[`cp2${o}`]=h+r*e[u])}}function ZC(s,e="x"){const t=Oy(e),o=s.length,i=Array(o).fill(0),r=Array(o);let a,l,c,u=Fr(s,0);for(a=0;a<o;++a)if(l=c,c=u,u=Fr(s,a+1),!!c){if(u){const m=u[e]-c[e];i[a]=m!==0?(u[t]-c[t])/m:0}r[a]=l?u?ho(i[a-1])!==ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}JC(s,i,r),QC(s,r,e)}function Yl(s,e,t){return Math.max(Math.min(s,t),e)}function e7(s,e){let t,o,i,r,a,l=jo(s[0],e);for(t=0,o=s.length;t<o;++t)a=r,r=l,l=t<o-1&&jo(s[t+1],e),r&&(i=s[t],a&&(i.cp1x=Yl(i.cp1x,e.left,e.right),i.cp1y=Yl(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Yl(i.cp2x,e.left,e.right),i.cp2y=Yl(i.cp2y,e.top,e.bottom)))}function t7(s,e,t,o,i){let r,a,l,c;if(e.spanGaps&&(s=s.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ZC(s,i);else{let u=o?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],c=XC(u,l,s[Math.min(r+1,a-(o?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&e7(s,t)}function _f(){return typeof window<"u"&&typeof document<"u"}function vf(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ic(s,e,t){let o;return typeof s=="string"?(o=parseInt(s,10),s.indexOf("%")!==-1&&(o=o/100*e.parentNode[t])):o=s,o}const nu=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function s7(s,e){return nu(s).getPropertyValue(e)}const n7=["top","right","bottom","left"];function Ji(s,e,t){const o={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=n7[i];o[r]=parseFloat(s[e+"-"+r+t])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const o7=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function i7(s,e){const t=s.touches,o=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=o;let a=!1,l,c;if(o7(i,r,s.target))l=i,c=r;else{const u=e.getBoundingClientRect();l=o.clientX-u.left,c=o.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Ni(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:o}=e,i=nu(t),r=i.boxSizing==="border-box",a=Ji(i,"padding"),l=Ji(i,"border","width"),{x:c,y:u,box:m}=i7(s,t),h=a.left+(m&&l.left),p=a.top+(m&&l.top);let{width:_,height:v}=e;return r&&(_-=a.width+l.width,v-=a.height+l.height),{x:Math.round((c-h)/_*t.width/o),y:Math.round((u-p)/v*t.height/o)}}function r7(s,e,t){let o,i;if(e===void 0||t===void 0){const r=s&&vf(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=nu(r),c=Ji(l,"border","width"),u=Ji(l,"padding");e=a.width-u.width-c.width,t=a.height-u.height-c.height,o=ic(l.maxWidth,r,"clientWidth"),i=ic(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:o||nc,maxHeight:i||nc}}const ni=s=>Math.round(s*10)/10;function a7(s,e,t,o){const i=nu(s),r=Ji(i,"margin"),a=ic(i.maxWidth,s,"clientWidth")||nc,l=ic(i.maxHeight,s,"clientHeight")||nc,c=r7(s,e,t);let{width:u,height:m}=c;if(i.boxSizing==="content-box"){const p=Ji(i,"border","width"),_=Ji(i,"padding");u-=_.width+p.width,m-=_.height+p.height}return u=Math.max(0,u-r.width),m=Math.max(0,o?u/o:m-r.height),u=ni(Math.min(u,a,c.maxWidth)),m=ni(Math.min(m,l,c.maxHeight)),u&&!m&&(m=ni(u/2)),(e!==void 0||t!==void 0)&&o&&c.height&&m>c.height&&(m=c.height,u=ni(Math.floor(m*o))),{width:u,height:m}}function Hh(s,e,t){const o=e||1,i=ni(s.height*o),r=ni(s.width*o);s.height=ni(s.height),s.width=ni(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==o||a.height!==i||a.width!==r?(s.currentDevicePixelRatio=o,a.height=i,a.width=r,s.ctx.setTransform(o,0,0,o,0,0),!0):!1}const l7=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};_f()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function qh(s,e){const t=s7(s,e),o=t&&t.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function zi(s,e,t,o){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function d7(s,e,t,o){return{x:s.x+t*(e.x-s.x),y:o==="middle"?t<.5?s.y:e.y:o==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function c7(s,e,t,o){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=zi(s,i,t),l=zi(i,r,t),c=zi(r,e,t),u=zi(a,l,t),m=zi(l,c,t);return zi(u,m,t)}const u7=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,o){return t-o},leftForLtr(t,o){return t-o}}},m7=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Cr(s,e,t){return s?u7(e,t):m7()}function Ly(s,e){let t,o;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,o=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=o)}function Fy(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Ny(s){return s==="angle"?{between:ll,compare:uC,normalize:Us}:{between:Eo,compare:(e,t)=>e-t,normalize:e=>e}}function Wh({start:s,end:e,count:t,loop:o,style:i}){return{start:s%t,end:e%t,loop:o&&(e-s+1)%t===0,style:i}}function f7(s,e,t){const{property:o,start:i,end:r}=t,{between:a,normalize:l}=Ny(o),c=e.length;let{start:u,end:m,loop:h}=s,p,_;if(h){for(u+=c,m+=c,p=0,_=c;p<_&&a(l(e[u%c][o]),i,r);++p)u--,m--;u%=c,m%=c}return m<u&&(m+=c),{start:u,end:m,loop:h,style:s.style}}function zy(s,e,t){if(!t)return[s];const{property:o,start:i,end:r}=t,a=e.length,{compare:l,between:c,normalize:u}=Ny(o),{start:m,end:h,loop:p,style:_}=f7(s,e,t),v=[];let x=!1,w=null,b,k,C;const $=()=>c(i,C,b)&&l(i,C)!==0,A=()=>l(r,b)===0||c(r,C,b),R=()=>x||$(),T=()=>!x||A();for(let F=m,L=m;F<=h;++F)k=e[F%a],!k.skip&&(b=u(k[o]),b!==C&&(x=c(b,i,r),w===null&&R()&&(w=l(b,i)===0?F:L),w!==null&&T()&&(v.push(Wh({start:w,end:F,loop:p,count:a,style:_})),w=null),L=F,C=b));return w!==null&&v.push(Wh({start:w,end:h,loop:p,count:a,style:_})),v}function Uy(s,e){const t=[],o=s.segments;for(let i=0;i<o.length;i++){const r=zy(o[i],s.points,e);r.length&&t.push(...r)}return t}function p7(s,e,t,o){let i=0,r=e-1;if(t&&!o)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function h7(s,e,t,o){const i=s.length,r=[];let a=e,l=s[e],c;for(c=e+1;c<=t;++c){const u=s[c%i];u.skip||u.stop?l.skip||(o=!1,r.push({start:e%i,end:(c-1)%i,loop:o}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&r.push({start:e%i,end:a%i,loop:o}),r}function g7(s,e){const t=s.points,o=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:a,end:l}=p7(t,i,r,o);if(o===!0)return Kh(s,[{start:a,end:l,loop:r}],t,e);const c=l<a?l+i:l,u=!!s._fullLoop&&a===0&&l===i-1;return Kh(s,h7(t,a,c,u),t,e)}function Kh(s,e,t,o){return!o||!o.setContext||!t?e:_7(s,e,t,o)}function _7(s,e,t,o){const i=s._chart.getContext(),r=Yh(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,c=t.length,u=[];let m=r,h=e[0].start,p=h;function _(v,x,w,b){const k=l?-1:1;if(v!==x){for(v+=c;t[v%c].skip;)v-=k;for(;t[x%c].skip;)x+=k;v%c!==x%c&&(u.push({start:v%c,end:x%c,loop:w,style:b}),m=b,h=x%c)}}for(const v of e){h=l?h:v.start;let x=t[h%c],w;for(p=h+1;p<=v.end;p++){const b=t[p%c];w=Yh(o.setContext(wi(i,{type:"segment",p0:x,p1:b,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),v7(w,m)&&_(h,p-1,v.loop,m),x=b,m=w}h<p-1&&_(h,p-1,v.loop,m)}return u}function Yh(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function v7(s,e){if(!e)return!1;const t=[],o=function(i,r){return mf(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,o)!==JSON.stringify(e,o)}function Gl(s,e,t){return s.options.clip?s[t]:e[t]}function y7(s,e){const{xScale:t,yScale:o}=s;return t&&o?{left:Gl(t,e,"left"),right:Gl(t,e,"right"),top:Gl(o,e,"top"),bottom:Gl(o,e,"bottom")}:e}function By(s,e){const t=e._clip;if(t.disabled)return!1;const o=y7(e,s.chartArea);return{left:t.left===!1?0:o.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:o.right+(t.right===!0?0:t.right),top:t.top===!1?0:o.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:o.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class x7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,o,i){const r=t.listeners[i],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(o-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Sy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((o,i)=>{if(!o.running||!o.items.length)return;const r=o.items;let a=r.length-1,l=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>o.duration&&(o.duration=c._total),c.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,o,e,"progress")),r.length||(o.running=!1,this._notify(i,o,e,"complete"),o.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let o=t.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,o)),o}listen(e,t,o){this._getAnims(e).listeners[t].push(o)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((o,i)=>Math.max(o,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const o=t.items;let i=o.length-1;for(;i>=0;--i)o[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $o=new x7;const Gh="transparent",b7={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const o=Nh(s||Gh),i=o.valid&&Nh(e||Gh);return i&&i.valid?i.mix(o,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class w7{constructor(e,t,o,i){const r=t[o];i=Kl([e.to,i,r,e.from]);const a=Kl([e.from,r,i]);this._active=!0,this._fn=e.fn||b7[e.type||typeof a],this._easing=Ua[e.easing]||Ua.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=o,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,o){if(this._active){this._notify(!1);const i=this._target[this._prop],r=o-this._start,a=this._duration-r;this._start=o,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Kl([e.to,t,i,e.from]),this._from=Kl([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,o=this._duration,i=this._prop,r=this._from,a=this._loop,l=this._to;let c;if(this._active=r!==l&&(a||t<o),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=r;return}c=t/o%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,o)=>{e.push({res:t,rej:o})})}_notify(e){const t=e?"res":"rej",o=this._promises||[];for(let i=0;i<o.length;i++)o[i][t]()}}class Vy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!xt(e))return;const t=Object.keys(ns.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!xt(r))return;const a={};for(const l of t)a[l]=r[l];(Jt(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!o.has(l))&&o.set(l,a)})})}_animateOptions(e,t){const o=t.options,i=$7(e,o);if(!i)return[];const r=this._createAnimations(i,o);return o.$shared&&k7(e.options.$animations,o).then(()=>{e.options=o},()=>{}),r}_createAnimations(e,t){const o=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[u];let h=r[u];const p=o.get(u);if(h)if(p&&h.active()){h.update(p,m,l);continue}else h.cancel();if(!p||!p.duration){e[u]=m;continue}r[u]=h=new w7(p,e,u,m),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const o=this._createAnimations(e,t);if(o.length)return $o.add(this._chart,o),!0}}function k7(s,e){const t=[],o=Object.keys(e);for(let i=0;i<o.length;i++){const r=s[o[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function $7(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Xh(s,e){const t=s&&s.options||{},o=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:o?r:i,end:o?i:r}}function C7(s,e,t){if(t===!1)return!1;const o=Xh(s,t),i=Xh(e,t);return{top:i.end,right:o.end,bottom:i.start,left:o.start}}function S7(s){let e,t,o,i;return xt(s)?(e=s.top,t=s.right,o=s.bottom,i=s.left):e=t=o=i=s,{top:e,right:t,bottom:o,left:i,disabled:s===!1}}function Hy(s,e){const t=[],o=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=o.length;i<r;++i)t.push(o[i].index);return t}function Jh(s,e,t,o={}){const i=s.keys,r=o.mode==="single";let a,l,c,u;if(e===null)return;let m=!1;for(a=0,l=i.length;a<l;++a){if(c=+i[a],c===t){if(m=!0,o.all)continue;break}u=s.values[c],ss(u)&&(r||e===0||ho(e)===ho(u))&&(e+=u)}return!m&&!o.all?0:e}function M7(s,e){const{iScale:t,vScale:o}=e,i=t.axis==="x"?"x":"y",r=o.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let c,u,m;for(c=0,u=a.length;c<u;++c)m=a[c],l[c]={[i]:m,[r]:s[m]};return l}function Ju(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function T7(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function D7(s){const{min:e,max:t,minDefined:o,maxDefined:i}=s.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function A7(s,e,t){const o=s[e]||(s[e]={});return o[t]||(o[t]={})}function Qh(s,e,t,o){for(const i of e.getMatchingVisibleMetas(o).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function Zh(s,e){const{chart:t,_cachedMeta:o}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=o,c=r.axis,u=a.axis,m=T7(r,a,o),h=e.length;let p;for(let _=0;_<h;++_){const v=e[_],{[c]:x,[u]:w}=v,b=v._stacks||(v._stacks={});p=b[u]=A7(i,m,x),p[l]=w,p._top=Qh(p,a,!0,o.type),p._bottom=Qh(p,a,!1,o.type);const k=p._visualValues||(p._visualValues={});k[l]=w}}function Qu(s,e){const t=s.scales;return Object.keys(t).filter(o=>t[o].axis===e).shift()}function P7(s,e){return wi(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function E7(s,e,t){return wi(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ca(s,e){const t=s.controller.index,o=s.vScale&&s.vScale.axis;if(o){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[o]===void 0||r[o][t]===void 0)return;delete r[o][t],r[o]._visualValues!==void 0&&r[o]._visualValues[t]!==void 0&&delete r[o]._visualValues[t]}}}const Zu=s=>s==="reset"||s==="none",eg=(s,e)=>e?s:Object.assign({},s),j7=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Hy(t,!0),values:null};class Qi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ju(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&ca(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,o=this.getDataset(),i=(h,p,_,v)=>h==="x"?p:h==="r"?v:_,r=t.xAxisID=ht(o.xAxisID,Qu(e,"x")),a=t.yAxisID=ht(o.yAxisID,Qu(e,"y")),l=t.rAxisID=ht(o.rAxisID,Qu(e,"r")),c=t.indexAxis,u=t.iAxisID=i(c,r,a,l),m=t.vAxisID=i(c,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Oh(this._data,this),e._stacked&&ca(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(xt(t)){const i=this._cachedMeta;this._data=M7(t,i)}else if(o!==t){if(o){Oh(o,this);const i=this._cachedMeta;ca(i),i._parsed=[]}t&&Object.isExtensible(t)&&hC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,o=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ju(t.vScale,t),t.stack!==o.stack&&(i=!0,ca(t),t.stack=o.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Zh(this,t._parsed),t._stacked=Ju(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:o,_data:i}=this,{iScale:r,_stacked:a}=o,l=r.axis;let c=e===0&&t===i.length?!0:o._sorted,u=e>0&&o._parsed[e-1],m,h,p;if(this._parsing===!1)o._parsed=i,o._sorted=!0,p=i;else{Jt(i[e])?p=this.parseArrayData(o,i,e,t):xt(i[e])?p=this.parseObjectData(o,i,e,t):p=this.parsePrimitiveData(o,i,e,t);const _=()=>h[l]===null||u&&h[l]<u[l];for(m=0;m<t;++m)o._parsed[m+e]=h=p[m],c&&(_()&&(c=!1),u=h);o._sorted=c}a&&Zh(this,p)}parsePrimitiveData(e,t,o,i){const{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,u=r.getLabels(),m=r===a,h=new Array(i);let p,_,v;for(p=0,_=i;p<_;++p)v=p+o,h[p]={[l]:m||r.parse(u[v],v),[c]:a.parse(t[v],v)};return h}parseArrayData(e,t,o,i){const{xScale:r,yScale:a}=e,l=new Array(i);let c,u,m,h;for(c=0,u=i;c<u;++c)m=c+o,h=t[m],l[c]={x:r.parse(h[0],m),y:a.parse(h[1],m)};return l}parseObjectData(e,t,o,i){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let m,h,p,_;for(m=0,h=i;m<h;++m)p=m+o,_=t[p],u[m]={x:r.parse(nr(_,l),p),y:a.parse(nr(_,c),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){const i=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:Hy(i,!0),values:t._stacks[e.axis]._visualValues};return Jh(l,a,r.index,{mode:o})}updateRangeFromParsed(e,t,o,i){const r=o[t.axis];let a=r===null?NaN:r;const l=i&&o._stacks[t.axis];i&&l&&(i.values=l,a=Jh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const o=this._cachedMeta,i=o._parsed,r=o._sorted&&e===o.iScale,a=i.length,l=this._getOtherScale(e),c=j7(t,o,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:h}=D7(l);let p,_;function v(){_=i[p];const x=_[l.axis];return!ss(_[e.axis])||m>x||h<x}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(u,e,_,c),r));++p);if(r){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(u,e,_,c);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,o=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],ss(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,o=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=S7(ht(this.options.clip,C7(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,o=this._cachedMeta,i=o.data||[],r=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,r,l,c),m=l;m<l+c;++m){const h=i[m];h.hidden||(h.active&&u?a.push(h):h.draw(e,r))}for(m=0;m<a.length;++m)a[m].draw(e,r)}getStyle(e,t){const o=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=E7(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=P7(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=o,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){const i=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],c=this.enableOptionSharing&&rl(o);if(l)return eg(l,c);const u=this.chart.config,m=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),m),_=Object.keys(ns.elements[e]),v=()=>this.getContext(o,i,t),x=u.resolveNamedOptions(p,_,v,h);return x.$shared&&(x.$shared=c,r[a]=Object.freeze(eg(x,c))),x}_resolveAnimations(e,t,o){const i=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let c;if(i.options.animation!==!1){const m=this.chart.config,h=m.datasetAnimationScopeKeys(this._type,t),p=m.getOptionScopes(this.getDataset(),h);c=m.createResolver(p,this.getContext(e,o,t))}const u=new Vy(i,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const o=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(o),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,o),{sharedOptions:r,includeOptions:a}}updateElement(e,t,o,i){Zu(i)?Object.assign(e,o):this._resolveAnimations(t,i).update(e,o)}updateSharedOptions(e,t,o){e&&!Zu(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,o,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,o=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const i=o.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,o=!0){const i=this._cachedMeta,r=i.data,a=e+t;let l;const c=u=>{for(u.length+=t,l=u.length-1;l>=a;l--)u[l]=u[l-t]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),o&&this.updateElements(r,e,t,"reset")}updateElements(e,t,o,i){}_removeElements(e,t){const o=this._cachedMeta;if(this._parsing){const i=o._parsed.splice(e,t);o._stacked&&ca(o,i)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,o,i]=e;this[t](o,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}He(Qi,"defaults",{}),He(Qi,"datasetElementType",null),He(Qi,"dataElementType",null);function R7(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let o=[];for(let i=0,r=t.length;i<r;i++)o=o.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=Cy(o.sort((i,r)=>i-r))}return s._cache.$bar}function I7(s){const e=s.iScale,t=R7(e,s.type);let o=e._length,i,r,a,l;const c=()=>{a===32767||a===-32768||(rl(l)&&(o=Math.min(o,Math.abs(a-l)||o)),l=a)};for(i=0,r=t.length;i<r;++i)a=e.getPixelForValue(t[i]),c();for(l=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),c();return o}function O7(s,e,t,o){const i=t.barThickness;let r,a;return Ct(i)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=i*o,a=1),{chunk:r/o,ratio:a,start:e.pixels[s]-r/2}}function L7(s,e,t,o){const i=e.pixels,r=i[s];let a=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const c=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const u=r-(r-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/o,ratio:t.barPercentage,start:u}}function F7(s,e,t,o){const i=t.parse(s[0],o),r=t.parse(s[1],o),a=Math.min(i,r),l=Math.max(i,r);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[t.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:a,max:l}}function qy(s,e,t,o){return Jt(s)?F7(s,e,t,o):e[t.axis]=t.parse(s,o),e}function tg(s,e,t,o){const i=s.iScale,r=s.vScale,a=i.getLabels(),l=i===r,c=[];let u,m,h,p;for(u=t,m=t+o;u<m;++u)p=e[u],h={},h[i.axis]=l||i.parse(a[u],u),c.push(qy(p,h,r,u));return c}function e0(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function N7(s,e,t){return s!==0?ho(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function z7(s){let e,t,o,i,r;return s.horizontal?(e=s.base>s.x,t="left",o="right"):(e=s.base<s.y,t="bottom",o="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:o,reverse:e,top:i,bottom:r}}function U7(s,e,t,o){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:m}=z7(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===o?i=u:(t._bottom||0)===o?i=m:(r[sg(m,a,l,c)]=!0,i=u)),r[sg(i,a,l,c)]=!0,s.borderSkipped=r}function sg(s,e,t,o){return o?(s=B7(s,e,t),s=ng(s,t,e)):s=ng(s,e,t),s}function B7(s,e,t){return s===e?t:s===t?e:s}function ng(s,e,t){return s==="start"?e:s==="end"?t:s}function V7(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class Cd extends Qi{parsePrimitiveData(e,t,o,i){return tg(e,t,o,i)}parseArrayData(e,t,o,i){return tg(e,t,o,i)}parseObjectData(e,t,o,i){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?l:c,m=a.axis==="x"?l:c,h=[];let p,_,v,x;for(p=o,_=o+i;p<_;++p)x=t[p],v={},v[r.axis]=r.parse(nr(x,u),p),h.push(qy(nr(x,m),v,a,p));return h}updateRangeFromParsed(e,t,o,i){super.updateRangeFromParsed(e,t,o,i);const r=o._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:o,vScale:i}=t,r=this.getParsed(e),a=r._custom,l=e0(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),m=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,i);for(let _=t;_<t+o;_++){const v=this.getParsed(_),x=r||Ct(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(_),w=this._calculateBarIndexPixels(_,m),b=(v._stacks||{})[l.axis],k={horizontal:u,base:x.base,enableBorderRadius:!b||e0(v._custom)||a===b._top||a===b._bottom,x:u?x.head:w.center,y:u?w.center:x.head,height:u?w.size:Math.abs(x.size),width:u?Math.abs(x.size):w.size};p&&(k.options=h||this.resolveDataElementOptions(_,e[_].active?"active":i));const C=k.options||e[_].options;U7(k,C,b,a),V7(k,C,m.ratio),this.updateElement(e[_],_,k,i)}}_getStacks(e,t){const{iScale:o}=this._cachedMeta,i=o.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),r=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[o.axis],u=m=>{const h=m._parsed.find(_=>_[o.axis]===c),p=h&&h[m.vScale.axis];if(Ct(p)||isNaN(p))return!0};for(const m of i)if(!(t!==void 0&&u(m))&&((r===!1||a.indexOf(m.stack)===-1||r===void 0&&m.stack===void 0)&&a.push(m.stack),m.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(o=>e[o].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const o of this.chart.data.datasets)e[ht(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,o){const i=this._getStacks(e,o),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,o=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));const l=e.barThickness;return{min:l||I7(t),pixels:i,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:o,index:i},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),u=c._custom,m=e0(u);let h=c[t.axis],p=0,_=o?this.applyStack(t,c,o):h,v,x;_!==h&&(p=_-h,_=h),m&&(h=u.barStart,_=u.barEnd-u.barStart,h!==0&&ho(h)!==ho(u.barEnd)&&(p=0),p+=h);const w=!Ct(r)&&!m?r:p;let b=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(p+_):v=b,x=v-b,Math.abs(x)<a){x=N7(x,t,l)*a,h===l&&(b-=x/2);const k=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),$=Math.min(k,C),A=Math.max(k,C);b=Math.max(Math.min(b,A),$),v=b+x,o&&!m&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(v)-t.getValueForPixel(b))}if(b===t.getPixelForValue(l)){const k=ho(x)*t.getLineWidthForValue(l)/2;b+=k,x-=k}return{size:x,base:b,head:v,center:v+x/2}}_calculateBarIndexPixels(e,t){const o=t.scale,i=this.options,r=i.skipNull,a=ht(i.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(t.grouped){const m=r?this._getStackCount(e):t.stackCount,h=i.barThickness==="flex"?L7(e,t,i,m*u):O7(e,t,i,m*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(ht(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+_;l=h.start+h.chunk*v+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,o=e.data,i=o.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!o[r].hidden&&o[r].draw(this._ctx)}}He(Cd,"id","bar"),He(Cd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),He(Cd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function H7(s,e,t){let o=1,i=1,r=0,a=0;if(e<Kt){const l=s,c=l+e,u=Math.cos(l),m=Math.sin(l),h=Math.cos(c),p=Math.sin(c),_=(C,$,A)=>ll(C,l,c,!0)?1:Math.max($,$*t,A,A*t),v=(C,$,A)=>ll(C,l,c,!0)?-1:Math.min($,$*t,A,A*t),x=_(0,u,h),w=_(as,m,p),b=v(Lt,u,h),k=v(Lt+as,m,p);o=(x-b)/2,i=(w-k)/2,r=-(x+b)/2,a=-(w+k)/2}return{ratioX:o,ratioY:i,offsetX:r,offsetY:a}}class xa extends Qi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const o=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=o;else{let r=c=>+o[c];if(xt(o[e])){const{key:c="value"}=this._parsing;r=u=>+nr(o[u],c)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=r(a)}}_getRotation(){return po(this.options.rotation-90)}_getCircumference(){return po(this.options.circumference)}_getRotationExtents(){let e=Kt,t=-Kt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const i=this.chart.getDatasetMeta(o).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:o}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(eC(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:m,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:_,offsetX:v,offsetY:x}=H7(h,m,c),w=(o.width-a)/p,b=(o.height-a)/_,k=Math.max(Math.min(w,b)/2,0),C=xy(this.options.radius,k),$=Math.max(C*c,0),A=(C-$)/this._getVisibleDatasetWeightTotal();this.offsetX=v*C,this.offsetY=x*C,i.total=this.calculateTotal(),this.outerRadius=C-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const o=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Kt)}updateElements(e,t,o,i){const r=i==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,m=(l.left+l.right)/2,h=(l.top+l.bottom)/2,p=r&&u.animateScale,_=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(t,i);let b=this._getRotation(),k;for(k=0;k<t;++k)b+=this._circumference(k,r);for(k=t;k<t+o;++k){const C=this._circumference(k,r),$=e[k],A={x:m+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+C,circumference:C,outerRadius:v,innerRadius:_};w&&(A.options=x||this.resolveDataElementOptions(k,$.active?"active":i)),b+=C,this.updateElement($,k,A,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let o=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Kt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,i=o.data.labels||[],r=Zc(t._parsed[e],o.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const o=this.chart;let i,r,a,l,c;if(!e){for(i=0,r=o.data.datasets.length;i<r;++i)if(o.isDatasetVisible(i)){a=o.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,i=e.length;o<i;++o){const r=this.resolveDataElementOptions(o);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(ht(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}He(xa,"id","doughnut"),He(xa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),He(xa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),He(xa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:o,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:o,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}}});class Sd extends Qi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:o,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:c}=vC(t,i,a);this._drawStart=l,this._drawCount=c,yC(t)&&(l=0,c=i.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:u},e),this.updateElements(i,l,c,e)}updateElements(e,t,o,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:m,includeOptions:h}=this._getSharedOptions(t,i),p=a.axis,_=l.axis,{spanGaps:v,segment:x}=this.options,w=al(v)?v:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",k=t+o,C=e.length;let $=t>0&&this.getParsed(t-1);for(let A=0;A<C;++A){const R=e[A],T=b?R:{};if(A<t||A>=k){T.skip=!0;continue}const F=this.getParsed(A),L=Ct(F[_]),D=T[p]=a.getPixelForValue(F[p],A),N=T[_]=r||L?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[_],A);T.skip=isNaN(D)||isNaN(N)||L,T.stop=A>0&&Math.abs(F[p]-$[p])>w,x&&(T.parsed=F,T.raw=u.data[A]),h&&(T.options=m||this.resolveDataElementOptions(A,R.active?"active":i)),b||this.updateElement(R,A,T,i),$=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return o;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}He(Sd,"id","line"),He(Sd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),He(Sd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ji(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yf{constructor(e){He(this,"options");this.options=e||{}}static override(e){Object.assign(yf.prototype,e)}init(){}formats(){return ji()}parse(){return ji()}format(){return ji()}add(){return ji()}diff(){return ji()}startOf(){return ji()}endOf(){return ji()}}var q7={_date:yf};function W7(s,e,t,o){const{controller:i,data:r,_sorted:a}=s,l=i._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const u=l._reversePixels?fC:Ki;if(o){if(i._sharedOptions){const m=r[0],h=typeof m.getRange=="function"&&m.getRange(e);if(h){const p=u(r,e,t-h),_=u(r,e,t+h);return{lo:p.lo,hi:_.hi}}}}else{const m=u(r,e,t);if(c){const{vScale:h}=i._cachedMeta,{_parsed:p}=s,_=p.slice(0,m.lo+1).reverse().findIndex(x=>!Ct(x[h.axis]));m.lo-=Math.max(0,_);const v=p.slice(m.hi).findIndex(x=>!Ct(x[h.axis]));m.hi+=Math.max(0,v)}return m}}return{lo:0,hi:r.length-1}}function $l(s,e,t,o,i){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=r.length;l<c;++l){const{index:u,data:m}=r[l],{lo:h,hi:p}=W7(r[l],e,a,i);for(let _=h;_<=p;++_){const v=m[_];v.skip||o(v,u,_)}}}function K7(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(o,i){const r=e?Math.abs(o.x-i.x):0,a=t?Math.abs(o.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function t0(s,e,t,o,i){const r=[];return!i&&!s.isPointInArea(e)||$l(s,t,e,function(l,c,u){!i&&!jo(l,s.chartArea,0)||l.inRange(e.x,e.y,o)&&r.push({element:l,datasetIndex:c,index:u})},!0),r}function Y7(s,e,t,o){let i=[];function r(a,l,c){const{startAngle:u,endAngle:m}=a.getProps(["startAngle","endAngle"],o),{angle:h}=ky(a,{x:e.x,y:e.y});ll(h,u,m)&&i.push({element:a,datasetIndex:l,index:c})}return $l(s,t,e,r),i}function G7(s,e,t,o,i,r){let a=[];const l=K7(t);let c=Number.POSITIVE_INFINITY;function u(m,h,p){const _=m.inRange(e.x,e.y,i);if(o&&!_)return;const v=m.getCenterPoint(i);if(!(!!r||s.isPointInArea(v))&&!_)return;const w=l(e,v);w<c?(a=[{element:m,datasetIndex:h,index:p}],c=w):w===c&&a.push({element:m,datasetIndex:h,index:p})}return $l(s,t,e,u),a}function s0(s,e,t,o,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!o?Y7(s,e,t,i):G7(s,e,t,o,i,r)}function og(s,e,t,o,i){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return $l(s,t,e,(c,u,m)=>{c[a]&&c[a](e[t],i)&&(r.push({element:c,datasetIndex:u,index:m}),l=l||c.inRange(e.x,e.y,i))}),o&&!l?[]:r}var X7={evaluateInteractionItems:$l,modes:{index(s,e,t,o){const i=Ni(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?t0(s,i,r,o,a):s0(s,i,r,!1,o,a),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(u=>{const m=l[0].index,h=u.data[m];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:m})}),c):[]},dataset(s,e,t,o){const i=Ni(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?t0(s,i,r,o,a):s0(s,i,r,!1,o,a);if(l.length>0){const c=l[0].datasetIndex,u=s.getDatasetMeta(c).data;l=[];for(let m=0;m<u.length;++m)l.push({element:u[m],datasetIndex:c,index:m})}return l},point(s,e,t,o){const i=Ni(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return t0(s,i,r,o,a)},nearest(s,e,t,o){const i=Ni(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return s0(s,i,r,t.intersect,o,a)},x(s,e,t,o){const i=Ni(e,s);return og(s,i,"x",t.intersect,o)},y(s,e,t,o){const i=Ni(e,s);return og(s,i,"y",t.intersect,o)}}};const Wy=["left","top","right","bottom"];function ua(s,e){return s.filter(t=>t.pos===e)}function ig(s,e){return s.filter(t=>Wy.indexOf(t.pos)===-1&&t.box.axis===e)}function ma(s,e){return s.sort((t,o)=>{const i=e?o:t,r=e?t:o;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function J7(s){const e=[];let t,o,i,r,a,l;for(t=0,o=(s||[]).length;t<o;++t)i=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:l});return e}function Q7(s){const e={};for(const t of s){const{stack:o,pos:i,stackWeight:r}=t;if(!o||!Wy.includes(i))continue;const a=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function Z7(s,e){const t=Q7(s),{vBoxMaxWidth:o,hBoxMaxHeight:i}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:c}=l.box,u=t[l.stack],m=u&&l.stackWeight/u.weight;l.horizontal?(l.width=m?m*o:c&&e.availableWidth,l.height=i):(l.width=o,l.height=m?m*i:c&&e.availableHeight)}return t}function eS(s){const e=J7(s),t=ma(e.filter(u=>u.box.fullSize),!0),o=ma(ua(e,"left"),!0),i=ma(ua(e,"right")),r=ma(ua(e,"top"),!0),a=ma(ua(e,"bottom")),l=ig(e,"x"),c=ig(e,"y");return{fullSize:t,leftAndTop:o.concat(r),rightAndBottom:i.concat(c).concat(a).concat(l),chartArea:ua(e,"chartArea"),vertical:o.concat(i).concat(c),horizontal:r.concat(a).concat(l)}}function rg(s,e,t,o){return Math.max(s[t],e[t])+Math.max(s[o],e[o])}function Ky(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function tS(s,e,t,o){const{pos:i,box:r}=t,a=s.maxPadding;if(!xt(i)){t.size&&(s[i]-=t.size);const h=o[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,s[i]+=t.size}r.getPadding&&Ky(a,r.getPadding());const l=Math.max(0,e.outerWidth-rg(a,s,"left","right")),c=Math.max(0,e.outerHeight-rg(a,s,"top","bottom")),u=l!==s.w,m=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:u,other:m}:{same:m,other:u}}function sS(s){const e=s.maxPadding;function t(o){const i=Math.max(e[o]-s[o],0);return s[o]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function nS(s,e){const t=e.maxPadding;function o(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return o(s?["left","right"]:["top","bottom"])}function ba(s,e,t,o){const i=[];let r,a,l,c,u,m;for(r=0,a=s.length,u=0;r<a;++r){l=s[r],c=l.box,c.update(l.width||e.w,l.height||e.h,nS(l.horizontal,e));const{same:h,other:p}=tS(e,t,l,o);u|=h&&i.length,m=m||p,c.fullSize||i.push(l)}return u&&ba(i,e,t,o)||m}function Xl(s,e,t,o,i){s.top=t,s.left=e,s.right=e+o,s.bottom=t+i,s.width=o,s.height=i}function ag(s,e,t,o){const i=t.padding;let{x:r,y:a}=e;for(const l of s){const c=l.box,u=o[l.stack]||{count:1,placed:0,weight:1},m=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*m,p=u.size||c.height;rl(u.start)&&(a=u.start),c.fullSize?Xl(c,i.left,a,t.outerWidth-i.right-i.left,p):Xl(c,e.left+u.placed,a,h,p),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*m,p=u.size||c.width;rl(u.start)&&(r=u.start),c.fullSize?Xl(c,r,i.top,p,t.outerHeight-i.bottom-i.top):Xl(c,r,e.top+u.placed,p,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=a}var oi={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,o){if(!s)return;const i=on(s.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=eS(s.boxes),c=l.vertical,u=l.horizontal;It(s.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=c.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/m,hBoxMaxHeight:a/2}),p=Object.assign({},i);Ky(p,on(o));const _=Object.assign({maxPadding:p,w:r,h:a,x:i.left,y:i.top},i),v=Z7(c.concat(u),h);ba(l.fullSize,_,h,v),ba(c,_,h,v),ba(u,_,h,v)&&ba(c,_,h,v),sS(_),ag(l.leftAndTop,_,h,v),_.x+=_.w,_.y+=_.h,ag(l.rightAndBottom,_,h,v),s.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},It(l.chartArea,x=>{const w=x.box;Object.assign(w,s.chartArea),w.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Yy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,o){}removeEventListener(e,t,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,o,i){return t=Math.max(0,t||e.width),o=o||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):o)}}isAttached(e){return!0}updateConfig(e){}}class oS extends Yy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Md="$chartjs",iS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lg=s=>s===null||s==="";function rS(s,e){const t=s.style,o=s.getAttribute("height"),i=s.getAttribute("width");if(s[Md]={initial:{height:o,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",lg(i)){const r=qh(s,"width");r!==void 0&&(s.width=r)}if(lg(o))if(s.style.height==="")s.height=s.width/(e||2);else{const r=qh(s,"height");r!==void 0&&(s.height=r)}return s}const Gy=l7?{passive:!0}:!1;function aS(s,e,t){s&&s.addEventListener(e,t,Gy)}function lS(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Gy)}function dS(s,e){const t=iS[s.type]||s.type,{x:o,y:i}=Ni(s,e);return{type:t,chart:e,native:s,x:o!==void 0?o:null,y:i!==void 0?i:null}}function rc(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function cS(s,e,t){const o=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||rc(l.addedNodes,o),a=a&&!rc(l.removedNodes,o);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function uS(s,e,t){const o=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||rc(l.removedNodes,o),a=a&&!rc(l.addedNodes,o);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const cl=new Map;let dg=0;function Xy(){const s=window.devicePixelRatio;s!==dg&&(dg=s,cl.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function mS(s,e){cl.size||window.addEventListener("resize",Xy),cl.set(s,e)}function fS(s){cl.delete(s),cl.size||window.removeEventListener("resize",Xy)}function pS(s,e,t){const o=s.canvas,i=o&&vf(o);if(!i)return;const r=My((l,c)=>{const u=i.clientWidth;t(l,c),u<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,m=c.contentRect.height;u===0&&m===0||r(u,m)});return a.observe(i),mS(s,r),a}function n0(s,e,t){t&&t.disconnect(),e==="resize"&&fS(s)}function hS(s,e,t){const o=s.canvas,i=My(r=>{s.ctx!==null&&t(dS(r,s))},s);return aS(o,e,i),i}class gS extends Yy{acquireContext(e,t){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(rS(e,t),o):null}releaseContext(e){const t=e.canvas;if(!t[Md])return!1;const o=t[Md].initial;["height","width"].forEach(r=>{const a=o[r];Ct(a)?t.removeAttribute(r):t.setAttribute(r,a)});const i=o.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[Md],!0}addEventListener(e,t,o){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:cS,detach:uS,resize:pS}[t]||hS;i[t]=a(e,t,o)}removeEventListener(e,t){const o=e.$proxies||(e.$proxies={}),i=o[t];if(!i)return;({attach:n0,detach:n0,resize:n0}[t]||lS)(e,t,i),o[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,o,i){return a7(e,t,o,i)}isAttached(e){const t=e&&vf(e);return!!(t&&t.isConnected)}}function _S(s){return!_f()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?oS:gS}var fd;let ki=(fd=class{constructor(){He(this,"x");He(this,"y");He(this,"active",!1);He(this,"options");He(this,"$animations")}tooltipPosition(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}hasValue(){return al(this.x)&&al(this.y)}getProps(e,t){const o=this.$animations;if(!t||!o)return this;const i={};return e.forEach(r=>{i[r]=o[r]&&o[r].active()?o[r]._to:this[r]}),i}},He(fd,"defaults",{}),He(fd,"defaultRoutes"),fd);function vS(s,e){const t=s.options.ticks,o=yS(s),i=Math.min(t.maxTicksLimit||o,o),r=t.major.enabled?bS(e):[],a=r.length,l=r[0],c=r[a-1],u=[];if(a>i)return wS(e,u,r,a/i),u;const m=xS(r,e,i);if(a>0){let h,p;const _=a>1?Math.round((c-l)/(a-1)):null;for(Jl(e,u,m,Ct(_)?0:l-_,l),h=0,p=a-1;h<p;h++)Jl(e,u,m,r[h],r[h+1]);return Jl(e,u,m,c,Ct(_)?e.length:c+_),u}return Jl(e,u,m),u}function yS(s){const e=s.options.offset,t=s._tickSize(),o=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(o,i))}function xS(s,e,t){const o=kS(s),i=e.length/t;if(!o)return Math.max(i,1);const r=lC(o);for(let a=0,l=r.length-1;a<l;a++){const c=r[a];if(c>i)return c}return Math.max(i,1)}function bS(s){const e=[];let t,o;for(t=0,o=s.length;t<o;t++)s[t].major&&e.push(t);return e}function wS(s,e,t,o){let i=0,r=t[0],a;for(o=Math.ceil(o),a=0;a<s.length;a++)a===r&&(e.push(s[a]),i++,r=t[i*o])}function Jl(s,e,t,o,i){const r=ht(o,0),a=Math.min(ht(i,s.length),s.length);let l=0,c,u,m;for(t=Math.ceil(t),i&&(c=i-o,t=c/Math.floor(c/t)),m=r;m<0;)l++,m=Math.round(r+l*t);for(u=Math.max(r,0);u<a;u++)u===m&&(e.push(s[u]),l++,m=Math.round(r+l*t))}function kS(s){const e=s.length;let t,o;if(e<2)return!1;for(o=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==o)return!1;return o}const $S=s=>s==="left"?"right":s==="right"?"left":s,cg=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,ug=(s,e)=>Math.min(e||s,s);function mg(s,e){const t=[],o=s.length/e,i=s.length;let r=0;for(;r<i;r+=o)t.push(s[Math.floor(r)]);return t}function CS(s,e,t){const o=s.ticks.length,i=Math.min(e,o-1),r=s._startPixel,a=s._endPixel,l=1e-6;let c=s.getPixelForTick(i),u;if(!(t&&(o===1?u=Math.max(c-r,a-c):e===0?u=(s.getPixelForTick(1)-c)/2:u=(c-s.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-l||c>a+l)))return c}function SS(s,e){It(s,t=>{const o=t.gc,i=o.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[o[r]];o.splice(0,i)}})}function fa(s){return s.drawTicks?s.tickLength:0}function fg(s,e){if(!s.display)return 0;const t=Ds(s.font,e),o=on(s.padding);return(Jt(s.text)?s.text.length:1)*t.lineHeight+o.height}function MS(s,e){return wi(s,{scale:e,type:"scale"})}function TS(s,e,t){return wi(s,{tick:t,index:e,type:"tick"})}function DS(s,e,t){let o=Ty(s);return(t&&e!=="right"||!t&&e==="right")&&(o=$S(o)),o}function AS(s,e,t,o){const{top:i,left:r,bottom:a,right:l,chart:c}=s,{chartArea:u,scales:m}=c;let h=0,p,_,v;const x=a-i,w=l-r;if(s.isHorizontal()){if(_=bn(o,r,l),xt(t)){const b=Object.keys(t)[0],k=t[b];v=m[b].getPixelForValue(k)+x-e}else t==="center"?v=(u.bottom+u.top)/2+x-e:v=cg(s,t,e);p=l-r}else{if(xt(t)){const b=Object.keys(t)[0],k=t[b];_=m[b].getPixelForValue(k)-w+e}else t==="center"?_=(u.left+u.right)/2-w+e:_=cg(s,t,e);v=bn(o,a,i),h=t==="left"?-as:as}return{titleX:_,titleY:v,maxWidth:p,rotation:h}}class ir extends ki{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:o,_suggestedMax:i}=this;return e=kn(e,Number.POSITIVE_INFINITY),t=kn(t,Number.NEGATIVE_INFINITY),o=kn(o,Number.POSITIVE_INFINITY),i=kn(i,Number.NEGATIVE_INFINITY),{min:kn(e,o),max:kn(t,i),minDefined:ss(e),maxDefined:ss(t)}}getMinMax(e){let{min:t,max:o,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:o};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),r||(o=Math.max(o,a.max));return t=r&&t>o?o:t,o=i&&t>o?t:o,{min:kn(t,kn(o,t)),max:kn(o,kn(t,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,o){const{beginAtZero:i,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NC(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?mg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=vS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,o;this.isHorizontal()?(t=this.left,o=this.right):(t=this.top,o=this.bottom,e=!e),this._startPixel=t,this._endPixel=o,this._reversePixels=e,this._length=o-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let o,i,r;for(o=0,i=e.length;o<i;o++)r=e[o],r.label=Wt(t.callback,[r.value,o,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,o=ug(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a=i,l,c,u;if(!this._isVisible()||!t.display||i>=r||o<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),h=m.widest.width,p=m.highest.height,_=Ws(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/o:_/(o-1),h+6>l&&(l=_/(o-(e.offset?.5:1)),c=this.maxHeight-fa(e.grid)-t.padding-fg(e.title,this.chart.options.font),u=Math.sqrt(h*h+p*p),a=cf(Math.min(Math.asin(Ws((m.highest.height+6)/l,-1,1)),Math.asin(Ws(c/u,-1,1))-Math.asin(Ws(p/u,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:o,title:i,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=fg(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=fa(r)+c):(e.height=this.maxHeight,e.width=fa(r)+c),o.display&&this.ticks.length){const{first:u,last:m,widest:h,highest:p}=this._getLabelSizes(),_=o.padding*2,v=po(this.labelRotation),x=Math.cos(v),w=Math.sin(v);if(l){const b=o.mirror?0:w*h.width+x*p.height;e.height=Math.min(this.maxHeight,e.height+b+_)}else{const b=o.mirror?0:x*h.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+b+_)}this._calculatePadding(u,m,w,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,o,i){const{ticks:{align:r,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,_=0;c?u?(p=i*e.width,_=o*t.height):(p=o*e.height,_=i*t.width):r==="start"?_=t.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,_=t.width/2),this.paddingLeft=Math.max((p-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((_-h+a)*this.width/(this.width-h),0)}else{let m=t.height/2,h=e.height/2;r==="start"?(m=0,h=e.height):r==="end"&&(m=t.height,h=0),this.paddingTop=m+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,o;for(t=0,o=e.length;t<o;t++)Ct(e[t].label)&&(e.splice(t,1),o--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let o=this.ticks;t<o.length&&(o=mg(o,t)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,o){const{ctx:i,_longestTextCache:r}=this,a=[],l=[],c=Math.floor(t/ug(t,o));let u=0,m=0,h,p,_,v,x,w,b,k,C,$,A;for(h=0;h<t;h+=c){if(v=e[h].label,x=this._resolveTickFontOptions(h),i.font=w=x.string,b=r[w]=r[w]||{data:{},gc:[]},k=x.lineHeight,C=$=0,!Ct(v)&&!Jt(v))C=oc(i,b.data,b.gc,C,v),$=k;else if(Jt(v))for(p=0,_=v.length;p<_;++p)A=v[p],!Ct(A)&&!Jt(A)&&(C=oc(i,b.data,b.gc,C,A),$+=k);a.push(C),l.push($),u=Math.max(C,u),m=Math.max($,m)}SS(r,t);const R=a.indexOf(u),T=l.indexOf(m),F=L=>({width:a[L]||0,height:l[L]||0});return{first:F(0),last:F(t-1),widest:F(R),highest:F(T),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return mC(this._alignToPixels?Ei(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const o=t[e];return o.$context||(o.$context=TS(this.getContext(),e,o))}return this.$context||(this.$context=MS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=po(this.labelRotation),o=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*o>l*i?l/o:c/i:c*i<l*o?c/o:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,o=this.chart,i=this.options,{grid:r,position:a,border:l}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=fa(r),_=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,w=x/2,b=function(de){return Ei(o,de,x)};let k,C,$,A,R,T,F,L,D,N,P,U;if(a==="top")k=b(this.bottom),T=this.bottom-p,L=k-w,N=b(e.top)+w,U=e.bottom;else if(a==="bottom")k=b(this.top),N=e.top,U=b(e.bottom)-w,T=k+w,L=this.top+p;else if(a==="left")k=b(this.right),R=this.right-p,F=k-w,D=b(e.left)+w,P=e.right;else if(a==="right")k=b(this.left),D=e.left,P=b(e.right)-w,R=k+w,F=this.left+p;else if(t==="x"){if(a==="center")k=b((e.top+e.bottom)/2+.5);else if(xt(a)){const de=Object.keys(a)[0],q=a[de];k=b(this.chart.scales[de].getPixelForValue(q))}N=e.top,U=e.bottom,T=k+w,L=T+p}else if(t==="y"){if(a==="center")k=b((e.left+e.right)/2);else if(xt(a)){const de=Object.keys(a)[0],q=a[de];k=b(this.chart.scales[de].getPixelForValue(q))}R=k-w,F=R-p,D=e.left,P=e.right}const ye=ht(i.ticks.maxTicksLimit,h),le=Math.max(1,Math.ceil(h/ye));for(C=0;C<h;C+=le){const de=this.getContext(C),q=r.setContext(de),ne=l.setContext(de),G=q.lineWidth,ie=q.color,$e=ne.dash||[],we=ne.dashOffset,Qe=q.tickWidth,pt=q.tickColor,pe=q.tickBorderDash||[],Ce=q.tickBorderDashOffset;$=CS(this,C,c),$!==void 0&&(A=Ei(o,$,G),u?R=F=D=P=A:T=L=N=U=A,_.push({tx1:R,ty1:T,tx2:F,ty2:L,x1:D,y1:N,x2:P,y2:U,width:G,color:ie,borderDash:$e,borderDashOffset:we,tickWidth:Qe,tickColor:pt,tickBorderDash:pe,tickBorderDashOffset:Ce}))}return this._ticksLength=h,this._borderValue=k,_}_computeLabelItems(e){const t=this.axis,o=this.options,{position:i,ticks:r}=o,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:m,mirror:h}=r,p=fa(o.grid),_=p+m,v=h?-m:_,x=-po(this.labelRotation),w=[];let b,k,C,$,A,R,T,F,L,D,N,P,U="middle";if(i==="top")R=this.bottom-v,T=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+v,T=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(p);T=le.textAlign,A=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(p);T=le.textAlign,A=le.x}else if(t==="x"){if(i==="center")R=(e.top+e.bottom)/2+_;else if(xt(i)){const le=Object.keys(i)[0],de=i[le];R=this.chart.scales[le].getPixelForValue(de)+_}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")A=(e.left+e.right)/2-_;else if(xt(i)){const le=Object.keys(i)[0],de=i[le];A=this.chart.scales[le].getPixelForValue(de)}T=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const ye=this._getLabelSizes();for(b=0,k=l.length;b<k;++b){C=l[b],$=C.label;const le=r.setContext(this.getContext(b));F=this.getPixelForTick(b)+r.labelOffset,L=this._resolveTickFontOptions(b),D=L.lineHeight,N=Jt($)?$.length:1;const de=N/2,q=le.color,ne=le.textStrokeColor,G=le.textStrokeWidth;let ie=T;a?(A=F,T==="inner"&&(b===k-1?ie=this.options.reverse?"left":"right":b===0?ie=this.options.reverse?"right":"left":ie="center"),i==="top"?u==="near"||x!==0?P=-N*D+D/2:u==="center"?P=-ye.highest.height/2-de*D+D:P=-ye.highest.height+D/2:u==="near"||x!==0?P=D/2:u==="center"?P=ye.highest.height/2-de*D:P=ye.highest.height-N*D,h&&(P*=-1),x!==0&&!le.showLabelBackdrop&&(A+=D/2*Math.sin(x))):(R=F,P=(1-N)*D/2);let $e;if(le.showLabelBackdrop){const we=on(le.backdropPadding),Qe=ye.heights[b],pt=ye.widths[b];let pe=P-we.top,Ce=0-we.left;switch(U){case"middle":pe-=Qe/2;break;case"bottom":pe-=Qe;break}switch(T){case"center":Ce-=pt/2;break;case"right":Ce-=pt;break;case"inner":b===k-1?Ce-=pt:b>0&&(Ce-=pt/2);break}$e={left:Ce,top:pe,width:pt+we.width,height:Qe+we.height,color:le.backdropColor}}w.push({label:$,font:L,textOffset:P,options:{rotation:x,color:q,strokeColor:ne,strokeWidth:G,textAlign:ie,textBaseline:U,translation:[A,R],backdrop:$e}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-po(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:o,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,c=a.widest.width;let u,m;return t==="left"?i?(m=this.right+r,o==="near"?u="left":o==="center"?(u="center",m+=c/2):(u="right",m+=c)):(m=this.right-l,o==="near"?u="right":o==="center"?(u="center",m-=c/2):(u="left",m=this.left)):t==="right"?i?(m=this.left+r,o==="near"?u="right":o==="center"?(u="center",m-=c/2):(u="left",m-=c)):(m=this.left+l,o==="near"?u="left":o==="center"?(u="center",m+=c/2):(u="right",m=this.right)):u="right",{textAlign:u,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:o,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(o,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,o=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(c,u,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(c.x,c.y),o.lineTo(u.x,u.y),o.stroke(),o.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const c=i[r];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:o,grid:i}}=this,r=o.setContext(this.getContext()),a=o.display?r.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,m,h,p;this.isHorizontal()?(u=Ei(e,this.left,a)-a/2,m=Ei(e,this.right,l)+l/2,h=p=c):(h=Ei(e,this.top,a)-a/2,p=Ei(e,this.bottom,l)+l/2,u=m=c),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(u,h),t.lineTo(m,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,i=this._computeLabelArea();i&&tu(o,i);const r=this.getLabelItems(e);for(const a of r){const l=a.options,c=a.font,u=a.label,m=a.textOffset;Or(o,u,0,m,c,l)}i&&su(o)}drawTitle(){const{ctx:e,options:{position:t,title:o,reverse:i}}=this;if(!o.display)return;const r=Ds(o.font),a=on(o.padding),l=o.align;let c=r.lineHeight/2;t==="bottom"||t==="center"||xt(t)?(c+=a.bottom,Jt(o.text)&&(c+=r.lineHeight*(o.text.length-1))):c+=a.top;const{titleX:u,titleY:m,maxWidth:h,rotation:p}=AS(this,c,t,l);Or(e,o.text,0,0,r,{color:o.color,maxWidth:h,rotation:p,textAlign:DS(l,t,i),textBaseline:"middle",translation:[u,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,o=ht(e.grid&&e.grid.z,-1),i=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ir.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:o,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[o]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ds(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ql{constructor(e,t,o){this.type=e,this.scope=t,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let o;jS(t)&&(o=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,PS(e,a,o),this.override&&ns.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,o=e.id,i=this.scope;o in t&&delete t[o],i&&o in ns[i]&&(delete ns[i][o],this.override&&delete or[o])}}function PS(s,e,t){const o=il(Object.create(null),[t?ns.get(t):{},ns.get(e),s.defaults]);ns.set(e,o),s.defaultRoutes&&ES(e,s.defaultRoutes),s.descriptors&&ns.describe(e,s.descriptors)}function ES(s,e){Object.keys(e).forEach(t=>{const o=t.split("."),i=o.pop(),r=[s].concat(o).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");ns.route(r,i,c,l)})}function jS(s){return"id"in s&&"defaults"in s}class RS{constructor(){this.controllers=new Ql(Qi,"datasets",!0),this.elements=new Ql(ki,"elements"),this.plugins=new Ql(Object,"plugins"),this.scales=new Ql(ir,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,o){[...t].forEach(i=>{const r=o||this._getRegistryForType(i);o||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):It(i,a=>{const l=o||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,o){const i=df(e);Wt(o["before"+i],[],o),t[e](o),Wt(o["after"+i],[],o)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const o=this._typedRegistries[t];if(o.isForType(e))return o}return this.plugins}_get(e,t,o){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return i}}var co=new RS;class IS{constructor(){this._init=void 0}notify(e,t,o,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,o);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,o,i){i=i||{};for(const r of e){const a=r.plugin,l=a[o],c=[t,i,r.options];if(Wt(l,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const o=e&&e.config,i=ht(o.options&&o.options.plugins,{}),r=OS(o);return i===!1&&!t?[]:FS(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],o=this._cache,i=(r,a)=>r.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,o),e,"stop"),this._notify(i(o,t),e,"start")}}function OS(s){const e={},t=[],o=Object.keys(co.plugins.items);for(let r=0;r<o.length;r++)t.push(co.getPlugin(o[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function LS(s,e){return!e&&s===!1?null:s===!0?{}:s}function FS(s,{plugins:e,localIds:t},o,i){const r=[],a=s.getContext();for(const l of e){const c=l.id,u=LS(o[c],i);u!==null&&r.push({plugin:l,options:NS(s.config,{plugin:l,local:t[c]},u,a)})}return r}function NS(s,{plugin:e,local:t},o,i){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(o,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function im(s,e){const t=ns.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function zS(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function US(s,e){return s===e?"_index_":"_value_"}function pg(s){if(s==="x"||s==="y"||s==="r")return s}function BS(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function rm(s,...e){if(pg(s))return s;for(const t of e){const o=t.axis||BS(t.position)||s.length>1&&pg(s[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function hg(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function VS(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(o=>o.xAxisID===s||o.yAxisID===s);if(t.length)return hg(s,"x",t[0])||hg(s,"y",t[0])}return{}}function HS(s,e){const t=or[s.type]||{scales:{}},o=e.scales||{},i=im(s.type,e),r=Object.create(null);return Object.keys(o).forEach(a=>{const l=o[a];if(!xt(l)||l._proxy)return;const c=rm(a,l,VS(a,s),ns.scales[l.type]),u=US(c,i),m=t.scales||{};r[a]=Na(Object.create(null),[{axis:c},l,m[c],m[u]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,c=a.indexAxis||im(l,e),m=(or[l]||{}).scales||{};Object.keys(m).forEach(h=>{const p=zS(h,c),_=a[p+"AxisID"]||p;r[_]=r[_]||Object.create(null),Na(r[_],[{axis:p},o[_],m[h]])})}),Object.keys(r).forEach(a=>{const l=r[a];Na(l,[ns.scales[l.type],ns.scale])}),r}function Jy(s){const e=s.options||(s.options={});e.plugins=ht(e.plugins,{}),e.scales=HS(s,e)}function Qy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function qS(s){return s=s||{},s.data=Qy(s.data),Jy(s),s}const gg=new Map,Zy=new Set;function Zl(s,e){let t=gg.get(s);return t||(t=e(),gg.set(s,t),Zy.add(t)),t}const pa=(s,e,t)=>{const o=nr(e,t);o!==void 0&&s.add(o)};class WS{constructor(e){this._config=qS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Jy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Zl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Zl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,o=this.type;return Zl(`${o}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const o=this._scopeCache;let i=o.get(e);return(!i||t)&&(i=new Map,o.set(e,i)),i}getOptionScopes(e,t,o){const{options:i,type:r}=this,a=this._cachedScopes(e,o),l=a.get(t);if(l)return l;const c=new Set;t.forEach(m=>{e&&(c.add(e),m.forEach(h=>pa(c,e,h))),m.forEach(h=>pa(c,i,h)),m.forEach(h=>pa(c,or[r]||{},h)),m.forEach(h=>pa(c,ns,h)),m.forEach(h=>pa(c,nm,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Zy.has(t)&&a.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,or[t]||{},ns.datasets[t]||{},{type:t},ns,nm]}resolveNamedOptions(e,t,o,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=_g(this._resolverCache,e,i);let c=a;if(YS(a,t)){r.$shared=!1,o=gi(o)?o():o;const u=this.createResolver(e,o,l);c=Lr(a,o,u)}for(const u of t)r[u]=c[u];return r}createResolver(e,t,o=[""],i){const{resolver:r}=_g(this._resolverCache,e,o);return xt(t)?Lr(r,t,void 0,i):r}}function _g(s,e,t){let o=s.get(e);o||(o=new Map,s.set(e,o));const i=t.join();let r=o.get(i);return r||(r={resolver:pf(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},o.set(i,r)),r}const KS=s=>xt(s)&&Object.getOwnPropertyNames(s).some(e=>gi(s[e]));function YS(s,e){const{isScriptable:t,isIndexable:o}=Ey(s);for(const i of e){const r=t(i),a=o(i),l=(a||r)&&s[i];if(r&&(gi(l)||KS(l))||a&&Jt(l))return!0}return!1}var GS="4.5.1";const XS=["top","bottom","left","right","chartArea"];function vg(s,e){return s==="top"||s==="bottom"||XS.indexOf(s)===-1&&e==="x"}function yg(s,e){return function(t,o){return t[s]===o[s]?t[e]-o[e]:t[s]-o[s]}}function xg(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[s],e)}function JS(s){const e=s.chart,t=e.options.animation;Wt(t&&t.onProgress,[s],e)}function ex(s){return _f()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Td={},bg=s=>{const e=ex(s);return Object.values(Td).filter(t=>t.canvas===e).pop()};function QS(s,e,t){const o=Object.keys(s);for(const i of o){const r=+i;if(r>=e){const a=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=a)}}}function ZS(s,e,t,o){return!t||s.type==="mouseout"?null:o?e:s}class $n{static register(...e){co.add(...e),wg()}static unregister(...e){co.remove(...e),wg()}constructor(e,t){const o=this.config=new WS(t),i=ex(e),r=bg(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_S(i)),this.platform.updateConfig(o);const l=this.platform.acquireContext(i,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,m=c&&c.width;this.id=Z8(),this.ctx=l,this.canvas=c,this.width=m,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gC(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Td[this.id]=this,!(!l||!c)&&($o.listen(this,"complete",xg),$o.listen(this,"progress",JS),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:i,_aspectRatio:r}=this;return Ct(e)?t&&r?r:i?o/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return co}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uh(this.canvas,this.ctx),this}stop(){return $o.stop(this),this}resize(e,t){$o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const o=this.options,i=this.canvas,r=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Hh(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Wt(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};It(t,(o,i)=>{o.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,o=this.scales,i=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],c=rm(a,l),u=c==="r",m=c==="x";return{options:l,dposition:u?"chartArea":m?"bottom":"left",dtype:u?"radialLinear":m?"category":"linear"}}))),It(r,a=>{const l=a.options,c=l.id,u=rm(c,l),m=ht(l.type,a.dtype);(l.position===void 0||vg(l.position,u)!==vg(a.dposition))&&(l.position=a.dposition),i[c]=!0;let h=null;if(c in o&&o[c].type===m)h=o[c];else{const p=co.getScale(m);h=new p({id:c,type:m,ctx:this.ctx,chart:this}),o[h.id]=h}h.init(l,e)}),It(i,(a,l)=>{a||delete o[l]}),It(o,a=>{oi.configure(this,a,a.options),oi.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort((i,r)=>i.index-r.index),o>t){for(let i=t;i<o;++i)this._destroyDatasetMeta(i);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort(yg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((o,i)=>{t.filter(r=>r===o._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let o,i;for(this._removeUnreferencedMetasets(),o=0,i=t.length;o<i;o++){const r=t[o];let a=this.getDatasetMeta(o);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=r.indexAxis||im(l,this.options),a.order=r.order||0,a.index=o,a.label=""+r.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{const c=co.getController(l),{datasetElementType:u,dataElementType:m}=ns.datasets[l];Object.assign(c,{dataElementType:co.getElement(m),datasetElementType:u&&co.getElement(u)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){It(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,m=this.data.datasets.length;u<m;u++){const{controller:h}=this.getDatasetMeta(u),p=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),i||It(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yg("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){It(this.scales,e=>{oi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!Eh(t,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:o,start:i,count:r}of t){const a=o==="_removeElements"?-r:r;QS(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,o=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),i=o(0);for(let r=1;r<t;r++)if(!Eh(i,o(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oi.update(this,this.width,this.height,e);const t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],It(this.boxes,i=>{o&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,o=this.data.datasets.length;t<o;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,gi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const o=this.getDatasetMeta(e),i={meta:o,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(o.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($o.has(this)?this.attached&&!$o.running(this)&&$o.start(this):(this.draw(),xg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,o=[];let i,r;for(i=0,r=t.length;i<r;++i){const a=t[i];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,o={meta:e,index:e.index,cancelable:!0},i=By(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&tu(t,i),e.controller.draw(),i&&su(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return jo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,i){const r=X7.modes[t];return typeof r=="function"?r(this,e,o,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],o=this._metasets;let i=o.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(i)),i}getContext(){return this.$context||(this.$context=wi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!t.hidden}setDatasetVisibility(e,t){const o=this.getDatasetMeta(e);o.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){const i=o?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);rl(t)?(r.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(r,{visible:o}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Uh(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Td[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,o=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},i=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};It(this.options.events,r=>o(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,o=(c,u)=>{t.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(t.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),o("resize",r),o("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),o("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){It(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},It(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){const i=o?"set":"remove";let r,a,l,c;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],o=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!tc(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,o){const i=this.options.hover,r=(c,u)=>c.filter(m=>!u.some(h=>m.datasetIndex===h.datasetIndex&&m.index===h.index)),a=r(t,e),l=o?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,i)===!1)return;const r=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,i),(r||o.changed)&&this.render(),this}_handleEvent(e,t,o){const{_active:i=[],options:r}=this,a=t,l=this._getActiveElements(e,i,o,a),c=iC(e),u=ZS(e,this._lastEvent,o,c);o&&(this._lastEvent=null,Wt(r.onHover,[e,l,this],this),c&&Wt(r.onClick,[e,l,this],this));const m=!tc(l,i);return(m||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=u,m}_getActiveElements(e,t,o,i){if(e.type==="mouseout")return[];if(!o)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}He($n,"defaults",ns),He($n,"instances",Td),He($n,"overrides",or),He($n,"registry",co),He($n,"version",GS),He($n,"getChart",bg);function wg(){return It($n.instances,s=>s._plugins.invalidate())}function e9(s,e,t){const{startAngle:o,x:i,y:r,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:m}=c,h=Math.min(u/a,Us(o-t));if(s.beginPath(),s.arc(i,r,a-u/2,o+h/2,t-h/2),l>0){const p=Math.min(u/l,Us(o-t));s.arc(i,r,l+u/2,t-p/2,o+p/2,!0)}else{const p=Math.min(u/2,a*Us(o-t));if(m==="round")s.arc(i,r,p,t-Lt/2,o+Lt/2,!0);else if(m==="bevel"){const _=2*p*p,v=-_*Math.cos(t+Lt/2)+i,x=-_*Math.sin(t+Lt/2)+r,w=_*Math.cos(o+Lt/2)+i,b=_*Math.sin(o+Lt/2)+r;s.lineTo(v,x),s.lineTo(w,b)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function t9(s,e,t){const{startAngle:o,pixelMargin:i,x:r,y:a,outerRadius:l,innerRadius:c}=e;let u=i/l;s.beginPath(),s.arc(r,a,l,o-u,t+u),c>i?(u=i/c,s.arc(r,a,c,t+u,o-u,!0)):s.arc(r,a,i,t+as,o-as),s.closePath(),s.clip()}function s9(s){return ff(s,["outerStart","outerEnd","innerStart","innerEnd"])}function n9(s,e,t,o){const i=s9(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,o*e/2),l=c=>{const u=(t-Math.min(r,c))*o/2;return Ws(c,0,Math.min(r,u))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ws(i.innerStart,0,a),innerEnd:Ws(i.innerEnd,0,a)}}function fr(s,e,t,o){return{x:t+s*Math.cos(e),y:o+s*Math.sin(e)}}function ac(s,e,t,o,i,r){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:m}=e,h=Math.max(e.outerRadius+o+t-u,0),p=m>0?m+o+t+u:0;let _=0;const v=i-c;if(o){const le=m>0?m-o:0,de=h>0?h-o:0,q=(le+de)/2,ne=q!==0?v*q/(q+o):v;_=(v-ne)/2}const x=Math.max(.001,v*h-t/Lt)/h,w=(v-x)/2,b=c+w+_,k=i-w-_,{outerStart:C,outerEnd:$,innerStart:A,innerEnd:R}=n9(e,p,h,k-b),T=h-C,F=h-$,L=b+C/T,D=k-$/F,N=p+A,P=p+R,U=b+A/N,ye=k-R/P;if(s.beginPath(),r){const le=(L+D)/2;if(s.arc(a,l,h,L,le),s.arc(a,l,h,le,D),$>0){const G=fr(F,D,a,l);s.arc(G.x,G.y,$,D,k+as)}const de=fr(P,k,a,l);if(s.lineTo(de.x,de.y),R>0){const G=fr(P,ye,a,l);s.arc(G.x,G.y,R,k+as,ye+Math.PI)}const q=(k-R/p+(b+A/p))/2;if(s.arc(a,l,p,k-R/p,q,!0),s.arc(a,l,p,q,b+A/p,!0),A>0){const G=fr(N,U,a,l);s.arc(G.x,G.y,A,U+Math.PI,b-as)}const ne=fr(T,b,a,l);if(s.lineTo(ne.x,ne.y),C>0){const G=fr(T,L,a,l);s.arc(G.x,G.y,C,b-as,L)}}else{s.moveTo(a,l);const le=Math.cos(L)*h+a,de=Math.sin(L)*h+l;s.lineTo(le,de);const q=Math.cos(D)*h+a,ne=Math.sin(D)*h+l;s.lineTo(q,ne)}s.closePath()}function o9(s,e,t,o,i){const{fullCircles:r,startAngle:a,circumference:l}=e;let c=e.endAngle;if(r){ac(s,e,t,o,c,i);for(let u=0;u<r;++u)s.fill();isNaN(l)||(c=a+(l%Kt||Kt))}return ac(s,e,t,o,c,i),s.fill(),c}function i9(s,e,t,o,i){const{fullCircles:r,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:m,borderDash:h,borderDashOffset:p,borderRadius:_}=c,v=c.borderAlign==="inner";if(!u)return;s.setLineDash(h||[]),s.lineDashOffset=p,v?(s.lineWidth=u*2,s.lineJoin=m||"round"):(s.lineWidth=u,s.lineJoin=m||"bevel");let x=e.endAngle;if(r){ac(s,e,t,o,x,i);for(let w=0;w<r;++w)s.stroke();isNaN(l)||(x=a+(l%Kt||Kt))}v&&t9(s,e,x),c.selfJoin&&x-a>=Lt&&_===0&&m!=="miter"&&e9(s,e,x),r||(ac(s,e,t,o,x,i),s.stroke())}class wa extends ki{constructor(t){super();He(this,"circumference");He(this,"endAngle");He(this,"fullCircles");He(this,"innerRadius");He(this,"outerRadius");He(this,"pixelMargin");He(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,o,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=ky(r,{x:t,y:o}),{startAngle:c,endAngle:u,innerRadius:m,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,v=ht(p,u-c),x=ll(a,c,u)&&c!==u,w=v>=Kt||x,b=Eo(l,m+_,h+_);return w&&b}getCenterPoint(t){const{x:o,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:m}=this.options,h=(r+a)/2,p=(l+c+m+u)/2;return{x:o+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:o,circumference:i}=this,r=(o.offset||0)/4,a=(o.spacing||0)/2,l=o.circular;if(this.pixelMargin=o.borderAlign==="inner"?.33:0,this.fullCircles=i>Kt?Math.floor(i/Kt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(Lt,i||0)),m=r*u;t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,o9(t,this,m,a,l),i9(t,this,m,a,l),t.restore()}}He(wa,"id","arc"),He(wa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),He(wa,"defaultRoutes",{backgroundColor:"backgroundColor"}),He(wa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function tx(s,e,t=e){s.lineCap=ht(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ht(t.borderDash,e.borderDash)),s.lineDashOffset=ht(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ht(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ht(t.borderWidth,e.borderWidth),s.strokeStyle=ht(t.borderColor,e.borderColor)}function r9(s,e,t){s.lineTo(t.x,t.y)}function a9(s){return s.stepped?AC:s.tension||s.cubicInterpolationMode==="monotone"?PC:r9}function sx(s,e,t={}){const o=s.length,{start:i=0,end:r=o-1}=t,{start:a,end:l}=e,c=Math.max(i,a),u=Math.min(r,l),m=i<a&&r<a||i>l&&r>l;return{count:o,start:c,loop:e.loop,ilen:u<c&&!m?o+u-c:u-c}}function l9(s,e,t,o){const{points:i,options:r}=e,{count:a,start:l,loop:c,ilen:u}=sx(i,t,o),m=a9(r);let{move:h=!0,reverse:p}=o||{},_,v,x;for(_=0;_<=u;++_)v=i[(l+(p?u-_:_))%a],!v.skip&&(h?(s.moveTo(v.x,v.y),h=!1):m(s,x,v,p,r.stepped),x=v);return c&&(v=i[(l+(p?u:0))%a],m(s,x,v,p,r.stepped)),!!c}function d9(s,e,t,o){const i=e.points,{count:r,start:a,ilen:l}=sx(i,t,o),{move:c=!0,reverse:u}=o||{};let m=0,h=0,p,_,v,x,w,b;const k=$=>(a+(u?l-$:$))%r,C=()=>{x!==w&&(s.lineTo(m,w),s.lineTo(m,x),s.lineTo(m,b))};for(c&&(_=i[k(0)],s.moveTo(_.x,_.y)),p=0;p<=l;++p){if(_=i[k(p)],_.skip)continue;const $=_.x,A=_.y,R=$|0;R===v?(A<x?x=A:A>w&&(w=A),m=(h*m+$)/++h):(C(),s.lineTo($,A),v=R,h=0,x=w=A),b=A}C()}function am(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?d9:l9}function c9(s){return s.stepped?d7:s.tension||s.cubicInterpolationMode==="monotone"?c7:zi}function u9(s,e,t,o){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,o)&&i.closePath()),tx(s,e.options),s.stroke(i)}function m9(s,e,t,o){const{segments:i,options:r}=e,a=am(e);for(const l of i)tx(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+o-1})&&s.closePath(),s.stroke()}const f9=typeof Path2D=="function";function p9(s,e,t,o){f9&&!e.options.segment?u9(s,e,t,o):m9(s,e,t,o)}class ii extends ki{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const i=o.spanGaps?this._loop:this._fullLoop;t7(this._points,o,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=g7(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){const o=this.options,i=e[t],r=this.points,a=Uy(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],c=c9(o);let u,m;for(u=0,m=a.length;u<m;++u){const{start:h,end:p}=a[u],_=r[h],v=r[p];if(_===v){l.push(_);continue}const x=Math.abs((i-_[t])/(v[t]-_[t])),w=c(_,v,x,o.stepped);w[t]=e[t],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,t,o){return am(this)(e,this,t,o)}path(e,t,o){const i=this.segments,r=am(this);let a=this._loop;t=t||0,o=o||this.points.length-t;for(const l of i)a&=r(e,this,l,{start:t,end:t+o-1});return!!a}draw(e,t,o,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),p9(e,this,o,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}He(ii,"id","line"),He(ii,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),He(ii,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),He(ii,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function kg(s,e,t,o){const i=s.options,{[t]:r}=s.getProps([t],o);return Math.abs(e-r)<i.radius+i.hitRadius}class Dd extends ki{constructor(t){super();He(this,"parsed");He(this,"skip");He(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,o,i){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(o-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,o){return kg(this,t,"x",o)}inYRange(t,o){return kg(this,t,"y",o)}getCenterPoint(t){const{x:o,y:i}=this.getProps(["x","y"],t);return{x:o,y:i}}size(t){t=t||this.options||{};let o=t.radius||0;o=Math.max(o,o&&t.hoverRadius||0);const i=o&&t.borderWidth||0;return(o+i)*2}draw(t,o){const i=this.options;this.skip||i.radius<.1||!jo(this,o,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,om(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}He(Dd,"id","point"),He(Dd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),He(Dd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nx(s,e){const{x:t,y:o,base:i,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,c,u,m,h;return s.horizontal?(h=a/2,l=Math.min(t,i),c=Math.max(t,i),u=o-h,m=o+h):(h=r/2,l=t-h,c=t+h,u=Math.min(o,i),m=Math.max(o,i)),{left:l,top:u,right:c,bottom:m}}function ri(s,e,t,o){return s?0:Ws(e,t,o)}function h9(s,e,t){const o=s.options.borderWidth,i=s.borderSkipped,r=Py(o);return{t:ri(i.top,r.top,0,t),r:ri(i.right,r.right,0,e),b:ri(i.bottom,r.bottom,0,t),l:ri(i.left,r.left,0,e)}}function g9(s,e,t){const{enableBorderRadius:o}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=Xi(i),a=Math.min(e,t),l=s.borderSkipped,c=o||xt(i);return{topLeft:ri(!c||l.top||l.left,r.topLeft,0,a),topRight:ri(!c||l.top||l.right,r.topRight,0,a),bottomLeft:ri(!c||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:ri(!c||l.bottom||l.right,r.bottomRight,0,a)}}function _9(s){const e=nx(s),t=e.right-e.left,o=e.bottom-e.top,i=h9(s,t/2,o/2),r=g9(s,t/2,o/2);return{outer:{x:e.left,y:e.top,w:t,h:o,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:o-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function o0(s,e,t,o){const i=e===null,r=t===null,l=s&&!(i&&r)&&nx(s,o);return l&&(i||Eo(e,l.left,l.right))&&(r||Eo(t,l.top,l.bottom))}function v9(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function y9(s,e){s.rect(e.x,e.y,e.w,e.h)}function i0(s,e,t={}){const o=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-o,a=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+o,y:s.y+i,w:s.w+r,h:s.h+a,radius:s.radius}}class Ad extends ki{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:o,backgroundColor:i}}=this,{inner:r,outer:a}=_9(this),l=v9(a.radius)?dl:y9;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,i0(a,t,r)),e.clip(),l(e,i0(r,-t,a)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),l(e,i0(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,o){return o0(this,e,t,o)}inXRange(e,t){return o0(this,e,null,t)}inYRange(e,t){return o0(this,null,e,t)}getCenterPoint(e){const{x:t,y:o,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?o:(o+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}He(Ad,"id","bar"),He(Ad,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),He(Ad,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function x9(s,e,t){const o=s.segments,i=s.points,r=e.points,a=[];for(const l of o){let{start:c,end:u}=l;u=ou(c,u,i);const m=lm(t,i[c],i[u],l.loop);if(!e.segments){a.push({source:l,target:m,start:i[c],end:i[u]});continue}const h=Uy(e,m);for(const p of h){const _=lm(t,r[p.start],r[p.end],p.loop),v=zy(l,i,_);for(const x of v)a.push({source:x,target:p,start:{[t]:$g(m,_,"start",Math.max)},end:{[t]:$g(m,_,"end",Math.min)}})}}return a}function lm(s,e,t,o){if(o)return;let i=e[s],r=t[s];return s==="angle"&&(i=Us(i),r=Us(r)),{property:s,start:i,end:r}}function b9(s,e){const{x:t=null,y:o=null}=s||{},i=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=ou(a,l,i);const c=i[a],u=i[l];o!==null?(r.push({x:c.x,y:o}),r.push({x:u.x,y:o})):t!==null&&(r.push({x:t,y:c.y}),r.push({x:t,y:u.y}))}),r}function ou(s,e,t){for(;e>s;e--){const o=t[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function $g(s,e,t,o){return s&&e?o(s[t],e[t]):s?s[t]:e?e[t]:0}function ox(s,e){let t=[],o=!1;return Jt(s)?(o=!0,t=s):t=b9(s,e),t.length?new ii({points:t,options:{tension:0},_loop:o,_fullLoop:o}):null}function Cg(s){return s&&s.fill!==!1}function w9(s,e,t){let i=s[e].fill;const r=[e];let a;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!ss(i))return i;if(a=s[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function k9(s,e,t){const o=M9(s);if(xt(o))return isNaN(o.value)?!1:o;let i=parseFloat(o);return ss(i)&&Math.floor(i)===i?$9(o[0],e,i,t):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function $9(s,e,t,o){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=o?!1:t}function C9(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:xt(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function S9(s,e,t){let o;return s==="start"?o=t:s==="end"?o=e.options.reverse?e.min:e.max:xt(s)?o=s.value:o=e.getBaseValue(),o}function M9(s){const e=s.options,t=e.fill;let o=ht(t&&t.target,t);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function T9(s){const{scale:e,index:t,line:o}=s,i=[],r=o.segments,a=o.points,l=D9(e,t);l.push(ox({x:null,y:e.bottom},o));for(let c=0;c<r.length;c++){const u=r[c];for(let m=u.start;m<=u.end;m++)A9(i,a[m],l)}return new ii({points:i,options:{}})}function D9(s,e){const t=[],o=s.getMatchingVisibleMetas("line");for(let i=0;i<o.length;i++){const r=o[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function A9(s,e,t){const o=[];for(let i=0;i<t.length;i++){const r=t[i],{first:a,last:l,point:c}=P9(r,e,"x");if(!(!c||a&&l)){if(a)o.unshift(c);else if(s.push(c),!l)break}}s.push(...o)}function P9(s,e,t){const o=s.interpolate(e,t);if(!o)return{};const i=o[t],r=s.segments,a=s.points;let l=!1,c=!1;for(let u=0;u<r.length;u++){const m=r[u],h=a[m.start][t],p=a[m.end][t];if(Eo(i,h,p)){l=i===h,c=i===p;break}}return{first:l,last:c,point:o}}class ix{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,o){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:Kt},e.arc(i,r,a,t.end,t.start,!0),!o.bounds}interpolate(e){const{x:t,y:o,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:o+Math.sin(r)*i,angle:r}}}function E9(s){const{chart:e,fill:t,line:o}=s;if(ss(t))return j9(e,t);if(t==="stack")return T9(s);if(t==="shape")return!0;const i=R9(s);return i instanceof ix?i:ox(i,o)}function j9(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function R9(s){return(s.scale||{}).getPointPositionForValue?O9(s):I9(s)}function I9(s){const{scale:e={},fill:t}=s,o=C9(t,e);if(ss(o)){const i=e.isHorizontal();return{x:i?o:null,y:i?null:o}}return null}function O9(s){const{scale:e,fill:t}=s,o=e.options,i=e.getLabels().length,r=o.reverse?e.max:e.min,a=S9(t,e,r),l=[];if(o.grid.circular){const c=e.getPointPositionForValue(0,r);return new ix({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<i;++c)l.push(e.getPointPositionForValue(c,a));return l}function r0(s,e,t){const o=E9(e),{chart:i,index:r,line:a,scale:l,axis:c}=e,u=a.options,m=u.fill,h=u.backgroundColor,{above:p=h,below:_=h}=m||{},v=i.getDatasetMeta(r),x=By(i,v);o&&a.points.length&&(tu(s,t),L9(s,{line:a,target:o,above:p,below:_,area:t,scale:l,axis:c,clip:x}),su(s))}function L9(s,e){const{line:t,target:o,above:i,below:r,area:a,scale:l,clip:c}=e,u=t._loop?"angle":e.axis;s.save();let m=r;r!==i&&(u==="x"?(Sg(s,o,a.top),a0(s,{line:t,target:o,color:i,scale:l,property:u,clip:c}),s.restore(),s.save(),Sg(s,o,a.bottom)):u==="y"&&(Mg(s,o,a.left),a0(s,{line:t,target:o,color:r,scale:l,property:u,clip:c}),s.restore(),s.save(),Mg(s,o,a.right),m=i)),a0(s,{line:t,target:o,color:m,scale:l,property:u,clip:c}),s.restore()}function Sg(s,e,t){const{segments:o,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of o){const{start:c,end:u}=l,m=i[c],h=i[ou(c,u,i)];r?(s.moveTo(m.x,m.y),r=!1):(s.lineTo(m.x,t),s.lineTo(m.x,m.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(h.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function Mg(s,e,t){const{segments:o,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of o){const{start:c,end:u}=l,m=i[c],h=i[ou(c,u,i)];r?(s.moveTo(m.x,m.y),r=!1):(s.lineTo(t,m.y),s.lineTo(m.x,m.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(t,h.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function a0(s,e){const{line:t,target:o,property:i,color:r,scale:a,clip:l}=e,c=x9(t,o,i);for(const{source:u,target:m,start:h,end:p}of c){const{style:{backgroundColor:_=r}={}}=u,v=o!==!0;s.save(),s.fillStyle=_,F9(s,a,l,v&&lm(i,h,p)),s.beginPath();const x=!!t.pathSegment(s,u);let w;if(v){x?s.closePath():Tg(s,o,p,i);const b=!!o.pathSegment(s,m,{move:x,reverse:!0});w=x&&b,w||Tg(s,o,h,i)}s.closePath(),s.fill(w?"evenodd":"nonzero"),s.restore()}}function F9(s,e,t,o){const i=e.chart.chartArea,{property:r,start:a,end:l}=o||{};if(r==="x"||r==="y"){let c,u,m,h;r==="x"?(c=a,u=i.top,m=l,h=i.bottom):(c=i.left,u=a,m=i.right,h=l),s.beginPath(),t&&(c=Math.max(c,t.left),m=Math.min(m,t.right),u=Math.max(u,t.top),h=Math.min(h,t.bottom)),s.rect(c,u,m-c,h-u),s.clip()}}function Tg(s,e,t,o){const i=e.interpolate(t,o);i&&s.lineTo(i.x,i.y)}var N9={id:"filler",afterDatasetsUpdate(s,e,t){const o=(s.data.datasets||[]).length,i=[];let r,a,l,c;for(a=0;a<o;++a)r=s.getDatasetMeta(a),l=r.dataset,c=null,l&&l.options&&l instanceof ii&&(c={visible:s.isDatasetVisible(a),index:a,fill:k9(l,a,o),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,i.push(c);for(a=0;a<o;++a)c=i[a],!(!c||c.fill===!1)&&(c.fill=w9(i,a,t.propagate))},beforeDraw(s,e,t){const o=t.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),o&&l.fill&&r0(s.ctx,l,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const o=s.getSortedVisibleDatasetMetas();for(let i=o.length-1;i>=0;--i){const r=o[i].$filler;Cg(r)&&r0(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const o=e.meta.$filler;!Cg(o)||t.drawTime!=="beforeDatasetDraw"||r0(s.ctx,o,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Dg=(s,e)=>{let{boxHeight:t=e,boxWidth:o=e}=s;return s.usePointStyle&&(t=Math.min(t,e),o=s.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:t,itemHeight:Math.max(e,t)}},z9=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Ag extends ki{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,o){this.maxWidth=e,this.maxHeight=t,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(o=>e.filter(o,this.chart.data))),e.sort&&(t=t.sort((o,i)=>e.sort(o,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,i=Ds(o.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Dg(o,r);let u,m;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,m=this._fitRows(a,r,l,c)+10):(m=this.maxHeight,u=this._fitCols(a,i,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,o,i){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],m=i+l;let h=e;r.textAlign="left",r.textBaseline="middle";let p=-1,_=-m;return this.legendItems.forEach((v,x)=>{const w=o+t/2+r.measureText(v.text).width;(x===0||u[u.length-1]+w+2*l>a)&&(h+=m,u[u.length-(x>0?0:1)]=0,_+=m,p++),c[x]={left:0,top:_,row:p,width:w,height:i},u[u.length-1]+=w+l}),h}_fitCols(e,t,o,i){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],m=a-e;let h=l,p=0,_=0,v=0,x=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:k,itemHeight:C}=U9(o,t,r,w,i);b>0&&_+C+2*l>m&&(h+=p+l,u.push({width:p,height:_}),v+=p+l,x++,p=_=0),c[b]={left:v,top:_,col:x,width:k,height:C},p=Math.max(p,k),_+=C+l}),h+=p,u.push({width:p,height:_}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:o,labels:{padding:i},rtl:r}}=this,a=Cr(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=bn(o,this.left+i,this.right-this.lineWidths[l]);for(const u of t)l!==u.row&&(l=u.row,c=bn(o,this.left+i,this.right-this.lineWidths[l])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+i}else{let l=0,c=bn(o,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const u of t)u.col!==l&&(l=u.col,c=bn(o,this.top+e+i,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tu(e,this),this._draw(),su(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:o,ctx:i}=this,{align:r,labels:a}=e,l=ns.color,c=Cr(e.rtl,this.left,this.width),u=Ds(a.font),{padding:m}=a,h=u.size,p=h/2;let _;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:x,itemHeight:w}=Dg(a,h),b=function(R,T,F){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;i.save();const L=ht(F.lineWidth,1);if(i.fillStyle=ht(F.fillStyle,l),i.lineCap=ht(F.lineCap,"butt"),i.lineDashOffset=ht(F.lineDashOffset,0),i.lineJoin=ht(F.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=ht(F.strokeStyle,l),i.setLineDash(ht(F.lineDash,[])),a.usePointStyle){const D={radius:x*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:L},N=c.xPlus(R,v/2),P=T+p;Ay(i,D,N,P,a.pointStyleWidth&&v)}else{const D=T+Math.max((h-x)/2,0),N=c.leftForLtr(R,v),P=Xi(F.borderRadius);i.beginPath(),Object.values(P).some(U=>U!==0)?dl(i,{x:N,y:D,w:v,h:x,radius:P}):i.rect(N,D,v,x),i.fill(),L!==0&&i.stroke()}i.restore()},k=function(R,T,F){Or(i,F.text,R,T+w/2,u,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},C=this.isHorizontal(),$=this._computeTitleHeight();C?_={x:bn(r,this.left+m,this.right-o[0]),y:this.top+m+$,line:0}:_={x:this.left+m,y:bn(r,this.top+$+m,this.bottom-t[0].height),line:0},Ly(this.ctx,e.textDirection);const A=w+m;this.legendItems.forEach((R,T)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const F=i.measureText(R.text).width,L=c.textAlign(R.textAlign||(R.textAlign=a.textAlign)),D=v+p+F;let N=_.x,P=_.y;c.setWidth(this.width),C?T>0&&N+D+m>this.right&&(P=_.y+=A,_.line++,N=_.x=bn(r,this.left+m,this.right-o[_.line])):T>0&&P+A>this.bottom&&(N=_.x=N+t[_.line].width+m,_.line++,P=_.y=bn(r,this.top+$+m,this.bottom-t[_.line].height));const U=c.x(N);if(b(U,P,R),N=_C(L,N+v+p,C?N+D:this.right,e.rtl),k(c.x(N),P,R),C)_.x+=D+m;else if(typeof R.text!="string"){const ye=u.lineHeight;_.y+=rx(R,ye)+m}else _.y+=A}),Fy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,o=Ds(t.font),i=on(t.padding);if(!t.display)return;const r=Cr(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=o.size/2,u=i.top+c;let m,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),m=this.top+u,h=bn(e.align,h,this.right-p);else{const v=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);m=u+bn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const _=bn(l,h,h+p);a.textAlign=r.textAlign(Ty(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=o.string,Or(a,t.text,_,m,o)}_computeTitleHeight(){const e=this.options.title,t=Ds(e.font),o=on(e.padding);return e.display?t.lineHeight+o.height:0}_getLegendItemAt(e,t){let o,i,r;if(Eo(e,this.left,this.right)&&Eo(t,this.top,this.bottom)){for(r=this.legendHitBoxes,o=0;o<r.length;++o)if(i=r[o],Eo(e,i.left,i.left+i.width)&&Eo(t,i.top,i.top+i.height))return this.legendItems[o]}return null}handleEvent(e){const t=this.options;if(!H9(e.type,t))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=z9(i,o);i&&!r&&Wt(t.onLeave,[e,i,this],this),this._hoveredItem=o,o&&!r&&Wt(t.onHover,[e,o,this],this)}else o&&Wt(t.onClick,[e,o,this],this)}}function U9(s,e,t,o,i){const r=B9(o,s,e,t),a=V9(i,o,e.lineHeight);return{itemWidth:r,itemHeight:a}}function B9(s,e,t,o){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+o.measureText(i).width}function V9(s,e,t){let o=s;return typeof e.text!="string"&&(o=rx(e,t)),o}function rx(s,e){const t=s.text?s.text.length:0;return e*t}function H9(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var ax={id:"legend",_element:Ag,start(s,e,t){const o=s.legend=new Ag({ctx:s.ctx,options:t,chart:s});oi.configure(s,o,t),oi.addBox(s,o)},stop(s){oi.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const o=s.legend;oi.configure(s,o,t),o.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const o=e.datasetIndex,i=t.chart;i.isDatasetVisible(o)?(i.hide(o),e.hidden=!0):(i.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:o,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(t?0:void 0),m=on(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:u.borderColor,pointStyle:o||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const ka={average(s){if(!s.length)return!1;let e,t,o=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();o.add(c.x),i+=c.y,++r}}return r===0||o.size===0?!1:{x:[...o].reduce((l,c)=>l+c)/o.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,o=e.y,i=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const c=s[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),m=sm(e,u);m<i&&(i=m,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,o=c.y}return{x:t,y:o}}};function ao(s,e){return e&&(Jt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Co(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function q9(s,e){const{element:t,datasetIndex:o,index:i}=e,r=s.getDatasetMeta(o).controller,{label:a,value:l}=r.getLabelAndValue(i);return{chart:s,label:a,parsed:r.getParsed(i),raw:s.data.datasets[o].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:o,element:t}}function Pg(s,e){const t=s.chart.ctx,{body:o,footer:i,title:r}=s,{boxWidth:a,boxHeight:l}=e,c=Ds(e.bodyFont),u=Ds(e.titleFont),m=Ds(e.footerFont),h=r.length,p=i.length,_=o.length,v=on(e.padding);let x=v.height,w=0,b=o.reduce(($,A)=>$+A.before.length+A.lines.length+A.after.length,0);if(b+=s.beforeBody.length+s.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const $=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=_*$+(b-_)*c.lineHeight+(b-1)*e.bodySpacing}p&&(x+=e.footerMarginTop+p*m.lineHeight+(p-1)*e.footerSpacing);let k=0;const C=function($){w=Math.max(w,t.measureText($).width+k)};return t.save(),t.font=u.string,It(s.title,C),t.font=c.string,It(s.beforeBody.concat(s.afterBody),C),k=e.displayColors?a+2+e.boxPadding:0,It(o,$=>{It($.before,C),It($.lines,C),It($.after,C)}),k=0,t.font=m.string,It(s.footer,C),t.restore(),w+=v.width,{width:w,height:x}}function W9(s,e){const{y:t,height:o}=e;return t<o/2?"top":t>s.height-o/2?"bottom":"center"}function K9(s,e,t,o){const{x:i,width:r}=o,a=t.caretSize+t.caretPadding;if(s==="left"&&i+r+a>e.width||s==="right"&&i-r-a<0)return!0}function Y9(s,e,t,o){const{x:i,width:r}=t,{width:a,chartArea:{left:l,right:c}}=s;let u="center";return o==="center"?u=i<=(l+c)/2?"left":"right":i<=r/2?u="left":i>=a-r/2&&(u="right"),K9(u,s,e,t)&&(u="center"),u}function Eg(s,e,t){const o=t.yAlign||e.yAlign||W9(s,t);return{xAlign:t.xAlign||e.xAlign||Y9(s,e,t,o),yAlign:o}}function G9(s,e){let{x:t,width:o}=s;return e==="right"?t-=o:e==="center"&&(t-=o/2),t}function X9(s,e,t){let{y:o,height:i}=s;return e==="top"?o+=t:e==="bottom"?o-=i+t:o-=i/2,o}function jg(s,e,t,o){const{caretSize:i,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:c}=t,u=i+r,{topLeft:m,topRight:h,bottomLeft:p,bottomRight:_}=Xi(a);let v=G9(e,l);const x=X9(e,c,u);return c==="center"?l==="left"?v+=u:l==="right"&&(v-=u):l==="left"?v-=Math.max(m,p)+i:l==="right"&&(v+=Math.max(h,_)+i),{x:Ws(v,0,o.width-e.width),y:Ws(x,0,o.height-e.height)}}function ed(s,e,t){const o=on(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-o.right:s.x+o.left}function Rg(s){return ao([],Co(s))}function J9(s,e,t){return wi(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Ig(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const lx={beforeTitle:ko,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,o=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return t[e.dataIndex]}return""},afterTitle:ko,beforeBody:ko,beforeLabel:ko,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return Ct(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ko,afterBody:ko,beforeFooter:ko,footer:ko,afterFooter:ko};function an(s,e,t,o){const i=s[e].call(t,o);return typeof i>"u"?lx[e].call(t,o):i}class dm extends ki{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,o=this.options.setContext(this.getContext()),i=o.enabled&&t.options.animation&&o.animations,r=new Vy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=J9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:o}=t,i=an(o,"beforeTitle",this,e),r=an(o,"title",this,e),a=an(o,"afterTitle",this,e);let l=[];return l=ao(l,Co(i)),l=ao(l,Co(r)),l=ao(l,Co(a)),l}getBeforeBody(e,t){return Rg(an(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:o}=t,i=[];return It(e,r=>{const a={before:[],lines:[],after:[]},l=Ig(o,r);ao(a.before,Co(an(l,"beforeLabel",this,r))),ao(a.lines,an(l,"label",this,r)),ao(a.after,Co(an(l,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,t){return Rg(an(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:o}=t,i=an(o,"beforeFooter",this,e),r=an(o,"footer",this,e),a=an(o,"afterFooter",this,e);let l=[];return l=ao(l,Co(i)),l=ao(l,Co(r)),l=ao(l,Co(a)),l}_createItems(e){const t=this._active,o=this.chart.data,i=[],r=[],a=[];let l=[],c,u;for(c=0,u=t.length;c<u;++c)l.push(q9(this.chart,t[c]));return e.filter&&(l=l.filter((m,h,p)=>e.filter(m,h,p,o))),e.itemSort&&(l=l.sort((m,h)=>e.itemSort(m,h,o))),It(l,m=>{const h=Ig(e.callbacks,m);i.push(an(h,"labelColor",this,m)),r.push(an(h,"labelPointStyle",this,m)),a.push(an(h,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const o=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=ka[o.position].call(this,i,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);const c=this._size=Pg(this,o),u=Object.assign({},l,c),m=Eg(this.chart,o,u),h=jg(o,u,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,i){const r=this.getCaretPosition(e,o,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,o){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:u,bottomLeft:m,bottomRight:h}=Xi(l),{x:p,y:_}=e,{width:v,height:x}=t;let w,b,k,C,$,A;return r==="center"?($=_+x/2,i==="left"?(w=p,b=w-a,C=$+a,A=$-a):(w=p+v,b=w+a,C=$-a,A=$+a),k=w):(i==="left"?b=p+Math.max(c,m)+a:i==="right"?b=p+v-Math.max(u,h)-a:b=this.caretX,r==="top"?(C=_,$=C-a,w=b-a,k=b+a):(C=_+x,$=C+a,w=b+a,k=b-a),A=C),{x1:w,x2:b,x3:k,y1:C,y2:$,y3:A}}drawTitle(e,t,o){const i=this.title,r=i.length;let a,l,c;if(r){const u=Cr(o.rtl,this.x,this.width);for(e.x=ed(this,o.titleAlign,o),t.textAlign=u.textAlign(o.titleAlign),t.textBaseline="middle",a=Ds(o.titleFont),l=o.titleSpacing,t.fillStyle=o.titleColor,t.font=a.string,c=0;c<r;++c)t.fillText(i[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===r&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,t,o,i,r){const a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:u}=r,m=Ds(r.bodyFont),h=ed(this,"left",r),p=i.x(h),_=c<m.lineHeight?(m.lineHeight-c)/2:0,v=t.y+_;if(r.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=i.leftForLtr(p,u)+u/2,b=v+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,om(e,x,w,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,om(e,x,w,b)}else{e.lineWidth=xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=i.leftForLtr(p,u),w=i.leftForLtr(i.xPlus(p,1),u-2),b=Xi(a.borderRadius);Object.values(b).some(k=>k!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,dl(e,{x,y:v,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),dl(e,{x:w,y:v+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,v,u,c),e.strokeRect(x,v,u,c),e.fillStyle=a.backgroundColor,e.fillRect(w,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:m}=o,h=Ds(o.bodyFont);let p=h.lineHeight,_=0;const v=Cr(o.rtl,this.x,this.width),x=function(F){t.fillText(F,v.x(e.x+_),e.y+p/2),e.y+=p+r},w=v.textAlign(a);let b,k,C,$,A,R,T;for(t.textAlign=a,t.textBaseline="middle",t.font=h.string,e.x=ed(this,w,o),t.fillStyle=o.bodyColor,It(this.beforeBody,x),_=l&&w!=="right"?a==="center"?u/2+m:u+2+m:0,$=0,R=i.length;$<R;++$){for(b=i[$],k=this.labelTextColors[$],t.fillStyle=k,It(b.before,x),C=b.lines,l&&C.length&&(this._drawColorBox(t,e,$,v,o),p=Math.max(h.lineHeight,c)),A=0,T=C.length;A<T;++A)x(C[A]),p=h.lineHeight;It(b.after,x)}_=0,p=h.lineHeight,It(this.afterBody,x),e.y-=r}drawFooter(e,t,o){const i=this.footer,r=i.length;let a,l;if(r){const c=Cr(o.rtl,this.x,this.width);for(e.x=ed(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=c.textAlign(o.footerAlign),t.textBaseline="middle",a=Ds(o.footerFont),t.fillStyle=o.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,t,o,i){const{xAlign:r,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:m}=o,{topLeft:h,topRight:p,bottomLeft:_,bottomRight:v}=Xi(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+h,c),a==="top"&&this.drawCaret(e,t,o,i),t.lineTo(l+u-p,c),t.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&r==="right"&&this.drawCaret(e,t,o,i),t.lineTo(l+u,c+m-v),t.quadraticCurveTo(l+u,c+m,l+u-v,c+m),a==="bottom"&&this.drawCaret(e,t,o,i),t.lineTo(l+_,c+m),t.quadraticCurveTo(l,c+m,l,c+m-_),a==="center"&&r==="left"&&this.drawCaret(e,t,o,i),t.lineTo(l,c+h),t.quadraticCurveTo(l,c,l+h,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,o=this.$animations,i=o&&o.x,r=o&&o.y;if(i||r){const a=ka[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Pg(this,e),c=Object.assign({},a,this._size),u=Eg(t,e,c),m=jg(e,c,u,t);(i._to!==m.x||r._to!==m.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const a=on(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(r,e,i,t),Ly(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Fy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const o=this._active,i=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),r=!tc(o,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,o),l=this._positionChanged(a,e),c=t||!tc(a,r)||l;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,o,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,o);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:o,caretY:i,options:r}=this,a=ka[r.position].call(this,e,t);return a!==!1&&(o!==a.x||i!==a.y)}}He(dm,"positioners",ka);var xf={id:"tooltip",_element:dm,positioners:ka,afterInit(s,e,t){t&&(s.tooltip=new dm({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Q9=(s,e,t,o)=>(typeof e=="string"?(t=s.push(e)-1,o.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Z9(s,e,t,o){const i=s.indexOf(e);if(i===-1)return Q9(s,e,t,o);const r=s.lastIndexOf(e);return i!==r?t:i}const eM=(s,e)=>s===null?null:Ws(Math.round(s),0,e);function Og(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class ul extends ir{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const o=this.getLabels();for(const{index:i,label:r}of t)o[i]===r&&o.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ct(e))return null;const o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:Z9(o,e,ht(t,e),this._addedLabels),eM(t,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:o,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),t||(i=this.getLabels().length-1)),this.min=o,this.max=i}buildTicks(){const e=this.min,t=this.max,o=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Og.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}He(ul,"id","category"),He(ul,"defaults",{ticks:{callback:Og}});function tM(s,e){const t=[],{bounds:i,step:r,min:a,max:l,precision:c,count:u,maxTicks:m,maxDigits:h,includeBounds:p}=s,_=r||1,v=m-1,{min:x,max:w}=e,b=!Ct(a),k=!Ct(l),C=!Ct(u),$=(w-x)/(h+1);let A=Rh((w-x)/v/_)*_,R,T,F,L;if(A<1e-14&&!b&&!k)return[{value:x},{value:w}];L=Math.ceil(w/A)-Math.floor(x/A),L>v&&(A=Rh(L*A/v/_)*_),Ct(c)||(R=Math.pow(10,c),A=Math.ceil(A*R)/R),i==="ticks"?(T=Math.floor(x/A)*A,F=Math.ceil(w/A)*A):(T=x,F=w),b&&k&&r&&cC((l-a)/r,A/1e3)?(L=Math.round(Math.min((l-a)/A,m)),A=(l-a)/L,T=a,F=l):C?(T=b?a:T,F=k?l:F,L=u-1,A=(F-T)/L):(L=(F-T)/A,za(L,Math.round(L),A/1e3)?L=Math.round(L):L=Math.ceil(L));const D=Math.max(Ih(A),Ih(T));R=Math.pow(10,Ct(c)?D:c),T=Math.round(T*R)/R,F=Math.round(F*R)/R;let N=0;for(b&&(p&&T!==a?(t.push({value:a}),T<a&&N++,za(Math.round((T+N*A)*R)/R,a,Lg(a,$,s))&&N++):T<a&&N++);N<L;++N){const P=Math.round((T+N*A)*R)/R;if(k&&P>l)break;t.push({value:P})}return k&&p&&F!==l?t.length&&za(t[t.length-1].value,l,Lg(l,$,s))?t[t.length-1].value=l:t.push({value:l}):(!k||F===l)&&t.push({value:F}),t}function Lg(s,e,{horizontal:t,minRotation:o}){const i=po(o),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class lc extends ir{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ct(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:o}=this.getUserBounds();let{min:i,max:r}=this;const a=c=>i=t?i:c,l=c=>r=o?r:c;if(e){const c=ho(i),u=ho(r);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);l(r+c),e||a(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:o}=e,i;return o?(i=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,i>1e3&&(i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const i={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=tM(i,r);return e.bounds==="ticks"&&wy(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const i=(o-t)/Math.max(e.length-1,1)/2;t-=i,o+=i}this._startValue=t,this._endValue=o,this._valueRange=o-t}getLabelForValue(e){return Zc(e,this.chart.options.locale,this.options.ticks.format)}}class dc extends lc{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,o=po(this.options.ticks.minRotation),i=(e?Math.sin(o):Math.cos(o))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}He(dc,"id","linear"),He(dc,"defaults",{ticks:{callback:eu.formatters.numeric}});const ml=s=>Math.floor(si(s)),Ri=(s,e)=>Math.pow(10,ml(s)+e);function Fg(s){return s/Math.pow(10,ml(s))===1}function Ng(s,e,t){const o=Math.pow(10,t),i=Math.floor(s/o);return Math.ceil(e/o)-i}function sM(s,e){const t=e-s;let o=ml(t);for(;Ng(s,e,o)>10;)o++;for(;Ng(s,e,o)<10;)o--;return Math.min(o,ml(s))}function nM(s,{min:e,max:t}){e=kn(s.min,e);const o=[],i=ml(e);let r=sM(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),c=i>r?Math.pow(10,i):0,u=Math.round((e-c)*a)/a,m=Math.floor((e-c)/l/10)*l*10;let h=Math.floor((u-m)/Math.pow(10,r)),p=kn(s.min,Math.round((c+m+h*Math.pow(10,r))*a)/a);for(;p<t;)o.push({value:p,major:Fg(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,a=r>=0?1:a),p=Math.round((c+m+h*Math.pow(10,r))*a)/a;const _=kn(s.max,p);return o.push({value:_,major:Fg(_),significand:h}),o}class zg extends ir{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const o=lc.prototype.parse.apply(this,[e,t]);if(o===0){this._zero=!0;return}return ss(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ss(e)?Math.max(0,e):null,this.max=ss(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ss(this._userMin)&&(this.min=e===Ri(this.min,0)?Ri(this.min,-1):Ri(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let o=this.min,i=this.max;const r=l=>o=e?o:l,a=l=>i=t?i:l;o===i&&(o<=0?(r(1),a(10)):(r(Ri(o,-1)),a(Ri(i,1)))),o<=0&&r(Ri(i,-1)),i<=0&&a(Ri(o,1)),this.min=o,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},o=nM(t,this);return e.bounds==="ticks"&&wy(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":Zc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=si(e),this._valueRange=si(this.max)-si(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(si(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}He(zg,"id","logarithmic"),He(zg,"defaults",{ticks:{callback:eu.formatters.logarithmic,major:{enabled:!0}}});function cm(s){const e=s.ticks;if(e.display&&s.display){const t=on(e.backdropPadding);return ht(e.font&&e.font.size,ns.font.size)+t.height}return 0}function oM(s,e,t){return t=Jt(t)?t:[t],{w:DC(s,e.string,t),h:t.length*e.lineHeight}}function Ug(s,e,t,o,i){return s===o||s===i?{start:e-t/2,end:e+t/2}:s<o||s>i?{start:e-t,end:e}:{start:e,end:e+t}}function iM(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),o=[],i=[],r=s._pointLabels.length,a=s.options.pointLabels,l=a.centerPointLabels?Lt/r:0;for(let c=0;c<r;c++){const u=a.setContext(s.getPointLabelContext(c));i[c]=u.padding;const m=s.getPointPosition(c,s.drawingArea+i[c],l),h=Ds(u.font),p=oM(s.ctx,h,s._pointLabels[c]);o[c]=p;const _=Us(s.getIndexAngle(c)+l),v=Math.round(cf(_)),x=Ug(v,m.x,p.w,0,180),w=Ug(v,m.y,p.h,90,270);rM(t,e,_,x,w)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=dM(s,o,i)}function rM(s,e,t,o,i){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,c=0;o.start<e.l?(l=(e.l-o.start)/r,s.l=Math.min(s.l,e.l-l)):o.end>e.r&&(l=(o.end-e.r)/r,s.r=Math.max(s.r,e.r+l)),i.start<e.t?(c=(e.t-i.start)/a,s.t=Math.min(s.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/a,s.b=Math.max(s.b,e.b+c))}function aM(s,e,t){const o=s.drawingArea,{extra:i,additionalAngle:r,padding:a,size:l}=t,c=s.getPointPosition(e,o+i+a,r),u=Math.round(cf(Us(c.angle+as))),m=mM(c.y,l.h,u),h=cM(u),p=uM(c.x,l.w,h);return{visible:!0,x:c.x,y:m,textAlign:h,left:p,top:m,right:p+l.w,bottom:m+l.h}}function lM(s,e){if(!e)return!0;const{left:t,top:o,right:i,bottom:r}=s;return!(jo({x:t,y:o},e)||jo({x:t,y:r},e)||jo({x:i,y:o},e)||jo({x:i,y:r},e))}function dM(s,e,t){const o=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:l}=r.pointLabels,c={extra:cm(r)/2,additionalAngle:a?Lt/i:0};let u;for(let m=0;m<i;m++){c.padding=t[m],c.size=e[m];const h=aM(s,m,c);o.push(h),l==="auto"&&(h.visible=lM(h,u),h.visible&&(u=h))}return o}function cM(s){return s===0||s===180?"center":s<180?"left":"right"}function uM(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function mM(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function fM(s,e,t){const{left:o,top:i,right:r,bottom:a}=t,{backdropColor:l}=e;if(!Ct(l)){const c=Xi(e.borderRadius),u=on(e.backdropPadding);s.fillStyle=l;const m=o-u.left,h=i-u.top,p=r-o+u.width,_=a-i+u.height;Object.values(c).some(v=>v!==0)?(s.beginPath(),dl(s,{x:m,y:h,w:p,h:_,radius:c}),s.fill()):s.fillRect(m,h,p,_)}}function pM(s,e){const{ctx:t,options:{pointLabels:o}}=s;for(let i=e-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const a=o.setContext(s.getPointLabelContext(i));fM(t,a,r);const l=Ds(a.font),{x:c,y:u,textAlign:m}=r;Or(t,s._pointLabels[i],c,u+l.lineHeight/2,l,{color:a.color,textAlign:m,textBaseline:"middle"})}}function dx(s,e,t,o){const{ctx:i}=s;if(t)i.arc(s.xCenter,s.yCenter,e,0,Kt);else{let r=s.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let a=1;a<o;a++)r=s.getPointPosition(a,e),i.lineTo(r.x,r.y)}}function hM(s,e,t,o,i){const r=s.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!o||!l||!c||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=c,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),dx(s,t,a,o),r.closePath(),r.stroke(),r.restore())}function gM(s,e,t){return wi(s,{label:t,index:e,type:"pointLabel"})}class td extends lc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=on(cm(this.options)/2),t=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(t,o)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ss(e)&&!isNaN(e)?e:0,this.max=ss(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cm(this.options))}generateTickLabels(e){lc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,o)=>{const i=Wt(this.options.pointLabels.callback,[t,o],this);return i||i===0?i:""}).filter((t,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?iM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,o,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((o-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,o,i))}getIndexAngle(e){const t=Kt/(this._pointLabels.length||1),o=this.options.startAngle||0;return Us(e*t+po(o))}getDistanceFromCenterForValue(e){if(Ct(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ct(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const o=t[e];return gM(this.getContext(),e,o)}}getPointPosition(e,t,o=0){const i=this.getIndexAngle(e)-as+o;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:o,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:o,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),dx(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:o,grid:i,border:r}=t,a=this._pointLabels.length;let l,c,u;if(t.pointLabels.display&&pM(this,a),i.display&&this.ticks.forEach((m,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(m.value);const p=this.getContext(h),_=i.setContext(p),v=r.setContext(p);hM(this,_,c,a,v)}}),o.display){for(e.save(),l=a-1;l>=0;l--){const m=o.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:p}=m;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,o=t.ticks;if(!o.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const u=o.setContext(this.getContext(c)),m=Ds(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=m.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const h=on(u.backdropPadding);e.fillRect(-a/2-h.left,-r-m.size/2-h.top,a+h.width,m.size+h.height)}Or(e,l.label,0,-r,m,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}He(td,"id","radialLinear"),He(td,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),He(td,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),He(td,"descriptors",{angleLines:{_fallback:"grid"}});const iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},un=Object.keys(iu);function Bg(s,e){return s-e}function Vg(s,e){if(Ct(e))return null;const t=s._adapter,{parser:o,round:i,isoWeekday:r}=s._parseOpts;let a=e;return typeof o=="function"&&(a=o(a)),ss(a)||(a=typeof o=="string"?t.parse(a,o):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(al(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function Hg(s,e,t,o){const i=un.length;for(let r=un.indexOf(s);r<i-1;++r){const a=iu[un[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=o)return un[r]}return un[i-1]}function _M(s,e,t,o,i){for(let r=un.length-1;r>=un.indexOf(t);r--){const a=un[r];if(iu[a].common&&s._adapter.diff(i,o,a)>=e-1)return a}return un[t?un.indexOf(t):0]}function vM(s){for(let e=un.indexOf(s)+1,t=un.length;e<t;++e)if(iu[un[e]].common)return un[e]}function qg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:o,hi:i}=uf(t,e),r=t[o]>=e?t[o]:t[i];s[r]=!0}}function yM(s,e,t,o){const i=s._adapter,r=+i.startOf(e[0].value,o),a=e[e.length-1].value;let l,c;for(l=r;l<=a;l=+i.add(l,1,o))c=t[l],c>=0&&(e[c].major=!0);return e}function Wg(s,e,t){const o=[],i={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],i[l]=a,o.push({value:l,major:!1});return r===0||!t?o:yM(s,o,i,t)}class cc extends ir{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const o=e.time||(e.time={}),i=this._adapter=new q7._date(e.adapters.date);i.init(t),Na(o.displayFormats,i.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Vg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,o=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ss(i)&&!isNaN(i)?i:+t.startOf(Date.now(),o),r=ss(r)&&!isNaN(r)?r:+t.endOf(Date.now(),o)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){const e=this.options,t=e.time,o=e.ticks,i=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,l=pC(i,r,a);return this._unit=t.unit||(o.autoSkip?Hg(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):_M(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:vM(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Wg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,o=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?o=r:o=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Ws(t,0,a),o=Ws(o,0,a),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){const e=this._adapter,t=this.min,o=this.max,i=this.options,r=i.time,a=r.unit||Hg(r.minUnit,t,o,this._getLabelCapacity(t)),l=ht(i.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,u=al(c)||c===!0,m={};let h=t,p,_;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(o,t,a)>1e5*l)throw new Error(t+" and "+o+" are too far apart with stepSize of "+l+" "+a);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,_=0;p<o;p=+e.add(p,l,a),_++)qg(m,p,v);return(p===o||i.bounds==="ticks"||_===1)&&qg(m,p,v),Object.keys(m).sort(Bg).map(x=>+x)}getLabelForValue(e){const t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,a=t||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,o,i){const r=this.options,a=r.ticks.callback;if(a)return Wt(a,[e,t,o],this);const l=r.time.displayFormats,c=this._unit,u=this._majorUnit,m=c&&l[c],h=u&&l[u],p=o[t],_=u&&h&&p&&p.major;return this._adapter.format(e,i||(_?h:m))}generateTickLabels(e){let t,o,i;for(t=0,o=e.length;t<o;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,o=this.ctx.measureText(e).width,i=po(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:o*r+l*a,h:o*a+l*r}}_getLabelCapacity(e){const t=this.options.time,o=t.displayFormats,i=o[t.unit]||o.millisecond,r=this._tickFormatFunction(e,0,Wg(this,[e],this._majorUnit),i),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,o;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,o=i.length;t<o;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,o;if(e.length)return e;const i=this.getLabels();for(t=0,o=i.length;t<o;++t)e.push(Vg(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Cy(e.sort(Bg))}}He(cc,"id","time"),He(cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sd(s,e,t){let o=0,i=s.length-1,r,a,l,c;t?(e>=s[o].pos&&e<=s[i].pos&&({lo:o,hi:i}=Ki(s,"pos",e)),{pos:r,time:l}=s[o],{pos:a,time:c}=s[i]):(e>=s[o].time&&e<=s[i].time&&({lo:o,hi:i}=Ki(s,"time",e)),{time:r,pos:l}=s[o],{time:a,pos:c}=s[i]);const u=a-r;return u?l+(c-l)*(e-r)/u:l}class Kg extends cc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=sd(t,this.min),this._tableRange=sd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:o}=this,i=[],r=[];let a,l,c,u,m;for(a=0,l=e.length;a<l;++a)u=e[a],u>=t&&u<=o&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:o,pos:1}];for(a=0,l=i.length;a<l;++a)m=i[a+1],c=i[a-1],u=i[a],Math.round((m+c)/2)!==u&&r.push({time:u,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(t)||o.length===1)&&o.push(t),o.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),o=this.getLabelTimestamps();return t.length&&o.length?e=this.normalize(t.concat(o)):e=t.length?t:o,e=this._cache.all=e,e}getDecimalForValue(e){return(sd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return sd(this._table,o*this._tableRange+this._minPos,!0)}}He(Kg,"id","timeseries"),He(Kg,"defaults",cc.defaults);const xM=["id"],um=ve({__name:"LineChart",props:{id:{},data:{},backgroundColor:{},borderColor:{},tooltipLabel:{}},setup(s){const e=s;$n.register(ii,Dd,Sd,ul,dc,N9,xf);let t={};Ne(function(){const r=document.getElementById(e.id);t=new $n(r,i)}),Ur(function(){t.data.datasets[0].data=e.data,t.update()});const i={type:"line",data:{datasets:[{label:e.tooltipLabel,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:4,pointBackgroundColor:"white",fill:!0,data:e.data}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},elements:{point:{pointStyle:"cross",backgroundColor:"blue",borderColor:"black"}},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(g(),y("canvas",{id:s.id},null,8,xM))}}),bM=["id"],wM=ve({__name:"BarChart",props:{id:{},data:{},labels:{},tooltipLabel:{}},setup(s){const e=s;$n.register(Ad,Cd,ul,dc,xf,ax);let t={};Ne(function(){const r=document.getElementById(e.id);t=new $n(r,i)}),Ur(function(){t.data&&(t.data.datasets=o.datasets,t.data.labels=e.labels||[],t.update())});const o={labels:e.labels||[],datasets:e.data||[]},i={type:"bar",data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(g(),y("canvas",{id:s.id},null,8,bM))}}),kM=["id"],$M=ve({__name:"DoughnutChart",props:{id:{},data:{},labels:{},backgroundColors:{}},setup(s){const e=s;$n.register(wa,xa,ul,xf,ax);let t={};const o=["rgba(99, 102, 241, 0.8)","rgba(236, 72, 153, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(249, 115, 22, 0.8)","rgba(14, 165, 233, 0.8)","rgba(217, 70, 239, 0.8)"];Ne(function(){const a=document.getElementById(e.id);t=new $n(a,r)}),Ur(function(){t.data&&(t.data.labels=e.labels,t.data.datasets[0].data=e.data,t.update())});const r={type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.backgroundColors||o,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{usePointStyle:!0}}}};return(a,l)=>(g(),y("canvas",{id:s.id},null,8,kM))}}),CM=ve({__name:"Modals",setup(s){const e=Ft();return(t,o)=>(g(),re(kr,{to:"body"},[S(b5,{name:"modal"},{default:W(()=>[(g(!0),y(oe,null,ue(f(e).components,(i,r)=>(g(),re(Xn(i.component),j_({ref_for:!0},i.payload,{key:r}),null,16))),128))]),_:1})]))}}),SM=ve({__name:"FlashMessage",setup(s){const e=Kn();return(t,o)=>(g(),re(kr,{to:"body"},[f(e).message?(g(),y("div",{key:0,class:X(["fixed h-10 px-4 rounded flex items-center text-white text-sm",{"bg-green-600":f(e).type=="success","bg-red-500":f(e).type=="danger"}]),style:{right:"2rem",bottom:"7%","touch-action":"pan-y","z-index":"2000"}},[J(d(f(e).message)+" ",1),S(f(ui),{class:"w-5 ml-2 cursor-pointer",onClick:f(e).hide},null,8,["onClick"])],2)):j("",!0)]))}}),MM={class:"inline-flex items-center"},TM={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",viewBox:"0 0 8 14",class:"flex-shrink-0 text-gray-400 ltr:ml-2 rtl:mr-2"},Fe=ve({__name:"TableTh",props:{name:{},index:{},sort:{default:""},label:{},align:{default:"left"}},setup(s){const t=js(s.name)();return(o,i)=>(g(),y("th",{class:X(["bg-gray-50 px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500",{"cursor-pointer":s.sort,"text-center":s.align=="center","ltr:text-left rtl:text-right":s.align!="center"}]),onClick:i[0]||(i[0]=r=>f(t).sort(s.sort))},[n("span",MM,[J(d(s.label)+" ",1),s.sort?(g(),y("svg",TM,[n("path",{class:X(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="asc"&&s.index.params.orderBy==s.sort}]),d:"M1.70710678 4.70710678c-.39052429.39052429-1.02368927.39052429-1.41421356 0-.3905243-.39052429-.3905243-1.02368927 0-1.41421356l3-3c.39052429-.3905243 1.02368927-.3905243 1.41421356 0l3 3c.39052429.39052429.39052429 1.02368927 0 1.41421356-.39052429.39052429-1.02368927.39052429-1.41421356 0L4 2.41421356 1.70710678 4.70710678z"},null,2),n("path",{class:X(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="desc"&&s.index.params.orderBy==s.sort}]),d:"M6.29289322 9.29289322c.39052429-.39052429 1.02368927-.39052429 1.41421356 0 .39052429.39052429.39052429 1.02368928 0 1.41421358l-3 3c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-3-3c-.3905243-.3905243-.3905243-1.02368929 0-1.41421358.3905243-.39052429 1.02368927-.39052429 1.41421356 0L4 11.5857864l2.29289322-2.29289318z"},null,2)])):j("",!0)])],2))}}),DM={class:"mb-4 flex"},AM={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},uc=ve({__name:"PageTopbar",props:{title:{},btnTo:{},btnText:{},permission:{}},setup(s){return(e,t)=>{const o=Bt("RouterLink");return g(),y("div",DM,[n("h1",AM,d(s.title),1),Es(e.$slots,"default"),s.btnText&&s.btnTo&&e.can(s.permission||"")?(g(),re(o,{key:0,to:s.btnTo,custom:""},{default:W(({navigate:i})=>[S(Le,{class:"ml-auto","data-cy":"topbar-create-button",onClick:i},{default:W(()=>[J(d(s.btnText),1)]),_:1},8,["onClick"])]),_:1},8,["to"])):j("",!0)])}}}),PM={key:0,class:"block rounded-full"},EM=["src"],jM={key:1,class:"inline-block rounded-full bg-gray-100 text-gray-300"},cs=ve({__name:"UserAvatar",props:{avatar:{}},setup(s){return(e,t)=>s.avatar?(g(),y("span",PM,[n("img",{src:s.avatar,class:"h-full w-full rounded-full"},null,8,EM)])):(g(),y("span",jM,[...t[0]||(t[0]=[n("svg",{class:"rounded-full",fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])]))}}),RM=["for"],IM={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},bf=ve({__name:"FieldBase",props:{full:{type:Boolean},inline:{type:Boolean},label:{},lg:{type:Boolean},name:{}},setup(s){const e=Ze("form_name",""),t=_s(e)();return(o,i)=>(g(),y("div",{class:X({"grid grid-cols-3 border-b border-gray-200 py-5 last:border-b-0":s.inline})},[s.label?(g(),y("label",{key:0,for:f(e)+"-"+s.name,class:X(["block text-sm font-medium text-gray-700",{"mt-px pt-2":s.inline}])},d(s.label),11,RM)):j("",!0),n("div",{class:X(["sm:col-span-2",{"mt-1":!s.inline}])},[Es(o.$slots,"default"),f(t).errors[s.name]?(g(),y("div",IM,d(f(t).errors[s.name][0]),1)):j("",!0)],2)],2))}});function yo(){return ve({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean},setup(s){const e=Ze("form_name",""),t=_s(e)();return()=>S(bf,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>[z(S("input",{"onUpdate:modelValue":o=>t.data[s.name]=o,type:s.type,id:e+"-"+s.name,placeholder:s.label,disabled:s.disabled,class:{"mt-1 block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!t.errors[s.name],"border-red-600":t.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline}},null),[[M5,t.data[s.name]]])]})}})}function Cl(){return ve({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(s,{slots:e}){const t=Ze("form_name",""),o=Ze("__"),i=_s(t)(),r=null;return()=>S(bf,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var a;return[S("div",{class:"flex flex-wrap"},[z(S("select",{required:!0,id:t+"-"+s.name,class:{"block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!i.errors[s.name],"border-red-600":i.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline},"onUpdate:modelValue":l=>i.data[s.name]=l},[S("option",{value:r,disabled:!0},[o("Choose"),J(" "),s.label]),(a=i.options[s.name])==null?void 0:a.map(l=>S("option",{value:l[s.valueKey]},[l[s.labelKey]]))]),[[xe,i.data[s.name]]]),e.default&&e.default()])]}})}})}function cx(){return ve({props:{name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""}},setup(s){const e=Ze("form_name",""),t=_s(e)();return()=>S(bf,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var o;return[S("div",{class:"grid grid-cols-3 gap-2"},[(o=t.options[s.name])==null?void 0:o.map(i=>S("div",{class:"flex items-center"},[z(S("input",{id:`${e}-${s.name}-${i.value}`,type:"checkbox",value:i.value,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500","onUpdate:modelValue":r=>t.data[s.name]=r},null),[[rs,t.data[s.name]]]),S("label",{for:`${e}-${s.name}-${i.value}`,class:"ml-3 block whitespace-nowrap text-sm font-medium text-gray-700"},[i.label])]))])]}})}})}const OM=ve({__name:"TaskItemTimer",props:{task:{}},setup(s){const e=E(!1),t=Jr();return(o,i)=>(g(),y("div",{class:"cursor-pointer",onClick:i[1]||(i[1]=r=>e.value=!e.value)},[s.task.id==f(t).taskId?(g(),re(f(Kr),{key:0,class:"w-5 text-red-500 hover:text-red-800",onClick:f(t).stop},null,8,["onClick"])):(g(),re(f(qc),{key:1,class:"w-5 text-gray-500 hover:text-gray-800",onClick:i[0]||(i[0]=r=>f(t).start(s.task))}))]))}}),LM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},FM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},NM={class:"absolute mt-2 w-64 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},zM={key:0,class:"py-4 text-center text-sm text-gray-700"},UM={key:1},BM={class:"divide-y divide-gray-100"},VM={key:0,class:"flex items-start justify-between text-gray-900"},HM={class:"mt-2 flex items-center text-xs text-gray-600"},qM={key:1,class:"mt-1.5 flex items-center"},WM=["href","onClick"],KM=["href","onClick"],YM=ve({__name:"TimerDropdown",setup(s){const e=Jr();e.fetch();function t(o){return vt.user.id==o}return(o,i)=>{const r=Bt("router-link");return g(),re(f(Gs),null,{trigger:W(()=>[n("button",LM,[S(f(hs),{class:"h-6 w-6"}),f(e).timers.length?(g(),y("div",FM,d(f(e).timers.length>9?"9+":f(e).timers.length),1)):j("",!0)])]),content:W(()=>[n("div",NM,[f(e).timers.length?(g(),y("div",UM,[n("ul",BM,[(g(!0),y(oe,null,ue(f(e).timers,a=>(g(),y("li",{key:a.id,class:"px-4 py-2 text-sm hover:bg-gray-100"},[a.task?(g(),y("h3",VM,[J(d(a.task.title)+" ",1),t(a.user_id)?(g(),re(OM,{key:0,class:"ml-3",task:a.task},null,8,["task"])):j("",!0)])):j("",!0),n("h4",HM," Started at: "+d(a.started_at),1),a.task&&a.task.project?(g(),y("div",qM,[S(r,{custom:"",to:"/projects/"+a.task.project.id},{default:W(({href:l,navigate:c})=>{var u;return[n("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:c},[n("span",{class:"mr-1.5 block h-2 w-2 rounded-full",style:bt({backgroundColor:(u=a.task.project.meta)==null?void 0:u.color}),"aria-hidden":"true"},"",4),J(" "+d(a.task.project.name),1)],8,WM)]}),_:2},1032,["to"]),i[0]||(i[0]=n("span",{class:"px-2"},"-",-1)),S(r,{custom:"",to:"/users/"+a.user.id},{default:W(({href:l,navigate:c})=>[n("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:c},[S(f(cs),{class:"mr-1.5 h-4 w-4 text-[9px] font-semibold",avatar:a.user.avatar},null,8,["avatar"]),J(" "+d(a.user.name),1)],8,KM)]),_:2},1032,["to"])])):j("",!0)]))),128))])])):(g(),y("p",zM,d(o.__("No Timers!")),1))])]),_:1})}}}),GM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},XM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},JM={class:"absolute z-50 mt-2 w-80 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu"},QM={class:"border-b border-gray-200 bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},ZM={class:"flex items-center justify-between"},eT={class:"p-4"},tT={class:"mb-4"},sT={class:"mb-1 flex items-center justify-between text-sm"},nT={class:"h-4 w-full overflow-hidden rounded-full bg-gray-200"},oT={class:"mt-1 text-right text-xs text-gray-500"},iT={key:0,class:"mb-4 rounded-md bg-red-50 p-2"},rT={class:"flex items-center text-xs text-red-700"},aT={class:"mb-4 flex gap-2"},lT=["disabled"],dT=["disabled"],cT={key:1,class:"mb-4 rounded-md border border-gray-200 bg-gray-50 p-3"},uT={class:"mb-2"},mT={class:"mb-2"},fT={class:"flex gap-2"},pT=["disabled"],hT={class:"border-t border-gray-200 pt-3"},gT={key:0,class:"max-h-32 space-y-1 overflow-y-auto"},_T={class:"text-gray-600"},vT={class:"text-gray-400"},yT={key:1,class:"text-xs text-gray-400"},xT=ve({__name:"GeneratorDropdown",setup(s){const e=E(0),t=E(12),o=E(2),i=E(!1),r=E([]),a=E(!1),l=E(!1),c=E(""),u=E(""),m=Me(()=>t.value<=0?0:Math.round(e.value/t.value*100)),h=Me(()=>e.value<=o.value),p=Me(()=>m.value<20?"bg-red-500":m.value<50?"bg-yellow-500":"bg-green-500"),_=k=>{if(!k)return"";const C=new Date(k),A=new Date().getTime()-C.getTime(),R=Math.floor(A/(1e3*60)),T=Math.floor(A/(1e3*60*60));return R<60?`${R}m ago`:T<24?`${T}h ago`:C.toLocaleDateString()},v=()=>{ce.get("generator/status").then(k=>{k.data.generator&&(e.value=Number(k.data.generator.current_level)||0,t.value=Number(k.data.generator.tank_capacity)||12,o.value=Number(k.data.generator.reserve_fuel)||2,i.value=!!k.data.generator.is_running)}).catch(()=>{}),ce.get("generator/logs",{params:{per_page:5}}).then(k=>{r.value=k.data.data||[]}).catch(()=>{})},x=()=>{a.value=!0,ce.post("generator/start").then(()=>{v()}).catch(k=>{var C,$;alert((($=(C=k.response)==null?void 0:C.data)==null?void 0:$.message)||"Failed to start generator")}).finally(()=>{a.value=!1})},w=()=>{a.value=!0,ce.post("generator/stop").then(()=>{v()}).catch(k=>{var C,$;alert((($=(C=k.response)==null?void 0:C.data)==null?void 0:$.message)||"Failed to stop generator")}).finally(()=>{a.value=!1})},b=()=>{c.value&&(a.value=!0,ce.post("generator/add-fuel",{amount:parseFloat(c.value),notes:u.value}).then(()=>{c.value="",u.value="",l.value=!1,v()}).catch(k=>{var C,$;alert((($=(C=k.response)==null?void 0:C.data)==null?void 0:$.message)||"Failed to add fuel")}).finally(()=>{a.value=!1}))};return v(),(k,C)=>(g(),re(f(Gs),{"close-outside":!0},{trigger:W(()=>[n("button",GM,[S(f(Ym),{class:X(["h-6 w-6",{"text-green-500":i.value}])},null,8,["class"]),h.value?(g(),y("div",XM," ! ")):j("",!0)])]),content:W(()=>[n("div",JM,[n("div",QM,[n("div",ZM,[C[6]||(C[6]=n("span",{class:"font-semibold text-white"},"Generator",-1)),n("span",{class:X(["rounded-full px-2 py-0.5 text-xs font-medium",i.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},d(i.value?"Running":"Stopped"),3)])]),n("div",eT,[n("div",tT,[n("div",sT,[C[7]||(C[7]=n("span",{class:"text-gray-600"},"Fuel Level",-1)),n("span",{class:X(["font-semibold",m.value<20?"text-red-600":"text-gray-900"])},d(e.value.toFixed(1))+" / "+d(t.value)+" L ",3)]),n("div",nT,[n("div",{class:X(["h-full rounded-full transition-all duration-500",p.value]),style:bt({width:m.value+"%"})},null,6)]),n("div",oT,d(m.value)+"%",1)]),h.value?(g(),y("div",iT,[n("p",rT,[S(f(Fo),{class:"mr-1 h-4 w-4"}),C[8]||(C[8]=J(" Low fuel! Please refuel soon. ",-1))])])):j("",!0),n("div",aT,[i.value?(g(),y("button",{key:1,disabled:a.value,class:"flex flex-1 items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",onClick:Ve(w,["stop"])},[S(f(Kr),{class:"mr-1 h-4 w-4"}),C[10]||(C[10]=J(" Stop ",-1))],8,dT)):(g(),y("button",{key:0,disabled:e.value<=0||a.value,class:"flex flex-1 items-center justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:Ve(x,["stop"])},[S(f(qc),{class:"mr-1 h-4 w-4"}),C[9]||(C[9]=J(" Start ",-1))],8,lT)),n("button",{class:"flex flex-1 items-center justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",onClick:C[0]||(C[0]=Ve($=>l.value=!0,["stop"]))},[S(f(gs),{class:"mr-1 h-4 w-4"}),C[11]||(C[11]=J(" Add Fuel ",-1))])]),l.value?(g(),y("div",cT,[n("div",uT,[C[12]||(C[12]=n("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Amount (Liters)",-1)),z(n("input",{"onUpdate:modelValue":C[1]||(C[1]=$=>c.value=$),type:"number",step:"0.5",min:"0.5",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"Enter amount",onClick:C[2]||(C[2]=Ve(()=>{},["stop"]))},null,512),[[K,c.value]])]),n("div",mT,[C[13]||(C[13]=n("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Notes (optional)",-1)),z(n("input",{"onUpdate:modelValue":C[3]||(C[3]=$=>u.value=$),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"e.g., Purchased from station",onClick:C[4]||(C[4]=Ve(()=>{},["stop"]))},null,512),[[K,u.value]])]),n("div",fT,[n("button",{class:"flex-1 rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300",onClick:C[5]||(C[5]=Ve($=>l.value=!1,["stop"]))}," Cancel "),n("button",{disabled:!c.value||a.value,class:"flex-1 rounded-md bg-orange-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-orange-700 disabled:opacity-50",onClick:Ve(b,["stop"])}," Add ",8,pT)])])):j("",!0),n("div",hT,[C[14]||(C[14]=n("h4",{class:"mb-2 text-xs font-semibold uppercase text-gray-500"},"Recent Activity",-1)),r.value.length?(g(),y("div",gT,[(g(!0),y(oe,null,ue(r.value,$=>{var A;return g(),y("div",{key:$.id,class:"flex items-center justify-between text-xs"},[n("span",_T,[n("span",{class:X(["mr-1 inline-block rounded px-1 py-0.5 text-xs font-medium",$.action==="refuel"?"bg-green-100 text-green-700":$.action==="start"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"])},d($.action),3),J(" "+d(((A=$.user)==null?void 0:A.name)||"System"),1)]),n("span",vT,d(_($.created_at)),1)])}),128))])):(g(),y("p",yT,"No recent activity"))])])])]),_:1}))}}),bT={class:"sm:col-span-12"},wT={class:"block text-sm font-medium text-gray-700"},kT=["value"],$T={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},ux=ve({__name:"FieldColor",props:{name:{}},setup(s){const e=_s(Ze("form_name",""))();return(t,o)=>(g(),y("div",bT,[n("label",wT,d(t.__("Color")),1),(g(!0),y(oe,null,ue(f(e).options.color,i=>(g(),y("label",{key:i.value,class:"mt-1 inline-block h-6 w-6 cursor-pointer rounded ltr:mr-1 rtl:ml-1",style:bt({"background-color":i.value,color:f(e).data.color==i.value?"#ffffff":i.value})},[o[1]||(o[1]=n("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)),z(n("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>f(e).data.color=r),type:"radio",value:i.value,class:"hidden"},null,8,kT),[[In,f(e).data.color]])],4))),128)),f(e).errors.color?(g(),y("div",$T,d(f(e).errors.color[0]),1)):j("",!0)]))}}),CT={class:"sm:col-span-12"},ST={class:"mb-4 flex items-center text-sm"},MT={class:"block text-sm font-medium text-gray-700"},TT={class:"flex flex-1 items-center pl-4"},DT={role:"list",class:"divide-y divide-gray-200 overflow-y-auto rounded-md border border-gray-200",style:{"max-height":"228px"}},AT={class:"flex items-start"},PT={class:"text-sm ltr:ml-3 rtl:mr-3"},ET={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},jT={class:"block truncate text-sm leading-none text-gray-500"},RT={class:"ltr:ml-auto rtl:mr-auto"},IT=["value"],OT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},LT=ve({__name:"FieldChooseUsers",props:{name:{}},setup(s){const e=_s(Ze("form_name",""))();function t(){e.data.users=e.options.users.map(i=>i.id)}function o(){e.data.users=[]}return(i,r)=>{var a;return g(),y("div",CT,[n("div",ST,[n("p",MT,d(i.__("Team Members"))+" ("+d((a=f(e).data.users)==null?void 0:a.length)+") ",1),n("div",TT,[n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:t},d(i.__("Select All")),1),r[1]||(r[1]=n("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:o},d(i.__("Deselect All")),1)])]),n("div",DT,[(g(!0),y(oe,null,ue(f(e).options.users,l=>(g(),y("label",{key:l.id,class:"flex cursor-pointer items-center px-4 py-3"},[n("div",AT,[S(f(cs),{class:"h-6 w-6",avatar:l.avatar},null,8,["avatar"]),n("div",PT,[n("span",ET,d(l.name),1),n("span",jT,d(l.email),1)])]),n("div",RT,[z(n("input",{"onUpdate:modelValue":r[0]||(r[0]=c=>f(e).data.users=c),type:"checkbox",value:l.id,class:"h-5 w-5 cursor-pointer rounded-full border-gray-300 focus:outline-none focus:ring-0 focus:ring-offset-0"},null,8,IT),[[rs,f(e).data.users]])])]))),128))]),f(e).errors.users?(g(),y("div",OT,d(f(e).errors.users[0]),1)):j("",!0)])}}}),wf=hn("project-index",()=>{const s=E([]),e=E(!1);o();function t(){Ft().add(ru)}async function o(){e.value=!0;const{data:l}=await ce.get("projects");e.value=!1,s.value=l}function i(){}function r(){}function a(){}return{create:t,fetching:e,items:s,archive:i,favorite:r,edit:a}}),Yg="project",ru=ve({__name:"Form",setup(s){const e=_s(Yg)(),t=wf(),o=js("projects")(),i=yo();return e.onSuccess(r=>{!new URLSearchParams(window.location.search).has("archived")&&Array.isArray(o.data)&&o.data.push(r.model),t.items.push(r.model),Ft().pop()}),(r,a)=>(g(),re(f(bs),{name:Yg,uri:"projects"},{default:W(()=>[S(f(i),{name:"name",label:"Name",class:"col-span-12"}),S(ux,{name:"color"}),S(LT,{name:"users"})]),_:1}))}}),Gg="invitation",mx=ve({__name:"InvitationForm",setup(s){const e=_s(Gg)(),t=js("invitation")(),o=yo(),i=Cl();return e.onSuccess(function(){t.fetch(),Ft().pop()}),(r,a)=>(g(),re(f(bs),{name:Gg,uri:"invitations",title:"Invite Team Member"},{default:W(()=>[S(f(o),{name:"email",label:"Email",class:"col-span-12"}),S(f(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1}))}}),FT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},NT={class:"ltr:ml-2 rtl:mr-2"},zT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},UT={class:"py-1",role:"none"},BT=ve({__name:"_CreateDropdown",setup(s){function e(){Ft().add(ru)}function t(){Ft().add(mx)}return(o,i)=>(g(),re(f(Gs),{name:"header-create"},{trigger:W(()=>[n("button",FT,[S(f(gs),{class:"h-4 w-4"}),n("span",NT,d(o.__("Create")),1)])]),content:W(()=>[n("div",zT,[n("div",UT,[z(n("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ve(e,["prevent"])},d(o.__("Create Project")),513),[[zt,o.can("project:create")]]),z(n("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i[0]||(i[0]=Ve(r=>t(),["prevent"]))},d(o.__("Invite Team Member")),513),[[zt,o.can("user:create")]])])])]),_:1}))}});function VT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fx={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(s,e){(function(o,i){s.exports=i()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=o,i.d=function(r,a,l){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(a&1&&(r=i(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var c in r)i.d(l,c,(function(u){return r[u]}).bind(null,c));return l},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=2)}([function(t,o,i){var r=this&&this.__extends||function(){var x=function(w,b){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var $ in C)C.hasOwnProperty($)&&(k[$]=C[$])},x(w,b)};return function(w,b){x(w,b);function k(){this.constructor=w}w.prototype=b===null?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(o,"__esModule",{value:!0});var a=256,l=function(){function x(w){w===void 0&&(w="="),this._paddingCharacter=w}return x.prototype.encodedLength=function(w){return this._paddingCharacter?(w+2)/3*4|0:(w*8+5)/6|0},x.prototype.encode=function(w){for(var b="",k=0;k<w.length-2;k+=3){var C=w[k]<<16|w[k+1]<<8|w[k+2];b+=this._encodeByte(C>>>3*6&63),b+=this._encodeByte(C>>>2*6&63),b+=this._encodeByte(C>>>1*6&63),b+=this._encodeByte(C>>>0*6&63)}var $=w.length-k;if($>0){var C=w[k]<<16|($===2?w[k+1]<<8:0);b+=this._encodeByte(C>>>3*6&63),b+=this._encodeByte(C>>>2*6&63),$===2?b+=this._encodeByte(C>>>1*6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},x.prototype.maxDecodedLength=function(w){return this._paddingCharacter?w/4*3|0:(w*6+7)/8|0},x.prototype.decodedLength=function(w){return this.maxDecodedLength(w.length-this._getPaddingLength(w))},x.prototype.decode=function(w){if(w.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(w),k=w.length-b,C=new Uint8Array(this.maxDecodedLength(k)),$=0,A=0,R=0,T=0,F=0,L=0,D=0;A<k-4;A+=4)T=this._decodeChar(w.charCodeAt(A+0)),F=this._decodeChar(w.charCodeAt(A+1)),L=this._decodeChar(w.charCodeAt(A+2)),D=this._decodeChar(w.charCodeAt(A+3)),C[$++]=T<<2|F>>>4,C[$++]=F<<4|L>>>2,C[$++]=L<<6|D,R|=T&a,R|=F&a,R|=L&a,R|=D&a;if(A<k-1&&(T=this._decodeChar(w.charCodeAt(A)),F=this._decodeChar(w.charCodeAt(A+1)),C[$++]=T<<2|F>>>4,R|=T&a,R|=F&a),A<k-2&&(L=this._decodeChar(w.charCodeAt(A+2)),C[$++]=F<<4|L>>>2,R|=L&a),A<k-3&&(D=this._decodeChar(w.charCodeAt(A+3)),C[$++]=L<<6|D,R|=D&a),R!==0)throw new Error("Base64Coder: incorrect characters for decoding");return C},x.prototype._encodeByte=function(w){var b=w;return b+=65,b+=25-w>>>8&0-65-26+97,b+=51-w>>>8&26-97-52+48,b+=61-w>>>8&52-48-62+43,b+=62-w>>>8&62-43-63+47,String.fromCharCode(b)},x.prototype._decodeChar=function(w){var b=a;return b+=(42-w&w-44)>>>8&-a+w-43+62,b+=(46-w&w-48)>>>8&-a+w-47+63,b+=(47-w&w-58)>>>8&-a+w-48+52,b+=(64-w&w-91)>>>8&-a+w-65+0,b+=(96-w&w-123)>>>8&-a+w-97+26,b},x.prototype._getPaddingLength=function(w){var b=0;if(this._paddingCharacter){for(var k=w.length-1;k>=0&&w[k]===this._paddingCharacter;k--)b++;if(w.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},x}();o.Coder=l;var c=new l;function u(x){return c.encode(x)}o.encode=u;function m(x){return c.decode(x)}o.decode=m;var h=function(x){r(w,x);function w(){return x!==null&&x.apply(this,arguments)||this}return w.prototype._encodeByte=function(b){var k=b;return k+=65,k+=25-b>>>8&0-65-26+97,k+=51-b>>>8&26-97-52+48,k+=61-b>>>8&52-48-62+45,k+=62-b>>>8&62-45-63+95,String.fromCharCode(k)},w.prototype._decodeChar=function(b){var k=a;return k+=(44-b&b-46)>>>8&-a+b-45+62,k+=(94-b&b-96)>>>8&-a+b-95+63,k+=(47-b&b-58)>>>8&-a+b-48+52,k+=(64-b&b-91)>>>8&-a+b-65+0,k+=(96-b&b-123)>>>8&-a+b-97+26,k},w}(l);o.URLSafeCoder=h;var p=new h;function _(x){return p.encode(x)}o.encodeURLSafe=_;function v(x){return p.decode(x)}o.decodeURLSafe=v,o.encodedLength=function(x){return c.encodedLength(x)},o.maxDecodedLength=function(x){return c.maxDecodedLength(x)},o.decodedLength=function(x){return c.decodedLength(x)}},function(t,o,i){Object.defineProperty(o,"__esModule",{value:!0});var r="utf8: invalid string",a="utf8: invalid source encoding";function l(m){for(var h=new Uint8Array(c(m)),p=0,_=0;_<m.length;_++){var v=m.charCodeAt(_);v<128?h[p++]=v:v<2048?(h[p++]=192|v>>6,h[p++]=128|v&63):v<55296?(h[p++]=224|v>>12,h[p++]=128|v>>6&63,h[p++]=128|v&63):(_++,v=(v&1023)<<10,v|=m.charCodeAt(_)&1023,v+=65536,h[p++]=240|v>>18,h[p++]=128|v>>12&63,h[p++]=128|v>>6&63,h[p++]=128|v&63)}return h}o.encode=l;function c(m){for(var h=0,p=0;p<m.length;p++){var _=m.charCodeAt(p);if(_<128)h+=1;else if(_<2048)h+=2;else if(_<55296)h+=3;else if(_<=57343){if(p>=m.length-1)throw new Error(r);p++,h+=4}else throw new Error(r)}return h}o.encodedLength=c;function u(m){for(var h=[],p=0;p<m.length;p++){var _=m[p];if(_&128){var v=void 0;if(_<224){if(p>=m.length)throw new Error(a);var x=m[++p];if((x&192)!==128)throw new Error(a);_=(_&31)<<6|x&63,v=128}else if(_<240){if(p>=m.length-1)throw new Error(a);var x=m[++p],w=m[++p];if((x&192)!==128||(w&192)!==128)throw new Error(a);_=(_&15)<<12|(x&63)<<6|w&63,v=2048}else if(_<248){if(p>=m.length-2)throw new Error(a);var x=m[++p],w=m[++p],b=m[++p];if((x&192)!==128||(w&192)!==128||(b&192)!==128)throw new Error(a);_=(_&15)<<18|(x&63)<<12|(w&63)<<6|b&63,v=65536}else throw new Error(a);if(_<v||_>=55296&&_<=57343)throw new Error(a);if(_>=65536){if(_>1114111)throw new Error(a);_-=65536,h.push(String.fromCharCode(55296|_>>10)),_=56320|_&1023}}h.push(String.fromCharCode(_))}return h.join("")}o.decode=u},function(t,o,i){t.exports=i(3).default},function(t,o,i){i.r(o);class r{constructor(M,I){this.lastId=0,this.prefix=M,this.name=I}create(M){this.lastId++;var I=this.lastId,H=this.prefix+I,Z=this.name+"["+I+"]",be=!1,Re=function(){be||(M.apply(null,arguments),be=!0)};return this[I]=Re,{number:I,id:H,name:Z,callback:Re}}remove(M){delete this[M.number]}}var a=new r("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class u{constructor(M){this.options=M,this.receivers=M.receivers||a,this.loading={}}load(M,I,H){var Z=this;if(Z.loading[M]&&Z.loading[M].length>0)Z.loading[M].push(H);else{Z.loading[M]=[H];var be=ut.createScriptRequest(Z.getPath(M,I)),Re=Z.receivers.create(function(Ye){if(Z.receivers.remove(Re),Z.loading[M]){var ct=Z.loading[M];delete Z.loading[M];for(var St=function(ms){ms||be.cleanup()},jt=0;jt<ct.length;jt++)ct[jt](Ye,St)}});be.send(Re)}}getRoot(M){var I,H=ut.getDocument().location.protocol;return M&&M.useTLS||H==="https:"?I=this.options.cdn_https:I=this.options.cdn_http,I.replace(/\/*$/,"")+"/"+this.options.version}getPath(M,I){return this.getRoot(I)+"/"+M+this.options.suffix+".js"}}var m=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new u({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:m});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(O){const M="See:",I=p.urls[O];if(!I)return"";let H;return I.fullUrl?H=I.fullUrl:I.path&&(H=p.baseUrl+I.path),H?`${M} ${H}`:""}},x;(function(O){O.UserAuthentication="user-authentication",O.ChannelAuthorization="channel-authorization"})(x||(x={}));class w extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class $ extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(M){super(M),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(M,I){super(I),this.status=M,Object.setPrototypeOf(this,new.target.prototype)}}var D=function(O,M,I,H,Z){const be=ut.createXHR();be.open("POST",I.endpoint,!0),be.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Re in I.headers)be.setRequestHeader(Re,I.headers[Re]);if(I.headersProvider!=null){let Ye=I.headersProvider();for(var Re in Ye)be.setRequestHeader(Re,Ye[Re])}return be.onreadystatechange=function(){if(be.readyState===4)if(be.status===200){let Ye,ct=!1;try{Ye=JSON.parse(be.responseText),ct=!0}catch{Z(new F(200,`JSON returned from ${H.toString()} endpoint was invalid, yet status code was 200. Data was: ${be.responseText}`),null)}ct&&Z(null,Ye)}else{let Ye="";switch(H){case x.UserAuthentication:Ye=v.buildLogSuffix("authenticationEndpoint");break;case x.ChannelAuthorization:Ye=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}Z(new F(be.status,`Unable to retrieve auth string from ${H.toString()} endpoint - received status: ${be.status} from ${I.endpoint}. ${Ye}`),null)}},be.send(M),be};function N(O){return q(le(O))}var P=String.fromCharCode,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=function(O){var M=O.charCodeAt(0);return M<128?O:M<2048?P(192|M>>>6)+P(128|M&63):P(224|M>>>12&15)+P(128|M>>>6&63)+P(128|M&63)},le=function(O){return O.replace(/[^\x00-\x7F]/g,ye)},de=function(O){var M=[0,2,1][O.length%3],I=O.charCodeAt(0)<<16|(O.length>1?O.charCodeAt(1):0)<<8|(O.length>2?O.charCodeAt(2):0),H=[U.charAt(I>>>18),U.charAt(I>>>12&63),M>=2?"=":U.charAt(I>>>6&63),M>=1?"=":U.charAt(I&63)];return H.join("")},q=window.btoa||function(O){return O.replace(/[\s\S]{1,3}/g,de)};class ne{constructor(M,I,H,Z){this.clear=I,this.timer=M(()=>{this.timer&&(this.timer=Z(this.timer))},H)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var G=ne;function ie(O){window.clearTimeout(O)}function $e(O){window.clearInterval(O)}class we extends G{constructor(M,I){super(setTimeout,ie,M,function(H){return I(),null})}}class Qe extends G{constructor(M,I){super(setInterval,$e,M,function(H){return I(),H})}}var pt={now(){return Date.now?Date.now():new Date().valueOf()},defer(O){return new we(0,O)},method(O,...M){var I=Array.prototype.slice.call(arguments,1);return function(H){return H[O].apply(H,I.concat(arguments))}}},pe=pt;function Ce(O,...M){for(var I=0;I<M.length;I++){var H=M[I];for(var Z in H)H[Z]&&H[Z].constructor&&H[Z].constructor===Object?O[Z]=Ce(O[Z]||{},H[Z]):O[Z]=H[Z]}return O}function Te(){for(var O=["Pusher"],M=0;M<arguments.length;M++)typeof arguments[M]=="string"?O.push(arguments[M]):O.push(Ge(arguments[M]));return O.join(" : ")}function Ue(O,M){var I=Array.prototype.indexOf;if(O===null)return-1;if(I&&O.indexOf===I)return O.indexOf(M);for(var H=0,Z=O.length;H<Z;H++)if(O[H]===M)return H;return-1}function tt(O,M){for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&M(O[I],I,O)}function Oe(O){var M=[];return tt(O,function(I,H){M.push(H)}),M}function me(O){var M=[];return tt(O,function(I){M.push(I)}),M}function fe(O,M,I){for(var H=0;H<O.length;H++)M.call(I||window,O[H],H,O)}function B(O,M){for(var I=[],H=0;H<O.length;H++)I.push(M(O[H],H,O,I));return I}function Q(O,M){var I={};return tt(O,function(H,Z){I[Z]=M(H)}),I}function ee(O,M){M=M||function(Z){return!!Z};for(var I=[],H=0;H<O.length;H++)M(O[H],H,O,I)&&I.push(O[H]);return I}function te(O,M){var I={};return tt(O,function(H,Z){(M&&M(H,Z,O,I)||H)&&(I[Z]=H)}),I}function se(O){var M=[];return tt(O,function(I,H){M.push([H,I])}),M}function ge(O,M){for(var I=0;I<O.length;I++)if(M(O[I],I,O))return!0;return!1}function Ae(O,M){for(var I=0;I<O.length;I++)if(!M(O[I],I,O))return!1;return!0}function Pe(O){return Q(O,function(M){return typeof M=="object"&&(M=Ge(M)),encodeURIComponent(N(M.toString()))})}function De(O){var M=te(O,function(H){return H!==void 0}),I=B(se(Pe(M)),pe.method("join","=")).join("&");return I}function Se(O){var M=[],I=[];return function H(Z,be){var Re,Ye,ct;switch(typeof Z){case"object":if(!Z)return null;for(Re=0;Re<M.length;Re+=1)if(M[Re]===Z)return{$ref:I[Re]};if(M.push(Z),I.push(be),Object.prototype.toString.apply(Z)==="[object Array]")for(ct=[],Re=0;Re<Z.length;Re+=1)ct[Re]=H(Z[Re],be+"["+Re+"]");else{ct={};for(Ye in Z)Object.prototype.hasOwnProperty.call(Z,Ye)&&(ct[Ye]=H(Z[Ye],be+"["+JSON.stringify(Ye)+"]"))}return ct;case"number":case"string":case"boolean":return Z}}(O,"$")}function Ge(O){try{return JSON.stringify(O)}catch{return JSON.stringify(Se(O))}}class ze{constructor(){this.globalLog=M=>{window.console&&window.console.log&&window.console.log(M)}}debug(...M){this.log(this.globalLog,M)}warn(...M){this.log(this.globalLogWarn,M)}error(...M){this.log(this.globalLogError,M)}globalLogWarn(M){window.console&&window.console.warn?window.console.warn(M):this.globalLog(M)}globalLogError(M){window.console&&window.console.error?window.console.error(M):this.globalLogWarn(M)}log(M,...I){var H=Te.apply(this,arguments);wu.log?wu.log(H):wu.logToConsole&&M.bind(this)(H)}}var je=new ze,nt=function(O,M,I,H,Z){(I.headers!==void 0||I.headersProvider!=null)&&je.warn(`To send headers with the ${H.toString()} request, you must use AJAX, rather than JSONP.`);var be=O.nextAuthCallbackID.toString();O.nextAuthCallbackID++;var Re=O.getDocument(),Ye=Re.createElement("script");O.auth_callbacks[be]=function(jt){Z(null,jt)};var ct="Pusher.auth_callbacks['"+be+"']";Ye.src=I.endpoint+"?callback="+encodeURIComponent(ct)+"&"+M;var St=Re.getElementsByTagName("head")[0]||Re.documentElement;St.insertBefore(Ye,St.firstChild)},_t=nt;class Dt{constructor(M){this.src=M}send(M){var I=this,H="Error loading "+I.src;I.script=document.createElement("script"),I.script.id=M.id,I.script.src=I.src,I.script.type="text/javascript",I.script.charset="UTF-8",I.script.addEventListener?(I.script.onerror=function(){M.callback(H)},I.script.onload=function(){M.callback(null)}):I.script.onreadystatechange=function(){(I.script.readyState==="loaded"||I.script.readyState==="complete")&&M.callback(null)},I.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(I.errorScript=document.createElement("script"),I.errorScript.id=M.id+"_error",I.errorScript.text=M.name+"('"+H+"');",I.script.async=I.errorScript.async=!1):I.script.async=!0;var Z=document.getElementsByTagName("head")[0];Z.insertBefore(I.script,Z.firstChild),I.errorScript&&Z.insertBefore(I.errorScript,I.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class wt{constructor(M,I){this.url=M,this.data=I}send(M){if(!this.request){var I=De(this.data),H=this.url+"/"+M.number+"?"+I;this.request=ut.createScriptRequest(H),this.request.send(M)}}cleanup(){this.request&&this.request.cleanup()}}var ws=function(O,M){return function(I,H){var Z="http"+(M?"s":"")+"://",be=Z+(O.host||O.options.host)+O.options.path,Re=ut.createJSONPRequest(be,I),Ye=ut.ScriptReceivers.create(function(ct,St){a.remove(Ye),Re.cleanup(),St&&St.host&&(O.host=St.host),H&&H(ct,St)});Re.send(Ye)}},us={name:"jsonp",getAgent:ws},Is=us;function vs(O,M,I){var H=O+(M.useTLS?"s":""),Z=M.useTLS?M.hostTLS:M.hostNonTLS;return H+"://"+Z+I}function Bn(O,M){var I="/app/"+O,H="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(M?"&"+M:"");return I+H}var Nt={getInitial:function(O,M){var I=(M.httpPath||"")+Bn(O,"flash=false");return vs("ws",M,I)}},ys={getInitial:function(O,M){var I=(M.httpPath||"/pusher")+Bn(O);return vs("http",M,I)}},Os={getInitial:function(O,M){return vs("http",M,M.httpPath||"/pusher")},getPath:function(O,M){return Bn(O)}};class lr{constructor(){this._callbacks={}}get(M){return this._callbacks[Vn(M)]}add(M,I,H){var Z=Vn(M);this._callbacks[Z]=this._callbacks[Z]||[],this._callbacks[Z].push({fn:I,context:H})}remove(M,I,H){if(!M&&!I&&!H){this._callbacks={};return}var Z=M?[Vn(M)]:Oe(this._callbacks);I||H?this.removeCallback(Z,I,H):this.removeAllCallbacks(Z)}removeCallback(M,I,H){fe(M,function(Z){this._callbacks[Z]=ee(this._callbacks[Z]||[],function(be){return I&&I!==be.fn||H&&H!==be.context}),this._callbacks[Z].length===0&&delete this._callbacks[Z]},this)}removeAllCallbacks(M){fe(M,function(I){delete this._callbacks[I]},this)}}function Vn(O){return"_"+O}class _n{constructor(M){this.callbacks=new lr,this.global_callbacks=[],this.failThrough=M}bind(M,I,H){return this.callbacks.add(M,I,H),this}bind_global(M){return this.global_callbacks.push(M),this}unbind(M,I,H){return this.callbacks.remove(M,I,H),this}unbind_global(M){return M?(this.global_callbacks=ee(this.global_callbacks||[],I=>I!==M),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(M,I,H){for(var Z=0;Z<this.global_callbacks.length;Z++)this.global_callbacks[Z](M,I);var be=this.callbacks.get(M),Re=[];if(H?Re.push(I,H):I&&Re.push(I),be&&be.length>0)for(var Z=0;Z<be.length;Z++)be[Z].fn.apply(be[Z].context||window,Re);else this.failThrough&&this.failThrough(M,I);return this}}class Hn extends _n{constructor(M,I,H,Z,be){super(),this.initialize=ut.transportConnectionInitializer,this.hooks=M,this.name=I,this.priority=H,this.key=Z,this.options=be,this.state="new",this.timeline=be.timeline,this.activityTimeout=be.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var M=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(M,this.options)}catch(I){return pe.defer(()=>{this.onError(I),this.changeState("closed")}),!1}return this.bindListeners(),je.debug("Connecting",{transport:this.name,url:M}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(M){return this.state==="open"?(pe.defer(()=>{this.socket&&this.socket.send(M)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(M){this.emit("error",{type:"WebSocketError",error:M}),this.timeline.error(this.buildTimelineMessage({error:M.toString()}))}onClose(M){M?this.changeState("closed",{code:M.code,reason:M.reason,wasClean:M.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(M){this.emit("message",M)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=M=>{this.onError(M)},this.socket.onclose=M=>{this.onClose(M)},this.socket.onmessage=M=>{this.onMessage(M)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(M,I){this.state=M,this.timeline.info(this.buildTimelineMessage({state:M,params:I})),this.emit(M,I)}buildTimelineMessage(M){return Ce({cid:this.id},M)}}class Vo{constructor(M){this.hooks=M}isSupported(M){return this.hooks.isSupported(M)}createConnection(M,I,H,Z){return new Hn(this.hooks,M,I,H,Z)}}var cu=new Vo({urls:Nt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ut.getWebSocketAPI()},isSupported:function(){return!!ut.getWebSocketAPI()},getSocket:function(O){return ut.createWebSocket(O)}}),V={urls:ys,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Y=Ce({getSocket:function(O){return ut.HTTPFactory.createStreamingSocket(O)}},V),ae=Ce({getSocket:function(O){return ut.HTTPFactory.createPollingSocket(O)}},V),_e={isSupported:function(){return ut.isXHRSupported()}},Ee=new Vo(Ce({},Y,_e)),Be=new Vo(Ce({},ae,_e)),dt={ws:cu,xhr_streaming:Ee,xhr_polling:Be},We=dt,gt=new Vo({file:"sockjs",urls:Os,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(O,M){return new window.SockJS(O,null,{js_path:h.getPath("sockjs",{useTLS:M.useTLS}),ignore_null_origin:M.ignoreNullOrigin})},beforeOpen:function(O,M){O.send(JSON.stringify({path:M}))}}),Ke={isSupported:function(O){var M=ut.isXDRSupported(O.useTLS);return M}},ot=new Vo(Ce({},Y,Ke)),Et=new Vo(Ce({},ae,Ke));We.xdr_streaming=ot,We.xdr_polling=Et,We.sockjs=gt;var An=We;class Xs extends _n{constructor(){super();var M=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){M.emit("online")},!1),window.addEventListener("offline",function(){M.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var $i=new Xs;class Ho{constructor(M,I,H){this.manager=M,this.transport=I,this.minPingDelay=H.minPingDelay,this.maxPingDelay=H.maxPingDelay,this.pingDelay=void 0}createConnection(M,I,H,Z){Z=Ce({},Z,{activityTimeout:this.pingDelay});var be=this.transport.createConnection(M,I,H,Z),Re=null,Ye=function(){be.unbind("open",Ye),be.bind("closed",ct),Re=pe.now()},ct=St=>{if(be.unbind("closed",ct),St.code===1002||St.code===1003)this.manager.reportDeath();else if(!St.wasClean&&Re){var jt=pe.now()-Re;jt<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(jt/2,this.minPingDelay))}};return be.bind("open",Ye),be}isSupported(M){return this.manager.isAlive()&&this.transport.isSupported(M)}}const Tl={decodeMessage:function(O){try{var M=JSON.parse(O.data),I=M.data;if(typeof I=="string")try{I=JSON.parse(M.data)}catch{}var H={event:M.event,channel:M.channel,data:I};return M.user_id&&(H.user_id=M.user_id),H}catch(Z){throw{type:"MessageParseError",error:Z,data:O.data}}},encodeMessage:function(O){return JSON.stringify(O)},processHandshake:function(O){var M=Tl.decodeMessage(O);if(M.event==="pusher:connection_established"){if(!M.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:M.data.socket_id,activityTimeout:M.data.activity_timeout*1e3}}else{if(M.event==="pusher:error")return{action:this.getCloseAction(M.data),error:this.getCloseError(M.data)};throw"Invalid handshake"}},getCloseAction:function(O){return O.code<4e3?O.code>=1002&&O.code<=1004?"backoff":null:O.code===4e3?"tls_only":O.code<4100?"refused":O.code<4200?"backoff":O.code<4300?"retry":"refused"},getCloseError:function(O){return O.code!==1e3&&O.code!==1001?{type:"PusherError",data:{code:O.code,message:O.reason||O.message}}:null}};var qn=Tl;class uu extends _n{constructor(M,I){super(),this.id=M,this.transport=I,this.activityTimeout=I.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(M){return this.transport.send(M)}send_event(M,I,H){var Z={event:M,data:I};return H&&(Z.channel=H),je.debug("Event sent",Z),this.send(qn.encodeMessage(Z))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var M={message:H=>{var Z;try{Z=qn.decodeMessage(H)}catch(be){this.emit("error",{type:"MessageParseError",error:be,data:H.data})}if(Z!==void 0){switch(je.debug("Event recd",Z),Z.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Z.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Z)}},activity:()=>{this.emit("activity")},error:H=>{this.emit("error",H)},closed:H=>{I(),H&&H.code&&this.handleCloseEvent(H),this.transport=null,this.emit("closed")}},I=()=>{tt(M,(H,Z)=>{this.transport.unbind(Z,H)})};tt(M,(H,Z)=>{this.transport.bind(Z,H)})}handleCloseEvent(M){var I=qn.getCloseAction(M),H=qn.getCloseError(M);H&&this.emit("error",H),I&&this.emit(I,{action:I,error:H})}}class mu{constructor(M,I){this.transport=M,this.callback=I,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=M=>{this.unbindListeners();var I;try{I=qn.processHandshake(M)}catch(H){this.finish("error",{error:H}),this.transport.close();return}I.action==="connected"?this.finish("connected",{connection:new uu(I.id,this.transport),activityTimeout:I.activityTimeout}):(this.finish(I.action,{error:I.error}),this.transport.close())},this.onClosed=M=>{this.unbindListeners();var I=qn.getCloseAction(M)||"backoff",H=qn.getCloseError(M);this.finish(I,{error:H})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(M,I){this.callback(Ce({transport:this.transport,action:M},I))}}class fu{constructor(M,I){this.timeline=M,this.options=I||{}}send(M,I){this.timeline.isEmpty()||this.timeline.send(ut.TimelineTransport.getAgent(this,M),I)}}class Zr extends _n{constructor(M,I){super(function(H,Z){je.debug("No callbacks on "+M+" for "+H)}),this.name=M,this.pusher=I,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(M,I){return I(null,{auth:""})}trigger(M,I){if(M.indexOf("client-")!==0)throw new w("Event '"+M+"' does not start with 'client-'");if(!this.subscribed){var H=v.buildLogSuffix("triggeringClientEvents");je.warn(`Client event triggered before channel 'subscription_succeeded' event . ${H}`)}return this.pusher.send_event(M,I,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(M){var I=M.event,H=M.data;if(I==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(M);else if(I==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(M);else if(I.indexOf("pusher_internal:")!==0){var Z={};this.emit(I,H,Z)}}handleSubscriptionSucceededEvent(M){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",M.data)}handleSubscriptionCountEvent(M){M.data.subscription_count&&(this.subscriptionCount=M.data.subscription_count),this.emit("pusher:subscription_count",M.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(M,I)=>{M?(this.subscriptionPending=!1,je.error(M.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:M.message},M instanceof F?{status:M.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:I.auth,channel_data:I.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ea extends Zr{authorize(M,I){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:M},I)}}class pu{constructor(){this.reset()}get(M){return Object.prototype.hasOwnProperty.call(this.members,M)?{id:M,info:this.members[M]}:null}each(M){tt(this.members,(I,H)=>{M(this.get(H))})}setMyID(M){this.myID=M}onSubscription(M){this.members=M.presence.hash,this.count=M.presence.count,this.me=this.get(this.myID)}addMember(M){return this.get(M.user_id)===null&&this.count++,this.members[M.user_id]=M.user_info,this.get(M.user_id)}removeMember(M){var I=this.get(M.user_id);return I&&(delete this.members[M.user_id],this.count--),I}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var hu=function(O,M,I,H){function Z(be){return be instanceof I?be:new I(function(Re){Re(be)})}return new(I||(I=Promise))(function(be,Re){function Ye(jt){try{St(H.next(jt))}catch(ms){Re(ms)}}function ct(jt){try{St(H.throw(jt))}catch(ms){Re(ms)}}function St(jt){jt.done?be(jt.value):Z(jt.value).then(Ye,ct)}St((H=H.apply(O,M||[])).next())})};class gu extends ea{constructor(M,I){super(M,I),this.members=new pu}authorize(M,I){super.authorize(M,(H,Z)=>hu(this,void 0,void 0,function*(){if(!H)if(Z=Z,Z.channel_data!=null){var be=JSON.parse(Z.channel_data);this.members.setMyID(be.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Re=v.buildLogSuffix("authorizationEndpoint");je.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Re}, or the user should be signed in.`),I("Invalid auth response");return}I(H,Z)}))}handleEvent(M){var I=M.event;if(I.indexOf("pusher_internal:")===0)this.handleInternalEvent(M);else{var H=M.data,Z={};M.user_id&&(Z.user_id=M.user_id),this.emit(I,H,Z)}}handleInternalEvent(M){var I=M.event,H=M.data;switch(I){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(M);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(M);break;case"pusher_internal:member_added":var Z=this.members.addMember(H);this.emit("pusher:member_added",Z);break;case"pusher_internal:member_removed":var be=this.members.removeMember(H);be&&this.emit("pusher:member_removed",be);break}}handleSubscriptionSucceededEvent(M){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(M.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Vx=i(1),_u=i(0);class Hx extends ea{constructor(M,I,H){super(M,I),this.key=null,this.nacl=H}authorize(M,I){super.authorize(M,(H,Z)=>{if(H){I(H,Z);return}let be=Z.shared_secret;if(!be){I(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(_u.decode)(be),delete Z.shared_secret,I(null,Z)})}trigger(M,I){throw new A("Client events are not currently supported for encrypted channels")}handleEvent(M){var I=M.event,H=M.data;if(I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0){super.handleEvent(M);return}this.handleEncryptedEvent(I,H)}handleEncryptedEvent(M,I){if(!this.key){je.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!I.ciphertext||!I.nonce){je.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+I);return}let H=Object(_u.decode)(I.ciphertext);if(H.length<this.nacl.secretbox.overheadLength){je.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${H.length}`);return}let Z=Object(_u.decode)(I.nonce);if(Z.length<this.nacl.secretbox.nonceLength){je.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Z.length}`);return}let be=this.nacl.secretbox.open(H,Z,this.key);if(be===null){je.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Re,Ye)=>{if(Re){je.error(`Failed to make a request to the authEndpoint: ${Ye}. Unable to fetch new key, so dropping encrypted event`);return}if(be=this.nacl.secretbox.open(H,Z,this.key),be===null){je.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(M,this.getDataToEmit(be))});return}this.emit(M,this.getDataToEmit(be))}getDataToEmit(M){let I=Object(Vx.decode)(M);try{return JSON.parse(I)}catch{return I}}}class qx extends _n{constructor(M,I){super(),this.state="initialized",this.connection=null,this.key=M,this.options=I,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var H=ut.getNetwork();H.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),H.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(M){return this.connection?this.connection.send(M):!1}send_event(M,I,H){return this.connection?this.connection.send_event(M,I,H):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var M=(I,H)=>{I?this.runner=this.strategy.connect(0,M):H.action==="error"?(this.emit("error",{type:"HandshakeError",error:H.error}),this.timeline.error({handshakeError:H.error})):(this.abortConnecting(),this.handshakeCallbacks[H.action](H))};this.runner=this.strategy.connect(0,M)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var M=this.abandonConnection();M.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(M){this.timeline.info({action:"retry",delay:M}),M>0&&this.emit("connecting_in",Math.round(M/1e3)),this.retryTimer=new we(M||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new we(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new we(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new we(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(M){return Ce({},M,{message:I=>{this.resetActivityCheck(),this.emit("message",I)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:I=>{this.emit("error",I)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(M){return Ce({},M,{connected:I=>{this.activityTimeout=Math.min(this.options.activityTimeout,I.activityTimeout,I.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(I.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let M=I=>H=>{H.error&&this.emit("error",{type:"WebSocketError",error:H.error}),I(H)};return{tls_only:M(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:M(()=>{this.disconnect()}),backoff:M(()=>{this.retryIn(1e3)}),retry:M(()=>{this.retryIn(0)})}}setConnection(M){this.connection=M;for(var I in this.connectionCallbacks)this.connection.bind(I,this.connectionCallbacks[I]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var M in this.connectionCallbacks)this.connection.unbind(M,this.connectionCallbacks[M]);var I=this.connection;return this.connection=null,I}}updateState(M,I){var H=this.state;if(this.state=M,H!==M){var Z=M;Z==="connected"&&(Z+=" with new socket ID "+I.socket_id),je.debug("State changed",H+" -> "+Z),this.timeline.info({state:M,params:I}),this.emit("state_change",{previous:H,current:M}),this.emit(M,I)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Wx{constructor(){this.channels={}}add(M,I){return this.channels[M]||(this.channels[M]=Kx(M,I)),this.channels[M]}all(){return me(this.channels)}find(M){return this.channels[M]}remove(M){var I=this.channels[M];return delete this.channels[M],I}disconnect(){tt(this.channels,function(M){M.disconnect()})}}function Kx(O,M){if(O.indexOf("private-encrypted-")===0){if(M.config.nacl)return xo.createEncryptedChannel(O,M,M.config.nacl);let I="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",H=v.buildLogSuffix("encryptedChannelSupport");throw new A(`${I}. ${H}`)}else{if(O.indexOf("private-")===0)return xo.createPrivateChannel(O,M);if(O.indexOf("presence-")===0)return xo.createPresenceChannel(O,M);if(O.indexOf("#")===0)throw new b('Cannot create a channel with name "'+O+'".');return xo.createChannel(O,M)}}var Yx={createChannels(){return new Wx},createConnectionManager(O,M){return new qx(O,M)},createChannel(O,M){return new Zr(O,M)},createPrivateChannel(O,M){return new ea(O,M)},createPresenceChannel(O,M){return new gu(O,M)},createEncryptedChannel(O,M,I){return new Hx(O,M,I)},createTimelineSender(O,M){return new fu(O,M)},createHandshake(O,M){return new mu(O,M)},createAssistantToTheTransportManager(O,M,I){return new Ho(O,M,I)}},xo=Yx;class Af{constructor(M){this.options=M||{},this.livesLeft=this.options.lives||1/0}getAssistant(M){return xo.createAssistantToTheTransportManager(this,M,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ci{constructor(M,I){this.strategies=M,this.loop=!!I.loop,this.failFast=!!I.failFast,this.timeout=I.timeout,this.timeoutLimit=I.timeoutLimit}isSupported(){return ge(this.strategies,pe.method("isSupported"))}connect(M,I){var H=this.strategies,Z=0,be=this.timeout,Re=null,Ye=(ct,St)=>{St?I(null,St):(Z=Z+1,this.loop&&(Z=Z%H.length),Z<H.length?(be&&(be=be*2,this.timeoutLimit&&(be=Math.min(be,this.timeoutLimit))),Re=this.tryStrategy(H[Z],M,{timeout:be,failFast:this.failFast},Ye)):I(!0))};return Re=this.tryStrategy(H[Z],M,{timeout:be,failFast:this.failFast},Ye),{abort:function(){Re.abort()},forceMinPriority:function(ct){M=ct,Re&&Re.forceMinPriority(ct)}}}tryStrategy(M,I,H,Z){var be=null,Re=null;return H.timeout>0&&(be=new we(H.timeout,function(){Re.abort(),Z(!0)})),Re=M.connect(I,function(Ye,ct){Ye&&be&&be.isRunning()&&!H.failFast||(be&&be.ensureAborted(),Z(Ye,ct))}),{abort:function(){be&&be.ensureAborted(),Re.abort()},forceMinPriority:function(Ye){Re.forceMinPriority(Ye)}}}}class vu{constructor(M){this.strategies=M}isSupported(){return ge(this.strategies,pe.method("isSupported"))}connect(M,I){return Gx(this.strategies,M,function(H,Z){return function(be,Re){if(Z[H].error=be,be){Xx(Z)&&I(!0);return}fe(Z,function(Ye){Ye.forceMinPriority(Re.transport.priority)}),I(null,Re)}})}}function Gx(O,M,I){var H=B(O,function(Z,be,Re,Ye){return Z.connect(M,I(be,Ye))});return{abort:function(){fe(H,Jx)},forceMinPriority:function(Z){fe(H,function(be){be.forceMinPriority(Z)})}}}function Xx(O){return Ae(O,function(M){return!!M.error})}function Jx(O){!O.error&&!O.aborted&&(O.abort(),O.aborted=!0)}class Qx{constructor(M,I,H){this.strategy=M,this.transports=I,this.ttl=H.ttl||1800*1e3,this.usingTLS=H.useTLS,this.timeline=H.timeline}isSupported(){return this.strategy.isSupported()}connect(M,I){var H=this.usingTLS,Z=Zx(H),be=Z&&Z.cacheSkipCount?Z.cacheSkipCount:0,Re=[this.strategy];if(Z&&Z.timestamp+this.ttl>=pe.now()){var Ye=this.transports[Z.transport];Ye&&(["ws","wss"].includes(Z.transport)||be>3?(this.timeline.info({cached:!0,transport:Z.transport,latency:Z.latency}),Re.push(new Ci([Ye],{timeout:Z.latency*2+1e3,failFast:!0}))):be++)}var ct=pe.now(),St=Re.pop().connect(M,function jt(ms,Pl){ms?(Pf(H),Re.length>0?(ct=pe.now(),St=Re.pop().connect(M,jt)):I(ms)):(eb(H,Pl.transport.name,pe.now()-ct,be),I(null,Pl))});return{abort:function(){St.abort()},forceMinPriority:function(jt){M=jt,St&&St.forceMinPriority(jt)}}}}function yu(O){return"pusherTransport"+(O?"TLS":"NonTLS")}function Zx(O){var M=ut.getLocalStorage();if(M)try{var I=M[yu(O)];if(I)return JSON.parse(I)}catch{Pf(O)}return null}function eb(O,M,I,H){var Z=ut.getLocalStorage();if(Z)try{Z[yu(O)]=Ge({timestamp:pe.now(),transport:M,latency:I,cacheSkipCount:H})}catch{}}function Pf(O){var M=ut.getLocalStorage();if(M)try{delete M[yu(O)]}catch{}}class Dl{constructor(M,{delay:I}){this.strategy=M,this.options={delay:I}}isSupported(){return this.strategy.isSupported()}connect(M,I){var H=this.strategy,Z,be=new we(this.options.delay,function(){Z=H.connect(M,I)});return{abort:function(){be.ensureAborted(),Z&&Z.abort()},forceMinPriority:function(Re){M=Re,Z&&Z.forceMinPriority(Re)}}}}class ta{constructor(M,I,H){this.test=M,this.trueBranch=I,this.falseBranch=H}isSupported(){var M=this.test()?this.trueBranch:this.falseBranch;return M.isSupported()}connect(M,I){var H=this.test()?this.trueBranch:this.falseBranch;return H.connect(M,I)}}class tb{constructor(M){this.strategy=M}isSupported(){return this.strategy.isSupported()}connect(M,I){var H=this.strategy.connect(M,function(Z,be){be&&H.abort(),I(Z,be)});return H}}function sa(O){return function(){return O.isSupported()}}var sb=function(O,M,I){var H={};function Z(Bf,t2,s2,n2,o2){var Vf=I(O,Bf,t2,s2,n2,o2);return H[Bf]=Vf,Vf}var be=Object.assign({},M,{hostNonTLS:O.wsHost+":"+O.wsPort,hostTLS:O.wsHost+":"+O.wssPort,httpPath:O.wsPath}),Re=Object.assign({},be,{useTLS:!0}),Ye=Object.assign({},M,{hostNonTLS:O.httpHost+":"+O.httpPort,hostTLS:O.httpHost+":"+O.httpsPort,httpPath:O.httpPath}),ct={loop:!0,timeout:15e3,timeoutLimit:6e4},St=new Af({minPingDelay:1e4,maxPingDelay:O.activityTimeout}),jt=new Af({lives:2,minPingDelay:1e4,maxPingDelay:O.activityTimeout}),ms=Z("ws","ws",3,be,St),Pl=Z("wss","ws",3,Re,St),Xb=Z("sockjs","sockjs",1,Ye),Of=Z("xhr_streaming","xhr_streaming",1,Ye,jt),Jb=Z("xdr_streaming","xdr_streaming",1,Ye,jt),Lf=Z("xhr_polling","xhr_polling",1,Ye),Qb=Z("xdr_polling","xdr_polling",1,Ye),Ff=new Ci([ms],ct),Zb=new Ci([Pl],ct),e2=new Ci([Xb],ct),Nf=new Ci([new ta(sa(Of),Of,Jb)],ct),zf=new Ci([new ta(sa(Lf),Lf,Qb)],ct),Uf=new Ci([new ta(sa(Nf),new vu([Nf,new Dl(zf,{delay:4e3})]),zf)],ct),ku=new ta(sa(Uf),Uf,e2),$u;return M.useTLS?$u=new vu([Ff,new Dl(ku,{delay:2e3})]):$u=new vu([Ff,new Dl(Zb,{delay:2e3}),new Dl(ku,{delay:5e3})]),new Qx(new tb(new ta(sa(ms),$u,ku)),H,{ttl:18e5,timeline:M.timeline,useTLS:M.useTLS})},nb=sb,ob=function(){var O=this;O.timeline.info(O.buildTimelineMessage({transport:O.name+(O.options.useTLS?"s":"")})),O.hooks.isInitialized()?O.changeState("initialized"):O.hooks.file?(O.changeState("initializing"),h.load(O.hooks.file,{useTLS:O.options.useTLS},function(M,I){O.hooks.isInitialized()?(O.changeState("initialized"),I(!0)):(M&&O.onError(M),O.onClose(),I(!1))})):O.onClose()},ib={getRequest:function(O){var M=new window.XDomainRequest;return M.ontimeout=function(){O.emit("error",new k),O.close()},M.onerror=function(I){O.emit("error",I),O.close()},M.onprogress=function(){M.responseText&&M.responseText.length>0&&O.onChunk(200,M.responseText)},M.onload=function(){M.responseText&&M.responseText.length>0&&O.onChunk(200,M.responseText),O.emit("finished",200),O.close()},M},abortRequest:function(O){O.ontimeout=O.onerror=O.onprogress=O.onload=null,O.abort()}},rb=ib;const ab=256*1024;class lb extends _n{constructor(M,I,H){super(),this.hooks=M,this.method=I,this.url=H}start(M){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ut.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(M)}close(){this.unloader&&(ut.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(M,I){for(;;){var H=this.advanceBuffer(I);if(H)this.emit("chunk",{status:M,data:H});else break}this.isBufferTooLong(I)&&this.emit("buffer_too_long")}advanceBuffer(M){var I=M.slice(this.position),H=I.indexOf(`
`);return H!==-1?(this.position+=H+1,I.slice(0,H)):null}isBufferTooLong(M){return this.position===M.length&&M.length>ab}}var xu;(function(O){O[O.CONNECTING=0]="CONNECTING",O[O.OPEN=1]="OPEN",O[O.CLOSED=3]="CLOSED"})(xu||(xu={}));var Si=xu,db=1;class cb{constructor(M,I){this.hooks=M,this.session=jf(1e3)+"/"+pb(8),this.location=ub(I),this.readyState=Si.CONNECTING,this.openStream()}send(M){return this.sendRaw(JSON.stringify([M]))}ping(){this.hooks.sendHeartbeat(this)}close(M,I){this.onClose(M,I,!0)}sendRaw(M){if(this.readyState===Si.OPEN)try{return ut.createSocketRequest("POST",Ef(mb(this.location,this.session))).start(M),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(M,I,H){this.closeStream(),this.readyState=Si.CLOSED,this.onclose&&this.onclose({code:M,reason:I,wasClean:H})}onChunk(M){if(M.status===200){this.readyState===Si.OPEN&&this.onActivity();var I,H=M.data.slice(0,1);switch(H){case"o":I=JSON.parse(M.data.slice(1)||"{}"),this.onOpen(I);break;case"a":I=JSON.parse(M.data.slice(1)||"[]");for(var Z=0;Z<I.length;Z++)this.onEvent(I[Z]);break;case"m":I=JSON.parse(M.data.slice(1)||"null"),this.onEvent(I);break;case"h":this.hooks.onHeartbeat(this);break;case"c":I=JSON.parse(M.data.slice(1)||"[]"),this.onClose(I[0],I[1],!0);break}}}onOpen(M){this.readyState===Si.CONNECTING?(M&&M.hostname&&(this.location.base=fb(this.location.base,M.hostname)),this.readyState=Si.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(M){this.readyState===Si.OPEN&&this.onmessage&&this.onmessage({data:M})}onActivity(){this.onactivity&&this.onactivity()}onError(M){this.onerror&&this.onerror(M)}openStream(){this.stream=ut.createSocketRequest("POST",Ef(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",M=>{this.onChunk(M)}),this.stream.bind("finished",M=>{this.hooks.onFinished(this,M)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(M){pe.defer(()=>{this.onError(M),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function ub(O){var M=/([^\?]*)\/*(\??.*)/.exec(O);return{base:M[1],queryString:M[2]}}function mb(O,M){return O.base+"/"+M+"/xhr_send"}function Ef(O){var M=O.indexOf("?")===-1?"?":"&";return O+M+"t="+ +new Date+"&n="+db++}function fb(O,M){var I=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(O);return I[1]+M+I[3]}function jf(O){return ut.randomInt(O)}function pb(O){for(var M=[],I=0;I<O;I++)M.push(jf(32).toString(32));return M.join("")}var hb=cb,gb={getReceiveURL:function(O,M){return O.base+"/"+M+"/xhr_streaming"+O.queryString},onHeartbeat:function(O){O.sendRaw("[]")},sendHeartbeat:function(O){O.sendRaw("[]")},onFinished:function(O,M){O.onClose(1006,"Connection interrupted ("+M+")",!1)}},_b=gb,vb={getReceiveURL:function(O,M){return O.base+"/"+M+"/xhr"+O.queryString},onHeartbeat:function(){},sendHeartbeat:function(O){O.sendRaw("[]")},onFinished:function(O,M){M===200?O.reconnect():O.onClose(1006,"Connection interrupted ("+M+")",!1)}},yb=vb,xb={getRequest:function(O){var M=ut.getXHRAPI(),I=new M;return I.onreadystatechange=I.onprogress=function(){switch(I.readyState){case 3:I.responseText&&I.responseText.length>0&&O.onChunk(I.status,I.responseText);break;case 4:I.responseText&&I.responseText.length>0&&O.onChunk(I.status,I.responseText),O.emit("finished",I.status),O.close();break}},I},abortRequest:function(O){O.onreadystatechange=null,O.abort()}},bb=xb,wb={createStreamingSocket(O){return this.createSocket(_b,O)},createPollingSocket(O){return this.createSocket(yb,O)},createSocket(O,M){return new hb(O,M)},createXHR(O,M){return this.createRequest(bb,O,M)},createRequest(O,M,I){return new lb(O,M,I)}},Rf=wb;Rf.createXDR=function(O,M){return this.createRequest(rb,O,M)};var kb=Rf,$b={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:m,getDefaultStrategy:nb,Transports:An,transportConnectionInitializer:ob,HTTPFactory:kb,TimelineTransport:Is,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(O){window.Pusher=O;var M=()=>{this.onDocumentBody(O.ready)};window.JSON?M():h.load("json2",{},M)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:D,jsonp:_t}},onDocumentBody(O){document.body?O():setTimeout(()=>{this.onDocumentBody(O)},0)},createJSONPRequest(O,M){return new wt(O,M)},createScriptRequest(O){return new Dt(O)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var O=this.getXHRAPI();return new O},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return $i},createWebSocket(O){var M=this.getWebSocketAPI();return new M(O)},createSocketRequest(O,M){if(this.isXHRSupported())return this.HTTPFactory.createXHR(O,M);if(this.isXDRSupported(M.indexOf("https:")===0))return this.HTTPFactory.createXDR(O,M);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var O=this.getXHRAPI();return!!O&&new O().withCredentials!==void 0},isXDRSupported(O){var M=O?"https:":"http:",I=this.getProtocol();return!!window.XDomainRequest&&I===M},addUnloadListener(O){window.addEventListener!==void 0?window.addEventListener("unload",O,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",O)},removeUnloadListener(O){window.addEventListener!==void 0?window.removeEventListener("unload",O,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",O)},randomInt(O){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*O)}},ut=$b,bu;(function(O){O[O.ERROR=3]="ERROR",O[O.INFO=6]="INFO",O[O.DEBUG=7]="DEBUG"})(bu||(bu={}));var Al=bu;class Cb{constructor(M,I,H){this.key=M,this.session=I,this.events=[],this.options=H||{},this.sent=0,this.uniqueID=0}log(M,I){M<=this.options.level&&(this.events.push(Ce({},I,{timestamp:pe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(M){this.log(Al.ERROR,M)}info(M){this.log(Al.INFO,M)}debug(M){this.log(Al.DEBUG,M)}isEmpty(){return this.events.length===0}send(M,I){var H=Ce({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],M(H,(Z,be)=>{Z||this.sent++,I&&I(Z,be)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Sb{constructor(M,I,H,Z){this.name=M,this.priority=I,this.transport=H,this.options=Z||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(M,I){if(this.isSupported()){if(this.priority<M)return If(new C,I)}else return If(new T,I);var H=!1,Z=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),be=null,Re=function(){Z.unbind("initialized",Re),Z.connect()},Ye=function(){be=xo.createHandshake(Z,function(ms){H=!0,jt(),I(null,ms)})},ct=function(ms){jt(),I(ms)},St=function(){jt();var ms;ms=Ge(Z),I(new $(ms))},jt=function(){Z.unbind("initialized",Re),Z.unbind("open",Ye),Z.unbind("error",ct),Z.unbind("closed",St)};return Z.bind("initialized",Re),Z.bind("open",Ye),Z.bind("error",ct),Z.bind("closed",St),Z.initialize(),{abort:()=>{H||(jt(),be?be.close():Z.close())},forceMinPriority:ms=>{H||this.priority<ms&&(be?be.close():Z.close())}}}}function If(O,M){return pe.defer(function(){M(O)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Mb}=ut;var Tb=function(O,M,I,H,Z,be){var Re=Mb[I];if(!Re)throw new R(I);var Ye=(!O.enabledTransports||Ue(O.enabledTransports,M)!==-1)&&(!O.disabledTransports||Ue(O.disabledTransports,M)===-1),ct;return Ye?(Z=Object.assign({ignoreNullOrigin:O.ignoreNullOrigin},Z),ct=new Sb(M,H,be?be.getAssistant(Re):Re,Z)):ct=Db,ct},Db={isSupported:function(){return!1},connect:function(O,M){var I=pe.defer(function(){M(new T)});return{abort:function(){I.ensureAborted()},forceMinPriority:function(){}}}};function Ab(O){if(O==null)throw"You must pass an options object";if(O.cluster==null)throw"Options object must provide a cluster";"disableStats"in O&&je.warn("The disableStats option is deprecated in favor of enableStats")}const Pb=(O,M)=>{var I="socket_id="+encodeURIComponent(O.socketId);for(var H in M.params)I+="&"+encodeURIComponent(H)+"="+encodeURIComponent(M.params[H]);if(M.paramsProvider!=null){let Z=M.paramsProvider();for(var H in Z)I+="&"+encodeURIComponent(H)+"="+encodeURIComponent(Z[H])}return I};var Eb=O=>{if(typeof ut.getAuthorizers()[O.transport]>"u")throw`'${O.transport}' is not a recognized auth transport`;return(M,I)=>{const H=Pb(M,O);ut.getAuthorizers()[O.transport](ut,H,O,x.UserAuthentication,I)}};const jb=(O,M)=>{var I="socket_id="+encodeURIComponent(O.socketId);I+="&channel_name="+encodeURIComponent(O.channelName);for(var H in M.params)I+="&"+encodeURIComponent(H)+"="+encodeURIComponent(M.params[H]);if(M.paramsProvider!=null){let Z=M.paramsProvider();for(var H in Z)I+="&"+encodeURIComponent(H)+"="+encodeURIComponent(Z[H])}return I};var Rb=O=>{if(typeof ut.getAuthorizers()[O.transport]>"u")throw`'${O.transport}' is not a recognized auth transport`;return(M,I)=>{const H=jb(M,O);ut.getAuthorizers()[O.transport](ut,H,O,x.ChannelAuthorization,I)}};const Ib=(O,M,I)=>{const H={authTransport:M.transport,authEndpoint:M.endpoint,auth:{params:M.params,headers:M.headers}};return(Z,be)=>{const Re=O.channel(Z.channelName);I(Re,H).authorize(Z.socketId,be)}};function Ob(O,M){let I={activityTimeout:O.activityTimeout||c.activityTimeout,cluster:O.cluster,httpPath:O.httpPath||c.httpPath,httpPort:O.httpPort||c.httpPort,httpsPort:O.httpsPort||c.httpsPort,pongTimeout:O.pongTimeout||c.pongTimeout,statsHost:O.statsHost||c.stats_host,unavailableTimeout:O.unavailableTimeout||c.unavailableTimeout,wsPath:O.wsPath||c.wsPath,wsPort:O.wsPort||c.wsPort,wssPort:O.wssPort||c.wssPort,enableStats:Ub(O),httpHost:Lb(O),useTLS:zb(O),wsHost:Fb(O),userAuthenticator:Bb(O),channelAuthorizer:Hb(O,M)};return"disabledTransports"in O&&(I.disabledTransports=O.disabledTransports),"enabledTransports"in O&&(I.enabledTransports=O.enabledTransports),"ignoreNullOrigin"in O&&(I.ignoreNullOrigin=O.ignoreNullOrigin),"timelineParams"in O&&(I.timelineParams=O.timelineParams),"nacl"in O&&(I.nacl=O.nacl),I}function Lb(O){return O.httpHost?O.httpHost:O.cluster?`sockjs-${O.cluster}.pusher.com`:c.httpHost}function Fb(O){return O.wsHost?O.wsHost:Nb(O.cluster)}function Nb(O){return`ws-${O}.pusher.com`}function zb(O){return ut.getProtocol()==="https:"?!0:O.forceTLS!==!1}function Ub(O){return"enableStats"in O?O.enableStats:"disableStats"in O?!O.disableStats:!1}function Bb(O){const M=Object.assign(Object.assign({},c.userAuthentication),O.userAuthentication);return"customHandler"in M&&M.customHandler!=null?M.customHandler:Eb(M)}function Vb(O,M){let I;return"channelAuthorization"in O?I=Object.assign(Object.assign({},c.channelAuthorization),O.channelAuthorization):(I={transport:O.authTransport||c.authTransport,endpoint:O.authEndpoint||c.authEndpoint},"auth"in O&&("params"in O.auth&&(I.params=O.auth.params),"headers"in O.auth&&(I.headers=O.auth.headers)),"authorizer"in O&&(I.customHandler=Ib(M,I,O.authorizer))),I}function Hb(O,M){const I=Vb(O,M);return"customHandler"in I&&I.customHandler!=null?I.customHandler:Rb(I)}class qb extends _n{constructor(M){super(function(I,H){je.debug(`No callbacks on watchlist events for ${I}`)}),this.pusher=M,this.bindWatchlistInternalEvent()}handleEvent(M){M.data.events.forEach(I=>{this.emit(I.name,I)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",M=>{var I=M.event;I==="pusher_internal:watchlist_events"&&this.handleEvent(M)})}}function Wb(){let O,M;return{promise:new Promise((H,Z)=>{O=H,M=Z}),resolve:O,reject:M}}var Kb=Wb;class Yb extends _n{constructor(M){super(function(I,H){je.debug("No callbacks on user for "+I)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(I,H)=>{if(I){je.warn(`Error during signin: ${I}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:H.auth,user_data:H.user_data})},this.pusher=M,this.pusher.connection.bind("state_change",({previous:I,current:H})=>{I!=="connected"&&H==="connected"&&this._signin(),I==="connected"&&H!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new qb(M),this.pusher.connection.bind("message",I=>{var H=I.event;H==="pusher:signin_success"&&this._onSigninSuccess(I.data),this.serverToUserChannel&&this.serverToUserChannel.name===I.channel&&this.serverToUserChannel.handleEvent(I)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(M){try{this.user_data=JSON.parse(M.user_data)}catch{je.error(`Failed parsing user data after signin: ${M.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){je.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const M=I=>{I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.pusher.connection.state==="connected"&&I.subscribe()};this.serverToUserChannel=new Zr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((I,H)=>{I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0||this.emit(I,H)}),M(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:M,resolve:I,reject:H}=Kb();M.done=!1;const Z=()=>{M.done=!0};M.then(Z).catch(Z),this.signinDonePromise=M,this._signinDoneResolve=I}}class $s{static ready(){$s.isReady=!0;for(var M=0,I=$s.instances.length;M<I;M++)$s.instances[M].connect()}static getClientFeatures(){return Oe(te({ws:ut.Transports.ws},function(M){return M.isSupported({})}))}constructor(M,I){Gb(M),Ab(I),this.key=M,this.config=Ob(I,this),this.channels=xo.createChannels(),this.global_emitter=new _n,this.sessionID=ut.randomInt(1e9),this.timeline=new Cb(this.key,this.sessionID,{cluster:this.config.cluster,features:$s.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Al.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=xo.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ut.TimelineTransport.name}));var H=Z=>ut.getDefaultStrategy(this.config,Z,Tb);this.connection=xo.createConnectionManager(this.key,{getStrategy:H,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Z=>{var be=Z.event,Re=be.indexOf("pusher_internal:")===0;if(Z.channel){var Ye=this.channel(Z.channel);Ye&&Ye.handleEvent(Z)}Re||this.global_emitter.emit(Z.event,Z.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Z=>{je.warn(Z)}),$s.instances.push(this),this.timeline.info({instances:$s.instances.length}),this.user=new Yb(this),$s.isReady&&this.connect()}channel(M){return this.channels.find(M)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var M=this.connection.isUsingTLS(),I=this.timelineSender;this.timelineSenderTimer=new Qe(6e4,function(){I.send(M)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(M,I,H){return this.global_emitter.bind(M,I,H),this}unbind(M,I,H){return this.global_emitter.unbind(M,I,H),this}bind_global(M){return this.global_emitter.bind_global(M),this}unbind_global(M){return this.global_emitter.unbind_global(M),this}unbind_all(M){return this.global_emitter.unbind_all(),this}subscribeAll(){var M;for(M in this.channels.channels)this.channels.channels.hasOwnProperty(M)&&this.subscribe(M)}subscribe(M){var I=this.channels.add(M,this);return I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.connection.state==="connected"&&I.subscribe(),I}unsubscribe(M){var I=this.channels.find(M);I&&I.subscriptionPending?I.cancelSubscription():(I=this.channels.remove(M),I&&I.subscribed&&I.unsubscribe())}send_event(M,I,H){return this.connection.send_event(M,I,H)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}$s.instances=[],$s.isReady=!1,$s.logToConsole=!1,$s.Runtime=ut,$s.ScriptReceivers=ut.ScriptReceivers,$s.DependenciesReceivers=ut.DependenciesReceivers,$s.auth_callbacks=ut.auth_callbacks;var wu=o.default=$s;function Gb(O){if(O==null)throw"You must pass your app key when you instantiate Pusher."}ut.setup($s)}])})})(fx);var HT=fx.exports;const qT=VT(HT);let ha=null,mm=!0;async function WT(){if(ha||(ha=new(window.AudioContext||window.webkitAudioContext)),ha.state==="suspended")try{await ha.resume()}catch{}return ha}async function KT(){const s=await WT(),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.value=800,e.type="sine";const o=s.currentTime;t.gain.setValueAtTime(0,o),t.gain.linearRampToValueAtTime(.3*Xg(),o+.01),t.gain.exponentialRampToValueAtTime(.01,o+.3),e.start(o),e.stop(o+.3),setTimeout(()=>{const i=s.createOscillator(),r=s.createGain();i.connect(r),r.connect(s.destination),i.frequency.value=1e3,i.type="sine";const a=s.currentTime;r.gain.setValueAtTime(0,a),r.gain.linearRampToValueAtTime(.3*Xg(),a+.01),r.gain.exponentialRampToValueAtTime(.01,a+.3),i.start(a),i.stop(a+.3)},150)}async function YT(){if(mm)try{await KT()}catch{}}function GT(){const s=localStorage.getItem("notification_sound_enabled");return s!==null&&(mm=s==="true"),mm}function Xg(){const s=localStorage.getItem("notification_volume");return s?parseFloat(s):.5}typeof window<"u"&&GT();const XT={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Notifications"},JT={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},QT={class:"absolute mt-2 w-48 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},ZT={key:0,class:"py-4 text-center text-sm text-gray-700"},eD={key:1},tD=["href","onClick"],sD=ve({__name:"_NotificationsDropdown",setup(s){const e=E([]),t=E();window.Pusher=qT;let o=null,i=0;function r(){ce.get("notifications").then(c=>{const u=c.data.new;u>i&&i>=0&&YT(),i=u,t.value=u,e.value=c.data.notifications})}r(),o=window.setInterval(()=>{document.hasFocus()&&r()},1e4),Ks(()=>{o&&clearInterval(o)});function a(c){c&&t.value&&ce.post("/notifications/read").then(u=>{u.data.success&&(t.value=0,i=0)})}function l(c){return{"App\\Notifications\\ProjectAssigned":"/projects/"+c.data.item_id,"App\\Notifications\\TaskAssigned":"/projects/"+c.data.project_id}[c.type]}return(c,u)=>{const m=Bt("router-link");return g(),re(f(Gs),{onToggle:a},{trigger:W(()=>[n("button",XT,[u[0]||(u[0]=n("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),t.value?(g(),y("div",JT,d(t.value>9?"9+":t.value),1)):j("",!0)])]),content:W(()=>[n("div",QT,[e.value.length?(g(),y("div",eD,[(g(!0),y(oe,null,ue(e.value,h=>(g(),re(m,{key:h.id,custom:"",to:l(h)},{default:W(({href:p,navigate:_})=>[n("a",{href:p,class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",role:"menuitem",onClick:_},d(h.data.message),9,tD)]),_:2},1032,["to"]))),128))])):(g(),y("p",ZT,d(c.__("No Notifications!")),1))])]),_:1})}}}),nD={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},oD={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},iD={class:"py-1",role:"none"},rD={class:"flex-1 font-medium ltr:ml-2 rtl:mr-2"},aD=ve({__name:"_RecentDropdown",setup(s){const e=E([]);return ce.get("recent-projects").then(t=>{e.value=t.data}),(t,o)=>{const i=Bt("router-link");return g(),re(f(Gs),null,{trigger:W(()=>[n("button",nD,[n("span",null,d(t.__("Recent")),1),o[0]||(o[0]=n("div",{class:"ltr:ml-1 rtl:mr-1"},[n("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:W(()=>[n("div",oD,[z(n("p",{class:"px-4 py-4 text-sm text-gray-700"},d(t.__("There are no data")),513),[[zt,!e.value.length]]),z(n("div",iD,[(g(!0),y(oe,null,ue(e.value,r=>(g(),re(i,{key:r.name,class:"flex items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",to:"/projects/"+r.project_id},{default:W(()=>[n("span",{class:"block h-2 w-2 rounded-full",style:bt({"background-color":r.project.meta.color})},"",4),n("span",rD,d(r.project.name),1)]),_:2},1032,["to"]))),128))],512),[[zt,e.value.length]])])]),_:1})}}}),lD={id:"logout-form",method:"POST",action:"/logout"},dD=["value"],cD={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},uD={class:"ltr:ml-2 rtl:mr-2"},mD={class:"absolute mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},fD={class:"divide-y divide-gray-100"},pD={class:"px-4 py-2.5"},hD={class:"block text-xs font-normal text-gray-500"},gD={class:"mt-0.5 block truncate text-sm font-normal text-gray-600",role:"none"},_D={class:"py-1",role:"none"},vD=ve({__name:"ProfileDropdown",setup(s){const e=vt.user,t=vt.csrf_token;function o(){document.querySelector("#logout-form").submit()}return(i,r)=>{const a=Bt("RouterLink");return g(),re(f(Gs),null,{trigger:W(()=>[n("form",lD,[n("input",{type:"hidden",name:"_token",value:f(t)},null,8,dD)]),n("button",cD,[S(f(cs),{avatar:f(e).avatar,class:"h-8 w-8"},null,8,["avatar"]),n("div",uD,d(f(e).name),1),r[0]||(r[0]=n("div",{class:"ltr:ml-1 rtl:mr-1"},[n("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:W(()=>[n("div",mD,[n("div",fD,[n("p",pD,[n("span",hD,d(i.__("Signed in as")),1),n("span",gD,d(f(e).email),1)]),n("div",_D,[S(a,{to:"/profile",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:W(()=>[J(d(i.__("Profile")),1)]),_:1}),i.can("setting:general")?(g(),re(a,{key:0,to:"/settings/general",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:W(()=>[J(d(i.__("Settings")),1)]),_:1})):j("",!0),n("a",{href:"/logout",class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",onClick:Ve(o,["prevent"])},d(i.__("Logout")),1)])])])]),_:1})}}}),yD={key:0},xD={class:"flex items-center space-x-2"},bD={class:"flex flex-col leading-tight"},wD={class:"text-lg font-bold"},kD={class:"text-sm"},$D={class:"contract-tooltip"},CD={class:"mt-1 text-xs"},SD={key:0,class:"mt-0.5"},MD={class:"contract-modal-header"},TD={class:"contract-modal-body"},DD={class:"font-bold"},AD={class:"details-grid"},PD={class:"detail-item"},ED={class:"detail-value"},jD={class:"detail-item"},RD={class:"detail-value"},ID={class:"detail-item"},OD={class:"detail-value countdown-value"},LD={key:0,class:"urgency-message"},FD={class:"contract-modal-footer"},ND=ve({__name:"ContractCountdown",setup(s){const e=Me(()=>vt.contract_days_remaining),t=E(!1);function o(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}function i(l){return l?{"fixed-term":"Fixed Term",permanent:"Permanent",freelance:"Freelance"}[l]||l:"Fixed Term"}function r(){return e.value?e.value<=30?"Expiring Soon":e.value<=90?"Active (Reminder)":"Active":"Unknown"}function a(){return e.value?e.value<=30?"status-urgent":e.value<=90?"status-warning":"status-normal":""}return(l,c)=>e.value!==null&&f(vt).employment_type==="Contract"?(g(),y("div",yD,[n("div",{class:X(["contract-countdown-badge",{"contract-urgent":e.value<=30,"contract-warning":e.value>30&&e.value<=90,"contract-normal":e.value>90}]),onClick:c[0]||(c[0]=u=>t.value=!0)},[n("div",xD,[c[6]||(c[6]=n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),n("div",bD,[c[5]||(c[5]=n("span",{class:"text-xs font-medium opacity-90"},"Contract Ends In",-1)),n("span",wD,[J(d(e.value)+" ",1),n("span",kD,d(e.value===1?"day":"days"),1)])])]),n("div",$D,[c[7]||(c[7]=n("div",{class:"text-xs font-semibold"},"Click for Details",-1)),n("div",CD,[n("div",null,"End Date: "+d(o(f(vt).user.contract_end_date)),1),f(vt).user.contract_type?(g(),y("div",SD," Type: "+d(i(f(vt).user.contract_type)),1)):j("",!0)])])],2),t.value?(g(),y("div",{key:0,class:"contract-modal-overlay",onClick:c[4]||(c[4]=u=>t.value=!1)},[n("div",{class:"contract-modal",onClick:c[3]||(c[3]=Ve(()=>{},["stop"]))},[n("div",MD,[c[9]||(c[9]=n("h3",{class:"text-xl font-bold text-gray-900"},"Contract Information",-1)),n("button",{class:"close-button",onClick:c[1]||(c[1]=u=>t.value=!1)},[...c[8]||(c[8]=[n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",TD,[n("div",{class:X(["status-badge",a()])},[c[10]||(c[10]=n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",DD,"Status: "+d(r()),1)],2),n("div",AD,[n("div",PD,[c[11]||(c[11]=n("div",{class:"detail-label"},"Contract Type",-1)),n("div",ED,d(i(f(vt).user.contract_type)),1)]),n("div",jD,[c[12]||(c[12]=n("div",{class:"detail-label"},"End Date",-1)),n("div",RD,d(o(f(vt).user.contract_end_date)),1)]),n("div",ID,[c[13]||(c[13]=n("div",{class:"detail-label"},"Days Remaining",-1)),n("div",OD,d(e.value)+" "+d(e.value===1?"day":"days"),1)]),c[14]||(c[14]=Ps('<div class="detail-item" data-v-881d3395><div class="detail-label" data-v-881d3395>Renewal Status</div><div class="detail-value renewal-status" data-v-881d3395><svg class="h-5 w-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-881d3395><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-881d3395></path></svg><span data-v-881d3395>Non-renewable</span></div></div>',1))]),e.value<=30?(g(),y("div",LD,[...c[15]||(c[15]=[n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),n("div",null,[n("div",{class:"font-bold"},"Urgent: Contract Expiring Soon"),n("div",{class:"text-sm"},"Please contact HR if you need assistance regarding your contract.")],-1)])])):j("",!0)]),n("div",FD,[n("button",{class:"modal-button",onClick:c[2]||(c[2]=u=>t.value=!1)}," Close ")])])])):j("",!0)])):j("",!0)}});const zD=nf(ND,[["__scopeId","data-v-881d3395"]]),UD={class:"relative z-10 flex h-16 flex-shrink-0 bg-white shadow"},BD={class:"flex flex-1 justify-between px-4"},VD={class:"flex flex-1 items-center px-4"},HD={class:"flex items-center ltr:ml-4 rtl:mr-4 ltr:md:ml-6 rtl:md:mr-6"},qD=ve({__name:"Header",setup(s){const e=Ec();return(t,o)=>(g(),y("div",UD,[n("button",{class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:o[0]||(o[0]=i=>f(e).isMobileSidebar=!0)},[o[1]||(o[1]=n("span",{class:"sr-only"},"Open sidebar",-1)),S(f(Ev),{class:"h-6 w-6","aria-hidden":"true"})]),n("div",BD,[n("div",VD,[S(aD),t.can("project:create")||t.can("user:create")?(g(),re(BT,{key:0,class:"ltr:ml-6 rtl:mr-6"})):j("",!0)]),n("div",HD,[S(xT),S(A6,{class:"ltr:ml-5 ltr:mr-5 rtl:ml-5 rtl:mr-5"}),S(YM),S(zD,{class:"ltr:ml-5 rtl:mr-5"}),S(sD,{class:"ltr:ml-5 rtl:mr-5"}),S(vD,{class:"ltr:ml-5 rtl:mr-5"})])])]))}}),kf=hn("favorite",()=>{const s=E([]);async function e(){const{data:t}=await ce.get("favorites");s.value=t}return{items:s,fetch:e}}),WD={class:"text-gray-400 hover:text-gray-200"},KD={class:"absolute bottom-6 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},YD={class:"py-1",role:"none"},GD=ve({__name:"ProjectMenu",props:{id:{},index:{},isFavorite:{}},emits:["toggleMenu"],setup(s,{emit:e}){const t=s,o=e,i=E(t.isFavorite);function r(u){o("toggleMenu",{state:u,index:t.index})}function a(){ce.patch("/projects/"+t.id+"/favorite").then(({data:u})=>{kf().items=u.favorites.favorites,i.value=u.favorite})}function l(){ce.patch(`projects/${t.id}/archive`).then(()=>{window.location.href="/"})}function c(){Ft().add(ru,{id:t.id})}return(u,m)=>(g(),re(f(Gs),{name:"sidebar-project-menu-"+s.id,onToggle:r},{trigger:W(()=>[n("span",WD,[S(f(h$),{class:"h-4 w-4"})])]),content:W(()=>[n("div",KD,[n("div",YD,[n("button",{class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ve(a,["prevent"])},d(i.value?u.__("Remove favorite"):u.__("Add to favorite")),1),u.can("project:update")?(g(),y("button",{key:0,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ve(c,["prevent"])},d(u.__("Edit")),1)):j("",!0),u.can("project:delete")?(g(),y("button",{key:1,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ve(l,["prevent"])},d(u.__("Archive")),1)):j("",!0)])])]),_:1},8,["name"]))}}),XD={class:"mt-6"},JD={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},QD={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},ZD={class:"ml-auto flex items-center gap-1"},eA=["href","onClick"],tA={class:"mt-2 space-y-0.5"},sA=["href","onClick"],nA={class:"flex-1 truncate"},oA=ve({__name:"Index",setup(s){const e=Ze("can"),t=wf(),o=gn(),i=Me(()=>o.currentRoute.value.path),r=E(null);function a(c){return i.value.startsWith(c)}function l(c){c.state?r.value=c.index:r.value==c.index&&(r.value=null)}return(c,u)=>{const m=Bt("RouterLink");return g(),y("section",XD,[S(f(Qc),null,{trigger:W(({open:h})=>[n("div",JD,[(g(),y("svg",{viewBox:"0 0 16 16",class:X(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!h,"rotate-0":h}])},[...u[1]||(u[1]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("h3",QD,d(c.__("Projects")),1),n("div",ZD,[S(m,{to:"/projects",custom:""},{default:W(({href:p,navigate:_})=>[n("a",{href:p,"data-cy":"projects-index-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:Ve(_,["stop"])},[S(f(v$),{class:"h-4 w-4"})],8,eA)]),_:1}),f(e)("project:create")?(g(),y("span",{key:0,"data-cy":"create-project-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:u[0]||(u[0]=Ve((...p)=>f(t).create&&f(t).create(...p),["stop"]))},[S(f(gs),{class:"h-4 w-4"})])):j("",!0)])])]),content:W(()=>[n("div",tA,[(g(!0),y(oe,null,ue(f(t).items.filter(h=>h&&h.id),(h,p)=>(g(),re(m,{key:h.id||p,to:`/projects/${h.id}`,custom:""},{default:W(({navigate:_,href:v,route:x})=>[n("a",{href:v,class:X([a(x.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:_},[n("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:bt({"background-color":h.meta.color,"box-shadow":`0 0 8px ${h.meta.color}40`})},null,4),n("span",nA,d(h.name),1),S(GD,{id:h.id,index:p,"is-favorite":h.is_favorite,class:X(["group-hover:block",{hidden:r.value!=p}]),onToggleMenu:l},null,8,["id","index","is-favorite","class"])],10,sA)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),iA={class:"mt-6"},rA={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},aA={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},lA={class:"mt-2 space-y-0.5"},dA=["href","onClick"],cA={class:"flex-1 truncate"},uA=ve({__name:"Index",setup(s){const e=gn(),t=Me(()=>e.currentRoute.value.path),o=kf();o.fetch();function i(r){return t.value.startsWith(r)}return(r,a)=>{const l=Bt("RouterLink");return g(),y("section",iA,[S(f(Qc),null,{trigger:W(({open:c})=>[n("div",rA,[(g(),y("svg",{viewBox:"0 0 16 16",class:X(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!c,"rotate-0":c}])},[...a[0]||(a[0]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("h3",aA,d(r.__("Favorites")),1)])]),content:W(()=>[n("div",lA,[(g(!0),y(oe,null,ue(f(o).items,c=>(g(),re(l,{key:c.project.name,to:`/projects/${c.project.id}`,custom:""},{default:W(({navigate:u,href:m,route:h})=>[n("a",{href:m,class:X([i(h.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:u},[n("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:bt({"background-color":c.project.meta.color,"box-shadow":`0 0 8px ${c.project.meta.color}40`})},null,4),n("span",cA,d(c.project.name),1)],10,dA)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),mA={class:"hidden md:flex md:flex-shrink-0"},fA={class:"flex w-64 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 shadow-2xl"},pA={class:"flex h-0 flex-1 flex-col"},hA={class:"sidebar-nav flex flex-1 flex-col overflow-y-auto scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-600"},gA={class:"flex-1 space-y-1 px-3 py-4"},_A=ve({__name:"Sidebar",setup(s){return(e,t)=>{const o=Bt("RouterLink");return g(),y("div",mA,[n("div",fA,[n("div",pA,[S(o,{to:"/",class:"group relative flex h-16 flex-shrink-0 items-center border-b border-gray-700/50 bg-gray-900/80 px-4 backdrop-blur-sm transition-all duration-200 hover:bg-gray-800/80"},{default:W(()=>[t[0]||(t[0]=n("div",{class:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"},null,-1)),S(qv)]),_:1}),n("div",hA,[n("nav",gA,[S(Hv),S(uA),S(oA)])])])])])}}}),vA={key:0,class:"fixed top-0 left-0 right-0 z-[300] flex items-center justify-center gap-4 bg-yellow-500 px-4 py-2 text-sm font-medium text-yellow-900"},yA={__name:"ImpersonationBanner",setup(s){const e=Me(()=>vt.is_impersonating),t=Me(()=>{var i;return((i=vt.user)==null?void 0:i.name)||"Unknown"}),o=async()=>{var i,r;try{const a=await ce.post("impersonate/stop");alert(a.data.message),window.location.href="/"}catch(a){alert(((r=(i=a.response)==null?void 0:i.data)==null?void 0:r.message)||"Failed to stop impersonating")}};return(i,r)=>e.value?(g(),y("div",vA,[n("span",null,[J(d(i.__("You are logged in as"))+" ",1),n("strong",null,d(t.value),1)]),n("button",{type:"button",class:"rounded-md bg-yellow-600 px-3 py-1 text-xs font-semibold text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",onClick:o},d(i.__("Return to your account")),1)])):j("",!0)}};function xA(s={}){const e=gn(),t=E(null),o=E(!0),i=E(Date.now()),r=E(!1),a=E(null),l=E(!0),c=E(!1);let u=null,m=null,h=null;function p(){return`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function _(){return{page_url:window.location.href,page_title:document.title}}function v(){var P;if(!((P=a.value)!=null&&P.exception_urls))return!1;const N=window.location.hostname.replace(/^www\./,"");return a.value.exception_urls.some(U=>{try{const ye=new URL(U).hostname.replace(/^www\./,"");return N===ye}catch{return!1}})}async function x(){try{const N=await ce.get("activity/settings");return a.value=N.data,l.value=N.data.enabled??!0,c.value=N.data.is_clocked_in??!1,N.data}catch{return null}}async function w(){try{if(await x(),!l.value||!c.value||v())return;t.value=p();const{page_url:N}=_();await ce.post("activity/session/start",{session_id:t.value,page_url:N}),r.value=!0,R()}catch{}}async function b(){if(!(!t.value||!o.value)&&!v()&&l.value&&c.value)try{const N=_();await ce.post("activity/heartbeat",{session_id:t.value,...N})}catch{}}async function k(){if(h){if(v()||!l.value||!c.value){h=null;return}try{const N=_();await ce.post("activity/return",{away_from:new Date(h).toISOString(),...N}),h=null}catch{}}}async function C(){if(t.value){try{await ce.post("activity/session/end",{session_id:t.value})}catch{}T(),t.value=null}}function $(){const N=Date.now();o.value||(o.value=!0,k()),i.value=N}function A(){var ye;if(!l.value||v()||!c.value)return;const N=(((ye=a.value)==null?void 0:ye.inactivity_threshold)??5)*60*1e3;Date.now()-i.value>=N&&o.value&&(o.value=!1,h=i.value)}function R(){var P;const N=(((P=a.value)==null?void 0:P.heartbeat_interval)??60)*1e3;u=setInterval(b,N),m=setInterval(A,1e4)}function T(){u&&(clearInterval(u),u=null),m&&(clearInterval(m),m=null)}function F(){const N=["mousedown","mousemove","keydown","scroll","touchstart","click"];return N.forEach(P=>{document.addEventListener(P,$,{passive:!0})}),document.addEventListener("visibilitychange",L),window.addEventListener("beforeunload",D),()=>{N.forEach(P=>{document.removeEventListener(P,$)}),document.removeEventListener("visibilitychange",L),window.removeEventListener("beforeunload",D)}}function L(){var N;if(document.hidden)h=Date.now(),o.value=!1;else{if(h){const P=(((N=a.value)==null?void 0:N.inactivity_threshold)??5)*60*1e3;Date.now()-h>=P?k():h=null}o.value=!0,i.value=Date.now()}}function D(){if(t.value){const N=JSON.stringify({session_id:t.value});navigator.sendBeacon("/api/activity/session/end",N)}}return Pt(()=>e.currentRoute.value.path,()=>{r.value&&b()}),Ne(()=>{const N=F();w(),Ks(()=>{N(),T(),C()})}),{sessionId:t,isActive:o,lastActivityTime:i,isInitialized:r,settings:a,isMonitoringEnabled:l,isClockedIn:c}}const bA=ve({setup(){return xA(),()=>S(oe,null,[S(yA,null,null),S("div",{class:"flex h-screen overflow-hidden bg-gray-100"},[S(K$,null,null),S(_A,null,null),S("div",{class:"flex w-0 flex-1 flex-col overflow-hidden"},[S(qD,null,null),S("main",{class:"relative flex-1 overflow-y-auto px-8 py-6"},[S(Bm,null,null)])]),S(CM,null,null),S(SM,null,null)])])}}),wA=ve({setup(){const s=Ec();return()=>s.isBlankPage?S(Bm,null,null):S(bA,null,null)}}),px=R5(wA),kA=ve({__name:"NotFound",setup(s){return(e,t)=>(g(),re(f(hy),{code:"404",heading:"Page not found",description:"Please check the URL in the address bar and try again."}))}}),$A=ve({__name:"Forbidden",setup(s){return(e,t)=>(g(),re(f(hy),{code:"403",heading:"Forbidden",description:"Unauthorized Access."}))}}),$f=hn("home",()=>{const s=E(!0),e=E(),t=E();o();async function o(){try{const[a,l]=await Promise.all([i(),r()]);e.value=a.data,t.value=l.data}catch{}finally{s.value=!1}}function i(){return ce.get("metrics")}function r(){return ce.get("charts")}return{charts:t,fetching:s,metrics:e}}),CA={class:"grid grid-cols-12 gap-6"},SA={class:"col-span-12 lg:col-span-6"},MA={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},TA={class:"text-lg font-semibold text-gray-900"},DA={style:{height:"300px"}},AA={class:"col-span-12 lg:col-span-6"},PA={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},EA={class:"text-lg font-semibold text-gray-900"},jA={style:{height:"300px"}},RA=ve({__name:"_Charts",setup(s){const e=$f();return(t,o)=>(g(),y("section",CA,[n("div",SA,[S(f(hi),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:W(()=>{var i;return[n("div",MA,[n("div",null,[n("h3",TA,d(t.__("Completed in the last 7 days")),1),o[0]||(o[0]=n("p",{class:"mt-1 text-xs text-gray-500"}," Weekly task completion trend ",-1))]),o[1]||(o[1]=n("span",{class:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700"}," 7 Days ",-1))]),n("div",DA,[S(f(um),{id:"tasks-chart",data:(i=f(e).charts)==null?void 0:i.chart_tasks_weekly,"tooltip-label":"Tasks","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]}),_:1})]),n("div",AA,[S(f(hi),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:W(()=>{var i;return[n("div",PA,[n("div",null,[n("h3",EA,d(t.__("Most productive month")),1),o[2]||(o[2]=n("p",{class:"mt-1 text-xs text-gray-500"}," Yearly performance overview ",-1))]),o[3]||(o[3]=n("span",{class:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700"}," 12 Months ",-1))]),n("div",jA,[S(f(um),{id:"tasks-chart-yearly",data:(i=f(e).charts)==null?void 0:i.chart_tasks_yearly,"tooltip-label":"Tasks","background-color":"rgba(147, 51, 234, 0.1)","border-color":"#9333EA"},null,8,["data"])])]}),_:1})])]))}}),IA={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},OA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md"},LA={class:"flex items-center gap-3"},FA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100"},NA={class:"text-sm font-medium text-gray-600"},zA={class:"mt-4"},UA={class:"text-3xl font-bold text-gray-900"},BA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-green-300 hover:shadow-md"},VA={class:"flex items-center gap-3"},HA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100"},qA={class:"text-sm font-medium text-gray-600"},WA={class:"mt-4"},KA={class:"text-3xl font-bold text-gray-900"},YA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-300 hover:shadow-md"},GA={class:"flex items-center gap-3"},XA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100"},JA={class:"text-sm font-medium text-gray-600"},QA={class:"mt-4"},ZA={class:"text-3xl font-bold text-gray-900"},eP=ve({__name:"_Metrics",setup(s){const e=$f();return(t,o)=>{var i,r,a;return g(),y("section",null,[n("dl",IA,[n("div",OA,[n("dt",LA,[n("div",FA,[S(f(Gm),{class:"h-6 w-6 text-indigo-600"})]),n("p",NA,d(t.__("Open Tasks")),1)]),n("dd",zA,[n("p",UA,d((i=f(e).metrics)==null?void 0:i.open_tasks),1),o[0]||(o[0]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700"}," In Progress ")],-1))])]),n("div",BA,[n("dt",VA,[n("div",HA,[S(f(Yt),{class:"h-6 w-6 text-green-600"})]),n("p",qA,d(t.__("Completed Tasks")),1)]),n("dd",WA,[n("p",KA,d((r=f(e).metrics)==null?void 0:r.completed_tasks),1),o[1]||(o[1]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-0.5 text-xs font-medium text-green-700"}," Finished ")],-1))])]),n("div",YA,[n("dt",GA,[n("div",XA,[S(f(nn),{class:"h-6 w-6 text-purple-600"})]),n("p",JA,d(t.__("Total Projects")),1)]),n("dd",QA,[n("p",ZA,d((a=f(e).metrics)==null?void 0:a.total_projects),1),o[2]||(o[2]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-purple-50 px-2.5 py-0.5 text-xs font-medium text-purple-700"}," Active ")],-1))])])])])}}}),tP={key:1,class:"space-y-8"},sP={class:"flex items-center justify-between border-b border-gray-200 pb-5"},nP={class:"text-3xl font-bold text-gray-900"},oP={key:0,class:"text-right"},iP={class:"flex items-center justify-end gap-2"},rP={class:"text-sm font-medium text-gray-500"},aP={key:0,class:"inline-flex items-center rounded-full bg-indigo-100 px-2 py-0.5 text-xs font-medium text-indigo-800"},lP={class:"mt-1 text-lg font-semibold text-gray-900"},dP={class:"text-xs text-gray-500"},cP=ve({__name:"Home",setup(s){const e=Ze("__"),t=$f(),o=E(null),i=async()=>{try{const r=await ce.get("working-hours/my-hours");o.value=r.data}catch{}};return Ne(()=>{i()}),(r,a)=>f(t).fetching?(g(),re(f(it),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),y("div",tP,[n("div",sP,[n("div",null,[n("h1",nP,d(f(e)("Dashboard")),1),a[0]||(a[0]=n("p",{class:"mt-1 text-sm text-gray-500"}," Welcome back! Here's what's happening with your tasks today. ",-1))]),o.value?(g(),y("div",oP,[n("div",iP,[S(f(hs),{class:X(["h-5 w-5",o.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"]),n("span",rP,d(f(e)("Your Working Hours")),1),o.value.has_custom_hours?(g(),y("span",aP,d(f(e)("Custom")),1)):j("",!0)]),n("p",lP,d(o.value.formatted_start)+" - "+d(o.value.formatted_end),1),n("p",dP,d(o.value.has_custom_hours?o.value.effective_period:f(e)("Standard working hours apply to you.")),1)])):j("",!0)]),S(eP),S(RA)]))}}),uP={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},mP={class:"sm:col-span-2"},fP=["src"],pP={key:1,class:"inline-block h-24 w-24 overflow-hidden rounded-full bg-gray-200"},hP=ve({__name:"FieldAvatar",setup(s){const e=_s("profile")(),t=512,o=512,i=E();i.value=e.data.avatar;function r(a){if(!a.target.files.length)return;let l=a.target.files[0],c=a.target,u=new FileReader;u.readAsDataURL(l),u.onload=m=>{let h=new Image;h.src=m.target.result,h.onload=function(){if(h.width>t||h.height>o){alert("you can upload max "+t+" x "+o),c.value=null;return}i.value=m.target.result;const p=new FormData;p.append("avatar",l),ce.post("avatar",p)}}}return(a,l)=>(g(),y("div",uP,[l[2]||(l[2]=n("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"  ",-1)),n("div",mP,[i.value?(g(),y("img",{key:0,class:"h-24 w-24 rounded-full",src:i.value},null,8,fP)):(g(),y("span",pP,[...l[0]||(l[0]=[n("svg",{class:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])])),l[1]||(l[1]=n("label",{for:"avatar",class:"mt-2 block w-24 cursor-pointer text-center text-sm text-gray-600"}," Change ",-1)),n("input",{id:"avatar",type:"file",class:"hidden",accept:"image/*",name:"avatar",onChange:r},null,32)])]))}}),gP={key:0,class:"overflow-hidden rounded-lg bg-white shadow"},_P={class:"p-5"},vP={class:"flex items-center justify-between"},yP={class:"flex items-center"},xP={class:"flex-shrink-0"},bP={class:"ml-4"},wP={class:"text-sm font-medium text-gray-500"},kP={class:"mt-1 flex items-baseline"},$P={class:"text-2xl font-semibold text-gray-900"},CP={key:0,class:"flex-shrink-0"},SP={class:"inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},MP={key:0,class:"mt-4 border-t border-gray-100 pt-4"},TP={class:"flex flex-col space-y-2"},DP={class:"flex items-center text-sm"},AP={class:"text-gray-500"},PP={class:"ml-1 font-medium text-gray-900"},EP={key:0,class:"flex items-start text-sm"},jP={class:"text-gray-500"},RP={key:1,class:"mt-4 text-sm text-gray-500"},IP={__name:"WorkingHoursWidget",setup(s){const e=E(null),t=async()=>{try{const o=await ce.get("working-hours/my-hours");e.value=o.data}catch{}};return Ne(()=>{t()}),(o,i)=>e.value?(g(),y("div",gP,[n("div",_P,[n("div",vP,[n("div",yP,[n("div",xP,[S(f(hs),{class:X(["h-8 w-8",e.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"])]),n("div",bP,[n("h3",wP,d(o.__("Your Working Hours")),1),n("div",kP,[n("p",$P,d(e.value.formatted_start)+" - "+d(e.value.formatted_end),1)])])]),e.value.has_custom_hours?(g(),y("div",CP,[n("span",SP,d(o.__("Custom Schedule")),1)])):j("",!0)]),e.value.has_custom_hours?(g(),y("div",MP,[n("div",TP,[n("div",DP,[S(f(nn),{class:"h-4 w-4 text-gray-400 mr-2"}),n("span",AP,d(o.__("Period"))+":",1),n("span",PP,d(e.value.effective_period),1)]),e.value.reason?(g(),y("div",EP,[S(f(zv),{class:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),n("span",jP,d(e.value.reason),1)])):j("",!0)])])):(g(),y("div",RP,d(o.__("Standard working hours apply to you.")),1))])])):j("",!0)}},OP={class:"mt-8"},LP={class:"text-lg font-medium text-gray-900 mb-4"},FP=ve({__name:"Profile",setup(s){const e=_s("profile")(),t=yo();return e.onSuccess(()=>{e.submitting=!1,e.data.password=""}),(o,i)=>(g(),y(oe,null,[S(f(uc),{title:o.__("Profile")},null,8,["title"]),S(f(Uo),{name:"profile",uri:"profile","save-only":""},{default:W(()=>[S(hP),S(f(t),{name:"name",label:o.__("Name"),inline:""},null,8,["label"]),S(f(t),{name:"email",label:o.__("Email"),inline:"",disabled:""},null,8,["label"]),S(f(t),{name:"password",label:o.__("New Password"),type:"password",inline:""},null,8,["label"])]),_:1}),n("div",OP,[n("h2",LP,d(o.__("Working Hours")),1),S(IP)])],64))}}),rn=hn("project-detail",()=>{const s=E(!1),e=E({});async function t(o){s.value=!0;const{data:i}=await ce.get(`projects/${o}`);s.value=!1,e.value=i}return{fetch:t,fetching:s,data:e}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Jg(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,o)}return t}function vo(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jg(Object(t),!0).forEach(function(o){NP(s,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Jg(Object(t)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(t,o))})}return s}function Pd(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pd=function(e){return typeof e}:Pd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(s)}function NP(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function No(){return No=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o])}return s},No.apply(this,arguments)}function zP(s,e){if(s==null)return{};var t={},o=Object.keys(s),i,r;for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function UP(s,e){if(s==null)return{};var t=zP(s,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(s,o)&&(t[o]=s[o])}return t}var BP="1.15.0";function Ro(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var Bo=Ro(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sl=Ro(/Edge/i),Qg=Ro(/firefox/i),Va=Ro(/safari/i)&&!Ro(/chrome/i)&&!Ro(/android/i),hx=Ro(/iP(ad|od|hone)/i),gx=Ro(/chrome/i)&&Ro(/android/i),_x={capture:!1,passive:!1};function Tt(s,e,t){s.addEventListener(e,t,!Bo&&_x)}function $t(s,e,t){s.removeEventListener(e,t,!Bo&&_x)}function mc(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function VP(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function uo(s,e,t,o){if(s){t=t||document;do{if(e!=null&&(e[0]===">"?s.parentNode===t&&mc(s,e):mc(s,e))||o&&s===t)return s;if(s===t)break}while(s=VP(s))}return null}var Zg=/\s+/g;function yn(s,e,t){if(s&&e)if(s.classList)s.classList[t?"add":"remove"](e);else{var o=(" "+s.className+" ").replace(Zg," ").replace(" "+e+" "," ");s.className=(o+(t?" "+e:"")).replace(Zg," ")}}function rt(s,e,t){var o=s&&s.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(t=s.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Sr(s,e){var t="";if(typeof s=="string")t=s;else do{var o=rt(s,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(s=s.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function vx(s,e,t){if(s){var o=s.getElementsByTagName(e),i=0,r=o.length;if(t)for(;i<r;i++)t(o[i],i);return o}return[]}function go(){var s=document.scrollingElement;return s||document.documentElement}function xs(s,e,t,o,i){if(!(!s.getBoundingClientRect&&s!==window)){var r,a,l,c,u,m,h;if(s!==window&&s.parentNode&&s!==go()?(r=s.getBoundingClientRect(),a=r.top,l=r.left,c=r.bottom,u=r.right,m=r.height,h=r.width):(a=0,l=0,c=window.innerHeight,u=window.innerWidth,m=window.innerHeight,h=window.innerWidth),(e||t)&&s!==window&&(i=i||s.parentNode,!Bo))do if(i&&i.getBoundingClientRect&&(rt(i,"transform")!=="none"||t&&rt(i,"position")!=="static")){var p=i.getBoundingClientRect();a-=p.top+parseInt(rt(i,"border-top-width")),l-=p.left+parseInt(rt(i,"border-left-width")),c=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(o&&s!==window){var _=Sr(i||s),v=_&&_.a,x=_&&_.d;_&&(a/=x,l/=v,h/=v,m/=x,c=a+m,u=l+h)}return{top:a,left:l,bottom:c,right:u,width:h,height:m}}}function e1(s,e,t){for(var o=ai(s,!0),i=xs(s)[e];o;){var r=xs(o)[t],a=void 0;if(t==="top"||t==="left"?a=i>=r:a=i<=r,!a)return o;if(o===go())break;o=ai(o,!1)}return!1}function Nr(s,e,t,o){for(var i=0,r=0,a=s.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==st.ghost&&(o||a[r]!==st.dragged)&&uo(a[r],t.draggable,s,!1)){if(i===e)return a[r];i++}r++}return null}function Cf(s,e){for(var t=s.lastElementChild;t&&(t===st.ghost||rt(t,"display")==="none"||e&&!mc(t,e));)t=t.previousElementSibling;return t||null}function Rn(s,e){var t=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==st.clone&&(!e||mc(s,e))&&t++;return t}function t1(s){var e=0,t=0,o=go();if(s)do{var i=Sr(s),r=i.a,a=i.d;e+=s.scrollLeft*r,t+=s.scrollTop*a}while(s!==o&&(s=s.parentNode));return[e,t]}function HP(s,e){for(var t in s)if(s.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===s[t][o])return Number(t)}return-1}function ai(s,e){if(!s||!s.getBoundingClientRect)return go();var t=s,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=rt(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return go();if(o||e)return t;o=!0}}while(t=t.parentNode);return go()}function qP(s,e){if(s&&e)for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function l0(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var Ha;function yx(s,e){return function(){if(!Ha){var t=arguments,o=this;t.length===1?s.call(o,t[0]):s.apply(o,t),Ha=setTimeout(function(){Ha=void 0},e)}}}function WP(){clearTimeout(Ha),Ha=void 0}function xx(s,e,t){s.scrollLeft+=e,s.scrollTop+=t}function bx(s){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):t?t(s).clone(!0)[0]:s.cloneNode(!0)}var Cn="Sortable"+new Date().getTime();function KP(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(rt(i,"display")==="none"||i===st.ghost)){s.push({target:i,rect:xs(i)});var r=vo({},s[s.length-1].rect);if(i.thisAnimationDuration){var a=Sr(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){s.push(o)},removeAnimationState:function(o){s.splice(HP(s,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var r=!1,a=0;s.forEach(function(l){var c=0,u=l.target,m=u.fromRect,h=xs(u),p=u.prevFromRect,_=u.prevToRect,v=l.rect,x=Sr(u,!0);x&&(h.top-=x.f,h.left-=x.e),u.toRect=h,u.thisAnimationDuration&&l0(p,h)&&!l0(m,h)&&(v.top-h.top)/(v.left-h.left)===(m.top-h.top)/(m.left-h.left)&&(c=GP(v,p,_,i.options)),l0(h,m)||(u.prevFromRect=m,u.prevToRect=h,c||(c=i.options.animation),i.animate(u,v,h,c)),c&&(r=!0,a=Math.max(a,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),s=[]},animate:function(o,i,r,a){if(a){rt(o,"transition",""),rt(o,"transform","");var l=Sr(this.el),c=l&&l.a,u=l&&l.d,m=(i.left-r.left)/(c||1),h=(i.top-r.top)/(u||1);o.animatingX=!!m,o.animatingY=!!h,rt(o,"transform","translate3d("+m+"px,"+h+"px,0)"),this.forRepaintDummy=YP(o),rt(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),rt(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){rt(o,"transition",""),rt(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function YP(s){return s.offsetWidth}function GP(s,e,t,o){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var pr=[],d0={initializeByDefault:!0},Ml={mount:function(e){for(var t in d0)d0.hasOwnProperty(t)&&!(t in e)&&(e[t]=d0[t]);pr.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),pr.push(e)},pluginEvent:function(e,t,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=e+"Global";pr.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](vo({sortable:t},o)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](vo({sortable:t},o)))})},initializePlugins:function(e,t,o,i){pr.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[c]=u,No(o,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var o={};return pr.forEach(function(i){typeof i.eventProperties=="function"&&No(o,i.eventProperties.call(t[i.pluginName],e))}),o},modifyOption:function(e,t,o){var i;return pr.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],o))}),i}};function XP(s){var e=s.sortable,t=s.rootEl,o=s.name,i=s.targetEl,r=s.cloneEl,a=s.toEl,l=s.fromEl,c=s.oldIndex,u=s.newIndex,m=s.oldDraggableIndex,h=s.newDraggableIndex,p=s.originalEvent,_=s.putSortable,v=s.extraEventProperties;if(e=e||t&&t[Cn],!!e){var x,w=e.options,b="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Bo&&!Sl?x=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(o,!0,!0)),x.to=a||t,x.from=l||t,x.item=i||t,x.clone=r,x.oldIndex=c,x.newIndex=u,x.oldDraggableIndex=m,x.newDraggableIndex=h,x.originalEvent=p,x.pullMode=_?_.lastPutMode:void 0;var k=vo(vo({},v),Ml.getEventProperties(o,e));for(var C in k)x[C]=k[C];t&&t.dispatchEvent(x),w[b]&&w[b].call(e,x)}}var JP=["evt"],ln=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=UP(o,JP);Ml.pluginEvent.bind(st)(e,t,vo({dragEl:Ie,parentEl:ts,ghostEl:mt,rootEl:Xt,nextEl:Ui,lastDownEl:Ed,cloneEl:Zt,cloneHidden:Zo,dragStarted:$a,putSortable:Cs,activeSortable:st.active,originalEvent:i,oldIndex:yr,oldDraggableIndex:qa,newIndex:wn,newDraggableIndex:Qo,hideGhostForTarget:Cx,unhideGhostForTarget:Sx,cloneNowHidden:function(){Zo=!0},cloneNowShown:function(){Zo=!1},dispatchSortableEvent:function(l){Zs({sortable:t,name:l,originalEvent:i})}},r))};function Zs(s){XP(vo({putSortable:Cs,cloneEl:Zt,targetEl:Ie,rootEl:Xt,oldIndex:yr,oldDraggableIndex:qa,newIndex:wn,newDraggableIndex:Qo},s))}var Ie,ts,mt,Xt,Ui,Ed,Zt,Zo,yr,wn,qa,Qo,nd,Cs,vr=!1,fc=!1,pc=[],Ii,Wn,c0,u0,s1,n1,$a,hr,Wa,Ka=!1,od=!1,jd,Ls,m0=[],fm=!1,hc=[],au=typeof document<"u",id=hx,o1=Sl||Bo?"cssFloat":"float",QP=au&&!gx&&!hx&&"draggable"in document.createElement("div"),wx=function(){if(au){if(Bo)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),kx=function(e,t){var o=rt(e),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Nr(e,0,t),a=Nr(e,1,t),l=r&&rt(r),c=a&&rt(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xs(r).width,m=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+xs(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[o1]==="none"||a&&o[o1]==="none"&&u+m>i)?"vertical":"horizontal"},ZP=function(e,t,o){var i=o?e.left:e.top,r=o?e.right:e.bottom,a=o?e.width:e.height,l=o?t.left:t.top,c=o?t.right:t.bottom,u=o?t.width:t.height;return i===l||r===c||i+a/2===l+u/2},eE=function(e,t){var o;return pc.some(function(i){var r=i[Cn].options.emptyInsertThreshold;if(!(!r||Cf(i))){var a=xs(i),l=e>=a.left-r&&e<=a.right+r,c=t>=a.top-r&&t<=a.bottom+r;if(l&&c)return o=i}}),o},$x=function(e){function t(r,a){return function(l,c,u,m){var h=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(a||h))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,c,u,m),a)(l,c,u,m);var p=(a?l:c).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var o={},i=e.group;(!i||Pd(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=t(i.pull,!0),o.checkPut=t(i.put),o.revertClone=i.revertClone,e.group=o},Cx=function(){!wx&&mt&&rt(mt,"display","none")},Sx=function(){!wx&&mt&&rt(mt,"display","")};au&&!gx&&document.addEventListener("click",function(s){if(fc)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),fc=!1,!1},!0);var Oi=function(e){if(Ie){e=e.touches?e.touches[0]:e;var t=eE(e.clientX,e.clientY);if(t){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[Cn]._onDragOver(o)}}},tE=function(e){Ie&&Ie.parentNode[Cn]._isOutsideThisEl(e.target)};function st(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=No({},e),s[Cn]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kx(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:st.supportPointer!==!1&&"PointerEvent"in window&&!Va,emptyInsertThreshold:5};Ml.initializePlugins(this,s,t);for(var o in t)!(o in e)&&(e[o]=t[o]);$x(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:QP,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Tt(s,"pointerdown",this._onTapStart):(Tt(s,"mousedown",this._onTapStart),Tt(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(Tt(s,"dragover",this),Tt(s,"dragenter",this)),pc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),No(this,KP())}st.prototype={constructor:st,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(hr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Ie):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,i=this.options,r=i.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,m=i.filter;if(dE(o),!Ie&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Va&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=uo(c,i.draggable,o,!1),!(c&&c.animated)&&Ed!==c)){if(yr=Rn(c),qa=Rn(c,i.draggable),typeof m=="function"){if(m.call(this,e,c,this)){Zs({sortable:t,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),ln("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(h){if(h=uo(u,h.trim(),o,!1),h)return Zs({sortable:t,rootEl:h,name:"filter",targetEl:c,fromEl:o,toEl:o}),ln("filter",t,{evt:e}),!0}),m)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!uo(u,i.handle,o,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,c;if(o&&!Ie&&o.parentNode===r){var u=xs(o);if(Xt=r,Ie=o,ts=Ie.parentNode,Ui=Ie.nextSibling,Ed=o,nd=a.group,st.dragged=Ie,Ii={target:Ie,clientX:(t||e).clientX,clientY:(t||e).clientY},s1=Ii.clientX-u.left,n1=Ii.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ie.style["will-change"]="all",c=function(){if(ln("delayEnded",i,{evt:e}),st.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Qg&&i.nativeDraggable&&(Ie.draggable=!0),i._triggerDragStart(e,t),Zs({sortable:i,name:"choose",originalEvent:e}),yn(Ie,a.chosenClass,!0)},a.ignore.split(",").forEach(function(m){vx(Ie,m.trim(),f0)}),Tt(l,"dragover",Oi),Tt(l,"mousemove",Oi),Tt(l,"touchmove",Oi),Tt(l,"mouseup",i._onDrop),Tt(l,"touchend",i._onDrop),Tt(l,"touchcancel",i._onDrop),Qg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ie.draggable=!0),ln("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Sl||Bo))){if(st.eventCanceled){this._onDrop();return}Tt(l,"mouseup",i._disableDelayedDrag),Tt(l,"touchend",i._disableDelayedDrag),Tt(l,"touchcancel",i._disableDelayedDrag),Tt(l,"mousemove",i._delayedDragTouchMoveHandler),Tt(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Tt(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ie&&f0(Ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$t(e,"mouseup",this._disableDelayedDrag),$t(e,"touchend",this._disableDelayedDrag),$t(e,"touchcancel",this._disableDelayedDrag),$t(e,"mousemove",this._delayedDragTouchMoveHandler),$t(e,"touchmove",this._delayedDragTouchMoveHandler),$t(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Tt(document,"pointermove",this._onTouchMove):t?Tt(document,"touchmove",this._onTouchMove):Tt(document,"mousemove",this._onTouchMove):(Tt(Ie,"dragend",this),Tt(Xt,"dragstart",this._onDragStart));try{document.selection?Rd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(vr=!1,Xt&&Ie){ln("dragStarted",this,{evt:t}),this.nativeDraggable&&Tt(document,"dragover",tE);var o=this.options;!e&&yn(Ie,o.dragClass,!1),yn(Ie,o.ghostClass,!0),st.active=this,e&&this._appendGhost(),Zs({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Wn){this._lastX=Wn.clientX,this._lastY=Wn.clientY,Cx();for(var e=document.elementFromPoint(Wn.clientX,Wn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Wn.clientX,Wn.clientY),e!==t);)t=e;if(Ie.parentNode[Cn]._isOutsideThisEl(e),t)do{if(t[Cn]){var o=void 0;if(o=t[Cn]._onDragOver({clientX:Wn.clientX,clientY:Wn.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Sx()}},_onTouchMove:function(e){if(Ii){var t=this.options,o=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=mt&&Sr(mt,!0),l=mt&&a&&a.a,c=mt&&a&&a.d,u=id&&Ls&&t1(Ls),m=(r.clientX-Ii.clientX+i.x)/(l||1)+(u?u[0]-m0[0]:0)/(l||1),h=(r.clientY-Ii.clientY+i.y)/(c||1)+(u?u[1]-m0[1]:0)/(c||1);if(!st.active&&!vr){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(mt){a?(a.e+=m-(c0||0),a.f+=h-(u0||0)):a={a:1,b:0,c:0,d:1,e:m,f:h};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");rt(mt,"webkitTransform",p),rt(mt,"mozTransform",p),rt(mt,"msTransform",p),rt(mt,"transform",p),c0=m,u0=h,Wn=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mt){var e=this.options.fallbackOnBody?document.body:Xt,t=xs(Ie,!0,id,!0,e),o=this.options;if(id){for(Ls=e;rt(Ls,"position")==="static"&&rt(Ls,"transform")==="none"&&Ls!==document;)Ls=Ls.parentNode;Ls!==document.body&&Ls!==document.documentElement?(Ls===document&&(Ls=go()),t.top+=Ls.scrollTop,t.left+=Ls.scrollLeft):Ls=go(),m0=t1(Ls)}mt=Ie.cloneNode(!0),yn(mt,o.ghostClass,!1),yn(mt,o.fallbackClass,!0),yn(mt,o.dragClass,!0),rt(mt,"transition",""),rt(mt,"transform",""),rt(mt,"box-sizing","border-box"),rt(mt,"margin",0),rt(mt,"top",t.top),rt(mt,"left",t.left),rt(mt,"width",t.width),rt(mt,"height",t.height),rt(mt,"opacity","0.8"),rt(mt,"position",id?"absolute":"fixed"),rt(mt,"zIndex","100000"),rt(mt,"pointerEvents","none"),st.ghost=mt,e.appendChild(mt),rt(mt,"transform-origin",s1/parseInt(mt.style.width)*100+"% "+n1/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,i=e.dataTransfer,r=o.options;if(ln("dragStart",this,{evt:e}),st.eventCanceled){this._onDrop();return}ln("setupClone",this),st.eventCanceled||(Zt=bx(Ie),Zt.removeAttribute("id"),Zt.draggable=!1,Zt.style["will-change"]="",this._hideClone(),yn(Zt,this.options.chosenClass,!1),st.clone=Zt),o.cloneId=Rd(function(){ln("clone",o),!st.eventCanceled&&(o.options.removeCloneOnHide||Xt.insertBefore(Zt,Ie),o._hideClone(),Zs({sortable:o,name:"clone"}))}),!t&&yn(Ie,r.dragClass,!0),t?(fc=!0,o._loopId=setInterval(o._emulateDragOver,50)):($t(document,"mouseup",o._onDrop),$t(document,"touchend",o._onDrop),$t(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,Ie)),Tt(document,"drop",o),rt(Ie,"transform","translateZ(0)")),vr=!0,o._dragStartId=Rd(o._dragStarted.bind(o,t,e)),Tt(document,"selectstart",o),$a=!0,Va&&rt(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,i,r,a,l=this.options,c=l.group,u=st.active,m=nd===c,h=l.sort,p=Cs||u,_,v=this,x=!1;if(fm)return;function w(ne,G){ln(ne,v,vo({evt:e,isOwner:m,axis:_?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:h,fromSortable:p,target:o,completed:k,onMove:function($e,we){return rd(Xt,t,Ie,i,$e,xs($e),e,we)},changed:C},G))}function b(){w("dragOverAnimationCapture"),v.captureAnimationState(),v!==p&&p.captureAnimationState()}function k(ne){return w("dragOverCompleted",{insertion:ne}),ne&&(m?u._hideClone():u._showClone(v),v!==p&&(yn(Ie,Cs?Cs.options.ghostClass:u.options.ghostClass,!1),yn(Ie,l.ghostClass,!0)),Cs!==v&&v!==st.active?Cs=v:v===st.active&&Cs&&(Cs=null),p===v&&(v._ignoreWhileAnimating=o),v.animateAll(function(){w("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===Ie&&!Ie.animated||o===t&&!o.animated)&&(hr=null),!l.dragoverBubble&&!e.rootEl&&o!==document&&(Ie.parentNode[Cn]._isOutsideThisEl(e.target),!ne&&Oi(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function C(){wn=Rn(Ie),Qo=Rn(Ie,l.draggable),Zs({sortable:v,name:"change",toEl:t,newIndex:wn,newDraggableIndex:Qo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=uo(o,l.draggable,t,!0),w("dragOver"),st.eventCanceled)return x;if(Ie.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||v._ignoreWhileAnimating===o)return k(!1);if(fc=!1,u&&!l.disabled&&(m?h||(a=ts!==Xt):Cs===this||(this.lastPutMode=nd.checkPull(this,u,Ie,e))&&c.checkPut(this,u,Ie,e))){if(_=this._getDirection(e,o)==="vertical",i=xs(Ie),w("dragOverValid"),st.eventCanceled)return x;if(a)return ts=Xt,b(),this._hideClone(),w("revert"),st.eventCanceled||(Ui?Xt.insertBefore(Ie,Ui):Xt.appendChild(Ie)),k(!0);var $=Cf(t,l.draggable);if(!$||iE(e,_,this)&&!$.animated){if($===Ie)return k(!1);if($&&t===e.target&&(o=$),o&&(r=xs(o)),rd(Xt,t,Ie,i,o,r,e,!!o)!==!1)return b(),$&&$.nextSibling?t.insertBefore(Ie,$.nextSibling):t.appendChild(Ie),ts=t,C(),k(!0)}else if($&&oE(e,_,this)){var A=Nr(t,0,l,!0);if(A===Ie)return k(!1);if(o=A,r=xs(o),rd(Xt,t,Ie,i,o,r,e,!1)!==!1)return b(),t.insertBefore(Ie,A),ts=t,C(),k(!0)}else if(o.parentNode===t){r=xs(o);var R=0,T,F=Ie.parentNode!==t,L=!ZP(Ie.animated&&Ie.toRect||i,o.animated&&o.toRect||r,_),D=_?"top":"left",N=e1(o,"top","top")||e1(Ie,"top","top"),P=N?N.scrollTop:void 0;hr!==o&&(T=r[D],Ka=!1,od=!L&&l.invertSwap||F),R=rE(e,o,r,_,L?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,od,hr===o);var U;if(R!==0){var ye=Rn(Ie);do ye-=R,U=ts.children[ye];while(U&&(rt(U,"display")==="none"||U===mt))}if(R===0||U===o)return k(!1);hr=o,Wa=R;var le=o.nextElementSibling,de=!1;de=R===1;var q=rd(Xt,t,Ie,i,o,r,e,de);if(q!==!1)return(q===1||q===-1)&&(de=q===1),fm=!0,setTimeout(nE,30),b(),de&&!le?t.appendChild(Ie):o.parentNode.insertBefore(Ie,de?le:o),N&&xx(N,0,P-N.scrollTop),ts=Ie.parentNode,T!==void 0&&!od&&(jd=Math.abs(T-xs(o)[D])),C(),k(!0)}if(t.contains(Ie))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$t(document,"mousemove",this._onTouchMove),$t(document,"touchmove",this._onTouchMove),$t(document,"pointermove",this._onTouchMove),$t(document,"dragover",Oi),$t(document,"mousemove",Oi),$t(document,"touchmove",Oi)},_offUpEvents:function(){var e=this.el.ownerDocument;$t(e,"mouseup",this._onDrop),$t(e,"touchend",this._onDrop),$t(e,"pointerup",this._onDrop),$t(e,"touchcancel",this._onDrop),$t(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(wn=Rn(Ie),Qo=Rn(Ie,o.draggable),ln("drop",this,{evt:e}),ts=Ie&&Ie.parentNode,wn=Rn(Ie),Qo=Rn(Ie,o.draggable),st.eventCanceled){this._nulling();return}vr=!1,od=!1,Ka=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),pm(this.cloneId),pm(this._dragStartId),this.nativeDraggable&&($t(document,"drop",this),$t(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Va&&rt(document.body,"user-select",""),rt(Ie,"transform",""),e&&($a&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(Xt===ts||Cs&&Cs.lastPutMode!=="clone")&&Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),Ie&&(this.nativeDraggable&&$t(Ie,"dragend",this),f0(Ie),Ie.style["will-change"]="",$a&&!vr&&yn(Ie,Cs?Cs.options.ghostClass:this.options.ghostClass,!1),yn(Ie,this.options.chosenClass,!1),Zs({sortable:this,name:"unchoose",toEl:ts,newIndex:null,newDraggableIndex:null,originalEvent:e}),Xt!==ts?(wn>=0&&(Zs({rootEl:ts,name:"add",toEl:ts,fromEl:Xt,originalEvent:e}),Zs({sortable:this,name:"remove",toEl:ts,originalEvent:e}),Zs({rootEl:ts,name:"sort",toEl:ts,fromEl:Xt,originalEvent:e}),Zs({sortable:this,name:"sort",toEl:ts,originalEvent:e})),Cs&&Cs.save()):wn!==yr&&wn>=0&&(Zs({sortable:this,name:"update",toEl:ts,originalEvent:e}),Zs({sortable:this,name:"sort",toEl:ts,originalEvent:e})),st.active&&((wn==null||wn===-1)&&(wn=yr,Qo=qa),Zs({sortable:this,name:"end",toEl:ts,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ln("nulling",this),Xt=Ie=ts=mt=Ui=Zt=Ed=Zo=Ii=Wn=$a=wn=Qo=yr=qa=hr=Wa=Cs=nd=st.dragged=st.ghost=st.clone=st.active=null,hc.forEach(function(e){e.checked=!0}),hc.length=c0=u0=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ie&&(this._onDragOver(e),sE(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)t=o[i],uo(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||lE(t));return e},sort:function(e,t){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];uo(l,this.options.draggable,i,!1)&&(o[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return uo(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var i=Ml.modifyOption(this,e,t);typeof i<"u"?o[e]=i:o[e]=t,e==="group"&&$x(o)},destroy:function(){ln("destroy",this);var e=this.el;e[Cn]=null,$t(e,"mousedown",this._onTapStart),$t(e,"touchstart",this._onTapStart),$t(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($t(e,"dragover",this),$t(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),pc.splice(pc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Zo){if(ln("hideClone",this),st.eventCanceled)return;rt(Zt,"display","none"),this.options.removeCloneOnHide&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),Zo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Zo){if(ln("showClone",this),st.eventCanceled)return;Ie.parentNode==Xt&&!this.options.group.revertClone?Xt.insertBefore(Zt,Ie):Ui?Xt.insertBefore(Zt,Ui):Xt.appendChild(Zt),this.options.group.revertClone&&this.animate(Ie,Zt),rt(Zt,"display",""),Zo=!1}}};function sE(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function rd(s,e,t,o,i,r,a,l){var c,u=s[Cn],m=u.options.onMove,h;return window.CustomEvent&&!Bo&&!Sl?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=s,c.dragged=t,c.draggedRect=o,c.related=i||e,c.relatedRect=r||xs(e),c.willInsertAfter=l,c.originalEvent=a,s.dispatchEvent(c),m&&(h=m.call(u,c,a)),h}function f0(s){s.draggable=!1}function nE(){fm=!1}function oE(s,e,t){var o=xs(Nr(t.el,0,t.options,!0)),i=10;return e?s.clientX<o.left-i||s.clientY<o.top&&s.clientX<o.right:s.clientY<o.top-i||s.clientY<o.bottom&&s.clientX<o.left}function iE(s,e,t){var o=xs(Cf(t.el,t.options.draggable)),i=10;return e?s.clientX>o.right+i||s.clientX<=o.right&&s.clientY>o.bottom&&s.clientX>=o.left:s.clientX>o.right&&s.clientY>o.top||s.clientX<=o.right&&s.clientY>o.bottom+i}function rE(s,e,t,o,i,r,a,l){var c=o?s.clientY:s.clientX,u=o?t.height:t.width,m=o?t.top:t.left,h=o?t.bottom:t.right,p=!1;if(!a){if(l&&jd<u*i){if(!Ka&&(Wa===1?c>m+u*r/2:c<h-u*r/2)&&(Ka=!0),Ka)p=!0;else if(Wa===1?c<m+jd:c>h-jd)return-Wa}else if(c>m+u*(1-i)/2&&c<h-u*(1-i)/2)return aE(e)}return p=p||a,p&&(c<m+u*r/2||c>h-u*r/2)?c>m+u/2?1:-1:0}function aE(s){return Rn(Ie)<Rn(s)?1:-1}function lE(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function dE(s){hc.length=0;for(var e=s.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&hc.push(o)}}function Rd(s){return setTimeout(s,0)}function pm(s){return clearTimeout(s)}au&&Tt(document,"touchmove",function(s){(st.active||vr)&&s.cancelable&&s.preventDefault()});st.utils={on:Tt,off:$t,css:rt,find:vx,is:function(e,t){return!!uo(e,t,e,!1)},extend:qP,throttle:yx,closest:uo,toggleClass:yn,clone:bx,index:Rn,nextTick:Rd,cancelNextTick:pm,detectDirection:kx,getChild:Nr};st.get=function(s){return s[Cn]};st.mount=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(st.utils=vo(vo({},st.utils),o.utils)),Ml.mount(o)})};st.create=function(s,e){return new st(s,e)};st.version=BP;var fs=[],Ca,hm,gm=!1,p0,h0,gc,Sa;function cE(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?Tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Tt(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Tt(document,"touchmove",this._handleFallbackAutoScroll):Tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?$t(document,"dragover",this._handleAutoScroll):($t(document,"pointermove",this._handleFallbackAutoScroll),$t(document,"touchmove",this._handleFallbackAutoScroll),$t(document,"mousemove",this._handleFallbackAutoScroll)),i1(),Id(),WP()},nulling:function(){gc=hm=Ca=gm=Sa=p0=h0=null,fs.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var i=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(gc=t,o||this.options.forceAutoScrollFallback||Sl||Bo||Va){g0(t,this.options,l,o);var c=ai(l,!0);gm&&(!Sa||r!==p0||a!==h0)&&(Sa&&i1(),Sa=setInterval(function(){var u=ai(document.elementFromPoint(r,a),!0);u!==c&&(c=u,Id()),g0(t,i.options,u,o)},10),p0=r,h0=a)}else{if(!this.options.bubbleScroll||ai(l,!0)===go()){Id();return}g0(t,this.options,ai(l,!1),!1)}}},No(s,{pluginName:"scroll",initializeByDefault:!0})}function Id(){fs.forEach(function(s){clearInterval(s.pid)}),fs=[]}function i1(){clearInterval(Sa)}var g0=yx(function(s,e,t,o){if(e.scroll){var i=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=go(),u=!1,m;hm!==t&&(hm=t,Id(),Ca=e.scroll,m=e.scrollFn,Ca===!0&&(Ca=ai(t,!0)));var h=0,p=Ca;do{var _=p,v=xs(_),x=v.top,w=v.bottom,b=v.left,k=v.right,C=v.width,$=v.height,A=void 0,R=void 0,T=_.scrollWidth,F=_.scrollHeight,L=rt(_),D=_.scrollLeft,N=_.scrollTop;_===c?(A=C<T&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),R=$<F&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(A=C<T&&(L.overflowX==="auto"||L.overflowX==="scroll"),R=$<F&&(L.overflowY==="auto"||L.overflowY==="scroll"));var P=A&&(Math.abs(k-i)<=a&&D+C<T)-(Math.abs(b-i)<=a&&!!D),U=R&&(Math.abs(w-r)<=a&&N+$<F)-(Math.abs(x-r)<=a&&!!N);if(!fs[h])for(var ye=0;ye<=h;ye++)fs[ye]||(fs[ye]={});(fs[h].vx!=P||fs[h].vy!=U||fs[h].el!==_)&&(fs[h].el=_,fs[h].vx=P,fs[h].vy=U,clearInterval(fs[h].pid),(P!=0||U!=0)&&(u=!0,fs[h].pid=setInterval((function(){o&&this.layer===0&&st.active._onTouchMove(gc);var le=fs[this.layer].vy?fs[this.layer].vy*l:0,de=fs[this.layer].vx?fs[this.layer].vx*l:0;typeof m=="function"&&m.call(st.dragged.parentNode[Cn],de,le,s,gc,fs[this.layer].el)!=="continue"||xx(fs[this.layer].el,de,le)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==c&&(p=ai(p,!1)));gm=u}},30),Mx=function(e){var t=e.originalEvent,o=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var u=o||r;l();var m=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(m.clientX,m.clientY);c(),u&&!u.el.contains(h)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function Sf(){}Sf.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Nr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Mx};No(Sf,{pluginName:"revertOnSpill"});function Mf(){}Mf.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,i=o||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Mx};No(Mf,{pluginName:"removeOnSpill"});st.mount(new cE);st.mount(Mf,Sf);function uE(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function mE(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function fE(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function pE(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function Tx(s,e){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})])}const hE={class:"cursor-pointer text-gray-600 hover:text-gray-700"},gE={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},_E={class:"py-1",role:"none"},vE=ve({__name:"SectionDropdown",props:{listId:{},listIndex:{}},emits:["listEdit"],setup(s){const e=s,t=rn();function o(){$d().confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){ce.delete(`lists/${e.listId}`).then(()=>{$d().hide(),t.data.lists.splice(e.listIndex,1)}).catch(()=>{$d().hide()})}})}return(i,r)=>(g(),re(f(Gs),{"close-outside":""},{trigger:W(()=>[n("span",hE,[S(f(fE),{class:"h-4 w-4"})])]),content:W(()=>[n("div",gE,[n("div",_E,[n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r[0]||(r[0]=Ve(a=>i.$emit("listEdit"),["prevent"]))},d(i.__("Edit")),1),n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o},d(i.__("Delete")),1)])])]),_:1}))}}),yE={class:"flex items-center py-2.5 px-2"},xE={key:0,class:"flex-1 ltr:pr-2 rtl:pl-2"},bE=["textContent"],wE={key:2,class:"ltr:ml-auto rtl:mr-auto"},kE=ve({__name:"SectionHeader",props:{id:{},index:{},name:{}},setup(s){const e=s,t=E(!1),o=E(""),i=E(null),r=E(e.name);function a(u){u.target.closest("#list-edit-input")||(t.value=!1,document.removeEventListener("click",a))}function l(){t.value=!0,o.value=r.value,setTimeout(function(){var u;(u=i.value)==null||u.focus(),document.addEventListener("click",a)})}function c(){o.value&&ce.patch(`lists/${e.id}`,{name:o.value}).then(()=>{r.value=o.value,t.value=!1,o.value="",document.removeEventListener("click",a)})}return(u,m)=>(g(),y("div",yE,[t.value?(g(),y("div",xE,[z(n("input",{id:"list-edit-input",ref_key:"input",ref:i,"onUpdate:modelValue":m[0]||(m[0]=h=>o.value=h),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:On(c,["enter"])},null,544),[[K,o.value]])])):j("",!0),t.value?j("",!0):(g(),y("div",{key:1,class:"px-2 py-[0.313rem] text-sm font-semibold leading-none text-gray-700",textContent:d(r.value)},null,8,bE)),u.can("task-list:update")||u.can("task-list:delete")?(g(),y("div",wE,[S(vE,{"list-id":s.id,"list-index":s.index,onListEdit:l},null,8,["list-id","list-index"])])):j("",!0)]))}}),os=hn("task",()=>{const s=E(!0),e=E({}),t=E({}),o=E(!1),i=E(null),r=E(null),a=E(null),l=E(!1),c=E(!1);function u(m){typeof m=="number"?(s.value=m,ce.get("tasks/"+m).then(({data:h})=>{s.value=!1,t.value=h.options,e.value=h.task})):(s.value=m.loading,ce.get("tasks/"+m.id).then(({data:h})=>{s.value=!1,t.value=h.options,h.value=h.task}))}return{checklistItemForm:r,commentForm:a,data:e,fetch:u,isContentForm:o,loading:s,newChecklistItemForm:c,newSubtaskForm:l,options:t,subtaskForm:i}}),$E=ve({__name:"TaskCheckbox",setup(s){const e=js("tasks")(),t=rn(),o=os(),i=E(!1);function r(l){i.value||(i.value=!0,ce.patch(`tasks/${l}/complete`).then(({data:c})=>{var m;i.value=!1,o.data.completed_at=c.completed_at,a();const u=Ft().components.findIndex(h=>h.component.__name=="TaskModal");((m=Ft().components[u].payload)==null?void 0:m.page)=="tasks"&&e.fetch({loading:!1})}))}function a(){t.fetch(o.data.project_id)}return(l,c)=>(g(),y("span",{class:X(["mt-0.5 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":f(o).data.completed_at,"border border-gray-300":!f(o).data.completed_at}]),onClick:c[0]||(c[0]=u=>r(f(o).data.id))},[...c[1]||(c[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}});function Dx(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let rr=Dx();function CE(s){rr=s}const Ax=/[&<>"']/,SE=new RegExp(Ax.source,"g"),Px=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ME=new RegExp(Px.source,"g"),TE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r1=s=>TE[s];function Ns(s,e){if(e){if(Ax.test(s))return s.replace(SE,r1)}else if(Px.test(s))return s.replace(ME,r1);return s}const DE=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ex(s){return s.replace(DE,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const AE=/(^|[^\[])\^/g;function Ht(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(o,i)=>(i=i.source||i,i=i.replace(AE,"$1"),s=s.replace(o,i),t),getRegex:()=>new RegExp(s,e)};return t}const PE=/[^\w:]/g,EE=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function a1(s,e,t){if(s){let o;try{o=decodeURIComponent(Ex(t)).replace(PE,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}e&&!EE.test(t)&&(t=OE(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const ad={},jE=/^[^:]+:\/*[^/]*$/,RE=/^([^:]+:)[\s\S]*$/,IE=/^([^:]+:\/*[^/]*)[\s\S]*$/;function OE(s,e){ad[" "+s]||(jE.test(s)?ad[" "+s]=s+"/":ad[" "+s]=Od(s,"/",!0)),s=ad[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(RE,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(IE,"$1")+e:s+e}const _c={exec:function(){}};function l1(s,e){const t=s.replace(/\|/g,(r,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),o=t.split(/ \|/);let i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Od(s,e,t){const o=s.length;if(o===0)return"";let i=0;for(;i<o;){const r=s.charAt(o-i-1);if(r===e&&!t)i++;else if(r!==e&&t)i++;else break}return s.slice(0,o-i)}function LE(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let o=0,i=0;for(;i<t;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])o++;else if(s[i]===e[1]&&(o--,o<0))return i;return-1}function FE(s){s&&s.sanitize&&s.silent}function d1(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function c1(s,e,t,o){const i=e.href,r=e.title?Ns(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){o.state.inLink=!0;const l={type:"link",raw:t,href:i,title:r,text:a,tokens:o.inlineTokens(a)};return o.state.inLink=!1,l}return{type:"image",raw:t,href:i,title:r,text:Ns(a)}}function NE(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const o=t[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[a]=r;return a.length>=o.length?i.slice(o.length):i}).join(`
`)}class Tf{constructor(e){this.options=e||rr}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Od(o,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const o=t[0],i=NE(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let o=t[2].trim();if(/#$/.test(o)){const i=Od(o,"#");(this.options.pedantic||!i||/ $/.test(i))&&(o=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(o);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let o,i,r,a,l,c,u,m,h,p,_,v,x=t[1].trim();const w=x.length>1,b={type:"list",raw:"",ordered:w,start:w?+x.slice(0,-1):"",loose:!1,items:[]};x=w?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=w?x:"[*+-]");const k=new RegExp(`^( {0,3}${x})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(t=k.exec(e))||this.rules.block.hr.test(e)));){if(o=t[0],e=e.substring(o.length),m=t[2].split(`
`,1)[0].replace(/^\t+/,$=>" ".repeat(3*$.length)),h=e.split(`
`,1)[0],this.options.pedantic?(a=2,_=m.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,_=m.slice(a),a+=t[1].length),c=!1,!m&&/^ *$/.test(h)&&(o+=h+`
`,e=e.substring(h.length+1),v=!0),!v){const $=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),A=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),R=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(R.test(h)||T.test(h)||$.test(h)||A.test(e)));){if(h.search(/[^ ]/)>=a||!h.trim())_+=`
`+h.slice(a);else{if(c||m.search(/[^ ]/)>=4||R.test(m)||T.test(m)||A.test(m))break;_+=`
`+h}!c&&!h.trim()&&(c=!0),o+=p+`
`,e=e.substring(p.length+1),m=h.slice(a)}}b.loose||(u?b.loose=!0:/\n *\n *$/.test(o)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(_),i&&(r=i[0]!=="[ ] ",_=_.replace(/^\[[ xX]\] +/,""))),b.items.push({type:"list_item",raw:o,task:!!i,checked:r,loose:!1,text:_}),b.raw+=o}b.items[b.items.length-1].raw=o.trimRight(),b.items[b.items.length-1].text=_.trimRight(),b.raw=b.raw.trimRight();const C=b.items.length;for(l=0;l<C;l++)if(this.lexer.state.top=!1,b.items[l].tokens=this.lexer.blockTokens(b.items[l].text,[]),!b.loose){const $=b.items[l].tokens.filter(R=>R.type==="space"),A=$.length>0&&$.some(R=>/\n.*\n/.test(R.raw));b.loose=A}if(b.loose)for(l=0;l<C;l++)b.items[l].loose=!0;return b}}html(e){const t=this.rules.block.html.exec(e);if(t){const o={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):Ns(t[0]);o.type="paragraph",o.text=i,o.tokens=this.lexer.inline(i)}return o}}def(e){const t=this.rules.block.def.exec(e);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const o={type:"table",header:l1(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){o.raw=t[0];let i=o.align.length,r,a,l,c;for(r=0;r<i;r++)/^ *-+: *$/.test(o.align[r])?o.align[r]="right":/^ *:-+: *$/.test(o.align[r])?o.align[r]="center":/^ *:-+ *$/.test(o.align[r])?o.align[r]="left":o.align[r]=null;for(i=o.rows.length,r=0;r<i;r++)o.rows[r]=l1(o.rows[r],o.header.length).map(u=>({text:u}));for(i=o.header.length,a=0;a<i;a++)o.header[a].tokens=this.lexer.inline(o.header[a].text);for(i=o.rows.length,a=0;a<i;a++)for(c=o.rows[a],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return o}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ns(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ns(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const a=Od(o.slice(0,-1),"\\");if((o.length-a.length)%2===0)return}else{const a=LE(t[2],"()");if(a>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(o)?i=i.slice(1):i=i.slice(1,-1)),c1(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){let i=(o[2]||o[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const r=o[0].charAt(0);return{type:"text",raw:r,text:r}}return c1(o,i,o[0],this.lexer)}}emStrong(e,t,o=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&o.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(o===""||this.rules.inline.punctuation.exec(o))){const a=i[0].length-1;let l,c,u=a,m=0;const h=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+a);(i=h.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=l.length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&a%3&&!((a+c)%3)){m+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+m);const p=e.slice(0,a+i.index+(i[0].length-l.length)+c);if(Math.min(a,c)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const _=p.slice(2,-2);return{type:"strong",raw:p,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let o=t[2].replace(/\n/g," ");const i=/[^ ]/.test(o),r=/^ /.test(o)&&/ $/.test(o);return i&&r&&(o=o.substring(1,o.length-1)),o=Ns(o,!0),{type:"codespan",raw:t[0],text:o}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const o=this.rules.inline.autolink.exec(e);if(o){let i,r;return o[2]==="@"?(i=Ns(this.options.mangle?t(o[1]):o[1]),r="mailto:"+i):(i=Ns(o[1]),r=i),{type:"link",raw:o[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let o;if(o=this.rules.inline.url.exec(e)){let i,r;if(o[2]==="@")i=Ns(this.options.mangle?t(o[0]):o[0]),r="mailto:"+i;else{let a;do a=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(a!==o[0]);i=Ns(o[0]),o[1]==="www."?r="http://"+o[0]:r=o[0]}return{type:"link",raw:o[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const o=this.rules.inline.text.exec(e);if(o){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):Ns(o[0]):o[0]:i=Ns(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:i}}}}const et={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:_c,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};et._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;et._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;et.def=Ht(et.def).replace("label",et._label).replace("title",et._title).getRegex();et.bullet=/(?:[*+-]|\d{1,9}[.)])/;et.listItemStart=Ht(/^( *)(bull) */).replace("bull",et.bullet).getRegex();et.list=Ht(et.list).replace(/bull/g,et.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+et.def.source+")").getRegex();et._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";et._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;et.html=Ht(et.html,"i").replace("comment",et._comment).replace("tag",et._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();et.paragraph=Ht(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.blockquote=Ht(et.blockquote).replace("paragraph",et.paragraph).getRegex();et.normal={...et};et.gfm={...et.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};et.gfm.table=Ht(et.gfm.table).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.gfm.paragraph=Ht(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",et.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.pedantic={...et.normal,html:Ht(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",et._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_c,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ht(et.normal._paragraph).replace("hr",et.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",et.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const qe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_c,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_c,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};qe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";qe.punctuation=Ht(qe.punctuation).replace(/punctuation/g,qe._punctuation).getRegex();qe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;qe.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;qe._comment=Ht(et._comment).replace("(?:-->|$)","-->").getRegex();qe.emStrong.lDelim=Ht(qe.emStrong.lDelim).replace(/punct/g,qe._punctuation).getRegex();qe.emStrong.rDelimAst=Ht(qe.emStrong.rDelimAst,"g").replace(/punct/g,qe._punctuation).getRegex();qe.emStrong.rDelimUnd=Ht(qe.emStrong.rDelimUnd,"g").replace(/punct/g,qe._punctuation).getRegex();qe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;qe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;qe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;qe.autolink=Ht(qe.autolink).replace("scheme",qe._scheme).replace("email",qe._email).getRegex();qe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;qe.tag=Ht(qe.tag).replace("comment",qe._comment).replace("attribute",qe._attribute).getRegex();qe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;qe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;qe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;qe.link=Ht(qe.link).replace("label",qe._label).replace("href",qe._href).replace("title",qe._title).getRegex();qe.reflink=Ht(qe.reflink).replace("label",qe._label).replace("ref",et._label).getRegex();qe.nolink=Ht(qe.nolink).replace("ref",et._label).getRegex();qe.reflinkSearch=Ht(qe.reflinkSearch,"g").replace("reflink",qe.reflink).replace("nolink",qe.nolink).getRegex();qe.normal={...qe};qe.pedantic={...qe.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ht(/^!?\[(label)\]\((.*?)\)/).replace("label",qe._label).getRegex(),reflink:Ht(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",qe._label).getRegex()};qe.gfm={...qe.normal,escape:Ht(qe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};qe.gfm.url=Ht(qe.gfm.url,"i").replace("email",qe.gfm._extended_email).getRegex();qe.breaks={...qe.gfm,br:Ht(qe.br).replace("{2,}","*").getRegex(),text:Ht(qe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function zE(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function u1(s){let e="",t,o;const i=s.length;for(t=0;t<i;t++)o=s.charCodeAt(t),Math.random()>.5&&(o="x"+o.toString(16)),e+="&#"+o+";";return e}class _i{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||rr,this.options.tokenizer=this.options.tokenizer||new Tf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:et.normal,inline:qe.normal};this.options.pedantic?(t.block=et.pedantic,t.inline=qe.pedantic):this.options.gfm&&(t.block=et.gfm,this.options.breaks?t.inline=qe.breaks:t.inline=qe.gfm),this.tokenizer.rules=t}static get rules(){return{block:et,inline:qe}}static lex(e,t){return new _i(t).lex(e)}static lexInline(e,t){return new _i(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,u)=>c+"    ".repeat(u.length));let o,i,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(o=l.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(m){u=m.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){i=t[t.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o),a=r.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let o,i,r,a=e,l,c,u;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)m.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+d1("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+d1("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),i=t[t.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,a,u)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e,u1)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e,u1))){e=e.substring(o.raw.length),t.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(function(_){p=_.call({lexer:this},h),typeof p=="number"&&p>=0&&(m=Math.min(m,p))}),m<1/0&&m>=0&&(r=e.substring(0,m+1))}if(o=this.tokenizer.inlineText(r,zE)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(u=o.raw.slice(-1)),c=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(m)}}return t}}class Df{constructor(e){this.options=e||rr}code(e,t,o){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(o=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ns(i)+'">'+(o?e:Ns(e,!0))+`</code></pre>
`:"<pre><code>"+(o?e:Ns(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,o,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(o);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,o){const i=t?"ol":"ul",r=t&&o!==1?' start="'+o+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+e+`</${o}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,o){if(e=a1(this.options.sanitize,this.options.baseUrl,e),e===null)return o;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+o+"</a>",i}image(e,t,o){if(e=a1(this.options.sanitize,this.options.baseUrl,e),e===null)return o;let i=`<img src="${e}" alt="${o}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class jx{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,o){return""+o}image(e,t,o){return""+o}br(){return""}}class Rx{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let o=e,i=0;if(this.seen.hasOwnProperty(o)){i=this.seen[e];do i++,o=e+"-"+i;while(this.seen.hasOwnProperty(o))}return t||(this.seen[e]=i,this.seen[o]=0),o}slug(e,t={}){const o=this.serialize(e);return this.getNextSafeSlug(o,t.dryrun)}}class vi{constructor(e){this.options=e||rr,this.options.renderer=this.options.renderer||new Df,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jx,this.slugger=new Rx}static parse(e,t){return new vi(t).parse(e)}static parseInline(e,t){return new vi(t).parseInline(e)}parse(e,t=!0){let o="",i,r,a,l,c,u,m,h,p,_,v,x,w,b,k,C,$,A,R;const T=e.length;for(i=0;i<T;i++){if(_=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_.type]&&(R=this.options.extensions.renderers[_.type].call({parser:this},_),R!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_.type))){o+=R||"";continue}switch(_.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(_.tokens),_.depth,Ex(this.parseInline(_.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(_.text,_.lang,_.escaped);continue}case"table":{for(h="",m="",l=_.header.length,r=0;r<l;r++)m+=this.renderer.tablecell(this.parseInline(_.header[r].tokens),{header:!0,align:_.align[r]});for(h+=this.renderer.tablerow(m),p="",l=_.rows.length,r=0;r<l;r++){for(u=_.rows[r],m="",c=u.length,a=0;a<c;a++)m+=this.renderer.tablecell(this.parseInline(u[a].tokens),{header:!1,align:_.align[a]});p+=this.renderer.tablerow(m)}o+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(_.tokens),o+=this.renderer.blockquote(p);continue}case"list":{for(v=_.ordered,x=_.start,w=_.loose,l=_.items.length,p="",r=0;r<l;r++)k=_.items[r],C=k.checked,$=k.task,b="",k.task&&(A=this.renderer.checkbox(C),w?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=A+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=A+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:A}):b+=A),b+=this.parse(k.tokens,w),p+=this.renderer.listitem(b,$,C);o+=this.renderer.list(p,v,x);continue}case"html":{o+=this.renderer.html(_.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(_.tokens));continue}case"text":{for(p=_.tokens?this.parseInline(_.tokens):_.text;i+1<T&&e[i+1].type==="text";)_=e[++i],p+=`
`+(_.tokens?this.parseInline(_.tokens):_.text);o+=t?this.renderer.paragraph(p):p;continue}default:{const F='Token with "'+_.type+'" type was not found.';if(this.options.silent)return;throw new Error(F)}}}return o}parseInline(e,t){t=t||this.renderer;let o="",i,r,a;const l=e.length;for(i=0;i<l;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){o+=a||"";continue}switch(r.type){case"escape":{o+=t.text(r.text);break}case"html":{o+=t.html(r.text);break}case"link":{o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{o+=t.image(r.href,r.title,r.text);break}case"strong":{o+=t.strong(this.parseInline(r.tokens,t));break}case"em":{o+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{o+=t.codespan(r.text);break}case"br":{o+=t.br();break}case"del":{o+=t.del(this.parseInline(r.tokens,t));break}case"text":{o+=t.text(r.text);break}default:{const c='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(c)}}}return o}}class vc{constructor(e){this.options=e||rr}preprocess(e){return e}postprocess(e){return e}}He(vc,"passThroughHooks",new Set(["preprocess","postprocess"]));function UE(s,e,t){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const i="<p>An error occurred:</p><pre>"+Ns(o.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(o);if(t){t(o);return}throw o}}function Ix(s,e){return(t,o,i)=>{typeof o=="function"&&(i=o,o=null);const r={...o};o={...Xe.defaults,...r};const a=UE(o.silent,o.async,i);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(FE(o),o.hooks&&(o.hooks.options=o),i){const l=o.highlight;let c;try{o.hooks&&(t=o.hooks.preprocess(t)),c=s(t,o)}catch(h){return a(h)}const u=function(h){let p;if(!h)try{o.walkTokens&&Xe.walkTokens(c,o.walkTokens),p=e(c,o),o.hooks&&(p=o.hooks.postprocess(p))}catch(_){h=_}return o.highlight=l,h?a(h):i(null,p)};if(!l||l.length<3||(delete o.highlight,!c.length))return u();let m=0;Xe.walkTokens(c,function(h){h.type==="code"&&(m++,setTimeout(()=>{l(h.text,h.lang,function(p,_){if(p)return u(p);_!=null&&_!==h.text&&(h.text=_,h.escaped=!0),m--,m===0&&u()})},0))}),m===0&&u();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.walkTokens?Promise.all(Xe.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(t=o.hooks.preprocess(t));const l=s(t,o);o.walkTokens&&Xe.walkTokens(l,o.walkTokens);let c=e(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}}function Xe(s,e,t){return Ix(_i.lex,vi.parse)(s,e,t)}Xe.options=Xe.setOptions=function(s){return Xe.defaults={...Xe.defaults,...s},CE(Xe.defaults),Xe};Xe.getDefaults=Dx;Xe.defaults=rr;Xe.use=function(...s){const e=Xe.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const o={...t};if(o.async=Xe.defaults.async||o.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),o.extensions=e),t.renderer){const i=Xe.defaults.renderer||new Df;for(const r in t.renderer){const a=i[r];i[r]=(...l)=>{let c=t.renderer[r].apply(i,l);return c===!1&&(c=a.apply(i,l)),c}}o.renderer=i}if(t.tokenizer){const i=Xe.defaults.tokenizer||new Tf;for(const r in t.tokenizer){const a=i[r];i[r]=(...l)=>{let c=t.tokenizer[r].apply(i,l);return c===!1&&(c=a.apply(i,l)),c}}o.tokenizer=i}if(t.hooks){const i=Xe.defaults.hooks||new vc;for(const r in t.hooks){const a=i[r];vc.passThroughHooks.has(r)?i[r]=l=>{if(Xe.defaults.async)return Promise.resolve(t.hooks[r].call(i,l)).then(u=>a.call(i,u));const c=t.hooks[r].call(i,l);return a.call(i,c)}:i[r]=(...l)=>{let c=t.hooks[r].apply(i,l);return c===!1&&(c=a.apply(i,l)),c}}o.hooks=i}if(t.walkTokens){const i=Xe.defaults.walkTokens;o.walkTokens=function(r){let a=[];return a.push(t.walkTokens.call(this,r)),i&&(a=a.concat(i.call(this,r))),a}}Xe.setOptions(o)})};Xe.walkTokens=function(s,e){let t=[];for(const o of s)switch(t=t.concat(e.call(Xe,o)),o.type){case"table":{for(const i of o.header)t=t.concat(Xe.walkTokens(i.tokens,e));for(const i of o.rows)for(const r of i)t=t.concat(Xe.walkTokens(r.tokens,e));break}case"list":{t=t.concat(Xe.walkTokens(o.items,e));break}default:Xe.defaults.extensions&&Xe.defaults.extensions.childTokens&&Xe.defaults.extensions.childTokens[o.type]?Xe.defaults.extensions.childTokens[o.type].forEach(function(i){t=t.concat(Xe.walkTokens(o[i],e))}):o.tokens&&(t=t.concat(Xe.walkTokens(o.tokens,e)))}return t};Xe.parseInline=Ix(_i.lexInline,vi.parseInline);Xe.Parser=vi;Xe.parser=vi.parse;Xe.Renderer=Df;Xe.TextRenderer=jx;Xe.Lexer=_i;Xe.lexer=_i.lex;Xe.Tokenizer=Tf;Xe.Slugger=Rx;Xe.Hooks=vc;Xe.parse=Xe;Xe.options;Xe.setOptions;Xe.use;Xe.walkTokens;Xe.parseInline;vi.parse;_i.lex;const BE={class:"text-base font-semibold text-gray-800"},VE=["innerHTML"],HE={key:1,class:"mt-4 flex items-center text-sm font-light text-gray-500"},qE=ve({__name:"TaskContent",setup(s){const e=os(),t=new Xe.Renderer,o=t.link;return t.link=(i,r,a)=>o.call(t,i,r,a).replace(/^<a /,'<a onclick="event.stopPropagation()" target="_blank" rel="noreferrer noopener nofollow" '),(i,r)=>(g(),y("div",{onClick:r[0]||(r[0]=a=>i.can("task:update")?f(e).isContentForm=!0:!1)},[n("h2",BE,d(f(e).data.title),1),f(e).data.description?(g(),y("article",{key:0,class:"prose prose-sm mt-2 break-all text-sm text-gray-700",innerHTML:f(Xe).parse(f(e).data.description||"",{breaks:!0,renderer:f(t)})},null,8,VE)):(g(),y("p",HE,[S(f(Ev),{class:"mr-2 h-4 w-4"}),J(" "+d(i.__("Description")),1)]))]))}});var Li,ld,Ya=typeof Map=="function"?new Map:(Li=[],ld=[],{has:function(s){return Li.indexOf(s)>-1},get:function(s){return ld[Li.indexOf(s)]},set:function(s,e){Li.indexOf(s)===-1&&(Li.push(s),ld.push(e))},delete:function(s){var e=Li.indexOf(s);e>-1&&(Li.splice(e,1),ld.splice(e,1))}}),Ox=function(s){return new Event(s,{bubbles:!0})};try{new Event("test")}catch{Ox=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function WE(s){var e=Ya.get(s);e&&e.destroy()}function KE(s){var e=Ya.get(s);e&&e.update()}var Ma=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((Ma=function(s){return s}).destroy=function(s){return s},Ma.update=function(s){return s}):((Ma=function(s,e){return s&&Array.prototype.forEach.call(s.length?s:[s],function(t){return function(o){if(o&&o.nodeName&&o.nodeName==="TEXTAREA"&&!Ya.has(o)){var i,r=null,a=null,l=null,c=function(){o.clientWidth!==a&&p()},u=(function(_){window.removeEventListener("resize",c,!1),o.removeEventListener("input",p,!1),o.removeEventListener("keyup",p,!1),o.removeEventListener("autosize:destroy",u,!1),o.removeEventListener("autosize:update",p,!1),Object.keys(_).forEach(function(v){o.style[v]=_[v]}),Ya.delete(o)}).bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",u,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",p,!1),window.addEventListener("resize",c,!1),o.addEventListener("input",p,!1),o.addEventListener("autosize:update",p,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",Ya.set(o,{destroy:u,update:p}),(i=window.getComputedStyle(o,null)).resize==="vertical"?o.style.resize="none":i.resize==="both"&&(o.style.resize="horizontal"),r=i.boxSizing==="content-box"?-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),isNaN(r)&&(r=0),p()}function m(_){var v=o.style.width;o.style.width="0px",o.style.width=v,o.style.overflowY=_}function h(){if(o.scrollHeight!==0){var _=function(v){for(var x=[];v&&v.parentNode&&v.parentNode instanceof Element;)v.parentNode.scrollTop&&(v.parentNode.style.scrollBehavior="auto",x.push([v.parentNode,v.parentNode.scrollTop])),v=v.parentNode;return function(){return x.forEach(function(w){var b=w[0];b.scrollTop=w[1],b.style.scrollBehavior=null})}}(o);o.style.height="",o.style.height=o.scrollHeight+r+"px",a=o.clientWidth,_()}}function p(){h();var _=Math.round(parseFloat(o.style.height)),v=window.getComputedStyle(o,null),x=v.boxSizing==="content-box"?Math.round(parseFloat(v.height)):o.offsetHeight;if(x<_?v.overflowY==="hidden"&&(m("scroll"),h(),x=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):v.overflowY!=="hidden"&&(m("hidden"),h(),x=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),l!==x){l=x;var w=Ox("autosize:resized");try{o.dispatchEvent(w)}catch{}}}}(t)}),s}).destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],WE),s},Ma.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],KE),s});var Lx=Ma;const YE={class:"overflow-hidden rounded-md border"},GE=["onKeydown"],XE=["onKeydown"],JE={class:"mt-2"},QE=ve({__name:"TaskContentForm",setup(s){Ne(()=>{document.querySelector(".task-title").focus(),Lx(document.querySelectorAll(".autosize"))});const e=os(),t=E(!1),o=E(e.data.title),i=E(e.data.description);function r(){if(!t.value){if(e.data.title==o.value&&e.data.description==i.value){a();return}t.value=!0,ce.patch(`tasks/${e.data.id}`,{title:o.value,description:i.value}).then(()=>{t.value=!1,e.data.title=o.value,e.data.description=i.value,a()})}}function a(){o.value="",i.value="",e.isContentForm=!1}return(l,c)=>(g(),y("section",{class:X({"opacity-50":t.value})},[n("div",YE,[z(n("textarea",{"onUpdate:modelValue":c[0]||(c[0]=u=>o.value=u),class:"autosize task-title block h-8 w-full resize-none border-0 px-2 pt-2 text-base font-semibold text-gray-800 placeholder:text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Task",onKeydown:[On(Ve(r,["prevent"]),["enter"]),On(a,["esc"])]},null,40,GE),[[K,o.value]]),z(n("textarea",{"onUpdate:modelValue":c[1]||(c[1]=u=>i.value=u),class:"autosize task-description block h-14 w-full resize-none border-0 px-2 py-2 text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Description",onKeydown:[On(Ve(r,["ctrl"]),["enter"]),On(a,["esc"])]},null,40,XE),[[K,i.value]])]),n("div",JE,[n("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r},d(l.__("Save")),1),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:a},d(l.__("Cancel")),1)])],2))}}),ZE={class:"flex"},ej={class:"flex-1 pl-4"},tj=ve({__name:"TaskMain",setup(s){const e=os();return(t,o)=>(g(),y("div",ZE,[S($E),n("div",ej,[f(e).isContentForm?(g(),re(QE,{key:0})):(g(),re(qE,{key:1}))])]))}}),sj=ve({__name:"ChecklistItemCheckbox",props:{id:{},index:{},isCompleted:{}},setup(s){const e=s,t=os(),o=rn(),i=E(!1);function r(){i.value||(i.value=!0,ce.patch(`checklist-item/${e.id}/complete`).then(({data:l})=>{i.value=!1,t.data.checklists[0].checklist_items[e.index].completed_at=l.completed_at,a()}))}function a(){o.fetch(t.data.project_id)}return(l,c)=>(g(),y("span",{class:X(["mt-px mr-2 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":s.isCompleted,"border border-gray-300":!s.isCompleted}]),onClick:r},[...c[0]||(c[0]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}}),nj={class:"group relative flex"},oj={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},ij=ve({__name:"ChecklistItem",props:{id:{},index:{},item:{},isCompleted:{}},setup(s){const e=s,t=os(),o=E(!1),i=E(!1),r=rn();function a(){i.value||(i.value=!0,ce.delete(`checklist-item/${e.id}`).then(({data:c})=>{i.value=!1,c.success&&(t.data.checklists[0].checklist_items.splice(e.index,1),l())}))}function l(){r.fetch(t.data.project_id)}return(c,u)=>(g(),y("div",nj,[S(sj,{id:s.id,index:s.index,"is-completed":s.isCompleted||null},null,8,["id","index","is-completed"]),n("p",{class:"flex-1 text-sm text-gray-700",onClick:u[0]||(u[0]=m=>c.can("task:update")?f(t).checklistItemForm=s.index:!1)},d(s.item),1),o.value?(g(),y("div",{key:0,class:X(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":i.value}])},[u[4]||(u[4]=n("span",{class:"mr-2 text-sm text-gray-600"},"Are you sure to delete?",-1)),S(f(Yt),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:a}),S(f(mn),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:u[1]||(u[1]=m=>o.value=!1)})],2)):(g(),y("div",oj,[c.can("task:update")?(g(),y("span",{key:0,class:"mr-1",onClick:u[2]||(u[2]=m=>f(t).checklistItemForm=s.index)},[S(f(Wr),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900"})])):j("",!0),c.can("task:delete")?(g(),re(f(Gt),{key:1,class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:u[3]||(u[3]=m=>o.value=!0)})):j("",!0)]))]))}}),m1=ve({__name:"ChecklistItemForm",props:{id:{},index:{},item:{}},setup(s){const e=s;Ne(()=>{document.querySelector(".item-input").focus()});const t=os(),o=E(!1),i=E(e.item),r=rn();function a(){t.checklistItemForm=null,t.newChecklistItemForm=!1}function l(){if(o.value||!i.value)return;if(e.item==i.value&&e.id){a();return}o.value=!0;const h=e.id?"patch":"post",p=e.id?`checklist-item/${e.id}`:"checklist-item";ce[h](p,{title:i.value,task_id:t.data.id}).then(({data:_})=>{o.value=!1,e.id?u(_):c(_),e.id?a():i.value="",m()})}function c(h){t.data.checklists.length==0&&(t.data.checklists=[{checklist_items:[]}]),t.data.checklists[0].checklist_items.push(h)}function u(h){t.data.checklists[0].checklist_items[e.index||0]=h}function m(){r.fetch(t.data.project_id)}return(h,p)=>(g(),y("div",{class:X(["flex",{"opacity-50":o.value}])},[z(n("input",{"onUpdate:modelValue":p[0]||(p[0]=_=>i.value=_),type:"text",class:"item-input block w-full flex-1 rounded-none border-gray-300 text-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50 ltr:rounded-l-md rtl:rounded-r-md",placeholder:"Enter checklist item",onKeyup:On(l,["enter"]),onKeydown:On(a,["esc"])},null,544),[[K,i.value]]),n("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px rtl:-mr-px rtl:space-x-reverse",onClick:a},[...p[1]||(p[1]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),n("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px ltr:rounded-r-md rtl:-mr-px rtl:space-x-reverse rtl:rounded-l-md",onClick:l},[...p[2]||(p[2]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])],2))}}),rj={id:"checklist",class:"mt-8"},aj={class:"flex"},lj={class:"flex-1 border-b pb-2"},dj={class:"text-sm font-medium text-gray-800"},cj={class:"ml-2 text-sm font-light text-gray-600"},uj={class:"pl-8 pt-4"},mj={class:"space-y-4"},fj={class:"pl-2 text-sm text-gray-600 group-hover:text-gray-800"},pj=ve({__name:"Checklist",setup(s){const e=os();e.checklistItemForm=null,e.newChecklistItemForm=!1;function t(){if(e.data.checklists.length)return e.data.checklists[0].checklist_items.filter(o=>o.completed_at).length+"/"+e.data.checklists[0].checklist_items.length}return(o,i)=>(g(),y("section",rj,[S(f(Qc),{open:!0},{trigger:W(({open:r})=>[n("div",aj,[(g(),y("svg",{class:X(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!r}]),viewBox:"0 0 16 16"},[...i[1]||(i[1]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("div",lj,[n("span",dj,d(o.__("Checklist")),1),n("span",cj,d(t()),1)])])]),content:W(()=>[n("div",uj,[n("div",mj,[(g(!0),y(oe,null,ue(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items:[],(r,a)=>(g(),re(Xn(f(e).checklistItemForm==a?m1:ij),{key:r.id,id:r.id,index:a,item:r.title,"is-completed":r.completed_at||null},null,8,["id","index","item","is-completed"]))),128))]),!f(e).newChecklistItemForm&&o.can("task:update")?(g(),y("button",{key:0,class:X(["group flex items-center",{"mt-6":(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items.length:0)>0}]),onClick:i[0]||(i[0]=r=>f(e).newChecklistItemForm=!0)},[i[2]||(i[2]=n("svg",{class:"h-4 w-4 text-gray-600 group-hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),n("span",fj,d(o.__("Add item")),1)],2)):j("",!0),f(e).newChecklistItemForm?(g(),re(m1,{key:1,class:X({"mt-6":(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items.length:0)>0})},null,8,["class"])):j("",!0)])]),_:1})]))}}),hj={class:"cursor-pointer"},gj={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},_j={class:"px-6 py-4"},vj={class:"mb-2"},yj=["aria-label"],xj=ve({__name:"TaskShareDropdown",setup(s){const e=E(!1),t=E(window.location.href),o=E(null),i=E("Copy to Clipboard");function r(m){a(),m&&setTimeout(function(){l()})}function a(){navigator.clipboard?e.value=!0:e.value=!1}function l(){var m,h;(m=o.value)==null||m.focus(),(h=o.value)==null||h.select()}function c(){var m,h;navigator.clipboard.writeText(((m=o.value)==null?void 0:m.value)||""),i.value="Copied: "+((h=o.value)==null?void 0:h.value)}function u(){i.value="Copy to Clipboard"}return(m,h)=>(g(),re(f(Gs),{"close-outside":"",onToggle:r},{trigger:W(()=>[n("span",hj,[S(f(e$),{class:"h-4 w-4 text-gray-600 hover:text-gray-800"})])]),content:W(()=>[n("div",gj,[n("div",_j,[h[1]||(h[1]=n("h3",{class:"mb-4 text-sm font-medium text-gray-700"},"Share URL",-1)),n("section",vj,[n("div",{class:"flex w-full items-center rounded-md border border-gray-300 px-3 py-2",onClick:l},[z(n("input",{ref_key:"input",ref:o,"onUpdate:modelValue":h[0]||(h[0]=p=>t.value=p),type:"text",readonly:"",class:"flex-1 border-0 py-0 px-0 text-sm text-gray-600 focus:ring-0"},null,512),[[K,t.value]]),e.value?(g(),y("span",{key:0,class:"ml-2 block w-4 cursor-pointer text-gray-500 hover:text-gray-800","aria-label":i.value,"data-cooltipz-dir":"bottom",onClick:c,onMouseover:u},[S(f(u$),{class:"h-4 w-4"})],40,yj)):j("",!0)])])])])]),_:1}))}}),bj={class:"py-3.5"},wj={class:"flex items-center px-2"},kj={class:"text-sm font-medium text-gray-600"},$j=ve({__name:"TaskShare",setup(s){return(e,t)=>(g(),y("section",bj,[n("div",wj,[n("h2",kj,d(e.__("Share")),1),S(xj,{class:"ml-auto"})])]))}}),Cj={class:"py-3"},Sj={class:"px-2 text-sm font-medium text-gray-600"},Mj={key:0,class:"mt-2 space-y-2 px-2"},Tj=["disabled"],Dj=["disabled"],Aj={key:1,class:"mt-2 space-y-2 px-2"},Pj=ve({__name:"TaskDelete",setup(s){const e=os(),t=rn(),o=E(!1),i=E(!1);function r(){t.fetch(e.data.project_id)}function a(){o.value||(o.value=!0,ce.patch("tasks/"+e.data.id+"/archive").then(()=>{o.value=!1,r(),e.data.deleted_at="archived",l()}))}function l(){const c=`/projects/${e.data.project_id}`;history.replaceState(history.state,"",c),Ft().pop()}return(c,u)=>(g(),y("section",Cj,[n("h2",Sj,d(c.__("Delete")),1),i.value?(g(),y("div",Mj,[n("button",{class:"flex w-full items-center rounded border border-transparent bg-red-500 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-600 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:o.value,onClick:a},[S(f(Gt),{class:"mr-2 h-3.5 w-3.5"}),J(" "+d(c.__("Are you sure")),1)],8,Tj),n("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:o.value,onClick:u[0]||(u[0]=m=>i.value=!1)},[S(f(uE),{class:"mr-2 h-3.5 w-3.5"}),J(" "+d(c.__("Cancel")),1)],8,Dj)])):(g(),y("div",Aj,[n("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0",onClick:u[1]||(u[1]=m=>i.value=!0)},[S(f(Gt),{class:"mr-2 h-3.5 w-3.5"}),u[2]||(u[2]=J(" Delete ",-1))])]))]))}});var _0=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Mr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(s){return typeof console<"u"&&void 0},getWeek:function(s){var e=new Date(s.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},fl={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(s){var e=s%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},dn=function(s,e){return e===void 0&&(e=2),("000"+s).slice(e*-1)},jn=function(s){return s===!0?1:0};function f1(s,e){var t;return function(){var o=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return s.apply(o,i)},e)}}var v0=function(s){return s instanceof Array?s:[s]};function Js(s,e,t){if(t===!0)return s.classList.add(e);s.classList.remove(e)}function Mt(s,e,t){var o=window.document.createElement(s);return e=e||"",t=t||"",o.className=e,t!==void 0&&(o.textContent=t),o}function dd(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Fx(s,e){if(e(s))return s;if(s.parentNode)return Fx(s.parentNode,e)}function cd(s,e){var t=Mt("div","numInputWrapper"),o=Mt("input","numInput "+s),i=Mt("span","arrowUp"),r=Mt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?o.type="number":(o.type="text",o.pattern="\\d*"),e!==void 0)for(var a in e)o.setAttribute(a,e[a]);return t.appendChild(o),t.appendChild(i),t.appendChild(r),t}function vn(s){try{if(typeof s.composedPath=="function"){var e=s.composedPath();return e[0]}return s.target}catch{return s.target}}var y0=function(){},yc=function(s,e,t){return t.months[e?"shorthand":"longhand"][s]},Ej={D:y0,F:function(s,e,t){s.setMonth(t.months.longhand.indexOf(e))},G:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},H:function(s,e){s.setHours(parseFloat(e))},J:function(s,e){s.setDate(parseFloat(e))},K:function(s,e,t){s.setHours(s.getHours()%12+12*jn(new RegExp(t.amPM[1],"i").test(e)))},M:function(s,e,t){s.setMonth(t.months.shorthand.indexOf(e))},S:function(s,e){s.setSeconds(parseFloat(e))},U:function(s,e){return new Date(parseFloat(e)*1e3)},W:function(s,e,t){var o=parseInt(e),i=new Date(s.getFullYear(),0,2+(o-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(s,e){s.setFullYear(parseFloat(e))},Z:function(s,e){return new Date(e)},d:function(s,e){s.setDate(parseFloat(e))},h:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},i:function(s,e){s.setMinutes(parseFloat(e))},j:function(s,e){s.setDate(parseFloat(e))},l:y0,m:function(s,e){s.setMonth(parseFloat(e)-1)},n:function(s,e){s.setMonth(parseFloat(e)-1)},s:function(s,e){s.setSeconds(parseFloat(e))},u:function(s,e){return new Date(parseFloat(e))},w:y0,y:function(s,e){s.setFullYear(2e3+parseFloat(e))}},Hi={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ga={Z:function(s){return s.toISOString()},D:function(s,e,t){return e.weekdays.shorthand[Ga.w(s,e,t)]},F:function(s,e,t){return yc(Ga.n(s,e,t)-1,!1,e)},G:function(s,e,t){return dn(Ga.h(s,e,t))},H:function(s){return dn(s.getHours())},J:function(s,e){return e.ordinal!==void 0?s.getDate()+e.ordinal(s.getDate()):s.getDate()},K:function(s,e){return e.amPM[jn(s.getHours()>11)]},M:function(s,e){return yc(s.getMonth(),!0,e)},S:function(s){return dn(s.getSeconds())},U:function(s){return s.getTime()/1e3},W:function(s,e,t){return t.getWeek(s)},Y:function(s){return dn(s.getFullYear(),4)},d:function(s){return dn(s.getDate())},h:function(s){return s.getHours()%12?s.getHours()%12:12},i:function(s){return dn(s.getMinutes())},j:function(s){return s.getDate()},l:function(s,e){return e.weekdays.longhand[s.getDay()]},m:function(s){return dn(s.getMonth()+1)},n:function(s){return s.getMonth()+1},s:function(s){return s.getSeconds()},u:function(s){return s.getTime()},w:function(s){return s.getDay()},y:function(s){return String(s.getFullYear()).substring(2)}},Nx=function(s){var e=s.config,t=e===void 0?Mr:e,o=s.l10n,i=o===void 0?fl:o,r=s.isMobile,a=r===void 0?!1:r;return function(l,c,u){var m=u||i;return t.formatDate!==void 0&&!a?t.formatDate(l,c,m):c.split("").map(function(h,p,_){return Ga[h]&&_[p-1]!=="\\"?Ga[h](l,m,t):h!=="\\"?h:""}).join("")}},_m=function(s){var e=s.config,t=e===void 0?Mr:e,o=s.l10n,i=o===void 0?fl:o;return function(r,a,l,c){if(!(r!==0&&!r)){var u=c||i,m,h=r;if(r instanceof Date)m=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)m=new Date(r);else if(typeof r=="string"){var p=a||(t||Mr).dateFormat,_=String(r).trim();if(_==="today")m=new Date,l=!0;else if(t&&t.parseDate)m=t.parseDate(r,p);else if(/Z$/.test(_)||/GMT$/.test(_))m=new Date(r);else{for(var v=void 0,x=[],w=0,b=0,k="";w<p.length;w++){var C=p[w],$=C==="\\",A=p[w-1]==="\\"||$;if(Hi[C]&&!A){k+=Hi[C];var R=new RegExp(k).exec(r);R&&(v=!0)&&x[C!=="Y"?"push":"unshift"]({fn:Ej[C],val:R[++b]})}else $||(k+=".")}m=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),x.forEach(function(T){var F=T.fn,L=T.val;return m=F(m,L,u)||m}),m=v?m:void 0}}if(!(m instanceof Date&&!isNaN(m.getTime()))){t.errorHandler(new Error("Invalid date provided: "+h));return}return l===!0&&m.setHours(0,0,0,0),m}}};function xn(s,e,t){return t===void 0&&(t=!0),t!==!1?new Date(s.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):s.getTime()-e.getTime()}var jj=function(s,e,t){return s>Math.min(e,t)&&s<Math.max(e,t)},x0=function(s,e,t){return s*3600+e*60+t},Rj=function(s){var e=Math.floor(s/3600),t=(s-e*3600)/60;return[e,t,s-e*3600-t*60]},Ij={DAY:864e5};function b0(s){var e=s.defaultHour,t=s.defaultMinute,o=s.defaultSeconds;if(s.minDate!==void 0){var i=s.minDate.getHours(),r=s.minDate.getMinutes(),a=s.minDate.getSeconds();e<i&&(e=i),e===i&&t<r&&(t=r),e===i&&t===r&&o<a&&(o=s.minDate.getSeconds())}if(s.maxDate!==void 0){var l=s.maxDate.getHours(),c=s.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(c,t)),e===l&&t===c&&(o=s.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:o}}typeof Object.assign!="function"&&(Object.assign=function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!s)throw TypeError("Cannot convert undefined or null to object");for(var o=function(l){l&&Object.keys(l).forEach(function(c){return s[c]=l[c]})},i=0,r=e;i<r.length;i++){var a=r[i];o(a)}return s});var zs=globalThis&&globalThis.__assign||function(){return zs=Object.assign||function(s){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},zs.apply(this,arguments)},p1=globalThis&&globalThis.__spreadArrays||function(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var o=Array(s),i=0,e=0;e<t;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,i++)o[i]=r[a];return o},Oj=300;function Lj(s,e){var t={config:zs(zs({},Mr),is.defaultConfig),l10n:fl};t.parseDate=_m({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=x,t._setHoursFromDate=p,t._positionCalendar=Ae,t.changeMonth=$e,t.changeYear=Te,t.clear=we,t.close=Qe,t.onMouseOver=fe,t._createElement=Mt,t.createDay=R,t.destroy=pt,t.isEnabled=Ue,t.jumpToDate=k,t.updateValue=Hn,t.open=Q,t.redraw=Se,t.set=nt,t.setDate=Dt,t.toggle=Bn;function o(){t.utils={getDaysInMonth:function(V,Y){return V===void 0&&(V=t.currentMonth),Y===void 0&&(Y=t.currentYear),V===1&&(Y%4===0&&Y%100!==0||Y%400===0)?29:t.l10n.daysInMonth[V]}}}function i(){t.element=t.input=s,t.isOpen=!1,te(),ge(),us(),ws(),o(),t.isMobile||A(),b(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&p(t.config.noCalendar?t.latestSelectedDateObj:void 0),Hn(!1)),l();var V=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&V&&Ae(),Nt("onReady")}function r(){var V;return((V=t.calendarContainer)===null||V===void 0?void 0:V.getRootNode()).activeElement||document.activeElement}function a(V){return V.bind(t)}function l(){var V=t.config;V.weekNumbers===!1&&V.showMonths===1||V.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var Y=(t.days.offsetWidth+1)*V.showMonths;t.daysContainer.style.width=Y+"px",t.calendarContainer.style.width=Y+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(V){if(t.selectedDates.length===0){var Y=t.config.minDate===void 0||xn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ae=b0(t.config);Y.setHours(ae.hours,ae.minutes,ae.seconds,Y.getMilliseconds()),t.selectedDates=[Y],t.latestSelectedDateObj=Y}V!==void 0&&V.type!=="blur"&&cu(V);var _e=t._input.value;h(),Hn(),t._input.value!==_e&&t._debouncedChange()}function u(V,Y){return V%12+12*jn(Y===t.l10n.amPM[1])}function m(V){switch(V%24){case 0:case 12:return 12;default:return V%12}}function h(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var V=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,Y=(parseInt(t.minuteElement.value,10)||0)%60,ae=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(V=u(V,t.amPM.textContent));var _e=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&xn(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ee=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&xn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Be=x0(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),dt=x0(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),We=x0(V,Y,ae);if(We>dt&&We<Be){var gt=Rj(Be);V=gt[0],Y=gt[1],ae=gt[2]}}else{if(Ee){var Ke=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;V=Math.min(V,Ke.getHours()),V===Ke.getHours()&&(Y=Math.min(Y,Ke.getMinutes())),Y===Ke.getMinutes()&&(ae=Math.min(ae,Ke.getSeconds()))}if(_e){var ot=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;V=Math.max(V,ot.getHours()),V===ot.getHours()&&Y<ot.getMinutes()&&(Y=ot.getMinutes()),Y===ot.getMinutes()&&(ae=Math.max(ae,ot.getSeconds()))}}_(V,Y,ae)}}function p(V){var Y=V||t.latestSelectedDateObj;Y&&Y instanceof Date&&_(Y.getHours(),Y.getMinutes(),Y.getSeconds())}function _(V,Y,ae){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(V%24,Y,ae||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=dn(t.config.time_24hr?V:(12+V)%12+12*jn(V%12===0)),t.minuteElement.value=dn(Y),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[jn(V>=12)]),t.secondElement!==void 0&&(t.secondElement.value=dn(ae)))}function v(V){var Y=vn(V),ae=parseInt(Y.value)+(V.delta||0);(ae/1e3>1||V.key==="Enter"&&!/[^\d]/.test(ae.toString()))&&Te(ae)}function x(V,Y,ae,_e){if(Y instanceof Array)return Y.forEach(function(Ee){return x(V,Ee,ae,_e)});if(V instanceof Array)return V.forEach(function(Ee){return x(Ee,Y,ae,_e)});V.addEventListener(Y,ae,_e),t._handlers.push({remove:function(){return V.removeEventListener(Y,ae,_e)}})}function w(){Nt("onChange")}function b(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ae){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ae+"]"),function(_e){return x(_e,"click",t[ae])})}),t.isMobile){vs();return}var V=f1(B,50);if(t._debouncedChange=f1(w,Oj),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(t.daysContainer,"mouseover",function(ae){t.config.mode==="range"&&fe(vn(ae))}),x(t._input,"keydown",me),t.calendarContainer!==void 0&&x(t.calendarContainer,"keydown",me),!t.config.inline&&!t.config.static&&x(window,"resize",V),window.ontouchstart!==void 0?x(window.document,"touchstart",Ce):x(window.document,"mousedown",Ce),x(window.document,"focus",Ce,{capture:!0}),t.config.clickOpens===!0&&(x(t._input,"focus",t.open),x(t._input,"click",t.open)),t.daysContainer!==void 0&&(x(t.monthNav,"click",Vo),x(t.monthNav,["keyup","increment"],v),x(t.daysContainer,"click",ze)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var Y=function(ae){return vn(ae).select()};x(t.timeContainer,["increment"],c),x(t.timeContainer,"blur",c,{capture:!0}),x(t.timeContainer,"click",C),x([t.hourElement,t.minuteElement],["focus","click"],Y),t.secondElement!==void 0&&x(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&x(t.amPM,"click",function(ae){c(ae)})}t.config.allowInput&&x(t._input,"blur",Oe)}function k(V,Y){var ae=V!==void 0?t.parseDate(V):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),_e=t.currentYear,Ee=t.currentMonth;try{ae!==void 0&&(t.currentYear=ae.getFullYear(),t.currentMonth=ae.getMonth())}catch(Be){Be.message="Invalid date supplied: "+ae,t.config.errorHandler(Be)}Y&&t.currentYear!==_e&&(Nt("onYearChange"),U()),Y&&(t.currentYear!==_e||t.currentMonth!==Ee)&&Nt("onMonthChange"),t.redraw()}function C(V){var Y=vn(V);~Y.className.indexOf("arrow")&&$(V,Y.classList.contains("arrowUp")?1:-1)}function $(V,Y,ae){var _e=V&&vn(V),Ee=ae||_e&&_e.parentNode&&_e.parentNode.firstChild,Be=ys("increment");Be.delta=Y,Ee&&Ee.dispatchEvent(Be)}function A(){var V=window.document.createDocumentFragment();if(t.calendarContainer=Mt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(V.appendChild(de()),t.innerContainer=Mt("div","flatpickr-innerContainer"),t.config.weekNumbers){var Y=ie(),ae=Y.weekWrapper,_e=Y.weekNumbers;t.innerContainer.appendChild(ae),t.weekNumbers=_e,t.weekWrapper=ae}t.rContainer=Mt("div","flatpickr-rContainer"),t.rContainer.appendChild(ne()),t.daysContainer||(t.daysContainer=Mt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),P(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),V.appendChild(t.innerContainer)}t.config.enableTime&&V.appendChild(q()),Js(t.calendarContainer,"rangeMode",t.config.mode==="range"),Js(t.calendarContainer,"animate",t.config.animate===!0),Js(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(V);var Ee=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ee&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Be=Mt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Be,t.element),Be.appendChild(t.element),t.altInput&&Be.appendChild(t.altInput),Be.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function R(V,Y,ae,_e){var Ee=Ue(Y,!0),Be=Mt("span",V,Y.getDate().toString());return Be.dateObj=Y,Be.$i=_e,Be.setAttribute("aria-label",t.formatDate(Y,t.config.ariaDateFormat)),V.indexOf("hidden")===-1&&xn(Y,t.now)===0&&(t.todayDateElem=Be,Be.classList.add("today"),Be.setAttribute("aria-current","date")),Ee?(Be.tabIndex=-1,Os(Y)&&(Be.classList.add("selected"),t.selectedDateElem=Be,t.config.mode==="range"&&(Js(Be,"startRange",t.selectedDates[0]&&xn(Y,t.selectedDates[0],!0)===0),Js(Be,"endRange",t.selectedDates[1]&&xn(Y,t.selectedDates[1],!0)===0),V==="nextMonthDay"&&Be.classList.add("inRange")))):Be.classList.add("flatpickr-disabled"),t.config.mode==="range"&&lr(Y)&&!Os(Y)&&Be.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&V!=="prevMonthDay"&&_e%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(Y)+"</span>"),Nt("onDayCreate",Be),Be}function T(V){V.focus(),t.config.mode==="range"&&fe(V)}function F(V){for(var Y=V>0?0:t.config.showMonths-1,ae=V>0?t.config.showMonths:-1,_e=Y;_e!=ae;_e+=V)for(var Ee=t.daysContainer.children[_e],Be=V>0?0:Ee.children.length-1,dt=V>0?Ee.children.length:-1,We=Be;We!=dt;We+=V){var gt=Ee.children[We];if(gt.className.indexOf("hidden")===-1&&Ue(gt.dateObj))return gt}}function L(V,Y){for(var ae=V.className.indexOf("Month")===-1?V.dateObj.getMonth():t.currentMonth,_e=Y>0?t.config.showMonths:-1,Ee=Y>0?1:-1,Be=ae-t.currentMonth;Be!=_e;Be+=Ee)for(var dt=t.daysContainer.children[Be],We=ae-t.currentMonth===Be?V.$i+Y:Y<0?dt.children.length-1:0,gt=dt.children.length,Ke=We;Ke>=0&&Ke<gt&&Ke!=(Y>0?gt:-1);Ke+=Ee){var ot=dt.children[Ke];if(ot.className.indexOf("hidden")===-1&&Ue(ot.dateObj)&&Math.abs(V.$i-Ke)>=Math.abs(Y))return T(ot)}t.changeMonth(Ee),D(F(Ee),0)}function D(V,Y){var ae=r(),_e=tt(ae||document.body),Ee=V!==void 0?V:_e?ae:t.selectedDateElem!==void 0&&tt(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&tt(t.todayDateElem)?t.todayDateElem:F(Y>0?1:-1);Ee===void 0?t._input.focus():_e?L(Ee,Y):T(Ee)}function N(V,Y){for(var ae=(new Date(V,Y,1).getDay()-t.l10n.firstDayOfWeek+7)%7,_e=t.utils.getDaysInMonth((Y-1+12)%12,V),Ee=t.utils.getDaysInMonth(Y,V),Be=window.document.createDocumentFragment(),dt=t.config.showMonths>1,We=dt?"prevMonthDay hidden":"prevMonthDay",gt=dt?"nextMonthDay hidden":"nextMonthDay",Ke=_e+1-ae,ot=0;Ke<=_e;Ke++,ot++)Be.appendChild(R("flatpickr-day "+We,new Date(V,Y-1,Ke),Ke,ot));for(Ke=1;Ke<=Ee;Ke++,ot++)Be.appendChild(R("flatpickr-day",new Date(V,Y,Ke),Ke,ot));for(var Et=Ee+1;Et<=42-ae&&(t.config.showMonths===1||ot%7!==0);Et++,ot++)Be.appendChild(R("flatpickr-day "+gt,new Date(V,Y+1,Et%Ee),Et,ot));var An=Mt("div","dayContainer");return An.appendChild(Be),An}function P(){if(t.daysContainer!==void 0){dd(t.daysContainer),t.weekNumbers&&dd(t.weekNumbers);for(var V=document.createDocumentFragment(),Y=0;Y<t.config.showMonths;Y++){var ae=new Date(t.currentYear,t.currentMonth,1);ae.setMonth(t.currentMonth+Y),V.appendChild(N(ae.getFullYear(),ae.getMonth()))}t.daysContainer.appendChild(V),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&fe()}}function U(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var V=function(_e){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&_e<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&_e>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var Y=0;Y<12;Y++)if(V(Y)){var ae=Mt("option","flatpickr-monthDropdown-month");ae.value=new Date(t.currentYear,Y).getMonth().toString(),ae.textContent=yc(Y,t.config.shorthandCurrentMonth,t.l10n),ae.tabIndex=-1,t.currentMonth===Y&&(ae.selected=!0),t.monthsDropdownContainer.appendChild(ae)}}}function ye(){var V=Mt("div","flatpickr-month"),Y=window.document.createDocumentFragment(),ae;t.config.showMonths>1||t.config.monthSelectorType==="static"?ae=Mt("span","cur-month"):(t.monthsDropdownContainer=Mt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),x(t.monthsDropdownContainer,"change",function(dt){var We=vn(dt),gt=parseInt(We.value,10);t.changeMonth(gt-t.currentMonth),Nt("onMonthChange")}),U(),ae=t.monthsDropdownContainer);var _e=cd("cur-year",{tabindex:"-1"}),Ee=_e.getElementsByTagName("input")[0];Ee.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ee.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ee.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ee.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Be=Mt("div","flatpickr-current-month");return Be.appendChild(ae),Be.appendChild(_e),Y.appendChild(Be),V.appendChild(Y),{container:V,yearElement:Ee,monthElement:ae}}function le(){dd(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var V=t.config.showMonths;V--;){var Y=ye();t.yearElements.push(Y.yearElement),t.monthElements.push(Y.monthElement),t.monthNav.appendChild(Y.container)}t.monthNav.appendChild(t.nextMonthNav)}function de(){return t.monthNav=Mt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Mt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Mt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,le(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(V){t.__hidePrevMonthArrow!==V&&(Js(t.prevMonthNav,"flatpickr-disabled",V),t.__hidePrevMonthArrow=V)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(V){t.__hideNextMonthArrow!==V&&(Js(t.nextMonthNav,"flatpickr-disabled",V),t.__hideNextMonthArrow=V)}}),t.currentYearElement=t.yearElements[0],Vn(),t.monthNav}function q(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var V=b0(t.config);t.timeContainer=Mt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var Y=Mt("span","flatpickr-time-separator",":"),ae=cd("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ae.getElementsByTagName("input")[0];var _e=cd("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=_e.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=dn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?V.hours:m(V.hours)),t.minuteElement.value=dn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():V.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ae),t.timeContainer.appendChild(Y),t.timeContainer.appendChild(_e),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ee=cd("flatpickr-second");t.secondElement=Ee.getElementsByTagName("input")[0],t.secondElement.value=dn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():V.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Mt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ee)}return t.config.time_24hr||(t.amPM=Mt("span","flatpickr-am-pm",t.l10n.amPM[jn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ne(){t.weekdayContainer?dd(t.weekdayContainer):t.weekdayContainer=Mt("div","flatpickr-weekdays");for(var V=t.config.showMonths;V--;){var Y=Mt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(Y)}return G(),t.weekdayContainer}function G(){if(t.weekdayContainer){var V=t.l10n.firstDayOfWeek,Y=p1(t.l10n.weekdays.shorthand);V>0&&V<Y.length&&(Y=p1(Y.splice(V,Y.length),Y.splice(0,V)));for(var ae=t.config.showMonths;ae--;)t.weekdayContainer.children[ae].innerHTML=`
      <span class='flatpickr-weekday'>
        `+Y.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ie(){t.calendarContainer.classList.add("hasWeeks");var V=Mt("div","flatpickr-weekwrapper");V.appendChild(Mt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var Y=Mt("div","flatpickr-weeks");return V.appendChild(Y),{weekWrapper:V,weekNumbers:Y}}function $e(V,Y){Y===void 0&&(Y=!0);var ae=Y?V:V-t.currentMonth;ae<0&&t._hidePrevMonthArrow===!0||ae>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ae,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Nt("onYearChange"),U()),P(),Nt("onMonthChange"),Vn())}function we(V,Y){if(V===void 0&&(V=!0),Y===void 0&&(Y=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,Y===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ae=b0(t.config),_e=ae.hours,Ee=ae.minutes,Be=ae.seconds;_(_e,Ee,Be)}t.redraw(),V&&Nt("onChange")}function Qe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Nt("onClose")}function pt(){t.config!==void 0&&Nt("onDestroy");for(var V=t._handlers.length;V--;)t._handlers[V].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var Y=t.calendarContainer.parentNode;if(Y.lastChild&&Y.removeChild(Y.lastChild),Y.parentNode){for(;Y.firstChild;)Y.parentNode.insertBefore(Y.firstChild,Y);Y.parentNode.removeChild(Y)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ae){try{delete t[ae]}catch{}})}function pe(V){return t.calendarContainer.contains(V)}function Ce(V){if(t.isOpen&&!t.config.inline){var Y=vn(V),ae=pe(Y),_e=Y===t.input||Y===t.altInput||t.element.contains(Y)||V.path&&V.path.indexOf&&(~V.path.indexOf(t.input)||~V.path.indexOf(t.altInput)),Ee=!_e&&!ae&&!pe(V.relatedTarget),Be=!t.config.ignoredFocusElements.some(function(dt){return dt.contains(Y)});Ee&&Be&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Te(V){if(!(!V||t.config.minDate&&V<t.config.minDate.getFullYear()||t.config.maxDate&&V>t.config.maxDate.getFullYear())){var Y=V,ae=t.currentYear!==Y;t.currentYear=Y||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ae&&(t.redraw(),Nt("onYearChange"),U())}}function Ue(V,Y){var ae;Y===void 0&&(Y=!0);var _e=t.parseDate(V,void 0,Y);if(t.config.minDate&&_e&&xn(_e,t.config.minDate,Y!==void 0?Y:!t.minDateHasTime)<0||t.config.maxDate&&_e&&xn(_e,t.config.maxDate,Y!==void 0?Y:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(_e===void 0)return!1;for(var Ee=!!t.config.enable,Be=(ae=t.config.enable)!==null&&ae!==void 0?ae:t.config.disable,dt=0,We=void 0;dt<Be.length;dt++){if(We=Be[dt],typeof We=="function"&&We(_e))return Ee;if(We instanceof Date&&_e!==void 0&&We.getTime()===_e.getTime())return Ee;if(typeof We=="string"){var gt=t.parseDate(We,void 0,!0);return gt&&gt.getTime()===_e.getTime()?Ee:!Ee}else if(typeof We=="object"&&_e!==void 0&&We.from&&We.to&&_e.getTime()>=We.from.getTime()&&_e.getTime()<=We.to.getTime())return Ee}return!Ee}function tt(V){return t.daysContainer!==void 0?V.className.indexOf("hidden")===-1&&V.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(V):!1}function Oe(V){var Y=V.target===t._input,ae=t._input.value.trimEnd()!==_n();Y&&ae&&!(V.relatedTarget&&pe(V.relatedTarget))&&t.setDate(t._input.value,!0,V.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function me(V){var Y=vn(V),ae=t.config.wrap?s.contains(Y):Y===t._input,_e=t.config.allowInput,Ee=t.isOpen&&(!_e||!ae),Be=t.config.inline&&ae&&!_e;if(V.keyCode===13&&ae){if(_e)return t.setDate(t._input.value,!0,Y===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),Y.blur();t.open()}else if(pe(Y)||Ee||Be){var dt=!!t.timeContainer&&t.timeContainer.contains(Y);switch(V.keyCode){case 13:dt?(V.preventDefault(),c(),Ge()):ze(V);break;case 27:V.preventDefault(),Ge();break;case 8:case 46:ae&&!t.config.allowInput&&(V.preventDefault(),t.clear());break;case 37:case 39:if(!dt&&!ae){V.preventDefault();var We=r();if(t.daysContainer!==void 0&&(_e===!1||We&&tt(We))){var gt=V.keyCode===39?1:-1;V.ctrlKey?(V.stopPropagation(),$e(gt),D(F(1),0)):D(void 0,gt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:V.preventDefault();var Ke=V.keyCode===40?1:-1;t.daysContainer&&Y.$i!==void 0||Y===t.input||Y===t.altInput?V.ctrlKey?(V.stopPropagation(),Te(t.currentYear-Ke),D(F(1),0)):dt||D(void 0,Ke*7):Y===t.currentYearElement?Te(t.currentYear-Ke):t.config.enableTime&&(!dt&&t.hourElement&&t.hourElement.focus(),c(V),t._debouncedChange());break;case 9:if(dt){var ot=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Xs){return Xs}),Et=ot.indexOf(Y);if(Et!==-1){var An=ot[Et+(V.shiftKey?-1:1)];V.preventDefault(),(An||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(Y)&&V.shiftKey&&(V.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&Y===t.amPM)switch(V.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],h(),Hn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],h(),Hn();break}(ae||pe(Y))&&Nt("onKeyDown",V)}function fe(V,Y){if(Y===void 0&&(Y="flatpickr-day"),!(t.selectedDates.length!==1||V&&(!V.classList.contains(Y)||V.classList.contains("flatpickr-disabled")))){for(var ae=V?V.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),_e=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ee=Math.min(ae,t.selectedDates[0].getTime()),Be=Math.max(ae,t.selectedDates[0].getTime()),dt=!1,We=0,gt=0,Ke=Ee;Ke<Be;Ke+=Ij.DAY)Ue(new Date(Ke),!0)||(dt=dt||Ke>Ee&&Ke<Be,Ke<_e&&(!We||Ke>We)?We=Ke:Ke>_e&&(!gt||Ke<gt)&&(gt=Ke));var ot=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+Y));ot.forEach(function(Et){var An=Et.dateObj,Xs=An.getTime(),$i=We>0&&Xs<We||gt>0&&Xs>gt;if($i){Et.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ho){Et.classList.remove(Ho)});return}else if(dt&&!$i)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ho){Et.classList.remove(Ho)}),V!==void 0&&(V.classList.add(ae<=t.selectedDates[0].getTime()?"startRange":"endRange"),_e<ae&&Xs===_e?Et.classList.add("startRange"):_e>ae&&Xs===_e&&Et.classList.add("endRange"),Xs>=We&&(gt===0||Xs<=gt)&&jj(Xs,_e,ae)&&Et.classList.add("inRange"))})}}function B(){t.isOpen&&!t.config.static&&!t.config.inline&&Ae()}function Q(V,Y){if(Y===void 0&&(Y=t._positionElement),t.isMobile===!0){if(V){V.preventDefault();var ae=vn(V);ae&&ae.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Nt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var _e=t.isOpen;t.isOpen=!0,_e||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Nt("onOpen"),Ae(Y)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(V===void 0||!t.timeContainer.contains(V.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function ee(V){return function(Y){var ae=t.config["_"+V+"Date"]=t.parseDate(Y,t.config.dateFormat),_e=t.config["_"+(V==="min"?"max":"min")+"Date"];ae!==void 0&&(t[V==="min"?"minDateHasTime":"maxDateHasTime"]=ae.getHours()>0||ae.getMinutes()>0||ae.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ee){return Ue(Ee)}),!t.selectedDates.length&&V==="min"&&p(ae),Hn()),t.daysContainer&&(Se(),ae!==void 0?t.currentYearElement[V]=ae.getFullYear().toString():t.currentYearElement.removeAttribute(V),t.currentYearElement.disabled=!!_e&&ae!==void 0&&_e.getFullYear()===ae.getFullYear())}}function te(){var V=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Y=zs(zs({},JSON.parse(JSON.stringify(s.dataset||{}))),e),ae={};t.config.parseDate=Y.parseDate,t.config.formatDate=Y.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(ot){t.config._enable=wt(ot)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(ot){t.config._disable=wt(ot)}});var _e=Y.mode==="time";if(!Y.dateFormat&&(Y.enableTime||_e)){var Ee=is.defaultConfig.dateFormat||Mr.dateFormat;ae.dateFormat=Y.noCalendar||_e?"H:i"+(Y.enableSeconds?":S":""):Ee+" H:i"+(Y.enableSeconds?":S":"")}if(Y.altInput&&(Y.enableTime||_e)&&!Y.altFormat){var Be=is.defaultConfig.altFormat||Mr.altFormat;ae.altFormat=Y.noCalendar||_e?"h:i"+(Y.enableSeconds?":S K":" K"):Be+(" h:i"+(Y.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:ee("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:ee("max")});var dt=function(ot){return function(Et){t.config[ot==="min"?"_minTime":"_maxTime"]=t.parseDate(Et,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:dt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:dt("max")}),Y.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ae,Y);for(var We=0;We<V.length;We++)t.config[V[We]]=t.config[V[We]]===!0||t.config[V[We]]==="true";_0.filter(function(ot){return t.config[ot]!==void 0}).forEach(function(ot){t.config[ot]=v0(t.config[ot]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var We=0;We<t.config.plugins.length;We++){var gt=t.config.plugins[We](t)||{};for(var Ke in gt)_0.indexOf(Ke)>-1?t.config[Ke]=v0(gt[Ke]).map(a).concat(t.config[Ke]):typeof Y[Ke]>"u"&&(t.config[Ke]=gt[Ke])}Y.altInputClass||(t.config.altInputClass=se().className+" "+t.config.altInputClass),Nt("onParseConfig")}function se(){return t.config.wrap?s.querySelector("[data-input]"):s}function ge(){typeof t.config.locale!="object"&&typeof is.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=zs(zs({},is.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?is.l10ns[t.config.locale]:void 0),Hi.D="("+t.l10n.weekdays.shorthand.join("|")+")",Hi.l="("+t.l10n.weekdays.longhand.join("|")+")",Hi.M="("+t.l10n.months.shorthand.join("|")+")",Hi.F="("+t.l10n.months.longhand.join("|")+")",Hi.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var V=zs(zs({},e),JSON.parse(JSON.stringify(s.dataset||{})));V.time_24hr===void 0&&is.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Nx(t),t.parseDate=_m({config:t.config,l10n:t.l10n})}function Ae(V){if(typeof t.config.position=="function")return void t.config.position(t,V);if(t.calendarContainer!==void 0){Nt("onPreCalendarPosition");var Y=V||t._positionElement,ae=Array.prototype.reduce.call(t.calendarContainer.children,function(hu,gu){return hu+gu.offsetHeight},0),_e=t.calendarContainer.offsetWidth,Ee=t.config.position.split(" "),Be=Ee[0],dt=Ee.length>1?Ee[1]:null,We=Y.getBoundingClientRect(),gt=window.innerHeight-We.bottom,Ke=Be==="above"||Be!=="below"&&gt<ae&&We.top>ae,ot=window.pageYOffset+We.top+(Ke?-ae-2:Y.offsetHeight+2);if(Js(t.calendarContainer,"arrowTop",!Ke),Js(t.calendarContainer,"arrowBottom",Ke),!t.config.inline){var Et=window.pageXOffset+We.left,An=!1,Xs=!1;dt==="center"?(Et-=(_e-We.width)/2,An=!0):dt==="right"&&(Et-=_e-We.width,Xs=!0),Js(t.calendarContainer,"arrowLeft",!An&&!Xs),Js(t.calendarContainer,"arrowCenter",An),Js(t.calendarContainer,"arrowRight",Xs);var $i=window.document.body.offsetWidth-(window.pageXOffset+We.right),Ho=Et+_e>window.document.body.offsetWidth,Tl=$i+_e>window.document.body.offsetWidth;if(Js(t.calendarContainer,"rightMost",Ho),!t.config.static)if(t.calendarContainer.style.top=ot+"px",!Ho)t.calendarContainer.style.left=Et+"px",t.calendarContainer.style.right="auto";else if(!Tl)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=$i+"px";else{var qn=Pe();if(qn===void 0)return;var uu=window.document.body.offsetWidth,mu=Math.max(0,uu/2-_e/2),fu=".flatpickr-calendar.centerMost:before",Zr=".flatpickr-calendar.centerMost:after",ea=qn.cssRules.length,pu="{left:"+We.left+"px;right:auto;}";Js(t.calendarContainer,"rightMost",!1),Js(t.calendarContainer,"centerMost",!0),qn.insertRule(fu+","+Zr+pu,ea),t.calendarContainer.style.left=mu+"px",t.calendarContainer.style.right="auto"}}}}function Pe(){for(var V=null,Y=0;Y<document.styleSheets.length;Y++){var ae=document.styleSheets[Y];if(ae.cssRules){try{ae.cssRules}catch{continue}V=ae;break}}return V??De()}function De(){var V=document.createElement("style");return document.head.appendChild(V),V.sheet}function Se(){t.config.noCalendar||t.isMobile||(U(),Vn(),P())}function Ge(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ze(V){V.preventDefault(),V.stopPropagation();var Y=function(ot){return ot.classList&&ot.classList.contains("flatpickr-day")&&!ot.classList.contains("flatpickr-disabled")&&!ot.classList.contains("notAllowed")},ae=Fx(vn(V),Y);if(ae!==void 0){var _e=ae,Ee=t.latestSelectedDateObj=new Date(_e.dateObj.getTime()),Be=(Ee.getMonth()<t.currentMonth||Ee.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=_e,t.config.mode==="single")t.selectedDates=[Ee];else if(t.config.mode==="multiple"){var dt=Os(Ee);dt?t.selectedDates.splice(parseInt(dt),1):t.selectedDates.push(Ee)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ee,t.selectedDates.push(Ee),xn(Ee,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(ot,Et){return ot.getTime()-Et.getTime()}));if(h(),Be){var We=t.currentYear!==Ee.getFullYear();t.currentYear=Ee.getFullYear(),t.currentMonth=Ee.getMonth(),We&&(Nt("onYearChange"),U()),Nt("onMonthChange")}if(Vn(),P(),Hn(),!Be&&t.config.mode!=="range"&&t.config.showMonths===1?T(_e):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var gt=t.config.mode==="single"&&!t.config.enableTime,Ke=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(gt||Ke)&&Ge()}w()}}var je={locale:[ge,G],showMonths:[le,l,ne],minDate:[k],maxDate:[k],positionElement:[Is],clickOpens:[function(){t.config.clickOpens===!0?(x(t._input,"focus",t.open),x(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function nt(V,Y){if(V!==null&&typeof V=="object"){Object.assign(t.config,V);for(var ae in V)je[ae]!==void 0&&je[ae].forEach(function(_e){return _e()})}else t.config[V]=Y,je[V]!==void 0?je[V].forEach(function(_e){return _e()}):_0.indexOf(V)>-1&&(t.config[V]=v0(Y));t.redraw(),Hn(!0)}function _t(V,Y){var ae=[];if(V instanceof Array)ae=V.map(function(_e){return t.parseDate(_e,Y)});else if(V instanceof Date||typeof V=="number")ae=[t.parseDate(V,Y)];else if(typeof V=="string")switch(t.config.mode){case"single":case"time":ae=[t.parseDate(V,Y)];break;case"multiple":ae=V.split(t.config.conjunction).map(function(_e){return t.parseDate(_e,Y)});break;case"range":ae=V.split(t.l10n.rangeSeparator).map(function(_e){return t.parseDate(_e,Y)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(V)));t.selectedDates=t.config.allowInvalidPreload?ae:ae.filter(function(_e){return _e instanceof Date&&Ue(_e,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(_e,Ee){return _e.getTime()-Ee.getTime()})}function Dt(V,Y,ae){if(Y===void 0&&(Y=!1),ae===void 0&&(ae=t.config.dateFormat),V!==0&&!V||V instanceof Array&&V.length===0)return t.clear(Y);_t(V,ae),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,Y),p(),t.selectedDates.length===0&&t.clear(!1),Hn(Y),Y&&Nt("onChange")}function wt(V){return V.slice().map(function(Y){return typeof Y=="string"||typeof Y=="number"||Y instanceof Date?t.parseDate(Y,void 0,!0):Y&&typeof Y=="object"&&Y.from&&Y.to?{from:t.parseDate(Y.from,void 0),to:t.parseDate(Y.to,void 0)}:Y}).filter(function(Y){return Y})}function ws(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var V=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);V&&_t(V,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function us(){if(t.input=se(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Mt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Is()}function Is(){t._positionElement=t.config.positionElement||t._input}function vs(){var V=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Mt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=V,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=V==="datetime-local"?"Y-m-d\\TH:i:S":V==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}x(t.mobileInput,"change",function(Y){t.setDate(vn(Y).value,!1,t.mobileFormatStr),Nt("onChange"),Nt("onClose")})}function Bn(V){if(t.isOpen===!0)return t.close();t.open(V)}function Nt(V,Y){if(t.config!==void 0){var ae=t.config[V];if(ae!==void 0&&ae.length>0)for(var _e=0;ae[_e]&&_e<ae.length;_e++)ae[_e](t.selectedDates,t.input.value,t,Y);V==="onChange"&&(t.input.dispatchEvent(ys("change")),t.input.dispatchEvent(ys("input")))}}function ys(V){var Y=document.createEvent("Event");return Y.initEvent(V,!0,!0),Y}function Os(V){for(var Y=0;Y<t.selectedDates.length;Y++){var ae=t.selectedDates[Y];if(ae instanceof Date&&xn(ae,V)===0)return""+Y}return!1}function lr(V){return t.config.mode!=="range"||t.selectedDates.length<2?!1:xn(V,t.selectedDates[0])>=0&&xn(V,t.selectedDates[1])<=0}function Vn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(V,Y){var ae=new Date(t.currentYear,t.currentMonth,1);ae.setMonth(t.currentMonth+Y),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[Y].textContent=yc(ae.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ae.getMonth().toString(),V.value=ae.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function _n(V){var Y=V||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ae){return t.formatDate(ae,Y)}).filter(function(ae,_e,Ee){return t.config.mode!=="range"||t.config.enableTime||Ee.indexOf(ae)===_e}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Hn(V){V===void 0&&(V=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=_n(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=_n(t.config.altFormat)),V!==!1&&Nt("onValueUpdate")}function Vo(V){var Y=vn(V),ae=t.prevMonthNav.contains(Y),_e=t.nextMonthNav.contains(Y);ae||_e?$e(ae?-1:1):t.yearElements.indexOf(Y)>=0?Y.select():Y.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):Y.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function cu(V){V.preventDefault();var Y=V.type==="keydown",ae=vn(V),_e=ae;t.amPM!==void 0&&ae===t.amPM&&(t.amPM.textContent=t.l10n.amPM[jn(t.amPM.textContent===t.l10n.amPM[0])]);var Ee=parseFloat(_e.getAttribute("min")),Be=parseFloat(_e.getAttribute("max")),dt=parseFloat(_e.getAttribute("step")),We=parseInt(_e.value,10),gt=V.delta||(Y?V.which===38?1:-1:0),Ke=We+dt*gt;if(typeof _e.value<"u"&&_e.value.length===2){var ot=_e===t.hourElement,Et=_e===t.minuteElement;Ke<Ee?(Ke=Be+Ke+jn(!ot)+(jn(ot)&&jn(!t.amPM)),Et&&$(void 0,-1,t.hourElement)):Ke>Be&&(Ke=_e===t.hourElement?Ke-Be-jn(!t.amPM):Ee,Et&&$(void 0,1,t.hourElement)),t.amPM&&ot&&(dt===1?Ke+We===23:Math.abs(Ke-We)>dt)&&(t.amPM.textContent=t.l10n.amPM[jn(t.amPM.textContent===t.l10n.amPM[0])]),_e.value=dn(Ke)}}return i(),t}function Tr(s,e){for(var t=Array.prototype.slice.call(s).filter(function(a){return a instanceof HTMLElement}),o=[],i=0;i<t.length;i++){var r=t[i];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=Lj(r,e||{}),o.push(r._flatpickr)}catch{}}return o.length===1?o[0]:o}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(s){return Tr(this,s)},HTMLElement.prototype.flatpickr=function(s){return Tr([this],s)});var is=function(s,e){return typeof s=="string"?Tr(window.document.querySelectorAll(s),e):s instanceof Node?Tr([s],e):Tr(s,e)};is.defaultConfig={};is.l10ns={en:zs({},fl),default:zs({},fl)};is.localize=function(s){is.l10ns.default=zs(zs({},is.l10ns.default),s)};is.setDefaults=function(s){is.defaultConfig=zs(zs({},is.defaultConfig),s)};is.parseDate=_m({});is.formatDate=Nx({});is.compareDates=xn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(s){return Tr(this,s)});Date.prototype.fp_incr=function(s){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof s=="string"?parseInt(s,10):s))};typeof window<"u"&&(window.flatpickr=is);const zx=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],Fj=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],h1=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),g1=s=>s instanceof Array?s:[s],_1=s=>Object.assign({},s),v1=zx.concat(Fj),Nj=["locale","showMonths"],zj={name:"flat-pickr",render(){return Ot("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(v1.map(h1)),props:{modelValue:{default:null,required:!0,validator(s){return s===null||s instanceof Date||typeof s=="string"||s instanceof String||s instanceof Array||typeof s=="number"}},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>zx},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){if(this.fp)return;const s=_1(this.config);this.events.forEach(t=>{const o=is.defaultConfig[t]||[],i=(...r)=>{this.$emit(h1(t),...r)};s[t]=g1(s[t]||[]).concat(o,i)});const e=(...t)=>{this.onClose(...t)};s.onClose=g1(s.onClose||[]).concat(e),s.defaultDate=this.modelValue||s.defaultDate,this.fp=new is(this.getElem(),s),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(s){const e=s.target;Tn().then(()=>{this.$emit("update:modelValue",e.value)})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(s){this.$emit("blur",s.target.value)},onClose(s,e){this.$emit("update:modelValue",e)},watchDisabled(s){s?this.fpInput().setAttribute("disabled",s):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(s){const e=_1(s);v1.forEach(t=>{delete e[t]}),this.fp.set(e),Nj.forEach(t=>{typeof e[t]<"u"&&this.fp.set(t,e[t])})}},modelValue(s){s!==this.$refs.root.value&&this.fp&&this.fp.setDate(s,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}},Uj={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},Bj={class:"px-6 py-4"},Vj={class:"mb-6 text-sm font-medium text-gray-700"},Hj={class:"flex items-center"},qj={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},Wj={value:"daily"},Kj={value:"weekly"},Yj={value:"monthly"},Gj={value:"yearly"},Xj={key:0,class:"mt-6 flex items-center"},Jj={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},Qj=["value"],Zj={key:1,class:"mt-6"},eR={class:"whitespace-nowrap text-sm text-gray-600"},tR={class:"mt-2.5 flex space-x-2"},sR=["onClick"],nR={key:2,class:"mt-6 flex items-center"},oR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},iR=["value"],rR={value:"lastday"},aR={key:3,class:"mt-6 flex items-center"},lR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},dR=["value"],cR=["value"],uR={value:"lastday"},mR={class:"mt-6"},fR={class:"mb-3 whitespace-nowrap text-sm text-gray-600"},pR={class:"space-y-1.5"},hR={class:"flex h-[1.875rem] items-center"},gR={for:"ends-never",class:"ml-3"},_R={class:"block text-sm text-gray-600"},vR={class:"flex items-center"},yR={class:"flex w-[9.375rem] items-center"},xR={for:"ends-on",class:"ml-3"},bR={class:"block text-sm text-gray-600"},wR={class:"flex items-center"},kR={class:"flex w-[9.375rem] items-center"},$R={for:"ends-after",class:"ml-3"},CR={class:"block text-sm text-gray-600"},SR=["disabled"],MR={class:"pointer-events-none flex items-center pr-2.5"},TR={class:"text-xs text-gray-600"},DR={class:"mt-8"},AR={class:"flex items-center"},PR={for:"task-completion",class:"pl-3 text-sm text-gray-600"},ER={class:"mt-8 flex justify-start"},jR=ve({__name:"TaskRepeatDropdown",setup(s){const e=os(),t=E(!1),o=E(!1),i={type:"daily",every:1,hour_at:0,day_at:1,month_at:1,repeat_on:[],task_completion_required:!0,ends_at:null,repetitions:1,ends:"never"},r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],a=[{label:"M",value:"Mon"},{label:"T",value:"Tue"},{label:"W",value:"Wed"},{label:"T",value:"Thu"},{label:"F",value:"Fri"},{label:"S",value:"Sat"},{label:"S",value:"Sun"}],l=at({...i});function c(v){l.repeat_on.includes(v)?l.repeat_on.splice(l.repeat_on.indexOf(v),1):l.repeat_on.push(v)}function u(){t.value=!0,ce.post(`tasks/${e.data.id}/recurring`,{...l}).then(({data:v})=>{t.value=!1,o.value=!0,Object.assign(e.data,v)}).catch(()=>{t.value=!1})}function m(){o.value=!0}function h(){var v;o.value=!1,(v=e.data.meta)!=null&&v.recurring?_():p()}function p(){Object.assign(l,i)}function _(){Object.assign(l,e.data.meta.recurring)}return(v,x)=>(g(),re(f(Gs),{name:"task-repeat",modal:!0,"close-outside":"",close:o.value,onToggle:h},{trigger:W(()=>[...x[14]||(x[14]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:W(()=>[n("div",Uj,[n("div",Bj,[n("h3",Vj,d(v.__("Recurrence")),1),n("section",Hj,[n("p",qj,d(v.__("Repeat every")),1),z(n("input",{"onUpdate:modelValue":x[0]||(x[0]=w=>l.every=w),type:"number",class:"mr-2 block w-16 rounded-md border-gray-300 px-2.5 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0",min:"1",max:"99",onChange:x[1]||(x[1]=w=>l.every=Math.max(Math.min(Math.round(l.every),99),1))},null,544),[[K,l.every]]),z(n("select",{"onUpdate:modelValue":x[2]||(x[2]=w=>l.type=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[n("option",Wj,"Day"+d(l.every>1?"s":""),1),n("option",Kj," Week"+d(l.every>1?"s":""),1),n("option",Yj," Month"+d(l.every>1?"s":""),1),n("option",Gj," Year"+d(l.every>1?"s":""),1)],512),[[xe,l.type]])]),l.type=="daily"?(g(),y("section",Xj,[n("p",Jj,d(v.__("Hour At")),1),z(n("select",{"onUpdate:modelValue":x[3]||(x[3]=w=>l.hour_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),y(oe,null,ue(24,(w,b)=>n("option",{key:w,value:b},d(b.toString().padStart(2,"0"))+":00 ",9,Qj)),64))],512),[[xe,l.hour_at]])])):j("",!0),l.type=="weekly"?(g(),y("section",Zj,[n("p",eR,d(v.__("Repeat on")),1),n("div",tR,[(g(),y(oe,null,ue(a,w=>n("span",{key:w.value,class:X(["flex h-6 w-6 cursor-pointer items-center justify-center rounded text-xs",{"border border-gray-300 text-gray-500":!l.repeat_on.includes(w.value),"bg-indigo-600 text-white":l.repeat_on.includes(w.value)}]),onClick:b=>c(w.value)},d(w.label),11,sR)),64))])])):j("",!0),l.type=="monthly"?(g(),y("section",nR,[n("p",oR,d(v.__("Day")),1),z(n("select",{"onUpdate:modelValue":x[4]||(x[4]=w=>l.day_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),y(oe,null,ue(31,w=>n("option",{key:w,value:w},d(w.toString().padStart(2,"0")),9,iR)),64)),n("option",rR,d(v.__("Last Day")),1)],512),[[xe,l.day_at]])])):j("",!0),l.type=="yearly"?(g(),y("section",aR,[n("p",lR,d(v.__("Month"))+" / "+d(v.__("Day")),1),z(n("select",{"onUpdate:modelValue":x[5]||(x[5]=w=>l.month_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),y(oe,null,ue(r,w=>n("option",{key:w.label,value:w.value},d(w.label),9,dR)),64))],512),[[xe,l.month_at]]),z(n("select",{"onUpdate:modelValue":x[6]||(x[6]=w=>l.day_at=w),class:"ml-2 block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),y(oe,null,ue(31,w=>n("option",{key:w,value:w},d(w.toString().padStart(2,"0")),9,cR)),64)),n("option",uR,d(v.__("Last Day")),1)],512),[[xe,l.day_at]])])):j("",!0),n("section",mR,[n("p",fR,d(v.__("Ends")),1),n("div",pR,[n("div",hR,[z(n("input",{id:"ends-never","onUpdate:modelValue":x[7]||(x[7]=w=>l.ends=w),type:"radio",value:"never",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[In,l.ends]]),n("label",gR,[n("span",_R,d(v.__("Never")),1)])]),n("div",vR,[n("div",yR,[z(n("input",{id:"ends-on","onUpdate:modelValue":x[8]||(x[8]=w=>l.ends=w),type:"radio",value:"on",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[In,l.ends]]),n("label",xR,[n("span",bR,d(v.__("On")),1)])]),n("div",null,[S(f(zj),{id:"ends-on-date",modelValue:l.ends_at,"onUpdate:modelValue":x[9]||(x[9]=w=>l.ends_at=w),disabled:l.ends!="on",class:"block rounded-md border-gray-300 px-2 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50"},null,8,["modelValue","disabled"])])]),n("div",wR,[n("div",kR,[z(n("input",{id:"ends-after","onUpdate:modelValue":x[10]||(x[10]=w=>l.ends=w),type:"radio",value:"after",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[In,l.ends]]),n("label",$R,[n("span",CR,d(v.__("After")),1)])]),n("div",null,[n("div",{class:X(["flex rounded-md border border-gray-300 shadow-sm",{"opacity-50":l.ends!="after"}])},[z(n("input",{"onUpdate:modelValue":x[11]||(x[11]=w=>l.repetitions=w),type:"number",placeholder:"1",class:"block w-20 rounded-md border-0 px-2.5 py-1.5 text-xs text-gray-800 focus:ring-0",disabled:l.ends!="after",onChange:x[12]||(x[12]=w=>l.repetitions=Math.max(Math.min(Math.round(l.repetitions),999),1))},null,40,SR),[[K,l.repetitions]]),n("div",MR,[n("span",TR,d(v.__("Occurences")),1)])],2)])])])]),n("section",DR,[n("div",AR,[z(n("input",{id:"task-completion","onUpdate:modelValue":x[13]||(x[13]=w=>l.task_completion_required=w),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,l.task_completion_required]]),n("label",PR,d(v.__("Only if last task was completed")),1)])]),n("section",ER,[S(f(Le),{size:"xs",processing:t.value,onClick:u},{default:W(()=>[J(d(v.__("Save")),1)]),_:1},8,["processing"]),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:m},d(v.__("Cancel")),1)])])])]),_:1},8,["close"]))}}),RR={class:"py-3.5"},IR={class:"flex items-center px-2"},OR={class:"text-sm font-medium text-gray-600"},LR=["aria-label"],FR={key:0,class:"flex items-center px-2 pt-3"},NR={"aria-label":"Next Recurring At","data-cooltipz-dir":"bottom"},zR={class:"ml-2 text-xs text-gray-600"},UR=ve({__name:"TaskRecurring",setup(s){const e=os();return(t,o)=>(g(),y("section",RR,[n("div",IR,[n("h2",OR,d(t.__("Repeat")),1),f(e).data.recurring_at?(g(),y("span",{key:0,class:"ml-2","aria-label":f(e).data.meta.recurring.phrase,"data-cooltipz-dir":"bottom"},[S(f(tr),{class:"h-3 w-3 text-gray-600"})],8,LR)):j("",!0),t.can("task:update")?(g(),re(jR,{key:1,class:"ml-auto"})):j("",!0)]),f(e).data.recurring_at?(g(),y("div",FR,[n("span",NR,[S(f(hs),{class:"h-4 w-4 text-gray-500"})]),n("p",zR,d(f(e).data.recurring_at),1)])):j("",!0)]))}}),BR={class:"group relative flex py-1"},VR={class:"h-6 w-6"},HR={class:"group flex-1 ltr:pl-4 rtl:pr-4"},qR={class:"flex"},WR={class:"flex text-sm font-medium leading-none text-gray-700"},KR={class:"text-xs font-normal text-gray-500 ltr:ml-3 rtl:mr-3"},YR=["innerHTML"],GR={key:0,class:"mt-4 mb-1 divide-y rounded-md border"},XR={class:"flex flex-1 items-center"},JR=["href"],QR=["href"],ZR={class:"mr-2 text-sm text-gray-600"},eI={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},tI=ve({__name:"CommentItem",props:{id:{},index:{},comment:{}},setup(s){const e=s,t=new Xe.Renderer,o=t.link;t.link=(c,u,m)=>o.call(t,c,u,m).replace(/^<a /,'<a target="_blank" rel="noreferrer noopener nofollow" ');const i=os(),r=E(!1),a=E(!1);function l(){a.value||(a.value=!0,ce.delete(`comments/${e.id}`).then(({data:c})=>{var u;a.value=!1,c.success&&((u=i.data)==null||u.comments.splice(e.index,1))}))}return(c,u)=>(g(),y("div",BR,[n("div",VR,[S(f(cs),{class:"h-6 w-6",avatar:s.comment.user.avatar},null,8,["avatar"])]),n("div",HR,[n("div",qR,[n("h2",WR,[J(d(s.comment.user.name)+" ",1),n("span",KR,d(s.comment.updated_at),1)])]),n("p",{class:"prose prose-sm mt-1.5 break-all text-sm text-gray-600",innerHTML:f(Xe).parse(s.comment.text||"",{breaks:!0,renderer:f(t)})},null,8,YR),s.comment.attachments.length?(g(),y("ul",GR,[(g(!0),y(oe,null,ue(s.comment.attachments,m=>(g(),y("li",{key:m.name,class:"flex items-center py-2 px-3"},[n("div",XR,[u[2]||(u[2]=n("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),n("a",{href:"/"+m.path,class:"block w-0 flex-1 truncate text-xs text-gray-700 hover:underline ltr:ml-2 ltr:pr-2 rtl:mr-2 rtl:pl-2",target:"blank"},d(m.name),9,JR)]),n("a",{href:"/"+m.path,class:"ltr:ml-auto rtl:mr-auto",target:"blank"},[S(f(Av),{class:"h-5 w-5 text-gray-400"})],8,QR)]))),128))])):j("",!0)]),r.value?(g(),y("div",{key:0,class:X(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":a.value}])},[n("span",ZR,d(c.__("Are you sure to delete?")),1),S(f(Yt),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:l}),S(f(mn),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:u[0]||(u[0]=m=>r.value=!1)})],2)):(g(),y("div",eI,[s.comment.user_id==f(vt).user.id?(g(),re(f(Gt),{key:0,class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-900",onClick:u[1]||(u[1]=m=>r.value=!0)})):j("",!0)]))]))}}),sI={class:"px-3 py-2 text-sm text-gray-500"},nI={class:"mt-1 mb-4 rounded-md border border-gray-300",enctype:"multipart/form-data"},oI=["placeholder","onKeydown"],iI={key:0,class:"mx-3 mt-1 mb-1 divide-y rounded-md border"},rI={class:"flex items-center"},aI={class:"w-0 flex-1 truncate text-sm ltr:ml-2 rtl:mr-2"},lI=["onClick"],dI={key:0,class:"mt-2 w-full rounded-md bg-green-100"},cI={class:"flex items-center px-3 pt-2 pb-3"},uI={class:"flex items-center"},mI={class:"ml-auto flex"},fI={class:"cursor-pointer"},y1=ve({__name:"CommentForm",props:{id:{},index:{},comment:{}},setup(s){const e=s;Ne(()=>{var k;Lx(document.querySelectorAll(".autosize")),(k=r.value)==null||k.focus()});const t=os(),o=E(e.comment?e.comment.attachments:[]),i=E(e.comment?e.comment.comment:""),r=E(null),a=E(!e.id),l=E({}),c=E({}),u=E(!1),m=rn();function h(){a.value=!0,i.value="",t.commentForm=null}function p(){a.value=!1,setTimeout(function(){var k;(k=r.value)==null||k.focus()})}function _(){m.fetch(t.data.project_id)}function v(k){k.preventDefault(),o.value=[...k.target.files];for(let C=0;C<o.value.length;C++)x(C)}function x(k){const C=o.value[k],$=new FileReader;$.readAsDataURL(C),$.onload=()=>{const A=new FormData;A.append("file",C),ce.post("file",A,{onUploadProgress:function(R){l.value[k]=Math.round(R.loaded*100/R.total)-5}}).then(({data:R})=>{c.value[k]={path:R,name:C.name},l.value[k]=100})}}function w(k){delete c.value[k],o.value.splice(k,1)}function b(){i.value&&(u.value=!0,ce.post("tasks/"+t.data.id+"/comments",{text:i.value,task_id:t.data.id,attachments:c.value}).then(({data:k})=>{t.data.comments.push(k),i.value="",o.value=[],c.value={},l.value={},u.value=!1,_()}))}return(k,C)=>(g(),y("div",null,[z(n("div",{class:"mt-1 mb-4 cursor-pointer rounded-md border border-gray-300 hover:shadow",onClick:p},[n("p",sI,d(k.__("Write a comment")),1)],512),[[zt,a.value]]),z(n("form",nI,[z(n("textarea",{ref_key:"input",ref:r,"onUpdate:modelValue":C[0]||(C[0]=$=>i.value=$),class:"autosize comment-textarea block max-h-40 w-full resize-none rounded-md border-0 text-sm focus:ring-0",placeholder:k.__("Write a comment"),onKeydown:[On(Ve(b,["ctrl"]),["enter"]),On(h,["esc"])]},null,40,oI),[[K,i.value]]),o.value.length?(g(),y("ul",iI,[(g(!0),y(oe,null,ue(o.value,($,A)=>(g(),y("li",{key:$.name,class:"block py-2 px-3"},[n("div",rI,[C[2]||(C[2]=n("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),n("span",aI,d($.name),1),n("span",{class:"cursor-pointer ltr:ml-auto rtl:mr-auto",onClick:R=>w(A)},[...C[1]||(C[1]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,lI)]),l.value[A]?(g(),y("div",dI,[n("span",{class:"block h-1 rounded-md bg-green-400",style:bt({width:l.value[A]+"%"})},null,4)])):j("",!0)]))),128))])):j("",!0),n("div",cI,[n("div",uI,[n("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:b},d(k.__("Save")),1),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:h},d(k.__("Cancel")),1)]),n("div",mI,[n("label",fI,[n("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/gif,.doc,.docx,.pdf,.txt",multiple:"",onChange:v},null,32),C[3]||(C[3]=n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1))])])])],512),[[zt,!a.value]])]))}}),pI={id:"comments",class:"mt-8"},hI={class:"flex"},gI={class:"flex-1 border-b pb-2"},_I={class:"text-sm font-medium text-gray-800"},vI={class:"ml-2 text-sm font-light text-gray-600"},yI={class:"pl-8 pt-4"},xI={class:"space-y-4"},bI=ve({__name:"TaskComments",setup(s){const e=os();return(t,o)=>(g(),y("section",pI,[S(f(Qc),{open:!0},{trigger:W(({open:i})=>[n("div",hI,[(g(),y("svg",{class:X(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!i}]),viewBox:"0 0 16 16"},[...o[0]||(o[0]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("div",gI,[n("span",_I,d(t.__("Comments")),1),n("span",vI,d(f(e).data.comments.length),1)])])]),content:W(()=>[n("div",yI,[S(y1),n("div",xI,[(g(!0),y(oe,null,ue(f(e).data.comments,(i,r)=>(g(),re(Xn(f(e).commentForm==r?y1:tI),{key:i.id,id:i.id,index:r,comment:i},null,8,["id","index","comment"]))),128))])])]),_:1})]))}}),wI={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},kI=["onClick"],$I={key:0,class:"inline-block h-5 w-5 rounded-full bg-blue-400 text-white"},CI={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},SI=ve({__name:"TaskAssign",setup(s){const e=os(),t=rn(),o=Ze("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!o("task:update"))return;let l=e.data.users.findIndex(c=>c.id==a.id);l>=0?e.data.users.splice(l,1):e.data.users.push({id:a.id,name:a.name}),ce.patch("tasks/"+e.data.id+"/assign",{user:a.id}).then(({data:c})=>{i()})}return(a,l)=>(g(),re(f(Gs),{name:"task-assign",modal:!0,"close-outside":""},{trigger:W(()=>[...l[0]||(l[0]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:W(()=>[n("div",wI,[(g(!0),y(oe,null,ue(f(e).data.project.users,c=>(g(),y("div",{key:c.id,class:X(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":f(o)("task:update")}]),onClick:u=>r(c)},[f(e).data.users.length&&f(e).data.users.find(u=>u.id==c.id)?(g(),y("span",$I,[...l[1]||(l[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])])):(g(),re(f(cs),{key:1,class:"h-5 w-5",avatar:c.avatar},null,8,["avatar"])),n("span",CI,d(c.name),1)],10,kI))),128))])]),_:1}))}}),MI={class:"py-3.5"},TI={class:"flex items-center px-2"},DI={class:"text-sm font-medium text-gray-600"},AI={key:0,class:"flex flex-wrap px-2 pt-2"},PI=ve({__name:"TaskAssignee",setup(s){const e=os();return(t,o)=>(g(),y("section",MI,[n("div",TI,[n("h2",DI,d(t.__("Assignee")),1),t.can("task:update")?(g(),re(SI,{key:0,class:"ml-auto"})):j("",!0)]),f(e).data.users.length?(g(),y("div",AI,[(g(!0),y(oe,null,ue(f(e).data.users,i=>(g(),re(f(cs),{key:i.id,"data-cooltipz-dir":"top","aria-label":i.name,class:"mr-1 mb-1 h-6 w-6 border-2 border-white",avatar:i.avatar},null,8,["aria-label","avatar"]))),128))])):j("",!0)]))}}),EI={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},jI={key:0,class:"py-1.5 text-center text-xs text-gray-600"},RI=["onClick"],II={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},OI=ve({__name:"TaskLabelsDropdown",setup(s){const e=os(),t=rn(),o=Ze("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!o("task:update"))return;const l=["not started","started","in progress","completed","stuck"],c=l.includes(a.name.toLowerCase());let u=e.data.labels.findIndex(m=>m.id==a.id);u>=0?e.data.labels.splice(u,1):(c&&(e.data.labels=e.data.labels.filter(m=>!l.includes(m.name.toLowerCase()))),e.data.labels.push({id:a.id,name:a.name,meta:{color:a.meta.color}})),ce.patch("tasks/"+e.data.id+"/label",{label:a.id}).then(({data:m})=>{m.completed_at!==void 0&&(e.data.completed_at=m.completed_at),i()})}return(a,l)=>(g(),re(f(Gs),{name:"task-labels",modal:!0,"close-outside":""},{trigger:W(()=>[...l[0]||(l[0]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:W(()=>[n("div",EI,[f(e).options.labels.length?j("",!0):(g(),y("p",jI," There are No Labels! ")),(g(!0),y(oe,null,ue(f(e).options.labels,c=>(g(),y("div",{key:c.label,class:X(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":f(o)("task:update")}]),onClick:u=>r(c)},[f(e).data.labels.length&&f(e).data.labels.find(u=>u.id==c.id)?(g(),re(f(mE),{key:0,class:"inline-block h-4 w-4",style:bt({color:c.meta.color})},null,8,["style"])):(g(),re(f(Tx),{key:1,class:"inline-block h-4 w-4",style:bt({color:c.meta.color})},null,8,["style"])),n("span",II,d(c.name),1)],10,RI))),128))])]),_:1}))}}),LI={class:"py-3.5"},FI={class:"flex items-center px-2"},NI={class:"text-sm font-medium text-gray-600"},zI={key:0,class:"flex flex-wrap px-2 pt-2"},UI=ve({__name:"TaskLabels",setup(s){const e=os();return(t,o)=>(g(),y("section",LI,[n("div",FI,[n("h2",NI,d(t.__("Labels")),1),t.can("task:update")?(g(),re(OI,{key:0,class:"ml-auto"})):j("",!0)]),f(e).data.labels.length?(g(),y("div",zI,[(g(!0),y(oe,null,ue(f(e).data.labels,i=>(g(),y("span",{key:i.id,class:"mb-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white ltr:mr-2 rtl:ml-2",style:bt({"background-color":i.meta.color})},[o[0]||(o[0]=n("svg",{class:"-ml-0.5 mr-1.5 h-2 w-2 text-white",fill:"currentColor",viewBox:"0 0 8 8"},[n("circle",{cx:"4",cy:"4",r:"3"})],-1)),J(" "+d(i.name),1)],4))),128))])):j("",!0)]))}}),BI={class:"py-3"},VI={class:"px-2 text-sm font-medium text-gray-600"},HI={key:0,class:"mt-2 flex items-center px-2 py-1"},qI={class:"block text-xs leading-none text-gray-600"},WI={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},KI={class:"block h-3.5 text-xs leading-none text-gray-600"},YI={class:"absolute z-30 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},GI=["onClick"],XI=ve({__name:"TaskProjectList",setup(s){const e=os(),t=rn();function o(){t.fetch(e.data.project_id)}function i(r){e.data.project_list.name=r.name,ce.patch(`tasks/${e.data.id}/list`,{project_list_id:r.id}).then(()=>{o()})}return(r,a)=>(g(),y("section",BI,[n("h2",VI,d(r.__("Project List")),1),r.can("task:update")?(g(),re(f(Gs),{key:1},{trigger:W(()=>[n("div",WI,[n("span",KI,d(f(e).data.project_list.name),1),a[0]||(a[0]=n("svg",{class:"ml-auto hidden h-3.5 w-3.5 cursor-pointer text-gray-500 group-hover:block",viewBox:"0 0 16 16"},[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"})],-1))])]),content:W(()=>[n("div",YI,[(g(!0),y(oe,null,ue(f(e).options.project_lists,l=>(g(),y("span",{key:l.name,class:"block cursor-pointer px-4 py-2 text-xs text-gray-600 hover:bg-gray-200",onClick:c=>i(l)},d(l.name),9,GI))),128))])]),_:1})):(g(),y("div",HI,[n("span",qI,d(f(e).data.project_list.name),1)]))]))}}),JI={class:"pb-3"},QI={class:"px-2 text-sm font-medium text-gray-600"},ZI={class:"mt-2 flex items-center px-2"},eO={key:0,class:"pr-4"},tO={key:1,class:"text-red-500"},sO={key:2,class:"text-gray-600"},nO=ve({__name:"TaskTimer",setup(s){const e=os(),t=Jr(),o=E(!1),i=E(!1);function r(){if(i.value)return`${t.currentTaskTimer.h.toString().padStart(2,"0")}:${t.currentTaskTimer.m.toString().padStart(2,"0")}:${t.currentTaskTimer.s.toString().padStart(2,"0")}`;let u=e.data.total_seconds,m=Math.floor((u||0)%60),h=Math.floor((u||0)%3600/60);return`${Math.floor((u||0)/3600).toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}function a(){i.value||(t.setTimer(e.data.total_seconds),i.value=!0),setTimeout(function(){t.start(e.data)})}function l(){t.stop()}function c(){if(e.data.users.length&&e.data.users.find(u=>u.id==vt.user.id))return o.value=!0;o.value=!1}return c(),(u,m)=>(g(),y("section",JI,[n("h2",QI,d(u.__("Time")),1),n("div",ZI,[o.value?(g(),y("div",eO,[f(e).data.id==f(t).taskId?(g(),y("span",{key:0,onClick:Ve(l,["stop"])},[S(f(Kr),{class:"h-4 w-4 cursor-pointer text-red-500 hover:text-red-700"})])):(g(),y("span",{key:1,onClick:Ve(a,["stop"])},[S(f(qc),{class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-700"})]))])):j("",!0),f(e).data.id==f(t).taskId?(g(),y("p",tO,d(f(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+d(f(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+d(f(t).currentTaskTimer.s.toString().padStart(2,"0")),1)):(g(),y("p",sO,d(r()),1))])]))}}),oO={class:"py-3"},iO={class:"px-2 text-sm font-medium text-gray-600"},rO={key:0,class:"mt-2 flex items-center px-2","data-cooltipz-dir":"top"},aO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},lO={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},dO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},cO={class:"absolute z-30 mt-2 ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},uO=ve({__name:"TaskDueDate",setup(s){const e=E(!1),t=os(),o=rn();function i(){o.fetch(t.data.project_id)}const r=function(a){e.value=!0,t.data.due_at=a?a.date:null,t.data.human_due_date=a?a.label:null,ce.patch("tasks/"+t.data.id+"/due-date",{due_at:a?a.date:null}).then(({data:l})=>{i()})};return(a,l)=>(g(),y("section",oO,[n("h2",iO,d(a.__("Due Date")),1),a.can("task:update")?(g(),re(f(Gs),{key:1,"close-outside":"",close:e.value,modal:!0},{trigger:W(()=>[n("div",lO,[S(f(nn),{class:"h-4 w-4 text-gray-500"}),n("span",dO,d(f(t).data.due_at?f(t).data.human_due_date:a.__("No due date")),1),f(t).data.due_at?(g(),y("span",{key:0,class:"ml-auto flex h-4 w-4 items-center justify-center rounded-md hover:bg-gray-300",onClick:Ve(r,["stop"])},[S(f(ui),{class:"h-3.5 w-3.5 text-gray-600"})])):j("",!0)])]),content:W(()=>{var c;return[n("div",cO,[S(f(O6),{date:((c=f(t).data)==null?void 0:c.due_at)||"",onSelected:r},null,8,["date"])])]}),_:1},8,["close"])):(g(),y("div",rO,[S(f(nn),{class:"h-4 w-4 text-gray-500"}),n("span",aO,d(f(t).data.due_at?f(t).data.due_at:a.__("No due date")),1)]))]))}}),mO={key:0,class:"flex justify-center rounded-lg bg-gray-300 py-28"},fO={key:1},pO={class:"flex border-b border-gray-200 shadow-sm"},hO={class:"flex items-center px-6 text-sm text-gray-700"},gO={class:"flex"},_O={class:"flex-1 px-6 pt-6 pb-8"},vO={class:"w-60 divide-y divide-gray-200 rounded-br-lg bg-gray-50 px-6 py-6"},lu=ve({__name:"TaskModal",props:{id:{}},setup(s){const e=s,t=os();t.fetch(e.id),Ft().onHide(function(){if(window.location.pathname.split("/")[1]=="projects"){const i=`/projects/${t.data.project_id}`;history.replaceState(history.state,"",i)}});function o(){Ft().pop()}return(i,r)=>(g(),re(f(_o),{width:"max-w-3xl"},{default:W(()=>[f(t).loading?(g(),y("div",mO,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",fO,[n("div",pO,[n("div",hO,[n("span",{class:"inline-block h-2.5 w-2.5 rounded-full ltr:mr-2 rtl:ml-2",style:bt({"background-color":f(t).data.project.meta.color})},"  ",4),n("span",null,d(f(t).data.project.name),1),r[0]||(r[0]=n("span",{class:"px-2"},"/",-1)),n("span",null,d(f(t).data.project_list.name),1)]),n("div",{class:"ml-auto flex items-center"},[n("span",{class:"cursor-pointer px-4 py-4 text-gray-600 hover:text-gray-800",onClick:o},[...r[1]||(r[1]=[n("svg",{class:"h-6 w-6",viewBox:"0 0 21 21"},[n("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(5 5)"},[n("path",{d:"m10.5 10.5-10-10z"}),n("path",{d:"m10.5.5-10 10"})])],-1)])])])]),n("div",gO,[n("main",_O,[S(tj),S(pj),S(bI)]),n("aside",vO,[S(nO),S(XI),S(PI),S(uO),S(UI),S(UR),i.can("task:delete")?(g(),re(Pj,{key:0})):j("",!0),S($j)])])]))]),_:1}))}}),yO=["data-id"],xO={class:"flex py-1.5"},bO=["textContent"],wO={class:"flex items-center"},kO={class:"flex flex-1"},$O={key:0,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},CO=["aria-label"],SO={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},MO=["textContent"],TO={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},DO=["textContent"],AO={key:1,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},PO=["textContent"],EO={key:0,class:"flex items-center py-1 ltr:ml-auto rtl:mr-auto"},jO=["src","title"],RO=["title"],IO={key:0,class:"mt-1 flex flex-wrap"},OO={key:1,class:"mt-1.5 mb-1.5 flex items-center"},LO={class:"ml-1 text-xs text-red-600"},FO=ve({__name:"ListItem",props:{task:{}},setup(s){const e=s,t=Jr(),o=E(!1);function i(l=null){const c=`/projects/${e.task.project_id}/tasks/${l}`;history.replaceState(history.state,"",c),Ft().add(lu,{id:l,width:"max-w-3xl"})}function r(l){return l[0].checklist_items.filter(c=>c.completed_at!=null).length+"/"+l[0].checklist_items.length}function a(){if(e.task.users.length&&e.task.users.find(l=>l.id==vt.user.id))return o.value=!0;o.value=!1}return a(),(l,c)=>(g(),y("div",{id:"list-item","data-id":s.task.id,class:"mb-2 block cursor-pointer rounded bg-white px-2.5 py-1 shadow-md",onClick:c[1]||(c[1]=u=>i(s.task.id))},[n("div",xO,[n("span",{class:X(["block flex-1 text-sm",{"text-gray-500 line-through":s.task.completed_at,"text-gray-700":!s.task.completed_at}]),textContent:d(s.task.title)},null,10,bO)]),n("div",wO,[n("div",kO,[s.task.recurring_at?(g(),y("div",$O,[n("span",{"aria-label":s.task.meta.recurring.phrase,"data-cooltipz-dir":"right","data-cooltipz-size":"medium"},[S(f(tr),{class:"h-4 w-4 text-gray-400"})],8,CO)])):j("",!0),z(n("div",SO,[S(f(nn),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:d(s.task.human_due_date)},null,8,MO)],512),[[zt,s.task.due_at]]),z(n("div",TO,[S(f(l$),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:d(s.task.comments.length)},null,8,DO)],512),[[zt,s.task.comments.length]]),s.task.checklists.length&&s.task.checklists[0].checklist_items.length?(g(),y("div",AO,[S(f(Yt),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs tracking-widest text-gray-500 ltr:ml-0.5 rtl:mr-0.5",textContent:d(r(s.task.checklists))},null,8,PO)])):j("",!0)]),s.task.users.length?(g(),y("div",EO,[z(n("span",null,null,512),[[zt,a()]]),z(n("img",{class:"h-4 w-4 rounded-full",src:s.task.users[0].avatar,alt:"avatar",title:s.task.users[0].name},null,8,jO),[[zt,s.task.users[0].avatar]]),z(n("span",{title:s.task.users[0].name,class:"inline-block h-4 w-4 overflow-hidden rounded-full bg-gray-100 text-gray-300"},[...c[2]||(c[2]=[n("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])],8,RO),[[zt,!s.task.users[0].avatar]]),z(n("span",{class:"text-[9px] text-gray-600 ltr:ml-px rtl:mr-px"},"+"+d(s.task.users.length-1),513),[[zt,s.task.users.length>1]])])):j("",!0)]),s.task.labels.length?(g(),y("div",IO,[(g(!0),y(oe,null,ue(s.task.labels,u=>(g(),y("span",{key:u.id,class:"mb-1 inline-flex items-center rounded-md px-1.5 py-1 text-[10px] font-semibold leading-none text-white ltr:mr-1 rtl:ml-1",style:bt({"background-color":u.meta.color})},d(u.name),5))),128))])):j("",!0),s.task.id==f(t).taskId&&f(t).isTimerRunning?(g(),y("div",OO,[n("span",{onClick:c[0]||(c[0]=Ve((...u)=>f(t).stop&&f(t).stop(...u),["stop"]))},[S(f(Kr),{class:"h-[0.875rem] w-[0.875rem] text-red-500 hover:text-red-800"})]),n("p",LO,d(f(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+d(f(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+d(f(t).currentTaskTimer.s.toString().padStart(2,"0")),1)])):j("",!0)],8,yO))}}),NO={class:"px-2"},zO={class:"block text-sm text-gray-500 group-hover:text-gray-700 ltr:ml-2 rtl:mr-2"},UO={class:"mb-2"},BO={class:"mt-2"},VO=ve({__name:"TaskFormQuick",props:{projectId:{},listId:{},listIndex:{}},setup(s){const e=s,t=E(!1),o=E(!1),i=E(""),r=E(null),a=rn();function l(){t.value=!0,setTimeout(function(){var m;(m=r.value)==null||m.focus()})}function c(){t.value=!1,i.value=""}function u(){i.value&&(o.value=!0,ce.post("tasks",{task:i.value,project_id:e.projectId,list_id:e.listId}).then(m=>{a.data.lists[e.listIndex].tasks.push(m.data),i.value="",t.value=!1,o.value=!1}))}return(m,h)=>(g(),y("div",NO,[z(n("div",{class:"group mb-1.5 flex cursor-pointer items-center rounded py-2 hover:bg-gray-300 ltr:pl-2 rtl:pr-2",onClick:l},[h[1]||(h[1]=n("svg",{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),n("span",zO,d(m.__("Add task")),1)],512),[[zt,!t.value]]),z(n("div",UO,[z(n("input",{ref_key:"taskinput",ref:r,"onUpdate:modelValue":h[0]||(h[0]=p=>i.value=p),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter a task",onKeyup:[On(u,["enter"]),On(c,["escape"])]},null,544),[[K,i.value]]),n("div",BO,[S(f(Le),{size:"xs",processing:o.value,onClick:u},{default:W(()=>[J(d(m.__("Add task")),1)]),_:1},8,["processing"]),S(f(Le),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:o.value,onClick:c},{default:W(()=>[J(d(m.__("Cancel")),1)]),_:1},8,["disabled"])])],512),[[zt,t.value]])]))}}),HO={id:"kanban-wrapper",class:"relative flex-1"},qO={id:"container",class:"absolute inset-0 select-none overflow-x-auto overflow-y-hidden whitespace-nowrap text-[0] transition-opacity"},WO=["data-id"],KO={class:"box-border flex max-h-full flex-col whitespace-normal rounded bg-gray-200"},YO=["id","data-id"],GO={key:0,class:"box-border inline-block h-full w-72 whitespace-nowrap align-top text-base"},XO={class:"text-sm text-gray-700 ltr:ml-2 rtl:mr-2"},JO={class:"box-border max-h-full whitespace-normal rounded bg-gray-200"},QO={class:"py-2.5 px-2"},ZO={class:"mt-1 flex"},eL=ve({__name:"TabBoard",setup(s){const e=rn(),t=E(!1),o=E(""),i=E(null),r=E(!1);Pt(()=>e.data.lists,h=>{},{immediate:!0,deep:!0});function a(){t.value=!0,setTimeout(function(){var h;(h=i.value)==null||h.focus()})}function l(){const h=e.data.lists.length-1;setTimeout(function(){st.create(document.getElementById(`list-${h}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(p){ce.patch(`tasks/${p.item.getAttribute("data-id")}/sort`,{id:p.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:_})=>{})},onAdd:function(p){const _=p.item.getAttribute("data-id");ce.patch(`tasks/${_}/move`,{projectId:e.data.id,fromList:p.from.getAttribute("data-id"),toList:p.to.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:v})=>{})}})})}function c(){t.value=!1,o.value=""}function u(){o.value&&(r.value=!0,ce.post("projects/"+e.data.id+"/lists",{name:o.value}).then(h=>{t.value=!1,o.value="",e.data.lists.push(h.data),r.value=!1,l()}))}const m=Ze("can");return Ne(function(){const h=document.querySelector("#kanban-wrapper");if(h.style.height=window.innerHeight-(64+24+48+16+24)+"px",m("task-list:update")){st.create(document.getElementById("container"),{draggable:"#section-draggable",onUpdate:function(p){ce.patch(`projects/${e.data.id}/list-sort`,{id:p.item.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:_})=>{e.data.lists=_})}});for(let p=0;p<e.data.lists.length;p++)st.create(document.getElementById(`list-${p}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(_){ce.patch(`tasks/${_.item.getAttribute("data-id")}/sort`,{id:_.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:_.oldIndex,newIndex:_.newIndex}).then(({data:v})=>{})},onAdd:function(_){const v=_.item.getAttribute("data-id");ce.patch(`tasks/${v}/move`,{projectId:e.data.id,fromList:_.from.getAttribute("data-id"),toList:_.to.getAttribute("data-id"),oldIndex:_.oldIndex,newIndex:_.newIndex}).then(({data:x})=>{})}})}}),(h,p)=>(g(),y("div",HO,[n("div",qO,[(g(!0),y(oe,null,ue(f(e).data.lists,(_,v)=>(g(),y("section",{id:"section-draggable",key:_.id,"data-id":_.id,class:"box-border inline-block h-full w-72 whitespace-nowrap rounded align-top text-base ltr:mr-4 rtl:ml-4"},[n("div",KO,[S(kE,{id:_.id,name:_.name,index:v},null,8,["id","name","index"]),n("div",{id:"list-"+v,"data-id":_.id,class:"min-h-0 overflow-y-auto px-2"},[(g(!0),y(oe,null,ue(_.tasks,x=>(g(),re(FO,{key:x.id,task:x},null,8,["task"]))),128))],8,YO),S(VO,{"project-id":_.project_id,"list-id":_.id,"list-index":v},null,8,["project-id","list-id","list-index"])])],8,WO))),128)),f(m)("task-list:create")?(g(),y("section",GO,[z(n("div",{class:"flex cursor-pointer items-center rounded border-2 border-dashed border-gray-300 px-2 py-1.5 hover:border-gray-400",onClick:a},[p[1]||(p[1]=n("svg",{class:"h-6 w-6 text-gray-600",viewBox:"0 0 21 21",fill:"currentColor"},[n("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{d:"m5.5 10.5h10"}),n("path",{d:"m10.5 5.5v10"})])],-1)),n("span",XO,d(h.__("Add list")),1)],512),[[zt,!t.value]]),z(n("div",JO,[n("div",QO,[z(n("input",{ref_key:"listinput",ref:i,"onUpdate:modelValue":p[0]||(p[0]=_=>o.value=_),type:"text",placeholder:"Enter list title...",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:On(u,["enter"])},null,544),[[K,o.value]]),n("div",ZO,[S(f(Le),{size:"xs",processing:r.value,onClick:u},{default:W(()=>[J(d(h.__("Add list")),1)]),_:1},8,["processing"]),S(f(Le),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:r.value,onClick:c},{default:W(()=>[J(d(h.__("Cancel")),1)]),_:1},8,["disabled"])])])],512),[[zt,t.value]])])):j("",!0)])]))}}),tL={class:"cursor-pointer text-gray-600 hover:text-gray-700"},sL={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},nL={class:"py-1",role:"none"},oL=ve({__name:"DetailMenu",props:{projectId:{},isFavorite:{}},setup(s){const e=s,t=E(e.isFavorite);function o(){Ft().add(ru,{id:e.projectId})}function i(){ce.patch("/projects/"+e.projectId+"/favorite").then(({data:a})=>{Sh().flash(a.message),kf().items=a.favorites.favorites,t.value=a.favorite})}function r(){ce.patch(`projects/${e.projectId}/archive`).then(({data:a})=>{Sh().flash(a.message),window.location.href="/"})}return(a,l)=>(g(),re(f(Gs),{"close-outside":"",class:"inline-block ltr:ml-auto rtl:mr-auto"},{trigger:W(()=>[n("span",tL,[S(f(pE),{class:"h-4 w-4"})])]),content:W(()=>[n("div",sL,[n("div",nL,[n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i},d(t.value?a.__("Remove favorite"):a.__("Add to favorite")),1),a.can("project:update")?(g(),y("button",{key:0,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ve(o,["prevent"])},d(a.__("Edit")),1)):j("",!0),a.can("project:delete")?(g(),y("button",{key:1,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r},d(a.__("Archive")),1)):j("",!0)])])]),_:1}))}}),iL={class:"pb-8"},rL={class:"text-gray-700"},aL={class:"font-semibold text-gray-700 ltr:ml-2 rtl:mr-2"},lL=["href"],dL={class:"rounded-lg border-b border-gray-200 shadow"},cL={class:"min-w-full divide-y divide-gray-200"},uL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},mL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},fL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},pL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},hL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},gL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},_L={class:"divide-y divide-gray-200 bg-white"},vL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},yL=["onClick"],xL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},bL={class:"flex items-center"},wL={class:"ltr:ml-2 rtl:mr-2"},kL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},$L={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},CL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},SL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},ML=ve({__name:"TabTimeLogs",setup(s){const e=rn(),t=E(!0),o=E("00:00:00");r();function i(a=null){Ft().add(lu,{id:a,width:"max-w-3xl"})}function r(){ce.get("projects/"+e.data.id+"/total-time").then(({data:a})=>{const l=a,c=new Date(0,0);c.setSeconds(+l),o.value=c.toTimeString().slice(0,8),t.value=!1})}return(a,l)=>(g(),y("div",iL,[n("div",{class:X(["mt-2 mb-6 flex items-center",{"opacity-50":t.value}])},[n("span",rL,d(a.__("Total logged time"))+":",1),n("span",aL,d(o.value),1),n("a",{href:`/api/projects/${f(e).data.id}/export-time-logs`,class:"inline-flex items-center rounded border border-transparent bg-indigo-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ltr:ml-auto rtl:mr-auto"},d(a.__("Export CSV")),9,lL)],2),S(f(of),{name:"timelog",uri:`projects/${f(e).data.id}/time-logs`,"no-search":"","no-filters":""},{default:W(({items:c,index:u})=>[n("div",dL,[n("table",cL,[n("thead",null,[n("tr",null,[n("th",uL,d(a.__("Task")),1),n("th",mL,d(a.__("Assignee")),1),n("th",fL,d(a.__("Start")),1),n("th",pL,d(a.__("Stop")),1),n("th",hL,d(a.__("Time")),1),n("th",gL,d(a.__("Description")),1),l[0]||(l[0]=n("th",{class:"px-6 py-3"},"",-1))])]),n("tbody",_L,[(g(!0),y(oe,null,ue(c,m=>(g(),y("tr",{key:m.id},[n("td",vL,[n("p",{class:"cursor-pointer hover:text-gray-700",onClick:h=>i(m.task_id)},d(m.task.title),9,yL)]),n("td",xL,[n("div",bL,[S(f(cs),{class:"h-6 w-6",avatar:m.user.avatar},null,8,["avatar"]),n("span",wL,d(m.user.name),1)])]),n("td",kL,d(m.started_at),1),n("td",$L,d(m.stopped_at),1),n("td",CL,[n("p",null,d(m.time),1),J(" "+d(m.is_manual?"(manual)":""),1)]),n("td",SL,d(m.description||""),1),l[1]||(l[1]=n("td",{class:"px-6 py-3 text-right"},"",-1))]))),128))])]),S(f(Rs),{class:"rounded-b-lg",index:u},null,8,["index"])])]),_:1},8,["uri"])]))}}),TL={key:0,class:"mt-8 flex justify-center"},DL={key:1,class:"flex h-full flex-col"},AL={class:"flex items-center pb-4"},PL={class:"flex items-center"},EL={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},jL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},RL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},IL={class:"flex flex-shrink-0 -space-x-1 ltr:ml-8 rtl:mr-8"},x1=ve({__name:"Detail",setup(s){const e=rn(),t=Vr();Fk((r,a)=>{r.params.id!==a.params.id&&e.fetch(r.params.id)});const o=C6("project-detail")();o.tabs([{component:Dr(eL),label:"Board"},{component:Dr(ML),label:"Time Logs"}]),Pt(()=>e.fetching,r=>{!r&&e.data.id}),Pt(()=>o.tab,r=>{}),e.fetch(t.params.id);function i(r){Ft().add(lu,{id:parseInt(r)})}if(t.params.taskId){const r=t.params.taskId;i(r)}return(r,a)=>f(e).fetching?(g(),y("div",TL,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",DL,[n("div",AL,[n("div",PL,[n("span",{class:"block h-2.5 w-2.5 rounded-full ltr:mr-3 rtl:ml-3",style:bt({"background-color":f(e).data.meta.color})},null,4),n("h1",EL,d(f(e).data.name),1)]),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-8 rtl:mr-8",{"bg-gray-200 text-gray-800":f(o).active==0}]),onClick:a[0]||(a[0]=l=>f(o).select(0))},[S(f(Vv),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",jL,d(r.__("Board")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-2 rtl:mr-2",{"bg-gray-200 text-gray-800":f(o).active==1}]),onClick:a[1]||(a[1]=l=>f(o).select(1))},[S(f(hs),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",RL,d(r.__("Time Logs")),1)],2),n("div",IL,[(g(!0),y(oe,null,ue(f(e).data.users,l=>(g(),re(f(cs),{key:l.id,class:"h-6 w-6 max-w-none rounded-full ring-2 ring-white",avatar:l.avatar,"data-cooltipz-dir":"bottom","aria-label":l.name},null,8,["avatar","aria-label"]))),128))]),S(oL,{"project-id":f(e).data.id||0,"is-favorite":f(e).data.is_favorite},null,8,["project-id","is-favorite"])]),(g(),re(Xn(f(o).tab)))]))}}),OL=[{label:"General",uri:"/settings/general",permission:"setting:general"},{label:"Email",uri:"/settings/email",permission:"setting:email"},{label:"AdSense",uri:"/settings/adsense",permission:"setting:adsense"},{label:"Countries",uri:"/settings/countries",permission:"setting:general"},{label:"User Assignments",uri:"/settings/user-assignments",permission:"setting:general"},{label:"Labels",uri:"/labels",permission:"label:view"},{label:"Roles & Permissions",uri:"/roles",permission:"role:view"}],LL={class:"topbar flex justify-between"},FL={class:"mb-4 text-2xl font-semibold text-gray-900"},NL={class:"flex"},zL={class:"w-64"},UL={class:"py-1"},BL=["href","onClick"],VL={class:"flex-1 ltr:pl-6 rtl:pr-6"},ar=ve({__name:"SettingsLayout",setup(s){const e=Ze("can");return(t,o)=>{const i=Bt("router-link");return g(),y(oe,null,[n("div",LL,[n("h1",FL,d(t.__("Settings")),1),n("div",null,[Es(t.$slots,"topbar")])]),n("div",NL,[n("div",zL,[S(f(hi),{class:"overflow-hidden"},{default:W(()=>[n("nav",UL,[(g(!0),y(oe,null,ue(f(OL),r=>(g(),y(oe,{key:r.label},[!r.permission||f(e)(r.permission)?(g(),re(i,{key:0,to:r.uri,custom:""},{default:W(({href:a,navigate:l,isActive:c})=>[n("a",{href:a,class:X(["block px-4 py-2 text-sm",{"bg-gray-100 font-medium text-gray-900":c,"text-gray-700 hover:bg-gray-100 hover:text-gray-900":!c}]),onClick:l},d(t.__(r.label)),11,BL)]),_:2},1032,["to"])):j("",!0)],64))),128))])]),_:1})]),n("div",VL,[Es(t.$slots,"default")])])],64)}}}),HL=ve({__name:"Email",setup(s){const e=_s("setting-email")(),t=yo(),o=Cl(),i=cx();return e.onSuccess(()=>{Kn().success("Settings Saved Successfully!"),location.reload()}),(r,a)=>(g(),re(ar,null,{default:W(()=>[S(f(Uo),{name:"setting-email",uri:"settings/email",title:r.__("Email"),"save-only":""},{default:W(()=>[S(f(o),{name:"mail_driver",label:r.__("Driver"),"input-class":"max-w-xs",inline:""},null,8,["label"]),S(f(t),{name:"mail_host",label:r.__("Host"),inline:""},null,8,["label"]),S(f(t),{name:"mail_port",label:r.__("Port"),inline:""},null,8,["label"]),S(f(t),{name:"mail_username",label:r.__("Username"),inline:""},null,8,["label"]),S(f(t),{name:"mail_password",label:r.__("Password"),inline:""},null,8,["label"]),S(f(o),{name:"mail_encryption",label:r.__("Encryption"),"input-class":"max-w-xs",inline:""},null,8,["label"]),S(f(i),{name:"mail_verify_peer",label:r.__("Verify Peer"),inline:""},null,8,["label"]),S(f(t),{name:"mail_from_address",label:r.__("From Address"),inline:""},null,8,["label"]),S(f(t),{name:"mail_from_name",label:r.__("From Name"),inline:""},null,8,["label"])]),_:1},8,["title"])]),_:1}))}}),qL={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},WL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},KL={class:"sm:col-span-2"},YL={class:"flex"},GL={key:0,class:"mr-2 flex h-[2.125rem] items-center bg-gray-900 px-4"},XL=["src"],JL={class:"cursor-pointer rounded-md border border-gray-300 bg-white py-2 px-3 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},QL=ve({__name:"FieldLogo",setup(s){const e=_s("setting-general")(),t=200,o=32,i=E(null);i.value=e.data.app_logo?`/${e.data.app_logo}`:null;function r(){i.value=null,e.data.app_logo=null}function a(l){if(!l.target.files.length)return;let c=l.target.files[0],u=l.target,m=new FileReader;m.readAsDataURL(c),m.onload=h=>{let p=new Image;p.src=h.target.result,p.onload=function(){if(p.width>t||p.height>o){alert("you can upload max "+t+" x "+o),u.value=null;return}i.value=h.target.result;const _=new FormData;_.append("logo",c),ce.post("logo",_).then(({data:v})=>{e.data.app_logo=v})}}}return(l,c)=>(g(),y("div",qL,[n("label",WL,d(l.__("Logo")),1),n("div",KL,[n("div",YL,[i.value?(g(),y("span",GL,[n("img",{class:"block h-8",src:i.value},null,8,XL)])):j("",!0),n("label",JL,[J(d(l.__("Change"))+" ",1),n("input",{type:"file",class:"hidden",accept:"image/*",name:"logo",onChange:a},null,32)]),i.value?(g(),y("button",{key:1,type:"button",class:"ml-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:r},d(l.__("Remove")),1)):j("",!0)])])]))}}),ZL={key:0,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},eF=ve({__name:"General",setup(s){const e=vt,t=_s("setting-general")(),o=yo(),i=Cl();return t.onSuccess(()=>location.reload()),(r,a)=>(g(),re(ar,null,{default:W(()=>[S(f(Uo),{name:"setting-general",uri:"settings/general",title:"General","save-only":""},{default:W(()=>[S(f(o),{name:"app_name",label:r.__("App Name"),inline:""},null,8,["label"]),S(f(o),{name:"app_url",label:r.__("App URL"),inline:""},null,8,["label"]),S(f(i),{name:"app_locale",label:r.__("Language"),translatable:"","input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(f(i),{name:"app_timezone",label:r.__("Timezone"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(f(i),{name:"app_direction",label:r.__("Direction"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(QL),f(e).options.is_standalone_demo?(g(),y("div",ZL,[...a[0]||(a[0]=[n("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"",-1),n("div",{class:"py-2 text-sm text-red-600 sm:col-span-2"}," Note: Only language and direction will take effect in this demo! ",-1)])])):j("",!0)]),_:1})]),_:1}))}}),tF={class:"space-y-6"},sF={class:"border-t border-gray-200 pt-6"},nF={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},oF={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},iF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},rF={class:"mt-1 sm:col-span-2 sm:mt-0"},aF={key:0,class:"space-y-3"},lF=["disabled"],dF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},cF={key:1,class:"mr-2 h-5 w-5",viewBox:"0 0 48 48"},uF={class:"text-sm text-gray-500"},mF={key:1,class:"flex items-center space-x-4"},fF={class:"flex items-center space-x-2"},pF={class:"text-sm font-medium text-gray-700"},hF=["disabled"],gF={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},_F={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vF={class:"mt-1 sm:col-span-2 sm:mt-0"},yF=["disabled"],xF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},bF={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},wF={key:1,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},kF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$F={class:"mt-1 sm:col-span-2 sm:mt-0"},CF=["disabled"],SF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},MF={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},TF={key:2,class:"rounded-md bg-green-50 p-4"},DF={class:"flex"},AF={class:"ml-3"},PF={class:"text-sm font-medium text-green-800"},EF={class:"mt-2 text-sm text-green-700"},jF={class:"rounded-md bg-blue-50 p-4"},RF={class:"flex"},IF={class:"ml-3 flex-1"},OF={class:"mt-2 text-sm text-blue-700"},LF={class:"mb-3 font-medium"},FF={class:"list-decimal list-inside space-y-1 ml-2 mb-4"},NF={class:"mb-3 font-medium"},zF={class:"list-decimal list-inside space-y-1 ml-2"},UF=ve({__name:"AdSense",setup(s){const e=_s("setting-adsense")(),t=yo(),o=E(!1),i=E(!1),r=E(!1),a=E(null),l=E(!1),c=E(null),u=async()=>{var _,v;o.value=!0;try{const w=(await ke.get("/api/adsense/auth/url")).data.auth_url;window.location.href=w}catch(x){Kn().error(((v=(_=x.response)==null?void 0:_.data)==null?void 0:v.message)||"Failed to initiate Google connection"),o.value=!1}},m=async()=>{var _,v;if(confirm("Are you sure you want to disconnect your Google AdSense account?")){i.value=!0;try{await ke.post("/api/adsense/disconnect"),Kn().success("AdSense disconnected successfully"),setTimeout(()=>{location.reload()},1e3)}catch(x){Kn().error(((v=(_=x.response)==null?void 0:_.data)==null?void 0:v.message)||"Failed to disconnect AdSense"),i.value=!1}}},h=async()=>{var _,v;r.value=!0,a.value=null;try{const x=await ke.get("/api/adsense/test-connection");a.value={success:!0,message:x.data.message||"Connection successful!"},Kn().success("AdSense API connection successful!")}catch(x){a.value={success:!1,message:((v=(_=x.response)==null?void 0:_.data)==null?void 0:v.message)||"Connection failed. Please check your credentials."},Kn().error(a.value.message)}finally{r.value=!1}},p=async()=>{var _,v;l.value=!0,c.value=null;try{const x=await ke.get("/api/adsense/test-analytics-connection");c.value={success:!0,message:x.data.message||"Analytics connection successful!"},Kn().success("Google Analytics API connection successful!")}catch(x){c.value={success:!1,message:((v=(_=x.response)==null?void 0:_.data)==null?void 0:v.message)||"Analytics connection failed. Please check your GA4 Property ID and service account permissions."},Kn().error(c.value.message)}finally{l.value=!1}};return e.onSuccess(()=>{Kn().success("AdSense Settings Saved Successfully!"),setTimeout(()=>{location.reload()},1e3)}),(_,v)=>(g(),re(ar,null,{default:W(()=>[S(f(Uo),{name:"setting-adsense",uri:"settings/adsense",title:_.__("AdSense Configuration"),"save-only":""},{default:W(()=>[n("div",tF,[S(f(t),{name:"adsense_client_id",label:_.__("OAuth Client ID"),placeholder:"xxxxx.apps.googleusercontent.com",inline:"",required:""},null,8,["label"]),S(f(t),{name:"adsense_client_secret",label:_.__("OAuth Client Secret"),placeholder:"GOCSPX-xxxxx",type:"password",inline:"",required:""},null,8,["label"]),S(f(t),{name:"adsense_account_id",label:_.__("AdSense Account ID"),placeholder:"pub-XXXXXXXXXXXXXXXX",inline:""},null,8,["label"]),n("div",sF,[n("h3",nF,d(_.__("Google Analytics Configuration")),1)]),S(f(t),{name:"ga4_property_id",label:_.__("GA4 Property ID"),placeholder:"123456789",inline:"",help:_.__("Find this in Google Analytics Admin > Property Settings")},null,8,["label","help"]),n("div",oF,[n("label",iF,d(_.__("Google Account")),1),n("div",rF,[f(e).data.adsense_configured?(g(),y("div",mF,[n("div",fF,[v[2]||(v[2]=n("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-green-100"},[n("svg",{class:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),n("span",pF,d(_.__("Connected")),1)]),n("button",{type:"button",onClick:m,disabled:i.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},d(i.value?_.__("Disconnecting..."):_.__("Disconnect")),9,hF)])):(g(),y("div",aF,[n("button",{type:"button",onClick:u,disabled:o.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[o.value?(g(),y("svg",dF,[...v[0]||(v[0]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),y("svg",cF,[...v[1]||(v[1]=[n("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"},null,-1),n("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"},null,-1),n("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"},null,-1),n("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"},null,-1)])])),J(" "+d(o.value?_.__("Connecting..."):_.__("Connect with Google")),1)],8,lF),n("p",uF,d(_.__("Click to authorize TaskHub to access your AdSense data")),1)]))])]),f(e).data.adsense_configured?(g(),y("div",gF,[n("label",_F,d(_.__("Test AdSense Connection")),1),n("div",vF,[n("button",{type:"button",onClick:h,disabled:r.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[r.value?(g(),y("svg",xF,[...v[3]||(v[3]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),y("svg",bF,[...v[4]||(v[4]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),J(" "+d(r.value?_.__("Testing..."):_.__("Test AdSense API")),1)],8,yF),a.value?(g(),y("p",{key:0,class:X(["mt-2 text-sm",a.value.success?"text-green-600":"text-red-600"])},d(a.value.message),3)):j("",!0)])])):j("",!0),f(e).data.ga4_property_id?(g(),y("div",wF,[n("label",kF,d(_.__("Test Analytics Connection")),1),n("div",$F,[n("button",{type:"button",onClick:p,disabled:l.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[l.value?(g(),y("svg",SF,[...v[5]||(v[5]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),y("svg",MF,[...v[6]||(v[6]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h-3a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3m-3-3l-6 6m0 0l6-6m-6 6h6V7"},null,-1)])])),J(" "+d(l.value?_.__("Testing..."):_.__("Test Analytics API")),1)],8,CF),c.value?(g(),y("p",{key:0,class:X(["mt-2 text-sm",c.value.success?"text-green-600":"text-red-600"])},d(c.value.message),3)):j("",!0)])])):j("",!0),f(e).data.adsense_configured?(g(),y("div",TF,[n("div",DF,[v[7]||(v[7]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),n("div",AF,[n("h3",PF,d(_.__("AdSense is configured")),1),n("div",EF,[n("p",null,d(_.__("Your AdSense integration is active and ready to use.")),1)])])])])):j("",!0),n("div",jF,[n("div",RF,[v[9]||(v[9]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),n("div",IF,[v[8]||(v[8]=n("h3",{class:"text-sm font-medium text-blue-800"},"Setup Instructions",-1)),n("div",OF,[n("p",LF,d(_.__("AdSense Setup:")),1),n("ol",FF,[n("li",null,d(_.__("Create OAuth 2.0 credentials in Google Cloud Console")),1),n("li",null,d(_.__("Add your credentials to the .env file")),1),n("li",null,d(_.__('Click "Connect with Google" to authorize')),1),n("li",null,d(_.__("Enter your AdSense Account ID (e.g., pub-XXXXXXXXXXXXXXXX)")),1)]),n("p",NF,d(_.__("Google Analytics Setup:")),1),n("ol",zF,[n("li",null,d(_.__("Service account credentials are already configured at storage/app/credentials/google-analytics.json")),1),n("li",null,d(_.__("Go to Google Analytics Admin > Property Access Management")),1),n("li",null,d(_.__("Add service account: taskhub-service-account@taskhub-adsense-integration.iam.gserviceaccount.com")),1),n("li",null,d(_.__('Grant "Viewer" role')),1),n("li",null,d(_.__("Enter your GA4 Property ID from Google Analytics Admin > Property Settings")),1)])])])])])])]),_:1},8,["title"])]),_:1}))}}),BF={class:"text-lg font-medium leading-6 text-gray-900"},VF={class:"mt-1 text-sm text-gray-500"},HF={key:1,class:"space-y-6"},qF={key:0,class:"flex items-center justify-between"},WF={class:"text-sm text-gray-700"},KF={class:"font-medium"},YF={class:"font-medium"},GF={class:"font-medium"},XF={class:"flex items-center gap-2"},JF={class:"text-sm text-gray-600"},QF={class:"mb-6 flex items-center justify-between border-b pb-4"},ZF={class:"text-lg font-medium text-gray-900"},eN={class:"text-sm text-gray-500"},tN={class:"flex gap-3"},sN=["onClick"],nN=["onClick"],oN={key:0,class:"space-y-4"},iN={class:"flex items-start justify-between"},rN={class:"flex-1"},aN={class:"flex items-center gap-2"},lN={class:"text-base font-medium text-gray-900"},dN={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},cN={key:0,class:"mt-1 text-xs text-gray-500"},uN={key:0},mN={key:1,class:"mt-3"},fN={class:"space-y-1"},pN=["href"],hN={class:"flex gap-2"},gN=["onClick","title"],_N=["onClick","title"],vN=["onClick","title"],yN={key:1,class:"text-center py-6 text-gray-500"},xN={key:1,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow"},bN={class:"flex flex-1 justify-between sm:hidden"},wN=["disabled"],kN=["disabled"],$N={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},CN={class:"text-sm text-gray-700"},SN={class:"font-medium"},MN={class:"font-medium"},TN={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},DN=["disabled"],AN={class:"sr-only"},PN=["disabled"],EN={class:"sr-only"},jN={class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300"},RN=["disabled"],IN={class:"sr-only"},ON=["disabled"],LN={class:"sr-only"},FN={class:"space-y-4"},NN={class:"block text-sm font-medium text-gray-700 mb-2"},zN={class:"relative mb-3"},UN=["placeholder"],BN={class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},VN={key:0,class:"space-y-2"},HN=["value"],qN={class:"ml-3 text-sm text-gray-900"},WN={class:"ml-2 text-xs text-gray-500"},KN={key:1,class:"text-center py-4 text-gray-500 text-sm"},YN={key:0,class:"mt-2 text-sm text-gray-600"},GN={class:"flex justify-end gap-3"},XN=["disabled"],JN={class:"space-y-4"},QN={key:1},ZN={class:"text-sm text-gray-600 mb-3"},ez={key:0,class:"relative mb-3"},tz=["placeholder"],sz={key:1,class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},nz={key:0,class:"space-y-2"},oz=["value"],iz={class:"ml-3 flex-1"},rz={class:"text-sm font-medium text-gray-900"},az={key:0,class:"text-xs text-gray-500"},lz={key:1,class:"text-center py-4 text-gray-500 text-sm"},dz={key:2,class:"text-center py-6 text-gray-500"},cz={key:3,class:"mt-2 text-sm text-gray-600"},uz={class:"flex justify-end gap-3"},mz=["disabled"],fz={class:"space-y-4"},pz={class:"text-sm text-gray-700 mb-4"},hz={class:"block text-sm font-medium text-gray-700 mb-2"},gz={class:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-3"},_z=["value"],vz={class:"ml-3"},yz={class:"text-sm font-medium text-gray-900"},xz={class:"text-xs text-gray-500"},bz={class:"flex justify-end gap-3 pt-4 border-t"},wz=["disabled"],kz={class:"space-y-4"},$z={class:"text-sm text-gray-600"},Cz={class:"grid grid-cols-2 gap-4"},Sz={class:"block text-sm font-medium text-gray-700 mb-1"},Mz={class:"mt-1 text-xs text-gray-500"},Tz={class:"block text-sm font-medium text-gray-700 mb-1"},Dz={class:"mt-1 text-xs text-gray-500"},Az={class:"block text-sm font-medium text-gray-700 mb-1"},Pz={class:"mt-1 text-xs text-gray-500"},Ez={class:"block text-sm font-medium text-gray-700 mb-1"},jz={class:"mt-1 text-xs text-gray-500"},Rz={class:"block text-sm font-medium text-gray-700 mb-1"},Iz={class:"mt-1 text-xs text-gray-500"},Oz={class:"block text-sm font-medium text-gray-700 mb-1"},Lz={class:"mt-1 text-xs text-gray-500"},Fz={class:"flex justify-end gap-3 pt-4 border-t"},Nz=["disabled"],ud=ve({name:"Modal",emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var o,i;return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl"},[Ot("h3",{class:"text-lg font-medium text-gray-900 mb-4"},(o=e.title)==null?void 0:o.call(e)),Ot("div",{},(i=e.default)==null?void 0:i.call(e))])])])}}}),zz=ve({__name:"Countries",setup(s){const e=Ze("__"),t=E(!1),o=E([]),i=E([]),r=E(5),a=E({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),l=E(!1),c=E(null),u=E([]),m=E(!1),h=E(""),p=E(!1),_=E(null),v=E([]),x=E([]),w=E(!1),b=E(!1),k=E(""),C=E(!1),$=E(null),A=E(null),R=E(null),T=E(!1),F=E(!1),L=E(null),D=E(!1),N=E({daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}),P=Me(()=>{if(!h.value)return i.value;const Oe=h.value.toLowerCase();return i.value.filter(me=>me.name.toLowerCase().includes(Oe)||me.code.toLowerCase().includes(Oe))}),U=Me(()=>{if(!k.value)return v.value;const Oe=k.value.toLowerCase();return v.value.filter(me=>me.name.toLowerCase().includes(Oe)||me.website&&me.website.toLowerCase().includes(Oe))}),ye=Me(()=>A.value?o.value.filter(Oe=>Oe.id!==A.value.id):o.value),le=async(Oe=1)=>{t.value=!0;try{const me=await ce.get("settings/countries",{params:{page:Oe,per_page:r.value}}),fe=me.data.data||me.data;if(!fe||!fe.users)throw new Error("Invalid response from server");o.value=fe.users||[],i.value=fe.countries||[],fe.pagination&&(a.value=fe.pagination)}catch{alert("Failed to load data. Please check console for details.")}finally{t.value=!1}},de=Oe=>{c.value=Oe,u.value=Oe.countries.map(me=>me.country_code),h.value="",l.value=!0},q=()=>{l.value=!1,c.value=null,u.value=[],h.value=""},ne=async()=>{if(u.value.length===0){alert("Please select at least one country");return}m.value=!0;try{const Oe=u.value.map(me=>{const fe=i.value.find(B=>B.code===me);return{country_code:me,country_name:(fe==null?void 0:fe.name)||me}});await ce.put(`settings/countries/users/${c.value.id}/countries`,{countries:Oe}),alert("Countries assigned successfully! User will receive a notification."),await le(),q()}catch{alert("Failed to assign countries")}finally{m.value=!1}},G=async(Oe,me)=>{c.value=Oe,_.value=me,x.value=me.websites.map(fe=>fe.company_id),k.value="",p.value=!0,w.value=!0;try{const fe=await ce.get(`settings/countries/companies/${me.country_code}`);v.value=fe.data.data}catch{alert("Failed to load companies")}finally{w.value=!1}},ie=()=>{p.value=!1,c.value=null,_.value=null,v.value=[],x.value=[],k.value=""},$e=async()=>{b.value=!0;try{const Oe=x.value.map(me=>{const fe=v.value.find(B=>B.id===me);return{company_id:me,website_url:(fe==null?void 0:fe.website)||"",company_name:(fe==null?void 0:fe.name)||""}});await ce.post(`settings/countries/users/${c.value.id}/countries/${_.value.id}/websites`,{websites:Oe}),alert("Websites assigned successfully!"),await le(),ie()}catch{alert("Failed to assign websites")}finally{b.value=!1}},we=(Oe,me)=>{A.value=Oe,$.value=me,R.value=null,C.value=!0},Qe=()=>{C.value=!1,A.value=null,$.value=null,R.value=null},pt=async()=>{if(!(!R.value||!A.value||!$.value)){T.value=!0;try{const Oe=A.value.countries.filter(fe=>fe.country_code!==$.value.country_code).map(fe=>({country_code:fe.country_code,country_name:fe.country_name}));await ce.put(`settings/countries/users/${A.value.id}/countries`,{countries:Oe});const me=o.value.find(fe=>fe.id===R.value);if(me){const fe=[...me.countries.map(B=>({country_code:B.country_code,country_name:B.country_name})),{country_code:$.value.country_code,country_name:$.value.country_name}];await ce.put(`settings/countries/users/${R.value}/countries`,{countries:fe})}alert(`Country "${$.value.country_name}" reassigned successfully!`),await le(),Qe()}catch{alert("Failed to reassign country")}finally{T.value=!1}}},pe=async(Oe,me)=>{if(confirm(`Are you sure you want to unassign "${me.country_name}" from ${Oe.name}?`))try{const fe=Oe.countries.filter(B=>B.country_code!==me.country_code).map(B=>({country_code:B.country_code,country_name:B.country_name}));await ce.put(`settings/countries/users/${Oe.id}/countries`,{countries:fe}),alert("Country unassigned successfully!"),await le()}catch{alert("Failed to unassign country")}},Ce=async Oe=>{L.value=Oe,F.value=!0;try{const me=await ce.get(`settings/countries/users/${Oe.id}/targets`);me.data.data&&(N.value={...me.data.data})}catch{}},Te=()=>{F.value=!1,L.value=null,N.value={daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}},Ue=async()=>{if(L.value){D.value=!0;try{await ce.put(`settings/countries/users/${L.value.id}/targets`,N.value),alert("Performance targets updated successfully!"),Te()}catch{alert("Failed to save performance targets")}finally{D.value=!1}}},tt=Oe=>new Date(Oe).toLocaleDateString();return Ne(()=>{le()}),(Oe,me)=>(g(),re(ar,null,{topbar:W(()=>[n("div",null,[n("h3",BF,d(f(e)("Countries & Websites Management")),1),n("p",VF,d(f(e)("Assign countries and websites to users for marketing and AdSense reporting")),1)])]),default:W(()=>[t.value?(g(),re(f(it),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),y("div",HF,[a.value.total>0?(g(),y("div",qF,[n("p",WF,[J(d(f(e)("Showing"))+" ",1),n("span",KF,d(a.value.from),1),J(" "+d(f(e)("to"))+" ",1),n("span",YF,d(a.value.to),1),J(" "+d(f(e)("of"))+" ",1),n("span",GF,d(a.value.total),1),J(" "+d(f(e)("users")),1)]),n("div",XF,[n("label",JF,d(f(e)("Per page:")),1),z(n("select",{"onUpdate:modelValue":me[0]||(me[0]=fe=>r.value=fe),onChange:me[1]||(me[1]=fe=>le(1)),class:"rounded-md border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},[...me[19]||(me[19]=[n("option",{value:5},"5",-1),n("option",{value:10},"10",-1),n("option",{value:25},"25",-1),n("option",{value:50},"50",-1)])],544),[[xe,r.value]])])])):j("",!0),(g(!0),y(oe,null,ue(o.value,fe=>(g(),y("div",{key:fe.id,class:"rounded-lg bg-white p-6 shadow"},[n("div",QF,[n("div",null,[n("h4",ZF,d(fe.name),1),n("p",eN,d(fe.email)+"  "+d(fe.role),1)]),n("div",tN,[n("button",{onClick:B=>Ce(fe),type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700"},[me[20]||(me[20]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),J(" "+d(f(e)("Set Targets")),1)],8,sN),n("button",{onClick:B=>de(fe),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[me[21]||(me[21]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),J(" "+d(f(e)("Assign Countries")),1)],8,nN)])]),fe.countries.length>0?(g(),y("div",oN,[(g(!0),y(oe,null,ue(fe.countries,B=>(g(),y("div",{key:B.id,class:"rounded-lg border border-gray-200 p-4"},[n("div",iN,[n("div",rN,[n("div",aN,[n("h5",lN,d(B.country_name),1),n("span",dN,d(B.country_code),1)]),B.assigned_at?(g(),y("p",cN,[J(" Assigned "+d(tt(B.assigned_at))+" ",1),B.assigned_by?(g(),y("span",uN," by "+d(B.assigned_by),1)):j("",!0)])):j("",!0),B.websites.length>0?(g(),y("div",mN,[me[23]||(me[23]=n("p",{class:"text-xs font-medium text-gray-700 mb-2"}," Assigned Websites: ",-1)),n("div",fN,[(g(!0),y(oe,null,ue(B.websites,Q=>(g(),y("div",{key:Q.id,class:"flex items-center gap-2 text-sm"},[me[22]||(me[22]=n("svg",{class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),n("a",{href:Q.website_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},d(Q.company_name),9,pN)]))),128))])])):j("",!0)]),n("div",hN,[n("button",{onClick:Q=>G(fe,B),class:"text-indigo-600 hover:text-indigo-900 text-sm",title:f(e)("Manage Websites")},[...me[24]||(me[24]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)])],8,gN),n("button",{onClick:Q=>we(fe,B),class:"text-blue-600 hover:text-blue-900 text-sm",title:f(e)("Reassign to Another User")},[...me[25]||(me[25]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,_N),n("button",{onClick:Q=>pe(fe,B),class:"text-red-600 hover:text-red-900 text-sm",title:f(e)("Unassign Country")},[...me[26]||(me[26]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,vN)])])]))),128))])):(g(),y("div",yN,d(f(e)("No countries assigned yet")),1))]))),128)),a.value.total>0?(g(),y("div",xN,[n("div",bN,[n("button",{onClick:me[2]||(me[2]=fe=>le(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},d(f(e)("Previous")),9,wN),n("button",{onClick:me[3]||(me[3]=fe=>le(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},d(f(e)("Next")),9,kN)]),n("div",$N,[n("div",null,[n("p",CN,[J(d(f(e)("Page"))+" ",1),n("span",SN,d(a.value.current_page),1),J(" "+d(f(e)("of"))+" ",1),n("span",MN,d(a.value.last_page),1)])]),n("div",null,[n("nav",TN,[n("button",{onClick:me[4]||(me[4]=fe=>le(1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",AN,d(f(e)("First")),1),me[27]||(me[27]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M15.79 14.77a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L11.832 10l3.938 3.71a.75.75 0 01.02 1.06zm-6 0a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L5.832 10l3.938 3.71a.75.75 0 01.02 1.06z","clip-rule":"evenodd"})],-1))],8,DN),n("button",{onClick:me[5]||(me[5]=fe=>le(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",EN,d(f(e)("Previous")),1),me[28]||(me[28]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1))],8,PN),n("span",jN,d(a.value.current_page),1),n("button",{onClick:me[6]||(me[6]=fe=>le(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",IN,d(f(e)("Next")),1),me[29]||(me[29]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))],8,RN),n("button",{onClick:me[7]||(me[7]=fe=>le(a.value.last_page)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",LN,d(f(e)("Last")),1),me[30]||(me[30]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M4.21 5.23a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L8.168 10 4.23 6.29a.75.75 0 01-.02-1.06zm6 0a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L14.168 10l-3.938-3.71a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1))],8,ON)])])])])):j("",!0)])),l.value?(g(),re(f(ud),{key:2,onClose:q},{title:W(()=>{var fe;return[J(d(f(e)("Assign Countries to"))+" "+d((fe=c.value)==null?void 0:fe.name),1)]}),default:W(()=>[n("div",FN,[n("div",null,[n("label",NN,d(f(e)("Select Countries")),1),n("div",zN,[me[31]||(me[31]=n("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(n("input",{"onUpdate:modelValue":me[8]||(me[8]=fe=>h.value=fe),type:"text",placeholder:f(e)("Search countries..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,UN),[[K,h.value]])]),n("div",BN,[P.value.length>0?(g(),y("div",VN,[(g(!0),y(oe,null,ue(P.value,fe=>(g(),y("label",{key:fe.code,class:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(n("input",{"onUpdate:modelValue":me[9]||(me[9]=B=>u.value=B),value:fe.code,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,8,HN),[[rs,u.value]]),n("span",qN,d(fe.name),1),n("span",WN,"("+d(fe.code)+")",1)]))),128))])):(g(),y("div",KN,d(f(e)("No countries found matching your search")),1))]),u.value.length>0?(g(),y("p",YN,d(u.value.length)+" "+d(u.value.length===1?f(e)("country"):f(e)("countries"))+" selected ",1)):j("",!0)]),n("div",GN,[n("button",{onClick:q,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:ne,disabled:m.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},d(m.value?f(e)("Saving..."):f(e)("Save")),9,XN)])])]),_:1})):j("",!0),p.value?(g(),re(f(ud),{key:3,onClose:ie},{title:W(()=>{var fe;return[J(d(f(e)("Manage Websites for"))+" "+d((fe=_.value)==null?void 0:fe.country_name),1)]}),default:W(()=>{var fe;return[n("div",JN,[w.value?(g(),re(f(it),{key:0,size:"30",color:"#5850ec",class:"mx-auto"})):(g(),y("div",QN,[n("p",ZN,d(f(e)("Select websites/companies from"))+" "+d((fe=_.value)==null?void 0:fe.country_name),1),v.value.length>0?(g(),y("div",ez,[me[32]||(me[32]=n("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(n("input",{"onUpdate:modelValue":me[10]||(me[10]=B=>k.value=B),type:"text",placeholder:f(e)("Search companies..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,tz),[[K,k.value]])])):j("",!0),v.value.length>0?(g(),y("div",sz,[U.value.length>0?(g(),y("div",nz,[(g(!0),y(oe,null,ue(U.value,B=>(g(),y("label",{key:B.id,class:"flex items-start p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(n("input",{"onUpdate:modelValue":me[11]||(me[11]=Q=>x.value=Q),value:B.id,type:"checkbox",class:"h-4 w-4 mt-0.5 rounded border-gray-300 text-indigo-600"},null,8,oz),[[rs,x.value]]),n("div",iz,[n("div",rz,d(B.name),1),B.website?(g(),y("div",az,d(B.website),1)):j("",!0)])]))),128))])):(g(),y("div",lz,d(f(e)("No companies found matching your search")),1))])):(g(),y("div",dz,d(f(e)("No companies found with websites for this country")),1)),x.value.length>0?(g(),y("p",cz,d(x.value.length)+" "+d(x.value.length===1?f(e)("company"):f(e)("companies"))+" selected ",1)):j("",!0)])),n("div",uz,[n("button",{onClick:ie,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:$e,disabled:b.value||w.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},d(b.value?f(e)("Saving..."):f(e)("Save")),9,mz)])])]}),_:1})):j("",!0),C.value?(g(),re(f(ud),{key:4,onClose:Qe},{title:W(()=>[J(d(f(e)("Reassign Country to Another User")),1)]),default:W(()=>{var fe,B;return[n("div",fz,[n("div",null,[n("p",pz,[J(d(f(e)("Reassigning"))+": ",1),n("strong",null,d((fe=$.value)==null?void 0:fe.country_name),1),J(" "+d(f(e)("from"))+" ",1),n("strong",null,d((B=A.value)==null?void 0:B.name),1)]),n("label",hz,d(f(e)("Select New User")),1),n("div",gz,[(g(!0),y(oe,null,ue(ye.value,Q=>(g(),y("label",{key:Q.id,class:"flex items-center p-3 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-indigo-200"},[z(n("input",{"onUpdate:modelValue":me[12]||(me[12]=ee=>R.value=ee),value:Q.id,type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600"},null,8,_z),[[In,R.value]]),n("div",vz,[n("div",yz,d(Q.name),1),n("div",xz,d(Q.email)+"  "+d(Q.role),1)])]))),128))])]),n("div",bz,[n("button",{onClick:Qe,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:pt,disabled:!R.value||T.value,type:"button",class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50"},d(T.value?f(e)("Reassigning..."):f(e)("Reassign Country")),9,wz)])])]}),_:1})):j("",!0),F.value?(g(),re(f(ud),{key:5,onClose:Te},{title:W(()=>{var fe;return[J(d(f(e)("Set Performance Targets for"))+" "+d((fe=L.value)==null?void 0:fe.name),1)]}),default:W(()=>[n("div",kz,[n("p",$z,d(f(e)("Set daily performance targets to help users focus their marketing efforts on the most profitable countries.")),1),n("div",Cz,[n("div",null,[n("label",Sz,d(f(e)("Daily Impressions Target")),1),z(n("input",{"onUpdate:modelValue":me[13]||(me[13]=fe=>N.value.daily_impressions_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"2000"},null,512),[[K,N.value.daily_impressions_target,void 0,{number:!0}]]),n("p",Mz,d(f(e)("Total ad impressions per day")),1)]),n("div",null,[n("label",Tz,d(f(e)("Daily Page Views Target")),1),z(n("input",{"onUpdate:modelValue":me[14]||(me[14]=fe=>N.value.daily_page_views_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1500"},null,512),[[K,N.value.daily_page_views_target,void 0,{number:!0}]]),n("p",Dz,d(f(e)("Total page views per day")),1)]),n("div",null,[n("label",Az,d(f(e)("Daily Clicks Target")),1),z(n("input",{"onUpdate:modelValue":me[15]||(me[15]=fe=>N.value.daily_clicks_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20"},null,512),[[K,N.value.daily_clicks_target,void 0,{number:!0}]]),n("p",Pz,d(f(e)("Minimum ad clicks per day")),1)]),n("div",null,[n("label",Ez,d(f(e)("Minimum CPC Target ($)")),1),z(n("input",{"onUpdate:modelValue":me[16]||(me[16]=fe=>N.value.min_cpc_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.10"},null,512),[[K,N.value.min_cpc_target,void 0,{number:!0}]]),n("p",jz,d(f(e)("Minimum cost per click")),1)]),n("div",null,[n("label",Rz,d(f(e)("Minimum RPM Target ($)")),1),z(n("input",{"onUpdate:modelValue":me[17]||(me[17]=fe=>N.value.min_rpm_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1.00"},null,512),[[K,N.value.min_rpm_target,void 0,{number:!0}]]),n("p",Iz,d(f(e)("Minimum revenue per thousand")),1)]),n("div",null,[n("label",Oz,d(f(e)("Daily Earnings Target ($)")),1),z(n("input",{"onUpdate:modelValue":me[18]||(me[18]=fe=>N.value.daily_earnings_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20.00"},null,512),[[K,N.value.daily_earnings_target,void 0,{number:!0}]]),n("p",Lz,d(f(e)("Total daily earnings target")),1)])]),n("div",Fz,[n("button",{onClick:Te,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:Ue,disabled:D.value,type:"button",class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50"},d(D.value?f(e)("Saving..."):f(e)("Save Targets")),9,Nz)])])]),_:1})):j("",!0)]),_:1}))}}),Uz={class:"text-lg font-medium leading-6 text-gray-900"},Bz={class:"mt-1 text-sm text-gray-500"},Vz={key:1,class:"space-y-6"},Hz={key:0,class:"rounded-lg bg-white p-6 shadow"},qz={class:"text-lg font-medium text-gray-900 mb-4"},Wz={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Kz={class:"border-l-4 border-blue-500 pl-4"},Yz={class:"text-2xl font-bold text-gray-900"},Gz={class:"text-xs text-gray-500"},Xz={class:"border-l-4 border-green-500 pl-4"},Jz={class:"text-2xl font-bold text-gray-900"},Qz={class:"text-xs text-gray-500"},Zz={class:"mb-6 flex items-center justify-between border-b pb-4"},eU={class:"text-lg font-medium text-gray-900"},tU={class:"text-sm text-gray-500"},sU={class:"mt-2 flex gap-2"},nU={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},oU={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},iU={class:"flex gap-3"},rU=["onClick"],aU=["onClick"],lU=["onClick"],dU={class:"p-6"},cU={class:"text-lg font-medium text-gray-900 mb-4"},uU={class:"text-sm text-gray-600 mb-6"},mU={class:"space-y-4"},fU={class:"flex items-start"},pU={class:"flex items-center h-5"},hU={class:"ml-3"},gU={class:"font-medium text-gray-700"},_U={class:"text-sm text-gray-500"},vU={class:"flex items-start"},yU={class:"flex items-center h-5"},xU={class:"ml-3"},bU={class:"font-medium text-gray-700"},wU={class:"text-sm text-gray-500"},kU={key:0,class:"flex items-start pl-7"},$U={class:"flex items-center h-5"},CU={class:"ml-3"},SU={class:"text-sm font-medium text-gray-700"},MU={class:"text-xs text-gray-500"},TU={key:1,class:"flex items-start pl-7"},DU={class:"flex items-center h-5"},AU={class:"ml-3"},PU={class:"text-sm font-medium text-gray-700"},EU={class:"text-xs text-gray-500"},jU={class:"mt-6 flex justify-end gap-3"},RU={class:"p-6"},IU={class:"text-lg font-medium text-gray-900 mb-4"},OU={class:"mb-4 flex gap-2"},LU={class:"mb-4"},FU={class:"max-h-96 overflow-y-auto border rounded-md"},NU={key:1,class:"p-8 text-center text-gray-500"},zU={key:2,class:"divide-y"},UU={class:"font-medium text-gray-900"},BU={class:"text-sm text-gray-500"},VU={class:"text-xs text-gray-400"},HU=["onClick"],qU={key:1,class:"text-sm"},WU={class:"text-gray-500"},KU={class:"font-medium text-gray-900"},YU={key:0,class:"mt-4 flex justify-between items-center"},GU=["disabled"],XU={class:"text-sm text-gray-600"},JU=["disabled"],QU={class:"mt-6 flex justify-end"},ZU={class:"p-6"},eB={class:"text-lg font-medium text-gray-900 mb-4"},tB={key:1,class:"p-8 text-center text-gray-500"},sB={key:2,class:"space-y-4 max-h-96 overflow-y-auto"},nB={class:"flex items-start justify-between"},oB={class:"flex-1"},iB={class:"flex items-center gap-2"},rB={class:"text-base font-medium text-gray-900"},aB={key:0,class:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},lB={class:"mt-1 text-sm text-gray-600"},dB={class:"mt-1 text-xs text-gray-500"},cB={key:0},uB={key:0,class:"text-xs text-gray-500"},mB={key:1,class:"mt-2 rounded bg-yellow-50 p-2"},fB={class:"text-xs text-gray-700"},pB={class:"flex flex-col gap-2"},hB=["href"],gB=["onClick"],_B=["onClick"],vB={class:"mt-6 flex justify-end"},yB={class:"p-6"},xB={class:"text-lg font-medium text-gray-900 mb-4"},bB={class:"space-y-4"},wB={class:"block text-sm font-medium text-gray-700 mb-2"},kB={class:"flex items-center"},$B={class:"ml-2 text-sm text-gray-700"},CB={class:"mt-6 flex justify-end gap-3"},md=ve({name:"Modal",props:{open:Boolean,size:{type:String,default:"lg"}},emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var i;if(!s.open)return null;const o=s.size==="xl"?"max-w-4xl":"max-w-2xl";return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:`relative w-full ${o} rounded-lg bg-white shadow-xl`},[(i=e.default)==null?void 0:i.call(e)])])])}}}),SB=ve({__name:"UserAssignments",setup(s){const e=Ze("__"),t=E(!0),o=E([]),i=E(null),r=E(!1),a=E(null),l=E({works_with_job_seekers:!1,works_with_employers:!1,enable_auto_assign_job_seekers:!1,enable_auto_assign_employers:!1}),c=E(!1),u=E("job_seekers"),m=E([]),h=E(!1),p=E(""),_=E({current_page:1,last_page:1,per_page:20,total:0}),v=E(!1),x=E([]),w=E(!1),b=E(!1),k=E(null),C=E({notes:"",contacted:!1});let $=null;Ne(async()=>{await A()});const A=async()=>{t.value=!0;try{const G=await ce.get("settings/user-assignments/"),ie=await ce.get("settings/user-assignments/statistics");o.value=G.data.data,i.value=ie.data.data}catch{alert("Failed to load user assignments.")}finally{t.value=!1}},R=G=>{var ie,$e,we,Qe;a.value=G,l.value={works_with_job_seekers:((ie=G.focus)==null?void 0:ie.works_with_job_seekers)||!1,works_with_employers:(($e=G.focus)==null?void 0:$e.works_with_employers)||!1,enable_auto_assign_job_seekers:((we=G.focus)==null?void 0:we.enable_auto_assign_job_seekers)||!1,enable_auto_assign_employers:((Qe=G.focus)==null?void 0:Qe.enable_auto_assign_employers)||!1},r.value=!0},T=async()=>{try{await ce.put(`settings/user-assignments/users/${a.value.id}/focus`,l.value),alert("User focus updated successfully!"),r.value=!1,await A()}catch{alert("Failed to save user focus")}},F=async G=>{a.value=G,u.value="job_seekers",p.value="",_.value.current_page=1,c.value=!0,await L()},L=async()=>{h.value=!0;try{const G=await ce.get("settings/user-assignments/available-users",{params:{type:u.value,page:_.value.current_page,per_page:_.value.per_page,search:p.value}});m.value=G.data.data,_.value=G.data.meta}catch{alert("Failed to load available users")}finally{h.value=!1}},D=()=>{$&&clearTimeout($),$=setTimeout(()=>{_.value.current_page=1,L()},500)},N=async G=>{var ie,$e;try{await ce.post("settings/user-assignments/assign",{taskhub_user_id:a.value.id,v11_user_id:G.id,v11_user_type:G.user_type}),alert("User assigned successfully!"),await L(),await A()}catch(we){alert((($e=(ie=we.response)==null?void 0:ie.data)==null?void 0:$e.message)||"Failed to assign user")}},P=async G=>{a.value=G,v.value=!0,w.value=!0;try{const ie=await ce.get(`settings/user-assignments/users/${G.id}/assignments`);x.value=ie.data.data}catch{alert("Failed to load user assignments")}finally{w.value=!1}},U=async G=>{if(confirm("Are you sure you want to unassign this user?"))try{await ce.delete(`settings/user-assignments/assignments/${G.id}`),alert("User unassigned successfully!"),await P(a.value),await A()}catch{alert("Failed to unassign user")}},ye=G=>{k.value=G,C.value={notes:G.notes||"",contacted:!1},b.value=!0},le=async()=>{try{await ce.put(`settings/user-assignments/assignments/${k.value.id}/notes`,C.value),alert("Notes saved successfully!"),b.value=!1,await P(a.value)}catch{alert("Failed to save notes")}},de=()=>{_.value.current_page>1&&(_.value.current_page--,L())},q=()=>{_.value.current_page<_.value.last_page&&(_.value.current_page++,L())},ne=G=>G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Pt(u,()=>{_.value.current_page=1,L()}),(G,ie)=>(g(),re(ar,null,{topbar:W(()=>[n("div",null,[n("h3",Uz,d(f(e)("User Assignment Management")),1),n("p",Bz,d(f(e)("Assign job seekers and employers from V11 database to TaskHub users")),1)])]),default:W(()=>{var $e,we,Qe,pt,pe,Ce,Te,Ue,tt,Oe,me,fe;return[t.value?(g(),re(f(it),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),y("div",Vz,[i.value?(g(),y("div",Hz,[n("h4",qz,d(f(e)("Assignment Statistics")),1),n("div",Wz,[n("div",Kz,[ie[17]||(ie[17]=n("p",{class:"text-sm text-gray-600"},"Job Seekers",-1)),n("p",Yz,d(((we=($e=i.value)==null?void 0:$e.job_seekers)==null?void 0:we.assigned)||0)+" / "+d(((pt=(Qe=i.value)==null?void 0:Qe.job_seekers)==null?void 0:pt.total)||0),1),n("p",Gz,d(((Ce=(pe=i.value)==null?void 0:pe.job_seekers)==null?void 0:Ce.unassigned)||0)+" unassigned ",1)]),n("div",Xz,[ie[18]||(ie[18]=n("p",{class:"text-sm text-gray-600"},"Employers",-1)),n("p",Jz,d(((Ue=(Te=i.value)==null?void 0:Te.employers)==null?void 0:Ue.assigned)||0)+" / "+d(((Oe=(tt=i.value)==null?void 0:tt.employers)==null?void 0:Oe.total)||0),1),n("p",Qz,d(((fe=(me=i.value)==null?void 0:me.employers)==null?void 0:fe.unassigned)||0)+" unassigned ",1)])])])):j("",!0),(g(!0),y(oe,null,ue(o.value||[],B=>{var Q,ee;return g(),y("div",{key:B.id,class:"rounded-lg bg-white p-6 shadow"},[n("div",Zz,[n("div",null,[n("h4",eU,d(B.name),1),n("p",tU,d(B.email)+"  "+d(B.role),1),n("div",sU,[(Q=B.focus)!=null&&Q.works_with_job_seekers?(g(),y("span",nU," Job Seekers: "+d(B.job_seekers_count),1)):j("",!0),(ee=B.focus)!=null&&ee.works_with_employers?(g(),y("span",oU," Employers: "+d(B.employers_count),1)):j("",!0)])]),n("div",iU,[n("button",{onClick:te=>R(B),type:"button",class:"inline-flex items-center rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700"},[ie[19]||(ie[19]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),J(" "+d(f(e)("Configure Focus")),1)],8,rU),n("button",{onClick:te=>F(B),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[ie[20]||(ie[20]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),J(" "+d(f(e)("Assign Users")),1)],8,aU),n("button",{onClick:te=>P(B),type:"button",class:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700"},[ie[21]||(ie[21]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),J(" "+d(f(e)("View Assignments")),1)],8,lU)])])])}),128))])),S(f(md),{open:r.value,onClose:ie[5]||(ie[5]=B=>r.value=!1)},{default:W(()=>[n("div",dU,[n("h3",cU,d(f(e)("Configure User Focus")),1),n("p",uU,d(f(e)("Select which types of users this person will work with")),1),n("div",mU,[n("div",fU,[n("div",pU,[z(n("input",{"onUpdate:modelValue":ie[0]||(ie[0]=B=>l.value.works_with_job_seekers=B),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,l.value.works_with_job_seekers]])]),n("div",hU,[n("label",gU,d(f(e)("Works with Job Seekers")),1),n("p",_U,d(f(e)("This user will be able to work with job seekers")),1)])]),n("div",vU,[n("div",yU,[z(n("input",{"onUpdate:modelValue":ie[1]||(ie[1]=B=>l.value.works_with_employers=B),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,l.value.works_with_employers]])]),n("div",xU,[n("label",bU,d(f(e)("Works with Employers")),1),n("p",wU,d(f(e)("This user will be able to work with employers")),1)])]),l.value.works_with_job_seekers?(g(),y("div",kU,[n("div",$U,[z(n("input",{"onUpdate:modelValue":ie[2]||(ie[2]=B=>l.value.enable_auto_assign_job_seekers=B),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[rs,l.value.enable_auto_assign_job_seekers]])]),n("div",CU,[n("label",SU,d(f(e)("Enable Auto-Assignment")),1),n("p",MU,d(f(e)("Automatically assign new job seekers to this user")),1)])])):j("",!0),l.value.works_with_employers?(g(),y("div",TU,[n("div",DU,[z(n("input",{"onUpdate:modelValue":ie[3]||(ie[3]=B=>l.value.enable_auto_assign_employers=B),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"},null,512),[[rs,l.value.enable_auto_assign_employers]])]),n("div",AU,[n("label",PU,d(f(e)("Enable Auto-Assignment")),1),n("p",EU,d(f(e)("Automatically assign new employers to this user")),1)])])):j("",!0)]),n("div",jU,[n("button",{onClick:ie[4]||(ie[4]=B=>r.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:T,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},d(f(e)("Save Focus")),1)])])]),_:1},8,["open"]),S(f(md),{open:c.value,onClose:ie[10]||(ie[10]=B=>c.value=!1),size:"xl"},{default:W(()=>{var B;return[n("div",RU,[n("h3",IU,d(f(e)("Assign Users to"))+" "+d((B=a.value)==null?void 0:B.name),1),n("div",OU,[n("button",{onClick:ie[6]||(ie[6]=Q=>u.value="job_seekers"),class:X(["flex-1 rounded-md px-4 py-2 text-sm font-medium",u.value==="job_seekers"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(f(e)("Job Seekers")),3),n("button",{onClick:ie[7]||(ie[7]=Q=>u.value="employers"),class:X(["flex-1 rounded-md px-4 py-2 text-sm font-medium",u.value==="employers"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(f(e)("Employers")),3)]),n("div",LU,[z(n("input",{"onUpdate:modelValue":ie[8]||(ie[8]=Q=>p.value=Q),onInput:D,type:"text",placeholder:"Search by name or email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[K,p.value]])]),n("div",FU,[h.value?(g(),re(f(it),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):m.value.length===0?(g(),y("div",NU,d(f(e)("No available users found")),1)):(g(),y("div",zU,[(g(!0),y(oe,null,ue(m.value,Q=>(g(),y("div",{key:Q.id,class:"p-4 hover:bg-gray-50 flex items-center justify-between"},[n("div",null,[n("p",UU,d(Q.name),1),n("p",BU,d(Q.email),1),n("p",VU,d(f(e)("Registered"))+": "+d(ne(Q.created_at)),1)]),n("div",null,[Q.is_assigned?(g(),y("div",qU,[n("span",WU,d(f(e)("Assigned to"))+":",1),n("span",KU,d(Q.assigned_to.name),1)])):(g(),y("button",{key:0,onClick:ee=>N(Q),type:"button",class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"},d(f(e)("Assign")),9,HU))])]))),128))]))]),_.value.last_page>1?(g(),y("div",YU,[n("button",{onClick:de,disabled:_.value.current_page===1,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},d(f(e)("Previous")),9,GU),n("span",XU,d(f(e)("Page"))+" "+d(_.value.current_page)+" "+d(f(e)("of"))+" "+d(_.value.last_page),1),n("button",{onClick:q,disabled:_.value.current_page===_.value.last_page,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},d(f(e)("Next")),9,JU)])):j("",!0),n("div",QU,[n("button",{onClick:ie[9]||(ie[9]=Q=>c.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Close")),1)])])]}),_:1},8,["open"]),S(f(md),{open:v.value,onClose:ie[12]||(ie[12]=B=>v.value=!1),size:"xl"},{default:W(()=>{var B;return[n("div",ZU,[n("h3",eB,d(f(e)("Assignments for"))+" "+d((B=a.value)==null?void 0:B.name),1),w.value?(g(),re(f(it),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):x.value.length===0?(g(),y("div",tB,d(f(e)("No assignments yet")),1)):(g(),y("div",sB,[(g(!0),y(oe,null,ue(x.value,Q=>{var ee;return g(),y("div",{key:Q.id,class:"rounded-lg border border-gray-200 p-4"},[n("div",nB,[n("div",oB,[n("div",iB,[n("h5",rB,d(Q.v11_user_name),1),n("span",{class:X(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",Q.v11_user_type===2?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},d(Q.user_type_name),3),Q.auto_assigned?(g(),y("span",aB,d(f(e)("Auto-assigned")),1)):j("",!0)]),n("p",lB,d(Q.v11_user_email),1),n("p",dB,[J(d(f(e)("Assigned"))+": "+d(ne(Q.assigned_at))+" ",1),Q.assigned_by?(g(),y("span",cB,"  "+d(f(e)("By"))+": "+d(Q.assigned_by),1)):j("",!0)]),Q.last_contacted_at?(g(),y("p",uB,d(f(e)("Last contacted"))+": "+d(ne(Q.last_contacted_at)),1)):j("",!0),Q.notes?(g(),y("div",mB,[n("p",fB,d(Q.notes),1)])):j("",!0)]),n("div",pB,[Q.task_id?(g(),y("a",{key:0,href:`/projects/${(ee=Q.task)==null?void 0:ee.project_id}/tasks/${Q.task_id}`,class:"rounded-md bg-indigo-100 px-3 py-1.5 text-sm font-medium text-indigo-700 hover:bg-indigo-200 text-center"},d(f(e)("View Task")),9,hB)):j("",!0),n("button",{onClick:te=>ye(Q),type:"button",class:"rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-200"},d(f(e)("Add Note")),9,gB),n("button",{onClick:te=>U(Q),type:"button",class:"rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-200"},d(f(e)("Unassign")),9,_B)])])])}),128))])),n("div",vB,[n("button",{onClick:ie[11]||(ie[11]=Q=>v.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Close")),1)])])]}),_:1},8,["open"]),S(f(md),{open:b.value,onClose:ie[16]||(ie[16]=B=>b.value=!1)},{default:W(()=>[n("div",yB,[n("h3",xB,d(f(e)("Add Contact Note")),1),n("div",bB,[n("div",null,[n("label",wB,d(f(e)("Notes")),1),z(n("textarea",{"onUpdate:modelValue":ie[13]||(ie[13]=B=>C.value.notes=B),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add notes about your contact with this user..."},null,512),[[K,C.value.notes]])]),n("div",kB,[z(n("input",{"onUpdate:modelValue":ie[14]||(ie[14]=B=>C.value.contacted=B),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,C.value.contacted]]),n("label",$B,d(f(e)("Mark as contacted today")),1)])]),n("div",CB,[n("button",{onClick:ie[15]||(ie[15]=B=>b.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},d(f(e)("Cancel")),1),n("button",{onClick:le,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},d(f(e)("Save Note")),1)])])]),_:1},8,["open"])]}),_:1}))}}),MB={class:"space-y-6 p-6"},TB={key:0},DB={class:"mt-4"},AB={key:1,class:"space-y-3"},PB={class:"text-sm font-medium text-gray-700"},EB={class:"w-full bg-gray-200 rounded-full h-2.5"},jB={class:"text-sm text-gray-500"},RB={key:2,class:"space-y-3"},IB={class:"text-sm font-medium text-gray-700"},OB={class:"text-sm text-gray-500"},LB={key:0,class:"border border-gray-200 rounded-lg p-6 space-y-4"},FB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},NB={class:"flex items-start"},zB={class:"flex items-center h-5"},UB={key:0},BB={class:"flex items-start"},VB={class:"flex items-center h-5"},HB={class:"flex items-start"},qB={class:"flex items-center h-5"},WB={class:"flex items-start"},KB={class:"flex items-center h-5"},YB={class:"space-y-2"},GB={class:"block text-sm font-medium text-gray-700"},XB={class:"space-y-2"},JB={class:"space-y-2"},QB={class:"space-y-2"},ZB={key:0,class:"bg-gray-50 rounded-lg p-4"},eV={class:"grid grid-cols-2 gap-4 text-sm"},tV={class:"font-medium"},sV={class:"font-medium"},nV={class:"font-medium"},oV={class:"flex space-x-3"},iV=["disabled"],rV=["disabled"],aV={key:1,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-6"},lV={class:"flex items-center"},dV={class:"font-medium text-yellow-800"},cV={key:2,class:"border border-green-200 bg-green-50 rounded-lg p-6 space-y-4"},uV={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},mV={class:"font-medium"},fV={class:"font-medium"},pV={class:"font-medium text-green-600"},hV={class:"flex space-x-3"},gV=["href"],_V={key:3,class:"border border-red-200 bg-red-50 rounded-lg p-6"},vV={class:"flex items-center"},yV={class:"text-sm text-red-600"},xV={key:4,class:"space-y-4"},bV={class:"space-y-2"},wV={class:"font-medium text-gray-900"},kV={class:"text-sm text-gray-500"},$V={key:0,class:"text-green-600"},CV={class:"flex items-center space-x-2"},SV=["onClick"],MV=["onClick"],TV=ve({__name:"VideoEnhancer",setup(s){const e=Kn(),t=E([]),o=E(null),i=E(null),r=E(!1),a=E(0),l=E(!1),c=E(!1),u=E(!1),m=E(null),h=E(null),p=E({upscale:!1,upscale_resolution:"1920:1080",enhance_quality:!1,noise_reduction:!0,normalize_audio:!0,compression_level:23,preset:"medium",format:"mp4",target_size:null});Ne(()=>{_()}),Ks(()=>{h.value&&clearInterval(h.value)});const _=()=>{ke.get("/api/video-enhancer").then(L=>{t.value=L.data.data;const D=t.value.find(N=>N.status==="pending"||N.status==="processing");D&&(o.value=D,D.status==="processing"&&$())}).catch(()=>{e.error("Failed to load videos")})},v=L=>{var N;l.value=!1;const D=(N=L.dataTransfer)==null?void 0:N.files;D&&D.length>0&&(i.value=D[0])},x=L=>{const D=L.target;D.files&&D.files.length>0&&(i.value=D.files[0])},w=L=>{const D=["B","KB","MB","GB"];let N=L,P=0;for(;N>=1024&&P<D.length-1;)N/=1024,P++;return`${N.toFixed(2)} ${D[P]}`},b=()=>{if(!i.value)return;r.value=!0,a.value=0;const L=new FormData;L.append("video",i.value),ke.post("/api/video-enhancer/upload",L,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:D=>{a.value=Math.round(D.loaded*100/D.total)}}).then(D=>{e.success("Video uploaded successfully"),o.value=D.data.data,i.value=null,_()}).catch(D=>{var N,P;e.error(((P=(N=D.response)==null?void 0:N.data)==null?void 0:P.message)||"Upload failed")}).finally(()=>{r.value=!1,a.value=0})},k=()=>{o.value&&(c.value=!0,ke.post(`/api/video-enhancer/${o.value.id}/estimate`,p.value).then(L=>{m.value=L.data.data}).catch(L=>{var D,N;e.error(((N=(D=L.response)==null?void 0:D.data)==null?void 0:N.message)||"Failed to estimate")}).finally(()=>{c.value=!1}))},C=()=>{o.value&&(u.value=!0,ke.post(`/api/video-enhancer/${o.value.id}/process`,p.value).then(()=>{e.success("Processing started"),o.value&&(o.value.status="processing"),$()}).catch(L=>{var D,N;e.error(((N=(D=L.response)==null?void 0:D.data)==null?void 0:N.message)||"Failed to start processing")}).finally(()=>{u.value=!1}))},$=()=>{h.value&&clearInterval(h.value),h.value=window.setInterval(()=>{o.value&&ke.get(`/api/video-enhancer/${o.value.id}/status`).then(L=>{const D=L.data.data;o.value&&(o.value.status=D.status,o.value.processed_size=D.processed_size,o.value.processed_size_human=D.processed_size_human,o.value.compression_ratio=D.compression_ratio,o.value.error_message=D.error_message),(D.status==="completed"||D.status==="failed")&&(h.value&&(clearInterval(h.value),h.value=null),_(),D.status==="completed"&&e.success("Video processing completed!"))}).catch(()=>{})},3e3)},A=L=>{window.location.href=`/api/video-enhancer/${L}/download`},R=(L,D)=>{confirm(D?"Delete both original and processed video?":"Delete only the processed video? You can re-process later.")&&(D?T(L):F(L))},T=L=>{ke.delete(`/api/video-enhancer/${L}`).then(()=>{var D;e.success("Video deleted"),((D=o.value)==null?void 0:D.id)===L&&(o.value=null),_()}).catch(D=>{var N,P;e.error(((P=(N=D.response)==null?void 0:N.data)==null?void 0:P.message)||"Failed to delete")})},F=L=>{ke.delete(`/api/video-enhancer/${L}/processed`).then(()=>{e.success("Processed video deleted"),_()}).catch(D=>{var N,P;e.error(((P=(N=D.response)==null?void 0:N.data)==null?void 0:P.message)||"Failed to delete")})};return(L,D)=>(g(),y("div",null,[D[47]||(D[47]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Video Enhancer"),n("p",{class:"mt-1 text-sm text-gray-500"},"Upload videos to enhance quality, reduce noise, and compress. Max file size: 2GB")],-1)),S(f(hi),null,{default:W(()=>{var N;return[n("div",MB,[n("div",{class:X(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",{"border-indigo-500 bg-indigo-50":l.value}]),onDragover:D[2]||(D[2]=Ve(P=>l.value=!0,["prevent"])),onDragleave:D[3]||(D[3]=Ve(P=>l.value=!1,["prevent"])),onDrop:Ve(v,["prevent"])},[n("input",{ref:"fileInput",type:"file",accept:"video/*",class:"hidden",onChange:x},null,544),!r.value&&!i.value?(g(),y("div",TB,[D[16]||(D[16]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[n("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),n("div",DB,[n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:D[0]||(D[0]=P=>L.$refs.fileInput.click())}," Select Video ")]),D[17]||(D[17]=n("p",{class:"mt-2 text-sm text-gray-500"},"or drag and drop",-1)),D[18]||(D[18]=n("p",{class:"text-xs text-gray-400 mt-1"},"MP4, MOV, AVI, WebM up to 2GB",-1))])):j("",!0),r.value?(g(),y("div",AB,[n("p",PB,"Uploading: "+d((N=i.value)==null?void 0:N.name),1),n("div",EB,[n("div",{class:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:bt({width:a.value+"%"})},null,4)]),n("p",jB,d(a.value)+"%",1)])):j("",!0),i.value&&!r.value?(g(),y("div",RB,[n("p",IB,d(i.value.name),1),n("p",OB,d(w(i.value.size)),1),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:b}," Upload Video "),n("button",{type:"button",class:"ml-2 text-sm text-gray-500 hover:text-gray-700",onClick:D[1]||(D[1]=P=>i.value=null)}," Cancel ")])):j("",!0)],34),o.value&&o.value.status==="pending"?(g(),y("div",LB,[D[34]||(D[34]=n("h3",{class:"text-md font-medium text-gray-900"},"Enhancement Options",-1)),n("div",FB,[n("div",NB,[n("div",zB,[z(n("input",{id:"upscale","onUpdate:modelValue":D[4]||(D[4]=P=>p.value.upscale=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,p.value.upscale]])]),D[19]||(D[19]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"upscale",class:"font-medium text-gray-700"},"Upscale Resolution"),n("p",{class:"text-gray-500"},"Increase video resolution")],-1))]),p.value.upscale?(g(),y("div",UB,[z(n("select",{"onUpdate:modelValue":D[5]||(D[5]=P=>p.value.upscale_resolution=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...D[20]||(D[20]=[n("option",{value:"1920:1080"},"1080p (1920x1080)",-1),n("option",{value:"2560:1440"},"2K (2560x1440)",-1),n("option",{value:"3840:2160"},"4K (3840x2160)",-1)])],512),[[xe,p.value.upscale_resolution]])])):j("",!0),n("div",BB,[n("div",VB,[z(n("input",{id:"enhance_quality","onUpdate:modelValue":D[6]||(D[6]=P=>p.value.enhance_quality=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,p.value.enhance_quality]])]),D[21]||(D[21]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"enhance_quality",class:"font-medium text-gray-700"},"Enhance Quality"),n("p",{class:"text-gray-500"},"Sharpen and improve video clarity")],-1))]),n("div",HB,[n("div",qB,[z(n("input",{id:"noise_reduction","onUpdate:modelValue":D[7]||(D[7]=P=>p.value.noise_reduction=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,p.value.noise_reduction]])]),D[22]||(D[22]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"noise_reduction",class:"font-medium text-gray-700"},"Audio Noise Reduction"),n("p",{class:"text-gray-500"},"Remove background noise from audio")],-1))]),n("div",WB,[n("div",KB,[z(n("input",{id:"normalize_audio","onUpdate:modelValue":D[8]||(D[8]=P=>p.value.normalize_audio=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,p.value.normalize_audio]])]),D[23]||(D[23]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"normalize_audio",class:"font-medium text-gray-700"},"Normalize Audio"),n("p",{class:"text-gray-500"},"Balance audio levels")],-1))])]),n("div",YB,[n("label",GB,"Compression Level (CRF: "+d(p.value.compression_level)+")",1),z(n("input",{"onUpdate:modelValue":D[9]||(D[9]=P=>p.value.compression_level=P),type:"range",min:"18",max:"35",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[K,p.value.compression_level]]),D[24]||(D[24]=n("div",{class:"flex justify-between text-xs text-gray-500"},[n("span",null,"Best Quality (larger file)"),n("span",null,"Smaller File (lower quality)")],-1))]),n("div",XB,[D[26]||(D[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Encoding Speed",-1)),z(n("select",{"onUpdate:modelValue":D[10]||(D[10]=P=>p.value.preset=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...D[25]||(D[25]=[n("option",{value:"ultrafast"},"Ultra Fast (lowest quality)",-1),n("option",{value:"fast"},"Fast",-1),n("option",{value:"medium"},"Medium (recommended)",-1),n("option",{value:"slow"},"Slow (better quality)",-1),n("option",{value:"veryslow"},"Very Slow (best quality)",-1)])],512),[[xe,p.value.preset]])]),n("div",JB,[D[28]||(D[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Output Format",-1)),z(n("select",{"onUpdate:modelValue":D[11]||(D[11]=P=>p.value.format=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...D[27]||(D[27]=[n("option",{value:"mp4"},"MP4 (H.264)",-1),n("option",{value:"webm"},"WebM (VP9)",-1),n("option",{value:"mkv"},"MKV",-1)])],512),[[xe,p.value.format]])]),n("div",QB,[D[29]||(D[29]=n("label",{class:"block text-sm font-medium text-gray-700"},"Target Size (MB) - Optional",-1)),z(n("input",{"onUpdate:modelValue":D[12]||(D[12]=P=>p.value.target_size=P),type:"number",min:"1",placeholder:"Leave empty for automatic",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,p.value.target_size]])]),m.value?(g(),y("div",ZB,[D[33]||(D[33]=n("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Size Estimation",-1)),n("div",eV,[n("div",null,[D[30]||(D[30]=n("p",{class:"text-gray-500"},"Original Size",-1)),n("p",tV,d(m.value.original_size_human),1)]),n("div",null,[D[31]||(D[31]=n("p",{class:"text-gray-500"},"Estimated Output",-1)),n("p",sV,d(m.value.estimated_size_human),1)]),n("div",null,[D[32]||(D[32]=n("p",{class:"text-gray-500"},"Compression Ratio",-1)),n("p",nV,d(m.value.compression_ratio)+"%",1)]),n("div",null,[n("p",{class:X(m.value.feasible?"text-green-600":"text-red-600")},d(m.value.feasibility_message),3)])])])):j("",!0),n("div",oV,[n("button",{type:"button",disabled:c.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:k},d(c.value?"Calculating...":"Estimate Size"),9,iV),n("button",{type:"button",disabled:u.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:C},d(u.value?"Starting...":"Start Processing"),9,rV)])])):j("",!0),o.value&&o.value.status==="processing"?(g(),y("div",aV,[n("div",lV,[D[36]||(D[36]=n("svg",{class:"animate-spin h-5 w-5 text-yellow-600 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),n("div",null,[n("p",dV,"Processing: "+d(o.value.original_filename),1),D[35]||(D[35]=n("p",{class:"text-sm text-yellow-600"},"This may take several minutes for large videos...",-1))])])])):j("",!0),o.value&&o.value.status==="completed"?(g(),y("div",cV,[D[41]||(D[41]=n("div",{class:"flex items-center"},[n("svg",{class:"h-5 w-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("p",{class:"font-medium text-green-800"},"Processing Complete!")],-1)),n("div",uV,[n("div",null,[D[37]||(D[37]=n("p",{class:"text-gray-500"},"Original",-1)),n("p",mV,d(o.value.original_size_human),1)]),n("div",null,[D[38]||(D[38]=n("p",{class:"text-gray-500"},"Processed",-1)),n("p",fV,d(o.value.processed_size_human),1)]),n("div",null,[D[39]||(D[39]=n("p",{class:"text-gray-500"},"Compression",-1)),n("p",pV,d(o.value.compression_ratio)+"% saved",1)])]),n("div",hV,[n("a",{href:"/api/video-enhancer/"+o.value.id+"/download",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"},[...D[40]||(D[40]=[n("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),J(" Download ",-1)])],8,gV),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:D[13]||(D[13]=P=>R(o.value.id,!1))}," Keep Original, Delete Processed "),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",onClick:D[14]||(D[14]=P=>R(o.value.id,!0))}," Delete All ")])])):j("",!0),o.value&&o.value.status==="failed"?(g(),y("div",_V,[n("div",vV,[D[43]||(D[43]=n("svg",{class:"h-5 w-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),n("div",null,[D[42]||(D[42]=n("p",{class:"font-medium text-red-800"},"Processing Failed",-1)),n("p",yV,d(o.value.error_message),1)])]),n("button",{type:"button",class:"mt-3 text-sm text-red-600 hover:text-red-800",onClick:D[15]||(D[15]=P=>T(o.value.id))}," Delete and try again ")])):j("",!0),t.value.length>0?(g(),y("div",xV,[D[46]||(D[46]=n("h3",{class:"text-md font-medium text-gray-900"},"Previous Videos",-1)),n("div",bV,[(g(!0),y(oe,null,ue(t.value,P=>(g(),y("div",{key:P.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[n("div",null,[n("p",wV,d(P.original_filename),1),n("p",kV,[J(d(P.original_size_human)+" ",1),P.status==="completed"?(g(),y("span",$V,"  "+d(P.processed_size_human)+" ("+d(P.compression_ratio)+"% saved) ",1)):j("",!0)])]),n("div",CV,[n("span",{class:X([{"bg-yellow-100 text-yellow-800":P.status==="pending","bg-blue-100 text-blue-800":P.status==="processing","bg-green-100 text-green-800":P.status==="completed","bg-red-100 text-red-800":P.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},d(P.status),3),P.status==="completed"?(g(),y("button",{key:0,class:"text-indigo-600 hover:text-indigo-800",onClick:U=>A(P.id)},[...D[44]||(D[44]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,SV)):j("",!0),n("button",{class:"text-red-600 hover:text-red-800",onClick:U=>R(P.id,!0)},[...D[45]||(D[45]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,MV)])]))),128))])])):j("",!0)])]}),_:1})]))}}),DV={class:"col-span-12"},AV={class:"mb-4 flex items-center text-sm"},PV={class:"block text-sm font-medium text-gray-700"},w0="role",EV=ve({__name:"Form",props:{id:{}},setup(s){const e=_s(w0)(),t=js(w0)(),o=yo(),i=cx();e.onSuccess(l=>{t.updateOrCreate(l.model),Ft().pop()});function r(){e.data.permissions=e.options.permissions.map(l=>l.value)}function a(){e.data.permissions=[]}return(l,c)=>(g(),re(f(bs),{id:s.id,name:w0,uri:"roles"},{default:W(()=>[S(f(o),{name:"name",label:"Name",class:"col-span-12"}),n("div",DV,[n("div",AV,[n("p",PV,d(l.__("Permissions")),1),n("span",{class:"block cursor-pointer pl-4 text-xs text-gray-700 hover:text-gray-900",onClick:r},d(l.__("Select All")),1),c[0]||(c[0]=n("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:a},d(l.__("Deselect All")),1)]),S(f(i),{name:"permissions",class:"col-span-12"})])]),_:1},8,["id"]))}}),jV={class:"flex flex-col"},RV={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},IV={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},OV={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},LV={class:"min-w-full divide-y divide-gray-200"},FV={class:"divide-y divide-gray-200 bg-white"},NV={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},zV={class:"whitespace-nowrap px-6 py-4 text-center text-sm font-medium text-gray-500"},UV={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},BV=["onClick"],VV=ve({__name:"Index",setup(s){function e(t=null){Ft().add(EV,{id:t})}return(t,o)=>(g(),re(ar,null,{topbar:W(()=>[t.can("role:create")?(g(),re(f(Le),{key:0,class:"ml-auto",size:"sm","data-cy":"topbar-create-button",onClick:o[0]||(o[0]=i=>e())},{default:W(()=>[J(d(t.__("Create Role")),1)]),_:1})):j("",!0)]),default:W(()=>[S(f(of),{name:"role",uri:"roles","no-filters":"","no-search":""},{default:W(({items:i,index:r})=>[n("div",jV,[n("div",RV,[n("div",IV,[n("div",OV,[n("table",LV,[n("thead",null,[n("tr",null,[S(f(Fe),{name:"role",index:r,label:t.__("Role")},null,8,["index","label"]),S(f(Fe),{name:"role",index:r,label:t.__("Permissions"),align:"center"},null,8,["index","label"]),o[1]||(o[1]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",FV,[(g(!0),y(oe,null,ue(i,a=>(g(),y("tr",{key:a.id},[n("td",NV,d(a.name),1),n("td",zV,d(a.permissions_count),1),n("td",UV,[t.can("role:update")?(g(),y("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[S(f(Wr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,BV)):j("",!0),t.can("role:delete")?(g(),re(f(Gt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(f(Rs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),HV={class:"border-b border-gray-200 px-6 py-4"},qV={class:"text-base font-medium leading-6 text-gray-900"},WV={class:"space-y-4 divide-y pb-4"},KV=["onClick"],YV={class:"-mt-1 ltr:pl-4 rtl:pr-4"},GV=["onClick"],XV={class:"mt-1.5 flex space-x-4 rtl:space-x-reverse"},JV={key:0,class:"flex items-center py-1"},QV={class:"text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},ZV=["href","onClick"],eH={class:"truncate text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},tH=["onClick"],sH={class:"ltr:ml-auto rtl:mr-auto"},ga=ve({__name:"TasksList",props:{title:{},tasks:{default:()=>[]}},setup(s){const e=js("tasks")(),t=E(null),o=Jr();function i(a){t.value=a,ce.patch(`tasks/${a}/complete`).then(()=>{e.fetch()})}function r(a){Ft().add(lu,{id:a,page:"tasks"})}return(a,l)=>{const c=Bt("router-link");return s.tasks.length?(g(),re(f(hi),{key:1},{default:W(()=>[n("div",HV,[n("h3",qV,d(a.__(s.title)),1)]),n("div",WV,[(g(!0),y(oe,null,ue(s.tasks,u=>(g(),y("div",{key:u.id,class:"flex items-start px-6 pt-4"},[n("span",{class:X(["inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":t.value==u.id,"bg-blue-400":u.completed_at,"border border-gray-300":!u.completed_at}]),onClick:m=>i(u.id)},[...l[1]||(l[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],10,KV),n("div",YV,[n("span",{class:"block cursor-pointer hover:underline",onClick:m=>r(u.id)},d(u.title),9,GV),n("div",XV,[u.due_at?(g(),y("div",JV,[S(f(nn),{class:"h-4 w-4 text-gray-400"}),n("span",QV,d(u.due_at),1)])):j("",!0),S(c,{custom:"",to:"/projects/"+u.project_id},{default:W(({href:m,navigate:h})=>[n("a",{href:m,class:"flex cursor-pointer items-center text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:h},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:bt({"background-color":u.project.meta.color}),"aria-hidden":"true"},null,4),n("span",eH,d(u.project.name),1)],8,ZV)]),_:2},1032,["to"]),u.id==f(o).taskId?(g(),y("span",{key:1,class:"flex cursor-pointer items-center",onClick:l[0]||(l[0]=Ve((...m)=>f(o).stop&&f(o).stop(...m),["stop"]))},[S(f(Kr),{class:"h-4 w-4 text-red-500 hover:text-red-800"})])):(g(),y("span",{key:2,class:"flex cursor-pointer items-center",onClick:Ve(m=>f(o).start(u),["stop"])},[S(f(qc),{class:"h-4 w-4 text-gray-500 hover:text-gray-800"})],8,tH))])]),n("div",sH,[S(f(cs),{user:u.users[0],class:"h-6 w-6"},null,8,["user"])])]))),128))])]),_:1})):(g(),re(f(wl),{key:0,"no-create":""}))}}}),nH={class:"mb-4 flex items-center"},oH={class:"text-2xl font-semibold text-gray-900"},iH={class:"flex ltr:ml-auto rtl:mr-auto"},rH={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},aH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},lH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},dH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},cH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},uH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},mH={class:"group relative ltr:ml-2 rtl:mr-2"},fH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},pH={key:1,class:"group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-600"},hH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},gH={class:"absolute top-full hidden group-hover:block ltr:right-0 rtl:left-0"},_H={class:"min-w-[12rem] rounded-md bg-white ring-1 ring-black ring-opacity-5"},vH={class:"py-1",role:"none"},yH=["onClick"],xH={class:"truncate ltr:ml-2.5 rtl:mr-2.5"},bH={key:0,class:"mt-8 flex justify-center"},wH={key:1},kH={key:1,class:"space-y-4"},$H=ve({__name:"Index",setup(s){const e=Ze("__"),t=js("tasks")(),o=E([]),i=E(null),r=E(""),a=E("");t.setConfig({uri:"tasks"}),t.fetch(),l();function l(){ce.get("projects/options").then(m=>{o.value=m.data})}function c(m=null){i.value=null,t.params.project=null,t.params.type=m,t.fetch()}function u(m,h,p){i.value=m,r.value=h,a.value=p,t.params.type=null,t.params.project=m,t.fetch()}return(m,h)=>{var p;return g(),y(oe,null,[n("div",nH,[n("h1",oH,d(f(e)("Tasks")),1),n("div",iH,[n("nav",rH,[n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":((p=f(t).params)==null?void 0:p.type)==null&&i.value==null,"text-gray-600":f(t).params.type!=null||i.value!=null}]),onClick:h[0]||(h[0]=_=>c())},[S(f(Gm),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",aH,d(f(e)("Inbox")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="today","text-gray-600":f(t).params.type!="today"}]),onClick:h[1]||(h[1]=_=>c("today"))},[S(f(nn),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",lH,d(f(e)("Today")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="upcoming","text-gray-600":f(t).params.type!="upcoming"}]),onClick:h[2]||(h[2]=_=>c("upcoming"))},[S(f(o$),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",dH,d(f(e)("Upcoming")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="overdue","text-gray-600":f(t).params.type!="overdue"}]),onClick:h[3]||(h[3]=_=>c("overdue"))},[S(f(Ym),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",cH,d(f(e)("Overdue")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="completed","text-gray-600":f(t).params.type!="completed"}]),onClick:h[4]||(h[4]=_=>c("completed"))},[S(f(Yt),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",uH,d(f(e)("Completed")),1)],2)]),n("div",mH,[i.value?(g(),y("div",{key:0,class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}])},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:bt({"background-color":a.value})},null,4),n("span",fH,d(r.value),1)],2)):(g(),y("div",pH,[S(f(Nv),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",hH,d(f(e)("Projects")),1)])),n("div",gH,[h[5]||(h[5]=n("div",{class:"h-1.5"},"",-1)),n("div",_H,[n("div",vH,[(g(!0),y(oe,null,ue(o.value,_=>(g(),y("p",{key:_.id,class:"flex cursor-pointer items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:v=>u(_.id,_.name,_.meta.color)},[n("span",{class:"block h-2.5 w-2.5 flex-shrink-0 rounded-full",style:bt({"background-color":_.meta.color}),"aria-hidden":"true"},null,4),n("span",xH,d(_.name),1)],8,yH))),128)),z(n("p",{class:"flex items-center px-4 py-3 text-sm leading-5 text-gray-600"},d(f(e)("No projects")),513),[[zt,!o.value.length]])])])])])])]),f(t).fetching?(g(),y("div",bH,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",wH,[Array.isArray(f(t).data)?(g(),re(f(wl),{key:0,"no-create":""})):(g(),y("div",kH,[f(t).data.today?(g(),re(ga,{key:0,title:"Today",tasks:f(t).data.today},null,8,["tasks"])):j("",!0),f(t).data.overdue?(g(),re(ga,{key:1,title:"Overdue",tasks:f(t).data.overdue},null,8,["tasks"])):j("",!0),f(t).data.upcoming?(g(),re(ga,{key:2,title:"Upcoming",tasks:f(t).data.upcoming},null,8,["tasks"])):j("",!0),f(t).data["no overdue"]?(g(),re(ga,{key:3,title:"No Overdue",tasks:f(t).data["no overdue"]},null,8,["tasks"])):j("",!0),f(t).data.completed?(g(),re(ga,{key:4,title:"Completed",tasks:f(t).data.completed},null,8,["tasks"])):j("",!0)]))]))],64)}}}),k0="user",CH=ve({__name:"Form",props:{id:{}},setup(s){const e=_s(k0)(),t=js(k0)(),o=yo(),i=Cl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(g(),re(f(bs),{id:s.id,name:k0,uri:"users"},{default:W(()=>[S(f(o),{name:"name",label:"Name",class:"col-span-12"}),S(f(o),{name:"email",label:"Email",class:"col-span-12"}),S(f(o),{name:"password",label:"Password",class:"col-span-12"}),S(f(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1},8,["id"]))}}),SH={key:0,class:"mt-8 flex justify-center"},MH={key:1},TH={class:"mb-6"},DH={class:"relative w-64 rounded-md shadow-sm"},AH={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},PH=["placeholder"],EH={key:0,class:"mb-8"},jH={key:0,class:"ltr:ml-auto rtl:mr-auto"},RH={class:"flex flex-col"},IH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},OH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},LH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},FH={class:"min-w-full divide-y divide-gray-200"},NH={class:"divide-y divide-gray-200 bg-white"},zH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},UH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},BH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},VH={class:"ltr:ml-auto rtl:mr-auto"},HH={class:"flex flex-col"},qH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},WH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},KH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},YH={class:"min-w-full divide-y divide-gray-200"},GH={class:"divide-y divide-gray-200 bg-white"},XH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},JH={class:"flex"},QH={class:"text-sm ltr:ml-3 rtl:mr-3"},ZH={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},eq={class:"block text-sm font-normal text-gray-500"},tq={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},sq={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},nq=["onClick"],oq=ve({__name:"Index",setup(s){const e=Ze("can"),t=Ze("__"),o=js("user")(),i=js("invitation")(),r=E(!0);a(),o.setConfig({uri:"users",orderByDirection:"desc"}),o.fetch(),(e("user:view")||e("user:create"))&&(i.setConfig({uri:"invitations",orderByDirection:"desc"}),i.fetch());function a(){setTimeout(function(){if(o.fetching||i.fetching){a();return}l()},150)}function l(){r.value=!1}function c(_=null){Ft().add(mx,{id:_})}function u(_=null){Ft().add(CH,{id:_})}function m(){r.value=!0,o.onSearch(),a()}function h(_){var v;return!(!vt.is_super_admin||_.id===((v=vt.user)==null?void 0:v.id))}async function p(_){var v,x;if(confirm(`Are you sure you want to login as ${_.name}?`))try{(await ce.post(`impersonate/${_.id}`)).data.success&&(alert(`You are now logged in as ${_.name}`),window.location.href="/")}catch(w){alert(((x=(v=w.response)==null?void 0:v.data)==null?void 0:x.message)||"Failed to impersonate user")}}return(_,v)=>{var x,w;return r.value?(g(),y("div",SH,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",MH,[n("div",TH,[n("div",DH,[n("div",AH,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":v[0]||(v[0]=b=>f(o).params.search=b),type:"search",placeholder:f(t)("Search users..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,PH),[[K,f(o).params.search]])])]),(w=(x=f(i).data)==null?void 0:x.data)!=null&&w.length?(g(),y("section",EH,[S(f(uc),{title:f(t)("Pending Invitations")},{default:W(()=>[f(e)("user:create")?(g(),y("div",jH,[S(f(Le),{size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[1]||(v[1]=b=>c())},{default:W(()=>[J(d(f(t)("Invite Team Member")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),n("div",RH,[n("div",IH,[n("div",OH,[n("div",LH,[n("table",FH,[n("thead",null,[n("tr",null,[S(f(Fe),{name:"invitation",index:f(i),label:f(t)("Email"),sort:"email"},null,8,["index","label"]),S(f(Fe),{name:"invitation",index:f(i),label:f(t)("Role")},null,8,["index","label"]),v[3]||(v[3]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",NH,[(g(!0),y(oe,null,ue(f(i).data.data,b=>(g(),y("tr",{key:b.id},[n("td",zH,d(b.email),1),n("td",UH,d(b.role.name),1),n("td",BH,[f(e)("user:delete")?(g(),re(f(Gt),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(k=>f(i).deleteIt(b.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(f(Rs),{index:f(i)},null,8,["index"])])])])])])):j("",!0),n("section",null,[S(f(uc),{title:f(t)("Team Members")},{default:W(()=>{var b;return[n("div",VH,[f(e)("user:create")&&!((b=f(i).data)!=null&&b.length)?(g(),re(f(Le),{key:0,size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[2]||(v[2]=k=>c())},{default:W(()=>[J(d(f(t)("Invite Team Member")),1)]),_:1})):j("",!0),f(e)("user:create")?(g(),re(f(Le),{key:1,class:"ltr:ml-2 rtl:mr-2",size:"sm","data-cy":"topbar-create-button",onClick:u},{default:W(()=>[J(d(f(t)("Create Team Member")),1)]),_:1})):j("",!0)])]}),_:1},8,["title"]),n("div",HH,[n("div",qH,[n("div",WH,[n("div",KH,[n("table",YH,[n("thead",null,[n("tr",null,[S(f(Fe),{name:"user",index:f(o),label:f(t)("Name"),sort:"name"},null,8,["index","label"]),S(f(Fe),{name:"user",index:f(o),label:f(t)("Role")},null,8,["index","label"]),v[4]||(v[4]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",GH,[(g(!0),y(oe,null,ue(f(o).data.data,b=>(g(),y("tr",{key:b.id},[n("td",XH,[n("div",JH,[S(f(cs),{class:"h-6 w-6",avatar:b.avatar},null,8,["avatar"]),n("div",QH,[n("span",ZH,d(b.name),1),n("span",eq,d(b.email),1)])])]),n("td",tq,d(b.roles[0].name),1),n("td",sq,[h(b)?(g(),re(f(Bv),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",title:f(t)("Login as this user"),onClick:Ve(k=>p(b),["stop"])},null,8,["title","onClick"])):j("",!0),f(e)("user:update")?(g(),y("span",{key:1,class:"ml-2",onClick:k=>u(b.id)},[S(f(Wr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,nq)):j("",!0),f(e)("user:delete")?(g(),re(f(Gt),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(k=>f(o).deleteIt(b.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(f(Rs),{index:f(o)},null,8,["index"])])])])])])]))}}}),b1="label",iq=ve({__name:"Form",props:{id:{}},setup(s){const e=_s(b1)(),t=yo(),o=js("label")();return e.onSuccess(i=>{o.updateOrCreate(i.model),Ft().pop()}),(i,r)=>(g(),re(f(bs),{id:s.id,name:b1,uri:"labels"},{default:W(()=>[S(f(t),{name:"name",label:"Name",class:"col-span-12"}),S(ux,{name:"color"})]),_:1},8,["id"]))}}),rq={class:"flex flex-col"},aq={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},lq={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},dq={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},cq={class:"min-w-full divide-y divide-gray-200"},uq={class:"divide-y divide-gray-200 bg-white"},mq={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},fq={class:"flex items-center"},pq={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},hq=["onClick"],gq=ve({__name:"Index",setup(s){function e(t=null){Ft().add(iq,{id:t})}return(t,o)=>(g(),re(ar,null,{topbar:W(()=>[S(f(Le),{size:"sm",onClick:e},{default:W(()=>[J(d(t.__("Create Label")),1)]),_:1})]),default:W(()=>[S(f(of),{name:"label",uri:"labels","no-filters":"","no-search":""},{default:W(({items:i,index:r})=>[n("div",rq,[n("div",aq,[n("div",lq,[n("div",dq,[n("table",cq,[n("tbody",uq,[(g(!0),y(oe,null,ue(i,a=>(g(),y("tr",{key:a.id},[n("td",mq,[n("div",fq,[S(f(Tx),{class:"mr-2 inline-block h-4 w-4",style:bt({color:a.meta.color})},null,8,["style"]),J(" "+d(a.name),1)])]),n("td",pq,[t.can("label:update")?(g(),y("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[S(f(Wr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,hq)):j("",!0),t.can("label:delete")?(g(),re(f(Gt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(f(Rs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),_q={class:"mb-4 flex"},vq={class:"text-2xl font-semibold text-gray-900"},yq={class:"flex items-center ltr:ml-auto rtl:mr-auto"},xq={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},bq={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},wq={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},kq={key:0,class:"mt-8 flex justify-center"},$q={key:1},Cq={class:"space-y-4 divide-y pb-6"},Sq=["href","onClick"],Mq={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},Tq={key:1,class:"flex items-center leading-5 text-gray-700"},Dq={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},Aq={class:"ml-auto flex space-x-3"},Pq=ve({__name:"Index",setup(s){const e=Ze("can"),t=Ze("__"),o=new URLSearchParams(window.location.search),i=E(!!o.has("archived")),r=js("projects")(),a=wf();o.has("archived")?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),r.fetch();function l(h=null){h=="archived"?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),h=="archived"?(i.value=!0,history.replaceState(history.state,"","?archived")):(i.value=!1,history.replaceState(history.state,"","/projects")),r.fetch()}function c(h,p){ce.patch(`projects/${h}/archive`).then(()=>{r.data.splice(p,1)})}function u(h,p){ce.patch(`projects/${h}/restore`).then(()=>{r.data.splice(p,1)})}function m(h,p){const _=$d();_.confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){const v=Array.isArray(h)?h:[h],x="projects";ce.delete(`${x}/null`,{data:{items:v}}).then(()=>{_.hide(),r.data.splice(p,1)}).catch(()=>{_.hide()})}})}return(h,p)=>{const _=Bt("RouterLink");return g(),y(oe,null,[n("div",_q,[n("h1",vq,d(f(t)("Projects")),1),n("div",yq,[n("nav",xq,[n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":!i.value,"text-gray-600":i.value}]),onClick:p[0]||(p[0]=v=>l())},[S(f(Nv),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",bq,d(f(t)("Active")),1)],2),n("span",{class:X(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}]),onClick:p[1]||(p[1]=v=>l("archived"))},[S(f(ih),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",wq,d(f(t)("Archived")),1)],2)]),f(e)("project:create")?(g(),re(f(Le),{key:0,class:"ml-6",size:"sm","data-cy":"topbar-create-button",onClick:Ve(f(a).create,["stop"])},{default:W(()=>[J(d(f(t)("Create Project")),1)]),_:1},8,["onClick"])):j("",!0)])]),f(r).fetching?(g(),y("div",kq,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",$q,[f(r).data.length?(g(),re(f(hi),{key:1},{default:W(()=>[n("div",Cq,[(g(!0),y(oe,null,ue(f(r).data,(v,x)=>{var w;return g(),y("div",{key:v.id,class:"flex px-6 pt-6"},[i.value?j("",!0):(g(),re(_,{key:0,custom:"",to:"/projects/"+v.id},{default:W(({href:b,navigate:k})=>{var C;return[n("a",{href:b,class:"flex cursor-pointer items-center leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:k},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:bt({"background-color":((C=v.meta)==null?void 0:C.color)||"#ccc"}),"aria-hidden":"true"},null,4),n("span",Mq,d(v.name),1)],8,Sq)]}),_:2},1032,["to"])),i.value?(g(),y("p",Tq,[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:bt({"background-color":((w=v.meta)==null?void 0:w.color)||"#ccc"}),"aria-hidden":"true"},null,4),n("span",Dq,d(v.name),1)])):j("",!0),n("div",Aq,[z(S(f(ih),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:b=>c(v.id,x)},null,8,["onClick"]),[[zt,!i.value&&f(e)("project:delete")]]),z(S(f(Q4),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:b=>u(v.id,x)},null,8,["onClick"]),[[zt,i.value&&f(e)("project:delete")]]),z(S(f(Gt),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:b=>m(v.id,x)},null,8,["onClick"]),[[zt,i.value&&f(e)("project:delete")]])])])}),128))])]),_:1})):(g(),re(f(wl),{key:0,"no-create":""}))]))],64)}}}),Eq={class:"space-y-6"},jq={class:"flex items-center justify-between border-b border-gray-200 pb-5"},Rq={class:"text-3xl font-bold text-gray-900"},Iq={key:0,class:"mt-2 flex flex-wrap gap-2"},Oq={key:0,class:"text-xs text-gray-600"},Lq={key:1,class:"text-xs text-gray-600 ml-4"},Fq=["disabled"],Nq={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},zq={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Uq={key:0,class:"rounded-lg bg-white border-2 border-indigo-200 p-6 shadow-md"},Bq={class:"flex items-center justify-between mb-4"},Vq={class:"text-lg font-semibold text-gray-900"},Hq={class:"text-xs text-gray-500"},qq={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Wq={class:"bg-gray-50 rounded-lg p-4"},Kq={class:"flex items-center justify-between mb-2"},Yq={class:"text-sm font-medium text-gray-600"},Gq={class:"text-2xl font-bold text-gray-900"},Xq={class:"text-xs text-gray-500 mt-1"},Jq={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},Qq={class:"bg-gray-50 rounded-lg p-4"},Zq={class:"flex items-center justify-between mb-2"},eW={class:"text-sm font-medium text-gray-600"},tW={class:"text-2xl font-bold text-gray-900"},sW={class:"text-xs text-gray-500 mt-1"},nW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},oW={class:"bg-gray-50 rounded-lg p-4"},iW={class:"flex items-center justify-between mb-2"},rW={class:"text-sm font-medium text-gray-600"},aW={class:"text-xs text-gray-500 mt-1"},lW={class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},dW={class:"flex items-start"},cW={class:"flex-1"},uW={class:"text-sm font-medium text-blue-900"},mW={class:"text-sm text-blue-700 mt-1"},fW={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mx-1"},pW={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mx-1"},hW={key:1,class:"rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-6 shadow-lg"},gW={class:"text-xl font-semibold text-white mb-4"},_W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},vW={class:"flex items-center justify-between mb-3"},yW={class:"flex items-center space-x-2"},xW={class:"text-white font-medium text-sm truncate"},bW={class:"space-y-2"},wW={key:0,class:"flex justify-between items-center"},kW={class:"text-white text-xs opacity-75"},$W={class:"text-white text-lg font-bold"},CW={class:"text-white text-xs opacity-75"},SW={class:"text-white text-sm font-semibold"},MW={class:"text-white text-xs opacity-75"},TW={class:"text-white text-sm font-semibold"},DW={class:"text-white text-xs opacity-75"},AW={class:"text-white text-sm font-semibold"},PW={class:"text-white text-xs opacity-75"},EW={class:"text-white text-sm font-semibold"},jW={key:1,class:"grid grid-cols-1 gap-2 pt-2"},RW={class:"text-white text-xs opacity-75"},IW={class:"text-white text-sm font-semibold"},OW={class:"mt-3 pt-2 border-t border-white border-opacity-20"},LW={class:"text-white text-xs opacity-75 mb-1"},FW={key:0,class:"flex flex-wrap gap-1"},NW=["title"],zW={key:1,class:"flex items-center gap-2"},UW={class:"text-white text-xs opacity-50"},BW={key:2,class:"mt-3 pt-2 border-t border-white border-opacity-20"},VW={class:"text-white text-xs opacity-75 mb-2"},HW={class:"space-y-1.5"},qW={class:"flex items-center gap-1.5 flex-1 min-w-0"},WW={class:"text-sm"},KW={class:"opacity-90 truncate"},YW={class:"flex gap-2 text-[10px] opacity-75 flex-shrink-0"},GW={class:"whitespace-nowrap"},XW={class:"whitespace-nowrap"},JW={class:"whitespace-nowrap"},QW={key:0,class:"mt-4 pt-4 border-t border-white border-opacity-30"},ZW={class:"flex items-center justify-between"},eK={class:"text-white text-sm font-medium opacity-90"},tK={class:"text-white text-2xl font-bold"},sK={class:"rounded-lg bg-white p-4 shadow"},nK={class:"flex items-center space-x-4"},oK={class:"flex-1"},iK={class:"block text-sm font-medium text-gray-700"},rK={class:"flex-1"},aK={class:"block text-sm font-medium text-gray-700"},lK={class:"pt-6"},dK={key:0,class:"mt-3 text-sm text-gray-500"},cK={key:3,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},uK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},mK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},fK={class:"text-lg font-semibold text-gray-900"},pK={style:{height:"300px"}},hK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},gK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},_K={class:"text-lg font-semibold text-gray-900"},vK={style:{height:"300px"}},yK={key:0,class:"overflow-hidden rounded-lg bg-white p-6 shadow lg:col-span-2"},xK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},bK={class:"text-lg font-semibold text-gray-900"},wK={style:{height:"400px"}},kK={key:4,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},$K={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},CK={class:"truncate text-sm font-medium text-gray-500"},SK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},MK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},TK={class:"truncate text-sm font-medium text-gray-500"},DK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},AK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},PK={class:"truncate text-sm font-medium text-gray-500"},EK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},jK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},RK={class:"truncate text-sm font-medium text-gray-500"},IK={class:"mt-1 text-3xl font-semibold tracking-tight text-indigo-600"},OK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},LK={class:"truncate text-sm font-medium text-gray-500"},FK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},NK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},zK={class:"truncate text-sm font-medium text-gray-500"},UK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},BK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},VK={class:"truncate text-sm font-medium text-gray-500"},HK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},qK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},WK={class:"truncate text-sm font-medium text-gray-500"},KK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},YK={key:5,class:"overflow-hidden rounded-lg bg-white shadow"},GK={class:"flex items-center justify-between"},XK={class:"text-md font-medium text-gray-900"},JK={class:"mt-1 text-sm text-gray-500"},QK={class:"overflow-x-auto"},ZK={class:"min-w-full divide-y divide-gray-200"},eY={class:"bg-gray-50"},tY={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},sY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},nY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},oY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},iY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},rY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},aY={class:"divide-y divide-gray-200 bg-white"},lY={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},dY={class:"flex items-center"},cY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},uY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},mY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},fY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},pY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},hY={key:6,class:"overflow-hidden rounded-lg bg-white shadow"},gY={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},_Y={class:"flex items-center justify-between"},vY={class:"text-lg font-medium leading-6 text-gray-900"},yY={class:"flex items-center space-x-4"},xY={class:"relative"},bY=["placeholder"],wY={class:"overflow-x-auto"},kY={class:"min-w-full divide-y divide-gray-200"},$Y={class:"bg-gray-50"},CY={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},SY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},MY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},TY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},DY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},AY={class:"divide-y divide-gray-200 bg-white"},PY={class:"whitespace-nowrap px-6 py-4"},EY={class:"flex items-center justify-between"},jY={class:"flex items-center"},RY={class:"text-2xl mr-2"},IY={class:"text-sm font-medium text-gray-900"},OY={key:0,class:"mt-2"},LY={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},FY={class:"w-full bg-gray-200 rounded-full h-1.5"},NY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},zY={class:"text-gray-900"},UY={key:0,class:"text-xs text-gray-500 mt-1"},BY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},VY={class:"text-gray-900"},HY={key:0,class:"text-xs text-gray-500 mt-1"},qY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},WY={class:"text-gray-900"},KY={key:0,class:"text-xs text-gray-500 mt-1"},YY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},GY={key:0,class:"text-xs text-gray-500 mt-1"},XY={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},JY={class:"flex items-center justify-between"},QY={class:"flex flex-1 justify-between sm:hidden"},ZY=["disabled"],eG=["disabled"],tG={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},sG={class:"text-sm text-gray-700"},nG={class:"font-medium"},oG={class:"font-medium"},iG={class:"font-medium"},rG={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},aG=["disabled"],lG={class:"sr-only"},dG=["onClick"],cG=["disabled"],uG={class:"sr-only"},mG={key:7,class:"rounded-lg bg-white p-12 text-center shadow"},fG={class:"mt-2 text-sm font-medium text-gray-900"},pG={class:"mt-1 text-sm text-gray-500"},hG={class:"mt-6"},gG=ve({__name:"AdSenseReports",setup(s){const e=Ze("__"),t=E(!1),o=E(!1),i=E([]),r=E([]),a=E(null),l=E(null),c=E([]),u=E(null),m=E([]),h=E(null),p=E(0),_=E(!1),v=E(null),x=Me(()=>{if(!u.value||!u.value.countries)return[];const ee=[];return u.value.countries.forEach(te=>{te.websites&&Array.isArray(te.websites)&&te.websites.forEach(se=>{ee.push({...se,country_code:te.country_code,country_name:te.country_name})})}),ee}),w=(ee,te)=>{if(!te||te===0)return"none";const se=ee/te*100;return se>=100?"excellent":se>=70?"good":"poor"},b=(ee,te)=>!te||te===0?0:Math.min(ee/te*100,100),k=ee=>{switch(ee){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=ee=>{switch(ee){case"excellent":return" On Target";case"good":return" Close";case"poor":return" Below Target";default:return"No Target"}},$=E(!0),A=E(!0),R=E({current_page:1,per_page:10,last_page:1,total_countries:0,from:0,to:0}),T=E(10),F=E("");let L=null;const D=new Date,N=new Date(D);N.setDate(N.getDate()-7);const P=E(N.toISOString().split("T")[0]),U=E(D.toISOString().split("T")[0]),ye=ee=>ee?new Intl.NumberFormat("en-US").format(ee):"0",le=ee=>ee?ee>=1e6?(ee/1e6).toFixed(1)+"M":ee>=1e3?(ee/1e3).toFixed(1)+"K":ee.toString():"0",de=ee=>ee?parseFloat(ee).toFixed(2):"0.00",q=ee=>ee?parseFloat(ee).toFixed(2):"0.00",ne=ee=>ee?new Date(ee).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",G=ee=>{if(!ee||ee==="XX")return"";const te=ee.toUpperCase().split("").map(se=>127397+se.charCodeAt(0));return String.fromCodePoint(...te)},ie=ee=>{const te=ee.toLowerCase();return te.includes("google")?"":te.includes("bing")?"":te.includes("yahoo")?"":te.includes("facebook")?"":te.includes("twitter")||te.includes("x.com")?"":te.includes("linkedin")?"":te.includes("instagram")?"":te.includes("pinterest")?"":te.includes("reddit")?"":te.includes("social")?"":te.includes("referral")?"":te.includes("direct")?"":te.includes("email")?"":te.includes("paid")?"":""},$e=Me(()=>c.value.map(ee=>new Date(ee.report_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),we=Me(()=>c.value.map(ee=>({x:ee.report_date,y:parseFloat(ee.total_earnings||0)}))),Qe=Me(()=>[{label:"Impressions",data:c.value.map(ee=>parseInt(ee.total_impressions||0)),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"#6366F1",borderWidth:1},{label:"Clicks",data:c.value.map(ee=>parseInt(ee.total_clicks||0)),backgroundColor:"rgba(236, 72, 153, 0.8)",borderColor:"#EC4899",borderWidth:1}]),pt=Me(()=>i.value.slice(0,10).map(ee=>ee.country_name||ee.country_code)),pe=Me(()=>i.value.slice(0,10).map(ee=>parseFloat(ee.total_earnings||0))),Ce=Me(()=>{const ee=[],te=R.value.current_page,se=R.value.last_page;ee.push(1);for(let ge=Math.max(2,te-1);ge<=Math.min(se-1,te+1);ge++)ee.push(ge);return se>1&&ee.push(se),[...new Set(ee)].sort((ge,Ae)=>ge-Ae)}),Te=ee=>{ee>=1&&ee<=R.value.last_page&&(R.value.current_page=ee,Oe())},Ue=()=>{clearTimeout(L),L=setTimeout(()=>{R.value.current_page=1,Oe()},500)},tt=async()=>{try{const ee=new Date().toISOString().split("T")[0];h.value=ee;const te=await ke.get("/api/adsense/reports/by-website",{params:{start_date:ee,end_date:ee}});if(te.data.data&&te.data.data.length>0){m.value=te.data.data;try{const se=await ke.get("/api/adsense/reports",{params:{start_date:ee,end_date:ee}});if(se.data.data){const ge=se.data.data;m.value=m.value.map(Ae=>{const Pe=ge.filter(De=>De.domain===Ae.domain).sort((De,Se)=>Se.impressions-De.impressions).slice(0,5);return{...Ae,topCountries:Pe}})}}catch{}try{const se=await ke.get("/api/adsense/traffic-sources",{params:{start_date:ee,end_date:ee}});if(se.data.success&&se.data.data){const ge=se.data.data;m.value=m.value.map(Ae=>{const Pe=ge[Ae.domain]||[];return{...Ae,trafficSources:Pe.slice(0,5)}})}}catch{}p.value=m.value.reduce((se,ge)=>se+parseFloat(ge.total_earnings||0),0)}else m.value=[],p.value=0}catch{m.value=[],p.value=0}},Oe=async()=>{t.value=!0;try{const[ee,te,se,ge]=await Promise.all([ke.get("/api/adsense/reports/summary",{params:{start_date:P.value,end_date:U.value}}),ke.get("/api/adsense/reports/by-country",{params:{start_date:P.value,end_date:U.value,search:F.value,per_page:T.value,page:R.value.current_page}}),ke.get("/api/adsense/reports/by-website",{params:{start_date:P.value,end_date:U.value}}),ke.get("/api/adsense/reports/daily-trend",{params:{start_date:P.value,end_date:U.value}})]);a.value=ee.data.data,i.value=te.data.data,r.value=se.data.data,c.value=ge.data.data,te.data.meta&&(R.value={current_page:te.data.meta.current_page,per_page:te.data.meta.per_page,last_page:te.data.meta.last_page,total_countries:te.data.meta.total_countries,from:te.data.meta.from||0,to:te.data.meta.to||0}),await tt()}catch{}finally{t.value=!1}},me=async()=>{try{const ee=await ke.get("/api/adsense/reports/latest-date");l.value=ee.data.data.latest_report_date}catch{}},fe=async()=>{try{const ee=await ke.get("/api/adsense/user-assignments");u.value=ee.data.data,v.value=ee.data.data.targets,await B()}catch{}},B=async()=>{try{const te=(await ke.get("/api/user")).data;te&&te.roles&&(_.value=te.roles.some(se=>se.name==="Admin"))}catch{_.value=!1}},Q=async()=>{o.value=!0;try{await ke.post("/api/adsense/sync",{start_date:P.value,end_date:U.value}),await Oe(),await me()}catch{alert("Failed to sync data. Please check your AdSense API configuration.")}finally{o.value=!1}};return Ne(async()=>{await fe(),await me(),await Oe()}),(ee,te)=>(g(),y("div",Eq,[n("div",jq,[n("div",null,[n("h1",Rq,d(f(e)("AdSense Reports")),1),te[10]||(te[10]=n("p",{class:"mt-1 text-sm text-gray-500"}," View your AdSense performance metrics by country ",-1)),u.value&&u.value.has_assignments?(g(),y("div",Iq,[u.value.countries.length>0?(g(),y("span",Oq,[n("strong",null,d(f(e)("Your Countries"))+":",1),(g(!0),y(oe,null,ue(u.value.countries,(se,ge)=>(g(),y("span",{key:se.country_code},d(G(se.country_code))+" "+d(se.country_name)+d(ge<u.value.countries.length-1?", ":""),1))),128))])):j("",!0),x.value.length>0?(g(),y("span",Lq,[n("strong",null,d(f(e)("Your Websites"))+":",1),(g(!0),y(oe,null,ue(x.value,(se,ge)=>(g(),y("span",{key:se.id},d(se.website_url)+d(ge<x.value.length-1?", ":""),1))),128))])):j("",!0)])):j("",!0)]),n("button",{onClick:Q,disabled:o.value,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[o.value?(g(),y("svg",Nq,[...te[11]||(te[11]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),y("svg",zq,[...te[12]||(te[12]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),J(" "+d(o.value?f(e)("Syncing..."):f(e)("Sync Data")),1)],8,Fq)]),v.value&&a.value?(g(),y("div",Uq,[n("div",Bq,[n("h3",Vq,"  "+d(f(e)("Your Performance vs Targets")),1),n("span",Hq,d(f(e)("For selected date range")),1)]),n("div",qq,[n("div",Wq,[n("div",Kq,[n("span",Yq,d(f(e)("Impressions")),1),n("span",{class:X([k(w(a.value.total_impressions,v.value.daily_impressions_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},d(Math.round(b(a.value.total_impressions,v.value.daily_impressions_target)))+"% ",3)]),n("div",Gq,d(le(a.value.total_impressions)),1),n("div",Xq,"Target: "+d(le(v.value.daily_impressions_target))+"/day",1),n("div",Jq,[n("div",{class:X([{"bg-green-500":w(a.value.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":w(a.value.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":w(a.value.total_impressions,v.value.daily_impressions_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:bt({width:b(a.value.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])]),n("div",Qq,[n("div",Zq,[n("span",eW,d(f(e)("Clicks")),1),n("span",{class:X([k(w(a.value.total_clicks,v.value.daily_clicks_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},d(Math.round(b(a.value.total_clicks,v.value.daily_clicks_target)))+"% ",3)]),n("div",tW,d(le(a.value.total_clicks)),1),n("div",sW,"Target: "+d(le(v.value.daily_clicks_target))+"/day",1),n("div",nW,[n("div",{class:X([{"bg-green-500":w(a.value.total_clicks,v.value.daily_clicks_target)==="excellent","bg-yellow-500":w(a.value.total_clicks,v.value.daily_clicks_target)==="good","bg-red-500":w(a.value.total_clicks,v.value.daily_clicks_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:bt({width:b(a.value.total_clicks,v.value.daily_clicks_target)+"%"})},null,6)])]),n("div",oW,[n("div",iW,[n("span",rW,d(f(e)("Average CPC")),1),n("span",{class:X([{"bg-green-100 text-green-800":a.value.avg_cpc>=v.value.min_cpc_target,"bg-red-100 text-red-800":a.value.avg_cpc<v.value.min_cpc_target},"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},d(a.value.avg_cpc>=v.value.min_cpc_target?" Good":" Low"),3)]),n("div",{class:X([{"text-green-600":a.value.avg_cpc>=v.value.min_cpc_target,"text-red-600":a.value.avg_cpc<v.value.min_cpc_target},"text-2xl font-bold"])}," $"+d(de(a.value.avg_cpc)),3),n("div",aW,"Min Target: $"+d(de(v.value.min_cpc_target)),1)])]),n("div",lW,[n("div",dW,[te[13]||(te[13]=n("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("div",cW,[n("p",uW,d(f(e)("Marketing Focus Tip")),1),n("p",mW,[J(d(f(e)("Check the country performance table below. Countries marked in"))+" ",1),n("span",fW,d(f(e)("red")),1),J(" "+d(f(e)("need more marketing effort, while"))+" ",1),n("span",pW,d(f(e)("green")),1),J(" "+d(f(e)("countries are performing well.")),1)])])])])])):j("",!0),!t.value&&m.value&&m.value.length>0?(g(),y("div",hW,[n("div",null,[n("h3",gW,d(f(e)("Today's Performance"))+" ("+d(ne(h.value))+") ",1),n("div",_W,[(g(!0),y(oe,null,ue(m.value,se=>(g(),y("div",{key:se.domain,class:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all"},[n("div",vW,[n("div",yW,[te[14]||(te[14]=n("svg",{class:"h-5 w-5 text-white opacity-75",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),n("h4",xW,d(se.domain),1)])]),n("div",bW,[_.value?(g(),y("div",wW,[n("span",kW,d(f(e)("Earnings")),1),n("span",$W,"$"+d(de(se.total_earnings)),1)])):j("",!0),n("div",{class:X(_.value?"grid grid-cols-4 gap-2 pt-2 border-t border-white border-opacity-20":"grid grid-cols-4 gap-2")},[n("div",null,[n("p",CW,d(f(e)("Page Views")),1),n("p",SW,d(le(se.total_page_views)),1)]),n("div",null,[n("p",MW,d(f(e)("Impr")),1),n("p",TW,d(le(se.total_impressions)),1)]),n("div",null,[n("p",DW,d(f(e)("Clicks")),1),n("p",AW,d(le(se.total_clicks)),1)]),n("div",null,[n("p",PW,d(f(e)("CPC")),1),n("p",EW,"$"+d(de(se.avg_cpc)),1)])],2),_.value?(g(),y("div",jW,[n("div",null,[n("p",RW,d(f(e)("RPM")),1),n("p",IW,"$"+d(de(se.avg_page_rpm)),1)])])):j("",!0),n("div",OW,[n("p",LW,d(f(e)("Traffic Sources")),1),se.trafficSources&&se.trafficSources.length>0?(g(),y("div",FW,[(g(!0),y(oe,null,ue(se.trafficSources,ge=>(g(),y("span",{key:ge.source+ge.medium,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white bg-opacity-20 text-white",title:ye(ge.sessions)+" sessions, "+ye(ge.page_views)+" page views"},d(ie(ge.source))+" "+d(ge.source),9,NW))),128))])):(g(),y("div",zW,[te[15]||(te[15]=n("svg",{class:"h-4 w-4 text-white opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",UW,d(f(e)("No traffic data available. Grant service account access in GA4.")),1)]))]),se.topCountries&&se.topCountries.length>0?(g(),y("div",BW,[n("p",VW,d(f(e)("Top 5 Countries")),1),n("div",HW,[(g(!0),y(oe,null,ue(se.topCountries,ge=>(g(),y("div",{key:ge.country_code,class:"flex items-center justify-between text-white text-xs"},[n("div",qW,[n("span",WW,d(G(ge.country_code)),1),n("span",KW,d(ge.country_name),1)]),n("div",YW,[n("span",GW,d(le(ge.page_views))+" Views",1),n("span",XW,d(le(ge.impressions))+" Impr",1),n("span",JW,d(le(ge.clicks))+" Clicks",1)])]))),128))])])):j("",!0)])]))),128))]),_.value&&m.value.length>1?(g(),y("div",QW,[n("div",ZW,[n("span",eK,d(f(e)("Total Earnings Today")),1),n("span",tK,"$"+d(de(p.value)),1)])])):j("",!0)])])):j("",!0),n("div",sK,[n("div",nK,[n("div",oK,[n("label",iK,d(f(e)("Start Date")),1),z(n("input",{"onUpdate:modelValue":te[0]||(te[0]=se=>P.value=se),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Oe},null,544),[[K,P.value]])]),n("div",rK,[n("label",aK,d(f(e)("End Date")),1),z(n("input",{"onUpdate:modelValue":te[1]||(te[1]=se=>U.value=se),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Oe},null,544),[[K,U.value]])]),n("div",lK,[n("button",{onClick:Oe,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},d(f(e)("Apply")),1)])]),l.value?(g(),y("div",dK,d(f(e)("Latest available data: "))+" "+d(l.value),1)):j("",!0)]),t.value?(g(),re(f(it),{key:2,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):j("",!0),!t.value&&c.value.length>0?(g(),y("div",cK,[n("div",uK,[n("div",mK,[n("div",null,[n("h3",fK,d(f(e)("Earnings Trend")),1),te[16]||(te[16]=n("p",{class:"mt-1 text-xs text-gray-500"}," Daily earnings over selected period ",-1))])]),n("div",pK,[S(f(um),{id:"earnings-chart",data:we.value,"tooltip-label":"Earnings ($)","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]),n("div",hK,[n("div",gK,[n("div",null,[n("h3",_K,d(f(e)("Impressions & Clicks")),1),te[17]||(te[17]=n("p",{class:"mt-1 text-xs text-gray-500"}," Daily performance comparison ",-1))])]),n("div",vK,[S(f(wM),{id:"impressions-clicks-chart",data:Qe.value,labels:$e.value},null,8,["data","labels"])])]),i.value.length>0?(g(),y("div",yK,[n("div",xK,[n("div",null,[n("h3",bK,d(f(e)("Top 10 Countries by Earnings")),1),te[18]||(te[18]=n("p",{class:"mt-1 text-xs text-gray-500"}," Revenue distribution by country ",-1))])]),n("div",wK,[S(f($M),{id:"countries-chart",data:pe.value,labels:pt.value},null,8,["data","labels"])])])):j("",!0)])):a.value?(g(),y("div",kK,[n("div",$K,[n("dt",CK,d(f(e)("Total Impressions")),1),n("dd",SK,d(ye(a.value.total_impressions)),1)]),n("div",MK,[n("dt",TK,d(f(e)("Total Clicks")),1),n("dd",DK,d(ye(a.value.total_clicks)),1)]),n("div",AK,[n("dt",PK,d(f(e)("Page Views")),1),n("dd",EK,d(ye(a.value.total_page_views)),1)]),n("div",jK,[n("dt",RK,d(f(e)("Total Earnings")),1),n("dd",IK," $"+d(de(a.value.total_earnings)),1)]),n("div",OK,[n("dt",LK,d(f(e)("Avg CPC")),1),n("dd",FK," $"+d(de(a.value.avg_cpc)),1)]),n("div",NK,[n("dt",zK,d(f(e)("Page RPM")),1),n("dd",UK," $"+d(de(a.value.avg_page_rpm)),1)]),n("div",BK,[n("dt",VK,d(f(e)("Page CTR")),1),n("dd",HK,d(q(a.value.avg_page_ctr))+"% ",1)]),n("div",qK,[n("dt",WK,d(f(e)("Countries")),1),n("dd",KK,d(a.value.total_countries),1)])])):j("",!0),!t.value&&r.value.length>0?(g(),y("div",YK,[n("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:te[2]||(te[2]=se=>$.value=!$.value)},[n("div",GK,[n("div",null,[n("h4",XK,d(f(e)("Performance by Website")),1),n("p",JK,d(f(e)("See how each website is performing")),1)]),(g(),y("svg",{class:X(["h-5 w-5 text-gray-500 transition-transform",$.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...te[19]||(te[19]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),z(n("div",QK,[n("table",ZK,[n("thead",eY,[n("tr",null,[n("th",tY,d(f(e)("Website")),1),n("th",sY,d(f(e)("Countries")),1),n("th",nY,d(f(e)("Impressions")),1),n("th",oY,d(f(e)("Clicks")),1),n("th",iY,d(f(e)("Page Views")),1),n("th",rY,d(f(e)("CPC")),1)])]),n("tbody",aY,[(g(!0),y(oe,null,ue(r.value,se=>(g(),y("tr",{key:se.domain,class:"hover:bg-gray-50"},[n("td",lY,[n("div",dY,[te[20]||(te[20]=n("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),J(" "+d(se.domain),1)])]),n("td",cY,d(se.countries_count),1),n("td",uY,d(ye(se.total_impressions)),1),n("td",mY,d(ye(se.total_clicks)),1),n("td",fY,d(ye(se.total_page_views)),1),n("td",pY," $"+d(de(se.avg_cpc)),1)]))),128))])])],512),[[zt,$.value]])])):j("",!0),!t.value&&i.value.length>0?(g(),y("div",hY,[n("div",gY,[n("div",_Y,[n("div",{class:"flex items-center cursor-pointer",onClick:te[3]||(te[3]=se=>A.value=!A.value)},[n("h3",vY,d(f(e)("Performance by Country")),1),(g(),y("svg",{class:X(["ml-2 h-5 w-5 text-gray-500 transition-transform",A.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...te[21]||(te[21]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),z(n("div",yY,[n("div",xY,[z(n("input",{"onUpdate:modelValue":te[4]||(te[4]=se=>F.value=se),onInput:Ue,type:"text",placeholder:f(e)("Search countries..."),class:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10"},null,40,bY),[[K,F.value]]),te[22]||(te[22]=n("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),z(n("select",{"onUpdate:modelValue":te[5]||(te[5]=se=>T.value=se),onChange:Oe,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...te[23]||(te[23]=[n("option",{value:10},"10 per page",-1),n("option",{value:25},"25 per page",-1),n("option",{value:50},"50 per page",-1),n("option",{value:100},"100 per page",-1)])],544),[[xe,T.value]])],512),[[zt,A.value]])])]),z(n("div",wY,[n("table",kY,[n("thead",$Y,[n("tr",null,[n("th",CY,d(f(e)("Country")),1),n("th",SY,d(f(e)("Impressions")),1),n("th",MY,d(f(e)("Clicks")),1),n("th",TY,d(f(e)("Page Views")),1),n("th",DY,d(f(e)("CPC")),1)])]),n("tbody",AY,[(g(!0),y(oe,null,ue(i.value,se=>(g(),y("tr",{key:se.country_code,class:"hover:bg-gray-50"},[n("td",PY,[n("div",EY,[n("div",jY,[n("span",RY,d(G(se.country_code)),1),n("div",IY,d(se.country_name||se.country_code),1)]),v.value?(g(),y("span",{key:0,class:X([k(w(se.total_impressions,v.value.daily_impressions_target)),"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},d(C(w(se.total_impressions,v.value.daily_impressions_target))),3)):j("",!0)]),v.value&&v.value.daily_impressions_target?(g(),y("div",OY,[n("div",LY,[n("span",null,d(ye(se.total_impressions))+" / "+d(ye(v.value.daily_impressions_target)),1),n("span",null,d(Math.round(b(se.total_impressions,v.value.daily_impressions_target)))+"%",1)]),n("div",FY,[n("div",{class:X([{"bg-green-500":w(se.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":w(se.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":w(se.total_impressions,v.value.daily_impressions_target)==="poor"},"h-1.5 rounded-full transition-all duration-500"]),style:bt({width:b(se.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])])):j("",!0)]),n("td",NY,[n("div",zY,d(ye(se.total_impressions)),1),v.value?(g(),y("div",UY," Target: "+d(ye(v.value.daily_impressions_target)),1)):j("",!0)]),n("td",BY,[n("div",VY,d(ye(se.total_clicks)),1),v.value?(g(),y("div",HY," Target: "+d(ye(v.value.daily_clicks_target)),1)):j("",!0)]),n("td",qY,[n("div",WY,d(ye(se.total_page_views)),1),v.value?(g(),y("div",KY," Target: "+d(ye(v.value.daily_page_views_target)),1)):j("",!0)]),n("td",YY,[n("div",{class:X({"text-green-600 font-semibold":v.value&&se.avg_cpc>=v.value.min_cpc_target,"text-red-600":v.value&&se.avg_cpc<v.value.min_cpc_target,"text-gray-900":!v.value})}," $"+d(de(se.avg_cpc)),3),v.value?(g(),y("div",GY," Min: $"+d(de(v.value.min_cpc_target)),1)):j("",!0)])]))),128))])])],512),[[zt,A.value]]),R.value.last_page>1&&A.value?(g(),y("div",XY,[n("div",JY,[n("div",QY,[n("button",{onClick:te[6]||(te[6]=se=>Te(R.value.current_page-1)),disabled:R.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},d(f(e)("Previous")),9,ZY),n("button",{onClick:te[7]||(te[7]=se=>Te(R.value.current_page+1)),disabled:R.value.current_page===R.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},d(f(e)("Next")),9,eG)]),n("div",tG,[n("div",null,[n("p",sG,[J(d(f(e)("Showing"))+" ",1),n("span",nG,d(R.value.from),1),J(" "+d(f(e)("to"))+" ",1),n("span",oG,d(R.value.to),1),J(" "+d(f(e)("of"))+" ",1),n("span",iG,d(R.value.total_countries),1),J(" "+d(f(e)("countries")),1)])]),n("div",null,[n("nav",rG,[n("button",{onClick:te[8]||(te[8]=se=>Te(R.value.current_page-1)),disabled:R.value.current_page===1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",lG,d(f(e)("Previous")),1),te[24]||(te[24]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,aG),(g(!0),y(oe,null,ue(Ce.value,se=>(g(),y("button",{key:se,onClick:ge=>Te(se),class:X([se===R.value.current_page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center border px-4 py-2 text-sm font-medium"])},d(se),11,dG))),128)),n("button",{onClick:te[9]||(te[9]=se=>Te(R.value.current_page+1)),disabled:R.value.current_page===R.value.last_page,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[n("span",uG,d(f(e)("Next")),1),te[25]||(te[25]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,cG)])])])])])):j("",!0)])):!t.value&&i.value.length===0?(g(),y("div",mG,[te[27]||(te[27]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),n("h3",fG,d(f(e)("No data available")),1),n("p",pG,d(f(e)("Try syncing data or selecting a different date range.")),1),n("div",hG,[n("button",{onClick:Q,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[te[26]||(te[26]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),J(" "+d(f(e)("Sync Data")),1)])])])):j("",!0)]))}}),$0="attendance",_G=ve({__name:"Form",props:{id:{}},setup(s){const e=_s($0)(),t=js($0)(),o=yo(),i=Cl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(g(),re(f(bs),{id:s.id,name:$0,uri:"attendance"},{default:W(()=>[a[0]||(a[0]=n("input",{type:"hidden",name:"action",value:"manual"},null,-1)),S(f(i),{name:"user_id",label:"User",class:"col-span-12",disabled:!!s.id},null,8,["disabled"]),S(f(o),{name:"date",label:"Date",type:"date",class:"col-span-12"}),S(f(o),{name:"clock_in",label:"Clock In",type:"datetime-local",class:"col-span-6"}),S(f(o),{name:"clock_out",label:"Clock Out",type:"datetime-local",class:"col-span-6"}),S(f(o),{name:"notes",label:"Notes",class:"col-span-12"})]),_:1},8,["id"]))}}),vG={key:0,class:"mt-8 flex justify-center"},yG={key:1},xG={key:0,class:"mb-6 border-b border-gray-200"},bG={class:"-mb-px flex space-x-8"},wG={class:"mb-6 overflow-hidden rounded-lg bg-white shadow-md"},kG={class:"border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},$G={class:"text-xl font-semibold text-white"},CG={class:"p-6"},SG={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-4"},MG={class:"rounded-lg border border-green-200 bg-green-50 p-4 shadow-sm"},TG={class:"mb-2 flex items-center"},DG={class:"text-sm font-medium text-green-800"},AG={class:"text-2xl font-bold text-green-900"},PG={class:"rounded-lg border border-red-200 bg-red-50 p-4 shadow-sm"},EG={class:"mb-2 flex items-center"},jG={class:"text-sm font-medium text-red-800"},RG={class:"text-2xl font-bold text-red-900"},IG={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-sm"},OG={class:"mb-2 flex items-center"},LG={class:"text-sm font-medium text-blue-800"},FG={class:"text-2xl font-bold text-blue-900"},NG={class:"flex items-center justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm"},zG={key:1,class:"flex items-center justify-between"},UG={class:"flex items-center text-gray-500"},BG={class:"text-lg font-medium text-gray-700"},VG={class:"text-sm text-gray-500"},HG={key:0,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3"},qG={class:"relative rounded-md shadow-sm"},WG=["placeholder"],KG={class:"relative rounded-md shadow-sm"},YG=["placeholder"],GG={class:"relative rounded-md shadow-sm"},XG={value:""},JG=["value"],QG={key:1,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2"},ZG={class:"relative rounded-md shadow-sm"},eX=["placeholder"],tX={class:"relative rounded-md shadow-sm"},sX=["placeholder"],nX={key:0,class:"ltr:ml-auto rtl:mr-auto"},oX={class:"flex flex-col"},iX={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},rX={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},aX={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},lX={class:"min-w-full divide-y divide-gray-200"},dX={key:1,class:"bg-gray-50 px-6 py-3"},cX={class:"divide-y divide-gray-200 bg-white"},uX={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},mX={class:"flex items-center"},fX={class:"ltr:ml-2 rtl:mr-2"},pX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},hX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},gX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},_X={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},vX={class:"px-6 py-4 text-sm text-gray-500"},yX={class:"max-w-xs truncate"},xX={key:1,class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},bX=["onClick"],wX={key:1},kX={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},$X={class:"overflow-hidden rounded-lg bg-white shadow"},CX={class:"p-5"},SX={class:"flex items-center"},MX={class:"flex-shrink-0"},TX={class:"ml-5 w-0 flex-1"},DX={class:"truncate text-sm font-medium text-gray-500"},AX={class:"text-lg font-semibold text-gray-900"},PX={class:"overflow-hidden rounded-lg bg-white shadow"},EX={class:"p-5"},jX={class:"flex items-center"},RX={class:"flex-shrink-0"},IX={class:"ml-5 w-0 flex-1"},OX={class:"truncate text-sm font-medium text-gray-500"},LX={class:"text-lg font-semibold text-gray-900"},FX={class:"overflow-hidden rounded-lg bg-white shadow"},NX={class:"p-5"},zX={class:"flex items-center"},UX={class:"flex-shrink-0"},BX={class:"ml-5 w-0 flex-1"},VX={class:"truncate text-sm font-medium text-gray-500"},HX={class:"text-lg font-semibold text-gray-900"},qX={class:"overflow-hidden rounded-lg bg-white shadow"},WX={class:"p-5"},KX={class:"flex items-center"},YX={class:"flex-shrink-0"},GX={class:"ml-5 w-0 flex-1"},XX={class:"truncate text-sm font-medium text-gray-500"},JX={class:"text-lg font-semibold text-gray-900"},QX={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},ZX={class:"flex flex-1 gap-2"},eJ={value:""},tJ=["value"],sJ={class:"flex gap-2"},nJ={class:"flex flex-col"},oJ={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},iJ={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},rJ={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},aJ={class:"min-w-full divide-y divide-gray-200"},lJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},dJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},cJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},uJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},mJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},fJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pJ={class:"divide-y divide-gray-200 bg-white"},hJ={class:"whitespace-nowrap px-6 py-4"},gJ={class:"flex items-center"},_J={class:"ml-3"},vJ={class:"text-sm font-medium text-gray-900"},yJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},xJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},bJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},wJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},kJ={class:"px-6 py-4 text-sm text-gray-500"},$J={key:0},CJ={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},SJ={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},MJ={class:"flex items-center justify-between"},TJ={class:"text-sm text-gray-700"},DJ={class:"flex gap-2"},AJ=ve({__name:"IndexWorking",setup(s){const e=Ze("__"),t=js("attendance")(),o=E(!0),i=E([]),r=E(null),a=E(!1),l=E(!1),c=E(!1),u=Me(()=>vt.is_attendance_admin),m=E("attendance"),h=E(null),p=E([]),_=E({current_page:1,last_page:1,per_page:50,total:0}),v=E({start_date:"",end_date:"",user_id:""}),x=at({userId:"",startDate:"",endDate:"",page:1});Ne(()=>{u.value&&w(),b(),$()}),t.setConfig({uri:"attendance",orderByDirection:"desc",orderBy:"date"}),t.fetch();async function w(){try{const q=await ce.get("attendance/users");i.value=q.data}catch{}}async function b(){try{const q=await ce.get("attendance/status");r.value=q.data.attendance,a.value=q.data.is_clocked_in}catch{}}async function k(){var q,ne;l.value=!0;try{await ce.post("attendance",{action:"clock_in"}),await b(),t.fetch(),alert(e("Clocked in successfully!"))}catch(G){const ie=((ne=(q=G.response)==null?void 0:q.data)==null?void 0:ne.message)||e("Error clocking in. Please try again.");alert(ie)}finally{l.value=!1}}async function C(){var q,ne;if(!r.value){alert(e("No attendance record found for today"));return}c.value=!0;try{await ce.patch(`attendance/${r.value.id}`,{action:"clock_out"}),await b(),t.fetch(),alert(e("Clocked out successfully!"))}catch(G){const ie=((ne=(q=G.response)==null?void 0:q.data)==null?void 0:ne.message)||e("Error clocking out. Please try again.");alert(ie)}finally{c.value=!1}}function $(){setTimeout(function(){if(t.fetching){$();return}A()},150)}function A(){o.value=!1}function R(q=null){Ft().add(_G,{id:q})}async function T(q){if(confirm(e("Are you sure you want to delete this attendance record?")))try{await ce.delete(`attendance/${q}`),t.fetch(),alert(e("Attendance record deleted successfully!"))}catch{alert(e("Error deleting record. Please try again."))}}function F(){o.value=!0;const q={};v.value.start_date&&(q.start_date=v.value.start_date),v.value.end_date&&(q.end_date=v.value.end_date),v.value.user_id&&(q.user_id=v.value.user_id),t.params={...t.params,...q},t.fetch(),$()}async function L(){try{const q=await ce.get("attendance/report");h.value=q.data}catch{}D()}async function D(){try{const q=new URLSearchParams;x.userId&&q.append("user_id",x.userId),x.startDate&&q.append("start_date",x.startDate),x.endDate&&q.append("end_date",x.endDate),q.append("page",String(x.page)),q.append("per_page",String(_.value.per_page));const ne=await ce.get(`attendance?${q}`);p.value=ne.data.data,_.value={current_page:ne.data.current_page,last_page:ne.data.last_page,per_page:ne.data.per_page,total:ne.data.total}}catch{}}function N(){x.userId="",x.startDate="",x.endDate="",x.page=1,D()}function P(q){x.page=q,D()}async function U(){try{const q=new URLSearchParams;x.userId&&q.append("user_id",x.userId),x.startDate&&q.append("start_date",x.startDate),x.endDate&&q.append("end_date",x.endDate);const ne=await ce.get(`attendance/export?${q}`,{responseType:"blob"}),G=window.URL.createObjectURL(new Blob([ne.data])),ie=document.createElement("a");ie.href=G,ie.setAttribute("download",`attendance_report_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),window.URL.revokeObjectURL(G)}catch{}}function ye(q){return q?new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function le(q){return q?new Date(q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-"}function de(q){if(!q)return"-";const ne=Math.floor(q/60),G=q%60;return`${ne}h ${G}m`}return(q,ne)=>o.value?(g(),y("div",vG,[S(f(it),{size:"40",color:"#5850ec"})])):(g(),y("div",yG,[u.value?(g(),y("div",xG,[n("nav",bG,[n("button",{class:X([m.value==="attendance"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ne[0]||(ne[0]=G=>m.value="attendance")},d(f(e)("Attendance")),3),n("button",{class:X([m.value==="reports"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ne[1]||(ne[1]=G=>{m.value="reports",L()})},d(f(e)("Reports")),3)])])):j("",!0),z(n("div",null,[n("div",wG,[n("div",kG,[n("h3",$G,d(f(e)("Today's Attendance")),1)]),n("div",CG,[r.value?(g(),y("div",SG,[n("div",MG,[n("div",TG,[ne[13]||(ne[13]=n("svg",{class:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",DG,d(f(e)("Clock In")),1)]),n("p",AG,d(le(r.value.clock_in)),1)]),n("div",PG,[n("div",EG,[ne[14]||(ne[14]=n("svg",{class:"mr-2 h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",jG,d(f(e)("Clock Out")),1)]),n("p",RG,d(r.value.clock_out?le(r.value.clock_out):"-"),1)]),n("div",IG,[n("div",OG,[ne[15]||(ne[15]=n("svg",{class:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),n("span",LG,d(f(e)("Total Hours")),1)]),n("p",FG,d(r.value.total_hours?de(r.value.total_hours):"-"),1)]),n("div",NG,[a.value?(g(),re(f(Le),{key:1,size:"lg",color:"red",disabled:c.value,onClick:C,class:"w-full"},{default:W(()=>[ne[17]||(ne[17]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),J(" "+d(c.value?f(e)("Clocking Out..."):f(e)("Clock Out")),1)]),_:1},8,["disabled"])):(g(),re(f(Le),{key:0,size:"lg",disabled:l.value,onClick:k,class:"w-full"},{default:W(()=>[ne[16]||(ne[16]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),J(" "+d(l.value?f(e)("Clocking In..."):f(e)("Clock In")),1)]),_:1},8,["disabled"]))])])):(g(),y("div",zG,[n("div",UG,[ne[18]||(ne[18]=n("svg",{class:"mr-3 h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("div",null,[n("p",BG,d(f(e)("You have not clocked in today")),1),n("p",VG,d(f(e)("Click the button to start your work day")),1)])]),S(f(Le),{size:"lg",disabled:l.value,onClick:k},{default:W(()=>[ne[19]||(ne[19]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),J(" "+d(l.value?f(e)("Clocking In..."):f(e)("Clock In")),1)]),_:1},8,["disabled"])]))])]),u.value?(g(),y("div",HG,[n("div",qG,[z(n("input",{"onUpdate:modelValue":ne[2]||(ne[2]=G=>v.value.start_date=G),type:"date",placeholder:f(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,WG),[[K,v.value.start_date]])]),n("div",KG,[z(n("input",{"onUpdate:modelValue":ne[3]||(ne[3]=G=>v.value.end_date=G),type:"date",placeholder:f(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,YG),[[K,v.value.end_date]])]),n("div",GG,[z(n("select",{"onUpdate:modelValue":ne[4]||(ne[4]=G=>v.value.user_id=G),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},[n("option",XG,d(f(e)("All Users")),1),(g(!0),y(oe,null,ue(i.value,G=>(g(),y("option",{key:G.id,value:G.id},d(G.name),9,JG))),128))],544),[[xe,v.value.user_id]])])])):(g(),y("div",QG,[n("div",ZG,[z(n("input",{"onUpdate:modelValue":ne[5]||(ne[5]=G=>v.value.start_date=G),type:"date",placeholder:f(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,eX),[[K,v.value.start_date]])]),n("div",tX,[z(n("input",{"onUpdate:modelValue":ne[6]||(ne[6]=G=>v.value.end_date=G),type:"date",placeholder:f(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,sX),[[K,v.value.end_date]])])])),n("section",null,[S(f(uc),{title:u.value?f(e)("Attendance Records"):f(e)("My Attendance")},{default:W(()=>[u.value?(g(),y("div",nX,[S(f(Le),{size:"sm","data-cy":"topbar-create-button",onClick:ne[7]||(ne[7]=G=>R())},{default:W(()=>[J(d(f(e)("Add Attendance")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),n("div",oX,[n("div",iX,[n("div",rX,[n("div",aX,[n("table",lX,[n("thead",null,[n("tr",null,[u.value?(g(),re(f(Fe),{key:0,name:"attendance",index:f(t),label:f(e)("User"),sort:"user_id"},null,8,["index","label"])):j("",!0),S(f(Fe),{name:"attendance",index:f(t),label:f(e)("Date"),sort:"date"},null,8,["index","label"]),S(f(Fe),{name:"attendance",index:f(t),label:f(e)("Clock In"),sort:"clock_in"},null,8,["index","label"]),S(f(Fe),{name:"attendance",index:f(t),label:f(e)("Clock Out"),sort:"clock_out"},null,8,["index","label"]),S(f(Fe),{name:"attendance",index:f(t),label:f(e)("Total Hours")},null,8,["index","label"]),S(f(Fe),{name:"attendance",index:f(t),label:f(e)("Notes")},null,8,["index","label"]),u.value?(g(),y("th",dX)):j("",!0)])]),n("tbody",cX,[(g(!0),y(oe,null,ue(f(t).data.data,G=>{var ie;return g(),y("tr",{key:G.id},[u.value?(g(),y("td",uX,[n("div",mX,[G.user?(g(),re(f(cs),{key:0,class:"h-6 w-6",avatar:G.user.avatar},null,8,["avatar"])):j("",!0),n("span",fX,d(((ie=G.user)==null?void 0:ie.name)||"N/A"),1)])])):j("",!0),n("td",pX,d(ye(G.date)),1),n("td",hX,d(le(G.clock_in)),1),n("td",gX,d(G.clock_out?le(G.clock_out):"-"),1),n("td",_X,d(de(G.total_hours)),1),n("td",vX,[n("div",yX,d(G.notes||"-"),1)]),u.value?(g(),y("td",xX,[n("span",{class:"ml-2 cursor-pointer",onClick:$e=>R(G.id)},[S(f(Wr),{class:"w-5 text-gray-400 hover:text-gray-800"})],8,bX),S(f(Gt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve($e=>T(G.id),["prevent"])},null,8,["onClick"])])):j("",!0)])}),128))])]),S(f(Rs),{index:f(t)},null,8,["index"])])])])])])],512),[[zt,m.value==="attendance"]]),u.value?z((g(),y("div",wX,[h.value?(g(),y("div",kX,[n("div",$X,[n("div",CX,[n("div",SX,[n("div",MX,[S(f(Yr),{class:"h-6 w-6 text-blue-400"})]),n("div",TX,[n("dl",null,[n("dt",DX,d(f(e)("Present Today")),1),n("dd",AX,d(h.value.present_today),1)])])])])]),n("div",PX,[n("div",EX,[n("div",jX,[n("div",RX,[S(f(hs),{class:"h-6 w-6 text-green-400"})]),n("div",IX,[n("dl",null,[n("dt",OX,d(f(e)("Avg Hours Today")),1),n("dd",LX,d(h.value.avg_hours_today)+"h ",1)])])])])]),n("div",FX,[n("div",NX,[n("div",zX,[n("div",UX,[S(f(nn),{class:"h-6 w-6 text-purple-400"})]),n("div",BX,[n("dl",null,[n("dt",VX,d(f(e)("This Month")),1),n("dd",HX,d(h.value.total_this_month),1)])])])])]),n("div",qX,[n("div",WX,[n("div",KX,[n("div",YX,[S(f(qr),{class:"h-6 w-6 text-yellow-400"})]),n("div",GX,[n("dl",null,[n("dt",XX,d(f(e)("Avg Monthly Hours")),1),n("dd",JX,d(h.value.avg_hours_month)+"h ",1)])])])])])])):j("",!0),n("div",QX,[n("div",ZX,[z(n("select",{"onUpdate:modelValue":ne[8]||(ne[8]=G=>x.userId=G),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},[n("option",eJ,d(f(e)("All Employees")),1),(g(!0),y(oe,null,ue(i.value,G=>(g(),y("option",{key:G.id,value:G.id},d(G.name),9,tJ))),128))],544),[[xe,x.userId]]),z(n("input",{"onUpdate:modelValue":ne[9]||(ne[9]=G=>x.startDate=G),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,544),[[K,x.startDate]]),z(n("input",{"onUpdate:modelValue":ne[10]||(ne[10]=G=>x.endDate=G),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,544),[[K,x.endDate]]),S(f(Le),{white:"",onClick:N},{default:W(()=>[J(d(f(e)("Reset")),1)]),_:1})]),n("div",sJ,[S(f(Le),{white:"",onClick:U},{default:W(()=>[S(f(Bc),{class:"mr-2 h-4 w-4"}),J(" "+d(f(e)("Export")),1)]),_:1})])]),n("section",null,[n("div",nJ,[n("div",oJ,[n("div",iJ,[n("div",rJ,[n("table",aJ,[n("thead",null,[n("tr",null,[n("th",lJ,d(f(e)("Employee")),1),n("th",dJ,d(f(e)("Date")),1),n("th",cJ,d(f(e)("Clock In")),1),n("th",uJ,d(f(e)("Clock Out")),1),n("th",mJ,d(f(e)("Total Hours")),1),n("th",fJ,d(f(e)("Notes")),1)])]),n("tbody",pJ,[(g(!0),y(oe,null,ue(p.value,G=>{var ie;return g(),y("tr",{key:G.id,class:"hover:bg-gray-50"},[n("td",hJ,[n("div",gJ,[G.user?(g(),re(f(cs),{key:0,user:G.user,size:"8"},null,8,["user"])):j("",!0),n("div",_J,[n("div",vJ,d((ie=G.user)==null?void 0:ie.name),1)])])]),n("td",yJ,d(ye(G.date)),1),n("td",xJ,d(le(G.clock_in)),1),n("td",bJ,d(G.clock_out?le(G.clock_out):"-"),1),n("td",wJ,d(G.total_hours?de(G.total_hours):"-"),1),n("td",kJ,d(G.notes||"-"),1)])}),128)),p.value.length===0?(g(),y("tr",$J,[n("td",CJ,d(f(e)("No records found")),1)])):j("",!0)])]),_.value.last_page>1?(g(),y("div",SJ,[n("div",MJ,[n("div",TJ,d(f(e)("Page"))+" "+d(_.value.current_page)+" "+d(f(e)("of"))+" "+d(_.value.last_page),1),n("div",DJ,[S(f(Le),{white:"",size:"sm",disabled:_.value.current_page===1,onClick:ne[11]||(ne[11]=G=>P(_.value.current_page-1))},{default:W(()=>[J(d(f(e)("Previous")),1)]),_:1},8,["disabled"]),S(f(Le),{white:"",size:"sm",disabled:_.value.current_page===_.value.last_page,onClick:ne[12]||(ne[12]=G=>P(_.value.current_page+1))},{default:W(()=>[J(d(f(e)("Next")),1)]),_:1},8,["disabled"])])])])):j("",!0)])])])])])],512)),[[zt,m.value==="reports"]]):j("",!0)]))}}),Qr=(s,e={})=>{const t=at({...e}),o=at({}),i=E(!1);let r=null;const a=async u=>{var m,h;i.value=!0,Object.keys(o).forEach(p=>delete o[p]);try{const p=r?"put":"post",_=r?`${s}/${r}`:s,v=await ce[p](_,t);return u&&u(),v}catch(p){if((h=(m=p.response)==null?void 0:m.data)!=null&&h.errors){const _=p.response.data.errors;Object.keys(_).forEach(v=>{o[v]=Array.isArray(_[v])?_[v][0]:_[v]})}throw p}finally{i.value=!1}},l=u=>{u.id&&(r=u.id),Object.keys(u).forEach(m=>{(m in t||m==="id")&&(t[m]=u[m])})},c=()=>{r=null,Object.keys(e).forEach(u=>{t[u]=e[u]}),Object.keys(o).forEach(u=>delete o[u])};return new Proxy(t,{get(u,m){return m==="submit"?a:m==="setData"?l:m==="reset"?c:m==="errors"?o:m==="processing"?i:m==="id"?r:u[m]},set(u,m,h){return u[m]=h,!0}})},PJ={class:"space-y-6"},EJ={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},jJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},RJ={class:"mt-1 sm:col-span-2 sm:mt-0"},IJ={value:""},OJ=["value"],LJ={key:0,class:"mt-2 text-sm text-red-600"},FJ={class:"border-t border-gray-200 pt-6"},NJ={class:"text-lg font-medium leading-6 text-gray-900"},zJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},BJ={class:"mt-1 sm:col-span-2 sm:mt-0"},VJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},HJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qJ={class:"mt-1 sm:col-span-2 sm:mt-0"},WJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},KJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},YJ={class:"mt-1 sm:col-span-2 sm:mt-0"},GJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},XJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},JJ={class:"mt-1 sm:col-span-2 sm:mt-0"},QJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ZJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},eQ={class:"mt-1 sm:col-span-2 sm:mt-0"},tQ={value:""},sQ={value:"Male"},nQ={value:"Female"},oQ={value:"Other"},iQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},rQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},aQ={class:"mt-1 sm:col-span-2 sm:mt-0"},lQ={value:""},dQ={value:"Single"},cQ={value:"Married"},uQ={value:"Divorced"},mQ={value:"Widowed"},fQ={class:"border-t border-gray-200 pt-6"},pQ={class:"text-lg font-medium leading-6 text-gray-900"},hQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},gQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},_Q={class:"mt-1 sm:col-span-2 sm:mt-0"},vQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xQ={class:"mt-1 sm:col-span-2 sm:mt-0"},bQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kQ={class:"mt-1 sm:col-span-2 sm:mt-0"},$Q={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},CQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},SQ={class:"mt-1 sm:col-span-2 sm:mt-0"},MQ={class:"border-t border-gray-200 pt-6"},TQ={class:"text-lg font-medium leading-6 text-gray-900"},DQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},AQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},PQ={class:"mt-1 sm:col-span-2 sm:mt-0"},EQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},jQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},RQ={class:"mt-1 sm:col-span-2 sm:mt-0"},IQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},OQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},LQ={class:"mt-1 sm:col-span-2 sm:mt-0"},FQ={value:""},NQ=["value"],zQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},BQ={class:"mt-1 sm:col-span-2 sm:mt-0"},VQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},HQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qQ={class:"mt-1 sm:col-span-2 sm:mt-0"},WQ={value:"Permanent"},KQ={value:"Contract"},YQ={value:"Probation"},GQ={value:"Casual"},XQ={value:"Internship"},JQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},QQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ZQ={class:"mt-1 sm:col-span-2 sm:mt-0"},eZ={value:"Active"},tZ={value:"Resigned"},sZ={value:"Terminated"},nZ={value:"Retired"},oZ={value:"Deceased"},iZ={value:"On Leave"},rZ={value:"Suspended"},aZ={key:1,class:"space-y-6 border-t border-gray-200 pt-6"},lZ={class:"text-base font-medium text-gray-900"},dZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},cZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},uZ={class:"mt-1 sm:col-span-2 sm:mt-0"},mZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},fZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pZ={class:"mt-1 sm:col-span-2 sm:mt-0"},hZ={key:2,class:"space-y-6 border-t border-gray-200 pt-6"},gZ={class:"text-base font-medium text-gray-900"},_Z={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},vZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},yZ={class:"mt-1 sm:col-span-2 sm:mt-0"},xZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},bZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},wZ={class:"mt-1 sm:col-span-2 sm:mt-0"},kZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$Z={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},CZ={class:"mt-1 sm:col-span-2 sm:mt-0"},SZ={class:"border-t border-gray-200 pt-6"},MZ={class:"text-lg font-medium leading-6 text-gray-900"},TZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},DZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},AZ={class:"mt-1 sm:col-span-2 sm:mt-0"},PZ={class:"flex gap-2"},EZ={class:"border-t border-gray-200 pt-6"},jZ={class:"text-lg font-medium leading-6 text-gray-900"},RZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},IZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},OZ={class:"mt-1 sm:col-span-2 sm:mt-0"},LZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},FZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},NZ={class:"mt-1 sm:col-span-2 sm:mt-0"},zZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},BZ={class:"mt-1 sm:col-span-2 sm:mt-0"},VZ={class:"border-t border-gray-200 pt-6"},HZ={class:"text-lg font-medium leading-6 text-gray-900"},qZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},KZ={class:"mt-1 sm:col-span-2 sm:mt-0"},YZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},GZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},XZ={class:"mt-1 sm:col-span-2 sm:mt-0"},JZ={class:"border-t border-gray-200 pt-6"},QZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ZZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},eee={class:"mt-1 sm:col-span-2 sm:mt-0"},Ux={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=E([]),r=E([]),a=Qr("employees",{user_id:"",national_id:"",phone_number:"",physical_address:"",date_of_birth:"",gender:"",marital_status:"",next_of_kin_name:"",next_of_kin_relationship:"",next_of_kin_phone:"",next_of_kin_address:"",employment_date:"",employment_type:"Probation",contract_start_date:"",contract_end_date:"",probation_period_months:3,probation_end_date:"",confirmation_date:"",position:"",department:"",reports_to:"",current_salary:"",salary_currency:"MWK",employment_status:"Active",annual_leave_days:18,sick_leave_days:30,maternity_leave_days:56,tax_identification_number:"",pension_number:"",notes:""}),l=()=>{a.submit(()=>{o("close")})},c=async()=>{try{const m=await ce.get("employees/available-users");i.value=m.data.data}catch{}},u=async()=>{try{const m=await ce.get("employees/supervisors");r.value=m.data.data}catch{}};return Pt(()=>t.modelValue,m=>{m?a.setData(m):a.reset()},{immediate:!0}),Ne(()=>{c(),u()}),(m,h)=>(g(),re(Uo,{"external-form":f(a),onSubmit:l,onCancel:h[30]||(h[30]=p=>o("close"))},{title:W(()=>[J(d(f(a).id?m.__("Edit Employee Record"):m.__("Create Employee Record")),1)]),default:W(()=>[n("div",PJ,[f(a).id?j("",!0):(g(),y("div",EJ,[n("label",jJ,[J(d(m.__("User"))+" ",1),h[31]||(h[31]=n("span",{class:"text-red-500"},"*",-1))]),n("div",RJ,[z(n("select",{"onUpdate:modelValue":h[0]||(h[0]=p=>f(a).user_id=p),class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.user_id}]),required:""},[n("option",IJ,d(m.__("Select a user")),1),(g(!0),y(oe,null,ue(i.value,p=>(g(),y("option",{key:p.id,value:p.id},d(p.name)+" ("+d(p.email)+") ",9,OJ))),128))],2),[[xe,f(a).user_id]]),f(a).errors.user_id?(g(),y("p",LJ,d(f(a).errors.user_id),1)):j("",!0)])])),n("div",FJ,[n("h3",NJ,d(m.__("Personal Information")),1)]),n("div",zJ,[n("label",UJ,d(m.__("National ID")),1),n("div",BJ,[z(n("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>f(a).national_id=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).national_id]])])]),n("div",VJ,[n("label",HJ,d(m.__("Phone Number")),1),n("div",qJ,[z(n("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>f(a).phone_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).phone_number]])])]),n("div",WJ,[n("label",KJ,d(m.__("Physical Address")),1),n("div",YJ,[z(n("textarea",{"onUpdate:modelValue":h[3]||(h[3]=p=>f(a).physical_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).physical_address]])])]),n("div",GJ,[n("label",XJ,d(m.__("Date of Birth")),1),n("div",JJ,[z(n("input",{"onUpdate:modelValue":h[4]||(h[4]=p=>f(a).date_of_birth=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).date_of_birth]])])]),n("div",QJ,[n("label",ZJ,d(m.__("Gender")),1),n("div",eQ,[z(n("select",{"onUpdate:modelValue":h[5]||(h[5]=p=>f(a).gender=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",tQ,d(m.__("Select gender")),1),n("option",sQ,d(m.__("Male")),1),n("option",nQ,d(m.__("Female")),1),n("option",oQ,d(m.__("Other")),1)],512),[[xe,f(a).gender]])])]),n("div",iQ,[n("label",rQ,d(m.__("Marital Status")),1),n("div",aQ,[z(n("select",{"onUpdate:modelValue":h[6]||(h[6]=p=>f(a).marital_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",lQ,d(m.__("Select status")),1),n("option",dQ,d(m.__("Single")),1),n("option",cQ,d(m.__("Married")),1),n("option",uQ,d(m.__("Divorced")),1),n("option",mQ,d(m.__("Widowed")),1)],512),[[xe,f(a).marital_status]])])]),n("div",fQ,[n("h3",pQ,d(m.__("Next of Kin")),1)]),n("div",hQ,[n("label",gQ,d(m.__("Name")),1),n("div",_Q,[z(n("input",{"onUpdate:modelValue":h[7]||(h[7]=p=>f(a).next_of_kin_name=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).next_of_kin_name]])])]),n("div",vQ,[n("label",yQ,d(m.__("Relationship")),1),n("div",xQ,[z(n("input",{"onUpdate:modelValue":h[8]||(h[8]=p=>f(a).next_of_kin_relationship=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).next_of_kin_relationship]])])]),n("div",bQ,[n("label",wQ,d(m.__("Phone")),1),n("div",kQ,[z(n("input",{"onUpdate:modelValue":h[9]||(h[9]=p=>f(a).next_of_kin_phone=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).next_of_kin_phone]])])]),n("div",$Q,[n("label",CQ,d(m.__("Address")),1),n("div",SQ,[z(n("textarea",{"onUpdate:modelValue":h[10]||(h[10]=p=>f(a).next_of_kin_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).next_of_kin_address]])])]),n("div",MQ,[n("h3",TQ,d(m.__("Employment Information")),1)]),n("div",DQ,[n("label",AQ,d(m.__("Position")),1),n("div",PQ,[z(n("input",{"onUpdate:modelValue":h[11]||(h[11]=p=>f(a).position=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).position]])])]),n("div",EQ,[n("label",jQ,d(m.__("Department")),1),n("div",RQ,[z(n("input",{"onUpdate:modelValue":h[12]||(h[12]=p=>f(a).department=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).department]])])]),n("div",IQ,[n("label",OQ,d(m.__("Reports To")),1),n("div",LQ,[z(n("select",{"onUpdate:modelValue":h[13]||(h[13]=p=>f(a).reports_to=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",FQ,d(m.__("Select supervisor")),1),(g(!0),y(oe,null,ue(r.value,p=>(g(),y("option",{key:p.id,value:p.id},d(p.name),9,NQ))),128))],512),[[xe,f(a).reports_to]])])]),n("div",zQ,[n("label",UQ,d(m.__("Employment Date")),1),n("div",BQ,[z(n("input",{"onUpdate:modelValue":h[14]||(h[14]=p=>f(a).employment_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).employment_date]])])]),n("div",VQ,[n("label",HQ,[J(d(m.__("Employment Type"))+" ",1),h[32]||(h[32]=n("span",{class:"text-red-500"},"*",-1))]),n("div",qQ,[z(n("select",{"onUpdate:modelValue":h[15]||(h[15]=p=>f(a).employment_type=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",WQ,d(m.__("Permanent")),1),n("option",KQ,d(m.__("Contract")),1),n("option",YQ,d(m.__("Probation")),1),n("option",GQ,d(m.__("Casual")),1),n("option",XQ,d(m.__("Internship")),1)],512),[[xe,f(a).employment_type]])])]),n("div",JQ,[n("label",QQ,[J(d(m.__("Employment Status"))+" ",1),h[33]||(h[33]=n("span",{class:"text-red-500"},"*",-1))]),n("div",ZQ,[z(n("select",{"onUpdate:modelValue":h[16]||(h[16]=p=>f(a).employment_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",eZ,d(m.__("Active")),1),n("option",tZ,d(m.__("Resigned")),1),n("option",sZ,d(m.__("Terminated")),1),n("option",nZ,d(m.__("Retired")),1),n("option",oZ,d(m.__("Deceased")),1),n("option",iZ,d(m.__("On Leave")),1),n("option",rZ,d(m.__("Suspended")),1)],512),[[xe,f(a).employment_status]])])]),f(a).employment_type==="Contract"?(g(),y("div",aZ,[n("h4",lZ,d(m.__("Contract Details")),1),n("div",dZ,[n("label",cZ,d(m.__("Contract Start Date")),1),n("div",uZ,[z(n("input",{"onUpdate:modelValue":h[17]||(h[17]=p=>f(a).contract_start_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).contract_start_date]])])]),n("div",mZ,[n("label",fZ,d(m.__("Contract End Date")),1),n("div",pZ,[z(n("input",{"onUpdate:modelValue":h[18]||(h[18]=p=>f(a).contract_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).contract_end_date]])])])])):j("",!0),f(a).employment_type==="Probation"?(g(),y("div",hZ,[n("h4",gZ,d(m.__("Probation Details")),1),n("div",_Z,[n("label",vZ,d(m.__("Probation Period (months)")),1),n("div",yZ,[z(n("input",{"onUpdate:modelValue":h[19]||(h[19]=p=>f(a).probation_period_months=p),type:"number",min:"1",max:"12",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).probation_period_months]])])]),n("div",xZ,[n("label",bZ,d(m.__("Probation End Date")),1),n("div",wZ,[z(n("input",{"onUpdate:modelValue":h[20]||(h[20]=p=>f(a).probation_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).probation_end_date]])])]),n("div",kZ,[n("label",$Z,d(m.__("Confirmation Date")),1),n("div",CZ,[z(n("input",{"onUpdate:modelValue":h[21]||(h[21]=p=>f(a).confirmation_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).confirmation_date]])])])])):j("",!0),n("div",SZ,[n("h3",MZ,d(m.__("Salary Information")),1)]),n("div",TZ,[n("label",DZ,d(m.__("Current Salary")),1),n("div",AZ,[n("div",PZ,[z(n("input",{"onUpdate:modelValue":h[22]||(h[22]=p=>f(a).current_salary=p),type:"number",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).current_salary]]),z(n("select",{"onUpdate:modelValue":h[23]||(h[23]=p=>f(a).salary_currency=p),class:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...h[34]||(h[34]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1)])],512),[[xe,f(a).salary_currency]])])])]),n("div",EZ,[n("h3",jZ,d(m.__("Leave Entitlement")),1)]),n("div",RZ,[n("label",IZ,d(m.__("Annual Leave Days")),1),n("div",OZ,[z(n("input",{"onUpdate:modelValue":h[24]||(h[24]=p=>f(a).annual_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).annual_leave_days]])])]),n("div",LZ,[n("label",FZ,d(m.__("Sick Leave Days")),1),n("div",NZ,[z(n("input",{"onUpdate:modelValue":h[25]||(h[25]=p=>f(a).sick_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).sick_leave_days]])])]),n("div",zZ,[n("label",UZ,d(m.__("Maternity Leave Days")),1),n("div",BZ,[z(n("input",{"onUpdate:modelValue":h[26]||(h[26]=p=>f(a).maternity_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).maternity_leave_days]])])]),n("div",VZ,[n("h3",HZ,d(m.__("Tax & Pension")),1)]),n("div",qZ,[n("label",WZ,d(m.__("Tax Identification Number")),1),n("div",KZ,[z(n("input",{"onUpdate:modelValue":h[27]||(h[27]=p=>f(a).tax_identification_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).tax_identification_number]])])]),n("div",YZ,[n("label",GZ,d(m.__("Pension Number")),1),n("div",XZ,[z(n("input",{"onUpdate:modelValue":h[28]||(h[28]=p=>f(a).pension_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).pension_number]])])]),n("div",JZ,[n("div",QZ,[n("label",ZZ,d(m.__("Notes")),1),n("div",eee,[z(n("textarea",{"onUpdate:modelValue":h[29]||(h[29]=p=>f(a).notes=p),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,f(a).notes]])])])])])]),_:1},8,["external-form"]))}},no=(s,e={})=>{const t=s.split("/").pop()||"resource",o=js(t)();return o.uri=s,e&&Object.assign(o.params,e),o.get=async()=>o.fetch(),o.deleteIt=async i=>{if(!confirm("Are you sure you want to delete this item?"))return!1;try{return await ce.delete(`${s}/${i}`),await o.fetch(),!0}catch{return!1}},o.prev=async()=>{if(o.currentPage>1)return o.currentPage--,o.fetch()},o.next=async()=>(o.currentPage++,o.fetch()),o},sn=s=>{var e;return!s||vt.is_super_admin?!0:((e=vt.permissions)==null?void 0:e.includes(s))||!1},tee={key:0,class:"mt-8 flex justify-center"},see={key:1},nee={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},oee={class:"overflow-hidden rounded-lg bg-white shadow"},iee={class:"p-5"},ree={class:"flex items-center"},aee={class:"flex-shrink-0"},lee={class:"ml-5 w-0 flex-1"},dee={class:"truncate text-sm font-medium text-gray-500"},cee={class:"text-lg font-semibold text-gray-900"},uee={class:"overflow-hidden rounded-lg bg-white shadow"},mee={class:"p-5"},fee={class:"flex items-center"},pee={class:"flex-shrink-0"},hee={class:"ml-5 w-0 flex-1"},gee={class:"truncate text-sm font-medium text-gray-500"},_ee={class:"text-lg font-semibold text-gray-900"},vee={class:"overflow-hidden rounded-lg bg-white shadow"},yee={class:"p-5"},xee={class:"flex items-center"},bee={class:"flex-shrink-0"},wee={class:"ml-5 w-0 flex-1"},kee={class:"truncate text-sm font-medium text-gray-500"},$ee={class:"text-lg font-semibold text-gray-900"},Cee={class:"overflow-hidden rounded-lg bg-white shadow"},See={class:"p-5"},Mee={class:"flex items-center"},Tee={class:"flex-shrink-0"},Dee={class:"ml-5 w-0 flex-1"},Aee={class:"truncate text-sm font-medium text-gray-500"},Pee={class:"text-lg font-semibold text-gray-900"},Eee={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},jee={class:"flex flex-1 gap-2"},Ree={class:"relative w-64 rounded-md shadow-sm"},Iee={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Oee=["placeholder"],Lee={value:""},Fee=["value"],Nee={value:""},zee=["value"],Uee={value:""},Bee=["value"],Vee={class:"ltr:ml-auto rtl:mr-auto"},Hee={class:"flex flex-col"},qee={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Wee={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Kee={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Yee={class:"min-w-full divide-y divide-gray-200"},Gee={class:"divide-y divide-gray-200 bg-white"},Xee=["onClick"],Jee={class:"whitespace-nowrap px-6 py-4"},Qee={class:"flex items-center"},Zee={class:"h-10 w-10 flex-shrink-0"},ete={class:"ml-4"},tte={class:"text-sm font-medium text-gray-900"},ste={class:"text-sm text-gray-500"},nte={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ote={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ite={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},rte={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ate={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},lte={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},dte={__name:"Index",setup(s){const e=gn(),t=E(!0),o=E(null),i=E({departments:[],employment_types:[],employment_statuses:[]}),r=no("employees",{search:"",employment_status:"",employment_type:"",department:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=at({show:!1,model:null});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},u=(v=null)=>{a.model=v,a.show=!0},m=v=>{e.push(`/employees/${v}`)},h=v=>{var x;return!(!vt.is_super_admin||v.user_id===((x=vt.user)==null?void 0:x.id))},p=async v=>{var x,w,b;if(confirm(`Are you sure you want to login as ${((x=v.user)==null?void 0:x.name)||"this user"}?`))try{const k=await ce.post(`impersonate/${v.user_id}`);alert(k.data.message),window.location.href="/"}catch(k){alert(((b=(w=k.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to impersonate user")}},_=async()=>{try{const v=await ce.get("employees/statistics");o.value=v.data.data}catch{}};return Ne(async()=>{try{await r.get(),await _(),r.data&&r.data.filters&&(i.value=r.data.filters),t.value=!1}catch{t.value=!1}}),(v,x)=>t.value?(g(),y("div",tee,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",see,[o.value?(g(),y("div",nee,[n("div",oee,[n("div",iee,[n("div",ree,[n("div",aee,[S(f(Yr),{class:"h-6 w-6 text-gray-400"})]),n("div",lee,[n("dl",null,[n("dt",dee,d(v.__("Total Employees")),1),n("dd",cee,d(o.value.total_employees),1)])])])])]),n("div",uee,[n("div",mee,[n("div",fee,[n("div",pee,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",hee,[n("dl",null,[n("dt",gee,d(v.__("Active")),1),n("dd",_ee,d(o.value.active_employees),1)])])])])]),n("div",vee,[n("div",yee,[n("div",xee,[n("div",bee,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",wee,[n("dl",null,[n("dt",kee,d(v.__("On Probation")),1),n("dd",$ee,d(o.value.on_probation),1)])])])])]),n("div",Cee,[n("div",See,[n("div",Mee,[n("div",Tee,[S(f(Fo),{class:"h-6 w-6 text-red-400"})]),n("div",Dee,[n("dl",null,[n("dt",Aee,d(v.__("Contracts Expiring")),1),n("dd",Pee,d(o.value.contracts_expiring_soon),1)])])])])])])):j("",!0),n("div",Eee,[n("div",jee,[n("div",Ree,[n("div",Iee,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":x[0]||(x[0]=w=>f(r).params.search=w),type:"search",placeholder:v.__("Search employees..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,Oee),[[K,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=w=>f(r).params.employment_status=w),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[2]||(x[2]=w=>f(r).get())},[n("option",Lee,d(v.__("All Statuses")),1),(g(!0),y(oe,null,ue(i.value.employment_statuses,w=>(g(),y("option",{key:w,value:w},d(v.__(w)),9,Fee))),128))],544),[[xe,f(r).params.employment_status]]),z(n("select",{"onUpdate:modelValue":x[3]||(x[3]=w=>f(r).params.employment_type=w),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[4]||(x[4]=w=>f(r).get())},[n("option",Nee,d(v.__("All Types")),1),(g(!0),y(oe,null,ue(i.value.employment_types,w=>(g(),y("option",{key:w,value:w},d(v.__(w)),9,zee))),128))],544),[[xe,f(r).params.employment_type]]),z(n("select",{"onUpdate:modelValue":x[5]||(x[5]=w=>f(r).params.department=w),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[6]||(x[6]=w=>f(r).get())},[n("option",Uee,d(v.__("All Departments")),1),(g(!0),y(oe,null,ue(i.value.departments,w=>(g(),y("option",{key:w,value:w},d(w),9,Bee))),128))],544),[[xe,f(r).params.department]])]),n("div",Vee,[f(sn)("employee:create")?(g(),re(Le,{key:0,size:"sm",onClick:x[7]||(x[7]=w=>u())},{default:W(()=>[J(d(v.__("Add Employee")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",Hee,[n("div",qee,[n("div",Wee,[n("div",Kee,[n("table",Yee,[n("thead",null,[n("tr",null,[S(Fe,{name:"employee",index:f(r),label:v.__("Name"),sort:"name"},null,8,["index","label"]),S(Fe,{name:"employee",index:f(r),label:v.__("Position"),sort:"position"},null,8,["index","label"]),S(Fe,{name:"employee",index:f(r),label:v.__("Department"),sort:"department"},null,8,["index","label"]),S(Fe,{name:"employee",index:f(r),label:v.__("Employment Type"),sort:"employment_type"},null,8,["index","label"]),S(Fe,{name:"employee",index:f(r),label:v.__("Status"),sort:"employment_status"},null,8,["index","label"]),S(Fe,{name:"employee",index:f(r),label:v.__("Employment Date"),sort:"employment_date"},null,8,["index","label"]),x[10]||(x[10]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Gee,[(g(!0),y(oe,null,ue(f(r).data.data,w=>(g(),y("tr",{key:w.id,class:"cursor-pointer hover:bg-gray-50",onClick:b=>m(w.id)},[n("td",Jee,[n("div",Qee,[n("div",Zee,[S(cs,{user:w.user,size:"10"},null,8,["user"])]),n("div",ete,[n("div",tte,d(w.user.name),1),n("div",ste,d(w.user.email),1)])])]),n("td",nte,d(w.position||"-"),1),n("td",ote,d(w.department||"-"),1),n("td",ite,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":w.employment_type==="Permanent","bg-blue-100 text-blue-800":w.employment_type==="Contract","bg-yellow-100 text-yellow-800":w.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(w.employment_type)}])},d(w.employment_type),3)]),n("td",rte,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":w.employment_status==="Active","bg-yellow-100 text-yellow-800":w.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(w.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(w.employment_status)}])},d(w.employment_status),3)]),n("td",ate,d(w.employment_date?new Date(w.employment_date).toLocaleDateString():"-"),1),n("td",lte,[h(w)?(g(),re(f(Bv),{key:0,class:"w-5 cursor-pointer text-indigo-400 hover:text-indigo-600",title:v.__("Login as this user"),onClick:Ve(b=>p(w),["stop"])},null,8,["title","onClick"])):j("",!0),f(sn)("employee:update")?(g(),re(f(Un),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(b=>u(w),["stop"])},null,8,["onClick"])):j("",!0),f(sn)("employee:delete")?(g(),re(f(Gt),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ve(b=>f(r).deleteIt(w.id),["stop"])},null,8,["onClick"])):j("",!0)])],8,Xee))),128))])]),S(Rs,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),re(bs,{key:1,size:"2xl",onSaved:x[9]||(x[9]=w=>f(r).get())},{default:W(()=>[S(Ux,{"model-value":a.model,onClose:x[8]||(x[8]=w=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}},cte={key:0,class:"mt-8 flex justify-center"},ute={key:1,class:"space-y-6"},mte={class:"flex items-center justify-between"},fte={class:"flex items-center space-x-4"},pte={class:"text-2xl font-bold text-gray-900"},hte={class:"flex space-x-2"},gte={class:"flex space-x-2"},_te={class:"inline-flex rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800"},vte={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},yte={class:"lg:col-span-2 space-y-6"},xte={class:"overflow-hidden bg-white shadow sm:rounded-lg"},bte={class:"px-4 py-5 sm:px-6"},wte={class:"text-lg font-medium leading-6 text-gray-900"},kte={class:"border-t border-gray-200"},$te={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Cte={class:"text-sm font-medium text-gray-500"},Ste={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Mte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Tte={class:"text-sm font-medium text-gray-500"},Dte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ate={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pte={class:"text-sm font-medium text-gray-500"},Ete={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},jte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Rte={class:"text-sm font-medium text-gray-500"},Ite={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ote={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Lte={class:"text-sm font-medium text-gray-500"},Fte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Nte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},zte={class:"text-sm font-medium text-gray-500"},Ute={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Bte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Vte={class:"text-sm font-medium text-gray-500"},Hte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},qte={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Wte={class:"px-4 py-5 sm:px-6"},Kte={class:"text-lg font-medium leading-6 text-gray-900"},Yte={class:"border-t border-gray-200"},Gte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Xte={class:"text-sm font-medium text-gray-500"},Jte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Qte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Zte={class:"text-sm font-medium text-gray-500"},ese={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},tse={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},sse={class:"text-sm font-medium text-gray-500"},nse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ose={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ise={class:"text-sm font-medium text-gray-500"},rse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ase={key:0,class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},lse={class:"text-sm font-medium text-gray-500"},dse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},cse={key:1,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},use={class:"text-sm font-medium text-gray-500"},mse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},fse={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},pse={class:"px-4 py-5 sm:px-6"},hse={class:"text-lg font-medium leading-6 text-gray-900"},gse={class:"border-t border-gray-200"},_se={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},vse={class:"text-sm font-medium text-gray-500"},yse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},xse={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},bse={class:"text-sm font-medium text-gray-500"},wse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},kse={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},$se={class:"text-sm font-medium text-gray-500"},Cse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Sse={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Mse={class:"text-sm font-medium text-gray-500"},Tse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Dse={class:"space-y-6"},Ase={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Pse={class:"px-4 py-5 sm:p-6"},Ese={class:"mb-4 text-base font-medium text-gray-900"},jse={class:"space-y-3"},Rse={class:"flex items-center justify-between"},Ise={class:"text-sm text-gray-500"},Ose={class:"text-sm font-semibold text-gray-900"},Lse={class:"flex items-center justify-between"},Fse={class:"text-sm text-gray-500"},Nse={class:"text-sm font-semibold text-gray-900"},zse={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Use={class:"px-4 py-5 sm:p-6"},Bse={class:"mb-2 text-base font-medium text-gray-900"},Vse={class:"text-2xl font-bold text-gray-900"},Hse={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg"},qse={class:"px-4 py-5 sm:p-6"},Wse={class:"mb-4 text-base font-medium text-gray-900"},Kse={class:"space-y-3"},Yse={key:0},Gse={class:"text-sm text-gray-500"},Xse={class:"text-sm font-semibold text-gray-900"},Jse={key:1},Qse={class:"text-sm text-gray-500"},Zse={class:"text-sm font-semibold text-gray-900"},ene={key:2,class:"overflow-hidden bg-white shadow sm:rounded-lg"},tne={class:"px-4 py-5 sm:p-6"},sne={class:"mb-2 text-base font-medium text-gray-900"},nne={class:"text-sm text-gray-700 whitespace-pre-wrap"},one={__name:"Detail",setup(s){const e=Vr(),t=E(!0),o=E(null),i=E(!1),r=async()=>{try{t.value=!0;const l=await ce.get(`employees/${e.params.id}`);o.value=l.data.data}catch{}finally{t.value=!1}},a=()=>{i.value=!0};return Ne(()=>{r()}),(l,c)=>{var u;return t.value?(g(),y("div",cte,[S(it,{size:"40",color:"#5850ec"})])):o.value?(g(),y("div",ute,[n("div",mte,[n("div",fte,[n("button",{onClick:c[0]||(c[0]=m=>l.$router.back()),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},"  "+d(l.__("Back")),1),n("h1",pte,d(o.value.user.name),1)]),n("div",hte,[f(sn)("employee:update")?(g(),re(Le,{key:0,variant:"secondary",onClick:a},{default:W(()=>[J(d(l.__("Edit")),1)]),_:1})):j("",!0)])]),n("div",gte,[n("span",{class:X(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",{"bg-green-100 text-green-800":o.value.employment_status==="Active","bg-red-100 text-red-800":["Resigned","Terminated"].includes(o.value.employment_status),"bg-gray-100 text-gray-800":!["Active","Resigned","Terminated"].includes(o.value.employment_status)}])},d(o.value.employment_status),3),n("span",_te,d(o.value.employment_type),1)]),n("div",vte,[n("div",yte,[n("div",xte,[n("div",bte,[n("h3",wte,d(l.__("Personal Information")),1)]),n("div",kte,[n("dl",null,[n("div",$te,[n("dt",Cte,d(l.__("Email")),1),n("dd",Ste,d(o.value.user.email),1)]),n("div",Mte,[n("dt",Tte,d(l.__("National ID")),1),n("dd",Dte,d(o.value.national_id||"-"),1)]),n("div",Ate,[n("dt",Pte,d(l.__("Phone")),1),n("dd",Ete,d(o.value.phone_number||"-"),1)]),n("div",jte,[n("dt",Rte,d(l.__("Address")),1),n("dd",Ite,d(o.value.physical_address||"-"),1)]),n("div",Ote,[n("dt",Lte,d(l.__("Date of Birth")),1),n("dd",Fte,d(o.value.date_of_birth?new Date(o.value.date_of_birth).toLocaleDateString():"-"),1)]),n("div",Nte,[n("dt",zte,d(l.__("Gender")),1),n("dd",Ute,d(o.value.gender||"-"),1)]),n("div",Bte,[n("dt",Vte,d(l.__("Marital Status")),1),n("dd",Hte,d(o.value.marital_status||"-"),1)])])])]),n("div",qte,[n("div",Wte,[n("h3",Kte,d(l.__("Employment Information")),1)]),n("div",Yte,[n("dl",null,[n("div",Gte,[n("dt",Xte,d(l.__("Position")),1),n("dd",Jte,d(o.value.position||"-"),1)]),n("div",Qte,[n("dt",Zte,d(l.__("Department")),1),n("dd",ese,d(o.value.department||"-"),1)]),n("div",tse,[n("dt",sse,d(l.__("Reports To")),1),n("dd",nse,d(((u=o.value.supervisor)==null?void 0:u.name)||"-"),1)]),n("div",ose,[n("dt",ise,d(l.__("Employment Date")),1),n("dd",rse,d(o.value.employment_date?new Date(o.value.employment_date).toLocaleDateString():"-"),1)]),o.value.contract_start_date?(g(),y("div",ase,[n("dt",lse,d(l.__("Contract Period")),1),n("dd",dse,d(new Date(o.value.contract_start_date).toLocaleDateString())+" - "+d(o.value.contract_end_date?new Date(o.value.contract_end_date).toLocaleDateString():"Ongoing"),1)])):j("",!0),o.value.probation_end_date?(g(),y("div",cse,[n("dt",use,d(l.__("Probation End Date")),1),n("dd",mse,d(new Date(o.value.probation_end_date).toLocaleDateString()),1)])):j("",!0)])])]),o.value.next_of_kin_name?(g(),y("div",fse,[n("div",pse,[n("h3",hse,d(l.__("Next of Kin")),1)]),n("div",gse,[n("dl",null,[n("div",_se,[n("dt",vse,d(l.__("Name")),1),n("dd",yse,d(o.value.next_of_kin_name),1)]),n("div",xse,[n("dt",bse,d(l.__("Relationship")),1),n("dd",wse,d(o.value.next_of_kin_relationship||"-"),1)]),n("div",kse,[n("dt",$se,d(l.__("Phone")),1),n("dd",Cse,d(o.value.next_of_kin_phone||"-"),1)]),n("div",Sse,[n("dt",Mse,d(l.__("Address")),1),n("dd",Tse,d(o.value.next_of_kin_address||"-"),1)])])])])):j("",!0)]),n("div",Dse,[n("div",Ase,[n("div",Pse,[n("h3",Ese,d(l.__("Leave Balance")),1),n("div",jse,[n("div",Rse,[n("span",Ise,d(l.__("Annual Leave")),1),n("span",Ose,d(o.value.leave_balance_annual)+" / "+d(o.value.annual_leave_days)+" "+d(l.__("days")),1)]),n("div",Lse,[n("span",Fse,d(l.__("Sick Leave")),1),n("span",Nse,d(o.value.leave_balance_sick)+" / "+d(o.value.sick_leave_days)+" "+d(l.__("days")),1)])])])]),o.value.current_salary?(g(),y("div",zse,[n("div",Use,[n("h3",Bse,d(l.__("Current Salary")),1),n("p",Vse,d(new Intl.NumberFormat().format(o.value.current_salary))+" "+d(o.value.salary_currency),1)])])):j("",!0),o.value.tax_identification_number||o.value.pension_number?(g(),y("div",Hse,[n("div",qse,[n("h3",Wse,d(l.__("Tax & Pension")),1),n("div",Kse,[o.value.tax_identification_number?(g(),y("div",Yse,[n("span",Gse,d(l.__("TIN")),1),n("p",Xse,d(o.value.tax_identification_number),1)])):j("",!0),o.value.pension_number?(g(),y("div",Jse,[n("span",Qse,d(l.__("Pension Number")),1),n("p",Zse,d(o.value.pension_number),1)])):j("",!0)])])])):j("",!0),o.value.notes?(g(),y("div",ene,[n("div",tne,[n("h3",sne,d(l.__("Notes")),1),n("p",nne,d(o.value.notes),1)])])):j("",!0)])]),S(bs,{modelValue:i.value,"onUpdate:modelValue":c[2]||(c[2]=m=>i.value=m),size:"2xl",onSaved:r},{default:W(()=>[S(Ux,{"model-value":o.value,onClose:c[1]||(c[1]=m=>i.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])])):j("",!0)}}},ine={class:"space-y-6"},rne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ane={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lne={class:"mt-1 sm:col-span-2 sm:mt-0"},dne={value:""},cne={value:"Annual Leave"},une={value:"Sick Leave"},mne={value:"Maternity Leave"},fne={value:"Paternity Leave"},pne={value:"Unpaid Leave"},hne={value:"Compassionate Leave"},gne={value:"Study Leave"},_ne={key:0,class:"mt-2 text-sm text-red-600"},vne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xne={class:"mt-1 sm:col-span-2 sm:mt-0"},bne=["min"],wne={key:0,class:"mt-2 text-sm text-red-600"},kne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$ne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Cne={class:"mt-1 sm:col-span-2 sm:mt-0"},Sne=["min"],Mne={key:0,class:"mt-2 text-sm text-red-600"},Tne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Dne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ane={class:"mt-1 sm:col-span-2 sm:mt-0"},Pne={key:0,class:"mt-2 text-sm text-red-600"},Ene={class:"mt-1 text-sm text-gray-500"},jne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Rne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ine={class:"mt-1 sm:col-span-2 sm:mt-0"},One={class:"flex items-center"},Lne={class:"ml-2 block text-sm text-gray-900"},Fne={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Nne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},zne={class:"mt-1 sm:col-span-2 sm:mt-0"},Une={value:""},Bne={value:"morning"},Vne={value:"afternoon"},Hne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},qne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Wne={class:"mt-1 sm:col-span-2 sm:mt-0"},Kne=["placeholder"],Yne={key:0,class:"mt-2 text-sm text-red-600"},Gne={key:1,class:"rounded-md bg-blue-50 p-4"},Xne={class:"flex"},Jne={class:"flex-shrink-0"},Qne={class:"ml-3 flex-1"},Zne={class:"text-sm font-medium text-blue-800"},eoe={class:"mt-2 text-sm text-blue-700"},toe={key:0},soe={key:1},noe={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=E(null),r=Me(()=>new Date().toISOString().split("T")[0]),a=Qr("leaves",{leave_type:"",start_date:"",end_date:"",days:1,is_half_day:!1,half_day_period:"",reason:""}),l=()=>{if(a.start_date&&a.end_date){const h=new Date(a.start_date),p=new Date(a.end_date),_=Math.abs(p-h),v=Math.ceil(_/(1e3*60*60*24))+1;a.is_half_day?a.days=.5:a.days=v}},c=()=>{a.is_half_day?(a.end_date=a.start_date,a.days=.5):(a.half_day_period="",l())},u=()=>{a.submit(()=>{o("close")})},m=async()=>{try{const h=await ce.get("profile/create");h.data.employee_record&&(i.value={annual:h.data.employee_record.leave_balance_annual??0,sick:h.data.employee_record.leave_balance_sick??0})}catch{}};return Pt(()=>t.modelValue,h=>{h?a.setData({...h,start_date:h.start_date.split("T")[0],end_date:h.end_date.split("T")[0]}):a.reset()},{immediate:!0}),Ne(()=>{m()}),(h,p)=>(g(),re(Uo,{"external-form":f(a),onSubmit:u,onCancel:p[7]||(p[7]=_=>o("close"))},{title:W(()=>[J(d(f(a).id?h.__("Edit Leave Request"):h.__("Request Leave")),1)]),default:W(()=>[n("div",ine,[n("div",rne,[n("label",ane,[J(d(h.__("Leave Type"))+" ",1),p[8]||(p[8]=n("span",{class:"text-red-500"},"*",-1))]),n("div",lne,[z(n("select",{"onUpdate:modelValue":p[0]||(p[0]=_=>f(a).leave_type=_),class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.leave_type}]),required:""},[n("option",dne,d(h.__("Select leave type")),1),n("option",cne,d(h.__("Annual Leave")),1),n("option",une,d(h.__("Sick Leave")),1),n("option",mne,d(h.__("Maternity Leave")),1),n("option",fne,d(h.__("Paternity Leave")),1),n("option",pne,d(h.__("Unpaid Leave")),1),n("option",hne,d(h.__("Compassionate Leave")),1),n("option",gne,d(h.__("Study Leave")),1)],2),[[xe,f(a).leave_type]]),f(a).errors.leave_type?(g(),y("p",_ne,d(f(a).errors.leave_type),1)):j("",!0)])]),n("div",vne,[n("label",yne,[J(d(h.__("Start Date"))+" ",1),p[9]||(p[9]=n("span",{class:"text-red-500"},"*",-1))]),n("div",xne,[z(n("input",{"onUpdate:modelValue":p[1]||(p[1]=_=>f(a).start_date=_),type:"date",min:r.value,class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.start_date}]),required:"",onChange:l},null,42,bne),[[K,f(a).start_date]]),f(a).errors.start_date?(g(),y("p",wne,d(f(a).errors.start_date),1)):j("",!0)])]),n("div",kne,[n("label",$ne,[J(d(h.__("End Date"))+" ",1),p[10]||(p[10]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Cne,[z(n("input",{"onUpdate:modelValue":p[2]||(p[2]=_=>f(a).end_date=_),type:"date",min:f(a).start_date||r.value,class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.end_date}]),required:"",onChange:l},null,42,Sne),[[K,f(a).end_date]]),f(a).errors.end_date?(g(),y("p",Mne,d(f(a).errors.end_date),1)):j("",!0)])]),n("div",Tne,[n("label",Dne,[J(d(h.__("Number of Days"))+" ",1),p[11]||(p[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Ane,[z(n("input",{"onUpdate:modelValue":p[3]||(p[3]=_=>f(a).days=_),type:"number",step:"0.5",min:"0.5",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.days}]),required:"",readonly:""},null,2),[[K,f(a).days]]),f(a).errors.days?(g(),y("p",Pne,d(f(a).errors.days),1)):j("",!0),n("p",Ene,d(h.__("Automatically calculated based on start and end dates")),1)])]),n("div",jne,[n("label",Rne,d(h.__("Half Day")),1),n("div",Ine,[n("div",One,[z(n("input",{"onUpdate:modelValue":p[4]||(p[4]=_=>f(a).is_half_day=_),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:c},null,544),[[rs,f(a).is_half_day]]),n("label",Lne,d(h.__("This is a half day leave")),1)])])]),f(a).is_half_day?(g(),y("div",Fne,[n("label",Nne,[J(d(h.__("Half Day Period"))+" ",1),p[12]||(p[12]=n("span",{class:"text-red-500"},"*",-1))]),n("div",zne,[z(n("select",{"onUpdate:modelValue":p[5]||(p[5]=_=>f(a).half_day_period=_),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",Une,d(h.__("Select period")),1),n("option",Bne,d(h.__("Morning")),1),n("option",Vne,d(h.__("Afternoon")),1)],512),[[xe,f(a).half_day_period]])])])):j("",!0),n("div",Hne,[n("label",qne,[J(d(h.__("Reason"))+" ",1),p[13]||(p[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Wne,[z(n("textarea",{"onUpdate:modelValue":p[6]||(p[6]=_=>f(a).reason=_),rows:"4",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.reason}]),placeholder:h.__("Please provide a detailed reason for your leave request"),required:""},null,10,Kne),[[K,f(a).reason]]),f(a).errors.reason?(g(),y("p",Yne,d(f(a).errors.reason),1)):j("",!0)])]),i.value?(g(),y("div",Gne,[n("div",Xne,[n("div",Jne,[S(f(zv),{class:"h-5 w-5 text-blue-400"})]),n("div",Qne,[n("h3",Zne,d(h.__("Your Leave Balance")),1),n("div",eoe,[f(a).leave_type==="Annual Leave"?(g(),y("p",toe,d(h.__("Annual Leave Balance:"))+" "+d(i.value.annual)+" "+d(h.__("days")),1)):f(a).leave_type==="Sick Leave"?(g(),y("p",soe,d(h.__("Sick Leave Balance:"))+" "+d(i.value.sick)+" "+d(h.__("days")),1)):j("",!0)])])])])):j("",!0)])]),_:1},8,["external-form"]))}},ooe={key:0,class:"mt-8 flex justify-center"},ioe={key:1},roe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},aoe={class:"overflow-hidden rounded-lg bg-white shadow"},loe={class:"p-5"},doe={class:"flex items-center"},coe={class:"flex-shrink-0"},uoe={class:"ml-5 w-0 flex-1"},moe={class:"truncate text-sm font-medium text-gray-500"},foe={class:"text-lg font-semibold text-gray-900"},poe={class:"overflow-hidden rounded-lg bg-white shadow"},hoe={class:"p-5"},goe={class:"flex items-center"},_oe={class:"flex-shrink-0"},voe={class:"ml-5 w-0 flex-1"},yoe={class:"truncate text-sm font-medium text-gray-500"},xoe={class:"text-lg font-semibold text-gray-900"},boe={class:"overflow-hidden rounded-lg bg-white shadow"},woe={class:"p-5"},koe={class:"flex items-center"},$oe={class:"flex-shrink-0"},Coe={class:"ml-5 w-0 flex-1"},Soe={class:"truncate text-sm font-medium text-gray-500"},Moe={class:"text-lg font-semibold text-gray-900"},Toe={class:"overflow-hidden rounded-lg bg-white shadow"},Doe={class:"p-5"},Aoe={class:"flex items-center"},Poe={class:"flex-shrink-0"},Eoe={class:"ml-5 w-0 flex-1"},joe={class:"truncate text-sm font-medium text-gray-500"},Roe={class:"text-lg font-semibold text-gray-900"},Ioe={class:"mb-6"},Ooe={class:"border-b border-gray-200"},Loe={class:"-mb-px flex space-x-8"},Foe={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},Noe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},zoe={class:"flex flex-1 gap-2"},Uoe={class:"relative w-64 rounded-md shadow-sm"},Boe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Voe=["placeholder"],Hoe={value:""},qoe={value:"pending"},Woe={value:"approved"},Koe={value:"rejected"},Yoe={value:""},Goe={value:"Annual Leave"},Xoe={value:"Sick Leave"},Joe={value:"Maternity Leave"},Qoe={value:"Paternity Leave"},Zoe={value:"Unpaid Leave"},eie={class:"ltr:ml-auto rtl:mr-auto"},tie={class:"flex flex-col"},sie={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},nie={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},oie={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},iie={class:"min-w-full divide-y divide-gray-200"},rie={class:"divide-y divide-gray-200 bg-white"},aie={key:0,class:"whitespace-nowrap px-6 py-4"},lie={class:"flex items-center"},die={class:"h-10 w-10 flex-shrink-0"},cie={class:"ml-4"},uie={class:"text-sm font-medium text-gray-900"},mie={class:"text-sm text-gray-500"},fie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},pie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},hie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},gie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},_ie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},vie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},yie={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},xie={class:"p-6"},bie={class:"flex items-center justify-between mb-4"},wie={class:"text-lg font-semibold text-gray-900"},kie={key:0,class:"space-y-4"},$ie={class:"grid grid-cols-2 gap-4"},Cie={class:"block text-sm font-medium text-gray-700"},Sie={class:"mt-1 text-sm text-gray-900"},Mie={class:"block text-sm font-medium text-gray-700"},Tie={class:"mt-1 text-sm text-gray-900"},Die={class:"block text-sm font-medium text-gray-700"},Aie={class:"mt-1 text-sm text-gray-900"},Pie={class:"block text-sm font-medium text-gray-700"},Eie={class:"mt-1 text-sm text-gray-900"},jie={class:"block text-sm font-medium text-gray-700"},Rie={class:"mt-1 text-sm text-gray-900"},Iie={class:"block text-sm font-medium text-gray-700"},Oie={class:"mt-1"},Lie={class:"block text-sm font-medium text-gray-700"},Fie={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Nie={key:0},zie={class:"block text-sm font-medium text-gray-700"},Uie={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Bie={key:1},Vie={class:"block text-sm font-medium text-gray-700"},Hie={class:"mt-1 text-sm text-gray-900"},qie={class:"text-sm text-gray-500"},Wie={class:"mt-6 flex justify-end"},Kie={class:"p-6"},Yie={class:"flex items-center justify-between mb-4"},Gie={class:"text-lg font-semibold text-gray-900"},Xie={class:"space-y-4"},Jie={class:"text-sm text-gray-700"},Qie={class:"block text-sm font-medium text-gray-700"},Zie=["required"],ere={class:"mt-6 flex justify-end space-x-3"},tre={__name:"Index",setup(s){const e=E(!0),t=E(null),o=E("my-leaves"),i=E(null),r=no("leaves",{search:"",status:"",leave_type:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=at({show:!1,model:null}),l=at({show:!1,leave:null}),c=at({show:!1,action:null,leave:null,notes:""});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{r.get()},300)},h=(k=null)=>{a.model=k,a.show=!0},p=k=>{l.leave=k,l.show=!0},_=k=>{c.leave=k,c.action="approve",c.notes="",c.show=!0},v=k=>{c.leave=k,c.action="reject",c.notes="",c.show=!0},x=async()=>{var k,C;try{const $=c.action==="approve"?"approve":"reject";await ce.post(`leaves/${c.leave.id}/${$}`,{admin_notes:c.notes}),c.show=!1,r.get(),w()}catch($){alert(((C=(k=$.response)==null?void 0:k.data)==null?void 0:C.message)||"Failed to process leave request")}},w=async()=>{try{const k=await ce.get("leaves/statistics");t.value=k.data.data}catch{}},b=()=>{var k;i.value=(k=vt.user)==null?void 0:k.id};return Pt(o,k=>{k==="my-leaves"?r.params.user_id=i.value:(k==="pending-approvals"&&(r.params.status="pending"),r.params.user_id=""),r.get()}),Ne(async()=>{b(),r.params.user_id=i.value,await r.get(),await w(),e.value=!1}),(k,C)=>e.value?(g(),y("div",ooe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",ioe,[t.value?(g(),y("div",roe,[n("div",aoe,[n("div",loe,[n("div",doe,[n("div",coe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",uoe,[n("dl",null,[n("dt",moe,d(k.__("Pending")),1),n("dd",foe,d(t.value.pending),1)])])])])]),n("div",poe,[n("div",hoe,[n("div",goe,[n("div",_oe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",voe,[n("dl",null,[n("dt",yoe,d(k.__("Approved")),1),n("dd",xoe,d(t.value.approved),1)])])])])]),n("div",boe,[n("div",woe,[n("div",koe,[n("div",$oe,[S(f(mn),{class:"h-6 w-6 text-red-400"})]),n("div",Coe,[n("dl",null,[n("dt",Soe,d(k.__("Rejected")),1),n("dd",Moe,d(t.value.rejected),1)])])])])]),n("div",Toe,[n("div",Doe,[n("div",Aoe,[n("div",Poe,[S(f(nn),{class:"h-6 w-6 text-blue-400"})]),n("div",Eoe,[n("dl",null,[n("dt",joe,d(k.__("This Month")),1),n("dd",Roe,d(t.value.this_month)+" "+d(k.__("days")),1)])])])])])])):j("",!0),n("div",Ioe,[n("div",Ooe,[n("nav",Loe,[n("button",{onClick:C[0]||(C[0]=$=>o.value="my-leaves"),class:X([o.value==="my-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},d(k.__("My Leave Requests")),3),f(sn)("leave:view-all")?(g(),y("button",{key:0,onClick:C[1]||(C[1]=$=>o.value="all-leaves"),class:X([o.value==="all-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},d(k.__("All Requests")),3)):j("",!0),f(sn)("leave:approve")?(g(),y("button",{key:1,onClick:C[2]||(C[2]=$=>o.value="pending-approvals"),class:X([o.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},[J(d(k.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(g(),y("span",Foe,d(t.value.pending),1)):j("",!0)],2)):j("",!0)])])]),n("div",Noe,[n("div",zoe,[n("div",Uoe,[n("div",Boe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":C[3]||(C[3]=$=>f(r).params.search=$),type:"search",placeholder:k.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,Voe),[[K,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":C[4]||(C[4]=$=>f(r).params.status=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[5]||(C[5]=$=>f(r).get())},[n("option",Hoe,d(k.__("All Statuses")),1),n("option",qoe,d(k.__("Pending")),1),n("option",Woe,d(k.__("Approved")),1),n("option",Koe,d(k.__("Rejected")),1)],544),[[xe,f(r).params.status]]),z(n("select",{"onUpdate:modelValue":C[6]||(C[6]=$=>f(r).params.leave_type=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[7]||(C[7]=$=>f(r).get())},[n("option",Yoe,d(k.__("All Types")),1),n("option",Goe,d(k.__("Annual Leave")),1),n("option",Xoe,d(k.__("Sick Leave")),1),n("option",Joe,d(k.__("Maternity Leave")),1),n("option",Qoe,d(k.__("Paternity Leave")),1),n("option",Zoe,d(k.__("Unpaid Leave")),1)],544),[[xe,f(r).params.leave_type]])]),n("div",eie,[f(sn)("leave:create")?(g(),re(Le,{key:0,size:"sm",onClick:C[8]||(C[8]=$=>h())},{default:W(()=>[J(d(k.__("Request Leave")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",tie,[n("div",sie,[n("div",nie,[n("div",oie,[n("table",iie,[n("thead",null,[n("tr",null,[o.value!=="my-leaves"?(g(),re(Fe,{key:0,name:"leave",index:f(r),label:k.__("Employee")},null,8,["index","label"])):j("",!0),S(Fe,{name:"leave",index:f(r),label:k.__("Leave Type"),sort:"leave_type"},null,8,["index","label"]),S(Fe,{name:"leave",index:f(r),label:k.__("Start Date"),sort:"start_date"},null,8,["index","label"]),S(Fe,{name:"leave",index:f(r),label:k.__("End Date"),sort:"end_date"},null,8,["index","label"]),S(Fe,{name:"leave",index:f(r),label:k.__("Days"),sort:"days"},null,8,["index","label"]),S(Fe,{name:"leave",index:f(r),label:k.__("Status"),sort:"status"},null,8,["index","label"]),S(Fe,{name:"leave",index:f(r),label:k.__("Requested"),sort:"created_at"},null,8,["index","label"]),C[16]||(C[16]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",rie,[(g(!0),y(oe,null,ue(f(r).data.data,$=>(g(),y("tr",{key:$.id,class:"hover:bg-gray-50"},[o.value!=="my-leaves"?(g(),y("td",aie,[n("div",lie,[n("div",die,[S(cs,{user:$.user,size:"10"},null,8,["user"])]),n("div",cie,[n("div",uie,d($.user.name),1),n("div",mie,d($.user.email),1)])])])):j("",!0),n("td",fie,d($.leave_type),1),n("td",pie,d(new Date($.start_date).toLocaleDateString()),1),n("td",hie,d(new Date($.end_date).toLocaleDateString()),1),n("td",gie,d($.days)+" "+d($.is_half_day?"(Half Day)":""),1),n("td",_ie,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":$.status==="pending","bg-green-100 text-green-800":$.status==="approved","bg-red-100 text-red-800":$.status==="rejected"}])},d($.status.charAt(0).toUpperCase()+$.status.slice(1)),3)]),n("td",vie,d(new Date($.created_at).toLocaleDateString()),1),n("td",yie,[o.value==="pending-approvals"&&$.status==="pending"?(g(),y(oe,{key:0},[S(Le,{size:"xs",variant:"success",onClick:A=>_($)},{default:W(()=>[J(d(k.__("Approve")),1)]),_:1},8,["onClick"]),S(Le,{size:"xs",variant:"danger",class:"ml-2",onClick:A=>v($)},{default:W(()=>[J(d(k.__("Reject")),1)]),_:1},8,["onClick"])],64)):$.status==="pending"&&$.user_id===i.value?(g(),y(oe,{key:1},[S(f(Un),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>h($)},null,8,["onClick"]),S(f(Gt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>f(r).deleteIt($.id)},null,8,["onClick"])],64)):j("",!0),S(f(zn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>p($)},null,8,["onClick"])])]))),128))])]),S(Rs,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),re(bs,{key:1,size:"lg",onSaved:C[10]||(C[10]=$=>f(r).get())},{default:W(()=>[S(noe,{"model-value":a.model,onClose:C[9]||(C[9]=$=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(g(),re(_o,{key:2,width:"max-w-2xl"},{default:W(()=>{var $,A;return[n("div",xie,[n("div",bie,[n("h3",wie,d(k.__("Leave Request Details")),1),n("button",{onClick:C[11]||(C[11]=R=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),l.leave?(g(),y("div",kie,[n("div",$ie,[n("div",null,[n("label",Cie,d(k.__("Employee")),1),n("p",Sie,d(($=l.leave.user)==null?void 0:$.name),1)]),n("div",null,[n("label",Mie,d(k.__("Leave Type")),1),n("p",Tie,d(l.leave.leave_type),1)]),n("div",null,[n("label",Die,d(k.__("Start Date")),1),n("p",Aie,d(new Date(l.leave.start_date).toLocaleDateString()),1)]),n("div",null,[n("label",Pie,d(k.__("End Date")),1),n("p",Eie,d(new Date(l.leave.end_date).toLocaleDateString()),1)]),n("div",null,[n("label",jie,d(k.__("Days")),1),n("p",Rie,d(l.leave.days),1)]),n("div",null,[n("label",Iie,d(k.__("Status")),1),n("p",Oie,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.leave.status==="pending","bg-green-100 text-green-800":l.leave.status==="approved","bg-red-100 text-red-800":l.leave.status==="rejected"}])},d(l.leave.status.charAt(0).toUpperCase()+l.leave.status.slice(1)),3)])])]),n("div",null,[n("label",Lie,d(k.__("Reason")),1),n("p",Fie,d(l.leave.reason),1)]),l.leave.admin_notes?(g(),y("div",Nie,[n("label",zie,d(k.__("Admin Notes")),1),n("p",Uie,d(l.leave.admin_notes),1)])):j("",!0),l.leave.approved_by?(g(),y("div",Bie,[n("label",Vie,d(k.__("Approved/Rejected By")),1),n("p",Hie,d((A=l.leave.approved_by)==null?void 0:A.name),1),n("p",qie,d(new Date(l.leave.approved_at).toLocaleString()),1)])):j("",!0)])):j("",!0),n("div",Wie,[S(Le,{onClick:C[12]||(C[12]=R=>l.show=!1)},{default:W(()=>[J(d(k.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),c.show?(g(),re(_o,{key:3,width:"max-w-md"},{default:W(()=>[n("div",Kie,[n("div",Yie,[n("h3",Gie,d(c.action==="approve"?k.__("Approve Leave"):k.__("Reject Leave")),1),n("button",{onClick:C[13]||(C[13]=$=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),n("div",Xie,[n("p",Jie,d(c.action==="approve"?k.__("Are you sure you want to approve this leave request?"):k.__("Please provide a reason for rejection:")),1),n("div",null,[n("label",Qie,d(c.action==="approve"?k.__("Admin Notes (Optional)"):k.__("Rejection Reason")),1),z(n("textarea",{"onUpdate:modelValue":C[14]||(C[14]=$=>c.notes=$),rows:"3",required:c.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Zie),[[K,c.notes]])])]),n("div",ere,[S(Le,{white:"",onClick:C[15]||(C[15]=$=>c.show=!1)},{default:W(()=>[J(d(k.__("Cancel")),1)]),_:1}),S(Le,{class:X(c.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:x,disabled:c.action==="reject"&&!c.notes},{default:W(()=>[J(d(c.action==="approve"?k.__("Approve"):k.__("Reject")),1)]),_:1},8,["class","disabled"])])])]),_:1})):j("",!0)]))}},sre={class:"space-y-6"},nre={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ore={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ire={class:"mt-1 sm:col-span-2 sm:mt-0"},rre=["placeholder"],are={key:0,class:"mt-2 text-sm text-red-600"},lre={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},dre={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},cre={class:"mt-1 sm:col-span-2 sm:mt-0"},ure={key:0,class:"mt-2 text-sm text-red-600"},mre={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},fre={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pre={class:"mt-1 sm:col-span-2 sm:mt-0"},hre=["placeholder"],gre={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_re={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vre={class:"mt-1 sm:col-span-2 sm:mt-0"},yre={class:"flex items-center"},xre={class:"ml-2 block text-sm text-gray-900"},bre={class:"mt-1 text-sm text-gray-500"},wre={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=Qr("holidays",{name:"",date:"",description:"",is_recurring:!1}),r=()=>{i.submit(()=>{o("close")})};return Pt(()=>t.modelValue,a=>{a?i.setData({...a,date:a.date.split("T")[0]}):i.reset()},{immediate:!0}),(a,l)=>(g(),re(Uo,{"external-form":f(i),onSubmit:r,onCancel:l[4]||(l[4]=c=>o("close"))},{title:W(()=>[J(d(f(i).id?a.__("Edit Holiday"):a.__("Add Holiday")),1)]),default:W(()=>[n("div",sre,[n("div",nre,[n("label",ore,[J(d(a.__("Holiday Name"))+" ",1),l[5]||(l[5]=n("span",{class:"text-red-500"},"*",-1))]),n("div",ire,[z(n("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>f(i).name=c),type:"text",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(i).errors.name}]),placeholder:a.__("e.g., New Year's Day"),required:""},null,10,rre),[[K,f(i).name]]),f(i).errors.name?(g(),y("p",are,d(f(i).errors.name),1)):j("",!0)])]),n("div",lre,[n("label",dre,[J(d(a.__("Date"))+" ",1),l[6]||(l[6]=n("span",{class:"text-red-500"},"*",-1))]),n("div",cre,[z(n("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>f(i).date=c),type:"date",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(i).errors.date}]),required:""},null,2),[[K,f(i).date]]),f(i).errors.date?(g(),y("p",ure,d(f(i).errors.date),1)):j("",!0)])]),n("div",mre,[n("label",fre,d(a.__("Description")),1),n("div",pre,[z(n("textarea",{"onUpdate:modelValue":l[2]||(l[2]=c=>f(i).description=c),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:a.__("Optional description")},null,8,hre),[[K,f(i).description]])])]),n("div",gre,[n("label",_re,d(a.__("Recurring")),1),n("div",vre,[n("div",yre,[z(n("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>f(i).is_recurring=c),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,f(i).is_recurring]]),n("label",xre,d(a.__("This holiday recurs annually")),1)]),n("p",bre,d(a.__("Check this if the holiday repeats every year on the same date")),1)])])])]),_:1},8,["external-form"]))}},kre={key:0,class:"mt-8 flex justify-center"},$re={key:1},Cre={class:"mb-6 flex items-center justify-between"},Sre={class:"text-2xl font-bold text-gray-900"},Mre={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Tre={class:"flex flex-1 gap-2"},Dre={class:"relative w-64 rounded-md shadow-sm"},Are={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Pre=["placeholder"],Ere=["value"],jre=["value"],Rre=["value"],Ire={value:""},Ore={value:"upcoming"},Lre={value:"past"},Fre={class:"ltr:ml-auto rtl:mr-auto"},Nre={class:"flex flex-col"},zre={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Ure={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Bre={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Vre={class:"min-w-full divide-y divide-gray-200"},Hre={class:"divide-y divide-gray-200 bg-white"},qre={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Wre={key:0,class:"ml-2 inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},Kre={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Yre={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Gre={class:"px-6 py-4 text-sm text-gray-500"},Xre={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Jre={__name:"Index",setup(s){const e=E(!0),t=new Date().getFullYear(),o=no("holidays",{search:"",year:t,filter:"",sort_by:"date",sort_order:"asc",per_page:50}),i=at({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{o.get()},300)},l=(c=null)=>{i.model=c,i.show=!0};return Ne(async()=>{await o.get(),e.value=!1}),(c,u)=>e.value?(g(),y("div",kre,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",$re,[n("div",Cre,[n("h1",Sre,d(c.__("Company Holidays")),1)]),n("div",Mre,[n("div",Tre,[n("div",Dre,[n("div",Are,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":u[0]||(u[0]=m=>f(o).params.search=m),type:"search",placeholder:c.__("Search holidays..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,Pre),[[K,f(o).params.search]])]),z(n("select",{"onUpdate:modelValue":u[1]||(u[1]=m=>f(o).params.year=m),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:u[2]||(u[2]=m=>f(o).get())},[n("option",{value:f(t)-1},d(f(t)-1),9,Ere),n("option",{value:f(t)},d(f(t)),9,jre),n("option",{value:f(t)+1},d(f(t)+1),9,Rre)],544),[[xe,f(o).params.year]]),z(n("select",{"onUpdate:modelValue":u[3]||(u[3]=m=>f(o).params.filter=m),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:u[4]||(u[4]=m=>f(o).get())},[n("option",Ire,d(c.__("All")),1),n("option",Ore,d(c.__("Upcoming")),1),n("option",Lre,d(c.__("Past")),1)],544),[[xe,f(o).params.filter]])]),n("div",Fre,[f(sn)("holiday:create")?(g(),re(Le,{key:0,size:"sm",onClick:u[5]||(u[5]=m=>l())},{default:W(()=>[J(d(c.__("Add Holiday")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",Nre,[n("div",zre,[n("div",Ure,[n("div",Bre,[n("table",Vre,[n("thead",null,[n("tr",null,[S(Fe,{name:"holiday",index:f(o),label:c.__("Name"),sort:"name"},null,8,["index","label"]),S(Fe,{name:"holiday",index:f(o),label:c.__("Date"),sort:"date"},null,8,["index","label"]),S(Fe,{name:"holiday",index:f(o),label:c.__("Day")},null,8,["index","label"]),S(Fe,{name:"holiday",index:f(o),label:c.__("Description")},null,8,["index","label"]),u[8]||(u[8]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Hre,[(g(!0),y(oe,null,ue(f(o).data.data,m=>(g(),y("tr",{key:m.id,class:"hover:bg-gray-50"},[n("td",qre,[J(d(m.name)+" ",1),m.is_recurring?(g(),y("span",Wre,d(c.__("Recurring")),1)):j("",!0)]),n("td",Kre,d(new Date(m.date).toLocaleDateString()),1),n("td",Yre,d(new Date(m.date).toLocaleDateString("en-US",{weekday:"long"})),1),n("td",Gre,d(m.description||"-"),1),n("td",Xre,[f(sn)("holiday:update")?(g(),re(f(Un),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:h=>l(m)},null,8,["onClick"])):j("",!0),f(sn)("holiday:delete")?(g(),re(f(Gt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:h=>f(o).deleteIt(m.id)},null,8,["onClick"])):j("",!0)])]))),128))])]),S(Rs,{index:f(o)},null,8,["index"])])])])])]),i.show?(g(),re(bs,{key:0,size:"md",onSaved:u[7]||(u[7]=m=>f(o).get())},{default:W(()=>[S(wre,{"model-value":i.model,onClose:u[6]||(u[6]=m=>i.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}},Qre={class:"border-b border-gray-200 px-6 py-4"},Zre={class:"text-lg font-semibold text-gray-900"},eae={class:"space-y-6 px-6 py-4"},tae={key:0},sae={class:"block text-sm font-medium text-gray-700"},nae={value:""},oae=["value"],iae={key:0,class:"mt-2 text-sm text-red-600"},rae={key:1,class:"rounded-md bg-gray-50 p-4"},aae={class:"flex items-center"},lae={class:"h-10 w-10 flex-shrink-0"},dae={class:"ml-4"},cae={class:"text-sm font-medium text-gray-900"},uae={class:"text-sm text-gray-500"},mae={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},fae={class:"block text-sm font-medium text-gray-700"},pae={key:0,class:"mt-2 text-sm text-red-600"},hae={class:"block text-sm font-medium text-gray-700"},gae={key:0,class:"mt-2 text-sm text-red-600"},_ae={class:"block text-sm font-medium text-gray-700"},vae={key:0,class:"mt-2 text-sm text-red-600"},yae={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},xae={class:"block text-sm font-medium text-gray-700"},bae={key:0,class:"mt-2 text-sm text-red-600"},wae={class:"block text-sm font-medium text-gray-700"},kae={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},$ae={class:"block text-sm font-medium text-gray-700"},Cae={key:0,class:"mt-2 text-sm text-red-600"},Sae={class:"block text-sm font-medium text-gray-700"},Mae={key:0,class:"mt-2 text-sm text-red-600"},Tae={class:"block text-sm font-medium text-gray-700"},Dae={key:0,class:"mt-2 text-sm text-red-600"},Aae={class:"border-t border-gray-200 pt-6"},Pae={class:"flex items-center justify-between mb-4"},Eae={class:"text-lg font-medium text-gray-900"},jae={key:0,class:"text-center text-gray-500 py-4"},Rae={key:1,class:"space-y-3"},Iae={class:"flex-1 grid grid-cols-1 gap-3 sm:grid-cols-4"},Oae=["onUpdate:modelValue"],Lae={value:"allowance"},Fae={value:"bonus"},Nae={value:"deduction"},zae={class:"sm:col-span-2"},Uae=["onUpdate:modelValue","placeholder"],Bae=["onUpdate:modelValue","placeholder"],Vae=["onClick"],Hae={class:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-6"},qae={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Wae={class:"text-sm font-medium text-gray-500"},Kae={class:"mt-1 text-2xl font-bold text-gray-900"},Yae={class:"text-sm font-medium text-gray-500"},Gae={class:"mt-1 text-2xl font-bold text-red-600"},Xae={class:"text-sm font-medium text-gray-500"},Jae={class:"mt-1 text-2xl font-bold text-green-600"},Qae={class:"block text-sm font-medium text-gray-700"},Zae=["placeholder"],ele={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},tle={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var k,C,$,A,R,T,F,L,D,N,P,U,ye,le,de;const t=s,o=e,i=E([]),r=E(!1),a=E({}),l=()=>{const q=new Date;return`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`},c=q=>{const[ne,G]=q.split("-").map(Number),ie=new Date(ne,G-1,1),$e=new Date(ne,G,0);return{start:ie.toISOString().split("T")[0],end:$e.toISOString().split("T")[0]}},u=at({user_id:((k=t.modelValue)==null?void 0:k.user_id)||"",payroll_period:((C=t.modelValue)==null?void 0:C.payroll_period)||l(),period_start:((A=($=t.modelValue)==null?void 0:$.period_start)==null?void 0:A.split("T")[0])||c(l()).start,period_end:((T=(R=t.modelValue)==null?void 0:R.period_end)==null?void 0:T.split("T")[0])||c(l()).end,basic_salary:((F=t.modelValue)==null?void 0:F.basic_salary)||0,allowances:((L=t.modelValue)==null?void 0:L.allowances)||0,bonuses:((D=t.modelValue)==null?void 0:D.bonuses)||0,deductions:((N=t.modelValue)==null?void 0:N.deductions)||0,gross_salary:((P=t.modelValue)==null?void 0:P.gross_salary)||0,net_salary:((U=t.modelValue)==null?void 0:U.net_salary)||0,currency:((ye=t.modelValue)==null?void 0:ye.currency)||"MWK",notes:((le=t.modelValue)==null?void 0:le.notes)||"",items:((de=t.modelValue)==null?void 0:de.items)||[]}),m=()=>{if(u.payroll_period){const{start:q,end:ne}=c(u.payroll_period);u.period_start=q,u.period_end=ne}},h=()=>{u.gross_salary=(u.basic_salary||0)+(u.allowances||0)+(u.bonuses||0),u.net_salary=u.gross_salary-(u.deductions||0)},p=()=>{let q=0,ne=0,G=0;u.items.forEach(ie=>{const $e=parseFloat(ie.amount)||0;ie.item_type==="allowance"?q+=$e:ie.item_type==="bonus"?ne+=$e:ie.item_type==="deduction"&&(G+=$e)}),u.allowances=q,u.bonuses=ne,u.deductions=G,h()},_=()=>{u.items.push({item_type:"allowance",description:"",amount:0,category:""})},v=q=>{u.items.splice(q,1),p()},x=q=>new Intl.NumberFormat().format(q||0)+" "+u.currency,w=async()=>{try{const q=await ce.get("users");i.value=q.data.data}catch{}},b=async()=>{var G,ie;r.value=!0,a.value={};const q=t.modelValue?`payrolls/${t.modelValue.id}`:"payrolls",ne={user_id:u.user_id,payroll_period:u.payroll_period,period_start:u.period_start,period_end:u.period_end,basic_salary:parseFloat(u.basic_salary)||0,allowances:parseFloat(u.allowances)||0,bonuses:parseFloat(u.bonuses)||0,deductions:parseFloat(u.deductions)||0,currency:u.currency,notes:u.notes,items:u.items.filter($e=>$e.description&&$e.amount>0)};try{t.modelValue?await ce.put(q,ne):await ce.post(q,ne),o("saved"),o("close")}catch($e){(ie=(G=$e.response)==null?void 0:G.data)!=null&&ie.errors&&(a.value=$e.response.data.errors)}finally{r.value=!1}};return Ne(()=>{t.modelValue||w(),h()}),Pt(()=>t.modelValue,q=>{var ne,G;q&&(Object.assign(u,{user_id:q.user_id,payroll_period:q.payroll_period||l(),period_start:((ne=q.period_start)==null?void 0:ne.split("T")[0])||c(l()).start,period_end:((G=q.period_end)==null?void 0:G.split("T")[0])||c(l()).end,basic_salary:q.basic_salary||0,allowances:q.allowances||0,bonuses:q.bonuses||0,deductions:q.deductions||0,gross_salary:q.gross_salary||0,net_salary:q.net_salary||0,currency:q.currency||"MWK",notes:q.notes||"",items:q.items||[]}),h())},{immediate:!0}),(q,ne)=>(g(),y("div",null,[n("div",Qre,[n("h2",Zre,d(s.modelValue?q.__("Edit Payroll"):q.__("Create Payroll")),1)]),n("div",eae,[s.modelValue?(g(),y("div",rae,[n("div",aae,[n("div",lae,[S(cs,{user:s.modelValue.user,size:"10"},null,8,["user"])]),n("div",dae,[n("div",cae,d(s.modelValue.user.name),1),n("div",uae,d(s.modelValue.user.email),1)])])])):(g(),y("div",tae,[n("label",sae,[J(d(q.__("Employee"))+" ",1),ne[11]||(ne[11]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":ne[0]||(ne[0]=G=>u.user_id=G),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",nae,d(q.__("Select Employee")),1),(g(!0),y(oe,null,ue(i.value,G=>(g(),y("option",{key:G.id,value:G.id},d(G.name),9,oae))),128))],512),[[xe,u.user_id]]),a.value.user_id?(g(),y("p",iae,d(a.value.user_id[0]),1)):j("",!0)])),n("div",mae,[n("div",null,[n("label",fae,[J(d(q.__("Payroll Period"))+" ",1),ne[12]||(ne[12]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ne[1]||(ne[1]=G=>u.payroll_period=G),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onChange:m},null,544),[[K,u.payroll_period]]),a.value.payroll_period?(g(),y("p",pae,d(a.value.payroll_period[0]),1)):j("",!0)]),n("div",null,[n("label",hae,[J(d(q.__("Period Start"))+" ",1),ne[13]||(ne[13]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ne[2]||(ne[2]=G=>u.period_start=G),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[K,u.period_start]]),a.value.period_start?(g(),y("p",gae,d(a.value.period_start[0]),1)):j("",!0)]),n("div",null,[n("label",_ae,[J(d(q.__("Period End"))+" ",1),ne[14]||(ne[14]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ne[3]||(ne[3]=G=>u.period_end=G),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[K,u.period_end]]),a.value.period_end?(g(),y("p",vae,d(a.value.period_end[0]),1)):j("",!0)])]),n("div",yae,[n("div",null,[n("label",xae,[J(d(q.__("Basic Salary"))+" ",1),ne[15]||(ne[15]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ne[4]||(ne[4]=G=>u.basic_salary=G),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:h},null,544),[[K,u.basic_salary,void 0,{number:!0}]]),a.value.basic_salary?(g(),y("p",bae,d(a.value.basic_salary[0]),1)):j("",!0)]),n("div",null,[n("label",wae,d(q.__("Currency")),1),z(n("select",{"onUpdate:modelValue":ne[5]||(ne[5]=G=>u.currency=G),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...ne[16]||(ne[16]=[n("option",{value:"MWK"},"MWK (Malawian Kwacha)",-1),n("option",{value:"USD"},"USD (US Dollar)",-1),n("option",{value:"EUR"},"EUR (Euro)",-1),n("option",{value:"GBP"},"GBP (British Pound)",-1)])],512),[[xe,u.currency]])])]),n("div",kae,[n("div",null,[n("label",$ae,d(q.__("Total Allowances")),1),z(n("input",{"onUpdate:modelValue":ne[6]||(ne[6]=G=>u.allowances=G),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[K,u.allowances,void 0,{number:!0}]]),a.value.allowances?(g(),y("p",Cae,d(a.value.allowances[0]),1)):j("",!0)]),n("div",null,[n("label",Sae,d(q.__("Total Bonuses")),1),z(n("input",{"onUpdate:modelValue":ne[7]||(ne[7]=G=>u.bonuses=G),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[K,u.bonuses,void 0,{number:!0}]]),a.value.bonuses?(g(),y("p",Mae,d(a.value.bonuses[0]),1)):j("",!0)]),n("div",null,[n("label",Tae,d(q.__("Total Deductions")),1),z(n("input",{"onUpdate:modelValue":ne[8]||(ne[8]=G=>u.deductions=G),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[K,u.deductions,void 0,{number:!0}]]),a.value.deductions?(g(),y("p",Dae,d(a.value.deductions[0]),1)):j("",!0)])]),n("div",Aae,[n("div",Pae,[n("h3",Eae,d(q.__("Payroll Items")),1),S(Le,{size:"sm",variant:"secondary",onClick:_},{default:W(()=>[S(f(gs),{class:"mr-1 h-4 w-4"}),J(" "+d(q.__("Add Item")),1)]),_:1})]),u.items.length===0?(g(),y("div",jae,d(q.__('No items added. Click "Add Item" to add allowances, bonuses, or deductions.')),1)):(g(),y("div",Rae,[(g(!0),y(oe,null,ue(u.items,(G,ie)=>(g(),y("div",{key:ie,class:"flex items-start gap-3 rounded-lg border border-gray-200 p-3"},[n("div",Iae,[n("div",null,[z(n("select",{"onUpdate:modelValue":$e=>G.item_type=$e,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[n("option",Lae,d(q.__("Allowance")),1),n("option",Fae,d(q.__("Bonus")),1),n("option",Nae,d(q.__("Deduction")),1)],40,Oae),[[xe,G.item_type]])]),n("div",zae,[z(n("input",{"onUpdate:modelValue":$e=>G.description=$e,type:"text",placeholder:q.__("Description"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Uae),[[K,G.description]])]),n("div",null,[z(n("input",{"onUpdate:modelValue":$e=>G.amount=$e,type:"number",step:"0.01",placeholder:q.__("Amount"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:p},null,40,Bae),[[K,G.amount,void 0,{number:!0}]])])]),n("button",{type:"button",class:"text-red-500 hover:text-red-700",onClick:$e=>v(ie)},[S(f(Gt),{class:"h-5 w-5"})],8,Vae)]))),128))]))]),n("div",Hae,[n("div",qae,[n("div",null,[n("div",Wae,d(q.__("Gross Salary")),1),n("div",Kae,d(x(u.gross_salary)),1)]),n("div",null,[n("div",Yae,d(q.__("Total Deductions")),1),n("div",Gae,d(x(u.deductions)),1)]),n("div",null,[n("div",Xae,d(q.__("Net Salary")),1),n("div",Jae,d(x(u.net_salary)),1)])])]),n("div",null,[n("label",Qae,d(q.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":ne[9]||(ne[9]=G=>u.notes=G),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:q.__("Optional notes")},null,8,Zae),[[K,u.notes]])])]),n("div",ele,[S(Le,{variant:"secondary",onClick:ne[10]||(ne[10]=G=>q.$emit("close"))},{default:W(()=>[J(d(q.__("Cancel")),1)]),_:1}),S(Le,{disabled:r.value,onClick:b},{default:W(()=>[J(d(s.modelValue?q.__("Update Payroll"):q.__("Create Payroll")),1)]),_:1},8,["disabled"])])]))}},sle={key:0,class:"mt-8 flex justify-center"},nle={key:1},ole={class:"mb-6"},ile={class:"text-2xl font-bold text-gray-900"},rle={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},ale={class:"overflow-hidden rounded-lg bg-white shadow"},lle={class:"p-5"},dle={class:"flex items-center"},cle={class:"flex-shrink-0"},ule={class:"ml-5 w-0 flex-1"},mle={class:"truncate text-sm font-medium text-gray-500"},fle={class:"text-lg font-semibold text-gray-900"},ple={class:"overflow-hidden rounded-lg bg-white shadow"},hle={class:"p-5"},gle={class:"flex items-center"},_le={class:"flex-shrink-0"},vle={class:"ml-5 w-0 flex-1"},yle={class:"truncate text-sm font-medium text-gray-500"},xle={class:"text-lg font-semibold text-gray-900"},ble={class:"overflow-hidden rounded-lg bg-white shadow"},wle={class:"p-5"},kle={class:"flex items-center"},$le={class:"flex-shrink-0"},Cle={class:"ml-5 w-0 flex-1"},Sle={class:"truncate text-sm font-medium text-gray-500"},Mle={class:"text-lg font-semibold text-gray-900"},Tle={class:"overflow-hidden rounded-lg bg-white shadow"},Dle={class:"p-5"},Ale={class:"flex items-center"},Ple={class:"flex-shrink-0"},Ele={class:"ml-5 w-0 flex-1"},jle={class:"truncate text-sm font-medium text-gray-500"},Rle={class:"text-lg font-semibold text-gray-900"},Ile={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Ole={class:"flex flex-1 gap-2"},Lle={class:"relative w-64 rounded-md shadow-sm"},Fle={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Nle=["placeholder"],zle={value:""},Ule={value:"draft"},Ble={value:"approved"},Vle={value:"paid"},Hle={value:"sent"},qle={class:"flex gap-2"},Wle={class:"flex flex-col"},Kle={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Yle={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Gle={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Xle={class:"min-w-full divide-y divide-gray-200"},Jle={class:"divide-y divide-gray-200 bg-white"},Qle={key:0,class:"hover:bg-gray-50"},Zle={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},ede={class:"whitespace-nowrap px-6 py-4"},tde={class:"flex items-center"},sde={class:"h-10 w-10 flex-shrink-0"},nde={class:"ml-4"},ode={class:"text-sm font-medium text-gray-900"},ide={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},rde={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ade={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold text-gray-900"},lde={class:"whitespace-nowrap px-6 py-4 text-sm"},dde={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},cde={class:"flex items-center justify-end gap-2"},ude={class:"border-b border-gray-200 px-6 py-4"},mde={class:"text-lg font-semibold text-gray-900"},fde={class:"space-y-4 px-6 py-4"},pde={class:"block text-sm font-medium text-gray-700"},hde={class:"text-sm text-gray-600"},gde={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},_de={__name:"Index",setup(s){const e=gn(),t=E(!0),o=E(null),i=no("payrolls",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=at({show:!1,model:null}),a=at({show:!1,month:new Date().toISOString().slice(0,7)});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{i.get()},300)},u=(w=null)=>{r.model=w,r.show=!0},m=()=>{a.show=!0},h=async()=>{try{const w=await ce.post("payrolls/generate",{month:a.month});alert(w.data.message),a.show=!1,i.get()}catch{alert("Failed to generate payroll")}},p=async w=>{if(confirm("Are you sure you want to approve this payroll?"))try{await ce.post(`payrolls/${w}/approve`),i.get(),x()}catch{}},_=async w=>{if(confirm("Mark this payroll as paid?"))try{await ce.post(`payrolls/${w}/mark-as-paid`),i.get(),x()}catch{}},v=w=>{e.push(`/payrolls/${w}`)},x=async()=>{try{const w=await ce.get("payrolls/statistics");o.value=w.data.data}catch{}};return Ne(async()=>{try{await i.get(),await x(),t.value=!1}catch{t.value=!1}}),(w,b)=>{var k,C,$;return t.value?(g(),y("div",sle,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",nle,[n("div",ole,[n("h1",ile,d(w.__("Payroll Management")),1)]),o.value?(g(),y("div",rle,[n("div",ale,[n("div",lle,[n("div",dle,[n("div",cle,[S(f(Vc),{class:"h-6 w-6 text-gray-400"})]),n("div",ule,[n("dl",null,[n("dt",mle,d(w.__("Draft")),1),n("dd",fle,d(o.value.draft),1)])])])])]),n("div",ple,[n("div",hle,[n("div",gle,[n("div",_le,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",vle,[n("dl",null,[n("dt",yle,d(w.__("Approved")),1),n("dd",xle,d(o.value.approved),1)])])])])]),n("div",ble,[n("div",wle,[n("div",kle,[n("div",$le,[S(f(Ys),{class:"h-6 w-6 text-blue-400"})]),n("div",Cle,[n("dl",null,[n("dt",Sle,d(w.__("Paid")),1),n("dd",Mle,d(o.value.paid),1)])])])])]),n("div",Tle,[n("div",Dle,[n("div",Ale,[n("div",Ple,[S(f(bi),{class:"h-6 w-6 text-yellow-400"})]),n("div",Ele,[n("dl",null,[n("dt",jle,d(w.__("This Month")),1),n("dd",Rle,d(new Intl.NumberFormat().format(o.value.this_month_total)),1)])])])])])])):j("",!0),n("div",Ile,[n("div",Ole,[n("div",Lle,[n("div",Fle,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":b[0]||(b[0]=A=>f(i).params.search=A),type:"search",placeholder:w.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,Nle),[[K,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":b[1]||(b[1]=A=>f(i).params.status=A),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b[2]||(b[2]=A=>f(i).get())},[n("option",zle,d(w.__("All Statuses")),1),n("option",Ule,d(w.__("Draft")),1),n("option",Ble,d(w.__("Approved")),1),n("option",Vle,d(w.__("Paid")),1),n("option",Hle,d(w.__("Sent")),1)],544),[[xe,f(i).params.status]])]),n("div",qle,[S(Le,{variant:"secondary",onClick:m},{default:W(()=>[S(f(f$),{class:"mr-2 h-4 w-4"}),J(" "+d(w.__("Generate Payroll")),1)]),_:1}),f(sn)("payroll:create")?(g(),re(Le,{key:0,onClick:b[3]||(b[3]=A=>u())},{default:W(()=>[J(d(w.__("Create Payroll")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",Wle,[n("div",Kle,[n("div",Yle,[n("div",Gle,[n("table",Xle,[n("thead",null,[n("tr",null,[S(Fe,{name:"payroll",index:f(i),label:w.__("Employee")},null,8,["index","label"]),S(Fe,{name:"payroll",index:f(i),label:w.__("Period"),sort:"payroll_period"},null,8,["index","label"]),S(Fe,{name:"payroll",index:f(i),label:w.__("Basic Salary"),sort:"basic_salary"},null,8,["index","label"]),S(Fe,{name:"payroll",index:f(i),label:w.__("Net Salary"),sort:"net_salary"},null,8,["index","label"]),S(Fe,{name:"payroll",index:f(i),label:w.__("Status"),sort:"status"},null,8,["index","label"]),b[8]||(b[8]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Jle,[(C=(k=f(i).data)==null?void 0:k.data)!=null&&C.length?j("",!0):(g(),y("tr",Qle,[n("td",Zle,d(w.__("No payrolls found")),1)])),(g(!0),y(oe,null,ue((($=f(i).data)==null?void 0:$.data)||[],A=>(g(),y("tr",{key:A.id,class:"hover:bg-gray-50"},[n("td",ede,[n("div",tde,[n("div",sde,[S(cs,{user:A.user,size:"10"},null,8,["user"])]),n("div",nde,[n("div",ode,d(A.user.name),1)])])]),n("td",ide,d(A.payroll_period),1),n("td",rde,d(new Intl.NumberFormat().format(A.basic_salary))+" "+d(A.currency),1),n("td",ade,d(new Intl.NumberFormat().format(A.net_salary))+" "+d(A.currency),1),n("td",lde,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-gray-100 text-gray-800":A.status==="draft","bg-green-100 text-green-800":A.status==="approved","bg-blue-100 text-blue-800":A.status==="paid","bg-purple-100 text-purple-800":A.status==="sent"}])},d(A.status.charAt(0).toUpperCase()+A.status.slice(1)),3)]),n("td",dde,[n("div",cde,[A.status==="draft"&&f(sn)("payroll:approve")?(g(),re(Le,{key:0,size:"xs",variant:"success",onClick:R=>p(A.id)},{default:W(()=>[J(d(w.__("Approve")),1)]),_:1},8,["onClick"])):j("",!0),A.status==="approved"&&f(sn)("payroll:pay")?(g(),re(Le,{key:1,size:"xs",onClick:R=>_(A.id)},{default:W(()=>[J(d(w.__("Mark Paid")),1)]),_:1},8,["onClick"])):j("",!0),S(f(zn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>v(A.id)},null,8,["onClick"]),A.status==="draft"&&f(sn)("payroll:update")?(g(),re(f(Un),{key:2,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>u(A)},null,8,["onClick"])):j("",!0),A.status==="draft"&&f(sn)("payroll:delete")?(g(),re(f(Gt),{key:3,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>f(i).deleteIt(A.id)},null,8,["onClick"])):j("",!0)])])]))),128))])]),S(Rs,{index:f(i)},null,8,["index"])])])])])]),a.show?(g(),re(_o,{key:1,width:"max-w-md"},{default:W(()=>[n("div",ude,[n("h2",mde,d(w.__("Generate Payroll for Month")),1)]),n("div",fde,[n("div",null,[n("label",pde,d(w.__("Month")),1),z(n("input",{"onUpdate:modelValue":b[4]||(b[4]=A=>a.month=A),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[K,a.month]])]),n("p",hde,d(w.__("This will generate draft payroll records for all active employees for the selected month.")),1)]),n("div",gde,[S(Le,{variant:"secondary",onClick:b[5]||(b[5]=A=>a.show=!1)},{default:W(()=>[J(d(w.__("Cancel")),1)]),_:1}),S(Le,{onClick:h},{default:W(()=>[J(d(w.__("Generate")),1)]),_:1})])]),_:1})):j("",!0),r.show?(g(),re(bs,{key:2,size:"2xl",onSaved:b[7]||(b[7]=A=>f(i).get())},{default:W(()=>[S(tle,{"model-value":r.model,onClose:b[6]||(b[6]=A=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},vde={class:"border-b border-gray-200 px-6 py-4"},yde={class:"text-lg font-semibold text-gray-900"},xde={class:"space-y-6 px-6 py-4"},bde={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},wde={class:"block text-sm font-medium text-gray-700"},kde=["placeholder"],$de={key:0,class:"mt-2 text-sm text-red-600"},Cde={class:"block text-sm font-medium text-gray-700"},Sde=["placeholder"],Mde={key:0,class:"mt-2 text-sm text-red-600"},Tde={class:"block text-sm font-medium text-gray-700"},Dde=["placeholder"],Ade={key:0,class:"mt-2 text-sm text-red-600"},Pde={class:"block text-sm font-medium text-gray-700"},Ede=["placeholder"],jde={class:"border-t border-gray-200 pt-6"},Rde={class:"mb-4 text-md font-medium text-gray-900"},Ide={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Ode={class:"block text-sm font-medium text-gray-700"},Lde=["placeholder"],Fde={class:"block text-sm font-medium text-gray-700"},Nde=["placeholder"],zde={class:"block text-sm font-medium text-gray-700"},Ude={key:0,class:"mt-2 text-sm text-red-600"},Bde={class:"block text-sm font-medium text-gray-700"},Vde={value:"prospect"},Hde={value:"active"},qde={value:"inactive"},Wde={key:0,class:"mt-2 text-sm text-red-600"},Kde={class:"border-t border-gray-200 pt-6"},Yde={class:"mb-4 text-md font-medium text-gray-900"},Gde={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Xde={class:"sm:col-span-2"},Jde={class:"block text-sm font-medium text-gray-700"},Qde=["placeholder"],Zde={class:"block text-sm font-medium text-gray-700"},ece={value:""},tce=["value"],sce={class:"block text-sm font-medium text-gray-700"},nce={value:""},oce=["value"],ice=["placeholder"],rce={class:"border-t border-gray-200 pt-6"},ace={class:"block text-sm font-medium text-gray-700"},lce=["placeholder"],dce={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},cce={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=E(!1),r=E({}),a=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],l={Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Kasungu","Mangochi","Karonga","Salima","Nkhotakota","Liwonde","Nsanje","Rumphi","Dedza","Ntcheu","Balaka","Mchinji","Mulanje","Thyolo","Chiradzulu","Phalombe","Chitipa","Nkhata Bay","Likoma","Ntchisi","Dowa","Mwanza","Neno","Chikwawa","Machinga","Monkey Bay","Cape Maclear","Chipoka","Dwangwa","Ekwendeni","Jenda","Luchenza","Lunzu","Migowi","Mponela","Mzimba","Nkaya","Songwe","Thekerani","Chilumba","Embangweni","Livingstonia","Makanjira","Malomo","Namitete"],Zambia:["Lusaka","Kitwe","Ndola","Kabwe","Chingola","Mufulira","Livingstone","Luanshya","Kasama","Chipata","Kalulushi","Mazabuka","Mongu","Solwezi","Choma","Kafue","Mansa","Mpika","Petauke","Senanga"],Tanzania:["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar City","Kigoma","Moshi","Tabora","Songea","Musoma","Shinyanga","Iringa","Sumbawanga","Mtwara","Lindi","Bukoba","Singida"],Mozambique:["Maputo","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Lichinga","Pemba","Xai-Xai","Maxixe","Inhambane","Cuamba","Montepuez","Chokwe","Dondo","Angoche","Mocuba","Guru","Matola"],Zimbabwe:["Harare","Bulawayo","Chitungwiza","Mutare","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Marondera","Norton","Chegutu","Bindura","Beitbridge","Victoria Falls","Hwange","Kariba","Rusape","Chiredzi","Zvishavane"],"South Africa":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Polokwane","Nelspruit","Kimberley","Rustenburg","Pietermaritzburg","Vanderbijlpark","Soweto","Benoni","Tembisa","Welkom","Midrand","Sandton","Centurion"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Malindi","Kitale","Garissa","Nyeri","Machakos","Meru","Lamu","Naivasha","Embu","Kakamega","Kericho","Bungoma","Migori","Kilifi"],Uganda:["Kampala","Gulu","Lira","Mbarara","Jinja","Mbale","Mukono","Masaka","Entebbe","Kasese","Hoima","Arua","Fort Portal","Soroti","Kabale","Tororo","Iganga","Mityana","Mubende","Masindi"],Botswana:["Gaborone","Francistown","Molepolole","Serowe","Selibe Phikwe","Maun","Kanye","Mahalapye","Mogoditshane","Mochudi","Lobatse","Palapye","Ramotswa","Thamaga","Jwaneng","Letlhakane","Orapa","Kasane","Nata","Ghanzi"],"United Kingdom":["London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Leicester","Coventry","Bradford","Cardiff","Belfast","Nottingham","Newcastle","Southampton","Brighton","Plymouth","Oxford"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington D.C.","Boston","Nashville","Detroit","Portland","Las Vegas","Miami","Atlanta"],China:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin","Suzhou","Chongqing","Qingdao","Dalian","Xiamen","Ningbo","Zhengzhou","Changsha","Dongguan","Shenyang"],India:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Ahmedabad","Pune","Surat","Jaipur","Lucknow","Kanpur","Nagpur","Patna","Indore","Thane","Bhopal","Visakhapatnam","Vadodara","Coimbatore"],Nigeria:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Abeokuta","Sokoto","Onitsha","Warri","Calabar","Uyo","Kaduna"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Tema","Cape Coast","Sekondi","Obuasi","Teshie","Koforidua","Sunyani","Ho","Wa","Bolgatanga","Techiman","Nungua","Madina","Kasoa","Aflao"],Ethiopia:["Addis Ababa","Dire Dawa","Mekelle","Gondar","Hawassa","Bahir Dar","Adama","Jimma","Dessie","Jijiga","Harar","Shashamane","Debre Birhan","Arba Minch","Hosaena","Dilla","Nekemte","Asella","Debre Markos","Kombolcha"],Rwanda:["Kigali","Butare","Gitarama","Ruhengeri","Gisenyi","Byumba","Cyangugu","Nyanza","Kibungo","Kibuye"],Burundi:["Bujumbura","Gitega","Muyinga","Ruyigi","Ngozi","Rutana","Bururi","Makamba","Kayanza","Muramvya"],"Democratic Republic of the Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Tshikapa","Kolwezi","Likasi","Goma"]},c=Me(()=>u.country&&l[u.country]?[...l[u.country]].sort():[]);Pt(()=>u.country,(h,p)=>{p&&h!==p&&((l[h]||[]).includes(u.city)||(u.city=""))});const u=at({name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"}),m=async()=>{var p,_;i.value=!0,r.value={};const h=t.modelValue?`clients/${t.modelValue.id}`:"clients";try{t.modelValue?await ce.put(h,u):await ce.post(h,u),o("saved"),o("close")}catch(v){(_=(p=v.response)==null?void 0:p.data)!=null&&_.errors&&(r.value=v.response.data.errors)}finally{i.value=!1}};return Pt(()=>t.modelValue,h=>{h?Object.assign(u,{name:h.name||"",email:h.email||"",phone:h.phone||"",secondary_phone:h.secondary_phone||"",company_name:h.company_name||"",business_type:h.business_type||"",address:h.address||"",city:h.city||"",country:h.country||"",website:h.website||"",notes:h.notes||"",status:h.status||"prospect"}):Object.assign(u,{name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"})},{immediate:!0}),(h,p)=>(g(),y("div",null,[n("div",vde,[n("h2",yde,d(s.modelValue?h.__("Edit Client"):h.__("Add Client")),1)]),n("div",xde,[n("div",bde,[n("div",null,[n("label",wde,[J(d(h.__("Name"))+" ",1),p[14]||(p[14]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":p[0]||(p[0]=_=>u.name=_),type:"text",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.name}]),placeholder:h.__("Client name"),required:""},null,10,kde),[[K,u.name]]),r.value.name?(g(),y("p",$de,d(r.value.name[0]),1)):j("",!0)]),n("div",null,[n("label",Cde,d(h.__("Email")),1),z(n("input",{"onUpdate:modelValue":p[1]||(p[1]=_=>u.email=_),type:"email",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),placeholder:h.__("email@example.com")},null,10,Sde),[[K,u.email]]),r.value.email?(g(),y("p",Mde,d(r.value.email[0]),1)):j("",!0)]),n("div",null,[n("label",Tde,d(h.__("Phone")),1),z(n("input",{"onUpdate:modelValue":p[2]||(p[2]=_=>u.phone=_),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Primary phone number")},null,8,Dde),[[K,u.phone]]),r.value.phone?(g(),y("p",Ade,d(r.value.phone[0]),1)):j("",!0)]),n("div",null,[n("label",Pde,d(h.__("Secondary Phone")),1),z(n("input",{"onUpdate:modelValue":p[3]||(p[3]=_=>u.secondary_phone=_),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Alternative phone number")},null,8,Ede),[[K,u.secondary_phone]])])]),n("div",jde,[n("h3",Rde,d(h.__("Company Information")),1),n("div",Ide,[n("div",null,[n("label",Ode,d(h.__("Company Name")),1),z(n("input",{"onUpdate:modelValue":p[4]||(p[4]=_=>u.company_name=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Company or organization name")},null,8,Lde),[[K,u.company_name]])]),n("div",null,[n("label",Fde,d(h.__("Business Type")),1),z(n("input",{"onUpdate:modelValue":p[5]||(p[5]=_=>u.business_type=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("e.g., Retail, Technology, Healthcare")},null,8,Nde),[[K,u.business_type]])]),n("div",null,[n("label",zde,d(h.__("Website")),1),z(n("input",{"onUpdate:modelValue":p[6]||(p[6]=_=>u.website=_),type:"url",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.website}]),placeholder:"https://example.com"},null,2),[[K,u.website]]),r.value.website?(g(),y("p",Ude,d(r.value.website[0]),1)):j("",!0)]),n("div",null,[n("label",Bde,[J(d(h.__("Status"))+" ",1),p[15]||(p[15]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":p[7]||(p[7]=_=>u.status=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",Vde,d(h.__("Prospect")),1),n("option",Hde,d(h.__("Active")),1),n("option",qde,d(h.__("Inactive")),1)],512),[[xe,u.status]]),r.value.status?(g(),y("p",Wde,d(r.value.status[0]),1)):j("",!0)])])]),n("div",Kde,[n("h3",Yde,d(h.__("Address")),1),n("div",Gde,[n("div",Xde,[n("label",Jde,d(h.__("Address")),1),z(n("textarea",{"onUpdate:modelValue":p[8]||(p[8]=_=>u.address=_),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Street address")},null,8,Qde),[[K,u.address]])]),n("div",null,[n("label",Zde,d(h.__("Country")),1),z(n("select",{"onUpdate:modelValue":p[9]||(p[9]=_=>u.country=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",ece,d(h.__("Select Country")),1),(g(),y(oe,null,ue(a,_=>n("option",{key:_,value:_},d(_),9,tce)),64))],512),[[xe,u.country]])]),n("div",null,[n("label",sce,d(h.__("City")),1),c.value.length>0?z((g(),y("select",{key:0,"onUpdate:modelValue":p[10]||(p[10]=_=>u.city=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",nce,d(h.__("Select City")),1),(g(!0),y(oe,null,ue(c.value,_=>(g(),y("option",{key:_,value:_},d(_),9,oce))),128))],512)),[[xe,u.city]]):z((g(),y("input",{key:1,"onUpdate:modelValue":p[11]||(p[11]=_=>u.city=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:u.country?h.__("Enter city name"):h.__("Select country first")},null,8,ice)),[[K,u.city]])])])]),n("div",rce,[n("label",ace,d(h.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":p[12]||(p[12]=_=>u.notes=_),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Additional notes about this client")},null,8,lce),[[K,u.notes]])])]),n("div",dce,[S(Le,{variant:"secondary",onClick:p[13]||(p[13]=_=>h.$emit("close"))},{default:W(()=>[J(d(h.__("Cancel")),1)]),_:1}),S(Le,{disabled:i.value,onClick:m},{default:W(()=>[J(d(s.modelValue?h.__("Update Client"):h.__("Create Client")),1)]),_:1},8,["disabled"])])]))}},uce={key:0,class:"mt-8 flex justify-center"},mce={key:1},fce={class:"mb-6"},pce={class:"text-2xl font-bold text-gray-900"},hce={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},gce={class:"overflow-hidden rounded-lg bg-white shadow"},_ce={class:"p-5"},vce={class:"flex items-center"},yce={class:"flex-shrink-0"},xce={class:"ml-5 w-0 flex-1"},bce={class:"truncate text-sm font-medium text-gray-500"},wce={class:"text-lg font-semibold text-gray-900"},kce={class:"overflow-hidden rounded-lg bg-white shadow"},$ce={class:"p-5"},Cce={class:"flex items-center"},Sce={class:"flex-shrink-0"},Mce={class:"ml-5 w-0 flex-1"},Tce={class:"truncate text-sm font-medium text-gray-500"},Dce={class:"text-lg font-semibold text-gray-900"},Ace={class:"overflow-hidden rounded-lg bg-white shadow"},Pce={class:"p-5"},Ece={class:"flex items-center"},jce={class:"flex-shrink-0"},Rce={class:"ml-5 w-0 flex-1"},Ice={class:"truncate text-sm font-medium text-gray-500"},Oce={class:"text-lg font-semibold text-gray-900"},Lce={class:"overflow-hidden rounded-lg bg-white shadow"},Fce={class:"p-5"},Nce={class:"flex items-center"},zce={class:"flex-shrink-0"},Uce={class:"ml-5 w-0 flex-1"},Bce={class:"truncate text-sm font-medium text-gray-500"},Vce={class:"text-lg font-semibold text-gray-900"},Hce={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},qce={class:"flex flex-1 gap-2"},Wce={class:"relative w-64 rounded-md shadow-sm"},Kce={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Yce=["placeholder"],Gce={value:""},Xce={value:"active"},Jce={value:"inactive"},Qce={value:"prospect"},Zce={class:"flex gap-2"},eue={class:"flex flex-col"},tue={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},sue={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},nue={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},oue={class:"min-w-full divide-y divide-gray-200"},iue={class:"divide-y divide-gray-200 bg-white"},rue={key:0,class:"hover:bg-gray-50"},aue={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},lue={class:"whitespace-nowrap px-6 py-4"},due={class:"flex items-center"},cue={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},uue={class:"text-sm font-medium text-indigo-600"},mue={class:"ml-4"},fue={class:"text-sm font-medium text-gray-900"},pue={key:0,class:"text-sm text-gray-500"},hue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},gue={key:0},_ue={key:1,class:"text-xs text-gray-400"},vue={key:2},yue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},xue={key:0},bue={key:1,class:"text-xs text-gray-400"},wue={key:2},kue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},$ue={key:0},Cue={key:1},Sue={class:"whitespace-nowrap px-6 py-4 text-sm"},Mue={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Tue={class:"flex items-center justify-end gap-2"},Due={__name:"Index",setup(s){const e=gn(),t=E(!0),o=E(null),i=no("clients",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=at({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},c=(p=null)=>{r.model=p,r.show=!0},u=p=>{e.push(`/clients/${p}`)},m=()=>{i.get(),h()},h=async()=>{try{const p=await ce.get("clients/statistics");o.value=p.data.data}catch{}};return Ne(async()=>{try{await i.get(),await h(),t.value=!1}catch{t.value=!1}}),(p,_)=>{var v,x,w;return t.value?(g(),y("div",uce,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",mce,[n("div",fce,[n("h1",pce,d(p.__("Client Management")),1)]),o.value?(g(),y("div",hce,[n("div",gce,[n("div",_ce,[n("div",vce,[n("div",yce,[S(f(Yr),{class:"h-6 w-6 text-gray-400"})]),n("div",xce,[n("dl",null,[n("dt",bce,d(p.__("Total Clients")),1),n("dd",wce,d(o.value.total),1)])])])])]),n("div",kce,[n("div",$ce,[n("div",Cce,[n("div",Sce,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",Mce,[n("dl",null,[n("dt",Tce,d(p.__("Active")),1),n("dd",Dce,d(o.value.active),1)])])])])]),n("div",Ace,[n("div",Pce,[n("div",Ece,[n("div",jce,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",Rce,[n("dl",null,[n("dt",Ice,d(p.__("Prospects")),1),n("dd",Oce,d(o.value.prospect),1)])])])])]),n("div",Lce,[n("div",Fce,[n("div",Nce,[n("div",zce,[S(f(mn),{class:"h-6 w-6 text-red-400"})]),n("div",Uce,[n("dl",null,[n("dt",Bce,d(p.__("Inactive")),1),n("dd",Vce,d(o.value.inactive),1)])])])])])])):j("",!0),n("div",Hce,[n("div",qce,[n("div",Wce,[n("div",Kce,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":_[0]||(_[0]=b=>f(i).params.search=b),type:"search",placeholder:p.__("Search clients..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Yce),[[K,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":_[1]||(_[1]=b=>f(i).params.status=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:_[2]||(_[2]=b=>f(i).get())},[n("option",Gce,d(p.__("All Statuses")),1),n("option",Xce,d(p.__("Active")),1),n("option",Jce,d(p.__("Inactive")),1),n("option",Qce,d(p.__("Prospect")),1)],544),[[xe,f(i).params.status]])]),n("div",Zce,[S(Le,{onClick:_[3]||(_[3]=b=>c())},{default:W(()=>[S(f(gs),{class:"mr-2 h-4 w-4"}),J(" "+d(p.__("Add Client")),1)]),_:1})])]),n("section",null,[n("div",eue,[n("div",tue,[n("div",sue,[n("div",nue,[n("table",oue,[n("thead",null,[n("tr",null,[S(Fe,{name:"client",index:f(i),label:p.__("Name"),sort:"name"},null,8,["index","label"]),S(Fe,{name:"client",index:f(i),label:p.__("Company"),sort:"company_name"},null,8,["index","label"]),S(Fe,{name:"client",index:f(i),label:p.__("Contact")},null,8,["index","label"]),S(Fe,{name:"client",index:f(i),label:p.__("Location")},null,8,["index","label"]),S(Fe,{name:"client",index:f(i),label:p.__("Status"),sort:"status"},null,8,["index","label"]),_[5]||(_[5]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",iue,[(x=(v=f(i).data)==null?void 0:v.data)!=null&&x.length?j("",!0):(g(),y("tr",rue,[n("td",aue,d(p.__("No clients found")),1)])),(g(!0),y(oe,null,ue(((w=f(i).data)==null?void 0:w.data)||[],b=>(g(),y("tr",{key:b.id,class:"hover:bg-gray-50"},[n("td",lue,[n("div",due,[n("div",cue,[n("span",uue,d(b.name.charAt(0).toUpperCase()),1)]),n("div",mue,[n("div",fue,d(b.name),1),b.email?(g(),y("div",pue,d(b.email),1)):j("",!0)])])]),n("td",hue,[b.company_name?(g(),y("div",gue,d(b.company_name),1)):j("",!0),b.business_type?(g(),y("div",_ue,d(b.business_type),1)):j("",!0),b.company_name?j("",!0):(g(),y("span",vue,"-"))]),n("td",yue,[b.phone?(g(),y("div",xue,d(b.phone),1)):j("",!0),b.secondary_phone?(g(),y("div",bue,d(b.secondary_phone),1)):j("",!0),b.phone?j("",!0):(g(),y("span",wue,"-"))]),n("td",kue,[b.city||b.country?(g(),y("div",$ue,d([b.city,b.country].filter(Boolean).join(", ")),1)):(g(),y("span",Cue,"-"))]),n("td",Sue,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":b.status==="active","bg-gray-100 text-gray-800":b.status==="inactive","bg-yellow-100 text-yellow-800":b.status==="prospect"}])},d(b.status.charAt(0).toUpperCase()+b.status.slice(1)),3)]),n("td",Mue,[n("div",Tue,[S(f(zn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:k=>u(b.id)},null,8,["onClick"]),S(f(Un),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:k=>c(b)},null,8,["onClick"]),S(f(Gt),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:k=>f(i).deleteIt(b.id)},null,8,["onClick"])])])]))),128))])]),S(Rs,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),re(bs,{key:1,size:"2xl",onSaved:m},{default:W(()=>[S(cce,{"model-value":r.model,onClose:_[4]||(_[4]=b=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},Aue={class:"border-b border-gray-200 px-6 py-4"},Pue={class:"text-lg font-semibold text-gray-900"},Eue={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},jue={class:"mb-6"},Rue={class:"mb-4 text-md font-medium text-gray-900"},Iue={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Oue={class:"block text-sm font-medium text-gray-700"},Lue={key:0,class:"mt-1 text-sm text-red-600"},Fue={class:"block text-sm font-medium text-gray-700"},Nue={key:0,class:"mt-1 text-sm text-red-600"},zue={class:"block text-sm font-medium text-gray-700"},Uue={class:"block text-sm font-medium text-gray-700"},Bue={class:"mb-6 border-t border-gray-200 pt-6"},Vue={class:"mb-4 text-md font-medium text-gray-900"},Hue={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},que={class:"block text-sm font-medium text-gray-700"},Wue={key:0,class:"mt-1 text-sm text-red-600"},Kue={class:"block text-sm font-medium text-gray-700"},Yue={key:0,class:"mt-1 text-sm text-red-600"},Gue={class:"block text-sm font-medium text-gray-700"},Xue={class:"block text-sm font-medium text-gray-700"},Jue={value:"style_1"},Que={value:"style_2"},Zue={value:"style_3"},e0e={value:"style_4"},t0e={value:"style_5"},s0e={value:"style_6"},n0e={value:"style_7"},o0e={value:"style_8"},i0e={class:"mb-6 border-t border-gray-200 pt-6"},r0e={class:"mb-4 flex items-center justify-between"},a0e={class:"text-md font-medium text-gray-900"},l0e={class:"overflow-hidden rounded-lg border border-gray-200"},d0e={class:"min-w-full divide-y divide-gray-200"},c0e={class:"bg-gray-50"},u0e={class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},m0e={class:"w-24 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},f0e={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},p0e={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},h0e={class:"divide-y divide-gray-200 bg-white"},g0e={class:"px-4 py-2"},_0e=["onUpdate:modelValue","placeholder"],v0e={key:0,class:"mt-1 text-xs text-red-600"},y0e={class:"px-4 py-2"},x0e=["onUpdate:modelValue","onInput"],b0e={class:"px-4 py-2"},w0e=["onUpdate:modelValue","onInput"],k0e={class:"px-4 py-2 text-sm font-medium text-gray-900"},$0e={class:"px-4 py-2"},C0e=["onClick"],S0e={key:0,class:"mt-2 text-sm text-red-600"},M0e={class:"mb-6 flex justify-end"},T0e={class:"w-80 space-y-2"},D0e={class:"flex justify-between text-sm"},A0e={class:"text-gray-600"},P0e={class:"font-medium"},E0e={class:"flex items-center justify-between text-sm"},j0e={class:"text-gray-600"},R0e={class:"flex justify-between text-sm"},I0e={class:"text-gray-600"},O0e={class:"font-medium"},L0e={class:"flex items-center justify-between text-sm"},F0e={class:"text-gray-600"},N0e={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-semibold"},z0e={class:"text-indigo-600"},U0e={class:"border-t border-gray-200 pt-6"},B0e={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},V0e={class:"block text-sm font-medium text-gray-700"},H0e=["placeholder"],q0e={class:"block text-sm font-medium text-gray-700"},W0e=["placeholder"],K0e={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Y0e={class:"block text-sm font-medium text-gray-700"},G0e={value:"draft"},X0e={value:"sent"},J0e={value:"accepted"},Q0e={value:"rejected"},Z0e={value:"expired"},eme={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Bx={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=E(!1),r=E({}),a=()=>({description:"",quantity:1,unit_price:0}),l=at({customer_name:"",customer_email:"",customer_phone:"",customer_address:"",quotation_date:new Date().toISOString().split("T")[0],valid_until:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:"MWK",tax_rate:16.5,discount_amount:0,template:"style_1",notes:"",terms:`Payment is due within 14 days of acceptance.
Prices are valid for 30 days from quotation date.`,status:"draft",items:[a()]}),c=Me(()=>l.items.reduce((w,b)=>w+b.quantity*b.unit_price,0)),u=Me(()=>c.value*(l.tax_rate/100)),m=Me(()=>c.value+u.value-l.discount_amount),h=()=>{l.items.push(a())},p=w=>{l.items.length>1&&l.items.splice(w,1)},_=w=>{const b=l.items[w];b.total=b.quantity*b.unit_price},v=w=>parseFloat(w||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=async()=>{var b,k,C,$;i.value=!0,r.value={};const w=t.modelValue?`quotations/${t.modelValue.id}`:"quotations";try{t.modelValue?await ce.put(w,l):await ce.post(w,l),o("saved"),o("close")}catch(A){(k=(b=A.response)==null?void 0:b.data)!=null&&k.errors?(r.value=A.response.data.errors,alert(`Validation errors:
`+Object.values(A.response.data.errors).flat().join(`
`))):($=(C=A.response)==null?void 0:C.data)!=null&&$.error?alert(`Server error:
`+A.response.data.error+`
File: `+A.response.data.file+`
Line: `+A.response.data.line):alert("Error: "+(A.message||"Unknown error"))}finally{i.value=!1}};return Pt(()=>t.modelValue,w=>{var b;w&&Object.assign(l,{customer_name:w.customer_name||"",customer_email:w.customer_email||"",customer_phone:w.customer_phone||"",customer_address:w.customer_address||"",quotation_date:w.quotation_date?w.quotation_date.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:w.valid_until?w.valid_until.split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:w.currency||"MWK",tax_rate:parseFloat(w.tax_rate)||16.5,discount_amount:parseFloat(w.discount_amount)||0,template:w.template||"style_1",notes:w.notes||"",terms:w.terms||"",status:w.status||"draft",items:(b=w.items)!=null&&b.length?w.items.map(k=>({description:k.description,quantity:k.quantity,unit_price:parseFloat(k.unit_price)})):[a()]})},{immediate:!0}),(w,b)=>(g(),y("div",null,[n("div",Aue,[n("h2",Pue,d(s.modelValue?w.__("Edit Quotation"):w.__("Create Quotation")),1)]),n("div",Eue,[n("div",jue,[n("h3",Rue,d(w.__("Customer Information")),1),n("div",Iue,[n("div",null,[n("label",Oue,[J(d(w.__("Customer Name"))+" ",1),b[14]||(b[14]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":b[0]||(b[0]=k=>l.customer_name=k),type:"text",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_name}])},null,2),[[K,l.customer_name]]),r.value.customer_name?(g(),y("p",Lue,d(r.value.customer_name[0]),1)):j("",!0)]),n("div",null,[n("label",Fue,[J(d(w.__("Email"))+" ",1),b[15]||(b[15]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":b[1]||(b[1]=k=>l.customer_email=k),type:"email",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_email}])},null,2),[[K,l.customer_email]]),r.value.customer_email?(g(),y("p",Nue,d(r.value.customer_email[0]),1)):j("",!0)]),n("div",null,[n("label",zue,d(w.__("Phone")),1),z(n("input",{"onUpdate:modelValue":b[2]||(b[2]=k=>l.customer_phone=k),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.customer_phone]])]),n("div",null,[n("label",Uue,d(w.__("Address")),1),z(n("input",{"onUpdate:modelValue":b[3]||(b[3]=k=>l.customer_address=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.customer_address]])])])]),n("div",Bue,[n("h3",Vue,d(w.__("Quotation Details")),1),n("div",Hue,[n("div",null,[n("label",que,[J(d(w.__("Quotation Date"))+" ",1),b[16]||(b[16]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":b[4]||(b[4]=k=>l.quotation_date=k),type:"date",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.quotation_date}])},null,2),[[K,l.quotation_date]]),r.value.quotation_date?(g(),y("p",Wue,d(r.value.quotation_date[0]),1)):j("",!0)]),n("div",null,[n("label",Kue,[J(d(w.__("Valid Until"))+" ",1),b[17]||(b[17]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":b[5]||(b[5]=k=>l.valid_until=k),type:"date",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.valid_until}])},null,2),[[K,l.valid_until]]),r.value.valid_until?(g(),y("p",Yue,d(r.value.valid_until[0]),1)):j("",!0)]),n("div",null,[n("label",Gue,d(w.__("Currency")),1),z(n("select",{"onUpdate:modelValue":b[6]||(b[6]=k=>l.currency=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...b[18]||(b[18]=[Ps('<option value="MWK">MWK - Malawian Kwacha</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ZAR">ZAR - South African Rand</option>',5)])],512),[[xe,l.currency]])]),n("div",null,[n("label",Xue,d(w.__("Template")),1),z(n("select",{"onUpdate:modelValue":b[7]||(b[7]=k=>l.template=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",Jue,d(w.__("Style 1 - Classic")),1),n("option",Que,d(w.__("Style 2 - Modern")),1),n("option",Zue,d(w.__("Style 3 - Colorful Header")),1),n("option",e0e,d(w.__("Style 4 - Bordered")),1),n("option",t0e,d(w.__("Style 5 - Info Banner")),1),n("option",s0e,d(w.__("Style 6 - Minimal")),1),n("option",n0e,d(w.__("Style 7 - Split Header")),1),n("option",o0e,d(w.__("Style 8 - Elegant")),1)],512),[[xe,l.template]])])])]),n("div",i0e,[n("div",r0e,[n("h3",a0e,d(w.__("Items")),1),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:h},[S(f(gs),{class:"mr-1 h-4 w-4"}),J(" "+d(w.__("Add Item")),1)])]),n("div",l0e,[n("table",d0e,[n("thead",c0e,[n("tr",null,[n("th",u0e,d(w.__("Description")),1),n("th",m0e,d(w.__("Qty")),1),n("th",f0e,d(w.__("Unit Price")),1),n("th",p0e,d(w.__("Total")),1),b[19]||(b[19]=n("th",{class:"w-16 px-4 py-3"},null,-1))])]),n("tbody",h0e,[(g(!0),y(oe,null,ue(l.items,(k,C)=>(g(),y("tr",{key:C},[n("td",g0e,[z(n("input",{"onUpdate:modelValue":$=>k.description=$,type:"text",placeholder:w.__("Item description *"),class:X(["block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",r.value[`items.${C}.description`]?"border-red-300 bg-red-50":"border-gray-300"])},null,10,_0e),[[K,k.description]]),r.value[`items.${C}.description`]?(g(),y("p",v0e,d(w.__("Description is required")),1)):j("",!0)]),n("td",y0e,[z(n("input",{"onUpdate:modelValue":$=>k.quantity=$,type:"number",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:$=>_(C)},null,40,x0e),[[K,k.quantity,void 0,{number:!0}]])]),n("td",b0e,[z(n("input",{"onUpdate:modelValue":$=>k.unit_price=$,type:"number",min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:$=>_(C)},null,40,w0e),[[K,k.unit_price,void 0,{number:!0}]])]),n("td",k0e,d(v(k.quantity*k.unit_price)),1),n("td",$0e,[l.items.length>1?(g(),y("button",{key:0,type:"button",class:"text-red-500 hover:text-red-700",onClick:$=>p(C)},[S(f(Gt),{class:"h-5 w-5"})],8,C0e)):j("",!0)])]))),128))])])]),r.value.items?(g(),y("p",S0e,d(r.value.items[0]),1)):j("",!0)]),n("div",M0e,[n("div",T0e,[n("div",D0e,[n("span",A0e,d(w.__("Subtotal"))+":",1),n("span",P0e,d(l.currency)+" "+d(v(c.value)),1)]),n("div",E0e,[n("span",j0e,d(w.__("Tax Rate"))+" (%):",1),z(n("input",{"onUpdate:modelValue":b[8]||(b[8]=k=>l.tax_rate=k),type:"number",min:"0",max:"100",step:"0.5",class:"w-20 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.tax_rate,void 0,{number:!0}]])]),n("div",R0e,[n("span",I0e,d(w.__("Tax Amount"))+":",1),n("span",O0e,d(l.currency)+" "+d(v(u.value)),1)]),n("div",L0e,[n("span",F0e,d(w.__("Discount"))+":",1),z(n("input",{"onUpdate:modelValue":b[9]||(b[9]=k=>l.discount_amount=k),type:"number",min:"0",step:"0.01",class:"w-24 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.discount_amount,void 0,{number:!0}]])]),n("div",N0e,[n("span",null,d(w.__("Total"))+":",1),n("span",z0e,d(l.currency)+" "+d(v(m.value)),1)])])]),n("div",U0e,[n("div",B0e,[n("div",null,[n("label",V0e,d(w.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":b[10]||(b[10]=k=>l.notes=k),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:w.__("Additional notes for the customer")},null,8,H0e),[[K,l.notes]])]),n("div",null,[n("label",q0e,d(w.__("Terms & Conditions")),1),z(n("textarea",{"onUpdate:modelValue":b[11]||(b[11]=k=>l.terms=k),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:w.__("Terms and conditions")},null,8,W0e),[[K,l.terms]])])])]),s.modelValue?(g(),y("div",K0e,[n("label",Y0e,d(w.__("Status")),1),z(n("select",{"onUpdate:modelValue":b[12]||(b[12]=k=>l.status=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",G0e,d(w.__("Draft")),1),n("option",X0e,d(w.__("Sent")),1),n("option",J0e,d(w.__("Accepted")),1),n("option",Q0e,d(w.__("Rejected")),1),n("option",Z0e,d(w.__("Expired")),1)],512),[[xe,l.status]])])):j("",!0)]),n("div",eme,[S(Le,{variant:"secondary",onClick:b[13]||(b[13]=k=>w.$emit("close"))},{default:W(()=>[J(d(w.__("Cancel")),1)]),_:1}),S(Le,{disabled:i.value,onClick:x},{default:W(()=>[J(d(s.modelValue?w.__("Update Quotation"):w.__("Create Quotation")),1)]),_:1},8,["disabled"])])]))}},tme={key:0,class:"mt-8 flex justify-center"},sme={key:1},nme={class:"mb-6"},ome={class:"text-2xl font-bold text-gray-900"},ime={class:"mt-1 text-sm text-gray-500"},rme={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},ame={class:"overflow-hidden rounded-lg bg-white shadow"},lme={class:"p-5"},dme={class:"flex items-center"},cme={class:"flex-shrink-0"},ume={class:"ml-5 w-0 flex-1"},mme={class:"truncate text-sm font-medium text-gray-500"},fme={class:"text-lg font-semibold text-gray-900"},pme={class:"overflow-hidden rounded-lg bg-white shadow"},hme={class:"p-5"},gme={class:"flex items-center"},_me={class:"flex-shrink-0"},vme={class:"ml-5 w-0 flex-1"},yme={class:"truncate text-sm font-medium text-gray-500"},xme={class:"text-lg font-semibold text-gray-900"},bme={class:"overflow-hidden rounded-lg bg-white shadow"},wme={class:"p-5"},kme={class:"flex items-center"},$me={class:"flex-shrink-0"},Cme={class:"ml-5 w-0 flex-1"},Sme={class:"truncate text-sm font-medium text-gray-500"},Mme={class:"text-lg font-semibold text-gray-900"},Tme={class:"overflow-hidden rounded-lg bg-white shadow"},Dme={class:"p-5"},Ame={class:"flex items-center"},Pme={class:"flex-shrink-0"},Eme={class:"ml-5 w-0 flex-1"},jme={class:"truncate text-sm font-medium text-gray-500"},Rme={class:"text-lg font-semibold text-gray-900"},Ime={class:"overflow-hidden rounded-lg bg-white shadow"},Ome={class:"p-5"},Lme={class:"flex items-center"},Fme={class:"flex-shrink-0"},Nme={class:"ml-5 w-0 flex-1"},zme={class:"truncate text-sm font-medium text-gray-500"},Ume={class:"text-lg font-semibold text-gray-900"},Bme={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Vme={class:"flex flex-1 gap-2"},Hme={class:"relative w-64 rounded-md shadow-sm"},qme={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Wme=["placeholder"],Kme={value:""},Yme={value:"draft"},Gme={value:"sent"},Xme={value:"accepted"},Jme={value:"rejected"},Qme={value:"expired"},Zme={class:"flex gap-2"},efe={class:"flex flex-col"},tfe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},sfe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},nfe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},ofe={class:"min-w-full divide-y divide-gray-200"},ife={class:"divide-y divide-gray-200 bg-white"},rfe={key:0,class:"hover:bg-gray-50"},afe={colspan:"7",class:"px-6 py-8 text-center text-gray-500"},lfe={class:"whitespace-nowrap px-6 py-4"},dfe={class:"text-sm font-medium text-indigo-600"},cfe={class:"whitespace-nowrap px-6 py-4"},ufe={class:"text-sm font-medium text-gray-900"},mfe={class:"text-sm text-gray-500"},ffe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},pfe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},hfe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},gfe={class:"whitespace-nowrap px-6 py-4 text-sm"},_fe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},vfe={class:"flex items-center justify-end gap-2"},yfe={__name:"Index",setup(s){const e=gn(),t=E(!0),o=E(null),i=no("quotations",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=at({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},c=(k=null)=>{r.model=k,r.show=!0},u=k=>{e.push(`/quotations/${k}`)},m=async k=>{try{const C=await ce.get(`quotations/${k}/pdf`,{responseType:"blob"}),$=window.URL.createObjectURL(new Blob([C.data])),A=document.createElement("a");A.href=$,A.setAttribute("download",`quotation-${k}.pdf`),document.body.appendChild(A),A.click(),A.remove()}catch{}},h=()=>{i.get(),p()},p=async()=>{try{const k=await ce.get("quotations/statistics");o.value=k.data.data}catch{}},_=k=>k?new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",v=k=>parseFloat(k||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=k=>"MWK "+v(k),w=k=>k?new Date(k)<new Date:!1,b=k=>({"bg-gray-100 text-gray-800":k==="draft","bg-blue-100 text-blue-800":k==="sent","bg-green-100 text-green-800":k==="accepted","bg-red-100 text-red-800":k==="rejected","bg-yellow-100 text-yellow-800":k==="expired"});return Ne(async()=>{try{await i.get(),await p(),t.value=!1}catch{t.value=!1}}),(k,C)=>{var $,A,R;return t.value?(g(),y("div",tme,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",sme,[n("div",nme,[n("h1",ome,d(k.__("Quotations")),1),n("p",ime,d(k.__("Manage your quotations and proposals")),1)]),o.value?(g(),y("div",rme,[n("div",ame,[n("div",lme,[n("div",dme,[n("div",cme,[S(f(Vc),{class:"h-6 w-6 text-gray-400"})]),n("div",ume,[n("dl",null,[n("dt",mme,d(k.__("Total")),1),n("dd",fme,d(o.value.total),1)])])])])]),n("div",pme,[n("div",hme,[n("div",gme,[n("div",_me,[S(f(Wr),{class:"h-6 w-6 text-gray-400"})]),n("div",vme,[n("dl",null,[n("dt",yme,d(k.__("Draft")),1),n("dd",xme,d(o.value.draft),1)])])])])]),n("div",bme,[n("div",wme,[n("div",kme,[n("div",$me,[S(f(Uv),{class:"h-6 w-6 text-blue-400"})]),n("div",Cme,[n("dl",null,[n("dt",Sme,d(k.__("Sent")),1),n("dd",Mme,d(o.value.sent),1)])])])])]),n("div",Tme,[n("div",Dme,[n("div",Ame,[n("div",Pme,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",Eme,[n("dl",null,[n("dt",jme,d(k.__("Accepted")),1),n("dd",Rme,d(o.value.accepted),1)])])])])]),n("div",Ime,[n("div",Ome,[n("div",Lme,[n("div",Fme,[S(f(bi),{class:"h-6 w-6 text-indigo-400"})]),n("div",Nme,[n("dl",null,[n("dt",zme,d(k.__("Total Value")),1),n("dd",Ume,d(x(o.value.total_value)),1)])])])])])])):j("",!0),n("div",Bme,[n("div",Vme,[n("div",Hme,[n("div",qme,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":C[0]||(C[0]=T=>f(i).params.search=T),type:"search",placeholder:k.__("Search quotations..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Wme),[[K,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":C[1]||(C[1]=T=>f(i).params.status=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[2]||(C[2]=T=>f(i).get())},[n("option",Kme,d(k.__("All Statuses")),1),n("option",Yme,d(k.__("Draft")),1),n("option",Gme,d(k.__("Sent")),1),n("option",Xme,d(k.__("Accepted")),1),n("option",Jme,d(k.__("Rejected")),1),n("option",Qme,d(k.__("Expired")),1)],544),[[xe,f(i).params.status]])]),n("div",Zme,[S(Le,{onClick:C[3]||(C[3]=T=>c())},{default:W(()=>[S(f(gs),{class:"mr-2 h-4 w-4"}),J(" "+d(k.__("New Quotation")),1)]),_:1})])]),n("section",null,[n("div",efe,[n("div",tfe,[n("div",sfe,[n("div",nfe,[n("table",ofe,[n("thead",null,[n("tr",null,[S(Fe,{name:"quotation",index:f(i),label:k.__("Quotation #"),sort:"quotation_number"},null,8,["index","label"]),S(Fe,{name:"quotation",index:f(i),label:k.__("Customer"),sort:"customer_name"},null,8,["index","label"]),S(Fe,{name:"quotation",index:f(i),label:k.__("Date"),sort:"quotation_date"},null,8,["index","label"]),S(Fe,{name:"quotation",index:f(i),label:k.__("Valid Until"),sort:"valid_until"},null,8,["index","label"]),S(Fe,{name:"quotation",index:f(i),label:k.__("Amount"),sort:"total_amount"},null,8,["index","label"]),S(Fe,{name:"quotation",index:f(i),label:k.__("Status"),sort:"status"},null,8,["index","label"]),C[6]||(C[6]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",ife,[(A=($=f(i).data)==null?void 0:$.data)!=null&&A.length?j("",!0):(g(),y("tr",rfe,[n("td",afe,d(k.__("No quotations found")),1)])),(g(!0),y(oe,null,ue(((R=f(i).data)==null?void 0:R.data)||[],T=>(g(),y("tr",{key:T.id,class:"hover:bg-gray-50"},[n("td",lfe,[n("div",dfe,d(T.quotation_number),1)]),n("td",cfe,[n("div",ufe,d(T.customer_name),1),n("div",mfe,d(T.customer_email),1)]),n("td",ffe,d(_(T.quotation_date)),1),n("td",pfe,[n("span",{class:X(w(T.valid_until)?"text-red-500":"")},d(_(T.valid_until)),3)]),n("td",hfe,d(T.currency)+" "+d(v(T.total_amount)),1),n("td",gfe,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",b(T.status)])},d(T.status.charAt(0).toUpperCase()+T.status.slice(1)),3)]),n("td",_fe,[n("div",vfe,[S(f(zn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>u(T.id)},null,8,["onClick"]),S(f(Bc),{class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",onClick:F=>m(T.id)},null,8,["onClick"]),S(f(Un),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>c(T)},null,8,["onClick"]),S(f(Gt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:F=>f(i).deleteIt(T.id)},null,8,["onClick"])])])]))),128))])]),S(Rs,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),re(bs,{key:1,size:"4xl",onClose:C[5]||(C[5]=T=>r.show=!1)},{default:W(()=>[S(Bx,{"model-value":r.model,onClose:C[4]||(C[4]=T=>r.show=!1),onSaved:h},null,8,["model-value"])]),_:1})):j("",!0)]))}}},xfe={key:0,class:"mt-8 flex justify-center"},bfe={key:1,class:"space-y-6"},wfe={class:"flex items-center justify-between"},kfe={class:"text-2xl font-bold text-gray-900"},$fe={class:"mt-1 text-sm text-gray-500"},Cfe={class:"flex items-center gap-3"},Sfe={class:"flex gap-2"},Mfe={class:"flex gap-2"},Tfe={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Dfe={class:"lg:col-span-2"},Afe={class:"overflow-hidden rounded-lg bg-white shadow"},Pfe={class:"p-6"},Efe={class:"mb-6 flex justify-between"},jfe={class:"text-xl font-bold text-gray-900"},Rfe={class:"text-sm text-gray-500"},Ife={class:"text-right"},Ofe={key:0,class:"text-sm text-gray-500"},Lfe={key:1,class:"text-sm text-gray-500"},Ffe={class:"mb-6 grid grid-cols-2 gap-6 border-t border-gray-200 pt-6"},Nfe={class:"mb-2 text-sm font-semibold text-gray-700"},zfe={class:"font-medium text-gray-900"},Ufe={class:"text-sm text-gray-500"},Bfe={key:0,class:"text-sm text-gray-500"},Vfe={key:1,class:"text-sm text-gray-500"},Hfe={class:"text-right"},qfe={class:"mb-2"},Wfe={class:"text-sm text-gray-500"},Kfe={class:"ml-2 font-medium"},Yfe={class:"mb-2"},Gfe={class:"text-sm text-gray-500"},Xfe={class:"mb-6 overflow-hidden rounded-lg border border-gray-200"},Jfe={class:"min-w-full divide-y divide-gray-200"},Qfe={class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-white"},Zfe={class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-white"},epe={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},tpe={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},spe={class:"divide-y divide-gray-200 bg-white"},npe={class:"px-4 py-3"},ope={class:"font-medium text-gray-900"},ipe={key:0,class:"text-sm text-gray-500"},rpe={class:"px-4 py-3 text-center text-gray-500"},ape={class:"px-4 py-3 text-right text-gray-500"},lpe={class:"px-4 py-3 text-right font-medium text-gray-900"},dpe={class:"flex justify-end"},cpe={class:"w-64 space-y-2"},upe={class:"flex justify-between text-sm"},mpe={class:"text-gray-500"},fpe={class:"font-medium"},ppe={key:0,class:"flex justify-between text-sm"},hpe={class:"text-gray-500"},gpe={class:"font-medium"},_pe={key:1,class:"flex justify-between text-sm"},vpe={class:"text-gray-500"},ype={class:"font-medium text-red-500"},xpe={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-bold"},bpe={key:0,class:"mt-6 border-t border-gray-200 pt-6"},wpe={key:0,class:"mb-4"},kpe={class:"mb-2 text-sm font-semibold text-gray-700"},$pe={class:"whitespace-pre-line text-sm text-gray-500"},Cpe={key:1},Spe={class:"mb-2 text-sm font-semibold text-gray-700"},Mpe={class:"whitespace-pre-line text-sm text-gray-500"},Tpe={class:"space-y-6"},Dpe={class:"overflow-hidden rounded-lg bg-white shadow"},Ape={class:"border-b border-gray-200 px-4 py-3"},Ppe={class:"text-sm font-semibold text-gray-900"},Epe={class:"p-4 space-y-3"},jpe={class:"flex justify-between"},Rpe={class:"text-sm text-gray-500"},Ipe={class:"text-sm font-medium"},Ope={class:"flex justify-between"},Lpe={class:"text-sm text-gray-500"},Fpe={class:"text-sm font-medium"},Npe={class:"flex justify-between"},zpe={class:"text-sm text-gray-500"},Upe={class:"text-sm font-medium"},Bpe={class:"overflow-hidden rounded-lg bg-white shadow"},Vpe={class:"border-b border-gray-200 px-4 py-3"},Hpe={class:"text-sm font-semibold text-gray-900"},qpe={class:"p-4"},Wpe={class:"flow-root"},Kpe={class:"-mb-4"},Ype={class:"relative pb-4"},Gpe={class:"relative flex space-x-3"},Xpe={class:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 ring-4 ring-white"},Jpe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},Qpe={class:"text-sm text-gray-500"},Zpe={class:"whitespace-nowrap text-right text-sm text-gray-500"},ehe={__name:"Detail",setup(s){const e=Vr(),t=gn(),o=E(!0),i=E(null),r=E(!1),a=Me(()=>{var b;return(b=i.value)!=null&&b.valid_until?new Date(i.value.valid_until)<new Date:!1}),l=async()=>{try{const b=await ce.get(`quotations/${e.params.id}`);i.value=b.data.data}catch{}finally{o.value=!1}},c=async()=>{try{const b=await ce.get(`quotations/${i.value.id}/pdf`,{responseType:"blob"}),k=window.URL.createObjectURL(new Blob([b.data])),C=document.createElement("a");C.href=k,C.setAttribute("download",`${i.value.quotation_number}.pdf`),document.body.appendChild(C),C.click(),C.remove()}catch{}},u=async b=>{try{await ce.post(`quotations/${i.value.id}/change-status`,{status:b}),i.value.status=b}catch{}},m=()=>{r.value=!0},h=()=>{r.value=!1,l()},p=b=>b?new Date(b).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",_=b=>b?new Date(b).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",v=b=>parseFloat(b||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=b=>({"bg-gray-100 text-gray-800":b==="draft","bg-blue-100 text-blue-800":b==="sent","bg-green-100 text-green-800":b==="accepted","bg-red-100 text-red-800":b==="rejected","bg-yellow-100 text-yellow-800":b==="expired"})[b]||"bg-gray-100 text-gray-800",w=b=>({style_1:"Classic",style_2:"Modern",style_3:"Colorful Header",style_4:"Bordered",style_5:"Info Banner",style_6:"Minimal",style_7:"Split Header",style_8:"Elegant"})[b]||b;return Ne(()=>{l()}),(b,k)=>{var C;return o.value?(g(),y("div",xfe,[S(it,{size:"40",color:"#5850ec"})])):i.value?(g(),y("div",bfe,[n("div",wfe,[n("div",null,[n("button",{class:"mb-2 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:k[0]||(k[0]=$=>f(t).push("/quotations"))},[S(f(Pv),{class:"mr-1 h-4 w-4"}),J(" "+d(b.__("Back to Quotations")),1)]),n("h1",kfe,d(i.value.quotation_number),1),n("p",$fe,d(b.__("Created on"))+" "+d(p(i.value.created_at)),1)]),n("div",Cfe,[n("span",{class:X(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",x(i.value.status)])},d(i.value.status.charAt(0).toUpperCase()+i.value.status.slice(1)),3),n("div",Sfe,[S(Le,{variant:"secondary",onClick:c},{default:W(()=>[S(f(Bc),{class:"mr-2 h-4 w-4"}),J(" "+d(b.__("Download PDF")),1)]),_:1}),S(Le,{onClick:m},{default:W(()=>[S(f(Un),{class:"mr-2 h-4 w-4"}),J(" "+d(b.__("Edit")),1)]),_:1})])])]),n("div",Mfe,[i.value.status==="draft"?(g(),re(Le,{key:0,variant:"secondary",size:"sm",onClick:k[1]||(k[1]=$=>u("sent"))},{default:W(()=>[S(f(Uv),{class:"mr-1 h-4 w-4"}),J(" "+d(b.__("Mark as Sent")),1)]),_:1})):j("",!0),i.value.status==="sent"?(g(),re(Le,{key:1,variant:"success",size:"sm",onClick:k[2]||(k[2]=$=>u("accepted"))},{default:W(()=>[S(f(Rv),{class:"mr-1 h-4 w-4"}),J(" "+d(b.__("Mark as Accepted")),1)]),_:1})):j("",!0),i.value.status==="sent"?(g(),re(Le,{key:2,variant:"danger",size:"sm",onClick:k[3]||(k[3]=$=>u("rejected"))},{default:W(()=>[S(f(ui),{class:"mr-1 h-4 w-4"}),J(" "+d(b.__("Mark as Rejected")),1)]),_:1})):j("",!0)]),n("div",Tfe,[n("div",Dfe,[n("div",Afe,[n("div",Pfe,[n("div",Efe,[n("div",null,[n("h2",jfe,d(b.__("QUOTATION")),1),n("p",Rfe,"# "+d(i.value.quotation_number),1)]),n("div",Ife,[n("div",{class:"text-lg font-bold",style:bt({color:i.value.color||"#2568ef"})},d(i.value.business_name||"Your Company"),5),i.value.business_address?(g(),y("p",Ofe,d(i.value.business_address),1)):j("",!0),i.value.business_phone?(g(),y("p",Lfe,d(i.value.business_phone),1)):j("",!0)])]),n("div",Ffe,[n("div",null,[n("h3",Nfe,d(b.__("Bill To")),1),n("p",zfe,d(i.value.customer_name),1),n("p",Ufe,d(i.value.customer_email),1),i.value.customer_phone?(g(),y("p",Bfe,d(i.value.customer_phone),1)):j("",!0),i.value.customer_address?(g(),y("p",Vfe,d(i.value.customer_address),1)):j("",!0)]),n("div",Hfe,[n("div",qfe,[n("span",Wfe,d(b.__("Date"))+":",1),n("span",Kfe,d(p(i.value.quotation_date)),1)]),n("div",Yfe,[n("span",Gfe,d(b.__("Valid Until"))+":",1),n("span",{class:X(["ml-2 font-medium",a.value?"text-red-500":""])},d(p(i.value.valid_until)),3)])])]),n("div",Xfe,[n("table",Jfe,[n("thead",null,[n("tr",{style:bt({backgroundColor:i.value.color||"#2568ef"})},[n("th",Qfe,d(b.__("Description")),1),n("th",Zfe,d(b.__("Qty")),1),n("th",epe,d(b.__("Price")),1),n("th",tpe,d(b.__("Total")),1)],4)]),n("tbody",spe,[(g(!0),y(oe,null,ue(i.value.items,$=>(g(),y("tr",{key:$.id},[n("td",npe,[n("div",ope,d($.description),1),$.details?(g(),y("div",ipe,d($.details),1)):j("",!0)]),n("td",rpe,d($.quantity),1),n("td",ape,d(v($.unit_price)),1),n("td",lpe,d(v($.total)),1)]))),128))])])]),n("div",dpe,[n("div",cpe,[n("div",upe,[n("span",mpe,d(b.__("Subtotal"))+":",1),n("span",fpe,d(i.value.currency)+" "+d(v(i.value.subtotal)),1)]),i.value.tax_rate>0?(g(),y("div",ppe,[n("span",hpe,d(b.__("Tax"))+" ("+d(i.value.tax_rate)+"%):",1),n("span",gpe,d(i.value.currency)+" "+d(v(i.value.tax_amount)),1)])):j("",!0),i.value.discount_amount>0?(g(),y("div",_pe,[n("span",vpe,d(b.__("Discount"))+":",1),n("span",ype,"-"+d(i.value.currency)+" "+d(v(i.value.discount_amount)),1)])):j("",!0),n("div",xpe,[n("span",null,d(b.__("Total"))+":",1),n("span",{style:bt({color:i.value.color||"#2568ef"})},d(i.value.currency)+" "+d(v(i.value.total_amount)),5)])])]),i.value.notes||i.value.terms?(g(),y("div",bpe,[i.value.notes?(g(),y("div",wpe,[n("h4",kpe,d(b.__("Notes")),1),n("p",$pe,d(i.value.notes),1)])):j("",!0),i.value.terms?(g(),y("div",Cpe,[n("h4",Spe,d(b.__("Terms & Conditions")),1),n("p",Mpe,d(i.value.terms),1)])):j("",!0)])):j("",!0)])])]),n("div",Tpe,[n("div",Dpe,[n("div",Ape,[n("h3",Ppe,d(b.__("Quick Info")),1)]),n("div",Epe,[n("div",jpe,[n("span",Rpe,d(b.__("Created By"))+":",1),n("span",Ipe,d(((C=i.value.user)==null?void 0:C.name)||"-"),1)]),n("div",Ope,[n("span",Lpe,d(b.__("Template"))+":",1),n("span",Fpe,d(w(i.value.template)),1)]),n("div",Npe,[n("span",zpe,d(b.__("Currency"))+":",1),n("span",Upe,d(i.value.currency),1)])])]),n("div",Bpe,[n("div",Vpe,[n("h3",Hpe,d(b.__("Timeline")),1)]),n("div",qpe,[n("div",Wpe,[n("ul",Kpe,[n("li",Ype,[n("div",Gpe,[n("div",null,[n("span",Xpe,[S(f(Vc),{class:"h-4 w-4 text-indigo-600"})])]),n("div",Jpe,[n("div",null,[n("p",Qpe,d(b.__("Quotation created")),1)]),n("div",Zpe,d(_(i.value.created_at)),1)])])])])])])])])]),r.value?(g(),re(bs,{key:0,size:"4xl",onSaved:h},{default:W(()=>[S(Bx,{"model-value":i.value,onClose:k[4]||(k[4]=$=>r.value=!1)},null,8,["model-value"])]),_:1})):j("",!0)])):j("",!0)}}},the={class:"space-y-6"},she={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nhe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ohe={class:"mt-1 sm:col-span-2 sm:mt-0"},ihe={class:"flex gap-2"},rhe=["placeholder"],ahe={key:0,class:"mt-2 text-sm text-red-600"},lhe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},dhe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},che={class:"mt-1 sm:col-span-2 sm:mt-0"},uhe={key:0,class:"mt-2 text-sm text-red-600"},mhe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},fhe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},phe={class:"mt-1 sm:col-span-2 sm:mt-0"},hhe={class:"flex gap-2"},ghe={value:""},_he=["value"],vhe=["placeholder"],yhe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},xhe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bhe={class:"mt-1 sm:col-span-2 sm:mt-0"},whe=["placeholder"],khe={key:0,class:"mt-2 text-sm text-red-600"},$he={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Che={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},She={class:"mt-1 sm:col-span-2 sm:mt-0"},Mhe=["placeholder"],The={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Dhe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ahe={class:"mt-1 sm:col-span-2 sm:mt-0"},Phe={key:0,class:"mb-2 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-2"},Ehe={class:"flex items-center"},jhe={class:"text-sm text-gray-700"},Rhe={class:"space-y-1 text-center"},Ihe={class:"flex text-sm text-gray-600"},Ohe={for:"receipt-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},Lhe={class:"pl-1"},Fhe={class:"text-xs text-gray-500"},Nhe={key:1,class:"mt-2 flex items-center justify-between rounded-md border border-green-200 bg-green-50 p-2"},zhe={class:"flex items-center"},Uhe={class:"text-sm text-green-700"},Bhe={class:"ml-2 text-xs text-green-600"},Vhe={key:2,class:"mt-2 text-sm text-red-600"},Hhe={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=E(null),r=E(!1),a=E(!1),l=E(null),c=["Travel","Meals & Entertainment","Office Supplies","Equipment","Software & Subscriptions","Professional Services","Utilities","Marketing","Training & Education","Transportation","Accommodation","Communication","Miscellaneous"],u=Qr("expenses",{amount:"",currency:"MWK",expense_date:new Date().toISOString().split("T")[0],category:"",description:"",notes:"",receipt:null}),m=()=>{a.value=!a.value,a.value||(u.category="")},h=k=>{const C=k.target.files[0];C&&_(C)},p=k=>{r.value=!1;const C=k.dataTransfer.files[0];C&&_(C)},_=k=>{if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(k.type)){alert("Please upload a PDF, JPG, JPEG, or PNG file.");return}if(k.size>5242880){alert("File size must be less than 5MB.");return}u.receipt=k,l.value=null},v=()=>{u.receipt=null,i.value&&(i.value.value="")},x=()=>{l.value=null},w=k=>k<1024?k+" B":k<1024*1024?(k/1024).toFixed(1)+" KB":(k/(1024*1024)).toFixed(1)+" MB",b=async()=>{var C,$,A;const k=new FormData;k.append("amount",u.amount),k.append("currency",u.currency),k.append("expense_date",u.expense_date),k.append("category",u.category||""),k.append("description",u.description),k.append("notes",u.notes||""),u.receipt&&k.append("receipt",u.receipt);try{u.processing=!0,u.errors={};let R;u.id?(k.append("_method","PUT"),R=await ce.post(`expenses/${u.id}`,k,{headers:{"Content-Type":"multipart/form-data"}})):R=await ce.post("expenses",k,{headers:{"Content-Type":"multipart/form-data"}}),o("close")}catch(R){((C=R.response)==null?void 0:C.status)===422?u.errors=R.response.data.errors||{}:alert(((A=($=R.response)==null?void 0:$.data)==null?void 0:A.message)||"Failed to save expense")}finally{u.processing=!1}};return Pt(()=>t.modelValue,k=>{var C;k?(u.id=k.id,u.amount=k.amount,u.currency=k.currency||"MWK",u.expense_date=((C=k.expense_date)==null?void 0:C.split("T")[0])||"",u.category=k.category||"",u.description=k.description||"",u.notes=k.notes||"",u.receipt=null,l.value=k.receipt_name||null,k.category&&!c.includes(k.category)&&(a.value=!0)):(u.reset(),u.currency="MWK",u.expense_date=new Date().toISOString().split("T")[0],l.value=null,a.value=!1)},{immediate:!0}),(k,C)=>(g(),re(Uo,{"external-form":f(u),onSubmit:b,onCancel:C[10]||(C[10]=$=>o("close"))},{title:W(()=>[J(d(f(u).id?k.__("Edit Expense"):k.__("Add Expense")),1)]),default:W(()=>[n("div",the,[n("div",she,[n("label",nhe,[J(d(k.__("Amount"))+" ",1),C[11]||(C[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",ohe,[n("div",ihe,[z(n("select",{"onUpdate:modelValue":C[0]||(C[0]=$=>f(u).currency=$),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...C[12]||(C[12]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1),n("option",{value:"ZAR"},"ZAR",-1)])],512),[[xe,f(u).currency]]),z(n("input",{"onUpdate:modelValue":C[1]||(C[1]=$=>f(u).amount=$),type:"number",step:"0.01",min:"0",class:X(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.amount}]),placeholder:k.__("Enter amount"),required:""},null,10,rhe),[[K,f(u).amount]])]),f(u).errors.amount?(g(),y("p",ahe,d(f(u).errors.amount),1)):j("",!0)])]),n("div",lhe,[n("label",dhe,[J(d(k.__("Expense Date"))+" ",1),C[13]||(C[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",che,[z(n("input",{"onUpdate:modelValue":C[2]||(C[2]=$=>f(u).expense_date=$),type:"date",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.expense_date}]),required:""},null,2),[[K,f(u).expense_date]]),f(u).errors.expense_date?(g(),y("p",uhe,d(f(u).errors.expense_date),1)):j("",!0)])]),n("div",mhe,[n("label",fhe,d(k.__("Category")),1),n("div",phe,[n("div",hhe,[a.value?z((g(),y("input",{key:1,"onUpdate:modelValue":C[4]||(C[4]=$=>f(u).category=$),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:k.__("Enter custom category")},null,8,vhe)),[[K,f(u).category]]):z((g(),y("select",{key:0,"onUpdate:modelValue":C[3]||(C[3]=$=>f(u).category=$),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",ghe,d(k.__("Select category")),1),(g(),y(oe,null,ue(c,$=>n("option",{key:$,value:$},d($),9,_he)),64))],512)),[[xe,f(u).category]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:m},d(a.value?k.__("Select"):k.__("Custom")),1)])])]),n("div",yhe,[n("label",xhe,[J(d(k.__("Description"))+" ",1),C[14]||(C[14]=n("span",{class:"text-red-500"},"*",-1))]),n("div",bhe,[z(n("input",{"onUpdate:modelValue":C[5]||(C[5]=$=>f(u).description=$),type:"text",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.description}]),placeholder:k.__("Brief description of the expense"),required:""},null,10,whe),[[K,f(u).description]]),f(u).errors.description?(g(),y("p",khe,d(f(u).errors.description),1)):j("",!0)])]),n("div",$he,[n("label",Che,d(k.__("Notes")),1),n("div",She,[z(n("textarea",{"onUpdate:modelValue":C[6]||(C[6]=$=>f(u).notes=$),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:k.__("Additional notes or details (optional)")},null,8,Mhe),[[K,f(u).notes]])])]),n("div",The,[n("label",Dhe,d(k.__("Receipt")),1),n("div",Ahe,[l.value&&!f(u).receipt?(g(),y("div",Phe,[n("div",Ehe,[S(f(Jd),{class:"mr-2 h-5 w-5 text-gray-400"}),n("span",jhe,d(l.value),1)]),n("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:x},d(k.__("Remove")),1)])):j("",!0),n("div",{class:X(["flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pb-6 pt-5",{"border-indigo-500 bg-indigo-50":r.value}]),onDragenter:C[7]||(C[7]=Ve($=>r.value=!0,["prevent"])),onDragleave:C[8]||(C[8]=Ve($=>r.value=!1,["prevent"])),onDragover:C[9]||(C[9]=Ve(()=>{},["prevent"])),onDrop:Ve(p,["prevent"])},[n("div",Rhe,[S(f(s$),{class:"mx-auto h-12 w-12 text-gray-400"}),n("div",Ihe,[n("label",Ohe,[n("span",null,d(k.__("Upload a file")),1),n("input",{id:"receipt-upload",ref_key:"fileInput",ref:i,type:"file",class:"sr-only",accept:".pdf,.jpg,.jpeg,.png",onChange:h},null,544)]),n("p",Lhe,d(k.__("or drag and drop")),1)]),n("p",Fhe,d(k.__("PDF, JPG, JPEG, PNG up to 5MB")),1)])],34),f(u).receipt?(g(),y("div",Nhe,[n("div",zhe,[S(f(Jd),{class:"mr-2 h-5 w-5 text-green-600"}),n("span",Uhe,d(f(u).receipt.name),1),n("span",Bhe,"("+d(w(f(u).receipt.size))+")",1)]),n("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:v},d(k.__("Remove")),1)])):j("",!0),f(u).errors.receipt?(g(),y("p",Vhe,d(f(u).errors.receipt),1)):j("",!0)])])])]),_:1},8,["external-form"]))}},qhe={key:0,class:"mt-8 flex justify-center"},Whe={key:1},Khe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Yhe={class:"overflow-hidden rounded-lg bg-white shadow"},Ghe={class:"p-5"},Xhe={class:"flex items-center"},Jhe={class:"flex-shrink-0"},Qhe={class:"ml-5 w-0 flex-1"},Zhe={class:"truncate text-sm font-medium text-gray-500"},ege={class:"text-lg font-semibold text-gray-900"},tge={class:"overflow-hidden rounded-lg bg-white shadow"},sge={class:"p-5"},nge={class:"flex items-center"},oge={class:"flex-shrink-0"},ige={class:"ml-5 w-0 flex-1"},rge={class:"truncate text-sm font-medium text-gray-500"},age={class:"text-lg font-semibold text-gray-900"},lge={class:"overflow-hidden rounded-lg bg-white shadow"},dge={class:"p-5"},cge={class:"flex items-center"},uge={class:"flex-shrink-0"},mge={class:"ml-5 w-0 flex-1"},fge={class:"truncate text-sm font-medium text-gray-500"},pge={class:"text-lg font-semibold text-gray-900"},hge={class:"overflow-hidden rounded-lg bg-white shadow"},gge={class:"p-5"},_ge={class:"flex items-center"},vge={class:"flex-shrink-0"},yge={class:"ml-5 w-0 flex-1"},xge={class:"truncate text-sm font-medium text-gray-500"},bge={class:"text-lg font-semibold text-gray-900"},wge={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},kge={class:"flex flex-1 flex-wrap gap-2"},$ge={class:"relative w-64 rounded-md shadow-sm"},Cge={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Sge=["placeholder"],Mge={value:""},Tge={value:"pending"},Dge={value:"approved"},Age={value:"rejected"},Pge={value:""},Ege=["value"],jge={class:"ltr:ml-auto rtl:mr-auto"},Rge={class:"flex flex-col"},Ige={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Oge={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Lge={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Fge={class:"min-w-full divide-y divide-gray-200"},Nge={class:"divide-y divide-gray-200 bg-white"},zge={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Uge={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},Bge={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Vge={key:0,class:"inline-flex rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800"},Hge={key:1,class:"text-gray-400"},qge={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Wge={class:"whitespace-nowrap px-6 py-4 text-sm"},Kge={class:"whitespace-nowrap px-6 py-4"},Yge={class:"flex items-center"},Gge={class:"h-8 w-8 flex-shrink-0"},Xge={class:"ml-3"},Jge={class:"text-sm font-medium text-gray-900"},Qge={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Zge=["href","title"],e1e={key:0},t1e={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},s1e={class:"p-6"},n1e={class:"flex items-center justify-between mb-4"},o1e={class:"text-lg font-semibold text-gray-900"},i1e={key:0,class:"space-y-4"},r1e={class:"grid grid-cols-2 gap-4"},a1e={class:"block text-sm font-medium text-gray-700"},l1e={class:"mt-1 text-sm text-gray-900"},d1e={class:"block text-sm font-medium text-gray-700"},c1e={class:"mt-1 text-sm font-semibold text-gray-900"},u1e={class:"block text-sm font-medium text-gray-700"},m1e={class:"mt-1 text-sm text-gray-900"},f1e={class:"block text-sm font-medium text-gray-700"},p1e={class:"mt-1"},h1e={class:"block text-sm font-medium text-gray-700"},g1e={class:"mt-1 text-sm text-gray-900"},_1e={class:"block text-sm font-medium text-gray-700"},v1e={class:"mt-1 text-sm text-gray-900"},y1e={class:"block text-sm font-medium text-gray-700"},x1e={class:"mt-1 text-sm text-gray-900"},b1e={key:0},w1e={class:"block text-sm font-medium text-gray-700"},k1e={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},$1e={key:1},C1e={class:"block text-sm font-medium text-gray-700"},S1e=["href"],M1e={key:2},T1e={class:"block text-sm font-medium text-gray-700"},D1e={class:"mt-1 text-sm text-gray-900"},A1e={class:"text-sm text-gray-500"},P1e={class:"mt-6 flex justify-end"},E1e={class:"p-6"},j1e={class:"flex items-center justify-between mb-4"},R1e={class:"text-lg font-semibold text-gray-900"},I1e={class:"space-y-4"},O1e={class:"text-sm text-gray-700"},L1e={class:"rounded-md bg-gray-50 p-3"},F1e={class:"text-sm font-medium text-gray-900"},N1e={class:"text-sm text-gray-600"},z1e={class:"mt-6 flex justify-end space-x-3"},U1e={__name:"Index",setup(s){const e=E(!0),t=E(null),o=E([]),i=E(null),r=E(!1),a=no("expenses",{search:"",status:"",category:"",start_date:"",end_date:"",sort_by:"expense_date",sort_order:"desc",per_page:15}),l=at({show:!1,model:null}),c=at({show:!1,expense:null}),u=at({show:!1,action:null,expense:null});let m=null;const h=()=>{clearTimeout(m),m=setTimeout(()=>{a.get()},300)},p=(F=null)=>{l.model=F,l.show=!0},_=F=>{c.expense=F,c.show=!0},v=F=>{u.expense=F,u.action="approve",u.show=!0},x=F=>{u.expense=F,u.action="reject",u.show=!0},w=async()=>{var F,L;try{const D=u.action==="approve"?"approve":"reject";await ce.post(`expenses/${u.expense.id}/${D}`),u.show=!1,a.get(),k()}catch(D){alert(((L=(F=D.response)==null?void 0:F.data)==null?void 0:L.message)||"Failed to process expense")}},b=()=>{a.get(),k(),C()},k=async()=>{try{const F=await ce.get("expenses/statistics");t.value=F.data.data}catch{}},C=async()=>{try{const F=await ce.get("expenses/categories");o.value=F.data.data}catch{}},$=F=>F?new Date(F).toLocaleDateString():"-",A=F=>F?new Date(F).toLocaleString():"-",R=F=>F?parseFloat(F).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",T=F=>F?"MWK "+R(F):"MWK 0.00";return Ne(async()=>{var F,L;i.value=(F=vt.user)==null?void 0:F.id,r.value=((L=vt.user)==null?void 0:L.is_super_admin)||!1,await Promise.all([a.get(),k(),C()]),e.value=!1}),(F,L)=>e.value?(g(),y("div",qhe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",Whe,[t.value?(g(),y("div",Khe,[n("div",Yhe,[n("div",Ghe,[n("div",Xhe,[n("div",Jhe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",Qhe,[n("dl",null,[n("dt",Zhe,d(F.__("Pending")),1),n("dd",ege,d(t.value.pending),1)])])])])]),n("div",tge,[n("div",sge,[n("div",nge,[n("div",oge,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",ige,[n("dl",null,[n("dt",rge,d(F.__("Approved")),1),n("dd",age,d(t.value.approved),1)])])])])]),n("div",lge,[n("div",dge,[n("div",cge,[n("div",uge,[S(f(Ys),{class:"h-6 w-6 text-blue-400"})]),n("div",mge,[n("dl",null,[n("dt",fge,d(F.__("This Month")),1),n("dd",pge,d(T(t.value.this_month)),1)])])])])]),n("div",hge,[n("div",gge,[n("div",_ge,[n("div",vge,[S(f(bi),{class:"h-6 w-6 text-purple-400"})]),n("div",yge,[n("dl",null,[n("dt",xge,d(F.__("Total Expenses")),1),n("dd",bge,d(T(t.value.total_expenses)),1)])])])])])])):j("",!0),n("div",wge,[n("div",kge,[n("div",$ge,[n("div",Cge,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":L[0]||(L[0]=D=>f(a).params.search=D),type:"search",placeholder:F.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:h},null,40,Sge),[[K,f(a).params.search]])]),z(n("select",{"onUpdate:modelValue":L[1]||(L[1]=D=>f(a).params.status=D),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[2]||(L[2]=D=>f(a).get())},[n("option",Mge,d(F.__("All Statuses")),1),n("option",Tge,d(F.__("Pending")),1),n("option",Dge,d(F.__("Approved")),1),n("option",Age,d(F.__("Rejected")),1)],544),[[xe,f(a).params.status]]),z(n("select",{"onUpdate:modelValue":L[3]||(L[3]=D=>f(a).params.category=D),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[4]||(L[4]=D=>f(a).get())},[n("option",Pge,d(F.__("All Categories")),1),(g(!0),y(oe,null,ue(o.value,D=>(g(),y("option",{key:D,value:D},d(D),9,Ege))),128))],544),[[xe,f(a).params.category]]),z(n("input",{"onUpdate:modelValue":L[5]||(L[5]=D=>f(a).params.start_date=D),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[6]||(L[6]=D=>f(a).get())},null,544),[[K,f(a).params.start_date]]),z(n("input",{"onUpdate:modelValue":L[7]||(L[7]=D=>f(a).params.end_date=D),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[8]||(L[8]=D=>f(a).get())},null,544),[[K,f(a).params.end_date]])]),n("div",jge,[S(Le,{size:"sm",onClick:L[9]||(L[9]=D=>p())},{default:W(()=>[J(d(F.__("Add Expense")),1)]),_:1})])]),n("section",null,[n("div",Rge,[n("div",Ige,[n("div",Oge,[n("div",Lge,[n("table",Fge,[n("thead",null,[n("tr",null,[S(Fe,{name:"expense",index:f(a),label:F.__("Date"),sort:"expense_date"},null,8,["index","label"]),S(Fe,{name:"expense",index:f(a),label:F.__("Description")},null,8,["index","label"]),S(Fe,{name:"expense",index:f(a),label:F.__("Category"),sort:"category"},null,8,["index","label"]),S(Fe,{name:"expense",index:f(a),label:F.__("Amount"),sort:"amount"},null,8,["index","label"]),S(Fe,{name:"expense",index:f(a),label:F.__("Status"),sort:"status"},null,8,["index","label"]),S(Fe,{name:"expense",index:f(a),label:F.__("Submitted By")},null,8,["index","label"]),L[15]||(L[15]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Nge,[(g(!0),y(oe,null,ue(f(a).data.data,D=>{var N;return g(),y("tr",{key:D.id,class:"hover:bg-gray-50"},[n("td",zge,d($(D.expense_date)),1),n("td",Uge,d(D.description),1),n("td",Bge,[D.category?(g(),y("span",Vge,d(D.category),1)):(g(),y("span",Hge,"-"))]),n("td",qge,d(D.currency)+" "+d(R(D.amount)),1),n("td",Wge,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":D.status==="pending","bg-green-100 text-green-800":D.status==="approved","bg-red-100 text-red-800":D.status==="rejected"}])},d(D.status.charAt(0).toUpperCase()+D.status.slice(1)),3)]),n("td",Kge,[n("div",Yge,[n("div",Gge,[S(cs,{user:D.user,size:"8"},null,8,["user"])]),n("div",Xge,[n("div",Jge,d((N=D.user)==null?void 0:N.name),1)])])]),n("td",Qge,[D.status==="pending"&&r.value?(g(),y(oe,{key:0},[S(Le,{size:"xs",variant:"success",onClick:P=>v(D)},{default:W(()=>[J(d(F.__("Approve")),1)]),_:1},8,["onClick"]),S(Le,{size:"xs",variant:"danger",class:"ml-2",onClick:P=>x(D)},{default:W(()=>[J(d(F.__("Reject")),1)]),_:1},8,["onClick"])],64)):j("",!0),D.receipt_path?(g(),y("a",{key:1,href:`/storage/${D.receipt_path}`,target:"_blank",class:"ml-2 text-gray-400 hover:text-gray-600",title:F.__("View Receipt")},[S(f(Jd),{class:"h-5 w-5"})],8,Zge)):j("",!0),D.status==="pending"&&(D.user_id===i.value||r.value)?(g(),y(oe,{key:2},[S(f(Un),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>p(D)},null,8,["onClick"]),S(f(Gt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>f(a).deleteIt(D.id)},null,8,["onClick"])],64)):j("",!0),S(f(zn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>_(D)},null,8,["onClick"])])])}),128)),!f(a).data.data||f(a).data.data.length===0?(g(),y("tr",e1e,[n("td",t1e,d(F.__("No expenses found")),1)])):j("",!0)])]),S(Rs,{index:f(a)},null,8,["index"])])])])])]),l.show?(g(),re(bs,{key:1,size:"lg",onSaved:b},{default:W(()=>[S(Hhe,{"model-value":l.model,onClose:L[10]||(L[10]=D=>l.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),c.show?(g(),re(_o,{key:2,width:"max-w-2xl"},{default:W(()=>{var D,N;return[n("div",s1e,[n("div",n1e,[n("h3",o1e,d(F.__("Expense Details")),1),n("button",{onClick:L[11]||(L[11]=P=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),c.expense?(g(),y("div",i1e,[n("div",r1e,[n("div",null,[n("label",a1e,d(F.__("Date")),1),n("p",l1e,d($(c.expense.expense_date)),1)]),n("div",null,[n("label",d1e,d(F.__("Amount")),1),n("p",c1e,d(c.expense.currency)+" "+d(R(c.expense.amount)),1)]),n("div",null,[n("label",u1e,d(F.__("Category")),1),n("p",m1e,d(c.expense.category||"-"),1)]),n("div",null,[n("label",f1e,d(F.__("Status")),1),n("p",p1e,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":c.expense.status==="pending","bg-green-100 text-green-800":c.expense.status==="approved","bg-red-100 text-red-800":c.expense.status==="rejected"}])},d(c.expense.status.charAt(0).toUpperCase()+c.expense.status.slice(1)),3)])]),n("div",null,[n("label",h1e,d(F.__("Submitted By")),1),n("p",g1e,d((D=c.expense.user)==null?void 0:D.name),1)]),n("div",null,[n("label",_1e,d(F.__("Submitted On")),1),n("p",v1e,d(A(c.expense.created_at)),1)])]),n("div",null,[n("label",y1e,d(F.__("Description")),1),n("p",x1e,d(c.expense.description),1)]),c.expense.notes?(g(),y("div",b1e,[n("label",w1e,d(F.__("Notes")),1),n("p",k1e,d(c.expense.notes),1)])):j("",!0),c.expense.receipt_path?(g(),y("div",$1e,[n("label",C1e,d(F.__("Receipt")),1),n("a",{href:`/storage/${c.expense.receipt_path}`,target:"_blank",class:"mt-1 inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[S(f(Jd),{class:"mr-1 h-4 w-4"}),J(" "+d(c.expense.receipt_name||F.__("View Receipt")),1)],8,S1e)])):j("",!0),c.expense.approver?(g(),y("div",M1e,[n("label",T1e,d(c.expense.status==="approved"?F.__("Approved By"):F.__("Rejected By")),1),n("p",D1e,d((N=c.expense.approver)==null?void 0:N.name),1),n("p",A1e,d(A(c.expense.approved_at)),1)])):j("",!0)])):j("",!0),n("div",P1e,[S(Le,{onClick:L[12]||(L[12]=P=>c.show=!1)},{default:W(()=>[J(d(F.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),u.show?(g(),re(_o,{key:3,width:"max-w-md"},{default:W(()=>{var D,N,P;return[n("div",E1e,[n("div",j1e,[n("h3",R1e,d(u.action==="approve"?F.__("Approve Expense"):F.__("Reject Expense")),1),n("button",{onClick:L[13]||(L[13]=U=>u.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),n("div",I1e,[n("p",O1e,d(u.action==="approve"?F.__("Are you sure you want to approve this expense?"):F.__("Are you sure you want to reject this expense?")),1),n("div",L1e,[n("p",F1e,d((D=u.expense)==null?void 0:D.description),1),n("p",N1e,d((N=u.expense)==null?void 0:N.currency)+" "+d(R((P=u.expense)==null?void 0:P.amount)),1)])]),n("div",z1e,[S(Le,{white:"",onClick:L[14]||(L[14]=U=>u.show=!1)},{default:W(()=>[J(d(F.__("Cancel")),1)]),_:1}),S(Le,{class:X(u.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:w},{default:W(()=>[J(d(u.action==="approve"?F.__("Approve"):F.__("Reject")),1)]),_:1},8,["class"])])])]}),_:1})):j("",!0)]))}},B1e={class:"space-y-6"},V1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},H1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},q1e={class:"mt-1 sm:col-span-2 sm:mt-0"},W1e={class:"flex gap-2"},K1e=["placeholder"],Y1e={key:0,class:"mt-2 text-sm text-red-600"},G1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},X1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},J1e={class:"mt-1 sm:col-span-2 sm:mt-0"},Q1e={key:0,class:"mt-2 text-sm text-red-600"},Z1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},e_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},t_e={class:"mt-1 sm:col-span-2 sm:mt-0"},s_e={value:""},n_e={value:"sales"},o_e={value:"services"},i_e={value:"consulting"},r_e={value:"adsense"},a_e={value:"quotation"},l_e={value:"other"},d_e={key:0,class:"mt-2 text-sm text-red-600"},c_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},u_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},m_e={class:"mt-1 sm:col-span-2 sm:mt-0"},f_e={class:"flex gap-2"},p_e={value:""},h_e=["value"],g_e=["placeholder"],__e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},v_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},y_e={class:"mt-1 sm:col-span-2 sm:mt-0"},x_e=["placeholder"],b_e={key:0,class:"mt-2 text-sm text-red-600"},w_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},k_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$_e={class:"mt-1 sm:col-span-2 sm:mt-0"},C_e=["placeholder"],S_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},M_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},T_e={class:"mt-1 sm:col-span-2 sm:mt-0"},D_e=["placeholder"],A_e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},P_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},E_e={class:"mt-1 sm:col-span-2 sm:mt-0"},j_e={value:null},R_e=["value"],I_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},O_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},L_e={class:"mt-1 sm:col-span-2 sm:mt-0"},F_e={value:"pending"},N_e={value:"received"},z_e={value:"cancelled"},U_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},B_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},V_e={class:"mt-1 sm:col-span-2 sm:mt-0"},H_e=["placeholder"],q_e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=E(!1),r=E([]),a=["Product Sales","Service Revenue","Consulting Fees","Advertising Revenue","Subscription Income","Commission","Rental Income","Interest Income","Royalties","Miscellaneous"],l=Qr("income",{amount:"",currency:"MWK",income_date:new Date().toISOString().split("T")[0],source:"",category:"",description:"",invoice_number:"",client_name:"",quotation_id:null,status:"pending",notes:""}),c=()=>{i.value=!i.value,i.value||(l.category="")},u=p=>p?parseFloat(p).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",m=async()=>{try{const p=await ce.get("quotations",{params:{per_page:100}});r.value=p.data.data||[]}catch{}},h=async()=>{var p,_,v;try{l.processing=!0,l.errors={};const x={amount:l.amount,currency:l.currency,income_date:l.income_date,source:l.source,category:l.category||null,description:l.description,invoice_number:l.invoice_number||null,client_name:l.client_name||null,quotation_id:l.quotation_id||null,status:l.status,notes:l.notes||null};l.id?await ce.put(`income/${l.id}`,x):await ce.post("income",x),o("close")}catch(x){((p=x.response)==null?void 0:p.status)===422?l.errors=x.response.data.errors||{}:alert(((v=(_=x.response)==null?void 0:_.data)==null?void 0:v.message)||"Failed to save income")}finally{l.processing=!1}};return Pt(()=>t.modelValue,p=>{var _;p?(l.id=p.id,l.amount=p.amount,l.currency=p.currency||"MWK",l.income_date=((_=p.income_date)==null?void 0:_.split("T")[0])||"",l.source=p.source||"",l.category=p.category||"",l.description=p.description||"",l.invoice_number=p.invoice_number||"",l.client_name=p.client_name||"",l.quotation_id=p.quotation_id||null,l.status=p.status||"pending",l.notes=p.notes||"",p.category&&!a.includes(p.category)&&(i.value=!0)):(l.reset(),l.currency="MWK",l.income_date=new Date().toISOString().split("T")[0],l.status="pending",i.value=!1)},{immediate:!0}),Ne(()=>{m()}),(p,_)=>(g(),re(Uo,{"external-form":f(l),onSubmit:h,onCancel:_[12]||(_[12]=v=>o("close"))},{title:W(()=>[J(d(f(l).id?p.__("Edit Income"):p.__("Add Income")),1)]),default:W(()=>[n("div",B1e,[n("div",V1e,[n("label",H1e,[J(d(p.__("Amount"))+" ",1),_[13]||(_[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",q1e,[n("div",W1e,[z(n("select",{"onUpdate:modelValue":_[0]||(_[0]=v=>f(l).currency=v),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[..._[14]||(_[14]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1),n("option",{value:"ZAR"},"ZAR",-1)])],512),[[xe,f(l).currency]]),z(n("input",{"onUpdate:modelValue":_[1]||(_[1]=v=>f(l).amount=v),type:"number",step:"0.01",min:"0",class:X(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.amount}]),placeholder:p.__("Enter amount"),required:""},null,10,K1e),[[K,f(l).amount]])]),f(l).errors.amount?(g(),y("p",Y1e,d(f(l).errors.amount),1)):j("",!0)])]),n("div",G1e,[n("label",X1e,[J(d(p.__("Income Date"))+" ",1),_[15]||(_[15]=n("span",{class:"text-red-500"},"*",-1))]),n("div",J1e,[z(n("input",{"onUpdate:modelValue":_[2]||(_[2]=v=>f(l).income_date=v),type:"date",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.income_date}]),required:""},null,2),[[K,f(l).income_date]]),f(l).errors.income_date?(g(),y("p",Q1e,d(f(l).errors.income_date),1)):j("",!0)])]),n("div",Z1e,[n("label",e_e,[J(d(p.__("Source"))+" ",1),_[16]||(_[16]=n("span",{class:"text-red-500"},"*",-1))]),n("div",t_e,[z(n("select",{"onUpdate:modelValue":_[3]||(_[3]=v=>f(l).source=v),class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.source}]),required:""},[n("option",s_e,d(p.__("Select source")),1),n("option",n_e,d(p.__("Sales")),1),n("option",o_e,d(p.__("Services")),1),n("option",i_e,d(p.__("Consulting")),1),n("option",r_e,d(p.__("AdSense")),1),n("option",a_e,d(p.__("Quotation")),1),n("option",l_e,d(p.__("Other")),1)],2),[[xe,f(l).source]]),f(l).errors.source?(g(),y("p",d_e,d(f(l).errors.source),1)):j("",!0)])]),n("div",c_e,[n("label",u_e,d(p.__("Category")),1),n("div",m_e,[n("div",f_e,[i.value?z((g(),y("input",{key:1,"onUpdate:modelValue":_[5]||(_[5]=v=>f(l).category=v),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Enter custom category")},null,8,g_e)),[[K,f(l).category]]):z((g(),y("select",{key:0,"onUpdate:modelValue":_[4]||(_[4]=v=>f(l).category=v),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",p_e,d(p.__("Select category")),1),(g(),y(oe,null,ue(a,v=>n("option",{key:v,value:v},d(v),9,h_e)),64))],512)),[[xe,f(l).category]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:c},d(i.value?p.__("Select"):p.__("Custom")),1)])])]),n("div",__e,[n("label",v_e,[J(d(p.__("Description"))+" ",1),_[17]||(_[17]=n("span",{class:"text-red-500"},"*",-1))]),n("div",y_e,[z(n("textarea",{"onUpdate:modelValue":_[6]||(_[6]=v=>f(l).description=v),rows:"3",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.description}]),placeholder:p.__("Description of the income"),required:""},null,10,x_e),[[K,f(l).description]]),f(l).errors.description?(g(),y("p",b_e,d(f(l).errors.description),1)):j("",!0)])]),n("div",w_e,[n("label",k_e,d(p.__("Invoice Number")),1),n("div",$_e,[z(n("input",{"onUpdate:modelValue":_[7]||(_[7]=v=>f(l).invoice_number=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Invoice or reference number (optional)")},null,8,C_e),[[K,f(l).invoice_number]])])]),n("div",S_e,[n("label",M_e,d(p.__("Client Name")),1),n("div",T_e,[z(n("input",{"onUpdate:modelValue":_[8]||(_[8]=v=>f(l).client_name=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Client or payer name (optional)")},null,8,D_e),[[K,f(l).client_name]])])]),r.value.length>0?(g(),y("div",A_e,[n("label",P_e,d(p.__("Related Quotation")),1),n("div",E_e,[z(n("select",{"onUpdate:modelValue":_[9]||(_[9]=v=>f(l).quotation_id=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",j_e,d(p.__("None")),1),(g(!0),y(oe,null,ue(r.value,v=>{var x;return g(),y("option",{key:v.id,value:v.id},d(v.quotation_number||`#${v.id}`)+" - "+d(((x=v.client)==null?void 0:x.name)||"N/A")+" ("+d(v.currency)+" "+d(u(v.total))+") ",9,R_e)}),128))],512),[[xe,f(l).quotation_id]])])])):j("",!0),n("div",I_e,[n("label",O_e,d(p.__("Status")),1),n("div",L_e,[z(n("select",{"onUpdate:modelValue":_[10]||(_[10]=v=>f(l).status=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",F_e,d(p.__("Pending")),1),n("option",N_e,d(p.__("Received")),1),n("option",z_e,d(p.__("Cancelled")),1)],512),[[xe,f(l).status]])])]),n("div",U_e,[n("label",B_e,d(p.__("Notes")),1),n("div",V_e,[z(n("textarea",{"onUpdate:modelValue":_[11]||(_[11]=v=>f(l).notes=v),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Additional notes (optional)")},null,8,H_e),[[K,f(l).notes]])])])])]),_:1},8,["external-form"]))}},W_e={key:0,class:"mt-8 flex justify-center"},K_e={key:1},Y_e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},G_e={class:"overflow-hidden rounded-lg bg-white shadow"},X_e={class:"p-5"},J_e={class:"flex items-center"},Q_e={class:"flex-shrink-0"},Z_e={class:"ml-5 w-0 flex-1"},eve={class:"truncate text-sm font-medium text-gray-500"},tve={class:"text-lg font-semibold text-gray-900"},sve={class:"overflow-hidden rounded-lg bg-white shadow"},nve={class:"p-5"},ove={class:"flex items-center"},ive={class:"flex-shrink-0"},rve={class:"ml-5 w-0 flex-1"},ave={class:"truncate text-sm font-medium text-gray-500"},lve={class:"text-lg font-semibold text-gray-900"},dve={class:"overflow-hidden rounded-lg bg-white shadow"},cve={class:"p-5"},uve={class:"flex items-center"},mve={class:"flex-shrink-0"},fve={class:"ml-5 w-0 flex-1"},pve={class:"truncate text-sm font-medium text-gray-500"},hve={class:"text-lg font-semibold text-gray-900"},gve={class:"overflow-hidden rounded-lg bg-white shadow"},_ve={class:"p-5"},vve={class:"flex items-center"},yve={class:"flex-shrink-0"},xve={class:"ml-5 w-0 flex-1"},bve={class:"truncate text-sm font-medium text-gray-500"},wve={class:"text-lg font-semibold text-gray-900"},kve={class:"overflow-hidden rounded-lg bg-white shadow"},$ve={class:"p-5"},Cve={class:"flex items-center"},Sve={class:"flex-shrink-0"},Mve={class:"ml-5 w-0 flex-1"},Tve={class:"truncate text-sm font-medium text-gray-500"},Dve={class:"text-lg font-semibold text-gray-900"},Ave={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Pve={class:"flex flex-1 flex-wrap gap-2"},Eve={class:"relative w-64 rounded-md shadow-sm"},jve={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Rve=["placeholder"],Ive={value:""},Ove={value:"pending"},Lve={value:"received"},Fve={value:"cancelled"},Nve={value:""},zve={value:"sales"},Uve={value:"services"},Bve={value:"consulting"},Vve={value:"adsense"},Hve={value:"quotation"},qve={value:"other"},Wve={class:"ltr:ml-auto rtl:mr-auto"},Kve={class:"flex flex-col"},Yve={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Gve={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Xve={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Jve={class:"min-w-full divide-y divide-gray-200"},Qve={class:"divide-y divide-gray-200 bg-white"},Zve={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},eye={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},tye={key:0,class:"text-xs text-gray-500"},sye={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},nye={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},oye={class:"whitespace-nowrap px-6 py-4 text-sm"},iye={class:"whitespace-nowrap px-6 py-4"},rye={class:"flex items-center"},aye={class:"h-8 w-8 flex-shrink-0"},lye={class:"ml-3"},dye={class:"text-sm font-medium text-gray-900"},cye={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},uye={key:0},mye={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},fye={class:"p-6"},pye={class:"flex items-center justify-between mb-4"},hye={class:"text-lg font-semibold text-gray-900"},gye={key:0,class:"space-y-4"},_ye={class:"grid grid-cols-2 gap-4"},vye={class:"block text-sm font-medium text-gray-700"},yye={class:"mt-1 text-sm text-gray-900"},xye={class:"block text-sm font-medium text-gray-700"},bye={class:"mt-1 text-sm font-semibold text-gray-900"},wye={class:"block text-sm font-medium text-gray-700"},kye={class:"mt-1"},$ye={class:"block text-sm font-medium text-gray-700"},Cye={class:"mt-1"},Sye={class:"block text-sm font-medium text-gray-700"},Mye={class:"mt-1 text-sm text-gray-900"},Tye={class:"block text-sm font-medium text-gray-700"},Dye={class:"mt-1 text-sm text-gray-900"},Aye={key:0},Pye={class:"block text-sm font-medium text-gray-700"},Eye={class:"mt-1 text-sm text-gray-900"},jye={key:1},Rye={class:"block text-sm font-medium text-gray-700"},Iye={class:"mt-1 text-sm text-gray-900"},Oye={class:"block text-sm font-medium text-gray-700"},Lye={class:"mt-1 text-sm text-gray-900"},Fye={key:0},Nye={class:"block text-sm font-medium text-gray-700"},zye={class:"mt-1 text-sm text-gray-900"},Uye={key:1},Bye={class:"block text-sm font-medium text-gray-700"},Vye={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Hye={key:2},qye={class:"block text-sm font-medium text-gray-700"},Wye={class:"mt-1 text-sm text-gray-900"},Kye={class:"text-sm text-gray-500"},Yye={key:3},Gye={class:"block text-sm font-medium text-gray-700"},Xye={class:"mt-1 text-sm text-indigo-600"},Jye={class:"mt-6 flex justify-end"},Qye={class:"p-6"},Zye={class:"flex items-center justify-between mb-4"},exe={class:"text-lg font-semibold text-gray-900"},txe={class:"space-y-4"},sxe={class:"text-sm text-gray-700"},nxe={class:"rounded-md bg-gray-50 p-3"},oxe={class:"text-sm font-medium text-gray-900"},ixe={class:"text-sm text-gray-600"},rxe={class:"mt-6 flex justify-end space-x-3"},axe={__name:"Index",setup(s){const e=E(!0),t=E(null),o=E(null),i=E(!1),r=no("income",{search:"",status:"",source:"",start_date:"",end_date:"",sort_by:"income_date",sort_order:"desc",per_page:15}),a=at({show:!1,model:null}),l=at({show:!1,income:null}),c=at({show:!1,income:null});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{r.get()},300)},h=(T=null)=>{a.model=T,a.show=!0},p=T=>{l.income=T,l.show=!0},_=T=>{c.income=T,c.show=!0},v=async()=>{var T,F;try{await ce.post(`income/${c.income.id}/mark-as-received`),c.show=!1,r.get(),w()}catch(L){alert(((F=(T=L.response)==null?void 0:T.data)==null?void 0:F.message)||"Failed to mark income as received")}},x=()=>{r.get(),w()},w=async()=>{try{const T=await ce.get("income/statistics");t.value=T.data.data}catch{}},b=T=>T?new Date(T).toLocaleDateString():"-",k=T=>T?new Date(T).toLocaleString():"-",C=T=>T?parseFloat(T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",$=T=>T?"MWK "+C(T):"MWK 0.00",A=T=>({sales:"Sales",services:"Services",consulting:"Consulting",adsense:"AdSense",quotation:"Quotation",other:"Other"})[T]||T,R=T=>({sales:"bg-blue-100 text-blue-800",services:"bg-green-100 text-green-800",consulting:"bg-purple-100 text-purple-800",adsense:"bg-yellow-100 text-yellow-800",quotation:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"})[T]||"bg-gray-100 text-gray-800";return Ne(async()=>{var T,F;o.value=(T=vt.user)==null?void 0:T.id,i.value=((F=vt.user)==null?void 0:F.is_super_admin)||!1,await Promise.all([r.get(),w()]),e.value=!1}),(T,F)=>e.value?(g(),y("div",W_e,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",K_e,[t.value?(g(),y("div",Y_e,[n("div",G_e,[n("div",X_e,[n("div",J_e,[n("div",Q_e,[S(f(bi),{class:"h-6 w-6 text-green-400"})]),n("div",Z_e,[n("dl",null,[n("dt",eve,d(T.__("Total Income")),1),n("dd",tve,d($(t.value.total_income)),1)])])])])]),n("div",sve,[n("div",nve,[n("div",ove,[n("div",ive,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",rve,[n("dl",null,[n("dt",ave,d(T.__("Pending")),1),n("dd",lve,d(t.value.pending),1)])])])])]),n("div",dve,[n("div",cve,[n("div",uve,[n("div",mve,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",fve,[n("dl",null,[n("dt",pve,d(T.__("Received")),1),n("dd",hve,d(t.value.received),1)])])])])]),n("div",gve,[n("div",_ve,[n("div",vve,[n("div",yve,[S(f(Ys),{class:"h-6 w-6 text-blue-400"})]),n("div",xve,[n("dl",null,[n("dt",bve,d(T.__("This Month")),1),n("dd",wve,d($(t.value.this_month)),1)])])])])]),n("div",kve,[n("div",$ve,[n("div",Cve,[n("div",Sve,[S(f(Uc),{class:"h-6 w-6 text-purple-400"})]),n("div",Mve,[n("dl",null,[n("dt",Tve,d(T.__("Last Month")),1),n("dd",Dve,d($(t.value.last_month)),1)])])])])])])):j("",!0),n("div",Ave,[n("div",Pve,[n("div",Eve,[n("div",jve,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":F[0]||(F[0]=L=>f(r).params.search=L),type:"search",placeholder:T.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,Rve),[[K,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":F[1]||(F[1]=L=>f(r).params.status=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[2]||(F[2]=L=>f(r).get())},[n("option",Ive,d(T.__("All Statuses")),1),n("option",Ove,d(T.__("Pending")),1),n("option",Lve,d(T.__("Received")),1),n("option",Fve,d(T.__("Cancelled")),1)],544),[[xe,f(r).params.status]]),z(n("select",{"onUpdate:modelValue":F[3]||(F[3]=L=>f(r).params.source=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[4]||(F[4]=L=>f(r).get())},[n("option",Nve,d(T.__("All Sources")),1),n("option",zve,d(T.__("Sales")),1),n("option",Uve,d(T.__("Services")),1),n("option",Bve,d(T.__("Consulting")),1),n("option",Vve,d(T.__("AdSense")),1),n("option",Hve,d(T.__("Quotation")),1),n("option",qve,d(T.__("Other")),1)],544),[[xe,f(r).params.source]]),z(n("input",{"onUpdate:modelValue":F[5]||(F[5]=L=>f(r).params.start_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[6]||(F[6]=L=>f(r).get())},null,544),[[K,f(r).params.start_date]]),z(n("input",{"onUpdate:modelValue":F[7]||(F[7]=L=>f(r).params.end_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[8]||(F[8]=L=>f(r).get())},null,544),[[K,f(r).params.end_date]])]),n("div",Wve,[S(Le,{size:"sm",onClick:F[9]||(F[9]=L=>h())},{default:W(()=>[J(d(T.__("Add Income")),1)]),_:1})])]),n("section",null,[n("div",Kve,[n("div",Yve,[n("div",Gve,[n("div",Xve,[n("table",Jve,[n("thead",null,[n("tr",null,[S(Fe,{name:"income",index:f(r),label:T.__("Date"),sort:"income_date"},null,8,["index","label"]),S(Fe,{name:"income",index:f(r),label:T.__("Description")},null,8,["index","label"]),S(Fe,{name:"income",index:f(r),label:T.__("Source"),sort:"source"},null,8,["index","label"]),S(Fe,{name:"income",index:f(r),label:T.__("Amount"),sort:"amount"},null,8,["index","label"]),S(Fe,{name:"income",index:f(r),label:T.__("Status"),sort:"status"},null,8,["index","label"]),S(Fe,{name:"income",index:f(r),label:T.__("Created By")},null,8,["index","label"]),F[15]||(F[15]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Qve,[(g(!0),y(oe,null,ue(f(r).data.data,L=>{var D;return g(),y("tr",{key:L.id,class:"hover:bg-gray-50"},[n("td",Zve,d(b(L.income_date)),1),n("td",eye,[n("div",null,d(L.description),1),L.client_name?(g(),y("div",tye,d(L.client_name),1)):j("",!0)]),n("td",sye,[n("span",{class:X(["inline-flex rounded-full px-2 py-1 text-xs font-medium",R(L.source)])},d(A(L.source)),3)]),n("td",nye,d(L.currency)+" "+d(C(L.amount)),1),n("td",oye,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":L.status==="pending","bg-green-100 text-green-800":L.status==="received","bg-red-100 text-red-800":L.status==="cancelled"}])},d(L.status.charAt(0).toUpperCase()+L.status.slice(1)),3)]),n("td",iye,[n("div",rye,[n("div",aye,[S(cs,{user:L.user,size:"8"},null,8,["user"])]),n("div",lye,[n("div",dye,d((D=L.user)==null?void 0:D.name),1)])])]),n("td",cye,[L.status==="pending"&&i.value?(g(),re(Le,{key:0,size:"xs",variant:"success",onClick:N=>_(L)},{default:W(()=>[J(d(T.__("Mark Received")),1)]),_:1},8,["onClick"])):j("",!0),L.status==="pending"&&(L.user_id===o.value||i.value)?(g(),y(oe,{key:1},[S(f(Un),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>h(L)},null,8,["onClick"]),S(f(Gt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>f(r).deleteIt(L.id)},null,8,["onClick"])],64)):j("",!0),S(f(zn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>p(L)},null,8,["onClick"])])])}),128)),!f(r).data.data||f(r).data.data.length===0?(g(),y("tr",uye,[n("td",mye,d(T.__("No income records found")),1)])):j("",!0)])]),S(Rs,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),re(bs,{key:1,size:"lg",onSaved:x},{default:W(()=>[S(q_e,{"model-value":a.model,onClose:F[10]||(F[10]=L=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(g(),re(_o,{key:2,width:"max-w-2xl"},{default:W(()=>{var L,D;return[n("div",fye,[n("div",pye,[n("h3",hye,d(T.__("Income Details")),1),n("button",{onClick:F[11]||(F[11]=N=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),l.income?(g(),y("div",gye,[n("div",_ye,[n("div",null,[n("label",vye,d(T.__("Date")),1),n("p",yye,d(b(l.income.income_date)),1)]),n("div",null,[n("label",xye,d(T.__("Amount")),1),n("p",bye,d(l.income.currency)+" "+d(C(l.income.amount)),1)]),n("div",null,[n("label",wye,d(T.__("Source")),1),n("p",kye,[n("span",{class:X(["inline-flex rounded-full px-2 py-1 text-xs font-medium",R(l.income.source)])},d(A(l.income.source)),3)])]),n("div",null,[n("label",$ye,d(T.__("Status")),1),n("p",Cye,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.income.status==="pending","bg-green-100 text-green-800":l.income.status==="received","bg-red-100 text-red-800":l.income.status==="cancelled"}])},d(l.income.status.charAt(0).toUpperCase()+l.income.status.slice(1)),3)])]),n("div",null,[n("label",Sye,d(T.__("Created By")),1),n("p",Mye,d((L=l.income.user)==null?void 0:L.name),1)]),n("div",null,[n("label",Tye,d(T.__("Created On")),1),n("p",Dye,d(k(l.income.created_at)),1)]),l.income.invoice_number?(g(),y("div",Aye,[n("label",Pye,d(T.__("Invoice Number")),1),n("p",Eye,d(l.income.invoice_number),1)])):j("",!0),l.income.client_name?(g(),y("div",jye,[n("label",Rye,d(T.__("Client")),1),n("p",Iye,d(l.income.client_name),1)])):j("",!0)]),n("div",null,[n("label",Oye,d(T.__("Description")),1),n("p",Lye,d(l.income.description),1)]),l.income.category?(g(),y("div",Fye,[n("label",Nye,d(T.__("Category")),1),n("p",zye,d(l.income.category),1)])):j("",!0),l.income.notes?(g(),y("div",Uye,[n("label",Bye,d(T.__("Notes")),1),n("p",Vye,d(l.income.notes),1)])):j("",!0),l.income.receiver?(g(),y("div",Hye,[n("label",qye,d(T.__("Received By")),1),n("p",Wye,d((D=l.income.receiver)==null?void 0:D.name),1),n("p",Kye,d(k(l.income.received_at)),1)])):j("",!0),l.income.quotation?(g(),y("div",Yye,[n("label",Gye,d(T.__("Related Quotation")),1),n("p",Xye,d(l.income.quotation.quotation_number||`#${l.income.quotation.id}`),1)])):j("",!0)])):j("",!0),n("div",Jye,[S(Le,{onClick:F[12]||(F[12]=N=>l.show=!1)},{default:W(()=>[J(d(T.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),c.show?(g(),re(_o,{key:3,width:"max-w-md"},{default:W(()=>{var L,D,N;return[n("div",Qye,[n("div",Zye,[n("h3",exe,d(T.__("Mark as Received")),1),n("button",{onClick:F[13]||(F[13]=P=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),n("div",txe,[n("p",sxe,d(T.__("Are you sure you want to mark this income as received?")),1),n("div",nxe,[n("p",oxe,d((L=c.income)==null?void 0:L.description),1),n("p",ixe,d((D=c.income)==null?void 0:D.currency)+" "+d(C((N=c.income)==null?void 0:N.amount)),1)])]),n("div",rxe,[S(Le,{white:"",onClick:F[14]||(F[14]=P=>c.show=!1)},{default:W(()=>[J(d(T.__("Cancel")),1)]),_:1}),S(Le,{onClick:v},{default:W(()=>[J(d(T.__("Mark Received")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},lxe={key:0,class:"mt-8 flex justify-center"},dxe={key:1},cxe={class:"mb-6 flex items-center gap-4"},uxe=["value"],mxe=["value"],fxe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},pxe={class:"overflow-hidden rounded-lg bg-white shadow"},hxe={class:"p-5"},gxe={class:"flex items-center"},_xe={class:"flex-shrink-0"},vxe={class:"ml-5 w-0 flex-1"},yxe={class:"text-lg font-semibold text-green-600"},xxe={class:"overflow-hidden rounded-lg bg-white shadow"},bxe={class:"p-5"},wxe={class:"flex items-center"},kxe={class:"flex-shrink-0"},$xe={class:"ml-5 w-0 flex-1"},Cxe={class:"text-lg font-semibold text-red-600"},Sxe={class:"overflow-hidden rounded-lg bg-white shadow"},Mxe={class:"p-5"},Txe={class:"flex items-center"},Dxe={class:"flex-shrink-0"},Axe={class:"ml-5 w-0 flex-1"},Pxe={class:"p-5"},Exe={class:"flex items-center"},jxe={class:"flex-shrink-0"},Rxe={class:"ml-5 w-0 flex-1"},Ixe={class:"truncate text-sm font-medium text-white/80"},Oxe={class:"text-lg font-bold text-white"},Lxe={key:1,class:"mb-6 overflow-hidden rounded-lg bg-white shadow"},Fxe={class:"grid grid-cols-1 gap-4 p-6 md:grid-cols-3"},Nxe={class:"text-center"},zxe={key:0},Uxe={class:"text-center"},Bxe={key:0},Vxe={class:"text-center"},Hxe={key:0},qxe={key:2,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Wxe={class:"overflow-hidden rounded-lg bg-white shadow"},Kxe={class:"p-6"},Yxe={key:0,class:"space-y-4"},Gxe={class:"text-sm text-gray-500 capitalize"},Xxe={class:"text-sm font-medium text-gray-900"},Jxe={class:"text-gray-400"},Qxe={class:"flex justify-between border-t pt-4"},Zxe={class:"text-sm font-bold text-green-600"},ebe={key:1,class:"text-sm text-gray-500"},tbe={class:"overflow-hidden rounded-lg bg-white shadow"},sbe={class:"p-6"},nbe={key:0,class:"space-y-4"},obe={class:"text-sm text-gray-500 capitalize"},ibe={class:"text-sm font-medium text-gray-900"},rbe={class:"text-gray-400"},abe={class:"flex justify-between border-t pt-4"},lbe={class:"text-sm font-bold text-red-600"},dbe={key:1,class:"text-sm text-gray-500"},cbe={class:"overflow-hidden rounded-lg bg-white shadow"},ube={class:"p-6"},mbe={key:0,class:"space-y-4"},fbe={class:"text-sm text-gray-500 capitalize"},pbe={class:"text-sm font-medium text-gray-900"},hbe={class:"text-gray-400"},gbe={key:1,class:"text-sm text-gray-500"},_be={class:"overflow-hidden rounded-lg bg-white shadow"},vbe={class:"p-6"},ybe={class:"space-y-4"},xbe={class:"flex justify-between"},bbe={class:"text-sm font-medium text-green-600"},wbe={class:"flex justify-between"},kbe={class:"text-sm font-medium text-red-600"},$be={class:"flex justify-between border-t pt-4"},Cbe={class:"text-sm font-medium text-gray-900"},Sbe={class:"flex justify-between"},Mbe={key:3,class:"mt-6 overflow-hidden rounded-lg bg-white shadow"},Tbe={class:"min-w-full divide-y divide-gray-200"},Dbe={class:"divide-y divide-gray-200 bg-white"},Abe={class:"whitespace-nowrap px-6 py-4"},Pbe={class:"text-sm font-medium text-gray-900"},Ebe={class:"whitespace-nowrap px-6 py-4 text-sm text-green-600"},jbe={class:"whitespace-nowrap px-6 py-4 text-sm text-red-600"},Rbe={__name:"ProfitLoss",setup(s){const e=E(!0),t=E(null),o=new Date,i=E(o.getFullYear()),r=E(o.getMonth()+1),a=Array.from({length:5},(h,p)=>o.getFullYear()-p),l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=h=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(h||0),u=h=>new Date(h).toLocaleDateString("en-MW",{month:"short",day:"numeric"}),m=async()=>{e.value=!0;try{const h=await ke.get("/api/profit-loss/monthly",{params:{year:i.value,month:r.value}});t.value=h.data.data}catch{}finally{e.value=!1}};return Ne(()=>m()),(h,p)=>{var _,v,x,w,b,k,C,$,A,R,T,F,L,D,N,P,U,ye,le,de,q,ne,G,ie,$e;return e.value?(g(),y("div",lxe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",dxe,[p[20]||(p[20]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Profit & Loss Report"),n("p",{class:"text-sm text-gray-500"},"Analyze your financial performance based on income and expenses")],-1)),n("div",cxe,[z(n("select",{"onUpdate:modelValue":p[0]||(p[0]=we=>i.value=we),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(!0),y(oe,null,ue(f(a),we=>(g(),y("option",{key:we,value:we},d(we),9,uxe))),128))],544),[[xe,i.value]]),z(n("select",{"onUpdate:modelValue":p[1]||(p[1]=we=>r.value=we),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(),y(oe,null,ue(l,(we,Qe)=>n("option",{key:Qe,value:Qe+1},d(we),9,mxe)),64))],544),[[xe,r.value]])]),t.value?(g(),y("div",fxe,[n("div",pxe,[n("div",hxe,[n("div",gxe,[n("div",_xe,[S(f(Uc),{class:"h-6 w-6 text-green-400"})]),n("div",vxe,[n("dl",null,[p[2]||(p[2]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Income",-1)),n("dd",yxe,"MK "+d(c((_=t.value.summary)==null?void 0:_.total_income)),1)])])])])]),n("div",xxe,[n("div",bxe,[n("div",wxe,[n("div",kxe,[S(f(t$),{class:"h-6 w-6 text-red-400"})]),n("div",$xe,[n("dl",null,[p[3]||(p[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Expenses",-1)),n("dd",Cxe,"MK "+d(c((v=t.value.summary)==null?void 0:v.total_expenses)),1)])])])])]),n("div",Sxe,[n("div",Mxe,[n("div",Txe,[n("div",Dxe,[S(f(qr),{class:"h-6 w-6 text-blue-400"})]),n("div",Axe,[n("dl",null,[p[4]||(p[4]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Profit Margin",-1)),n("dd",{class:X(["text-lg font-semibold",((x=t.value.summary)==null?void 0:x.profit_margin)>=0?"text-green-600":"text-red-600"])},d((b=(w=t.value.summary)==null?void 0:w.profit_margin)==null?void 0:b.toFixed(1))+"% ",3)])])])])]),n("div",{class:X(["overflow-hidden rounded-lg shadow",(k=t.value.summary)!=null&&k.is_profit?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-rose-600"])},[n("div",Pxe,[n("div",Exe,[n("div",jxe,[S(f(Ys),{class:"h-6 w-6 text-white"})]),n("div",Rxe,[n("dl",null,[n("dt",Ixe,d((C=t.value.summary)!=null&&C.is_profit?"Net Profit":"Net Loss"),1),n("dd",Oxe,"MK "+d(c(Math.abs(($=t.value.summary)==null?void 0:$.net_profit_loss))),1)])])])])],2)])):j("",!0),(A=t.value)!=null&&A.comparison?(g(),y("div",Lxe,[p[8]||(p[8]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Month-over-Month Comparison")],-1)),n("div",Fxe,[n("div",Nxe,[p[5]||(p[5]=n("p",{class:"text-sm text-gray-500"},"Income Change",-1)),n("p",{class:X(["text-xl font-semibold",t.value.comparison.income_change>=0?"text-green-600":"text-red-600"])},[t.value.comparison.income_change>=0?(g(),y("span",zxe,"+")):j("",!0),J(d(t.value.comparison.income_change)+"% ",1)],2)]),n("div",Uxe,[p[6]||(p[6]=n("p",{class:"text-sm text-gray-500"},"Expense Change",-1)),n("p",{class:X(["text-xl font-semibold",t.value.comparison.expense_change<=0?"text-green-600":"text-red-600"])},[t.value.comparison.expense_change>=0?(g(),y("span",Bxe,"+")):j("",!0),J(d(t.value.comparison.expense_change)+"% ",1)],2)]),n("div",Vxe,[p[7]||(p[7]=n("p",{class:"text-sm text-gray-500"},"Profit/Loss Change",-1)),n("p",{class:X(["text-xl font-semibold",t.value.comparison.profit_change>=0?"text-green-600":"text-red-600"])},[t.value.comparison.profit_change>=0?(g(),y("span",Hxe,"+")):j("",!0),J(d(t.value.comparison.profit_change)+"% ",1)],2)])])])):j("",!0),t.value?(g(),y("div",qxe,[n("div",Wxe,[p[10]||(p[10]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Income by Source")],-1)),n("div",Kxe,[(T=(R=t.value.income)==null?void 0:R.by_source)!=null&&T.length?(g(),y("dl",Yxe,[(g(!0),y(oe,null,ue(t.value.income.by_source,we=>(g(),y("div",{key:we.source,class:"flex justify-between"},[n("dt",Gxe,d(we.source||"Other"),1),n("dd",Xxe,[J("MK "+d(c(we.amount))+" ",1),n("span",Jxe,"("+d(we.count)+")",1)])]))),128)),n("div",Qxe,[p[9]||(p[9]=n("dt",{class:"text-sm font-medium text-gray-900"},"Total Income",-1)),n("dd",Zxe,"MK "+d(c(t.value.income.total)),1)])])):(g(),y("p",ebe,"No income recorded for this period."))])]),n("div",tbe,[p[12]||(p[12]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Expenses by Category")],-1)),n("div",sbe,[(L=(F=t.value.expenses)==null?void 0:F.by_category)!=null&&L.length?(g(),y("dl",nbe,[(g(!0),y(oe,null,ue(t.value.expenses.by_category,we=>(g(),y("div",{key:we.category,class:"flex justify-between"},[n("dt",obe,d(we.category),1),n("dd",ibe,[J("MK "+d(c(we.amount))+" ",1),n("span",rbe,"("+d(we.count)+")",1)])]))),128)),n("div",abe,[p[11]||(p[11]=n("dt",{class:"text-sm font-medium text-gray-900"},"Total Expenses",-1)),n("dd",lbe,"MK "+d(c(t.value.expenses.total)),1)])])):(g(),y("p",dbe,"No expenses recorded for this period."))])]),n("div",cbe,[p[13]||(p[13]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Income by Category")],-1)),n("div",ube,[(N=(D=t.value.income)==null?void 0:D.by_category)!=null&&N.length?(g(),y("dl",mbe,[(g(!0),y(oe,null,ue(t.value.income.by_category,we=>(g(),y("div",{key:we.category,class:"flex justify-between"},[n("dt",fbe,d(we.category),1),n("dd",pbe,[J("MK "+d(c(we.amount))+" ",1),n("span",hbe,"("+d(we.count)+")",1)])]))),128))])):(g(),y("p",gbe,"No categorized income for this period."))])]),n("div",_be,[p[17]||(p[17]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Profit & Loss Summary")],-1)),n("div",vbe,[n("dl",ybe,[n("div",xbe,[p[14]||(p[14]=n("dt",{class:"text-sm text-gray-500"},"Total Income",-1)),n("dd",bbe,"MK "+d(c((P=t.value.summary)==null?void 0:P.total_income)),1)]),n("div",wbe,[p[15]||(p[15]=n("dt",{class:"text-sm text-gray-500"},"Total Expenses",-1)),n("dd",kbe,"- MK "+d(c((U=t.value.summary)==null?void 0:U.total_expenses)),1)]),n("div",$be,[n("dt",Cbe,d((ye=t.value.summary)!=null&&ye.is_profit?"Net Profit":"Net Loss"),1),n("dd",{class:X(["text-sm font-bold",(le=t.value.summary)!=null&&le.is_profit?"text-green-600":"text-red-600"])}," MK "+d(c((de=t.value.summary)==null?void 0:de.net_profit_loss)),3)]),n("div",Sbe,[p[16]||(p[16]=n("dt",{class:"text-sm font-medium text-gray-900"},"Profit Margin",-1)),n("dd",{class:X(["text-sm font-bold",((q=t.value.summary)==null?void 0:q.profit_margin)>=0?"text-green-600":"text-red-600"])},d((G=(ne=t.value.summary)==null?void 0:ne.profit_margin)==null?void 0:G.toFixed(1))+"% ",3)])])])])])):j("",!0),($e=(ie=t.value)==null?void 0:ie.weekly_breakdown)!=null&&$e.length?(g(),y("div",Mbe,[p[19]||(p[19]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Weekly Breakdown")],-1)),n("table",Tbe,[p[18]||(p[18]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Week"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Income"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Expenses"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Net")])],-1)),n("tbody",Dbe,[(g(!0),y(oe,null,ue(t.value.weekly_breakdown,(we,Qe)=>(g(),y("tr",{key:Qe,class:"hover:bg-gray-50"},[n("td",Abe,[n("div",Pbe,d(u(we.week_start))+" - "+d(u(we.week_end)),1)]),n("td",Ebe," MK "+d(c(we.income)),1),n("td",jbe," MK "+d(c(we.expenses)),1),n("td",{class:X(["whitespace-nowrap px-6 py-4 text-sm font-medium",we.net>=0?"text-green-600":"text-red-600"])}," MK "+d(c(we.net)),3)]))),128))])])])):j("",!0)]))}}},Ibe={key:0,class:"mt-8 flex justify-center"},Obe={key:1},Lbe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Fbe={class:"overflow-hidden rounded-lg bg-white shadow"},Nbe={class:"p-5"},zbe={class:"flex items-center"},Ube={class:"flex-shrink-0"},Bbe={class:"ml-5 w-0 flex-1"},Vbe={class:"truncate text-sm font-medium text-gray-500"},Hbe={class:"text-lg font-semibold text-gray-900"},qbe={class:"overflow-hidden rounded-lg bg-white shadow"},Wbe={class:"p-5"},Kbe={class:"flex items-center"},Ybe={class:"flex-shrink-0"},Gbe={class:"ml-5 w-0 flex-1"},Xbe={class:"truncate text-sm font-medium text-gray-500"},Jbe={class:"text-lg font-semibold text-gray-900"},Qbe={class:"overflow-hidden rounded-lg bg-white shadow"},Zbe={class:"p-5"},e2e={class:"flex items-center"},t2e={class:"flex-shrink-0"},s2e={class:"ml-5 w-0 flex-1"},n2e={class:"truncate text-sm font-medium text-gray-500"},o2e={class:"text-lg font-semibold text-gray-900"},i2e={class:"overflow-hidden rounded-lg bg-white shadow"},r2e={class:"p-5"},a2e={class:"flex items-center"},l2e={class:"flex-shrink-0"},d2e={class:"ml-5 w-0 flex-1"},c2e={class:"truncate text-sm font-medium text-gray-500"},u2e={class:"text-lg font-semibold text-gray-900"},m2e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},f2e={class:"flex flex-1 flex-wrap gap-2"},p2e={class:"relative w-64 rounded-md shadow-sm"},h2e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},g2e=["placeholder"],_2e={value:""},v2e={value:"created"},y2e={value:"updated"},x2e={value:"deleted"},b2e={value:""},w2e=["value"],k2e={value:""},$2e=["value"],C2e={class:"flex flex-col"},S2e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},M2e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},T2e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},D2e={class:"min-w-full divide-y divide-gray-200"},A2e={class:"divide-y divide-gray-200 bg-white"},P2e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},E2e={class:"whitespace-nowrap px-6 py-4"},j2e={key:0,class:"flex items-center"},R2e={class:"h-8 w-8 flex-shrink-0"},I2e={class:"ml-3"},O2e={class:"text-sm font-medium text-gray-900"},L2e={key:1,class:"text-sm text-gray-400"},F2e={class:"whitespace-nowrap px-6 py-4 text-sm"},N2e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},z2e={class:"inline-flex rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700"},U2e={class:"ml-1 text-gray-400"},B2e={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},V2e={key:0,class:"text-green-600"},H2e={key:1,class:"text-red-600"},q2e={key:2},W2e={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},K2e={key:0},Y2e={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},G2e={class:"p-6"},X2e={class:"flex items-center justify-between mb-4"},J2e={class:"text-lg font-semibold text-gray-900"},Q2e={key:0,class:"space-y-4"},Z2e={class:"grid grid-cols-2 gap-4 border-b pb-4"},ewe={class:"block text-sm font-medium text-gray-700"},twe={class:"mt-1 text-sm text-gray-900"},swe={class:"block text-sm font-medium text-gray-700"},nwe={class:"mt-1 text-sm text-gray-900"},owe={class:"block text-sm font-medium text-gray-700"},iwe={class:"mt-1"},rwe={class:"block text-sm font-medium text-gray-700"},awe={class:"mt-1 text-sm text-gray-900"},lwe={key:0},dwe={class:"block text-sm font-medium text-gray-700"},cwe={class:"mt-1 text-sm text-gray-900"},uwe={key:1},mwe={class:"block text-sm font-medium text-gray-700"},fwe=["title"],pwe={key:0,class:"space-y-4"},hwe={class:"text-sm font-semibold text-gray-700"},gwe={class:"grid grid-cols-2 gap-4"},_we={class:"block text-sm font-medium text-red-600 mb-2"},vwe={class:"bg-red-50 rounded-md p-3 max-h-64 overflow-auto"},ywe={class:"text-xs text-gray-800 whitespace-pre-wrap"},xwe={class:"block text-sm font-medium text-green-600 mb-2"},bwe={class:"bg-green-50 rounded-md p-3 max-h-64 overflow-auto"},wwe={class:"text-xs text-gray-800 whitespace-pre-wrap"},kwe={key:1,class:"space-y-2"},$we={class:"text-sm font-semibold text-gray-700"},Cwe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Swe={class:"mt-6 flex justify-end"},Mwe={__name:"Index",setup(s){const e=E(!0),t=E(null),o=E([]),i=E([]),r=no("audit-trails",{search:"",event:"",model_type:"",user_id:"",start_date:"",end_date:"",sort_by:"created_at",sort_order:"desc",per_page:20}),a=at({show:!1,audit:null});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},u=k=>{a.audit=k,a.show=!0},m=k=>({created:"bg-green-100 text-green-800",updated:"bg-blue-100 text-blue-800",deleted:"bg-red-100 text-red-800",restored:"bg-yellow-100 text-yellow-800"})[k]||"bg-gray-100 text-gray-800",h=k=>{if(!k)return"Unknown";const C=k.split("\\");return C[C.length-1]},p=(k,C)=>{if(!k)return"-";const $=Object.keys(k);return $.length===0?"-":C==="created"?`Created with ${$.length} field(s)`:C==="deleted"?"Deleted record":$.length<=2?$.join(", ")+" changed":`${$.length} field(s) changed`},_=k=>k?new Date(k).toLocaleString():"-",v=k=>{if(!k)return"-";try{return JSON.stringify(k,null,2)}catch{return String(k)}},x=async()=>{try{const k=await ce.get("audit-trails/statistics");t.value=k.data}catch{}},w=async()=>{try{const k=await ce.get("audit-trails/model-types");o.value=k.data}catch{}},b=async()=>{try{const k=await ce.get("users");i.value=k.data.data||k.data}catch{}};return Ne(async()=>{await Promise.all([r.get(),x(),w(),b()]),e.value=!1}),(k,C)=>e.value?(g(),y("div",Ibe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",Obe,[t.value?(g(),y("div",Lbe,[n("div",Fbe,[n("div",Nbe,[n("div",zbe,[n("div",Ube,[S(f(Lv),{class:"h-6 w-6 text-blue-400"})]),n("div",Bbe,[n("dl",null,[n("dt",Vbe,d(k.__("Total Activities")),1),n("dd",Hbe,d(t.value.total),1)])])])])]),n("div",qbe,[n("div",Wbe,[n("div",Kbe,[n("div",Ybe,[S(f(nn),{class:"h-6 w-6 text-green-400"})]),n("div",Gbe,[n("dl",null,[n("dt",Xbe,d(k.__("Today")),1),n("dd",Jbe,d(t.value.today),1)])])])])]),n("div",Qbe,[n("div",Zbe,[n("div",e2e,[n("div",t2e,[S(f(jv),{class:"h-6 w-6 text-yellow-400"})]),n("div",s2e,[n("dl",null,[n("dt",n2e,d(k.__("This Week")),1),n("dd",o2e,d(t.value.this_week),1)])])])])]),n("div",i2e,[n("div",r2e,[n("div",a2e,[n("div",l2e,[S(f(qr),{class:"h-6 w-6 text-purple-400"})]),n("div",d2e,[n("dl",null,[n("dt",c2e,d(k.__("This Month")),1),n("dd",u2e,d(t.value.this_month),1)])])])])])])):j("",!0),n("div",m2e,[n("div",f2e,[n("div",p2e,[n("div",h2e,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":C[0]||(C[0]=$=>f(r).params.search=$),type:"search",placeholder:k.__("Search changes..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,g2e),[[K,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":C[1]||(C[1]=$=>f(r).params.event=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[2]||(C[2]=$=>f(r).get())},[n("option",_2e,d(k.__("All Events")),1),n("option",v2e,d(k.__("Created")),1),n("option",y2e,d(k.__("Updated")),1),n("option",x2e,d(k.__("Deleted")),1)],544),[[xe,f(r).params.event]]),z(n("select",{"onUpdate:modelValue":C[3]||(C[3]=$=>f(r).params.model_type=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[4]||(C[4]=$=>f(r).get())},[n("option",b2e,d(k.__("All Models")),1),(g(!0),y(oe,null,ue(o.value,$=>(g(),y("option",{key:$.value,value:$.label},d($.label),9,w2e))),128))],544),[[xe,f(r).params.model_type]]),z(n("select",{"onUpdate:modelValue":C[5]||(C[5]=$=>f(r).params.user_id=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[6]||(C[6]=$=>f(r).get())},[n("option",k2e,d(k.__("All Users")),1),(g(!0),y(oe,null,ue(i.value,$=>(g(),y("option",{key:$.id,value:$.id},d($.name),9,$2e))),128))],544),[[xe,f(r).params.user_id]]),z(n("input",{"onUpdate:modelValue":C[7]||(C[7]=$=>f(r).params.start_date=$),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[8]||(C[8]=$=>f(r).get())},null,544),[[K,f(r).params.start_date]]),z(n("input",{"onUpdate:modelValue":C[9]||(C[9]=$=>f(r).params.end_date=$),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C[10]||(C[10]=$=>f(r).get())},null,544),[[K,f(r).params.end_date]])])]),n("section",null,[n("div",C2e,[n("div",S2e,[n("div",M2e,[n("div",T2e,[n("table",D2e,[n("thead",null,[n("tr",null,[S(Fe,{name:"audit",index:f(r),label:k.__("Date/Time"),sort:"created_at"},null,8,["index","label"]),S(Fe,{name:"audit",index:f(r),label:k.__("User")},null,8,["index","label"]),S(Fe,{name:"audit",index:f(r),label:k.__("Event"),sort:"event"},null,8,["index","label"]),S(Fe,{name:"audit",index:f(r),label:k.__("Model")},null,8,["index","label"]),S(Fe,{name:"audit",index:f(r),label:k.__("Changes")},null,8,["index","label"]),C[13]||(C[13]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",A2e,[(g(!0),y(oe,null,ue(f(r).data.data,$=>(g(),y("tr",{key:$.id,class:"hover:bg-gray-50"},[n("td",P2e,d(_($.created_at)),1),n("td",E2e,[$.user?(g(),y("div",j2e,[n("div",R2e,[S(cs,{user:$.user,size:"8"},null,8,["user"])]),n("div",I2e,[n("div",O2e,d($.user.name),1)])])):(g(),y("span",L2e,"System"))]),n("td",F2e,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",m($.event)])},d($.event.charAt(0).toUpperCase()+$.event.slice(1)),3)]),n("td",N2e,[n("span",z2e,d(h($.auditable_type)),1),n("span",U2e,"#"+d($.auditable_id),1)]),n("td",B2e,[$.event==="created"?(g(),y("div",V2e,d(p($.new_values,"created")),1)):$.event==="deleted"?(g(),y("div",H2e,d(p($.old_values,"deleted")),1)):(g(),y("div",q2e,d(p($.new_values,"updated")),1))]),n("td",W2e,[S(f(zn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>u($)},null,8,["onClick"])])]))),128)),!f(r).data.data||f(r).data.data.length===0?(g(),y("tr",K2e,[n("td",Y2e,d(k.__("No audit trail records found")),1)])):j("",!0)])]),S(Rs,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),re(_o,{key:1,width:"max-w-3xl"},{default:W(()=>{var $;return[n("div",G2e,[n("div",X2e,[n("h3",J2e,d(k.__("Audit Trail Details")),1),n("button",{onClick:C[11]||(C[11]=A=>a.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(f(mn),{class:"h-6 w-6"})])]),a.audit?(g(),y("div",Q2e,[n("div",Z2e,[n("div",null,[n("label",ewe,d(k.__("Date/Time")),1),n("p",twe,d(_(a.audit.created_at)),1)]),n("div",null,[n("label",swe,d(k.__("User")),1),n("p",nwe,d((($=a.audit.user)==null?void 0:$.name)||"System"),1)]),n("div",null,[n("label",owe,d(k.__("Event")),1),n("p",iwe,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",m(a.audit.event)])},d(a.audit.event.charAt(0).toUpperCase()+a.audit.event.slice(1)),3)])]),n("div",null,[n("label",rwe,d(k.__("Model")),1),n("p",awe,d(h(a.audit.auditable_type))+" #"+d(a.audit.auditable_id),1)]),a.audit.ip_address?(g(),y("div",lwe,[n("label",dwe,d(k.__("IP Address")),1),n("p",cwe,d(a.audit.ip_address),1)])):j("",!0),a.audit.url?(g(),y("div",uwe,[n("label",mwe,d(k.__("URL")),1),n("p",{class:"mt-1 text-sm text-gray-900 truncate",title:a.audit.url},d(a.audit.url),9,fwe)])):j("",!0)]),a.audit.event==="updated"?(g(),y("div",pwe,[n("h4",hwe,d(k.__("Changes")),1),n("div",gwe,[n("div",null,[n("label",_we,d(k.__("Old Values")),1),n("div",vwe,[n("pre",ywe,d(v(a.audit.old_values)),1)])]),n("div",null,[n("label",xwe,d(k.__("New Values")),1),n("div",bwe,[n("pre",wwe,d(v(a.audit.new_values)),1)])])])])):(g(),y("div",kwe,[n("h4",$we,d(a.audit.event==="created"?k.__("Created Values"):k.__("Deleted Values")),1),n("div",{class:X(["rounded-md p-3 max-h-64 overflow-auto",a.audit.event==="created"?"bg-green-50":"bg-red-50"])},[n("pre",Cwe,d(v(a.audit.event==="created"?a.audit.new_values:a.audit.old_values)),1)],2)]))])):j("",!0),n("div",Swe,[S(Le,{onClick:C[12]||(C[12]=A=>a.show=!1)},{default:W(()=>[J(d(k.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},Twe={class:"space-y-6"},Dwe={class:"flex items-center justify-between"},Awe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Pwe={class:"bg-white rounded-lg shadow p-4"},Ewe={class:"mt-1 text-2xl font-semibold text-gray-900"},jwe={class:"bg-white rounded-lg shadow p-4"},Rwe={class:"mt-1 text-2xl font-semibold text-green-600"},Iwe={class:"bg-white rounded-lg shadow p-4"},Owe={class:"mt-1 text-2xl font-semibold text-yellow-600"},Lwe={class:"bg-white rounded-lg shadow p-4"},Fwe={class:"mt-1 text-2xl font-semibold text-red-600"},Nwe={class:"bg-white rounded-lg shadow p-4"},zwe={class:"flex flex-wrap gap-4"},Uwe={class:"flex-1 min-w-64"},Bwe={class:"relative"},Vwe={class:"bg-white rounded-lg shadow overflow-visible"},Hwe={class:"min-w-full divide-y divide-gray-200"},qwe={class:"bg-white divide-y divide-gray-200"},Wwe={key:0},Kwe={key:1},Ywe=["onClick"],Gwe={class:"px-6 py-4"},Xwe={class:"font-medium text-gray-900"},Jwe={class:"text-sm text-gray-500"},Qwe={class:"text-sm text-gray-500"},Zwe={class:"px-6 py-4"},e5e={class:"text-gray-900"},t5e={class:"text-sm text-gray-500"},s5e={class:"px-6 py-4 text-sm text-gray-500"},n5e={class:"w-full max-w-xs"},o5e={class:"flex justify-between text-xs text-gray-600 mb-1"},i5e={class:"w-full bg-gray-200 rounded-full h-2"},r5e={class:"text-xs text-gray-500 mt-1"},a5e={key:0,class:"mt-1 text-xs text-green-600"},l5e={key:1,class:"mt-1 text-xs text-yellow-600"},d5e={class:"py-1"},c5e=["onClick"],u5e=["onClick"],m5e=["onClick"],f5e=["onClick"],p5e=["onClick"],h5e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},g5e={class:"text-sm text-gray-500"},_5e={class:"flex space-x-2"},v5e=["onClick"],y5e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},x5e={class:"flex items-center justify-center min-h-screen px-4"},b5e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},w5e={class:"text-lg font-semibold text-gray-900 mb-4"},k5e={class:"mb-6"},$5e={class:"flex items-center justify-between"},C5e={class:"flex-1 h-1 mx-4 bg-gray-200"},S5e={class:"space-y-4"},M5e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T5e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},D5e={class:"block text-sm font-medium text-gray-700"},A5e=["required"],P5e={class:"space-y-4"},E5e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},j5e={class:"grid grid-cols-2 gap-4"},R5e={key:0},I5e={class:"grid grid-cols-2 gap-4"},O5e={key:1,class:"bg-gray-50 rounded-lg p-4 space-y-4"},L5e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F5e={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-4"},N5e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z5e={class:"md:col-span-2"},U5e={class:"flex justify-between pt-6 border-t mt-6"},B5e={class:"flex space-x-3"},V5e={key:1,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},H5e=ve({__name:"Index",setup(s){const e=gn(),t=E([]),o=E({total:0,active:0,pending:0,suspended:0}),i=E(!0),r=E(""),a=E(""),l=E({current_page:1,last_page:1,per_page:15,total:0}),c=E(!1),u=E(!1),m=E(null),h=E(1),p=E({name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""}),_=async(D=1)=>{i.value=!0;try{const N=new URLSearchParams;N.append("page",D.toString()),r.value&&N.append("search",r.value),a.value&&N.append("status",a.value);const P=await ke.get(`/api/service-providers?${N}`);t.value=P.data.data,l.value={current_page:P.data.current_page,last_page:P.data.last_page,per_page:P.data.per_page,total:P.data.total}}catch{}finally{i.value=!1}},v=async()=>{try{const D=await ke.get("/api/service-providers/statistics");o.value=D.data}catch{}},x=async()=>{try{await ke.post("/api/service-providers",p.value),c.value=!1,R(),await _(),await v()}catch{}},w=async()=>{if(m.value)try{const D={...p.value};D.password||delete D.password,await ke.put(`/api/service-providers/${m.value.id}`,D),u.value=!1,R(),await _()}catch{}},b=async D=>{try{await ke.post(`/api/service-providers/${D.id}/activate`),await _(),await v()}catch{}},k=async D=>{try{await ke.post(`/api/service-providers/${D.id}/suspend`),await _(),await v()}catch{}},C=async D=>{if(confirm("Are you sure you want to delete this service provider?"))try{await ke.delete(`/api/service-providers/${D.id}`),await _(),await v()}catch{}},$=D=>{e.push(`/service-providers/${D.id}`)},A=D=>{var N,P,U;m.value=D,p.value={name:D.name,email:D.email,phone:D.phone||"",national_id:D.national_id||"",address:D.address||"",specialty:D.specialty||"",qualification:D.qualification||"",bio:D.bio||"",hourly_rate:((N=D.hourly_rate)==null?void 0:N.toString())||"",total_agreed_amount:((P=D.total_agreed_amount)==null?void 0:P.toString())||"700000",payment_preference:D.payment_preference||"monthly",monthly_amount:((U=D.monthly_amount)==null?void 0:U.toString())||"",payment_method:D.payment_method||"bank",bank_name:D.bank_name||"",bank_account_number:D.bank_account_number||"",bank_account_name:D.bank_account_name||"",bank_branch:D.bank_branch||"",mobile_money_provider:D.mobile_money_provider||"",mobile_money_number:D.mobile_money_number||"",mobile_money_name:D.mobile_money_name||"",password:""},h.value=1,u.value=!0},R=()=>{p.value={name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""},m.value=null,h.value=1},T=D=>{switch(D){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=D=>new Intl.NumberFormat("en-MW",{style:"decimal"}).format(D||0),L=D=>D.total_agreed_amount?Math.round(D.total_paid/D.total_agreed_amount*100):0;return Ne(()=>{_(),v()}),(D,N)=>(g(),y("div",Twe,[n("div",Dwe,[N[39]||(N[39]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Service Providers (Teachers)"),n("p",{class:"mt-1 text-sm text-gray-500"},"Manage teachers and content providers")],-1)),n("button",{onClick:N[0]||(N[0]=P=>c.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(f(gs),{class:"w-5 h-5 mr-2"}),N[38]||(N[38]=J(" Add Teacher ",-1))])]),n("div",Awe,[n("div",Pwe,[N[40]||(N[40]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Teachers",-1)),n("div",Ewe,d(o.value.total),1)]),n("div",jwe,[N[41]||(N[41]=n("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),n("div",Rwe,d(o.value.active),1)]),n("div",Iwe,[N[42]||(N[42]=n("div",{class:"text-sm font-medium text-gray-500"},"Pending Approval",-1)),n("div",Owe,d(o.value.pending),1)]),n("div",Lwe,[N[43]||(N[43]=n("div",{class:"text-sm font-medium text-gray-500"},"Suspended",-1)),n("div",Fwe,d(o.value.suspended),1)])]),n("div",Nwe,[n("div",zwe,[n("div",Uwe,[n("div",Bwe,[S(f(Qt),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":N[1]||(N[1]=P=>r.value=P),onInput:N[2]||(N[2]=P=>_(1)),type:"text",placeholder:"Search by name, email, phone or ID...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[K,r.value]])])]),z(n("select",{"onUpdate:modelValue":N[3]||(N[3]=P=>a.value=P),onChange:N[4]||(N[4]=P=>_(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...N[44]||(N[44]=[n("option",{value:""},"All Statuses",-1),n("option",{value:"active"},"Active",-1),n("option",{value:"pending"},"Pending",-1),n("option",{value:"suspended"},"Suspended",-1)])],544),[[xe,a.value]])])]),n("div",Vwe,[n("table",Hwe,[N[48]||(N[48]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sessions"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payment Progress"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",qwe,[i.value?(g(),y("tr",Wwe,[...N[45]||(N[45]=[n("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):t.value.length===0?(g(),y("tr",Kwe,[...N[46]||(N[46]=[n("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"No teachers found",-1)])])):j("",!0),(g(!0),y(oe,null,ue(t.value,P=>(g(),y("tr",{key:P.id,class:"hover:bg-gray-50 cursor-pointer",onClick:U=>$(P)},[n("td",Gwe,[n("div",Xwe,d(P.name),1),n("div",Jwe,d(P.email),1),n("div",Qwe,d(P.phone),1)]),n("td",Zwe,[n("div",e5e,d(P.specialty||"-"),1),n("div",t5e,d(P.qualification||"-"),1)]),n("td",s5e,[n("div",null,d(P.recording_sessions_count||0)+" recordings",1),n("div",null,d(P.lesson_plans_count||0)+" lesson plans",1)]),n("td",{class:"px-6 py-4",onClick:N[5]||(N[5]=Ve(()=>{},["stop"]))},[n("div",n5e,[n("div",o5e,[n("span",null,"MK "+d(F(P.total_paid||0)),1),n("span",null,"MK "+d(F(P.total_agreed_amount||7e5)),1)]),n("div",i5e,[n("div",{class:"bg-indigo-600 h-2 rounded-full transition-all",style:bt({width:L(P)+"%"})},null,4)]),n("div",r5e,d(L(P))+"% paid | Balance: MK "+d(F(P.balance_remaining||P.total_agreed_amount||7e5)),1)])]),n("td",{class:"px-6 py-4",onClick:N[6]||(N[6]=Ve(()=>{},["stop"]))},[n("span",{class:X(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",T(P.status)])},d(P.status),3),P.agreement_signed?(g(),y("div",a5e,"Agreement Signed")):(g(),y("div",l5e,"Agreement Pending"))]),n("td",{class:"px-6 py-4 text-right",onClick:N[7]||(N[7]=Ve(()=>{},["stop"]))},[S(f(Lc),{as:"div",class:"relative inline-block text-left"},{default:W(()=>[S(f(Fc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:W(()=>[S(f(Hc),{class:"w-5 h-5"})]),_:1}),S(f(Nc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},{default:W(()=>[n("div",d5e,[S(f(cn),null,{default:W(({active:U})=>[n("button",{onClick:ye=>$(P),class:X([U?"bg-gray-100":"","flex items-center w-full text-left px-4 py-2 text-sm text-gray-700"])},[S(f(zn),{class:"w-4 h-4 mr-2"}),N[47]||(N[47]=J(" View Details ",-1))],10,c5e)]),_:2},1024),S(f(cn),null,{default:W(({active:U})=>[n("button",{onClick:ye=>A(P),class:X([U?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit ",10,u5e)]),_:2},1024),P.status!=="active"?(g(),re(f(cn),{key:0},{default:W(({active:U})=>[n("button",{onClick:ye=>b(P),class:X([U?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])}," Activate ",10,m5e)]),_:2},1024)):j("",!0),P.status==="active"?(g(),re(f(cn),{key:1},{default:W(({active:U})=>[n("button",{onClick:ye=>k(P),class:X([U?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-yellow-700"])}," Suspend ",10,f5e)]),_:2},1024)):j("",!0),S(f(cn),null,{default:W(({active:U})=>[n("button",{onClick:ye=>C(P),class:X([U?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,p5e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])],8,Ywe))),128))])]),l.value.last_page>1?(g(),y("div",h5e,[n("div",g5e," Showing "+d((l.value.current_page-1)*l.value.per_page+1)+" to "+d(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+d(l.value.total),1),n("div",_5e,[(g(!0),y(oe,null,ue(l.value.last_page,P=>(g(),y("button",{key:P,onClick:U=>_(P),class:X(["px-3 py-1 rounded",P===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(P),11,v5e))),128))])])):j("",!0)]),c.value||u.value?(g(),y("div",y5e,[n("div",x5e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:N[8]||(N[8]=P=>{c.value=!1,u.value=!1,R()})}),n("div",b5e,[n("h2",w5e,d(u.value?"Edit Teacher":"Add Teacher"),1),n("div",k5e,[n("div",$5e,[n("button",{onClick:N[9]||(N[9]=P=>h.value=1),class:X(["flex items-center",h.value>=1?"text-indigo-600":"text-gray-400"])},[n("span",{class:X(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",h.value>=1?"bg-indigo-600 text-white":"bg-gray-200"])},"1",2),N[49]||(N[49]=n("span",{class:"hidden sm:inline"},"Personal Info",-1))],2),n("div",C5e,[n("div",{class:X(["h-1 transition-all",h.value>=2?"bg-indigo-600":"bg-gray-200"]),style:bt({width:h.value>=2?"100%":"0%"})},null,6)]),n("button",{onClick:N[10]||(N[10]=P=>h.value=2),class:X(["flex items-center",h.value>=2?"text-indigo-600":"text-gray-400"])},[n("span",{class:X(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",h.value>=2?"bg-indigo-600 text-white":"bg-gray-200"])},"2",2),N[50]||(N[50]=n("span",{class:"hidden sm:inline"},"Payment Details",-1))],2)])]),n("form",{onSubmit:N[37]||(N[37]=Ve(P=>u.value?w():x(),["prevent"]))},[z(n("div",S5e,[n("div",M5e,[n("div",null,[N[51]||(N[51]=n("label",{class:"block text-sm font-medium text-gray-700"},"Full Name *",-1)),z(n("input",{"onUpdate:modelValue":N[11]||(N[11]=P=>p.value.name=P),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.name]])]),n("div",null,[N[52]||(N[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Email *",-1)),z(n("input",{"onUpdate:modelValue":N[12]||(N[12]=P=>p.value.email=P),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.email]])]),n("div",null,[N[53]||(N[53]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),z(n("input",{"onUpdate:modelValue":N[13]||(N[13]=P=>p.value.phone=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.phone]])]),n("div",null,[N[54]||(N[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"National ID",-1)),z(n("input",{"onUpdate:modelValue":N[14]||(N[14]=P=>p.value.national_id=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.national_id]])])]),n("div",null,[N[55]||(N[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(n("input",{"onUpdate:modelValue":N[15]||(N[15]=P=>p.value.address=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.address]])]),n("div",T5e,[n("div",null,[N[56]||(N[56]=n("label",{class:"block text-sm font-medium text-gray-700"},"Subject/Specialty",-1)),z(n("input",{"onUpdate:modelValue":N[16]||(N[16]=P=>p.value.specialty=P),type:"text",placeholder:"e.g., Mathematics, English",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.specialty]])]),n("div",null,[N[57]||(N[57]=n("label",{class:"block text-sm font-medium text-gray-700"},"Qualification",-1)),z(n("input",{"onUpdate:modelValue":N[17]||(N[17]=P=>p.value.qualification=P),type:"text",placeholder:"e.g., Bachelor's Degree",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.qualification]])])]),n("div",null,[N[58]||(N[58]=n("label",{class:"block text-sm font-medium text-gray-700"},"Bio/About",-1)),z(n("textarea",{"onUpdate:modelValue":N[18]||(N[18]=P=>p.value.bio=P),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Brief description about the teacher..."},null,512),[[K,p.value.bio]])]),n("div",null,[n("label",D5e,d(u.value?"New Password (leave blank to keep current)":"Password *"),1),z(n("input",{"onUpdate:modelValue":N[19]||(N[19]=P=>p.value.password=P),type:"password",required:!u.value,class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,8,A5e),[[K,p.value.password]])])],512),[[zt,h.value===1]]),z(n("div",P5e,[N[84]||(N[84]=n("div",{class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},[n("h3",{class:"font-medium text-indigo-800 mb-2"},"Contract Payment Details"),n("p",{class:"text-sm text-indigo-600"},"Configure the payment terms for this teacher's contract.")],-1)),n("div",E5e,[n("div",null,[N[59]||(N[59]=n("label",{class:"block text-sm font-medium text-gray-700"},"Total Agreed Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":N[20]||(N[20]=P=>p.value.total_agreed_amount=P),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.total_agreed_amount]]),N[60]||(N[60]=n("p",{class:"text-xs text-gray-500 mt-1"},"Default: MK 700,000",-1))]),n("div",null,[N[61]||(N[61]=n("label",{class:"block text-sm font-medium text-gray-700"},"Hourly Rate (MK)",-1)),z(n("input",{"onUpdate:modelValue":N[21]||(N[21]=P=>p.value.hourly_rate=P),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.hourly_rate]])])]),n("div",null,[N[66]||(N[66]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Preference *",-1)),n("div",j5e,[n("label",{class:X(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="monthly"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{type:"radio","onUpdate:modelValue":N[22]||(N[22]=P=>p.value.payment_preference=P),value:"monthly",class:"sr-only"},null,512),[[In,p.value.payment_preference]]),N[62]||(N[62]=n("div",{class:"font-medium"},"Monthly Payments",-1)),N[63]||(N[63]=n("div",{class:"text-sm text-gray-500"},"Paid each month during contract",-1))],2),n("label",{class:X(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="lump_sum"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{type:"radio","onUpdate:modelValue":N[23]||(N[23]=P=>p.value.payment_preference=P),value:"lump_sum",class:"sr-only"},null,512),[[In,p.value.payment_preference]]),N[64]||(N[64]=n("div",{class:"font-medium"},"Lump Sum",-1)),N[65]||(N[65]=n("div",{class:"text-sm text-gray-500"},"Full payment after completion",-1))],2)])]),p.value.payment_preference==="monthly"?(g(),y("div",R5e,[N[67]||(N[67]=n("label",{class:"block text-sm font-medium text-gray-700"},"Monthly Payment Amount (MK)",-1)),z(n("input",{"onUpdate:modelValue":N[24]||(N[24]=P=>p.value.monthly_amount=P),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 100000"},null,512),[[K,p.value.monthly_amount]])])):j("",!0),n("div",null,[N[72]||(N[72]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Method *",-1)),n("div",I5e,[n("label",{class:X(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="bank"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{type:"radio","onUpdate:modelValue":N[25]||(N[25]=P=>p.value.payment_method=P),value:"bank",class:"sr-only"},null,512),[[In,p.value.payment_method]]),N[68]||(N[68]=n("div",{class:"font-medium"},"Bank Transfer",-1)),N[69]||(N[69]=n("div",{class:"text-sm text-gray-500"},"Direct bank deposit",-1))],2),n("label",{class:X(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="mobile_money"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{type:"radio","onUpdate:modelValue":N[26]||(N[26]=P=>p.value.payment_method=P),value:"mobile_money",class:"sr-only"},null,512),[[In,p.value.payment_method]]),N[70]||(N[70]=n("div",{class:"font-medium"},"Mobile Money",-1)),N[71]||(N[71]=n("div",{class:"text-sm text-gray-500"},"Airtel Money / TNM Mpamba",-1))],2)])]),p.value.payment_method==="bank"?(g(),y("div",O5e,[N[78]||(N[78]=n("h4",{class:"font-medium text-gray-900"},"Bank Account Details",-1)),n("div",L5e,[n("div",null,[N[74]||(N[74]=n("label",{class:"block text-sm font-medium text-gray-700"},"Bank Name",-1)),z(n("select",{"onUpdate:modelValue":N[27]||(N[27]=P=>p.value.bank_name=P),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...N[73]||(N[73]=[Ps('<option value="">Select Bank</option><option value="National Bank of Malawi">National Bank of Malawi</option><option value="Standard Bank">Standard Bank</option><option value="FDH Bank">FDH Bank</option><option value="NBS Bank">NBS Bank</option><option value="Ecobank">Ecobank</option><option value="First Capital Bank">First Capital Bank</option><option value="CDH Bank">CDH Bank</option><option value="MyBucks">MyBucks</option>',9)])],512),[[xe,p.value.bank_name]])]),n("div",null,[N[75]||(N[75]=n("label",{class:"block text-sm font-medium text-gray-700"},"Branch",-1)),z(n("input",{"onUpdate:modelValue":N[28]||(N[28]=P=>p.value.bank_branch=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.bank_branch]])]),n("div",null,[N[76]||(N[76]=n("label",{class:"block text-sm font-medium text-gray-700"},"Account Name",-1)),z(n("input",{"onUpdate:modelValue":N[29]||(N[29]=P=>p.value.bank_account_name=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.bank_account_name]])]),n("div",null,[N[77]||(N[77]=n("label",{class:"block text-sm font-medium text-gray-700"},"Account Number",-1)),z(n("input",{"onUpdate:modelValue":N[30]||(N[30]=P=>p.value.bank_account_number=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.bank_account_number]])])])])):j("",!0),p.value.payment_method==="mobile_money"?(g(),y("div",F5e,[N[83]||(N[83]=n("h4",{class:"font-medium text-gray-900"},"Mobile Money Details",-1)),n("div",N5e,[n("div",null,[N[80]||(N[80]=n("label",{class:"block text-sm font-medium text-gray-700"},"Provider",-1)),z(n("select",{"onUpdate:modelValue":N[31]||(N[31]=P=>p.value.mobile_money_provider=P),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...N[79]||(N[79]=[n("option",{value:""},"Select Provider",-1),n("option",{value:"Airtel Money"},"Airtel Money",-1),n("option",{value:"TNM Mpamba"},"TNM Mpamba",-1)])],512),[[xe,p.value.mobile_money_provider]])]),n("div",null,[N[81]||(N[81]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),z(n("input",{"onUpdate:modelValue":N[32]||(N[32]=P=>p.value.mobile_money_number=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0999123456"},null,512),[[K,p.value.mobile_money_number]])]),n("div",z5e,[N[82]||(N[82]=n("label",{class:"block text-sm font-medium text-gray-700"},"Registered Name",-1)),z(n("input",{"onUpdate:modelValue":N[33]||(N[33]=P=>p.value.mobile_money_name=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[K,p.value.mobile_money_name]])])])])):j("",!0)],512),[[zt,h.value===2]]),n("div",U5e,[n("div",null,[h.value>1?(g(),y("button",{key:0,type:"button",onClick:N[34]||(N[34]=P=>h.value--),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Back ")):j("",!0)]),n("div",B5e,[n("button",{type:"button",onClick:N[35]||(N[35]=P=>{c.value=!1,u.value=!1,R()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Cancel "),h.value<2?(g(),y("button",{key:0,type:"button",onClick:N[36]||(N[36]=P=>h.value++),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Next ")):(g(),y("button",V5e,d(u.value?"Update":"Create")+" Teacher ",1))])])],32)])])])):j("",!0)]))}}),q5e={class:"space-y-6"},W5e={class:"flex items-center justify-between"},K5e={class:"flex items-center space-x-4"},Y5e={key:0},G5e={class:"text-2xl font-semibold text-gray-900"},X5e={class:"text-sm text-gray-500"},J5e={key:0,class:"flex space-x-3"},Q5e=["disabled"],Z5e={key:0,class:"text-center py-12 text-gray-500"},eke={key:1},tke={class:"bg-white rounded-lg shadow p-6"},ske={class:"flex items-center justify-between mb-4"},nke={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},oke={class:"text-2xl font-bold text-gray-900"},ike={class:"text-2xl font-bold text-green-600"},rke={class:"text-2xl font-bold text-red-600"},ake={class:"flex items-center space-x-3"},lke={class:"flex-1 bg-gray-200 rounded-full h-3"},dke={class:"text-lg font-bold text-gray-900"},cke={class:"border-b border-gray-200"},uke={class:"flex space-x-8"},mke=["onClick"],fke={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pke={class:"bg-white rounded-lg shadow p-6"},hke={class:"space-y-3"},gke={class:"flex justify-between"},_ke={class:"text-gray-900 font-medium"},vke={class:"flex justify-between"},yke={class:"text-gray-900"},xke={class:"flex justify-between"},bke={class:"text-gray-900"},wke={class:"flex justify-between"},kke={class:"text-gray-900"},$ke={class:"flex justify-between"},Cke={class:"text-gray-900"},Ske={class:"flex justify-between"},Mke={class:"text-gray-900"},Tke={class:"flex justify-between"},Dke={class:"text-gray-900"},Ake={class:"bg-white rounded-lg shadow p-6"},Pke={class:"space-y-3"},Eke={class:"flex justify-between"},jke={class:"text-gray-900 capitalize"},Rke={class:"flex justify-between"},Ike={class:"text-gray-900"},Oke={class:"flex justify-between"},Lke={class:"text-gray-900 capitalize"},Fke={class:"flex justify-between"},Nke={class:"text-gray-900"},zke={class:"flex justify-between"},Uke={class:"text-gray-900"},Bke={class:"flex justify-between"},Vke={class:"text-gray-900"},Hke={class:"flex justify-between"},qke={class:"text-gray-900"},Wke={class:"flex justify-between"},Kke={class:"text-gray-900"},Yke={class:"flex justify-between"},Gke={class:"text-gray-900"},Xke={class:"flex justify-between"},Jke={class:"text-gray-900"},Qke={class:"bg-white rounded-lg shadow p-6"},Zke={class:"flex items-center space-x-3"},e4e={class:"text-gray-900"},t4e={key:0,class:"mt-2 text-sm text-gray-500"},s4e={key:0,class:"bg-white rounded-lg shadow p-6"},n4e={class:"space-y-3"},o4e={class:"flex justify-between"},i4e={class:"text-gray-900 font-medium"},r4e={class:"flex justify-between"},a4e={class:"text-gray-900"},l4e={class:"flex justify-between"},d4e={class:"text-green-600"},c4e={class:"flex justify-between"},u4e={class:"text-yellow-600"},m4e={class:"flex justify-between"},f4e={class:"text-green-600"},p4e={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},h4e={class:"min-w-full divide-y divide-gray-200"},g4e={class:"bg-white divide-y divide-gray-200"},_4e={key:0},v4e={class:"px-6 py-4 text-sm font-medium text-gray-900"},y4e={class:"px-6 py-4 text-sm text-gray-500"},x4e={class:"px-6 py-4 text-sm text-gray-500"},b4e={class:"px-6 py-4 text-sm font-medium text-gray-900"},w4e={class:"px-6 py-4 text-sm text-gray-500 capitalize"},k4e={class:"px-6 py-4"},$4e={class:"px-6 py-4 text-right"},C4e=["onClick"],S4e={key:2,class:"text-gray-500 text-center py-8"},M4e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},T4e={class:"flex items-center justify-center min-h-screen px-4"},D4e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},A4e={class:"text-lg font-semibold text-gray-900 mb-4"},P4e={class:"grid grid-cols-2 gap-4"},E4e={class:"grid grid-cols-2 gap-4"},j4e={class:"grid grid-cols-2 gap-4"},R4e={class:"flex justify-end space-x-3 pt-4"},I4e=ve({__name:"Detail",setup(s){const e=Vr(),t=gn(),o=E(null),i=E([]),r=E(null),a=E(!0),l=E("overview"),c=E(!1);E(!1);const u=E({amount:"",payment_method:"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}),m=async()=>{a.value=!0;try{const R=await ke.get(`/api/service-providers/${e.params.id}`);o.value=R.data.data,r.value=R.data.stats}catch{}finally{a.value=!1}},h=async()=>{try{const R=await ke.get(`/api/service-providers/${e.params.id}/payments`);i.value=R.data.data}catch{}},p=async()=>{var R;try{await ke.post("/api/payments",{...u.value,service_provider_id:(R=o.value)==null?void 0:R.id}),c.value=!1,k(),await m(),await h()}catch{}},_=async R=>{window.open(`/api/payments/${R.id}/receipt`,"_blank")},v=()=>{var R;window.open(`/api/service-providers/${(R=o.value)==null?void 0:R.id}/download-agreement`,"_blank")},x=async()=>{var R;try{await ke.post(`/api/service-providers/${(R=o.value)==null?void 0:R.id}/sign-agreement`),await m()}catch{}},w=E(!1),b=async()=>{var R,T;if(confirm(`Are you sure you want to impersonate ${(R=o.value)==null?void 0:R.name}? You will be logged in as this service provider.`)){w.value=!0;try{const F=await ke.post(`/api/service-providers/${(T=o.value)==null?void 0:T.id}/impersonate`);F.data.success&&(window.location.href=F.data.redirect_url)}catch{alert("Failed to impersonate service provider")}finally{w.value=!1}}},k=()=>{var R,T,F;u.value={amount:((T=(R=o.value)==null?void 0:R.monthly_amount)==null?void 0:T.toString())||"",payment_method:((F=o.value)==null?void 0:F.payment_method)||"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}},C=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},$=R=>"MK "+new Intl.NumberFormat().format(R),A=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return Ne(()=>{m(),h()}),(R,T)=>{var F,L,D;return g(),y("div",q5e,[n("div",W5e,[n("div",K5e,[n("button",{onClick:T[0]||(T[0]=N=>f(t).push("/service-providers")),class:"p-2 hover:bg-gray-100 rounded-lg"},[S(f(Pv),{class:"w-5 h-5 text-gray-500"})]),o.value?(g(),y("div",Y5e,[n("h1",G5e,d(o.value.name),1),n("p",X5e,d(o.value.email)+" | "+d(o.value.phone),1)])):j("",!0)]),o.value?(g(),y("div",J5e,[n("button",{onClick:b,disabled:w.value,class:"inline-flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50"},[S(f(zn),{class:"w-5 h-5 mr-2"}),J(" "+d(w.value?"Switching...":"View as Provider"),1)],8,Q5e),n("button",{onClick:v,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"},[S(f(Bc),{class:"w-5 h-5 mr-2"}),T[11]||(T[11]=J(" Download Agreement ",-1))]),o.value.agreement_signed?j("",!0):(g(),y("button",{key:0,onClick:x,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[S(f(Yt),{class:"w-5 h-5 mr-2"}),T[12]||(T[12]=J(" Mark Agreement Signed ",-1))])),n("button",{onClick:T[1]||(T[1]=N=>{c.value=!0,k()}),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(f(gs),{class:"w-5 h-5 mr-2"}),T[13]||(T[13]=J(" Record Payment ",-1))])])):j("",!0)]),a.value?(g(),y("div",Z5e,"Loading...")):o.value?(g(),y("div",eke,[n("div",tke,[n("div",ske,[T[14]||(T[14]=n("h2",{class:"text-lg font-semibold text-gray-900"},"Payment Progress",-1)),n("span",{class:X(["px-3 py-1 rounded-full text-sm font-medium",C(o.value.status)])},d(o.value.status),3)]),n("div",nke,[n("div",null,[T[15]||(T[15]=n("div",{class:"text-sm text-gray-500"},"Total Agreed",-1)),n("div",oke,d($(o.value.total_agreed_amount)),1)]),n("div",null,[T[16]||(T[16]=n("div",{class:"text-sm text-gray-500"},"Total Paid",-1)),n("div",ike,d($(o.value.total_paid)),1)]),n("div",null,[T[17]||(T[17]=n("div",{class:"text-sm text-gray-500"},"Balance Remaining",-1)),n("div",rke,d($(o.value.balance_remaining)),1)]),n("div",null,[T[18]||(T[18]=n("div",{class:"text-sm text-gray-500"},"Progress",-1)),n("div",ake,[n("div",lke,[n("div",{class:"bg-indigo-600 h-3 rounded-full transition-all",style:bt({width:`${o.value.payment_progress_percent}%`})},null,4)]),n("span",dke,d(o.value.payment_progress_percent)+"%",1)])])])]),n("div",cke,[n("nav",uke,[(g(),y(oe,null,ue(["overview","payments","sessions"],N=>n("button",{key:N,onClick:P=>l.value=N,class:X(["py-4 px-1 border-b-2 font-medium text-sm capitalize",l.value===N?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},d(N),11,mke)),64))])]),l.value==="overview"?(g(),y("div",fke,[n("div",pke,[T[26]||(T[26]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Personal Information",-1)),n("dl",hke,[n("div",gke,[T[19]||(T[19]=n("dt",{class:"text-gray-500"},"Name",-1)),n("dd",_ke,d(o.value.name),1)]),n("div",vke,[T[20]||(T[20]=n("dt",{class:"text-gray-500"},"Email",-1)),n("dd",yke,d(o.value.email),1)]),n("div",xke,[T[21]||(T[21]=n("dt",{class:"text-gray-500"},"Phone",-1)),n("dd",bke,d(o.value.phone||"-"),1)]),n("div",wke,[T[22]||(T[22]=n("dt",{class:"text-gray-500"},"National ID",-1)),n("dd",kke,d(o.value.national_id||"-"),1)]),n("div",$ke,[T[23]||(T[23]=n("dt",{class:"text-gray-500"},"Address",-1)),n("dd",Cke,d(o.value.address||"-"),1)]),n("div",Ske,[T[24]||(T[24]=n("dt",{class:"text-gray-500"},"Specialty",-1)),n("dd",Mke,d(o.value.specialty||"-"),1)]),n("div",Tke,[T[25]||(T[25]=n("dt",{class:"text-gray-500"},"Qualification",-1)),n("dd",Dke,d(o.value.qualification||"-"),1)])])]),n("div",Ake,[T[37]||(T[37]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Payment Details",-1)),n("dl",Pke,[n("div",Eke,[T[27]||(T[27]=n("dt",{class:"text-gray-500"},"Payment Preference",-1)),n("dd",jke,d(((F=o.value.payment_preference)==null?void 0:F.replace("_"," "))||"-"),1)]),n("div",Rke,[T[28]||(T[28]=n("dt",{class:"text-gray-500"},"Monthly Amount",-1)),n("dd",Ike,d(o.value.monthly_amount?$(o.value.monthly_amount):"-"),1)]),n("div",Oke,[T[29]||(T[29]=n("dt",{class:"text-gray-500"},"Payment Method",-1)),n("dd",Lke,d(((L=o.value.payment_method)==null?void 0:L.replace("_"," "))||"-"),1)]),o.value.payment_method==="bank"?(g(),y(oe,{key:0},[n("div",Fke,[T[30]||(T[30]=n("dt",{class:"text-gray-500"},"Bank Name",-1)),n("dd",Nke,d(o.value.bank_name||"-"),1)]),n("div",zke,[T[31]||(T[31]=n("dt",{class:"text-gray-500"},"Account Name",-1)),n("dd",Uke,d(o.value.bank_account_name||"-"),1)]),n("div",Bke,[T[32]||(T[32]=n("dt",{class:"text-gray-500"},"Account Number",-1)),n("dd",Vke,d(o.value.bank_account_number||"-"),1)]),n("div",Hke,[T[33]||(T[33]=n("dt",{class:"text-gray-500"},"Branch",-1)),n("dd",qke,d(o.value.bank_branch||"-"),1)])],64)):o.value.payment_method==="mobile_money"?(g(),y(oe,{key:1},[n("div",Wke,[T[34]||(T[34]=n("dt",{class:"text-gray-500"},"Provider",-1)),n("dd",Kke,d(o.value.mobile_money_provider||"-"),1)]),n("div",Yke,[T[35]||(T[35]=n("dt",{class:"text-gray-500"},"Name",-1)),n("dd",Gke,d(o.value.mobile_money_name||"-"),1)]),n("div",Xke,[T[36]||(T[36]=n("dt",{class:"text-gray-500"},"Number",-1)),n("dd",Jke,d(o.value.mobile_money_number||"-"),1)])],64)):j("",!0)])]),n("div",Qke,[T[38]||(T[38]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Agreement Status",-1)),n("div",Zke,[n("div",{class:X(["w-3 h-3 rounded-full",o.value.agreement_signed?"bg-green-500":"bg-yellow-500"])},null,2),n("span",e4e,d(o.value.agreement_signed?"Agreement Signed":"Agreement Pending"),1)]),o.value.agreement_signed_at?(g(),y("div",t4e," Signed on: "+d(A(o.value.agreement_signed_at)),1)):j("",!0)]),r.value?(g(),y("div",s4e,[T[44]||(T[44]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Work Statistics",-1)),n("dl",n4e,[n("div",o4e,[T[39]||(T[39]=n("dt",{class:"text-gray-500"},"Total Sessions",-1)),n("dd",i4e,d(r.value.total_sessions),1)]),n("div",r4e,[T[40]||(T[40]=n("dt",{class:"text-gray-500"},"Recording Minutes",-1)),n("dd",a4e,d(r.value.total_recording_minutes),1)]),n("div",l4e,[T[41]||(T[41]=n("dt",{class:"text-gray-500"},"Approved Sessions",-1)),n("dd",d4e,d(r.value.approved_sessions),1)]),n("div",c4e,[T[42]||(T[42]=n("dt",{class:"text-gray-500"},"Pending Sessions",-1)),n("dd",u4e,d(r.value.pending_sessions),1)]),n("div",m4e,[T[43]||(T[43]=n("dt",{class:"text-gray-500"},"Approved Lesson Plans",-1)),n("dd",f4e,d(r.value.approved_lesson_plans),1)])])])):j("",!0)])):j("",!0),l.value==="payments"?(g(),y("div",p4e,[n("table",h4e,[T[46]||(T[46]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Receipt #"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Month For"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Method"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",g4e,[i.value.length===0?(g(),y("tr",_4e,[...T[45]||(T[45]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No payments recorded yet",-1)])])):j("",!0),(g(!0),y(oe,null,ue(i.value,N=>(g(),y("tr",{key:N.id},[n("td",v4e,d(N.receipt_number),1),n("td",y4e,d(A(N.payment_date)),1),n("td",x4e,d(N.month_for||"-"),1),n("td",b4e,d($(N.amount)),1),n("td",w4e,d(N.payment_method.replace("_"," ")),1),n("td",k4e,[n("span",{class:X(["px-2 py-1 text-xs rounded-full",C(N.status)])},d(N.status),3)]),n("td",$4e,[n("button",{onClick:P=>_(N),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," Download Receipt ",8,C4e)])]))),128))])])])):j("",!0),l.value==="sessions"?(g(),y("div",S4e," Recording sessions will be displayed here. ")):j("",!0)])):j("",!0),c.value?(g(),y("div",M4e,[n("div",T4e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:T[2]||(T[2]=N=>c.value=!1)}),n("div",D4e,[n("h2",A4e,"Record Payment for "+d((D=o.value)==null?void 0:D.name),1),n("form",{onSubmit:Ve(p,["prevent"]),class:"space-y-4"},[n("div",P4e,[n("div",null,[T[47]||(T[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":T[3]||(T[3]=N=>u.value.amount=N),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,u.value.amount]])]),n("div",null,[T[48]||(T[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date *",-1)),z(n("input",{"onUpdate:modelValue":T[4]||(T[4]=N=>u.value.payment_date=N),type:"date",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,u.value.payment_date]])])]),n("div",E4e,[n("div",null,[T[50]||(T[50]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method *",-1)),z(n("select",{"onUpdate:modelValue":T[5]||(T[5]=N=>u.value.payment_method=N),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[49]||(T[49]=[n("option",{value:"bank"},"Bank Transfer",-1),n("option",{value:"mobile_money"},"Mobile Money",-1),n("option",{value:"cash"},"Cash",-1),n("option",{value:"cheque"},"Cheque",-1)])],512),[[xe,u.value.payment_method]])]),n("div",null,[T[52]||(T[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),z(n("select",{"onUpdate:modelValue":T[6]||(T[6]=N=>u.value.status=N),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[51]||(T[51]=[n("option",{value:"completed"},"Completed",-1),n("option",{value:"pending"},"Pending",-1)])],512),[[xe,u.value.status]])])]),n("div",j4e,[n("div",null,[T[53]||(T[53]=n("label",{class:"block text-sm font-medium text-gray-700"},"Month For",-1)),z(n("input",{"onUpdate:modelValue":T[7]||(T[7]=N=>u.value.month_for=N),type:"text",placeholder:"e.g., January 2026",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,u.value.month_for]])]),n("div",null,[T[54]||(T[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),z(n("input",{"onUpdate:modelValue":T[8]||(T[8]=N=>u.value.reference_number=N),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,u.value.reference_number]])])]),n("div",null,[T[55]||(T[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":T[9]||(T[9]=N=>u.value.notes=N),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,u.value.notes]])]),n("div",R4e,[n("button",{type:"button",onClick:T[10]||(T[10]=N=>c.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),T[56]||(T[56]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Record Payment",-1))])],32)])])])):j("",!0)])}}}),O4e={class:"space-y-6"},L4e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},F4e={class:"bg-white rounded-lg shadow p-4"},N4e={class:"mt-1 text-2xl font-semibold text-gray-900"},z4e={class:"bg-white rounded-lg shadow p-4"},U4e={class:"mt-1 text-2xl font-semibold text-yellow-600"},B4e={class:"bg-white rounded-lg shadow p-4"},V4e={class:"mt-1 text-2xl font-semibold text-green-600"},H4e={class:"bg-white rounded-lg shadow p-4"},q4e={class:"mt-1 text-2xl font-semibold text-red-600"},W4e={class:"bg-white rounded-lg shadow p-4"},K4e={class:"mt-1 text-2xl font-semibold text-blue-600"},Y4e={class:"bg-white rounded-lg shadow p-4"},G4e={class:"mt-1 text-2xl font-semibold text-indigo-600"},X4e={class:"bg-white rounded-lg shadow p-4"},J4e={class:"flex flex-wrap gap-4"},Q4e={class:"flex-1 min-w-64"},Z4e={class:"relative"},e$e={class:"bg-white rounded-lg shadow overflow-hidden"},t$e={class:"min-w-full divide-y divide-gray-200"},s$e={class:"bg-white divide-y divide-gray-200"},n$e={key:0},o$e={key:1},i$e={class:"px-6 py-4"},r$e={class:"font-medium text-gray-900"},a$e={class:"text-sm text-gray-500"},l$e={class:"px-6 py-4"},d$e={class:"text-gray-900"},c$e={class:"text-sm text-gray-500"},u$e={class:"px-6 py-4 text-sm text-gray-500"},m$e={class:"px-6 py-4 text-sm"},f$e={class:"text-gray-900"},p$e={class:"text-gray-500"},h$e={class:"px-6 py-4"},g$e={class:"px-6 py-4 text-sm text-gray-900"},_$e={class:"px-6 py-4 text-right"},v$e={class:"py-1"},y$e=["onClick"],x$e=["onClick"],b$e=["href"],w$e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},k$e={class:"text-sm text-gray-500"},$$e={class:"flex space-x-2"},C$e=["onClick"],S$e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},M$e={class:"flex items-center justify-center min-h-screen px-4"},T$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},D$e={class:"flex justify-end space-x-3 pt-4"},A$e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},P$e={class:"flex items-center justify-center min-h-screen px-4"},E$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},j$e={class:"flex justify-end space-x-3 pt-4"},R$e=ve({__name:"RecordingSessions",setup(s){const e=E([]),t=E({total_sessions:0,pending_review:0,approved:0,rejected:0,in_progress:0,total_recording_minutes:0}),o=E(!0),i=E(""),r=E(""),a=E({current_page:1,last_page:1,per_page:15,total:0}),l=E(!1),c=E(!1),u=E(null),m=E({quality_rating:5,admin_notes:""}),h=E({admin_notes:""}),p=async(A=1)=>{o.value=!0;try{const R=new URLSearchParams;R.append("page",A.toString()),i.value&&R.append("search",i.value),r.value&&R.append("status",r.value);const T=await ke.get(`/api/recording-sessions?${R}`);e.value=T.data.data,a.value={current_page:T.data.current_page,last_page:T.data.last_page,per_page:T.data.per_page,total:T.data.total}}catch{}finally{o.value=!1}},_=async()=>{try{const A=await ke.get("/api/recording-sessions/statistics");t.value=A.data}catch{}},v=A=>{u.value=A,m.value={quality_rating:5,admin_notes:""},l.value=!0},x=A=>{u.value=A,h.value={admin_notes:""},c.value=!0},w=async()=>{if(u.value)try{await ke.post(`/api/recording-sessions/${u.value.id}/approve`,m.value),l.value=!1,await p(a.value.current_page),await _()}catch{}},b=async()=>{if(u.value)try{await ke.post(`/api/recording-sessions/${u.value.id}/reject`,h.value),c.value=!1,await p(a.value.current_page),await _()}catch{}},k=A=>{switch(A){case"approved":return"bg-green-100 text-green-800";case"pending_review":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},C=A=>{const R=Math.floor(A/60),T=A%60;return R>0?`${R}h ${T}m`:`${T}m`},$=A=>A?new Date(A).toLocaleString():"-";return Ne(()=>{p(),_()}),(A,R)=>(g(),y("div",O4e,[R[31]||(R[31]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Recording Sessions"),n("p",{class:"mt-1 text-sm text-gray-500"},"Track and manage all recording sessions by teachers")],-1)),n("div",L4e,[n("div",F4e,[R[11]||(R[11]=n("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),n("div",N4e,d(t.value.total_sessions),1)]),n("div",z4e,[R[12]||(R[12]=n("div",{class:"text-sm font-medium text-gray-500"},"Pending Review",-1)),n("div",U4e,d(t.value.pending_review),1)]),n("div",B4e,[R[13]||(R[13]=n("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),n("div",V4e,d(t.value.approved),1)]),n("div",H4e,[R[14]||(R[14]=n("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),n("div",q4e,d(t.value.rejected),1)]),n("div",W4e,[R[15]||(R[15]=n("div",{class:"text-sm font-medium text-gray-500"},"In Progress",-1)),n("div",K4e,d(t.value.in_progress),1)]),n("div",Y4e,[R[16]||(R[16]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Recording",-1)),n("div",G4e,d(C(t.value.total_recording_minutes)),1)])]),n("div",X4e,[n("div",J4e,[n("div",Q4e,[n("div",Z4e,[S(f(Qt),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":R[0]||(R[0]=T=>i.value=T),onInput:R[1]||(R[1]=T=>p(1)),type:"text",placeholder:"Search by teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[K,i.value]])])]),z(n("select",{"onUpdate:modelValue":R[2]||(R[2]=T=>r.value=T),onChange:R[3]||(R[3]=T=>p(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...R[17]||(R[17]=[Ps('<option value="">All Statuses</option><option value="draft">Draft</option><option value="in_progress">In Progress</option><option value="completed">Completed</option><option value="pending_review">Pending Review</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',7)])],544),[[xe,r.value]])])]),n("div",e$e,[n("table",t$e,[R[22]||(R[22]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Time"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Recording"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Rating"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",s$e,[o.value?(g(),y("tr",n$e,[...R[18]||(R[18]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(g(),y("tr",o$e,[...R[19]||(R[19]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No recording sessions found",-1)])])):j("",!0),(g(!0),y(oe,null,ue(e.value,T=>{var F,L,D,N;return g(),y("tr",{key:T.id},[n("td",i$e,[n("div",r$e,d((F=T.service_provider)==null?void 0:F.name),1),n("div",a$e,d((L=T.service_provider)==null?void 0:L.email),1)]),n("td",l$e,[n("div",d$e,d(((D=T.subject)==null?void 0:D.name)||"-"),1),n("div",c$e,d(((N=T.topic)==null?void 0:N.name)||"-"),1)]),n("td",u$e,[n("div",null,"In: "+d($(T.clock_in)),1),n("div",null,"Out: "+d($(T.clock_out)),1)]),n("td",m$e,[n("div",f$e,d(C(T.recording_minutes)),1),n("div",p$e,"Total: "+d(C(T.total_minutes)),1)]),n("td",h$e,[n("span",{class:X(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k(T.status)])},d(T.status.replace("_"," ")),3)]),n("td",g$e,d(T.quality_rating?`${T.quality_rating}/5`:"-"),1),n("td",_$e,[S(f(Lc),{as:"div",class:"relative inline-block text-left"},{default:W(()=>[S(f(Fc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:W(()=>[S(f(Hc),{class:"w-5 h-5"})]),_:1}),S(f(Nc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:W(()=>[n("div",v$e,[T.status==="pending_review"||T.status==="completed"?(g(),re(f(cn),{key:0},{default:W(({active:P})=>[n("button",{onClick:U=>v(T),class:X([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[S(f(Yt),{class:"w-4 h-4 inline mr-2"}),R[20]||(R[20]=J(" Approve ",-1))],10,y$e)]),_:2},1024)):j("",!0),T.status==="pending_review"||T.status==="completed"?(g(),re(f(cn),{key:1},{default:W(({active:P})=>[n("button",{onClick:U=>x(T),class:X([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[S(f(mn),{class:"w-4 h-4 inline mr-2"}),R[21]||(R[21]=J(" Reject ",-1))],10,x$e)]),_:2},1024)):j("",!0),T.video_file?(g(),re(f(cn),{key:2},{default:W(({active:P})=>[n("a",{href:T.video_file,target:"_blank",class:X([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," View Video ",10,b$e)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(g(),y("div",w$e,[n("div",k$e," Showing "+d((a.value.current_page-1)*a.value.per_page+1)+" to "+d(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+d(a.value.total),1),n("div",$$e,[(g(!0),y(oe,null,ue(a.value.last_page,T=>(g(),y("button",{key:T,onClick:F=>p(T),class:X(["px-3 py-1 rounded",T===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(T),11,C$e))),128))])])):j("",!0)]),l.value?(g(),y("div",S$e,[n("div",M$e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:R[4]||(R[4]=T=>l.value=!1)}),n("div",T$e,[R[27]||(R[27]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Approve Recording Session",-1)),n("form",{onSubmit:Ve(w,["prevent"]),class:"space-y-4"},[n("div",null,[R[24]||(R[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quality Rating (1-5)",-1)),z(n("select",{"onUpdate:modelValue":R[5]||(R[5]=T=>m.value.quality_rating=T),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...R[23]||(R[23]=[n("option",{value:1},"1 - Poor",-1),n("option",{value:2},"2 - Fair",-1),n("option",{value:3},"3 - Good",-1),n("option",{value:4},"4 - Very Good",-1),n("option",{value:5},"5 - Excellent",-1)])],512),[[xe,m.value.quality_rating]])]),n("div",null,[R[25]||(R[25]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes (optional)",-1)),z(n("textarea",{"onUpdate:modelValue":R[6]||(R[6]=T=>m.value.admin_notes=T),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,m.value.admin_notes]])]),n("div",D$e,[n("button",{type:"button",onClick:R[7]||(R[7]=T=>l.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),R[26]||(R[26]=n("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Approve",-1))])],32)])])])):j("",!0),c.value?(g(),y("div",A$e,[n("div",P$e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:R[8]||(R[8]=T=>c.value=!1)}),n("div",E$e,[R[30]||(R[30]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Recording Session",-1)),n("form",{onSubmit:Ve(b,["prevent"]),class:"space-y-4"},[n("div",null,[R[28]||(R[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Reason for Rejection *",-1)),z(n("textarea",{"onUpdate:modelValue":R[9]||(R[9]=T=>h.value.admin_notes=T),rows:"3",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,h.value.admin_notes]])]),n("div",j$e,[n("button",{type:"button",onClick:R[10]||(R[10]=T=>c.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),R[29]||(R[29]=n("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),I$e={class:"space-y-6"},O$e={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},L$e={class:"bg-white rounded-lg shadow p-4"},F$e={class:"mt-1 text-2xl font-semibold text-gray-900"},N$e={class:"bg-white rounded-lg shadow p-4"},z$e={class:"mt-1 text-2xl font-semibold text-gray-600"},U$e={class:"bg-white rounded-lg shadow p-4"},B$e={class:"mt-1 text-2xl font-semibold text-yellow-600"},V$e={class:"bg-white rounded-lg shadow p-4"},H$e={class:"mt-1 text-2xl font-semibold text-green-600"},q$e={class:"bg-white rounded-lg shadow p-4"},W$e={class:"mt-1 text-2xl font-semibold text-red-600"},K$e={class:"bg-white rounded-lg shadow p-4"},Y$e={class:"flex flex-wrap gap-4"},G$e={class:"flex-1 min-w-64"},X$e={class:"relative"},J$e={class:"bg-white rounded-lg shadow overflow-hidden"},Q$e={class:"min-w-full divide-y divide-gray-200"},Z$e={class:"bg-white divide-y divide-gray-200"},e3e={key:0},t3e={key:1},s3e={class:"px-6 py-4"},n3e={class:"font-medium text-gray-900"},o3e={class:"px-6 py-4"},i3e={class:"text-gray-900"},r3e={class:"text-sm text-gray-500"},a3e={class:"px-6 py-4"},l3e={class:"text-gray-900"},d3e={class:"text-sm text-gray-500"},c3e={class:"px-6 py-4 text-sm text-gray-500"},u3e={class:"px-6 py-4"},m3e={class:"px-6 py-4 text-sm text-gray-500"},f3e={class:"px-6 py-4 text-right"},p3e={class:"py-1"},h3e=["onClick"],g3e=["onClick"],_3e=["onClick"],v3e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},y3e={class:"text-sm text-gray-500"},x3e={class:"flex space-x-2"},b3e=["onClick"],w3e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},k3e={class:"flex items-center justify-center min-h-screen px-4"},$3e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},C3e={class:"text-lg font-semibold text-gray-900 mb-4"},S3e={class:"space-y-4"},M3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},T3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},D3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},A3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},P3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},E3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},j3e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},R3e={class:"flex justify-end pt-4"},I3e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},O3e={class:"flex items-center justify-center min-h-screen px-4"},L3e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},F3e={class:"flex justify-end space-x-3 pt-4"},N3e=ve({__name:"LessonPlans",setup(s){const e=E([]),t=E({total:0,draft:0,submitted:0,approved:0,rejected:0}),o=E(!0),i=E(""),r=E(""),a=E({current_page:1,last_page:1,per_page:15,total:0}),l=E(!1),c=E(!1),u=E(null),m=E({feedback:""}),h=async(C=1)=>{o.value=!0;try{const $=new URLSearchParams;$.append("page",C.toString()),i.value&&$.append("search",i.value),r.value&&$.append("status",r.value);const A=await ke.get(`/api/lesson-plans?${$}`);e.value=A.data.data,a.value={current_page:A.data.current_page,last_page:A.data.last_page,per_page:A.data.per_page,total:A.data.total}}catch{}finally{o.value=!1}},p=async()=>{try{const C=await ke.get("/api/lesson-plans/statistics");t.value=C.data}catch{}},_=async C=>{try{const $=await ke.get(`/api/lesson-plans/${C.id}`);u.value=$.data.data,l.value=!0}catch{}},v=async C=>{try{await ke.post(`/api/lesson-plans/${C.id}/approve`),await h(a.value.current_page),await p()}catch{}},x=C=>{u.value=C,m.value={feedback:""},c.value=!0},w=async()=>{if(u.value)try{await ke.post(`/api/lesson-plans/${u.value.id}/reject`,m.value),c.value=!1,await h(a.value.current_page),await p()}catch{}},b=C=>{switch(C){case"approved":return"bg-green-100 text-green-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=C=>new Date(C).toLocaleDateString();return Ne(()=>{h(),p()}),(C,$)=>(g(),y("div",I$e,[$[31]||($[31]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Lesson Plans"),n("p",{class:"mt-1 text-sm text-gray-500"},"Review and approve lesson plans submitted by teachers")],-1)),n("div",O$e,[n("div",L$e,[$[9]||($[9]=n("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),n("div",F$e,d(t.value.total),1)]),n("div",N$e,[$[10]||($[10]=n("div",{class:"text-sm font-medium text-gray-500"},"Draft",-1)),n("div",z$e,d(t.value.draft),1)]),n("div",U$e,[$[11]||($[11]=n("div",{class:"text-sm font-medium text-gray-500"},"Submitted",-1)),n("div",B$e,d(t.value.submitted),1)]),n("div",V$e,[$[12]||($[12]=n("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),n("div",H$e,d(t.value.approved),1)]),n("div",q$e,[$[13]||($[13]=n("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),n("div",W$e,d(t.value.rejected),1)])]),n("div",K$e,[n("div",Y$e,[n("div",G$e,[n("div",X$e,[S(f(Qt),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":$[0]||($[0]=A=>i.value=A),onInput:$[1]||($[1]=A=>h(1)),type:"text",placeholder:"Search by title or teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[K,i.value]])])]),z(n("select",{"onUpdate:modelValue":$[2]||($[2]=A=>r.value=A),onChange:$[3]||($[3]=A=>h(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...$[14]||($[14]=[Ps('<option value="">All Statuses</option><option value="draft">Draft</option><option value="submitted">Submitted</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',5)])],544),[[xe,r.value]])])]),n("div",J$e,[n("table",Q$e,[$[20]||($[20]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Title"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Duration"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",Z$e,[o.value?(g(),y("tr",e3e,[...$[15]||($[15]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(g(),y("tr",t3e,[...$[16]||($[16]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No lesson plans found",-1)])])):j("",!0),(g(!0),y(oe,null,ue(e.value,A=>{var R,T,F,L,D;return g(),y("tr",{key:A.id},[n("td",s3e,[n("div",n3e,d(A.title),1)]),n("td",o3e,[n("div",i3e,d((R=A.service_provider)==null?void 0:R.name),1),n("div",r3e,d((T=A.service_provider)==null?void 0:T.email),1)]),n("td",a3e,[n("div",l3e,d(((L=(F=A.topic)==null?void 0:F.subject)==null?void 0:L.name)||"-"),1),n("div",d3e,d(((D=A.topic)==null?void 0:D.name)||"-"),1)]),n("td",c3e,d(A.duration_minutes?`${A.duration_minutes} min`:"-"),1),n("td",u3e,[n("span",{class:X(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",b(A.status)])},d(A.status),3)]),n("td",m3e,d(k(A.created_at)),1),n("td",f3e,[S(f(Lc),{as:"div",class:"relative inline-block text-left"},{default:W(()=>[S(f(Fc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:W(()=>[S(f(Hc),{class:"w-5 h-5"})]),_:1}),S(f(Nc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:W(()=>[n("div",p3e,[S(f(cn),null,{default:W(({active:N})=>[n("button",{onClick:P=>_(A),class:X([N?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])},[S(f(zn),{class:"w-4 h-4 inline mr-2"}),$[17]||($[17]=J(" View Details ",-1))],10,h3e)]),_:2},1024),A.status==="submitted"?(g(),re(f(cn),{key:0},{default:W(({active:N})=>[n("button",{onClick:P=>v(A),class:X([N?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[S(f(Yt),{class:"w-4 h-4 inline mr-2"}),$[18]||($[18]=J(" Approve ",-1))],10,g3e)]),_:2},1024)):j("",!0),A.status==="submitted"?(g(),re(f(cn),{key:1},{default:W(({active:N})=>[n("button",{onClick:P=>x(A),class:X([N?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[S(f(mn),{class:"w-4 h-4 inline mr-2"}),$[19]||($[19]=J(" Reject ",-1))],10,_3e)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(g(),y("div",v3e,[n("div",y3e," Showing "+d((a.value.current_page-1)*a.value.per_page+1)+" to "+d(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+d(a.value.total),1),n("div",x3e,[(g(!0),y(oe,null,ue(a.value.last_page,A=>(g(),y("button",{key:A,onClick:R=>h(A),class:X(["px-3 py-1 rounded",A===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(A),11,b3e))),128))])])):j("",!0)]),l.value&&u.value?(g(),y("div",w3e,[n("div",k3e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:$[4]||($[4]=A=>l.value=!1)}),n("div",$3e,[n("h2",C3e,d(u.value.title),1),n("div",S3e,[n("div",null,[$[21]||($[21]=n("h3",{class:"font-medium text-gray-700"},"Objectives",-1)),n("p",M3e,d(u.value.objectives||"No objectives specified"),1)]),n("div",null,[$[22]||($[22]=n("h3",{class:"font-medium text-gray-700"},"Introduction",-1)),n("p",T3e,d(u.value.introduction||"No introduction"),1)]),n("div",null,[$[23]||($[23]=n("h3",{class:"font-medium text-gray-700"},"Main Content",-1)),n("p",D3e,d(u.value.main_content||"No main content"),1)]),n("div",null,[$[24]||($[24]=n("h3",{class:"font-medium text-gray-700"},"Activities",-1)),n("p",A3e,d(u.value.activities||"No activities"),1)]),n("div",null,[$[25]||($[25]=n("h3",{class:"font-medium text-gray-700"},"Assessment",-1)),n("p",P3e,d(u.value.assessment||"No assessment"),1)]),n("div",null,[$[26]||($[26]=n("h3",{class:"font-medium text-gray-700"},"Conclusion",-1)),n("p",E3e,d(u.value.conclusion||"No conclusion"),1)]),n("div",null,[$[27]||($[27]=n("h3",{class:"font-medium text-gray-700"},"Homework",-1)),n("p",j3e,d(u.value.homework||"No homework"),1)])]),n("div",R3e,[n("button",{onClick:$[5]||($[5]=A=>l.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200"},"Close")])])])])):j("",!0),c.value?(g(),y("div",I3e,[n("div",O3e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:$[6]||($[6]=A=>c.value=!1)}),n("div",L3e,[$[30]||($[30]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Lesson Plan",-1)),n("form",{onSubmit:Ve(w,["prevent"]),class:"space-y-4"},[n("div",null,[$[28]||($[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Feedback / Reason for Rejection *",-1)),z(n("textarea",{"onUpdate:modelValue":$[7]||($[7]=A=>m.value.feedback=A),rows:"4",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,m.value.feedback]])]),n("div",F3e,[n("button",{type:"button",onClick:$[8]||($[8]=A=>c.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),$[29]||($[29]=n("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),z3e={class:"space-y-6"},U3e={class:"flex items-center justify-between"},B3e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},V3e={class:"bg-white rounded-lg shadow p-4"},H3e={class:"mt-1 text-2xl font-semibold text-gray-900"},q3e={class:"bg-white rounded-lg shadow p-4"},W3e={class:"mt-1 text-2xl font-semibold text-green-600"},K3e={class:"bg-white rounded-lg shadow p-4"},Y3e={class:"mt-1 text-2xl font-semibold text-indigo-600"},G3e={class:"bg-white rounded-lg shadow p-4"},X3e={class:"mt-1 text-2xl font-semibold text-gray-900"},J3e={class:"bg-white rounded-lg shadow p-4"},Q3e={class:"mt-1 text-2xl font-semibold text-gray-900"},Z3e={class:"bg-white rounded-lg shadow p-4"},e6e={class:"mt-1 text-2xl font-semibold text-gray-900"},t6e={class:"bg-white rounded-lg shadow p-4"},s6e={class:"flex flex-wrap gap-4"},n6e={class:"flex-1 min-w-64"},o6e={class:"relative"},i6e={class:"bg-white rounded-lg shadow overflow-hidden"},r6e={key:0,class:"px-6 py-8 text-center text-gray-500"},a6e={key:1,class:"px-6 py-8 text-center text-gray-500"},l6e={key:2,class:"divide-y divide-gray-200"},d6e=["onClick"],c6e={class:"flex items-center space-x-4"},u6e={class:"flex items-center space-x-2"},m6e={class:"font-medium text-gray-900"},f6e={class:"px-2 py-0.5 text-xs rounded bg-gray-100 text-gray-600"},p6e={class:"px-2 py-0.5 text-xs rounded bg-indigo-100 text-indigo-600"},h6e={key:0,class:"px-2 py-0.5 text-xs rounded bg-red-100 text-red-600"},g6e={class:"text-sm text-gray-500"},_6e={class:"py-1"},v6e=["onClick"],y6e=["onClick"],x6e=["onClick"],b6e={key:0,class:"bg-gray-50 px-6 py-4 pl-16"},w6e={key:0,class:"text-sm text-gray-500"},k6e={key:1,class:"space-y-2"},$6e={class:"font-medium text-gray-900"},C6e={class:"text-sm text-gray-500"},S6e={key:0},M6e=["onClick"],T6e={key:3,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},D6e={class:"text-sm text-gray-500"},A6e={class:"flex space-x-2"},P6e=["onClick"],E6e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},j6e={class:"flex items-center justify-center min-h-screen px-4"},R6e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},I6e={class:"grid grid-cols-2 gap-4"},O6e={class:"flex items-center"},L6e={class:"flex justify-end space-x-3 pt-4"},F6e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},N6e={class:"flex items-center justify-center min-h-screen px-4"},z6e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},U6e={class:"grid grid-cols-2 gap-4"},B6e={class:"flex items-center"},V6e={class:"flex justify-end space-x-3 pt-4"},H6e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},q6e={class:"flex items-center justify-center min-h-screen px-4"},W6e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},K6e={class:"text-lg font-semibold text-gray-900 mb-4"},Y6e={class:"grid grid-cols-3 gap-4"},G6e={class:"flex justify-end space-x-3 pt-4"},X6e=ve({__name:"Subjects",setup(s){const e=E([]),t=E({total_subjects:0,active_subjects:0,total_topics:0,subjects_by_form:{form_1:0,form_2:0,form_3:0,form_4:0}}),o=E(!0),i=E(""),r=E(""),a=E([]),l=E({current_page:1,last_page:1,per_page:15,total:0}),c=E(!1),u=E(!1),m=E(!1),h=E(null);E(null);const p=E({name:"",code:"",form:"1",description:"",is_active:!0}),_=E({name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}),v=async(P=1)=>{o.value=!0;try{const U=new URLSearchParams;U.append("page",P.toString()),i.value&&U.append("search",i.value),r.value&&U.append("form",r.value);const ye=await ke.get(`/api/subjects?${U}`);e.value=ye.data.data,l.value={current_page:ye.data.current_page,last_page:ye.data.last_page,per_page:ye.data.per_page,total:ye.data.total}}catch{}finally{o.value=!1}},x=async()=>{try{const P=await ke.get("/api/subjects/statistics");t.value=P.data}catch{}},w=async P=>{try{const U=await ke.get(`/api/subjects/${P.id}/topics`);P.topics=U.data}catch{}},b=async P=>{const U=a.value.indexOf(P.id);U===-1?(a.value.push(P.id),P.topics||await w(P)):a.value.splice(U,1)},k=P=>a.value.includes(P),C=async()=>{try{await ke.post("/api/subjects",p.value),c.value=!1,D(),await v(),await x()}catch{}},$=async()=>{if(h.value)try{await ke.put(`/api/subjects/${h.value.id}`,p.value),u.value=!1,D(),await v()}catch{}},A=async P=>{if(confirm("Are you sure you want to delete this subject?"))try{await ke.delete(`/api/subjects/${P.id}`),await v(),await x()}catch{}},R=P=>{h.value=P,p.value={name:P.name,code:P.code,form:P.form,description:P.description||"",is_active:P.is_active},u.value=!0},T=P=>{h.value=P,N(),m.value=!0},F=async()=>{if(h.value)try{await ke.post(`/api/subjects/${h.value.id}/topics`,_.value),m.value=!1,await w(h.value),await x()}catch{}},L=async(P,U)=>{if(confirm("Are you sure you want to delete this topic?"))try{await ke.delete(`/api/subjects/${P.id}/topics/${U.id}`),await w(P),await x()}catch{}},D=()=>{p.value={name:"",code:"",form:"1",description:"",is_active:!0},h.value=null},N=()=>{_.value={name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}};return Ne(()=>{v(),x()}),(P,U)=>{var ye,le,de,q,ne;return g(),y("div",z3e,[n("div",U3e,[U[28]||(U[28]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Subjects & Topics"),n("p",{class:"mt-1 text-sm text-gray-500"},"Manage the syllabus subjects and topics")],-1)),n("button",{onClick:U[0]||(U[0]=G=>c.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(f(gs),{class:"w-5 h-5 mr-2"}),U[27]||(U[27]=J(" Add Subject ",-1))])]),n("div",B3e,[n("div",V3e,[U[29]||(U[29]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Subjects",-1)),n("div",H3e,d(t.value.total_subjects),1)]),n("div",q3e,[U[30]||(U[30]=n("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),n("div",W3e,d(t.value.active_subjects),1)]),n("div",K3e,[U[31]||(U[31]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Topics",-1)),n("div",Y3e,d(t.value.total_topics),1)]),n("div",G3e,[U[32]||(U[32]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 1",-1)),n("div",X3e,d(((ye=t.value.subjects_by_form)==null?void 0:ye.form_1)||0),1)]),n("div",J3e,[U[33]||(U[33]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 2",-1)),n("div",Q3e,d(((le=t.value.subjects_by_form)==null?void 0:le.form_2)||0),1)]),n("div",Z3e,[U[34]||(U[34]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 3 & 4",-1)),n("div",e6e,d((((de=t.value.subjects_by_form)==null?void 0:de.form_3)||0)+(((q=t.value.subjects_by_form)==null?void 0:q.form_4)||0)),1)])]),n("div",t6e,[n("div",s6e,[n("div",n6e,[n("div",o6e,[S(f(Qt),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":U[1]||(U[1]=G=>i.value=G),onInput:U[2]||(U[2]=G=>v(1)),type:"text",placeholder:"Search by name or code...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[K,i.value]])])]),z(n("select",{"onUpdate:modelValue":U[3]||(U[3]=G=>r.value=G),onChange:U[4]||(U[4]=G=>v(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...U[35]||(U[35]=[Ps('<option value="">All Forms</option><option value="1">Form 1</option><option value="2">Form 2</option><option value="3">Form 3</option><option value="4">Form 4</option>',5)])],544),[[xe,r.value]])])]),n("div",i6e,[o.value?(g(),y("div",r6e,"Loading...")):e.value.length===0?(g(),y("div",a6e,"No subjects found")):(g(),y("div",l6e,[(g(!0),y(oe,null,ue(e.value,G=>(g(),y("div",{key:G.id},[n("div",{class:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:ie=>b(G)},[n("div",c6e,[(g(),re(Xn(k(G.id)?f(Iv):f(Ov)),{class:"w-5 h-5 text-gray-400"})),n("div",null,[n("div",u6e,[n("span",m6e,d(G.name),1),n("span",f6e,d(G.code),1),n("span",p6e,"Form "+d(G.form),1),G.is_active?j("",!0):(g(),y("span",h6e,"Inactive"))]),n("div",g6e,d(G.topics_count)+" topics",1)])]),S(f(Lc),{as:"div",class:"relative",onClick:U[5]||(U[5]=Ve(()=>{},["stop"]))},{default:W(()=>[S(f(Fc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:W(()=>[S(f(Hc),{class:"w-5 h-5"})]),_:1}),S(f(Nc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:W(()=>[n("div",_6e,[S(f(cn),null,{default:W(({active:ie})=>[n("button",{onClick:$e=>T(G),class:X([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Add Topic ",10,v6e)]),_:2},1024),S(f(cn),null,{default:W(({active:ie})=>[n("button",{onClick:$e=>R(G),class:X([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit Subject ",10,y6e)]),_:2},1024),S(f(cn),null,{default:W(({active:ie})=>[n("button",{onClick:$e=>A(G),class:X([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,x6e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)],8,d6e),k(G.id)&&G.topics?(g(),y("div",b6e,[G.topics.length===0?(g(),y("div",w6e,"No topics added yet")):(g(),y("div",k6e,[(g(!0),y(oe,null,ue(G.topics,ie=>(g(),y("div",{key:ie.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[n("div",null,[n("div",$6e,d(ie.name),1),n("div",C6e,[J(" Term "+d(ie.term)+", Week "+d(ie.week)+" ",1),ie.estimated_hours?(g(),y("span",S6e," | "+d(ie.estimated_hours)+"h",1)):j("",!0)])]),n("button",{onClick:$e=>L(G,ie),class:"text-red-600 hover:text-red-800 text-sm"},"Delete",8,M6e)]))),128))]))])):j("",!0)]))),128))])),l.value.last_page>1?(g(),y("div",T6e,[n("div",D6e," Showing "+d((l.value.current_page-1)*l.value.per_page+1)+" to "+d(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+d(l.value.total),1),n("div",A6e,[(g(!0),y(oe,null,ue(l.value.last_page,G=>(g(),y("button",{key:G,onClick:ie=>v(G),class:X(["px-3 py-1 rounded",G===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},d(G),11,P6e))),128))])])):j("",!0)]),c.value?(g(),y("div",E6e,[n("div",j6e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:U[6]||(U[6]=G=>c.value=!1)}),n("div",R6e,[U[43]||(U[43]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Add Subject",-1)),n("form",{onSubmit:Ve(C,["prevent"]),class:"space-y-4"},[n("div",null,[U[36]||(U[36]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":U[7]||(U[7]=G=>p.value.name=G),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,p.value.name]])]),n("div",I6e,[n("div",null,[U[37]||(U[37]=n("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(n("input",{"onUpdate:modelValue":U[8]||(U[8]=G=>p.value.code=G),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., MATH_F1"},null,512),[[K,p.value.code]])]),n("div",null,[U[39]||(U[39]=n("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(n("select",{"onUpdate:modelValue":U[9]||(U[9]=G=>p.value.form=G),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...U[38]||(U[38]=[n("option",{value:"1"},"Form 1",-1),n("option",{value:"2"},"Form 2",-1),n("option",{value:"3"},"Form 3",-1),n("option",{value:"4"},"Form 4",-1)])],512),[[xe,p.value.form]])])]),n("div",null,[U[40]||(U[40]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":U[10]||(U[10]=G=>p.value.description=G),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,p.value.description]])]),n("div",O6e,[z(n("input",{"onUpdate:modelValue":U[11]||(U[11]=G=>p.value.is_active=G),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[rs,p.value.is_active]]),U[41]||(U[41]=n("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),n("div",L6e,[n("button",{type:"button",onClick:U[12]||(U[12]=G=>{c.value=!1,D()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),U[42]||(U[42]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Create",-1))])],32)])])])):j("",!0),u.value?(g(),y("div",F6e,[n("div",N6e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:U[13]||(U[13]=G=>u.value=!1)}),n("div",z6e,[U[51]||(U[51]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Edit Subject",-1)),n("form",{onSubmit:Ve($,["prevent"]),class:"space-y-4"},[n("div",null,[U[44]||(U[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":U[14]||(U[14]=G=>p.value.name=G),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,p.value.name]])]),n("div",U6e,[n("div",null,[U[45]||(U[45]=n("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(n("input",{"onUpdate:modelValue":U[15]||(U[15]=G=>p.value.code=G),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,p.value.code]])]),n("div",null,[U[47]||(U[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(n("select",{"onUpdate:modelValue":U[16]||(U[16]=G=>p.value.form=G),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...U[46]||(U[46]=[n("option",{value:"1"},"Form 1",-1),n("option",{value:"2"},"Form 2",-1),n("option",{value:"3"},"Form 3",-1),n("option",{value:"4"},"Form 4",-1)])],512),[[xe,p.value.form]])])]),n("div",null,[U[48]||(U[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":U[17]||(U[17]=G=>p.value.description=G),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,p.value.description]])]),n("div",B6e,[z(n("input",{"onUpdate:modelValue":U[18]||(U[18]=G=>p.value.is_active=G),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[rs,p.value.is_active]]),U[49]||(U[49]=n("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),n("div",V6e,[n("button",{type:"button",onClick:U[19]||(U[19]=G=>{u.value=!1,D()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),U[50]||(U[50]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Update",-1))])],32)])])])):j("",!0),m.value?(g(),y("div",H6e,[n("div",q6e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:U[20]||(U[20]=G=>m.value=!1)}),n("div",W6e,[n("h2",K6e,"Add Topic to "+d((ne=h.value)==null?void 0:ne.name),1),n("form",{onSubmit:Ve(F,["prevent"]),class:"space-y-4"},[n("div",null,[U[52]||(U[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Topic Name *",-1)),z(n("input",{"onUpdate:modelValue":U[21]||(U[21]=G=>_.value.name=G),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,_.value.name]])]),n("div",Y6e,[n("div",null,[U[54]||(U[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"Term *",-1)),z(n("select",{"onUpdate:modelValue":U[22]||(U[22]=G=>_.value.term=G),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...U[53]||(U[53]=[n("option",{value:1},"Term 1",-1),n("option",{value:2},"Term 2",-1),n("option",{value:3},"Term 3",-1)])],512),[[xe,_.value.term]])]),n("div",null,[U[55]||(U[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Week *",-1)),z(n("input",{"onUpdate:modelValue":U[23]||(U[23]=G=>_.value.week=G),type:"number",min:"1",max:"15",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,_.value.week]])]),n("div",null,[U[56]||(U[56]=n("label",{class:"block text-sm font-medium text-gray-700"},"Est. Hours",-1)),z(n("input",{"onUpdate:modelValue":U[24]||(U[24]=G=>_.value.estimated_hours=G),type:"number",min:"1",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,_.value.estimated_hours]])])]),n("div",null,[U[57]||(U[57]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":U[25]||(U[25]=G=>_.value.description=G),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[K,_.value.description]])]),n("div",G6e,[n("button",{type:"button",onClick:U[26]||(U[26]=G=>m.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),U[58]||(U[58]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Add Topic",-1))])],32)])])])):j("",!0)])}}}),J6e={class:"border-b border-gray-200 px-6 py-4"},Q6e={class:"text-lg font-semibold text-gray-900"},Z6e={class:"px-6 py-4"},e8e={class:"space-y-6"},t8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},s8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},n8e={class:"mt-1 sm:col-span-2 sm:mt-0"},o8e=["disabled"],i8e={value:""},r8e=["value"],a8e={key:0,class:"mt-2 text-sm text-red-600"},l8e={class:"border-t border-gray-200 pt-6"},d8e={class:"text-lg font-medium leading-6 text-gray-900"},c8e={class:"mt-1 text-sm text-gray-500"},u8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},m8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},f8e={class:"mt-1 sm:col-span-2 sm:mt-0"},p8e={key:0,class:"mt-2 text-sm text-red-600"},h8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},g8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},_8e={class:"mt-1 sm:col-span-2 sm:mt-0"},v8e={key:0,class:"mt-2 text-sm text-red-600"},y8e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},x8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},b8e={class:"mt-1 sm:col-span-2 sm:mt-0"},w8e={class:"text-sm text-gray-900 pt-2"},k8e={class:"border-t border-gray-200 pt-6"},$8e={class:"text-lg font-medium leading-6 text-gray-900"},C8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},S8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},M8e={class:"mt-1 sm:col-span-2 sm:mt-0"},T8e={class:"flex gap-4"},D8e={class:"inline-flex items-center"},A8e={class:"ml-2 text-sm text-gray-700"},P8e={class:"inline-flex items-center"},E8e={class:"ml-2 text-sm text-gray-700"},j8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},R8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},I8e={class:"mt-1 sm:col-span-2 sm:mt-0"},O8e={key:0,class:"mt-2 text-sm text-red-600"},L8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},F8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},N8e={class:"mt-1 sm:col-span-2 sm:mt-0"},z8e={class:"mt-1 text-sm text-gray-500"},U8e={key:0,class:"mt-2 text-sm text-red-600"},B8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},V8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},H8e={class:"mt-1 sm:col-span-2 sm:mt-0"},q8e={class:"inline-flex items-center"},W8e={class:"ml-2 text-sm text-gray-700"},K8e={class:"border-t border-gray-200 pt-6"},Y8e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},G8e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},X8e={class:"mt-1 sm:col-span-2 sm:mt-0"},J8e=["placeholder"],Q8e={class:"mt-1 text-sm text-gray-500"},Z8e={key:0,class:"mt-2 text-sm text-red-600"},eCe={class:"rounded-md bg-blue-50 p-4"},tCe={class:"flex"},sCe={class:"ml-3"},nCe={class:"text-sm text-blue-700"},oCe={class:"flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},iCe=["disabled"],rCe=["disabled"],aCe={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},lCe={__name:"Form",props:{modelValue:{type:Object,default:null},users:{type:Array,default:()=>[]}},emits:["close","saved"],setup(s,{emit:e}){const t=Ze("__"),o=s,i=e,r=E("permanent"),a=Qr("working-hours",{user_id:"",start_time:"07:30",end_time:"16:30",effective_from:"",effective_until:"",is_active:!0,reason:""}),l=Me(()=>{if(!a.start_time||!a.end_time)return 0;const[u,m]=a.start_time.split(":").map(Number),[h,p]=a.end_time.split(":").map(Number),_=u*60+m;return((h*60+p-_)/60).toFixed(1)}),c=async()=>{r.value==="permanent"&&(a.effective_from=null,a.effective_until=null);try{await a.submit(),i("saved"),i("close")}catch{}};return Pt(()=>o.modelValue,u=>{var m,h;u?(a.setData({...u,start_time:((m=u.start_time)==null?void 0:m.substring(0,5))||"07:30",end_time:((h=u.end_time)==null?void 0:h.substring(0,5))||"16:30",effective_from:u.effective_from?u.effective_from.split("T")[0]:"",effective_until:u.effective_until?u.effective_until.split("T")[0]:""}),r.value=!u.effective_from&&!u.effective_until?"permanent":"temporary"):(a.reset(),r.value="permanent")},{immediate:!0}),(u,m)=>{var h,p,_;return g(),y("div",null,[n("div",J6e,[n("h2",Q6e,d(f(a).id?f(t)("Edit Working Hours"):f(t)("Assign Working Hours")),1)]),n("div",Z6e,[n("div",e8e,[n("div",t8e,[n("label",s8e,[J(d(f(t)("Employee"))+" ",1),m[10]||(m[10]=n("span",{class:"text-red-500"},"*",-1))]),n("div",n8e,[z(n("select",{"onUpdate:modelValue":m[0]||(m[0]=v=>f(a).user_id=v),class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.user_id}]),disabled:!!f(a).id,required:""},[n("option",i8e,d(f(t)("Select an employee")),1),(g(!0),y(oe,null,ue(s.users,v=>(g(),y("option",{key:v.id,value:v.id},d(v.name)+" ("+d(v.email)+") ",9,r8e))),128))],10,o8e),[[xe,f(a).user_id]]),f(a).errors.user_id?(g(),y("p",a8e,d(f(a).errors.user_id),1)):j("",!0)])]),n("div",l8e,[n("h3",d8e,d(f(t)("Working Hours")),1),n("p",c8e,d(f(t)("Default hours are 7:30 AM - 4:30 PM")),1)]),n("div",u8e,[n("label",m8e,[J(d(f(t)("Start Time"))+" ",1),m[11]||(m[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",f8e,[z(n("input",{"onUpdate:modelValue":m[1]||(m[1]=v=>f(a).start_time=v),type:"time",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.start_time}]),required:""},null,2),[[K,f(a).start_time]]),f(a).errors.start_time?(g(),y("p",p8e,d(f(a).errors.start_time),1)):j("",!0)])]),n("div",h8e,[n("label",g8e,[J(d(f(t)("End Time"))+" ",1),m[12]||(m[12]=n("span",{class:"text-red-500"},"*",-1))]),n("div",_8e,[z(n("input",{"onUpdate:modelValue":m[2]||(m[2]=v=>f(a).end_time=v),type:"time",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.end_time}]),required:""},null,2),[[K,f(a).end_time]]),f(a).errors.end_time?(g(),y("p",v8e,d(f(a).errors.end_time),1)):j("",!0)])]),f(a).start_time&&f(a).end_time?(g(),y("div",y8e,[n("label",x8e,d(f(t)("Duration")),1),n("div",b8e,[n("p",w8e,d(l.value)+" "+d(f(t)("hours")),1)])])):j("",!0),n("div",k8e,[n("h3",$8e,d(f(t)("Effective Period")),1)]),n("div",C8e,[n("label",S8e,d(f(t)("Schedule Type")),1),n("div",M8e,[n("div",T8e,[n("label",D8e,[z(n("input",{"onUpdate:modelValue":m[3]||(m[3]=v=>r.value=v),type:"radio",value:"permanent",class:"form-radio text-indigo-600"},null,512),[[In,r.value]]),n("span",A8e,d(f(t)("Permanent")),1)]),n("label",P8e,[z(n("input",{"onUpdate:modelValue":m[4]||(m[4]=v=>r.value=v),type:"radio",value:"temporary",class:"form-radio text-indigo-600"},null,512),[[In,r.value]]),n("span",E8e,d(f(t)("Temporary (Date Range)")),1)])])])]),r.value==="temporary"?(g(),y(oe,{key:1},[n("div",j8e,[n("label",R8e,d(f(t)("Start Date")),1),n("div",I8e,[z(n("input",{"onUpdate:modelValue":m[5]||(m[5]=v=>f(a).effective_from=v),type:"date",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.effective_from}])},null,2),[[K,f(a).effective_from]]),f(a).errors.effective_from?(g(),y("p",O8e,d(f(a).errors.effective_from),1)):j("",!0)])]),n("div",L8e,[n("label",F8e,d(f(t)("End Date")),1),n("div",N8e,[z(n("input",{"onUpdate:modelValue":m[6]||(m[6]=v=>f(a).effective_until=v),type:"date",class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.effective_until}])},null,2),[[K,f(a).effective_until]]),n("p",z8e,d(f(t)("Leave empty for ongoing schedule")),1),f(a).errors.effective_until?(g(),y("p",U8e,d(f(a).errors.effective_until),1)):j("",!0)])])],64)):j("",!0),n("div",B8e,[n("label",V8e,d(f(t)("Status")),1),n("div",H8e,[n("label",q8e,[z(n("input",{"onUpdate:modelValue":m[7]||(m[7]=v=>f(a).is_active=v),type:"checkbox",class:"form-checkbox h-4 w-4 text-indigo-600 rounded"},null,512),[[rs,f(a).is_active]]),n("span",W8e,d(f(t)("Active")),1)])])]),n("div",K8e,[n("div",Y8e,[n("label",G8e,d(f(t)("Reason")),1),n("div",X8e,[z(n("textarea",{"onUpdate:modelValue":m[8]||(m[8]=v=>f(a).reason=v),rows:"3",placeholder:f(t)("Why is this employee being assigned custom working hours?"),class:X(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.reason}])},null,10,J8e),[[K,f(a).reason]]),n("p",Q8e,d(f(t)("This will be included in the notification email to the employee.")),1),f(a).errors.reason?(g(),y("p",Z8e,d(f(a).errors.reason),1)):j("",!0)])])]),n("div",eCe,[n("div",tCe,[m[13]||(m[13]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),n("div",sCe,[n("p",nCe,d(f(t)("The employee will be notified via email and in-app notification about this schedule change.")),1)])])])])]),n("div",oCe,[n("button",{type:"button",class:"mr-3 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:(h=f(a).processing)==null?void 0:h.value,onClick:m[9]||(m[9]=v=>i("close"))},d(f(t)("Cancel")),9,iCe),n("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",disabled:(p=f(a).processing)==null?void 0:p.value,onClick:c},[(_=f(a).processing)!=null&&_.value?(g(),y("svg",aCe,[...m[14]||(m[14]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):j("",!0),J(" "+d(f(a).id?f(t)("Update"):f(t)("Assign")),1)],8,rCe)])])}}},dCe={key:0,class:"mt-8 flex justify-center"},cCe={key:1},uCe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},mCe={class:"overflow-hidden rounded-lg bg-white shadow"},fCe={class:"p-5"},pCe={class:"flex items-center"},hCe={class:"flex-shrink-0"},gCe={class:"ml-5 w-0 flex-1"},_Ce={class:"truncate text-sm font-medium text-gray-500"},vCe={class:"text-lg font-semibold text-gray-900"},yCe={class:"overflow-hidden rounded-lg bg-white shadow"},xCe={class:"p-5"},bCe={class:"flex items-center"},wCe={class:"flex-shrink-0"},kCe={class:"ml-5 w-0 flex-1"},$Ce={class:"truncate text-sm font-medium text-gray-500"},CCe={class:"text-lg font-semibold text-gray-900"},SCe={class:"overflow-hidden rounded-lg bg-white shadow"},MCe={class:"p-5"},TCe={class:"flex items-center"},DCe={class:"flex-shrink-0"},ACe={class:"ml-5 w-0 flex-1"},PCe={class:"truncate text-sm font-medium text-gray-500"},ECe={class:"text-lg font-semibold text-gray-900"},jCe={class:"overflow-hidden rounded-lg bg-white shadow"},RCe={class:"p-5"},ICe={class:"flex items-center"},OCe={class:"flex-shrink-0"},LCe={class:"ml-5 w-0 flex-1"},FCe={class:"truncate text-sm font-medium text-gray-500"},NCe={class:"text-lg font-semibold text-gray-900"},zCe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},UCe={class:"flex flex-1 gap-2"},BCe={class:"relative w-64 rounded-md shadow-sm"},VCe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},HCe=["placeholder"],qCe={value:""},WCe={value:"current"},KCe={value:"active"},YCe={value:"expired"},GCe={value:""},XCe=["value"],JCe={class:"ltr:ml-auto rtl:mr-auto"},QCe={class:"flex flex-col"},ZCe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},e7e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},t7e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},s7e={class:"min-w-full divide-y divide-gray-200"},n7e={class:"divide-y divide-gray-200 bg-white"},o7e={class:"whitespace-nowrap px-6 py-4"},i7e={class:"flex items-center"},r7e={class:"h-10 w-10 flex-shrink-0"},a7e={class:"ml-4"},l7e={class:"text-sm font-medium text-gray-900"},d7e={class:"text-sm text-gray-500"},c7e={class:"whitespace-nowrap px-6 py-4"},u7e={class:"text-sm font-medium text-gray-900"},m7e={class:"text-sm text-gray-500"},f7e={class:"whitespace-nowrap px-6 py-4 text-sm"},p7e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},h7e={class:"whitespace-nowrap px-6 py-4 text-sm"},g7e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},_7e={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},v7e={__name:"Index",setup(s){const e=E(!0),t=E(null),o=E([]),i=no("working-hours",{search:"",status:"",user_id:"",per_page:15}),r=at({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},c=(b=null)=>{r.model=b,r.show=!0},u=()=>{r.show=!1,i.get(),m()},m=async()=>{try{const b=await ce.get("working-hours/statistics");t.value=b.data}catch{}},h=async()=>{try{const b=await ce.get("working-hours/users");o.value=b.data}catch{}},p=b=>{if(!b)return"-";const[k,C]=b.split(":"),$=parseInt(k),A=$>=12?"PM":"AM";return`${$%12||12}:${C} ${A}`},_=b=>b?new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null,v=(b,k)=>{if(!b||!k)return 0;const[C,$]=b.split(":").map(Number),[A,R]=k.split(":").map(Number),T=C*60+$;return((A*60+R-T)/60).toFixed(1)},x=b=>{if(!b.is_active)return"bg-gray-100 text-gray-800";const k=new Date;k.setHours(0,0,0,0);const C=b.effective_from?new Date(b.effective_from):null,$=b.effective_until?new Date(b.effective_until):null;return $&&$<k?"bg-red-100 text-red-800":C&&C>k?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"},w=b=>{if(!b.is_active)return"Inactive";const k=new Date;k.setHours(0,0,0,0);const C=b.effective_from?new Date(b.effective_from):null,$=b.effective_until?new Date(b.effective_until):null;return $&&$<k?"Expired":C&&C>k?"Scheduled":"Active"};return Ne(async()=>{try{await Promise.all([i.get(),m(),h()])}catch{}finally{e.value=!1}}),(b,k)=>{var C;return e.value?(g(),y("div",dCe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",cCe,[t.value?(g(),y("div",uCe,[n("div",mCe,[n("div",fCe,[n("div",pCe,[n("div",hCe,[S(f(hs),{class:"h-6 w-6 text-gray-400"})]),n("div",gCe,[n("dl",null,[n("dt",_Ce,d(b.__("Total Custom Schedules")),1),n("dd",vCe,d(t.value.total_custom),1)])])])])]),n("div",yCe,[n("div",xCe,[n("div",bCe,[n("div",wCe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",kCe,[n("dl",null,[n("dt",$Ce,d(b.__("Currently Active")),1),n("dd",CCe,d(t.value.active),1)])])])])]),n("div",SCe,[n("div",MCe,[n("div",TCe,[n("div",DCe,[S(f(nn),{class:"h-6 w-6 text-blue-400"})]),n("div",ACe,[n("dl",null,[n("dt",PCe,d(b.__("Permanent Schedules")),1),n("dd",ECe,d(t.value.permanent),1)])])])])]),n("div",jCe,[n("div",RCe,[n("div",ICe,[n("div",OCe,[S(f(Fo),{class:"h-6 w-6 text-yellow-400"})]),n("div",LCe,[n("dl",null,[n("dt",FCe,d(b.__("Expiring Soon")),1),n("dd",NCe,d(t.value.expiring_soon),1)])])])])])])):j("",!0),n("div",zCe,[n("div",UCe,[n("div",BCe,[n("div",VCe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":k[0]||(k[0]=$=>f(i).params.search=$),type:"search",placeholder:b.__("Search by name or email..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,HCe),[[K,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":k[1]||(k[1]=$=>f(i).params.status=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[2]||(k[2]=$=>f(i).get())},[n("option",qCe,d(b.__("All Statuses")),1),n("option",WCe,d(b.__("Currently Active")),1),n("option",KCe,d(b.__("Active (Including Future)")),1),n("option",YCe,d(b.__("Expired")),1)],544),[[xe,f(i).params.status]]),z(n("select",{"onUpdate:modelValue":k[3]||(k[3]=$=>f(i).params.user_id=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[4]||(k[4]=$=>f(i).get())},[n("option",GCe,d(b.__("All Users")),1),(g(!0),y(oe,null,ue(o.value,$=>(g(),y("option",{key:$.id,value:$.id},d($.name),9,XCe))),128))],544),[[xe,f(i).params.user_id]])]),n("div",JCe,[S(Le,{size:"sm",onClick:k[5]||(k[5]=$=>c())},{default:W(()=>[J(d(b.__("Assign Working Hours")),1)]),_:1})])]),n("section",null,[n("div",QCe,[n("div",ZCe,[n("div",e7e,[n("div",t7e,[n("table",s7e,[n("thead",null,[n("tr",null,[S(Fe,{name:"working-hours",index:f(i),label:b.__("Employee")},null,8,["index","label"]),S(Fe,{name:"working-hours",index:f(i),label:b.__("Schedule")},null,8,["index","label"]),S(Fe,{name:"working-hours",index:f(i),label:b.__("Type")},null,8,["index","label"]),S(Fe,{name:"working-hours",index:f(i),label:b.__("Effective Period")},null,8,["index","label"]),S(Fe,{name:"working-hours",index:f(i),label:b.__("Status")},null,8,["index","label"]),S(Fe,{name:"working-hours",index:f(i),label:b.__("Assigned By")},null,8,["index","label"]),k[7]||(k[7]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",n7e,[(g(!0),y(oe,null,ue(f(i).data.data,$=>{var A,R,T;return g(),y("tr",{key:$.id,class:"hover:bg-gray-50"},[n("td",o7e,[n("div",i7e,[n("div",r7e,[S(cs,{user:$.user,size:"10"},null,8,["user"])]),n("div",a7e,[n("div",l7e,d((A=$.user)==null?void 0:A.name),1),n("div",d7e,d((R=$.user)==null?void 0:R.email),1)])])]),n("td",c7e,[n("div",u7e,d(p($.start_time))+" - "+d(p($.end_time)),1),n("div",m7e,d(v($.start_time,$.end_time))+" hours ",1)]),n("td",f7e,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-blue-100 text-blue-800":!$.effective_from&&!$.effective_until,"bg-purple-100 text-purple-800":$.effective_from||$.effective_until}])},d(!$.effective_from&&!$.effective_until?"Permanent":"Temporary"),3)]),n("td",p7e,[!$.effective_from&&!$.effective_until?(g(),y(oe,{key:0},[J(d(b.__("Permanent")),1)],64)):(g(),y(oe,{key:1},[J(d(_($.effective_from))+" - "+d(_($.effective_until)||"Ongoing"),1)],64))]),n("td",h7e,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",x($)])},d(w($)),3)]),n("td",g7e,d(((T=$.assigned_by)==null?void 0:T.name)||"-"),1),n("td",_7e,[S(f(Un),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>c($)},null,8,["onClick"]),S(f(Gt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:F=>f(i).deleteIt($.id)},null,8,["onClick"])])])}),128))])]),(C=f(i).data.data)!=null&&C.length?j("",!0):(g(),re(wl,{key:0})),S(Rs,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),re(bs,{key:1,size:"lg"},{default:W(()=>[S(lCe,{"model-value":r.model,users:o.value,onClose:k[6]||(k[6]=$=>r.show=!1),onSaved:u},null,8,["model-value","users"])]),_:1})):j("",!0)]))}}},y7e={key:0,class:"mt-8 flex justify-center"},x7e={key:1},b7e={class:"mb-6 flex items-start justify-between"},w7e={class:"text-2xl font-bold text-gray-900"},k7e={class:"mt-1 text-sm text-gray-500"},$7e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},C7e={class:"overflow-hidden rounded-lg bg-white shadow"},S7e={class:"p-5"},M7e={class:"flex items-center"},T7e={class:"flex-shrink-0"},D7e={class:"ml-5 w-0 flex-1"},A7e={class:"truncate text-sm font-medium text-gray-500"},P7e={class:"text-lg font-semibold text-gray-900"},E7e={class:"overflow-hidden rounded-lg bg-white shadow"},j7e={class:"p-5"},R7e={class:"flex items-center"},I7e={class:"flex-shrink-0"},O7e={class:"ml-5 w-0 flex-1"},L7e={class:"truncate text-sm font-medium text-gray-500"},F7e={class:"text-lg font-semibold text-gray-900"},N7e={class:"overflow-hidden rounded-lg bg-white shadow"},z7e={class:"p-5"},U7e={class:"flex items-center"},B7e={class:"flex-shrink-0"},V7e={class:"ml-5 w-0 flex-1"},H7e={class:"truncate text-sm font-medium text-gray-500"},q7e={class:"text-lg font-semibold text-gray-900"},W7e={class:"overflow-hidden rounded-lg bg-white shadow"},K7e={class:"p-5"},Y7e={class:"flex items-center"},G7e={class:"flex-shrink-0"},X7e={class:"ml-5 w-0 flex-1"},J7e={class:"truncate text-sm font-medium text-gray-500"},Q7e={class:"text-lg font-semibold text-gray-900"},Z7e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},eSe={class:"flex flex-1 flex-wrap gap-2"},tSe={value:""},sSe=["value"],nSe={value:""},oSe={value:"pending"},iSe={value:"acknowledged"},rSe={value:""},aSe={value:"same_page"},lSe={value:"computer_inactive"},dSe={value:"power_outage"},cSe={class:"overflow-hidden border-b border-gray-200 bg-white shadow sm:rounded-lg"},uSe={class:"min-w-full divide-y divide-gray-200"},mSe={class:"bg-gray-50"},fSe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pSe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},hSe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},gSe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},_Se={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},vSe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},ySe={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},xSe={class:"divide-y divide-gray-200 bg-white"},bSe={class:"whitespace-nowrap px-6 py-4"},wSe={class:"flex items-center"},kSe={class:"h-10 w-10 flex-shrink-0"},$Se={class:"ml-4"},CSe={class:"text-sm font-medium text-gray-900"},SSe={class:"text-sm text-gray-500"},MSe={class:"whitespace-nowrap px-6 py-4"},TSe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},DSe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ASe={class:"text-xs text-gray-400"},PSe={class:"whitespace-nowrap px-6 py-4"},ESe={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},jSe=["title"],RSe={key:1,class:"italic text-gray-400"},ISe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},OSe={class:"flex items-center justify-end gap-2"},LSe=["title","onClick"],FSe=["title","onClick"],NSe=["title","onClick"],zSe={key:0},USe={colspan:"7",class:"px-6 py-12 text-center text-gray-500"},BSe={key:0,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},VSe={class:"flex flex-1 justify-between sm:hidden"},HSe=["disabled"],qSe=["disabled"],WSe={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},KSe={class:"text-sm text-gray-700"},YSe={class:"font-medium"},GSe={class:"font-medium"},XSe={class:"font-medium"},JSe={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},QSe=["disabled"],ZSe=["disabled"],e9e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},t9e={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},s9e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},n9e={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},o9e={class:"flex items-start justify-between mb-4"},i9e={class:"text-lg font-medium text-gray-900"},r9e={key:0,class:"space-y-4"},a9e={class:"block text-sm font-medium text-gray-500"},l9e={class:"text-sm text-gray-900"},d9e={class:"block text-sm font-medium text-gray-500"},c9e={class:"block text-sm font-medium text-gray-500"},u9e={class:"text-sm text-gray-900"},m9e={class:"block text-sm font-medium text-gray-500"},f9e={class:"text-sm text-gray-900"},p9e={key:0},h9e={class:"block text-sm font-medium text-gray-500"},g9e={class:"text-sm text-gray-900"},_9e={class:"block text-sm font-medium text-gray-500"},v9e={class:"block text-sm font-medium text-gray-500"},y9e={key:0,class:"mt-1 rounded-md bg-gray-50 p-3 text-sm text-gray-900 whitespace-pre-wrap"},x9e={key:1,class:"text-sm italic text-gray-400"},b9e={key:1},w9e={class:"block text-sm font-medium text-gray-500"},k9e={class:"text-sm text-gray-900"},$9e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},C9e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},S9e={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},M9e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},T9e={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},D9e={class:"flex items-start justify-between mb-4"},A9e={class:"text-lg font-medium text-gray-900"},P9e={key:0,class:"space-y-4"},E9e={class:"block text-sm font-medium text-gray-500"},j9e={class:"text-sm text-gray-900"},R9e={class:"block text-sm font-medium text-gray-700"},I9e=["placeholder"],O9e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},L9e=["disabled"],F9e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},N9e={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},z9e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},U9e={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},B9e={class:"sm:flex sm:items-start"},V9e={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},H9e={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},q9e={class:"text-lg font-medium leading-6 text-gray-900"},W9e={class:"mt-2"},K9e={class:"text-sm text-gray-500"},Y9e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},G9e=["disabled"],X9e={__name:"Index",setup(s){const e=Ze("__"),t=E(!0),o=E(null),i=E([]),r=E({data:[]}),a=E(!1),l=E(!1),c=E(!1),u=E(null),m=E(""),h=E(!1),p=E(!1),_=at({user_id:"",status:"",reason_type:"",date_from:"",date_to:"",page:1}),v=Me(()=>_.user_id||_.status||_.reason_type||_.date_from||_.date_to),x=async()=>{try{const P=await ce.get("activity/statistics");o.value=P.data}catch{}},w=async()=>{try{const P=await ce.get("activity/users");i.value=P.data}catch{}},b=async()=>{try{const P=new URLSearchParams;_.user_id&&P.append("user_id",_.user_id),_.status&&P.append("status",_.status),_.reason_type&&P.append("reason_type",_.reason_type),_.date_from&&P.append("date_from",_.date_from),_.date_to&&P.append("date_to",_.date_to),P.append("page",_.page);const U=await ce.get(`activity/reports?${P.toString()}`);r.value=U.data}catch{}},k=()=>{_.user_id="",_.status="",_.reason_type="",_.date_from="",_.date_to="",_.page=1,b()},C=P=>{_.page=P,b()},$=P=>P?new Date(P).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"-",A=P=>{switch(P){case"same_page":return"bg-blue-100 text-blue-800";case"computer_inactive":return"bg-orange-100 text-orange-800";case"power_outage":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=P=>{switch(P){case"same_page":return e("Same Page");case"computer_inactive":return e("Inactive");case"power_outage":return e("Power Outage");default:return P}},T=P=>{u.value=P,a.value=!0},F=P=>{u.value=P,m.value=P.user_explanation||"",l.value=!0},L=P=>{u.value=P,c.value=!0},D=async()=>{if(u.value){h.value=!0;try{await ce.put(`activity/reports/${u.value.id}`,{user_explanation:m.value});const P=r.value.data.findIndex(U=>U.id===u.value.id);P!==-1&&(r.value.data[P].user_explanation=m.value),l.value=!1,u.value=null,m.value=""}catch{alert(e("Failed to save explanation"))}finally{h.value=!1}}},N=async()=>{if(u.value){p.value=!0;try{await ce.delete(`activity/reports/${u.value.id}`),r.value.data=r.value.data.filter(P=>P.id!==u.value.id),c.value=!1,u.value=null,x()}catch{alert(e("Failed to delete report"))}finally{p.value=!1}}};return Ne(async()=>{try{await Promise.all([x(),w(),b()])}catch{}finally{t.value=!1}}),(P,U)=>{var le,de,q,ne,G;const ye=Bt("router-link");return t.value?(g(),y("div",y7e,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",x7e,[n("div",b7e,[n("div",null,[n("h1",w7e,d(f(e)("Activity Reports")),1),n("p",k7e,d(f(e)("Monitor employee activity and view inactivity explanations")),1)]),S(ye,{to:"/activity-reports/settings",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:W(()=>[S(f(m$),{class:"mr-2 h-4 w-4"}),J(" "+d(f(e)("Settings")),1)]),_:1})]),o.value?(g(),y("div",$7e,[n("div",C7e,[n("div",S7e,[n("div",M7e,[n("div",T7e,[S(f(Vc),{class:"h-6 w-6 text-gray-400"})]),n("div",D7e,[n("dl",null,[n("dt",A7e,d(f(e)("Reports Today")),1),n("dd",P7e,d(o.value.total_reports_today),1)])])])])]),n("div",E7e,[n("div",j7e,[n("div",R7e,[n("div",I7e,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",O7e,[n("dl",null,[n("dt",L7e,d(f(e)("Pending Responses")),1),n("dd",F7e,d(o.value.pending_reports),1)])])])])]),n("div",N7e,[n("div",z7e,[n("div",U7e,[n("div",B7e,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",V7e,[n("dl",null,[n("dt",H7e,d(f(e)("Acknowledged Today")),1),n("dd",q7e,d(o.value.acknowledged_today),1)])])])])]),n("div",W7e,[n("div",K7e,[n("div",Y7e,[n("div",G7e,[S(f(Ym),{class:"h-6 w-6 text-red-400"})]),n("div",X7e,[n("dl",null,[n("dt",J7e,d(f(e)("Power Outages Today")),1),n("dd",Q7e,d(o.value.power_outages_today),1)])])])])])])):j("",!0),n("div",Z7e,[n("div",eSe,[z(n("select",{"onUpdate:modelValue":U[0]||(U[0]=ie=>_.user_id=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b},[n("option",tSe,d(f(e)("All Employees")),1),(g(!0),y(oe,null,ue(i.value,ie=>(g(),y("option",{key:ie.id,value:ie.id},d(ie.name),9,sSe))),128))],544),[[xe,_.user_id]]),z(n("select",{"onUpdate:modelValue":U[1]||(U[1]=ie=>_.status=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b},[n("option",nSe,d(f(e)("All Statuses")),1),n("option",oSe,d(f(e)("Pending")),1),n("option",iSe,d(f(e)("Acknowledged")),1)],544),[[xe,_.status]]),z(n("select",{"onUpdate:modelValue":U[2]||(U[2]=ie=>_.reason_type=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b},[n("option",rSe,d(f(e)("All Types")),1),n("option",aSe,d(f(e)("Same Page")),1),n("option",lSe,d(f(e)("Computer Inactive")),1),n("option",dSe,d(f(e)("Power Outage")),1)],544),[[xe,_.reason_type]]),z(n("input",{"onUpdate:modelValue":U[3]||(U[3]=ie=>_.date_from=ie),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b},null,544),[[K,_.date_from]]),z(n("input",{"onUpdate:modelValue":U[4]||(U[4]=ie=>_.date_to=ie),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b},null,544),[[K,_.date_to]]),v.value?(g(),y("button",{key:0,type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:k},[S(f(ui),{class:"mr-1 h-4 w-4"}),J(" "+d(f(e)("Clear")),1)])):j("",!0)]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:b},[S(f(tr),{class:"mr-2 h-4 w-4"}),J(" "+d(f(e)("Refresh")),1)])]),n("div",cSe,[n("table",uSe,[n("thead",mSe,[n("tr",null,[n("th",fSe,d(f(e)("Employee")),1),n("th",pSe,d(f(e)("Type")),1),n("th",hSe,d(f(e)("Duration")),1),n("th",gSe,d(f(e)("Time Period")),1),n("th",_Se,d(f(e)("Status")),1),n("th",vSe,d(f(e)("Explanation")),1),n("th",ySe,d(f(e)("Actions")),1)])]),n("tbody",xSe,[(g(!0),y(oe,null,ue(r.value.data,ie=>{var $e,we;return g(),y("tr",{key:ie.id,class:"hover:bg-gray-50"},[n("td",bSe,[n("div",wSe,[n("div",kSe,[S(cs,{user:ie.user,size:"10"},null,8,["user"])]),n("div",$Se,[n("div",CSe,d(($e=ie.user)==null?void 0:$e.name),1),n("div",SSe,d((we=ie.user)==null?void 0:we.email),1)])])]),n("td",MSe,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",A(ie.reason_type)])},d(R(ie.reason_type)),3)]),n("td",TSe,d(ie.inactive_duration_minutes)+" "+d(f(e)("minutes")),1),n("td",DSe,[n("div",null,d($(ie.inactive_from)),1),n("div",ASe,d(f(e)("to"))+" "+d($(ie.inactive_until)),1)]),n("td",PSe,[n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",ie.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},d(ie.is_pending?f(e)("Pending"):f(e)("Acknowledged")),3)]),n("td",ESe,[ie.user_explanation?(g(),y("div",{key:0,class:"truncate",title:ie.user_explanation},d(ie.user_explanation),9,jSe)):(g(),y("span",RSe,d(f(e)("Awaiting response...")),1))]),n("td",ISe,[n("div",OSe,[n("button",{type:"button",class:"text-indigo-600 hover:text-indigo-900",title:f(e)("View Details"),onClick:Qe=>T(ie)},[S(f(zn),{class:"h-5 w-5"})],8,LSe),ie.user_explanation?(g(),y("button",{key:0,type:"button",class:"text-blue-600 hover:text-blue-900",title:f(e)("Edit Explanation"),onClick:Qe=>F(ie)},[S(f(Un),{class:"h-5 w-5"})],8,FSe)):j("",!0),n("button",{type:"button",class:"text-red-600 hover:text-red-900",title:f(e)("Delete Report"),onClick:Qe=>L(ie)},[S(f(Gt),{class:"h-5 w-5"})],8,NSe)])])])}),128)),(le=r.value.data)!=null&&le.length?j("",!0):(g(),y("tr",zSe,[n("td",USe,d(f(e)("No activity reports found")),1)]))])]),(de=r.value.data)!=null&&de.length?(g(),y("div",BSe,[n("div",VSe,[n("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:U[5]||(U[5]=ie=>C(r.value.current_page-1))},d(f(e)("Previous")),9,HSe),n("button",{disabled:!r.value.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:U[6]||(U[6]=ie=>C(r.value.current_page+1))},d(f(e)("Next")),9,qSe)]),n("div",WSe,[n("div",null,[n("p",KSe,[J(d(f(e)("Showing"))+" ",1),n("span",YSe,d(r.value.from),1),J(" "+d(f(e)("to"))+" ",1),n("span",GSe,d(r.value.to),1),J(" "+d(f(e)("of"))+" ",1),n("span",XSe,d(r.value.total),1),J(" "+d(f(e)("results")),1)])]),n("div",null,[n("nav",JSe,[n("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:U[7]||(U[7]=ie=>C(r.value.current_page-1))},[S(f(d$),{class:"h-5 w-5"})],8,QSe),n("button",{disabled:!r.value.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:U[8]||(U[8]=ie=>C(r.value.current_page+1))},[S(f(Ov),{class:"h-5 w-5"})],8,ZSe)])])])])):j("",!0)]),(g(),re(kr,{to:"body"},[a.value?(g(),y("div",e9e,[n("div",t9e,[n("div",{class:"fixed inset-0 transition-opacity",onClick:U[9]||(U[9]=ie=>a.value=!1)},[...U[16]||(U[16]=[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])]),U[17]||(U[17]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",s9e,[n("div",n9e,[n("div",o9e,[n("h3",i9e,d(f(e)("Activity Report Details")),1),n("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:U[10]||(U[10]=ie=>a.value=!1)},[S(f(ui),{class:"h-6 w-6"})])]),u.value?(g(),y("div",r9e,[n("div",null,[n("label",a9e,d(f(e)("Employee")),1),n("p",l9e,d((q=u.value.user)==null?void 0:q.name)+" ("+d((ne=u.value.user)==null?void 0:ne.email)+")",1)]),n("div",null,[n("label",d9e,d(f(e)("Type")),1),n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",A(u.value.reason_type)])},d(R(u.value.reason_type)),3)]),n("div",null,[n("label",c9e,d(f(e)("Duration")),1),n("p",u9e,d(u.value.inactive_duration_minutes)+" "+d(f(e)("minutes")),1)]),n("div",null,[n("label",m9e,d(f(e)("Time Period")),1),n("p",f9e,d($(u.value.inactive_from))+" - "+d($(u.value.inactive_until)),1)]),u.value.page_url?(g(),y("div",p9e,[n("label",h9e,d(f(e)("Page")),1),n("p",g9e,d(u.value.page_title||u.value.page_url),1)])):j("",!0),n("div",null,[n("label",_9e,d(f(e)("Status")),1),n("span",{class:X(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u.value.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},d(u.value.is_pending?f(e)("Pending"):f(e)("Acknowledged")),3)]),n("div",null,[n("label",v9e,d(f(e)("Explanation")),1),u.value.user_explanation?(g(),y("div",y9e,d(u.value.user_explanation),1)):(g(),y("p",x9e,d(f(e)("No explanation provided yet")),1))]),u.value.acknowledged_at?(g(),y("div",b9e,[n("label",w9e,d(f(e)("Acknowledged At")),1),n("p",k9e,d($(u.value.acknowledged_at)),1)])):j("",!0)])):j("",!0)]),n("div",$9e,[n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:U[11]||(U[11]=ie=>a.value=!1)},d(f(e)("Close")),1)])])])])):j("",!0)])),(g(),re(kr,{to:"body"},[l.value?(g(),y("div",C9e,[n("div",S9e,[U[18]||(U[18]=n("div",{class:"fixed inset-0 transition-opacity"},[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),U[19]||(U[19]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",M9e,[n("div",T9e,[n("div",D9e,[n("h3",A9e,d(f(e)("Edit Explanation")),1),n("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:U[12]||(U[12]=ie=>l.value=!1)},[S(f(ui),{class:"h-6 w-6"})])]),u.value?(g(),y("div",P9e,[n("div",null,[n("label",E9e,d(f(e)("Employee")),1),n("p",j9e,d((G=u.value.user)==null?void 0:G.name),1)]),n("div",null,[n("label",R9e,d(f(e)("Explanation")),1),z(n("textarea",{"onUpdate:modelValue":U[13]||(U[13]=ie=>m.value=ie),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(e)("Enter explanation...")},null,8,I9e),[[K,m.value]])])])):j("",!0)]),n("div",O9e,[n("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:h.value,onClick:D},d(h.value?f(e)("Saving..."):f(e)("Save")),9,L9e),n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:U[14]||(U[14]=ie=>l.value=!1)},d(f(e)("Cancel")),1)])])])])):j("",!0)])),(g(),re(kr,{to:"body"},[c.value?(g(),y("div",F9e,[n("div",N9e,[U[20]||(U[20]=n("div",{class:"fixed inset-0 transition-opacity"},[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),U[21]||(U[21]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",z9e,[n("div",U9e,[n("div",B9e,[n("div",V9e,[S(f(Gt),{class:"h-6 w-6 text-red-600"})]),n("div",H9e,[n("h3",q9e,d(f(e)("Delete Report")),1),n("div",W9e,[n("p",K9e,d(f(e)("Are you sure you want to delete this activity report? This action cannot be undone.")),1)])])])]),n("div",Y9e,[n("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:p.value,onClick:N},d(p.value?f(e)("Deleting..."):f(e)("Delete")),9,G9e),n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:U[15]||(U[15]=ie=>c.value=!1)},d(f(e)("Cancel")),1)])])])])):j("",!0)]))]))}}},J9e={key:0,class:"mt-8 flex justify-center"},Q9e={key:1},Z9e={class:"mb-6"},eMe={class:"text-2xl font-bold text-gray-900"},tMe={class:"mt-1 text-sm text-gray-500"},sMe={class:"overflow-hidden rounded-lg bg-white shadow"},nMe={class:"p-6"},oMe={class:"flex items-center justify-between"},iMe={class:"text-lg font-medium text-gray-900"},rMe={class:"mt-1 text-sm text-gray-500"},aMe=["aria-checked"],lMe={class:"overflow-hidden rounded-lg bg-white shadow"},dMe={class:"p-6"},cMe={class:"text-lg font-medium text-gray-900 mb-4"},uMe={class:"text-sm text-gray-500 mb-4"},mMe={class:"space-y-3"},fMe=["onUpdate:modelValue","placeholder"],pMe=["onClick"],hMe={class:"overflow-hidden rounded-lg bg-white shadow"},gMe={class:"p-6"},_Me={class:"text-lg font-medium text-gray-900 mb-4"},vMe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},yMe={class:"block text-sm font-medium text-gray-700"},xMe={class:"mt-1 text-xs text-gray-500"},bMe={class:"block text-sm font-medium text-gray-700"},wMe={class:"mt-1 text-xs text-gray-500"},kMe={class:"block text-sm font-medium text-gray-700"},$Me={class:"mt-1 text-xs text-gray-500"},CMe={class:"overflow-hidden rounded-lg bg-white shadow"},SMe={class:"p-6"},MMe={class:"text-lg font-medium text-gray-900 mb-4"},TMe={class:"text-sm text-gray-500 mb-4"},DMe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},AMe={class:"block text-sm font-medium text-gray-700"},PMe={class:"block text-sm font-medium text-gray-700"},EMe={class:"flex justify-end"},jMe=["disabled"],RMe={key:0,class:"mr-2"},IMe={__name:"Settings",setup(s){const e=Ze("__"),t=E(!0),o=E(!1),i=at({enabled:!0,exception_urls:["https://nyasajob.com","https://studyseco.com","https://malawirents.com","https://emphxs.com","https://zoswa.com"],same_page_threshold:15,inactivity_threshold:10,heartbeat_interval:60,lunch_start:"12:00",lunch_end:"13:00"}),r=async()=>{try{const u=await ce.get("activity/settings");Object.assign(i,u.data),Array.isArray(i.exception_urls)||(i.exception_urls=[])}catch{}finally{t.value=!1}},a=async()=>{o.value=!0;try{const u={...i,exception_urls:i.exception_urls.filter(m=>m&&m.trim()!=="")};await ce.post("activity/settings",u),alert(e("Settings saved successfully"))}catch{alert(e("Failed to save settings"))}finally{o.value=!1}},l=()=>{i.exception_urls.push("")},c=u=>{i.exception_urls.splice(u,1)};return Ne(()=>{r()}),(u,m)=>t.value?(g(),y("div",J9e,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",Q9e,[n("div",Z9e,[n("h1",eMe,d(f(e)("Activity Monitoring Settings")),1),n("p",tMe,d(f(e)("Configure activity tracking behavior, exception URLs, and thresholds")),1)]),n("form",{onSubmit:Ve(a,["prevent"]),class:"space-y-6"},[n("div",sMe,[n("div",nMe,[n("div",oMe,[n("div",null,[n("h3",iMe,d(f(e)("Activity Monitoring")),1),n("p",rMe,d(f(e)("Enable or disable activity monitoring for all employees")),1)]),n("button",{type:"button",role:"switch","aria-checked":i.enabled,class:X([i.enabled?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"]),onClick:m[0]||(m[0]=h=>i.enabled=!i.enabled)},[n("span",{class:X([i.enabled?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],10,aMe)])])]),n("div",lMe,[n("div",dMe,[n("h3",cMe,d(f(e)("Exception URLs (Company Pages)")),1),n("p",uMe,d(f(e)("Activity tracking will be skipped when users are browsing these domains. This is useful for company websites where employees may spend extended time.")),1),n("div",mMe,[(g(!0),y(oe,null,ue(i.exception_urls,(h,p)=>(g(),y("div",{key:p,class:"flex gap-2"},[z(n("input",{"onUpdate:modelValue":_=>i.exception_urls[p]=_,type:"url",class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(e)("https://example.com")},null,8,fMe),[[K,i.exception_urls[p]]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:_=>c(p)},[S(f(Gt),{class:"h-4 w-4 text-red-500"})],8,pMe)]))),128)),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:l},[S(f(gs),{class:"mr-2 h-4 w-4"}),J(" "+d(f(e)("Add URL")),1)])])])]),n("div",hMe,[n("div",gMe,[n("h3",_Me,d(f(e)("Thresholds")),1),n("div",vMe,[n("div",null,[n("label",yMe,d(f(e)("Same Page Threshold (minutes)")),1),n("p",xMe,d(f(e)("Alert if user stays on the same page for this duration")),1),z(n("input",{"onUpdate:modelValue":m[1]||(m[1]=h=>i.same_page_threshold=h),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,i.same_page_threshold,void 0,{number:!0}]])]),n("div",null,[n("label",bMe,d(f(e)("Inactivity Threshold (minutes)")),1),n("p",wMe,d(f(e)("Alert if no mouse/keyboard activity for this duration")),1),z(n("input",{"onUpdate:modelValue":m[2]||(m[2]=h=>i.inactivity_threshold=h),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,i.inactivity_threshold,void 0,{number:!0}]])]),n("div",null,[n("label",kMe,d(f(e)("Heartbeat Interval (seconds)")),1),n("p",$Me,d(f(e)("How often to send activity updates to the server")),1),z(n("input",{"onUpdate:modelValue":m[3]||(m[3]=h=>i.heartbeat_interval=h),type:"number",min:"30",max:"300",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,i.heartbeat_interval,void 0,{number:!0}]])])])])]),n("div",CMe,[n("div",SMe,[n("h3",MMe,d(f(e)("Lunch Break (Skip Tracking)")),1),n("p",TMe,d(f(e)("Activity tracking will be paused during this time period")),1),n("div",DMe,[n("div",null,[n("label",AMe,d(f(e)("Start Time")),1),z(n("input",{"onUpdate:modelValue":m[4]||(m[4]=h=>i.lunch_start=h),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,i.lunch_start]])]),n("div",null,[n("label",PMe,d(f(e)("End Time")),1),z(n("input",{"onUpdate:modelValue":m[5]||(m[5]=h=>i.lunch_end=h),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,i.lunch_end]])])])])]),n("div",EMe,[n("button",{type:"submit",disabled:o.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[o.value?(g(),y("span",RMe,[...m[6]||(m[6]=[n("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):j("",!0),J(" "+d(o.value?f(e)("Saving..."):f(e)("Save Settings")),1)],8,jMe)])],32)]))}},OMe={class:"border-b border-gray-200 px-6 py-4"},LMe={class:"text-lg font-semibold text-gray-900"},FMe={class:"max-h-[70vh] space-y-6 overflow-y-auto px-6 py-4"},NMe={class:"mb-4 text-md font-medium text-gray-900"},zMe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},UMe={class:"block text-sm font-medium text-gray-700"},BMe={key:0,class:"mt-1 text-sm text-red-600"},VMe={class:"block text-sm font-medium text-gray-700"},HMe={class:"block text-sm font-medium text-gray-700"},qMe={key:0,class:"mt-1 text-sm text-red-600"},WMe={class:"block text-sm font-medium text-gray-700"},KMe={class:"block text-sm font-medium text-gray-700"},YMe={class:"block text-sm font-medium text-gray-700"},GMe={class:"block text-sm font-medium text-gray-700"},XMe={class:"block text-sm font-medium text-gray-700"},JMe={value:""},QMe={class:"border-t border-gray-200 pt-6"},ZMe={class:"mb-4 text-md font-medium text-gray-900"},eTe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},tTe={class:"block text-sm font-medium text-gray-700"},sTe=["value"],nTe={key:0,class:"mt-1 text-sm text-red-600"},oTe={class:"block text-sm font-medium text-gray-700"},iTe={value:""},rTe=["value"],aTe={class:"block text-sm font-medium text-gray-700"},lTe={value:""},dTe=["value"],cTe={class:"block text-sm font-medium text-gray-700"},uTe=["value"],mTe={class:"sm:col-span-2"},fTe={class:"block text-sm font-medium text-gray-700"},pTe=["placeholder"],hTe={key:0,class:"border-t border-gray-200 pt-6"},gTe={class:"mb-4 text-md font-medium text-gray-900"},_Te={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},vTe={class:"block text-sm font-medium text-gray-700"},yTe=["value"],xTe={class:"block text-sm font-medium text-gray-700"},bTe=["value"],wTe={class:"block text-sm font-medium text-gray-700"},kTe={value:""},$Te=["value"],CTe={class:"block text-sm font-medium text-gray-700"},STe={key:0,class:"sm:col-span-2"},MTe={class:"block text-sm font-medium text-gray-700"},TTe=["placeholder"],DTe={class:"border-t border-gray-200 pt-6"},ATe={class:"block text-sm font-medium text-gray-700"},PTe=["placeholder"],ETe={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},jTe={__name:"Form",props:{modelValue:{type:Object,default:null},options:{type:Object,default:()=>({})}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=E(!1),r=E({}),a=at({first_name:"",last_name:"",email:"",phone:"",company_name:"",job_title:"",website:"",country:"Malawi",city:"",service_interest:"web_development",project_description:"",budget_range:"",timeline:"",source:"website",status:"new",priority:"warm",assigned_to:"",next_follow_up_at:"",internal_notes:"",loss_reason:""}),l=async()=>{var u,m;i.value=!0,r.value={};const c=t.modelValue?`leads/${t.modelValue.id}`:"leads";try{t.modelValue?await ce.put(c,a):await ce.post(c,a),o("saved"),o("close")}catch(h){(m=(u=h.response)==null?void 0:u.data)!=null&&m.errors&&(r.value=h.response.data.errors)}finally{i.value=!1}};return Pt(()=>t.modelValue,c=>{c&&Object.assign(a,{first_name:c.first_name||"",last_name:c.last_name||"",email:c.email||"",phone:c.phone||"",company_name:c.company_name||"",job_title:c.job_title||"",website:c.website||"",country:c.country||"Malawi",city:c.city||"",service_interest:c.service_interest||"web_development",project_description:c.project_description||"",budget_range:c.budget_range||"",timeline:c.timeline||"",source:c.source||"website",status:c.status||"new",priority:c.priority||"warm",assigned_to:c.assigned_to||"",next_follow_up_at:c.next_follow_up_at?c.next_follow_up_at.slice(0,16):"",internal_notes:c.internal_notes||"",loss_reason:c.loss_reason||""})},{immediate:!0}),(c,u)=>{var m,h,p,_,v,x,w;return g(),y("div",null,[n("div",OMe,[n("h2",LMe,d(s.modelValue?c.__("Edit Lead"):c.__("Add Lead")),1)]),n("div",FMe,[n("div",null,[n("h3",NMe,d(c.__("Contact Information")),1),n("div",zMe,[n("div",null,[n("label",UMe,[J(d(c.__("First Name"))+" ",1),u[20]||(u[20]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":u[0]||(u[0]=b=>a.first_name=b),type:"text",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.first_name}]),required:""},null,2),[[K,a.first_name]]),r.value.first_name?(g(),y("p",BMe,d(r.value.first_name[0]),1)):j("",!0)]),n("div",null,[n("label",VMe,d(c.__("Last Name")),1),z(n("input",{"onUpdate:modelValue":u[1]||(u[1]=b=>a.last_name=b),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,a.last_name]])]),n("div",null,[n("label",HMe,[J(d(c.__("Email"))+" ",1),u[21]||(u[21]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":u[2]||(u[2]=b=>a.email=b),type:"email",class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),required:""},null,2),[[K,a.email]]),r.value.email?(g(),y("p",qMe,d(r.value.email[0]),1)):j("",!0)]),n("div",null,[n("label",WMe,d(c.__("Phone")),1),z(n("input",{"onUpdate:modelValue":u[3]||(u[3]=b=>a.phone=b),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,a.phone]])]),n("div",null,[n("label",KMe,d(c.__("Company")),1),z(n("input",{"onUpdate:modelValue":u[4]||(u[4]=b=>a.company_name=b),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,a.company_name]])]),n("div",null,[n("label",YMe,d(c.__("Job Title")),1),z(n("input",{"onUpdate:modelValue":u[5]||(u[5]=b=>a.job_title=b),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,a.job_title]])]),n("div",null,[n("label",GMe,d(c.__("Website")),1),z(n("input",{"onUpdate:modelValue":u[6]||(u[6]=b=>a.website=b),type:"url",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://"},null,512),[[K,a.website]])]),n("div",null,[n("label",XMe,d(c.__("Country")),1),z(n("select",{"onUpdate:modelValue":u[7]||(u[7]=b=>a.country=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",JMe,d(c.__("Select Country")),1),u[22]||(u[22]=Ps('<option value="Malawi">Malawi</option><option value="Zambia">Zambia</option><option value="Tanzania">Tanzania</option><option value="Mozambique">Mozambique</option><option value="Zimbabwe">Zimbabwe</option><option value="South Africa">South Africa</option><option value="Kenya">Kenya</option><option value="United States">United States</option><option value="United Kingdom">United Kingdom</option><option value="Other">Other</option>',10))],512),[[xe,a.country]])])])]),n("div",QMe,[n("h3",ZMe,d(c.__("Project Details")),1),n("div",eTe,[n("div",null,[n("label",tTe,[J(d(c.__("Service Interest"))+" ",1),u[23]||(u[23]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":u[8]||(u[8]=b=>a.service_interest=b),class:X(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.service_interest}]),required:""},[(g(!0),y(oe,null,ue((m=s.options)==null?void 0:m.service_interests,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,sTe))),128))],2),[[xe,a.service_interest]]),r.value.service_interest?(g(),y("p",nTe,d(r.value.service_interest[0]),1)):j("",!0)]),n("div",null,[n("label",oTe,d(c.__("Budget Range")),1),z(n("select",{"onUpdate:modelValue":u[9]||(u[9]=b=>a.budget_range=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",iTe,d(c.__("Not Specified")),1),(g(!0),y(oe,null,ue((h=s.options)==null?void 0:h.budget_ranges,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,rTe))),128))],512),[[xe,a.budget_range]])]),n("div",null,[n("label",aTe,d(c.__("Timeline")),1),z(n("select",{"onUpdate:modelValue":u[10]||(u[10]=b=>a.timeline=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",lTe,d(c.__("Not Specified")),1),(g(!0),y(oe,null,ue((p=s.options)==null?void 0:p.timelines,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,dTe))),128))],512),[[xe,a.timeline]])]),n("div",null,[n("label",cTe,d(c.__("Source")),1),z(n("select",{"onUpdate:modelValue":u[11]||(u[11]=b=>a.source=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),y(oe,null,ue((_=s.options)==null?void 0:_.sources,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,uTe))),128))],512),[[xe,a.source]])]),n("div",mTe,[n("label",fTe,d(c.__("Project Description")),1),z(n("textarea",{"onUpdate:modelValue":u[12]||(u[12]=b=>a.project_description=b),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.__("Describe the project requirements...")},null,8,pTe),[[K,a.project_description]])])])]),s.modelValue?(g(),y("div",hTe,[n("h3",gTe,d(c.__("Lead Qualification")),1),n("div",_Te,[n("div",null,[n("label",vTe,d(c.__("Status")),1),z(n("select",{"onUpdate:modelValue":u[13]||(u[13]=b=>a.status=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),y(oe,null,ue((v=s.options)==null?void 0:v.statuses,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,yTe))),128))],512),[[xe,a.status]])]),n("div",null,[n("label",xTe,d(c.__("Priority")),1),z(n("select",{"onUpdate:modelValue":u[14]||(u[14]=b=>a.priority=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),y(oe,null,ue((x=s.options)==null?void 0:x.priorities,(b,k)=>(g(),y("option",{key:k,value:k},d(b),9,bTe))),128))],512),[[xe,a.priority]])]),n("div",null,[n("label",wTe,d(c.__("Assigned To")),1),z(n("select",{"onUpdate:modelValue":u[15]||(u[15]=b=>a.assigned_to=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",kTe,d(c.__("Unassigned")),1),(g(!0),y(oe,null,ue((w=s.options)==null?void 0:w.assignable_users,b=>(g(),y("option",{key:b.id,value:b.id},d(b.name),9,$Te))),128))],512),[[xe,a.assigned_to]])]),n("div",null,[n("label",CTe,d(c.__("Next Follow-up")),1),z(n("input",{"onUpdate:modelValue":u[16]||(u[16]=b=>a.next_follow_up_at=b),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,a.next_follow_up_at]])]),a.status==="lost"?(g(),y("div",STe,[n("label",MTe,d(c.__("Loss Reason")),1),z(n("input",{"onUpdate:modelValue":u[17]||(u[17]=b=>a.loss_reason=b),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.__("Why was this lead lost?")},null,8,TTe),[[K,a.loss_reason]])])):j("",!0)])])):j("",!0),n("div",DTe,[n("label",ATe,d(c.__("Internal Notes")),1),z(n("textarea",{"onUpdate:modelValue":u[18]||(u[18]=b=>a.internal_notes=b),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.__("Private notes about this lead...")},null,8,PTe),[[K,a.internal_notes]])])]),n("div",ETe,[S(Le,{variant:"secondary",onClick:u[19]||(u[19]=b=>c.$emit("close"))},{default:W(()=>[J(d(c.__("Cancel")),1)]),_:1}),S(Le,{disabled:i.value,onClick:l},{default:W(()=>[J(d(s.modelValue?c.__("Update Lead"):c.__("Create Lead")),1)]),_:1},8,["disabled"])])])}}},RTe={key:0,class:"flex justify-center py-12"},ITe={key:1},OTe={class:"border-b border-gray-200 px-6 py-4"},LTe={class:"flex items-start justify-between"},FTe={class:"flex items-center"},NTe={class:"ml-4"},zTe={class:"text-xl font-semibold text-gray-900"},UTe={class:"text-sm text-gray-500"},BTe={class:"mt-4 flex flex-wrap gap-2"},VTe={class:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-sm font-medium text-gray-700"},HTe={class:"max-h-[70vh] overflow-y-auto"},qTe={class:"border-b border-gray-200 bg-gray-50 px-6 py-3"},WTe={class:"flex flex-wrap gap-2"},KTe={class:"grid grid-cols-1 gap-6 p-6 lg:grid-cols-3"},YTe={class:"lg:col-span-2 space-y-6"},GTe={class:"rounded-lg border border-gray-200 bg-white p-4"},XTe={class:"mb-4 font-semibold text-gray-900"},JTe={class:"grid grid-cols-2 gap-4 text-sm"},QTe={class:"text-gray-500"},ZTe={class:"mt-1 font-medium text-gray-900"},eDe=["href"],tDe={class:"text-gray-500"},sDe={class:"mt-1 font-medium text-gray-900"},nDe=["href"],oDe={key:1,class:"text-gray-400"},iDe={class:"text-gray-500"},rDe={class:"mt-1 font-medium text-gray-900"},aDe={class:"text-gray-500"},lDe={class:"mt-1 font-medium text-gray-900"},dDe={class:"text-gray-500"},cDe={class:"mt-1 font-medium text-gray-900"},uDe={class:"text-gray-500"},mDe={class:"mt-1 font-medium text-gray-900"},fDe=["href"],pDe={key:1,class:"text-gray-400"},hDe={class:"rounded-lg border border-gray-200 bg-white p-4"},gDe={class:"mb-4 font-semibold text-gray-900"},_De={class:"space-y-4 text-sm"},vDe={class:"grid grid-cols-3 gap-4"},yDe={class:"text-gray-500"},xDe={class:"mt-1 font-medium text-gray-900"},bDe={class:"text-gray-500"},wDe={class:"mt-1 font-medium text-gray-900"},kDe={class:"text-gray-500"},$De={class:"mt-1 font-medium text-gray-900"},CDe={key:0},SDe={class:"text-gray-500"},MDe={class:"mt-1 whitespace-pre-wrap text-gray-900"},TDe={class:"rounded-lg border border-gray-200 bg-white p-4"},DDe={class:"mb-4 font-semibold text-gray-900"},ADe={key:0,class:"flow-root"},PDe={class:"-mb-8"},EDe={class:"relative pb-8"},jDe={key:0,class:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"},RDe={class:"relative flex space-x-3"},IDe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},ODe={class:"text-sm font-medium text-gray-900"},LDe={key:0,class:"mt-1 text-sm text-gray-500"},FDe={class:"whitespace-nowrap text-right text-sm text-gray-500"},NDe={key:0,class:"text-xs"},zDe={key:1,class:"text-center text-sm text-gray-500"},UDe={class:"space-y-6"},BDe={class:"rounded-lg border border-gray-200 bg-white p-4"},VDe={class:"mb-4 font-semibold text-gray-900"},HDe={class:"space-y-3 text-sm"},qDe={class:"text-gray-500"},WDe={class:"mt-1 font-medium text-gray-900"},KDe={class:"text-gray-500"},YDe={class:"mt-1 font-medium text-gray-900"},GDe={class:"text-gray-500"},XDe={class:"mt-1 font-medium text-gray-900"},JDe={key:0},QDe={class:"text-gray-500"},ZDe={class:"mt-1 font-medium text-gray-900"},eAe={key:1},tAe={class:"text-gray-500"},sAe={key:0,class:"rounded-lg border border-gray-200 bg-white p-4"},nAe={class:"mb-4 font-semibold text-gray-900"},oAe={class:"space-y-2 text-sm"},iAe={key:0},rAe={class:"font-medium text-gray-900"},aAe={key:1},lAe={class:"font-medium text-gray-900"},dAe={key:2},cAe={class:"font-medium text-gray-900"},uAe={key:3},mAe=["title"],fAe={key:1,class:"rounded-lg border border-gray-200 bg-white p-4"},pAe={class:"mb-2 font-semibold text-gray-900"},hAe={class:"whitespace-pre-wrap text-sm text-gray-600"},gAe={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},_Ae={class:"w-full max-w-md rounded-lg bg-white p-6"},vAe={class:"mb-4 text-lg font-semibold"},yAe=["placeholder"],xAe={class:"flex justify-end gap-2"},bAe={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},wAe={class:"w-full max-w-md rounded-lg bg-white p-6"},kAe={class:"mb-4 text-lg font-semibold"},$Ae=["placeholder"],CAe={class:"flex justify-end gap-2"},SAe={key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},MAe={class:"w-full max-w-md rounded-lg bg-white p-6"},TAe={class:"mb-4 text-lg font-semibold"},DAe=["placeholder"],AAe=["placeholder"],PAe={class:"flex justify-end gap-2"},EAe={key:5,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},jAe={class:"w-full max-w-md rounded-lg bg-white p-6"},RAe={class:"mb-4 text-lg font-semibold"},IAe=["placeholder"],OAe={class:"flex justify-end gap-2"},LAe={__name:"Detail",props:{leadId:{type:[Number,String],required:!0}},emits:["close","updated"],setup(s,{emit:e}){const t=s,o=e,i=E(!0),r=E(null),a=E(!1),l=E(!1),c=E(!1),u=E(!1),m=at({status:"",loss_reason:""}),h=at({note:""}),p=at({type:"call_made",outcome:"",notes:""}),_=at({next_follow_up_at:"",note:""}),v=async()=>{i.value=!0;try{const P=await ce.get(`leads/${t.leadId}`);r.value=P.data.data,m.status=r.value.status}catch{}finally{i.value=!1}},x=async()=>{try{await ce.post(`leads/${t.leadId}/status`,m),a.value=!1,o("updated"),v()}catch{}},w=async()=>{try{await ce.post(`leads/${t.leadId}/note`,h),l.value=!1,h.note="",v()}catch{}},b=async()=>{try{await ce.post(`leads/${t.leadId}/log-call`,p),c.value=!1,Object.assign(p,{type:"call_made",outcome:"",notes:""}),o("updated"),v()}catch{}},k=async()=>{try{await ce.post(`leads/${t.leadId}/follow-up`,_),u.value=!1,Object.assign(_,{next_follow_up_at:"",note:""}),v()}catch{}},C=async()=>{if(confirm("Convert this lead to a client?"))try{await ce.post(`leads/${t.leadId}/convert`),o("updated"),o("close")}catch{}},$=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),A=P=>new Date(P)<new Date,R=P=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800",T=P=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[P]||"bg-gray-100 text-gray-800",F=P=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[P]||"bg-gray-100",L=P=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[P]||"text-gray-600",D=P=>({created:lh,email_sent:g$,call_made:Hu,call_received:Hu,note_added:rh,status_changed:tr,follow_up_scheduled:nn})[P]||lh,N=P=>({created:"bg-green-500",email_sent:"bg-blue-500",call_made:"bg-indigo-500",call_received:"bg-purple-500",note_added:"bg-yellow-500",status_changed:"bg-gray-500",follow_up_scheduled:"bg-orange-500"})[P]||"bg-gray-500";return Ne(v),(P,U)=>{var ye,le;return g(),y("div",null,[i.value?(g(),y("div",RTe,[S(it,{size:"40",color:"#5850ec"})])):r.value?(g(),y("div",ITe,[n("div",OTe,[n("div",LTe,[n("div",FTe,[n("div",{class:X(["flex h-12 w-12 items-center justify-center rounded-full",F(r.value.priority)])},[n("span",{class:X(["text-lg font-semibold",L(r.value.priority)])},d(r.value.first_name.charAt(0))+d(r.value.last_name?r.value.last_name.charAt(0):""),3)],2),n("div",NTe,[n("h2",zTe,d(r.value.full_name),1),n("p",UTe,d(r.value.company_name||r.value.email),1)])]),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:U[0]||(U[0]=de=>P.$emit("close"))},[S(f(ui),{class:"h-6 w-6"})])]),n("div",BTe,[n("span",{class:X([R(r.value.status),"inline-flex rounded-full px-3 py-1 text-sm font-medium"])},d(r.value.status_label),3),n("span",{class:X([T(r.value.priority),"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium"])},[r.value.priority==="hot"?(g(),re(f(G0),{key:0,class:"mr-1 h-4 w-4"})):j("",!0),J(" "+d(r.value.priority.charAt(0).toUpperCase()+r.value.priority.slice(1))+" Priority ",1)],2),n("span",VTe," Score: "+d(r.value.score)+"/100 ",1)])]),n("div",HTe,[n("div",qTe,[n("div",WTe,[n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:U[1]||(U[1]=de=>a.value=!0)},[S(f(tr),{class:"mr-1.5 h-4 w-4"}),J(" "+d(P.__("Update Status")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:U[2]||(U[2]=de=>l.value=!0)},[S(f(rh),{class:"mr-1.5 h-4 w-4"}),J(" "+d(P.__("Add Note")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:U[3]||(U[3]=de=>c.value=!0)},[S(f(Hu),{class:"mr-1.5 h-4 w-4"}),J(" "+d(P.__("Log Call")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:U[4]||(U[4]=de=>u.value=!0)},[S(f(nn),{class:"mr-1.5 h-4 w-4"}),J(" "+d(P.__("Schedule Follow-up")),1)]),r.value.status!=="won"&&r.value.status!=="lost"?(g(),y("button",{key:0,class:"inline-flex items-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-green-700",onClick:C},[S(f(Yt),{class:"mr-1.5 h-4 w-4"}),J(" "+d(P.__("Convert to Client")),1)])):j("",!0)])]),n("div",KTe,[n("div",YTe,[n("div",GTe,[n("h3",XTe,d(P.__("Contact Information")),1),n("dl",JTe,[n("div",null,[n("dt",QTe,d(P.__("Email")),1),n("dd",ZTe,[n("a",{href:"mailto:"+r.value.email,class:"text-indigo-600 hover:underline"},d(r.value.email),9,eDe)])]),n("div",null,[n("dt",tDe,d(P.__("Phone")),1),n("dd",sDe,[r.value.phone?(g(),y("a",{key:0,href:"tel:"+r.value.phone,class:"text-indigo-600 hover:underline"},d(r.value.phone),9,nDe)):(g(),y("span",oDe,"-"))])]),n("div",null,[n("dt",iDe,d(P.__("Company")),1),n("dd",rDe,d(r.value.company_name||"-"),1)]),n("div",null,[n("dt",aDe,d(P.__("Job Title")),1),n("dd",lDe,d(r.value.job_title||"-"),1)]),n("div",null,[n("dt",dDe,d(P.__("Location")),1),n("dd",cDe,d([r.value.city,r.value.country].filter(Boolean).join(", ")||"-"),1)]),n("div",null,[n("dt",uDe,d(P.__("Website")),1),n("dd",mDe,[r.value.website?(g(),y("a",{key:0,href:r.value.website,target:"_blank",class:"text-indigo-600 hover:underline"},d(r.value.website),9,fDe)):(g(),y("span",pDe,"-"))])])])]),n("div",hDe,[n("h3",gDe,d(P.__("Project Details")),1),n("dl",_De,[n("div",vDe,[n("div",null,[n("dt",yDe,d(P.__("Service Interest")),1),n("dd",xDe,d(r.value.service_interest_label),1)]),n("div",null,[n("dt",bDe,d(P.__("Budget")),1),n("dd",wDe,d(r.value.budget_range_label||"-"),1)]),n("div",null,[n("dt",kDe,d(P.__("Timeline")),1),n("dd",$De,d(r.value.timeline||"-"),1)])]),r.value.project_description?(g(),y("div",CDe,[n("dt",SDe,d(P.__("Description")),1),n("dd",MDe,d(r.value.project_description),1)])):j("",!0)])]),n("div",TDe,[n("h3",DDe,d(P.__("Activity Timeline")),1),(ye=r.value.activities)!=null&&ye.length?(g(),y("div",ADe,[n("ul",PDe,[(g(!0),y(oe,null,ue(r.value.activities,(de,q)=>(g(),y("li",{key:de.id},[n("div",EDe,[q!==r.value.activities.length-1?(g(),y("span",jDe)):j("",!0),n("div",RDe,[n("div",null,[n("span",{class:X([N(de.type),"flex h-8 w-8 items-center justify-center rounded-full ring-8 ring-white"])},[(g(),re(Xn(D(de.type)),{class:"h-4 w-4 text-white"}))],2)]),n("div",IDe,[n("div",null,[n("p",ODe,d(de.type_label),1),de.description?(g(),y("p",LDe,d(de.description),1)):j("",!0)]),n("div",FDe,[n("time",null,d($(de.created_at)),1),de.user?(g(),y("p",NDe,d(de.user.name),1)):j("",!0)])])])])]))),128))])])):(g(),y("p",zDe,d(P.__("No activities yet")),1))])]),n("div",UDe,[n("div",BDe,[n("h3",VDe,d(P.__("Lead Info")),1),n("dl",HDe,[n("div",null,[n("dt",qDe,d(P.__("Source")),1),n("dd",WDe,d(r.value.source),1)]),n("div",null,[n("dt",KDe,d(P.__("Assigned To")),1),n("dd",YDe,d(((le=r.value.assigned_user)==null?void 0:le.name)||"Unassigned"),1)]),n("div",null,[n("dt",GDe,d(P.__("Created")),1),n("dd",XDe,d($(r.value.created_at)),1)]),r.value.last_contacted_at?(g(),y("div",JDe,[n("dt",QDe,d(P.__("Last Contacted")),1),n("dd",ZDe,d($(r.value.last_contacted_at)),1)])):j("",!0),r.value.next_follow_up_at?(g(),y("div",eAe,[n("dt",tAe,d(P.__("Next Follow-up")),1),n("dd",{class:X(["mt-1 font-medium",A(r.value.next_follow_up_at)?"text-red-600":"text-gray-900"])},d($(r.value.next_follow_up_at)),3)])):j("",!0)])]),r.value.utm_source||r.value.landing_page?(g(),y("div",sAe,[n("h3",nAe,d(P.__("Tracking Data")),1),n("dl",oAe,[r.value.utm_source?(g(),y("div",iAe,[U[17]||(U[17]=n("dt",{class:"text-gray-500"},"UTM Source",-1)),n("dd",rAe,d(r.value.utm_source),1)])):j("",!0),r.value.utm_medium?(g(),y("div",aAe,[U[18]||(U[18]=n("dt",{class:"text-gray-500"},"UTM Medium",-1)),n("dd",lAe,d(r.value.utm_medium),1)])):j("",!0),r.value.utm_campaign?(g(),y("div",dAe,[U[19]||(U[19]=n("dt",{class:"text-gray-500"},"UTM Campaign",-1)),n("dd",cAe,d(r.value.utm_campaign),1)])):j("",!0),r.value.landing_page?(g(),y("div",uAe,[U[20]||(U[20]=n("dt",{class:"text-gray-500"},"Landing Page",-1)),n("dd",{class:"truncate font-medium text-gray-900",title:r.value.landing_page},d(r.value.landing_page),9,mAe)])):j("",!0)])])):j("",!0),r.value.internal_notes?(g(),y("div",fAe,[n("h3",pAe,d(P.__("Internal Notes")),1),n("p",hAe,d(r.value.internal_notes),1)])):j("",!0)])])])])):j("",!0),a.value?(g(),y("div",gAe,[n("div",_Ae,[n("h3",vAe,d(P.__("Update Status")),1),z(n("select",{"onUpdate:modelValue":U[5]||(U[5]=de=>m.status=de),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...U[21]||(U[21]=[Ps('<option value="new">New</option><option value="contacted">Contacted</option><option value="qualified">Qualified</option><option value="proposal_sent">Proposal Sent</option><option value="negotiation">Negotiation</option><option value="won">Won</option><option value="lost">Lost</option>',7)])],512),[[xe,m.status]]),m.status==="lost"?z((g(),y("input",{key:0,"onUpdate:modelValue":U[6]||(U[6]=de=>m.loss_reason=de),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Reason for loss")},null,8,yAe)),[[K,m.loss_reason]]):j("",!0),n("div",xAe,[S(Le,{variant:"secondary",onClick:U[7]||(U[7]=de=>a.value=!1)},{default:W(()=>[J(d(P.__("Cancel")),1)]),_:1}),S(Le,{onClick:x},{default:W(()=>[J(d(P.__("Update")),1)]),_:1})])])])):j("",!0),l.value?(g(),y("div",bAe,[n("div",wAe,[n("h3",kAe,d(P.__("Add Note")),1),z(n("textarea",{"onUpdate:modelValue":U[8]||(U[8]=de=>h.note=de),rows:"4",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:P.__("Enter your note...")},null,8,$Ae),[[K,h.note]]),n("div",CAe,[S(Le,{variant:"secondary",onClick:U[9]||(U[9]=de=>l.value=!1)},{default:W(()=>[J(d(P.__("Cancel")),1)]),_:1}),S(Le,{onClick:w},{default:W(()=>[J(d(P.__("Add Note")),1)]),_:1})])])])):j("",!0),c.value?(g(),y("div",SAe,[n("div",MAe,[n("h3",TAe,d(P.__("Log Call")),1),z(n("select",{"onUpdate:modelValue":U[10]||(U[10]=de=>p.type=de),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...U[22]||(U[22]=[n("option",{value:"call_made"},"Call Made",-1),n("option",{value:"call_received"},"Call Received",-1)])],512),[[xe,p.type]]),z(n("input",{"onUpdate:modelValue":U[11]||(U[11]=de=>p.outcome=de),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Call outcome")},null,8,DAe),[[K,p.outcome]]),z(n("textarea",{"onUpdate:modelValue":U[12]||(U[12]=de=>p.notes=de),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Call notes...")},null,8,AAe),[[K,p.notes]]),n("div",PAe,[S(Le,{variant:"secondary",onClick:U[13]||(U[13]=de=>c.value=!1)},{default:W(()=>[J(d(P.__("Cancel")),1)]),_:1}),S(Le,{onClick:b},{default:W(()=>[J(d(P.__("Log Call")),1)]),_:1})])])])):j("",!0),u.value?(g(),y("div",EAe,[n("div",jAe,[n("h3",RAe,d(P.__("Schedule Follow-up")),1),z(n("input",{"onUpdate:modelValue":U[14]||(U[14]=de=>_.next_follow_up_at=de),type:"datetime-local",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[K,_.next_follow_up_at]]),z(n("textarea",{"onUpdate:modelValue":U[15]||(U[15]=de=>_.note=de),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Note about follow-up...")},null,8,IAe),[[K,_.note]]),n("div",OAe,[S(Le,{variant:"secondary",onClick:U[16]||(U[16]=de=>u.value=!1)},{default:W(()=>[J(d(P.__("Cancel")),1)]),_:1}),S(Le,{onClick:k},{default:W(()=>[J(d(P.__("Schedule")),1)]),_:1})])])])):j("",!0)])}}},FAe={key:0,class:"mt-8 flex justify-center"},NAe={key:1},zAe={class:"mb-6 flex items-center justify-between"},UAe={class:"text-2xl font-bold text-gray-900"},BAe={class:"mt-1 text-sm text-gray-500"},VAe={class:"flex gap-2"},HAe={key:0,class:"mb-6 grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-8"},qAe={class:"overflow-hidden rounded-lg bg-white p-4 shadow"},WAe={class:"text-sm font-medium text-gray-500"},KAe={class:"mt-1 text-2xl font-semibold text-gray-900"},YAe={class:"overflow-hidden rounded-lg bg-blue-50 p-4 shadow"},GAe={class:"text-sm font-medium text-blue-600"},XAe={class:"mt-1 text-2xl font-semibold text-blue-700"},JAe={class:"overflow-hidden rounded-lg bg-yellow-50 p-4 shadow"},QAe={class:"text-sm font-medium text-yellow-600"},ZAe={class:"mt-1 text-2xl font-semibold text-yellow-700"},ePe={class:"overflow-hidden rounded-lg bg-purple-50 p-4 shadow"},tPe={class:"text-sm font-medium text-purple-600"},sPe={class:"mt-1 text-2xl font-semibold text-purple-700"},nPe={class:"overflow-hidden rounded-lg bg-indigo-50 p-4 shadow"},oPe={class:"text-sm font-medium text-indigo-600"},iPe={class:"mt-1 text-2xl font-semibold text-indigo-700"},rPe={class:"overflow-hidden rounded-lg bg-orange-50 p-4 shadow"},aPe={class:"text-sm font-medium text-orange-600"},lPe={class:"mt-1 text-2xl font-semibold text-orange-700"},dPe={class:"overflow-hidden rounded-lg bg-green-50 p-4 shadow"},cPe={class:"text-sm font-medium text-green-600"},uPe={class:"mt-1 text-2xl font-semibold text-green-700"},mPe={class:"overflow-hidden rounded-lg bg-red-50 p-4 shadow"},fPe={class:"text-sm font-medium text-red-600"},pPe={class:"mt-1 text-2xl font-semibold text-red-700"},hPe={key:1,class:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-3"},gPe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-red-500 to-orange-500 p-4 text-white shadow"},_Pe={class:"flex items-center"},vPe={class:"ml-3"},yPe={class:"text-sm font-medium opacity-90"},xPe={class:"text-2xl font-bold"},bPe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 p-4 text-white shadow"},wPe={class:"flex items-center"},kPe={class:"ml-3"},$Pe={class:"text-sm font-medium opacity-90"},CPe={class:"text-2xl font-bold"},SPe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 p-4 text-white shadow"},MPe={class:"flex items-center"},TPe={class:"ml-3"},DPe={class:"text-sm font-medium opacity-90"},APe={class:"text-2xl font-bold"},PPe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},EPe={class:"flex flex-1 flex-wrap gap-2"},jPe={class:"relative w-64 rounded-md shadow-sm"},RPe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},IPe=["placeholder"],OPe={value:""},LPe={value:"new"},FPe={value:"contacted"},NPe={value:"qualified"},zPe={value:"proposal_sent"},UPe={value:"negotiation"},BPe={value:"won"},VPe={value:"lost"},HPe={value:""},qPe={value:"hot"},WPe={value:"warm"},KPe={value:"cold"},YPe={value:""},GPe=["value"],XPe={class:"flex gap-2"},JPe={key:2},QPe={class:"flex flex-col"},ZPe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},eEe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},tEe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},sEe={class:"min-w-full divide-y divide-gray-200"},nEe={class:"divide-y divide-gray-200 bg-white"},oEe={key:0,class:"hover:bg-gray-50"},iEe={colspan:"9",class:"px-6 py-8 text-center text-gray-500"},rEe={class:"whitespace-nowrap px-6 py-4"},aEe={class:"flex items-center"},lEe={class:"ml-4"},dEe={class:"text-sm font-medium text-gray-900"},cEe={class:"text-sm text-gray-500"},uEe={key:0,class:"text-xs text-gray-400"},mEe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},fEe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},pEe={class:"whitespace-nowrap px-6 py-4"},hEe={class:"whitespace-nowrap px-6 py-4"},gEe={class:"whitespace-nowrap px-6 py-4 text-sm"},_Ee={class:"flex items-center"},vEe={class:"h-2 w-16 rounded-full bg-gray-200"},yEe={class:"ml-2 text-gray-600"},xEe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},bEe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},wEe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},kEe={class:"flex items-center justify-end gap-2"},$Ee={key:3,class:"overflow-x-auto"},CEe={class:"flex min-w-max gap-4 pb-4"},SEe={class:"rounded-lg bg-gray-100 p-3"},MEe={class:"mb-3 flex items-center justify-between"},TEe={class:"font-semibold text-gray-700"},DEe={class:"rounded-full bg-gray-200 px-2 py-1 text-xs font-medium text-gray-600"},AEe={class:"space-y-2"},PEe=["onClick"],EEe={class:"flex items-start justify-between"},jEe={class:"flex-1"},REe={class:"font-medium text-gray-900"},IEe={class:"text-sm text-gray-500"},OEe={class:"mt-2 flex items-center justify-between text-xs text-gray-400"},LEe={key:0,class:"py-4 text-center text-sm text-gray-400"},FEe={__name:"Index",setup(s){gn();const e=E(!0),t=E(null),o=E(null),i=E("table"),r=E({}),a=no("leads",{search:"",status:"",priority:"",source:"",sort_by:"created_at",sort_order:"desc",per_page:15}),l=at({show:!1,model:null}),c=at({show:!1,id:null});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{a.get()},300)},h=(L=null)=>{l.model=L,l.show=!0},p=L=>{c.id=L,c.show=!0},_=()=>{a.get(),v(),i.value==="pipeline"&&w()},v=async()=>{try{const L=await ce.get("leads/statistics");t.value=L.data.data}catch{}},x=async()=>{try{const L=await ce.get("leads/options");o.value=L.data.data}catch{}},w=async()=>{try{const L=await ce.get("leads/pipeline");r.value=L.data.data}catch{}},b=async()=>{try{const L=new URLSearchParams(a.params).toString();window.open(`/admin/api/leads/export?${L}`,"_blank")}catch{}},k=async L=>{if(confirm("Convert this lead to a client?"))try{await ce.post(`leads/${L}/convert`),_()}catch{}},C=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=L=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800",A=L=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[L]||"bg-gray-100 text-gray-800",R=L=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[L]||"bg-gray-100",T=L=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[L]||"text-gray-600",F=L=>({new:"New Leads",contacted:"Contacted",qualified:"Qualified",proposal_sent:"Proposal Sent",negotiation:"Negotiation"})[L]||L;return Ne(async()=>{try{await Promise.all([a.get(),v(),x()]),e.value=!1}catch{e.value=!1}}),(L,D)=>{var N,P,U,ye;return e.value?(g(),y("div",FAe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",NAe,[n("div",zAe,[n("div",null,[n("h1",UAe,d(L.__("Lead Management")),1),n("p",BAe,d(L.__("Track and manage potential clients from emphxs.com")),1)]),n("div",VAe,[S(Le,{variant:"secondary",onClick:b},{default:W(()=>[S(f(Av),{class:"mr-2 h-4 w-4"}),J(" "+d(L.__("Export")),1)]),_:1}),S(Le,{onClick:D[0]||(D[0]=le=>h())},{default:W(()=>[S(f(gs),{class:"mr-2 h-4 w-4"}),J(" "+d(L.__("Add Lead")),1)]),_:1})])]),t.value?(g(),y("div",HAe,[n("div",qAe,[n("div",WAe,d(L.__("Total")),1),n("div",KAe,d(t.value.total),1)]),n("div",YAe,[n("div",GAe,d(L.__("New")),1),n("div",XAe,d(t.value.new),1)]),n("div",JAe,[n("div",QAe,d(L.__("Contacted")),1),n("div",ZAe,d(t.value.contacted),1)]),n("div",ePe,[n("div",tPe,d(L.__("Qualified")),1),n("div",sPe,d(t.value.qualified),1)]),n("div",nPe,[n("div",oPe,d(L.__("Proposal")),1),n("div",iPe,d(t.value.proposal_sent),1)]),n("div",rPe,[n("div",aPe,d(L.__("Negotiation")),1),n("div",lPe,d(t.value.negotiation),1)]),n("div",dPe,[n("div",cPe,d(L.__("Won")),1),n("div",uPe,d(t.value.won),1)]),n("div",mPe,[n("div",fPe,d(L.__("Lost")),1),n("div",pPe,d(t.value.lost),1)])])):j("",!0),t.value?(g(),y("div",hPe,[n("div",gPe,[n("div",_Pe,[S(f(G0),{class:"h-8 w-8"}),n("div",vPe,[n("div",yPe,d(L.__("Hot Leads")),1),n("div",xPe,d(t.value.hot),1)])])]),n("div",bPe,[n("div",wPe,[S(f(hs),{class:"h-8 w-8"}),n("div",kPe,[n("div",$Pe,d(L.__("Needs Follow-up")),1),n("div",CPe,d(t.value.needs_follow_up),1)])])]),n("div",SPe,[n("div",MPe,[S(f(qr),{class:"h-8 w-8"}),n("div",TPe,[n("div",DPe,d(L.__("Conversion Rate")),1),n("div",APe,d(t.value.conversion_rate)+"%",1)])])])])):j("",!0),n("div",PPe,[n("div",EPe,[n("div",jPe,[n("div",RPe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":D[1]||(D[1]=le=>f(a).params.search=le),type:"search",placeholder:L.__("Search leads..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,IPe),[[K,f(a).params.search]])]),z(n("select",{"onUpdate:modelValue":D[2]||(D[2]=le=>f(a).params.status=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[3]||(D[3]=le=>f(a).get())},[n("option",OPe,d(L.__("All Statuses")),1),n("option",LPe,d(L.__("New")),1),n("option",FPe,d(L.__("Contacted")),1),n("option",NPe,d(L.__("Qualified")),1),n("option",zPe,d(L.__("Proposal Sent")),1),n("option",UPe,d(L.__("Negotiation")),1),n("option",BPe,d(L.__("Won")),1),n("option",VPe,d(L.__("Lost")),1)],544),[[xe,f(a).params.status]]),z(n("select",{"onUpdate:modelValue":D[4]||(D[4]=le=>f(a).params.priority=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[5]||(D[5]=le=>f(a).get())},[n("option",HPe,d(L.__("All Priorities")),1),n("option",qPe,d(L.__("Hot")),1),n("option",WPe,d(L.__("Warm")),1),n("option",KPe,d(L.__("Cold")),1)],544),[[xe,f(a).params.priority]]),z(n("select",{"onUpdate:modelValue":D[6]||(D[6]=le=>f(a).params.source=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[7]||(D[7]=le=>f(a).get())},[n("option",YPe,d(L.__("All Sources")),1),(g(!0),y(oe,null,ue((N=o.value)==null?void 0:N.sources,(le,de)=>(g(),y("option",{key:de,value:de},d(le),9,GPe))),128))],544),[[xe,f(a).params.source]])]),n("div",XPe,[n("button",{class:X([[i.value==="table"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:D[8]||(D[8]=le=>i.value="table")},[S(f(w$),{class:"h-5 w-5"})],2),n("button",{class:X([[i.value==="pipeline"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:D[9]||(D[9]=le=>{i.value="pipeline",w()})},[S(f(Vv),{class:"h-5 w-5"})],2)])]),i.value==="table"?(g(),y("section",JPe,[n("div",QPe,[n("div",ZPe,[n("div",eEe,[n("div",tEe,[n("table",sEe,[n("thead",null,[n("tr",null,[S(Fe,{name:"lead",index:f(a),label:L.__("Lead"),sort:"first_name"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Service"),sort:"service_interest"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Budget")},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Status"),sort:"status"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Priority"),sort:"priority"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Score"),sort:"score"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Source"),sort:"source"},null,8,["index","label"]),S(Fe,{name:"lead",index:f(a),label:L.__("Created"),sort:"created_at"},null,8,["index","label"]),D[12]||(D[12]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",nEe,[(U=(P=f(a).data)==null?void 0:P.data)!=null&&U.length?j("",!0):(g(),y("tr",oEe,[n("td",iEe,d(L.__("No leads found")),1)])),(g(!0),y(oe,null,ue(((ye=f(a).data)==null?void 0:ye.data)||[],le=>{var de,q,ne,G,ie,$e;return g(),y("tr",{key:le.id,class:"hover:bg-gray-50"},[n("td",rEe,[n("div",aEe,[n("div",{class:X(["flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full",R(le.priority)])},[n("span",{class:X(["text-sm font-medium",T(le.priority)])},d(le.first_name.charAt(0).toUpperCase())+d(le.last_name?le.last_name.charAt(0).toUpperCase():""),3)],2),n("div",lEe,[n("div",dEe,d(le.full_name),1),n("div",cEe,d(le.email),1),le.company_name?(g(),y("div",uEe,d(le.company_name),1)):j("",!0)])])]),n("td",mEe,d(((q=(de=o.value)==null?void 0:de.service_interests)==null?void 0:q[le.service_interest])||le.service_interest),1),n("td",fEe,d(((G=(ne=o.value)==null?void 0:ne.budget_ranges)==null?void 0:G[le.budget_range])||"-"),1),n("td",pEe,[n("span",{class:X([$(le.status),"inline-flex rounded-full px-2 text-xs font-semibold leading-5"])},d(le.status_label),3)]),n("td",hEe,[n("span",{class:X([A(le.priority),"inline-flex items-center rounded-full px-2 text-xs font-semibold leading-5"])},[le.priority==="hot"?(g(),re(f(G0),{key:0,class:"mr-1 h-3 w-3"})):j("",!0),J(" "+d(le.priority.charAt(0).toUpperCase()+le.priority.slice(1)),1)],2)]),n("td",gEe,[n("div",_Ee,[n("div",vEe,[n("div",{style:bt({width:le.score+"%"}),class:"h-2 rounded-full bg-indigo-600"},null,4)]),n("span",yEe,d(le.score),1)])]),n("td",xEe,d((($e=(ie=o.value)==null?void 0:ie.sources)==null?void 0:$e[le.source])||le.source),1),n("td",bEe,d(C(le.created_at)),1),n("td",wEe,[n("div",kEe,[S(f(zn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:we=>p(le.id)},null,8,["onClick"]),S(f(Un),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:we=>h(le)},null,8,["onClick"]),le.status!=="won"?(g(),re(f(tr),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-green-600",onClick:we=>k(le.id),title:"Convert to Client"},null,8,["onClick"])):j("",!0),S(f(Gt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:we=>f(a).deleteIt(le.id)},null,8,["onClick"])])])])}),128))])]),S(Rs,{index:f(a)},null,8,["index"])])])])])])):j("",!0),i.value==="pipeline"?(g(),y("section",$Ee,[n("div",CEe,[(g(!0),y(oe,null,ue(r.value,(le,de)=>(g(),y("div",{key:de,class:"w-72 flex-shrink-0"},[n("div",SEe,[n("div",MEe,[n("h3",TEe,d(F(de)),1),n("span",DEe,d(le.length),1)]),n("div",AEe,[(g(!0),y(oe,null,ue(le,q=>{var ne,G;return g(),y("div",{key:q.id,class:"cursor-pointer rounded-lg bg-white p-3 shadow hover:shadow-md",onClick:ie=>p(q.id)},[n("div",EEe,[n("div",jEe,[n("div",REe,d(q.full_name),1),n("div",IEe,d(q.company_name||q.email),1)]),n("span",{class:X([A(q.priority),"rounded px-1.5 py-0.5 text-xs font-medium"])},d(q.priority.charAt(0).toUpperCase()),3)]),n("div",OEe,[n("span",null,d((G=(ne=o.value)==null?void 0:ne.service_interests)==null?void 0:G[q.service_interest]),1),n("span",null,"Score: "+d(q.score),1)])],8,PEe)}),128)),le.length?j("",!0):(g(),y("div",LEe,d(L.__("No leads")),1))])])]))),128))])])):j("",!0),l.show?(g(),re(bs,{key:4,size:"3xl",onSaved:_},{default:W(()=>[S(jTe,{"model-value":l.model,options:o.value,onClose:D[10]||(D[10]=le=>l.show=!1)},null,8,["model-value","options"])]),_:1})):j("",!0),c.show?(g(),re(bs,{key:5,size:"4xl"},{default:W(()=>[S(LAe,{"lead-id":c.id,onClose:D[11]||(D[11]=le=>c.show=!1),onUpdated:_},null,8,["lead-id"])]),_:1})):j("",!0)]))}}},NEe={key:0,class:"mt-8 flex justify-center"},zEe={key:1},UEe={class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},BEe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow"},VEe={class:"p-5"},HEe={class:"flex items-center"},qEe={class:"flex-shrink-0"},WEe={class:"ml-5 w-0 flex-1"},KEe={class:"text-2xl font-bold text-white"},YEe={class:"overflow-hidden rounded-lg bg-white shadow"},GEe={class:"p-5"},XEe={class:"flex items-center"},JEe={class:"flex-shrink-0"},QEe={class:"ml-5 w-0 flex-1"},ZEe={class:"text-lg font-semibold text-gray-900"},eje={class:"overflow-hidden rounded-lg bg-white shadow"},tje={class:"p-5"},sje={class:"flex items-center"},nje={class:"flex-shrink-0"},oje={class:"ml-5 w-0 flex-1"},ije={class:"overflow-hidden rounded-lg bg-white shadow"},rje={class:"p-5"},aje={class:"flex items-center"},lje={class:"flex-shrink-0"},dje={class:"ml-5 w-0 flex-1"},cje={class:"text-lg font-semibold text-gray-900"},uje={class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},mje={class:"overflow-hidden rounded-lg bg-white shadow"},fje={class:"p-5"},pje={class:"flex items-center justify-between"},hje={class:"mt-1 text-xl font-semibold text-gray-900"},gje={class:"overflow-hidden rounded-lg bg-white shadow"},_je={class:"p-5"},vje={class:"flex items-center justify-between"},yje={class:"overflow-hidden rounded-lg bg-white shadow"},xje={class:"p-5"},bje={class:"mt-1 text-xl font-semibold text-yellow-600"},wje={class:"overflow-hidden rounded-lg bg-white shadow"},kje={class:"p-5"},$je={class:"mt-1 text-xl font-semibold text-red-600"},Cje={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},Sje={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Mje={class:"overflow-hidden rounded-lg bg-white shadow"},Tje={class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},Dje={class:"flex items-center justify-between"},Aje={class:"divide-y divide-gray-200"},Pje={class:"flex items-center justify-between"},Eje={class:"font-medium text-gray-900"},jje={class:"text-sm text-gray-500"},Rje={class:"text-right"},Ije={class:"font-semibold text-gray-900"},Oje={key:0,class:"px-6 py-8 text-center text-gray-500"},Lje={class:"overflow-hidden rounded-lg bg-white shadow"},Fje={class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},Nje={class:"flex items-center justify-between"},zje={class:"divide-y divide-gray-200"},Uje={class:"flex items-center justify-between"},Bje={class:"font-medium text-gray-900"},Vje={class:"text-sm text-gray-500"},Hje={class:"text-right"},qje={class:"font-semibold text-green-600"},Wje={class:"text-sm text-gray-500"},Kje={key:0,class:"px-6 py-8 text-center text-gray-500"},Yje={key:0,class:"mt-6 overflow-hidden rounded-lg bg-white shadow"},Gje={class:"border-b border-gray-200 bg-red-50 px-6 py-4"},Xje={class:"flex items-center"},Jje={class:"divide-y divide-gray-200"},Qje={class:"font-medium text-gray-900"},Zje={__name:"Dashboard",setup(s){const e=E(!0),t=E({}),o=E({current_budget:0}),i=E([]),r=c=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c||0),a=c=>({pending:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",ready:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[c]||"bg-gray-100 text-gray-800",l=async()=>{try{const[c,u,m]=await Promise.all([ke.get("/api/legume/reports/dashboard"),ke.get("/api/legume/budget/current"),ke.get("/api/legume/inventory/low-stock")]);t.value=c.data.data||{},o.value=u.data.data||{current_budget:0},i.value=m.data.data||[]}catch{}finally{e.value=!1}};return Ne(()=>{l()}),(c,u)=>{var h,p,_,v,x,w,b,k,C,$,A;const m=Bt("router-link");return e.value?(g(),y("div",NEe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",zEe,[u[18]||(u[18]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Legume Business Dashboard"),n("p",{class:"mt-1 text-sm text-gray-500"},"Overview of your legume trading business")],-1)),n("div",UEe,[n("div",BEe,[n("div",VEe,[n("div",HEe,[n("div",qEe,[S(f(Ys),{class:"h-8 w-8 text-white"})]),n("div",WEe,[n("dl",null,[u[0]||(u[0]=n("dt",{class:"truncate text-sm font-medium text-indigo-100"},"Available Budget",-1)),n("dd",KEe,"MK "+d(r(o.value.current_budget)),1)])])])])]),n("div",YEe,[n("div",GEe,[n("div",XEe,[n("div",JEe,[S(f(bi),{class:"h-6 w-6 text-green-400"})]),n("div",QEe,[n("dl",null,[u[1]||(u[1]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Today's Revenue",-1)),n("dd",ZEe,"MK "+d(r(((h=t.value.today)==null?void 0:h.revenue)||0)),1)])])])])]),n("div",eje,[n("div",tje,[n("div",sje,[n("div",nje,[S(f(Uc),{class:"h-6 w-6 text-blue-400"})]),n("div",oje,[n("dl",null,[u[2]||(u[2]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Today's Profit",-1)),n("dd",{class:X(["text-lg font-semibold",((p=t.value.today)==null?void 0:p.profit)>=0?"text-green-600":"text-red-600"])}," MK "+d(r(((_=t.value.today)==null?void 0:_.profit)||0)),3)])])])])]),n("div",ije,[n("div",rje,[n("div",aje,[n("div",lje,[S(f(Qd),{class:"h-6 w-6 text-purple-400"})]),n("div",dje,[n("dl",null,[u[3]||(u[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Today's Orders",-1)),n("dd",cje,d(((v=t.value.today)==null?void 0:v.orders)||0),1)])])])])])]),n("div",uje,[n("div",mje,[n("div",fje,[n("div",pje,[n("div",null,[u[4]||(u[4]=n("p",{class:"text-sm font-medium text-gray-500"},"This Month Revenue",-1)),n("p",hje,"MK "+d(r(((x=t.value.this_month)==null?void 0:x.revenue)||0)),1)]),(w=t.value.growth)!=null&&w.revenue?(g(),y("span",{key:0,class:X([t.value.growth.revenue>=0?"text-green-600 bg-green-100":"text-red-600 bg-red-100","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(t.value.growth.revenue>=0?"+":"")+d(t.value.growth.revenue)+"% ",3)):j("",!0)])])]),n("div",gje,[n("div",_je,[n("div",vje,[n("div",null,[u[5]||(u[5]=n("p",{class:"text-sm font-medium text-gray-500"},"This Month Profit",-1)),n("p",{class:X(["mt-1 text-xl font-semibold",((b=t.value.this_month)==null?void 0:b.profit)>=0?"text-green-600":"text-red-600"])}," MK "+d(r(((k=t.value.this_month)==null?void 0:k.profit)||0)),3)]),(C=t.value.growth)!=null&&C.profit?(g(),y("span",{key:0,class:X([t.value.growth.profit>=0?"text-green-600 bg-green-100":"text-red-600 bg-red-100","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(t.value.growth.profit>=0?"+":"")+d(t.value.growth.profit)+"% ",3)):j("",!0)])])]),n("div",yje,[n("div",xje,[n("div",null,[u[6]||(u[6]=n("p",{class:"text-sm font-medium text-gray-500"},"Pending Orders",-1)),n("p",bje,d(t.value.pending_orders||0),1)])])]),n("div",wje,[n("div",kje,[n("div",null,[u[7]||(u[7]=n("p",{class:"text-sm font-medium text-gray-500"},"Unpaid Orders",-1)),n("p",$je,d(t.value.unpaid_orders||0),1)])])])]),n("div",Cje,[S(m,{to:"/legume/purchases/create",class:"flex items-center rounded-lg bg-indigo-600 p-4 text-white shadow hover:bg-indigo-700"},{default:W(()=>[S(f(gs),{class:"h-8 w-8"}),u[8]||(u[8]=n("div",{class:"ml-3"},[n("p",{class:"font-semibold"},"New Purchase"),n("p",{class:"text-sm text-indigo-200"},"Buy from farmer")],-1))]),_:1}),S(m,{to:"/legume/orders/create",class:"flex items-center rounded-lg bg-green-600 p-4 text-white shadow hover:bg-green-700"},{default:W(()=>[S(f(Qd),{class:"h-8 w-8"}),u[9]||(u[9]=n("div",{class:"ml-3"},[n("p",{class:"font-semibold"},"New Order"),n("p",{class:"text-sm text-green-200"},"Create sale order")],-1))]),_:1}),S(m,{to:"/legume/budget",class:"flex items-center rounded-lg bg-purple-600 p-4 text-white shadow hover:bg-purple-700"},{default:W(()=>[S(f(Ys),{class:"h-8 w-8"}),u[10]||(u[10]=n("div",{class:"ml-3"},[n("p",{class:"font-semibold"},"Add Budget"),n("p",{class:"text-sm text-purple-200"},"Add capital")],-1))]),_:1}),S(m,{to:"/legume/reports/monthly",class:"flex items-center rounded-lg bg-yellow-600 p-4 text-white shadow hover:bg-yellow-700"},{default:W(()=>[S(f(qr),{class:"h-8 w-8"}),u[11]||(u[11]=n("div",{class:"ml-3"},[n("p",{class:"font-semibold"},"View Reports"),n("p",{class:"text-sm text-yellow-200"},"Profit analysis")],-1))]),_:1})]),n("div",Sje,[n("div",Mje,[n("div",Tje,[n("div",Dje,[u[13]||(u[13]=n("h2",{class:"text-lg font-medium text-gray-900"},"Recent Orders",-1)),S(m,{to:"/legume/orders",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...u[12]||(u[12]=[J("View all",-1)])]),_:1})])]),n("div",Aje,[(g(!0),y(oe,null,ue(t.value.recent_orders,R=>(g(),y("div",{key:R.id,class:"px-6 py-4 hover:bg-gray-50"},[n("div",Pje,[n("div",null,[n("p",Eje,d(R.order_number),1),n("p",jje,d(R.customer_name),1)]),n("div",Rje,[n("p",Ije,"MK "+d(r(R.total_amount)),1),n("span",{class:X([a(R.order_status),"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium"])},d(R.order_status),3)])])]))),128)),($=t.value.recent_orders)!=null&&$.length?j("",!0):(g(),y("div",Oje," No recent orders "))])]),n("div",Lje,[n("div",Fje,[n("div",Nje,[u[15]||(u[15]=n("h2",{class:"text-lg font-medium text-gray-900"},"Top Products (This Month)",-1)),S(m,{to:"/legume/reports/by-product",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...u[14]||(u[14]=[J("View details",-1)])]),_:1})])]),n("div",zje,[(g(!0),y(oe,null,ue(t.value.top_products,R=>(g(),y("div",{key:R.product_id,class:"px-6 py-4 hover:bg-gray-50"},[n("div",Uje,[n("div",null,[n("p",Bje,d(R.product_name),1),n("p",Vje,d(r(R.quantity_sold))+" kg sold",1)]),n("div",Hje,[n("p",qje,"MK "+d(r(R.profit)),1),n("p",Wje,d(R.margin)+"% margin",1)])])]))),128)),(A=t.value.top_products)!=null&&A.length?j("",!0):(g(),y("div",Kje," No sales data yet "))])])]),i.value.length>0?(g(),y("div",Yje,[n("div",Gje,[n("div",Xje,[S(f(Fo),{class:"h-5 w-5 text-red-400"}),u[16]||(u[16]=n("h2",{class:"ml-2 text-lg font-medium text-red-800"},"Stock Alerts",-1))])]),n("div",Jje,[(g(!0),y(oe,null,ue(i.value,R=>(g(),y("div",{key:R.id,class:"flex items-center justify-between px-6 py-4"},[n("div",null,[n("p",Qje,d(R.name),1),n("span",{class:X([R.is_out_of_stock?"text-red-600":"text-yellow-600","text-sm"])},d(R.is_out_of_stock?"Out of Stock":"Low Stock")+" - "+d(r(R.current_stock))+" kg remaining ",3)]),S(m,{to:`/legume/purchases/create?product=${R.id}`,class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"},{default:W(()=>[...u[17]||(u[17]=[J(" Restock ",-1)])]),_:1},8,["to"])]))),128))])])):j("",!0)]))}}},eRe={key:0,class:"mt-8 flex justify-center"},tRe={key:1},sRe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},nRe={class:"overflow-hidden rounded-lg bg-white shadow"},oRe={class:"p-5"},iRe={class:"flex items-center"},rRe={class:"flex-shrink-0"},aRe={class:"ml-5 w-0 flex-1"},lRe={class:"text-lg font-semibold text-gray-900"},dRe={class:"overflow-hidden rounded-lg bg-white shadow"},cRe={class:"p-5"},uRe={class:"flex items-center"},mRe={class:"flex-shrink-0"},fRe={class:"ml-5 w-0 flex-1"},pRe={class:"text-lg font-semibold text-gray-900"},hRe={class:"overflow-hidden rounded-lg bg-white shadow"},gRe={class:"p-5"},_Re={class:"flex items-center"},vRe={class:"flex-shrink-0"},yRe={class:"ml-5 w-0 flex-1"},xRe={class:"text-lg font-semibold text-yellow-600"},bRe={class:"overflow-hidden rounded-lg bg-white shadow"},wRe={class:"p-5"},kRe={class:"flex items-center"},$Re={class:"flex-shrink-0"},CRe={class:"ml-5 w-0 flex-1"},SRe={class:"text-lg font-semibold text-gray-900"},MRe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},TRe={class:"flex flex-1 flex-wrap gap-2"},DRe={class:"relative w-64 rounded-md shadow-sm"},ARe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},PRe={class:"ml-auto"},ERe={class:"overflow-hidden rounded-lg bg-white shadow"},jRe={class:"min-w-full divide-y divide-gray-200"},RRe={class:"divide-y divide-gray-200 bg-white"},IRe={class:"whitespace-nowrap px-6 py-4"},ORe={class:"font-medium text-gray-900"},LRe={class:"text-sm text-gray-500"},FRe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},NRe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},zRe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},URe={class:"whitespace-nowrap px-6 py-4"},BRe={class:"whitespace-nowrap px-6 py-4"},VRe={class:"whitespace-nowrap px-6 py-4"},HRe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},qRe=["onClick"],WRe=["onClick"],KRe={key:0},YRe={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},GRe={class:"flex items-center justify-between"},XRe={class:"text-sm text-gray-700"},JRe={class:"flex space-x-2"},QRe=["onClick"],ZRe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},eIe={class:"flex min-h-screen items-center justify-center px-4"},tIe={class:"relative w-full max-w-lg rounded-lg bg-white p-6 shadow-xl"},sIe={class:"mb-4 text-lg font-medium text-gray-900"},nIe={class:"space-y-4"},oIe={class:"grid grid-cols-2 gap-4"},iIe={class:"grid grid-cols-2 gap-4"},rIe={class:"flex items-center"},aIe={class:"mt-6 flex justify-end space-x-3"},lIe=["disabled"],dIe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E({}),r=E(""),a=E(""),l=E(!1),c=E(null),u=E(!1),m=E({name:"",sku:"",description:"",unit:"kg",buying_price:"",selling_price:"",low_stock_threshold:10,is_active:!0}),h=A=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(A||0),p=A=>{const R=A.current_stock||0,T=A.low_stock_threshold||10;return R<=0?"bg-red-100 text-red-800":R<=T?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"};let _=null;const v=()=>{clearTimeout(_),_=setTimeout(()=>x(),300)},x=async(A=1)=>{try{const R={page:A,per_page:15};r.value&&(R.search=r.value),a.value!==""&&(R.is_active=a.value);const[T,F]=await Promise.all([ke.get("/api/legume/products",{params:R}),ke.get("/api/legume/products/statistics")]);t.value=T.data.data,i.value={current_page:T.data.current_page,last_page:T.data.last_page,from:T.data.from,to:T.data.to,total:T.data.total},o.value=F.data.data}catch{}finally{e.value=!1}},w=A=>x(A),b=(A=null)=>{c.value=A,A?m.value={...A}:m.value={name:"",sku:"",description:"",unit:"kg",buying_price:"",selling_price:"",low_stock_threshold:10,is_active:!0},l.value=!0},k=()=>{l.value=!1,c.value=null},C=async()=>{var A,R;u.value=!0;try{c.value?await ke.put(`/api/legume/products/${c.value.id}`,m.value):await ke.post("/api/legume/products",m.value),k(),x()}catch(T){alert(((R=(A=T.response)==null?void 0:A.data)==null?void 0:R.message)||"Error saving product")}finally{u.value=!1}},$=async A=>{var R,T;if(confirm(`Are you sure you want to delete "${A.name}"?`))try{await ke.delete(`/api/legume/products/${A.id}`),x()}catch(F){alert(((T=(R=F.response)==null?void 0:R.data)==null?void 0:T.message)||"Error deleting product")}};return Ne(()=>x()),(A,R)=>e.value?(g(),y("div",eRe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",tRe,[o.value?(g(),y("div",sRe,[n("div",nRe,[n("div",oRe,[n("div",iRe,[n("div",rRe,[S(f(Fv),{class:"h-6 w-6 text-blue-400"})]),n("div",aRe,[n("dl",null,[R[11]||(R[11]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Products",-1)),n("dd",lRe,d(o.value.total_products),1)])])])])]),n("div",dRe,[n("div",cRe,[n("div",uRe,[n("div",mRe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",fRe,[n("dl",null,[R[12]||(R[12]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Active Products",-1)),n("dd",pRe,d(o.value.active_products),1)])])])])]),n("div",hRe,[n("div",gRe,[n("div",_Re,[n("div",vRe,[S(f(Fo),{class:"h-6 w-6 text-yellow-400"})]),n("div",yRe,[n("dl",null,[R[13]||(R[13]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Low Stock",-1)),n("dd",xRe,d(o.value.low_stock),1)])])])])]),n("div",bRe,[n("div",wRe,[n("div",kRe,[n("div",$Re,[S(f(Ys),{class:"h-6 w-6 text-purple-400"})]),n("div",CRe,[n("dl",null,[R[14]||(R[14]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Inventory Value",-1)),n("dd",SRe,"MK "+d(h(o.value.total_inventory_value)),1)])])])])])])):j("",!0),n("div",MRe,[n("div",TRe,[n("div",DRe,[n("div",ARe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":R[0]||(R[0]=T=>r.value=T),type:"search",placeholder:"Search products...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:v},null,544),[[K,r.value]])]),z(n("select",{"onUpdate:modelValue":R[1]||(R[1]=T=>a.value=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x},[...R[15]||(R[15]=[n("option",{value:""},"All Status",-1),n("option",{value:"1"},"Active",-1),n("option",{value:"0"},"Inactive",-1)])],544),[[xe,a.value]])]),n("div",PRe,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:R[2]||(R[2]=T=>b())},[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),R[16]||(R[16]=J(" Add Product ",-1))])])]),n("div",ERe,[n("table",jRe,[R[18]||(R[18]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"SKU"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Buying Price"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Selling Price"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Margin"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Stock"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",RRe,[(g(!0),y(oe,null,ue(t.value,T=>(g(),y("tr",{key:T.id,class:"hover:bg-gray-50"},[n("td",IRe,[n("div",ORe,d(T.name),1),n("div",LRe,d(T.unit),1)]),n("td",FRe,d(T.sku),1),n("td",NRe,"MK "+d(h(T.buying_price)),1),n("td",zRe,"MK "+d(h(T.selling_price)),1),n("td",URe,[n("span",{class:X([T.profit_margin>0?"text-green-600":"text-red-600","text-sm font-medium"])},d(T.profit_margin)+"% ",3)]),n("td",BRe,[n("span",{class:X([p(T),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(h(T.current_stock))+" "+d(T.unit),3)]),n("td",VRe,[n("span",{class:X([T.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(T.is_active?"Active":"Inactive"),3)]),n("td",HRe,[n("button",{onClick:F=>b(T),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,qRe),n("button",{onClick:F=>$(T),class:"text-red-600 hover:text-red-900"},"Delete",8,WRe)])]))),128)),t.value.length===0?(g(),y("tr",KRe,[...R[17]||(R[17]=[n("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"},"No products found",-1)])])):j("",!0)])]),i.value.last_page>1?(g(),y("div",YRe,[n("div",GRe,[n("div",XRe," Showing "+d(i.value.from)+" to "+d(i.value.to)+" of "+d(i.value.total)+" results ",1),n("div",JRe,[(g(!0),y(oe,null,ue(i.value.last_page,T=>(g(),y("button",{key:T,class:X([T===i.value.current_page?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","rounded-md border px-3 py-1 text-sm font-medium"]),onClick:F=>w(T)},d(T),11,QRe))),128))])])])):j("",!0)]),l.value?(g(),y("div",ZRe,[n("div",eIe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:k}),n("div",tIe,[n("h3",sIe,d(c.value?"Edit Product":"Add Product"),1),n("form",{onSubmit:Ve(C,["prevent"])},[n("div",nIe,[n("div",null,[R[19]||(R[19]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":R[3]||(R[3]=T=>m.value.name=T),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.name]])]),n("div",oIe,[n("div",null,[R[20]||(R[20]=n("label",{class:"block text-sm font-medium text-gray-700"},"SKU",-1)),z(n("input",{"onUpdate:modelValue":R[4]||(R[4]=T=>m.value.sku=T),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Auto-generated"},null,512),[[K,m.value.sku]])]),n("div",null,[R[22]||(R[22]=n("label",{class:"block text-sm font-medium text-gray-700"},"Unit",-1)),z(n("select",{"onUpdate:modelValue":R[5]||(R[5]=T=>m.value.unit=T),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...R[21]||(R[21]=[n("option",{value:"kg"},"Kilogram (kg)",-1),n("option",{value:"g"},"Gram (g)",-1),n("option",{value:"bag"},"Bag",-1),n("option",{value:"piece"},"Piece",-1)])],512),[[xe,m.value.unit]])])]),n("div",iIe,[n("div",null,[R[23]||(R[23]=n("label",{class:"block text-sm font-medium text-gray-700"},"Buying Price (MWK) *",-1)),z(n("input",{"onUpdate:modelValue":R[6]||(R[6]=T=>m.value.buying_price=T),type:"number",step:"0.01",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.buying_price]])]),n("div",null,[R[24]||(R[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Selling Price (MWK) *",-1)),z(n("input",{"onUpdate:modelValue":R[7]||(R[7]=T=>m.value.selling_price=T),type:"number",step:"0.01",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.selling_price]])])]),n("div",null,[R[25]||(R[25]=n("label",{class:"block text-sm font-medium text-gray-700"},"Low Stock Threshold",-1)),z(n("input",{"onUpdate:modelValue":R[8]||(R[8]=T=>m.value.low_stock_threshold=T),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"10"},null,512),[[K,m.value.low_stock_threshold]])]),n("div",null,[R[26]||(R[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":R[9]||(R[9]=T=>m.value.description=T),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.description]])]),n("div",rIe,[z(n("input",{"onUpdate:modelValue":R[10]||(R[10]=T=>m.value.is_active=T),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[rs,m.value.is_active]]),R[27]||(R[27]=n("label",{class:"ml-2 block text-sm text-gray-900"},"Active",-1))])]),n("div",aIe,[n("button",{type:"button",onClick:k,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:u.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(u.value?"Saving...":"Save"),9,lIe)])],32)])])])):j("",!0)]))}},cIe={key:0,class:"mt-8 flex justify-center"},uIe={key:1},mIe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},fIe={class:"overflow-hidden rounded-lg bg-white shadow"},pIe={class:"p-5"},hIe={class:"flex items-center"},gIe={class:"flex-shrink-0"},_Ie={class:"ml-5 w-0 flex-1"},vIe={class:"text-lg font-semibold text-gray-900"},yIe={class:"overflow-hidden rounded-lg bg-white shadow"},xIe={class:"p-5"},bIe={class:"flex items-center"},wIe={class:"flex-shrink-0"},kIe={class:"ml-5 w-0 flex-1"},$Ie={class:"text-lg font-semibold text-gray-900"},CIe={class:"overflow-hidden rounded-lg bg-white shadow"},SIe={class:"p-5"},MIe={class:"flex items-center"},TIe={class:"flex-shrink-0"},DIe={class:"ml-5 w-0 flex-1"},AIe={class:"text-lg font-semibold text-gray-900"},PIe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},EIe={class:"flex flex-1 flex-wrap gap-2"},jIe={class:"relative w-64 rounded-md shadow-sm"},RIe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},IIe=["value"],OIe={class:"ml-auto"},LIe={class:"overflow-hidden rounded-lg bg-white shadow"},FIe={class:"min-w-full divide-y divide-gray-200"},NIe={class:"divide-y divide-gray-200 bg-white"},zIe={class:"whitespace-nowrap px-6 py-4"},UIe={class:"font-medium text-gray-900"},BIe={key:0,class:"text-sm text-gray-500"},VIe={class:"whitespace-nowrap px-6 py-4"},HIe={class:"text-sm text-gray-900"},qIe={key:0,class:"text-sm text-gray-500"},WIe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},KIe={key:0},YIe={key:1},GIe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},XIe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},JIe={class:"whitespace-nowrap px-6 py-4"},QIe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ZIe=["onClick"],eOe=["onClick"],tOe={key:0},sOe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},nOe={class:"flex min-h-screen items-center justify-center px-4"},oOe={class:"relative w-full max-w-lg rounded-lg bg-white p-6 shadow-xl"},iOe={class:"mb-4 text-lg font-medium text-gray-900"},rOe={class:"space-y-4"},aOe={class:"grid grid-cols-2 gap-4"},lOe={class:"grid grid-cols-2 gap-4"},dOe={class:"grid grid-cols-2 gap-4"},cOe={class:"mt-6 flex justify-end space-x-3"},uOe=["disabled"],mOe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(""),l=E(!1),c=E(null),u=E(!1),m=E({name:"",phone:"",secondary_phone:"",email:"",national_id:"",address:"",district:"",village:"",notes:"",status:"active"}),h=C=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C||0);let p=null;const _=()=>{clearTimeout(p),p=setTimeout(()=>v(),300)},v=async()=>{try{const C={};i.value&&(C.search=i.value),r.value&&(C.status=r.value),a.value&&(C.district=a.value);const[$,A]=await Promise.all([ke.get("/api/legume/suppliers",{params:C}),ke.get("/api/legume/suppliers/statistics")]);t.value=$.data.data,o.value=A.data.data}catch{}finally{e.value=!1}},x=(C=null)=>{c.value=C,C?m.value={...C}:m.value={name:"",phone:"",secondary_phone:"",email:"",national_id:"",address:"",district:"",village:"",notes:"",status:"active"},l.value=!0},w=()=>{l.value=!1,c.value=null},b=async()=>{var C,$;u.value=!0;try{c.value?await ke.put(`/api/legume/suppliers/${c.value.id}`,m.value):await ke.post("/api/legume/suppliers",m.value),w(),v()}catch(A){alert((($=(C=A.response)==null?void 0:C.data)==null?void 0:$.message)||"Error saving supplier")}finally{u.value=!1}},k=async C=>{var $,A;if(confirm(`Are you sure you want to delete "${C.name}"?`))try{await ke.delete(`/api/legume/suppliers/${C.id}`),v()}catch(R){alert(((A=($=R.response)==null?void 0:$.data)==null?void 0:A.message)||"Error deleting supplier")}};return Ne(()=>v()),(C,$)=>{var R;const A=Bt("router-link");return e.value?(g(),y("div",cIe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",uIe,[o.value?(g(),y("div",mIe,[n("div",fIe,[n("div",pIe,[n("div",hIe,[n("div",gIe,[S(f(Yr),{class:"h-6 w-6 text-blue-400"})]),n("div",_Ie,[n("dl",null,[$[14]||($[14]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Suppliers",-1)),n("dd",vIe,d(o.value.total_suppliers),1)])])])])]),n("div",yIe,[n("div",xIe,[n("div",bIe,[n("div",wIe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",kIe,[n("dl",null,[$[15]||($[15]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Active Suppliers",-1)),n("dd",$Ie,d(o.value.active_suppliers),1)])])])])]),n("div",CIe,[n("div",SIe,[n("div",MIe,[n("div",TIe,[S(f(Ys),{class:"h-6 w-6 text-purple-400"})]),n("div",DIe,[n("dl",null,[$[16]||($[16]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Supplied",-1)),n("dd",AIe,"MK "+d(h(o.value.total_supplied)),1)])])])])])])):j("",!0),n("div",PIe,[n("div",EIe,[n("div",jIe,[n("div",RIe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":$[0]||($[0]=T=>i.value=T),type:"search",placeholder:"Search suppliers...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:_},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":$[1]||($[1]=T=>r.value=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:v},[...$[17]||($[17]=[n("option",{value:""},"All Status",-1),n("option",{value:"active"},"Active",-1),n("option",{value:"inactive"},"Inactive",-1)])],544),[[xe,r.value]]),z(n("select",{"onUpdate:modelValue":$[2]||($[2]=T=>a.value=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:v},[$[18]||($[18]=n("option",{value:""},"All Districts",-1)),(g(!0),y(oe,null,ue(((R=o.value)==null?void 0:R.districts)||[],T=>(g(),y("option",{key:T,value:T},d(T),9,IIe))),128))],544),[[xe,a.value]])]),n("div",OIe,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",onClick:$[3]||($[3]=T=>x())},[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),$[19]||($[19]=J(" Add Supplier ",-1))])])]),n("div",LIe,[n("table",FIe,[$[22]||($[22]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Supplier"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Contact"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Location"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total Supplied"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Purchases"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",NIe,[(g(!0),y(oe,null,ue(t.value,T=>(g(),y("tr",{key:T.id,class:"hover:bg-gray-50"},[n("td",zIe,[n("div",UIe,d(T.name),1),T.national_id?(g(),y("div",BIe,"ID: "+d(T.national_id),1)):j("",!0)]),n("td",VIe,[n("div",HIe,d(T.phone),1),T.email?(g(),y("div",qIe,d(T.email),1)):j("",!0)]),n("td",WIe,[T.village?(g(),y("div",KIe,d(T.village),1)):j("",!0),T.district?(g(),y("div",YIe,d(T.district),1)):j("",!0)]),n("td",GIe," MK "+d(h(T.total_supplied)),1),n("td",XIe,d(T.purchases_count||0),1),n("td",JIe,[n("span",{class:X([T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(T.status),3)]),n("td",QIe,[S(A,{to:`/legume/suppliers/${T.id}`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:W(()=>[...$[20]||($[20]=[J("View",-1)])]),_:1},8,["to"]),n("button",{onClick:F=>x(T),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,ZIe),n("button",{onClick:F=>k(T),class:"text-red-600 hover:text-red-900"},"Delete",8,eOe)])]))),128)),t.value.length===0?(g(),y("tr",tOe,[...$[21]||($[21]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No suppliers found",-1)])])):j("",!0)])])]),l.value?(g(),y("div",sOe,[n("div",nOe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:w}),n("div",oOe,[n("h3",iOe,d(c.value?"Edit Supplier":"Add Supplier"),1),n("form",{onSubmit:Ve(b,["prevent"])},[n("div",rOe,[n("div",null,[$[23]||($[23]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":$[4]||($[4]=T=>m.value.name=T),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.name]])]),n("div",aOe,[n("div",null,[$[24]||($[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),z(n("input",{"onUpdate:modelValue":$[5]||($[5]=T=>m.value.phone=T),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.phone]])]),n("div",null,[$[25]||($[25]=n("label",{class:"block text-sm font-medium text-gray-700"},"Secondary Phone",-1)),z(n("input",{"onUpdate:modelValue":$[6]||($[6]=T=>m.value.secondary_phone=T),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.secondary_phone]])])]),n("div",lOe,[n("div",null,[$[26]||($[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),z(n("input",{"onUpdate:modelValue":$[7]||($[7]=T=>m.value.email=T),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.email]])]),n("div",null,[$[27]||($[27]=n("label",{class:"block text-sm font-medium text-gray-700"},"National ID",-1)),z(n("input",{"onUpdate:modelValue":$[8]||($[8]=T=>m.value.national_id=T),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.national_id]])])]),n("div",dOe,[n("div",null,[$[28]||($[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"District",-1)),z(n("input",{"onUpdate:modelValue":$[9]||($[9]=T=>m.value.district=T),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"e.g., Lilongwe"},null,512),[[K,m.value.district]])]),n("div",null,[$[29]||($[29]=n("label",{class:"block text-sm font-medium text-gray-700"},"Village",-1)),z(n("input",{"onUpdate:modelValue":$[10]||($[10]=T=>m.value.village=T),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.village]])])]),n("div",null,[$[30]||($[30]=n("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(n("textarea",{"onUpdate:modelValue":$[11]||($[11]=T=>m.value.address=T),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.address]])]),n("div",null,[$[31]||($[31]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":$[12]||($[12]=T=>m.value.notes=T),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.notes]])]),n("div",null,[$[33]||($[33]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),z(n("select",{"onUpdate:modelValue":$[13]||($[13]=T=>m.value.status=T),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...$[32]||($[32]=[n("option",{value:"active"},"Active",-1),n("option",{value:"inactive"},"Inactive",-1)])],512),[[xe,m.value.status]])])]),n("div",cOe,[n("button",{type:"button",onClick:w,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:u.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(u.value?"Saving...":"Save"),9,uOe)])],32)])])])):j("",!0)]))}}},fOe={key:0,class:"mt-8 flex justify-center"},pOe={key:1},hOe={class:"mb-6 overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg"},gOe={class:"p-6"},_Oe={class:"flex items-center justify-between"},vOe={class:"mt-1 text-4xl font-bold text-white"},yOe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},xOe={class:"overflow-hidden rounded-lg bg-white shadow"},bOe={class:"p-5"},wOe={class:"flex items-center"},kOe={class:"flex-shrink-0"},$Oe={class:"ml-5 w-0 flex-1"},COe={class:"text-lg font-semibold text-green-600"},SOe={class:"overflow-hidden rounded-lg bg-white shadow"},MOe={class:"p-5"},TOe={class:"flex items-center"},DOe={class:"flex-shrink-0"},AOe={class:"ml-5 w-0 flex-1"},POe={class:"text-lg font-semibold text-red-600"},EOe={class:"overflow-hidden rounded-lg bg-white shadow"},jOe={class:"p-5"},ROe={class:"flex items-center"},IOe={class:"flex-shrink-0"},OOe={class:"ml-5 w-0 flex-1"},LOe={class:"text-lg font-semibold text-gray-900"},FOe={class:"overflow-hidden rounded-lg bg-white shadow"},NOe={class:"p-5"},zOe={class:"flex items-center"},UOe={class:"flex-shrink-0"},BOe={class:"ml-5 w-0 flex-1"},VOe={class:"text-lg font-semibold text-gray-900"},HOe={class:"mb-6 flex justify-end"},qOe={class:"overflow-hidden rounded-lg bg-white shadow"},WOe={class:"min-w-full divide-y divide-gray-200"},KOe={class:"divide-y divide-gray-200 bg-white"},YOe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},GOe={class:"whitespace-nowrap px-6 py-4"},XOe={class:"whitespace-nowrap px-6 py-4"},JOe={class:"px-6 py-4 text-sm text-gray-500"},QOe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ZOe={key:0},eLe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},tLe={class:"flex min-h-screen items-center justify-center px-4"},sLe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},nLe={class:"space-y-4"},oLe={class:"mt-1 text-xs text-gray-500"},iLe={class:"mt-6 flex justify-end space-x-3"},rLe=["disabled"],aLe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(0),r=E(!1),a=E(!1),l=E({type:"addition",amount:"",budget_date:new Date().toISOString().split("T")[0],description:""}),c=x=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(x||0),u=x=>new Date(x).toLocaleDateString("en-MW",{year:"numeric",month:"short",day:"numeric"}),m=x=>({initial:"bg-blue-100 text-blue-800",addition:"bg-green-100 text-green-800",deduction:"bg-red-100 text-red-800",adjustment:"bg-yellow-100 text-yellow-800"})[x]||"bg-gray-100 text-gray-800",h=async()=>{var x;try{const[w,b,k]=await Promise.all([ke.get("/api/legume/budget"),ke.get("/api/legume/budget/current"),ke.get("/api/legume/budget/statistics")]);t.value=w.data.data,i.value=((x=b.data.data)==null?void 0:x.current_budget)||0,o.value=k.data.data}catch{}finally{e.value=!1}},p=()=>{l.value={type:"addition",amount:"",budget_date:new Date().toISOString().split("T")[0],description:""},r.value=!0},_=()=>{r.value=!1},v=async()=>{var x,w;a.value=!0;try{await ke.post("/api/legume/budget",l.value),_(),h()}catch(b){alert(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.message)||"Error saving budget entry")}finally{a.value=!1}};return Ne(()=>h()),(x,w)=>e.value?(g(),y("div",fOe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",pOe,[n("div",hOe,[n("div",gOe,[n("div",_Oe,[n("div",null,[w[5]||(w[5]=n("p",{class:"text-sm font-medium text-indigo-100"},"Current Available Budget",-1)),n("p",vOe,"MK "+d(c(i.value)),1)]),S(f(Ys),{class:"h-16 w-16 text-white opacity-75"})])])]),o.value?(g(),y("div",yOe,[n("div",xOe,[n("div",bOe,[n("div",wOe,[n("div",kOe,[S(f(n$),{class:"h-6 w-6 text-green-400"})]),n("div",$Oe,[n("dl",null,[w[6]||(w[6]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Added",-1)),n("dd",COe,"MK "+d(c(o.value.total_additions)),1)])])])])]),n("div",SOe,[n("div",MOe,[n("div",TOe,[n("div",DOe,[S(f(Z4),{class:"h-6 w-6 text-red-400"})]),n("div",AOe,[n("dl",null,[w[7]||(w[7]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Deducted",-1)),n("dd",POe,"MK "+d(c(o.value.total_deductions)),1)])])])])]),n("div",EOe,[n("div",jOe,[n("div",ROe,[n("div",IOe,[S(f(Xm),{class:"h-6 w-6 text-blue-400"})]),n("div",OOe,[n("dl",null,[w[8]||(w[8]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Spent on Purchases",-1)),n("dd",LOe,"MK "+d(c(o.value.total_spent_on_purchases)),1)])])])])]),n("div",FOe,[n("div",NOe,[n("div",zOe,[n("div",UOe,[S(f(nn),{class:"h-6 w-6 text-purple-400"})]),n("div",BOe,[n("dl",null,[w[9]||(w[9]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"This Month Added",-1)),n("dd",VOe,"MK "+d(c(o.value.this_month_additions)),1)])])])])])])):j("",!0),n("div",HOe,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",onClick:w[0]||(w[0]=b=>p())},[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),w[10]||(w[10]=J(" Add Budget ",-1))])]),n("div",qOe,[w[13]||(w[13]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Budget History")],-1)),n("table",WOe,[w[12]||(w[12]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Type"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Amount"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Description"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Added By")])],-1)),n("tbody",KOe,[(g(!0),y(oe,null,ue(t.value,b=>{var k;return g(),y("tr",{key:b.id,class:"hover:bg-gray-50"},[n("td",YOe,d(u(b.budget_date)),1),n("td",GOe,[n("span",{class:X([m(b.type),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.type),3)]),n("td",XOe,[n("span",{class:X([b.amount>=0?"text-green-600":"text-red-600","text-sm font-medium"])},d(b.amount>=0?"+":"")+"MK "+d(c(b.amount)),3)]),n("td",JOe,d(b.description||"-"),1),n("td",QOe,d(((k=b.user)==null?void 0:k.name)||"-"),1)])}),128)),t.value.length===0?(g(),y("tr",ZOe,[...w[11]||(w[11]=[n("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500"},"No budget entries found",-1)])])):j("",!0)])])]),r.value?(g(),y("div",eLe,[n("div",tLe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:_}),n("div",sLe,[w[19]||(w[19]=n("h3",{class:"mb-4 text-lg font-medium text-gray-900"},"Add Budget Entry",-1)),n("form",{onSubmit:Ve(v,["prevent"])},[n("div",nLe,[n("div",null,[w[15]||(w[15]=n("label",{class:"block text-sm font-medium text-gray-700"},"Type *",-1)),z(n("select",{"onUpdate:modelValue":w[1]||(w[1]=b=>l.value.type=b),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...w[14]||(w[14]=[n("option",{value:"initial"},"Initial Capital",-1),n("option",{value:"addition"},"Addition",-1),n("option",{value:"deduction"},"Deduction",-1),n("option",{value:"adjustment"},"Adjustment",-1)])],512),[[xe,l.value.type]])]),n("div",null,[w[16]||(w[16]=n("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":w[2]||(w[2]=b=>l.value.amount=b),type:"number",step:"0.01",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter amount"},null,512),[[K,l.value.amount,void 0,{number:!0}]]),n("p",oLe,d(l.value.type==="deduction"?"Enter positive amount (will be deducted)":"Enter the amount to add"),1)]),n("div",null,[w[17]||(w[17]=n("label",{class:"block text-sm font-medium text-gray-700"},"Date *",-1)),z(n("input",{"onUpdate:modelValue":w[3]||(w[3]=b=>l.value.budget_date=b),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.value.budget_date]])]),n("div",null,[w[18]||(w[18]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":w[4]||(w[4]=b=>l.value.description=b),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Reason for this budget entry..."},null,512),[[K,l.value.description]])])]),n("div",iLe,[n("button",{type:"button",onClick:_,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:a.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(a.value?"Saving...":"Save"),9,rLe)])],32)])])])):j("",!0)]))}},lLe={key:0,class:"mt-8 flex justify-center"},dLe={key:1},cLe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},uLe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow"},mLe={class:"p-5"},fLe={class:"flex items-center"},pLe={class:"flex-shrink-0"},hLe={class:"ml-5 w-0 flex-1"},gLe={class:"text-xl font-bold text-white"},_Le={class:"overflow-hidden rounded-lg bg-white shadow"},vLe={class:"p-5"},yLe={class:"flex items-center"},xLe={class:"flex-shrink-0"},bLe={class:"ml-5 w-0 flex-1"},wLe={class:"text-lg font-semibold text-gray-900"},kLe={class:"overflow-hidden rounded-lg bg-white shadow"},$Le={class:"p-5"},CLe={class:"flex items-center"},SLe={class:"flex-shrink-0"},MLe={class:"ml-5 w-0 flex-1"},TLe={class:"text-lg font-semibold text-yellow-600"},DLe={class:"overflow-hidden rounded-lg bg-white shadow"},ALe={class:"p-5"},PLe={class:"flex items-center"},ELe={class:"flex-shrink-0"},jLe={class:"ml-5 w-0 flex-1"},RLe={class:"text-lg font-semibold text-gray-900"},ILe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},OLe={class:"flex flex-1 flex-wrap gap-2"},LLe={class:"relative w-64 rounded-md shadow-sm"},FLe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},NLe={class:"ml-auto"},zLe={class:"overflow-hidden rounded-lg bg-white shadow"},ULe={class:"min-w-full divide-y divide-gray-200"},BLe={class:"divide-y divide-gray-200 bg-white"},VLe={class:"whitespace-nowrap px-6 py-4"},HLe={class:"font-medium text-gray-900"},qLe={class:"text-xs text-gray-500"},WLe={class:"whitespace-nowrap px-6 py-4"},KLe={class:"text-sm text-gray-900"},YLe={class:"text-sm text-gray-500"},GLe={class:"whitespace-nowrap px-6 py-4"},XLe={class:"text-sm text-gray-900"},JLe={class:"text-sm text-gray-500"},QLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ZLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},eFe={class:"whitespace-nowrap px-6 py-4"},tFe={class:"text-sm font-medium text-gray-900"},sFe={class:"text-xs text-gray-500"},nFe={class:"whitespace-nowrap px-6 py-4"},oFe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium space-x-2"},iFe=["onClick"],rFe=["onClick"],aFe={key:0},lFe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=v=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v||0),l=v=>new Date(v).toLocaleDateString("en-MW",{year:"numeric",month:"short",day:"numeric"}),c=v=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800";let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>h(),300)},h=async()=>{try{const v={};i.value&&(v.search=i.value),r.value&&(v.status=r.value);const[x,w]=await Promise.all([ke.get("/api/legume/purchases",{params:v}),ke.get("/api/legume/purchases/statistics")]);t.value=x.data.data,o.value=w.data.data}catch{}finally{e.value=!1}},p=async v=>{var x,w;if(confirm(`Complete purchase ${v.purchase_number}? This will add stock and deduct from budget.`))try{await ke.post(`/api/legume/purchases/${v.id}/complete`),h()}catch(b){alert(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.message)||"Error completing purchase")}},_=async v=>{var x,w;if(confirm(`Cancel purchase ${v.purchase_number}?`))try{await ke.post(`/api/legume/purchases/${v.id}/cancel`),h()}catch(b){alert(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.message)||"Error cancelling purchase")}};return Ne(()=>h()),(v,x)=>{const w=Bt("router-link");return e.value?(g(),y("div",lLe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",dLe,[o.value?(g(),y("div",cLe,[n("div",uLe,[n("div",mLe,[n("div",fLe,[n("div",pLe,[S(f(Ys),{class:"h-8 w-8 text-white"})]),n("div",hLe,[n("dl",null,[x[2]||(x[2]=n("dt",{class:"truncate text-sm font-medium text-indigo-100"},"Available Budget",-1)),n("dd",gLe,"MK "+d(a(o.value.current_budget)),1)])])])])]),n("div",_Le,[n("div",vLe,[n("div",yLe,[n("div",xLe,[S(f(Xm),{class:"h-6 w-6 text-blue-400"})]),n("div",bLe,[n("dl",null,[x[3]||(x[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Purchases",-1)),n("dd",wLe,d(o.value.total_purchases),1)])])])])]),n("div",kLe,[n("div",$Le,[n("div",CLe,[n("div",SLe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",MLe,[n("dl",null,[x[4]||(x[4]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Pending",-1)),n("dd",TLe,d(o.value.pending_purchases),1)])])])])]),n("div",DLe,[n("div",ALe,[n("div",PLe,[n("div",ELe,[S(f(bi),{class:"h-6 w-6 text-green-400"})]),n("div",jLe,[n("dl",null,[x[5]||(x[5]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"This Month Spent",-1)),n("dd",RLe,"MK "+d(a(o.value.this_month_spent)),1)])])])])])])):j("",!0),n("div",ILe,[n("div",OLe,[n("div",LLe,[n("div",FLe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":x[0]||(x[0]=b=>i.value=b),type:"search",placeholder:"Search purchases...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:m},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=b=>r.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:h},[...x[6]||(x[6]=[n("option",{value:""},"All Status",-1),n("option",{value:"pending"},"Pending",-1),n("option",{value:"completed"},"Completed",-1),n("option",{value:"cancelled"},"Cancelled",-1)])],544),[[xe,r.value]])]),n("div",NLe,[S(w,{to:"/legume/purchases/create",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700"},{default:W(()=>[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),x[7]||(x[7]=J(" New Purchase ",-1))]),_:1})])]),n("div",zLe,[n("table",ULe,[x[10]||(x[10]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Purchase #"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Supplier"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Quantity"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",BLe,[(g(!0),y(oe,null,ue(t.value,b=>{var k,C,$,A;return g(),y("tr",{key:b.id,class:"hover:bg-gray-50"},[n("td",VLe,[n("div",HLe,d(b.purchase_number),1),n("div",qLe,"Grade "+d(b.quality_grade),1)]),n("td",WLe,[n("div",KLe,d((k=b.supplier)==null?void 0:k.name),1),n("div",YLe,d((C=b.supplier)==null?void 0:C.district),1)]),n("td",GLe,[n("div",XLe,d(($=b.product)==null?void 0:$.name),1),n("div",JLe,d((A=b.product)==null?void 0:A.sku),1)]),n("td",QLe,d(l(b.purchase_date)),1),n("td",ZLe,d(a(b.quantity))+" kg ",1),n("td",eFe,[n("div",tFe,"MK "+d(a(b.grand_total)),1),n("div",sFe,"@ MK "+d(a(b.price_per_unit))+"/kg",1)]),n("td",nFe,[n("span",{class:X([c(b.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.status),3)]),n("td",oFe,[b.status==="pending"?(g(),y("button",{key:0,onClick:R=>p(b),class:"text-green-600 hover:text-green-900"},"Complete",8,iFe)):j("",!0),b.status==="pending"?(g(),y("button",{key:1,onClick:R=>_(b),class:"text-red-600 hover:text-red-900"},"Cancel",8,rFe)):j("",!0),S(w,{to:`/legume/purchases/${b.id}`,class:"text-indigo-600 hover:text-indigo-900"},{default:W(()=>[...x[8]||(x[8]=[J("View",-1)])]),_:1},8,["to"])])])}),128)),t.value.length===0?(g(),y("tr",aFe,[...x[9]||(x[9]=[n("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"},"No purchases found",-1)])])):j("",!0)])])])]))}}},dFe={class:"mx-auto max-w-4xl"},cFe={class:"mb-6"},uFe={class:"mb-6 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-4 text-white shadow"},mFe={class:"flex items-center justify-between"},fFe={class:"text-2xl font-bold"},pFe={class:"rounded-lg bg-white p-6 shadow"},hFe={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},gFe=["value"],_Fe=["value"],vFe={class:"rounded-lg bg-white p-6 shadow"},yFe={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},xFe={class:"mt-1 rounded-md bg-gray-100 px-3 py-2 text-lg font-semibold text-gray-900"},bFe={class:"rounded-lg bg-white p-6 shadow"},wFe={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},kFe={class:"rounded-lg bg-white p-6 shadow"},$Fe={class:"rounded-lg bg-gray-50 p-6 shadow"},CFe={class:"space-y-2"},SFe={class:"flex justify-between text-sm"},MFe={class:"text-gray-500"},TFe={class:"text-gray-900"},DFe={class:"flex justify-between text-sm"},AFe={class:"text-gray-900"},PFe={class:"flex justify-between text-sm"},EFe={class:"text-gray-900"},jFe={class:"flex justify-between text-sm"},RFe={class:"text-gray-900"},IFe={class:"border-t border-gray-200 pt-2"},OFe={class:"flex justify-between text-lg font-bold"},LFe={key:0,class:"mt-2 rounded-md bg-red-50 p-3 text-sm text-red-700"},FFe={class:"flex justify-end space-x-3"},NFe=["disabled"],zFe={__name:"Form",setup(s){const e=gn(),t=Vr(),o=E(!1),i=E([]),r=E([]),a=E(0),l=E({supplier_id:"",legume_product_id:"",purchase_date:new Date().toISOString().split("T")[0],quantity:"",price_per_unit:"",packaging_cost:0,transport_cost:0,other_costs:0,quality_grade:"A",notes:""}),c=v=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v||0),u=Me(()=>(l.value.quantity||0)*(l.value.price_per_unit||0)),m=Me(()=>u.value+(l.value.packaging_cost||0)+(l.value.transport_cost||0)+(l.value.other_costs||0)),h=()=>{const v=r.value.find(x=>x.id===l.value.legume_product_id);v&&(l.value.price_per_unit=v.buying_price)},p=async()=>{var v;try{const[x,w,b]=await Promise.all([ke.get("/api/legume/suppliers/dropdown"),ke.get("/api/legume/products/dropdown"),ke.get("/api/legume/budget/current")]);i.value=x.data.data,r.value=w.data.data,a.value=((v=b.data.data)==null?void 0:v.current_budget)||0,t.query.product&&(l.value.legume_product_id=parseInt(t.query.product),h())}catch{}},_=async()=>{var v,x;o.value=!0;try{await ke.post("/api/legume/purchases",l.value),e.push("/legume/purchases")}catch(w){alert(((x=(v=w.response)==null?void 0:v.data)==null?void 0:x.message)||"Error creating purchase")}finally{o.value=!1}};return Ne(()=>p()),(v,x)=>{const w=Bt("router-link");return g(),y("div",dFe,[n("div",cFe,[S(w,{to:"/legume/purchases",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...x[10]||(x[10]=[J("  Back to Purchases ",-1)])]),_:1}),x[11]||(x[11]=n("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"New Purchase",-1)),x[12]||(x[12]=n("p",{class:"text-sm text-gray-500"},"Record a purchase from a farmer/supplier",-1))]),n("div",uFe,[n("div",mFe,[n("div",null,[x[13]||(x[13]=n("p",{class:"text-sm text-indigo-100"},"Available Budget",-1)),n("p",fFe,"MK "+d(c(a.value)),1)]),S(f(Ys),{class:"h-10 w-10 text-white opacity-75"})])]),n("form",{onSubmit:Ve(_,["prevent"]),class:"space-y-6"},[n("div",pFe,[x[21]||(x[21]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Supplier & Product",-1)),n("div",hFe,[n("div",null,[x[15]||(x[15]=n("label",{class:"block text-sm font-medium text-gray-700"},"Supplier *",-1)),z(n("select",{"onUpdate:modelValue":x[0]||(x[0]=b=>l.value.supplier_id=b),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[x[14]||(x[14]=n("option",{value:""},"Select a supplier",-1)),(g(!0),y(oe,null,ue(i.value,b=>(g(),y("option",{key:b.id,value:b.id},d(b.name)+" - "+d(b.district),9,gFe))),128))],512),[[xe,l.value.supplier_id]])]),n("div",null,[x[17]||(x[17]=n("label",{class:"block text-sm font-medium text-gray-700"},"Product *",-1)),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=b=>l.value.legume_product_id=b),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:h},[x[16]||(x[16]=n("option",{value:""},"Select a product",-1)),(g(!0),y(oe,null,ue(r.value,b=>(g(),y("option",{key:b.id,value:b.id},d(b.name)+" ("+d(b.sku)+") - MK "+d(c(b.buying_price))+"/kg ",9,_Fe))),128))],544),[[xe,l.value.legume_product_id]])]),n("div",null,[x[18]||(x[18]=n("label",{class:"block text-sm font-medium text-gray-700"},"Purchase Date *",-1)),z(n("input",{"onUpdate:modelValue":x[2]||(x[2]=b=>l.value.purchase_date=b),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,l.value.purchase_date]])]),n("div",null,[x[20]||(x[20]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quality Grade *",-1)),z(n("select",{"onUpdate:modelValue":x[3]||(x[3]=b=>l.value.quality_grade=b),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...x[19]||(x[19]=[n("option",{value:"A"},"Grade A - Premium",-1),n("option",{value:"B"},"Grade B - Standard",-1),n("option",{value:"C"},"Grade C - Economy",-1)])],512),[[xe,l.value.quality_grade]])])])]),n("div",vFe,[x[25]||(x[25]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Weighing & Pricing",-1)),n("div",yFe,[n("div",null,[x[22]||(x[22]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quantity (kg) *",-1)),z(n("input",{"onUpdate:modelValue":x[4]||(x[4]=b=>l.value.quantity=b),type:"number",step:"0.001",min:"0.001",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter weight in kg"},null,512),[[K,l.value.quantity,void 0,{number:!0}]])]),n("div",null,[x[23]||(x[23]=n("label",{class:"block text-sm font-medium text-gray-700"},"Price per kg (MK) *",-1)),z(n("input",{"onUpdate:modelValue":x[5]||(x[5]=b=>l.value.price_per_unit=b),type:"number",step:"0.01",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Price per kg"},null,512),[[K,l.value.price_per_unit,void 0,{number:!0}]])]),n("div",null,[x[24]||(x[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Product Total",-1)),n("div",xFe," MK "+d(c(u.value)),1)])])]),n("div",bFe,[x[29]||(x[29]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Additional Costs",-1)),n("div",wFe,[n("div",null,[x[26]||(x[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Packaging Cost (MK)",-1)),z(n("input",{"onUpdate:modelValue":x[6]||(x[6]=b=>l.value.packaging_cost=b),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,l.value.packaging_cost,void 0,{number:!0}]])]),n("div",null,[x[27]||(x[27]=n("label",{class:"block text-sm font-medium text-gray-700"},"Transport Cost (MK)",-1)),z(n("input",{"onUpdate:modelValue":x[7]||(x[7]=b=>l.value.transport_cost=b),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,l.value.transport_cost,void 0,{number:!0}]])]),n("div",null,[x[28]||(x[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Other Costs (MK)",-1)),z(n("input",{"onUpdate:modelValue":x[8]||(x[8]=b=>l.value.other_costs=b),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,l.value.other_costs,void 0,{number:!0}]])])])]),n("div",kFe,[x[30]||(x[30]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":x[9]||(x[9]=b=>l.value.notes=b),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Any additional notes about this purchase..."},null,512),[[K,l.value.notes]])]),n("div",$Fe,[x[35]||(x[35]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Purchase Summary",-1)),n("div",CFe,[n("div",SFe,[n("span",MFe,"Product Total ("+d(l.value.quantity||0)+" kg  MK "+d(c(l.value.price_per_unit||0))+")",1),n("span",TFe,"MK "+d(c(u.value)),1)]),n("div",DFe,[x[31]||(x[31]=n("span",{class:"text-gray-500"},"Packaging Cost",-1)),n("span",AFe,"MK "+d(c(l.value.packaging_cost||0)),1)]),n("div",PFe,[x[32]||(x[32]=n("span",{class:"text-gray-500"},"Transport Cost",-1)),n("span",EFe,"MK "+d(c(l.value.transport_cost||0)),1)]),n("div",jFe,[x[33]||(x[33]=n("span",{class:"text-gray-500"},"Other Costs",-1)),n("span",RFe,"MK "+d(c(l.value.other_costs||0)),1)]),n("div",IFe,[n("div",OFe,[x[34]||(x[34]=n("span",{class:"text-gray-900"},"Grand Total",-1)),n("span",{class:X(m.value>a.value?"text-red-600":"text-green-600")}," MK "+d(c(m.value)),3)])]),m.value>a.value?(g(),y("div",LFe," Warning: Purchase total exceeds available budget ")):j("",!0)])]),n("div",FFe,[S(w,{to:"/legume/purchases",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},{default:W(()=>[...x[36]||(x[36]=[J(" Cancel ",-1)])]),_:1}),n("button",{type:"submit",disabled:o.value||m.value>a.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(o.value?"Saving...":"Create Purchase"),9,NFe)])],32)])}}},UFe={key:0,class:"mt-8 flex justify-center"},BFe={key:1},VFe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},HFe={class:"overflow-hidden rounded-lg bg-white shadow"},qFe={class:"p-5"},WFe={class:"flex items-center"},KFe={class:"flex-shrink-0"},YFe={class:"ml-5 w-0 flex-1"},GFe={class:"text-lg font-semibold text-gray-900"},XFe={class:"overflow-hidden rounded-lg bg-white shadow"},JFe={class:"p-5"},QFe={class:"flex items-center"},ZFe={class:"flex-shrink-0"},eNe={class:"ml-5 w-0 flex-1"},tNe={class:"text-lg font-semibold text-gray-900"},sNe={class:"overflow-hidden rounded-lg bg-white shadow"},nNe={class:"p-5"},oNe={class:"flex items-center"},iNe={class:"flex-shrink-0"},rNe={class:"ml-5 w-0 flex-1"},aNe={class:"text-lg font-semibold text-gray-900"},lNe={class:"overflow-hidden rounded-lg bg-white shadow"},dNe={class:"p-5"},cNe={class:"flex items-center"},uNe={class:"flex-shrink-0"},mNe={class:"ml-5 w-0 flex-1"},fNe={class:"text-lg font-semibold text-red-600"},pNe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},hNe={class:"flex flex-1 flex-wrap gap-2"},gNe={class:"relative w-64 rounded-md shadow-sm"},_Ne={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},vNe={class:"flex space-x-2"},yNe={class:"overflow-hidden rounded-lg bg-white shadow"},xNe={class:"min-w-full divide-y divide-gray-200"},bNe={class:"divide-y divide-gray-200 bg-white"},wNe={class:"whitespace-nowrap px-6 py-4"},kNe={class:"font-medium text-gray-900"},$Ne={class:"text-sm text-gray-500"},CNe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},SNe={class:"whitespace-nowrap px-6 py-4 text-sm text-yellow-600"},MNe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-green-600"},TNe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},DNe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},ANe={class:"whitespace-nowrap px-6 py-4"},PNe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium space-x-2"},ENe=["onClick"],jNe={key:0},RNe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},INe={class:"flex min-h-screen items-center justify-center px-4"},ONe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},LNe={class:"mb-4 text-lg font-medium text-gray-900"},FNe={class:"mb-4 rounded-md bg-gray-50 p-3"},NNe={class:"text-sm text-gray-600"},zNe={class:"font-medium"},UNe={class:"space-y-4"},BNe={class:"mt-6 flex justify-end space-x-3"},VNe=["disabled"],HNe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(!1),l=E(null),c=E(!1),u=E({type:"add",quantity:"",reason:"count_correction",notes:""}),m=C=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C||0),h=C=>{var $;return C.quantity<=0?"Out of Stock":($=C.product)!=null&&$.low_stock_threshold&&C.quantity<=C.product.low_stock_threshold?"Low Stock":"In Stock"},p=C=>{var $;return C.quantity<=0?"bg-red-100 text-red-800":($=C.product)!=null&&$.low_stock_threshold&&C.quantity<=C.product.low_stock_threshold?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"};let _=null;const v=()=>{clearTimeout(_),_=setTimeout(()=>x(),300)},x=async()=>{try{const C={};i.value&&(C.search=i.value),r.value&&(C.stock_filter=r.value);const[$,A]=await Promise.all([ke.get("/api/legume/inventory",{params:C}),ke.get("/api/legume/inventory/statistics")]);t.value=$.data.data,o.value=A.data.data}catch{}finally{e.value=!1}},w=C=>{l.value=C,u.value={type:"add",quantity:"",reason:"count_correction",notes:""},a.value=!0},b=()=>{a.value=!1,l.value=null},k=async()=>{var C,$;c.value=!0;try{await ke.post(`/api/legume/inventory/${l.value.id}/adjust`,u.value),b(),x()}catch(A){alert((($=(C=A.response)==null?void 0:C.data)==null?void 0:$.message)||"Error adjusting inventory")}finally{c.value=!1}};return Ne(()=>x()),(C,$)=>{var R,T,F;const A=Bt("router-link");return e.value?(g(),y("div",UFe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",BFe,[o.value?(g(),y("div",VFe,[n("div",HFe,[n("div",qFe,[n("div",WFe,[n("div",KFe,[S(f(Fv),{class:"h-6 w-6 text-blue-400"})]),n("div",YFe,[n("dl",null,[$[6]||($[6]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Products",-1)),n("dd",GFe,d(o.value.total_products),1)])])])])]),n("div",XFe,[n("div",JFe,[n("div",QFe,[n("div",ZFe,[S(f(b$),{class:"h-6 w-6 text-green-400"})]),n("div",eNe,[n("dl",null,[$[7]||($[7]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Stock",-1)),n("dd",tNe,d(m(o.value.total_stock))+" kg",1)])])])])]),n("div",sNe,[n("div",nNe,[n("div",oNe,[n("div",iNe,[S(f(Ys),{class:"h-6 w-6 text-purple-400"})]),n("div",rNe,[n("dl",null,[$[8]||($[8]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Stock Value",-1)),n("dd",aNe,"MK "+d(m(o.value.total_value)),1)])])])])]),n("div",lNe,[n("div",dNe,[n("div",cNe,[n("div",uNe,[S(f(Fo),{class:"h-6 w-6 text-red-400"})]),n("div",mNe,[n("dl",null,[$[9]||($[9]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Low Stock Items",-1)),n("dd",fNe,d(o.value.low_stock_count),1)])])])])])])):j("",!0),n("div",pNe,[n("div",hNe,[n("div",gNe,[n("div",_Ne,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":$[0]||($[0]=L=>i.value=L),type:"search",placeholder:"Search products...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:v},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":$[1]||($[1]=L=>r.value=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x},[...$[10]||($[10]=[n("option",{value:""},"All Stock Levels",-1),n("option",{value:"low"},"Low Stock",-1),n("option",{value:"out"},"Out of Stock",-1),n("option",{value:"available"},"In Stock",-1)])],544),[[xe,r.value]])]),n("div",vNe,[S(A,{to:"/legume/inventory/movements",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},{default:W(()=>[S(f(hs),{class:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),$[11]||($[11]=J(" Movement History ",-1))]),_:1})])]),n("div",yNe,[n("table",xNe,[$[14]||($[14]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Current Stock"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Reserved"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Available"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Avg Cost"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Value"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",bNe,[(g(!0),y(oe,null,ue(t.value,L=>{var D,N;return g(),y("tr",{key:L.id,class:"hover:bg-gray-50"},[n("td",wNe,[n("div",kNe,d((D=L.product)==null?void 0:D.name),1),n("div",$Ne,d((N=L.product)==null?void 0:N.sku),1)]),n("td",CNe,d(m(L.quantity))+" kg ",1),n("td",SNe,d(m(L.reserved_quantity))+" kg ",1),n("td",MNe,d(m(L.quantity-L.reserved_quantity))+" kg ",1),n("td",TNe," MK "+d(m(L.average_cost))+"/kg ",1),n("td",DNe," MK "+d(m(L.quantity*L.average_cost)),1),n("td",ANe,[n("span",{class:X([p(L),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(h(L)),3)]),n("td",PNe,[n("button",{onClick:P=>w(L),class:"text-indigo-600 hover:text-indigo-900"},"Adjust",8,ENe),S(A,{to:`/legume/purchases/create?product=${L.legume_product_id}`,class:"text-green-600 hover:text-green-900"},{default:W(()=>[...$[12]||($[12]=[J("Restock",-1)])]),_:1},8,["to"])])])}),128)),t.value.length===0?(g(),y("tr",jNe,[...$[13]||($[13]=[n("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"},"No inventory items found",-1)])])):j("",!0)])])]),a.value?(g(),y("div",RNe,[n("div",INe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:b}),n("div",ONe,[n("h3",LNe,"Adjust Stock: "+d((T=(R=l.value)==null?void 0:R.product)==null?void 0:T.name),1),n("div",FNe,[n("p",NNe,[$[15]||($[15]=J("Current Stock: ",-1)),n("span",zNe,d(m((F=l.value)==null?void 0:F.quantity))+" kg",1)])]),n("form",{onSubmit:Ve(k,["prevent"])},[n("div",UNe,[n("div",null,[$[17]||($[17]=n("label",{class:"block text-sm font-medium text-gray-700"},"Adjustment Type *",-1)),z(n("select",{"onUpdate:modelValue":$[2]||($[2]=L=>u.value.type=L),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...$[16]||($[16]=[n("option",{value:"add"},"Add Stock",-1),n("option",{value:"remove"},"Remove Stock",-1),n("option",{value:"set"},"Set to Specific Amount",-1)])],512),[[xe,u.value.type]])]),n("div",null,[$[18]||($[18]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quantity (kg) *",-1)),z(n("input",{"onUpdate:modelValue":$[3]||($[3]=L=>u.value.quantity=L),type:"number",step:"0.001",min:"0.001",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.quantity,void 0,{number:!0}]])]),n("div",null,[$[20]||($[20]=n("label",{class:"block text-sm font-medium text-gray-700"},"Reason *",-1)),z(n("select",{"onUpdate:modelValue":$[4]||($[4]=L=>u.value.reason=L),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...$[19]||($[19]=[n("option",{value:"count_correction"},"Count Correction",-1),n("option",{value:"damage"},"Damage/Spoilage",-1),n("option",{value:"return"},"Customer Return",-1),n("option",{value:"other"},"Other",-1)])],512),[[xe,u.value.reason]])]),n("div",null,[$[21]||($[21]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":$[5]||($[5]=L=>u.value.notes=L),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Additional notes..."},null,512),[[K,u.value.notes]])])]),n("div",BNe,[n("button",{type:"button",onClick:b,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:c.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(c.value?"Saving...":"Save Adjustment"),9,VNe)])],32)])])])):j("",!0)]))}}},qNe={key:0,class:"mt-8 flex justify-center"},WNe={key:1},KNe={class:"mb-6"},YNe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},GNe=["value"],XNe={class:"overflow-hidden rounded-lg bg-white shadow"},JNe={class:"min-w-full divide-y divide-gray-200"},QNe={class:"divide-y divide-gray-200 bg-white"},ZNe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},eze={class:"whitespace-nowrap px-6 py-4"},tze={class:"font-medium text-gray-900"},sze={class:"whitespace-nowrap px-6 py-4"},nze={class:"whitespace-nowrap px-6 py-4"},oze={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ize={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},rze={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},aze={key:0},lze={key:1},dze={key:0},cze={__name:"Movements",setup(s){const e=E(!0),t=E([]),o=E([]),i=E(""),r=E(""),a=E(""),l=E(""),c=v=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v||0),u=v=>new Date(v).toLocaleString("en-MW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=v=>({purchase:"bg-green-100 text-green-800",sale:"bg-blue-100 text-blue-800",adjustment:"bg-yellow-100 text-yellow-800",damage:"bg-red-100 text-red-800",return:"bg-purple-100 text-purple-800"})[v]||"bg-gray-100 text-gray-800",h=v=>v.includes("Purchase")?"Purchase":v.includes("OrderItem")?"Order":v,p=async()=>{try{const v={};i.value&&(v.product_id=i.value),r.value&&(v.type=r.value),a.value&&(v.date_from=a.value),l.value&&(v.date_to=l.value);const x=await ke.get("/api/legume/inventory/movements",{params:v});t.value=x.data.data}catch{}finally{e.value=!1}},_=async()=>{try{const v=await ke.get("/api/legume/products/dropdown");o.value=v.data.data}catch{}};return Ne(()=>{_(),p()}),(v,x)=>{const w=Bt("router-link");return e.value?(g(),y("div",qNe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",WNe,[n("div",KNe,[S(w,{to:"/legume/inventory",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...x[4]||(x[4]=[J("  Back to Inventory ",-1)])]),_:1}),x[5]||(x[5]=n("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"Stock Movement History",-1)),x[6]||(x[6]=n("p",{class:"text-sm text-gray-500"},"Track all inventory changes",-1))]),n("div",YNe,[z(n("select",{"onUpdate:modelValue":x[0]||(x[0]=b=>i.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[x[7]||(x[7]=n("option",{value:""},"All Products",-1)),(g(!0),y(oe,null,ue(o.value,b=>(g(),y("option",{key:b.id,value:b.id},d(b.name),9,GNe))),128))],544),[[xe,i.value]]),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=b=>r.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[...x[8]||(x[8]=[Ps('<option value="">All Types</option><option value="purchase">Purchase</option><option value="sale">Sale</option><option value="adjustment">Adjustment</option><option value="damage">Damage</option><option value="return">Return</option>',6)])],544),[[xe,r.value]]),z(n("input",{"onUpdate:modelValue":x[2]||(x[2]=b=>a.value=b),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},null,544),[[K,a.value]]),z(n("input",{"onUpdate:modelValue":x[3]||(x[3]=b=>l.value=b),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},null,544),[[K,l.value]])]),n("div",XNe,[n("table",JNe,[x[10]||(x[10]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Type"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Quantity"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Unit Cost"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Balance After"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Reference")])],-1)),n("tbody",QNe,[(g(!0),y(oe,null,ue(t.value,b=>{var k;return g(),y("tr",{key:b.id,class:"hover:bg-gray-50"},[n("td",ZNe,d(u(b.created_at)),1),n("td",eze,[n("div",tze,d((k=b.product)==null?void 0:k.name),1)]),n("td",sze,[n("span",{class:X([m(b.type),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.type),3)]),n("td",nze,[n("span",{class:X([b.quantity>=0?"text-green-600":"text-red-600","text-sm font-medium"])},d(b.quantity>=0?"+":"")+d(c(b.quantity))+" kg ",3)]),n("td",oze," MK "+d(c(b.unit_cost)),1),n("td",ize,d(c(b.balance_after))+" kg ",1),n("td",rze,[b.reference_type?(g(),y("span",aze,d(h(b.reference_type))+" #"+d(b.reference_id),1)):(g(),y("span",lze,"-"))])])}),128)),t.value.length===0?(g(),y("tr",dze,[...x[9]||(x[9]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No movements found",-1)])])):j("",!0)])])])]))}}},uze={key:0,class:"mt-8 flex justify-center"},mze={key:1},fze={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},pze={class:"overflow-hidden rounded-lg bg-white shadow"},hze={class:"p-5"},gze={class:"flex items-center"},_ze={class:"flex-shrink-0"},vze={class:"ml-5 w-0 flex-1"},yze={class:"text-lg font-semibold text-gray-900"},xze={class:"overflow-hidden rounded-lg bg-white shadow"},bze={class:"p-5"},wze={class:"flex items-center"},kze={class:"flex-shrink-0"},$ze={class:"ml-5 w-0 flex-1"},Cze={class:"text-lg font-semibold text-gray-900"},Sze={class:"overflow-hidden rounded-lg bg-white shadow"},Mze={class:"p-5"},Tze={class:"flex items-center"},Dze={class:"flex-shrink-0"},Aze={class:"ml-5 w-0 flex-1"},Pze={class:"text-lg font-semibold text-gray-900"},Eze={class:"overflow-hidden rounded-lg bg-white shadow"},jze={class:"p-5"},Rze={class:"flex items-center"},Ize={class:"flex-shrink-0"},Oze={class:"ml-5 w-0 flex-1"},Lze={class:"text-lg font-semibold text-gray-900"},Fze={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Nze={class:"flex flex-1 flex-wrap gap-2"},zze={class:"relative w-64 rounded-md shadow-sm"},Uze={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Bze={class:"ml-auto"},Vze={class:"overflow-hidden rounded-lg bg-white shadow"},Hze={class:"min-w-full divide-y divide-gray-200"},qze={class:"divide-y divide-gray-200 bg-white"},Wze={class:"whitespace-nowrap px-6 py-4"},Kze={class:"font-medium text-gray-900"},Yze={class:"whitespace-nowrap px-6 py-4"},Gze={class:"text-sm text-gray-900"},Xze={key:0,class:"text-sm text-gray-500"},Jze={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Qze={key:0},Zze={key:1},eUe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},tUe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},sUe={class:"whitespace-nowrap px-6 py-4"},nUe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},oUe=["onClick"],iUe=["onClick"],rUe={key:0},aUe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},lUe={class:"flex min-h-screen items-center justify-center px-4"},dUe={class:"relative w-full max-w-lg rounded-lg bg-white p-6 shadow-xl"},cUe={class:"mb-4 text-lg font-medium text-gray-900"},uUe={class:"space-y-4"},mUe={class:"grid grid-cols-2 gap-4"},fUe={class:"grid grid-cols-2 gap-4"},pUe={class:"mt-6 flex justify-end space-x-3"},hUe=["disabled"],gUe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(!1),l=E(null),c=E(!1),u=E({name:"",phone:"",email:"",address:"",city:"",district:"",status:"active"}),m=k=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(k||0);let h=null;const p=()=>{clearTimeout(h),h=setTimeout(()=>_(),300)},_=async()=>{try{const k={};i.value&&(k.search=i.value),r.value&&(k.status=r.value);const[C,$]=await Promise.all([ke.get("/api/legume/customers",{params:k}),ke.get("/api/legume/customers/statistics")]);t.value=C.data.data,o.value=$.data.data}catch{}finally{e.value=!1}},v=(k=null)=>{l.value=k,k?u.value={...k}:u.value={name:"",phone:"",email:"",address:"",city:"",district:"",status:"active"},a.value=!0},x=()=>{a.value=!1,l.value=null},w=async()=>{var k,C;c.value=!0;try{l.value?await ke.put(`/api/legume/customers/${l.value.id}`,u.value):await ke.post("/api/legume/customers",u.value),x(),_()}catch($){alert(((C=(k=$.response)==null?void 0:k.data)==null?void 0:C.message)||"Error saving customer")}finally{c.value=!1}},b=async k=>{var C,$;if(confirm(`Are you sure you want to delete "${k.name}"?`))try{await ke.delete(`/api/legume/customers/${k.id}`),_()}catch(A){alert((($=(C=A.response)==null?void 0:C.data)==null?void 0:$.message)||"Error deleting customer")}};return Ne(()=>_()),(k,C)=>{const $=Bt("router-link");return e.value?(g(),y("div",uze,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",mze,[o.value?(g(),y("div",fze,[n("div",pze,[n("div",hze,[n("div",gze,[n("div",_ze,[S(f(Yr),{class:"h-6 w-6 text-blue-400"})]),n("div",vze,[n("dl",null,[C[10]||(C[10]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Customers",-1)),n("dd",yze,d(o.value.total_customers),1)])])])])]),n("div",xze,[n("div",bze,[n("div",wze,[n("div",kze,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",$ze,[n("dl",null,[C[11]||(C[11]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Active Customers",-1)),n("dd",Cze,d(o.value.active_customers),1)])])])])]),n("div",Sze,[n("div",Mze,[n("div",Tze,[n("div",Dze,[S(f(Ys),{class:"h-6 w-6 text-purple-400"})]),n("div",Aze,[n("dl",null,[C[12]||(C[12]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Purchases",-1)),n("dd",Pze,"MK "+d(m(o.value.total_purchases)),1)])])])])]),n("div",Eze,[n("div",jze,[n("div",Rze,[n("div",Ize,[S(f(Qd),{class:"h-6 w-6 text-yellow-400"})]),n("div",Oze,[n("dl",null,[C[13]||(C[13]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"This Month Orders",-1)),n("dd",Lze,d(o.value.this_month_orders),1)])])])])])])):j("",!0),n("div",Fze,[n("div",Nze,[n("div",zze,[n("div",Uze,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":C[0]||(C[0]=A=>i.value=A),type:"search",placeholder:"Search customers...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:p},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":C[1]||(C[1]=A=>r.value=A),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:_},[...C[14]||(C[14]=[n("option",{value:""},"All Status",-1),n("option",{value:"active"},"Active",-1),n("option",{value:"inactive"},"Inactive",-1)])],544),[[xe,r.value]])]),n("div",Bze,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",onClick:C[2]||(C[2]=A=>v())},[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),C[15]||(C[15]=J(" Add Customer ",-1))])])]),n("div",Vze,[n("table",Hze,[C[18]||(C[18]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Customer"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Contact"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Location"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total Purchases"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Orders"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",qze,[(g(!0),y(oe,null,ue(t.value,A=>(g(),y("tr",{key:A.id,class:"hover:bg-gray-50"},[n("td",Wze,[n("div",Kze,d(A.name),1)]),n("td",Yze,[n("div",Gze,d(A.phone),1),A.email?(g(),y("div",Xze,d(A.email),1)):j("",!0)]),n("td",Jze,[A.city?(g(),y("div",Qze,d(A.city),1)):j("",!0),A.district?(g(),y("div",Zze,d(A.district),1)):j("",!0)]),n("td",eUe," MK "+d(m(A.total_purchases)),1),n("td",tUe,d(A.orders_count||0),1),n("td",sUe,[n("span",{class:X([A.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(A.status),3)]),n("td",nUe,[S($,{to:`/legume/customers/${A.id}`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:W(()=>[...C[16]||(C[16]=[J("View",-1)])]),_:1},8,["to"]),n("button",{onClick:R=>v(A),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,oUe),n("button",{onClick:R=>b(A),class:"text-red-600 hover:text-red-900"},"Delete",8,iUe)])]))),128)),t.value.length===0?(g(),y("tr",rUe,[...C[17]||(C[17]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No customers found",-1)])])):j("",!0)])])]),a.value?(g(),y("div",aUe,[n("div",lUe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:x}),n("div",dUe,[n("h3",cUe,d(l.value?"Edit Customer":"Add Customer"),1),n("form",{onSubmit:Ve(w,["prevent"])},[n("div",uUe,[n("div",null,[C[19]||(C[19]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":C[3]||(C[3]=A=>u.value.name=A),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.name]])]),n("div",mUe,[n("div",null,[C[20]||(C[20]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone *",-1)),z(n("input",{"onUpdate:modelValue":C[4]||(C[4]=A=>u.value.phone=A),type:"tel",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.phone]])]),n("div",null,[C[21]||(C[21]=n("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),z(n("input",{"onUpdate:modelValue":C[5]||(C[5]=A=>u.value.email=A),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.email]])])]),n("div",fUe,[n("div",null,[C[22]||(C[22]=n("label",{class:"block text-sm font-medium text-gray-700"},"City",-1)),z(n("input",{"onUpdate:modelValue":C[6]||(C[6]=A=>u.value.city=A),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.city]])]),n("div",null,[C[23]||(C[23]=n("label",{class:"block text-sm font-medium text-gray-700"},"District",-1)),z(n("input",{"onUpdate:modelValue":C[7]||(C[7]=A=>u.value.district=A),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.district]])])]),n("div",null,[C[24]||(C[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(n("textarea",{"onUpdate:modelValue":C[8]||(C[8]=A=>u.value.address=A),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.address]])]),n("div",null,[C[26]||(C[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),z(n("select",{"onUpdate:modelValue":C[9]||(C[9]=A=>u.value.status=A),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...C[25]||(C[25]=[n("option",{value:"active"},"Active",-1),n("option",{value:"inactive"},"Inactive",-1)])],512),[[xe,u.value.status]])])]),n("div",pUe,[n("button",{type:"button",onClick:x,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:c.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(c.value?"Saving...":"Save"),9,hUe)])],32)])])])):j("",!0)]))}}},_Ue={key:0,class:"mt-8 flex justify-center"},vUe={key:1},yUe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},xUe={class:"overflow-hidden rounded-lg bg-white shadow"},bUe={class:"p-5"},wUe={class:"flex items-center"},kUe={class:"flex-shrink-0"},$Ue={class:"ml-5 w-0 flex-1"},CUe={class:"text-lg font-semibold text-gray-900"},SUe={class:"overflow-hidden rounded-lg bg-white shadow"},MUe={class:"p-5"},TUe={class:"flex items-center"},DUe={class:"flex-shrink-0"},AUe={class:"ml-5 w-0 flex-1"},PUe={class:"text-lg font-semibold text-yellow-600"},EUe={class:"overflow-hidden rounded-lg bg-white shadow"},jUe={class:"p-5"},RUe={class:"flex items-center"},IUe={class:"flex-shrink-0"},OUe={class:"ml-5 w-0 flex-1"},LUe={class:"text-lg font-semibold text-green-600"},FUe={class:"overflow-hidden rounded-lg bg-white shadow"},NUe={class:"p-5"},zUe={class:"flex items-center"},UUe={class:"flex-shrink-0"},BUe={class:"ml-5 w-0 flex-1"},VUe={class:"text-lg font-semibold text-gray-900"},HUe={class:"overflow-hidden rounded-lg bg-white shadow"},qUe={class:"p-5"},WUe={class:"flex items-center"},KUe={class:"flex-shrink-0"},YUe={class:"ml-5 w-0 flex-1"},GUe={class:"text-lg font-semibold text-red-600"},XUe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},JUe={class:"flex flex-1 flex-wrap gap-2"},QUe={class:"relative w-64 rounded-md shadow-sm"},ZUe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},eBe={class:"ml-auto"},tBe={class:"overflow-hidden rounded-lg bg-white shadow"},sBe={class:"min-w-full divide-y divide-gray-200"},nBe={class:"divide-y divide-gray-200 bg-white"},oBe={class:"whitespace-nowrap px-6 py-4"},iBe={class:"font-medium text-gray-900"},rBe={class:"whitespace-nowrap px-6 py-4"},aBe={class:"text-sm text-gray-900"},lBe={class:"text-sm text-gray-500"},dBe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},cBe={class:"whitespace-nowrap px-6 py-4"},uBe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},mBe={class:"whitespace-nowrap px-6 py-4"},fBe={class:"whitespace-nowrap px-6 py-4"},pBe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},hBe={key:0},gBe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(""),l=v=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v||0),c=v=>new Date(v).toLocaleDateString("en-MW",{year:"numeric",month:"short",day:"numeric"}),u=v=>({pending:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",ready:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",m=v=>({unpaid:"bg-red-100 text-red-800",partial:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",refunded:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800";let h=null;const p=()=>{clearTimeout(h),h=setTimeout(()=>_(),300)},_=async()=>{try{const v={};i.value&&(v.search=i.value),r.value&&(v.order_status=r.value),a.value&&(v.payment_status=a.value);const[x,w]=await Promise.all([ke.get("/api/legume/orders",{params:v}),ke.get("/api/legume/orders/statistics")]);t.value=x.data.data,o.value=w.data.data}catch{}finally{e.value=!1}};return Ne(()=>_()),(v,x)=>{const w=Bt("router-link");return e.value?(g(),y("div",_Ue,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",vUe,[o.value?(g(),y("div",yUe,[n("div",xUe,[n("div",bUe,[n("div",wUe,[n("div",kUe,[S(f(Qd),{class:"h-6 w-6 text-blue-400"})]),n("div",$Ue,[n("dl",null,[x[3]||(x[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Orders",-1)),n("dd",CUe,d(o.value.total_orders),1)])])])])]),n("div",SUe,[n("div",MUe,[n("div",TUe,[n("div",DUe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",AUe,[n("dl",null,[x[4]||(x[4]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Pending",-1)),n("dd",PUe,d(o.value.pending_orders),1)])])])])]),n("div",EUe,[n("div",jUe,[n("div",RUe,[n("div",IUe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",OUe,[n("dl",null,[x[5]||(x[5]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Delivered",-1)),n("dd",LUe,d(o.value.delivered_orders),1)])])])])]),n("div",FUe,[n("div",NUe,[n("div",zUe,[n("div",UUe,[S(f(Ys),{class:"h-6 w-6 text-purple-400"})]),n("div",BUe,[n("dl",null,[x[6]||(x[6]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Revenue",-1)),n("dd",VUe,"MK "+d(l(o.value.total_revenue)),1)])])])])]),n("div",HUe,[n("div",qUe,[n("div",WUe,[n("div",KUe,[S(f(Fo),{class:"h-6 w-6 text-red-400"})]),n("div",YUe,[n("dl",null,[x[7]||(x[7]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Unpaid",-1)),n("dd",GUe,d(o.value.unpaid_orders),1)])])])])])])):j("",!0),n("div",XUe,[n("div",JUe,[n("div",QUe,[n("div",ZUe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":x[0]||(x[0]=b=>i.value=b),type:"search",placeholder:"Search orders...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:p},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=b=>r.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:_},[...x[8]||(x[8]=[Ps('<option value="">All Order Status</option><option value="pending">Pending</option><option value="confirmed">Confirmed</option><option value="processing">Processing</option><option value="ready">Ready</option><option value="shipped">Shipped</option><option value="delivered">Delivered</option><option value="cancelled">Cancelled</option>',8)])],544),[[xe,r.value]]),z(n("select",{"onUpdate:modelValue":x[2]||(x[2]=b=>a.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:_},[...x[9]||(x[9]=[n("option",{value:""},"All Payment Status",-1),n("option",{value:"unpaid"},"Unpaid",-1),n("option",{value:"partial"},"Partial",-1),n("option",{value:"paid"},"Paid",-1)])],544),[[xe,a.value]])]),n("div",eBe,[S(w,{to:"/legume/orders/create",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700"},{default:W(()=>[S(f(gs),{class:"-ml-1 mr-2 h-5 w-5"}),x[10]||(x[10]=J(" New Order ",-1))]),_:1})])]),n("div",tBe,[n("table",sBe,[x[13]||(x[13]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Order"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Customer"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Type"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Order Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Payment"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",nBe,[(g(!0),y(oe,null,ue(t.value,b=>{var k,C;return g(),y("tr",{key:b.id,class:"hover:bg-gray-50"},[n("td",oBe,[n("div",iBe,d(b.order_number),1)]),n("td",rBe,[n("div",aBe,d((k=b.customer)==null?void 0:k.name),1),n("div",lBe,d((C=b.customer)==null?void 0:C.phone),1)]),n("td",dBe,d(c(b.order_date)),1),n("td",cBe,[n("span",{class:X([b.fulfillment_type==="delivery"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.fulfillment_type),3)]),n("td",uBe," MK "+d(l(b.total_amount)),1),n("td",mBe,[n("span",{class:X([u(b.order_status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.order_status),3)]),n("td",fBe,[n("span",{class:X([m(b.payment_status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(b.payment_status),3)]),n("td",pBe,[S(w,{to:`/legume/orders/${b.id}`,class:"text-indigo-600 hover:text-indigo-900"},{default:W(()=>[...x[11]||(x[11]=[J("View",-1)])]),_:1},8,["to"])])])}),128)),t.value.length===0?(g(),y("tr",hBe,[...x[12]||(x[12]=[n("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"},"No orders found",-1)])])):j("",!0)])])])]))}}},_Be={class:"mx-auto max-w-5xl"},vBe={class:"mb-6"},yBe={class:"rounded-lg bg-white p-6 shadow"},xBe={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},bBe=["value"],wBe={key:0},kBe={key:0,class:"mt-4"},$Be={class:"rounded-lg bg-white p-6 shadow"},CBe={class:"mb-4 rounded-lg border border-dashed border-gray-300 bg-gray-50 p-4"},SBe={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},MBe=["value"],TBe=["max"],DBe={class:"flex items-end"},ABe=["disabled"],PBe={key:0,class:"min-w-full divide-y divide-gray-200"},EBe={class:"divide-y divide-gray-200 bg-white"},jBe={class:"whitespace-nowrap px-4 py-3"},RBe={class:"font-medium text-gray-900"},IBe={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-900"},OBe={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-900"},LBe={class:"whitespace-nowrap px-4 py-3 text-sm font-medium text-gray-900"},FBe={class:"whitespace-nowrap px-4 py-3 text-right"},NBe=["onClick"],zBe={key:1,class:"py-8 text-center text-gray-500"},UBe={class:"rounded-lg bg-white p-6 shadow"},BBe={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},VBe={class:"rounded-lg bg-white p-6 shadow"},HBe={class:"rounded-lg bg-gray-50 p-6 shadow"},qBe={class:"space-y-2"},WBe={class:"flex justify-between text-sm"},KBe={class:"text-gray-500"},YBe={class:"text-gray-900"},GBe={class:"flex justify-between text-sm"},XBe={class:"text-red-600"},JBe={key:0,class:"flex justify-between text-sm"},QBe={class:"text-gray-900"},ZBe={class:"border-t border-gray-200 pt-2"},eVe={class:"flex justify-between text-lg font-bold"},tVe={class:"text-green-600"},sVe={class:"flex justify-end space-x-3"},nVe=["disabled"],oVe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},iVe={class:"flex min-h-screen items-center justify-center px-4"},rVe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},aVe={class:"space-y-4"},lVe={class:"mt-6 flex justify-end space-x-3"},dVe=["disabled"],cVe={__name:"Form",setup(s){const e=gn(),t=E(!1),o=E([]),i=E([]),r=E([]),a=E(!1),l=E(!1),c=E({legume_customer_id:"",order_date:new Date().toISOString().split("T")[0],fulfillment_type:"pickup",delivery_fee:0,delivery_address:"",discount_amount:0,notes:""}),u=E({legume_product_id:"",quantity:"",unit_price:""}),m=E({name:"",phone:"",email:"",address:""}),h=L=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(L||0),p=Me(()=>{const L=r.value.map(D=>D.legume_product_id);return i.value.filter(D=>!L.includes(D.id)&&D.current_stock>0)}),_=Me(()=>u.value.legume_product_id&&u.value.quantity>0&&u.value.unit_price>0&&u.value.quantity<=b(u.value.legume_product_id)),v=Me(()=>r.value.reduce((L,D)=>L+D.quantity*D.unit_price,0)),x=Me(()=>{let L=v.value-(c.value.discount_amount||0);return c.value.fulfillment_type==="delivery"&&(L+=c.value.delivery_fee||0),Math.max(0,L)}),w=L=>{const D=i.value.find(N=>N.id===L);return D?D.name:"Unknown"},b=L=>{const D=i.value.find(N=>N.id===L);return D?D.current_stock:0},k=()=>{const L=o.value.find(D=>D.id===c.value.legume_customer_id);L&&L.address&&(c.value.delivery_address=L.address)},C=()=>{const L=i.value.find(D=>D.id===u.value.legume_product_id);L&&(u.value.unit_price=L.selling_price)},$=()=>{_.value&&(r.value.push({legume_product_id:u.value.legume_product_id,quantity:u.value.quantity,unit_price:u.value.unit_price}),u.value={legume_product_id:"",quantity:"",unit_price:""})},A=L=>{r.value.splice(L,1)},R=async()=>{try{const[L,D]=await Promise.all([ke.get("/api/legume/customers/dropdown"),ke.get("/api/legume/products/dropdown")]);o.value=L.data.data,i.value=D.data.data}catch{}},T=async()=>{var L,D;l.value=!0;try{const N=await ke.post("/api/legume/customers",m.value);o.value.push(N.data.data),c.value.legume_customer_id=N.data.data.id,a.value=!1,m.value={name:"",phone:"",email:"",address:""}}catch(N){alert(((D=(L=N.response)==null?void 0:L.data)==null?void 0:D.message)||"Error saving customer")}finally{l.value=!1}},F=async()=>{var L,D;if(r.value.length===0){alert("Please add at least one item");return}t.value=!0;try{const N={...c.value,items:r.value};await ke.post("/api/legume/orders",N),e.push("/legume/orders")}catch(N){alert(((D=(L=N.response)==null?void 0:L.data)==null?void 0:D.message)||"Error creating order")}finally{t.value=!1}};return Ne(()=>R()),(L,D)=>{const N=Bt("router-link");return g(),y("div",_Be,[n("div",vBe,[S(N,{to:"/legume/orders",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...D[17]||(D[17]=[J("  Back to Orders ",-1)])]),_:1}),D[18]||(D[18]=n("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"New Order",-1)),D[19]||(D[19]=n("p",{class:"text-sm text-gray-500"},"Create a new customer order",-1))]),n("form",{onSubmit:Ve(F,["prevent"]),class:"space-y-6"},[n("div",yBe,[D[27]||(D[27]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Customer Information",-1)),n("div",xBe,[n("div",null,[D[21]||(D[21]=n("label",{class:"block text-sm font-medium text-gray-700"},"Customer *",-1)),z(n("select",{"onUpdate:modelValue":D[0]||(D[0]=P=>c.value.legume_customer_id=P),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},[D[20]||(D[20]=n("option",{value:""},"Select a customer",-1)),(g(!0),y(oe,null,ue(o.value,P=>(g(),y("option",{key:P.id,value:P.id},d(P.name)+" - "+d(P.phone),9,bBe))),128))],544),[[xe,c.value.legume_customer_id]]),n("button",{type:"button",onClick:D[1]||(D[1]=P=>a.value=!0),class:"mt-1 text-sm text-indigo-600 hover:text-indigo-500"}," + Add new customer ")]),n("div",null,[D[22]||(D[22]=n("label",{class:"block text-sm font-medium text-gray-700"},"Order Date *",-1)),z(n("input",{"onUpdate:modelValue":D[2]||(D[2]=P=>c.value.order_date=P),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,c.value.order_date]])]),n("div",null,[D[24]||(D[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Fulfillment Type *",-1)),z(n("select",{"onUpdate:modelValue":D[3]||(D[3]=P=>c.value.fulfillment_type=P),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...D[23]||(D[23]=[n("option",{value:"pickup"},"Pickup",-1),n("option",{value:"delivery"},"Delivery",-1)])],512),[[xe,c.value.fulfillment_type]])]),c.value.fulfillment_type==="delivery"?(g(),y("div",wBe,[D[25]||(D[25]=n("label",{class:"block text-sm font-medium text-gray-700"},"Delivery Fee (MK)",-1)),z(n("input",{"onUpdate:modelValue":D[4]||(D[4]=P=>c.value.delivery_fee=P),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,c.value.delivery_fee,void 0,{number:!0}]])])):j("",!0)]),c.value.fulfillment_type==="delivery"?(g(),y("div",kBe,[D[26]||(D[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Delivery Address",-1)),z(n("textarea",{"onUpdate:modelValue":D[5]||(D[5]=P=>c.value.delivery_address=P),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter delivery address..."},null,512),[[K,c.value.delivery_address]])])):j("",!0)]),n("div",$Be,[D[33]||(D[33]=n("div",{class:"mb-4 flex items-center justify-between"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Order Items")],-1)),n("div",CBe,[n("div",SBe,[n("div",null,[D[29]||(D[29]=n("label",{class:"block text-sm font-medium text-gray-700"},"Product",-1)),z(n("select",{"onUpdate:modelValue":D[6]||(D[6]=P=>u.value.legume_product_id=P),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:C},[D[28]||(D[28]=n("option",{value:""},"Select product",-1)),(g(!0),y(oe,null,ue(p.value,P=>(g(),y("option",{key:P.id,value:P.id},d(P.name)+" ("+d(h(P.current_stock))+" kg) ",9,MBe))),128))],544),[[xe,u.value.legume_product_id]])]),n("div",null,[D[30]||(D[30]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quantity (kg)",-1)),z(n("input",{"onUpdate:modelValue":D[7]||(D[7]=P=>u.value.quantity=P),type:"number",step:"0.001",min:"0.001",max:b(u.value.legume_product_id),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.000"},null,8,TBe),[[K,u.value.quantity,void 0,{number:!0}]])]),n("div",null,[D[31]||(D[31]=n("label",{class:"block text-sm font-medium text-gray-700"},"Unit Price (MK)",-1)),z(n("input",{"onUpdate:modelValue":D[8]||(D[8]=P=>u.value.unit_price=P),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,u.value.unit_price,void 0,{number:!0}]])]),n("div",DBe,[n("button",{type:"button",onClick:$,disabled:!_.value,class:"w-full rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"}," Add Item ",8,ABe)])])]),r.value.length>0?(g(),y("table",PBe,[D[32]||(D[32]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Product"),n("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Quantity"),n("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Unit Price"),n("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Total"),n("th",{class:"px-4 py-3"})])],-1)),n("tbody",EBe,[(g(!0),y(oe,null,ue(r.value,(P,U)=>(g(),y("tr",{key:U},[n("td",jBe,[n("div",RBe,d(w(P.legume_product_id)),1)]),n("td",IBe,d(h(P.quantity))+" kg ",1),n("td",OBe," MK "+d(h(P.unit_price)),1),n("td",LBe," MK "+d(h(P.quantity*P.unit_price)),1),n("td",FBe,[n("button",{type:"button",onClick:ye=>A(U),class:"text-red-600 hover:text-red-900"}," Remove ",8,NBe)])]))),128))])])):(g(),y("div",zBe," No items added yet. Add products above. "))]),n("div",UBe,[D[35]||(D[35]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Discount",-1)),n("div",BBe,[n("div",null,[D[34]||(D[34]=n("label",{class:"block text-sm font-medium text-gray-700"},"Discount Amount (MK)",-1)),z(n("input",{"onUpdate:modelValue":D[9]||(D[9]=P=>c.value.discount_amount=P),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.00"},null,512),[[K,c.value.discount_amount,void 0,{number:!0}]])])])]),n("div",VBe,[D[36]||(D[36]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":D[10]||(D[10]=P=>c.value.notes=P),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Any additional notes..."},null,512),[[K,c.value.notes]])]),n("div",HBe,[D[40]||(D[40]=n("h2",{class:"mb-4 text-lg font-medium text-gray-900"},"Order Summary",-1)),n("div",qBe,[n("div",WBe,[n("span",KBe,"Subtotal ("+d(r.value.length)+" items)",1),n("span",YBe,"MK "+d(h(v.value)),1)]),n("div",GBe,[D[37]||(D[37]=n("span",{class:"text-gray-500"},"Discount",-1)),n("span",XBe,"- MK "+d(h(c.value.discount_amount||0)),1)]),c.value.fulfillment_type==="delivery"?(g(),y("div",JBe,[D[38]||(D[38]=n("span",{class:"text-gray-500"},"Delivery Fee",-1)),n("span",QBe,"MK "+d(h(c.value.delivery_fee||0)),1)])):j("",!0),n("div",ZBe,[n("div",eVe,[D[39]||(D[39]=n("span",{class:"text-gray-900"},"Total",-1)),n("span",tVe,"MK "+d(h(x.value)),1)])])])]),n("div",sVe,[S(N,{to:"/legume/orders",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},{default:W(()=>[...D[41]||(D[41]=[J(" Cancel ",-1)])]),_:1}),n("button",{type:"submit",disabled:t.value||r.value.length===0,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(t.value?"Creating...":"Create Order"),9,nVe)])],32),a.value?(g(),y("div",oVe,[n("div",iVe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:D[11]||(D[11]=P=>a.value=!1)}),n("div",rVe,[D[46]||(D[46]=n("h3",{class:"mb-4 text-lg font-medium text-gray-900"},"Add New Customer",-1)),n("div",aVe,[n("div",null,[D[42]||(D[42]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":D[12]||(D[12]=P=>m.value.name=P),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.name]])]),n("div",null,[D[43]||(D[43]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone *",-1)),z(n("input",{"onUpdate:modelValue":D[13]||(D[13]=P=>m.value.phone=P),type:"tel",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.phone]])]),n("div",null,[D[44]||(D[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),z(n("input",{"onUpdate:modelValue":D[14]||(D[14]=P=>m.value.email=P),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.email]])]),n("div",null,[D[45]||(D[45]=n("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(n("textarea",{"onUpdate:modelValue":D[15]||(D[15]=P=>m.value.address=P),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.address]])])]),n("div",lVe,[n("button",{type:"button",onClick:D[16]||(D[16]=P=>a.value=!1),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"button",onClick:T,disabled:l.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(l.value?"Saving...":"Save Customer"),9,dVe)])])])])):j("",!0)])}}},uVe={key:0,class:"mt-8 flex justify-center"},mVe={key:1},fVe={class:"mb-6"},pVe={class:"mt-2 flex items-center justify-between"},hVe={class:"text-2xl font-bold text-gray-900"},gVe={class:"text-sm text-gray-500"},_Ve={class:"flex items-center space-x-3"},vVe={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},yVe={class:"lg:col-span-2 space-y-6"},xVe={class:"overflow-hidden rounded-lg bg-white shadow"},bVe={class:"min-w-full divide-y divide-gray-200"},wVe={class:"divide-y divide-gray-200"},kVe={class:"whitespace-nowrap px-6 py-4"},$Ve={class:"font-medium text-gray-900"},CVe={class:"text-sm text-gray-500"},SVe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},MVe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},TVe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},DVe={class:"bg-gray-50"},AVe={class:"px-6 py-3 text-sm font-medium text-gray-900"},PVe={key:0},EVe={class:"px-6 py-3 text-sm font-medium text-red-600"},jVe={key:1},RVe={class:"px-6 py-3 text-sm font-medium text-gray-900"},IVe={class:"border-t-2 border-gray-200"},OVe={class:"px-6 py-3 text-lg font-bold text-gray-900"},LVe={class:"overflow-hidden rounded-lg bg-white shadow"},FVe={class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},NVe={class:"flex items-center justify-between"},zVe={class:"divide-y divide-gray-200"},UVe={class:"font-medium text-gray-900"},BVe={class:"text-sm text-gray-500"},VVe={key:0,class:"text-xs text-gray-400"},HVe={class:"text-right"},qVe={class:"font-semibold text-green-600"},WVe={key:0,class:"px-6 py-8 text-center text-gray-500"},KVe={key:0,class:"border-t bg-gray-50 px-6 py-3"},YVe={class:"flex justify-between text-sm"},GVe={class:"font-medium text-green-600"},XVe={class:"flex justify-between text-sm"},JVe={class:"font-medium text-red-600"},QVe={key:0,class:"overflow-hidden rounded-lg bg-white shadow"},ZVe={class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},eHe={class:"flex items-center justify-between"},tHe={key:0,class:"p-6"},sHe={class:"grid grid-cols-2 gap-4"},nHe={class:"font-medium text-gray-900"},oHe={key:0,class:"text-sm text-gray-500"},iHe={class:"col-span-2"},rHe={class:"font-medium text-gray-900"},aHe={key:0},lHe={class:"font-medium text-gray-900"},dHe={key:1},cHe={class:"font-medium text-green-600"},uHe={key:0,class:"mt-4 pt-4 border-t"},mHe={key:1,class:"px-6 py-8 text-center text-gray-500"},fHe={class:"space-y-6"},pHe={class:"overflow-hidden rounded-lg bg-white shadow"},hHe={class:"p-6"},gHe={class:"font-medium text-gray-900"},_He={class:"mt-1 text-sm text-gray-500"},vHe={key:0,class:"text-sm text-gray-500"},yHe={key:1,class:"mt-2 text-sm text-gray-500"},xHe={class:"overflow-hidden rounded-lg bg-white shadow"},bHe={class:"p-6"},wHe=["disabled"],kHe={key:0,class:"overflow-hidden rounded-lg bg-white shadow"},$He={class:"p-6"},CHe={class:"text-sm text-gray-700"},SHe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},MHe={class:"flex min-h-screen items-center justify-center px-4"},THe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},DHe={class:"space-y-4"},AHe=["max"],PHe={class:"mt-1 text-xs text-gray-500"},EHe={key:0},jHe={key:1},RHe={class:"mt-6 flex justify-end space-x-3"},IHe=["disabled"],OHe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},LHe={class:"flex min-h-screen items-center justify-center px-4"},FHe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},NHe={class:"mb-4 text-lg font-medium text-gray-900"},zHe={class:"space-y-4"},UHe={class:"mt-6 flex justify-end space-x-3"},BHe=["disabled"],VHe={__name:"Detail",setup(s){const e=Vr(),t=E(!0),o=E(null),i=E(""),r=E(!1),a=E(!1),l=E(!1),c=E(!1),u=E(!1),m=E({amount:"",payment_method:"cash",transaction_id:"",phone_number:"",payment_date:new Date().toISOString().split("T")[0]}),h=E({status:"pending",driver_name:"",driver_phone:"",delivery_address:"",delivery_cost:0,estimated_delivery:""}),p=T=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(T||0),_=T=>new Date(T).toLocaleDateString("en-MW",{year:"numeric",month:"short",day:"numeric"}),v=T=>new Date(T).toLocaleString("en-MW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=T=>({pending:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",ready:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[T]||"bg-gray-100 text-gray-800",w=T=>({unpaid:"bg-red-100 text-red-800",partial:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",refunded:"bg-gray-100 text-gray-800"})[T]||"bg-gray-100 text-gray-800",b=T=>({pending:"bg-gray-100 text-gray-800",assigned:"bg-blue-100 text-blue-800",picked_up:"bg-yellow-100 text-yellow-800",in_transit:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[T]||"bg-gray-100 text-gray-800",k=T=>({cash:"Cash",bank_transfer:"Bank Transfer",airtel_money:"Airtel Money",tnm_mpamba:"TNM Mpamba",other:"Other"})[T]||T,C=async()=>{try{const T=await ke.get(`/api/legume/orders/${e.params.id}`);o.value=T.data.data,i.value=o.value.order_status,o.value.delivery?h.value={...o.value.delivery}:h.value.delivery_address=o.value.delivery_address||""}catch{}finally{t.value=!1}},$=async()=>{var T,F;r.value=!0;try{await ke.put(`/api/legume/orders/${o.value.id}/status`,{order_status:i.value}),C()}catch(L){alert(((F=(T=L.response)==null?void 0:T.data)==null?void 0:F.message)||"Error updating status")}finally{r.value=!1}},A=async()=>{var T,F;l.value=!0;try{await ke.post("/api/legume/payments",{...m.value,legume_order_id:o.value.id}),a.value=!1,m.value={amount:"",payment_method:"cash",transaction_id:"",phone_number:"",payment_date:new Date().toISOString().split("T")[0]},C()}catch(L){alert(((F=(T=L.response)==null?void 0:T.data)==null?void 0:F.message)||"Error saving payment")}finally{l.value=!1}},R=async()=>{var T,F;u.value=!0;try{o.value.delivery?await ke.put(`/api/legume/deliveries/${o.value.delivery.id}`,h.value):await ke.post("/api/legume/deliveries",{...h.value,legume_order_id:o.value.id}),c.value=!1,C()}catch(L){alert(((F=(T=L.response)==null?void 0:T.data)==null?void 0:F.message)||"Error saving delivery")}finally{u.value=!1}};return Ne(()=>C()),(T,F)=>{var D,N,P,U,ye,le,de;const L=Bt("router-link");return t.value?(g(),y("div",uVe,[S(it,{size:"40",color:"#5850ec"})])):o.value?(g(),y("div",mVe,[n("div",fVe,[S(L,{to:"/legume/orders",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:W(()=>[...F[19]||(F[19]=[J("  Back to Orders ",-1)])]),_:1}),n("div",pVe,[n("div",null,[n("h1",hVe,d(o.value.order_number),1),n("p",gVe,"Order placed on "+d(_(o.value.order_date)),1)]),n("div",_Ve,[n("span",{class:X([x(o.value.order_status),"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium capitalize"])},d(o.value.order_status),3),n("span",{class:X([w(o.value.payment_status),"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium capitalize"])},d(o.value.payment_status),3)])])]),n("div",vVe,[n("div",yVe,[n("div",xVe,[F[25]||(F[25]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Order Items")],-1)),n("table",bVe,[F[24]||(F[24]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Quantity"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Unit Price"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Total")])],-1)),n("tbody",wVe,[(g(!0),y(oe,null,ue(o.value.items,q=>{var ne,G;return g(),y("tr",{key:q.id},[n("td",kVe,[n("div",$Ve,d((ne=q.product)==null?void 0:ne.name),1),n("div",CVe,d((G=q.product)==null?void 0:G.sku),1)]),n("td",SVe,d(p(q.quantity))+" kg ",1),n("td",MVe," MK "+d(p(q.unit_price)),1),n("td",TVe," MK "+d(p(q.total)),1)])}),128))]),n("tfoot",DVe,[n("tr",null,[F[20]||(F[20]=n("td",{colspan:"3",class:"px-6 py-3 text-right text-sm font-medium text-gray-500"},"Subtotal",-1)),n("td",AVe,"MK "+d(p(o.value.subtotal)),1)]),o.value.discount_amount>0?(g(),y("tr",PVe,[F[21]||(F[21]=n("td",{colspan:"3",class:"px-6 py-3 text-right text-sm font-medium text-gray-500"},"Discount",-1)),n("td",EVe,"- MK "+d(p(o.value.discount_amount)),1)])):j("",!0),o.value.delivery_fee>0?(g(),y("tr",jVe,[F[22]||(F[22]=n("td",{colspan:"3",class:"px-6 py-3 text-right text-sm font-medium text-gray-500"},"Delivery Fee",-1)),n("td",RVe,"MK "+d(p(o.value.delivery_fee)),1)])):j("",!0),n("tr",IVe,[F[23]||(F[23]=n("td",{colspan:"3",class:"px-6 py-3 text-right text-lg font-bold text-gray-900"},"Total",-1)),n("td",OVe,"MK "+d(p(o.value.total_amount)),1)])])])]),n("div",LVe,[n("div",FVe,[n("div",NVe,[F[26]||(F[26]=n("h2",{class:"text-lg font-medium text-gray-900"},"Payment History",-1)),o.value.payment_status!=="paid"?(g(),y("button",{key:0,onClick:F[0]||(F[0]=q=>a.value=!0),class:"rounded-md bg-green-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-700"}," Record Payment ")):j("",!0)])]),n("div",zVe,[(g(!0),y(oe,null,ue(o.value.payments,q=>(g(),y("div",{key:q.id,class:"flex items-center justify-between px-6 py-4"},[n("div",null,[n("div",UVe,d(q.payment_reference),1),n("div",BVe,d(k(q.payment_method))+" - "+d(_(q.payment_date)),1),q.transaction_id?(g(),y("div",VVe," Trans ID: "+d(q.transaction_id),1)):j("",!0)]),n("div",HVe,[n("div",qVe,"MK "+d(p(q.amount)),1),n("span",{class:X([q.status==="completed"?"text-green-600":"text-yellow-600","text-xs capitalize"])},d(q.status),3)])]))),128)),(D=o.value.payments)!=null&&D.length?j("",!0):(g(),y("div",WVe," No payments recorded yet "))]),o.value.amount_paid>0?(g(),y("div",KVe,[n("div",YVe,[F[27]||(F[27]=n("span",{class:"text-gray-500"},"Amount Paid",-1)),n("span",GVe,"MK "+d(p(o.value.amount_paid)),1)]),n("div",XVe,[F[28]||(F[28]=n("span",{class:"text-gray-500"},"Balance Due",-1)),n("span",JVe,"MK "+d(p(o.value.total_amount-o.value.amount_paid)),1)])])):j("",!0)]),o.value.fulfillment_type==="delivery"?(g(),y("div",QVe,[n("div",ZVe,[n("div",eHe,[F[29]||(F[29]=n("h2",{class:"text-lg font-medium text-gray-900"},"Delivery Information",-1)),o.value.delivery?j("",!0):(g(),y("button",{key:0,onClick:F[1]||(F[1]=q=>c.value=!0),class:"rounded-md bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700"}," Add Delivery "))])]),o.value.delivery?(g(),y("div",tHe,[n("div",sHe,[n("div",null,[F[30]||(F[30]=n("p",{class:"text-sm text-gray-500"},"Status",-1)),n("span",{class:X([b(o.value.delivery.status),"mt-1 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(o.value.delivery.status),3)]),n("div",null,[F[31]||(F[31]=n("p",{class:"text-sm text-gray-500"},"Driver",-1)),n("p",nHe,d(o.value.delivery.driver_name||"-"),1),o.value.delivery.driver_phone?(g(),y("p",oHe,d(o.value.delivery.driver_phone),1)):j("",!0)]),n("div",iHe,[F[32]||(F[32]=n("p",{class:"text-sm text-gray-500"},"Delivery Address",-1)),n("p",rHe,d(o.value.delivery.delivery_address||o.value.delivery_address),1)]),o.value.delivery.estimated_delivery?(g(),y("div",aHe,[F[33]||(F[33]=n("p",{class:"text-sm text-gray-500"},"Estimated Delivery",-1)),n("p",lHe,d(v(o.value.delivery.estimated_delivery)),1)])):j("",!0),o.value.delivery.actual_delivery?(g(),y("div",dHe,[F[34]||(F[34]=n("p",{class:"text-sm text-gray-500"},"Delivered At",-1)),n("p",cHe,d(v(o.value.delivery.actual_delivery)),1)])):j("",!0)]),o.value.delivery.status!=="delivered"?(g(),y("div",uHe,[n("button",{onClick:F[2]||(F[2]=q=>c.value=!0),class:"text-sm text-indigo-600 hover:text-indigo-500"}," Update Delivery Status ")])):j("",!0)])):(g(),y("div",mHe," No delivery information yet "))])):j("",!0)]),n("div",fHe,[n("div",pHe,[F[35]||(F[35]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Customer")],-1)),n("div",hHe,[n("div",gHe,d((N=o.value.customer)==null?void 0:N.name),1),n("div",_He,d((P=o.value.customer)==null?void 0:P.phone),1),(U=o.value.customer)!=null&&U.email?(g(),y("div",vHe,d((ye=o.value.customer)==null?void 0:ye.email),1)):j("",!0),(le=o.value.customer)!=null&&le.address?(g(),y("div",yHe,d((de=o.value.customer)==null?void 0:de.address),1)):j("",!0)])]),n("div",xHe,[F[37]||(F[37]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Update Status")],-1)),n("div",bHe,[z(n("select",{"onUpdate:modelValue":F[3]||(F[3]=q=>i.value=q),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...F[36]||(F[36]=[Ps('<option value="pending">Pending</option><option value="confirmed">Confirmed</option><option value="processing">Processing</option><option value="ready">Ready</option><option value="shipped">Shipped</option><option value="delivered">Delivered</option><option value="cancelled">Cancelled</option>',7)])],512),[[xe,i.value]]),n("button",{onClick:$,disabled:r.value||i.value===o.value.order_status,class:"mt-3 w-full rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(r.value?"Updating...":"Update Status"),9,wHe)])]),o.value.notes?(g(),y("div",kHe,[F[38]||(F[38]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Notes")],-1)),n("div",$He,[n("p",CHe,d(o.value.notes),1)])])):j("",!0)])]),a.value?(g(),y("div",SHe,[n("div",MHe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:F[4]||(F[4]=q=>a.value=!1)}),n("div",THe,[F[45]||(F[45]=n("h3",{class:"mb-4 text-lg font-medium text-gray-900"},"Record Payment",-1)),n("form",{onSubmit:Ve(A,["prevent"])},[n("div",DHe,[n("div",null,[F[39]||(F[39]=n("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":F[5]||(F[5]=q=>m.value.amount=q),type:"number",step:"0.01",max:o.value.total_amount-o.value.amount_paid,required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,AHe),[[K,m.value.amount,void 0,{number:!0}]]),n("p",PHe,"Balance due: MK "+d(p(o.value.total_amount-o.value.amount_paid)),1)]),n("div",null,[F[41]||(F[41]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method *",-1)),z(n("select",{"onUpdate:modelValue":F[6]||(F[6]=q=>m.value.payment_method=q),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...F[40]||(F[40]=[Ps('<option value="cash">Cash</option><option value="bank_transfer">Bank Transfer</option><option value="airtel_money">Airtel Money</option><option value="tnm_mpamba">TNM Mpamba</option><option value="other">Other</option>',5)])],512),[[xe,m.value.payment_method]])]),["airtel_money","tnm_mpamba"].includes(m.value.payment_method)?(g(),y("div",EHe,[F[42]||(F[42]=n("label",{class:"block text-sm font-medium text-gray-700"},"Transaction ID",-1)),z(n("input",{"onUpdate:modelValue":F[7]||(F[7]=q=>m.value.transaction_id=q),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.transaction_id]])])):j("",!0),["airtel_money","tnm_mpamba"].includes(m.value.payment_method)?(g(),y("div",jHe,[F[43]||(F[43]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),z(n("input",{"onUpdate:modelValue":F[8]||(F[8]=q=>m.value.phone_number=q),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.phone_number]])])):j("",!0),n("div",null,[F[44]||(F[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date *",-1)),z(n("input",{"onUpdate:modelValue":F[9]||(F[9]=q=>m.value.payment_date=q),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,m.value.payment_date]])])]),n("div",RHe,[n("button",{type:"button",onClick:F[10]||(F[10]=q=>a.value=!1),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:l.value,class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700 disabled:opacity-50"},d(l.value?"Saving...":"Save Payment"),9,IHe)])],32)])])])):j("",!0),c.value?(g(),y("div",OHe,[n("div",LHe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:F[11]||(F[11]=q=>c.value=!1)}),n("div",FHe,[n("h3",NHe,d(o.value.delivery?"Update Delivery":"Add Delivery"),1),n("form",{onSubmit:Ve(R,["prevent"])},[n("div",zHe,[n("div",null,[F[47]||(F[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),z(n("select",{"onUpdate:modelValue":F[12]||(F[12]=q=>h.value.status=q),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...F[46]||(F[46]=[Ps('<option value="pending">Pending</option><option value="assigned">Assigned</option><option value="picked_up">Picked Up</option><option value="in_transit">In Transit</option><option value="delivered">Delivered</option><option value="failed">Failed</option>',6)])],512),[[xe,h.value.status]])]),n("div",null,[F[48]||(F[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Driver Name",-1)),z(n("input",{"onUpdate:modelValue":F[13]||(F[13]=q=>h.value.driver_name=q),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,h.value.driver_name]])]),n("div",null,[F[49]||(F[49]=n("label",{class:"block text-sm font-medium text-gray-700"},"Driver Phone",-1)),z(n("input",{"onUpdate:modelValue":F[14]||(F[14]=q=>h.value.driver_phone=q),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,h.value.driver_phone]])]),n("div",null,[F[50]||(F[50]=n("label",{class:"block text-sm font-medium text-gray-700"},"Delivery Address",-1)),z(n("textarea",{"onUpdate:modelValue":F[15]||(F[15]=q=>h.value.delivery_address=q),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,h.value.delivery_address]])]),n("div",null,[F[51]||(F[51]=n("label",{class:"block text-sm font-medium text-gray-700"},"Delivery Cost (MK)",-1)),z(n("input",{"onUpdate:modelValue":F[16]||(F[16]=q=>h.value.delivery_cost=q),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,h.value.delivery_cost,void 0,{number:!0}]])]),n("div",null,[F[52]||(F[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Estimated Delivery",-1)),z(n("input",{"onUpdate:modelValue":F[17]||(F[17]=q=>h.value.estimated_delivery=q),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,h.value.estimated_delivery]])])]),n("div",UHe,[n("button",{type:"button",onClick:F[18]||(F[18]=q=>c.value=!1),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:u.value,class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 disabled:opacity-50"},d(u.value?"Saving...":"Save"),9,BHe)])],32)])])])):j("",!0)])):j("",!0)}}},HHe={key:0,class:"mt-8 flex justify-center"},qHe={key:1},WHe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},KHe={class:"overflow-hidden rounded-lg bg-white shadow"},YHe={class:"p-5"},GHe={class:"flex items-center"},XHe={class:"flex-shrink-0"},JHe={class:"ml-5 w-0 flex-1"},QHe={class:"text-lg font-semibold text-green-600"},ZHe={class:"overflow-hidden rounded-lg bg-white shadow"},eqe={class:"p-5"},tqe={class:"flex items-center"},sqe={class:"flex-shrink-0"},nqe={class:"ml-5 w-0 flex-1"},oqe={class:"text-lg font-semibold text-yellow-600"},iqe={class:"overflow-hidden rounded-lg bg-white shadow"},rqe={class:"p-5"},aqe={class:"flex items-center"},lqe={class:"flex-shrink-0"},dqe={class:"ml-5 w-0 flex-1"},cqe={class:"text-lg font-semibold text-gray-900"},uqe={class:"overflow-hidden rounded-lg bg-white shadow"},mqe={class:"p-5"},fqe={class:"flex items-center"},pqe={class:"flex-shrink-0"},hqe={class:"ml-5 w-0 flex-1"},gqe={class:"text-lg font-semibold text-gray-900"},_qe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},vqe={class:"flex flex-1 flex-wrap gap-2"},yqe={class:"relative w-64 rounded-md shadow-sm"},xqe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},bqe={class:"overflow-hidden rounded-lg bg-white shadow"},wqe={class:"min-w-full divide-y divide-gray-200"},kqe={class:"divide-y divide-gray-200 bg-white"},$qe={class:"whitespace-nowrap px-6 py-4"},Cqe={class:"font-medium text-gray-900"},Sqe={key:0,class:"text-xs text-gray-500"},Mqe={class:"whitespace-nowrap px-6 py-4"},Tqe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Dqe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Aqe={class:"whitespace-nowrap px-6 py-4"},Pqe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-green-600"},Eqe={class:"whitespace-nowrap px-6 py-4"},jqe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Rqe=["onClick"],Iqe=["onClick"],Oqe={key:0},Lqe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(""),l=E(""),c=E(""),u=C=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C||0),m=C=>new Date(C).toLocaleDateString("en-MW",{year:"numeric",month:"short",day:"numeric"}),h=C=>({cash:"Cash",bank_transfer:"Bank Transfer",airtel_money:"Airtel Money",tnm_mpamba:"TNM Mpamba",other:"Other"})[C]||C,p=C=>({cash:"bg-green-100 text-green-800",bank_transfer:"bg-blue-100 text-blue-800",airtel_money:"bg-red-100 text-red-800",tnm_mpamba:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800"})[C]||"bg-gray-100 text-gray-800",_=C=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",reversed:"bg-gray-100 text-gray-800"})[C]||"bg-gray-100 text-gray-800";let v=null;const x=()=>{clearTimeout(v),v=setTimeout(()=>w(),300)},w=async()=>{try{const C={};i.value&&(C.search=i.value),r.value&&(C.payment_method=r.value),a.value&&(C.status=a.value),l.value&&(C.date_from=l.value),c.value&&(C.date_to=c.value);const[$,A]=await Promise.all([ke.get("/api/legume/payments",{params:C}),ke.get("/api/legume/payments/statistics")]);t.value=$.data.data,o.value=A.data.data}catch{}finally{e.value=!1}},b=async C=>{var $,A;if(confirm("Mark this payment as completed?"))try{await ke.post(`/api/legume/payments/${C.id}/complete`),w()}catch(R){alert(((A=($=R.response)==null?void 0:$.data)==null?void 0:A.message)||"Error completing payment")}},k=async C=>{var $,A;if(confirm("Reverse this payment? This will update the order payment status."))try{await ke.post(`/api/legume/payments/${C.id}/reverse`),w()}catch(R){alert(((A=($=R.response)==null?void 0:$.data)==null?void 0:A.message)||"Error reversing payment")}};return Ne(()=>w()),(C,$)=>{const A=Bt("router-link");return e.value?(g(),y("div",HHe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",qHe,[o.value?(g(),y("div",WHe,[n("div",KHe,[n("div",YHe,[n("div",GHe,[n("div",XHe,[S(f(Ys),{class:"h-6 w-6 text-green-400"})]),n("div",JHe,[n("dl",null,[$[5]||($[5]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Collected",-1)),n("dd",QHe,"MK "+d(u(o.value.total_collected)),1)])])])])]),n("div",ZHe,[n("div",eqe,[n("div",tqe,[n("div",sqe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",nqe,[n("dl",null,[$[6]||($[6]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Pending",-1)),n("dd",oqe,"MK "+d(u(o.value.pending_amount)),1)])])])])]),n("div",iqe,[n("div",rqe,[n("div",aqe,[n("div",lqe,[S(f(p$),{class:"h-6 w-6 text-blue-400"})]),n("div",dqe,[n("dl",null,[$[7]||($[7]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Mobile Money",-1)),n("dd",cqe,"MK "+d(u(o.value.mobile_money_total)),1)])])])])]),n("div",uqe,[n("div",mqe,[n("div",fqe,[n("div",pqe,[S(f(bi),{class:"h-6 w-6 text-purple-400"})]),n("div",hqe,[n("dl",null,[$[8]||($[8]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Cash Payments",-1)),n("dd",gqe,"MK "+d(u(o.value.cash_total)),1)])])])])])])):j("",!0),n("div",_qe,[n("div",vqe,[n("div",yqe,[n("div",xqe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":$[0]||($[0]=R=>i.value=R),type:"search",placeholder:"Search payments...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:x},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":$[1]||($[1]=R=>r.value=R),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},[...$[9]||($[9]=[Ps('<option value="">All Methods</option><option value="cash">Cash</option><option value="bank_transfer">Bank Transfer</option><option value="airtel_money">Airtel Money</option><option value="tnm_mpamba">TNM Mpamba</option><option value="other">Other</option>',6)])],544),[[xe,r.value]]),z(n("select",{"onUpdate:modelValue":$[2]||($[2]=R=>a.value=R),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},[...$[10]||($[10]=[Ps('<option value="">All Status</option><option value="pending">Pending</option><option value="completed">Completed</option><option value="failed">Failed</option><option value="reversed">Reversed</option>',5)])],544),[[xe,a.value]]),z(n("input",{"onUpdate:modelValue":$[3]||($[3]=R=>l.value=R),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},null,544),[[K,l.value]]),z(n("input",{"onUpdate:modelValue":$[4]||($[4]=R=>c.value=R),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},null,544),[[K,c.value]])])]),n("div",bqe,[n("table",wqe,[$[12]||($[12]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Reference"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Order"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Customer"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Method"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Amount"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",kqe,[(g(!0),y(oe,null,ue(t.value,R=>{var T,F;return g(),y("tr",{key:R.id,class:"hover:bg-gray-50"},[n("td",$qe,[n("div",Cqe,d(R.payment_reference),1),R.transaction_id?(g(),y("div",Sqe,"Trans: "+d(R.transaction_id),1)):j("",!0)]),n("td",Mqe,[S(A,{to:`/legume/orders/${R.legume_order_id}`,class:"text-indigo-600 hover:text-indigo-900"},{default:W(()=>{var L;return[J(d((L=R.order)==null?void 0:L.order_number),1)]}),_:2},1032,["to"])]),n("td",Tqe,d((F=(T=R.order)==null?void 0:T.customer)==null?void 0:F.name),1),n("td",Dqe,d(m(R.payment_date)),1),n("td",Aqe,[n("span",{class:X([p(R.payment_method),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},d(h(R.payment_method)),3)]),n("td",Pqe," MK "+d(u(R.amount)),1),n("td",Eqe,[n("span",{class:X([_(R.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(R.status),3)]),n("td",jqe,[R.status==="pending"?(g(),y("button",{key:0,onClick:L=>b(R),class:"text-green-600 hover:text-green-900 mr-2"},"Complete",8,Rqe)):j("",!0),R.status==="completed"?(g(),y("button",{key:1,onClick:L=>k(R),class:"text-red-600 hover:text-red-900"},"Reverse",8,Iqe)):j("",!0)])])}),128)),t.value.length===0?(g(),y("tr",Oqe,[...$[11]||($[11]=[n("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"},"No payments found",-1)])])):j("",!0)])])])]))}}},Fqe={key:0,class:"mt-8 flex justify-center"},Nqe={key:1},zqe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},Uqe={class:"overflow-hidden rounded-lg bg-white shadow"},Bqe={class:"p-5"},Vqe={class:"flex items-center"},Hqe={class:"flex-shrink-0"},qqe={class:"ml-5 w-0 flex-1"},Wqe={class:"text-lg font-semibold text-gray-900"},Kqe={class:"overflow-hidden rounded-lg bg-white shadow"},Yqe={class:"p-5"},Gqe={class:"flex items-center"},Xqe={class:"flex-shrink-0"},Jqe={class:"ml-5 w-0 flex-1"},Qqe={class:"text-lg font-semibold text-yellow-600"},Zqe={class:"overflow-hidden rounded-lg bg-white shadow"},eWe={class:"p-5"},tWe={class:"flex items-center"},sWe={class:"flex-shrink-0"},nWe={class:"ml-5 w-0 flex-1"},oWe={class:"text-lg font-semibold text-purple-600"},iWe={class:"overflow-hidden rounded-lg bg-white shadow"},rWe={class:"p-5"},aWe={class:"flex items-center"},lWe={class:"flex-shrink-0"},dWe={class:"ml-5 w-0 flex-1"},cWe={class:"text-lg font-semibold text-green-600"},uWe={class:"overflow-hidden rounded-lg bg-white shadow"},mWe={class:"p-5"},fWe={class:"flex items-center"},pWe={class:"flex-shrink-0"},hWe={class:"ml-5 w-0 flex-1"},gWe={class:"text-lg font-semibold text-red-600"},_We={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},vWe={class:"relative w-64 rounded-md shadow-sm"},yWe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},xWe={class:"overflow-hidden rounded-lg bg-white shadow"},bWe={class:"min-w-full divide-y divide-gray-200"},wWe={class:"divide-y divide-gray-200 bg-white"},kWe={class:"whitespace-nowrap px-6 py-4"},$We={class:"whitespace-nowrap px-6 py-4"},CWe={class:"text-sm text-gray-900"},SWe={class:"text-sm text-gray-500"},MWe={class:"px-6 py-4"},TWe={class:"max-w-xs truncate text-sm text-gray-500"},DWe={class:"whitespace-nowrap px-6 py-4"},AWe={key:0,class:"text-sm text-gray-900"},PWe={key:1,class:"text-sm text-gray-500"},EWe={key:2,class:"text-sm text-gray-400"},jWe={class:"whitespace-nowrap px-6 py-4"},RWe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},IWe={key:0,class:"text-green-600"},OWe={key:1},LWe={key:2,class:"text-gray-400"},FWe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},NWe=["onClick"],zWe={key:0},UWe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},BWe={class:"flex min-h-screen items-center justify-center px-4"},VWe={class:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},HWe={class:"space-y-4"},qWe={class:"mt-6 flex justify-end space-x-3"},WWe=["disabled"],KWe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(null),i=E(""),r=E(""),a=E(!1),l=E(null),c=E(!1),u=E({status:"",driver_name:"",driver_phone:"",estimated_delivery:"",notes:""}),m=k=>new Date(k).toLocaleString("en-MW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=k=>({pending:"bg-gray-100 text-gray-800",assigned:"bg-blue-100 text-blue-800",picked_up:"bg-yellow-100 text-yellow-800",in_transit:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[k]||"bg-gray-100 text-gray-800";let p=null;const _=()=>{clearTimeout(p),p=setTimeout(()=>v(),300)},v=async()=>{try{const k={};i.value&&(k.search=i.value),r.value&&(k.status=r.value);const[C,$]=await Promise.all([ke.get("/api/legume/deliveries",{params:k}),ke.get("/api/legume/deliveries/statistics")]);t.value=C.data.data,o.value=$.data.data}catch{}finally{e.value=!1}},x=k=>{l.value=k,u.value={status:k.status,driver_name:k.driver_name||"",driver_phone:k.driver_phone||"",estimated_delivery:k.estimated_delivery?k.estimated_delivery.slice(0,16):"",notes:k.notes||""},a.value=!0},w=()=>{a.value=!1,l.value=null},b=async()=>{var k,C;c.value=!0;try{await ke.put(`/api/legume/deliveries/${l.value.id}`,u.value),w(),v()}catch($){alert(((C=(k=$.response)==null?void 0:k.data)==null?void 0:C.message)||"Error updating delivery")}finally{c.value=!1}};return Ne(()=>v()),(k,C)=>{const $=Bt("router-link");return e.value?(g(),y("div",Fqe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",Nqe,[o.value?(g(),y("div",zqe,[n("div",Uqe,[n("div",Bqe,[n("div",Vqe,[n("div",Hqe,[S(f(k$),{class:"h-6 w-6 text-blue-400"})]),n("div",qqe,[n("dl",null,[C[7]||(C[7]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Deliveries",-1)),n("dd",Wqe,d(o.value.total_deliveries),1)])])])])]),n("div",Kqe,[n("div",Yqe,[n("div",Gqe,[n("div",Xqe,[S(f(hs),{class:"h-6 w-6 text-yellow-400"})]),n("div",Jqe,[n("dl",null,[C[8]||(C[8]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Pending",-1)),n("dd",Qqe,d(o.value.pending),1)])])])])]),n("div",Zqe,[n("div",eWe,[n("div",tWe,[n("div",sWe,[S(f(tr),{class:"h-6 w-6 text-purple-400"})]),n("div",nWe,[n("dl",null,[C[9]||(C[9]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"In Transit",-1)),n("dd",oWe,d(o.value.in_transit),1)])])])])]),n("div",iWe,[n("div",rWe,[n("div",aWe,[n("div",lWe,[S(f(Yt),{class:"h-6 w-6 text-green-400"})]),n("div",dWe,[n("dl",null,[C[10]||(C[10]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Delivered",-1)),n("dd",cWe,d(o.value.delivered),1)])])])])]),n("div",uWe,[n("div",mWe,[n("div",fWe,[n("div",pWe,[S(f(mn),{class:"h-6 w-6 text-red-400"})]),n("div",hWe,[n("dl",null,[C[11]||(C[11]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Failed",-1)),n("dd",gWe,d(o.value.failed),1)])])])])])])):j("",!0),n("div",_We,[n("div",vWe,[n("div",yWe,[S(f(Qt),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":C[0]||(C[0]=A=>i.value=A),type:"search",placeholder:"Search deliveries...",class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:_},null,544),[[K,i.value]])]),z(n("select",{"onUpdate:modelValue":C[1]||(C[1]=A=>r.value=A),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:v},[...C[12]||(C[12]=[Ps('<option value="">All Status</option><option value="pending">Pending</option><option value="assigned">Assigned</option><option value="picked_up">Picked Up</option><option value="in_transit">In Transit</option><option value="delivered">Delivered</option><option value="failed">Failed</option>',7)])],544),[[xe,r.value]])]),n("div",xWe,[n("table",bWe,[C[14]||(C[14]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Order"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Customer"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Address"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Driver"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"ETA"),n("th",{class:"px-6 py-3"})])],-1)),n("tbody",wWe,[(g(!0),y(oe,null,ue(t.value,A=>{var R,T,F,L;return g(),y("tr",{key:A.id,class:"hover:bg-gray-50"},[n("td",kWe,[S($,{to:`/legume/orders/${A.legume_order_id}`,class:"font-medium text-indigo-600 hover:text-indigo-900"},{default:W(()=>{var D;return[J(d((D=A.order)==null?void 0:D.order_number),1)]}),_:2},1032,["to"])]),n("td",$We,[n("div",CWe,d((T=(R=A.order)==null?void 0:R.customer)==null?void 0:T.name),1),n("div",SWe,d((L=(F=A.order)==null?void 0:F.customer)==null?void 0:L.phone),1)]),n("td",MWe,[n("div",TWe,d(A.delivery_address),1)]),n("td",DWe,[A.driver_name?(g(),y("div",AWe,d(A.driver_name),1)):j("",!0),A.driver_phone?(g(),y("div",PWe,d(A.driver_phone),1)):j("",!0),A.driver_name?j("",!0):(g(),y("span",EWe,"Not assigned"))]),n("td",jWe,[n("span",{class:X([h(A.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(A.status.replace("_"," ")),3)]),n("td",RWe,[A.actual_delivery?(g(),y("span",IWe," Delivered "+d(m(A.actual_delivery)),1)):A.estimated_delivery?(g(),y("span",OWe,d(m(A.estimated_delivery)),1)):(g(),y("span",LWe,"Not set"))]),n("td",FWe,[n("button",{onClick:D=>x(A),class:"text-indigo-600 hover:text-indigo-900"},"Update",8,NWe)])])}),128)),t.value.length===0?(g(),y("tr",zWe,[...C[13]||(C[13]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No deliveries found",-1)])])):j("",!0)])])]),a.value?(g(),y("div",UWe,[n("div",BWe,[n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:w}),n("div",VWe,[C[21]||(C[21]=n("h3",{class:"mb-4 text-lg font-medium text-gray-900"},"Update Delivery",-1)),n("form",{onSubmit:Ve(b,["prevent"])},[n("div",HWe,[n("div",null,[C[16]||(C[16]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),z(n("select",{"onUpdate:modelValue":C[2]||(C[2]=A=>u.value.status=A),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...C[15]||(C[15]=[Ps('<option value="pending">Pending</option><option value="assigned">Assigned</option><option value="picked_up">Picked Up</option><option value="in_transit">In Transit</option><option value="delivered">Delivered</option><option value="failed">Failed</option>',6)])],512),[[xe,u.value.status]])]),n("div",null,[C[17]||(C[17]=n("label",{class:"block text-sm font-medium text-gray-700"},"Driver Name",-1)),z(n("input",{"onUpdate:modelValue":C[3]||(C[3]=A=>u.value.driver_name=A),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.driver_name]])]),n("div",null,[C[18]||(C[18]=n("label",{class:"block text-sm font-medium text-gray-700"},"Driver Phone",-1)),z(n("input",{"onUpdate:modelValue":C[4]||(C[4]=A=>u.value.driver_phone=A),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.driver_phone]])]),n("div",null,[C[19]||(C[19]=n("label",{class:"block text-sm font-medium text-gray-700"},"Estimated Delivery",-1)),z(n("input",{"onUpdate:modelValue":C[5]||(C[5]=A=>u.value.estimated_delivery=A),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.estimated_delivery]])]),n("div",null,[C[20]||(C[20]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":C[6]||(C[6]=A=>u.value.notes=A),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[K,u.value.notes]])])]),n("div",qWe,[n("button",{type:"button",onClick:w,class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"}," Cancel "),n("button",{type:"submit",disabled:c.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"},d(c.value?"Updating...":"Update"),9,WWe)])],32)])])])):j("",!0)]))}}},YWe={key:0,class:"mt-8 flex justify-center"},GWe={key:1},XWe={class:"mb-6 flex items-center justify-between"},JWe=["disabled"],QWe={class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-3"},ZWe={class:"overflow-hidden rounded-lg bg-red-50 shadow"},eKe={class:"p-5"},tKe={class:"flex items-center"},sKe={class:"flex-shrink-0"},nKe={class:"ml-5 w-0 flex-1"},oKe={class:"text-2xl font-bold text-red-900"},iKe={class:"overflow-hidden rounded-lg bg-yellow-50 shadow"},rKe={class:"p-5"},aKe={class:"flex items-center"},lKe={class:"flex-shrink-0"},dKe={class:"ml-5 w-0 flex-1"},cKe={class:"text-2xl font-bold text-yellow-900"},uKe={class:"overflow-hidden rounded-lg bg-green-50 shadow"},mKe={class:"p-5"},fKe={class:"flex items-center"},pKe={class:"flex-shrink-0"},hKe={class:"ml-5 w-0 flex-1"},gKe={class:"text-2xl font-bold text-green-900"},_Ke={class:"mb-6 flex gap-2"},vKe={class:"space-y-4"},yKe={class:"p-4"},xKe={class:"flex items-center justify-between"},bKe={class:"flex items-center"},wKe={class:"ml-3"},kKe={key:0,class:"mt-1 text-xs text-gray-500"},$Ke={class:"flex items-center space-x-2"},CKe=["onClick"],SKe={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},MKe={key:0,class:"rounded-lg bg-white py-12 text-center shadow"},TKe={__name:"Index",setup(s){const e=E(!0),t=E([]),o=E(""),i=E(""),r=E(!1),a=v=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v||0),l=v=>new Date(v).toLocaleString("en-MW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=Me(()=>t.value.filter(v=>v.alert_type==="out_of_stock"&&!v.is_acknowledged).length),u=Me(()=>t.value.filter(v=>v.alert_type==="low_stock"&&!v.is_acknowledged).length),m=Me(()=>t.value.filter(v=>v.is_acknowledged).length),h=async()=>{try{const v={};o.value&&(v.alert_type=o.value),i.value!==""&&(v.is_acknowledged=i.value);const x=await ke.get("/api/legume/alerts",{params:v});t.value=x.data.data}catch{}finally{e.value=!1}},p=async v=>{var x,w;try{await ke.post(`/api/legume/alerts/${v.id}/acknowledge`),h()}catch(b){v(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.message)||"Error acknowledging alert")}},_=async()=>{var v,x;r.value=!0;try{await ke.post("/api/legume/alerts/acknowledge-all"),h()}catch(w){alert(((x=(v=w.response)==null?void 0:v.data)==null?void 0:x.message)||"Error acknowledging alerts")}finally{r.value=!1}};return Ne(()=>h()),(v,x)=>{const w=Bt("router-link");return e.value?(g(),y("div",YWe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",GWe,[n("div",XWe,[x[2]||(x[2]=n("div",null,[n("h1",{class:"text-2xl font-bold text-gray-900"},"Stock Alerts"),n("p",{class:"text-sm text-gray-500"},"Monitor low and out-of-stock products")],-1)),t.value.filter(b=>!b.is_acknowledged).length>0?(g(),y("button",{key:0,onClick:_,disabled:r.value,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50"}," Acknowledge All ",8,JWe)):j("",!0)]),n("div",QWe,[n("div",ZWe,[n("div",eKe,[n("div",tKe,[n("div",sKe,[S(f(ah),{class:"h-8 w-8 text-red-400"})]),n("div",nKe,[n("dl",null,[x[3]||(x[3]=n("dt",{class:"truncate text-sm font-medium text-red-800"},"Out of Stock",-1)),n("dd",oKe,d(c.value),1)])])])])]),n("div",iKe,[n("div",rKe,[n("div",aKe,[n("div",lKe,[S(f(Fo),{class:"h-8 w-8 text-yellow-400"})]),n("div",dKe,[n("dl",null,[x[4]||(x[4]=n("dt",{class:"truncate text-sm font-medium text-yellow-800"},"Low Stock",-1)),n("dd",cKe,d(u.value),1)])])])])]),n("div",uKe,[n("div",mKe,[n("div",fKe,[n("div",pKe,[S(f(Yt),{class:"h-8 w-8 text-green-400"})]),n("div",hKe,[n("dl",null,[x[5]||(x[5]=n("dt",{class:"truncate text-sm font-medium text-green-800"},"Acknowledged",-1)),n("dd",gKe,d(m.value),1)])])])])])]),n("div",_Ke,[z(n("select",{"onUpdate:modelValue":x[0]||(x[0]=b=>o.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:h},[...x[6]||(x[6]=[n("option",{value:""},"All Types",-1),n("option",{value:"out_of_stock"},"Out of Stock",-1),n("option",{value:"low_stock"},"Low Stock",-1)])],544),[[xe,o.value]]),z(n("select",{"onUpdate:modelValue":x[1]||(x[1]=b=>i.value=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:h},[...x[7]||(x[7]=[n("option",{value:""},"All Status",-1),n("option",{value:"0"},"Unacknowledged",-1),n("option",{value:"1"},"Acknowledged",-1)])],544),[[xe,i.value]])]),n("div",vKe,[(g(!0),y(oe,null,ue(t.value,b=>{var k,C;return g(),y("div",{key:b.id,class:X(["rounded-lg shadow",b.alert_type==="out_of_stock"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"])},[n("div",yKe,[n("div",xKe,[n("div",bKe,[(g(),re(Xn(b.alert_type==="out_of_stock"?f(ah):f(Fo)),{class:X(["h-6 w-6",b.alert_type==="out_of_stock"?"text-red-400":"text-yellow-400"])},null,8,["class"])),n("div",wKe,[n("h3",{class:X(["text-sm font-medium",b.alert_type==="out_of_stock"?"text-red-800":"text-yellow-800"])},d((k=b.product)==null?void 0:k.name),3),n("p",{class:X(["mt-1 text-sm",b.alert_type==="out_of_stock"?"text-red-700":"text-yellow-700"])},d(b.alert_type==="out_of_stock"?"Out of Stock":"Low Stock")+" - Current: "+d(a(b.current_quantity))+" kg (Threshold: "+d(a(b.threshold_quantity))+" kg) ",3),b.is_acknowledged?(g(),y("p",kKe," Acknowledged by "+d((C=b.acknowledgedBy)==null?void 0:C.name)+" on "+d(l(b.acknowledged_at)),1)):j("",!0)])]),n("div",$Ke,[S(w,{to:`/legume/purchases/create?product=${b.legume_product_id}`,class:X(["inline-flex items-center rounded-md px-3 py-1.5 text-sm font-medium text-white",b.alert_type==="out_of_stock"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"])},{default:W(()=>[...x[8]||(x[8]=[J(" Restock Now ",-1)])]),_:1},8,["to","class"]),b.is_acknowledged?(g(),y("span",SKe,[S(f(Rv),{class:"mr-1 h-3 w-3"}),x[9]||(x[9]=J(" Acknowledged ",-1))])):(g(),y("button",{key:0,onClick:$=>p(b),class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"}," Acknowledge ",8,CKe))])])])],2)}),128)),t.value.length===0?(g(),y("div",MKe,[S(f(Yt),{class:"mx-auto h-12 w-12 text-green-400"}),x[10]||(x[10]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No alerts",-1)),x[11]||(x[11]=n("p",{class:"mt-1 text-sm text-gray-500"},"All products have sufficient stock levels.",-1))])):j("",!0)])]))}}},DKe={key:0,class:"mt-8 flex justify-center"},AKe={key:1},PKe={class:"mb-6"},EKe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},jKe={class:"overflow-hidden rounded-lg bg-white shadow"},RKe={class:"p-5"},IKe={class:"mt-1 text-2xl font-semibold text-gray-900"},OKe={class:"overflow-hidden rounded-lg bg-white shadow"},LKe={class:"p-5"},FKe={class:"mt-1 text-2xl font-semibold text-green-600"},NKe={class:"overflow-hidden rounded-lg bg-white shadow"},zKe={class:"p-5"},UKe={class:"mt-1 text-2xl font-semibold text-gray-900"},BKe={class:"overflow-hidden rounded-lg bg-white shadow"},VKe={class:"p-5"},HKe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow"},qKe={class:"p-5"},WKe={class:"mt-1 text-2xl font-bold text-white"},KKe={key:1,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},YKe={class:"overflow-hidden rounded-lg bg-white shadow"},GKe={class:"p-6"},XKe={class:"space-y-4"},JKe={class:"flex justify-between"},QKe={class:"text-sm font-medium text-gray-900"},ZKe={class:"flex justify-between"},eYe={class:"text-sm font-medium text-gray-900"},tYe={class:"flex justify-between"},sYe={class:"text-sm font-medium text-gray-900"},nYe={class:"flex justify-between border-t pt-4"},oYe={class:"text-sm font-medium text-green-600"},iYe={class:"flex justify-between"},rYe={class:"text-sm font-medium text-gray-900"},aYe={class:"flex justify-between"},lYe={class:"text-sm font-medium text-gray-900"},dYe={class:"flex justify-between border-t pt-4"},cYe={class:"flex justify-between"},uYe={class:"overflow-hidden rounded-lg bg-white shadow"},mYe={class:"p-6"},fYe={class:"space-y-4"},pYe={class:"flex justify-between"},hYe={class:"text-sm font-medium text-gray-900"},gYe={class:"flex justify-between"},_Ye={class:"text-sm font-medium text-gray-900"},vYe={class:"flex justify-between"},yYe={class:"text-sm font-medium text-gray-900"},xYe={class:"flex justify-between border-t pt-4"},bYe={class:"text-sm font-medium text-green-600"},wYe={key:2,class:"mt-6 overflow-hidden rounded-lg bg-white shadow"},kYe={class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},$Ye={class:"text-lg font-medium text-gray-900"},CYe={class:"min-w-full divide-y divide-gray-200"},SYe={class:"divide-y divide-gray-200"},MYe={class:"whitespace-nowrap px-6 py-4"},TYe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},DYe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},AYe={class:"whitespace-nowrap px-6 py-4"},PYe={__name:"Daily",setup(s){const e=E(!0),t=E(null),o=E(new Date().toISOString().split("T")[0]),i=c=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c||0),r=c=>new Date(c).toLocaleDateString("en-MW",{year:"numeric",month:"long",day:"numeric"}),a=c=>({pending:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",ready:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[c]||"bg-gray-100 text-gray-800",l=async()=>{e.value=!0;try{const c=await ke.get("/api/legume/reports/daily",{params:{date:o.value}});t.value=c.data.data}catch{}finally{e.value=!1}};return Ne(()=>l()),(c,u)=>{var h,p,_;const m=Bt("router-link");return e.value?(g(),y("div",DKe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",AKe,[u[21]||(u[21]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Daily Report"),n("p",{class:"text-sm text-gray-500"},"Track daily sales and profit")],-1)),n("div",PKe,[z(n("input",{"onUpdate:modelValue":u[0]||(u[0]=v=>o.value=v),type:"date",class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:l},null,544),[[K,o.value]])]),t.value?(g(),y("div",EKe,[n("div",jKe,[n("div",RKe,[u[1]||(u[1]=n("p",{class:"text-sm font-medium text-gray-500"},"Orders",-1)),n("p",IKe,d(t.value.total_orders),1)])]),n("div",OKe,[n("div",LKe,[u[2]||(u[2]=n("p",{class:"text-sm font-medium text-gray-500"},"Revenue",-1)),n("p",FKe,"MK "+d(i(t.value.revenue)),1)])]),n("div",NKe,[n("div",zKe,[u[3]||(u[3]=n("p",{class:"text-sm font-medium text-gray-500"},"Cost of Goods",-1)),n("p",UKe,"MK "+d(i(t.value.cost_of_goods)),1)])]),n("div",BKe,[n("div",VKe,[u[4]||(u[4]=n("p",{class:"text-sm font-medium text-gray-500"},"Gross Profit",-1)),n("p",{class:X(["mt-1 text-2xl font-semibold",t.value.gross_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(i(t.value.gross_profit)),3)])]),n("div",HKe,[n("div",qKe,[u[5]||(u[5]=n("p",{class:"text-sm font-medium text-indigo-100"},"Net Profit",-1)),n("p",WKe,"MK "+d(i(t.value.net_profit)),1)])])])):j("",!0),t.value?(g(),y("div",KKe,[n("div",YKe,[u[14]||(u[14]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Day Summary")],-1)),n("div",GKe,[n("dl",XKe,[n("div",JKe,[u[6]||(u[6]=n("dt",{class:"text-sm text-gray-500"},"Total Orders",-1)),n("dd",QKe,d(t.value.total_orders),1)]),n("div",ZKe,[u[7]||(u[7]=n("dt",{class:"text-sm text-gray-500"},"Delivered Orders",-1)),n("dd",eYe,d(t.value.delivered_orders),1)]),n("div",tYe,[u[8]||(u[8]=n("dt",{class:"text-sm text-gray-500"},"Quantity Sold",-1)),n("dd",sYe,d(i(t.value.quantity_sold))+" kg",1)]),n("div",nYe,[u[9]||(u[9]=n("dt",{class:"text-sm text-gray-500"},"Revenue",-1)),n("dd",oYe,"MK "+d(i(t.value.revenue)),1)]),n("div",iYe,[u[10]||(u[10]=n("dt",{class:"text-sm text-gray-500"},"Cost of Goods",-1)),n("dd",rYe,"MK "+d(i(t.value.cost_of_goods)),1)]),n("div",aYe,[u[11]||(u[11]=n("dt",{class:"text-sm text-gray-500"},"Operating Expenses",-1)),n("dd",lYe,"MK "+d(i(t.value.operating_expenses)),1)]),n("div",dYe,[u[12]||(u[12]=n("dt",{class:"text-sm font-medium text-gray-900"},"Net Profit",-1)),n("dd",{class:X(["text-sm font-bold",t.value.net_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(i(t.value.net_profit)),3)]),n("div",cYe,[u[13]||(u[13]=n("dt",{class:"text-sm font-medium text-gray-900"},"Profit Margin",-1)),n("dd",{class:X(["text-sm font-bold",t.value.net_margin>=0?"text-green-600":"text-red-600"])},d((h=t.value.net_margin)==null?void 0:h.toFixed(1))+"% ",3)])])])]),n("div",uYe,[u[19]||(u[19]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Purchases Today")],-1)),n("div",mYe,[n("dl",fYe,[n("div",pYe,[u[15]||(u[15]=n("dt",{class:"text-sm text-gray-500"},"Total Purchases",-1)),n("dd",hYe,d(t.value.total_purchases),1)]),n("div",gYe,[u[16]||(u[16]=n("dt",{class:"text-sm text-gray-500"},"Quantity Purchased",-1)),n("dd",_Ye,d(i(t.value.quantity_purchased))+" kg",1)]),n("div",vYe,[u[17]||(u[17]=n("dt",{class:"text-sm text-gray-500"},"Purchase Value",-1)),n("dd",yYe,"MK "+d(i(t.value.purchase_value)),1)]),n("div",xYe,[u[18]||(u[18]=n("dt",{class:"text-sm text-gray-500"},"Payments Received",-1)),n("dd",bYe,"MK "+d(i(t.value.payments_received)),1)])])])])])):j("",!0),(_=(p=t.value)==null?void 0:p.orders)!=null&&_.length?(g(),y("div",wYe,[n("div",kYe,[n("h2",$Ye,"Orders on "+d(r(o.value)),1)]),n("table",CYe,[u[20]||(u[20]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Order"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Customer"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Total"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500"},"Status")])],-1)),n("tbody",SYe,[(g(!0),y(oe,null,ue(t.value.orders,v=>{var x;return g(),y("tr",{key:v.id,class:"hover:bg-gray-50"},[n("td",MYe,[S(m,{to:`/legume/orders/${v.id}`,class:"font-medium text-indigo-600 hover:text-indigo-900"},{default:W(()=>[J(d(v.order_number),1)]),_:2},1032,["to"])]),n("td",TYe,d((x=v.customer)==null?void 0:x.name),1),n("td",DYe," MK "+d(i(v.total_amount)),1),n("td",AYe,[n("span",{class:X([a(v.order_status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},d(v.order_status),3)])])}),128))])])])):j("",!0)]))}}},EYe={key:0,class:"mt-8 flex justify-center"},jYe={key:1},RYe={class:"mb-6 flex items-center gap-4"},IYe=["value"],OYe=["value"],LYe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},FYe={class:"overflow-hidden rounded-lg bg-white shadow"},NYe={class:"p-5"},zYe={class:"flex items-center"},UYe={class:"flex-shrink-0"},BYe={class:"ml-5 w-0 flex-1"},VYe={class:"text-lg font-semibold text-gray-900"},HYe={class:"overflow-hidden rounded-lg bg-white shadow"},qYe={class:"p-5"},WYe={class:"flex items-center"},KYe={class:"flex-shrink-0"},YYe={class:"ml-5 w-0 flex-1"},GYe={class:"text-lg font-semibold text-gray-900"},XYe={class:"overflow-hidden rounded-lg bg-white shadow"},JYe={class:"p-5"},QYe={class:"flex items-center"},ZYe={class:"flex-shrink-0"},eGe={class:"ml-5 w-0 flex-1"},tGe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow"},sGe={class:"p-5"},nGe={class:"flex items-center"},oGe={class:"flex-shrink-0"},iGe={class:"ml-5 w-0 flex-1"},rGe={class:"text-lg font-bold text-white"},aGe={key:1,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},lGe={class:"overflow-hidden rounded-lg bg-white shadow"},dGe={class:"p-6"},cGe={class:"space-y-4"},uGe={class:"flex justify-between"},mGe={class:"text-sm font-medium text-gray-900"},fGe={class:"flex justify-between"},pGe={class:"text-sm font-medium text-gray-900"},hGe={class:"flex justify-between"},gGe={class:"text-sm font-medium text-gray-900"},_Ge={class:"flex justify-between"},vGe={class:"text-sm font-medium text-red-600"},yGe={class:"flex justify-between border-t pt-4"},xGe={class:"text-sm font-bold text-gray-900"},bGe={class:"overflow-hidden rounded-lg bg-white shadow"},wGe={class:"p-6"},kGe={class:"space-y-4"},$Ge={class:"flex justify-between"},CGe={class:"text-sm font-medium text-gray-900"},SGe={class:"flex justify-between"},MGe={class:"text-sm font-medium text-gray-900"},TGe={class:"flex justify-between"},DGe={class:"text-sm font-medium text-gray-900"},AGe={class:"flex justify-between"},PGe={class:"text-sm font-medium text-gray-900"},EGe={class:"flex justify-between border-t pt-4"},jGe={class:"text-sm font-bold text-red-600"},RGe={class:"overflow-hidden rounded-lg bg-white shadow"},IGe={class:"p-6"},OGe={class:"space-y-4"},LGe={class:"flex justify-between"},FGe={class:"flex justify-between"},NGe={class:"flex justify-between border-t pt-4"},zGe={class:"flex justify-between"},UGe={class:"overflow-hidden rounded-lg bg-white shadow"},BGe={class:"p-6"},VGe={class:"space-y-4"},HGe={class:"flex justify-between"},qGe={class:"text-sm font-medium text-gray-900"},WGe={class:"flex justify-between"},KGe={class:"text-sm font-medium text-gray-900"},YGe={class:"flex justify-between"},GGe={class:"text-sm font-medium text-gray-900"},XGe={class:"flex justify-between"},JGe={class:"text-sm font-medium text-gray-900"},QGe={key:2,class:"mt-6 overflow-hidden rounded-lg bg-white shadow"},ZGe={class:"min-w-full divide-y divide-gray-200"},eXe={class:"divide-y divide-gray-200 bg-white"},tXe={class:"whitespace-nowrap px-6 py-4"},sXe={class:"font-medium text-gray-900"},nXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},oXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},iXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},rXe={__name:"Monthly",setup(s){const e=E(!0),t=E(null),o=E([]),i=new Date,r=E(i.getFullYear()),a=E(i.getMonth()+1),l=Array.from({length:5},(h,p)=>i.getFullYear()-p),c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=h=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(h||0),m=async()=>{e.value=!0;try{const[h,p]=await Promise.all([ke.get("/api/legume/reports/monthly",{params:{year:r.value,month:a.value}}),ke.get("/api/legume/reports/by-product",{params:{year:r.value,month:a.value}})]);t.value=h.data.data,o.value=p.data.data}catch{}finally{e.value=!1}};return Ne(()=>m()),(h,p)=>{var _,v,x;return e.value?(g(),y("div",EYe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",jYe,[p[30]||(p[30]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Monthly Profit Report"),n("p",{class:"text-sm text-gray-500"},"Analyze profit and performance by month")],-1)),n("div",RYe,[z(n("select",{"onUpdate:modelValue":p[0]||(p[0]=w=>r.value=w),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(!0),y(oe,null,ue(f(l),w=>(g(),y("option",{key:w,value:w},d(w),9,IYe))),128))],544),[[xe,r.value]]),z(n("select",{"onUpdate:modelValue":p[1]||(p[1]=w=>a.value=w),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(),y(oe,null,ue(c,(w,b)=>n("option",{key:b,value:b+1},d(w),9,OYe)),64))],544),[[xe,a.value]])]),t.value?(g(),y("div",LYe,[n("div",FYe,[n("div",NYe,[n("div",zYe,[n("div",UYe,[S(f(bi),{class:"h-6 w-6 text-green-400"})]),n("div",BYe,[n("dl",null,[p[2]||(p[2]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Revenue",-1)),n("dd",VYe,"MK "+d(u(t.value.revenue)),1)])])])])]),n("div",HYe,[n("div",qYe,[n("div",WYe,[n("div",KYe,[S(f(Xm),{class:"h-6 w-6 text-blue-400"})]),n("div",YYe,[n("dl",null,[p[3]||(p[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Cost of Goods",-1)),n("dd",GYe,"MK "+d(u(t.value.cost_of_goods)),1)])])])])]),n("div",XYe,[n("div",JYe,[n("div",QYe,[n("div",ZYe,[S(f(Uc),{class:"h-6 w-6 text-purple-400"})]),n("div",eGe,[n("dl",null,[p[4]||(p[4]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Gross Profit",-1)),n("dd",{class:X(["text-lg font-semibold",t.value.gross_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(u(t.value.gross_profit)),3)])])])])]),n("div",tGe,[n("div",sGe,[n("div",nGe,[n("div",oGe,[S(f(Ys),{class:"h-6 w-6 text-white"})]),n("div",iGe,[n("dl",null,[p[5]||(p[5]=n("dt",{class:"truncate text-sm font-medium text-indigo-100"},"Net Profit",-1)),n("dd",rGe,"MK "+d(u(t.value.net_profit)),1)])])])])])])):j("",!0),t.value?(g(),y("div",aGe,[n("div",lGe,[p[11]||(p[11]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Revenue Breakdown")],-1)),n("div",dGe,[n("dl",cGe,[n("div",uGe,[p[6]||(p[6]=n("dt",{class:"text-sm text-gray-500"},"Total Orders",-1)),n("dd",mGe,d(t.value.total_orders),1)]),n("div",fGe,[p[7]||(p[7]=n("dt",{class:"text-sm text-gray-500"},"Delivered Orders",-1)),n("dd",pGe,d(t.value.delivered_orders),1)]),n("div",hGe,[p[8]||(p[8]=n("dt",{class:"text-sm text-gray-500"},"Gross Revenue",-1)),n("dd",gGe,"MK "+d(u(t.value.revenue)),1)]),n("div",_Ge,[p[9]||(p[9]=n("dt",{class:"text-sm text-gray-500"},"Discounts Given",-1)),n("dd",vGe,"- MK "+d(u(t.value.discounts)),1)]),n("div",yGe,[p[10]||(p[10]=n("dt",{class:"text-sm font-medium text-gray-900"},"Net Revenue",-1)),n("dd",xGe,"MK "+d(u(t.value.revenue-t.value.discounts)),1)])])])]),n("div",bGe,[p[17]||(p[17]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Expenses Breakdown")],-1)),n("div",wGe,[n("dl",kGe,[n("div",$Ge,[p[12]||(p[12]=n("dt",{class:"text-sm text-gray-500"},"Cost of Goods Sold",-1)),n("dd",CGe,"MK "+d(u(t.value.cost_of_goods)),1)]),n("div",SGe,[p[13]||(p[13]=n("dt",{class:"text-sm text-gray-500"},"Purchase Costs (Transport, Packaging)",-1)),n("dd",MGe,"MK "+d(u(t.value.purchase_costs)),1)]),n("div",TGe,[p[14]||(p[14]=n("dt",{class:"text-sm text-gray-500"},"Delivery Costs",-1)),n("dd",DGe,"MK "+d(u(t.value.delivery_costs)),1)]),n("div",AGe,[p[15]||(p[15]=n("dt",{class:"text-sm text-gray-500"},"Operating Expenses",-1)),n("dd",PGe,"MK "+d(u(t.value.operating_expenses)),1)]),n("div",EGe,[p[16]||(p[16]=n("dt",{class:"text-sm font-medium text-gray-900"},"Total Expenses",-1)),n("dd",jGe,"MK "+d(u(t.value.total_expenses)),1)])])])]),n("div",RGe,[p[22]||(p[22]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Profit Analysis")],-1)),n("div",IGe,[n("dl",OGe,[n("div",LGe,[p[18]||(p[18]=n("dt",{class:"text-sm text-gray-500"},"Gross Profit",-1)),n("dd",{class:X(["text-sm font-medium",t.value.gross_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(u(t.value.gross_profit)),3)]),n("div",FGe,[p[19]||(p[19]=n("dt",{class:"text-sm text-gray-500"},"Gross Margin",-1)),n("dd",{class:X(["text-sm font-medium",t.value.gross_margin>=0?"text-green-600":"text-red-600"])},d((_=t.value.gross_margin)==null?void 0:_.toFixed(1))+"% ",3)]),n("div",NGe,[p[20]||(p[20]=n("dt",{class:"text-sm font-medium text-gray-900"},"Net Profit",-1)),n("dd",{class:X(["text-sm font-bold",t.value.net_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(u(t.value.net_profit)),3)]),n("div",zGe,[p[21]||(p[21]=n("dt",{class:"text-sm font-medium text-gray-900"},"Net Margin",-1)),n("dd",{class:X(["text-sm font-bold",t.value.net_margin>=0?"text-green-600":"text-red-600"])},d((v=t.value.net_margin)==null?void 0:v.toFixed(1))+"% ",3)])])])]),n("div",UGe,[p[27]||(p[27]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Purchase Summary")],-1)),n("div",BGe,[n("dl",VGe,[n("div",HGe,[p[23]||(p[23]=n("dt",{class:"text-sm text-gray-500"},"Total Purchases",-1)),n("dd",qGe,d(t.value.total_purchases),1)]),n("div",WGe,[p[24]||(p[24]=n("dt",{class:"text-sm text-gray-500"},"Quantity Purchased",-1)),n("dd",KGe,d(u(t.value.quantity_purchased))+" kg",1)]),n("div",YGe,[p[25]||(p[25]=n("dt",{class:"text-sm text-gray-500"},"Purchase Value",-1)),n("dd",GGe,"MK "+d(u(t.value.purchase_value)),1)]),n("div",XGe,[p[26]||(p[26]=n("dt",{class:"text-sm text-gray-500"},"Average Cost per kg",-1)),n("dd",JGe,"MK "+d(u(t.value.avg_purchase_cost)),1)])])])])])):j("",!0),(x=o.value)!=null&&x.length?(g(),y("div",QGe,[p[29]||(p[29]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Profit by Product")],-1)),n("table",ZGe,[p[28]||(p[28]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Qty Sold"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Revenue"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"COGS"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Profit"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Margin")])],-1)),n("tbody",eXe,[(g(!0),y(oe,null,ue(o.value,w=>{var b;return g(),y("tr",{key:w.product_id,class:"hover:bg-gray-50"},[n("td",tXe,[n("div",sXe,d(w.product_name),1)]),n("td",nXe,d(u(w.quantity_sold))+" kg ",1),n("td",oXe," MK "+d(u(w.revenue)),1),n("td",iXe," MK "+d(u(w.cost_of_goods)),1),n("td",{class:X(["whitespace-nowrap px-6 py-4 text-sm font-medium",w.profit>=0?"text-green-600":"text-red-600"])}," MK "+d(u(w.profit)),3),n("td",{class:X(["whitespace-nowrap px-6 py-4 text-sm",w.margin>=0?"text-green-600":"text-red-600"])},d((b=w.margin)==null?void 0:b.toFixed(1))+"% ",3)])}),128))])])])):j("",!0)]))}}},aXe={key:0,class:"mt-8 flex justify-center"},lXe={key:1},dXe={class:"mb-6 flex items-center gap-4"},cXe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-4"},uXe={class:"overflow-hidden rounded-lg bg-white shadow"},mXe={class:"p-5"},fXe={class:"mt-1 text-xl font-semibold text-green-600"},pXe={class:"overflow-hidden rounded-lg bg-white shadow"},hXe={class:"p-5"},gXe={class:"mt-1 text-xl font-semibold text-gray-900"},_Xe={class:"overflow-hidden rounded-lg bg-white shadow"},vXe={class:"p-5"},yXe={class:"overflow-hidden rounded-lg bg-white shadow"},xXe={class:"p-5"},bXe={class:"overflow-hidden rounded-lg bg-white shadow"},wXe={class:"min-w-full divide-y divide-gray-200"},kXe={class:"divide-y divide-gray-200 bg-white"},$Xe={class:"whitespace-nowrap px-6 py-4"},CXe={class:"font-medium text-gray-900"},SXe={class:"text-sm text-gray-500"},MXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},TXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},DXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},AXe={class:"whitespace-nowrap px-6 py-4"},PXe={class:"flex items-center"},EXe={class:"ml-2 h-2 w-16 overflow-hidden rounded-full bg-gray-200"},jXe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},RXe={key:0},IXe={__name:"ProfitByProduct",setup(s){const e=E(!0),t=E([]),o=new Date,i=new Date(o.getFullYear(),o.getMonth(),1),r=new Date(o.getFullYear(),o.getMonth()+1,0),a=E(i.toISOString().split("T")[0]),l=E(r.toISOString().split("T")[0]),c=h=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(h||0),u=Me(()=>{if(t.value.length===0)return null;const h=t.value.reduce((x,w)=>x+w.revenue,0),p=t.value.reduce((x,w)=>x+w.cost_of_goods,0),_=t.value.reduce((x,w)=>x+w.profit,0),v=h>0?_/h*100:0;return{total_revenue:h,total_cogs:p,total_profit:_,avg_margin:v}}),m=async()=>{e.value=!0;try{const h=await ke.get("/api/legume/reports/by-product",{params:{date_from:a.value,date_to:l.value}});t.value=h.data.data}catch{}finally{e.value=!1}};return Ne(()=>m()),(h,p)=>{var _;return e.value?(g(),y("div",aXe,[S(it,{size:"40",color:"#5850ec"})])):(g(),y("div",lXe,[p[10]||(p[10]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Profit by Product"),n("p",{class:"text-sm text-gray-500"},"Analyze profitability of each product")],-1)),n("div",dXe,[n("div",null,[p[2]||(p[2]=n("label",{class:"block text-sm font-medium text-gray-700"},"From",-1)),z(n("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>a.value=v),type:"date",class:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},null,544),[[K,a.value]])]),n("div",null,[p[3]||(p[3]=n("label",{class:"block text-sm font-medium text-gray-700"},"To",-1)),z(n("input",{"onUpdate:modelValue":p[1]||(p[1]=v=>l.value=v),type:"date",class:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},null,544),[[K,l.value]])])]),u.value?(g(),y("div",cXe,[n("div",uXe,[n("div",mXe,[p[4]||(p[4]=n("p",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),n("p",fXe,"MK "+d(c(u.value.total_revenue)),1)])]),n("div",pXe,[n("div",hXe,[p[5]||(p[5]=n("p",{class:"text-sm font-medium text-gray-500"},"Total COGS",-1)),n("p",gXe,"MK "+d(c(u.value.total_cogs)),1)])]),n("div",_Xe,[n("div",vXe,[p[6]||(p[6]=n("p",{class:"text-sm font-medium text-gray-500"},"Total Profit",-1)),n("p",{class:X(["mt-1 text-xl font-semibold",u.value.total_profit>=0?"text-green-600":"text-red-600"])}," MK "+d(c(u.value.total_profit)),3)])]),n("div",yXe,[n("div",xXe,[p[7]||(p[7]=n("p",{class:"text-sm font-medium text-gray-500"},"Avg Margin",-1)),n("p",{class:X(["mt-1 text-xl font-semibold",u.value.avg_margin>=0?"text-green-600":"text-red-600"])},d((_=u.value.avg_margin)==null?void 0:_.toFixed(1))+"% ",3)])])])):j("",!0),n("div",bXe,[n("table",wXe,[p[9]||(p[9]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Product"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Qty Sold"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Revenue"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"COGS"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Gross Profit"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Margin"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"% of Total")])],-1)),n("tbody",kXe,[(g(!0),y(oe,null,ue(t.value,v=>{var x,w;return g(),y("tr",{key:v.product_id,class:"hover:bg-gray-50"},[n("td",$Xe,[n("div",CXe,d(v.product_name),1),n("div",SXe,d(v.sku),1)]),n("td",MXe,d(c(v.quantity_sold))+" kg ",1),n("td",TXe," MK "+d(c(v.revenue)),1),n("td",DXe," MK "+d(c(v.cost_of_goods)),1),n("td",{class:X(["whitespace-nowrap px-6 py-4 text-sm font-medium",v.profit>=0?"text-green-600":"text-red-600"])}," MK "+d(c(v.profit)),3),n("td",AXe,[n("div",PXe,[n("span",{class:X([v.margin>=0?"text-green-600":"text-red-600","text-sm font-medium"])},d((x=v.margin)==null?void 0:x.toFixed(1))+"% ",3),n("div",EXe,[n("div",{class:X([v.margin>=0?"bg-green-500":"bg-red-500","h-full"]),style:bt({width:Math.min(Math.abs(v.margin),100)+"%"})},null,6)])])]),n("td",jXe,d((w=v.percentage_of_total)==null?void 0:w.toFixed(1))+"% ",1)])}),128)),t.value.length===0?(g(),y("tr",RXe,[...p[8]||(p[8]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No sales data for this period",-1)])])):j("",!0)])])])]))}}},OXe=[{path:"/",component:cP},{path:"/profile",component:FP},{path:"/projects",name:"ProjectsIndex",component:Pq},{path:"/projects/:id",name:"ProjectsDetail",component:x1},{path:"/projects/:id/tasks/:taskId",name:"ProjectsDetailTask",component:x1,props:!0},{path:"/users",name:"Users",component:oq},{path:"/labels",name:"Labels",component:gq},{path:"/roles",name:"Roles",component:VV},{path:"/tasks",name:"Tasks",component:$H},{path:"/attendance",name:"Attendance",component:AJ},{path:"/employees",name:"Employees",component:dte},{path:"/employees/:id",name:"EmployeeDetail",component:one},{path:"/leaves",name:"Leaves",component:tre},{path:"/holidays",name:"Holidays",component:Jre},{path:"/payrolls",name:"Payrolls",component:_de},{path:"/clients",name:"Clients",component:Due},{path:"/quotations",name:"Quotations",component:yfe},{path:"/quotations/:id",name:"QuotationDetail",component:ehe},{path:"/expenses",name:"Expenses",component:U1e},{path:"/income",name:"Income",component:axe},{path:"/profit-loss",name:"ProfitLoss",component:Rbe},{path:"/adsense-reports",name:"AdSenseReports",component:gG},{path:"/settings/general",component:eF},{path:"/settings/email",component:HL},{path:"/settings/adsense",component:UF},{path:"/settings/countries",component:zz},{path:"/settings/user-assignments",component:SB},{path:"/video-enhancer",component:TV},{path:"/audit-trail",name:"AuditTrail",component:Mwe},{path:"/service-providers",name:"ServiceProviders",component:H5e},{path:"/service-providers/:id",name:"ServiceProvidersDetail",component:I4e},{path:"/recording-sessions",name:"RecordingSessions",component:R$e},{path:"/lesson-plans",name:"LessonPlans",component:N3e},{path:"/subjects",name:"Subjects",component:X6e},{path:"/working-hours",name:"WorkingHours",component:v7e},{path:"/activity-reports",name:"ActivityReports",component:X9e},{path:"/activity-reports/settings",name:"ActivityReportsSettings",component:IMe},{path:"/leads",name:"Leads",component:FEe},{path:"/legume",name:"LegumeDashboard",component:Zje},{path:"/legume/products",name:"LegumeProducts",component:dIe},{path:"/legume/suppliers",name:"LegumeSuppliers",component:mOe},{path:"/legume/budget",name:"LegumeBudget",component:aLe},{path:"/legume/purchases",name:"LegumePurchases",component:lFe},{path:"/legume/purchases/create",name:"LegumePurchaseCreate",component:zFe},{path:"/legume/inventory",name:"LegumeInventory",component:HNe},{path:"/legume/inventory/movements",name:"LegumeInventoryMovements",component:cze},{path:"/legume/customers",name:"LegumeCustomers",component:gUe},{path:"/legume/orders",name:"LegumeOrders",component:gBe},{path:"/legume/orders/create",name:"LegumeOrderCreate",component:cVe},{path:"/legume/orders/:id",name:"LegumeOrderDetail",component:VHe},{path:"/legume/payments",name:"LegumePayments",component:Lqe},{path:"/legume/deliveries",name:"LegumeDeliveries",component:KWe},{path:"/legume/alerts",name:"LegumeAlerts",component:TKe},{path:"/legume/reports/daily",name:"LegumeReportsDaily",component:PYe},{path:"/legume/reports/monthly",name:"LegumeReportsMonthly",component:rXe},{path:"/legume/reports/by-product",name:"LegumeReportsByProduct",component:IXe},{path:"/403",name:"Forbidden",component:$A},{path:"/:pathMatch(.*)*",name:"NotFound",component:kA}],du=qk({history:ak(vt.prefix),routes:OXe});du.beforeEach((s,e,t)=>{t()});du.afterEach((s,e)=>{});du.onError(s=>{});px.config.errorHandler=(s,e,t)=>{};window.addEventListener("unhandledrejection",s=>{});try{px.use(F5()).use(M6).use(du).mount("#app")}catch(s){alert("Mount Error: "+s.message)}
