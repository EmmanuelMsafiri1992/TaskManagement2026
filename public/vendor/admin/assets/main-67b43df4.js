var Zx=Object.defineProperty;var e2=(s,e,t)=>e in s?Zx(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Be=(s,e,t)=>(e2(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ph(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const Ut={},gr=[],qn=()=>{},v1=()=>!1,hc=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),gh=s=>s.startsWith("onUpdate:"),is=Object.assign,_h=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},t2=Object.prototype.hasOwnProperty,Dt=(s,e)=>t2.call(s,e),Xe=Array.isArray,_r=s=>ll(s)==="[object Map]",Lr=s=>ll(s)==="[object Set]",Bm=s=>ll(s)==="[object Date]",at=s=>typeof s=="function",Jt=s=>typeof s=="string",Gn=s=>typeof s=="symbol",Bt=s=>s!==null&&typeof s=="object",y1=s=>(Bt(s)||at(s))&&at(s.then)&&at(s.catch),b1=Object.prototype.toString,ll=s=>b1.call(s),s2=s=>ll(s).slice(8,-1),x1=s=>ll(s)==="[object Object]",vh=s=>Jt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,wa=ph(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mc=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},n2=/-\w/g,In=mc(s=>s.replace(n2,e=>e.slice(1).toUpperCase())),o2=/\B([A-Z])/g,gi=mc(s=>s.replace(o2,"-$1").toLowerCase()),pc=mc(s=>s.charAt(0).toUpperCase()+s.slice(1)),xu=mc(s=>s?`on${pc(s)}`:""),ii=(s,e)=>!Object.is(s,e),ld=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},w1=(s,e,t,n=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Ed=s=>{const e=parseFloat(s);return isNaN(e)?s:e},i2=s=>{const e=Jt(s)?Number(s):NaN;return isNaN(e)?s:e};let Um;const gc=()=>Um||(Um=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wt(s){if(Xe(s)){const e={};for(let t=0;t<s.length;t++){const n=s[t],i=Jt(n)?d2(n):wt(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(Jt(s)||Bt(s))return s}const r2=/;(?![^(]*\))/g,a2=/:([^]+)/,l2=/\/\*[^]*?\*\//g;function d2(s){const e={};return s.replace(l2,"").split(r2).forEach(t=>{if(t){const n=t.split(a2);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ee(s){let e="";if(Jt(s))e=s;else if(Xe(s))for(let t=0;t<s.length;t++){const n=ee(s[t]);n&&(e+=n+" ")}else if(Bt(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const c2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",u2=ph(c2);function k1(s){return!!s||s===""}function f2(s,e){if(s.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<s.length;n++)t=Xi(s[n],e[n]);return t}function Xi(s,e){if(s===e)return!0;let t=Bm(s),n=Bm(e);if(t||n)return t&&n?s.getTime()===e.getTime():!1;if(t=Gn(s),n=Gn(e),t||n)return s===e;if(t=Xe(s),n=Xe(e),t||n)return t&&n?f2(s,e):!1;if(t=Bt(s),n=Bt(e),t||n){if(!t||!n)return!1;const i=Object.keys(s).length,r=Object.keys(e).length;if(i!==r)return!1;for(const a in s){const l=s.hasOwnProperty(a),d=e.hasOwnProperty(a);if(l&&!d||!l&&d||!Xi(s[a],e[a]))return!1}}return String(s)===String(e)}function yh(s,e){return s.findIndex(t=>Xi(t,e))}const $1=s=>!!(s&&s.__v_isRef===!0),u=s=>Jt(s)?s:s==null?"":Xe(s)||Bt(s)&&(s.toString===b1||!at(s.toString))?$1(s)?u(s.value):JSON.stringify(s,C1,2):String(s),C1=(s,e)=>$1(e)?C1(s,e.value):_r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i],r)=>(t[wu(n,r)+" =>"]=i,t),{})}:Lr(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>wu(t))}:Gn(e)?wu(e):Bt(e)&&!Xe(e)&&!x1(e)?String(e):e,wu=(s,e="")=>{var t;return Gn(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rs;class S1{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rs,!e&&Rs&&(this.index=(Rs.scopes||(Rs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Rs;try{return Rs=this,e()}finally{Rs=t}}}on(){++this._on===1&&(this.prevScope=Rs,Rs=this)}off(){this._on>0&&--this._on===0&&(Rs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function M1(s){return new S1(s)}function T1(){return Rs}function h2(s,e=!1){Rs&&Rs.cleanups.push(s)}let Ht;const ku=new WeakSet;class A1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rs&&Rs.active&&Rs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ku.has(this)&&(ku.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||E1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vm(this),P1(this);const e=Ht,t=Kn;Ht=this,Kn=!0;try{return this.fn()}finally{R1(this),Ht=e,Kn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wh(e);this.deps=this.depsTail=void 0,Vm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ku.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wf(this)&&this.run()}get dirty(){return wf(this)}}let D1=0,ka,$a;function E1(s,e=!1){if(s.flags|=8,e){s.next=$a,$a=s;return}s.next=ka,ka=s}function bh(){D1++}function xh(){if(--D1>0)return;if($a){let e=$a;for($a=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;ka;){let e=ka;for(ka=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){s||(s=n)}e=t}}if(s)throw s}function P1(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function R1(s){let e,t=s.depsTail,n=t;for(;n;){const i=n.prevDep;n.version===-1?(n===t&&(t=i),wh(n),m2(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}s.deps=e,s.depsTail=t}function wf(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(j1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function j1(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Ha)||(s.globalVersion=Ha,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!wf(s))))return;s.flags|=2;const e=s.dep,t=Ht,n=Kn;Ht=s,Kn=!0;try{P1(s);const i=s.fn(s._value);(e.version===0||ii(i,s._value))&&(s.flags|=128,s._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ht=t,Kn=n,R1(s),s.flags&=-3}}function wh(s,e=!1){const{dep:t,prevSub:n,nextSub:i}=s;if(n&&(n.nextSub=i,s.prevSub=void 0),i&&(i.prevSub=n,s.nextSub=void 0),t.subs===s&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)wh(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function m2(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let Kn=!0;const O1=[];function Ro(){O1.push(Kn),Kn=!1}function jo(){const s=O1.pop();Kn=s===void 0?!0:s}function Vm(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=Ht;Ht=void 0;try{e()}finally{Ht=t}}}let Ha=0;class p2{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ht||!Kn||Ht===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ht)t=this.activeLink=new p2(Ht,this),Ht.deps?(t.prevDep=Ht.depsTail,Ht.depsTail.nextDep=t,Ht.depsTail=t):Ht.deps=Ht.depsTail=t,I1(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Ht.depsTail,t.nextDep=void 0,Ht.depsTail.nextDep=t,Ht.depsTail=t,Ht.deps===t&&(Ht.deps=n)}return t}trigger(e){this.version++,Ha++,this.notify(e)}notify(e){bh();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{xh()}}}function I1(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)I1(n)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Pd=new WeakMap,Wi=Symbol(""),kf=Symbol(""),Wa=Symbol("");function Ls(s,e,t){if(Kn&&Ht){let n=Pd.get(s);n||Pd.set(s,n=new Map);let i=n.get(t);i||(n.set(t,i=new kh),i.map=n,i.key=t),i.track()}}function Mo(s,e,t,n,i,r){const a=Pd.get(s);if(!a){Ha++;return}const l=d=>{d&&d.trigger()};if(bh(),e==="clear")a.forEach(l);else{const d=Xe(s),c=d&&vh(t);if(d&&t==="length"){const f=Number(n);a.forEach((m,p)=>{(p==="length"||p===Wa||!Gn(p)&&p>=f)&&l(m)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),c&&l(a.get(Wa)),e){case"add":d?c&&l(a.get("length")):(l(a.get(Wi)),_r(s)&&l(a.get(kf)));break;case"delete":d||(l(a.get(Wi)),_r(s)&&l(a.get(kf)));break;case"set":_r(s)&&l(a.get(Wi));break}}xh()}function g2(s,e){const t=Pd.get(s);return t&&t.get(e)}function ir(s){const e=xt(s);return e===s?e:(Ls(e,"iterate",Wa),jn(s)?e:e.map(ws))}function _c(s){return Ls(s=xt(s),"iterate",Wa),s}const _2={__proto__:null,[Symbol.iterator](){return $u(this,Symbol.iterator,ws)},concat(...s){return ir(this).concat(...s.map(e=>Xe(e)?ir(e):e))},entries(){return $u(this,"entries",s=>(s[1]=ws(s[1]),s))},every(s,e){return yo(this,"every",s,e,void 0,arguments)},filter(s,e){return yo(this,"filter",s,e,t=>t.map(ws),arguments)},find(s,e){return yo(this,"find",s,e,ws,arguments)},findIndex(s,e){return yo(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return yo(this,"findLast",s,e,ws,arguments)},findLastIndex(s,e){return yo(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return yo(this,"forEach",s,e,void 0,arguments)},includes(...s){return Cu(this,"includes",s)},indexOf(...s){return Cu(this,"indexOf",s)},join(s){return ir(this).join(s)},lastIndexOf(...s){return Cu(this,"lastIndexOf",s)},map(s,e){return yo(this,"map",s,e,void 0,arguments)},pop(){return Jr(this,"pop")},push(...s){return Jr(this,"push",s)},reduce(s,...e){return Hm(this,"reduce",s,e)},reduceRight(s,...e){return Hm(this,"reduceRight",s,e)},shift(){return Jr(this,"shift")},some(s,e){return yo(this,"some",s,e,void 0,arguments)},splice(...s){return Jr(this,"splice",s)},toReversed(){return ir(this).toReversed()},toSorted(s){return ir(this).toSorted(s)},toSpliced(...s){return ir(this).toSpliced(...s)},unshift(...s){return Jr(this,"unshift",s)},values(){return $u(this,"values",ws)}};function $u(s,e,t){const n=_c(s),i=n[e]();return n!==s&&!jn(s)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=t(r.value)),r}),i}const v2=Array.prototype;function yo(s,e,t,n,i,r){const a=_c(s),l=a!==s&&!jn(s),d=a[e];if(d!==v2[e]){const m=d.apply(s,r);return l?ws(m):m}let c=t;a!==s&&(l?c=function(m,p){return t.call(this,ws(m),p,s)}:t.length>2&&(c=function(m,p){return t.call(this,m,p,s)}));const f=d.call(a,c,n);return l&&i?i(f):f}function Hm(s,e,t,n){const i=_c(s);let r=t;return i!==s&&(jn(s)?t.length>3&&(r=function(a,l,d){return t.call(this,a,l,d,s)}):r=function(a,l,d){return t.call(this,a,ws(l),d,s)}),i[e](r,...n)}function Cu(s,e,t){const n=xt(s);Ls(n,"iterate",Wa);const i=n[e](...t);return(i===-1||i===!1)&&Sh(t[0])?(t[0]=xt(t[0]),n[e](...t)):i}function Jr(s,e,t=[]){Ro(),bh();const n=xt(s)[e].apply(s,t);return xh(),jo(),n}const y2=ph("__proto__,__v_isRef,__isVue"),L1=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Gn));function b2(s){Gn(s)||(s=String(s));const e=xt(this);return Ls(e,"has",s),e.hasOwnProperty(s)}class F1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return n===(i?r?D2:U1:r?B1:z1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Xe(e);if(!i){let d;if(a&&(d=_2[t]))return d;if(t==="hasOwnProperty")return b2}const l=Reflect.get(e,t,os(e)?e:n);if((Gn(t)?L1.has(t):y2(t))||(i||Ls(e,"get",t),r))return l;if(os(l)){const d=a&&vh(t)?l:l.value;return i&&Bt(d)?Cf(d):d}return Bt(l)?i?Cf(l):rt(l):l}}class N1 extends F1{constructor(e=!1){super(!1,e)}set(e,t,n,i){let r=e[t];if(!this._isShallow){const d=ci(r);if(!jn(n)&&!ci(n)&&(r=xt(r),n=xt(n)),!Xe(e)&&os(r)&&!os(n))return d||(r.value=n),!0}const a=Xe(e)&&vh(t)?Number(t)<e.length:Dt(e,t),l=Reflect.set(e,t,n,os(e)?e:i);return e===xt(i)&&(a?ii(n,r)&&Mo(e,"set",t,n):Mo(e,"add",t,n)),l}deleteProperty(e,t){const n=Dt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Mo(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(!Gn(t)||!L1.has(t))&&Ls(e,"has",t),n}ownKeys(e){return Ls(e,"iterate",Xe(e)?"length":Wi),Reflect.ownKeys(e)}}class x2 extends F1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const w2=new N1,k2=new x2,$2=new N1(!0);const $f=s=>s,Sl=s=>Reflect.getPrototypeOf(s);function C2(s,e,t){return function(...n){const i=this.__v_raw,r=xt(i),a=_r(r),l=s==="entries"||s===Symbol.iterator&&a,d=s==="keys"&&a,c=i[s](...n),f=t?$f:e?Rd:ws;return!e&&Ls(r,"iterate",d?kf:Wi),{next(){const{value:m,done:p}=c.next();return p?{value:m,done:p}:{value:l?[f(m[0]),f(m[1])]:f(m),done:p}},[Symbol.iterator](){return this}}}}function Ml(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function S2(s,e){const t={get(i){const r=this.__v_raw,a=xt(r),l=xt(i);s||(ii(i,l)&&Ls(a,"get",i),Ls(a,"get",l));const{has:d}=Sl(a),c=e?$f:s?Rd:ws;if(d.call(a,i))return c(r.get(i));if(d.call(a,l))return c(r.get(l));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!s&&Ls(xt(i),"iterate",Wi),i.size},has(i){const r=this.__v_raw,a=xt(r),l=xt(i);return s||(ii(i,l)&&Ls(a,"has",i),Ls(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const a=this,l=a.__v_raw,d=xt(l),c=e?$f:s?Rd:ws;return!s&&Ls(d,"iterate",Wi),l.forEach((f,m)=>i.call(r,c(f),c(m),a))}};return is(t,s?{add:Ml("add"),set:Ml("set"),delete:Ml("delete"),clear:Ml("clear")}:{add(i){!e&&!jn(i)&&!ci(i)&&(i=xt(i));const r=xt(this);return Sl(r).has.call(r,i)||(r.add(i),Mo(r,"add",i,i)),this},set(i,r){!e&&!jn(r)&&!ci(r)&&(r=xt(r));const a=xt(this),{has:l,get:d}=Sl(a);let c=l.call(a,i);c||(i=xt(i),c=l.call(a,i));const f=d.call(a,i);return a.set(i,r),c?ii(r,f)&&Mo(a,"set",i,r):Mo(a,"add",i,r),this},delete(i){const r=xt(this),{has:a,get:l}=Sl(r);let d=a.call(r,i);d||(i=xt(i),d=a.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return d&&Mo(r,"delete",i,void 0),c},clear(){const i=xt(this),r=i.size!==0,a=i.clear();return r&&Mo(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=C2(i,s,e)}),t}function $h(s,e){const t=S2(s,e);return(n,i,r)=>i==="__v_isReactive"?!s:i==="__v_isReadonly"?s:i==="__v_raw"?n:Reflect.get(Dt(t,i)&&i in n?t:n,i,r)}const M2={get:$h(!1,!1)},T2={get:$h(!1,!0)},A2={get:$h(!0,!1)};const z1=new WeakMap,B1=new WeakMap,U1=new WeakMap,D2=new WeakMap;function E2(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P2(s){return s.__v_skip||!Object.isExtensible(s)?0:E2(s2(s))}function rt(s){return ci(s)?s:Ch(s,!1,w2,M2,z1)}function R2(s){return Ch(s,!1,$2,T2,B1)}function Cf(s){return Ch(s,!0,k2,A2,U1)}function Ch(s,e,t,n,i){if(!Bt(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=P2(s);if(r===0)return s;const a=i.get(s);if(a)return a;const l=new Proxy(s,r===2?n:t);return i.set(s,l),l}function ri(s){return ci(s)?ri(s.__v_raw):!!(s&&s.__v_isReactive)}function ci(s){return!!(s&&s.__v_isReadonly)}function jn(s){return!!(s&&s.__v_isShallow)}function Sh(s){return s?!!s.__v_raw:!1}function xt(s){const e=s&&s.__v_raw;return e?xt(e):s}function Cr(s){return!Dt(s,"__v_skip")&&Object.isExtensible(s)&&w1(s,"__v_skip",!0),s}const ws=s=>Bt(s)?rt(s):s,Rd=s=>Bt(s)?Cf(s):s;function os(s){return s?s.__v_isRef===!0:!1}function I(s){return H1(s,!1)}function V1(s){return H1(s,!0)}function H1(s,e){return os(s)?s:new j2(s,e)}class j2{constructor(e,t){this.dep=new kh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xt(e),this._value=t?e:ws(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||jn(e)||ci(e);e=n?e:xt(e),ii(e,t)&&(this._rawValue=e,this._value=n?e:ws(e),this.dep.trigger())}}function h(s){return os(s)?s.value:s}const O2={get:(s,e,t)=>e==="__v_raw"?s:h(Reflect.get(s,e,t)),set:(s,e,t,n)=>{const i=s[e];return os(i)&&!os(t)?(i.value=t,!0):Reflect.set(s,e,t,n)}};function W1(s){return ri(s)?s:new Proxy(s,O2)}function I2(s){const e=Xe(s)?new Array(s.length):{};for(const t in s)e[t]=F2(s,t);return e}class L2{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return g2(xt(this._object),this._key)}}function F2(s,e,t){const n=s[e];return os(n)?n:new L2(s,e,t)}class N2{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new kh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ha-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ht!==this)return E1(this,!0),!0}get value(){const e=this.dep.track();return j1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function z2(s,e,t=!1){let n,i;return at(s)?n=s:(n=s.get,i=s.set),new N2(n,i,t)}const Tl={},jd=new WeakMap;let Oi;function B2(s,e=!1,t=Oi){if(t){let n=jd.get(t);n||jd.set(t,n=[]),n.push(s)}}function U2(s,e,t=Ut){const{immediate:n,deep:i,once:r,scheduler:a,augmentJob:l,call:d}=t,c=C=>i?C:jn(C)||i===!1||i===0?To(C,1):To(C);let f,m,p,g,v=!1,k=!1;if(os(s)?(m=()=>s.value,v=jn(s)):ri(s)?(m=()=>c(s),v=!0):Xe(s)?(k=!0,v=s.some(C=>ri(C)||jn(C)),m=()=>s.map(C=>{if(os(C))return C.value;if(ri(C))return c(C);if(at(C))return d?d(C,2):C()})):at(s)?e?m=d?()=>d(s,2):s:m=()=>{if(p){Ro();try{p()}finally{jo()}}const C=Oi;Oi=f;try{return d?d(s,3,[g]):s(g)}finally{Oi=C}}:m=qn,e&&i){const C=m,O=i===!0?1/0:i;m=()=>To(C(),O)}const b=T1(),w=()=>{f.stop(),b&&b.active&&_h(b.effects,f)};if(r&&e){const C=e;e=(...O)=>{C(...O),w()}}let x=k?new Array(s.length).fill(Tl):Tl;const M=C=>{if(!(!(f.flags&1)||!f.dirty&&!C))if(e){const O=f.run();if(i||v||(k?O.some((N,E)=>ii(N,x[E])):ii(O,x))){p&&p();const N=Oi;Oi=f;try{const E=[O,x===Tl?void 0:k&&x[0]===Tl?[]:x,g];x=O,d?d(e,3,E):e(...E)}finally{Oi=N}}}else f.run()};return l&&l(M),f=new A1(m),f.scheduler=a?()=>a(M,!1):M,g=C=>B2(C,!1,f),p=f.onStop=()=>{const C=jd.get(f);if(C){if(d)d(C,4);else for(const O of C)O();jd.delete(f)}},e?n?M(!0):x=f.run():a?a(M.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function To(s,e=1/0,t){if(e<=0||!Bt(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,os(s))To(s.value,e,t);else if(Xe(s))for(let n=0;n<s.length;n++)To(s[n],e,t);else if(Lr(s)||_r(s))s.forEach(n=>{To(n,e,t)});else if(x1(s)){for(const n in s)To(s[n],e,t);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&To(s[n],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dl(s,e,t,n){try{return n?s(...n):s()}catch(i){vc(i,e,t)}}function Xn(s,e,t,n){if(at(s)){const i=dl(s,e,t,n);return i&&y1(i)&&i.catch(r=>{vc(r,e,t)}),i}if(Xe(s)){const i=[];for(let r=0;r<s.length;r++)i.push(Xn(s[r],e,t,n));return i}}function vc(s,e,t,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ut;if(e){let l=e.parent;const d=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](s,d,c)===!1)return}l=l.parent}if(r){Ro(),dl(r,null,10,[s,d,c]),jo();return}}V2(s,t,i,n,a)}function V2(s,e,t,n=!0,i=!1){if(i)throw s}const Xs=[];let io=-1;const vr=[];let qo=null,fr=0;const q1=Promise.resolve();let Od=null;function kn(s){const e=Od||q1;return s?e.then(this?s.bind(this):s):e}function H2(s){let e=io+1,t=Xs.length;for(;e<t;){const n=e+t>>>1,i=Xs[n],r=qa(i);r<s||r===s&&i.flags&2?e=n+1:t=n}return e}function Mh(s){if(!(s.flags&1)){const e=qa(s),t=Xs[Xs.length-1];!t||!(s.flags&2)&&e>=qa(t)?Xs.push(s):Xs.splice(H2(e),0,s),s.flags|=1,K1()}}function K1(){Od||(Od=q1.then(G1))}function W2(s){Xe(s)?vr.push(...s):qo&&s.id===-1?qo.splice(fr+1,0,s):s.flags&1||(vr.push(s),s.flags|=1),K1()}function Wm(s,e,t=io+1){for(;t<Xs.length;t++){const n=Xs[t];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;Xs.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Y1(s){if(vr.length){const e=[...new Set(vr)].sort((t,n)=>qa(t)-qa(n));if(vr.length=0,qo){qo.push(...e);return}for(qo=e,fr=0;fr<qo.length;fr++){const t=qo[fr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}qo=null,fr=0}}const qa=s=>s.id==null?s.flags&2?-1:1/0:s.id;function G1(s){const e=qn;try{for(io=0;io<Xs.length;io++){const t=Xs[io];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),dl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;io<Xs.length;io++){const t=Xs[io];t&&(t.flags&=-2)}io=-1,Xs.length=0,Y1(),Od=null,(Xs.length||vr.length)&&G1()}}let $s=null,X1=null;function Id(s){const e=$s;return $s=s,X1=s&&s.type.__scopeId||null,e}function K(s,e=$s,t){if(!e||s._n)return s;const n=(...i)=>{n._d&&Nd(-1);const r=Id(e);let a;try{a=s(...i)}finally{Id(r),n._d&&Nd(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function z(s,e){if($s===null)return s;const t=kc($s),n=s.dirs||(s.dirs=[]);for(let i=0;i<e.length;i++){let[r,a,l,d=Ut]=e[i];r&&(at(r)&&(r={mounted:r,updated:r}),r.deep&&To(a),n.push({dir:r,instance:t,value:a,oldValue:void 0,arg:l,modifiers:d}))}return s}function $i(s,e,t,n){const i=s.dirs,r=e&&e.dirs;for(let a=0;a<i.length;a++){const l=i[a];r&&(l.oldValue=r[a].value);let d=l.dir[n];d&&(Ro(),Xn(d,t,8,[s.el,l,s,e]),jo())}}const J1=Symbol("_vte"),Q1=s=>s.__isTeleport,Ca=s=>s&&(s.disabled||s.disabled===""),qm=s=>s&&(s.defer||s.defer===""),Km=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Ym=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,Sf=(s,e)=>{const t=s&&s.to;return Jt(t)?e?e(t):null:t},Z1={name:"Teleport",__isTeleport:!0,process(s,e,t,n,i,r,a,l,d,c){const{mc:f,pc:m,pbc:p,o:{insert:g,querySelector:v,createText:k,createComment:b}}=c,w=Ca(e.props);let{shapeFlag:x,children:M,dynamicChildren:C}=e;if(s==null){const O=e.el=k(""),N=e.anchor=k("");g(O,t,n),g(N,t,n);const E=(L,P)=>{x&16&&f(M,L,P,i,r,a,l,d)},B=()=>{const L=e.target=Sf(e.props,v),P=e_(L,e,k,g);L&&(a!=="svg"&&Km(L)?a="svg":a!=="mathml"&&Ym(L)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(L),w||(E(L,P),dd(e,!1)))};w&&(E(t,N),dd(e,!0)),qm(e.props)?(e.el.__isMounted=!1,Gs(()=>{B(),delete e.el.__isMounted},r)):B()}else{if(qm(e.props)&&s.el.__isMounted===!1){Gs(()=>{Z1.process(s,e,t,n,i,r,a,l,d,c)},r);return}e.el=s.el,e.targetStart=s.targetStart;const O=e.anchor=s.anchor,N=e.target=s.target,E=e.targetAnchor=s.targetAnchor,B=Ca(s.props),L=B?t:N,P=B?O:E;if(a==="svg"||Km(N)?a="svg":(a==="mathml"||Ym(N))&&(a="mathml"),C?(p(s.dynamicChildren,C,L,i,r,a,l),jh(s,e,!0)):d||m(s,e,L,P,i,r,a,l,!1),w)B?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):Al(e,t,O,c,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const R=e.target=Sf(e.props,v);R&&Al(e,R,null,c,0)}else B&&Al(e,N,E,c,1);dd(e,w)}},remove(s,e,t,{um:n,o:{remove:i}},r){const{shapeFlag:a,children:l,anchor:d,targetStart:c,targetAnchor:f,target:m,props:p}=s;if(m&&(i(c),i(f)),r&&i(d),a&16){const g=r||!Ca(p);for(let v=0;v<l.length;v++){const k=l[v];n(k,e,t,g,!!k.dynamicChildren)}}},move:Al,hydrate:q2};function Al(s,e,t,{o:{insert:n},m:i},r=2){r===0&&n(s.targetAnchor,e,t);const{el:a,anchor:l,shapeFlag:d,children:c,props:f}=s,m=r===2;if(m&&n(a,e,t),(!m||Ca(f))&&d&16)for(let p=0;p<c.length;p++)i(c[p],e,t,2);m&&n(l,e,t)}function q2(s,e,t,n,i,r,{o:{nextSibling:a,parentNode:l,querySelector:d,insert:c,createText:f}},m){function p(k,b,w,x){b.anchor=m(a(k),b,l(k),t,n,i,r),b.targetStart=w,b.targetAnchor=x}const g=e.target=Sf(e.props,d),v=Ca(e.props);if(g){const k=g._lpa||g.firstChild;if(e.shapeFlag&16)if(v)p(s,e,k,k&&a(k));else{e.anchor=a(s);let b=k;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,g._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}e.targetAnchor||e_(g,e,f,c),m(k&&a(k),e,g,t,n,i,r)}dd(e,v)}else v&&e.shapeFlag&16&&p(s,e,s,a(s));return e.anchor&&a(e.anchor)}const yr=Z1;function dd(s,e){const t=s.ctx;if(t&&t.ut){let n,i;for(e?(n=s.el,i=s.anchor):(n=s.targetStart,i=s.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function e_(s,e,t,n){const i=e.targetStart=t(""),r=e.targetAnchor=t("");return i[J1]=r,s&&(n(i,s),n(r,s)),r}const Co=Symbol("_leaveCb"),Dl=Symbol("_enterCb");function t_(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ye(()=>{s.isMounted=!0}),Ah(()=>{s.isUnmounting=!0}),s}const Tn=[Function,Array],s_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tn,onEnter:Tn,onAfterEnter:Tn,onEnterCancelled:Tn,onBeforeLeave:Tn,onLeave:Tn,onAfterLeave:Tn,onLeaveCancelled:Tn,onBeforeAppear:Tn,onAppear:Tn,onAfterAppear:Tn,onAppearCancelled:Tn},n_=s=>{const e=s.subTree;return e.component?n_(e.component):e},K2={name:"BaseTransition",props:s_,setup(s,{slots:e}){const t=Nr(),n=t_();return()=>{const i=e.default&&Th(e.default(),!0);if(!i||!i.length)return;const r=o_(i),a=xt(s),{mode:l}=a;if(n.isLeaving)return Su(r);const d=Gm(r);if(!d)return Su(r);let c=Ka(d,a,n,t,m=>c=m);d.type!==Fs&&Ji(d,c);let f=t.subTree&&Gm(t.subTree);if(f&&f.type!==Fs&&!Ni(f,d)&&n_(t).type!==Fs){let m=Ka(f,a,n,t);if(Ji(f,m),l==="out-in"&&d.type!==Fs)return n.isLeaving=!0,m.afterLeave=()=>{n.isLeaving=!1,t.job.flags&8||t.update(),delete m.afterLeave,f=void 0},Su(r);l==="in-out"&&d.type!==Fs?m.delayLeave=(p,g,v)=>{const k=i_(n,f);k[String(f.key)]=f,p[Co]=()=>{g(),p[Co]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return r}}};function o_(s){let e=s[0];if(s.length>1){for(const t of s)if(t.type!==Fs){e=t;break}}return e}const Y2=K2;function i_(s,e){const{leavingVNodes:t}=s;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function Ka(s,e,t,n,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:d,onEnter:c,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:p,onLeave:g,onAfterLeave:v,onLeaveCancelled:k,onBeforeAppear:b,onAppear:w,onAfterAppear:x,onAppearCancelled:M}=e,C=String(s.key),O=i_(t,s),N=(L,P)=>{L&&Xn(L,n,9,P)},E=(L,P)=>{const R=P[1];N(L,P),Xe(L)?L.every(A=>A.length<=1)&&R():L.length<=1&&R()},B={mode:a,persisted:l,beforeEnter(L){let P=d;if(!t.isMounted)if(r)P=b||d;else return;L[Co]&&L[Co](!0);const R=O[C];R&&Ni(s,R)&&R.el[Co]&&R.el[Co](),N(P,[L])},enter(L){let P=c,R=f,A=m;if(!t.isMounted)if(r)P=w||c,R=x||f,A=M||m;else return;let F=!1;const be=L[Dl]=ae=>{F||(F=!0,ae?N(A,[L]):N(R,[L]),B.delayedLeave&&B.delayedLeave(),L[Dl]=void 0)};P?E(P,[L,be]):be()},leave(L,P){const R=String(s.key);if(L[Dl]&&L[Dl](!0),t.isUnmounting)return P();N(p,[L]);let A=!1;const F=L[Co]=be=>{A||(A=!0,P(),be?N(k,[L]):N(v,[L]),L[Co]=void 0,O[R]===s&&delete O[R])};O[R]=s,g?E(g,[L,F]):F()},clone(L){const P=Ka(L,e,t,n,i);return i&&i(P),P}};return B}function Su(s){if(yc(s))return s=Oo(s),s.children=null,s}function Gm(s){if(!yc(s))return Q1(s.type)&&s.children?o_(s.children):s;if(s.component)return s.component.subTree;const{shapeFlag:e,children:t}=s;if(t){if(e&16)return t[0];if(e&32&&at(t.default))return t.default()}}function Ji(s,e){s.shapeFlag&6&&s.component?(s.transition=e,Ji(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function Th(s,e=!1,t){let n=[],i=0;for(let r=0;r<s.length;r++){let a=s[r];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:r);a.type===de?(a.patchFlag&128&&i++,n=n.concat(Th(a.children,e,l))):(e||a.type!==Fs)&&n.push(l!=null?Oo(a,{key:l}):a)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function _e(s,e){return at(s)?(()=>is({name:s.name},e,{setup:s}))():s}function G2(){const s=Nr();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function r_(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Ld=new WeakMap;function Sa(s,e,t,n,i=!1){if(Xe(s)){s.forEach((v,k)=>Sa(v,e&&(Xe(e)?e[k]:e),t,n,i));return}if(br(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Sa(s,e,t,n.component.subTree);return}const r=n.shapeFlag&4?kc(n.component):n.el,a=i?null:r,{i:l,r:d}=s,c=e&&e.r,f=l.refs===Ut?l.refs={}:l.refs,m=l.setupState,p=xt(m),g=m===Ut?v1:v=>Dt(p,v);if(c!=null&&c!==d){if(Xm(e),Jt(c))f[c]=null,g(c)&&(m[c]=null);else if(os(c)){c.value=null;const v=e;v.k&&(f[v.k]=null)}}if(at(d))dl(d,l,12,[a,f]);else{const v=Jt(d),k=os(d);if(v||k){const b=()=>{if(s.f){const w=v?g(d)?m[d]:f[d]:d.value;if(i)Xe(w)&&_h(w,r);else if(Xe(w))w.includes(r)||w.push(r);else if(v)f[d]=[r],g(d)&&(m[d]=f[d]);else{const x=[r];d.value=x,s.k&&(f[s.k]=x)}}else v?(f[d]=a,g(d)&&(m[d]=a)):k&&(d.value=a,s.k&&(f[s.k]=a))};if(a){const w=()=>{b(),Ld.delete(s)};w.id=-1,Ld.set(s,w),Gs(w,t)}else Xm(s),b()}}}function Xm(s){const e=Ld.get(s);e&&(e.flags|=8,Ld.delete(s))}gc().requestIdleCallback;gc().cancelIdleCallback;const br=s=>!!s.type.__asyncLoader,yc=s=>s.type.__isKeepAlive;function a_(s,e){d_(s,"a",e)}function l_(s,e){d_(s,"da",e)}function d_(s,e,t=Ns){const n=s.__wdc||(s.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return s()});if(bc(e,n,t),t){let i=t.parent;for(;i&&i.parent;)yc(i.parent.vnode)&&X2(n,e,t,i),i=i.parent}}function X2(s,e,t,n){const i=bc(e,s,n,!0);Us(()=>{_h(n[e],i)},t)}function bc(s,e,t=Ns,n=!1){if(t){const i=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...a)=>{Ro();const l=cl(t),d=Xn(e,t,s,a);return l(),jo(),d});return n?i.unshift(r):i.push(r),r}}const Lo=s=>(e,t=Ns)=>{(!Xa||s==="sp")&&bc(s,(...n)=>e(...n),t)},J2=Lo("bm"),Ye=Lo("m"),Q2=Lo("bu"),Fr=Lo("u"),Ah=Lo("bum"),Us=Lo("um"),Z2=Lo("sp"),ew=Lo("rtg"),tw=Lo("rtc");function sw(s,e=Ns){bc("ec",s,e)}const Dh="components";function cn(s,e){return u_(Dh,s,!0,e)||s}const c_=Symbol.for("v-ndc");function fo(s){return Jt(s)?u_(Dh,s,!1)||s:s||c_}function u_(s,e,t=!0,n=!1){const i=$s||Ns;if(i){const r=i.type;if(s===Dh){const l=Vw(r,!1);if(l&&(l===e||l===In(e)||l===pc(In(e))))return r}const a=Jm(i[s]||r[s],e)||Jm(i.appContext[s],e);return!a&&n?r:a}}function Jm(s,e){return s&&(s[e]||s[In(e)]||s[pc(In(e))])}function ye(s,e,t,n){let i;const r=t&&t[n],a=Xe(s);if(a||Jt(s)){const l=a&&ri(s);let d=!1,c=!1;l&&(d=!jn(s),c=ci(s),s=_c(s)),i=new Array(s.length);for(let f=0,m=s.length;f<m;f++)i[f]=e(d?c?Rd(ws(s[f])):ws(s[f]):s[f],f,void 0,r&&r[f])}else if(typeof s=="number"){i=new Array(s);for(let l=0;l<s;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(Bt(s))if(s[Symbol.iterator])i=Array.from(s,(l,d)=>e(l,d,void 0,r&&r[d]));else{const l=Object.keys(s);i=new Array(l.length);for(let d=0,c=l.length;d<c;d++){const f=l[d];i[d]=e(s[f],f,d,r&&r[d])}}else i=[];return t&&(t[n]=i),i}function Ms(s,e,t={},n,i){if($s.ce||$s.parent&&br($s.parent)&&$s.parent.ce){const c=Object.keys(t).length>0;return e!=="default"&&(t.name=e),_(),ie(de,null,[S("slot",t,n&&n())],c?-2:64)}let r=s[e];r&&r._c&&(r._d=!1),_();const a=r&&f_(r(t)),l=t.key||a&&a.key,d=ie(de,{key:(l&&!Gn(l)?l:`_${e}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&s._===1?64:-2);return!i&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),r&&r._c&&(r._d=!0),d}function f_(s){return s.some(e=>Ga(e)?!(e.type===Fs||e.type===de&&!f_(e.children)):!0)?s:null}const Mf=s=>s?D_(s)?kc(s):Mf(s.parent):null,Ma=is(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Mf(s.parent),$root:s=>Mf(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Eh(s),$forceUpdate:s=>s.f||(s.f=()=>{Mh(s.update)}),$nextTick:s=>s.n||(s.n=kn.bind(s.proxy)),$watch:s=>$w.bind(s)}),Mu=(s,e)=>s!==Ut&&!s.__isScriptSetup&&Dt(s,e),nw={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:i,props:r,accessCache:a,type:l,appContext:d}=s;let c;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Mu(n,e))return a[e]=1,n[e];if(i!==Ut&&Dt(i,e))return a[e]=2,i[e];if((c=s.propsOptions[0])&&Dt(c,e))return a[e]=3,r[e];if(t!==Ut&&Dt(t,e))return a[e]=4,t[e];Tf&&(a[e]=0)}}const f=Ma[e];let m,p;if(f)return e==="$attrs"&&Ls(s.attrs,"get",""),f(s);if((m=l.__cssModules)&&(m=m[e]))return m;if(t!==Ut&&Dt(t,e))return a[e]=4,t[e];if(p=d.config.globalProperties,Dt(p,e))return p[e]},set({_:s},e,t){const{data:n,setupState:i,ctx:r}=s;return Mu(i,e)?(i[e]=t,!0):n!==Ut&&Dt(n,e)?(n[e]=t,!0):Dt(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:r,type:a}},l){let d,c;return!!(t[l]||s!==Ut&&l[0]!=="$"&&Dt(s,l)||Mu(e,l)||(d=r[0])&&Dt(d,l)||Dt(n,l)||Dt(Ma,l)||Dt(i.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Dt(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Qm(s){return Xe(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let Tf=!0;function ow(s){const e=Eh(s),t=s.proxy,n=s.ctx;Tf=!1,e.beforeCreate&&Zm(e.beforeCreate,s,"bc");const{data:i,computed:r,methods:a,watch:l,provide:d,inject:c,created:f,beforeMount:m,mounted:p,beforeUpdate:g,updated:v,activated:k,deactivated:b,beforeDestroy:w,beforeUnmount:x,destroyed:M,unmounted:C,render:O,renderTracked:N,renderTriggered:E,errorCaptured:B,serverPrefetch:L,expose:P,inheritAttrs:R,components:A,directives:F,filters:be}=e;if(c&&iw(c,n,null),a)for(const J in a){const ne=a[J];at(ne)&&(n[J]=ne.bind(t))}if(i){const J=i.call(t,t);Bt(J)&&(s.data=rt(J))}if(Tf=!0,r)for(const J in r){const ne=r[J],q=at(ne)?ne.bind(t,t):at(ne.get)?ne.get.bind(t,t):qn,oe=!at(ne)&&at(ne.set)?ne.set.bind(t):qn,xe=Pe({get:q,set:oe});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>xe.value,set:je=>xe.value=je})}if(l)for(const J in l)h_(l[J],n,t,J);if(d){const J=at(d)?d.call(t):d;Reflect.ownKeys(J).forEach(ne=>{Ss(ne,J[ne])})}f&&Zm(f,s,"c");function le(J,ne){Xe(ne)?ne.forEach(q=>J(q.bind(t))):ne&&J(ne.bind(t))}if(le(J2,m),le(Ye,p),le(Q2,g),le(Fr,v),le(a_,k),le(l_,b),le(sw,B),le(tw,N),le(ew,E),le(Ah,x),le(Us,C),le(Z2,L),Xe(P))if(P.length){const J=s.exposed||(s.exposed={});P.forEach(ne=>{Object.defineProperty(J,ne,{get:()=>t[ne],set:q=>t[ne]=q,enumerable:!0})})}else s.exposed||(s.exposed={});O&&s.render===qn&&(s.render=O),R!=null&&(s.inheritAttrs=R),A&&(s.components=A),F&&(s.directives=F),L&&r_(s)}function iw(s,e,t=qn){Xe(s)&&(s=Af(s));for(const n in s){const i=s[n];let r;Bt(i)?"default"in i?r=Je(i.from||n,i.default,!0):r=Je(i.from||n):r=Je(i),os(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[n]=r}}function Zm(s,e,t){Xn(Xe(s)?s.map(n=>n.bind(e.proxy)):s.bind(e.proxy),e,t)}function h_(s,e,t,n){let i=n.includes(".")?$_(t,n):()=>t[n];if(Jt(s)){const r=e[s];at(r)&&Et(i,r)}else if(at(s))Et(i,s.bind(t));else if(Bt(s))if(Xe(s))s.forEach(r=>h_(r,e,t,n));else{const r=at(s.handler)?s.handler.bind(t):e[s.handler];at(r)&&Et(i,r,s)}}function Eh(s){const e=s.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,l=r.get(e);let d;return l?d=l:!i.length&&!t&&!n?d=e:(d={},i.length&&i.forEach(c=>Fd(d,c,a,!0)),Fd(d,e,a)),Bt(e)&&r.set(e,d),d}function Fd(s,e,t,n=!1){const{mixins:i,extends:r}=e;r&&Fd(s,r,t,!0),i&&i.forEach(a=>Fd(s,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const l=rw[a]||t&&t[a];s[a]=l?l(s[a],e[a]):e[a]}return s}const rw={data:ep,props:tp,emits:tp,methods:ua,computed:ua,beforeCreate:Ks,created:Ks,beforeMount:Ks,mounted:Ks,beforeUpdate:Ks,updated:Ks,beforeDestroy:Ks,beforeUnmount:Ks,destroyed:Ks,unmounted:Ks,activated:Ks,deactivated:Ks,errorCaptured:Ks,serverPrefetch:Ks,components:ua,directives:ua,watch:lw,provide:ep,inject:aw};function ep(s,e){return e?s?function(){return is(at(s)?s.call(this,this):s,at(e)?e.call(this,this):e)}:e:s}function aw(s,e){return ua(Af(s),Af(e))}function Af(s){if(Xe(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Ks(s,e){return s?[...new Set([].concat(s,e))]:e}function ua(s,e){return s?is(Object.create(null),s,e):e}function tp(s,e){return s?Xe(s)&&Xe(e)?[...new Set([...s,...e])]:is(Object.create(null),Qm(s),Qm(e??{})):e}function lw(s,e){if(!s)return e;if(!e)return s;const t=is(Object.create(null),s);for(const n in e)t[n]=Ks(s[n],e[n]);return t}function m_(){return{app:null,config:{isNativeTag:v1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dw=0;function cw(s,e){return function(n,i=null){at(n)||(n=is({},n)),i!=null&&!Bt(i)&&(i=null);const r=m_(),a=new WeakSet,l=[];let d=!1;const c=r.app={_uid:dw++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Ww,get config(){return r.config},set config(f){},use(f,...m){return a.has(f)||(f&&at(f.install)?(a.add(f),f.install(c,...m)):at(f)&&(a.add(f),f(c,...m))),c},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),c},component(f,m){return m?(r.components[f]=m,c):r.components[f]},directive(f,m){return m?(r.directives[f]=m,c):r.directives[f]},mount(f,m,p){if(!d){const g=c._ceVNode||S(n,i);return g.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),m&&e?e(g,f):s(g,f,p),d=!0,c._container=f,f.__vue_app__=c,kc(g.component)}},onUnmount(f){l.push(f)},unmount(){d&&(Xn(l,c._instance,16),s(null,c._container),delete c._container.__vue_app__)},provide(f,m){return r.provides[f]=m,c},runWithContext(f){const m=qi;qi=c;try{return f()}finally{qi=m}}};return c}}let qi=null;function Ss(s,e){if(Ns){let t=Ns.provides;const n=Ns.parent&&Ns.parent.provides;n===t&&(t=Ns.provides=Object.create(n)),t[s]=e}}function Je(s,e,t=!1){const n=Nr();if(n||qi){let i=qi?qi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&s in i)return i[s];if(arguments.length>1)return t&&at(e)?e.call(n&&n.proxy):e}}function uw(){return!!(Nr()||qi)}const p_={},g_=()=>Object.create(p_),__=s=>Object.getPrototypeOf(s)===p_;function fw(s,e,t,n=!1){const i={},r=g_();s.propsDefaults=Object.create(null),v_(s,e,i,r);for(const a in s.propsOptions[0])a in i||(i[a]=void 0);t?s.props=n?i:R2(i):s.type.props?s.props=i:s.props=r,s.attrs=r}function hw(s,e,t,n){const{props:i,attrs:r,vnode:{patchFlag:a}}=s,l=xt(i),[d]=s.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const f=s.vnode.dynamicProps;for(let m=0;m<f.length;m++){let p=f[m];if(xc(s.emitsOptions,p))continue;const g=e[p];if(d)if(Dt(r,p))g!==r[p]&&(r[p]=g,c=!0);else{const v=In(p);i[v]=Df(d,l,v,g,s,!1)}else g!==r[p]&&(r[p]=g,c=!0)}}}else{v_(s,e,i,r)&&(c=!0);let f;for(const m in l)(!e||!Dt(e,m)&&((f=gi(m))===m||!Dt(e,f)))&&(d?t&&(t[m]!==void 0||t[f]!==void 0)&&(i[m]=Df(d,l,m,void 0,s,!0)):delete i[m]);if(r!==l)for(const m in r)(!e||!Dt(e,m))&&(delete r[m],c=!0)}c&&Mo(s.attrs,"set","")}function v_(s,e,t,n){const[i,r]=s.propsOptions;let a=!1,l;if(e)for(let d in e){if(wa(d))continue;const c=e[d];let f;i&&Dt(i,f=In(d))?!r||!r.includes(f)?t[f]=c:(l||(l={}))[f]=c:xc(s.emitsOptions,d)||(!(d in n)||c!==n[d])&&(n[d]=c,a=!0)}if(r){const d=xt(t),c=l||Ut;for(let f=0;f<r.length;f++){const m=r[f];t[m]=Df(i,d,m,c[m],s,!Dt(c,m))}}return a}function Df(s,e,t,n,i,r){const a=s[t];if(a!=null){const l=Dt(a,"default");if(l&&n===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&at(d)){const{propsDefaults:c}=i;if(t in c)n=c[t];else{const f=cl(i);n=c[t]=d.call(null,e),f()}}else n=d;i.ce&&i.ce._setProp(t,n)}a[0]&&(r&&!l?n=!1:a[1]&&(n===""||n===gi(t))&&(n=!0))}return n}const mw=new WeakMap;function y_(s,e,t=!1){const n=t?mw:e.propsCache,i=n.get(s);if(i)return i;const r=s.props,a={},l=[];let d=!1;if(!at(s)){const f=m=>{d=!0;const[p,g]=y_(m,e,!0);is(a,p),g&&l.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(f),s.extends&&f(s.extends),s.mixins&&s.mixins.forEach(f)}if(!r&&!d)return Bt(s)&&n.set(s,gr),gr;if(Xe(r))for(let f=0;f<r.length;f++){const m=In(r[f]);sp(m)&&(a[m]=Ut)}else if(r)for(const f in r){const m=In(f);if(sp(m)){const p=r[f],g=a[m]=Xe(p)||at(p)?{type:p}:is({},p),v=g.type;let k=!1,b=!0;if(Xe(v))for(let w=0;w<v.length;++w){const x=v[w],M=at(x)&&x.name;if(M==="Boolean"){k=!0;break}else M==="String"&&(b=!1)}else k=at(v)&&v.name==="Boolean";g[0]=k,g[1]=b,(k||Dt(g,"default"))&&l.push(m)}}const c=[a,l];return Bt(s)&&n.set(s,c),c}function sp(s){return s[0]!=="$"&&!wa(s)}const Ph=s=>s==="_"||s==="_ctx"||s==="$stable",Rh=s=>Xe(s)?s.map(lo):[lo(s)],pw=(s,e,t)=>{if(e._n)return e;const n=K((...i)=>Rh(e(...i)),t);return n._c=!1,n},b_=(s,e,t)=>{const n=s._ctx;for(const i in s){if(Ph(i))continue;const r=s[i];if(at(r))e[i]=pw(i,r,n);else if(r!=null){const a=Rh(r);e[i]=()=>a}}},x_=(s,e)=>{const t=Rh(e);s.slots.default=()=>t},w_=(s,e,t)=>{for(const n in e)(t||!Ph(n))&&(s[n]=e[n])},gw=(s,e,t)=>{const n=s.slots=g_();if(s.vnode.shapeFlag&32){const i=e._;i?(w_(n,e,t),t&&w1(n,"_",i,!0)):b_(e,n)}else e&&x_(s,e)},_w=(s,e,t)=>{const{vnode:n,slots:i}=s;let r=!0,a=Ut;if(n.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:w_(i,e,t):(r=!e.$stable,b_(e,i)),a=e}else e&&(x_(s,e),a={default:1});if(r)for(const l in i)!Ph(l)&&a[l]==null&&delete i[l]},Gs=Pw;function vw(s){return yw(s)}function yw(s,e){const t=gc();t.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:a,createText:l,createComment:d,setText:c,setElementText:f,parentNode:m,nextSibling:p,setScopeId:g=qn,insertStaticContent:v}=s,k=(U,Y,X,Z=null,se=null,pe=null,Se=void 0,Te=null,Ce=!!Y.dynamicChildren)=>{if(U===Y)return;U&&!Ni(U,Y)&&(Z=$e(U),je(U,se,pe,!0),U=null),Y.patchFlag===-2&&(Ce=!1,Y.dynamicChildren=null);const{type:ke,ref:Ke,shapeFlag:Fe}=Y;switch(ke){case wc:b(U,Y,X,Z);break;case Fs:w(U,Y,X,Z);break;case cd:U==null&&x(Y,X,Z,Se);break;case de:A(U,Y,X,Z,se,pe,Se,Te,Ce);break;default:Fe&1?O(U,Y,X,Z,se,pe,Se,Te,Ce):Fe&6?F(U,Y,X,Z,se,pe,Se,Te,Ce):(Fe&64||Fe&128)&&ke.process(U,Y,X,Z,se,pe,Se,Te,Ce,Oe)}Ke!=null&&se?Sa(Ke,U&&U.ref,pe,Y||U,!Y):Ke==null&&U&&U.ref!=null&&Sa(U.ref,null,pe,U,!0)},b=(U,Y,X,Z)=>{if(U==null)n(Y.el=l(Y.children),X,Z);else{const se=Y.el=U.el;Y.children!==U.children&&c(se,Y.children)}},w=(U,Y,X,Z)=>{U==null?n(Y.el=d(Y.children||""),X,Z):Y.el=U.el},x=(U,Y,X,Z)=>{[U.el,U.anchor]=v(U.children,Y,X,Z,U.el,U.anchor)},M=({el:U,anchor:Y},X,Z)=>{let se;for(;U&&U!==Y;)se=p(U),n(U,X,Z),U=se;n(Y,X,Z)},C=({el:U,anchor:Y})=>{let X;for(;U&&U!==Y;)X=p(U),i(U),U=X;i(Y)},O=(U,Y,X,Z,se,pe,Se,Te,Ce)=>{Y.type==="svg"?Se="svg":Y.type==="math"&&(Se="mathml"),U==null?N(Y,X,Z,se,pe,Se,Te,Ce):L(U,Y,se,pe,Se,Te,Ce)},N=(U,Y,X,Z,se,pe,Se,Te)=>{let Ce,ke;const{props:Ke,shapeFlag:Fe,transition:De,dirs:st}=U;if(Ce=U.el=a(U.type,pe,Ke&&Ke.is,Ke),Fe&8?f(Ce,U.children):Fe&16&&B(U.children,Ce,null,Z,se,Tu(U,pe),Se,Te),st&&$i(U,null,Z,"created"),E(Ce,U,U.scopeId,Se,Z),Ke){for(const At in Ke)At!=="value"&&!wa(At)&&r(Ce,At,null,Ke[At],pe,Z);"value"in Ke&&r(Ce,"value",null,Ke.value,pe),(ke=Ke.onVnodeBeforeMount)&&to(ke,Z,U)}st&&$i(U,null,Z,"beforeMount");const gt=bw(se,De);gt&&De.beforeEnter(Ce),n(Ce,Y,X),((ke=Ke&&Ke.onVnodeMounted)||gt||st)&&Gs(()=>{ke&&to(ke,Z,U),gt&&De.enter(Ce),st&&$i(U,null,Z,"mounted")},se)},E=(U,Y,X,Z,se)=>{if(X&&g(U,X),Z)for(let pe=0;pe<Z.length;pe++)g(U,Z[pe]);if(se){let pe=se.subTree;if(Y===pe||S_(pe.type)&&(pe.ssContent===Y||pe.ssFallback===Y)){const Se=se.vnode;E(U,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},B=(U,Y,X,Z,se,pe,Se,Te,Ce=0)=>{for(let ke=Ce;ke<U.length;ke++){const Ke=U[ke]=Te?Ko(U[ke]):lo(U[ke]);k(null,Ke,Y,X,Z,se,pe,Se,Te)}},L=(U,Y,X,Z,se,pe,Se)=>{const Te=Y.el=U.el;let{patchFlag:Ce,dynamicChildren:ke,dirs:Ke}=Y;Ce|=U.patchFlag&16;const Fe=U.props||Ut,De=Y.props||Ut;let st;if(X&&Ci(X,!1),(st=De.onVnodeBeforeUpdate)&&to(st,X,Y,U),Ke&&$i(Y,U,X,"beforeUpdate"),X&&Ci(X,!0),(Fe.innerHTML&&De.innerHTML==null||Fe.textContent&&De.textContent==null)&&f(Te,""),ke?P(U.dynamicChildren,ke,Te,X,Z,Tu(Y,se),pe):Se||ne(U,Y,Te,null,X,Z,Tu(Y,se),pe,!1),Ce>0){if(Ce&16)R(Te,Fe,De,X,se);else if(Ce&2&&Fe.class!==De.class&&r(Te,"class",null,De.class,se),Ce&4&&r(Te,"style",Fe.style,De.style,se),Ce&8){const gt=Y.dynamicProps;for(let At=0;At<gt.length;At++){const bt=gt[At],_s=Fe[bt],as=De[bt];(as!==_s||bt==="value")&&r(Te,bt,_s,as,se,X)}}Ce&1&&U.children!==Y.children&&f(Te,Y.children)}else!Se&&ke==null&&R(Te,Fe,De,X,se);((st=De.onVnodeUpdated)||Ke)&&Gs(()=>{st&&to(st,X,Y,U),Ke&&$i(Y,U,X,"updated")},Z)},P=(U,Y,X,Z,se,pe,Se)=>{for(let Te=0;Te<Y.length;Te++){const Ce=U[Te],ke=Y[Te],Ke=Ce.el&&(Ce.type===de||!Ni(Ce,ke)||Ce.shapeFlag&198)?m(Ce.el):X;k(Ce,ke,Ke,null,Z,se,pe,Se,!0)}},R=(U,Y,X,Z,se)=>{if(Y!==X){if(Y!==Ut)for(const pe in Y)!wa(pe)&&!(pe in X)&&r(U,pe,Y[pe],null,se,Z);for(const pe in X){if(wa(pe))continue;const Se=X[pe],Te=Y[pe];Se!==Te&&pe!=="value"&&r(U,pe,Te,Se,se,Z)}"value"in X&&r(U,"value",Y.value,X.value,se)}},A=(U,Y,X,Z,se,pe,Se,Te,Ce)=>{const ke=Y.el=U?U.el:l(""),Ke=Y.anchor=U?U.anchor:l("");let{patchFlag:Fe,dynamicChildren:De,slotScopeIds:st}=Y;st&&(Te=Te?Te.concat(st):st),U==null?(n(ke,X,Z),n(Ke,X,Z),B(Y.children||[],X,Ke,se,pe,Se,Te,Ce)):Fe>0&&Fe&64&&De&&U.dynamicChildren?(P(U.dynamicChildren,De,X,se,pe,Se,Te),(Y.key!=null||se&&Y===se.subTree)&&jh(U,Y,!0)):ne(U,Y,X,Ke,se,pe,Se,Te,Ce)},F=(U,Y,X,Z,se,pe,Se,Te,Ce)=>{Y.slotScopeIds=Te,U==null?Y.shapeFlag&512?se.ctx.activate(Y,X,Z,Se,Ce):be(Y,X,Z,se,pe,Se,Ce):ae(U,Y,Ce)},be=(U,Y,X,Z,se,pe,Se)=>{const Te=U.component=Fw(U,Z,se);if(yc(U)&&(Te.ctx.renderer=Oe),Nw(Te,!1,Se),Te.asyncDep){if(se&&se.registerDep(Te,le,Se),!U.el){const Ce=Te.subTree=S(Fs);w(null,Ce,Y,X),U.placeholder=Ce.el}}else le(Te,U,Y,X,se,pe,Se)},ae=(U,Y,X)=>{const Z=Y.component=U.component;if(Dw(U,Y,X))if(Z.asyncDep&&!Z.asyncResolved){J(Z,Y,X);return}else Z.next=Y,Z.update();else Y.el=U.el,Z.vnode=Y},le=(U,Y,X,Z,se,pe,Se)=>{const Te=()=>{if(U.isMounted){let{next:Fe,bu:De,u:st,parent:gt,vnode:At}=U;{const hs=k_(U);if(hs){Fe&&(Fe.el=At.el,J(U,Fe,Se)),hs.asyncDep.then(()=>{U.isUnmounted||Te()});return}}let bt=Fe,_s;Ci(U,!1),Fe?(Fe.el=At.el,J(U,Fe,Se)):Fe=At,De&&ld(De),(_s=Fe.props&&Fe.props.onVnodeBeforeUpdate)&&to(_s,gt,Fe,At),Ci(U,!0);const as=Au(U),Ds=U.subTree;U.subTree=as,k(Ds,as,m(Ds.el),$e(Ds),U,se,pe),Fe.el=as.el,bt===null&&Ew(U,as.el),st&&Gs(st,se),(_s=Fe.props&&Fe.props.onVnodeUpdated)&&Gs(()=>to(_s,gt,Fe,At),se)}else{let Fe;const{el:De,props:st}=Y,{bm:gt,m:At,parent:bt,root:_s,type:as}=U,Ds=br(Y);if(Ci(U,!1),gt&&ld(gt),!Ds&&(Fe=st&&st.onVnodeBeforeMount)&&to(Fe,bt,Y),Ci(U,!0),De&&fe){const hs=()=>{U.subTree=Au(U),fe(De,U.subTree,U,se,null)};Ds&&as.__asyncHydrate?as.__asyncHydrate(De,U,hs):hs()}else{_s.ce&&_s.ce._def.shadowRoot!==!1&&_s.ce._injectChildStyle(as);const hs=U.subTree=Au(U);k(null,hs,X,Z,U,se,pe),Y.el=hs.el}if(At&&Gs(At,se),!Ds&&(Fe=st&&st.onVnodeMounted)){const hs=Y;Gs(()=>to(Fe,bt,hs),se)}(Y.shapeFlag&256||bt&&br(bt.vnode)&&bt.vnode.shapeFlag&256)&&U.a&&Gs(U.a,se),U.isMounted=!0,Y=X=Z=null}};U.scope.on();const Ce=U.effect=new A1(Te);U.scope.off();const ke=U.update=Ce.run.bind(Ce),Ke=U.job=Ce.runIfDirty.bind(Ce);Ke.i=U,Ke.id=U.uid,Ce.scheduler=()=>Mh(Ke),Ci(U,!0),ke()},J=(U,Y,X)=>{Y.component=U;const Z=U.vnode.props;U.vnode=Y,U.next=null,hw(U,Y.props,Z,X),_w(U,Y.children,X),Ro(),Wm(U),jo()},ne=(U,Y,X,Z,se,pe,Se,Te,Ce=!1)=>{const ke=U&&U.children,Ke=U?U.shapeFlag:0,Fe=Y.children,{patchFlag:De,shapeFlag:st}=Y;if(De>0){if(De&128){oe(ke,Fe,X,Z,se,pe,Se,Te,Ce);return}else if(De&256){q(ke,Fe,X,Z,se,pe,Se,Te,Ce);return}}st&8?(Ke&16&&we(ke,se,pe),Fe!==ke&&f(X,Fe)):Ke&16?st&16?oe(ke,Fe,X,Z,se,pe,Se,Te,Ce):we(ke,se,pe,!0):(Ke&8&&f(X,""),st&16&&B(Fe,X,Z,se,pe,Se,Te,Ce))},q=(U,Y,X,Z,se,pe,Se,Te,Ce)=>{U=U||gr,Y=Y||gr;const ke=U.length,Ke=Y.length,Fe=Math.min(ke,Ke);let De;for(De=0;De<Fe;De++){const st=Y[De]=Ce?Ko(Y[De]):lo(Y[De]);k(U[De],st,X,null,se,pe,Se,Te,Ce)}ke>Ke?we(U,se,pe,!0,!1,Fe):B(Y,X,Z,se,pe,Se,Te,Ce,Fe)},oe=(U,Y,X,Z,se,pe,Se,Te,Ce)=>{let ke=0;const Ke=Y.length;let Fe=U.length-1,De=Ke-1;for(;ke<=Fe&&ke<=De;){const st=U[ke],gt=Y[ke]=Ce?Ko(Y[ke]):lo(Y[ke]);if(Ni(st,gt))k(st,gt,X,null,se,pe,Se,Te,Ce);else break;ke++}for(;ke<=Fe&&ke<=De;){const st=U[Fe],gt=Y[De]=Ce?Ko(Y[De]):lo(Y[De]);if(Ni(st,gt))k(st,gt,X,null,se,pe,Se,Te,Ce);else break;Fe--,De--}if(ke>Fe){if(ke<=De){const st=De+1,gt=st<Ke?Y[st].el:Z;for(;ke<=De;)k(null,Y[ke]=Ce?Ko(Y[ke]):lo(Y[ke]),X,gt,se,pe,Se,Te,Ce),ke++}}else if(ke>De)for(;ke<=Fe;)je(U[ke],se,pe,!0),ke++;else{const st=ke,gt=ke,At=new Map;for(ke=gt;ke<=De;ke++){const ms=Y[ke]=Ce?Ko(Y[ke]):lo(Y[ke]);ms.key!=null&&At.set(ms.key,ke)}let bt,_s=0;const as=De-gt+1;let Ds=!1,hs=0;const zn=new Array(as);for(ke=0;ke<as;ke++)zn[ke]=0;for(ke=st;ke<=Fe;ke++){const ms=U[ke];if(_s>=as){je(ms,se,pe,!0);continue}let Es;if(ms.key!=null)Es=At.get(ms.key);else for(bt=gt;bt<=De;bt++)if(zn[bt-gt]===0&&Ni(ms,Y[bt])){Es=bt;break}Es===void 0?je(ms,se,pe,!0):(zn[Es-gt]=ke+1,Es>=hs?hs=Es:Ds=!0,k(ms,Y[Es],X,null,se,pe,Se,Te,Ce),_s++)}const Nt=Ds?xw(zn):gr;for(bt=Nt.length-1,ke=as-1;ke>=0;ke--){const ms=gt+ke,Es=Y[ms],or=Y[ms+1],Bn=ms+1<Ke?or.el||or.placeholder:Z;zn[ke]===0?k(null,Es,X,Bn,se,pe,Se,Te,Ce):Ds&&(bt<0||ke!==Nt[bt]?xe(Es,X,Bn,2):bt--)}}},xe=(U,Y,X,Z,se=null)=>{const{el:pe,type:Se,transition:Te,children:Ce,shapeFlag:ke}=U;if(ke&6){xe(U.component.subTree,Y,X,Z);return}if(ke&128){U.suspense.move(Y,X,Z);return}if(ke&64){Se.move(U,Y,X,Oe);return}if(Se===de){n(pe,Y,X);for(let Fe=0;Fe<Ce.length;Fe++)xe(Ce[Fe],Y,X,Z);n(U.anchor,Y,X);return}if(Se===cd){M(U,Y,X);return}if(Z!==2&&ke&1&&Te)if(Z===0)Te.beforeEnter(pe),n(pe,Y,X),Gs(()=>Te.enter(pe),se);else{const{leave:Fe,delayLeave:De,afterLeave:st}=Te,gt=()=>{U.ctx.isUnmounted?i(pe):n(pe,Y,X)},At=()=>{pe._isLeaving&&pe[Co](!0),Fe(pe,()=>{gt(),st&&st()})};De?De(pe,gt,At):At()}else n(pe,Y,X)},je=(U,Y,X,Z=!1,se=!1)=>{const{type:pe,props:Se,ref:Te,children:Ce,dynamicChildren:ke,shapeFlag:Ke,patchFlag:Fe,dirs:De,cacheIndex:st}=U;if(Fe===-2&&(se=!1),Te!=null&&(Ro(),Sa(Te,null,X,U,!0),jo()),st!=null&&(Y.renderCache[st]=void 0),Ke&256){Y.ctx.deactivate(U);return}const gt=Ke&1&&De,At=!br(U);let bt;if(At&&(bt=Se&&Se.onVnodeBeforeUnmount)&&to(bt,Y,U),Ke&6)he(U.component,X,Z);else{if(Ke&128){U.suspense.unmount(X,Z);return}gt&&$i(U,null,Y,"beforeUnmount"),Ke&64?U.type.remove(U,Y,X,Oe,Z):ke&&!ke.hasOnce&&(pe!==de||Fe>0&&Fe&64)?we(ke,Y,X,!1,!0):(pe===de&&Fe&384||!se&&Ke&16)&&we(Ce,Y,X),Z&&ot(U)}(At&&(bt=Se&&Se.onVnodeUnmounted)||gt)&&Gs(()=>{bt&&to(bt,Y,U),gt&&$i(U,null,Y,"unmounted")},X)},ot=U=>{const{type:Y,el:X,anchor:Z,transition:se}=U;if(Y===de){ht(X,Z);return}if(Y===cd){C(U);return}const pe=()=>{i(X),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(U.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Te}=se,Ce=()=>Se(X,pe);Te?Te(U.el,pe,Ce):Ce()}else pe()},ht=(U,Y)=>{let X;for(;U!==Y;)X=p(U),i(U),U=X;i(Y)},he=(U,Y,X)=>{const{bum:Z,scope:se,job:pe,subTree:Se,um:Te,m:Ce,a:ke}=U;np(Ce),np(ke),Z&&ld(Z),se.stop(),pe&&(pe.flags|=8,je(Se,U,Y,X)),Te&&Gs(Te,Y),Gs(()=>{U.isUnmounted=!0},Y)},we=(U,Y,X,Z=!1,se=!1,pe=0)=>{for(let Se=pe;Se<U.length;Se++)je(U[Se],Y,X,Z,se)},$e=U=>{if(U.shapeFlag&6)return $e(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const Y=p(U.anchor||U.el),X=Y&&Y[J1];return X?p(X):Y};let Ne=!1;const et=(U,Y,X)=>{U==null?Y._vnode&&je(Y._vnode,null,null,!0):k(Y._vnode||null,U,Y,null,null,null,X),Y._vnode=U,Ne||(Ne=!0,Wm(),Y1(),Ne=!1)},Oe={p:k,um:je,m:xe,r:ot,mt:be,mc:B,pc:ne,pbc:P,n:$e,o:s};let ue,fe;return e&&([ue,fe]=e(Oe)),{render:et,hydrate:ue,createApp:cw(et,ue)}}function Tu({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ci({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function bw(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function jh(s,e,t=!1){const n=s.children,i=e.children;if(Xe(n)&&Xe(i))for(let r=0;r<n.length;r++){const a=n[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Ko(i[r]),l.el=a.el),!t&&l.patchFlag!==-2&&jh(a,l)),l.type===wc&&l.patchFlag!==-1&&(l.el=a.el),l.type===Fs&&!l.el&&(l.el=a.el)}}function xw(s){const e=s.slice(),t=[0];let n,i,r,a,l;const d=s.length;for(n=0;n<d;n++){const c=s[n];if(c!==0){if(i=t[t.length-1],s[i]<c){e[n]=i,t.push(n);continue}for(r=0,a=t.length-1;r<a;)l=r+a>>1,s[t[l]]<c?r=l+1:a=l;c<s[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,a=t[r-1];r-- >0;)t[r]=a,a=e[a];return t}function k_(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:k_(e)}function np(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const ww=Symbol.for("v-scx"),kw=()=>Je(ww);function ln(s,e){return Oh(s,null,e)}function Et(s,e,t){return Oh(s,e,t)}function Oh(s,e,t=Ut){const{immediate:n,deep:i,flush:r,once:a}=t,l=is({},t),d=e&&n||!e&&r!=="post";let c;if(Xa){if(r==="sync"){const g=kw();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!d){const g=()=>{};return g.stop=qn,g.resume=qn,g.pause=qn,g}}const f=Ns;l.call=(g,v,k)=>Xn(g,f,v,k);let m=!1;r==="post"?l.scheduler=g=>{Gs(g,f&&f.suspense)}:r!=="sync"&&(m=!0,l.scheduler=(g,v)=>{v?g():Mh(g)}),l.augmentJob=g=>{e&&(g.flags|=4),m&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const p=U2(s,e,l);return Xa&&(c?c.push(p):d&&p()),p}function $w(s,e,t){const n=this.proxy,i=Jt(s)?s.includes(".")?$_(n,s):()=>n[s]:s.bind(n,n);let r;at(e)?r=e:(r=e.handler,t=e);const a=cl(this),l=Oh(i,r.bind(n),t);return a(),l}function $_(s,e){const t=e.split(".");return()=>{let n=s;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}const Cw=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${In(e)}Modifiers`]||s[`${gi(e)}Modifiers`];function Sw(s,e,...t){if(s.isUnmounted)return;const n=s.vnode.props||Ut;let i=t;const r=e.startsWith("update:"),a=r&&Cw(n,e.slice(7));a&&(a.trim&&(i=t.map(f=>Jt(f)?f.trim():f)),a.number&&(i=t.map(Ed)));let l,d=n[l=xu(e)]||n[l=xu(In(e))];!d&&r&&(d=n[l=xu(gi(e))]),d&&Xn(d,s,6,i);const c=n[l+"Once"];if(c){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Xn(c,s,6,i)}}const Mw=new WeakMap;function C_(s,e,t=!1){const n=t?Mw:e.emitsCache,i=n.get(s);if(i!==void 0)return i;const r=s.emits;let a={},l=!1;if(!at(s)){const d=c=>{const f=C_(c,e,!0);f&&(l=!0,is(a,f))};!t&&e.mixins.length&&e.mixins.forEach(d),s.extends&&d(s.extends),s.mixins&&s.mixins.forEach(d)}return!r&&!l?(Bt(s)&&n.set(s,null),null):(Xe(r)?r.forEach(d=>a[d]=null):is(a,r),Bt(s)&&n.set(s,a),a)}function xc(s,e){return!s||!hc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(s,e[0].toLowerCase()+e.slice(1))||Dt(s,gi(e))||Dt(s,e))}function Au(s){const{type:e,vnode:t,proxy:n,withProxy:i,propsOptions:[r],slots:a,attrs:l,emit:d,render:c,renderCache:f,props:m,data:p,setupState:g,ctx:v,inheritAttrs:k}=s,b=Id(s);let w,x;try{if(t.shapeFlag&4){const C=i||n,O=C;w=lo(c.call(O,C,f,m,g,p,v)),x=l}else{const C=e;w=lo(C.length>1?C(m,{attrs:l,slots:a,emit:d}):C(m,null)),x=e.props?l:Tw(l)}}catch(C){Ta.length=0,vc(C,s,1),w=S(Fs)}let M=w;if(x&&k!==!1){const C=Object.keys(x),{shapeFlag:O}=M;C.length&&O&7&&(r&&C.some(gh)&&(x=Aw(x,r)),M=Oo(M,x,!1,!0))}return t.dirs&&(M=Oo(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(t.dirs):t.dirs),t.transition&&Ji(M,t.transition),w=M,Id(b),w}const Tw=s=>{let e;for(const t in s)(t==="class"||t==="style"||hc(t))&&((e||(e={}))[t]=s[t]);return e},Aw=(s,e)=>{const t={};for(const n in s)(!gh(n)||!(n.slice(9)in e))&&(t[n]=s[n]);return t};function Dw(s,e,t){const{props:n,children:i,component:r}=s,{props:a,children:l,patchFlag:d}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&d>=0){if(d&1024)return!0;if(d&16)return n?op(n,a,c):!!a;if(d&8){const f=e.dynamicProps;for(let m=0;m<f.length;m++){const p=f[m];if(a[p]!==n[p]&&!xc(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?op(n,a,c):!0:!!a;return!1}function op(s,e,t){const n=Object.keys(e);if(n.length!==Object.keys(s).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==s[r]&&!xc(t,r))return!0}return!1}function Ew({vnode:s,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=e.vnode).el=t,e=e.parent;else break}}const S_=s=>s.__isSuspense;function Pw(s,e){e&&e.pendingBranch?Xe(s)?e.effects.push(...s):e.effects.push(s):W2(s)}const de=Symbol.for("v-fgt"),wc=Symbol.for("v-txt"),Fs=Symbol.for("v-cmt"),cd=Symbol.for("v-stc"),Ta=[];let xn=null;function _(s=!1){Ta.push(xn=s?null:[])}function Rw(){Ta.pop(),xn=Ta[Ta.length-1]||null}let Ya=1;function Nd(s,e=!1){Ya+=s,s<0&&xn&&e&&(xn.hasOnce=!0)}function M_(s){return s.dynamicChildren=Ya>0?xn||gr:null,Rw(),Ya>0&&xn&&xn.push(s),s}function y(s,e,t,n,i,r){return M_(o(s,e,t,n,i,r,!0))}function ie(s,e,t,n,i){return M_(S(s,e,t,n,i,!0))}function Ga(s){return s?s.__v_isVNode===!0:!1}function Ni(s,e){return s.type===e.type&&s.key===e.key}const T_=({key:s})=>s??null,ud=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?Jt(s)||os(s)||at(s)?{i:$s,r:s,k:e,f:!!t}:s:null);function o(s,e=null,t=null,n=0,i=null,r=s===de?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&T_(e),ref:e&&ud(e),scopeId:X1,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$s};return l?(Ih(d,t),r&128&&s.normalize(d)):t&&(d.shapeFlag|=Jt(t)?8:16),Ya>0&&!a&&xn&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&xn.push(d),d}const S=jw;function jw(s,e=null,t=null,n=0,i=null,r=!1){if((!s||s===c_)&&(s=Fs),Ga(s)){const l=Oo(s,e,!0);return t&&Ih(l,t),Ya>0&&!r&&xn&&(l.shapeFlag&6?xn[xn.indexOf(s)]=l:xn.push(l)),l.patchFlag=-2,l}if(Hw(s)&&(s=s.__vccOpts),e){e=Ow(e);let{class:l,style:d}=e;l&&!Jt(l)&&(e.class=ee(l)),Bt(d)&&(Sh(d)&&!Xe(d)&&(d=is({},d)),e.style=wt(d))}const a=Jt(s)?1:S_(s)?128:Q1(s)?64:Bt(s)?4:at(s)?2:0;return o(s,e,t,n,i,a,r,!0)}function Ow(s){return s?Sh(s)||__(s)?is({},s):s:null}function Oo(s,e,t=!1,n=!1){const{props:i,ref:r,patchFlag:a,children:l,transition:d}=s,c=e?A_(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:s.type,props:c,key:c&&T_(c),ref:e&&e.ref?t&&r?Xe(r)?r.concat(ud(e)):[r,ud(e)]:ud(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==de?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:d,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Oo(s.ssContent),ssFallback:s.ssFallback&&Oo(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return d&&n&&Ji(f,d.clone(f)),f}function Q(s=" ",e=0){return S(wc,null,s,e)}function _i(s,e){const t=S(cd,null,s);return t.staticCount=e,t}function j(s="",e=!1){return e?(_(),ie(Fs,null,s)):S(Fs,null,s)}function lo(s){return s==null||typeof s=="boolean"?S(Fs):Xe(s)?S(de,null,s.slice()):Ga(s)?Ko(s):S(wc,null,String(s))}function Ko(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Oo(s)}function Ih(s,e){let t=0;const{shapeFlag:n}=s;if(e==null)e=null;else if(Xe(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Ih(s,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!__(e)?e._ctx=$s:i===3&&$s&&($s.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:$s},t=32):(e=String(e),n&64?(t=16,e=[Q(e)]):t=8);s.children=e,s.shapeFlag|=t}function A_(...s){const e={};for(let t=0;t<s.length;t++){const n=s[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=ee([e.class,n.class]));else if(i==="style")e.style=wt([e.style,n.style]);else if(hc(i)){const r=e[i],a=n[i];a&&r!==a&&!(Xe(r)&&r.includes(a))&&(e[i]=r?[].concat(r,a):a)}else i!==""&&(e[i]=n[i])}return e}function to(s,e,t,n=null){Xn(s,e,7,[t,n])}const Iw=m_();let Lw=0;function Fw(s,e,t){const n=s.type,i=(e?e.appContext:s.appContext)||Iw,r={uid:Lw++,vnode:s,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new S1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:y_(n,i),emitsOptions:C_(n,i),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:n.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Sw.bind(null,r),s.ce&&s.ce(r),r}let Ns=null;const Nr=()=>Ns||$s;let zd,Ef;{const s=gc(),e=(t,n)=>{let i;return(i=s[t])||(i=s[t]=[]),i.push(n),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};zd=e("__VUE_INSTANCE_SETTERS__",t=>Ns=t),Ef=e("__VUE_SSR_SETTERS__",t=>Xa=t)}const cl=s=>{const e=Ns;return zd(s),s.scope.on(),()=>{s.scope.off(),zd(e)}},ip=()=>{Ns&&Ns.scope.off(),zd(null)};function D_(s){return s.vnode.shapeFlag&4}let Xa=!1;function Nw(s,e=!1,t=!1){e&&Ef(e);const{props:n,children:i}=s.vnode,r=D_(s);fw(s,n,r,e),gw(s,i,t||e);const a=r?zw(s,e):void 0;return e&&Ef(!1),a}function zw(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,nw);const{setup:n}=t;if(n){Ro();const i=s.setupContext=n.length>1?Uw(s):null,r=cl(s),a=dl(n,s,0,[s.props,i]),l=y1(a);if(jo(),r(),(l||s.sp)&&!br(s)&&r_(s),l){if(a.then(ip,ip),e)return a.then(d=>{rp(s,d,e)}).catch(d=>{vc(d,s,0)});s.asyncDep=a}else rp(s,a,e)}else E_(s,e)}function rp(s,e,t){at(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Bt(e)&&(s.setupState=W1(e)),E_(s,t)}let ap;function E_(s,e,t){const n=s.type;if(!s.render){if(!e&&ap&&!n.render){const i=n.template||Eh(s).template;if(i){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:l,compilerOptions:d}=n,c=is(is({isCustomElement:r,delimiters:l},a),d);n.render=ap(i,c)}}s.render=n.render||qn}{const i=cl(s);Ro();try{ow(s)}finally{jo(),i()}}}const Bw={get(s,e){return Ls(s,"get",""),s[e]}};function Uw(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,Bw),slots:s.slots,emit:s.emit,expose:e}}function kc(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(W1(Cr(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ma)return Ma[t](s)},has(e,t){return t in e||t in Ma}})):s.proxy}function Vw(s,e=!0){return at(s)?s.displayName||s.name:s.name||e&&s.__name}function Hw(s){return at(s)&&"__vccOpts"in s}const Pe=(s,e)=>z2(s,e,Xa);function It(s,e,t){try{Nd(-1);const n=arguments.length;return n===2?Bt(e)&&!Xe(e)?Ga(e)?S(s,null,[e]):S(s,e):S(s,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Ga(t)&&(t=[t]),S(s,e,t))}finally{Nd(1)}}const Ww="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pf;const lp=typeof window<"u"&&window.trustedTypes;if(lp)try{Pf=lp.createPolicy("vue",{createHTML:s=>s})}catch{}const P_=Pf?s=>Pf.createHTML(s):s=>s,qw="http://www.w3.org/2000/svg",Kw="http://www.w3.org/1998/Math/MathML",$o=typeof document<"u"?document:null,dp=$o&&$o.createElement("template"),Yw={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,n)=>{const i=e==="svg"?$o.createElementNS(qw,s):e==="mathml"?$o.createElementNS(Kw,s):t?$o.createElement(s,{is:t}):$o.createElement(s);return s==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:s=>$o.createTextNode(s),createComment:s=>$o.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>$o.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,n,i,r){const a=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{dp.innerHTML=P_(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const l=dp.content;if(n==="svg"||n==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Uo="transition",Qr="animation",Sr=Symbol("_vtc"),R_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},j_=is({},s_,R_),Gw=s=>(s.displayName="Transition",s.props=j_,s),Xw=Gw((s,{slots:e})=>It(Y2,O_(s),e)),Si=(s,e=[])=>{Xe(s)?s.forEach(t=>t(...e)):s&&s(...e)},cp=s=>s?Xe(s)?s.some(e=>e.length>1):s.length>1:!1;function O_(s){const e={};for(const A in s)A in R_||(e[A]=s[A]);if(s.css===!1)return e;const{name:t="v",type:n,duration:i,enterFromClass:r=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:d=r,appearActiveClass:c=a,appearToClass:f=l,leaveFromClass:m=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:g=`${t}-leave-to`}=s,v=Jw(i),k=v&&v[0],b=v&&v[1],{onBeforeEnter:w,onEnter:x,onEnterCancelled:M,onLeave:C,onLeaveCancelled:O,onBeforeAppear:N=w,onAppear:E=x,onAppearCancelled:B=M}=e,L=(A,F,be,ae)=>{A._enterCancelled=ae,Ho(A,F?f:l),Ho(A,F?c:a),be&&be()},P=(A,F)=>{A._isLeaving=!1,Ho(A,m),Ho(A,g),Ho(A,p),F&&F()},R=A=>(F,be)=>{const ae=A?E:x,le=()=>L(F,A,be);Si(ae,[F,le]),up(()=>{Ho(F,A?d:r),no(F,A?f:l),cp(ae)||fp(F,n,k,le)})};return is(e,{onBeforeEnter(A){Si(w,[A]),no(A,r),no(A,a)},onBeforeAppear(A){Si(N,[A]),no(A,d),no(A,c)},onEnter:R(!1),onAppear:R(!0),onLeave(A,F){A._isLeaving=!0;const be=()=>P(A,F);no(A,m),A._enterCancelled?(no(A,p),Rf(A)):(Rf(A),no(A,p)),up(()=>{A._isLeaving&&(Ho(A,m),no(A,g),cp(C)||fp(A,n,b,be))}),Si(C,[A,be])},onEnterCancelled(A){L(A,!1,void 0,!0),Si(M,[A])},onAppearCancelled(A){L(A,!0,void 0,!0),Si(B,[A])},onLeaveCancelled(A){P(A),Si(O,[A])}})}function Jw(s){if(s==null)return null;if(Bt(s))return[Du(s.enter),Du(s.leave)];{const e=Du(s);return[e,e]}}function Du(s){return i2(s)}function no(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[Sr]||(s[Sr]=new Set)).add(e)}function Ho(s,e){e.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const t=s[Sr];t&&(t.delete(e),t.size||(s[Sr]=void 0))}function up(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let Qw=0;function fp(s,e,t,n){const i=s._endId=++Qw,r=()=>{i===s._endId&&n()};if(t!=null)return setTimeout(r,t);const{type:a,timeout:l,propCount:d}=I_(s,e);if(!a)return n();const c=a+"end";let f=0;const m=()=>{s.removeEventListener(c,p),r()},p=g=>{g.target===s&&++f>=d&&m()};setTimeout(()=>{f<d&&m()},l+1),s.addEventListener(c,p)}function I_(s,e){const t=window.getComputedStyle(s),n=v=>(t[v]||"").split(", "),i=n(`${Uo}Delay`),r=n(`${Uo}Duration`),a=hp(i,r),l=n(`${Qr}Delay`),d=n(`${Qr}Duration`),c=hp(l,d);let f=null,m=0,p=0;e===Uo?a>0&&(f=Uo,m=a,p=r.length):e===Qr?c>0&&(f=Qr,m=c,p=d.length):(m=Math.max(a,c),f=m>0?a>c?Uo:Qr:null,p=f?f===Uo?r.length:d.length:0);const g=f===Uo&&/\b(?:transform|all)(?:,|$)/.test(n(`${Uo}Property`).toString());return{type:f,timeout:m,propCount:p,hasTransform:g}}function hp(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,n)=>mp(t)+mp(s[n])))}function mp(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Rf(s){return(s?s.ownerDocument:document).body.offsetHeight}function Zw(s,e,t){const n=s[Sr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Bd=Symbol("_vod"),L_=Symbol("_vsh"),zt={name:"show",beforeMount(s,{value:e},{transition:t}){s[Bd]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):Zr(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:n}){!e!=!t&&(n?e?(n.beforeEnter(s),Zr(s,!0),n.enter(s)):n.leave(s,()=>{Zr(s,!1)}):Zr(s,e))},beforeUnmount(s,{value:e}){Zr(s,e)}};function Zr(s,e){s.style.display=e?s[Bd]:"none",s[L_]=!e}const e5=Symbol(""),t5=/(?:^|;)\s*display\s*:/;function s5(s,e,t){const n=s.style,i=Jt(t);let r=!1;if(t&&!i){if(e)if(Jt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&fd(n,l,"")}else for(const a in e)t[a]==null&&fd(n,a,"");for(const a in t)a==="display"&&(r=!0),fd(n,a,t[a])}else if(i){if(e!==t){const a=n[e5];a&&(t+=";"+a),n.cssText=t,r=t5.test(t)}}else e&&s.removeAttribute("style");Bd in s&&(s[Bd]=r?n.display:"",s[L_]&&(n.display="none"))}const pp=/\s*!important$/;function fd(s,e,t){if(Xe(t))t.forEach(n=>fd(s,e,n));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const n=n5(s,e);pp.test(t)?s.setProperty(gi(n),t.replace(pp,""),"important"):s[n]=t}}const gp=["Webkit","Moz","ms"],Eu={};function n5(s,e){const t=Eu[e];if(t)return t;let n=In(e);if(n!=="filter"&&n in s)return Eu[e]=n;n=pc(n);for(let i=0;i<gp.length;i++){const r=gp[i]+n;if(r in s)return Eu[e]=r}return e}const _p="http://www.w3.org/1999/xlink";function vp(s,e,t,n,i,r=u2(e)){n&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(_p,e.slice(6,e.length)):s.setAttributeNS(_p,e,t):t==null||r&&!k1(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Gn(t)?String(t):t)}function yp(s,e,t,n,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?P_(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,d=t==null?s.type==="checkbox"?"on":"":String(t);(l!==d||!("_value"in s))&&(s.value=d),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=k1(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(i||e)}function Ao(s,e,t,n){s.addEventListener(e,t,n)}function o5(s,e,t,n){s.removeEventListener(e,t,n)}const bp=Symbol("_vei");function i5(s,e,t,n,i=null){const r=s[bp]||(s[bp]={}),a=r[e];if(n&&a)a.value=n;else{const[l,d]=r5(e);if(n){const c=r[e]=d5(n,i);Ao(s,l,c,d)}else a&&(o5(s,l,a,d),r[e]=void 0)}}const xp=/(?:Once|Passive|Capture)$/;function r5(s){let e;if(xp.test(s)){e={};let n;for(;n=s.match(xp);)s=s.slice(0,s.length-n[0].length),e[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):gi(s.slice(2)),e]}let Pu=0;const a5=Promise.resolve(),l5=()=>Pu||(a5.then(()=>Pu=0),Pu=Date.now());function d5(s,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Xn(c5(n,t.value),e,5,[n])};return t.value=s,t.attached=l5(),t}function c5(s,e){if(Xe(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const wp=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,u5=(s,e,t,n,i,r)=>{const a=i==="svg";e==="class"?Zw(s,n,a):e==="style"?s5(s,t,n):hc(e)?gh(e)||i5(s,e,t,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):f5(s,e,n,a))?(yp(s,e,n),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&vp(s,e,n,a,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!Jt(n))?yp(s,In(e),n,r,e):(e==="true-value"?s._trueValue=n:e==="false-value"&&(s._falseValue=n),vp(s,e,n,a))};function f5(s,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in s&&wp(e)&&at(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=s.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return wp(e)&&Jt(t)?!1:e in s}const F_=new WeakMap,N_=new WeakMap,Ud=Symbol("_moveCb"),kp=Symbol("_enterCb"),h5=s=>(delete s.props.mode,s),m5=h5({name:"TransitionGroup",props:is({},j_,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=Nr(),n=t_();let i,r;return Fr(()=>{if(!i.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!y5(i[0].el,t.vnode.el,a)){i=[];return}i.forEach(g5),i.forEach(_5);const l=i.filter(v5);Rf(t.vnode.el),l.forEach(d=>{const c=d.el,f=c.style;no(c,a),f.transform=f.webkitTransform=f.transitionDuration="";const m=c[Ud]=p=>{p&&p.target!==c||(!p||p.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",m),c[Ud]=null,Ho(c,a))};c.addEventListener("transitionend",m)}),i=[]}),()=>{const a=xt(s),l=O_(a);let d=a.tag||de;if(i=[],r)for(let c=0;c<r.length;c++){const f=r[c];f.el&&f.el instanceof Element&&(i.push(f),Ji(f,Ka(f,l,n,t)),F_.set(f,f.el.getBoundingClientRect()))}r=e.default?Th(e.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null&&Ji(f,Ka(f,l,n,t))}return S(d,null,r)}}}),p5=m5;function g5(s){const e=s.el;e[Ud]&&e[Ud](),e[kp]&&e[kp]()}function _5(s){N_.set(s,s.el.getBoundingClientRect())}function v5(s){const e=F_.get(s),t=N_.get(s),n=e.left-t.left,i=e.top-t.top;if(n||i){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s",s}}function y5(s,e,t){const n=s.cloneNode(),i=s[Sr];i&&i.forEach(l=>{l.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),t.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(n);const{hasTransform:a}=I_(n);return r.removeChild(n),a}const ui=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Xe(e)?t=>ld(e,t):e};function b5(s){s.target.composing=!0}function $p(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const On=Symbol("_assign"),te={created(s,{modifiers:{lazy:e,trim:t,number:n}},i){s[On]=ui(i);const r=n||i.props&&i.props.type==="number";Ao(s,e?"change":"input",a=>{if(a.target.composing)return;let l=s.value;t&&(l=l.trim()),r&&(l=Ed(l)),s[On](l)}),t&&Ao(s,"change",()=>{s.value=s.value.trim()}),e||(Ao(s,"compositionstart",b5),Ao(s,"compositionend",$p),Ao(s,"change",$p))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:n,trim:i,number:r}},a){if(s[On]=ui(a),s.composing)return;const l=(r||s.type==="number")&&!/^0\d/.test(s.value)?Ed(s.value):s.value,d=e??"";l!==d&&(document.activeElement===s&&s.type!=="range"&&(n&&e===t||i&&s.value.trim()===d)||(s.value=d))}},cs={deep:!0,created(s,e,t){s[On]=ui(t),Ao(s,"change",()=>{const n=s._modelValue,i=Mr(s),r=s.checked,a=s[On];if(Xe(n)){const l=yh(n,i),d=l!==-1;if(r&&!d)a(n.concat(i));else if(!r&&d){const c=[...n];c.splice(l,1),a(c)}}else if(Lr(n)){const l=new Set(n);r?l.add(i):l.delete(i),a(l)}else a(z_(s,r))})},mounted:Cp,beforeUpdate(s,e,t){s[On]=ui(t),Cp(s,e,t)}};function Cp(s,{value:e,oldValue:t},n){s._modelValue=e;let i;if(Xe(e))i=yh(e,n.props.value)>-1;else if(Lr(e))i=e.has(n.props.value);else{if(e===t)return;i=Xi(e,z_(s,!0))}s.checked!==i&&(s.checked=i)}const Pn={created(s,{value:e},t){s.checked=Xi(e,t.props.value),s[On]=ui(t),Ao(s,"change",()=>{s[On](Mr(s))})},beforeUpdate(s,{value:e,oldValue:t},n){s[On]=ui(n),e!==t&&(s.checked=Xi(e,n.props.value))}},Me={deep:!0,created(s,{value:e,modifiers:{number:t}},n){const i=Lr(e);Ao(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>t?Ed(Mr(a)):Mr(a));s[On](s.multiple?i?new Set(r):r:r[0]),s._assigning=!0,kn(()=>{s._assigning=!1})}),s[On]=ui(n)},mounted(s,{value:e}){Sp(s,e)},beforeUpdate(s,e,t){s[On]=ui(t)},updated(s,{value:e}){s._assigning||Sp(s,e)}};function Sp(s,e){const t=s.multiple,n=Xe(e);if(!(t&&!n&&!Lr(e))){for(let i=0,r=s.options.length;i<r;i++){const a=s.options[i],l=Mr(a);if(t)if(n){const d=typeof l;d==="string"||d==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=yh(e,l)>-1}else a.selected=e.has(l);else if(Xi(Mr(a),e)){s.selectedIndex!==i&&(s.selectedIndex=i);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function Mr(s){return"_value"in s?s._value:s.value}function z_(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const x5={created(s,e,t){El(s,e,t,null,"created")},mounted(s,e,t){El(s,e,t,null,"mounted")},beforeUpdate(s,e,t,n){El(s,e,t,n,"beforeUpdate")},updated(s,e,t,n){El(s,e,t,n,"updated")}};function w5(s,e){switch(s){case"SELECT":return Me;case"TEXTAREA":return te;default:switch(e){case"checkbox":return cs;case"radio":return Pn;default:return te}}}function El(s,e,t,n,i){const a=w5(s.tagName,t.props&&t.props.type)[i];a&&a(s,e,t,n)}const k5=["ctrl","shift","alt","meta"],$5={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>k5.some(t=>s[`${t}Key`]&&!e.includes(t))},We=(s,e)=>{const t=s._withMods||(s._withMods={}),n=e.join(".");return t[n]||(t[n]=(i,...r)=>{for(let a=0;a<e.length;a++){const l=$5[e[a]];if(l&&l(i,e))return}return s(i,...r)})},C5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rn=(s,e)=>{const t=s._withKeys||(s._withKeys={}),n=e.join(".");return t[n]||(t[n]=i=>{if(!("key"in i))return;const r=gi(i.key);if(e.some(a=>a===r||C5[a]===r))return s(i)})},S5=is({patchProp:u5},Yw);let Mp;function M5(){return Mp||(Mp=vw(S5))}const T5=(...s)=>{const e=M5().createApp(...s),{mount:t}=e;return e.mount=n=>{const i=D5(n);if(!i)return;const r=e._component;!at(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=t(i,!1,A5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function A5(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function D5(s){return Jt(s)?document.querySelector(s):s}var E5=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let B_;const $c=s=>B_=s,U_=Symbol();function jf(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Aa;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Aa||(Aa={}));function P5(){const s=M1(!0),e=s.run(()=>I({}));let t=[],n=[];const i=Cr({install(r){$c(i),i._a=r,r.provide(U_,i),r.config.globalProperties.$pinia=i,n.forEach(a=>t.push(a)),n=[]},use(r){return!this._a&&!E5?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return i}const V_=()=>{};function Tp(s,e,t,n=V_){s.push(e);const i=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&T1()&&h2(i),i}function rr(s,...e){s.slice().forEach(t=>{t(...e)})}const R5=s=>s(),Ap=Symbol(),Ru=Symbol();function Of(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],i=s[t];jf(i)&&jf(n)&&s.hasOwnProperty(t)&&!os(n)&&!ri(n)?s[t]=Of(i,n):s[t]=n}return s}const j5=Symbol();function O5(s){return!jf(s)||!s.hasOwnProperty(j5)}const{assign:Wo}=Object;function I5(s){return!!(os(s)&&s.effect)}function L5(s,e,t,n){const{state:i,actions:r,getters:a}=e,l=t.state.value[s];let d;function c(){l||(t.state.value[s]=i?i():{});const f=I2(t.state.value[s]);return Wo(f,r,Object.keys(a||{}).reduce((m,p)=>(m[p]=Cr(Pe(()=>{$c(t);const g=t._s.get(s);return a[p].call(g,g)})),m),{}))}return d=H_(s,c,e,t,n,!0),d}function H_(s,e,t={},n,i,r){let a;const l=Wo({actions:{}},t),d={deep:!0};let c,f,m=[],p=[],g;const v=n.state.value[s];!r&&!v&&(n.state.value[s]={}),I({});let k;function b(B){let L;c=f=!1,typeof B=="function"?(B(n.state.value[s]),L={type:Aa.patchFunction,storeId:s,events:g}):(Of(n.state.value[s],B),L={type:Aa.patchObject,payload:B,storeId:s,events:g});const P=k=Symbol();kn().then(()=>{k===P&&(c=!0)}),f=!0,rr(m,L,n.state.value[s])}const w=r?function(){const{state:L}=t,P=L?L():{};this.$patch(R=>{Wo(R,P)})}:V_;function x(){a.stop(),m=[],p=[],n._s.delete(s)}const M=(B,L="")=>{if(Ap in B)return B[Ru]=L,B;const P=function(){$c(n);const R=Array.from(arguments),A=[],F=[];function be(J){A.push(J)}function ae(J){F.push(J)}rr(p,{args:R,name:P[Ru],store:O,after:be,onError:ae});let le;try{le=B.apply(this&&this.$id===s?this:O,R)}catch(J){throw rr(F,J),J}return le instanceof Promise?le.then(J=>(rr(A,J),J)).catch(J=>(rr(F,J),Promise.reject(J))):(rr(A,le),le)};return P[Ap]=!0,P[Ru]=L,P},C={_p:n,$id:s,$onAction:Tp.bind(null,p),$patch:b,$reset:w,$subscribe(B,L={}){const P=Tp(m,B,L.detached,()=>R()),R=a.run(()=>Et(()=>n.state.value[s],A=>{(L.flush==="sync"?f:c)&&B({storeId:s,type:Aa.direct,events:g},A)},Wo({},d,L)));return P},$dispose:x},O=rt(C);n._s.set(s,O);const E=(n._a&&n._a.runWithContext||R5)(()=>n._e.run(()=>(a=M1()).run(()=>e({action:M}))));for(const B in E){const L=E[B];if(os(L)&&!I5(L)||ri(L))r||(v&&O5(L)&&(os(L)?L.value=v[B]:Of(L,v[B])),n.state.value[s][B]=L);else if(typeof L=="function"){const P=M(L,B);E[B]=P,l.actions[B]=L}}return Wo(O,E),Wo(xt(O),E),Object.defineProperty(O,"$state",{get:()=>n.state.value[s],set:B=>{b(L=>{Wo(L,B)})}}),n._p.forEach(B=>{Wo(O,a.run(()=>B({store:O,app:n._a,pinia:n,options:l})))}),v&&r&&t.hydrate&&t.hydrate(O.$state,v),c=!0,f=!0,O}/*! #__NO_SIDE_EFFECTS__ */function un(s,e,t){let n,i;const r=typeof e=="function";typeof s=="string"?(n=s,i=r?t:e):(i=s,n=s.id);function a(l,d){const c=uw();return l=l||(c?Je(U_,null):null),l&&$c(l),l=B_,l._s.has(n)||(r?H_(n,e,i,l):L5(n,i,l)),l._s.get(n)}return a.$id=n,a}const Cc=un("main",()=>{const s=I(!1),e=I(!1);return{isBlankPage:s,isMobileSidebar:e}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hr=typeof window<"u";function F5(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const jt=Object.assign;function ju(s,e){const t={};for(const n in e){const i=e[n];t[n]=Jn(i)?i.map(s):s(i)}return t}const Da=()=>{},Jn=Array.isArray,N5=/\/$/,z5=s=>s.replace(N5,"");function Ou(s,e,t="/"){let n,i={},r="",a="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(n=e.slice(0,d),r=e.slice(d+1,l>-1?l:e.length),i=s(r)),l>-1&&(n=n||e.slice(0,l),a=e.slice(l,e.length)),n=H5(n??e,t),{fullPath:n+(r&&"?")+r+a,path:n,query:i,hash:a}}function B5(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Dp(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function U5(s,e,t){const n=e.matched.length-1,i=t.matched.length-1;return n>-1&&n===i&&Tr(e.matched[n],t.matched[i])&&W_(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function Tr(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function W_(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!V5(s[t],e[t]))return!1;return!0}function V5(s,e){return Jn(s)?Ep(s,e):Jn(e)?Ep(e,s):s===e}function Ep(s,e){return Jn(e)?s.length===e.length&&s.every((t,n)=>t===e[n]):s.length===1&&s[0]===e}function H5(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),n=s.split("/");let i=t.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var Ja;(function(s){s.pop="pop",s.push="push"})(Ja||(Ja={}));var Ea;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Ea||(Ea={}));function W5(s){if(!s)if(hr){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),z5(s)}const q5=/^[^#]+#/;function K5(s,e){return s.replace(q5,"#")+e}function Y5(s,e){const t=document.documentElement.getBoundingClientRect(),n=s.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Sc=()=>({left:window.pageXOffset,top:window.pageYOffset});function G5(s){let e;if("el"in s){const t=s.el,n=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=Y5(i,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pp(s,e){return(history.state?history.state.position-e:-1)+s}const If=new Map;function X5(s,e){If.set(s,e)}function J5(s){const e=If.get(s);return If.delete(s),e}let Q5=()=>location.protocol+"//"+location.host;function q_(s,e){const{pathname:t,search:n,hash:i}=e,r=s.indexOf("#");if(r>-1){let l=i.includes(s.slice(r))?s.slice(r).length:1,d=i.slice(l);return d[0]!=="/"&&(d="/"+d),Dp(d,"")}return Dp(t,s)+n+i}function Z5(s,e,t,n){let i=[],r=[],a=null;const l=({state:p})=>{const g=q_(s,location),v=t.value,k=e.value;let b=0;if(p){if(t.value=g,e.value=p,a&&a===v){a=null;return}b=k?p.position-k.position:0}else n(g);i.forEach(w=>{w(t.value,v,{delta:b,type:Ja.pop,direction:b?b>0?Ea.forward:Ea.back:Ea.unknown})})};function d(){a=t.value}function c(p){i.push(p);const g=()=>{const v=i.indexOf(p);v>-1&&i.splice(v,1)};return r.push(g),g}function f(){const{history:p}=window;p.state&&p.replaceState(jt({},p.state,{scroll:Sc()}),"")}function m(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:d,listen:c,destroy:m}}function Rp(s,e,t,n=!1,i=!1){return{back:s,current:e,forward:t,replaced:n,position:window.history.length,scroll:i?Sc():null}}function ek(s){const{history:e,location:t}=window,n={value:q_(s,t)},i={value:e.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(d,c,f){const m=s.indexOf("#"),p=m>-1?(t.host&&document.querySelector("base")?s:s.slice(m))+d:Q5()+s+d;try{e[f?"replaceState":"pushState"](c,"",p),i.value=c}catch{t[f?"replace":"assign"](p)}}function a(d,c){const f=jt({},e.state,Rp(i.value.back,d,i.value.forward,!0),c,{position:i.value.position});r(d,f,!0),n.value=d}function l(d,c){const f=jt({},i.value,e.state,{forward:d,scroll:Sc()});r(f.current,f,!0);const m=jt({},Rp(n.value,d,null),{position:f.position+1},c);r(d,m,!1),n.value=d}return{location:n,state:i,push:l,replace:a}}function tk(s){s=W5(s);const e=ek(s),t=Z5(s,e.state,e.location,e.replace);function n(r,a=!0){a||t.pauseListeners(),history.go(r)}const i=jt({location:"",base:s,go:n,createHref:K5.bind(null,s)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function sk(s){return typeof s=="string"||s&&typeof s=="object"}function K_(s){return typeof s=="string"||typeof s=="symbol"}const Vo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Y_=Symbol("");var jp;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(jp||(jp={}));function Ar(s,e){return jt(new Error,{type:s,[Y_]:!0},e)}function bo(s,e){return s instanceof Error&&Y_ in s&&(e==null||!!(s.type&e))}const Op="[^/]+?",nk={sensitive:!1,strict:!1,start:!0,end:!0},ok=/[.+*?^${}()[\]/\\]/g;function ik(s,e){const t=jt({},nk,e),n=[];let i=t.start?"^":"";const r=[];for(const c of s){const f=c.length?[]:[90];t.strict&&!c.length&&(i+="/");for(let m=0;m<c.length;m++){const p=c[m];let g=40+(t.sensitive?.25:0);if(p.type===0)m||(i+="/"),i+=p.value.replace(ok,"\\$&"),g+=40;else if(p.type===1){const{value:v,repeatable:k,optional:b,regexp:w}=p;r.push({name:v,repeatable:k,optional:b});const x=w||Op;if(x!==Op){g+=10;try{new RegExp(`(${x})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${x}): `+C.message)}}let M=k?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;m||(M=b&&c.length<2?`(?:/${M})`:"/"+M),b&&(M+="?"),i+=M,g+=20,b&&(g+=-8),k&&(g+=-20),x===".*"&&(g+=-50)}f.push(g)}n.push(f)}if(t.strict&&t.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const a=new RegExp(i,t.sensitive?"":"i");function l(c){const f=c.match(a),m={};if(!f)return null;for(let p=1;p<f.length;p++){const g=f[p]||"",v=r[p-1];m[v.name]=g&&v.repeatable?g.split("/"):g}return m}function d(c){let f="",m=!1;for(const p of s){(!m||!f.endsWith("/"))&&(f+="/"),m=!1;for(const g of p)if(g.type===0)f+=g.value;else if(g.type===1){const{value:v,repeatable:k,optional:b}=g,w=v in c?c[v]:"";if(Jn(w)&&!k)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const x=Jn(w)?w.join("/"):w;if(!x)if(b)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):m=!0);else throw new Error(`Missing required param "${v}"`);f+=x}}return f||"/"}return{re:a,score:n,keys:r,parse:l,stringify:d}}function rk(s,e){let t=0;for(;t<s.length&&t<e.length;){const n=e[t]-s[t];if(n)return n;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ak(s,e){let t=0;const n=s.score,i=e.score;for(;t<n.length&&t<i.length;){const r=rk(n[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-n.length)===1){if(Ip(n))return 1;if(Ip(i))return-1}return i.length-n.length}function Ip(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const lk={type:0,value:""},dk=/[a-zA-Z0-9_]/;function ck(s){if(!s)return[[]];if(s==="/")return[[lk]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(g){throw new Error(`ERR (${t})/"${c}": ${g}`)}let t=0,n=t;const i=[];let r;function a(){r&&i.push(r),r=[]}let l=0,d,c="",f="";function m(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:f,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=d}for(;l<s.length;){if(d=s[l++],d==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:d==="/"?(c&&m(),a()):d===":"?(m(),t=1):p();break;case 4:p(),t=n;break;case 1:d==="("?t=2:dk.test(d)?p():(m(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+d:t=3:f+=d;break;case 3:m(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,f="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),m(),a(),i}function uk(s,e,t){const n=ik(ck(s.path),t),i=jt(n,{record:s,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function fk(s,e){const t=[],n=new Map;e=Np({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function r(f,m,p){const g=!p,v=hk(f);v.aliasOf=p&&p.record;const k=Np(e,f),b=[v];if("alias"in f){const M=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of M)b.push(jt({},v,{components:p?p.record.components:v.components,path:C,aliasOf:p?p.record:v}))}let w,x;for(const M of b){const{path:C}=M;if(m&&C[0]!=="/"){const O=m.record.path,N=O[O.length-1]==="/"?"":"/";M.path=m.record.path+(C&&N+C)}if(w=uk(M,m,k),p?p.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),g&&f.name&&!Fp(w)&&a(f.name)),v.children){const O=v.children;for(let N=0;N<O.length;N++)r(O[N],w,p&&p.children[N])}p=p||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&d(w)}return x?()=>{a(x)}:Da}function a(f){if(K_(f)){const m=n.get(f);m&&(n.delete(f),t.splice(t.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=t.indexOf(f);m>-1&&(t.splice(m,1),f.record.name&&n.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return t}function d(f){let m=0;for(;m<t.length&&ak(f,t[m])>=0&&(f.record.path!==t[m].record.path||!G_(f,t[m]));)m++;t.splice(m,0,f),f.record.name&&!Fp(f)&&n.set(f.record.name,f)}function c(f,m){let p,g={},v,k;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Ar(1,{location:f});k=p.record.name,g=jt(Lp(m.params,p.keys.filter(x=>!x.optional).map(x=>x.name)),f.params&&Lp(f.params,p.keys.map(x=>x.name))),v=p.stringify(g)}else if("path"in f)v=f.path,p=t.find(x=>x.re.test(v)),p&&(g=p.parse(v),k=p.record.name);else{if(p=m.name?n.get(m.name):t.find(x=>x.re.test(m.path)),!p)throw Ar(1,{location:f,currentLocation:m});k=p.record.name,g=jt({},m.params,f.params),v=p.stringify(g)}const b=[];let w=p;for(;w;)b.unshift(w.record),w=w.parent;return{name:k,path:v,params:g,matched:b,meta:pk(b)}}return s.forEach(f=>r(f)),{addRoute:r,resolve:c,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function Lp(s,e){const t={};for(const n of e)n in s&&(t[n]=s[n]);return t}function hk(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:mk(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function mk(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const n in s.components)e[n]=typeof t=="boolean"?t:t[n];return e}function Fp(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function pk(s){return s.reduce((e,t)=>jt(e,t.meta),{})}function Np(s,e){const t={};for(const n in s)t[n]=n in e?e[n]:s[n];return t}function G_(s,e){return e.children.some(t=>t===s||G_(s,t))}const X_=/#/g,gk=/&/g,_k=/\//g,vk=/=/g,yk=/\?/g,J_=/\+/g,bk=/%5B/g,xk=/%5D/g,Q_=/%5E/g,wk=/%60/g,Z_=/%7B/g,kk=/%7C/g,ev=/%7D/g,$k=/%20/g;function Lh(s){return encodeURI(""+s).replace(kk,"|").replace(bk,"[").replace(xk,"]")}function Ck(s){return Lh(s).replace(Z_,"{").replace(ev,"}").replace(Q_,"^")}function Lf(s){return Lh(s).replace(J_,"%2B").replace($k,"+").replace(X_,"%23").replace(gk,"%26").replace(wk,"`").replace(Z_,"{").replace(ev,"}").replace(Q_,"^")}function Sk(s){return Lf(s).replace(vk,"%3D")}function Mk(s){return Lh(s).replace(X_,"%23").replace(yk,"%3F")}function Tk(s){return s==null?"":Mk(s).replace(_k,"%2F")}function Vd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function Ak(s){const e={};if(s===""||s==="?")return e;const n=(s[0]==="?"?s.slice(1):s).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(J_," "),a=r.indexOf("="),l=Vd(a<0?r:r.slice(0,a)),d=a<0?null:Vd(r.slice(a+1));if(l in e){let c=e[l];Jn(c)||(c=e[l]=[c]),c.push(d)}else e[l]=d}return e}function zp(s){let e="";for(let t in s){const n=s[t];if(t=Sk(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Jn(n)?n.map(r=>r&&Lf(r)):[n&&Lf(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function Dk(s){const e={};for(const t in s){const n=s[t];n!==void 0&&(e[t]=Jn(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const tv=Symbol(""),Bp=Symbol(""),Mc=Symbol(""),Fh=Symbol(""),Ff=Symbol("");function ea(){let s=[];function e(n){return s.push(n),()=>{const i=s.indexOf(n);i>-1&&s.splice(i,1)}}function t(){s=[]}return{add:e,list:()=>s,reset:t}}function Ek(s,e,t){const n=()=>{s[e].delete(t)};Us(n),l_(n),a_(()=>{s[e].add(t)}),s[e].add(t)}function Pk(s){const e=Je(tv,{}).value;e&&Ek(e,"updateGuards",s)}function Yo(s,e,t,n,i){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const d=m=>{m===!1?l(Ar(4,{from:t,to:e})):m instanceof Error?l(m):sk(m)?l(Ar(2,{from:e,to:m})):(r&&n.enterCallbacks[i]===r&&typeof m=="function"&&r.push(m),a())},c=s.call(n&&n.instances[i],e,t,d);let f=Promise.resolve(c);s.length<3&&(f=f.then(d)),f.catch(m=>l(m))})}function Iu(s,e,t,n){const i=[];for(const r of s)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(Rk(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Yo(c,t,n,r,a))}else{let d=l();i.push(()=>d.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const f=F5(c)?c.default:c;r.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&Yo(p,t,n,r,a)()}))}}return i}function Rk(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function Up(s){const e=Je(Mc),t=Je(Fh),n=Pe(()=>e.resolve(h(s.to))),i=Pe(()=>{const{matched:d}=n.value,{length:c}=d,f=d[c-1],m=t.matched;if(!f||!m.length)return-1;const p=m.findIndex(Tr.bind(null,f));if(p>-1)return p;const g=Vp(d[c-2]);return c>1&&Vp(f)===g&&m[m.length-1].path!==g?m.findIndex(Tr.bind(null,d[c-2])):p}),r=Pe(()=>i.value>-1&&Lk(t.params,n.value.params)),a=Pe(()=>i.value>-1&&i.value===t.matched.length-1&&W_(t.params,n.value.params));function l(d={}){return Ik(d)?e[h(s.replace)?"replace":"push"](h(s.to)).catch(Da):Promise.resolve()}return{route:n,href:Pe(()=>n.value.href),isActive:r,isExactActive:a,navigate:l}}const jk=_e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Up,setup(s,{slots:e}){const t=rt(Up(s)),{options:n}=Je(Mc),i=Pe(()=>({[Hp(s.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Hp(s.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return s.custom?r:It("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),Ok=jk;function Ik(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function Lk(s,e){for(const t in e){const n=e[t],i=s[t];if(typeof n=="string"){if(n!==i)return!1}else if(!Jn(i)||i.length!==n.length||n.some((r,a)=>r!==i[a]))return!1}return!0}function Vp(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Hp=(s,e,t)=>s??e??t,Fk=_e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const n=Je(Ff),i=Pe(()=>s.route||n.value),r=Je(Bp,0),a=Pe(()=>{let c=h(r);const{matched:f}=i.value;let m;for(;(m=f[c])&&!m.components;)c++;return c}),l=Pe(()=>i.value.matched[a.value]);Ss(Bp,Pe(()=>a.value+1)),Ss(tv,l),Ss(Ff,i);const d=I();return Et(()=>[d.value,l.value,s.name],([c,f,m],[p,g,v])=>{f&&(f.instances[m]=c,g&&g!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),c&&f&&(!g||!Tr(f,g)||!p)&&(f.enterCallbacks[m]||[]).forEach(k=>k(c))},{flush:"post"}),()=>{const c=i.value,f=s.name,m=l.value,p=m&&m.components[f];if(!p)return Wp(t.default,{Component:p,route:c});const g=m.props[f],v=g?g===!0?c.params:typeof g=="function"?g(c):g:null,b=It(p,jt({},v,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(m.instances[f]=null)},ref:d}));return Wp(t.default,{Component:b,route:c})||b}}});function Wp(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const Nh=Fk;function Nk(s){const e=fk(s.routes,s),t=s.parseQuery||Ak,n=s.stringifyQuery||zp,i=s.history,r=ea(),a=ea(),l=ea(),d=V1(Vo);let c=Vo;hr&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ju.bind(null,he=>""+he),m=ju.bind(null,Tk),p=ju.bind(null,Vd);function g(he,we){let $e,Ne;return K_(he)?($e=e.getRecordMatcher(he),Ne=we):Ne=he,e.addRoute(Ne,$e)}function v(he){const we=e.getRecordMatcher(he);we&&e.removeRoute(we)}function k(){return e.getRoutes().map(he=>he.record)}function b(he){return!!e.getRecordMatcher(he)}function w(he,we){if(we=jt({},we||d.value),typeof he=="string"){const fe=Ou(t,he,we.path),U=e.resolve({path:fe.path},we),Y=i.createHref(fe.fullPath);return jt(fe,U,{params:p(U.params),hash:Vd(fe.hash),redirectedFrom:void 0,href:Y})}let $e;if("path"in he)$e=jt({},he,{path:Ou(t,he.path,we.path).path});else{const fe=jt({},he.params);for(const U in fe)fe[U]==null&&delete fe[U];$e=jt({},he,{params:m(he.params)}),we.params=m(we.params)}const Ne=e.resolve($e,we),et=he.hash||"";Ne.params=f(p(Ne.params));const Oe=B5(n,jt({},he,{hash:Ck(et),path:Ne.path})),ue=i.createHref(Oe);return jt({fullPath:Oe,hash:et,query:n===zp?Dk(he.query):he.query||{}},Ne,{redirectedFrom:void 0,href:ue})}function x(he){return typeof he=="string"?Ou(t,he,d.value.path):jt({},he)}function M(he,we){if(c!==he)return Ar(8,{from:we,to:he})}function C(he){return E(he)}function O(he){return C(jt(x(he),{replace:!0}))}function N(he){const we=he.matched[he.matched.length-1];if(we&&we.redirect){const{redirect:$e}=we;let Ne=typeof $e=="function"?$e(he):$e;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=x(Ne):{path:Ne},Ne.params={}),jt({query:he.query,hash:he.hash,params:"path"in Ne?{}:he.params},Ne)}}function E(he,we){const $e=c=w(he),Ne=d.value,et=he.state,Oe=he.force,ue=he.replace===!0,fe=N($e);if(fe)return E(jt(x(fe),{state:typeof fe=="object"?jt({},et,fe.state):et,force:Oe,replace:ue}),we||$e);const U=$e;U.redirectedFrom=we;let Y;return!Oe&&U5(n,Ne,$e)&&(Y=Ar(16,{to:U,from:Ne}),oe(Ne,Ne,!0,!1)),(Y?Promise.resolve(Y):L(U,Ne)).catch(X=>bo(X)?bo(X,2)?X:q(X):J(X,U,Ne)).then(X=>{if(X){if(bo(X,2))return E(jt({replace:ue},x(X.to),{state:typeof X.to=="object"?jt({},et,X.to.state):et,force:Oe}),we||U)}else X=R(U,Ne,!0,ue,et);return P(U,Ne,X),X})}function B(he,we){const $e=M(he,we);return $e?Promise.reject($e):Promise.resolve()}function L(he,we){let $e;const[Ne,et,Oe]=zk(he,we);$e=Iu(Ne.reverse(),"beforeRouteLeave",he,we);for(const fe of Ne)fe.leaveGuards.forEach(U=>{$e.push(Yo(U,he,we))});const ue=B.bind(null,he,we);return $e.push(ue),ar($e).then(()=>{$e=[];for(const fe of r.list())$e.push(Yo(fe,he,we));return $e.push(ue),ar($e)}).then(()=>{$e=Iu(et,"beforeRouteUpdate",he,we);for(const fe of et)fe.updateGuards.forEach(U=>{$e.push(Yo(U,he,we))});return $e.push(ue),ar($e)}).then(()=>{$e=[];for(const fe of he.matched)if(fe.beforeEnter&&!we.matched.includes(fe))if(Jn(fe.beforeEnter))for(const U of fe.beforeEnter)$e.push(Yo(U,he,we));else $e.push(Yo(fe.beforeEnter,he,we));return $e.push(ue),ar($e)}).then(()=>(he.matched.forEach(fe=>fe.enterCallbacks={}),$e=Iu(Oe,"beforeRouteEnter",he,we),$e.push(ue),ar($e))).then(()=>{$e=[];for(const fe of a.list())$e.push(Yo(fe,he,we));return $e.push(ue),ar($e)}).catch(fe=>bo(fe,8)?fe:Promise.reject(fe))}function P(he,we,$e){for(const Ne of l.list())Ne(he,we,$e)}function R(he,we,$e,Ne,et){const Oe=M(he,we);if(Oe)return Oe;const ue=we===Vo,fe=hr?history.state:{};$e&&(Ne||ue?i.replace(he.fullPath,jt({scroll:ue&&fe&&fe.scroll},et)):i.push(he.fullPath,et)),d.value=he,oe(he,we,$e,ue),q()}let A;function F(){A||(A=i.listen((he,we,$e)=>{if(!ht.listening)return;const Ne=w(he),et=N(Ne);if(et){E(jt(et,{replace:!0}),Ne).catch(Da);return}c=Ne;const Oe=d.value;hr&&X5(Pp(Oe.fullPath,$e.delta),Sc()),L(Ne,Oe).catch(ue=>bo(ue,12)?ue:bo(ue,2)?(E(ue.to,Ne).then(fe=>{bo(fe,20)&&!$e.delta&&$e.type===Ja.pop&&i.go(-1,!1)}).catch(Da),Promise.reject()):($e.delta&&i.go(-$e.delta,!1),J(ue,Ne,Oe))).then(ue=>{ue=ue||R(Ne,Oe,!1),ue&&($e.delta&&!bo(ue,8)?i.go(-$e.delta,!1):$e.type===Ja.pop&&bo(ue,20)&&i.go(-1,!1)),P(Ne,Oe,ue)}).catch(Da)}))}let be=ea(),ae=ea(),le;function J(he,we,$e){q(he);const Ne=ae.list();return Ne.length&&Ne.forEach(et=>et(he,we,$e)),Promise.reject(he)}function ne(){return le&&d.value!==Vo?Promise.resolve():new Promise((he,we)=>{be.add([he,we])})}function q(he){return le||(le=!he,F(),be.list().forEach(([we,$e])=>he?$e(he):we()),be.reset()),he}function oe(he,we,$e,Ne){const{scrollBehavior:et}=s;if(!hr||!et)return Promise.resolve();const Oe=!$e&&J5(Pp(he.fullPath,0))||(Ne||!$e)&&history.state&&history.state.scroll||null;return kn().then(()=>et(he,we,Oe)).then(ue=>ue&&G5(ue)).catch(ue=>J(ue,he,we))}const xe=he=>i.go(he);let je;const ot=new Set,ht={currentRoute:d,listening:!0,addRoute:g,removeRoute:v,hasRoute:b,getRoutes:k,resolve:w,options:s,push:C,replace:O,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:ae.add,isReady:ne,install(he){const we=this;he.component("RouterLink",Ok),he.component("RouterView",Nh),he.config.globalProperties.$router=we,Object.defineProperty(he.config.globalProperties,"$route",{enumerable:!0,get:()=>h(d)}),hr&&!je&&d.value===Vo&&(je=!0,C(i.location).catch(et=>{}));const $e={};for(const et in Vo)$e[et]=Pe(()=>d.value[et]);he.provide(Mc,we),he.provide(Fh,rt($e)),he.provide(Ff,d);const Ne=he.unmount;ot.add(he),he.unmount=function(){ot.delete(he),ot.size<1&&(c=Vo,A&&A(),A=null,d.value=Vo,je=!1,le=!1),Ne()}}};return ht}function ar(s){return s.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function zk(s,e){const t=[],n=[],i=[],r=Math.max(e.matched.length,s.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(s.matched.find(c=>Tr(c,l))?n.push(l):t.push(l));const d=s.matched[a];d&&(e.matched.find(c=>Tr(c,d))||i.push(d))}return[t,n,i]}function Ln(){return Je(Mc)}function Tc(){return Je(Fh)}function zh(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(e=>setTimeout(()=>{throw e}))}function ul(){let s=[],e={addEventListener(t,n,i,r){return t.addEventListener(n,i,r),e.add(()=>t.removeEventListener(n,i,r))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);e.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return zh(()=>{n.current&&t[0]()}),e.add(()=>{n.current=!1})},style(t,n,i){let r=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:i}),this.add(()=>{Object.assign(t.style,{[n]:r})})},group(t){let n=ul();return t(n),this.add(()=>n.dispose())},add(t){return s.push(t),()=>{let n=s.indexOf(t);if(n>=0)for(let i of s.splice(n,1))i()}},dispose(){for(let t of s.splice(0))t()}};return e}var qp;let Bk=Symbol("headlessui.useid"),Uk=0;const zr=(qp=G2)!=null?qp:function(){return Je(Bk,()=>`${++Uk}`)()};function vt(s){var e;if(s==null||s.value==null)return null;let t=(e=s.value.$el)!=null?e:s.value;return t instanceof Node?t:null}function Qn(s,e,...t){if(s in e){let i=e[s];return typeof i=="function"?i(...t):i}let n=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qn),n}var Vk=Object.defineProperty,Hk=(s,e,t)=>e in s?Vk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Kp=(s,e,t)=>(Hk(s,typeof e!="symbol"?e+"":e,t),t);let Wk=class{constructor(){Kp(this,"current",this.detect()),Kp(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},fl=new Wk;function vi(s){if(fl.isServer)return null;if(s instanceof Node)return s.ownerDocument;if(s!=null&&s.hasOwnProperty("value")){let e=vt(s);if(e)return e.ownerDocument}return document}let Nf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var co=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(co||{}),sv=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(sv||{}),qk=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(qk||{});function nv(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(Nf)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Bh=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(Bh||{});function Uh(s,e=0){var t;return s===((t=vi(s))==null?void 0:t.body)?!1:Qn(e,{0(){return s.matches(Nf)},1(){let n=s;for(;n!==null;){if(n.matches(Nf))return!0;n=n.parentElement}return!1}})}function ov(s){let e=vi(s);kn(()=>{e&&!Uh(e.activeElement,0)&&ai(s)})}var Kk=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(Kk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ai(s){s==null||s.focus({preventScroll:!0})}let Yk=["textarea","input"].join(",");function Gk(s){var e,t;return(t=(e=s==null?void 0:s.matches)==null?void 0:e.call(s,Yk))!=null?t:!1}function iv(s,e=t=>t){return s.slice().sort((t,n)=>{let i=e(t),r=e(n);if(i===null||r===null)return 0;let a=i.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xk(s,e){return Pa(nv(),e,{relativeTo:s})}function Pa(s,e,{sorted:t=!0,relativeTo:n=null,skipElements:i=[]}={}){var r;let a=(r=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s==null?void 0:s.ownerDocument)!=null?r:document,l=Array.isArray(s)?t?iv(s):s:nv(s);i.length>0&&l.length>1&&(l=l.filter(v=>!i.includes(v))),n=n??a.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(n))-1;if(e&4)return Math.max(0,l.indexOf(n))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=e&32?{preventScroll:!0}:{},m=0,p=l.length,g;do{if(m>=p||m+p<=0)return 0;let v=c+m;if(e&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}g=l[v],g==null||g.focus(f),m+=d}while(g!==a.activeElement);return e&6&&Gk(g)&&g.select(),2}function rv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Jk(){return/Android/gi.test(window.navigator.userAgent)}function Qk(){return rv()||Jk()}function Pl(s,e,t){fl.isServer||ln(n=>{document.addEventListener(s,e,t),n(()=>document.removeEventListener(s,e,t))})}function av(s,e,t){fl.isServer||ln(n=>{window.addEventListener(s,e,t),n(()=>window.removeEventListener(s,e,t))})}function lv(s,e,t=Pe(()=>!0)){function n(r,a){if(!t.value||r.defaultPrevented)return;let l=a(r);if(l===null||!l.getRootNode().contains(l))return;let d=function c(f){return typeof f=="function"?c(f()):Array.isArray(f)||f instanceof Set?f:[f]}(s);for(let c of d){if(c===null)continue;let f=c instanceof HTMLElement?c:vt(c);if(f!=null&&f.contains(l)||r.composed&&r.composedPath().includes(f))return}return!Uh(l,Bh.Loose)&&l.tabIndex!==-1&&r.preventDefault(),e(r,l)}let i=I(null);Pl("pointerdown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Pl("mousedown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Pl("click",r=>{Qk()||i.value&&(n(r,()=>i.value),i.value=null)},!0),Pl("touchend",r=>n(r,()=>r.target instanceof HTMLElement?r.target:null),!0),av("blur",r=>n(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Yp(s,e){if(s)return s;let t=e??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Zk(s,e){let t=I(Yp(s.value.type,s.value.as));return Ye(()=>{t.value=Yp(s.value.type,s.value.as)}),ln(()=>{var n;t.value||vt(e)&&vt(e)instanceof HTMLButtonElement&&!((n=vt(e))!=null&&n.hasAttribute("type"))&&(t.value="button")}),t}function Gp(s){return[s.screenX,s.screenY]}function e4(){let s=I([-1,-1]);return{wasMoved(e){let t=Gp(e);return s.value[0]===t[0]&&s.value[1]===t[1]?!1:(s.value=t,!0)},update(e){s.value=Gp(e)}}}function t4({container:s,accept:e,walk:t,enabled:n}){ln(()=>{let i=s.value;if(!i||n!==void 0&&!n.value)return;let r=vi(s);if(!r)return;let a=Object.assign(d=>e(d),{acceptNode:e}),l=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)t(l.currentNode)})}var Dr=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(Dr||{}),Jo=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(Jo||{});function Cn({visible:s=!0,features:e=0,ourProps:t,theirProps:n,...i}){var r;let a=cv(n,t),l=Object.assign(i,{props:a});if(s||e&2&&a.static)return Lu(l);if(e&1){let d=(r=a.unmount)==null||r?0:1;return Qn(d,{0(){return null},1(){return Lu({...i,props:{...a,hidden:!0,style:{display:"none"}}})}})}return Lu(l)}function Lu({props:s,attrs:e,slots:t,slot:n,name:i}){var r,a;let{as:l,...d}=uv(s,["unmount","static"]),c=(r=t.default)==null?void 0:r.call(t,n),f={};if(n){let m=!1,p=[];for(let[g,v]of Object.entries(n))typeof v=="boolean"&&(m=!0),v===!0&&p.push(g);m&&(f["data-headlessui-state"]=p.join(" "))}if(l==="template"){if(c=dv(c??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[m,...p]=c??[];if(!s4(m)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(k=>k.trim()).filter((k,b,w)=>w.indexOf(k)===b).sort((k,b)=>k.localeCompare(b)).map(k=>`  - ${k}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(k=>`  - ${k}`).join(`
`)].join(`
`));let g=cv((a=m.props)!=null?a:{},d,f),v=Oo(m,g,!0);for(let k in g)k.startsWith("on")&&(v.props||(v.props={}),v.props[k]=g[k]);return v}return Array.isArray(c)&&c.length===1?c[0]:c}return It(l,Object.assign({},d,f),{default:()=>c})}function dv(s){return s.flatMap(e=>e.type===de?dv(e.children):[e])}function cv(...s){if(s.length===0)return{};if(s.length===1)return s[0];let e={},t={};for(let n of s)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(n=>[n,void 0])));for(let n in t)Object.assign(e,{[n](i,...r){let a=t[n];for(let l of a){if(i instanceof Event&&i.defaultPrevented)return;l(i,...r)}}});return e}function uv(s,e=[]){let t=Object.assign({},s);for(let n of e)n in t&&delete t[n];return t}function s4(s){return s==null?!1:typeof s.type=="string"||typeof s.type=="object"||typeof s.type=="function"}var Hd=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(Hd||{});let zf=_e({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(s,{slots:e,attrs:t}){return()=>{var n;let{features:i,...r}=s,a={"aria-hidden":(i&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Cn({ourProps:a,theirProps:r,slot:{},attrs:t,slots:e,name:"Hidden"})}}}),fv=Symbol("Context");var ks=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(ks||{});function n4(){return Ac()!==null}function Ac(){return Je(fv,null)}function hv(s){Ss(fv,s)}var vs=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(vs||{});function o4(s){function e(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let zi=[];o4(()=>{function s(e){e.target instanceof HTMLElement&&e.target!==document.body&&zi[0]!==e.target&&(zi.unshift(e.target),zi=zi.filter(t=>t!=null&&t.isConnected),zi.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function i4(s){throw new Error("Unexpected object: "+s)}var wn=(s=>(s[s.First=0]="First",s[s.Previous=1]="Previous",s[s.Next=2]="Next",s[s.Last=3]="Last",s[s.Specific=4]="Specific",s[s.Nothing=5]="Nothing",s))(wn||{});function r4(s,e){let t=e.resolveItems();if(t.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(s.focus){case 0:{for(let r=0;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 1:{i===-1&&(i=t.length);for(let r=i-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 2:{for(let r=i+1;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 3:{for(let r=t.length-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 4:{for(let r=0;r<t.length;++r)if(e.resolveId(t[r],r,t)===s.id)return r;return n}case 5:return null;default:i4(s)}}function mv(s,e,t,n){fl.isServer||ln(i=>{s=s??window,s.addEventListener(e,t,n),i(()=>s.removeEventListener(e,t,n))})}var fa=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(fa||{});function a4(){let s=I(0);return av("keydown",e=>{e.key==="Tab"&&(s.value=e.shiftKey?1:0)}),s}function pv(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let e=new Set;for(let t of s.value){let n=vt(t);n instanceof HTMLElement&&e.add(n)}return e}var gv=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(gv||{});let ta=Object.assign(_e({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:I(new Set)}},inheritAttrs:!1,setup(s,{attrs:e,slots:t,expose:n}){let i=I(null);n({el:i,$el:i});let r=Pe(()=>vi(i)),a=I(!1);Ye(()=>a.value=!0),Us(()=>a.value=!1),d4({ownerDocument:r},Pe(()=>a.value&&!!(s.features&16)));let l=c4({ownerDocument:r,container:i,initialFocus:Pe(()=>s.initialFocus)},Pe(()=>a.value&&!!(s.features&2)));u4({ownerDocument:r,container:i,containers:s.containers,previousActiveElement:l},Pe(()=>a.value&&!!(s.features&8)));let d=a4();function c(g){let v=vt(i);v&&(k=>k())(()=>{Qn(d.value,{[fa.Forwards]:()=>{Pa(v,co.First,{skipElements:[g.relatedTarget]})},[fa.Backwards]:()=>{Pa(v,co.Last,{skipElements:[g.relatedTarget]})}})})}let f=I(!1);function m(g){g.key==="Tab"&&(f.value=!0,requestAnimationFrame(()=>{f.value=!1}))}function p(g){if(!a.value)return;let v=pv(s.containers);vt(i)instanceof HTMLElement&&v.add(vt(i));let k=g.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(_v(v,k)||(f.value?Pa(vt(i),Qn(d.value,{[fa.Forwards]:()=>co.Next,[fa.Backwards]:()=>co.Previous})|co.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&ai(g.target)))}return()=>{let g={},v={ref:i,onKeydown:m,onFocusout:p},{features:k,initialFocus:b,containers:w,...x}=s;return It(de,[!!(k&4)&&It(zf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Hd.Focusable}),Cn({ourProps:v,theirProps:{...e,...x},slot:g,attrs:e,slots:t,name:"FocusTrap"}),!!(k&4)&&It(zf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Hd.Focusable})])}}}),{features:gv});function l4(s){let e=I(zi.slice());return Et([s],([t],[n])=>{n===!0&&t===!1?zh(()=>{e.value.splice(0)}):n===!1&&t===!0&&(e.value=zi.slice())},{flush:"post"}),()=>{var t;return(t=e.value.find(n=>n!=null&&n.isConnected))!=null?t:null}}function d4({ownerDocument:s},e){let t=l4(e);Ye(()=>{ln(()=>{var n,i;e.value||((n=s.value)==null?void 0:n.activeElement)===((i=s.value)==null?void 0:i.body)&&ai(t())},{flush:"post"})}),Us(()=>{e.value&&ai(t())})}function c4({ownerDocument:s,container:e,initialFocus:t},n){let i=I(null),r=I(!1);return Ye(()=>r.value=!0),Us(()=>r.value=!1),Ye(()=>{Et([e,t,n],(a,l)=>{if(a.every((c,f)=>(l==null?void 0:l[f])===c)||!n.value)return;let d=vt(e);d&&zh(()=>{var c,f;if(!r.value)return;let m=vt(t),p=(c=s.value)==null?void 0:c.activeElement;if(m){if(m===p){i.value=p;return}}else if(d.contains(p)){i.value=p;return}m?ai(m):(Pa(d,co.First|co.NoScroll),sv.Error),i.value=(f=s.value)==null?void 0:f.activeElement})},{immediate:!0,flush:"post"})}),i}function u4({ownerDocument:s,container:e,containers:t,previousActiveElement:n},i){var r;mv((r=s.value)==null?void 0:r.defaultView,"focus",a=>{if(!i.value)return;let l=pv(t);vt(e)instanceof HTMLElement&&l.add(vt(e));let d=n.value;if(!d)return;let c=a.target;c&&c instanceof HTMLElement?_v(l,c)?(n.value=c,ai(c)):(a.preventDefault(),a.stopPropagation(),ai(d)):ai(n.value)},!0)}function _v(s,e){for(let t of s)if(t.contains(e))return!0;return!1}function f4(s){let e=V1(s.getSnapshot());return Us(s.subscribe(()=>{e.value=s.getSnapshot()})),e}function h4(s,e){let t=s(),n=new Set;return{getSnapshot(){return t},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...r){let a=e[i].call(t,...r);a&&(t=a,n.forEach(l=>l()))}}}function m4(){let s;return{before({doc:e}){var t;let n=e.documentElement;s=((t=e.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:e,d:t}){let n=e.documentElement,i=n.clientWidth-n.offsetWidth,r=s-i;t.style(n,"paddingRight",`${r}px`)}}}function p4(){return rv()?{before({doc:s,d:e,meta:t}){function n(i){return t.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let l=ul();l.style(s.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(s,"click",l=>{if(l.target instanceof HTMLElement)try{let d=l.target.closest("a");if(!d)return;let{hash:c}=new URL(d.href),f=s.querySelector(c);f&&!n(f)&&(a=f)}catch{}},!0),e.addEventListener(s,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let d=l.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;e.style(d,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(s,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(n(l.target)){let d=l.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let d=(l=window.scrollY)!=null?l:window.pageYOffset;r!==d&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function g4(){return{before({doc:s,d:e}){e.style(s.documentElement,"overflow","hidden")}}}function _4(s){let e={};for(let t of s)Object.assign(e,t(e));return e}let Ui=h4(()=>new Map,{PUSH(s,e){var t;let n=(t=this.get(s))!=null?t:{doc:s,count:0,d:ul(),meta:new Set};return n.count++,n.meta.add(e),this.set(s,n),this},POP(s,e){let t=this.get(s);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:s,d:e,meta:t}){let n={doc:s,d:e,meta:_4(t)},i=[p4(),m4(),g4()];i.forEach(({before:r})=>r==null?void 0:r(n)),i.forEach(({after:r})=>r==null?void 0:r(n))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});Ui.subscribe(()=>{let s=Ui.getSnapshot(),e=new Map;for(let[t]of s)e.set(t,t.documentElement.style.overflow);for(let t of s.values()){let n=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!n||!i&&n)&&Ui.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ui.dispatch("TEARDOWN",t)}});function v4(s,e,t){let n=f4(Ui),i=Pe(()=>{let r=s.value?n.value.get(s.value):void 0;return r?r.count>0:!1});return Et([s,e],([r,a],[l],d)=>{if(!r||!a)return;Ui.dispatch("PUSH",r,t);let c=!1;d(()=>{c||(Ui.dispatch("POP",l??r,t),c=!0)})},{immediate:!0}),i}let Fu=new Map,sa=new Map;function Xp(s,e=I(!0)){ln(t=>{var n;if(!e.value)return;let i=vt(s);if(!i)return;t(function(){var a;if(!i)return;let l=(a=sa.get(i))!=null?a:1;if(l===1?sa.delete(i):sa.set(i,l-1),l!==1)return;let d=Fu.get(i);d&&(d["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",d["aria-hidden"]),i.inert=d.inert,Fu.delete(i))});let r=(n=sa.get(i))!=null?n:0;sa.set(i,r+1),r===0&&(Fu.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function y4({defaultContainers:s=[],portals:e,mainTreeNodeRef:t}={}){let n=I(null),i=vi(n);function r(){var a,l,d;let c=[];for(let f of s)f!==null&&(f instanceof HTMLElement?c.push(f):"value"in f&&f.value instanceof HTMLElement&&c.push(f.value));if(e!=null&&e.value)for(let f of e.value)c.push(f);for(let f of(a=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(vt(n))||f.contains((d=(l=vt(n))==null?void 0:l.getRootNode())==null?void 0:d.host)||c.some(m=>f.contains(m))||c.push(f));return c}return{resolveContainers:r,contains(a){return r().some(l=>l.contains(a))},mainTreeNodeRef:n,MainTreeNode(){return t!=null?null:It(zf,{features:Hd.Hidden,ref:n})}}}let vv=Symbol("ForcePortalRootContext");function b4(){return Je(vv,!1)}let Jp=_e({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(s,{slots:e,attrs:t}){return Ss(vv,s.force),()=>{let{force:n,...i}=s;return Cn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:t,name:"ForcePortalRoot"})}}}),yv=Symbol("StackContext");var Bf=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(Bf||{});function x4(){return Je(yv,()=>{})}function w4({type:s,enabled:e,element:t,onUpdate:n}){let i=x4();function r(...a){n==null||n(...a),i(...a)}Ye(()=>{Et(e,(a,l)=>{a?r(0,s,t):l===!0&&r(1,s,t)},{immediate:!0,flush:"sync"})}),Us(()=>{e.value&&r(1,s,t)}),Ss(yv,r)}let k4=Symbol("DescriptionContext");function $4({slot:s=I({}),name:e="Description",props:t={}}={}){let n=I([]);function i(r){return n.value.push(r),()=>{let a=n.value.indexOf(r);a!==-1&&n.value.splice(a,1)}}return Ss(k4,{register:i,slot:s,name:e,props:t}),Pe(()=>n.value.length>0?n.value.join(" "):void 0)}function C4(s){let e=vi(s);if(!e){if(s===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${s}`)}let t=e.getElementById("headlessui-portal-root");if(t)return t;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const Uf=new WeakMap;function S4(s){var e;return(e=Uf.get(s))!=null?e:0}function Qp(s,e){let t=e(S4(s));return t<=0?Uf.delete(s):Uf.set(s,t),t}let M4=_e({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:e,attrs:t}){let n=I(null),i=Pe(()=>vi(n)),r=b4(),a=Je(bv,null),l=I(r===!0||a==null?C4(n.value):a.resolveTarget());l.value&&Qp(l.value,p=>p+1);let d=I(!1);Ye(()=>{d.value=!0}),ln(()=>{r||a!=null&&(l.value=a.resolveTarget())});let c=Je(Vf,null),f=!1,m=Nr();return Et(n,()=>{if(f||!c)return;let p=vt(n);p&&(Us(c.register(p),m),f=!0)}),Us(()=>{var p,g;let v=(p=i.value)==null?void 0:p.getElementById("headlessui-portal-root");!v||l.value!==v||Qp(l.value,k=>k-1)||l.value.children.length>0||(g=l.value.parentElement)==null||g.removeChild(l.value)}),()=>{if(!d.value||l.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return It(yr,{to:l.value},Cn({ourProps:p,theirProps:s,slot:{},attrs:t,slots:e,name:"Portal"}))}}}),Vf=Symbol("PortalParentContext");function T4(){let s=Je(Vf,null),e=I([]);function t(r){return e.value.push(r),s&&s.register(r),()=>n(r)}function n(r){let a=e.value.indexOf(r);a!==-1&&e.value.splice(a,1),s&&s.unregister(r)}let i={register:t,unregister:n,portals:e};return[e,_e({name:"PortalWrapper",setup(r,{slots:a}){return Ss(Vf,i),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let bv=Symbol("PortalGroupContext"),A4=_e({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(s,{attrs:e,slots:t}){let n=rt({resolveTarget(){return s.target}});return Ss(bv,n),()=>{let{target:i,...r}=s;return Cn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:t,name:"PortalGroup"})}}});var D4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(D4||{});let Hf=Symbol("DialogContext");function xv(s){let e=Je(Hf,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,xv),t}return e}let Rl="DC8F892D-2EBD-447C-A4C8-A03058436FF4",E4=_e({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Rl},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:s=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:i}){var r,a;let l=(r=s.id)!=null?r:`headlessui-dialog-${zr()}`,d=I(!1);Ye(()=>{d.value=!0});let c=!1,f=Pe(()=>s.role==="dialog"||s.role==="alertdialog"?s.role:(c||(c=!0),"dialog")),m=I(0),p=Ac(),g=Pe(()=>s.open===Rl&&p!==null?(p.value&ks.Open)===ks.Open:s.open),v=I(null),k=Pe(()=>vi(v));if(i({el:v,$el:v}),!(s.open!==Rl||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof g.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${g.value===Rl?void 0:s.open}`);let b=Pe(()=>d.value&&g.value?0:1),w=Pe(()=>b.value===0),x=Pe(()=>m.value>1),M=Je(Hf,null)!==null,[C,O]=T4(),{resolveContainers:N,mainTreeNodeRef:E,MainTreeNode:B}=y4({portals:C,defaultContainers:[Pe(()=>{var xe;return(xe=J.panelRef.value)!=null?xe:v.value})]}),L=Pe(()=>x.value?"parent":"leaf"),P=Pe(()=>p!==null?(p.value&ks.Closing)===ks.Closing:!1),R=Pe(()=>M||P.value?!1:w.value),A=Pe(()=>{var xe,je,ot;return(ot=Array.from((je=(xe=k.value)==null?void 0:xe.querySelectorAll("body > *"))!=null?je:[]).find(ht=>ht.id==="headlessui-portal-root"?!1:ht.contains(vt(E))&&ht instanceof HTMLElement))!=null?ot:null});Xp(A,R);let F=Pe(()=>x.value?!0:w.value),be=Pe(()=>{var xe,je,ot;return(ot=Array.from((je=(xe=k.value)==null?void 0:xe.querySelectorAll("[data-headlessui-portal]"))!=null?je:[]).find(ht=>ht.contains(vt(E))&&ht instanceof HTMLElement))!=null?ot:null});Xp(be,F),w4({type:"Dialog",enabled:Pe(()=>b.value===0),element:v,onUpdate:(xe,je)=>{if(je==="Dialog")return Qn(xe,{[Bf.Add]:()=>m.value+=1,[Bf.Remove]:()=>m.value-=1})}});let ae=$4({name:"DialogDescription",slot:Pe(()=>({open:g.value}))}),le=I(null),J={titleId:le,panelRef:I(null),dialogState:b,setTitleId(xe){le.value!==xe&&(le.value=xe)},close(){e("close",!1)}};Ss(Hf,J);let ne=Pe(()=>!(!w.value||x.value));lv(N,(xe,je)=>{xe.preventDefault(),J.close(),kn(()=>je==null?void 0:je.focus())},ne);let q=Pe(()=>!(x.value||b.value!==0));mv((a=k.value)==null?void 0:a.defaultView,"keydown",xe=>{q.value&&(xe.defaultPrevented||xe.key===vs.Escape&&(xe.preventDefault(),xe.stopPropagation(),J.close()))});let oe=Pe(()=>!(P.value||b.value!==0||M));return v4(k,oe,xe=>{var je;return{containers:[...(je=xe.containers)!=null?je:[],N]}}),ln(xe=>{if(b.value!==0)return;let je=vt(v);if(!je)return;let ot=new ResizeObserver(ht=>{for(let he of ht){let we=he.target.getBoundingClientRect();we.x===0&&we.y===0&&we.width===0&&we.height===0&&J.close()}});ot.observe(je),xe(()=>ot.disconnect())}),()=>{let{open:xe,initialFocus:je,...ot}=s,ht={...t,ref:v,id:l,role:f.value,"aria-modal":b.value===0?!0:void 0,"aria-labelledby":le.value,"aria-describedby":ae.value},he={open:b.value===0};return It(Jp,{force:!0},()=>[It(M4,()=>It(A4,{target:v.value},()=>It(Jp,{force:!1},()=>It(ta,{initialFocus:je,containers:N,features:w.value?Qn(L.value,{parent:ta.features.RestoreFocus,leaf:ta.features.All&~ta.features.FocusLock}):ta.features.None},()=>It(O,{},()=>Cn({ourProps:ht,theirProps:{...ot,...t},slot:he,attrs:t,slots:n,visible:b.value===0,features:Dr.RenderStrategy|Dr.Static,name:"Dialog"})))))),It(B)])}}}),P4=_e({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t}){var n;let i=(n=s.id)!=null?n:`headlessui-dialog-overlay-${zr()}`,r=xv("DialogOverlay");function a(l){l.target===l.currentTarget&&(l.preventDefault(),l.stopPropagation(),r.close())}return()=>{let{...l}=s;return Cn({ourProps:{id:i,"aria-hidden":!0,onClick:a},theirProps:l,slot:{open:r.dialogState.value===0},attrs:e,slots:t,name:"DialogOverlay"})}}}),Zp=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function e0(s){var e,t;let n=(e=s.innerText)!=null?e:"",i=s.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let r=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),r=!0;let a=r?(t=i.innerText)!=null?t:"":n;return Zp.test(a)&&(a=a.replace(Zp,"")),a}function R4(s){let e=s.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=s.getAttribute("aria-labelledby");if(t){let n=t.split(" ").map(i=>{let r=document.getElementById(i);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():e0(r).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return e0(s).trim()}function j4(s){let e=I(""),t=I("");return()=>{let n=vt(s);if(!n)return"";let i=n.innerText;if(e.value===i)return t.value;let r=R4(n).trim().toLowerCase();return e.value=i,t.value=r,r}}var O4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(O4||{}),I4=(s=>(s[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s))(I4||{});function L4(s){requestAnimationFrame(()=>requestAnimationFrame(s))}let wv=Symbol("MenuContext");function Dc(s){let e=Je(wv,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Dc),t}return e}let Ec=_e({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:e,attrs:t}){let n=I(1),i=I(null),r=I(null),a=I([]),l=I(""),d=I(null),c=I(1);function f(p=g=>g){let g=d.value!==null?a.value[d.value]:null,v=iv(p(a.value.slice()),b=>vt(b.dataRef.domRef)),k=g?v.indexOf(g):null;return k===-1&&(k=null),{items:v,activeItemIndex:k}}let m={menuState:n,buttonRef:i,itemsRef:r,items:a,searchQuery:l,activeItemIndex:d,activationTrigger:c,closeMenu:()=>{n.value=1,d.value=null},openMenu:()=>n.value=0,goToItem(p,g,v){let k=f(),b=r4(p===wn.Specific?{focus:wn.Specific,id:g}:{focus:p},{resolveItems:()=>k.items,resolveActiveIndex:()=>k.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.disabled});l.value="",d.value=b,c.value=v??1,a.value=k.items},search(p){let g=l.value!==""?0:1;l.value+=p.toLowerCase();let v=(d.value!==null?a.value.slice(d.value+g).concat(a.value.slice(0,d.value+g)):a.value).find(b=>b.dataRef.textValue.startsWith(l.value)&&!b.dataRef.disabled),k=v?a.value.indexOf(v):-1;k===-1||k===d.value||(d.value=k,c.value=1)},clearSearch(){l.value=""},registerItem(p,g){let v=f(k=>[...k,{id:p,dataRef:g}]);a.value=v.items,d.value=v.activeItemIndex,c.value=1},unregisterItem(p){let g=f(v=>{let k=v.findIndex(b=>b.id===p);return k!==-1&&v.splice(k,1),v});a.value=g.items,d.value=g.activeItemIndex,c.value=1}};return lv([i,r],(p,g)=>{var v;m.closeMenu(),Uh(g,Bh.Loose)||(p.preventDefault(),(v=vt(i))==null||v.focus())},Pe(()=>n.value===0)),Ss(wv,m),hv(Pe(()=>Qn(n.value,{0:ks.Open,1:ks.Closed}))),()=>{let p={open:n.value===0,close:m.closeMenu};return Cn({ourProps:{},theirProps:s,slot:p,slots:e,attrs:t,name:"Menu"})}}}),Pc=_e({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:n}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-button-${zr()}`,a=Dc("MenuButton");n({el:a.buttonRef,$el:a.buttonRef});function l(m){switch(m.key){case vs.Space:case vs.Enter:case vs.ArrowDown:m.preventDefault(),m.stopPropagation(),a.openMenu(),kn(()=>{var p;(p=vt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(wn.First)});break;case vs.ArrowUp:m.preventDefault(),m.stopPropagation(),a.openMenu(),kn(()=>{var p;(p=vt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(wn.Last)});break}}function d(m){switch(m.key){case vs.Space:m.preventDefault();break}}function c(m){s.disabled||(a.menuState.value===0?(a.closeMenu(),kn(()=>{var p;return(p=vt(a.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(m.preventDefault(),a.openMenu(),L4(()=>{var p;return(p=vt(a.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let f=Zk(Pe(()=>({as:s.as,type:e.type})),a.buttonRef);return()=>{var m;let p={open:a.menuState.value===0},{...g}=s,v={ref:a.buttonRef,id:r,type:f.value,"aria-haspopup":"menu","aria-controls":(m=vt(a.itemsRef))==null?void 0:m.id,"aria-expanded":a.menuState.value===0,onKeydown:l,onKeyup:d,onClick:c};return Cn({ourProps:v,theirProps:g,slot:p,attrs:e,slots:t,name:"MenuButton"})}}}),Rc=_e({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:n}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-items-${zr()}`,a=Dc("MenuItems"),l=I(null);n({el:a.itemsRef,$el:a.itemsRef}),t4({container:Pe(()=>vt(a.itemsRef)),enabled:Pe(()=>a.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function d(p){var g;switch(l.value&&clearTimeout(l.value),p.key){case vs.Space:if(a.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),a.search(p.key);case vs.Enter:if(p.preventDefault(),p.stopPropagation(),a.activeItemIndex.value!==null){let v=a.items.value[a.activeItemIndex.value];(g=vt(v.dataRef.domRef))==null||g.click()}a.closeMenu(),ov(vt(a.buttonRef));break;case vs.ArrowDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(wn.Next);case vs.ArrowUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(wn.Previous);case vs.Home:case vs.PageUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(wn.First);case vs.End:case vs.PageDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(wn.Last);case vs.Escape:p.preventDefault(),p.stopPropagation(),a.closeMenu(),kn(()=>{var v;return(v=vt(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case vs.Tab:p.preventDefault(),p.stopPropagation(),a.closeMenu(),kn(()=>Xk(vt(a.buttonRef),p.shiftKey?co.Previous:co.Next));break;default:p.key.length===1&&(a.search(p.key),l.value=setTimeout(()=>a.clearSearch(),350));break}}function c(p){switch(p.key){case vs.Space:p.preventDefault();break}}let f=Ac(),m=Pe(()=>f!==null?(f.value&ks.Open)===ks.Open:a.menuState.value===0);return()=>{var p,g;let v={open:a.menuState.value===0},{...k}=s,b={"aria-activedescendant":a.activeItemIndex.value===null||(p=a.items.value[a.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(g=vt(a.buttonRef))==null?void 0:g.id,id:r,onKeydown:d,onKeyup:c,role:"menu",tabIndex:0,ref:a.itemsRef};return Cn({ourProps:b,theirProps:k,slot:v,attrs:e,slots:t,features:Dr.RenderStrategy|Dr.Static,visible:m.value,name:"MenuItems"})}}}),on=_e({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(s,{slots:e,attrs:t,expose:n}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-item-${zr()}`,a=Dc("MenuItem"),l=I(null);n({el:l,$el:l});let d=Pe(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===r:!1),c=j4(l),f=Pe(()=>({disabled:s.disabled,get textValue(){return c()},domRef:l}));Ye(()=>a.registerItem(r,f)),Us(()=>a.unregisterItem(r)),ln(()=>{a.menuState.value===0&&d.value&&a.activationTrigger.value!==0&&kn(()=>{var w,x;return(x=(w=vt(l))==null?void 0:w.scrollIntoView)==null?void 0:x.call(w,{block:"nearest"})})});function m(w){if(s.disabled)return w.preventDefault();a.closeMenu(),ov(vt(a.buttonRef))}function p(){if(s.disabled)return a.goToItem(wn.Nothing);a.goToItem(wn.Specific,r)}let g=e4();function v(w){g.update(w)}function k(w){g.wasMoved(w)&&(s.disabled||d.value||a.goToItem(wn.Specific,r,0))}function b(w){g.wasMoved(w)&&(s.disabled||d.value&&a.goToItem(wn.Nothing))}return()=>{let{disabled:w,...x}=s,M={active:d.value,disabled:w,close:a.closeMenu};return Cn({ourProps:{id:r,ref:l,role:"menuitem",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,onClick:m,onFocus:p,onPointerenter:v,onMouseenter:v,onPointermove:k,onMousemove:k,onPointerleave:b,onMouseleave:b},theirProps:{...t,...x},slot:M,attrs:t,slots:e,name:"MenuItem"})}}});function F4(s){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,s(...t)}}function Nu(s,...e){s&&e.length>0&&s.classList.add(...e)}function jl(s,...e){s&&e.length>0&&s.classList.remove(...e)}var Wf=(s=>(s.Finished="finished",s.Cancelled="cancelled",s))(Wf||{});function N4(s,e){let t=ul();if(!s)return t.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(s),[r,a]=[n,i].map(l=>{let[d=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,f)=>f-c);return d});return r!==0?t.setTimeout(()=>e("finished"),r+a):e("finished"),t.add(()=>e("cancelled")),t.dispose}function t0(s,e,t,n,i,r){let a=ul(),l=r!==void 0?F4(r):()=>{};return jl(s,...i),Nu(s,...e,...t),a.nextFrame(()=>{jl(s,...t),Nu(s,...n),a.add(N4(s,d=>(jl(s,...n,...e),Nu(s,...i),l(d))))}),a.add(()=>jl(s,...e,...t,...n,...i)),a.add(()=>l("cancelled")),a.dispose}function Mi(s=""){return s.split(/\s+/).filter(e=>e.length>1)}let Vh=Symbol("TransitionContext");var z4=(s=>(s.Visible="visible",s.Hidden="hidden",s))(z4||{});function B4(){return Je(Vh,null)!==null}function U4(){let s=Je(Vh,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}function V4(){let s=Je(Hh,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}let Hh=Symbol("NestingContext");function jc(s){return"children"in s?jc(s.children):s.value.filter(({state:e})=>e==="visible").length>0}function kv(s){let e=I([]),t=I(!1);Ye(()=>t.value=!0),Us(()=>t.value=!1);function n(r,a=Jo.Hidden){let l=e.value.findIndex(({id:d})=>d===r);l!==-1&&(Qn(a,{[Jo.Unmount](){e.value.splice(l,1)},[Jo.Hidden](){e.value[l].state="hidden"}}),!jc(e)&&t.value&&(s==null||s()))}function i(r){let a=e.value.find(({id:l})=>l===r);return a?a.state!=="visible"&&(a.state="visible"):e.value.push({id:r,state:"visible"}),()=>n(r,Jo.Unmount)}return{children:e,register:i,unregister:n}}let $v=Dr.RenderStrategy,hd=_e({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:i}){let r=I(0);function a(){r.value|=ks.Opening,e("beforeEnter")}function l(){r.value&=~ks.Opening,e("afterEnter")}function d(){r.value|=ks.Closing,e("beforeLeave")}function c(){r.value&=~ks.Closing,e("afterLeave")}if(!B4()&&n4())return()=>It(Cv,{...s,onBeforeEnter:a,onAfterEnter:l,onBeforeLeave:d,onAfterLeave:c},n);let f=I(null),m=Pe(()=>s.unmount?Jo.Unmount:Jo.Hidden);i({el:f,$el:f});let{show:p,appear:g}=U4(),{register:v,unregister:k}=V4(),b=I(p.value?"visible":"hidden"),w={value:!0},x=zr(),M={value:!1},C=kv(()=>{!M.value&&b.value!=="hidden"&&(b.value="hidden",k(x),c())});Ye(()=>{let F=v(x);Us(F)}),ln(()=>{if(m.value===Jo.Hidden&&x){if(p.value&&b.value!=="visible"){b.value="visible";return}Qn(b.value,{hidden:()=>k(x),visible:()=>v(x)})}});let O=Mi(s.enter),N=Mi(s.enterFrom),E=Mi(s.enterTo),B=Mi(s.entered),L=Mi(s.leave),P=Mi(s.leaveFrom),R=Mi(s.leaveTo);Ye(()=>{ln(()=>{if(b.value==="visible"){let F=vt(f);if(F instanceof Comment&&F.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function A(F){let be=w.value&&!g.value,ae=vt(f);!ae||!(ae instanceof HTMLElement)||be||(M.value=!0,p.value&&a(),p.value||d(),F(p.value?t0(ae,O,N,E,B,le=>{M.value=!1,le===Wf.Finished&&l()}):t0(ae,L,P,R,B,le=>{M.value=!1,le===Wf.Finished&&(jc(C)||(b.value="hidden",k(x),c()))})))}return Ye(()=>{Et([p],(F,be,ae)=>{A(ae),w.value=!1},{immediate:!0})}),Ss(Hh,C),hv(Pe(()=>Qn(b.value,{visible:ks.Open,hidden:ks.Closed})|r.value)),()=>{let{appear:F,show:be,enter:ae,enterFrom:le,enterTo:J,entered:ne,leave:q,leaveFrom:oe,leaveTo:xe,...je}=s,ot={ref:f},ht={...je,...g.value&&p.value&&fl.isServer?{class:ee([t.class,je.class,...O,...N])}:{}};return Cn({theirProps:ht,ourProps:ot,slot:{},slots:n,attrs:t,features:$v,visible:b.value==="visible",name:"TransitionChild"})}}}),H4=hd,Cv=_e({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n}){let i=Ac(),r=Pe(()=>s.show===null&&i!==null?(i.value&ks.Open)===ks.Open:s.show);ln(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=I(r.value?"visible":"hidden"),l=kv(()=>{a.value="hidden"}),d=I(!0),c={show:r,appear:Pe(()=>s.appear||!d.value)};return Ye(()=>{ln(()=>{d.value=!1,r.value?a.value="visible":jc(l)||(a.value="hidden")})}),Ss(Hh,l),Ss(Vh,c),()=>{let f=uv(s,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),m={unmount:s.unmount};return Cn({ourProps:{...m,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[It(H4,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...t,...m,...f},n.default)]},attrs:{},features:$v,visible:a.value==="visible",name:"Transition"})}}});function W4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})])}function q4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function s0(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Sv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function Mv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function Er(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])}function K4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function Y4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})])}function G4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})])}function Wh(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function Tv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function X4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function qh(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])}function J4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function Av(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})])}function dn(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])}function Oc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function Q4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})])}function n0(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})])}function Z4(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})])}function ys(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function e$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function Dv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function t$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})])}function Ev(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}function s$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})])}function Pv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function n$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})])}function Zs(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function o$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function i$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Ic(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Lc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Fc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Wd(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function r$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function Nc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])}function a$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function Kh(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Fn(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function l$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function qf(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})])}function d$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"})])}function Rv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})])}function c$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})])}function u$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Yh(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})])}function jv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function Vs(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function Ov(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Br(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}function Nn(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function zu(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})])}function zc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})])}function o0(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Sn(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Ur(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})])}function f$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}function Kt(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function h$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}function Iv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}function Bc(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function Lv(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})])}function m$(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})])}function $n(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function li(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const i0=[{label:"Home",uri:"/",icon:u$},{label:"My Tasks",uri:"/tasks",icon:Yh},{label:"Attendance",uri:"/attendance",icon:dn},{label:"Employees",uri:"/employees",icon:J4,permission:"employee:view"},{label:"Working Hours",uri:"/working-hours",icon:Zs,attendanceAdminOnly:!0},{label:"Activity Reports",uri:"/activity-reports",icon:Q4,attendanceAdminOnly:!0},{label:"Leave Requests",uri:"/leaves",icon:s$,permission:"leave:view"},{label:"Holidays",uri:"/holidays",icon:Av},{label:"Leads",uri:"/leads",icon:h$},{label:"Financial",icon:m$,children:[{label:"Payroll",uri:"/payrolls",permission:"payroll:view"},{label:"Clients",uri:"/clients",permission:"client:view"},{label:"Quotations",uri:"/quotations",permission:"quotation:view"},{label:"Expenses",uri:"/expenses",permission:"expense:view"},{label:"Income",uri:"/income",permission:"income:view"}]},{label:"Team Members",uri:"/users",icon:Bc,permission:"user:view"},{label:"Service Providers",icon:W4,children:[{label:"All Providers",uri:"/service-providers",permission:"service_provider:view"},{label:"Recording Sessions",uri:"/recording-sessions",permission:"service_provider:view"},{label:"Lesson Plans",uri:"/lesson-plans",permission:"service_provider:view"},{label:"Subjects",uri:"/subjects",permission:"service_provider:view"}]},{label:"AdSense Reports",uri:"/adsense-reports",icon:Oc},{label:"Video Enhancer",uri:"/video-enhancer",icon:l$},{label:"Audit Trail",uri:"/audit-trail",icon:Pv,permission:"audit:view"}],_t=rt({...window.AppData}),p$={class:"space-y-1"},g$={key:0},_$=["onClick"],v$={class:"flex-1 text-left"},y$={class:"mt-1 space-y-1 pl-4"},b$=["href","onClick"],x$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},w$={class:"flex-1"},k$=["href","onClick"],$$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},C$={class:"flex-1"},S$=["onClick"],Fv=_e({__name:"SidebarNav",setup(s){const e=Je("can"),t=Je("__"),n=Ln(),i=Pe(()=>n.currentRoute.value.path),r=rt({});function a(p){return p==="/"||p=="/projects"?i.value===p:i.value.startsWith(p)}function l(p){return p.some(g=>a(g.uri))}function d(p){return p.some(g=>!g.permission||e(g.permission))}function c(p){r[p]=!r[p]}function f(p){return!(p.superAdminOnly&&!_t.is_super_admin||p.attendanceAdminOnly&&!_t.is_attendance_admin||p.permission&&!e(p.permission))}function m(p){n.push(p)}return Ye(()=>{i0.forEach(p=>{p.children&&l(p.children)&&(r[p.label]=!0)})}),(p,g)=>{const v=cn("RouterLink");return _(),y("div",p$,[(_(!0),y(de,null,ye(h(i0),k=>(_(),y(de,{key:k.label},[k.children&&d(k.children)?(_(),y("div",g$,[o("button",{type:"button",class:ee([l(k.children)?"bg-gray-700/50 text-white":"text-gray-300 hover:bg-gray-700/70 hover:text-white","group relative flex w-full items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out border-l-4 border-transparent"]),onClick:b=>c(k.label)},[(_(),ie(fo(k.icon),{class:ee([l(k.children)?"text-indigo-300":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),o("span",v$,u(h(t)(k.label)),1),S(h(Dv),{class:ee([r[k.label]?"rotate-180":"","h-4 w-4 text-gray-400 transition-transform duration-200"])},null,8,["class"])],10,_$),z(o("div",y$,[(_(!0),y(de,null,ye(k.children,b=>(_(),y(de,{key:b.label},[!b.permission||h(e)(b.permission)?(_(),ie(v,{key:0,custom:"",to:b.uri},{default:K(({href:w,navigate:x})=>[o("a",{href:w,class:ee([a(b.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:x},[a(b.uri)?(_(),y("div",x$)):j("",!0),o("span",w$,u(h(t)(b.label)),1)],10,b$)]),_:2},1032,["to"])):j("",!0)],64))),128))],512),[[zt,r[k.label]]])])):k.uri&&f(k)?(_(),ie(v,{key:1,custom:"",to:k.uri},{default:K(({href:b,navigate:w})=>[o("a",{href:b,class:ee([a(k.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:w},[a(k.uri)?(_(),y("div",$$)):j("",!0),(_(),ie(fo(k.icon),{class:ee([a(k.uri)?"text-white":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),o("span",C$,u(h(t)(k.label)),1),k.create&&h(e)(k.createPermission||"false")?(_(),y("span",{key:1,class:"ml-auto flex h-6 w-6 cursor-pointer items-center justify-center rounded-md bg-gray-700/50 text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500 hover:text-white group-hover:opacity-100",onClick:We(x=>m(k.create||"/"),["prevent"])},[(_(),ie(fo(h(Sn)),{class:"h-3.5 w-3.5"}))],8,S$)):j("",!0)],10,k$)]),_:2},1032,["to"])):j("",!0)],64))),128))])}}}),M$=["src"],T$={key:1,class:"flex items-center"},A$={class:"relative"},D$={class:"relative h-8 transition-all duration-200 group-hover:scale-110",style:{color:"#6875f5"},fill:"none",viewBox:"0 0 34 32",xmlns:"http://www.w3.org/2000/svg"},E$={class:"bg-gradient-to-r from-white to-gray-200 bg-clip-text text-[1.375rem] font-bold text-transparent ltr:ml-2.5 rtl:mr-2.5 transition-all duration-200 group-hover:from-indigo-200 group-hover:to-white"},Nv=_e({__name:"SidebarLogo",setup(s){const e=_t.app_name,t=_t.app_logo;return(n,i)=>h(t)?(_(),y("img",{key:0,src:`/${h(t)}`,class:"h-8 object-contain transition-transform duration-200 group-hover:scale-105"},null,8,M$)):(_(),y("div",T$,[o("div",A$,[i[1]||(i[1]=o("div",{class:"absolute inset-0 rounded-lg bg-indigo-500/30 blur-md"},null,-1)),(_(),y("svg",D$,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M15.258 26.865a4.043 4.043 0 01-1.133 2.917A4.006 4.006 0 0111.253 31a3.992 3.992 0 01-2.872-1.218 4.028 4.028 0 01-1.133-2.917c.009-.698.2-1.382.557-1.981.356-.6.863-1.094 1.47-1.433-.024.109.09-.055 0 0l1.86-1.652a8.495 8.495 0 002.304-5.793c0-2.926-1.711-5.901-4.17-7.457.094.055-.036-.094 0 0A3.952 3.952 0 017.8 7.116a3.975 3.975 0 01-.557-1.98 4.042 4.042 0 011.133-2.918A4.006 4.006 0 0111.247 1a3.99 3.99 0 012.872 1.218 4.025 4.025 0 011.133 2.917 8.521 8.521 0 002.347 5.832l.817.8c.326.285.668.551 1.024.798.621.33 1.142.826 1.504 1.431a3.902 3.902 0 01-1.504 5.442c.033-.067-.063.036 0 0a8.968 8.968 0 00-3.024 3.183 9.016 9.016 0 00-1.158 4.244zM19.741 5.123c0 .796.235 1.575.676 2.237a4.01 4.01 0 001.798 1.482 3.99 3.99 0 004.366-.873 4.042 4.042 0 00.869-4.386 4.02 4.02 0 00-1.476-1.806 3.994 3.994 0 00-5.058.501 4.038 4.038 0 00-1.175 2.845zM23.748 22.84c-.792 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.806 4.042 4.042 0 00.869 4.387 3.99 3.99 0 004.366.873A4.01 4.01 0 0027.08 29.1a4.039 4.039 0 00-.5-5.082 4 4 0 00-2.832-1.18zM34 15.994c0-.796-.235-1.574-.675-2.236a4.01 4.01 0 00-1.798-1.483 3.99 3.99 0 00-4.367.873 4.042 4.042 0 00-.869 4.387 4.02 4.02 0 001.476 1.806 3.993 3.993 0 002.226.678 4.003 4.003 0 002.832-1.18A4.04 4.04 0 0034 15.993z"},null,-1),o("path",{fill:"currentColor",d:"M5.007 11.969c-.793 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.807 4.042 4.042 0 00.869 4.386 4.001 4.001 0 004.366.873 4.011 4.011 0 001.798-1.483 4.038 4.038 0 00-.5-5.08 4.004 4.004 0 00-2.831-1.181z"},null,-1)])]))]),o("span",E$,u(h(e)),1)]))}}),P$={class:"relative flex w-full max-w-xs flex-1 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pt-5 pb-4 shadow-2xl"},R$={class:"absolute top-0 right-0 -mr-12 pt-2"},j$=["href","onClick"],O$={class:"mt-5 h-0 flex-1 space-y-1 overflow-y-auto px-3 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},I$=_e({__name:"SidebarMobile",setup(s){const e=Cc();return(t,n)=>{const i=cn("RouterLink");return _(),ie(h(Cv),{as:"template",show:h(e).isMobileSidebar},{default:K(()=>[S(h(E4),{as:"div",static:"",class:"fixed inset-0 z-40 flex md:hidden",open:h(e).isMobileSidebar,onClose:n[1]||(n[1]=r=>h(e).isMobileSidebar=!1)},{default:K(()=>[S(h(hd),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:K(()=>[S(h(P4),{class:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm"})]),_:1}),S(h(hd),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:K(()=>[o("div",P$,[S(h(hd),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:K(()=>[o("div",R$,[o("button",{class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm transition-all duration-200 hover:bg-indigo-500/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-400",onClick:n[0]||(n[0]=r=>h(e).isMobileSidebar=!1)},[n[2]||(n[2]=o("span",{class:"sr-only"},"Close sidebar",-1)),S(h(li),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),S(i,{to:"/",custom:""},{default:K(({href:r,navigate:a})=>[o("a",{href:r,class:"group flex flex-shrink-0 items-center border-b border-gray-700/50 px-4 pb-4 transition-all duration-200",onClick:a},[S(Nv)],8,j$)]),_:1}),o("div",O$,[S(Fv)])])]),_:1}),n[3]||(n[3]=o("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1))]),_:1},8,["open"])]),_:1},8,["show"])}}});function zv(s,e){return function(){return s.apply(e,arguments)}}const{toString:L$}=Object.prototype,{getPrototypeOf:Gh}=Object,{iterator:Uc,toStringTag:Bv}=Symbol,Vc=(s=>e=>{const t=L$.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=s=>(s=s.toLowerCase(),e=>Vc(e)===s),Hc=s=>e=>typeof e===s,{isArray:Vr}=Array,Pr=Hc("undefined");function hl(s){return s!==null&&!Pr(s)&&s.constructor!==null&&!Pr(s.constructor)&&an(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Uv=Zn("ArrayBuffer");function F$(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Uv(s.buffer),e}const N$=Hc("string"),an=Hc("function"),Vv=Hc("number"),ml=s=>s!==null&&typeof s=="object",z$=s=>s===!0||s===!1,md=s=>{if(Vc(s)!=="object")return!1;const e=Gh(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Bv in s)&&!(Uc in s)},B$=s=>{if(!ml(s)||hl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},U$=Zn("Date"),V$=Zn("File"),H$=Zn("Blob"),W$=Zn("FileList"),q$=s=>ml(s)&&an(s.pipe),K$=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||an(s.append)&&((e=Vc(s))==="formdata"||e==="object"&&an(s.toString)&&s.toString()==="[object FormData]"))},Y$=Zn("URLSearchParams"),[G$,X$,J$,Q$]=["ReadableStream","Request","Response","Headers"].map(Zn),Z$=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pl(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),Vr(s))for(n=0,i=s.length;n<i;n++)e.call(null,s[n],n,s);else{if(hl(s))return;const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(n=0;n<a;n++)l=r[n],e.call(null,s[l],l,s)}}function Hv(s,e){if(hl(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Vi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wv=s=>!Pr(s)&&s!==Vi;function Kf(){const{caseless:s,skipUndefined:e}=Wv(this)&&this||{},t={},n=(i,r)=>{const a=s&&Hv(t,r)||r;md(t[a])&&md(i)?t[a]=Kf(t[a],i):md(i)?t[a]=Kf({},i):Vr(i)?t[a]=i.slice():(!e||!Pr(i))&&(t[a]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&pl(arguments[i],n);return t}const e3=(s,e,t,{allOwnKeys:n}={})=>(pl(e,(i,r)=>{t&&an(i)?s[r]=zv(i,t):s[r]=i},{allOwnKeys:n}),s),t3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),s3=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},n3=(s,e,t,n)=>{let i,r,a;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)a=i[r],(!n||n(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&Gh(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},o3=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},i3=s=>{if(!s)return null;if(Vr(s))return s;let e=s.length;if(!Vv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},r3=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Gh(Uint8Array)),a3=(s,e)=>{const n=(s&&s[Uc]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(s,r[0],r[1])}},l3=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},d3=Zn("HTMLFormElement"),c3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),r0=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),u3=Zn("RegExp"),qv=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};pl(t,(i,r)=>{let a;(a=e(i,r,s))!==!1&&(n[r]=a||i)}),Object.defineProperties(s,n)},f3=s=>{qv(s,(e,t)=>{if(an(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(an(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},h3=(s,e)=>{const t={},n=i=>{i.forEach(r=>{t[r]=!0})};return Vr(s)?n(s):n(String(s).split(e)),t},m3=()=>{},p3=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function g3(s){return!!(s&&an(s.append)&&s[Bv]==="FormData"&&s[Uc])}const _3=s=>{const e=new Array(10),t=(n,i)=>{if(ml(n)){if(e.indexOf(n)>=0)return;if(hl(n))return n;if(!("toJSON"in n)){e[i]=n;const r=Vr(n)?[]:{};return pl(n,(a,l)=>{const d=t(a,i+1);!Pr(d)&&(r[l]=d)}),e[i]=void 0,r}}return n};return t(s,0)},v3=Zn("AsyncFunction"),y3=s=>s&&(ml(s)||an(s))&&an(s.then)&&an(s.catch),Kv=((s,e)=>s?setImmediate:e?((t,n)=>(Vi.addEventListener("message",({source:i,data:r})=>{i===Vi&&r===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Vi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",an(Vi.postMessage)),b3=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||Kv,x3=s=>s!=null&&an(s[Uc]),me={isArray:Vr,isArrayBuffer:Uv,isBuffer:hl,isFormData:K$,isArrayBufferView:F$,isString:N$,isNumber:Vv,isBoolean:z$,isObject:ml,isPlainObject:md,isEmptyObject:B$,isReadableStream:G$,isRequest:X$,isResponse:J$,isHeaders:Q$,isUndefined:Pr,isDate:U$,isFile:V$,isBlob:H$,isRegExp:u3,isFunction:an,isStream:q$,isURLSearchParams:Y$,isTypedArray:r3,isFileList:W$,forEach:pl,merge:Kf,extend:e3,trim:Z$,stripBOM:t3,inherits:s3,toFlatObject:n3,kindOf:Vc,kindOfTest:Zn,endsWith:o3,toArray:i3,forEachEntry:a3,matchAll:l3,isHTMLForm:d3,hasOwnProperty:r0,hasOwnProp:r0,reduceDescriptors:qv,freezeMethods:f3,toObjectSet:h3,toCamelCase:c3,noop:m3,toFiniteNumber:p3,findKey:Hv,global:Vi,isContextDefined:Wv,isSpecCompliantForm:g3,toJSONObject:_3,isAsyncFn:v3,isThenable:y3,setImmediate:Kv,asap:b3,isIterable:x3};function ft(s,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Yv=ft.prototype,Gv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Gv[s]={value:s}});Object.defineProperties(ft,Gv);Object.defineProperty(Yv,"isAxiosError",{value:!0});ft.from=(s,e,t,n,i,r)=>{const a=Object.create(Yv);me.toFlatObject(s,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const l=s&&s.message?s.message:"Error",d=e==null&&s?s.code:e;return ft.call(a,l,d,t,n,i),s&&a.cause==null&&Object.defineProperty(a,"cause",{value:s,configurable:!0}),a.name=s&&s.name||"Error",r&&Object.assign(a,r),a};const w3=null;function Yf(s){return me.isPlainObject(s)||me.isArray(s)}function Xv(s){return me.endsWith(s,"[]")?s.slice(0,-2):s}function a0(s,e,t){return s?s.concat(e).map(function(i,r){return i=Xv(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function k3(s){return me.isArray(s)&&!s.some(Yf)}const $3=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function Wc(s,e,t){if(!me.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,b){return!me.isUndefined(b[k])});const n=t.metaTokens,i=t.visitor||f,r=t.dots,a=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(me.isBoolean(v))return v.toString();if(!d&&me.isBlob(v))throw new ft("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,k,b){let w=v;if(v&&!b&&typeof v=="object"){if(me.endsWith(k,"{}"))k=n?k:k.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&k3(v)||(me.isFileList(v)||me.endsWith(k,"[]"))&&(w=me.toArray(v)))return k=Xv(k),w.forEach(function(M,C){!(me.isUndefined(M)||M===null)&&e.append(a===!0?a0([k],C,r):a===null?k:k+"[]",c(M))}),!1}return Yf(v)?!0:(e.append(a0(b,k,r),c(v)),!1)}const m=[],p=Object.assign($3,{defaultVisitor:f,convertValue:c,isVisitable:Yf});function g(v,k){if(!me.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+k.join("."));m.push(v),me.forEach(v,function(w,x){(!(me.isUndefined(w)||w===null)&&i.call(e,w,me.isString(x)?x.trim():x,k,p))===!0&&g(w,k?k.concat(x):[x])}),m.pop()}}if(!me.isObject(s))throw new TypeError("data must be an object");return g(s),e}function l0(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Xh(s,e){this._pairs=[],s&&Wc(s,this,e)}const Jv=Xh.prototype;Jv.append=function(e,t){this._pairs.push([e,t])};Jv.toString=function(e){const t=e?function(n){return e.call(this,n,l0)}:l0;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function C3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qv(s,e,t){if(!e)return s;const n=t&&t.encode||C3;me.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let r;if(i?r=i(e,t):r=me.isURLSearchParams(e)?e.toString():new Xh(e,t).toString(n),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class S3{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const d0=S3,Zv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M3=typeof URLSearchParams<"u"?URLSearchParams:Xh,T3=typeof FormData<"u"?FormData:null,A3=typeof Blob<"u"?Blob:null,D3={isBrowser:!0,classes:{URLSearchParams:M3,FormData:T3,Blob:A3},protocols:["http","https","file","blob","url","data"]},Jh=typeof window<"u"&&typeof document<"u",Gf=typeof navigator=="object"&&navigator||void 0,E3=Jh&&(!Gf||["ReactNative","NativeScript","NS"].indexOf(Gf.product)<0),P3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),R3=Jh&&window.location.href||"http://localhost",j3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jh,hasStandardBrowserEnv:E3,hasStandardBrowserWebWorkerEnv:P3,navigator:Gf,origin:R3},Symbol.toStringTag,{value:"Module"})),zs={...j3,...D3};function O3(s,e){return Wc(s,new zs.classes.URLSearchParams,{visitor:function(t,n,i,r){return zs.isNode&&me.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function I3(s){return me.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L3(s){const e={},t=Object.keys(s);let n;const i=t.length;let r;for(n=0;n<i;n++)r=t[n],e[r]=s[r];return e}function ey(s){function e(t,n,i,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=r>=t.length;return a=!a&&me.isArray(i)?i.length:a,d?(me.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!me.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],r)&&me.isArray(i[a])&&(i[a]=L3(i[a])),!l)}if(me.isFormData(s)&&me.isFunction(s.entries)){const t={};return me.forEachEntry(s,(n,i)=>{e(I3(n),i,t,0)}),t}return null}function F3(s,e,t){if(me.isString(s))try{return(e||JSON.parse)(s),me.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const Qh={transitional:Zv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=me.isObject(e);if(r&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(ey(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return O3(e,this.formSerializer).toString();if((l=me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Wc(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),F3(e)):e}],transformResponse:[function(e){const t=this.transitional||Qh.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ft.from(l,ft.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],s=>{Qh.headers[s]={}});const Zh=Qh,N3=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),z3=s=>{const e={};let t,n,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&N3[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},c0=Symbol("internals");function na(s){return s&&String(s).trim().toLowerCase()}function pd(s){return s===!1||s==null?s:me.isArray(s)?s.map(pd):String(s)}function B3(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const U3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Bu(s,e,t,n,i){if(me.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!me.isString(e)){if(me.isString(n))return e.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(e)}}function V3(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function H3(s,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(i,r,a){return this[n].call(this,e,i,r,a)},configurable:!0})})}class qc{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(l,d,c){const f=na(d);if(!f)throw new Error("header name must be a non-empty string");const m=me.findKey(i,f);(!m||i[m]===void 0||c===!0||c===void 0&&i[m]!==!1)&&(i[m||d]=pd(l))}const a=(l,d)=>me.forEach(l,(c,f)=>r(c,f,d));if(me.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(me.isString(e)&&(e=e.trim())&&!U3(e))a(z3(e),t);else if(me.isObject(e)&&me.isIterable(e)){let l={},d,c;for(const f of e){if(!me.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(d=l[c])?me.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}a(l,t)}else e!=null&&r(t,e,n);return this}get(e,t){if(e=na(e),e){const n=me.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return B3(i);if(me.isFunction(t))return t.call(this,i,n);if(me.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=na(e),e){const n=me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Bu(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function r(a){if(a=na(a),a){const l=me.findKey(n,a);l&&(!t||Bu(n,n[l],l,t))&&(delete n[l],i=!0)}}return me.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];(!e||Bu(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return me.forEach(this,(i,r)=>{const a=me.findKey(n,r);if(a){t[a]=pd(i),delete t[r];return}const l=e?V3(r):String(r).trim();l!==r&&delete t[r],t[l]=pd(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&me.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[c0]=this[c0]={accessors:{}}).accessors,i=this.prototype;function r(a){const l=na(a);n[l]||(H3(i,a),n[l]=!0)}return me.isArray(e)?e.forEach(r):r(e),this}}qc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(qc.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});me.freezeMethods(qc);const Yn=qc;function Uu(s,e){const t=this||Zh,n=e||t,i=Yn.from(n.headers);let r=n.data;return me.forEach(s,function(l){r=l.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function ty(s){return!!(s&&s.__CANCEL__)}function Hr(s,e,t){ft.call(this,s??"canceled",ft.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(Hr,ft,{__CANCEL__:!0});function sy(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new ft("Request failed with status code "+t.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function W3(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function q3(s,e){s=s||10;const t=new Array(s),n=new Array(s);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),f=n[r];a||(a=c),t[i]=d,n[i]=c;let m=r,p=0;for(;m!==i;)p+=t[m++],m=m%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),c-a<e)return;const g=f&&c-f;return g?Math.round(p*1e3/g):void 0}}function K3(s,e){let t=0,n=1e3/e,i,r;const a=(c,f=Date.now())=>{t=f,i=null,r&&(clearTimeout(r),r=null),s(...c)};return[(...c)=>{const f=Date.now(),m=f-t;m>=n?a(c,f):(i=c,r||(r=setTimeout(()=>{r=null,a(i)},n-m)))},()=>i&&a(i)]}const qd=(s,e,t=3)=>{let n=0;const i=q3(50,250);return K3(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,d=a-n,c=i(d),f=a<=l;n=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&f?(l-a)/c:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(m)},t)},u0=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},f0=s=>(...e)=>me.asap(()=>s(...e)),Y3=zs.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,zs.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,G3=zs.hasStandardBrowserEnv?{write(s,e,t,n,i,r){const a=[s+"="+encodeURIComponent(e)];me.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),me.isString(n)&&a.push("path="+n),me.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function X3(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function J3(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function ny(s,e,t){let n=!X3(e);return s&&(n||t==!1)?J3(s,e):e}const h0=s=>s instanceof Yn?{...s}:s;function Qi(s,e){e=e||{};const t={};function n(c,f,m,p){return me.isPlainObject(c)&&me.isPlainObject(f)?me.merge.call({caseless:p},c,f):me.isPlainObject(f)?me.merge({},f):me.isArray(f)?f.slice():f}function i(c,f,m,p){if(me.isUndefined(f)){if(!me.isUndefined(c))return n(void 0,c,m,p)}else return n(c,f,m,p)}function r(c,f){if(!me.isUndefined(f))return n(void 0,f)}function a(c,f){if(me.isUndefined(f)){if(!me.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function l(c,f,m){if(m in e)return n(c,f);if(m in s)return n(void 0,c)}const d={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,f,m)=>i(h0(c),h0(f),m,!0)};return me.forEach(Object.keys({...s,...e}),function(f){const m=d[f]||i,p=m(s[f],e[f],f);me.isUndefined(p)&&m!==l||(t[f]=p)}),t}const oy=s=>{const e=Qi({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:l}=e;if(e.headers=a=Yn.from(a),e.url=Qv(ny(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(me.isFunction(t.getHeaders)){const d=t.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([f,m])=>{c.includes(f.toLowerCase())&&a.set(f,m)})}}if(zs.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(e)),n||n!==!1&&Y3(e.url))){const d=i&&r&&G3.read(r);d&&a.set(i,d)}return e},Q3=typeof XMLHttpRequest<"u",Z3=Q3&&function(s){return new Promise(function(t,n){const i=oy(s);let r=i.data;const a=Yn.from(i.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=i,f,m,p,g,v;function k(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function w(){if(!b)return;const M=Yn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:s,request:b};sy(function(E){t(E),k()},function(E){n(E),k()},O),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(n(new ft("Request aborted",ft.ECONNABORTED,s,b)),b=null)},b.onerror=function(C){const O=C&&C.message?C.message:"Network Error",N=new ft(O,ft.ERR_NETWORK,s,b);N.event=C||null,n(N),b=null},b.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||Zv;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new ft(C,O.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,s,b)),b=null},r===void 0&&a.setContentType(null),"setRequestHeader"in b&&me.forEach(a.toJSON(),function(C,O){b.setRequestHeader(O,C)}),me.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),c&&([p,v]=qd(c,!0),b.addEventListener("progress",p)),d&&b.upload&&([m,g]=qd(d),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(f=M=>{b&&(n(!M||M.type?new Hr(null,s,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const x=W3(i.url);if(x&&zs.protocols.indexOf(x)===-1){n(new ft("Unsupported protocol "+x+":",ft.ERR_BAD_REQUEST,s));return}b.send(r||null)})},e6=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,i;const r=function(c){if(!i){i=!0,l();const f=c instanceof Error?c:this.reason;n.abort(f instanceof ft?f:new Hr(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,r(new ft(`timeout ${e} of ms exceeded`,ft.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),s=null)};s.forEach(c=>c.addEventListener("abort",r));const{signal:d}=n;return d.unsubscribe=()=>me.asap(l),d}},t6=e6,s6=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let n=0,i;for(;n<t;)i=n+e,yield s.slice(n,i),n=i},n6=async function*(s,e){for await(const t of o6(s))yield*s6(t,e)},o6=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},m0=(s,e,t,n)=>{const i=n6(s,e);let r=0,a,l=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:f}=await i.next();if(c){l(),d.close();return}let m=f.byteLength;if(t){let p=r+=m;t(p)}d.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},p0=64*1024,{isFunction:Ol}=me,i6=(({Request:s,Response:e})=>({Request:s,Response:e}))(me.global),{ReadableStream:g0,TextEncoder:_0}=me.global,v0=(s,...e)=>{try{return!!s(...e)}catch{return!1}},r6=s=>{s=me.merge.call({skipUndefined:!0},i6,s);const{fetch:e,Request:t,Response:n}=s,i=e?Ol(e):typeof fetch=="function",r=Ol(t),a=Ol(n);if(!i)return!1;const l=i&&Ol(g0),d=i&&(typeof _0=="function"?(v=>k=>v.encode(k))(new _0):async v=>new Uint8Array(await new t(v).arrayBuffer())),c=r&&l&&v0(()=>{let v=!1;const k=new t(zs.origin,{body:new g0,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!k}),f=a&&l&&v0(()=>me.isReadableStream(new n("").body)),m={stream:f&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(k,b)=>{let w=k&&k[v];if(w)return w.call(k);throw new ft(`Response type '${v}' is not supported`,ft.ERR_NOT_SUPPORT,b)})});const p=async v=>{if(v==null)return 0;if(me.isBlob(v))return v.size;if(me.isSpecCompliantForm(v))return(await new t(zs.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(me.isArrayBufferView(v)||me.isArrayBuffer(v))return v.byteLength;if(me.isURLSearchParams(v)&&(v=v+""),me.isString(v))return(await d(v)).byteLength},g=async(v,k)=>{const b=me.toFiniteNumber(v.getContentLength());return b??p(k)};return async v=>{let{url:k,method:b,data:w,signal:x,cancelToken:M,timeout:C,onDownloadProgress:O,onUploadProgress:N,responseType:E,headers:B,withCredentials:L="same-origin",fetchOptions:P}=oy(v),R=e||fetch;E=E?(E+"").toLowerCase():"text";let A=t6([x,M&&M.toAbortSignal()],C),F=null;const be=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let ae;try{if(N&&c&&b!=="get"&&b!=="head"&&(ae=await g(B,w))!==0){let xe=new t(k,{method:"POST",body:w,duplex:"half"}),je;if(me.isFormData(w)&&(je=xe.headers.get("content-type"))&&B.setContentType(je),xe.body){const[ot,ht]=u0(ae,qd(f0(N)));w=m0(xe.body,p0,ot,ht)}}me.isString(L)||(L=L?"include":"omit");const le=r&&"credentials"in t.prototype,J={...P,signal:A,method:b.toUpperCase(),headers:B.normalize().toJSON(),body:w,duplex:"half",credentials:le?L:void 0};F=r&&new t(k,J);let ne=await(r?R(F,P):R(k,J));const q=f&&(E==="stream"||E==="response");if(f&&(O||q&&be)){const xe={};["status","statusText","headers"].forEach(he=>{xe[he]=ne[he]});const je=me.toFiniteNumber(ne.headers.get("content-length")),[ot,ht]=O&&u0(je,qd(f0(O),!0))||[];ne=new n(m0(ne.body,p0,ot,()=>{ht&&ht(),be&&be()}),xe)}E=E||"text";let oe=await m[me.findKey(m,E)||"text"](ne,v);return!q&&be&&be(),await new Promise((xe,je)=>{sy(xe,je,{data:oe,headers:Yn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:v,request:F})})}catch(le){throw be&&be(),le&&le.name==="TypeError"&&/Load failed|fetch/i.test(le.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,v,F),{cause:le.cause||le}):ft.from(le,le&&le.code,v,F)}}},a6=new Map,iy=s=>{let e=s?s.env:{};const{fetch:t,Request:n,Response:i}=e,r=[n,i,t];let a=r.length,l=a,d,c,f=a6;for(;l--;)d=r[l],c=f.get(d),c===void 0&&f.set(d,c=l?new Map:r6(e)),f=c;return c};iy();const Xf={http:w3,xhr:Z3,fetch:{get:iy}};me.forEach(Xf,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const y0=s=>`- ${s}`,l6=s=>me.isFunction(s)||s===null||s===!1,ry={getAdapter:(s,e)=>{s=me.isArray(s)?s:[s];const{length:t}=s;let n,i;const r={};for(let a=0;a<t;a++){n=s[a];let l;if(i=n,!l6(n)&&(i=Xf[(l=String(n)).toLowerCase()],i===void 0))throw new ft(`Unknown adapter '${l}'`);if(i&&(me.isFunction(i)||(i=i.get(e))))break;r[l||"#"+a]=i}if(!i){const a=Object.entries(r).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(y0).join(`
`):" "+y0(a[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Xf};function Vu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Hr(null,s)}function b0(s){return Vu(s),s.headers=Yn.from(s.headers),s.data=Uu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ry.getAdapter(s.adapter||Zh.adapter,s)(s).then(function(n){return Vu(s),n.data=Uu.call(s,s.transformResponse,n),n.headers=Yn.from(n.headers),n},function(n){return ty(n)||(Vu(s),n&&n.response&&(n.response.data=Uu.call(s,s.transformResponse,n.response),n.response.headers=Yn.from(n.response.headers))),Promise.reject(n)})}const ay="1.12.2",Kc={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Kc[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const x0={};Kc.transitional=function(e,t,n){function i(r,a){return"[Axios v"+ay+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,l)=>{if(e===!1)throw new ft(i(a," has been removed"+(t?" in "+t:"")),ft.ERR_DEPRECATED);return t&&!x0[a]&&(x0[a]=!0),e?e(r,a,l):!0}};Kc.spelling=function(e){return(t,n)=>!0};function d6(s,e,t){if(typeof s!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],a=e[r];if(a){const l=s[r],d=l===void 0||a(l,r,s);if(d!==!0)throw new ft("option "+r+" must be "+d,ft.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ft("Unknown option "+r,ft.ERR_BAD_OPTION)}}const gd={assertOptions:d6,validators:Kc},so=gd.validators;class Kd{constructor(e){this.defaults=e||{},this.interceptors={request:new d0,response:new d0}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qi(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;n!==void 0&&gd.assertOptions(n,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),i!=null&&(me.isFunction(i)?t.paramsSerializer={serialize:i}:gd.assertOptions(i,{encode:so.function,serialize:so.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gd.assertOptions(t,{baseUrl:so.spelling("baseURL"),withXsrfToken:so.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&me.merge(r.common,r[t.method]);r&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),t.headers=Yn.concat(a,r);const l=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(d=d&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const c=[];this.interceptors.response.forEach(function(k){c.push(k.fulfilled,k.rejected)});let f,m=0,p;if(!d){const v=[b0.bind(this),void 0];for(v.unshift(...l),v.push(...c),p=v.length,f=Promise.resolve(t);m<p;)f=f.then(v[m++],v[m++]);return f}p=l.length;let g=t;for(;m<p;){const v=l[m++],k=l[m++];try{g=v(g)}catch(b){k.call(this,b);break}}try{f=b0.call(this,g)}catch(v){return Promise.reject(v)}for(m=0,p=c.length;m<p;)f=f.then(c[m++],c[m++]);return f}getUri(e){e=Qi(this.defaults,e);const t=ny(e.baseURL,e.url,e.allowAbsoluteUrls);return Qv(t,e.params,e.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(e){Kd.prototype[e]=function(t,n){return this.request(Qi(n||{},{method:e,url:t,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(n){return function(r,a,l){return this.request(Qi(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Kd.prototype[e]=t(),Kd.prototype[e+"Form"]=t(!0)});const _d=Kd;class em{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(l=>{n.subscribe(l),r=l}).then(i);return a.cancel=function(){n.unsubscribe(r)},a},e(function(r,a,l){n.reason||(n.reason=new Hr(r,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new em(function(i){e=i}),cancel:e}}}const c6=em;function u6(s){return function(t){return s.apply(null,t)}}function f6(s){return me.isObject(s)&&s.isAxiosError===!0}const Jf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jf).forEach(([s,e])=>{Jf[e]=s});const h6=Jf;function ly(s){const e=new _d(s),t=zv(_d.prototype.request,e);return me.extend(t,_d.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ly(Qi(s,i))},t}const us=ly(Zh);us.Axios=_d;us.CanceledError=Hr;us.CancelToken=c6;us.isCancel=ty;us.VERSION=ay;us.toFormData=Wc;us.AxiosError=ft;us.Cancel=us.CanceledError;us.all=function(e){return Promise.all(e)};us.spread=u6;us.isAxiosError=f6;us.mergeConfig=Qi;us.AxiosHeaders=Yn;us.formToJSON=s=>ey(me.isHTMLForm(s)?new FormData(s):s);us.getAdapter=ry.getAdapter;us.HttpStatusCode=h6;us.default=us;const Qe=us,ce=Qe.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});ce.interceptors.response.use(s=>{const e=s.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):s},s=>{var t,n;((t=s.response)==null?void 0:t.status)===401&&(window.location.href="/login");const e=(n=s.response)==null?void 0:n.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):Promise.reject(s)});const fs=s=>un(`form-${s}`,()=>{const e=rt({}),t=rt({}),n=rt({}),i=I(!1),r=I(!1),a=I(""),l=I("post"),d=I(null),c=I([]);async function f(x,M){a.value=x,d.value=M||null,M?(l.value="put",await p(M)):await m()}async function m(){r.value=!0;try{const x=await ce.get(`${a.value}/create`);Array.isArray(x.data)?x.data.forEach(M=>{M.name&&M.value!==void 0&&(e[M.name]=M.value),M.name&&M.options&&M.options.length>0&&(n[M.name]=M.options)}):(x.data.options&&Object.assign(n,x.data.options),x.data.data&&Object.assign(e,x.data.data))}catch{}finally{r.value=!1}}async function p(x){r.value=!0,k();try{const M=await ce.get(`${a.value}/${x}/edit`);Array.isArray(M.data)?M.data.forEach(C=>{C.name&&C.value!==void 0&&(e[C.name]=C.value),C.name&&C.options&&C.options.length>0&&(n[C.name]=C.options)}):(Object.assign(e,M.data.data||M.data),M.data.options&&Object.assign(n,M.data.options))}catch{}finally{r.value=!1}}async function g(){var x,M;i.value=!0,k();try{const C=d.value?`${a.value}/${d.value}`:a.value,O=await ce[l.value](C,e);return i.value=!1,c.value.forEach(N=>N(O)),O}catch(C){throw i.value=!1,(M=(x=C.response)==null?void 0:x.data)!=null&&M.errors&&Object.assign(t,C.response.data.errors),C}}function v(x){c.value.push(x)}function k(){Object.keys(t).forEach(x=>delete t[x])}function b(x,M){e[x]=M}function w(){Object.keys(e).forEach(x=>delete e[x]),k(),i.value=!1,r.value=!1}return{data:e,errors:t,options:n,submitting:i,fetching:r,init:f,fetch:p,submit:g,onSuccess:v,clearErrors:k,setData:b,reset:w}}),Ft=un("modals",()=>{const s=I([]),e=I(new Map);function t(a,l={}){s.value.push({component:Cr(a),payload:l})}function n(){const a=s.value.length-1,l=e.value.get(a);l&&(l(),e.value.delete(a)),s.value.pop()}function i(){s.value=[],e.value.clear()}function r(a){const l=s.value.length-1;e.value.set(l,a)}return{components:s,add:t,pop:n,clear:i,onHide:r}}),Ts=s=>un(`index-${s}`,()=>{const e=I([]),t=rt({}),n=rt({}),i=I(""),r=I("asc"),a=I(15),l=I(1),d=I(""),c=I(!1),f=rt({});function m(C,O){t[C]=O}function p(C){delete t[C]}function g(){Object.keys(t).forEach(C=>delete t[C])}function v(C,O="asc"){i.value=C,r.value=O}function k(C){i.value===C?r.value=r.value==="asc"?"desc":"asc":(i.value=C,r.value="asc")}function b(){g(),i.value="",r.value="asc",l.value=1}function w(C){Object.assign(f,C),C.uri&&(d.value=C.uri)}function x(){l.value=1,M()}async function M(){if(d.value){c.value=!0;try{const C={...t,...n,per_page:a.value,page:l.value};i.value&&(C.sort_by=i.value,C.sort_order=r.value);const O=await ce.get(d.value,{params:C});e.value=O.data}catch{}finally{c.value=!1}}}return{data:e,filters:t,params:n,sortBy:i,sortOrder:r,perPage:a,currentPage:l,uri:d,fetching:c,config:f,setFilter:m,clearFilter:p,clearAllFilters:g,setSort:v,toggleSort:k,reset:b,setConfig:w,onSearch:x,fetch:M}}),vd=un("confirm",()=>{const s=I(!1),e=I("Confirm"),t=I(""),n=I("Confirm"),i=I("Cancel"),r=I(!1);let a=null,l=null;function d(p){e.value=p.title||"Confirm",t.value=p.message,n.value=p.confirmText||"Confirm",i.value=p.cancelText||"Cancel",a=p.onConfirm||null,l=p.onCancel||null,s.value=!0}async function c(){if(a){r.value=!0;try{await a()}finally{r.value=!1}}m()}function f(){l&&l(),m()}function m(){s.value=!1,a=null,l=null}return{isOpen:s,title:e,message:t,confirmText:n,cancelText:i,processing:r,show:d,confirm:c,cancel:f,close:m}}),Wn=un("flash",()=>{const s=I([]);let e=0;function t(c,f="info",m=5e3){const p=e++,g={id:p,type:f,message:c,duration:m};return s.value.push(g),m>0&&setTimeout(()=>{l(p)},m),p}function n(c,f=5e3){return t(c,"success",f)}function i(c,f=5e3){return t(c,"error",f)}function r(c,f=5e3){return t(c,"warning",f)}function a(c,f=5e3){return t(c,"info",f)}function l(c){const f=s.value.findIndex(m=>m.id===c);f>-1&&s.value.splice(f,1)}function d(){s.value=[]}return{messages:s,add:t,success:n,error:i,warning:r,info:a,remove:l,clear:d}}),w0=un("toast",()=>{const s=I([]);let e=0;function t(c,f="info",m=3e3){const p=e++,g={id:p,type:f,message:c,duration:m};return s.value.push(g),m>0&&setTimeout(()=>{l(p)},m),p}function n(c,f=3e3){return t(c,"success",f)}function i(c,f=3e3){return t(c,"error",f)}function r(c,f=3e3){return t(c,"warning",f)}function a(c,f=3e3){return t(c,"info",f)}function l(c){const f=s.value.findIndex(m=>m.id===c);f>-1&&s.value.splice(f,1)}function d(){s.value=[]}return{toasts:s,add:t,success:n,error:i,warning:r,info:a,remove:l,clear:d}}),m6=(s="tab")=>un(`tab-${s}`,()=>{const e=I(0),t=I(0),n=I([]),i=Pe(()=>{var f;const c=typeof e.value=="number"?e.value:parseInt(e.value);return(f=n.value[c])==null?void 0:f.component});function r(c){t.value=c,e.value=c}function a(c){e.value=c,t.value=c}function l(c){n.value=c}function d(){t.value=0,e.value=0}return{active:e,activeTab:t,tabsList:n,tab:i,setTab:r,select:a,tabs:l,reset:d}});function p6(s){s.config.globalProperties.__=n=>{var i;return((i=_t.translations)==null?void 0:i[n])||n};const e=n=>{var i;return!n||_t.is_super_admin?!0:((i=_t.permissions)==null?void 0:i.includes(n))||!1},t=n=>!e(n);s.config.globalProperties.can=e,s.config.globalProperties.cannot=t,s.provide("can",e),s.provide("cannot",t),s.provide("__",s.config.globalProperties.__),s.provide("user",{..._t.user,is_super_admin:_t.is_super_admin})}const g6={install:p6};let Il;const Wr=un("timer",{state:()=>({taskId:null,projectId:null,projectName:null,taskTitle:null,processing:!1,timers:[],isTimerRunning:!1,timerStartedAt:null,timerStoppedAt:null,currentTaskTimer:{h:0,m:0,s:0}}),actions:{start(s){this.stopPrev(),this.startTimer(),this.taskId=s.id,this.taskTitle=s.title,this.projectId=s.project_id,this.projectName=s.project.name,this.processing=!0,ce.post("time-logs",{taskId:this.taskId,projectId:this.projectId,start:!0,currentTime:this.timerStartedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1})},stop(){this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ce.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1}),this.taskId=null,this.projectId=null,this.projectName=null},stopPrev(){if(!this.taskId)return;this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ce.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(({data:t})=>{}).catch(()=>{this.processing=!1})},fetch(){ce.get("time-logs").then(s=>{this.timers=s.data;const e=s.data.find(t=>t.user.id==_t.user.id);if(e){this.taskId=e.task.id,this.taskTitle=e.task.title,this.projectId=e.task.project_id,this.projectName=e.task.project.name;const t=new Date(e.started_at_raw),i=Math.floor((new Date().getTime()-t.getTime())/1e3);this.setTimer(i),this.startTimer()}})},startTimer(){Il&&clearInterval(Il),Il=setInterval(()=>{this.currentTaskTimer.s++,this.currentTaskTimer.s>=60&&(this.currentTaskTimer.s=0,this.currentTaskTimer.m++,this.currentTaskTimer.m>=60&&(this.currentTaskTimer.m=0,this.currentTaskTimer.h++))},1e3),this.timerStartedAt=new Date,this.isTimerRunning=!0},stopTimer(){clearInterval(Il),this.timerStoppedAt=new Date,this.isTimerRunning=!1},setTimer(s){this.currentTaskTimer.s=Math.floor(s%60),this.currentTaskTimer.m=Math.floor(s%3600/60),this.currentTaskTimer.h=Math.floor(s/3600)}}}),_6={key:0,class:"flex items-center"},v6=["aria-label"],y6=_e({__name:"TimerCurrentUser",setup(s){const e=Wr();return(t,n)=>h(e).isTimerRunning?(_(),y("div",_6,[o("span",{class:"block cursor-pointer",onClick:n[0]||(n[0]=We((...i)=>h(e).stop&&h(e).stop(...i),["stop"]))},[S(h(Ur),{class:"h-[1.125rem] w-[1.125rem] text-red-600 hover:text-red-800"})]),o("p",{class:"ml-2 w-[4.500rem] text-base text-red-600","aria-label":`${h(e).taskTitle} (${h(e).projectName})`,"data-cooltipz-dir":"bottom"},u(h(e).currentTaskTimer.h.toString().padStart(2,"0"))+":"+u(h(e).currentTaskTimer.m.toString().padStart(2,"0"))+":"+u(h(e).currentTaskTimer.s.toString().padStart(2,"0")),9,v6)])):j("",!0)}}),b6={class:"w-full min-w-[18rem] max-w-sm rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-800"},x6={class:"flex items-center justify-between p-4 leading-8"},w6={class:"text-base font-medium text-gray-800 dark:text-gray-100"},k6={class:"grid grid-cols-7 px-2 pb-2"},$6=["onClick"],C6=_e({__name:"Calendar",props:{date:{}},emits:["selected"],setup(s){const e=s,t=e.date?new Date(e.date):new Date,n=I(t.getMonth()),i=I(t.getFullYear()),r=I(),a=I(t.getDate()),l=I(b()),d=I([]),c=["Su","Mo","Tu","We","Th","Fr","Sa"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];p();function p(){const x=[];r.value=null,a.value=null;for(let M=1;M<=k();M++)x.push(M),M===t.getDate()&&n.value===t.getMonth()&&i.value===t.getFullYear()&&(a.value=M);d.value=x,l.value=b()}function g(){i.value=n.value===11?i.value+1:i.value,n.value=(n.value+1)%12,p()}function v(){i.value=n.value===0?i.value-1:i.value,n.value=n.value===0?11:n.value-1,p()}function k(){return new Date(i.value,n.value+1,0).getDate()}function b(){return new Date(i.value,n.value).getDay()}function w(x){r.value=x}return(x,M)=>(_(),y("div",b6,[o("div",x6,[o("h1",w6,u(x.__(f[n.value]))+" "+u(i.value),1),o("div",{class:"flex items-center text-gray-800 dark:text-gray-100"},[o("span",{class:"cursor-pointer hover:text-gray-500",onClick:v},[...M[0]||(M[0]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o("polyline",{points:"15 6 9 12 15 18"})],-1)])]),o("span",{class:"cursor-pointer hover:text-gray-500",onClick:g},[...M[1]||(M[1]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-right ml-3",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o("polyline",{points:"9 6 15 12 9 18"})],-1)])])])]),o("ol",k6,[(_(),y(de,null,ye(c,C=>o("li",{key:C,class:"pb-2 text-center text-sm font-medium text-gray-800"},u(C),1)),64)),l.value?(_(),y("li",{key:0,class:"flex items-center justify-center py-1",style:wt({gridColumnStart:l.value})},"  ",4)):j("",!0),(_(!0),y(de,null,ye(d.value,C=>(_(),y("li",{key:C,class:"flex items-center justify-center py-1"},[o("p",{class:ee(["flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-sm font-medium",{"bg-indigo-700 text-white":C==r.value,"text-gray-500 hover:bg-gray-200":C!=r.value,"bg-gray-200":C==a.value}]),onClick:O=>(w(C),x.$emit("selected",{day:("0"+C).slice(-2),month:("0"+(n.value+1)).slice(-2),year:i.value,date:`${i.value}-${("0"+(n.value+1)).slice(-2)}-${("0"+C).slice(-2)}`,label:`${m[n.value]} ${C}, ${i.value}`}))},u(C),11,$6)]))),128))])]))}}),tm=(s,e)=>{const t=s.__vccOpts||s;for(const[n,i]of e)t[n]=i;return t},S6={},M6={class:"rounded-lg bg-white shadow"};function T6(s,e){return _(),y("div",M6,[Ms(s.$slots,"default")])}const fi=tm(S6,[["render",T6]]),Yc=_e({__name:"Collapsible",props:{open:{type:Boolean,default:!1}},setup(s){const t=I(s.open);return(n,i)=>(_(),y(de,null,[o("div",{onClick:i[0]||(i[0]=We(r=>t.value=!t.value,["prevent"]))},[Ms(n.$slots,"trigger",{open:t.value})]),t.value?Ms(n.$slots,"content",{key:0}):j("",!0)],64))}}),Hs=_e({__name:"Dropdown",props:{shouldClose:{type:Boolean},closeOutside:{type:Boolean},close:{type:Boolean}},emits:["toggle"],setup(s,{emit:e}){const t=s;Fr(()=>{t.shouldClose&&d()}),Et(()=>t.close,m=>{m&&d()});const n=I(!1),i=I(null),r=I(null),a=e;function l(){n.value=!n.value}Et(n,m=>{a("toggle",m),m?window.addEventListener("click",t.closeOutside?c:f,{capture:!0}):window.removeEventListener("click",t.closeOutside?c:f,{capture:!0})});function d(){n.value=!1}function c(m){const p=i.value;!p||p===m.target||m.composedPath().includes(p)||d()}function f(m){const p=i.value,g=r.value;(!g||g===m.target||m.composedPath().includes(g))&&d(),!(!p||p===m.target||m.composedPath().includes(p))&&d()}return(m,p)=>(_(),y("div",{ref_key:"target",ref:i,class:"relative"},[o("div",{onClick:We(l,["prevent"])},[Ms(m.$slots,"trigger")]),S(Xw,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:K(()=>[n.value?(_(),y("div",{key:0,ref_key:"content",ref:r},[Ms(m.$slots,"content")],512)):j("",!0)]),_:3})],512))}});function A6(){const s=Cc();s.isBlankPage=!0,Ah(()=>s.isBlankPage=!1)}const D6={class:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},E6={class:"mx-auto max-w-max"},P6={class:"sm:flex"},R6=["textContent"],j6={class:"sm:ml-6"},O6={class:"sm:border-l sm:border-gray-200 sm:pl-6"},I6=["textContent"],L6=["textContent"],dy=_e({__name:"ErrorPage",props:{code:{},heading:{},description:{}},setup(s){return A6(),(e,t)=>(_(),y("div",D6,[o("div",E6,[o("main",P6,[o("p",{class:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",textContent:u(s.code)},null,8,R6),o("div",j6,[o("div",O6,[o("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl",textContent:u(s.heading)},null,8,I6),o("p",{class:"mt-1 text-base text-gray-500",textContent:u(s.description)},null,8,L6)])])])])]))}}),po=_e({__name:"ModalBase",props:{width:{default:"max-w-2xl"}},emits:["close"],setup(s,{emit:e}){const t=e;function n(){t("close"),Ft().pop()}return(i,r)=>(_(),y("div",{class:"fixed inset-0 z-[250] flex min-h-screen items-center justify-center overflow-y-auto bg-gray-500 bg-opacity-75 p-4",onClick:n},[o("div",{class:ee(["modal-content relative w-full rounded-lg bg-white shadow-xl",[s.width]]),onClick:r[0]||(r[0]=We(()=>{},["stop"]))},[Ms(i.$slots,"default")],2)]))}}),F6={},N6={class:"animate-pulse px-6"};function z6(s,e){return _(),y(de,null,[o("div",N6,[(_(),y(de,null,ye(2,t=>o("div",{key:t,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},[...e[0]||(e[0]=[o("label",{class:"mr-16 h-4 rounded bg-gray-200 sm:mt-px sm:pt-2"},null,-1),o("div",{class:"h-4 rounded bg-gray-200 sm:col-span-2"},"",-1)])])),64))]),e[1]||(e[1]=o("div",{class:"sticky bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},[o("span",{class:"h-4 w-32 rounded bg-gray-300"},"")],-1))],64)}const cy=tm(F6,[["render",z6]]),B6=["width","height"],U6=["stroke-width"],V6=["stroke-width"],St=_e({__name:"Loader",props:{size:{default:"40"},color:{default:"text-gray-800"},thick:{default:"4"}},setup(s){return(e,t)=>(_(),y("svg",{class:ee(["animate-spin stroke-current",s.color]),viewBox:"0 0 32 32",width:s.size,height:s.size},[o("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{opacity:"0.2"}},null,8,U6),o("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{"stroke-dasharray":"80","stroke-dashoffset":"60"}},null,8,V6)],10,B6))}}),H6=["href"],W6=["disabled"],Ie=_e({__name:"TheButton",props:{href:{default:""},processing:{type:Boolean},disabled:{type:Boolean},white:{type:Boolean},danger:{type:Boolean},size:{default:"md"}},setup(s){const e=s;let t="inline-flex items-center border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",n={xs:" px-2.5 py-1.5 text-xs rounded",sm:" px-3 py-2 text-sm leading-4 rounded-md",md:" px-4 py-2 text-sm rounded-md",lg:" px-4 py-2 text-base rounded-md",xl:" px-6 py-3 text-base rounded-md"},i={xs:"16",sm:"16",md:"20",lg:"20",xl:"22"},r=" text-gray-700 border-gray-300 bg-white hover:bg-gray-50 focus:ring-indigo-500",a=" text-white border-transparent bg-red-600 hover:bg-red-700 focus:ring-red-500",l=" text-white border-transparent bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",d=e.white?"":"text-white",c=i[e.size];return e.white?t=t.concat(r,n[e.size]):e.danger?t=t.concat(a,n[e.size]):t=t.concat(l,n[e.size]),(f,m)=>s.href?(_(),y("a",{key:0,href:s.href,class:ee([h(t)])},[Ms(f.$slots,"default"),s.processing?(_(),ie(St,{key:0,class:"ltr:ml-2 rtl:mr-2",size:h(c),color:h(d)},null,8,["size","color"])):j("",!0)],10,H6)):(_(),y("button",{key:1,class:ee([h(t)]),disabled:s.disabled||s.processing},[Ms(f.$slots,"default"),s.processing?(_(),ie(St,{key:0,class:"ltr:ml-2 rtl:mr-2",size:h(c),color:h(d)},null,8,["size","color"])):j("",!0)],10,W6))}}),q6={key:1},K6={class:"px-6 pt-6"},Y6={class:"text-xl font-semibold text-gray-900","data-cy":"page-title"},G6={class:"px-6"},X6={class:"grid grid-cols-12 gap-6 pt-3 pb-6"},J6={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},gs=_e({__name:"FormModal",props:{id:{},name:{},uri:{},title:{},size:{}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=Pe(()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full"})[t.size||"lg"]||"max-w-2xl"),r=Pe(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&Ss("form_name",t.name);let a;return t.name&&t.uri?(a=fs(t.name)(),a.init(t.uri,t.id)):a={fetching:!1,submitting:!1,submit:()=>{}},(l,d)=>(_(),ie(po,{width:i.value,onClose:d[1]||(d[1]=c=>n("close"))},{default:K(()=>[s.name&&s.uri?(_(),y(de,{key:0},[h(a).fetching?(_(),ie(cy,{key:0})):(_(),y("section",q6,[o("div",K6,[o("h1",Y6,u(s.title||(s.id?l.__(`Edit ${r.value}`):l.__(`Create ${r.value}`))),1)]),o("div",G6,[o("div",X6,[Ms(l.$slots,"default")])]),o("div",J6,[S(Ie,{class:"mr-3",white:"",disabled:h(a).submitting,onClick:d[0]||(d[0]=c=>h(Ft)().pop())},{default:K(()=>[Q(u(l.__("Cancel")),1)]),_:1},8,["disabled"]),S(Ie,{"data-cy":"submit-button",processing:h(a).submitting,onClick:h(a).submit},{default:K(()=>[Q(u(s.id?l.__(`Update ${r.value}`):l.__(`Create ${r.value}`)),1)]),_:1},8,["processing","onClick"])])]))],64)):Ms(l.$slots,"default",{key:1})]),_:3},8,["width"]))}}),Q6={key:1},Z6={key:0,class:"border-b border-gray-200 px-6 py-4"},eC={class:"text-lg font-semibold text-gray-900"},tC={class:"px-6 py-4"},sC={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},nC={key:0},oC={key:1},Fo=_e({__name:"FormBase",props:{id:{},name:{},uri:{},title:{},saveOnly:{type:Boolean},buttonText:{},externalForm:{}},emits:["submit","cancel"],setup(s,{emit:e}){const t=s,n=e,i=Pe(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&Ss("form_name",t.name);let r;t.externalForm?r=t.externalForm:t.name&&t.uri?(r=fs(t.name)(),r.init(t.uri)):r={fetching:!1,submitting:!1,submit:()=>n("submit")};const a=()=>{t.externalForm?n("cancel"):Ft().pop()};return(l,d)=>(_(),ie(h(fi),null,{default:K(()=>[h(r).fetching?(_(),ie(cy,{key:0})):(_(),y("section",Q6,[l.$slots.title?(_(),y("div",Z6,[o("h2",eC,[Ms(l.$slots,"title")])])):j("",!0),o("div",tC,[Ms(l.$slots,"default")]),o("div",sC,[s.saveOnly?j("",!0):(_(),ie(h(Ie),{key:0,class:"mr-3",white:"",disabled:h(r).submitting,onClick:a},{default:K(()=>[Q(u(l.__("Cancel")),1)]),_:1},8,["disabled"])),S(h(Ie),{"data-cy":"submit-button",processing:h(r).submitting,onClick:h(r).submit},{default:K(()=>[s.saveOnly?(_(),y("span",nC,u(l.__("Save")),1)):(_(),y("span",oC,u(s.buttonText||(s.id?l.__("Update"):l.__("Create"))+" "+i.value),1))]),_:1},8,["processing","onClick"])])]))]),_:3}))}}),iC={class:"hidden sm:block"},rC={class:"text-sm text-gray-700"},aC={class:"font-medium text-gray-600"},lC={class:"font-medium text-gray-600"},dC={key:0,class:"flex flex-1 justify-between sm:justify-end"},As=_e({__name:"IndexPagination",props:{index:{},classes:{default:"px-4 sm:px-6 border-t border-gray-200"}},setup(s){return(e,t)=>(_(),y("nav",{class:ee(["flex items-center justify-between bg-white py-3",[s.classes]]),"aria-label":"Pagination"},[o("div",iC,[o("p",rC,[Q(u(e.__("Showing"))+" ",1),o("span",aC,u(s.index.data.from),1),Q(" "+u(e.__("to"))+" ",1),o("span",lC,u(s.index.data.to),1)])]),s.index.data.next_page_url||s.index.data.prev_page_url?(_(),y("div",dC,[o("span",{class:ee(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",{"pointer-events-none opacity-50":!s.index.data.prev_page_url}]),onClick:t[0]||(t[0]=n=>s.index.prev())},u(e.__("Previous")),3),o("span",{class:ee(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ltr:ml-3 rtl:mr-3",{"pointer-events-none opacity-50":!s.index.data.next_page_url}]),onClick:t[1]||(t[1]=n=>s.index.next())},u(e.__("Next")),3)])):j("",!0)],2))}}),cC={key:0,class:"ml-2 font-bold text-white"},uC={class:"absolute z-30 mt-2 max-h-80 w-72 origin-top-left overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 shadow-lg ltr:left-0 rtl:right-0"},fC={class:"shadow-xs rounded-md bg-white",role:"menu","aria-orientation":"vertical","aria-labelledby":"filters"},hC=_e({__name:"IndexFilters",props:{name:{}},setup(s){const t=Ts(s.name)();return(n,i)=>(_(),ie(h(Hs),{name:"filter",class:"ltr:ml-4 rtl:mr-4","close-outside":""},{trigger:K(()=>[o("button",{class:ee(["inline-flex justify-center rounded-md border border-gray-300 bg-white px-3.5 py-2 text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none",{"bg-gray-700 hover:bg-gray-700":h(t).appliedFilters.length}])},[S(h(c$),{class:ee(["w-5",h(t).appliedFilters.length?"text-white":"text-gray-400"])},null,8,["class"]),h(t).appliedFilters.length?(_(),y("span",cC,u(h(t).appliedFilters.length),1)):j("",!0)],2)]),content:K(()=>[o("div",uC,[o("div",fC,[h(t).appliedFilters.length?(_(),y("div",{key:0,class:"cursor-pointer border-b border-gray-200 bg-gray-50 py-2 text-center text-sm font-medium uppercase text-gray-600 hover:text-gray-400",onClick:i[0]||(i[0]=(...r)=>h(t).resetFilters&&h(t).resetFilters(...r))},u(n.__("Reset Filters")),1)):j("",!0),(_(!0),y(de,null,ye(h(t).filters,r=>(_(),ie(fo(r==null?void 0:r.component),{key:r==null?void 0:r.name,filter:r,name:s.name},null,8,["filter","name"]))),128))])])]),_:1}))}}),mC={class:"mt-6 text-center text-gray-500"},gl=_e({__name:"IndexNoData",props:{btnTo:{},btnText:{},noCreate:{type:Boolean}},setup(s){return(e,t)=>(_(),ie(fi,{class:"px-6 py-16"},{default:K(()=>[t[0]||(t[0]=o("div",{class:"flex justify-center"},[o("svg",{width:"65",height:"51",viewBox:"0 0 65 51",class:"fill-current text-gray-400"},[o("path",{d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})])],-1)),o("p",mC,u(e.__("No record matched the given criteria.")),1)]),_:1}))}}),pC={class:"flex"},gC={key:0,class:"relative mb-4 w-64 rounded-md shadow-sm"},_C=["placeholder"],vC={key:0,class:"mt-8 flex justify-center"},yC=["data-cy"],sm=_e({__name:"IndexTable",props:{name:{},uri:{},filterUri:{default:""},shallowUri:{default:""},btnTo:{default:""},btnText:{default:""},noCreate:{type:Boolean},noFilters:{type:Boolean},noSearch:{type:Boolean},orderByDirection:{default:"desc"},searchColumn:{default:"name"}},setup(s){const e=s,t=Ts(e.name)();return t.setConfig(e),t.fetch(),e.noFilters||t.getFilters(),(n,i)=>{var r;return _(),y(de,null,[o("div",pC,[s.noSearch?j("",!0):(_(),y("div",gC,[i[2]||(i[2]=o("div",{class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},[o("svg",{class:"h-5 w-5 text-gray-400","x-description":"Heroicon name: search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),z(o("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>h(t).params.search=a),type:"search",placeholder:n.__("Search"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:i[1]||(i[1]=(...a)=>h(t).onSearch&&h(t).onSearch(...a))},null,40,_C),[[te,h(t).params.search]])])),s.noFilters?j("",!0):(_(),ie(hC,{key:1,name:s.name},null,8,["name"]))]),h(t).fetching?(_(),y("div",vC,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",{key:1,"data-cy":s.name?"index-"+s.name:"index"},[(r=h(t).data)!=null&&r.length?Ms(n.$slots,"default",{key:1,index:h(t),items:h(t).data}):(_(),ie(gl,{key:0,"no-create":s.noCreate||n.cannot(`${s.name}:create`),"btn-text":s.btnText,"btn-to":s.btnTo},null,8,["no-create","btn-text","btn-to"]))],8,yC))],64)}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _l(s){return s+.5|0}const Qo=(s,e,t)=>Math.max(Math.min(s,t),e);function ha(s){return Qo(_l(s*2.55),0,255)}function di(s){return Qo(_l(s*255),0,255)}function So(s){return Qo(_l(s/2.55)/100,0,1)}function k0(s){return Qo(_l(s*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qf=[..."0123456789ABCDEF"],bC=s=>Qf[s&15],xC=s=>Qf[(s&240)>>4]+Qf[s&15],Ll=s=>(s&240)>>4===(s&15),wC=s=>Ll(s.r)&&Ll(s.g)&&Ll(s.b)&&Ll(s.a);function kC(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&An[s[1]]*17,g:255&An[s[2]]*17,b:255&An[s[3]]*17,a:e===5?An[s[4]]*17:255}:(e===7||e===9)&&(t={r:An[s[1]]<<4|An[s[2]],g:An[s[3]]<<4|An[s[4]],b:An[s[5]]<<4|An[s[6]],a:e===9?An[s[7]]<<4|An[s[8]]:255})),t}const $C=(s,e)=>s<255?e(s):"";function CC(s){var e=wC(s)?bC:xC;return s?"#"+e(s.r)+e(s.g)+e(s.b)+$C(s.a,e):void 0}const SC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uy(s,e,t){const n=e*Math.min(t,1-t),i=(r,a=(r+s/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function MC(s,e,t){const n=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function TC(s,e,t){const n=uy(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function AC(s,e,t,n,i){return s===i?(e-t)/n+(e<t?6:0):e===i?(t-s)/n+2:(s-e)/n+4}function nm(s){const t=s.r/255,n=s.g/255,i=s.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),l=(r+a)/2;let d,c,f;return r!==a&&(f=r-a,c=l>.5?f/(2-r-a):f/(r+a),d=AC(t,n,i,f,r),d=d*60+.5),[d|0,c||0,l]}function om(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(di)}function im(s,e,t){return om(uy,s,e,t)}function DC(s,e,t){return om(TC,s,e,t)}function EC(s,e,t){return om(MC,s,e,t)}function fy(s){return(s%360+360)%360}function PC(s){const e=SC.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?ha(+e[5]):di(+e[5]));const i=fy(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=DC(i,r,a):e[1]==="hsv"?n=EC(i,r,a):n=im(i,r,a),{r:n[0],g:n[1],b:n[2],a:t}}function RC(s,e){var t=nm(s);t[0]=fy(t[0]+e),t=im(t),s.r=t[0],s.g=t[1],s.b=t[2]}function jC(s){if(!s)return;const e=nm(s),t=e[0],n=k0(e[1]),i=k0(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${i}%, ${So(s.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const $0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},C0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OC(){const s={},e=Object.keys(C0),t=Object.keys($0);let n,i,r,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],i=0;i<t.length;i++)r=t[i],l=l.replace(r,$0[r]);r=parseInt(C0[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Fl;function IC(s){Fl||(Fl=OC(),Fl.transparent=[0,0,0,0]);const e=Fl[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const LC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FC(s){const e=LC.exec(s);let t=255,n,i,r;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?ha(a):Qo(a*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?ha(n):Qo(n,0,255)),i=255&(e[4]?ha(i):Qo(i,0,255)),r=255&(e[6]?ha(r):Qo(r,0,255)),{r:n,g:i,b:r,a:t}}}function NC(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${So(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Hu=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,lr=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function zC(s,e,t){const n=lr(So(s.r)),i=lr(So(s.g)),r=lr(So(s.b));return{r:di(Hu(n+t*(lr(So(e.r))-n))),g:di(Hu(i+t*(lr(So(e.g))-i))),b:di(Hu(r+t*(lr(So(e.b))-r))),a:s.a+t*(e.a-s.a)}}function Nl(s,e,t){if(s){let n=nm(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=im(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function hy(s,e){return s&&Object.assign(e||{},s)}function S0(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=di(s[3]))):(e=hy(s,{r:0,g:0,b:0,a:1}),e.a=di(e.a)),e}function BC(s){return s.charAt(0)==="r"?FC(s):PC(s)}class Qa{constructor(e){if(e instanceof Qa)return e;const t=typeof e;let n;t==="object"?n=S0(e):t==="string"&&(n=kC(e)||IC(e)||BC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=hy(this._rgb);return e&&(e.a=So(e.a)),e}set rgb(e){this._rgb=S0(e)}rgbString(){return this._valid?NC(this._rgb):void 0}hexString(){return this._valid?CC(this._rgb):void 0}hslString(){return this._valid?jC(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,d=n.a-i.a,c=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=zC(this._rgb,e._rgb,t)),this}clone(){return new Qa(this.rgb)}alpha(e){return this._rgb.a=di(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=_l(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nl(this._rgb,2,e),this}darken(e){return Nl(this._rgb,2,-e),this}saturate(e){return Nl(this._rgb,1,e),this}desaturate(e){return Nl(this._rgb,1,-e),this}rotate(e){return RC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xo(){}const UC=(()=>{let s=0;return()=>s++})();function $t(s){return s==null}function Gt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function yt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Zt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function vn(s,e){return Zt(s)?s:e}function mt(s,e){return typeof s>"u"?e:s}const VC=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,my=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Wt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Ot(s,e,t,n){let i,r,a;if(Gt(s))if(r=s.length,n)for(i=r-1;i>=0;i--)e.call(t,s[i],i);else for(i=0;i<r;i++)e.call(t,s[i],i);else if(yt(s))for(a=Object.keys(s),r=a.length,i=0;i<r;i++)e.call(t,s[a[i]],a[i])}function Yd(s,e){let t,n,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Gd(s){if(Gt(s))return s.map(Gd);if(yt(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Gd(s[t[i]]);return e}return s}function py(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function HC(s,e,t,n){if(!py(s))return;const i=e[s],r=t[s];yt(i)&&yt(r)?Za(i,r,n):e[s]=Gd(r)}function Za(s,e,t){const n=Gt(e)?e:[e],i=n.length;if(!yt(s))return s;t=t||{};const r=t.merger||HC;let a;for(let l=0;l<i;++l){if(a=n[l],!yt(a))continue;const d=Object.keys(a);for(let c=0,f=d.length;c<f;++c)r(d[c],s,a,t)}return s}function Ra(s,e){return Za(s,e,{merger:WC})}function WC(s,e,t){if(!py(s))return;const n=e[s],i=t[s];yt(n)&&yt(i)?Ra(n,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Gd(i))}const M0={"":s=>s,x:s=>s.x,y:s=>s.y};function qC(s){const e=s.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function KC(s){const e=qC(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Zi(s,e){return(M0[e]||(M0[e]=KC(e)))(s)}function rm(s){return s.charAt(0).toUpperCase()+s.slice(1)}const el=s=>typeof s<"u",hi=s=>typeof s=="function",T0=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function YC(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Lt=Math.PI,qt=2*Lt,GC=qt+Lt,Xd=Number.POSITIVE_INFINITY,XC=Lt/180,ns=Lt/2,Ti=Lt/4,A0=Lt*2/3,Zo=Math.log10,ho=Math.sign;function ja(s,e,t){return Math.abs(s-e)<t}function D0(s){const e=Math.round(s);s=ja(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Zo(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function JC(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function QC(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function tl(s){return!QC(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function ZC(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function gy(s,e,t){let n,i,r;for(n=0,i=s.length;n<i;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function uo(s){return s*(Lt/180)}function am(s){return s*(180/Lt)}function E0(s){if(!Zt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function _y(s,e){const t=e.x-s.x,n=e.y-s.y,i=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*Lt&&(r+=qt),{angle:r,distance:i}}function Zf(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function e8(s,e){return(s-e+GC)%qt-Lt}function Is(s){return(s%qt+qt)%qt}function sl(s,e,t,n){const i=Is(s),r=Is(e),a=Is(t),l=Is(r-i),d=Is(a-i),c=Is(i-r),f=Is(i-a);return i===r||i===a||n&&r===a||l>d&&c<f}function Bs(s,e,t){return Math.max(e,Math.min(t,s))}function t8(s){return Bs(s,-32768,32767)}function Do(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function lm(s,e,t){t=t||(a=>s[a]<e);let n=s.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,t(r)?i=r:n=r;return{lo:i,hi:n}}const Hi=(s,e,t,n)=>lm(s,t,n?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),s8=(s,e,t)=>lm(s,t,n=>s[n][e]>=t);function n8(s,e,t){let n=0,i=s.length;for(;n<i&&s[n]<e;)n++;for(;i>n&&s[i-1]>t;)i--;return n>0||i<s.length?s.slice(n,i):s}const vy=["push","pop","shift","splice","unshift"];function o8(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vy.forEach(t=>{const n="_onData"+rm(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),a}})})}function P0(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(vy.forEach(r=>{delete s[r]}),delete s._chartjs)}function yy(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const by=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function xy(s,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,by.call(window,()=>{n=!1,s.apply(e,t)}))}}function i8(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const wy=s=>s==="start"?"left":s==="end"?"right":"center",gn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,r8=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function a8(s,e,t){const n=e.length;let i=0,r=n;if(s._sorted){const{iScale:a,vScale:l,_parsed:d}=s,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,f=a.axis,{min:m,max:p,minDefined:g,maxDefined:v}=a.getUserBounds();if(g){if(i=Math.min(Hi(d,f,m).lo,t?n:Hi(e,f,a.getPixelForValue(m)).lo),c){const k=d.slice(0,i+1).reverse().findIndex(b=>!$t(b[l.axis]));i-=Math.max(0,k)}i=Bs(i,0,n-1)}if(v){let k=Math.max(Hi(d,a.axis,p,!0).hi+1,t?0:Hi(e,f,a.getPixelForValue(p),!0).hi+1);if(c){const b=d.slice(k-1).findIndex(w=>!$t(w[l.axis]));k+=Math.max(0,b)}r=Bs(k,i,n)-i}else r=n-i}return{start:i,count:r}}function l8(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),r}const zl=s=>s===0||s===1,R0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*qt/t)),j0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*qt/t)+1,Oa={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ns)+1,easeOutSine:s=>Math.sin(s*ns),easeInOutSine:s=>-.5*(Math.cos(Lt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>zl(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>zl(s)?s:R0(s,.075,.3),easeOutElastic:s=>zl(s)?s:j0(s,.075,.3),easeInOutElastic(s){return zl(s)?s:s<.5?.5*R0(s*2,.1125,.45):.5+.5*j0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Oa.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Oa.easeInBounce(s*2)*.5:Oa.easeOutBounce(s*2-1)*.5+.5};function dm(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function O0(s){return dm(s)?s:new Qa(s)}function Wu(s){return dm(s)?s:new Qa(s).saturate(.5).darken(.1).hexString()}const d8=["x","y","borderWidth","radius","tension"],c8=["color","borderColor","backgroundColor"];function u8(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:c8},numbers:{type:"number",properties:d8}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function f8(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const I0=new Map;function h8(s,e){e=e||{};const t=s+JSON.stringify(e);let n=I0.get(t);return n||(n=new Intl.NumberFormat(s,e),I0.set(t,n)),n}function Gc(s,e,t){return h8(e,t).format(s)}const ky={values(s){return Gt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let i,r=s;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=m8(s,t)}const a=Zo(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Gc(s,n,d)},logarithmic(s,e,t){if(s===0)return"0";const n=t[e].significand||s/Math.pow(10,Math.floor(Zo(s)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?ky.numeric.call(this,s,e,t):""}};function m8(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Xc={formatters:ky};function p8(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const er=Object.create(null),eh=Object.create(null);function Ia(s,e){if(!e)return s;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function qu(s,e,t){return typeof e=="string"?Za(Ia(s,e),t):Za(Ia(s,""),e)}class g8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Wu(i.backgroundColor),this.hoverBorderColor=(n,i)=>Wu(i.borderColor),this.hoverColor=(n,i)=>Wu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qu(this,e,t)}get(e){return Ia(this,e)}describe(e,t){return qu(eh,e,t)}override(e,t){return qu(er,e,t)}route(e,t,n,i){const r=Ia(this,e),a=Ia(this,n),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[l],c=a[i];return yt(d)?Object.assign({},c,d):mt(d,c)},set(d){this[l]=d}}})}apply(e){e.forEach(t=>t(this))}}var es=new g8({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u8,f8,p8]);function _8(s){return!s||$t(s.size)||$t(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Jd(s,e,t,n,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>n&&(n=r),n}function v8(s,e,t,n){n=n||{};let i=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},r=n.garbageCollect=[],n.font=e),s.save(),s.font=e;let a=0;const l=t.length;let d,c,f,m,p;for(d=0;d<l;d++)if(m=t[d],m!=null&&!Gt(m))a=Jd(s,i,r,a,m);else if(Gt(m))for(c=0,f=m.length;c<f;c++)p=m[c],p!=null&&!Gt(p)&&(a=Jd(s,i,r,a,p));s.restore();const g=r.length/2;if(g>t.length){for(d=0;d<g;d++)delete i[r[d]];r.splice(0,g)}return a}function Ai(s,e,t){const n=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function L0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function th(s,e,t,n){$y(s,e,t,n,null)}function $y(s,e,t,n,i){let r,a,l,d,c,f,m,p;const g=e.pointStyle,v=e.rotation,k=e.radius;let b=(v||0)*XC;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(b),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(k)||k<=0)){switch(s.beginPath(),g){default:i?s.ellipse(t,n,i/2,k,0,0,qt):s.arc(t,n,k,0,qt),s.closePath();break;case"triangle":f=i?i/2:k,s.moveTo(t+Math.sin(b)*f,n-Math.cos(b)*k),b+=A0,s.lineTo(t+Math.sin(b)*f,n-Math.cos(b)*k),b+=A0,s.lineTo(t+Math.sin(b)*f,n-Math.cos(b)*k),s.closePath();break;case"rectRounded":c=k*.516,d=k-c,a=Math.cos(b+Ti)*d,m=Math.cos(b+Ti)*(i?i/2-c:d),l=Math.sin(b+Ti)*d,p=Math.sin(b+Ti)*(i?i/2-c:d),s.arc(t-m,n-l,c,b-Lt,b-ns),s.arc(t+p,n-a,c,b-ns,b),s.arc(t+m,n+l,c,b,b+ns),s.arc(t-p,n+a,c,b+ns,b+Lt),s.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*k,f=i?i/2:d,s.rect(t-f,n-d,2*f,2*d);break}b+=Ti;case"rectRot":m=Math.cos(b)*(i?i/2:k),a=Math.cos(b)*k,l=Math.sin(b)*k,p=Math.sin(b)*(i?i/2:k),s.moveTo(t-m,n-l),s.lineTo(t+p,n-a),s.lineTo(t+m,n+l),s.lineTo(t-p,n+a),s.closePath();break;case"crossRot":b+=Ti;case"cross":m=Math.cos(b)*(i?i/2:k),a=Math.cos(b)*k,l=Math.sin(b)*k,p=Math.sin(b)*(i?i/2:k),s.moveTo(t-m,n-l),s.lineTo(t+m,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"star":m=Math.cos(b)*(i?i/2:k),a=Math.cos(b)*k,l=Math.sin(b)*k,p=Math.sin(b)*(i?i/2:k),s.moveTo(t-m,n-l),s.lineTo(t+m,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a),b+=Ti,m=Math.cos(b)*(i?i/2:k),a=Math.cos(b)*k,l=Math.sin(b)*k,p=Math.sin(b)*(i?i/2:k),s.moveTo(t-m,n-l),s.lineTo(t+m,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"line":a=i?i/2:Math.cos(b)*k,l=Math.sin(b)*k,s.moveTo(t-a,n-l),s.lineTo(t+a,n+l);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(b)*(i?i/2:k),n+Math.sin(b)*k);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Eo(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Jc(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Qc(s){s.restore()}function y8(s,e,t,n,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function b8(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function x8(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),$t(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function w8(s,e,t,n,i){if(i.strikethrough||i.underline){const r=s.measureText(n),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,d=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,f=i.strikethrough?(d+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(a,f),s.lineTo(l,f),s.stroke()}}function k8(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Rr(s,e,t,n,i,r={}){const a=Gt(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let d,c;for(s.save(),s.font=i.string,x8(s,r),d=0;d<a.length;++d)c=a[d],r.backdrop&&k8(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),$t(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(c,t,n,r.maxWidth)),s.fillText(c,t,n,r.maxWidth),w8(s,t,n,c,r),n+=Number(i.lineHeight);s.restore()}function nl(s,e){const{x:t,y:n,w:i,h:r,radius:a}=e;s.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Lt,Lt,!0),s.lineTo(t,n+r-a.bottomLeft),s.arc(t+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,Lt,ns,!0),s.lineTo(t+i-a.bottomRight,n+r),s.arc(t+i-a.bottomRight,n+r-a.bottomRight,a.bottomRight,ns,0,!0),s.lineTo(t+i,n+a.topRight),s.arc(t+i-a.topRight,n+a.topRight,a.topRight,0,-ns,!0),s.lineTo(t+a.topLeft,n)}const $8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function S8(s,e){const t=(""+s).match($8);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const M8=s=>+s||0;function cm(s,e){const t={},n=yt(e),i=n?Object.keys(e):e,r=yt(s)?n?a=>mt(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of i)t[a]=M8(r(a));return t}function Cy(s){return cm(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ki(s){return cm(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Qs(s){const e=Cy(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cs(s,e){s=s||{},e=e||es.font;let t=mt(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=mt(s.style,e.style);n&&!(""+n).match(C8)&&(n=void 0);const i={family:mt(s.family,e.family),lineHeight:S8(mt(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:mt(s.weight,e.weight),string:""};return i.string=_8(i),i}function Bl(s,e,t,n){let i=!0,r,a,l;for(r=0,a=s.length;r<a;++r)if(l=s[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),i=!1),t!==void 0&&Gt(l)&&(l=l[t%l.length],i=!1),l!==void 0))return n&&!i&&(n.cacheable=!1),l}function T8(s,e,t){const{min:n,max:i}=s,r=my(e,(i-n)/2),a=(l,d)=>t&&l===0?0:l+d;return{min:a(n,-Math.abs(r)),max:a(i,r)}}function yi(s,e){return Object.assign(Object.create(s),e)}function um(s,e=[""],t,n,i=()=>s[0]){const r=t||s;typeof n>"u"&&(n=Ay("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:i,override:l=>um([l,...s],e,r,n)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete s[0][d],!0},get(l,d){return My(l,d,()=>I8(d,e,s,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,d){return N0(l).includes(d)},ownKeys(l){return N0(l)},set(l,d,c){const f=l._storage||(l._storage=i());return l[d]=f[d]=c,delete l._keys,!0}})}function jr(s,e,t,n){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Sy(s,n),setContext:r=>jr(s,r,t,n),override:r=>jr(s.override(r),e,t,n)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return My(r,a,()=>D8(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function Sy(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:n,isScriptable:hi(t)?t:()=>t,isIndexable:hi(n)?n:()=>n}}const A8=(s,e)=>s?s+rm(e):e,fm=(s,e)=>yt(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function My(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function D8(s,e,t){const{_proxy:n,_context:i,_subProxy:r,_descriptors:a}=s;let l=n[e];return hi(l)&&a.isScriptable(e)&&(l=E8(e,l,s,t)),Gt(l)&&l.length&&(l=P8(e,l,s,a.isIndexable)),fm(e,l)&&(l=jr(l,i,r&&r[e],a)),l}function E8(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let d=e(r,a||n);return l.delete(s),fm(s,d)&&(d=hm(i._scopes,i,s,d)),d}function P8(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(yt(e[0])){const d=e,c=i._scopes.filter(f=>f!==d);e=[];for(const f of d){const m=hm(c,i,s,f);e.push(jr(m,r,a&&a[s],l))}}return e}function Ty(s,e,t){return hi(s)?s(e,t):s}const R8=(s,e)=>s===!0?e:typeof s=="string"?Zi(e,s):void 0;function j8(s,e,t,n,i){for(const r of e){const a=R8(t,r);if(a){s.add(a);const l=Ty(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function hm(s,e,t,n){const i=e._rootScopes,r=Ty(e._fallback,t,n),a=[...s,...i],l=new Set;l.add(n);let d=F0(l,a,t,r||t,n);return d===null||typeof r<"u"&&r!==t&&(d=F0(l,a,r,d,n),d===null)?!1:um(Array.from(l),[""],i,r,()=>O8(e,t,n))}function F0(s,e,t,n,i){for(;t;)t=j8(s,e,t,n,i);return t}function O8(s,e,t){const n=s._getTarget();e in n||(n[e]={});const i=n[e];return Gt(i)&&yt(t)?t:i||{}}function I8(s,e,t,n){let i;for(const r of e)if(i=Ay(A8(r,s),t),typeof i<"u")return fm(s,i)?hm(t,n,s,i):i}function Ay(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function N0(s){let e=s._keys;return e||(e=s._keys=L8(s._scopes)),e}function L8(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const F8=Number.EPSILON||1e-14,Or=(s,e)=>e<s.length&&!s[e].skip&&s[e],Dy=s=>s==="x"?"y":"x";function N8(s,e,t,n){const i=s.skip?e:s,r=e,a=t.skip?e:t,l=Zf(r,i),d=Zf(a,r);let c=l/(l+d),f=d/(l+d);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const m=n*c,p=n*f;return{previous:{x:r.x-m*(a.x-i.x),y:r.y-m*(a.y-i.y)},next:{x:r.x+p*(a.x-i.x),y:r.y+p*(a.y-i.y)}}}function z8(s,e,t){const n=s.length;let i,r,a,l,d,c=Or(s,0);for(let f=0;f<n-1;++f)if(d=c,c=Or(s,f+1),!(!d||!c)){if(ja(e[f],0,F8)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],r=t[f+1]/e[f],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[f]=i*a*e[f],t[f+1]=r*a*e[f])}}function B8(s,e,t="x"){const n=Dy(t),i=s.length;let r,a,l,d=Or(s,0);for(let c=0;c<i;++c){if(a=l,l=d,d=Or(s,c+1),!l)continue;const f=l[t],m=l[n];a&&(r=(f-a[t])/3,l[`cp1${t}`]=f-r,l[`cp1${n}`]=m-r*e[c]),d&&(r=(d[t]-f)/3,l[`cp2${t}`]=f+r,l[`cp2${n}`]=m+r*e[c])}}function U8(s,e="x"){const t=Dy(e),n=s.length,i=Array(n).fill(0),r=Array(n);let a,l,d,c=Or(s,0);for(a=0;a<n;++a)if(l=d,d=c,c=Or(s,a+1),!!d){if(c){const f=c[e]-d[e];i[a]=f!==0?(c[t]-d[t])/f:0}r[a]=l?c?ho(i[a-1])!==ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}z8(s,i,r),B8(s,r,e)}function Ul(s,e,t){return Math.max(Math.min(s,t),e)}function V8(s,e){let t,n,i,r,a,l=Eo(s[0],e);for(t=0,n=s.length;t<n;++t)a=r,r=l,l=t<n-1&&Eo(s[t+1],e),r&&(i=s[t],a&&(i.cp1x=Ul(i.cp1x,e.left,e.right),i.cp1y=Ul(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Ul(i.cp2x,e.left,e.right),i.cp2y=Ul(i.cp2y,e.top,e.bottom)))}function H8(s,e,t,n,i){let r,a,l,d;if(e.spanGaps&&(s=s.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")U8(s,i);else{let c=n?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],d=N8(c,l,s[Math.min(r+1,a-(n?0:1))%a],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,c=l}e.capBezierPoints&&V8(s,t)}function mm(){return typeof window<"u"&&typeof document<"u"}function pm(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qd(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const Zc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function W8(s,e){return Zc(s).getPropertyValue(e)}const q8=["top","right","bottom","left"];function Yi(s,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=q8[i];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const K8=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function Y8(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=n;let a=!1,l,d;if(K8(i,r,s.target))l=i,d=r;else{const c=e.getBoundingClientRect();l=n.clientX-c.left,d=n.clientY-c.top,a=!0}return{x:l,y:d,box:a}}function Ii(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,i=Zc(t),r=i.boxSizing==="border-box",a=Yi(i,"padding"),l=Yi(i,"border","width"),{x:d,y:c,box:f}=Y8(s,t),m=a.left+(f&&l.left),p=a.top+(f&&l.top);let{width:g,height:v}=e;return r&&(g-=a.width+l.width,v-=a.height+l.height),{x:Math.round((d-m)/g*t.width/n),y:Math.round((c-p)/v*t.height/n)}}function G8(s,e,t){let n,i;if(e===void 0||t===void 0){const r=s&&pm(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=Zc(r),d=Yi(l,"border","width"),c=Yi(l,"padding");e=a.width-c.width-d.width,t=a.height-c.height-d.height,n=Qd(l.maxWidth,r,"clientWidth"),i=Qd(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||Xd,maxHeight:i||Xd}}const ei=s=>Math.round(s*10)/10;function X8(s,e,t,n){const i=Zc(s),r=Yi(i,"margin"),a=Qd(i.maxWidth,s,"clientWidth")||Xd,l=Qd(i.maxHeight,s,"clientHeight")||Xd,d=G8(s,e,t);let{width:c,height:f}=d;if(i.boxSizing==="content-box"){const p=Yi(i,"border","width"),g=Yi(i,"padding");c-=g.width+p.width,f-=g.height+p.height}return c=Math.max(0,c-r.width),f=Math.max(0,n?c/n:f-r.height),c=ei(Math.min(c,a,d.maxWidth)),f=ei(Math.min(f,l,d.maxHeight)),c&&!f&&(f=ei(c/2)),(e!==void 0||t!==void 0)&&n&&d.height&&f>d.height&&(f=d.height,c=ei(Math.floor(f*n))),{width:c,height:f}}function z0(s,e,t){const n=e||1,i=ei(s.height*n),r=ei(s.width*n);s.height=ei(s.height),s.width=ei(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||a.height!==i||a.width!==r?(s.currentDevicePixelRatio=n,a.height=i,a.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const J8=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};mm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function B0(s,e){const t=W8(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Li(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function Q8(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function Z8(s,e,t,n){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=Li(s,i,t),l=Li(i,r,t),d=Li(r,e,t),c=Li(a,l,t),f=Li(l,d,t);return Li(c,f,t)}const e7=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},t7=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function xr(s,e,t){return s?e7(e,t):t7()}function Ey(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function Py(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Ry(s){return s==="angle"?{between:sl,compare:e8,normalize:Is}:{between:Do,compare:(e,t)=>e-t,normalize:e=>e}}function U0({start:s,end:e,count:t,loop:n,style:i}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:i}}function s7(s,e,t){const{property:n,start:i,end:r}=t,{between:a,normalize:l}=Ry(n),d=e.length;let{start:c,end:f,loop:m}=s,p,g;if(m){for(c+=d,f+=d,p=0,g=d;p<g&&a(l(e[c%d][n]),i,r);++p)c--,f--;c%=d,f%=d}return f<c&&(f+=d),{start:c,end:f,loop:m,style:s.style}}function jy(s,e,t){if(!t)return[s];const{property:n,start:i,end:r}=t,a=e.length,{compare:l,between:d,normalize:c}=Ry(n),{start:f,end:m,loop:p,style:g}=s7(s,e,t),v=[];let k=!1,b=null,w,x,M;const C=()=>d(i,M,w)&&l(i,M)!==0,O=()=>l(r,w)===0||d(r,M,w),N=()=>k||C(),E=()=>!k||O();for(let B=f,L=f;B<=m;++B)x=e[B%a],!x.skip&&(w=c(x[n]),w!==M&&(k=d(w,i,r),b===null&&N()&&(b=l(w,i)===0?B:L),b!==null&&E()&&(v.push(U0({start:b,end:B,loop:p,count:a,style:g})),b=null),L=B,M=w));return b!==null&&v.push(U0({start:b,end:m,loop:p,count:a,style:g})),v}function Oy(s,e){const t=[],n=s.segments;for(let i=0;i<n.length;i++){const r=jy(n[i],s.points,e);r.length&&t.push(...r)}return t}function n7(s,e,t,n){let i=0,r=e-1;if(t&&!n)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function o7(s,e,t,n){const i=s.length,r=[];let a=e,l=s[e],d;for(d=e+1;d<=t;++d){const c=s[d%i];c.skip||c.stop?l.skip||(n=!1,r.push({start:e%i,end:(d-1)%i,loop:n}),e=a=c.stop?d:null):(a=d,l.skip&&(e=d)),l=c}return a!==null&&r.push({start:e%i,end:a%i,loop:n}),r}function i7(s,e){const t=s.points,n=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:a,end:l}=n7(t,i,r,n);if(n===!0)return V0(s,[{start:a,end:l,loop:r}],t,e);const d=l<a?l+i:l,c=!!s._fullLoop&&a===0&&l===i-1;return V0(s,o7(t,a,d,c),t,e)}function V0(s,e,t,n){return!n||!n.setContext||!t?e:r7(s,e,t,n)}function r7(s,e,t,n){const i=s._chart.getContext(),r=H0(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,d=t.length,c=[];let f=r,m=e[0].start,p=m;function g(v,k,b,w){const x=l?-1:1;if(v!==k){for(v+=d;t[v%d].skip;)v-=x;for(;t[k%d].skip;)k+=x;v%d!==k%d&&(c.push({start:v%d,end:k%d,loop:b,style:w}),f=w,m=k%d)}}for(const v of e){m=l?m:v.start;let k=t[m%d],b;for(p=m+1;p<=v.end;p++){const w=t[p%d];b=H0(n.setContext(yi(i,{type:"segment",p0:k,p1:w,p0DataIndex:(p-1)%d,p1DataIndex:p%d,datasetIndex:a}))),a7(b,f)&&g(m,p-1,v.loop,f),k=w,f=b}m<p-1&&g(m,p-1,v.loop,f)}return c}function H0(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function a7(s,e){if(!e)return!1;const t=[],n=function(i,r){return dm(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}function Vl(s,e,t){return s.options.clip?s[t]:e[t]}function l7(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:Vl(t,e,"left"),right:Vl(t,e,"right"),top:Vl(n,e,"top"),bottom:Vl(n,e,"bottom")}:e}function Iy(s,e){const t=e._clip;if(t.disabled)return!1;const n=l7(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=by.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,l=!1,d;for(;a>=0;--a)d=r[a],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wo=new d7;const W0="transparent",c7={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=O0(s||W0),i=n.valid&&O0(e||W0);return i&&i.valid?i.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class u7{constructor(e,t,n,i){const r=t[n];i=Bl([e.to,i,r,e.from]);const a=Bl([e.from,r,i]);this._active=!0,this._fn=e.fn||c7[e.type||typeof a],this._easing=Oa[e.easing]||Oa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Bl([e.to,t,i,e.from]),this._from=Bl([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,l=this._to;let d;if(this._active=r!==l&&(a||t<n),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=r;return}d=t/n%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(r,l,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Ly{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!yt(e))return;const t=Object.keys(es.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!yt(r))return;const a={};for(const l of t)a[l]=r[l];(Gt(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,t){const n=t.options,i=h7(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&f7(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const c=a[d];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[c];let m=r[c];const p=n.get(c);if(m)if(p&&m.active()){m.update(p,f,l);continue}else m.cancel();if(!p||!p.duration){e[c]=f;continue}r[c]=m=new u7(p,e,c,f),i.push(m)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return wo.add(this._chart,n),!0}}function f7(s,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function h7(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function q0(s,e){const t=s&&s.options||{},n=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function m7(s,e,t){if(t===!1)return!1;const n=q0(s,t),i=q0(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function p7(s){let e,t,n,i;return yt(s)?(e=s.top,t=s.right,n=s.bottom,i=s.left):e=t=n=i=s,{top:e,right:t,bottom:n,left:i,disabled:s===!1}}function Fy(s,e){const t=[],n=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)t.push(n[i].index);return t}function K0(s,e,t,n={}){const i=s.keys,r=n.mode==="single";let a,l,d,c;if(e===null)return;let f=!1;for(a=0,l=i.length;a<l;++a){if(d=+i[a],d===t){if(f=!0,n.all)continue;break}c=s.values[d],Zt(c)&&(r||e===0||ho(e)===ho(c))&&(e+=c)}return!f&&!n.all?0:e}function g7(s,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let d,c,f;for(d=0,c=a.length;d<c;++d)f=a[d],l[d]={[i]:f,[r]:s[f]};return l}function Ku(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function _7(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function v7(s){const{min:e,max:t,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function y7(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function Y0(s,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function G0(s,e){const{chart:t,_cachedMeta:n}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=n,d=r.axis,c=a.axis,f=_7(r,a,n),m=e.length;let p;for(let g=0;g<m;++g){const v=e[g],{[d]:k,[c]:b}=v,w=v._stacks||(v._stacks={});p=w[c]=y7(i,f,k),p[l]=b,p._top=Y0(p,a,!0,n.type),p._bottom=Y0(p,a,!1,n.type);const x=p._visualValues||(p._visualValues={});x[l]=b}}function Yu(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function b7(s,e){return yi(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function x7(s,e,t){return yi(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function oa(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const Gu=s=>s==="reset"||s==="none",X0=(s,e)=>e?s:Object.assign({},s),w7=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Fy(t,!0),values:null};class Gi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ku(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&oa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(m,p,g,v)=>m==="x"?p:m==="r"?v:g,r=t.xAxisID=mt(n.xAxisID,Yu(e,"x")),a=t.yAxisID=mt(n.yAxisID,Yu(e,"y")),l=t.rAxisID=mt(n.rAxisID,Yu(e,"r")),d=t.indexAxis,c=t.iAxisID=i(d,r,a,l),f=t.vAxisID=i(d,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&P0(this._data,this),e._stacked&&oa(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(yt(t)){const i=this._cachedMeta;this._data=g7(t,i)}else if(n!==t){if(n){P0(n,this);const i=this._cachedMeta;oa(i),i._parsed=[]}t&&Object.isExtensible(t)&&o8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ku(t.vScale,t),t.stack!==n.stack&&(i=!0,oa(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(G0(this,t._parsed),t._stacked=Ku(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,l=r.axis;let d=e===0&&t===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],f,m,p;if(this._parsing===!1)n._parsed=i,n._sorted=!0,p=i;else{Gt(i[e])?p=this.parseArrayData(n,i,e,t):yt(i[e])?p=this.parseObjectData(n,i,e,t):p=this.parsePrimitiveData(n,i,e,t);const g=()=>m[l]===null||c&&m[l]<c[l];for(f=0;f<t;++f)n._parsed[f+e]=m=p[f],d&&(g()&&(d=!1),c=m);n._sorted=d}a&&G0(this,p)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,l=r.axis,d=a.axis,c=r.getLabels(),f=r===a,m=new Array(i);let p,g,v;for(p=0,g=i;p<g;++p)v=p+n,m[p]={[l]:f||r.parse(c[v],v),[d]:a.parse(t[v],v)};return m}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,l=new Array(i);let d,c,f,m;for(d=0,c=i;d<c;++d)f=d+n,m=t[f],l[d]={x:r.parse(m[0],f),y:a.parse(m[1],f)};return l}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=new Array(i);let f,m,p,g;for(f=0,m=i;f<m;++f)p=f+n,g=t[p],c[f]={x:r.parse(Zi(g,l),p),y:a.parse(Zi(g,d),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:Fy(i,!0),values:t._stacks[e.axis]._visualValues};return K0(l,a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=r===null?NaN:r;const l=i&&n._stacks[t.axis];i&&l&&(i.values=l,a=K0(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,l=this._getOtherScale(e),d=w7(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=v7(l);let p,g;function v(){g=i[p];const k=g[l.axis];return!Zt(g[e.axis])||f>k||m<k}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(c,e,g,d),r));++p);if(r){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(c,e,g,d);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],Zt(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=p7(mt(this.options.clip,m7(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||i.length-l,c=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(e,r,l,d),f=l;f<l+d;++f){const m=i[f];m.hidden||(m.active&&c?a.push(m):m.draw(e,r))}for(f=0;f<a.length;++f)a[f].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=x7(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=b7(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],d=this.enableOptionSharing&&el(n);if(l)return X0(l,d);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),f),g=Object.keys(es.elements[e]),v=()=>this.getContext(n,i,t),k=c.resolveNamedOptions(p,g,v,m);return k.$shared&&(k.$shared=d,r[a]=Object.freeze(X0(k,d))),k}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let d;if(i.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,t),p=f.getOptionScopes(this.getDataset(),m);d=f.createResolver(p,this.getContext(e,n,t))}const c=new Ly(i,d&&d.animations);return d&&d._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Gu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){Gu(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Gu(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,d,c]of this._syncList)this[l](d,c);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,a=e+t;let l;const d=c=>{for(c.length+=t,l=c.length-1;l>=a;l--)c[l]=c[l-t]};for(d(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&oa(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Be(Gi,"defaults",{}),Be(Gi,"datasetElementType",null),Be(Gi,"dataElementType",null);function k7(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=t.length;i<r;i++)n=n.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=yy(n.sort((i,r)=>i-r))}return s._cache.$bar}function $7(s){const e=s.iScale,t=k7(e,s.type);let n=e._length,i,r,a,l;const d=()=>{a===32767||a===-32768||(el(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(i=0,r=t.length;i<r;++i)a=e.getPixelForValue(t[i]),d();for(l=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),d();return n}function C7(s,e,t,n){const i=t.barThickness;let r,a;return $t(i)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=i*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[s]-r/2}}function S7(s,e,t,n){const i=e.pixels,r=i[s];let a=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const d=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const c=r-(r-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/n,ratio:t.barPercentage,start:c}}function M7(s,e,t,n){const i=t.parse(s[0],n),r=t.parse(s[1],n),a=Math.min(i,r),l=Math.max(i,r);let d=a,c=l;Math.abs(a)>Math.abs(l)&&(d=l,c=a),e[t.axis]=c,e._custom={barStart:d,barEnd:c,start:i,end:r,min:a,max:l}}function Ny(s,e,t,n){return Gt(s)?M7(s,e,t,n):e[t.axis]=t.parse(s,n),e}function J0(s,e,t,n){const i=s.iScale,r=s.vScale,a=i.getLabels(),l=i===r,d=[];let c,f,m,p;for(c=t,f=t+n;c<f;++c)p=e[c],m={},m[i.axis]=l||i.parse(a[c],c),d.push(Ny(p,m,r,c));return d}function Xu(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function T7(s,e,t){return s!==0?ho(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function A7(s){let e,t,n,i,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:n,reverse:e,top:i,bottom:r}}function D7(s,e,t,n){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:d,top:c,bottom:f}=A7(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?i=c:(t._bottom||0)===n?i=f:(r[Q0(f,a,l,d)]=!0,i=c)),r[Q0(i,a,l,d)]=!0,s.borderSkipped=r}function Q0(s,e,t,n){return n?(s=E7(s,e,t),s=Z0(s,t,e)):s=Z0(s,e,t),s}function E7(s,e,t){return s===e?t:s===t?e:s}function Z0(s,e,t){return s==="start"?e:s==="end"?t:s}function P7(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class yd extends Gi{parsePrimitiveData(e,t,n,i){return J0(e,t,n,i)}parseArrayData(e,t,n,i){return J0(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=r.axis==="x"?l:d,f=a.axis==="x"?l:d,m=[];let p,g,v,k;for(p=n,g=n+i;p<g;++p)k=t[p],v={},v[r.axis]=r.parse(Zi(k,c),p),m.push(Ny(Zi(k,f),v,a,p));return m}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,l=Xu(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),c=l.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,i);for(let g=t;g<t+n;g++){const v=this.getParsed(g),k=r||$t(v[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,f),w=(v._stacks||{})[l.axis],x={horizontal:c,base:k.base,enableBorderRadius:!w||Xu(v._custom)||a===w._top||a===w._bottom,x:c?k.head:b.center,y:c?b.center:k.head,height:c?b.size:Math.abs(k.size),width:c?Math.abs(k.size):b.size};p&&(x.options=m||this.resolveDataElementOptions(g,e[g].active?"active":i));const M=x.options||e[g].options;D7(x,M,w,a),P7(x,M,f.ratio),this.updateElement(e[g],g,x,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),r=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),d=l&&l[n.axis],c=f=>{const m=f._parsed.find(g=>g[n.axis]===d),p=m&&m[f.vScale.axis];if($t(p)||isNaN(p))return!0};for(const f of i)if(!(t!==void 0&&c(f))&&((r===!1||a.indexOf(f.stack)===-1||r===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[mt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=e.barThickness;return{min:l||$7(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,l=r||0,d=this.getParsed(e),c=d._custom,f=Xu(c);let m=d[t.axis],p=0,g=n?this.applyStack(t,d,n):m,v,k;g!==m&&(p=g-m,g=m),f&&(m=c.barStart,g=c.barEnd-c.barStart,m!==0&&ho(m)!==ho(c.barEnd)&&(p=0),p+=m);const b=!$t(r)&&!f?r:p;let w=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(p+g):v=w,k=v-w,Math.abs(k)<a){k=T7(k,t,l)*a,m===l&&(w-=k/2);const x=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),C=Math.min(x,M),O=Math.max(x,M);w=Math.max(Math.min(w,O),C),v=w+k,n&&!f&&(d._stacks[t.axis]._visualValues[i]=t.getValueForPixel(v)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){const x=ho(k)*t.getLineWidthForValue(l)/2;w+=x,k-=x}return{size:k,base:w,head:v,center:v+k/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=mt(i.maxBarThickness,1/0);let l,d;const c=this._getAxisCount();if(t.grouped){const f=r?this._getStackCount(e):t.stackCount,m=i.barThickness==="flex"?S7(e,t,i,f*c):C7(e,t,i,f*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(mt(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;l=m.start+m.chunk*v+m.chunk/2,d=Math.min(a,m.chunk*m.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(a,t.min*t.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}Be(yd,"id","bar"),Be(yd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Be(yd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function R7(s,e,t){let n=1,i=1,r=0,a=0;if(e<qt){const l=s,d=l+e,c=Math.cos(l),f=Math.sin(l),m=Math.cos(d),p=Math.sin(d),g=(M,C,O)=>sl(M,l,d,!0)?1:Math.max(C,C*t,O,O*t),v=(M,C,O)=>sl(M,l,d,!0)?-1:Math.min(C,C*t,O,O*t),k=g(0,c,m),b=g(ns,f,p),w=v(Lt,c,m),x=v(Lt+ns,f,p);n=(k-w)/2,i=(b-x)/2,r=-(k+w)/2,a=-(b+x)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:a}}class ma extends Gi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=d=>+n[d];if(yt(n[e])){const{key:d="value"}=this._parsing;r=c=>+Zi(n[c],d)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=r(a)}}_getRotation(){return uo(this.options.rotation-90)}_getCircumference(){return uo(this.options.circumference)}_getRotationExtents(){let e=qt,t=-qt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),d=Math.min(VC(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:v,offsetY:k}=R7(m,f,d),b=(n.width-a)/p,w=(n.height-a)/g,x=Math.max(Math.min(b,w)/2,0),M=my(this.options.radius,x),C=Math.max(M*d,0),O=(M-C)/this._getVisibleDatasetWeightTotal();this.offsetX=v*M,this.offsetY=k*M,i.total=this.calculateTotal(),this.outerRadius=M-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/qt)}updateElements(e,t,n,i){const r=i==="reset",a=this.chart,l=a.chartArea,c=a.options.animation,f=(l.left+l.right)/2,m=(l.top+l.bottom)/2,p=r&&c.animateScale,g=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:k,includeOptions:b}=this._getSharedOptions(t,i);let w=this._getRotation(),x;for(x=0;x<t;++x)w+=this._circumference(x,r);for(x=t;x<t+n;++x){const M=this._circumference(x,r),C=e[x],O={x:f+this.offsetX,y:m+this.offsetY,startAngle:w,endAngle:w+M,circumference:M,outerRadius:v,innerRadius:g};b&&(O.options=k||this.resolveDataElementOptions(x,C.active?"active":i)),w+=M,this.updateElement(C,x,O,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Gc(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,l,d;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)d=l.resolveDataElementOptions(i),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(mt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Be(ma,"id","doughnut"),Be(ma,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Be(ma,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Be(ma,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,c)=>{const m=e.getDatasetMeta(0).controller.getStyle(c);return{text:d,fillStyle:m.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:i,pointStyle:n,borderRadius:a&&(l||m.borderRadius),index:c}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class bd extends Gi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:d}=a8(t,i,a);this._drawStart=l,this._drawCount=d,l8(t)&&(l=0,d=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,l,d,e)}updateElements(e,t,n,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,i),p=a.axis,g=l.axis,{spanGaps:v,segment:k}=this.options,b=tl(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||i==="none",x=t+n,M=e.length;let C=t>0&&this.getParsed(t-1);for(let O=0;O<M;++O){const N=e[O],E=w?N:{};if(O<t||O>=x){E.skip=!0;continue}const B=this.getParsed(O),L=$t(B[g]),P=E[p]=a.getPixelForValue(B[p],O),R=E[g]=r||L?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,B,d):B[g],O);E.skip=isNaN(P)||isNaN(R)||L,E.stop=O>0&&Math.abs(B[p]-C[p])>b,k&&(E.parsed=B,E.raw=c.data[O]),m&&(E.options=f||this.resolveDataElementOptions(O,N.active?"active":i)),w||this.updateElement(N,O,E,i),C=B}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Be(bd,"id","line"),Be(bd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Be(bd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Di(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gm{constructor(e){Be(this,"options");this.options=e||{}}static override(e){Object.assign(gm.prototype,e)}init(){}formats(){return Di()}parse(){return Di()}format(){return Di()}add(){return Di()}diff(){return Di()}startOf(){return Di()}endOf(){return Di()}}var j7={_date:gm};function O7(s,e,t,n){const{controller:i,data:r,_sorted:a}=s,l=i._cachedMeta.iScale,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const c=l._reversePixels?s8:Hi;if(n){if(i._sharedOptions){const f=r[0],m=typeof f.getRange=="function"&&f.getRange(e);if(m){const p=c(r,e,t-m),g=c(r,e,t+m);return{lo:p.lo,hi:g.hi}}}}else{const f=c(r,e,t);if(d){const{vScale:m}=i._cachedMeta,{_parsed:p}=s,g=p.slice(0,f.lo+1).reverse().findIndex(k=>!$t(k[m.axis]));f.lo-=Math.max(0,g);const v=p.slice(f.hi).findIndex(k=>!$t(k[m.axis]));f.hi+=Math.max(0,v)}return f}}return{lo:0,hi:r.length-1}}function vl(s,e,t,n,i){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,d=r.length;l<d;++l){const{index:c,data:f}=r[l],{lo:m,hi:p}=O7(r[l],e,a,i);for(let g=m;g<=p;++g){const v=f[g];v.skip||n(v,c,g)}}}function I7(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,a=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ju(s,e,t,n,i){const r=[];return!i&&!s.isPointInArea(e)||vl(s,t,e,function(l,d,c){!i&&!Eo(l,s.chartArea,0)||l.inRange(e.x,e.y,n)&&r.push({element:l,datasetIndex:d,index:c})},!0),r}function L7(s,e,t,n){let i=[];function r(a,l,d){const{startAngle:c,endAngle:f}=a.getProps(["startAngle","endAngle"],n),{angle:m}=_y(a,{x:e.x,y:e.y});sl(m,c,f)&&i.push({element:a,datasetIndex:l,index:d})}return vl(s,t,e,r),i}function F7(s,e,t,n,i,r){let a=[];const l=I7(t);let d=Number.POSITIVE_INFINITY;function c(f,m,p){const g=f.inRange(e.x,e.y,i);if(n&&!g)return;const v=f.getCenterPoint(i);if(!(!!r||s.isPointInArea(v))&&!g)return;const b=l(e,v);b<d?(a=[{element:f,datasetIndex:m,index:p}],d=b):b===d&&a.push({element:f,datasetIndex:m,index:p})}return vl(s,t,e,c),a}function Qu(s,e,t,n,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?L7(s,e,t,i):F7(s,e,t,n,i,r)}function eg(s,e,t,n,i){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return vl(s,t,e,(d,c,f)=>{d[a]&&d[a](e[t],i)&&(r.push({element:d,datasetIndex:c,index:f}),l=l||d.inRange(e.x,e.y,i))}),n&&!l?[]:r}var N7={evaluateInteractionItems:vl,modes:{index(s,e,t,n){const i=Ii(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Ju(s,i,r,n,a):Qu(s,i,r,!1,n,a),d=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const f=l[0].index,m=c.data[f];m&&!m.skip&&d.push({element:m,datasetIndex:c.index,index:f})}),d):[]},dataset(s,e,t,n){const i=Ii(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Ju(s,i,r,n,a):Qu(s,i,r,!1,n,a);if(l.length>0){const d=l[0].datasetIndex,c=s.getDatasetMeta(d).data;l=[];for(let f=0;f<c.length;++f)l.push({element:c[f],datasetIndex:d,index:f})}return l},point(s,e,t,n){const i=Ii(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ju(s,i,r,n,a)},nearest(s,e,t,n){const i=Ii(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Qu(s,i,r,t.intersect,n,a)},x(s,e,t,n){const i=Ii(e,s);return eg(s,i,"x",t.intersect,n)},y(s,e,t,n){const i=Ii(e,s);return eg(s,i,"y",t.intersect,n)}}};const zy=["left","top","right","bottom"];function ia(s,e){return s.filter(t=>t.pos===e)}function tg(s,e){return s.filter(t=>zy.indexOf(t.pos)===-1&&t.box.axis===e)}function ra(s,e){return s.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function z7(s){const e=[];let t,n,i,r,a,l;for(t=0,n=(s||[]).length;t<n;++t)i=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:l});return e}function B7(s){const e={};for(const t of s){const{stack:n,pos:i,stackWeight:r}=t;if(!n||!zy.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function U7(s,e){const t=B7(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:d}=l.box,c=t[l.stack],f=c&&l.stackWeight/c.weight;l.horizontal?(l.width=f?f*n:d&&e.availableWidth,l.height=i):(l.width=n,l.height=f?f*i:d&&e.availableHeight)}return t}function V7(s){const e=z7(s),t=ra(e.filter(c=>c.box.fullSize),!0),n=ra(ia(e,"left"),!0),i=ra(ia(e,"right")),r=ra(ia(e,"top"),!0),a=ra(ia(e,"bottom")),l=tg(e,"x"),d=tg(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:i.concat(d).concat(a).concat(l),chartArea:ia(e,"chartArea"),vertical:n.concat(i).concat(d),horizontal:r.concat(a).concat(l)}}function sg(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function By(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function H7(s,e,t,n){const{pos:i,box:r}=t,a=s.maxPadding;if(!yt(i)){t.size&&(s[i]-=t.size);const m=n[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?r.height:r.width),t.size=m.size/m.count,s[i]+=t.size}r.getPadding&&By(a,r.getPadding());const l=Math.max(0,e.outerWidth-sg(a,s,"left","right")),d=Math.max(0,e.outerHeight-sg(a,s,"top","bottom")),c=l!==s.w,f=d!==s.h;return s.w=l,s.h=d,t.horizontal?{same:c,other:f}:{same:f,other:c}}function W7(s){const e=s.maxPadding;function t(n){const i=Math.max(e[n]-s[n],0);return s[n]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function q7(s,e){const t=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return n(s?["left","right"]:["top","bottom"])}function pa(s,e,t,n){const i=[];let r,a,l,d,c,f;for(r=0,a=s.length,c=0;r<a;++r){l=s[r],d=l.box,d.update(l.width||e.w,l.height||e.h,q7(l.horizontal,e));const{same:m,other:p}=H7(e,t,l,n);c|=m&&i.length,f=f||p,d.fullSize||i.push(l)}return c&&pa(i,e,t,n)||f}function Hl(s,e,t,n,i){s.top=t,s.left=e,s.right=e+n,s.bottom=t+i,s.width=n,s.height=i}function ng(s,e,t,n){const i=t.padding;let{x:r,y:a}=e;for(const l of s){const d=l.box,c=n[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/c.weight||1;if(l.horizontal){const m=e.w*f,p=c.size||d.height;el(c.start)&&(a=c.start),d.fullSize?Hl(d,i.left,a,t.outerWidth-i.right-i.left,p):Hl(d,e.left+c.placed,a,m,p),c.start=a,c.placed+=m,a=d.bottom}else{const m=e.h*f,p=c.size||d.width;el(c.start)&&(r=c.start),d.fullSize?Hl(d,r,i.top,p,t.outerHeight-i.bottom-i.top):Hl(d,r,e.top+c.placed,p,m),c.start=r,c.placed+=m,r=d.right}}e.x=r,e.y=a}var ti={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const i=Qs(s.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=V7(s.boxes),d=l.vertical,c=l.horizontal;Ot(s.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const f=d.reduce((k,b)=>b.box.options&&b.box.options.display===!1?k:k+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),p=Object.assign({},i);By(p,Qs(n));const g=Object.assign({maxPadding:p,w:r,h:a,x:i.left,y:i.top},i),v=U7(d.concat(c),m);pa(l.fullSize,g,m,v),pa(d,g,m,v),pa(c,g,m,v)&&pa(d,g,m,v),W7(g),ng(l.leftAndTop,g,m,v),g.x+=g.w,g.y+=g.h,ng(l.rightAndBottom,g,m,v),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Ot(l.chartArea,k=>{const b=k.box;Object.assign(b,s.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Uy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class K7 extends Uy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xd="$chartjs",Y7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},og=s=>s===null||s==="";function G7(s,e){const t=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[xd]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",og(i)){const r=B0(s,"width");r!==void 0&&(s.width=r)}if(og(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=B0(s,"height");r!==void 0&&(s.height=r)}return s}const Vy=J8?{passive:!0}:!1;function X7(s,e,t){s&&s.addEventListener(e,t,Vy)}function J7(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Vy)}function Q7(s,e){const t=Y7[s.type]||s.type,{x:n,y:i}=Ii(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Zd(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function Z7(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Zd(l.addedNodes,n),a=a&&!Zd(l.removedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function eS(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Zd(l.removedNodes,n),a=a&&!Zd(l.addedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const ol=new Map;let ig=0;function Hy(){const s=window.devicePixelRatio;s!==ig&&(ig=s,ol.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function tS(s,e){ol.size||window.addEventListener("resize",Hy),ol.set(s,e)}function sS(s){ol.delete(s),ol.size||window.removeEventListener("resize",Hy)}function nS(s,e,t){const n=s.canvas,i=n&&pm(n);if(!i)return;const r=xy((l,d)=>{const c=i.clientWidth;t(l,d),c<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const d=l[0],c=d.contentRect.width,f=d.contentRect.height;c===0&&f===0||r(c,f)});return a.observe(i),tS(s,r),a}function Zu(s,e,t){t&&t.disconnect(),e==="resize"&&sS(s)}function oS(s,e,t){const n=s.canvas,i=xy(r=>{s.ctx!==null&&t(Q7(r,s))},s);return X7(n,e,i),i}class iS extends Uy{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(G7(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[xd])return!1;const n=t[xd].initial;["height","width"].forEach(r=>{const a=n[r];$t(a)?t.removeAttribute(r):t.setAttribute(r,a)});const i=n.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[xd],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:Z7,detach:eS,resize:nS}[t]||oS;i[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Zu,detach:Zu,resize:Zu}[t]||J7)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return X8(e,t,n,i)}isAttached(e){const t=e&&pm(e);return!!(t&&t.isConnected)}}function rS(s){return!mm()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?K7:iS}var ad;let bi=(ad=class{constructor(){Be(this,"x");Be(this,"y");Be(this,"active",!1);Be(this,"options");Be(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return tl(this.x)&&tl(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},Be(ad,"defaults",{}),Be(ad,"defaultRoutes"),ad);function aS(s,e){const t=s.options.ticks,n=lS(s),i=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?cS(e):[],a=r.length,l=r[0],d=r[a-1],c=[];if(a>i)return uS(e,c,r,a/i),c;const f=dS(r,e,i);if(a>0){let m,p;const g=a>1?Math.round((d-l)/(a-1)):null;for(Wl(e,c,f,$t(g)?0:l-g,l),m=0,p=a-1;m<p;m++)Wl(e,c,f,r[m],r[m+1]);return Wl(e,c,f,d,$t(g)?e.length:d+g),c}return Wl(e,c,f),c}function lS(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(n,i))}function dS(s,e,t){const n=fS(s),i=e.length/t;if(!n)return Math.max(i,1);const r=JC(n);for(let a=0,l=r.length-1;a<l;a++){const d=r[a];if(d>i)return d}return Math.max(i,1)}function cS(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function uS(s,e,t,n){let i=0,r=t[0],a;for(n=Math.ceil(n),a=0;a<s.length;a++)a===r&&(e.push(s[a]),i++,r=t[i*n])}function Wl(s,e,t,n,i){const r=mt(n,0),a=Math.min(mt(i,s.length),s.length);let l=0,d,c,f;for(t=Math.ceil(t),i&&(d=i-n,t=d/Math.floor(d/t)),f=r;f<0;)l++,f=Math.round(r+l*t);for(c=Math.max(r,0);c<a;c++)c===f&&(e.push(s[c]),l++,f=Math.round(r+l*t))}function fS(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const hS=s=>s==="left"?"right":s==="right"?"left":s,rg=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,ag=(s,e)=>Math.min(e||s,s);function lg(s,e){const t=[],n=s.length/e,i=s.length;let r=0;for(;r<i;r+=n)t.push(s[Math.floor(r)]);return t}function mS(s,e,t){const n=s.ticks.length,i=Math.min(e,n-1),r=s._startPixel,a=s._endPixel,l=1e-6;let d=s.getPixelForTick(i),c;if(!(t&&(n===1?c=Math.max(d-r,a-d):e===0?c=(s.getPixelForTick(1)-d)/2:c=(d-s.getPixelForTick(i-1))/2,d+=i<e?c:-c,d<r-l||d>a+l)))return d}function pS(s,e){Ot(s,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}function aa(s){return s.drawTicks?s.tickLength:0}function dg(s,e){if(!s.display)return 0;const t=Cs(s.font,e),n=Qs(s.padding);return(Gt(s.text)?s.text.length:1)*t.lineHeight+n.height}function gS(s,e){return yi(s,{scale:e,type:"scale"})}function _S(s,e,t){return yi(s,{tick:t,index:e,type:"tick"})}function vS(s,e,t){let n=wy(s);return(t&&e!=="right"||!t&&e==="right")&&(n=hS(n)),n}function yS(s,e,t,n){const{top:i,left:r,bottom:a,right:l,chart:d}=s,{chartArea:c,scales:f}=d;let m=0,p,g,v;const k=a-i,b=l-r;if(s.isHorizontal()){if(g=gn(n,r,l),yt(t)){const w=Object.keys(t)[0],x=t[w];v=f[w].getPixelForValue(x)+k-e}else t==="center"?v=(c.bottom+c.top)/2+k-e:v=rg(s,t,e);p=l-r}else{if(yt(t)){const w=Object.keys(t)[0],x=t[w];g=f[w].getPixelForValue(x)-b+e}else t==="center"?g=(c.left+c.right)/2-b+e:g=rg(s,t,e);v=gn(n,a,i),m=t==="left"?-ns:ns}return{titleX:g,titleY:v,maxWidth:p,rotation:m}}class tr extends bi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=vn(e,Number.POSITIVE_INFINITY),t=vn(t,Number.NEGATIVE_INFINITY),n=vn(n,Number.POSITIVE_INFINITY),i=vn(i,Number.NEGATIVE_INFINITY),{min:vn(e,n),max:vn(t,i),minDefined:Zt(e),maxDefined:Zt(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let d=0,c=l.length;d<c;++d)a=l[d].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),r||(n=Math.max(n,a.max));return t=r&&t>n?n:t,n=i&&t>n?t:n,{min:vn(t,vn(n,t)),max:vn(n,vn(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T8(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?lg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=aS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Wt(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=ag(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a=i,l,d,c;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),m=f.widest.width,p=f.highest.height,g=Bs(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),m+6>l&&(l=g/(n-(e.offset?.5:1)),d=this.maxHeight-aa(e.grid)-t.padding-dg(e.title,this.chart.options.font),c=Math.sqrt(m*m+p*p),a=am(Math.min(Math.asin(Bs((f.highest.height+6)/l,-1,1)),Math.asin(Bs(d/c,-1,1))-Math.asin(Bs(p/c,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=dg(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=aa(r)+d):(e.height=this.maxHeight,e.width=aa(r)+d),n.display&&this.ticks.length){const{first:c,last:f,widest:m,highest:p}=this._getLabelSizes(),g=n.padding*2,v=uo(this.labelRotation),k=Math.cos(v),b=Math.sin(v);if(l){const w=n.mirror?0:b*m.width+k*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=n.mirror?0:k*m.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(c,f,b,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:l}=this.options,d=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;d?c?(p=i*e.width,g=n*t.height):(p=n*e.height,g=i*t.width):r==="start"?g=t.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,g=t.width/2),this.paddingLeft=Math.max((p-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((g-m+a)*this.width/(this.width-m),0)}else{let f=t.height/2,m=e.height/2;r==="start"?(f=0,m=e.height):r==="end"&&(f=t.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)$t(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=lg(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],l=[],d=Math.floor(t/ag(t,n));let c=0,f=0,m,p,g,v,k,b,w,x,M,C,O;for(m=0;m<t;m+=d){if(v=e[m].label,k=this._resolveTickFontOptions(m),i.font=b=k.string,w=r[b]=r[b]||{data:{},gc:[]},x=k.lineHeight,M=C=0,!$t(v)&&!Gt(v))M=Jd(i,w.data,w.gc,M,v),C=x;else if(Gt(v))for(p=0,g=v.length;p<g;++p)O=v[p],!$t(O)&&!Gt(O)&&(M=Jd(i,w.data,w.gc,M,O),C+=x);a.push(M),l.push(C),c=Math.max(M,c),f=Math.max(C,f)}pS(r,t);const N=a.indexOf(c),E=l.indexOf(f),B=L=>({width:a[L]||0,height:l[L]||0});return{first:B(0),last:B(t-1),widest:B(N),highest:B(E),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return t8(this._alignToPixels?Ai(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=_S(this.getContext(),e,n))}return this.$context||(this.$context=gS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=uo(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,d=r?r.highest.height+a:0;return this.isHorizontal()?d*n>l*i?l/n:d/i:d*i<l*n?d/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:l}=i,d=r.offset,c=this.isHorizontal(),m=this.ticks.length+(d?1:0),p=aa(r),g=[],v=l.setContext(this.getContext()),k=v.display?v.width:0,b=k/2,w=function(le){return Ai(n,le,k)};let x,M,C,O,N,E,B,L,P,R,A,F;if(a==="top")x=w(this.bottom),E=this.bottom-p,L=x-b,R=w(e.top)+b,F=e.bottom;else if(a==="bottom")x=w(this.top),R=e.top,F=w(e.bottom)-b,E=x+b,L=this.top+p;else if(a==="left")x=w(this.right),N=this.right-p,B=x-b,P=w(e.left)+b,A=e.right;else if(a==="right")x=w(this.left),P=e.left,A=w(e.right)-b,N=x+b,B=this.left+p;else if(t==="x"){if(a==="center")x=w((e.top+e.bottom)/2+.5);else if(yt(a)){const le=Object.keys(a)[0],J=a[le];x=w(this.chart.scales[le].getPixelForValue(J))}R=e.top,F=e.bottom,E=x+b,L=E+p}else if(t==="y"){if(a==="center")x=w((e.left+e.right)/2);else if(yt(a)){const le=Object.keys(a)[0],J=a[le];x=w(this.chart.scales[le].getPixelForValue(J))}N=x-b,B=N-p,P=e.left,A=e.right}const be=mt(i.ticks.maxTicksLimit,m),ae=Math.max(1,Math.ceil(m/be));for(M=0;M<m;M+=ae){const le=this.getContext(M),J=r.setContext(le),ne=l.setContext(le),q=J.lineWidth,oe=J.color,xe=ne.dash||[],je=ne.dashOffset,ot=J.tickWidth,ht=J.tickColor,he=J.tickBorderDash||[],we=J.tickBorderDashOffset;C=mS(this,M,d),C!==void 0&&(O=Ai(n,C,q),c?N=B=P=A=O:E=L=R=F=O,g.push({tx1:N,ty1:E,tx2:B,ty2:L,x1:P,y1:R,x2:A,y2:F,width:q,color:oe,borderDash:xe,borderDashOffset:je,tickWidth:ot,tickColor:ht,tickBorderDash:he,tickBorderDashOffset:we}))}return this._ticksLength=m,this._borderValue=x,g}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:c,padding:f,mirror:m}=r,p=aa(n.grid),g=p+f,v=m?-f:g,k=-uo(this.labelRotation),b=[];let w,x,M,C,O,N,E,B,L,P,R,A,F="middle";if(i==="top")N=this.bottom-v,E=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+v,E=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(p);E=ae.textAlign,O=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(p);E=ae.textAlign,O=ae.x}else if(t==="x"){if(i==="center")N=(e.top+e.bottom)/2+g;else if(yt(i)){const ae=Object.keys(i)[0],le=i[ae];N=this.chart.scales[ae].getPixelForValue(le)+g}E=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")O=(e.left+e.right)/2-g;else if(yt(i)){const ae=Object.keys(i)[0],le=i[ae];O=this.chart.scales[ae].getPixelForValue(le)}E=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(d==="start"?F="top":d==="end"&&(F="bottom"));const be=this._getLabelSizes();for(w=0,x=l.length;w<x;++w){M=l[w],C=M.label;const ae=r.setContext(this.getContext(w));B=this.getPixelForTick(w)+r.labelOffset,L=this._resolveTickFontOptions(w),P=L.lineHeight,R=Gt(C)?C.length:1;const le=R/2,J=ae.color,ne=ae.textStrokeColor,q=ae.textStrokeWidth;let oe=E;a?(O=B,E==="inner"&&(w===x-1?oe=this.options.reverse?"left":"right":w===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?c==="near"||k!==0?A=-R*P+P/2:c==="center"?A=-be.highest.height/2-le*P+P:A=-be.highest.height+P/2:c==="near"||k!==0?A=P/2:c==="center"?A=be.highest.height/2-le*P:A=be.highest.height-R*P,m&&(A*=-1),k!==0&&!ae.showLabelBackdrop&&(O+=P/2*Math.sin(k))):(N=B,A=(1-R)*P/2);let xe;if(ae.showLabelBackdrop){const je=Qs(ae.backdropPadding),ot=be.heights[w],ht=be.widths[w];let he=A-je.top,we=0-je.left;switch(F){case"middle":he-=ot/2;break;case"bottom":he-=ot;break}switch(E){case"center":we-=ht/2;break;case"right":we-=ht;break;case"inner":w===x-1?we-=ht:w>0&&(we-=ht/2);break}xe={left:we,top:he,width:ht+je.width,height:ot+je.height,color:ae.backdropColor}}b.push({label:C,font:L,textOffset:A,options:{rotation:k,color:J,strokeColor:ne,strokeWidth:q,textAlign:oe,textBaseline:F,translation:[O,N],backdrop:xe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-uo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,d=a.widest.width;let c,f;return t==="left"?i?(f=this.right+r,n==="near"?c="left":n==="center"?(c="center",f+=d/2):(c="right",f+=d)):(f=this.right-l,n==="near"?c="right":n==="center"?(c="center",f-=d/2):(c="left",f=this.left)):t==="right"?i?(f=this.left+r,n==="near"?c="right":n==="center"?(c="center",f-=d/2):(c="left",f-=d)):(f=this.left+l,n==="near"?c="left":n==="center"?(c="center",f+=d/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(d,c,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const d=i[r];t.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let c,f,m,p;this.isHorizontal()?(c=Ai(e,this.left,a)-a/2,f=Ai(e,this.right,l)+l/2,m=p=d):(m=Ai(e,this.top,a)-a/2,p=Ai(e,this.bottom,l)+l/2,c=f=d),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,m),t.lineTo(f,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Jc(n,i);const r=this.getLabelItems(e);for(const a of r){const l=a.options,d=a.font,c=a.label,f=a.textOffset;Rr(n,c,0,f,d,l)}i&&Qc(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=Cs(n.font),a=Qs(n.padding),l=n.align;let d=r.lineHeight/2;t==="bottom"||t==="center"||yt(t)?(d+=a.bottom,Gt(n.text)&&(d+=r.lineHeight*(n.text.length-1))):d+=a.top;const{titleX:c,titleY:f,maxWidth:m,rotation:p}=yS(this,d,t,l);Rr(e,n.text,0,0,r,{color:n.color,maxWidth:m,rotation:p,textAlign:vS(l,t,i),textBaseline:"middle",translation:[c,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=mt(e.grid&&e.grid.z,-1),i=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==tr.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Cs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ql{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;wS(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,bS(e,a,n),this.override&&es.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in es[i]&&(delete es[i][n],this.override&&delete er[n])}}function bS(s,e,t){const n=Za(Object.create(null),[t?es.get(t):{},es.get(e),s.defaults]);es.set(e,n),s.defaultRoutes&&xS(e,s.defaultRoutes),s.descriptors&&es.describe(e,s.descriptors)}function xS(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),r=[s].concat(n).join("."),a=e[t].split("."),l=a.pop(),d=a.join(".");es.route(r,i,d,l)})}function wS(s){return"id"in s&&"defaults"in s}class kS{constructor(){this.controllers=new ql(Gi,"datasets",!0),this.elements=new ql(bi,"elements"),this.plugins=new ql(Object,"plugins"),this.scales=new ql(tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Ot(i,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,n){const i=rm(e);Wt(n["before"+i],[],n),t[e](n),Wt(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var ro=new kS;class $S{constructor(){this._init=void 0}notify(e,t,n,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,i){i=i||{};for(const r of e){const a=r.plugin,l=a[n],d=[t,i,r.options];if(Wt(l,d,a)===!1&&i.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=mt(n.options&&n.options.plugins,{}),r=CS(n);return i===!1&&!t?[]:MS(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(r,a)=>r.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function CS(s){const e={},t=[],n=Object.keys(ro.plugins.items);for(let r=0;r<n.length;r++)t.push(ro.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function SS(s,e){return!e&&s===!1?null:s===!0?{}:s}function MS(s,{plugins:e,localIds:t},n,i){const r=[],a=s.getContext();for(const l of e){const d=l.id,c=SS(n[d],i);c!==null&&r.push({plugin:l,options:TS(s.config,{plugin:l,local:t[d]},c,a)})}return r}function TS(s,{plugin:e,local:t},n,i){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(n,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sh(s,e){const t=es.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function AS(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function DS(s,e){return s===e?"_index_":"_value_"}function cg(s){if(s==="x"||s==="y"||s==="r")return s}function ES(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function nh(s,...e){if(cg(s))return s;for(const t of e){const n=t.axis||ES(t.position)||s.length>1&&cg(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function ug(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function PS(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return ug(s,"x",t[0])||ug(s,"y",t[0])}return{}}function RS(s,e){const t=er[s.type]||{scales:{}},n=e.scales||{},i=sh(s.type,e),r=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!yt(l)||l._proxy)return;const d=nh(a,l,PS(a,s),es.scales[l.type]),c=DS(d,i),f=t.scales||{};r[a]=Ra(Object.create(null),[{axis:d},l,f[d],f[c]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,d=a.indexAxis||sh(l,e),f=(er[l]||{}).scales||{};Object.keys(f).forEach(m=>{const p=AS(m,d),g=a[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),Ra(r[g],[{axis:p},n[g],f[m]])})}),Object.keys(r).forEach(a=>{const l=r[a];Ra(l,[es.scales[l.type],es.scale])}),r}function Wy(s){const e=s.options||(s.options={});e.plugins=mt(e.plugins,{}),e.scales=RS(s,e)}function qy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function jS(s){return s=s||{},s.data=qy(s.data),Wy(s),s}const fg=new Map,Ky=new Set;function Kl(s,e){let t=fg.get(s);return t||(t=e(),fg.set(s,t),Ky.add(t)),t}const la=(s,e,t)=>{const n=Zi(e,t);n!==void 0&&s.add(n)};class OS{constructor(e){this._config=jS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Wy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Kl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Kl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Kl(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),l=a.get(t);if(l)return l;const d=new Set;t.forEach(f=>{e&&(d.add(e),f.forEach(m=>la(d,e,m))),f.forEach(m=>la(d,i,m)),f.forEach(m=>la(d,er[r]||{},m)),f.forEach(m=>la(d,es,m)),f.forEach(m=>la(d,eh,m))});const c=Array.from(d);return c.length===0&&c.push(Object.create(null)),Ky.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,er[t]||{},es.datasets[t]||{},{type:t},es,eh]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=hg(this._resolverCache,e,i);let d=a;if(LS(a,t)){r.$shared=!1,n=hi(n)?n():n;const c=this.createResolver(e,n,l);d=jr(a,n,c)}for(const c of t)r[c]=d[c];return r}createResolver(e,t,n=[""],i){const{resolver:r}=hg(this._resolverCache,e,n);return yt(t)?jr(r,t,void 0,i):r}}function hg(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const i=t.join();let r=n.get(i);return r||(r={resolver:um(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const IS=s=>yt(s)&&Object.getOwnPropertyNames(s).some(e=>hi(s[e]));function LS(s,e){const{isScriptable:t,isIndexable:n}=Sy(s);for(const i of e){const r=t(i),a=n(i),l=(a||r)&&s[i];if(r&&(hi(l)||IS(l))||a&&Gt(l))return!0}return!1}var FS="4.5.1";const NS=["top","bottom","left","right","chartArea"];function mg(s,e){return s==="top"||s==="bottom"||NS.indexOf(s)===-1&&e==="x"}function pg(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function gg(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[s],e)}function zS(s){const e=s.chart,t=e.options.animation;Wt(t&&t.onProgress,[s],e)}function Yy(s){return mm()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const wd={},_g=s=>{const e=Yy(s);return Object.values(wd).filter(t=>t.canvas===e).pop()};function BS(s,e,t){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=e){const a=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=a)}}}function US(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}class yn{static register(...e){ro.add(...e),vg()}static unregister(...e){ro.remove(...e),vg()}constructor(e,t){const n=this.config=new OS(t),i=Yy(e),r=_g(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||rS(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,a.aspectRatio),d=l&&l.canvas,c=d&&d.height,f=d&&d.width;this.id=UC(),this.ctx=l,this.canvas=d,this.width=f,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $S,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i8(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],wd[this.id]=this,!(!l||!d)&&(wo.listen(this,"complete",gg),wo.listen(this,"progress",zS),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return $t(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ro}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():z0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L0(this.canvas,this.ctx),this}stop(){return wo.stop(this),this}resize(e,t){wo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,z0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Wt(n.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ot(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],d=nh(a,l),c=d==="r",f=d==="x";return{options:l,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),Ot(r,a=>{const l=a.options,d=l.id,c=nh(d,l),f=mt(l.type,a.dtype);(l.position===void 0||mg(l.position,c)!==mg(a.dposition))&&(l.position=a.dposition),i[d]=!0;let m=null;if(d in n&&n[d].type===f)m=n[d];else{const p=ro.getScale(f);m=new p({id:d,type:f,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(l,e)}),Ot(i,(a,l)=>{a||delete n[l]}),Ot(n,a=>{ti.configure(this,a,a.options),ti.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(pg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const r=t[n];let a=this.getDatasetMeta(n);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||sh(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const d=ro.getController(l),{datasetElementType:c,dataElementType:f}=es.datasets[l];Object.assign(d,{dataElementType:ro.getElement(f),datasetElementType:c&&ro.getElement(c)}),a.controller=new d(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ot(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:m}=this.getDatasetMeta(c),p=!i&&r.indexOf(m)===-1;m.buildOrUpdateElements(p),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Ot(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pg("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ot(this.scales,e=>{ti.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!T0(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){const a=n==="_removeElements"?-r:r;BS(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!T0(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ot(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,hi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wo.has(this)?this.attached&&!wo.running(this)&&wo.start(this):(this.draw(),gg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const a=t[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Iy(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Jc(t,i),e.controller.draw(),i&&Qc(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Eo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=N7.modes[t];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);el(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete wd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},i=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Ot(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(d,c)=>{t.addEventListener(this,d,c),e[d]=c},i=(d,c)=>{e[d]&&(t.removeEventListener(this,d,c),delete e[d])},r=(d,c)=>{this.canvas&&this.resize(d,c)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Ot(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ot(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,l,d;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Yd(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(d,c)=>d.filter(f=>!c.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=r(t,e),l=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,l=this._getActiveElements(e,i,n,a),d=YC(e),c=US(e,this._lastEvent,n,d);n&&(this._lastEvent=null,Wt(r.onHover,[e,l,this],this),d&&Wt(r.onClick,[e,l,this],this));const f=!Yd(l,i);return(f||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=c,f}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}Be(yn,"defaults",es),Be(yn,"instances",wd),Be(yn,"overrides",er),Be(yn,"registry",ro),Be(yn,"version",FS),Be(yn,"getChart",_g);function vg(){return Ot(yn.instances,s=>s._plugins.invalidate())}function VS(s,e,t){const{startAngle:n,x:i,y:r,outerRadius:a,innerRadius:l,options:d}=e,{borderWidth:c,borderJoinStyle:f}=d,m=Math.min(c/a,Is(n-t));if(s.beginPath(),s.arc(i,r,a-c/2,n+m/2,t-m/2),l>0){const p=Math.min(c/l,Is(n-t));s.arc(i,r,l+c/2,t-p/2,n+p/2,!0)}else{const p=Math.min(c/2,a*Is(n-t));if(f==="round")s.arc(i,r,p,t-Lt/2,n+Lt/2,!0);else if(f==="bevel"){const g=2*p*p,v=-g*Math.cos(t+Lt/2)+i,k=-g*Math.sin(t+Lt/2)+r,b=g*Math.cos(n+Lt/2)+i,w=g*Math.sin(n+Lt/2)+r;s.lineTo(v,k),s.lineTo(b,w)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function HS(s,e,t){const{startAngle:n,pixelMargin:i,x:r,y:a,outerRadius:l,innerRadius:d}=e;let c=i/l;s.beginPath(),s.arc(r,a,l,n-c,t+c),d>i?(c=i/d,s.arc(r,a,d,t+c,n-c,!0)):s.arc(r,a,i,t+ns,n-ns),s.closePath(),s.clip()}function WS(s){return cm(s,["outerStart","outerEnd","innerStart","innerEnd"])}function qS(s,e,t,n){const i=WS(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,n*e/2),l=d=>{const c=(t-Math.min(r,d))*n/2;return Bs(d,0,Math.min(r,c))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Bs(i.innerStart,0,a),innerEnd:Bs(i.innerEnd,0,a)}}function dr(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function ec(s,e,t,n,i,r){const{x:a,y:l,startAngle:d,pixelMargin:c,innerRadius:f}=e,m=Math.max(e.outerRadius+n+t-c,0),p=f>0?f+n+t+c:0;let g=0;const v=i-d;if(n){const ae=f>0?f-n:0,le=m>0?m-n:0,J=(ae+le)/2,ne=J!==0?v*J/(J+n):v;g=(v-ne)/2}const k=Math.max(.001,v*m-t/Lt)/m,b=(v-k)/2,w=d+b+g,x=i-b-g,{outerStart:M,outerEnd:C,innerStart:O,innerEnd:N}=qS(e,p,m,x-w),E=m-M,B=m-C,L=w+M/E,P=x-C/B,R=p+O,A=p+N,F=w+O/R,be=x-N/A;if(s.beginPath(),r){const ae=(L+P)/2;if(s.arc(a,l,m,L,ae),s.arc(a,l,m,ae,P),C>0){const q=dr(B,P,a,l);s.arc(q.x,q.y,C,P,x+ns)}const le=dr(A,x,a,l);if(s.lineTo(le.x,le.y),N>0){const q=dr(A,be,a,l);s.arc(q.x,q.y,N,x+ns,be+Math.PI)}const J=(x-N/p+(w+O/p))/2;if(s.arc(a,l,p,x-N/p,J,!0),s.arc(a,l,p,J,w+O/p,!0),O>0){const q=dr(R,F,a,l);s.arc(q.x,q.y,O,F+Math.PI,w-ns)}const ne=dr(E,w,a,l);if(s.lineTo(ne.x,ne.y),M>0){const q=dr(E,L,a,l);s.arc(q.x,q.y,M,w-ns,L)}}else{s.moveTo(a,l);const ae=Math.cos(L)*m+a,le=Math.sin(L)*m+l;s.lineTo(ae,le);const J=Math.cos(P)*m+a,ne=Math.sin(P)*m+l;s.lineTo(J,ne)}s.closePath()}function KS(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:l}=e;let d=e.endAngle;if(r){ec(s,e,t,n,d,i);for(let c=0;c<r;++c)s.fill();isNaN(l)||(d=a+(l%qt||qt))}return ec(s,e,t,n,d,i),s.fill(),d}function YS(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:l,options:d}=e,{borderWidth:c,borderJoinStyle:f,borderDash:m,borderDashOffset:p,borderRadius:g}=d,v=d.borderAlign==="inner";if(!c)return;s.setLineDash(m||[]),s.lineDashOffset=p,v?(s.lineWidth=c*2,s.lineJoin=f||"round"):(s.lineWidth=c,s.lineJoin=f||"bevel");let k=e.endAngle;if(r){ec(s,e,t,n,k,i);for(let b=0;b<r;++b)s.stroke();isNaN(l)||(k=a+(l%qt||qt))}v&&HS(s,e,k),d.selfJoin&&k-a>=Lt&&g===0&&f!=="miter"&&VS(s,e,k),r||(ec(s,e,t,n,k,i),s.stroke())}class ga extends bi{constructor(t){super();Be(this,"circumference");Be(this,"endAngle");Be(this,"fullCircles");Be(this,"innerRadius");Be(this,"outerRadius");Be(this,"pixelMargin");Be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=_y(r,{x:t,y:n}),{startAngle:d,endAngle:c,innerRadius:f,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=mt(p,c-d),k=sl(a,d,c)&&d!==c,b=v>=qt||k,w=Do(l,f+g,m+g);return b&&w}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:f}=this.options,m=(r+a)/2,p=(l+d+f+c)/2;return{x:n+Math.cos(m)*p,y:i+Math.sin(m)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>qt?Math.floor(i/qt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);const c=1-Math.sin(Math.min(Lt,i||0)),f=r*c;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,KS(t,this,f,a,l),YS(t,this,f,a,l),t.restore()}}Be(ga,"id","arc"),Be(ga,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Be(ga,"defaultRoutes",{backgroundColor:"backgroundColor"}),Be(ga,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Gy(s,e,t=e){s.lineCap=mt(t.borderCapStyle,e.borderCapStyle),s.setLineDash(mt(t.borderDash,e.borderDash)),s.lineDashOffset=mt(t.borderDashOffset,e.borderDashOffset),s.lineJoin=mt(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=mt(t.borderWidth,e.borderWidth),s.strokeStyle=mt(t.borderColor,e.borderColor)}function GS(s,e,t){s.lineTo(t.x,t.y)}function XS(s){return s.stepped?y8:s.tension||s.cubicInterpolationMode==="monotone"?b8:GS}function Xy(s,e,t={}){const n=s.length,{start:i=0,end:r=n-1}=t,{start:a,end:l}=e,d=Math.max(i,a),c=Math.min(r,l),f=i<a&&r<a||i>l&&r>l;return{count:n,start:d,loop:e.loop,ilen:c<d&&!f?n+c-d:c-d}}function JS(s,e,t,n){const{points:i,options:r}=e,{count:a,start:l,loop:d,ilen:c}=Xy(i,t,n),f=XS(r);let{move:m=!0,reverse:p}=n||{},g,v,k;for(g=0;g<=c;++g)v=i[(l+(p?c-g:g))%a],!v.skip&&(m?(s.moveTo(v.x,v.y),m=!1):f(s,k,v,p,r.stepped),k=v);return d&&(v=i[(l+(p?c:0))%a],f(s,k,v,p,r.stepped)),!!d}function QS(s,e,t,n){const i=e.points,{count:r,start:a,ilen:l}=Xy(i,t,n),{move:d=!0,reverse:c}=n||{};let f=0,m=0,p,g,v,k,b,w;const x=C=>(a+(c?l-C:C))%r,M=()=>{k!==b&&(s.lineTo(f,b),s.lineTo(f,k),s.lineTo(f,w))};for(d&&(g=i[x(0)],s.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=i[x(p)],g.skip)continue;const C=g.x,O=g.y,N=C|0;N===v?(O<k?k=O:O>b&&(b=O),f=(m*f+C)/++m):(M(),s.lineTo(C,O),v=N,m=0,k=b=O),w=O}M()}function oh(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QS:JS}function ZS(s){return s.stepped?Q8:s.tension||s.cubicInterpolationMode==="monotone"?Z8:Li}function e9(s,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),Gy(s,e.options),s.stroke(i)}function t9(s,e,t,n){const{segments:i,options:r}=e,a=oh(e);for(const l of i)Gy(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const s9=typeof Path2D=="function";function n9(s,e,t,n){s9&&!e.options.segment?e9(s,e,t,n):t9(s,e,t,n)}class si extends bi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;H8(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=i7(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=Oy(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],d=ZS(n);let c,f;for(c=0,f=a.length;c<f;++c){const{start:m,end:p}=a[c],g=r[m],v=r[p];if(g===v){l.push(g);continue}const k=Math.abs((i-g[t])/(v[t]-g[t])),b=d(g,v,k,n.stepped);b[t]=e[t],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,t,n){return oh(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=oh(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const l of i)a&=r(e,this,l,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),n9(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Be(si,"id","line"),Be(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Be(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Be(si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yg(s,e,t,n){const i=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<i.radius+i.hitRadius}class kd extends bi{constructor(t){super();Be(this,"parsed");Be(this,"skip");Be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return yg(this,t,"x",n)}inYRange(t,n){return yg(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Eo(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,th(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Be(kd,"id","point"),Be(kd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Be(kd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Jy(s,e){const{x:t,y:n,base:i,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,d,c,f,m;return s.horizontal?(m=a/2,l=Math.min(t,i),d=Math.max(t,i),c=n-m,f=n+m):(m=r/2,l=t-m,d=t+m,c=Math.min(n,i),f=Math.max(n,i)),{left:l,top:c,right:d,bottom:f}}function ni(s,e,t,n){return s?0:Bs(e,t,n)}function o9(s,e,t){const n=s.options.borderWidth,i=s.borderSkipped,r=Cy(n);return{t:ni(i.top,r.top,0,t),r:ni(i.right,r.right,0,e),b:ni(i.bottom,r.bottom,0,t),l:ni(i.left,r.left,0,e)}}function i9(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=Ki(i),a=Math.min(e,t),l=s.borderSkipped,d=n||yt(i);return{topLeft:ni(!d||l.top||l.left,r.topLeft,0,a),topRight:ni(!d||l.top||l.right,r.topRight,0,a),bottomLeft:ni(!d||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:ni(!d||l.bottom||l.right,r.bottomRight,0,a)}}function r9(s){const e=Jy(s),t=e.right-e.left,n=e.bottom-e.top,i=o9(s,t/2,n/2),r=i9(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ef(s,e,t,n){const i=e===null,r=t===null,l=s&&!(i&&r)&&Jy(s,n);return l&&(i||Do(e,l.left,l.right))&&(r||Do(t,l.top,l.bottom))}function a9(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function l9(s,e){s.rect(e.x,e.y,e.w,e.h)}function tf(s,e,t={}){const n=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,a=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+a,radius:s.radius}}class $d extends bi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=r9(this),l=a9(a.radius)?nl:l9;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,tf(a,t,r)),e.clip(),l(e,tf(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,tf(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return ef(this,e,t,n)}inXRange(e,t){return ef(this,e,null,t)}inYRange(e,t){return ef(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Be($d,"id","bar"),Be($d,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Be($d,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function d9(s,e,t){const n=s.segments,i=s.points,r=e.points,a=[];for(const l of n){let{start:d,end:c}=l;c=eu(d,c,i);const f=ih(t,i[d],i[c],l.loop);if(!e.segments){a.push({source:l,target:f,start:i[d],end:i[c]});continue}const m=Oy(e,f);for(const p of m){const g=ih(t,r[p.start],r[p.end],p.loop),v=jy(l,i,g);for(const k of v)a.push({source:k,target:p,start:{[t]:bg(f,g,"start",Math.max)},end:{[t]:bg(f,g,"end",Math.min)}})}}return a}function ih(s,e,t,n){if(n)return;let i=e[s],r=t[s];return s==="angle"&&(i=Is(i),r=Is(r)),{property:s,start:i,end:r}}function c9(s,e){const{x:t=null,y:n=null}=s||{},i=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=eu(a,l,i);const d=i[a],c=i[l];n!==null?(r.push({x:d.x,y:n}),r.push({x:c.x,y:n})):t!==null&&(r.push({x:t,y:d.y}),r.push({x:t,y:c.y}))}),r}function eu(s,e,t){for(;e>s;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function bg(s,e,t,n){return s&&e?n(s[t],e[t]):s?s[t]:e?e[t]:0}function Qy(s,e){let t=[],n=!1;return Gt(s)?(n=!0,t=s):t=c9(s,e),t.length?new si({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function xg(s){return s&&s.fill!==!1}function u9(s,e,t){let i=s[e].fill;const r=[e];let a;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Zt(i))return i;if(a=s[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function f9(s,e,t){const n=g9(s);if(yt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Zt(i)&&Math.floor(i)===i?h9(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function h9(s,e,t,n){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function m9(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:yt(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function p9(s,e,t){let n;return s==="start"?n=t:s==="end"?n=e.options.reverse?e.min:e.max:yt(s)?n=s.value:n=e.getBaseValue(),n}function g9(s){const e=s.options,t=e.fill;let n=mt(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function _9(s){const{scale:e,index:t,line:n}=s,i=[],r=n.segments,a=n.points,l=v9(e,t);l.push(Qy({x:null,y:e.bottom},n));for(let d=0;d<r.length;d++){const c=r[d];for(let f=c.start;f<=c.end;f++)y9(i,a[f],l)}return new si({points:i,options:{}})}function v9(s,e){const t=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function y9(s,e,t){const n=[];for(let i=0;i<t.length;i++){const r=t[i],{first:a,last:l,point:d}=b9(r,e,"x");if(!(!d||a&&l)){if(a)n.unshift(d);else if(s.push(d),!l)break}}s.push(...n)}function b9(s,e,t){const n=s.interpolate(e,t);if(!n)return{};const i=n[t],r=s.segments,a=s.points;let l=!1,d=!1;for(let c=0;c<r.length;c++){const f=r[c],m=a[f.start][t],p=a[f.end][t];if(Do(i,m,p)){l=i===m,d=i===p;break}}return{first:l,last:d,point:n}}class Zy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:qt},e.arc(i,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function x9(s){const{chart:e,fill:t,line:n}=s;if(Zt(t))return w9(e,t);if(t==="stack")return _9(s);if(t==="shape")return!0;const i=k9(s);return i instanceof Zy?i:Qy(i,n)}function w9(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function k9(s){return(s.scale||{}).getPointPositionForValue?C9(s):$9(s)}function $9(s){const{scale:e={},fill:t}=s,n=m9(t,e);if(Zt(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function C9(s){const{scale:e,fill:t}=s,n=e.options,i=e.getLabels().length,r=n.reverse?e.max:e.min,a=p9(t,e,r),l=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,r);return new Zy({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<i;++d)l.push(e.getPointPositionForValue(d,a));return l}function sf(s,e,t){const n=x9(e),{chart:i,index:r,line:a,scale:l,axis:d}=e,c=a.options,f=c.fill,m=c.backgroundColor,{above:p=m,below:g=m}=f||{},v=i.getDatasetMeta(r),k=Iy(i,v);n&&a.points.length&&(Jc(s,t),S9(s,{line:a,target:n,above:p,below:g,area:t,scale:l,axis:d,clip:k}),Qc(s))}function S9(s,e){const{line:t,target:n,above:i,below:r,area:a,scale:l,clip:d}=e,c=t._loop?"angle":e.axis;s.save();let f=r;r!==i&&(c==="x"?(wg(s,n,a.top),nf(s,{line:t,target:n,color:i,scale:l,property:c,clip:d}),s.restore(),s.save(),wg(s,n,a.bottom)):c==="y"&&(kg(s,n,a.left),nf(s,{line:t,target:n,color:r,scale:l,property:c,clip:d}),s.restore(),s.save(),kg(s,n,a.right),f=i)),nf(s,{line:t,target:n,color:f,scale:l,property:c,clip:d}),s.restore()}function wg(s,e,t){const{segments:n,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:d,end:c}=l,f=i[d],m=i[eu(d,c,i)];r?(s.moveTo(f.x,f.y),r=!1):(s.lineTo(f.x,t),s.lineTo(f.x,f.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(m.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function kg(s,e,t){const{segments:n,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:d,end:c}=l,f=i[d],m=i[eu(d,c,i)];r?(s.moveTo(f.x,f.y),r=!1):(s.lineTo(t,f.y),s.lineTo(f.x,f.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(t,m.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function nf(s,e){const{line:t,target:n,property:i,color:r,scale:a,clip:l}=e,d=d9(t,n,i);for(const{source:c,target:f,start:m,end:p}of d){const{style:{backgroundColor:g=r}={}}=c,v=n!==!0;s.save(),s.fillStyle=g,M9(s,a,l,v&&ih(i,m,p)),s.beginPath();const k=!!t.pathSegment(s,c);let b;if(v){k?s.closePath():$g(s,n,p,i);const w=!!n.pathSegment(s,f,{move:k,reverse:!0});b=k&&w,b||$g(s,n,m,i)}s.closePath(),s.fill(b?"evenodd":"nonzero"),s.restore()}}function M9(s,e,t,n){const i=e.chart.chartArea,{property:r,start:a,end:l}=n||{};if(r==="x"||r==="y"){let d,c,f,m;r==="x"?(d=a,c=i.top,f=l,m=i.bottom):(d=i.left,c=a,f=i.right,m=l),s.beginPath(),t&&(d=Math.max(d,t.left),f=Math.min(f,t.right),c=Math.max(c,t.top),m=Math.min(m,t.bottom)),s.rect(d,c,f-d,m-c),s.clip()}}function $g(s,e,t,n){const i=e.interpolate(t,n);i&&s.lineTo(i.x,i.y)}var T9={id:"filler",afterDatasetsUpdate(s,e,t){const n=(s.data.datasets||[]).length,i=[];let r,a,l,d;for(a=0;a<n;++a)r=s.getDatasetMeta(a),l=r.dataset,d=null,l&&l.options&&l instanceof si&&(d={visible:s.isDatasetVisible(a),index:a,fill:f9(l,a,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=d,i.push(d);for(a=0;a<n;++a)d=i[a],!(!d||d.fill===!1)&&(d.fill=u9(i,a,t.propagate))},beforeDraw(s,e,t){const n=t.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&sf(s.ctx,l,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;xg(r)&&sf(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const n=e.meta.$filler;!xg(n)||t.drawTime!=="beforeDatasetDraw"||sf(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cg=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},A9=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Sg extends bi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Cs(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=Cg(n,r);let c,f;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(a,r,l,d)+10):(f=this.maxHeight,c=this._fitCols(a,i,l,d)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+l;let m=e;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-f;return this.legendItems.forEach((v,k)=>{const b=n+t/2+r.measureText(v.text).width;(k===0||c[c.length-1]+b+2*l>a)&&(m+=f,c[c.length-(k>0?0:1)]=0,g+=f,p++),d[k]={left:0,top:g,row:p,width:b,height:i},c[c.length-1]+=b+l}),m}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.columnSizes=[],f=a-e;let m=l,p=0,g=0,v=0,k=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:x,itemHeight:M}=D9(n,t,r,b,i);w>0&&g+M+2*l>f&&(m+=p+l,c.push({width:p,height:g}),v+=p+l,k++,p=g=0),d[w]={left:v,top:g,col:k,width:x,height:M},p=Math.max(p,x),g+=M+l}),m+=p,c.push({width:p,height:g}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=xr(r,this.left,this.width);if(this.isHorizontal()){let l=0,d=gn(n,this.left+i,this.right-this.lineWidths[l]);for(const c of t)l!==c.row&&(l=c.row,d=gn(n,this.left+i,this.right-this.lineWidths[l])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(d),c.width),d+=c.width+i}else{let l=0,d=gn(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const c of t)c.col!==l&&(l=c.col,d=gn(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),c.top=d,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),d+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jc(e,this),this._draw(),Qc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,l=es.color,d=xr(e.rtl,this.left,this.width),c=Cs(a.font),{padding:f}=a,m=c.size,p=m/2;let g;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:v,boxHeight:k,itemHeight:b}=Cg(a,m),w=function(N,E,B){if(isNaN(v)||v<=0||isNaN(k)||k<0)return;i.save();const L=mt(B.lineWidth,1);if(i.fillStyle=mt(B.fillStyle,l),i.lineCap=mt(B.lineCap,"butt"),i.lineDashOffset=mt(B.lineDashOffset,0),i.lineJoin=mt(B.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=mt(B.strokeStyle,l),i.setLineDash(mt(B.lineDash,[])),a.usePointStyle){const P={radius:k*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:L},R=d.xPlus(N,v/2),A=E+p;$y(i,P,R,A,a.pointStyleWidth&&v)}else{const P=E+Math.max((m-k)/2,0),R=d.leftForLtr(N,v),A=Ki(B.borderRadius);i.beginPath(),Object.values(A).some(F=>F!==0)?nl(i,{x:R,y:P,w:v,h:k,radius:A}):i.rect(R,P,v,k),i.fill(),L!==0&&i.stroke()}i.restore()},x=function(N,E,B){Rr(i,B.text,N,E+b/2,c,{strikethrough:B.hidden,textAlign:d.textAlign(B.textAlign)})},M=this.isHorizontal(),C=this._computeTitleHeight();M?g={x:gn(r,this.left+f,this.right-n[0]),y:this.top+f+C,line:0}:g={x:this.left+f,y:gn(r,this.top+C+f,this.bottom-t[0].height),line:0},Ey(this.ctx,e.textDirection);const O=b+f;this.legendItems.forEach((N,E)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const B=i.measureText(N.text).width,L=d.textAlign(N.textAlign||(N.textAlign=a.textAlign)),P=v+p+B;let R=g.x,A=g.y;d.setWidth(this.width),M?E>0&&R+P+f>this.right&&(A=g.y+=O,g.line++,R=g.x=gn(r,this.left+f,this.right-n[g.line])):E>0&&A+O>this.bottom&&(R=g.x=R+t[g.line].width+f,g.line++,A=g.y=gn(r,this.top+C+f,this.bottom-t[g.line].height));const F=d.x(R);if(w(F,A,N),R=r8(L,R+v+p,M?R+P:this.right,e.rtl),x(d.x(R),A,N),M)g.x+=P+f;else if(typeof N.text!="string"){const be=c.lineHeight;g.y+=eb(N,be)+f}else g.y+=O}),Py(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Cs(t.font),i=Qs(t.padding);if(!t.display)return;const r=xr(e.rtl,this.left,this.width),a=this.ctx,l=t.position,d=n.size/2,c=i.top+d;let f,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),f=this.top+c,m=gn(e.align,m,this.right-p);else{const v=this.columnSizes.reduce((k,b)=>Math.max(k,b.height),0);f=c+gn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=gn(l,m,m+p);a.textAlign=r.textAlign(wy(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Rr(a,t.text,g,f,n)}_computeTitleHeight(){const e=this.options.title,t=Cs(e.font),n=Qs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Do(e,this.left,this.right)&&Do(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Do(e,i.left,i.left+i.width)&&Do(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!R9(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=A9(i,n);i&&!r&&Wt(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&Wt(t.onHover,[e,n,this],this)}else n&&Wt(t.onClick,[e,n,this],this)}}function D9(s,e,t,n,i){const r=E9(n,s,e,t),a=P9(i,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function E9(s,e,t,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+n.measureText(i).width}function P9(s,e,t){let n=s;return typeof e.text!="string"&&(n=eb(e,t)),n}function eb(s,e){const t=s.text?s.text.length:0;return e*t}function R9(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var tb={id:"legend",_element:Sg,start(s,e,t){const n=s.legend=new Sg({ctx:s.ctx,options:t,chart:s});ti.configure(s,n,t),ti.addBox(s,n)},stop(s){ti.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;ti.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(d=>{const c=d.controller.getStyle(t?0:void 0),f=Qs(c.borderWidth);return{text:e[d.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(l||c.borderRadius),datasetIndex:d.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const _a={average(s){if(!s.length)return!1;let e,t,n=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const d=l.tooltipPosition();n.add(d.x),i+=d.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const d=s[r].element;if(d&&d.hasValue()){const c=d.getCenterPoint(),f=Zf(e,c);f<i&&(i=f,l=d)}}if(l){const d=l.tooltipPosition();t=d.x,n=d.y}return{x:t,y:n}}};function oo(s,e){return e&&(Gt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function ko(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function j9(s,e){const{element:t,datasetIndex:n,index:i}=e,r=s.getDatasetMeta(n).controller,{label:a,value:l}=r.getLabelAndValue(i);return{chart:s,label:a,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Mg(s,e){const t=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:a,boxHeight:l}=e,d=Cs(e.bodyFont),c=Cs(e.titleFont),f=Cs(e.footerFont),m=r.length,p=i.length,g=n.length,v=Qs(e.padding);let k=v.height,b=0,w=n.reduce((C,O)=>C+O.before.length+O.lines.length+O.after.length,0);if(w+=s.beforeBody.length+s.afterBody.length,m&&(k+=m*c.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),w){const C=e.displayColors?Math.max(l,d.lineHeight):d.lineHeight;k+=g*C+(w-g)*d.lineHeight+(w-1)*e.bodySpacing}p&&(k+=e.footerMarginTop+p*f.lineHeight+(p-1)*e.footerSpacing);let x=0;const M=function(C){b=Math.max(b,t.measureText(C).width+x)};return t.save(),t.font=c.string,Ot(s.title,M),t.font=d.string,Ot(s.beforeBody.concat(s.afterBody),M),x=e.displayColors?a+2+e.boxPadding:0,Ot(n,C=>{Ot(C.before,M),Ot(C.lines,M),Ot(C.after,M)}),x=0,t.font=f.string,Ot(s.footer,M),t.restore(),b+=v.width,{width:b,height:k}}function O9(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function I9(s,e,t,n){const{x:i,width:r}=n,a=t.caretSize+t.caretPadding;if(s==="left"&&i+r+a>e.width||s==="right"&&i-r-a<0)return!0}function L9(s,e,t,n){const{x:i,width:r}=t,{width:a,chartArea:{left:l,right:d}}=s;let c="center";return n==="center"?c=i<=(l+d)/2?"left":"right":i<=r/2?c="left":i>=a-r/2&&(c="right"),I9(c,s,e,t)&&(c="center"),c}function Tg(s,e,t){const n=t.yAlign||e.yAlign||O9(s,t);return{xAlign:t.xAlign||e.xAlign||L9(s,e,t,n),yAlign:n}}function F9(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function N9(s,e,t){let{y:n,height:i}=s;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Ag(s,e,t,n){const{caretSize:i,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:d}=t,c=i+r,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:g}=Ki(a);let v=F9(e,l);const k=N9(e,d,c);return d==="center"?l==="left"?v+=c:l==="right"&&(v-=c):l==="left"?v-=Math.max(f,p)+i:l==="right"&&(v+=Math.max(m,g)+i),{x:Bs(v,0,n.width-e.width),y:Bs(k,0,n.height-e.height)}}function Yl(s,e,t){const n=Qs(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function Dg(s){return oo([],ko(s))}function z9(s,e,t){return yi(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Eg(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const sb={beforeTitle:xo,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:xo,beforeBody:xo,beforeLabel:xo,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return $t(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xo,afterBody:xo,beforeFooter:xo,footer:xo,afterFooter:xo};function tn(s,e,t,n){const i=s[e].call(t,n);return typeof i>"u"?sb[e].call(t,n):i}class rh extends bi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new Ly(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=z9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=tn(n,"beforeTitle",this,e),r=tn(n,"title",this,e),a=tn(n,"afterTitle",this,e);let l=[];return l=oo(l,ko(i)),l=oo(l,ko(r)),l=oo(l,ko(a)),l}getBeforeBody(e,t){return Dg(tn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Ot(e,r=>{const a={before:[],lines:[],after:[]},l=Eg(n,r);oo(a.before,ko(tn(l,"beforeLabel",this,r))),oo(a.lines,tn(l,"label",this,r)),oo(a.after,ko(tn(l,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,t){return Dg(tn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=tn(n,"beforeFooter",this,e),r=tn(n,"footer",this,e),a=tn(n,"afterFooter",this,e);let l=[];return l=oo(l,ko(i)),l=oo(l,ko(r)),l=oo(l,ko(a)),l}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let l=[],d,c;for(d=0,c=t.length;d<c;++d)l.push(j9(this.chart,t[d]));return e.filter&&(l=l.filter((f,m,p)=>e.filter(f,m,p,n))),e.itemSort&&(l=l.sort((f,m)=>e.itemSort(f,m,n))),Ot(l,f=>{const m=Eg(e.callbacks,f);i.push(tn(m,"labelColor",this,f)),r.push(tn(m,"labelPointStyle",this,f)),a.push(tn(m,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=_a[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const d=this._size=Mg(this,n),c=Object.assign({},l,d),f=Tg(this.chart,n,c),m=Ag(n,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:m.x,y:m.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:d,topRight:c,bottomLeft:f,bottomRight:m}=Ki(l),{x:p,y:g}=e,{width:v,height:k}=t;let b,w,x,M,C,O;return r==="center"?(C=g+k/2,i==="left"?(b=p,w=b-a,M=C+a,O=C-a):(b=p+v,w=b+a,M=C-a,O=C+a),x=b):(i==="left"?w=p+Math.max(d,f)+a:i==="right"?w=p+v-Math.max(c,m)-a:w=this.caretX,r==="top"?(M=g,C=M-a,b=w-a,x=w+a):(M=g+k,C=M+a,b=w+a,x=w-a),O=M),{x1:b,x2:w,x3:x,y1:M,y2:C,y3:O}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,l,d;if(r){const c=xr(n.rtl,this.x,this.width);for(e.x=Yl(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",a=Cs(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,d=0;d<r;++d)t.fillText(i[d],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:d,boxWidth:c}=r,f=Cs(r.bodyFont),m=Yl(this,"left",r),p=i.x(m),g=d<f.lineHeight?(f.lineHeight-d)/2:0,v=t.y+g;if(r.usePointStyle){const k={radius:Math.min(c,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=i.leftForLtr(p,c)+c/2,w=v+d/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,th(e,k,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,th(e,k,b,w)}else{e.lineWidth=yt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const k=i.leftForLtr(p,c),b=i.leftForLtr(i.xPlus(p,1),c-2),w=Ki(a.borderRadius);Object.values(w).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,nl(e,{x:k,y:v,w:c,h:d,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),nl(e,{x:b,y:v+1,w:c-2,h:d-2,radius:w}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(k,v,c,d),e.strokeRect(k,v,c,d),e.fillStyle=a.backgroundColor,e.fillRect(b,v+1,c-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:c,boxPadding:f}=n,m=Cs(n.bodyFont);let p=m.lineHeight,g=0;const v=xr(n.rtl,this.x,this.width),k=function(B){t.fillText(B,v.x(e.x+g),e.y+p/2),e.y+=p+r},b=v.textAlign(a);let w,x,M,C,O,N,E;for(t.textAlign=a,t.textBaseline="middle",t.font=m.string,e.x=Yl(this,b,n),t.fillStyle=n.bodyColor,Ot(this.beforeBody,k),g=l&&b!=="right"?a==="center"?c/2+f:c+2+f:0,C=0,N=i.length;C<N;++C){for(w=i[C],x=this.labelTextColors[C],t.fillStyle=x,Ot(w.before,k),M=w.lines,l&&M.length&&(this._drawColorBox(t,e,C,v,n),p=Math.max(m.lineHeight,d)),O=0,E=M.length;O<E;++O)k(M[O]),p=m.lineHeight;Ot(w.after,k)}g=0,p=m.lineHeight,Ot(this.afterBody,k),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,l;if(r){const d=xr(n.rtl,this.x,this.width);for(e.x=Yl(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=d.textAlign(n.footerAlign),t.textBaseline="middle",a=Cs(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(i[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:l,y:d}=e,{width:c,height:f}=n,{topLeft:m,topRight:p,bottomLeft:g,bottomRight:v}=Ki(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+m,d),a==="top"&&this.drawCaret(e,t,n,i),t.lineTo(l+c-p,d),t.quadraticCurveTo(l+c,d,l+c,d+p),a==="center"&&r==="right"&&this.drawCaret(e,t,n,i),t.lineTo(l+c,d+f-v),t.quadraticCurveTo(l+c,d+f,l+c-v,d+f),a==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(l+g,d+f),t.quadraticCurveTo(l,d+f,l,d+f-g),a==="center"&&r==="left"&&this.drawCaret(e,t,n,i),t.lineTo(l,d+m),t.quadraticCurveTo(l,d,l+m,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const a=_a[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Mg(this,e),d=Object.assign({},a,this._size),c=Tg(t,e,d),f=Ag(e,d,c,t);(i._to!==f.x||r._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Qs(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),Ey(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Py(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:l,index:d})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[d],index:d}}),r=!Yd(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),l=this._positionChanged(a,e),d=t||!Yd(a,r)||l;return d&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=_a[r.position].call(this,e,t);return a!==!1&&(n!==a.x||i!==a.y)}}Be(rh,"positioners",_a);var _m={id:"tooltip",_element:rh,positioners:_a,afterInit(s,e,t){t&&(s.tooltip=new rh({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const B9=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function U9(s,e,t,n){const i=s.indexOf(e);if(i===-1)return B9(s,e,t,n);const r=s.lastIndexOf(e);return i!==r?t:i}const V9=(s,e)=>s===null?null:Bs(Math.round(s),0,e);function Pg(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class il extends tr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:r}of t)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if($t(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:U9(n,e,mt(t,e),this._addedLabels),V9(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Pg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Be(il,"id","category"),Be(il,"defaults",{ticks:{callback:Pg}});function H9(s,e){const t=[],{bounds:i,step:r,min:a,max:l,precision:d,count:c,maxTicks:f,maxDigits:m,includeBounds:p}=s,g=r||1,v=f-1,{min:k,max:b}=e,w=!$t(a),x=!$t(l),M=!$t(c),C=(b-k)/(m+1);let O=D0((b-k)/v/g)*g,N,E,B,L;if(O<1e-14&&!w&&!x)return[{value:k},{value:b}];L=Math.ceil(b/O)-Math.floor(k/O),L>v&&(O=D0(L*O/v/g)*g),$t(d)||(N=Math.pow(10,d),O=Math.ceil(O*N)/N),i==="ticks"?(E=Math.floor(k/O)*O,B=Math.ceil(b/O)*O):(E=k,B=b),w&&x&&r&&ZC((l-a)/r,O/1e3)?(L=Math.round(Math.min((l-a)/O,f)),O=(l-a)/L,E=a,B=l):M?(E=w?a:E,B=x?l:B,L=c-1,O=(B-E)/L):(L=(B-E)/O,ja(L,Math.round(L),O/1e3)?L=Math.round(L):L=Math.ceil(L));const P=Math.max(E0(O),E0(E));N=Math.pow(10,$t(d)?P:d),E=Math.round(E*N)/N,B=Math.round(B*N)/N;let R=0;for(w&&(p&&E!==a?(t.push({value:a}),E<a&&R++,ja(Math.round((E+R*O)*N)/N,a,Rg(a,C,s))&&R++):E<a&&R++);R<L;++R){const A=Math.round((E+R*O)*N)/N;if(x&&A>l)break;t.push({value:A})}return x&&p&&B!==l?t.length&&ja(t[t.length-1].value,l,Rg(l,C,s))?t[t.length-1].value=l:t.push({value:l}):(!x||B===l)&&t.push({value:B}),t}function Rg(s,e,{horizontal:t,minRotation:n}){const i=uo(n),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class tc extends tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return $t(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=d=>i=t?i:d,l=d=>r=n?r:d;if(e){const d=ho(i),c=ho(r);d<0&&c<0?l(0):d>0&&c>0&&a(0)}if(i===r){let d=r===0?1:Math.abs(r*.05);l(r+d),e||a(i-d)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=H9(i,r);return e.bounds==="ticks"&&gy(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Gc(e,this.chart.options.locale,this.options.ticks.format)}}class sc extends tc{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=uo(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Be(sc,"id","linear"),Be(sc,"defaults",{ticks:{callback:Xc.formatters.numeric}});const rl=s=>Math.floor(Zo(s)),Ei=(s,e)=>Math.pow(10,rl(s)+e);function jg(s){return s/Math.pow(10,rl(s))===1}function Og(s,e,t){const n=Math.pow(10,t),i=Math.floor(s/n);return Math.ceil(e/n)-i}function W9(s,e){const t=e-s;let n=rl(t);for(;Og(s,e,n)>10;)n++;for(;Og(s,e,n)<10;)n--;return Math.min(n,rl(s))}function q9(s,{min:e,max:t}){e=vn(s.min,e);const n=[],i=rl(e);let r=W9(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),d=i>r?Math.pow(10,i):0,c=Math.round((e-d)*a)/a,f=Math.floor((e-d)/l/10)*l*10;let m=Math.floor((c-f)/Math.pow(10,r)),p=vn(s.min,Math.round((d+f+m*Math.pow(10,r))*a)/a);for(;p<t;)n.push({value:p,major:jg(p),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(r++,m=2,a=r>=0?1:a),p=Math.round((d+f+m*Math.pow(10,r))*a)/a;const g=vn(s.max,p);return n.push({value:g,major:jg(g),significand:m}),n}class Ig extends tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=tc.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Zt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zt(e)?Math.max(0,e):null,this.max=Zt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=e===Ei(this.min,0)?Ei(this.min,-1):Ei(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=l=>n=e?n:l,a=l=>i=t?i:l;n===i&&(n<=0?(r(1),a(10)):(r(Ei(n,-1)),a(Ei(i,1)))),n<=0&&r(Ei(i,-1)),i<=0&&a(Ei(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=q9(t,this);return e.bounds==="ticks"&&gy(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Gc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zo(e),this._valueRange=Zo(this.max)-Zo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Be(Ig,"id","logarithmic"),Be(Ig,"defaults",{ticks:{callback:Xc.formatters.logarithmic,major:{enabled:!0}}});function ah(s){const e=s.ticks;if(e.display&&s.display){const t=Qs(e.backdropPadding);return mt(e.font&&e.font.size,es.font.size)+t.height}return 0}function K9(s,e,t){return t=Gt(t)?t:[t],{w:v8(s,e.string,t),h:t.length*e.lineHeight}}function Lg(s,e,t,n,i){return s===n||s===i?{start:e-t/2,end:e+t/2}:s<n||s>i?{start:e-t,end:e}:{start:e,end:e+t}}function Y9(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),n=[],i=[],r=s._pointLabels.length,a=s.options.pointLabels,l=a.centerPointLabels?Lt/r:0;for(let d=0;d<r;d++){const c=a.setContext(s.getPointLabelContext(d));i[d]=c.padding;const f=s.getPointPosition(d,s.drawingArea+i[d],l),m=Cs(c.font),p=K9(s.ctx,m,s._pointLabels[d]);n[d]=p;const g=Is(s.getIndexAngle(d)+l),v=Math.round(am(g)),k=Lg(v,f.x,p.w,0,180),b=Lg(v,f.y,p.h,90,270);G9(t,e,g,k,b)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=Q9(s,n,i)}function G9(s,e,t,n,i){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,d=0;n.start<e.l?(l=(e.l-n.start)/r,s.l=Math.min(s.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/r,s.r=Math.max(s.r,e.r+l)),i.start<e.t?(d=(e.t-i.start)/a,s.t=Math.min(s.t,e.t-d)):i.end>e.b&&(d=(i.end-e.b)/a,s.b=Math.max(s.b,e.b+d))}function X9(s,e,t){const n=s.drawingArea,{extra:i,additionalAngle:r,padding:a,size:l}=t,d=s.getPointPosition(e,n+i+a,r),c=Math.round(am(Is(d.angle+ns))),f=tM(d.y,l.h,c),m=Z9(c),p=eM(d.x,l.w,m);return{visible:!0,x:d.x,y:f,textAlign:m,left:p,top:f,right:p+l.w,bottom:f+l.h}}function J9(s,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:r}=s;return!(Eo({x:t,y:n},e)||Eo({x:t,y:r},e)||Eo({x:i,y:n},e)||Eo({x:i,y:r},e))}function Q9(s,e,t){const n=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:l}=r.pointLabels,d={extra:ah(r)/2,additionalAngle:a?Lt/i:0};let c;for(let f=0;f<i;f++){d.padding=t[f],d.size=e[f];const m=X9(s,f,d);n.push(m),l==="auto"&&(m.visible=J9(m,c),m.visible&&(c=m))}return n}function Z9(s){return s===0||s===180?"center":s<180?"left":"right"}function eM(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function tM(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function sM(s,e,t){const{left:n,top:i,right:r,bottom:a}=t,{backdropColor:l}=e;if(!$t(l)){const d=Ki(e.borderRadius),c=Qs(e.backdropPadding);s.fillStyle=l;const f=n-c.left,m=i-c.top,p=r-n+c.width,g=a-i+c.height;Object.values(d).some(v=>v!==0)?(s.beginPath(),nl(s,{x:f,y:m,w:p,h:g,radius:d}),s.fill()):s.fillRect(f,m,p,g)}}function nM(s,e){const{ctx:t,options:{pointLabels:n}}=s;for(let i=e-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const a=n.setContext(s.getPointLabelContext(i));sM(t,a,r);const l=Cs(a.font),{x:d,y:c,textAlign:f}=r;Rr(t,s._pointLabels[i],d,c+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function nb(s,e,t,n){const{ctx:i}=s;if(t)i.arc(s.xCenter,s.yCenter,e,0,qt);else{let r=s.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=s.getPointPosition(a,e),i.lineTo(r.x,r.y)}}function oM(s,e,t,n,i){const r=s.ctx,a=e.circular,{color:l,lineWidth:d}=e;!a&&!n||!l||!d||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),nb(s,t,a,n),r.closePath(),r.stroke(),r.restore())}function iM(s,e,t){return yi(s,{label:t,index:e,type:"pointLabel"})}class Gl extends tc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qs(ah(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Zt(e)&&!isNaN(e)?e:0,this.max=Zt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ah(this.options))}generateTickLabels(e){tc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=Wt(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Y9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=qt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Is(e*t+uo(n))}getDistanceFromCenterForValue(e){if($t(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if($t(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return iM(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-ns+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),nb(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,a=this._pointLabels.length;let l,d,c;if(t.pointLabels.display&&nM(this,a),i.display&&this.ticks.forEach((f,m)=>{if(m!==0||m===0&&this.min<0){d=this.getDistanceFromCenterForValue(f.value);const p=this.getContext(m),g=i.setContext(p),v=r.setContext(p);oM(this,g,d,a,v)}}),n.display){for(e.save(),l=a-1;l>=0;l--){const f=n.setContext(this.getPointLabelContext(l)),{color:m,lineWidth:p}=f;!p||!m||(e.lineWidth=p,e.strokeStyle=m,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(l,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const c=n.setContext(this.getContext(d)),f=Cs(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),c.showLabelBackdrop){e.font=f.string,a=e.measureText(l.label).width,e.fillStyle=c.backdropColor;const m=Qs(c.backdropPadding);e.fillRect(-a/2-m.left,-r-f.size/2-m.top,a+m.width,f.size+m.height)}Rr(e,l.label,0,-r,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Be(Gl,"id","radialLinear"),Be(Gl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Be(Gl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Be(Gl,"descriptors",{angleLines:{_fallback:"grid"}});const tu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(tu);function Fg(s,e){return s-e}function Ng(s,e){if($t(e))return null;const t=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Zt(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(tl(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function zg(s,e,t,n){const i=rn.length;for(let r=rn.indexOf(s);r<i-1;++r){const a=tu[rn[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=n)return rn[r]}return rn[i-1]}function rM(s,e,t,n,i){for(let r=rn.length-1;r>=rn.indexOf(t);r--){const a=rn[r];if(tu[a].common&&s._adapter.diff(i,n,a)>=e-1)return a}return rn[t?rn.indexOf(t):0]}function aM(s){for(let e=rn.indexOf(s)+1,t=rn.length;e<t;++e)if(tu[rn[e]].common)return rn[e]}function Bg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:i}=lm(t,e),r=t[n]>=e?t[n]:t[i];s[r]=!0}}function lM(s,e,t,n){const i=s._adapter,r=+i.startOf(e[0].value,n),a=e[e.length-1].value;let l,d;for(l=r;l<=a;l=+i.add(l,1,n))d=t[l],d>=0&&(e[d].major=!0);return e}function Ug(s,e,t){const n=[],i={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],i[l]=a,n.push({value:l,major:!1});return r===0||!t?n:lM(s,n,i,t)}class nc extends tr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new j7._date(e.adapters.date);i.init(t),Ra(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Ng(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function d(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=Zt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=Zt(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,l=n8(i,r,a);return this._unit=t.unit||(n.autoSkip?zg(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):rM(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:aM(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Ug(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Bs(t,0,a),n=Bs(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||zg(r.minUnit,t,n,this._getLabelCapacity(t)),l=mt(i.ticks.stepSize,1),d=a==="week"?r.isoWeekday:!1,c=tl(d)||d===!0,f={};let m=t,p,g;if(c&&(m=+e.startOf(m,"isoWeek",d)),m=+e.startOf(m,c?"day":a),e.diff(n,t,a)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+a);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(p=m,g=0;p<n;p=+e.add(p,l,a),g++)Bg(f,p,v);return(p===n||i.bounds==="ticks"||g===1)&&Bg(f,p,v),Object.keys(f).sort(Fg).map(k=>+k)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,a=t||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return Wt(a,[e,t,n],this);const l=r.time.displayFormats,d=this._unit,c=this._majorUnit,f=d&&l[d],m=c&&l[c],p=n[t],g=c&&m&&p&&p.major;return this._adapter.format(e,i||(g?m:f))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=uo(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Ug(this,[e],this._majorUnit),i),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Ng(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yy(e.sort(Fg))}}Be(nc,"id","time"),Be(nc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xl(s,e,t){let n=0,i=s.length-1,r,a,l,d;t?(e>=s[n].pos&&e<=s[i].pos&&({lo:n,hi:i}=Hi(s,"pos",e)),{pos:r,time:l}=s[n],{pos:a,time:d}=s[i]):(e>=s[n].time&&e<=s[i].time&&({lo:n,hi:i}=Hi(s,"time",e)),{time:r,pos:l}=s[n],{time:a,pos:d}=s[i]);const c=a-r;return c?l+(d-l)*(e-r)/c:l}class Vg extends nc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Xl(t,this.min),this._tableRange=Xl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,l,d,c,f;for(a=0,l=e.length;a<l;++a)c=e[a],c>=t&&c<=n&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,l=i.length;a<l;++a)f=i[a+1],d=i[a-1],c=i[a],Math.round((f+d)/2)!==c&&r.push({time:c,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Xl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Xl(this._table,n*this._tableRange+this._minPos,!0)}}Be(Vg,"id","timeseries"),Be(Vg,"defaults",nc.defaults);const dM=["id"],lh=_e({__name:"LineChart",props:{id:{},data:{},backgroundColor:{},borderColor:{},tooltipLabel:{}},setup(s){const e=s;yn.register(si,kd,bd,il,sc,T9,_m);let t={};Ye(function(){const r=document.getElementById(e.id);t=new yn(r,i)}),Fr(function(){t.data.datasets[0].data=e.data,t.update()});const i={type:"line",data:{datasets:[{label:e.tooltipLabel,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:4,pointBackgroundColor:"white",fill:!0,data:e.data}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},elements:{point:{pointStyle:"cross",backgroundColor:"blue",borderColor:"black"}},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(_(),y("canvas",{id:s.id},null,8,dM))}}),cM=["id"],uM=_e({__name:"BarChart",props:{id:{},data:{},labels:{},tooltipLabel:{}},setup(s){const e=s;yn.register($d,yd,il,sc,_m,tb);let t={};Ye(function(){const r=document.getElementById(e.id);t=new yn(r,i)}),Fr(function(){t.data&&(t.data.datasets=n.datasets,t.data.labels=e.labels||[],t.update())});const n={labels:e.labels||[],datasets:e.data||[]},i={type:"bar",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(_(),y("canvas",{id:s.id},null,8,cM))}}),fM=["id"],hM=_e({__name:"DoughnutChart",props:{id:{},data:{},labels:{},backgroundColors:{}},setup(s){const e=s;yn.register(ga,ma,il,_m,tb);let t={};const n=["rgba(99, 102, 241, 0.8)","rgba(236, 72, 153, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(249, 115, 22, 0.8)","rgba(14, 165, 233, 0.8)","rgba(217, 70, 239, 0.8)"];Ye(function(){const a=document.getElementById(e.id);t=new yn(a,r)}),Fr(function(){t.data&&(t.data.labels=e.labels,t.data.datasets[0].data=e.data,t.update())});const r={type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.backgroundColors||n,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{usePointStyle:!0}}}};return(a,l)=>(_(),y("canvas",{id:s.id},null,8,fM))}}),mM=_e({__name:"Modals",setup(s){const e=Ft();return(t,n)=>(_(),ie(yr,{to:"body"},[S(p5,{name:"modal"},{default:K(()=>[(_(!0),y(de,null,ye(h(e).components,(i,r)=>(_(),ie(fo(i.component),A_({ref_for:!0},i.payload,{key:r}),null,16))),128))]),_:1})]))}}),pM=_e({__name:"FlashMessage",setup(s){const e=Wn();return(t,n)=>(_(),ie(yr,{to:"body"},[h(e).message?(_(),y("div",{key:0,class:ee(["fixed h-10 px-4 rounded flex items-center text-white text-sm",{"bg-green-600":h(e).type=="success","bg-red-500":h(e).type=="danger"}]),style:{right:"2rem",bottom:"7%","touch-action":"pan-y","z-index":"2000"}},[Q(u(h(e).message)+" ",1),S(h(li),{class:"w-5 ml-2 cursor-pointer",onClick:h(e).hide},null,8,["onClick"])],2)):j("",!0)]))}}),gM={class:"inline-flex items-center"},_M={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",viewBox:"0 0 8 14",class:"flex-shrink-0 text-gray-400 ltr:ml-2 rtl:mr-2"},Le=_e({__name:"TableTh",props:{name:{},index:{},sort:{default:""},label:{},align:{default:"left"}},setup(s){const t=Ts(s.name)();return(n,i)=>(_(),y("th",{class:ee(["bg-gray-50 px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500",{"cursor-pointer":s.sort,"text-center":s.align=="center","ltr:text-left rtl:text-right":s.align!="center"}]),onClick:i[0]||(i[0]=r=>h(t).sort(s.sort))},[o("span",gM,[Q(u(s.label)+" ",1),s.sort?(_(),y("svg",_M,[o("path",{class:ee(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="asc"&&s.index.params.orderBy==s.sort}]),d:"M1.70710678 4.70710678c-.39052429.39052429-1.02368927.39052429-1.41421356 0-.3905243-.39052429-.3905243-1.02368927 0-1.41421356l3-3c.39052429-.3905243 1.02368927-.3905243 1.41421356 0l3 3c.39052429.39052429.39052429 1.02368927 0 1.41421356-.39052429.39052429-1.02368927.39052429-1.41421356 0L4 2.41421356 1.70710678 4.70710678z"},null,2),o("path",{class:ee(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="desc"&&s.index.params.orderBy==s.sort}]),d:"M6.29289322 9.29289322c.39052429-.39052429 1.02368927-.39052429 1.41421356 0 .39052429.39052429.39052429 1.02368928 0 1.41421358l-3 3c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-3-3c-.3905243-.3905243-.3905243-1.02368929 0-1.41421358.3905243-.39052429 1.02368927-.39052429 1.41421356 0L4 11.5857864l2.29289322-2.29289318z"},null,2)])):j("",!0)])],2))}}),vM={class:"mb-4 flex"},yM={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},oc=_e({__name:"PageTopbar",props:{title:{},btnTo:{},btnText:{},permission:{}},setup(s){return(e,t)=>{const n=cn("RouterLink");return _(),y("div",vM,[o("h1",yM,u(s.title),1),Ms(e.$slots,"default"),s.btnText&&s.btnTo&&e.can(s.permission||"")?(_(),ie(n,{key:0,to:s.btnTo,custom:""},{default:K(({navigate:i})=>[S(Ie,{class:"ml-auto","data-cy":"topbar-create-button",onClick:i},{default:K(()=>[Q(u(s.btnText),1)]),_:1},8,["onClick"])]),_:1},8,["to"])):j("",!0)])}}}),bM={key:0,class:"block rounded-full"},xM=["src"],wM={key:1,class:"inline-block rounded-full bg-gray-100 text-gray-300"},rs=_e({__name:"UserAvatar",props:{avatar:{}},setup(s){return(e,t)=>s.avatar?(_(),y("span",bM,[o("img",{src:s.avatar,class:"h-full w-full rounded-full"},null,8,xM)])):(_(),y("span",wM,[...t[0]||(t[0]=[o("svg",{class:"rounded-full",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])]))}}),kM=["for"],$M={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},vm=_e({__name:"FieldBase",props:{full:{type:Boolean},inline:{type:Boolean},label:{},lg:{type:Boolean},name:{}},setup(s){const e=Je("form_name",""),t=fs(e)();return(n,i)=>(_(),y("div",{class:ee({"grid grid-cols-3 border-b border-gray-200 py-5 last:border-b-0":s.inline})},[s.label?(_(),y("label",{key:0,for:h(e)+"-"+s.name,class:ee(["block text-sm font-medium text-gray-700",{"mt-px pt-2":s.inline}])},u(s.label),11,kM)):j("",!0),o("div",{class:ee(["sm:col-span-2",{"mt-1":!s.inline}])},[Ms(n.$slots,"default"),h(t).errors[s.name]?(_(),y("div",$M,u(h(t).errors[s.name][0]),1)):j("",!0)],2)],2))}});function _o(){return _e({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean},setup(s){const e=Je("form_name",""),t=fs(e)();return()=>S(vm,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>[z(S("input",{"onUpdate:modelValue":n=>t.data[s.name]=n,type:s.type,id:e+"-"+s.name,placeholder:s.label,disabled:s.disabled,class:{"mt-1 block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!t.errors[s.name],"border-red-600":t.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline}},null),[[x5,t.data[s.name]]])]})}})}function yl(){return _e({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(s,{slots:e}){const t=Je("form_name",""),n=Je("__"),i=fs(t)(),r=null;return()=>S(vm,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var a;return[S("div",{class:"flex flex-wrap"},[z(S("select",{required:!0,id:t+"-"+s.name,class:{"block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!i.errors[s.name],"border-red-600":i.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline},"onUpdate:modelValue":l=>i.data[s.name]=l},[S("option",{value:r,disabled:!0},[n("Choose"),Q(" "),s.label]),(a=i.options[s.name])==null?void 0:a.map(l=>S("option",{value:l[s.valueKey]},[l[s.labelKey]]))]),[[Me,i.data[s.name]]]),e.default&&e.default()])]}})}})}function ob(){return _e({props:{name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""}},setup(s){const e=Je("form_name",""),t=fs(e)();return()=>S(vm,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var n;return[S("div",{class:"grid grid-cols-3 gap-2"},[(n=t.options[s.name])==null?void 0:n.map(i=>S("div",{class:"flex items-center"},[z(S("input",{id:`${e}-${s.name}-${i.value}`,type:"checkbox",value:i.value,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500","onUpdate:modelValue":r=>t.data[s.name]=r},null),[[cs,t.data[s.name]]]),S("label",{for:`${e}-${s.name}-${i.value}`,class:"ml-3 block whitespace-nowrap text-sm font-medium text-gray-700"},[i.label])]))])]}})}})}const CM=_e({__name:"TaskItemTimer",props:{task:{}},setup(s){const e=I(!1),t=Wr();return(n,i)=>(_(),y("div",{class:"cursor-pointer",onClick:i[1]||(i[1]=r=>e.value=!e.value)},[s.task.id==h(t).taskId?(_(),ie(h(Ur),{key:0,class:"w-5 text-red-500 hover:text-red-800",onClick:h(t).stop},null,8,["onClick"])):(_(),ie(h(zc),{key:1,class:"w-5 text-gray-500 hover:text-gray-800",onClick:i[0]||(i[0]=r=>h(t).start(s.task))}))]))}}),SM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},MM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},TM={class:"absolute mt-2 w-64 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},AM={key:0,class:"py-4 text-center text-sm text-gray-700"},DM={key:1},EM={class:"divide-y divide-gray-100"},PM={key:0,class:"flex items-start justify-between text-gray-900"},RM={class:"mt-2 flex items-center text-xs text-gray-600"},jM={key:1,class:"mt-1.5 flex items-center"},OM=["href","onClick"],IM=["href","onClick"],LM=_e({__name:"TimerDropdown",setup(s){const e=Wr();e.fetch();function t(n){return _t.user.id==n}return(n,i)=>{const r=cn("router-link");return _(),ie(h(Hs),null,{trigger:K(()=>[o("button",SM,[S(h(Zs),{class:"h-6 w-6"}),h(e).timers.length?(_(),y("div",MM,u(h(e).timers.length>9?"9+":h(e).timers.length),1)):j("",!0)])]),content:K(()=>[o("div",TM,[h(e).timers.length?(_(),y("div",DM,[o("ul",EM,[(_(!0),y(de,null,ye(h(e).timers,a=>(_(),y("li",{key:a.id,class:"px-4 py-2 text-sm hover:bg-gray-100"},[a.task?(_(),y("h3",PM,[Q(u(a.task.title)+" ",1),t(a.user_id)?(_(),ie(CM,{key:0,class:"ml-3",task:a.task},null,8,["task"])):j("",!0)])):j("",!0),o("h4",RM," Started at: "+u(a.started_at),1),a.task&&a.task.project?(_(),y("div",jM,[S(r,{custom:"",to:"/projects/"+a.task.project.id},{default:K(({href:l,navigate:d})=>{var c;return[o("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[o("span",{class:"mr-1.5 block h-2 w-2 rounded-full",style:wt({backgroundColor:(c=a.task.project.meta)==null?void 0:c.color}),"aria-hidden":"true"},"",4),Q(" "+u(a.task.project.name),1)],8,OM)]}),_:2},1032,["to"]),i[0]||(i[0]=o("span",{class:"px-2"},"-",-1)),S(r,{custom:"",to:"/users/"+a.user.id},{default:K(({href:l,navigate:d})=>[o("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[S(h(rs),{class:"mr-1.5 h-4 w-4 text-[9px] font-semibold",avatar:a.user.avatar},null,8,["avatar"]),Q(" "+u(a.user.name),1)],8,IM)]),_:2},1032,["to"])])):j("",!0)]))),128))])])):(_(),y("p",AM,u(n.__("No Timers!")),1))])]),_:1})}}}),FM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},NM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},zM={class:"absolute z-50 mt-2 w-80 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu"},BM={class:"border-b border-gray-200 bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},UM={class:"flex items-center justify-between"},VM={class:"p-4"},HM={class:"mb-4"},WM={class:"mb-1 flex items-center justify-between text-sm"},qM={class:"h-4 w-full overflow-hidden rounded-full bg-gray-200"},KM={class:"mt-1 text-right text-xs text-gray-500"},YM={key:0,class:"mb-4 rounded-md bg-red-50 p-2"},GM={class:"flex items-center text-xs text-red-700"},XM={class:"mb-4 flex gap-2"},JM=["disabled"],QM=["disabled"],ZM={key:1,class:"mb-4 rounded-md border border-gray-200 bg-gray-50 p-3"},eT={class:"mb-2"},tT={class:"mb-2"},sT={class:"flex gap-2"},nT=["disabled"],oT={class:"border-t border-gray-200 pt-3"},iT={key:0,class:"max-h-32 space-y-1 overflow-y-auto"},rT={class:"text-gray-600"},aT={class:"text-gray-400"},lT={key:1,class:"text-xs text-gray-400"},dT=_e({__name:"GeneratorDropdown",setup(s){const e=I(0),t=I(12),n=I(2),i=I(!1),r=I([]),a=I(!1),l=I(!1),d=I(""),c=I(""),f=Pe(()=>t.value<=0?0:Math.round(e.value/t.value*100)),m=Pe(()=>e.value<=n.value),p=Pe(()=>f.value<20?"bg-red-500":f.value<50?"bg-yellow-500":"bg-green-500"),g=x=>{if(!x)return"";const M=new Date(x),O=new Date().getTime()-M.getTime(),N=Math.floor(O/(1e3*60)),E=Math.floor(O/(1e3*60*60));return N<60?`${N}m ago`:E<24?`${E}h ago`:M.toLocaleDateString()},v=()=>{ce.get("generator/status").then(x=>{x.data.generator&&(e.value=Number(x.data.generator.current_level)||0,t.value=Number(x.data.generator.tank_capacity)||12,n.value=Number(x.data.generator.reserve_fuel)||2,i.value=!!x.data.generator.is_running)}).catch(()=>{}),ce.get("generator/logs",{params:{per_page:5}}).then(x=>{r.value=x.data.data||[]}).catch(()=>{})},k=()=>{a.value=!0,ce.post("generator/start").then(()=>{v()}).catch(x=>{var M,C;alert(((C=(M=x.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to start generator")}).finally(()=>{a.value=!1})},b=()=>{a.value=!0,ce.post("generator/stop").then(()=>{v()}).catch(x=>{var M,C;alert(((C=(M=x.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to stop generator")}).finally(()=>{a.value=!1})},w=()=>{d.value&&(a.value=!0,ce.post("generator/add-fuel",{amount:parseFloat(d.value),notes:c.value}).then(()=>{d.value="",c.value="",l.value=!1,v()}).catch(x=>{var M,C;alert(((C=(M=x.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to add fuel")}).finally(()=>{a.value=!1}))};return v(),(x,M)=>(_(),ie(h(Hs),{"close-outside":!0},{trigger:K(()=>[o("button",FM,[S(h(qh),{class:ee(["h-6 w-6",{"text-green-500":i.value}])},null,8,["class"]),m.value?(_(),y("div",NM," ! ")):j("",!0)])]),content:K(()=>[o("div",zM,[o("div",BM,[o("div",UM,[M[6]||(M[6]=o("span",{class:"font-semibold text-white"},"Generator",-1)),o("span",{class:ee(["rounded-full px-2 py-0.5 text-xs font-medium",i.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},u(i.value?"Running":"Stopped"),3)])]),o("div",VM,[o("div",HM,[o("div",WM,[M[7]||(M[7]=o("span",{class:"text-gray-600"},"Fuel Level",-1)),o("span",{class:ee(["font-semibold",f.value<20?"text-red-600":"text-gray-900"])},u(e.value.toFixed(1))+" / "+u(t.value)+" L ",3)]),o("div",qM,[o("div",{class:ee(["h-full rounded-full transition-all duration-500",p.value]),style:wt({width:f.value+"%"})},null,6)]),o("div",KM,u(f.value)+"%",1)]),m.value?(_(),y("div",YM,[o("p",GM,[S(h(Kh),{class:"mr-1 h-4 w-4"}),M[8]||(M[8]=Q(" Low fuel! Please refuel soon. ",-1))])])):j("",!0),o("div",XM,[i.value?(_(),y("button",{key:1,disabled:a.value,class:"flex flex-1 items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",onClick:We(b,["stop"])},[S(h(Ur),{class:"mr-1 h-4 w-4"}),M[10]||(M[10]=Q(" Stop ",-1))],8,QM)):(_(),y("button",{key:0,disabled:e.value<=0||a.value,class:"flex flex-1 items-center justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:We(k,["stop"])},[S(h(zc),{class:"mr-1 h-4 w-4"}),M[9]||(M[9]=Q(" Start ",-1))],8,JM)),o("button",{class:"flex flex-1 items-center justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",onClick:M[0]||(M[0]=We(C=>l.value=!0,["stop"]))},[S(h(Sn),{class:"mr-1 h-4 w-4"}),M[11]||(M[11]=Q(" Add Fuel ",-1))])]),l.value?(_(),y("div",ZM,[o("div",eT,[M[12]||(M[12]=o("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Amount (Liters)",-1)),z(o("input",{"onUpdate:modelValue":M[1]||(M[1]=C=>d.value=C),type:"number",step:"0.5",min:"0.5",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"Enter amount",onClick:M[2]||(M[2]=We(()=>{},["stop"]))},null,512),[[te,d.value]])]),o("div",tT,[M[13]||(M[13]=o("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Notes (optional)",-1)),z(o("input",{"onUpdate:modelValue":M[3]||(M[3]=C=>c.value=C),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"e.g., Purchased from station",onClick:M[4]||(M[4]=We(()=>{},["stop"]))},null,512),[[te,c.value]])]),o("div",sT,[o("button",{class:"flex-1 rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300",onClick:M[5]||(M[5]=We(C=>l.value=!1,["stop"]))}," Cancel "),o("button",{disabled:!d.value||a.value,class:"flex-1 rounded-md bg-orange-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-orange-700 disabled:opacity-50",onClick:We(w,["stop"])}," Add ",8,nT)])])):j("",!0),o("div",oT,[M[14]||(M[14]=o("h4",{class:"mb-2 text-xs font-semibold uppercase text-gray-500"},"Recent Activity",-1)),r.value.length?(_(),y("div",iT,[(_(!0),y(de,null,ye(r.value,C=>{var O;return _(),y("div",{key:C.id,class:"flex items-center justify-between text-xs"},[o("span",rT,[o("span",{class:ee(["mr-1 inline-block rounded px-1 py-0.5 text-xs font-medium",C.action==="refuel"?"bg-green-100 text-green-700":C.action==="start"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"])},u(C.action),3),Q(" "+u(((O=C.user)==null?void 0:O.name)||"System"),1)]),o("span",aT,u(g(C.created_at)),1)])}),128))])):(_(),y("p",lT,"No recent activity"))])])])]),_:1}))}}),cT={class:"sm:col-span-12"},uT={class:"block text-sm font-medium text-gray-700"},fT=["value"],hT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},ib=_e({__name:"FieldColor",props:{name:{}},setup(s){const e=fs(Je("form_name",""))();return(t,n)=>(_(),y("div",cT,[o("label",uT,u(t.__("Color")),1),(_(!0),y(de,null,ye(h(e).options.color,i=>(_(),y("label",{key:i.value,class:"mt-1 inline-block h-6 w-6 cursor-pointer rounded ltr:mr-1 rtl:ml-1",style:wt({"background-color":i.value,color:h(e).data.color==i.value?"#ffffff":i.value})},[n[1]||(n[1]=o("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[o("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)),z(o("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>h(e).data.color=r),type:"radio",value:i.value,class:"hidden"},null,8,fT),[[Pn,h(e).data.color]])],4))),128)),h(e).errors.color?(_(),y("div",hT,u(h(e).errors.color[0]),1)):j("",!0)]))}}),mT={class:"sm:col-span-12"},pT={class:"mb-4 flex items-center text-sm"},gT={class:"block text-sm font-medium text-gray-700"},_T={class:"flex flex-1 items-center pl-4"},vT={role:"list",class:"divide-y divide-gray-200 overflow-y-auto rounded-md border border-gray-200",style:{"max-height":"228px"}},yT={class:"flex items-start"},bT={class:"text-sm ltr:ml-3 rtl:mr-3"},xT={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},wT={class:"block truncate text-sm leading-none text-gray-500"},kT={class:"ltr:ml-auto rtl:mr-auto"},$T=["value"],CT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},ST=_e({__name:"FieldChooseUsers",props:{name:{}},setup(s){const e=fs(Je("form_name",""))();function t(){e.data.users=e.options.users.map(i=>i.id)}function n(){e.data.users=[]}return(i,r)=>{var a;return _(),y("div",mT,[o("div",pT,[o("p",gT,u(i.__("Team Members"))+" ("+u((a=h(e).data.users)==null?void 0:a.length)+") ",1),o("div",_T,[o("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:t},u(i.__("Select All")),1),r[1]||(r[1]=o("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),o("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:n},u(i.__("Deselect All")),1)])]),o("div",vT,[(_(!0),y(de,null,ye(h(e).options.users,l=>(_(),y("label",{key:l.id,class:"flex cursor-pointer items-center px-4 py-3"},[o("div",yT,[S(h(rs),{class:"h-6 w-6",avatar:l.avatar},null,8,["avatar"]),o("div",bT,[o("span",xT,u(l.name),1),o("span",wT,u(l.email),1)])]),o("div",kT,[z(o("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>h(e).data.users=d),type:"checkbox",value:l.id,class:"h-5 w-5 cursor-pointer rounded-full border-gray-300 focus:outline-none focus:ring-0 focus:ring-offset-0"},null,8,$T),[[cs,h(e).data.users]])])]))),128))]),h(e).errors.users?(_(),y("div",CT,u(h(e).errors.users[0]),1)):j("",!0)])}}}),ym=un("project-index",()=>{const s=I([]),e=I(!1);n();function t(){Ft().add(su)}async function n(){e.value=!0;const{data:l}=await ce.get("projects");e.value=!1,s.value=l}function i(){}function r(){}function a(){}return{create:t,fetching:e,items:s,archive:i,favorite:r,edit:a}}),Hg="project",su=_e({__name:"Form",setup(s){const e=fs(Hg)(),t=ym(),n=Ts("projects")(),i=_o();return e.onSuccess(r=>{!new URLSearchParams(window.location.search).has("archived")&&Array.isArray(n.data)&&n.data.push(r.model),t.items.push(r.model),Ft().pop()}),(r,a)=>(_(),ie(h(gs),{name:Hg,uri:"projects"},{default:K(()=>[S(h(i),{name:"name",label:"Name",class:"col-span-12"}),S(ib,{name:"color"}),S(ST,{name:"users"})]),_:1}))}}),Wg="invitation",rb=_e({__name:"InvitationForm",setup(s){const e=fs(Wg)(),t=Ts("invitation")(),n=_o(),i=yl();return e.onSuccess(function(){t.fetch(),Ft().pop()}),(r,a)=>(_(),ie(h(gs),{name:Wg,uri:"invitations",title:"Invite Team Member"},{default:K(()=>[S(h(n),{name:"email",label:"Email",class:"col-span-12"}),S(h(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1}))}}),MT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},TT={class:"ltr:ml-2 rtl:mr-2"},AT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},DT={class:"py-1",role:"none"},ET=_e({__name:"_CreateDropdown",setup(s){function e(){Ft().add(su)}function t(){Ft().add(rb)}return(n,i)=>(_(),ie(h(Hs),{name:"header-create"},{trigger:K(()=>[o("button",MT,[S(h(Sn),{class:"h-4 w-4"}),o("span",TT,u(n.__("Create")),1)])]),content:K(()=>[o("div",AT,[o("div",DT,[z(o("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(e,["prevent"])},u(n.__("Create Project")),513),[[zt,n.can("project:create")]]),z(o("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i[0]||(i[0]=We(r=>t(),["prevent"]))},u(n.__("Invite Team Member")),513),[[zt,n.can("user:create")]])])])]),_:1}))}});function PT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ab={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(s,e){(function(n,i){s.exports=i()})(window,function(){return function(t){var n={};function i(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=n,i.d=function(r,a,l){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(a&1&&(r=i(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var d in r)i.d(l,d,(function(c){return r[c]}).bind(null,d));return l},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=2)}([function(t,n,i){var r=this&&this.__extends||function(){var k=function(b,w){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,M){x.__proto__=M}||function(x,M){for(var C in M)M.hasOwnProperty(C)&&(x[C]=M[C])},k(b,w)};return function(b,w){k(b,w);function x(){this.constructor=b}b.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=256,l=function(){function k(b){b===void 0&&(b="="),this._paddingCharacter=b}return k.prototype.encodedLength=function(b){return this._paddingCharacter?(b+2)/3*4|0:(b*8+5)/6|0},k.prototype.encode=function(b){for(var w="",x=0;x<b.length-2;x+=3){var M=b[x]<<16|b[x+1]<<8|b[x+2];w+=this._encodeByte(M>>>3*6&63),w+=this._encodeByte(M>>>2*6&63),w+=this._encodeByte(M>>>1*6&63),w+=this._encodeByte(M>>>0*6&63)}var C=b.length-x;if(C>0){var M=b[x]<<16|(C===2?b[x+1]<<8:0);w+=this._encodeByte(M>>>3*6&63),w+=this._encodeByte(M>>>2*6&63),C===2?w+=this._encodeByte(M>>>1*6&63):w+=this._paddingCharacter||"",w+=this._paddingCharacter||""}return w},k.prototype.maxDecodedLength=function(b){return this._paddingCharacter?b/4*3|0:(b*6+7)/8|0},k.prototype.decodedLength=function(b){return this.maxDecodedLength(b.length-this._getPaddingLength(b))},k.prototype.decode=function(b){if(b.length===0)return new Uint8Array(0);for(var w=this._getPaddingLength(b),x=b.length-w,M=new Uint8Array(this.maxDecodedLength(x)),C=0,O=0,N=0,E=0,B=0,L=0,P=0;O<x-4;O+=4)E=this._decodeChar(b.charCodeAt(O+0)),B=this._decodeChar(b.charCodeAt(O+1)),L=this._decodeChar(b.charCodeAt(O+2)),P=this._decodeChar(b.charCodeAt(O+3)),M[C++]=E<<2|B>>>4,M[C++]=B<<4|L>>>2,M[C++]=L<<6|P,N|=E&a,N|=B&a,N|=L&a,N|=P&a;if(O<x-1&&(E=this._decodeChar(b.charCodeAt(O)),B=this._decodeChar(b.charCodeAt(O+1)),M[C++]=E<<2|B>>>4,N|=E&a,N|=B&a),O<x-2&&(L=this._decodeChar(b.charCodeAt(O+2)),M[C++]=B<<4|L>>>2,N|=L&a),O<x-3&&(P=this._decodeChar(b.charCodeAt(O+3)),M[C++]=L<<6|P,N|=P&a),N!==0)throw new Error("Base64Coder: incorrect characters for decoding");return M},k.prototype._encodeByte=function(b){var w=b;return w+=65,w+=25-b>>>8&0-65-26+97,w+=51-b>>>8&26-97-52+48,w+=61-b>>>8&52-48-62+43,w+=62-b>>>8&62-43-63+47,String.fromCharCode(w)},k.prototype._decodeChar=function(b){var w=a;return w+=(42-b&b-44)>>>8&-a+b-43+62,w+=(46-b&b-48)>>>8&-a+b-47+63,w+=(47-b&b-58)>>>8&-a+b-48+52,w+=(64-b&b-91)>>>8&-a+b-65+0,w+=(96-b&b-123)>>>8&-a+b-97+26,w},k.prototype._getPaddingLength=function(b){var w=0;if(this._paddingCharacter){for(var x=b.length-1;x>=0&&b[x]===this._paddingCharacter;x--)w++;if(b.length<4||w>2)throw new Error("Base64Coder: incorrect padding")}return w},k}();n.Coder=l;var d=new l;function c(k){return d.encode(k)}n.encode=c;function f(k){return d.decode(k)}n.decode=f;var m=function(k){r(b,k);function b(){return k!==null&&k.apply(this,arguments)||this}return b.prototype._encodeByte=function(w){var x=w;return x+=65,x+=25-w>>>8&0-65-26+97,x+=51-w>>>8&26-97-52+48,x+=61-w>>>8&52-48-62+45,x+=62-w>>>8&62-45-63+95,String.fromCharCode(x)},b.prototype._decodeChar=function(w){var x=a;return x+=(44-w&w-46)>>>8&-a+w-45+62,x+=(94-w&w-96)>>>8&-a+w-95+63,x+=(47-w&w-58)>>>8&-a+w-48+52,x+=(64-w&w-91)>>>8&-a+w-65+0,x+=(96-w&w-123)>>>8&-a+w-97+26,x},b}(l);n.URLSafeCoder=m;var p=new m;function g(k){return p.encode(k)}n.encodeURLSafe=g;function v(k){return p.decode(k)}n.decodeURLSafe=v,n.encodedLength=function(k){return d.encodedLength(k)},n.maxDecodedLength=function(k){return d.maxDecodedLength(k)},n.decodedLength=function(k){return d.decodedLength(k)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var r="utf8: invalid string",a="utf8: invalid source encoding";function l(f){for(var m=new Uint8Array(d(f)),p=0,g=0;g<f.length;g++){var v=f.charCodeAt(g);v<128?m[p++]=v:v<2048?(m[p++]=192|v>>6,m[p++]=128|v&63):v<55296?(m[p++]=224|v>>12,m[p++]=128|v>>6&63,m[p++]=128|v&63):(g++,v=(v&1023)<<10,v|=f.charCodeAt(g)&1023,v+=65536,m[p++]=240|v>>18,m[p++]=128|v>>12&63,m[p++]=128|v>>6&63,m[p++]=128|v&63)}return m}n.encode=l;function d(f){for(var m=0,p=0;p<f.length;p++){var g=f.charCodeAt(p);if(g<128)m+=1;else if(g<2048)m+=2;else if(g<55296)m+=3;else if(g<=57343){if(p>=f.length-1)throw new Error(r);p++,m+=4}else throw new Error(r)}return m}n.encodedLength=d;function c(f){for(var m=[],p=0;p<f.length;p++){var g=f[p];if(g&128){var v=void 0;if(g<224){if(p>=f.length)throw new Error(a);var k=f[++p];if((k&192)!==128)throw new Error(a);g=(g&31)<<6|k&63,v=128}else if(g<240){if(p>=f.length-1)throw new Error(a);var k=f[++p],b=f[++p];if((k&192)!==128||(b&192)!==128)throw new Error(a);g=(g&15)<<12|(k&63)<<6|b&63,v=2048}else if(g<248){if(p>=f.length-2)throw new Error(a);var k=f[++p],b=f[++p],w=f[++p];if((k&192)!==128||(b&192)!==128||(w&192)!==128)throw new Error(a);g=(g&15)<<18|(k&63)<<12|(b&63)<<6|w&63,v=65536}else throw new Error(a);if(g<v||g>=55296&&g<=57343)throw new Error(a);if(g>=65536){if(g>1114111)throw new Error(a);g-=65536,m.push(String.fromCharCode(55296|g>>10)),g=56320|g&1023}}m.push(String.fromCharCode(g))}return m.join("")}n.decode=c},function(t,n,i){t.exports=i(3).default},function(t,n,i){i.r(n);class r{constructor($,T){this.lastId=0,this.prefix=$,this.name=T}create($){this.lastId++;var T=this.lastId,H=this.prefix+T,G=this.name+"["+T+"]",ve=!1,Ee=function(){ve||($.apply(null,arguments),ve=!0)};return this[T]=Ee,{number:T,id:H,name:G,callback:Ee}}remove($){delete this[$.number]}}var a=new r("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=l;class c{constructor($){this.options=$,this.receivers=$.receivers||a,this.loading={}}load($,T,H){var G=this;if(G.loading[$]&&G.loading[$].length>0)G.loading[$].push(H);else{G.loading[$]=[H];var ve=ct.createScriptRequest(G.getPath($,T)),Ee=G.receivers.create(function(qe){if(G.receivers.remove(Ee),G.loading[$]){var dt=G.loading[$];delete G.loading[$];for(var Ct=function(ls){ls||ve.cleanup()},Rt=0;Rt<dt.length;Rt++)dt[Rt](qe,Ct)}});ve.send(Ee)}}getRoot($){var T,H=ct.getDocument().location.protocol;return $&&$.useTLS||H==="https:"?T=this.options.cdn_https:T=this.options.cdn_http,T.replace(/\/*$/,"")+"/"+this.options.version}getPath($,T){return this.getRoot(T)+"/"+$+this.options.suffix+".js"}}var f=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),m=new c({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:f});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(D){const $="See:",T=p.urls[D];if(!T)return"";let H;return T.fullUrl?H=T.fullUrl:T.path&&(H=p.baseUrl+T.path),H?`${$} ${H}`:""}},k;(function(D){D.UserAuthentication="user-authentication",D.ChannelAuthorization="channel-authorization"})(k||(k={}));class b extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor($,T){super(T),this.status=$,Object.setPrototypeOf(this,new.target.prototype)}}var P=function(D,$,T,H,G){const ve=ct.createXHR();ve.open("POST",T.endpoint,!0),ve.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Ee in T.headers)ve.setRequestHeader(Ee,T.headers[Ee]);if(T.headersProvider!=null){let qe=T.headersProvider();for(var Ee in qe)ve.setRequestHeader(Ee,qe[Ee])}return ve.onreadystatechange=function(){if(ve.readyState===4)if(ve.status===200){let qe,dt=!1;try{qe=JSON.parse(ve.responseText),dt=!0}catch{G(new B(200,`JSON returned from ${H.toString()} endpoint was invalid, yet status code was 200. Data was: ${ve.responseText}`),null)}dt&&G(null,qe)}else{let qe="";switch(H){case k.UserAuthentication:qe=v.buildLogSuffix("authenticationEndpoint");break;case k.ChannelAuthorization:qe=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}G(new B(ve.status,`Unable to retrieve auth string from ${H.toString()} endpoint - received status: ${ve.status} from ${T.endpoint}. ${qe}`),null)}},ve.send($),ve};function R(D){return J(ae(D))}var A=String.fromCharCode,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be=function(D){var $=D.charCodeAt(0);return $<128?D:$<2048?A(192|$>>>6)+A(128|$&63):A(224|$>>>12&15)+A(128|$>>>6&63)+A(128|$&63)},ae=function(D){return D.replace(/[^\x00-\x7F]/g,be)},le=function(D){var $=[0,2,1][D.length%3],T=D.charCodeAt(0)<<16|(D.length>1?D.charCodeAt(1):0)<<8|(D.length>2?D.charCodeAt(2):0),H=[F.charAt(T>>>18),F.charAt(T>>>12&63),$>=2?"=":F.charAt(T>>>6&63),$>=1?"=":F.charAt(T&63)];return H.join("")},J=window.btoa||function(D){return D.replace(/[\s\S]{1,3}/g,le)};class ne{constructor($,T,H,G){this.clear=T,this.timer=$(()=>{this.timer&&(this.timer=G(this.timer))},H)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var q=ne;function oe(D){window.clearTimeout(D)}function xe(D){window.clearInterval(D)}class je extends q{constructor($,T){super(setTimeout,oe,$,function(H){return T(),null})}}class ot extends q{constructor($,T){super(setInterval,xe,$,function(H){return T(),H})}}var ht={now(){return Date.now?Date.now():new Date().valueOf()},defer(D){return new je(0,D)},method(D,...$){var T=Array.prototype.slice.call(arguments,1);return function(H){return H[D].apply(H,T.concat(arguments))}}},he=ht;function we(D,...$){for(var T=0;T<$.length;T++){var H=$[T];for(var G in H)H[G]&&H[G].constructor&&H[G].constructor===Object?D[G]=we(D[G]||{},H[G]):D[G]=H[G]}return D}function $e(){for(var D=["Pusher"],$=0;$<arguments.length;$++)typeof arguments[$]=="string"?D.push(arguments[$]):D.push(Ke(arguments[$]));return D.join(" : ")}function Ne(D,$){var T=Array.prototype.indexOf;if(D===null)return-1;if(T&&D.indexOf===T)return D.indexOf($);for(var H=0,G=D.length;H<G;H++)if(D[H]===$)return H;return-1}function et(D,$){for(var T in D)Object.prototype.hasOwnProperty.call(D,T)&&$(D[T],T,D)}function Oe(D){var $=[];return et(D,function(T,H){$.push(H)}),$}function ue(D){var $=[];return et(D,function(T){$.push(T)}),$}function fe(D,$,T){for(var H=0;H<D.length;H++)$.call(T||window,D[H],H,D)}function U(D,$){for(var T=[],H=0;H<D.length;H++)T.push($(D[H],H,D,T));return T}function Y(D,$){var T={};return et(D,function(H,G){T[G]=$(H)}),T}function X(D,$){$=$||function(G){return!!G};for(var T=[],H=0;H<D.length;H++)$(D[H],H,D,T)&&T.push(D[H]);return T}function Z(D,$){var T={};return et(D,function(H,G){($&&$(H,G,D,T)||H)&&(T[G]=H)}),T}function se(D){var $=[];return et(D,function(T,H){$.push([H,T])}),$}function pe(D,$){for(var T=0;T<D.length;T++)if($(D[T],T,D))return!0;return!1}function Se(D,$){for(var T=0;T<D.length;T++)if(!$(D[T],T,D))return!1;return!0}function Te(D){return Y(D,function($){return typeof $=="object"&&($=Ke($)),encodeURIComponent(R($.toString()))})}function Ce(D){var $=Z(D,function(H){return H!==void 0}),T=U(se(Te($)),he.method("join","=")).join("&");return T}function ke(D){var $=[],T=[];return function H(G,ve){var Ee,qe,dt;switch(typeof G){case"object":if(!G)return null;for(Ee=0;Ee<$.length;Ee+=1)if($[Ee]===G)return{$ref:T[Ee]};if($.push(G),T.push(ve),Object.prototype.toString.apply(G)==="[object Array]")for(dt=[],Ee=0;Ee<G.length;Ee+=1)dt[Ee]=H(G[Ee],ve+"["+Ee+"]");else{dt={};for(qe in G)Object.prototype.hasOwnProperty.call(G,qe)&&(dt[qe]=H(G[qe],ve+"["+JSON.stringify(qe)+"]"))}return dt;case"number":case"string":case"boolean":return G}}(D,"$")}function Ke(D){try{return JSON.stringify(D)}catch{return JSON.stringify(ke(D))}}class Fe{constructor(){this.globalLog=$=>{window.console&&window.console.log&&window.console.log($)}}debug(...$){this.log(this.globalLog,$)}warn(...$){this.log(this.globalLogWarn,$)}error(...$){this.log(this.globalLogError,$)}globalLogWarn($){window.console&&window.console.warn?window.console.warn($):this.globalLog($)}globalLogError($){window.console&&window.console.error?window.console.error($):this.globalLogWarn($)}log($,...T){var H=$e.apply(this,arguments);vu.log?vu.log(H):vu.logToConsole&&$.bind(this)(H)}}var De=new Fe,st=function(D,$,T,H,G){(T.headers!==void 0||T.headersProvider!=null)&&De.warn(`To send headers with the ${H.toString()} request, you must use AJAX, rather than JSONP.`);var ve=D.nextAuthCallbackID.toString();D.nextAuthCallbackID++;var Ee=D.getDocument(),qe=Ee.createElement("script");D.auth_callbacks[ve]=function(Rt){G(null,Rt)};var dt="Pusher.auth_callbacks['"+ve+"']";qe.src=T.endpoint+"?callback="+encodeURIComponent(dt)+"&"+$;var Ct=Ee.getElementsByTagName("head")[0]||Ee.documentElement;Ct.insertBefore(qe,Ct.firstChild)},gt=st;class At{constructor($){this.src=$}send($){var T=this,H="Error loading "+T.src;T.script=document.createElement("script"),T.script.id=$.id,T.script.src=T.src,T.script.type="text/javascript",T.script.charset="UTF-8",T.script.addEventListener?(T.script.onerror=function(){$.callback(H)},T.script.onload=function(){$.callback(null)}):T.script.onreadystatechange=function(){(T.script.readyState==="loaded"||T.script.readyState==="complete")&&$.callback(null)},T.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(T.errorScript=document.createElement("script"),T.errorScript.id=$.id+"_error",T.errorScript.text=$.name+"('"+H+"');",T.script.async=T.errorScript.async=!1):T.script.async=!0;var G=document.getElementsByTagName("head")[0];G.insertBefore(T.script,G.firstChild),T.errorScript&&G.insertBefore(T.errorScript,T.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class bt{constructor($,T){this.url=$,this.data=T}send($){if(!this.request){var T=Ce(this.data),H=this.url+"/"+$.number+"?"+T;this.request=ct.createScriptRequest(H),this.request.send($)}}cleanup(){this.request&&this.request.cleanup()}}var _s=function(D,$){return function(T,H){var G="http"+($?"s":"")+"://",ve=G+(D.host||D.options.host)+D.options.path,Ee=ct.createJSONPRequest(ve,T),qe=ct.ScriptReceivers.create(function(dt,Ct){a.remove(qe),Ee.cleanup(),Ct&&Ct.host&&(D.host=Ct.host),H&&H(dt,Ct)});Ee.send(qe)}},as={name:"jsonp",getAgent:_s},Ds=as;function hs(D,$,T){var H=D+($.useTLS?"s":""),G=$.useTLS?$.hostTLS:$.hostNonTLS;return H+"://"+G+T}function zn(D,$){var T="/app/"+D,H="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+($?"&"+$:"");return T+H}var Nt={getInitial:function(D,$){var T=($.httpPath||"")+zn(D,"flash=false");return hs("ws",$,T)}},ms={getInitial:function(D,$){var T=($.httpPath||"/pusher")+zn(D);return hs("http",$,T)}},Es={getInitial:function(D,$){return hs("http",$,$.httpPath||"/pusher")},getPath:function(D,$){return zn(D)}};class or{constructor(){this._callbacks={}}get($){return this._callbacks[Bn($)]}add($,T,H){var G=Bn($);this._callbacks[G]=this._callbacks[G]||[],this._callbacks[G].push({fn:T,context:H})}remove($,T,H){if(!$&&!T&&!H){this._callbacks={};return}var G=$?[Bn($)]:Oe(this._callbacks);T||H?this.removeCallback(G,T,H):this.removeAllCallbacks(G)}removeCallback($,T,H){fe($,function(G){this._callbacks[G]=X(this._callbacks[G]||[],function(ve){return T&&T!==ve.fn||H&&H!==ve.context}),this._callbacks[G].length===0&&delete this._callbacks[G]},this)}removeAllCallbacks($){fe($,function(T){delete this._callbacks[T]},this)}}function Bn(D){return"_"+D}class fn{constructor($){this.callbacks=new or,this.global_callbacks=[],this.failThrough=$}bind($,T,H){return this.callbacks.add($,T,H),this}bind_global($){return this.global_callbacks.push($),this}unbind($,T,H){return this.callbacks.remove($,T,H),this}unbind_global($){return $?(this.global_callbacks=X(this.global_callbacks||[],T=>T!==$),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit($,T,H){for(var G=0;G<this.global_callbacks.length;G++)this.global_callbacks[G]($,T);var ve=this.callbacks.get($),Ee=[];if(H?Ee.push(T,H):T&&Ee.push(T),ve&&ve.length>0)for(var G=0;G<ve.length;G++)ve[G].fn.apply(ve[G].context||window,Ee);else this.failThrough&&this.failThrough($,T);return this}}class Un extends fn{constructor($,T,H,G,ve){super(),this.initialize=ct.transportConnectionInitializer,this.hooks=$,this.name=T,this.priority=H,this.key=G,this.options=ve,this.state="new",this.timeline=ve.timeline,this.activityTimeout=ve.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var $=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket($,this.options)}catch(T){return he.defer(()=>{this.onError(T),this.changeState("closed")}),!1}return this.bindListeners(),De.debug("Connecting",{transport:this.name,url:$}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send($){return this.state==="open"?(he.defer(()=>{this.socket&&this.socket.send($)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError($){this.emit("error",{type:"WebSocketError",error:$}),this.timeline.error(this.buildTimelineMessage({error:$.toString()}))}onClose($){$?this.changeState("closed",{code:$.code,reason:$.reason,wasClean:$.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage($){this.emit("message",$)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=$=>{this.onError($)},this.socket.onclose=$=>{this.onClose($)},this.socket.onmessage=$=>{this.onMessage($)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState($,T){this.state=$,this.timeline.info(this.buildTimelineMessage({state:$,params:T})),this.emit($,T)}buildTimelineMessage($){return we({cid:this.id},$)}}class zo{constructor($){this.hooks=$}isSupported($){return this.hooks.isSupported($)}createConnection($,T,H,G){return new Un(this.hooks,$,T,H,G)}}var ru=new zo({urls:Nt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ct.getWebSocketAPI()},isSupported:function(){return!!ct.getWebSocketAPI()},getSocket:function(D){return ct.createWebSocket(D)}}),V={urls:ms,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},W=we({getSocket:function(D){return ct.HTTPFactory.createStreamingSocket(D)}},V),re=we({getSocket:function(D){return ct.HTTPFactory.createPollingSocket(D)}},V),ge={isSupported:function(){return ct.isXHRSupported()}},Ae=new zo(we({},W,ge)),ze=new zo(we({},re,ge)),lt={ws:ru,xhr_streaming:Ae,xhr_polling:ze},Ve=lt,pt=new zo({file:"sockjs",urls:Es,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(D,$){return new window.SockJS(D,null,{js_path:m.getPath("sockjs",{useTLS:$.useTLS}),ignore_null_origin:$.ignoreNullOrigin})},beforeOpen:function(D,$){D.send(JSON.stringify({path:$}))}}),He={isSupported:function(D){var $=ct.isXDRSupported(D.useTLS);return $}},nt=new zo(we({},W,He)),Pt=new zo(we({},re,He));Ve.xdr_streaming=nt,Ve.xdr_polling=Pt,Ve.sockjs=pt;var Mn=Ve;class Ws extends fn{constructor(){super();var $=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){$.emit("online")},!1),window.addEventListener("offline",function(){$.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var xi=new Ws;class Bo{constructor($,T,H){this.manager=$,this.transport=T,this.minPingDelay=H.minPingDelay,this.maxPingDelay=H.maxPingDelay,this.pingDelay=void 0}createConnection($,T,H,G){G=we({},G,{activityTimeout:this.pingDelay});var ve=this.transport.createConnection($,T,H,G),Ee=null,qe=function(){ve.unbind("open",qe),ve.bind("closed",dt),Ee=he.now()},dt=Ct=>{if(ve.unbind("closed",dt),Ct.code===1002||Ct.code===1003)this.manager.reportDeath();else if(!Ct.wasClean&&Ee){var Rt=he.now()-Ee;Rt<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Rt/2,this.minPingDelay))}};return ve.bind("open",qe),ve}isSupported($){return this.manager.isAlive()&&this.transport.isSupported($)}}const wl={decodeMessage:function(D){try{var $=JSON.parse(D.data),T=$.data;if(typeof T=="string")try{T=JSON.parse($.data)}catch{}var H={event:$.event,channel:$.channel,data:T};return $.user_id&&(H.user_id=$.user_id),H}catch(G){throw{type:"MessageParseError",error:G,data:D.data}}},encodeMessage:function(D){return JSON.stringify(D)},processHandshake:function(D){var $=wl.decodeMessage(D);if($.event==="pusher:connection_established"){if(!$.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:$.data.socket_id,activityTimeout:$.data.activity_timeout*1e3}}else{if($.event==="pusher:error")return{action:this.getCloseAction($.data),error:this.getCloseError($.data)};throw"Invalid handshake"}},getCloseAction:function(D){return D.code<4e3?D.code>=1002&&D.code<=1004?"backoff":null:D.code===4e3?"tls_only":D.code<4100?"refused":D.code<4200?"backoff":D.code<4300?"retry":"refused"},getCloseError:function(D){return D.code!==1e3&&D.code!==1001?{type:"PusherError",data:{code:D.code,message:D.reason||D.message}}:null}};var Vn=wl;class au extends fn{constructor($,T){super(),this.id=$,this.transport=T,this.activityTimeout=T.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send($){return this.transport.send($)}send_event($,T,H){var G={event:$,data:T};return H&&(G.channel=H),De.debug("Event sent",G),this.send(Vn.encodeMessage(G))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var $={message:H=>{var G;try{G=Vn.decodeMessage(H)}catch(ve){this.emit("error",{type:"MessageParseError",error:ve,data:H.data})}if(G!==void 0){switch(De.debug("Event recd",G),G.event){case"pusher:error":this.emit("error",{type:"PusherError",data:G.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",G)}},activity:()=>{this.emit("activity")},error:H=>{this.emit("error",H)},closed:H=>{T(),H&&H.code&&this.handleCloseEvent(H),this.transport=null,this.emit("closed")}},T=()=>{et($,(H,G)=>{this.transport.unbind(G,H)})};et($,(H,G)=>{this.transport.bind(G,H)})}handleCloseEvent($){var T=Vn.getCloseAction($),H=Vn.getCloseError($);H&&this.emit("error",H),T&&this.emit(T,{action:T,error:H})}}class lu{constructor($,T){this.transport=$,this.callback=T,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=$=>{this.unbindListeners();var T;try{T=Vn.processHandshake($)}catch(H){this.finish("error",{error:H}),this.transport.close();return}T.action==="connected"?this.finish("connected",{connection:new au(T.id,this.transport),activityTimeout:T.activityTimeout}):(this.finish(T.action,{error:T.error}),this.transport.close())},this.onClosed=$=>{this.unbindListeners();var T=Vn.getCloseAction($)||"backoff",H=Vn.getCloseError($);this.finish(T,{error:H})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish($,T){this.callback(we({transport:this.transport,action:$},T))}}class du{constructor($,T){this.timeline=$,this.options=T||{}}send($,T){this.timeline.isEmpty()||this.timeline.send(ct.TimelineTransport.getAgent(this,$),T)}}class Kr extends fn{constructor($,T){super(function(H,G){De.debug("No callbacks on "+$+" for "+H)}),this.name=$,this.pusher=T,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize($,T){return T(null,{auth:""})}trigger($,T){if($.indexOf("client-")!==0)throw new b("Event '"+$+"' does not start with 'client-'");if(!this.subscribed){var H=v.buildLogSuffix("triggeringClientEvents");De.warn(`Client event triggered before channel 'subscription_succeeded' event . ${H}`)}return this.pusher.send_event($,T,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent($){var T=$.event,H=$.data;if(T==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent($);else if(T==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent($);else if(T.indexOf("pusher_internal:")!==0){var G={};this.emit(T,H,G)}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",$.data)}handleSubscriptionCountEvent($){$.data.subscription_count&&(this.subscriptionCount=$.data.subscription_count),this.emit("pusher:subscription_count",$.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,($,T)=>{$?(this.subscriptionPending=!1,De.error($.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:$.message},$ instanceof B?{status:$.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:T.auth,channel_data:T.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Yr extends Kr{authorize($,T){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:$},T)}}class cu{constructor(){this.reset()}get($){return Object.prototype.hasOwnProperty.call(this.members,$)?{id:$,info:this.members[$]}:null}each($){et(this.members,(T,H)=>{$(this.get(H))})}setMyID($){this.myID=$}onSubscription($){this.members=$.presence.hash,this.count=$.presence.count,this.me=this.get(this.myID)}addMember($){return this.get($.user_id)===null&&this.count++,this.members[$.user_id]=$.user_info,this.get($.user_id)}removeMember($){var T=this.get($.user_id);return T&&(delete this.members[$.user_id],this.count--),T}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var uu=function(D,$,T,H){function G(ve){return ve instanceof T?ve:new T(function(Ee){Ee(ve)})}return new(T||(T=Promise))(function(ve,Ee){function qe(Rt){try{Ct(H.next(Rt))}catch(ls){Ee(ls)}}function dt(Rt){try{Ct(H.throw(Rt))}catch(ls){Ee(ls)}}function Ct(Rt){Rt.done?ve(Rt.value):G(Rt.value).then(qe,dt)}Ct((H=H.apply(D,$||[])).next())})};class fu extends Yr{constructor($,T){super($,T),this.members=new cu}authorize($,T){super.authorize($,(H,G)=>uu(this,void 0,void 0,function*(){if(!H)if(G=G,G.channel_data!=null){var ve=JSON.parse(G.channel_data);this.members.setMyID(ve.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Ee=v.buildLogSuffix("authorizationEndpoint");De.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Ee}, or the user should be signed in.`),T("Invalid auth response");return}T(H,G)}))}handleEvent($){var T=$.event;if(T.indexOf("pusher_internal:")===0)this.handleInternalEvent($);else{var H=$.data,G={};$.user_id&&(G.user_id=$.user_id),this.emit(T,H,G)}}handleInternalEvent($){var T=$.event,H=$.data;switch(T){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent($);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent($);break;case"pusher_internal:member_added":var G=this.members.addMember(H);this.emit("pusher:member_added",G);break;case"pusher_internal:member_removed":var ve=this.members.removeMember(H);ve&&this.emit("pusher:member_removed",ve);break}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription($.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Lb=i(1),hu=i(0);class Fb extends Yr{constructor($,T,H){super($,T),this.key=null,this.nacl=H}authorize($,T){super.authorize($,(H,G)=>{if(H){T(H,G);return}let ve=G.shared_secret;if(!ve){T(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(hu.decode)(ve),delete G.shared_secret,T(null,G)})}trigger($,T){throw new O("Client events are not currently supported for encrypted channels")}handleEvent($){var T=$.event,H=$.data;if(T.indexOf("pusher_internal:")===0||T.indexOf("pusher:")===0){super.handleEvent($);return}this.handleEncryptedEvent(T,H)}handleEncryptedEvent($,T){if(!this.key){De.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!T.ciphertext||!T.nonce){De.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+T);return}let H=Object(hu.decode)(T.ciphertext);if(H.length<this.nacl.secretbox.overheadLength){De.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${H.length}`);return}let G=Object(hu.decode)(T.nonce);if(G.length<this.nacl.secretbox.nonceLength){De.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${G.length}`);return}let ve=this.nacl.secretbox.open(H,G,this.key);if(ve===null){De.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Ee,qe)=>{if(Ee){De.error(`Failed to make a request to the authEndpoint: ${qe}. Unable to fetch new key, so dropping encrypted event`);return}if(ve=this.nacl.secretbox.open(H,G,this.key),ve===null){De.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit($,this.getDataToEmit(ve))});return}this.emit($,this.getDataToEmit(ve))}getDataToEmit($){let T=Object(Lb.decode)($);try{return JSON.parse(T)}catch{return T}}}class Nb extends fn{constructor($,T){super(),this.state="initialized",this.connection=null,this.key=$,this.options=T,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var H=ct.getNetwork();H.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),H.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send($){return this.connection?this.connection.send($):!1}send_event($,T,H){return this.connection?this.connection.send_event($,T,H):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var $=(T,H)=>{T?this.runner=this.strategy.connect(0,$):H.action==="error"?(this.emit("error",{type:"HandshakeError",error:H.error}),this.timeline.error({handshakeError:H.error})):(this.abortConnecting(),this.handshakeCallbacks[H.action](H))};this.runner=this.strategy.connect(0,$)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var $=this.abandonConnection();$.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn($){this.timeline.info({action:"retry",delay:$}),$>0&&this.emit("connecting_in",Math.round($/1e3)),this.retryTimer=new je($||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new je(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new je(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new je(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks($){return we({},$,{message:T=>{this.resetActivityCheck(),this.emit("message",T)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:T=>{this.emit("error",T)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks($){return we({},$,{connected:T=>{this.activityTimeout=Math.min(this.options.activityTimeout,T.activityTimeout,T.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(T.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let $=T=>H=>{H.error&&this.emit("error",{type:"WebSocketError",error:H.error}),T(H)};return{tls_only:$(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:$(()=>{this.disconnect()}),backoff:$(()=>{this.retryIn(1e3)}),retry:$(()=>{this.retryIn(0)})}}setConnection($){this.connection=$;for(var T in this.connectionCallbacks)this.connection.bind(T,this.connectionCallbacks[T]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var $ in this.connectionCallbacks)this.connection.unbind($,this.connectionCallbacks[$]);var T=this.connection;return this.connection=null,T}}updateState($,T){var H=this.state;if(this.state=$,H!==$){var G=$;G==="connected"&&(G+=" with new socket ID "+T.socket_id),De.debug("State changed",H+" -> "+G),this.timeline.info({state:$,params:T}),this.emit("state_change",{previous:H,current:$}),this.emit($,T)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class zb{constructor(){this.channels={}}add($,T){return this.channels[$]||(this.channels[$]=Bb($,T)),this.channels[$]}all(){return ue(this.channels)}find($){return this.channels[$]}remove($){var T=this.channels[$];return delete this.channels[$],T}disconnect(){et(this.channels,function($){$.disconnect()})}}function Bb(D,$){if(D.indexOf("private-encrypted-")===0){if($.config.nacl)return vo.createEncryptedChannel(D,$,$.config.nacl);let T="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",H=v.buildLogSuffix("encryptedChannelSupport");throw new O(`${T}. ${H}`)}else{if(D.indexOf("private-")===0)return vo.createPrivateChannel(D,$);if(D.indexOf("presence-")===0)return vo.createPresenceChannel(D,$);if(D.indexOf("#")===0)throw new w('Cannot create a channel with name "'+D+'".');return vo.createChannel(D,$)}}var Ub={createChannels(){return new zb},createConnectionManager(D,$){return new Nb(D,$)},createChannel(D,$){return new Kr(D,$)},createPrivateChannel(D,$){return new Yr(D,$)},createPresenceChannel(D,$){return new fu(D,$)},createEncryptedChannel(D,$,T){return new Fb(D,$,T)},createTimelineSender(D,$){return new du(D,$)},createHandshake(D,$){return new lu(D,$)},createAssistantToTheTransportManager(D,$,T){return new Bo(D,$,T)}},vo=Ub;class Mm{constructor($){this.options=$||{},this.livesLeft=this.options.lives||1/0}getAssistant($){return vo.createAssistantToTheTransportManager(this,$,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class wi{constructor($,T){this.strategies=$,this.loop=!!T.loop,this.failFast=!!T.failFast,this.timeout=T.timeout,this.timeoutLimit=T.timeoutLimit}isSupported(){return pe(this.strategies,he.method("isSupported"))}connect($,T){var H=this.strategies,G=0,ve=this.timeout,Ee=null,qe=(dt,Ct)=>{Ct?T(null,Ct):(G=G+1,this.loop&&(G=G%H.length),G<H.length?(ve&&(ve=ve*2,this.timeoutLimit&&(ve=Math.min(ve,this.timeoutLimit))),Ee=this.tryStrategy(H[G],$,{timeout:ve,failFast:this.failFast},qe)):T(!0))};return Ee=this.tryStrategy(H[G],$,{timeout:ve,failFast:this.failFast},qe),{abort:function(){Ee.abort()},forceMinPriority:function(dt){$=dt,Ee&&Ee.forceMinPriority(dt)}}}tryStrategy($,T,H,G){var ve=null,Ee=null;return H.timeout>0&&(ve=new je(H.timeout,function(){Ee.abort(),G(!0)})),Ee=$.connect(T,function(qe,dt){qe&&ve&&ve.isRunning()&&!H.failFast||(ve&&ve.ensureAborted(),G(qe,dt))}),{abort:function(){ve&&ve.ensureAborted(),Ee.abort()},forceMinPriority:function(qe){Ee.forceMinPriority(qe)}}}}class mu{constructor($){this.strategies=$}isSupported(){return pe(this.strategies,he.method("isSupported"))}connect($,T){return Vb(this.strategies,$,function(H,G){return function(ve,Ee){if(G[H].error=ve,ve){Hb(G)&&T(!0);return}fe(G,function(qe){qe.forceMinPriority(Ee.transport.priority)}),T(null,Ee)}})}}function Vb(D,$,T){var H=U(D,function(G,ve,Ee,qe){return G.connect($,T(ve,qe))});return{abort:function(){fe(H,Wb)},forceMinPriority:function(G){fe(H,function(ve){ve.forceMinPriority(G)})}}}function Hb(D){return Se(D,function($){return!!$.error})}function Wb(D){!D.error&&!D.aborted&&(D.abort(),D.aborted=!0)}class qb{constructor($,T,H){this.strategy=$,this.transports=T,this.ttl=H.ttl||1800*1e3,this.usingTLS=H.useTLS,this.timeline=H.timeline}isSupported(){return this.strategy.isSupported()}connect($,T){var H=this.usingTLS,G=Kb(H),ve=G&&G.cacheSkipCount?G.cacheSkipCount:0,Ee=[this.strategy];if(G&&G.timestamp+this.ttl>=he.now()){var qe=this.transports[G.transport];qe&&(["ws","wss"].includes(G.transport)||ve>3?(this.timeline.info({cached:!0,transport:G.transport,latency:G.latency}),Ee.push(new wi([qe],{timeout:G.latency*2+1e3,failFast:!0}))):ve++)}var dt=he.now(),Ct=Ee.pop().connect($,function Rt(ls,Cl){ls?(Tm(H),Ee.length>0?(dt=he.now(),Ct=Ee.pop().connect($,Rt)):T(ls)):(Yb(H,Cl.transport.name,he.now()-dt,ve),T(null,Cl))});return{abort:function(){Ct.abort()},forceMinPriority:function(Rt){$=Rt,Ct&&Ct.forceMinPriority(Rt)}}}}function pu(D){return"pusherTransport"+(D?"TLS":"NonTLS")}function Kb(D){var $=ct.getLocalStorage();if($)try{var T=$[pu(D)];if(T)return JSON.parse(T)}catch{Tm(D)}return null}function Yb(D,$,T,H){var G=ct.getLocalStorage();if(G)try{G[pu(D)]=Ke({timestamp:he.now(),transport:$,latency:T,cacheSkipCount:H})}catch{}}function Tm(D){var $=ct.getLocalStorage();if($)try{delete $[pu(D)]}catch{}}class kl{constructor($,{delay:T}){this.strategy=$,this.options={delay:T}}isSupported(){return this.strategy.isSupported()}connect($,T){var H=this.strategy,G,ve=new je(this.options.delay,function(){G=H.connect($,T)});return{abort:function(){ve.ensureAborted(),G&&G.abort()},forceMinPriority:function(Ee){$=Ee,G&&G.forceMinPriority(Ee)}}}}class Gr{constructor($,T,H){this.test=$,this.trueBranch=T,this.falseBranch=H}isSupported(){var $=this.test()?this.trueBranch:this.falseBranch;return $.isSupported()}connect($,T){var H=this.test()?this.trueBranch:this.falseBranch;return H.connect($,T)}}class Gb{constructor($){this.strategy=$}isSupported(){return this.strategy.isSupported()}connect($,T){var H=this.strategy.connect($,function(G,ve){ve&&H.abort(),T(G,ve)});return H}}function Xr(D){return function(){return D.isSupported()}}var Xb=function(D,$,T){var H={};function G(Nm,Gx,Xx,Jx,Qx){var zm=T(D,Nm,Gx,Xx,Jx,Qx);return H[Nm]=zm,zm}var ve=Object.assign({},$,{hostNonTLS:D.wsHost+":"+D.wsPort,hostTLS:D.wsHost+":"+D.wssPort,httpPath:D.wsPath}),Ee=Object.assign({},ve,{useTLS:!0}),qe=Object.assign({},$,{hostNonTLS:D.httpHost+":"+D.httpPort,hostTLS:D.httpHost+":"+D.httpsPort,httpPath:D.httpPath}),dt={loop:!0,timeout:15e3,timeoutLimit:6e4},Ct=new Mm({minPingDelay:1e4,maxPingDelay:D.activityTimeout}),Rt=new Mm({lives:2,minPingDelay:1e4,maxPingDelay:D.activityTimeout}),ls=G("ws","ws",3,ve,Ct),Cl=G("wss","ws",3,Ee,Ct),Hx=G("sockjs","sockjs",1,qe),Rm=G("xhr_streaming","xhr_streaming",1,qe,Rt),Wx=G("xdr_streaming","xdr_streaming",1,qe,Rt),jm=G("xhr_polling","xhr_polling",1,qe),qx=G("xdr_polling","xdr_polling",1,qe),Om=new wi([ls],dt),Kx=new wi([Cl],dt),Yx=new wi([Hx],dt),Im=new wi([new Gr(Xr(Rm),Rm,Wx)],dt),Lm=new wi([new Gr(Xr(jm),jm,qx)],dt),Fm=new wi([new Gr(Xr(Im),new mu([Im,new kl(Lm,{delay:4e3})]),Lm)],dt),yu=new Gr(Xr(Fm),Fm,Yx),bu;return $.useTLS?bu=new mu([Om,new kl(yu,{delay:2e3})]):bu=new mu([Om,new kl(Kx,{delay:2e3}),new kl(yu,{delay:5e3})]),new qb(new Gb(new Gr(Xr(ls),bu,yu)),H,{ttl:18e5,timeline:$.timeline,useTLS:$.useTLS})},Jb=Xb,Qb=function(){var D=this;D.timeline.info(D.buildTimelineMessage({transport:D.name+(D.options.useTLS?"s":"")})),D.hooks.isInitialized()?D.changeState("initialized"):D.hooks.file?(D.changeState("initializing"),m.load(D.hooks.file,{useTLS:D.options.useTLS},function($,T){D.hooks.isInitialized()?(D.changeState("initialized"),T(!0)):($&&D.onError($),D.onClose(),T(!1))})):D.onClose()},Zb={getRequest:function(D){var $=new window.XDomainRequest;return $.ontimeout=function(){D.emit("error",new x),D.close()},$.onerror=function(T){D.emit("error",T),D.close()},$.onprogress=function(){$.responseText&&$.responseText.length>0&&D.onChunk(200,$.responseText)},$.onload=function(){$.responseText&&$.responseText.length>0&&D.onChunk(200,$.responseText),D.emit("finished",200),D.close()},$},abortRequest:function(D){D.ontimeout=D.onerror=D.onprogress=D.onload=null,D.abort()}},ex=Zb;const tx=256*1024;class sx extends fn{constructor($,T,H){super(),this.hooks=$,this.method=T,this.url=H}start($){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ct.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send($)}close(){this.unloader&&(ct.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk($,T){for(;;){var H=this.advanceBuffer(T);if(H)this.emit("chunk",{status:$,data:H});else break}this.isBufferTooLong(T)&&this.emit("buffer_too_long")}advanceBuffer($){var T=$.slice(this.position),H=T.indexOf(`
`);return H!==-1?(this.position+=H+1,T.slice(0,H)):null}isBufferTooLong($){return this.position===$.length&&$.length>tx}}var gu;(function(D){D[D.CONNECTING=0]="CONNECTING",D[D.OPEN=1]="OPEN",D[D.CLOSED=3]="CLOSED"})(gu||(gu={}));var ki=gu,nx=1;class ox{constructor($,T){this.hooks=$,this.session=Dm(1e3)+"/"+lx(8),this.location=ix(T),this.readyState=ki.CONNECTING,this.openStream()}send($){return this.sendRaw(JSON.stringify([$]))}ping(){this.hooks.sendHeartbeat(this)}close($,T){this.onClose($,T,!0)}sendRaw($){if(this.readyState===ki.OPEN)try{return ct.createSocketRequest("POST",Am(rx(this.location,this.session))).start($),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose($,T,H){this.closeStream(),this.readyState=ki.CLOSED,this.onclose&&this.onclose({code:$,reason:T,wasClean:H})}onChunk($){if($.status===200){this.readyState===ki.OPEN&&this.onActivity();var T,H=$.data.slice(0,1);switch(H){case"o":T=JSON.parse($.data.slice(1)||"{}"),this.onOpen(T);break;case"a":T=JSON.parse($.data.slice(1)||"[]");for(var G=0;G<T.length;G++)this.onEvent(T[G]);break;case"m":T=JSON.parse($.data.slice(1)||"null"),this.onEvent(T);break;case"h":this.hooks.onHeartbeat(this);break;case"c":T=JSON.parse($.data.slice(1)||"[]"),this.onClose(T[0],T[1],!0);break}}}onOpen($){this.readyState===ki.CONNECTING?($&&$.hostname&&(this.location.base=ax(this.location.base,$.hostname)),this.readyState=ki.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent($){this.readyState===ki.OPEN&&this.onmessage&&this.onmessage({data:$})}onActivity(){this.onactivity&&this.onactivity()}onError($){this.onerror&&this.onerror($)}openStream(){this.stream=ct.createSocketRequest("POST",Am(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",$=>{this.onChunk($)}),this.stream.bind("finished",$=>{this.hooks.onFinished(this,$)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch($){he.defer(()=>{this.onError($),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function ix(D){var $=/([^\?]*)\/*(\??.*)/.exec(D);return{base:$[1],queryString:$[2]}}function rx(D,$){return D.base+"/"+$+"/xhr_send"}function Am(D){var $=D.indexOf("?")===-1?"?":"&";return D+$+"t="+ +new Date+"&n="+nx++}function ax(D,$){var T=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(D);return T[1]+$+T[3]}function Dm(D){return ct.randomInt(D)}function lx(D){for(var $=[],T=0;T<D;T++)$.push(Dm(32).toString(32));return $.join("")}var dx=ox,cx={getReceiveURL:function(D,$){return D.base+"/"+$+"/xhr_streaming"+D.queryString},onHeartbeat:function(D){D.sendRaw("[]")},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,$){D.onClose(1006,"Connection interrupted ("+$+")",!1)}},ux=cx,fx={getReceiveURL:function(D,$){return D.base+"/"+$+"/xhr"+D.queryString},onHeartbeat:function(){},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,$){$===200?D.reconnect():D.onClose(1006,"Connection interrupted ("+$+")",!1)}},hx=fx,mx={getRequest:function(D){var $=ct.getXHRAPI(),T=new $;return T.onreadystatechange=T.onprogress=function(){switch(T.readyState){case 3:T.responseText&&T.responseText.length>0&&D.onChunk(T.status,T.responseText);break;case 4:T.responseText&&T.responseText.length>0&&D.onChunk(T.status,T.responseText),D.emit("finished",T.status),D.close();break}},T},abortRequest:function(D){D.onreadystatechange=null,D.abort()}},px=mx,gx={createStreamingSocket(D){return this.createSocket(ux,D)},createPollingSocket(D){return this.createSocket(hx,D)},createSocket(D,$){return new dx(D,$)},createXHR(D,$){return this.createRequest(px,D,$)},createRequest(D,$,T){return new sx(D,$,T)}},Em=gx;Em.createXDR=function(D,$){return this.createRequest(ex,D,$)};var _x=Em,vx={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:f,getDefaultStrategy:Jb,Transports:Mn,transportConnectionInitializer:Qb,HTTPFactory:_x,TimelineTransport:Ds,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(D){window.Pusher=D;var $=()=>{this.onDocumentBody(D.ready)};window.JSON?$():m.load("json2",{},$)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:P,jsonp:gt}},onDocumentBody(D){document.body?D():setTimeout(()=>{this.onDocumentBody(D)},0)},createJSONPRequest(D,$){return new bt(D,$)},createScriptRequest(D){return new At(D)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var D=this.getXHRAPI();return new D},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return xi},createWebSocket(D){var $=this.getWebSocketAPI();return new $(D)},createSocketRequest(D,$){if(this.isXHRSupported())return this.HTTPFactory.createXHR(D,$);if(this.isXDRSupported($.indexOf("https:")===0))return this.HTTPFactory.createXDR(D,$);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var D=this.getXHRAPI();return!!D&&new D().withCredentials!==void 0},isXDRSupported(D){var $=D?"https:":"http:",T=this.getProtocol();return!!window.XDomainRequest&&T===$},addUnloadListener(D){window.addEventListener!==void 0?window.addEventListener("unload",D,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",D)},removeUnloadListener(D){window.addEventListener!==void 0?window.removeEventListener("unload",D,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",D)},randomInt(D){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*D)}},ct=vx,_u;(function(D){D[D.ERROR=3]="ERROR",D[D.INFO=6]="INFO",D[D.DEBUG=7]="DEBUG"})(_u||(_u={}));var $l=_u;class yx{constructor($,T,H){this.key=$,this.session=T,this.events=[],this.options=H||{},this.sent=0,this.uniqueID=0}log($,T){$<=this.options.level&&(this.events.push(we({},T,{timestamp:he.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error($){this.log($l.ERROR,$)}info($){this.log($l.INFO,$)}debug($){this.log($l.DEBUG,$)}isEmpty(){return this.events.length===0}send($,T){var H=we({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],$(H,(G,ve)=>{G||this.sent++,T&&T(G,ve)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class bx{constructor($,T,H,G){this.name=$,this.priority=T,this.transport=H,this.options=G||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect($,T){if(this.isSupported()){if(this.priority<$)return Pm(new M,T)}else return Pm(new E,T);var H=!1,G=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),ve=null,Ee=function(){G.unbind("initialized",Ee),G.connect()},qe=function(){ve=vo.createHandshake(G,function(ls){H=!0,Rt(),T(null,ls)})},dt=function(ls){Rt(),T(ls)},Ct=function(){Rt();var ls;ls=Ke(G),T(new C(ls))},Rt=function(){G.unbind("initialized",Ee),G.unbind("open",qe),G.unbind("error",dt),G.unbind("closed",Ct)};return G.bind("initialized",Ee),G.bind("open",qe),G.bind("error",dt),G.bind("closed",Ct),G.initialize(),{abort:()=>{H||(Rt(),ve?ve.close():G.close())},forceMinPriority:ls=>{H||this.priority<ls&&(ve?ve.close():G.close())}}}}function Pm(D,$){return he.defer(function(){$(D)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:xx}=ct;var wx=function(D,$,T,H,G,ve){var Ee=xx[T];if(!Ee)throw new N(T);var qe=(!D.enabledTransports||Ne(D.enabledTransports,$)!==-1)&&(!D.disabledTransports||Ne(D.disabledTransports,$)===-1),dt;return qe?(G=Object.assign({ignoreNullOrigin:D.ignoreNullOrigin},G),dt=new bx($,H,ve?ve.getAssistant(Ee):Ee,G)):dt=kx,dt},kx={isSupported:function(){return!1},connect:function(D,$){var T=he.defer(function(){$(new E)});return{abort:function(){T.ensureAborted()},forceMinPriority:function(){}}}};function $x(D){if(D==null)throw"You must pass an options object";if(D.cluster==null)throw"Options object must provide a cluster";"disableStats"in D&&De.warn("The disableStats option is deprecated in favor of enableStats")}const Cx=(D,$)=>{var T="socket_id="+encodeURIComponent(D.socketId);for(var H in $.params)T+="&"+encodeURIComponent(H)+"="+encodeURIComponent($.params[H]);if($.paramsProvider!=null){let G=$.paramsProvider();for(var H in G)T+="&"+encodeURIComponent(H)+"="+encodeURIComponent(G[H])}return T};var Sx=D=>{if(typeof ct.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return($,T)=>{const H=Cx($,D);ct.getAuthorizers()[D.transport](ct,H,D,k.UserAuthentication,T)}};const Mx=(D,$)=>{var T="socket_id="+encodeURIComponent(D.socketId);T+="&channel_name="+encodeURIComponent(D.channelName);for(var H in $.params)T+="&"+encodeURIComponent(H)+"="+encodeURIComponent($.params[H]);if($.paramsProvider!=null){let G=$.paramsProvider();for(var H in G)T+="&"+encodeURIComponent(H)+"="+encodeURIComponent(G[H])}return T};var Tx=D=>{if(typeof ct.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return($,T)=>{const H=Mx($,D);ct.getAuthorizers()[D.transport](ct,H,D,k.ChannelAuthorization,T)}};const Ax=(D,$,T)=>{const H={authTransport:$.transport,authEndpoint:$.endpoint,auth:{params:$.params,headers:$.headers}};return(G,ve)=>{const Ee=D.channel(G.channelName);T(Ee,H).authorize(G.socketId,ve)}};function Dx(D,$){let T={activityTimeout:D.activityTimeout||d.activityTimeout,cluster:D.cluster,httpPath:D.httpPath||d.httpPath,httpPort:D.httpPort||d.httpPort,httpsPort:D.httpsPort||d.httpsPort,pongTimeout:D.pongTimeout||d.pongTimeout,statsHost:D.statsHost||d.stats_host,unavailableTimeout:D.unavailableTimeout||d.unavailableTimeout,wsPath:D.wsPath||d.wsPath,wsPort:D.wsPort||d.wsPort,wssPort:D.wssPort||d.wssPort,enableStats:Ox(D),httpHost:Ex(D),useTLS:jx(D),wsHost:Px(D),userAuthenticator:Ix(D),channelAuthorizer:Fx(D,$)};return"disabledTransports"in D&&(T.disabledTransports=D.disabledTransports),"enabledTransports"in D&&(T.enabledTransports=D.enabledTransports),"ignoreNullOrigin"in D&&(T.ignoreNullOrigin=D.ignoreNullOrigin),"timelineParams"in D&&(T.timelineParams=D.timelineParams),"nacl"in D&&(T.nacl=D.nacl),T}function Ex(D){return D.httpHost?D.httpHost:D.cluster?`sockjs-${D.cluster}.pusher.com`:d.httpHost}function Px(D){return D.wsHost?D.wsHost:Rx(D.cluster)}function Rx(D){return`ws-${D}.pusher.com`}function jx(D){return ct.getProtocol()==="https:"?!0:D.forceTLS!==!1}function Ox(D){return"enableStats"in D?D.enableStats:"disableStats"in D?!D.disableStats:!1}function Ix(D){const $=Object.assign(Object.assign({},d.userAuthentication),D.userAuthentication);return"customHandler"in $&&$.customHandler!=null?$.customHandler:Sx($)}function Lx(D,$){let T;return"channelAuthorization"in D?T=Object.assign(Object.assign({},d.channelAuthorization),D.channelAuthorization):(T={transport:D.authTransport||d.authTransport,endpoint:D.authEndpoint||d.authEndpoint},"auth"in D&&("params"in D.auth&&(T.params=D.auth.params),"headers"in D.auth&&(T.headers=D.auth.headers)),"authorizer"in D&&(T.customHandler=Ax($,T,D.authorizer))),T}function Fx(D,$){const T=Lx(D,$);return"customHandler"in T&&T.customHandler!=null?T.customHandler:Tx(T)}class Nx extends fn{constructor($){super(function(T,H){De.debug(`No callbacks on watchlist events for ${T}`)}),this.pusher=$,this.bindWatchlistInternalEvent()}handleEvent($){$.data.events.forEach(T=>{this.emit(T.name,T)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",$=>{var T=$.event;T==="pusher_internal:watchlist_events"&&this.handleEvent($)})}}function zx(){let D,$;return{promise:new Promise((H,G)=>{D=H,$=G}),resolve:D,reject:$}}var Bx=zx;class Ux extends fn{constructor($){super(function(T,H){De.debug("No callbacks on user for "+T)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(T,H)=>{if(T){De.warn(`Error during signin: ${T}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:H.auth,user_data:H.user_data})},this.pusher=$,this.pusher.connection.bind("state_change",({previous:T,current:H})=>{T!=="connected"&&H==="connected"&&this._signin(),T==="connected"&&H!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Nx($),this.pusher.connection.bind("message",T=>{var H=T.event;H==="pusher:signin_success"&&this._onSigninSuccess(T.data),this.serverToUserChannel&&this.serverToUserChannel.name===T.channel&&this.serverToUserChannel.handleEvent(T)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess($){try{this.user_data=JSON.parse($.user_data)}catch{De.error(`Failed parsing user data after signin: ${$.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){De.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const $=T=>{T.subscriptionPending&&T.subscriptionCancelled?T.reinstateSubscription():!T.subscriptionPending&&this.pusher.connection.state==="connected"&&T.subscribe()};this.serverToUserChannel=new Kr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((T,H)=>{T.indexOf("pusher_internal:")===0||T.indexOf("pusher:")===0||this.emit(T,H)}),$(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:$,resolve:T,reject:H}=Bx();$.done=!1;const G=()=>{$.done=!0};$.then(G).catch(G),this.signinDonePromise=$,this._signinDoneResolve=T}}class bs{static ready(){bs.isReady=!0;for(var $=0,T=bs.instances.length;$<T;$++)bs.instances[$].connect()}static getClientFeatures(){return Oe(Z({ws:ct.Transports.ws},function($){return $.isSupported({})}))}constructor($,T){Vx($),$x(T),this.key=$,this.config=Dx(T,this),this.channels=vo.createChannels(),this.global_emitter=new fn,this.sessionID=ct.randomInt(1e9),this.timeline=new yx(this.key,this.sessionID,{cluster:this.config.cluster,features:bs.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:$l.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=vo.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ct.TimelineTransport.name}));var H=G=>ct.getDefaultStrategy(this.config,G,wx);this.connection=vo.createConnectionManager(this.key,{getStrategy:H,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",G=>{var ve=G.event,Ee=ve.indexOf("pusher_internal:")===0;if(G.channel){var qe=this.channel(G.channel);qe&&qe.handleEvent(G)}Ee||this.global_emitter.emit(G.event,G.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",G=>{De.warn(G)}),bs.instances.push(this),this.timeline.info({instances:bs.instances.length}),this.user=new Ux(this),bs.isReady&&this.connect()}channel($){return this.channels.find($)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var $=this.connection.isUsingTLS(),T=this.timelineSender;this.timelineSenderTimer=new ot(6e4,function(){T.send($)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind($,T,H){return this.global_emitter.bind($,T,H),this}unbind($,T,H){return this.global_emitter.unbind($,T,H),this}bind_global($){return this.global_emitter.bind_global($),this}unbind_global($){return this.global_emitter.unbind_global($),this}unbind_all($){return this.global_emitter.unbind_all(),this}subscribeAll(){var $;for($ in this.channels.channels)this.channels.channels.hasOwnProperty($)&&this.subscribe($)}subscribe($){var T=this.channels.add($,this);return T.subscriptionPending&&T.subscriptionCancelled?T.reinstateSubscription():!T.subscriptionPending&&this.connection.state==="connected"&&T.subscribe(),T}unsubscribe($){var T=this.channels.find($);T&&T.subscriptionPending?T.cancelSubscription():(T=this.channels.remove($),T&&T.subscribed&&T.unsubscribe())}send_event($,T,H){return this.connection.send_event($,T,H)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}bs.instances=[],bs.isReady=!1,bs.logToConsole=!1,bs.Runtime=ct,bs.ScriptReceivers=ct.ScriptReceivers,bs.DependenciesReceivers=ct.DependenciesReceivers,bs.auth_callbacks=ct.auth_callbacks;var vu=n.default=bs;function Vx(D){if(D==null)throw"You must pass your app key when you instantiate Pusher."}ct.setup(bs)}])})})(ab);var RT=ab.exports;const jT=PT(RT);let da=null,dh=!0;async function OT(){if(da||(da=new(window.AudioContext||window.webkitAudioContext)),da.state==="suspended")try{await da.resume()}catch{}return da}async function IT(){const s=await OT(),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.value=800,e.type="sine";const n=s.currentTime;t.gain.setValueAtTime(0,n),t.gain.linearRampToValueAtTime(.3*qg(),n+.01),t.gain.exponentialRampToValueAtTime(.01,n+.3),e.start(n),e.stop(n+.3),setTimeout(()=>{const i=s.createOscillator(),r=s.createGain();i.connect(r),r.connect(s.destination),i.frequency.value=1e3,i.type="sine";const a=s.currentTime;r.gain.setValueAtTime(0,a),r.gain.linearRampToValueAtTime(.3*qg(),a+.01),r.gain.exponentialRampToValueAtTime(.01,a+.3),i.start(a),i.stop(a+.3)},150)}async function LT(){if(dh)try{await IT()}catch{}}function FT(){const s=localStorage.getItem("notification_sound_enabled");return s!==null&&(dh=s==="true"),dh}function qg(){const s=localStorage.getItem("notification_volume");return s?parseFloat(s):.5}typeof window<"u"&&FT();const NT={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Notifications"},zT={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},BT={class:"absolute mt-2 w-48 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},UT={key:0,class:"py-4 text-center text-sm text-gray-700"},VT={key:1},HT=["href","onClick"],WT=_e({__name:"_NotificationsDropdown",setup(s){const e=I([]),t=I();window.Pusher=jT;let n=null,i=0;function r(){ce.get("notifications").then(d=>{const c=d.data.new;c>i&&i>=0&&LT(),i=c,t.value=c,e.value=d.data.notifications})}r(),n=window.setInterval(()=>{document.hasFocus()&&r()},1e4),Us(()=>{n&&clearInterval(n)});function a(d){d&&t.value&&ce.post("/notifications/read").then(c=>{c.data.success&&(t.value=0,i=0)})}function l(d){return{"App\\Notifications\\ProjectAssigned":"/projects/"+d.data.item_id,"App\\Notifications\\TaskAssigned":"/projects/"+d.data.project_id}[d.type]}return(d,c)=>{const f=cn("router-link");return _(),ie(h(Hs),{onToggle:a},{trigger:K(()=>[o("button",NT,[c[0]||(c[0]=o("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),t.value?(_(),y("div",zT,u(t.value>9?"9+":t.value),1)):j("",!0)])]),content:K(()=>[o("div",BT,[e.value.length?(_(),y("div",VT,[(_(!0),y(de,null,ye(e.value,m=>(_(),ie(f,{key:m.id,custom:"",to:l(m)},{default:K(({href:p,navigate:g})=>[o("a",{href:p,class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",role:"menuitem",onClick:g},u(m.data.message),9,HT)]),_:2},1032,["to"]))),128))])):(_(),y("p",UT,u(d.__("No Notifications!")),1))])]),_:1})}}}),qT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},KT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},YT={class:"py-1",role:"none"},GT={class:"flex-1 font-medium ltr:ml-2 rtl:mr-2"},XT=_e({__name:"_RecentDropdown",setup(s){const e=I([]);return ce.get("recent-projects").then(t=>{e.value=t.data}),(t,n)=>{const i=cn("router-link");return _(),ie(h(Hs),null,{trigger:K(()=>[o("button",qT,[o("span",null,u(t.__("Recent")),1),n[0]||(n[0]=o("div",{class:"ltr:ml-1 rtl:mr-1"},[o("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:K(()=>[o("div",KT,[z(o("p",{class:"px-4 py-4 text-sm text-gray-700"},u(t.__("There are no data")),513),[[zt,!e.value.length]]),z(o("div",YT,[(_(!0),y(de,null,ye(e.value,r=>(_(),ie(i,{key:r.name,class:"flex items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",to:"/projects/"+r.project_id},{default:K(()=>[o("span",{class:"block h-2 w-2 rounded-full",style:wt({"background-color":r.project.meta.color})},"",4),o("span",GT,u(r.project.name),1)]),_:2},1032,["to"]))),128))],512),[[zt,e.value.length]])])]),_:1})}}}),JT={id:"logout-form",method:"POST",action:"/logout"},QT=["value"],ZT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},eA={class:"ltr:ml-2 rtl:mr-2"},tA={class:"absolute mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},sA={class:"divide-y divide-gray-100"},nA={class:"px-4 py-2.5"},oA={class:"block text-xs font-normal text-gray-500"},iA={class:"mt-0.5 block truncate text-sm font-normal text-gray-600",role:"none"},rA={class:"py-1",role:"none"},aA=_e({__name:"ProfileDropdown",setup(s){const e=_t.user,t=_t.csrf_token;function n(){document.querySelector("#logout-form").submit()}return(i,r)=>{const a=cn("RouterLink");return _(),ie(h(Hs),null,{trigger:K(()=>[o("form",JT,[o("input",{type:"hidden",name:"_token",value:h(t)},null,8,QT)]),o("button",ZT,[S(h(rs),{avatar:h(e).avatar,class:"h-8 w-8"},null,8,["avatar"]),o("div",eA,u(h(e).name),1),r[0]||(r[0]=o("div",{class:"ltr:ml-1 rtl:mr-1"},[o("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:K(()=>[o("div",tA,[o("div",sA,[o("p",nA,[o("span",oA,u(i.__("Signed in as")),1),o("span",iA,u(h(e).email),1)]),o("div",rA,[S(a,{to:"/profile",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:K(()=>[Q(u(i.__("Profile")),1)]),_:1}),i.can("setting:general")?(_(),ie(a,{key:0,to:"/settings/general",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:K(()=>[Q(u(i.__("Settings")),1)]),_:1})):j("",!0),o("a",{href:"/logout",class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",onClick:We(n,["prevent"])},u(i.__("Logout")),1)])])])]),_:1})}}}),lA={key:0},dA={class:"flex items-center space-x-2"},cA={class:"flex flex-col leading-tight"},uA={class:"text-lg font-bold"},fA={class:"text-sm"},hA={class:"contract-tooltip"},mA={class:"mt-1 text-xs"},pA={key:0,class:"mt-0.5"},gA={class:"contract-modal-header"},_A={class:"contract-modal-body"},vA={class:"font-bold"},yA={class:"details-grid"},bA={class:"detail-item"},xA={class:"detail-value"},wA={class:"detail-item"},kA={class:"detail-value"},$A={class:"detail-item"},CA={class:"detail-value countdown-value"},SA={key:0,class:"urgency-message"},MA={class:"contract-modal-footer"},TA=_e({__name:"ContractCountdown",setup(s){const e=Pe(()=>_t.contract_days_remaining),t=I(!1);function n(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}function i(l){return l?{"fixed-term":"Fixed Term",permanent:"Permanent",freelance:"Freelance"}[l]||l:"Fixed Term"}function r(){return e.value?e.value<=30?"Expiring Soon":e.value<=90?"Active (Reminder)":"Active":"Unknown"}function a(){return e.value?e.value<=30?"status-urgent":e.value<=90?"status-warning":"status-normal":""}return(l,d)=>e.value!==null&&h(_t).employment_type==="Contract"?(_(),y("div",lA,[o("div",{class:ee(["contract-countdown-badge",{"contract-urgent":e.value<=30,"contract-warning":e.value>30&&e.value<=90,"contract-normal":e.value>90}]),onClick:d[0]||(d[0]=c=>t.value=!0)},[o("div",dA,[d[6]||(d[6]=o("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),o("div",cA,[d[5]||(d[5]=o("span",{class:"text-xs font-medium opacity-90"},"Contract Ends In",-1)),o("span",uA,[Q(u(e.value)+" ",1),o("span",fA,u(e.value===1?"day":"days"),1)])])]),o("div",hA,[d[7]||(d[7]=o("div",{class:"text-xs font-semibold"},"Click for Details",-1)),o("div",mA,[o("div",null,"End Date: "+u(n(h(_t).user.contract_end_date)),1),h(_t).user.contract_type?(_(),y("div",pA," Type: "+u(i(h(_t).user.contract_type)),1)):j("",!0)])])],2),t.value?(_(),y("div",{key:0,class:"contract-modal-overlay",onClick:d[4]||(d[4]=c=>t.value=!1)},[o("div",{class:"contract-modal",onClick:d[3]||(d[3]=We(()=>{},["stop"]))},[o("div",gA,[d[9]||(d[9]=o("h3",{class:"text-xl font-bold text-gray-900"},"Contract Information",-1)),o("button",{class:"close-button",onClick:d[1]||(d[1]=c=>t.value=!1)},[...d[8]||(d[8]=[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",_A,[o("div",{class:ee(["status-badge",a()])},[d[10]||(d[10]=o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",vA,"Status: "+u(r()),1)],2),o("div",yA,[o("div",bA,[d[11]||(d[11]=o("div",{class:"detail-label"},"Contract Type",-1)),o("div",xA,u(i(h(_t).user.contract_type)),1)]),o("div",wA,[d[12]||(d[12]=o("div",{class:"detail-label"},"End Date",-1)),o("div",kA,u(n(h(_t).user.contract_end_date)),1)]),o("div",$A,[d[13]||(d[13]=o("div",{class:"detail-label"},"Days Remaining",-1)),o("div",CA,u(e.value)+" "+u(e.value===1?"day":"days"),1)]),d[14]||(d[14]=_i('<div class="detail-item" data-v-881d3395><div class="detail-label" data-v-881d3395>Renewal Status</div><div class="detail-value renewal-status" data-v-881d3395><svg class="h-5 w-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-881d3395><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-881d3395></path></svg><span data-v-881d3395>Non-renewable</span></div></div>',1))]),e.value<=30?(_(),y("div",SA,[...d[15]||(d[15]=[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),o("div",null,[o("div",{class:"font-bold"},"Urgent: Contract Expiring Soon"),o("div",{class:"text-sm"},"Please contact HR if you need assistance regarding your contract.")],-1)])])):j("",!0)]),o("div",MA,[o("button",{class:"modal-button",onClick:d[2]||(d[2]=c=>t.value=!1)}," Close ")])])])):j("",!0)])):j("",!0)}});const AA=tm(TA,[["__scopeId","data-v-881d3395"]]),DA={class:"relative z-10 flex h-16 flex-shrink-0 bg-white shadow"},EA={class:"flex flex-1 justify-between px-4"},PA={class:"flex flex-1 items-center px-4"},RA={class:"flex items-center ltr:ml-4 rtl:mr-4 ltr:md:ml-6 rtl:md:mr-6"},jA=_e({__name:"Header",setup(s){const e=Cc();return(t,n)=>(_(),y("div",DA,[o("button",{class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:n[0]||(n[0]=i=>h(e).isMobileSidebar=!0)},[n[1]||(n[1]=o("span",{class:"sr-only"},"Open sidebar",-1)),S(h(Tv),{class:"h-6 w-6","aria-hidden":"true"})]),o("div",EA,[o("div",PA,[S(XT),t.can("project:create")||t.can("user:create")?(_(),ie(ET,{key:0,class:"ltr:ml-6 rtl:mr-6"})):j("",!0)]),o("div",RA,[S(dT),S(y6,{class:"ltr:ml-5 ltr:mr-5 rtl:ml-5 rtl:mr-5"}),S(LM),S(AA,{class:"ltr:ml-5 rtl:mr-5"}),S(WT,{class:"ltr:ml-5 rtl:mr-5"}),S(aA,{class:"ltr:ml-5 rtl:mr-5"})])])]))}}),bm=un("favorite",()=>{const s=I([]);async function e(){const{data:t}=await ce.get("favorites");s.value=t}return{items:s,fetch:e}}),OA={class:"text-gray-400 hover:text-gray-200"},IA={class:"absolute bottom-6 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},LA={class:"py-1",role:"none"},FA=_e({__name:"ProjectMenu",props:{id:{},index:{},isFavorite:{}},emits:["toggleMenu"],setup(s,{emit:e}){const t=s,n=e,i=I(t.isFavorite);function r(c){n("toggleMenu",{state:c,index:t.index})}function a(){ce.patch("/projects/"+t.id+"/favorite").then(({data:c})=>{bm().items=c.favorites.favorites,i.value=c.favorite})}function l(){ce.patch(`projects/${t.id}/archive`).then(()=>{window.location.href="/"})}function d(){Ft().add(su,{id:t.id})}return(c,f)=>(_(),ie(h(Hs),{name:"sidebar-project-menu-"+s.id,onToggle:r},{trigger:K(()=>[o("span",OA,[S(h(r$),{class:"h-4 w-4"})])]),content:K(()=>[o("div",IA,[o("div",LA,[o("button",{class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(a,["prevent"])},u(i.value?c.__("Remove favorite"):c.__("Add to favorite")),1),c.can("project:update")?(_(),y("button",{key:0,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(d,["prevent"])},u(c.__("Edit")),1)):j("",!0),c.can("project:delete")?(_(),y("button",{key:1,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(l,["prevent"])},u(c.__("Archive")),1)):j("",!0)])])]),_:1},8,["name"]))}}),NA={class:"mt-6"},zA={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},BA={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},UA={class:"ml-auto flex items-center gap-1"},VA=["href","onClick"],HA={class:"mt-2 space-y-0.5"},WA=["href","onClick"],qA={class:"flex-1 truncate"},KA=_e({__name:"Index",setup(s){const e=Je("can"),t=ym(),n=Ln(),i=Pe(()=>n.currentRoute.value.path),r=I(null);function a(d){return i.value.startsWith(d)}function l(d){d.state?r.value=d.index:r.value==d.index&&(r.value=null)}return(d,c)=>{const f=cn("RouterLink");return _(),y("section",NA,[S(h(Yc),null,{trigger:K(({open:m})=>[o("div",zA,[(_(),y("svg",{viewBox:"0 0 16 16",class:ee(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!m,"rotate-0":m}])},[...c[1]||(c[1]=[o("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),o("h3",BA,u(d.__("Projects")),1),o("div",UA,[S(f,{to:"/projects",custom:""},{default:K(({href:p,navigate:g})=>[o("a",{href:p,"data-cy":"projects-index-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:We(g,["stop"])},[S(h(d$),{class:"h-4 w-4"})],8,VA)]),_:1}),h(e)("project:create")?(_(),y("span",{key:0,"data-cy":"create-project-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:c[0]||(c[0]=We((...p)=>h(t).create&&h(t).create(...p),["stop"]))},[S(h(Sn),{class:"h-4 w-4"})])):j("",!0)])])]),content:K(()=>[o("div",HA,[(_(!0),y(de,null,ye(h(t).items.filter(m=>m&&m.id),(m,p)=>(_(),ie(f,{key:m.id||p,to:`/projects/${m.id}`,custom:""},{default:K(({navigate:g,href:v,route:k})=>[o("a",{href:v,class:ee([a(k.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:g},[o("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:wt({"background-color":m.meta.color,"box-shadow":`0 0 8px ${m.meta.color}40`})},null,4),o("span",qA,u(m.name),1),S(FA,{id:m.id,index:p,"is-favorite":m.is_favorite,class:ee(["group-hover:block",{hidden:r.value!=p}]),onToggleMenu:l},null,8,["id","index","is-favorite","class"])],10,WA)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),YA={class:"mt-6"},GA={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},XA={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},JA={class:"mt-2 space-y-0.5"},QA=["href","onClick"],ZA={class:"flex-1 truncate"},eD=_e({__name:"Index",setup(s){const e=Ln(),t=Pe(()=>e.currentRoute.value.path),n=bm();n.fetch();function i(r){return t.value.startsWith(r)}return(r,a)=>{const l=cn("RouterLink");return _(),y("section",YA,[S(h(Yc),null,{trigger:K(({open:d})=>[o("div",GA,[(_(),y("svg",{viewBox:"0 0 16 16",class:ee(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!d,"rotate-0":d}])},[...a[0]||(a[0]=[o("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),o("h3",XA,u(r.__("Favorites")),1)])]),content:K(()=>[o("div",JA,[(_(!0),y(de,null,ye(h(n).items,d=>(_(),ie(l,{key:d.project.name,to:`/projects/${d.project.id}`,custom:""},{default:K(({navigate:c,href:f,route:m})=>[o("a",{href:f,class:ee([i(m.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:c},[o("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:wt({"background-color":d.project.meta.color,"box-shadow":`0 0 8px ${d.project.meta.color}40`})},null,4),o("span",ZA,u(d.project.name),1)],10,QA)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),tD={class:"hidden md:flex md:flex-shrink-0"},sD={class:"flex w-64 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 shadow-2xl"},nD={class:"flex h-0 flex-1 flex-col"},oD={class:"sidebar-nav flex flex-1 flex-col overflow-y-auto scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-600"},iD={class:"flex-1 space-y-1 px-3 py-4"},rD=_e({__name:"Sidebar",setup(s){return(e,t)=>{const n=cn("RouterLink");return _(),y("div",tD,[o("div",sD,[o("div",nD,[S(n,{to:"/",class:"group relative flex h-16 flex-shrink-0 items-center border-b border-gray-700/50 bg-gray-900/80 px-4 backdrop-blur-sm transition-all duration-200 hover:bg-gray-800/80"},{default:K(()=>[t[0]||(t[0]=o("div",{class:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"},null,-1)),S(Nv)]),_:1}),o("div",oD,[o("nav",iD,[S(Fv),S(eD),S(KA)])])])])])}}}),aD={key:0,class:"fixed top-0 left-0 right-0 z-[300] flex items-center justify-center gap-4 bg-yellow-500 px-4 py-2 text-sm font-medium text-yellow-900"},lD={__name:"ImpersonationBanner",setup(s){const e=Pe(()=>_t.is_impersonating),t=Pe(()=>{var i;return((i=_t.user)==null?void 0:i.name)||"Unknown"}),n=async()=>{var i,r;try{const a=await ce.post("impersonate/stop");alert(a.data.message),window.location.href="/"}catch(a){alert(((r=(i=a.response)==null?void 0:i.data)==null?void 0:r.message)||"Failed to stop impersonating")}};return(i,r)=>e.value?(_(),y("div",aD,[o("span",null,[Q(u(i.__("You are logged in as"))+" ",1),o("strong",null,u(t.value),1)]),o("button",{type:"button",class:"rounded-md bg-yellow-600 px-3 py-1 text-xs font-semibold text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",onClick:n},u(i.__("Return to your account")),1)])):j("",!0)}};function dD(s={}){const e=Ln(),t=I(null),n=I(!0),i=I(Date.now()),r=I(!1),a=I(null),l=I(!0),d=I(!1);let c=null,f=null,m=null;function p(){return`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function g(){return{page_url:window.location.href,page_title:document.title}}function v(){var A;if(!((A=a.value)!=null&&A.exception_urls))return!1;const R=window.location.hostname.replace(/^www\./,"");return a.value.exception_urls.some(F=>{try{const be=new URL(F).hostname.replace(/^www\./,"");return R===be}catch{return!1}})}async function k(){try{const R=await ce.get("activity/settings");return a.value=R.data,l.value=R.data.enabled??!0,d.value=R.data.is_clocked_in??!1,R.data}catch{return null}}async function b(){try{if(await k(),!l.value||!d.value||v())return;t.value=p();const{page_url:R}=g();await ce.post("activity/session/start",{session_id:t.value,page_url:R}),r.value=!0,N()}catch{}}async function w(){if(!(!t.value||!n.value)&&!v()&&l.value&&d.value)try{const R=g();await ce.post("activity/heartbeat",{session_id:t.value,...R})}catch{}}async function x(){if(m){if(v()||!l.value||!d.value){m=null;return}try{const R=g();await ce.post("activity/return",{away_from:new Date(m).toISOString(),...R}),m=null}catch{}}}async function M(){if(t.value){try{await ce.post("activity/session/end",{session_id:t.value})}catch{}E(),t.value=null}}function C(){const R=Date.now();n.value||(n.value=!0,x()),i.value=R}function O(){var be;if(!l.value||v()||!d.value)return;const R=(((be=a.value)==null?void 0:be.inactivity_threshold)??5)*60*1e3;Date.now()-i.value>=R&&n.value&&(n.value=!1,m=i.value)}function N(){var A;const R=(((A=a.value)==null?void 0:A.heartbeat_interval)??60)*1e3;c=setInterval(w,R),f=setInterval(O,1e4)}function E(){c&&(clearInterval(c),c=null),f&&(clearInterval(f),f=null)}function B(){const R=["mousedown","mousemove","keydown","scroll","touchstart","click"];return R.forEach(A=>{document.addEventListener(A,C,{passive:!0})}),document.addEventListener("visibilitychange",L),window.addEventListener("beforeunload",P),()=>{R.forEach(A=>{document.removeEventListener(A,C)}),document.removeEventListener("visibilitychange",L),window.removeEventListener("beforeunload",P)}}function L(){var R;if(document.hidden)m=Date.now(),n.value=!1;else{if(m){const A=(((R=a.value)==null?void 0:R.inactivity_threshold)??5)*60*1e3;Date.now()-m>=A?x():m=null}n.value=!0,i.value=Date.now()}}function P(){if(t.value){const R=JSON.stringify({session_id:t.value});navigator.sendBeacon("/api/activity/session/end",R)}}return Et(()=>e.currentRoute.value.path,()=>{r.value&&w()}),Ye(()=>{const R=B();b(),Us(()=>{R(),E(),M()})}),{sessionId:t,isActive:n,lastActivityTime:i,isInitialized:r,settings:a,isMonitoringEnabled:l,isClockedIn:d}}const cD=_e({setup(){return dD(),()=>S(de,null,[S(lD,null,null),S("div",{class:"flex h-screen overflow-hidden bg-gray-100"},[S(I$,null,null),S(rD,null,null),S("div",{class:"flex w-0 flex-1 flex-col overflow-hidden"},[S(jA,null,null),S("main",{class:"relative flex-1 overflow-y-auto px-8 py-6"},[S(Nh,null,null)])]),S(mM,null,null),S(pM,null,null)])])}}),uD=_e({setup(){const s=Cc();return()=>s.isBlankPage?S(Nh,null,null):S(cD,null,null)}}),lb=T5(uD),fD=_e({__name:"NotFound",setup(s){return(e,t)=>(_(),ie(h(dy),{code:"404",heading:"Page not found",description:"Please check the URL in the address bar and try again."}))}}),hD=_e({__name:"Forbidden",setup(s){return(e,t)=>(_(),ie(h(dy),{code:"403",heading:"Forbidden",description:"Unauthorized Access."}))}}),xm=un("home",()=>{const s=I(!0),e=I(),t=I();n();async function n(){try{const[a,l]=await Promise.all([i(),r()]);e.value=a.data,t.value=l.data}catch{}finally{s.value=!1}}function i(){return ce.get("metrics")}function r(){return ce.get("charts")}return{charts:t,fetching:s,metrics:e}}),mD={class:"grid grid-cols-12 gap-6"},pD={class:"col-span-12 lg:col-span-6"},gD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},_D={class:"text-lg font-semibold text-gray-900"},vD={style:{height:"300px"}},yD={class:"col-span-12 lg:col-span-6"},bD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},xD={class:"text-lg font-semibold text-gray-900"},wD={style:{height:"300px"}},kD=_e({__name:"_Charts",setup(s){const e=xm();return(t,n)=>(_(),y("section",mD,[o("div",pD,[S(h(fi),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:K(()=>{var i;return[o("div",gD,[o("div",null,[o("h3",_D,u(t.__("Completed in the last 7 days")),1),n[0]||(n[0]=o("p",{class:"mt-1 text-xs text-gray-500"}," Weekly task completion trend ",-1))]),n[1]||(n[1]=o("span",{class:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700"}," 7 Days ",-1))]),o("div",vD,[S(h(lh),{id:"tasks-chart",data:(i=h(e).charts)==null?void 0:i.chart_tasks_weekly,"tooltip-label":"Tasks","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]}),_:1})]),o("div",yD,[S(h(fi),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:K(()=>{var i;return[o("div",bD,[o("div",null,[o("h3",xD,u(t.__("Most productive month")),1),n[2]||(n[2]=o("p",{class:"mt-1 text-xs text-gray-500"}," Yearly performance overview ",-1))]),n[3]||(n[3]=o("span",{class:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700"}," 12 Months ",-1))]),o("div",wD,[S(h(lh),{id:"tasks-chart-yearly",data:(i=h(e).charts)==null?void 0:i.chart_tasks_yearly,"tooltip-label":"Tasks","background-color":"rgba(147, 51, 234, 0.1)","border-color":"#9333EA"},null,8,["data"])])]}),_:1})])]))}}),$D={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},CD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md"},SD={class:"flex items-center gap-3"},MD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100"},TD={class:"text-sm font-medium text-gray-600"},AD={class:"mt-4"},DD={class:"text-3xl font-bold text-gray-900"},ED={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-green-300 hover:shadow-md"},PD={class:"flex items-center gap-3"},RD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100"},jD={class:"text-sm font-medium text-gray-600"},OD={class:"mt-4"},ID={class:"text-3xl font-bold text-gray-900"},LD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-300 hover:shadow-md"},FD={class:"flex items-center gap-3"},ND={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100"},zD={class:"text-sm font-medium text-gray-600"},BD={class:"mt-4"},UD={class:"text-3xl font-bold text-gray-900"},VD=_e({__name:"_Metrics",setup(s){const e=xm();return(t,n)=>{var i,r,a;return _(),y("section",null,[o("dl",$D,[o("div",CD,[o("dt",SD,[o("div",MD,[S(h(Yh),{class:"h-6 w-6 text-indigo-600"})]),o("p",TD,u(t.__("Open Tasks")),1)]),o("dd",AD,[o("p",DD,u((i=h(e).metrics)==null?void 0:i.open_tasks),1),n[0]||(n[0]=o("div",{class:"mt-3 flex items-center text-sm"},[o("span",{class:"inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700"}," In Progress ")],-1))])]),o("div",ED,[o("dt",PD,[o("div",RD,[S(h(ys),{class:"h-6 w-6 text-green-600"})]),o("p",jD,u(t.__("Completed Tasks")),1)]),o("dd",OD,[o("p",ID,u((r=h(e).metrics)==null?void 0:r.completed_tasks),1),n[1]||(n[1]=o("div",{class:"mt-3 flex items-center text-sm"},[o("span",{class:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-0.5 text-xs font-medium text-green-700"}," Finished ")],-1))])]),o("div",LD,[o("dt",FD,[o("div",ND,[S(h(dn),{class:"h-6 w-6 text-purple-600"})]),o("p",zD,u(t.__("Total Projects")),1)]),o("dd",BD,[o("p",UD,u((a=h(e).metrics)==null?void 0:a.total_projects),1),n[2]||(n[2]=o("div",{class:"mt-3 flex items-center text-sm"},[o("span",{class:"inline-flex items-center rounded-full bg-purple-50 px-2.5 py-0.5 text-xs font-medium text-purple-700"}," Active ")],-1))])])])])}}}),HD={key:1,class:"space-y-8"},WD={class:"flex items-center justify-between border-b border-gray-200 pb-5"},qD={class:"text-3xl font-bold text-gray-900"},KD={key:0,class:"text-right"},YD={class:"flex items-center justify-end gap-2"},GD={class:"text-sm font-medium text-gray-500"},XD={key:0,class:"inline-flex items-center rounded-full bg-indigo-100 px-2 py-0.5 text-xs font-medium text-indigo-800"},JD={class:"mt-1 text-lg font-semibold text-gray-900"},QD={class:"text-xs text-gray-500"},ZD=_e({__name:"Home",setup(s){const e=Je("__"),t=xm(),n=I(null),i=async()=>{try{const r=await ce.get("working-hours/my-hours");n.value=r.data}catch{}};return Ye(()=>{i()}),(r,a)=>h(t).fetching?(_(),ie(h(St),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),y("div",HD,[o("div",WD,[o("div",null,[o("h1",qD,u(h(e)("Dashboard")),1),a[0]||(a[0]=o("p",{class:"mt-1 text-sm text-gray-500"}," Welcome back! Here's what's happening with your tasks today. ",-1))]),n.value?(_(),y("div",KD,[o("div",YD,[S(h(Zs),{class:ee(["h-5 w-5",n.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"]),o("span",GD,u(h(e)("Your Working Hours")),1),n.value.has_custom_hours?(_(),y("span",XD,u(h(e)("Custom")),1)):j("",!0)]),o("p",JD,u(n.value.formatted_start)+" - "+u(n.value.formatted_end),1),o("p",QD,u(n.value.has_custom_hours?n.value.effective_period:h(e)("Standard working hours apply to you.")),1)])):j("",!0)]),S(VD),S(kD)]))}}),eE={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},tE={class:"sm:col-span-2"},sE=["src"],nE={key:1,class:"inline-block h-24 w-24 overflow-hidden rounded-full bg-gray-200"},oE=_e({__name:"FieldAvatar",setup(s){const e=fs("profile")(),t=512,n=512,i=I();i.value=e.data.avatar;function r(a){if(!a.target.files.length)return;let l=a.target.files[0],d=a.target,c=new FileReader;c.readAsDataURL(l),c.onload=f=>{let m=new Image;m.src=f.target.result,m.onload=function(){if(m.width>t||m.height>n){alert("you can upload max "+t+" x "+n),d.value=null;return}i.value=f.target.result;const p=new FormData;p.append("avatar",l),ce.post("avatar",p)}}}return(a,l)=>(_(),y("div",eE,[l[2]||(l[2]=o("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"  ",-1)),o("div",tE,[i.value?(_(),y("img",{key:0,class:"h-24 w-24 rounded-full",src:i.value},null,8,sE)):(_(),y("span",nE,[...l[0]||(l[0]=[o("svg",{class:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])])),l[1]||(l[1]=o("label",{for:"avatar",class:"mt-2 block w-24 cursor-pointer text-center text-sm text-gray-600"}," Change ",-1)),o("input",{id:"avatar",type:"file",class:"hidden",accept:"image/*",name:"avatar",onChange:r},null,32)])]))}}),iE={key:0,class:"overflow-hidden rounded-lg bg-white shadow"},rE={class:"p-5"},aE={class:"flex items-center justify-between"},lE={class:"flex items-center"},dE={class:"flex-shrink-0"},cE={class:"ml-4"},uE={class:"text-sm font-medium text-gray-500"},fE={class:"mt-1 flex items-baseline"},hE={class:"text-2xl font-semibold text-gray-900"},mE={key:0,class:"flex-shrink-0"},pE={class:"inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},gE={key:0,class:"mt-4 border-t border-gray-100 pt-4"},_E={class:"flex flex-col space-y-2"},vE={class:"flex items-center text-sm"},yE={class:"text-gray-500"},bE={class:"ml-1 font-medium text-gray-900"},xE={key:0,class:"flex items-start text-sm"},wE={class:"text-gray-500"},kE={key:1,class:"mt-4 text-sm text-gray-500"},$E={__name:"WorkingHoursWidget",setup(s){const e=I(null),t=async()=>{try{const n=await ce.get("working-hours/my-hours");e.value=n.data}catch{}};return Ye(()=>{t()}),(n,i)=>e.value?(_(),y("div",iE,[o("div",rE,[o("div",aE,[o("div",lE,[o("div",dE,[S(h(Zs),{class:ee(["h-8 w-8",e.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"])]),o("div",cE,[o("h3",uE,u(n.__("Your Working Hours")),1),o("div",fE,[o("p",hE,u(e.value.formatted_start)+" - "+u(e.value.formatted_end),1)])])]),e.value.has_custom_hours?(_(),y("div",mE,[o("span",pE,u(n.__("Custom Schedule")),1)])):j("",!0)]),e.value.has_custom_hours?(_(),y("div",gE,[o("div",_E,[o("div",vE,[S(h(dn),{class:"h-4 w-4 text-gray-400 mr-2"}),o("span",yE,u(n.__("Period"))+":",1),o("span",bE,u(e.value.effective_period),1)]),e.value.reason?(_(),y("div",xE,[S(h(jv),{class:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),o("span",wE,u(e.value.reason),1)])):j("",!0)])])):(_(),y("div",kE,u(n.__("Standard working hours apply to you.")),1))])])):j("",!0)}},CE={class:"mt-8"},SE={class:"text-lg font-medium text-gray-900 mb-4"},ME=_e({__name:"Profile",setup(s){const e=fs("profile")(),t=_o();return e.onSuccess(()=>{e.submitting=!1,e.data.password=""}),(n,i)=>(_(),y(de,null,[S(h(oc),{title:n.__("Profile")},null,8,["title"]),S(h(Fo),{name:"profile",uri:"profile","save-only":""},{default:K(()=>[S(oE),S(h(t),{name:"name",label:n.__("Name"),inline:""},null,8,["label"]),S(h(t),{name:"email",label:n.__("Email"),inline:"",disabled:""},null,8,["label"]),S(h(t),{name:"password",label:n.__("New Password"),type:"password",inline:""},null,8,["label"])]),_:1}),o("div",CE,[o("h2",SE,u(n.__("Working Hours")),1),S($E)])],64))}}),en=un("project-detail",()=>{const s=I(!1),e=I({});async function t(n){s.value=!0;const{data:i}=await ce.get(`projects/${n}`);s.value=!1,e.value=i}return{fetch:t,fetching:s,data:e}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Kg(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function go(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kg(Object(t),!0).forEach(function(n){TE(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Kg(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function Cd(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cd=function(e){return typeof e}:Cd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(s)}function TE(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Io(){return Io=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Io.apply(this,arguments)}function AE(s,e){if(s==null)return{};var t={},n=Object.keys(s),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function DE(s,e){if(s==null)return{};var t=AE(s,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}var EE="1.15.0";function Po(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var No=Po(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),bl=Po(/Edge/i),Yg=Po(/firefox/i),La=Po(/safari/i)&&!Po(/chrome/i)&&!Po(/android/i),db=Po(/iP(ad|od|hone)/i),cb=Po(/chrome/i)&&Po(/android/i),ub={capture:!1,passive:!1};function Tt(s,e,t){s.addEventListener(e,t,!No&&ub)}function kt(s,e,t){s.removeEventListener(e,t,!No&&ub)}function ic(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function PE(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function ao(s,e,t,n){if(s){t=t||document;do{if(e!=null&&(e[0]===">"?s.parentNode===t&&ic(s,e):ic(s,e))||n&&s===t)return s;if(s===t)break}while(s=PE(s))}return null}var Gg=/\s+/g;function mn(s,e,t){if(s&&e)if(s.classList)s.classList[t?"add":"remove"](e);else{var n=(" "+s.className+" ").replace(Gg," ").replace(" "+e+" "," ");s.className=(n+(t?" "+e:"")).replace(Gg," ")}}function it(s,e,t){var n=s&&s.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(t=s.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function wr(s,e){var t="";if(typeof s=="string")t=s;else do{var n=it(s,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(s=s.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function fb(s,e,t){if(s){var n=s.getElementsByTagName(e),i=0,r=n.length;if(t)for(;i<r;i++)t(n[i],i);return n}return[]}function mo(){var s=document.scrollingElement;return s||document.documentElement}function ps(s,e,t,n,i){if(!(!s.getBoundingClientRect&&s!==window)){var r,a,l,d,c,f,m;if(s!==window&&s.parentNode&&s!==mo()?(r=s.getBoundingClientRect(),a=r.top,l=r.left,d=r.bottom,c=r.right,f=r.height,m=r.width):(a=0,l=0,d=window.innerHeight,c=window.innerWidth,f=window.innerHeight,m=window.innerWidth),(e||t)&&s!==window&&(i=i||s.parentNode,!No))do if(i&&i.getBoundingClientRect&&(it(i,"transform")!=="none"||t&&it(i,"position")!=="static")){var p=i.getBoundingClientRect();a-=p.top+parseInt(it(i,"border-top-width")),l-=p.left+parseInt(it(i,"border-left-width")),d=a+r.height,c=l+r.width;break}while(i=i.parentNode);if(n&&s!==window){var g=wr(i||s),v=g&&g.a,k=g&&g.d;g&&(a/=k,l/=v,m/=v,f/=k,d=a+f,c=l+m)}return{top:a,left:l,bottom:d,right:c,width:m,height:f}}}function Xg(s,e,t){for(var n=oi(s,!0),i=ps(s)[e];n;){var r=ps(n)[t],a=void 0;if(t==="top"||t==="left"?a=i>=r:a=i<=r,!a)return n;if(n===mo())break;n=oi(n,!1)}return!1}function Ir(s,e,t,n){for(var i=0,r=0,a=s.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==tt.ghost&&(n||a[r]!==tt.dragged)&&ao(a[r],t.draggable,s,!1)){if(i===e)return a[r];i++}r++}return null}function wm(s,e){for(var t=s.lastElementChild;t&&(t===tt.ghost||it(t,"display")==="none"||e&&!ic(t,e));)t=t.previousElementSibling;return t||null}function En(s,e){var t=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==tt.clone&&(!e||ic(s,e))&&t++;return t}function Jg(s){var e=0,t=0,n=mo();if(s)do{var i=wr(s),r=i.a,a=i.d;e+=s.scrollLeft*r,t+=s.scrollTop*a}while(s!==n&&(s=s.parentNode));return[e,t]}function RE(s,e){for(var t in s)if(s.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===s[t][n])return Number(t)}return-1}function oi(s,e){if(!s||!s.getBoundingClientRect)return mo();var t=s,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=it(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return mo();if(n||e)return t;n=!0}}while(t=t.parentNode);return mo()}function jE(s,e){if(s&&e)for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function of(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var Fa;function hb(s,e){return function(){if(!Fa){var t=arguments,n=this;t.length===1?s.call(n,t[0]):s.apply(n,t),Fa=setTimeout(function(){Fa=void 0},e)}}}function OE(){clearTimeout(Fa),Fa=void 0}function mb(s,e,t){s.scrollLeft+=e,s.scrollTop+=t}function pb(s){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):t?t(s).clone(!0)[0]:s.cloneNode(!0)}var bn="Sortable"+new Date().getTime();function IE(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(it(i,"display")==="none"||i===tt.ghost)){s.push({target:i,rect:ps(i)});var r=go({},s[s.length-1].rect);if(i.thisAnimationDuration){var a=wr(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(n){s.push(n)},removeAnimationState:function(n){s.splice(RE(s,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;s.forEach(function(l){var d=0,c=l.target,f=c.fromRect,m=ps(c),p=c.prevFromRect,g=c.prevToRect,v=l.rect,k=wr(c,!0);k&&(m.top-=k.f,m.left-=k.e),c.toRect=m,c.thisAnimationDuration&&of(p,m)&&!of(f,m)&&(v.top-m.top)/(v.left-m.left)===(f.top-m.top)/(f.left-m.left)&&(d=FE(v,p,g,i.options)),of(m,f)||(c.prevFromRect=f,c.prevToRect=m,d||(d=i.options.animation),i.animate(c,v,m,d)),d&&(r=!0,a=Math.max(a,d),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},d),c.thisAnimationDuration=d)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),s=[]},animate:function(n,i,r,a){if(a){it(n,"transition",""),it(n,"transform","");var l=wr(this.el),d=l&&l.a,c=l&&l.d,f=(i.left-r.left)/(d||1),m=(i.top-r.top)/(c||1);n.animatingX=!!f,n.animatingY=!!m,it(n,"transform","translate3d("+f+"px,"+m+"px,0)"),this.forRepaintDummy=LE(n),it(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),it(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){it(n,"transition",""),it(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function LE(s){return s.offsetWidth}function FE(s,e,t,n){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var cr=[],rf={initializeByDefault:!0},xl={mount:function(e){for(var t in rf)rf.hasOwnProperty(t)&&!(t in e)&&(e[t]=rf[t]);cr.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),cr.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";cr.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](go({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](go({sortable:t},n)))})},initializePlugins:function(e,t,n,i){cr.forEach(function(l){var d=l.pluginName;if(!(!e.options[d]&&!l.initializeByDefault)){var c=new l(e,t,e.options);c.sortable=e,c.options=e.options,e[d]=c,Io(n,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return cr.forEach(function(i){typeof i.eventProperties=="function"&&Io(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return cr.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],n))}),i}};function NE(s){var e=s.sortable,t=s.rootEl,n=s.name,i=s.targetEl,r=s.cloneEl,a=s.toEl,l=s.fromEl,d=s.oldIndex,c=s.newIndex,f=s.oldDraggableIndex,m=s.newDraggableIndex,p=s.originalEvent,g=s.putSortable,v=s.extraEventProperties;if(e=e||t&&t[bn],!!e){var k,b=e.options,w="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!No&&!bl?k=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(n,!0,!0)),k.to=a||t,k.from=l||t,k.item=i||t,k.clone=r,k.oldIndex=d,k.newIndex=c,k.oldDraggableIndex=f,k.newDraggableIndex=m,k.originalEvent=p,k.pullMode=g?g.lastPutMode:void 0;var x=go(go({},v),xl.getEventProperties(n,e));for(var M in x)k[M]=x[M];t&&t.dispatchEvent(k),b[w]&&b[w].call(e,k)}}var zE=["evt"],sn=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=DE(n,zE);xl.pluginEvent.bind(tt)(e,t,go({dragEl:Re,parentEl:Qt,ghostEl:ut,rootEl:Yt,nextEl:Fi,lastDownEl:Sd,cloneEl:Xt,cloneHidden:Xo,dragStarted:va,putSortable:xs,activeSortable:tt.active,originalEvent:i,oldIndex:pr,oldDraggableIndex:Na,newIndex:_n,newDraggableIndex:Go,hideGhostForTarget:yb,unhideGhostForTarget:bb,cloneNowHidden:function(){Xo=!0},cloneNowShown:function(){Xo=!1},dispatchSortableEvent:function(l){Ys({sortable:t,name:l,originalEvent:i})}},r))};function Ys(s){NE(go({putSortable:xs,cloneEl:Xt,targetEl:Re,rootEl:Yt,oldIndex:pr,oldDraggableIndex:Na,newIndex:_n,newDraggableIndex:Go},s))}var Re,Qt,ut,Yt,Fi,Sd,Xt,Xo,pr,_n,Na,Go,Jl,xs,mr=!1,rc=!1,ac=[],Pi,Hn,af,lf,Qg,Zg,va,ur,za,Ba=!1,Ql=!1,Md,Ps,df=[],ch=!1,lc=[],nu=typeof document<"u",Zl=db,e1=bl||No?"cssFloat":"float",BE=nu&&!cb&&!db&&"draggable"in document.createElement("div"),gb=function(){if(nu){if(No)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),_b=function(e,t){var n=it(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ir(e,0,t),a=Ir(e,1,t),l=r&&it(r),d=a&&it(a),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ps(r).width,f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+ps(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var m=l.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===m)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=i&&n[e1]==="none"||a&&n[e1]==="none"&&c+f>i)?"vertical":"horizontal"},UE=function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,l=n?t.left:t.top,d=n?t.right:t.bottom,c=n?t.width:t.height;return i===l||r===d||i+a/2===l+c/2},VE=function(e,t){var n;return ac.some(function(i){var r=i[bn].options.emptyInsertThreshold;if(!(!r||wm(i))){var a=ps(i),l=e>=a.left-r&&e<=a.right+r,d=t>=a.top-r&&t<=a.bottom+r;if(l&&d)return n=i}}),n},vb=function(e){function t(r,a){return function(l,d,c,f){var m=l.options.group.name&&d.options.group.name&&l.options.group.name===d.options.group.name;if(r==null&&(a||m))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,d,c,f),a)(l,d,c,f);var p=(a?l:d).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var n={},i=e.group;(!i||Cd(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},yb=function(){!gb&&ut&&it(ut,"display","none")},bb=function(){!gb&&ut&&it(ut,"display","")};nu&&!cb&&document.addEventListener("click",function(s){if(rc)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),rc=!1,!1},!0);var Ri=function(e){if(Re){e=e.touches?e.touches[0]:e;var t=VE(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[bn]._onDragOver(n)}}},HE=function(e){Re&&Re.parentNode[bn]._isOutsideThisEl(e.target)};function tt(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=Io({},e),s[bn]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _b(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:tt.supportPointer!==!1&&"PointerEvent"in window&&!La,emptyInsertThreshold:5};xl.initializePlugins(this,s,t);for(var n in t)!(n in e)&&(e[n]=t[n]);vb(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:BE,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Tt(s,"pointerdown",this._onTapStart):(Tt(s,"mousedown",this._onTapStart),Tt(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(Tt(s,"dragover",this),Tt(s,"dragenter",this)),ac.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Io(this,IE())}tt.prototype={constructor:tt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ur=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Re):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,f=i.filter;if(QE(n),!Re&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&La&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=ao(d,i.draggable,n,!1),!(d&&d.animated)&&Sd!==d)){if(pr=En(d),Na=En(d,i.draggable),typeof f=="function"){if(f.call(this,e,d,this)){Ys({sortable:t,rootEl:c,name:"filter",targetEl:d,toEl:n,fromEl:n}),sn("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(m){if(m=ao(c,m.trim(),n,!1),m)return Ys({sortable:t,rootEl:m,name:"filter",targetEl:d,fromEl:n,toEl:n}),sn("filter",t,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!ao(c,i.handle,n,!1)||this._prepareDragStart(e,l,d)}}},_prepareDragStart:function(e,t,n){var i=this,r=i.el,a=i.options,l=r.ownerDocument,d;if(n&&!Re&&n.parentNode===r){var c=ps(n);if(Yt=r,Re=n,Qt=Re.parentNode,Fi=Re.nextSibling,Sd=n,Jl=a.group,tt.dragged=Re,Pi={target:Re,clientX:(t||e).clientX,clientY:(t||e).clientY},Qg=Pi.clientX-c.left,Zg=Pi.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Re.style["will-change"]="all",d=function(){if(sn("delayEnded",i,{evt:e}),tt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Yg&&i.nativeDraggable&&(Re.draggable=!0),i._triggerDragStart(e,t),Ys({sortable:i,name:"choose",originalEvent:e}),mn(Re,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){fb(Re,f.trim(),cf)}),Tt(l,"dragover",Ri),Tt(l,"mousemove",Ri),Tt(l,"touchmove",Ri),Tt(l,"mouseup",i._onDrop),Tt(l,"touchend",i._onDrop),Tt(l,"touchcancel",i._onDrop),Yg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Re.draggable=!0),sn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(bl||No))){if(tt.eventCanceled){this._onDrop();return}Tt(l,"mouseup",i._disableDelayedDrag),Tt(l,"touchend",i._disableDelayedDrag),Tt(l,"touchcancel",i._disableDelayedDrag),Tt(l,"mousemove",i._delayedDragTouchMoveHandler),Tt(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Tt(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Re&&cf(Re),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;kt(e,"mouseup",this._disableDelayedDrag),kt(e,"touchend",this._disableDelayedDrag),kt(e,"touchcancel",this._disableDelayedDrag),kt(e,"mousemove",this._delayedDragTouchMoveHandler),kt(e,"touchmove",this._delayedDragTouchMoveHandler),kt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Tt(document,"pointermove",this._onTouchMove):t?Tt(document,"touchmove",this._onTouchMove):Tt(document,"mousemove",this._onTouchMove):(Tt(Re,"dragend",this),Tt(Yt,"dragstart",this._onDragStart));try{document.selection?Td(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(mr=!1,Yt&&Re){sn("dragStarted",this,{evt:t}),this.nativeDraggable&&Tt(document,"dragover",HE);var n=this.options;!e&&mn(Re,n.dragClass,!1),mn(Re,n.ghostClass,!0),tt.active=this,e&&this._appendGhost(),Ys({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Hn){this._lastX=Hn.clientX,this._lastY=Hn.clientY,yb();for(var e=document.elementFromPoint(Hn.clientX,Hn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Hn.clientX,Hn.clientY),e!==t);)t=e;if(Re.parentNode[bn]._isOutsideThisEl(e),t)do{if(t[bn]){var n=void 0;if(n=t[bn]._onDragOver({clientX:Hn.clientX,clientY:Hn.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);bb()}},_onTouchMove:function(e){if(Pi){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=ut&&wr(ut,!0),l=ut&&a&&a.a,d=ut&&a&&a.d,c=Zl&&Ps&&Jg(Ps),f=(r.clientX-Pi.clientX+i.x)/(l||1)+(c?c[0]-df[0]:0)/(l||1),m=(r.clientY-Pi.clientY+i.y)/(d||1)+(c?c[1]-df[1]:0)/(d||1);if(!tt.active&&!mr){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ut){a?(a.e+=f-(af||0),a.f+=m-(lf||0)):a={a:1,b:0,c:0,d:1,e:f,f:m};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");it(ut,"webkitTransform",p),it(ut,"mozTransform",p),it(ut,"msTransform",p),it(ut,"transform",p),af=f,lf=m,Hn=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ut){var e=this.options.fallbackOnBody?document.body:Yt,t=ps(Re,!0,Zl,!0,e),n=this.options;if(Zl){for(Ps=e;it(Ps,"position")==="static"&&it(Ps,"transform")==="none"&&Ps!==document;)Ps=Ps.parentNode;Ps!==document.body&&Ps!==document.documentElement?(Ps===document&&(Ps=mo()),t.top+=Ps.scrollTop,t.left+=Ps.scrollLeft):Ps=mo(),df=Jg(Ps)}ut=Re.cloneNode(!0),mn(ut,n.ghostClass,!1),mn(ut,n.fallbackClass,!0),mn(ut,n.dragClass,!0),it(ut,"transition",""),it(ut,"transform",""),it(ut,"box-sizing","border-box"),it(ut,"margin",0),it(ut,"top",t.top),it(ut,"left",t.left),it(ut,"width",t.width),it(ut,"height",t.height),it(ut,"opacity","0.8"),it(ut,"position",Zl?"absolute":"fixed"),it(ut,"zIndex","100000"),it(ut,"pointerEvents","none"),tt.ghost=ut,e.appendChild(ut),it(ut,"transform-origin",Qg/parseInt(ut.style.width)*100+"% "+Zg/parseInt(ut.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;if(sn("dragStart",this,{evt:e}),tt.eventCanceled){this._onDrop();return}sn("setupClone",this),tt.eventCanceled||(Xt=pb(Re),Xt.removeAttribute("id"),Xt.draggable=!1,Xt.style["will-change"]="",this._hideClone(),mn(Xt,this.options.chosenClass,!1),tt.clone=Xt),n.cloneId=Td(function(){sn("clone",n),!tt.eventCanceled&&(n.options.removeCloneOnHide||Yt.insertBefore(Xt,Re),n._hideClone(),Ys({sortable:n,name:"clone"}))}),!t&&mn(Re,r.dragClass,!0),t?(rc=!0,n._loopId=setInterval(n._emulateDragOver,50)):(kt(document,"mouseup",n._onDrop),kt(document,"touchend",n._onDrop),kt(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,Re)),Tt(document,"drop",n),it(Re,"transform","translateZ(0)")),mr=!0,n._dragStartId=Td(n._dragStarted.bind(n,t,e)),Tt(document,"selectstart",n),va=!0,La&&it(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,r,a,l=this.options,d=l.group,c=tt.active,f=Jl===d,m=l.sort,p=xs||c,g,v=this,k=!1;if(ch)return;function b(ne,q){sn(ne,v,go({evt:e,isOwner:f,axis:g?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:m,fromSortable:p,target:n,completed:x,onMove:function(xe,je){return ed(Yt,t,Re,i,xe,ps(xe),e,je)},changed:M},q))}function w(){b("dragOverAnimationCapture"),v.captureAnimationState(),v!==p&&p.captureAnimationState()}function x(ne){return b("dragOverCompleted",{insertion:ne}),ne&&(f?c._hideClone():c._showClone(v),v!==p&&(mn(Re,xs?xs.options.ghostClass:c.options.ghostClass,!1),mn(Re,l.ghostClass,!0)),xs!==v&&v!==tt.active?xs=v:v===tt.active&&xs&&(xs=null),p===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){b("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===Re&&!Re.animated||n===t&&!n.animated)&&(ur=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(Re.parentNode[bn]._isOutsideThisEl(e.target),!ne&&Ri(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function M(){_n=En(Re),Go=En(Re,l.draggable),Ys({sortable:v,name:"change",toEl:t,newIndex:_n,newDraggableIndex:Go,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ao(n,l.draggable,t,!0),b("dragOver"),tt.eventCanceled)return k;if(Re.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return x(!1);if(rc=!1,c&&!l.disabled&&(f?m||(a=Qt!==Yt):xs===this||(this.lastPutMode=Jl.checkPull(this,c,Re,e))&&d.checkPut(this,c,Re,e))){if(g=this._getDirection(e,n)==="vertical",i=ps(Re),b("dragOverValid"),tt.eventCanceled)return k;if(a)return Qt=Yt,w(),this._hideClone(),b("revert"),tt.eventCanceled||(Fi?Yt.insertBefore(Re,Fi):Yt.appendChild(Re)),x(!0);var C=wm(t,l.draggable);if(!C||YE(e,g,this)&&!C.animated){if(C===Re)return x(!1);if(C&&t===e.target&&(n=C),n&&(r=ps(n)),ed(Yt,t,Re,i,n,r,e,!!n)!==!1)return w(),C&&C.nextSibling?t.insertBefore(Re,C.nextSibling):t.appendChild(Re),Qt=t,M(),x(!0)}else if(C&&KE(e,g,this)){var O=Ir(t,0,l,!0);if(O===Re)return x(!1);if(n=O,r=ps(n),ed(Yt,t,Re,i,n,r,e,!1)!==!1)return w(),t.insertBefore(Re,O),Qt=t,M(),x(!0)}else if(n.parentNode===t){r=ps(n);var N=0,E,B=Re.parentNode!==t,L=!UE(Re.animated&&Re.toRect||i,n.animated&&n.toRect||r,g),P=g?"top":"left",R=Xg(n,"top","top")||Xg(Re,"top","top"),A=R?R.scrollTop:void 0;ur!==n&&(E=r[P],Ba=!1,Ql=!L&&l.invertSwap||B),N=GE(e,n,r,g,L?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ql,ur===n);var F;if(N!==0){var be=En(Re);do be-=N,F=Qt.children[be];while(F&&(it(F,"display")==="none"||F===ut))}if(N===0||F===n)return x(!1);ur=n,za=N;var ae=n.nextElementSibling,le=!1;le=N===1;var J=ed(Yt,t,Re,i,n,r,e,le);if(J!==!1)return(J===1||J===-1)&&(le=J===1),ch=!0,setTimeout(qE,30),w(),le&&!ae?t.appendChild(Re):n.parentNode.insertBefore(Re,le?ae:n),R&&mb(R,0,A-R.scrollTop),Qt=Re.parentNode,E!==void 0&&!Ql&&(Md=Math.abs(E-ps(n)[P])),M(),x(!0)}if(t.contains(Re))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){kt(document,"mousemove",this._onTouchMove),kt(document,"touchmove",this._onTouchMove),kt(document,"pointermove",this._onTouchMove),kt(document,"dragover",Ri),kt(document,"mousemove",Ri),kt(document,"touchmove",Ri)},_offUpEvents:function(){var e=this.el.ownerDocument;kt(e,"mouseup",this._onDrop),kt(e,"touchend",this._onDrop),kt(e,"pointerup",this._onDrop),kt(e,"touchcancel",this._onDrop),kt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(_n=En(Re),Go=En(Re,n.draggable),sn("drop",this,{evt:e}),Qt=Re&&Re.parentNode,_n=En(Re),Go=En(Re,n.draggable),tt.eventCanceled){this._nulling();return}mr=!1,Ql=!1,Ba=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),uh(this.cloneId),uh(this._dragStartId),this.nativeDraggable&&(kt(document,"drop",this),kt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),La&&it(document.body,"user-select",""),it(Re,"transform",""),e&&(va&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ut&&ut.parentNode&&ut.parentNode.removeChild(ut),(Yt===Qt||xs&&xs.lastPutMode!=="clone")&&Xt&&Xt.parentNode&&Xt.parentNode.removeChild(Xt),Re&&(this.nativeDraggable&&kt(Re,"dragend",this),cf(Re),Re.style["will-change"]="",va&&!mr&&mn(Re,xs?xs.options.ghostClass:this.options.ghostClass,!1),mn(Re,this.options.chosenClass,!1),Ys({sortable:this,name:"unchoose",toEl:Qt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Yt!==Qt?(_n>=0&&(Ys({rootEl:Qt,name:"add",toEl:Qt,fromEl:Yt,originalEvent:e}),Ys({sortable:this,name:"remove",toEl:Qt,originalEvent:e}),Ys({rootEl:Qt,name:"sort",toEl:Qt,fromEl:Yt,originalEvent:e}),Ys({sortable:this,name:"sort",toEl:Qt,originalEvent:e})),xs&&xs.save()):_n!==pr&&_n>=0&&(Ys({sortable:this,name:"update",toEl:Qt,originalEvent:e}),Ys({sortable:this,name:"sort",toEl:Qt,originalEvent:e})),tt.active&&((_n==null||_n===-1)&&(_n=pr,Go=Na),Ys({sortable:this,name:"end",toEl:Qt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){sn("nulling",this),Yt=Re=Qt=ut=Fi=Xt=Sd=Xo=Pi=Hn=va=_n=Go=pr=Na=ur=za=xs=Jl=tt.dragged=tt.ghost=tt.clone=tt.active=null,lc.forEach(function(e){e.checked=!0}),lc.length=af=lf=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Re&&(this._onDragOver(e),WE(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)t=n[i],ao(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||JE(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];ao(l,this.options.draggable,i,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ao(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=xl.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&vb(n)},destroy:function(){sn("destroy",this);var e=this.el;e[bn]=null,kt(e,"mousedown",this._onTapStart),kt(e,"touchstart",this._onTapStart),kt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(kt(e,"dragover",this),kt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ac.splice(ac.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Xo){if(sn("hideClone",this),tt.eventCanceled)return;it(Xt,"display","none"),this.options.removeCloneOnHide&&Xt.parentNode&&Xt.parentNode.removeChild(Xt),Xo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Xo){if(sn("showClone",this),tt.eventCanceled)return;Re.parentNode==Yt&&!this.options.group.revertClone?Yt.insertBefore(Xt,Re):Fi?Yt.insertBefore(Xt,Fi):Yt.appendChild(Xt),this.options.group.revertClone&&this.animate(Re,Xt),it(Xt,"display",""),Xo=!1}}};function WE(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function ed(s,e,t,n,i,r,a,l){var d,c=s[bn],f=c.options.onMove,m;return window.CustomEvent&&!No&&!bl?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=s,d.dragged=t,d.draggedRect=n,d.related=i||e,d.relatedRect=r||ps(e),d.willInsertAfter=l,d.originalEvent=a,s.dispatchEvent(d),f&&(m=f.call(c,d,a)),m}function cf(s){s.draggable=!1}function qE(){ch=!1}function KE(s,e,t){var n=ps(Ir(t.el,0,t.options,!0)),i=10;return e?s.clientX<n.left-i||s.clientY<n.top&&s.clientX<n.right:s.clientY<n.top-i||s.clientY<n.bottom&&s.clientX<n.left}function YE(s,e,t){var n=ps(wm(t.el,t.options.draggable)),i=10;return e?s.clientX>n.right+i||s.clientX<=n.right&&s.clientY>n.bottom&&s.clientX>=n.left:s.clientX>n.right&&s.clientY>n.top||s.clientX<=n.right&&s.clientY>n.bottom+i}function GE(s,e,t,n,i,r,a,l){var d=n?s.clientY:s.clientX,c=n?t.height:t.width,f=n?t.top:t.left,m=n?t.bottom:t.right,p=!1;if(!a){if(l&&Md<c*i){if(!Ba&&(za===1?d>f+c*r/2:d<m-c*r/2)&&(Ba=!0),Ba)p=!0;else if(za===1?d<f+Md:d>m-Md)return-za}else if(d>f+c*(1-i)/2&&d<m-c*(1-i)/2)return XE(e)}return p=p||a,p&&(d<f+c*r/2||d>m-c*r/2)?d>f+c/2?1:-1:0}function XE(s){return En(Re)<En(s)?1:-1}function JE(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function QE(s){lc.length=0;for(var e=s.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&lc.push(n)}}function Td(s){return setTimeout(s,0)}function uh(s){return clearTimeout(s)}nu&&Tt(document,"touchmove",function(s){(tt.active||mr)&&s.cancelable&&s.preventDefault()});tt.utils={on:Tt,off:kt,css:it,find:fb,is:function(e,t){return!!ao(e,t,e,!1)},extend:jE,throttle:hb,closest:ao,toggleClass:mn,clone:pb,index:En,nextTick:Td,cancelNextTick:uh,detectDirection:_b,getChild:Ir};tt.get=function(s){return s[bn]};tt.mount=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(tt.utils=go(go({},tt.utils),n.utils)),xl.mount(n)})};tt.create=function(s,e){return new tt(s,e)};tt.version=EE;var ds=[],ya,fh,hh=!1,uf,ff,dc,ba;function ZE(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?Tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Tt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Tt(document,"touchmove",this._handleFallbackAutoScroll):Tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?kt(document,"dragover",this._handleAutoScroll):(kt(document,"pointermove",this._handleFallbackAutoScroll),kt(document,"touchmove",this._handleFallbackAutoScroll),kt(document,"mousemove",this._handleFallbackAutoScroll)),t1(),Ad(),OE()},nulling:function(){dc=fh=ya=hh=ba=uf=ff=null,ds.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(dc=t,n||this.options.forceAutoScrollFallback||bl||No||La){hf(t,this.options,l,n);var d=oi(l,!0);hh&&(!ba||r!==uf||a!==ff)&&(ba&&t1(),ba=setInterval(function(){var c=oi(document.elementFromPoint(r,a),!0);c!==d&&(d=c,Ad()),hf(t,i.options,c,n)},10),uf=r,ff=a)}else{if(!this.options.bubbleScroll||oi(l,!0)===mo()){Ad();return}hf(t,this.options,oi(l,!1),!1)}}},Io(s,{pluginName:"scroll",initializeByDefault:!0})}function Ad(){ds.forEach(function(s){clearInterval(s.pid)}),ds=[]}function t1(){clearInterval(ba)}var hf=hb(function(s,e,t,n){if(e.scroll){var i=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,d=mo(),c=!1,f;fh!==t&&(fh=t,Ad(),ya=e.scroll,f=e.scrollFn,ya===!0&&(ya=oi(t,!0)));var m=0,p=ya;do{var g=p,v=ps(g),k=v.top,b=v.bottom,w=v.left,x=v.right,M=v.width,C=v.height,O=void 0,N=void 0,E=g.scrollWidth,B=g.scrollHeight,L=it(g),P=g.scrollLeft,R=g.scrollTop;g===d?(O=M<E&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),N=C<B&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(O=M<E&&(L.overflowX==="auto"||L.overflowX==="scroll"),N=C<B&&(L.overflowY==="auto"||L.overflowY==="scroll"));var A=O&&(Math.abs(x-i)<=a&&P+M<E)-(Math.abs(w-i)<=a&&!!P),F=N&&(Math.abs(b-r)<=a&&R+C<B)-(Math.abs(k-r)<=a&&!!R);if(!ds[m])for(var be=0;be<=m;be++)ds[be]||(ds[be]={});(ds[m].vx!=A||ds[m].vy!=F||ds[m].el!==g)&&(ds[m].el=g,ds[m].vx=A,ds[m].vy=F,clearInterval(ds[m].pid),(A!=0||F!=0)&&(c=!0,ds[m].pid=setInterval((function(){n&&this.layer===0&&tt.active._onTouchMove(dc);var ae=ds[this.layer].vy?ds[this.layer].vy*l:0,le=ds[this.layer].vx?ds[this.layer].vx*l:0;typeof f=="function"&&f.call(tt.dragged.parentNode[bn],le,ae,s,dc,ds[this.layer].el)!=="continue"||mb(ds[this.layer].el,le,ae)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&p!==d&&(p=oi(p,!1)));hh=c}},30),xb=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(t){var c=n||r;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(f.clientX,f.clientY);d(),c&&!c.el.contains(m)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function km(){}km.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Ir(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:xb};Io(km,{pluginName:"revertOnSpill"});function $m(){}$m.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:xb};Io($m,{pluginName:"removeOnSpill"});tt.mount(new ZE);tt.mount($m,km);function eP(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function tP(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function sP(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function nP(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function wb(s,e){return _(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})])}const oP={class:"cursor-pointer text-gray-600 hover:text-gray-700"},iP={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},rP={class:"py-1",role:"none"},aP=_e({__name:"SectionDropdown",props:{listId:{},listIndex:{}},emits:["listEdit"],setup(s){const e=s,t=en();function n(){vd().confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){ce.delete(`lists/${e.listId}`).then(()=>{vd().hide(),t.data.lists.splice(e.listIndex,1)}).catch(()=>{vd().hide()})}})}return(i,r)=>(_(),ie(h(Hs),{"close-outside":""},{trigger:K(()=>[o("span",oP,[S(h(sP),{class:"h-4 w-4"})])]),content:K(()=>[o("div",iP,[o("div",rP,[o("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r[0]||(r[0]=We(a=>i.$emit("listEdit"),["prevent"]))},u(i.__("Edit")),1),o("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:n},u(i.__("Delete")),1)])])]),_:1}))}}),lP={class:"flex items-center py-2.5 px-2"},dP={key:0,class:"flex-1 ltr:pr-2 rtl:pl-2"},cP=["textContent"],uP={key:2,class:"ltr:ml-auto rtl:mr-auto"},fP=_e({__name:"SectionHeader",props:{id:{},index:{},name:{}},setup(s){const e=s,t=I(!1),n=I(""),i=I(null),r=I(e.name);function a(c){c.target.closest("#list-edit-input")||(t.value=!1,document.removeEventListener("click",a))}function l(){t.value=!0,n.value=r.value,setTimeout(function(){var c;(c=i.value)==null||c.focus(),document.addEventListener("click",a)})}function d(){n.value&&ce.patch(`lists/${e.id}`,{name:n.value}).then(()=>{r.value=n.value,t.value=!1,n.value="",document.removeEventListener("click",a)})}return(c,f)=>(_(),y("div",lP,[t.value?(_(),y("div",dP,[z(o("input",{id:"list-edit-input",ref_key:"input",ref:i,"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Rn(d,["enter"])},null,544),[[te,n.value]])])):j("",!0),t.value?j("",!0):(_(),y("div",{key:1,class:"px-2 py-[0.313rem] text-sm font-semibold leading-none text-gray-700",textContent:u(r.value)},null,8,cP)),c.can("task-list:update")||c.can("task-list:delete")?(_(),y("div",uP,[S(aP,{"list-id":s.id,"list-index":s.index,onListEdit:l},null,8,["list-id","list-index"])])):j("",!0)]))}}),ts=un("task",()=>{const s=I(!0),e=I({}),t=I({}),n=I(!1),i=I(null),r=I(null),a=I(null),l=I(!1),d=I(!1);function c(f){typeof f=="number"?(s.value=f,ce.get("tasks/"+f).then(({data:m})=>{s.value=!1,t.value=m.options,e.value=m.task})):(s.value=f.loading,ce.get("tasks/"+f.id).then(({data:m})=>{s.value=!1,t.value=m.options,m.value=m.task}))}return{checklistItemForm:r,commentForm:a,data:e,fetch:c,isContentForm:n,loading:s,newChecklistItemForm:d,newSubtaskForm:l,options:t,subtaskForm:i}}),hP=_e({__name:"TaskCheckbox",setup(s){const e=Ts("tasks")(),t=en(),n=ts(),i=I(!1);function r(l){i.value||(i.value=!0,ce.patch(`tasks/${l}/complete`).then(({data:d})=>{var f;i.value=!1,n.data.completed_at=d.completed_at,a();const c=Ft().components.findIndex(m=>m.component.__name=="TaskModal");((f=Ft().components[c].payload)==null?void 0:f.page)=="tasks"&&e.fetch({loading:!1})}))}function a(){t.fetch(n.data.project_id)}return(l,d)=>(_(),y("span",{class:ee(["mt-0.5 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":h(n).data.completed_at,"border border-gray-300":!h(n).data.completed_at}]),onClick:d[0]||(d[0]=c=>r(h(n).data.id))},[...d[1]||(d[1]=[o("svg",{viewBox:"0 0 16 16",fill:"white"},[o("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}});function kb(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let sr=kb();function mP(s){sr=s}const $b=/[&<>"']/,pP=new RegExp($b.source,"g"),Cb=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,gP=new RegExp(Cb.source,"g"),_P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s1=s=>_P[s];function js(s,e){if(e){if($b.test(s))return s.replace(pP,s1)}else if(Cb.test(s))return s.replace(gP,s1);return s}const vP=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Sb(s){return s.replace(vP,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const yP=/(^|[^\[])\^/g;function Vt(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,i)=>(i=i.source||i,i=i.replace(yP,"$1"),s=s.replace(n,i),t),getRegex:()=>new RegExp(s,e)};return t}const bP=/[^\w:]/g,xP=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function n1(s,e,t){if(s){let n;try{n=decodeURIComponent(Sb(t)).replace(bP,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!xP.test(t)&&(t=CP(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const td={},wP=/^[^:]+:\/*[^/]*$/,kP=/^([^:]+:)[\s\S]*$/,$P=/^([^:]+:\/*[^/]*)[\s\S]*$/;function CP(s,e){td[" "+s]||(wP.test(s)?td[" "+s]=s+"/":td[" "+s]=Dd(s,"/",!0)),s=td[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(kP,"$1")+e:e.charAt(0)==="/"?t?e:s.replace($P,"$1")+e:s+e}const cc={exec:function(){}};function o1(s,e){const t=s.replace(/\|/g,(r,a,l)=>{let d=!1,c=a;for(;--c>=0&&l[c]==="\\";)d=!d;return d?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Dd(s,e,t){const n=s.length;if(n===0)return"";let i=0;for(;i<n;){const r=s.charAt(n-i-1);if(r===e&&!t)i++;else if(r!==e&&t)i++;else break}return s.slice(0,n-i)}function SP(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let n=0,i=0;for(;i<t;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])n++;else if(s[i]===e[1]&&(n--,n<0))return i;return-1}function MP(s){s&&s.sanitize&&s.silent}function i1(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function r1(s,e,t,n){const i=e.href,r=e.title?js(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:i,title:r,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:i,title:r,text:js(a)}}function TP(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[a]=r;return a.length>=n.length?i.slice(n.length):i}).join(`
`)}class Cm{constructor(e){this.options=e||sr}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Dd(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=TP(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Dd(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,a,l,d,c,f,m,p,g,v,k=t[1].trim();const b=k.length>1,w={type:"list",raw:"",ordered:b,start:b?+k.slice(0,-1):"",loose:!1,items:[]};k=b?`\\d{1,9}\\${k.slice(-1)}`:`\\${k}`,this.options.pedantic&&(k=b?k:"[*+-]");const x=new RegExp(`^( {0,3}${k})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),f=t[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,g=f.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,g=f.slice(a),a+=t[1].length),d=!1,!f&&/^ *$/.test(m)&&(n+=m+`
`,e=e.substring(m.length+1),v=!0),!v){const C=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),O=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),N=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],m=p,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(N.test(m)||E.test(m)||C.test(m)||O.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())g+=`
`+m.slice(a);else{if(d||f.search(/[^ ]/)>=4||N.test(f)||E.test(f)||O.test(f))break;g+=`
`+m}!d&&!m.trim()&&(d=!0),n+=p+`
`,e=e.substring(p.length+1),f=m.slice(a)}}w.loose||(c?w.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(g),i&&(r=i[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),w.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:g}),w.raw+=n}w.items[w.items.length-1].raw=n.trimRight(),w.items[w.items.length-1].text=g.trimRight(),w.raw=w.raw.trimRight();const M=w.items.length;for(l=0;l<M;l++)if(this.lexer.state.top=!1,w.items[l].tokens=this.lexer.blockTokens(w.items[l].text,[]),!w.loose){const C=w.items[l].tokens.filter(N=>N.type==="space"),O=C.length>0&&C.some(N=>/\n.*\n/.test(N.raw));w.loose=O}if(w.loose)for(l=0;l<M;l++)w.items[l].loose=!0;return w}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):js(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:o1(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let i=n.align.length,r,a,l,d;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.rows.length,r=0;r<i;r++)n.rows[r]=o1(n.rows[r],n.header.length).map(c=>({text:c}));for(i=n.header.length,a=0;a<i;a++)n.header[a].tokens=this.lexer.inline(n.header[a].text);for(i=n.rows.length,a=0;a<i;a++)for(d=n.rows[a],l=0;l<d.length;l++)d[l].tokens=this.lexer.inline(d[l].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:js(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):js(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=Dd(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=SP(t[2],"()");if(a>-1){const d=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,d).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),r1(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return r1(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const a=i[0].length-1;let l,d,c=a,f=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+a);(i=m.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(d=l.length,i[3]||i[4]){c+=d;continue}else if((i[5]||i[6])&&a%3&&!((a+d)%3)){f+=d;continue}if(c-=d,c>0)continue;d=Math.min(d,d+c+f);const p=e.slice(0,a+i.index+(i[0].length-l.length)+d);if(Math.min(a,d)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=js(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let i,r;return n[2]==="@"?(i=js(this.options.mangle?t(n[1]):n[1]),r="mailto:"+i):(i=js(n[1]),r=i),{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let i,r;if(n[2]==="@")i=js(this.options.mangle?t(n[0]):n[0]),r="mailto:"+i;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);i=js(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):js(n[0]):n[0]:i=js(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}}const Ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cc,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ze._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ze._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ze.def=Vt(Ze.def).replace("label",Ze._label).replace("title",Ze._title).getRegex();Ze.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ze.listItemStart=Vt(/^( *)(bull) */).replace("bull",Ze.bullet).getRegex();Ze.list=Vt(Ze.list).replace(/bull/g,Ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ze.def.source+")").getRegex();Ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ze.html=Vt(Ze.html,"i").replace("comment",Ze._comment).replace("tag",Ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ze.paragraph=Vt(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.blockquote=Vt(Ze.blockquote).replace("paragraph",Ze.paragraph).getRegex();Ze.normal={...Ze};Ze.gfm={...Ze.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ze.gfm.table=Vt(Ze.gfm.table).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.gfm.paragraph=Vt(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ze.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.pedantic={...Ze.normal,html:Vt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Vt(Ze.normal._paragraph).replace("hr",Ze.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ue._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Ue.punctuation=Vt(Ue.punctuation).replace(/punctuation/g,Ue._punctuation).getRegex();Ue.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Ue.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Ue._comment=Vt(Ze._comment).replace("(?:-->|$)","-->").getRegex();Ue.emStrong.lDelim=Vt(Ue.emStrong.lDelim).replace(/punct/g,Ue._punctuation).getRegex();Ue.emStrong.rDelimAst=Vt(Ue.emStrong.rDelimAst,"g").replace(/punct/g,Ue._punctuation).getRegex();Ue.emStrong.rDelimUnd=Vt(Ue.emStrong.rDelimUnd,"g").replace(/punct/g,Ue._punctuation).getRegex();Ue._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ue.autolink=Vt(Ue.autolink).replace("scheme",Ue._scheme).replace("email",Ue._email).getRegex();Ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ue.tag=Vt(Ue.tag).replace("comment",Ue._comment).replace("attribute",Ue._attribute).getRegex();Ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ue.link=Vt(Ue.link).replace("label",Ue._label).replace("href",Ue._href).replace("title",Ue._title).getRegex();Ue.reflink=Vt(Ue.reflink).replace("label",Ue._label).replace("ref",Ze._label).getRegex();Ue.nolink=Vt(Ue.nolink).replace("ref",Ze._label).getRegex();Ue.reflinkSearch=Vt(Ue.reflinkSearch,"g").replace("reflink",Ue.reflink).replace("nolink",Ue.nolink).getRegex();Ue.normal={...Ue};Ue.pedantic={...Ue.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ue._label).getRegex(),reflink:Vt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ue._label).getRegex()};Ue.gfm={...Ue.normal,escape:Vt(Ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ue.gfm.url=Vt(Ue.gfm.url,"i").replace("email",Ue.gfm._extended_email).getRegex();Ue.breaks={...Ue.gfm,br:Vt(Ue.br).replace("{2,}","*").getRegex(),text:Vt(Ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function AP(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function a1(s){let e="",t,n;const i=s.length;for(t=0;t<i;t++)n=s.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class mi{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||sr,this.options.tokenizer=this.options.tokenizer||new Cm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ze.normal,inline:Ue.normal};this.options.pedantic?(t.block=Ze.pedantic,t.inline=Ue.pedantic):this.options.gfm&&(t.block=Ze.gfm,this.options.breaks?t.inline=Ue.breaks:t.inline=Ue.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ze,inline:Ue}}static lex(e,t){return new mi(t).lex(e)}static lexInline(e,t){return new mi(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,d,c)=>d+"    ".repeat(c.length));let n,i,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const d=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(f){c=f.call({lexer:this},d),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){i=t[t.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),a=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,a=e,l,d,c;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)f.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+i1("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+i1("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(d||(c=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(n=f.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,a,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,a1)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,a1))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const m=e.slice(1);let p;this.options.extensions.startInline.forEach(function(g){p=g.call({lexer:this},m),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(r=e.substring(0,f+1))}if(n=this.tokenizer.inlineText(r,AP)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),d=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(f)}}return t}}class Sm{constructor(e){this.options=e||sr}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+js(i)+'">'+(n?e:js(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:js(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const i=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=n1(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=n1(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class Mb{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Tb{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class pi{constructor(e){this.options=e||sr,this.options.renderer=this.options.renderer||new Sm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mb,this.slugger=new Tb}static parse(e,t){return new pi(t).parse(e)}static parseInline(e,t){return new pi(t).parseInline(e)}parse(e,t=!0){let n="",i,r,a,l,d,c,f,m,p,g,v,k,b,w,x,M,C,O,N;const E=e.length;for(i=0;i<E;i++){if(g=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(N=this.options.extensions.renderers[g.type].call({parser:this},g),N!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type))){n+=N||"";continue}switch(g.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(g.tokens),g.depth,Sb(this.parseInline(g.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(g.text,g.lang,g.escaped);continue}case"table":{for(m="",f="",l=g.header.length,r=0;r<l;r++)f+=this.renderer.tablecell(this.parseInline(g.header[r].tokens),{header:!0,align:g.align[r]});for(m+=this.renderer.tablerow(f),p="",l=g.rows.length,r=0;r<l;r++){for(c=g.rows[r],f="",d=c.length,a=0;a<d;a++)f+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:g.align[a]});p+=this.renderer.tablerow(f)}n+=this.renderer.table(m,p);continue}case"blockquote":{p=this.parse(g.tokens),n+=this.renderer.blockquote(p);continue}case"list":{for(v=g.ordered,k=g.start,b=g.loose,l=g.items.length,p="",r=0;r<l;r++)x=g.items[r],M=x.checked,C=x.task,w="",x.task&&(O=this.renderer.checkbox(M),b?x.tokens.length>0&&x.tokens[0].type==="paragraph"?(x.tokens[0].text=O+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&x.tokens[0].tokens[0].type==="text"&&(x.tokens[0].tokens[0].text=O+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:O}):w+=O),w+=this.parse(x.tokens,b),p+=this.renderer.listitem(w,C,M);n+=this.renderer.list(p,v,k);continue}case"html":{n+=this.renderer.html(g.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(g.tokens));continue}case"text":{for(p=g.tokens?this.parseInline(g.tokens):g.text;i+1<E&&e[i+1].type==="text";)g=e[++i],p+=`
`+(g.tokens?this.parseInline(g.tokens):g.text);n+=t?this.renderer.paragraph(p):p;continue}default:{const B='Token with "'+g.type+'" type was not found.';if(this.options.silent)return;throw new Error(B)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,r,a;const l=e.length;for(i=0;i<l;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=a||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const d='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(d)}}}return n}}class uc{constructor(e){this.options=e||sr}preprocess(e){return e}postprocess(e){return e}}Be(uc,"passThroughHooks",new Set(["preprocess","postprocess"]));function DP(s,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const i="<p>An error occurred:</p><pre>"+js(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function Ab(s,e){return(t,n,i)=>{typeof n=="function"&&(i=n,n=null);const r={...n};n={...Ge.defaults,...r};const a=DP(n.silent,n.async,i);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(MP(n),n.hooks&&(n.hooks.options=n),i){const l=n.highlight;let d;try{n.hooks&&(t=n.hooks.preprocess(t)),d=s(t,n)}catch(m){return a(m)}const c=function(m){let p;if(!m)try{n.walkTokens&&Ge.walkTokens(d,n.walkTokens),p=e(d,n),n.hooks&&(p=n.hooks.postprocess(p))}catch(g){m=g}return n.highlight=l,m?a(m):i(null,p)};if(!l||l.length<3||(delete n.highlight,!d.length))return c();let f=0;Ge.walkTokens(d,function(m){m.type==="code"&&(f++,setTimeout(()=>{l(m.text,m.lang,function(p,g){if(p)return c(p);g!=null&&g!==m.text&&(m.text=g,m.escaped=!0),f--,f===0&&c()})},0))}),f===0&&c();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(l=>s(l,n)).then(l=>n.walkTokens?Promise.all(Ge.walkTokens(l,n.walkTokens)).then(()=>l):l).then(l=>e(l,n)).then(l=>n.hooks?n.hooks.postprocess(l):l).catch(a);try{n.hooks&&(t=n.hooks.preprocess(t));const l=s(t,n);n.walkTokens&&Ge.walkTokens(l,n.walkTokens);let d=e(l,n);return n.hooks&&(d=n.hooks.postprocess(d)),d}catch(l){return a(l)}}}function Ge(s,e,t){return Ab(mi.lex,pi.parse)(s,e,t)}Ge.options=Ge.setOptions=function(s){return Ge.defaults={...Ge.defaults,...s},mP(Ge.defaults),Ge};Ge.getDefaults=kb;Ge.defaults=sr;Ge.use=function(...s){const e=Ge.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const n={...t};if(n.async=Ge.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){const i=Ge.defaults.renderer||new Sm;for(const r in t.renderer){const a=i[r];i[r]=(...l)=>{let d=t.renderer[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}n.renderer=i}if(t.tokenizer){const i=Ge.defaults.tokenizer||new Cm;for(const r in t.tokenizer){const a=i[r];i[r]=(...l)=>{let d=t.tokenizer[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}n.tokenizer=i}if(t.hooks){const i=Ge.defaults.hooks||new uc;for(const r in t.hooks){const a=i[r];uc.passThroughHooks.has(r)?i[r]=l=>{if(Ge.defaults.async)return Promise.resolve(t.hooks[r].call(i,l)).then(c=>a.call(i,c));const d=t.hooks[r].call(i,l);return a.call(i,d)}:i[r]=(...l)=>{let d=t.hooks[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}n.hooks=i}if(t.walkTokens){const i=Ge.defaults.walkTokens;n.walkTokens=function(r){let a=[];return a.push(t.walkTokens.call(this,r)),i&&(a=a.concat(i.call(this,r))),a}}Ge.setOptions(n)})};Ge.walkTokens=function(s,e){let t=[];for(const n of s)switch(t=t.concat(e.call(Ge,n)),n.type){case"table":{for(const i of n.header)t=t.concat(Ge.walkTokens(i.tokens,e));for(const i of n.rows)for(const r of i)t=t.concat(Ge.walkTokens(r.tokens,e));break}case"list":{t=t.concat(Ge.walkTokens(n.items,e));break}default:Ge.defaults.extensions&&Ge.defaults.extensions.childTokens&&Ge.defaults.extensions.childTokens[n.type]?Ge.defaults.extensions.childTokens[n.type].forEach(function(i){t=t.concat(Ge.walkTokens(n[i],e))}):n.tokens&&(t=t.concat(Ge.walkTokens(n.tokens,e)))}return t};Ge.parseInline=Ab(mi.lexInline,pi.parseInline);Ge.Parser=pi;Ge.parser=pi.parse;Ge.Renderer=Sm;Ge.TextRenderer=Mb;Ge.Lexer=mi;Ge.lexer=mi.lex;Ge.Tokenizer=Cm;Ge.Slugger=Tb;Ge.Hooks=uc;Ge.parse=Ge;Ge.options;Ge.setOptions;Ge.use;Ge.walkTokens;Ge.parseInline;pi.parse;mi.lex;const EP={class:"text-base font-semibold text-gray-800"},PP=["innerHTML"],RP={key:1,class:"mt-4 flex items-center text-sm font-light text-gray-500"},jP=_e({__name:"TaskContent",setup(s){const e=ts(),t=new Ge.Renderer,n=t.link;return t.link=(i,r,a)=>n.call(t,i,r,a).replace(/^<a /,'<a onclick="event.stopPropagation()" target="_blank" rel="noreferrer noopener nofollow" '),(i,r)=>(_(),y("div",{onClick:r[0]||(r[0]=a=>i.can("task:update")?h(e).isContentForm=!0:!1)},[o("h2",EP,u(h(e).data.title),1),h(e).data.description?(_(),y("article",{key:0,class:"prose prose-sm mt-2 break-all text-sm text-gray-700",innerHTML:h(Ge).parse(h(e).data.description||"",{breaks:!0,renderer:h(t)})},null,8,PP)):(_(),y("p",RP,[S(h(Tv),{class:"mr-2 h-4 w-4"}),Q(" "+u(i.__("Description")),1)]))]))}});var ji,sd,Ua=typeof Map=="function"?new Map:(ji=[],sd=[],{has:function(s){return ji.indexOf(s)>-1},get:function(s){return sd[ji.indexOf(s)]},set:function(s,e){ji.indexOf(s)===-1&&(ji.push(s),sd.push(e))},delete:function(s){var e=ji.indexOf(s);e>-1&&(ji.splice(e,1),sd.splice(e,1))}}),Db=function(s){return new Event(s,{bubbles:!0})};try{new Event("test")}catch{Db=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function OP(s){var e=Ua.get(s);e&&e.destroy()}function IP(s){var e=Ua.get(s);e&&e.update()}var xa=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((xa=function(s){return s}).destroy=function(s){return s},xa.update=function(s){return s}):((xa=function(s,e){return s&&Array.prototype.forEach.call(s.length?s:[s],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!Ua.has(n)){var i,r=null,a=null,l=null,d=function(){n.clientWidth!==a&&p()},c=(function(g){window.removeEventListener("resize",d,!1),n.removeEventListener("input",p,!1),n.removeEventListener("keyup",p,!1),n.removeEventListener("autosize:destroy",c,!1),n.removeEventListener("autosize:update",p,!1),Object.keys(g).forEach(function(v){n.style[v]=g[v]}),Ua.delete(n)}).bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",c,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",p,!1),window.addEventListener("resize",d,!1),n.addEventListener("input",p,!1),n.addEventListener("autosize:update",p,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",Ua.set(n,{destroy:c,update:p}),(i=window.getComputedStyle(n,null)).resize==="vertical"?n.style.resize="none":i.resize==="both"&&(n.style.resize="horizontal"),r=i.boxSizing==="content-box"?-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),isNaN(r)&&(r=0),p()}function f(g){var v=n.style.width;n.style.width="0px",n.style.width=v,n.style.overflowY=g}function m(){if(n.scrollHeight!==0){var g=function(v){for(var k=[];v&&v.parentNode&&v.parentNode instanceof Element;)v.parentNode.scrollTop&&(v.parentNode.style.scrollBehavior="auto",k.push([v.parentNode,v.parentNode.scrollTop])),v=v.parentNode;return function(){return k.forEach(function(b){var w=b[0];w.scrollTop=b[1],w.style.scrollBehavior=null})}}(n);n.style.height="",n.style.height=n.scrollHeight+r+"px",a=n.clientWidth,g()}}function p(){m();var g=Math.round(parseFloat(n.style.height)),v=window.getComputedStyle(n,null),k=v.boxSizing==="content-box"?Math.round(parseFloat(v.height)):n.offsetHeight;if(k<g?v.overflowY==="hidden"&&(f("scroll"),m(),k=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):v.overflowY!=="hidden"&&(f("hidden"),m(),k=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),l!==k){l=k;var b=Db("autosize:resized");try{n.dispatchEvent(b)}catch{}}}}(t)}),s}).destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],OP),s},xa.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],IP),s});var Eb=xa;const LP={class:"overflow-hidden rounded-md border"},FP=["onKeydown"],NP=["onKeydown"],zP={class:"mt-2"},BP=_e({__name:"TaskContentForm",setup(s){Ye(()=>{document.querySelector(".task-title").focus(),Eb(document.querySelectorAll(".autosize"))});const e=ts(),t=I(!1),n=I(e.data.title),i=I(e.data.description);function r(){if(!t.value){if(e.data.title==n.value&&e.data.description==i.value){a();return}t.value=!0,ce.patch(`tasks/${e.data.id}`,{title:n.value,description:i.value}).then(()=>{t.value=!1,e.data.title=n.value,e.data.description=i.value,a()})}}function a(){n.value="",i.value="",e.isContentForm=!1}return(l,d)=>(_(),y("section",{class:ee({"opacity-50":t.value})},[o("div",LP,[z(o("textarea",{"onUpdate:modelValue":d[0]||(d[0]=c=>n.value=c),class:"autosize task-title block h-8 w-full resize-none border-0 px-2 pt-2 text-base font-semibold text-gray-800 placeholder:text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Task",onKeydown:[Rn(We(r,["prevent"]),["enter"]),Rn(a,["esc"])]},null,40,FP),[[te,n.value]]),z(o("textarea",{"onUpdate:modelValue":d[1]||(d[1]=c=>i.value=c),class:"autosize task-description block h-14 w-full resize-none border-0 px-2 py-2 text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Description",onKeydown:[Rn(We(r,["ctrl"]),["enter"]),Rn(a,["esc"])]},null,40,NP),[[te,i.value]])]),o("div",zP,[o("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r},u(l.__("Save")),1),o("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:a},u(l.__("Cancel")),1)])],2))}}),UP={class:"flex"},VP={class:"flex-1 pl-4"},HP=_e({__name:"TaskMain",setup(s){const e=ts();return(t,n)=>(_(),y("div",UP,[S(hP),o("div",VP,[h(e).isContentForm?(_(),ie(BP,{key:0})):(_(),ie(jP,{key:1}))])]))}}),WP=_e({__name:"ChecklistItemCheckbox",props:{id:{},index:{},isCompleted:{}},setup(s){const e=s,t=ts(),n=en(),i=I(!1);function r(){i.value||(i.value=!0,ce.patch(`checklist-item/${e.id}/complete`).then(({data:l})=>{i.value=!1,t.data.checklists[0].checklist_items[e.index].completed_at=l.completed_at,a()}))}function a(){n.fetch(t.data.project_id)}return(l,d)=>(_(),y("span",{class:ee(["mt-px mr-2 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":s.isCompleted,"border border-gray-300":!s.isCompleted}]),onClick:r},[...d[0]||(d[0]=[o("svg",{viewBox:"0 0 16 16",fill:"white"},[o("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}}),qP={class:"group relative flex"},KP={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},YP=_e({__name:"ChecklistItem",props:{id:{},index:{},item:{},isCompleted:{}},setup(s){const e=s,t=ts(),n=I(!1),i=I(!1),r=en();function a(){i.value||(i.value=!0,ce.delete(`checklist-item/${e.id}`).then(({data:d})=>{i.value=!1,d.success&&(t.data.checklists[0].checklist_items.splice(e.index,1),l())}))}function l(){r.fetch(t.data.project_id)}return(d,c)=>(_(),y("div",qP,[S(WP,{id:s.id,index:s.index,"is-completed":s.isCompleted||null},null,8,["id","index","is-completed"]),o("p",{class:"flex-1 text-sm text-gray-700",onClick:c[0]||(c[0]=f=>d.can("task:update")?h(t).checklistItemForm=s.index:!1)},u(s.item),1),n.value?(_(),y("div",{key:0,class:ee(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":i.value}])},[c[4]||(c[4]=o("span",{class:"mr-2 text-sm text-gray-600"},"Are you sure to delete?",-1)),S(h(ys),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:a}),S(h($n),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:c[1]||(c[1]=f=>n.value=!1)})],2)):(_(),y("div",KP,[d.can("task:update")?(_(),y("span",{key:0,class:"mr-1",onClick:c[2]||(c[2]=f=>h(t).checklistItemForm=s.index)},[S(h(Br),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900"})])):j("",!0),d.can("task:delete")?(_(),ie(h(Kt),{key:1,class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:c[3]||(c[3]=f=>n.value=!0)})):j("",!0)]))]))}}),l1=_e({__name:"ChecklistItemForm",props:{id:{},index:{},item:{}},setup(s){const e=s;Ye(()=>{document.querySelector(".item-input").focus()});const t=ts(),n=I(!1),i=I(e.item),r=en();function a(){t.checklistItemForm=null,t.newChecklistItemForm=!1}function l(){if(n.value||!i.value)return;if(e.item==i.value&&e.id){a();return}n.value=!0;const m=e.id?"patch":"post",p=e.id?`checklist-item/${e.id}`:"checklist-item";ce[m](p,{title:i.value,task_id:t.data.id}).then(({data:g})=>{n.value=!1,e.id?c(g):d(g),e.id?a():i.value="",f()})}function d(m){t.data.checklists.length==0&&(t.data.checklists=[{checklist_items:[]}]),t.data.checklists[0].checklist_items.push(m)}function c(m){t.data.checklists[0].checklist_items[e.index||0]=m}function f(){r.fetch(t.data.project_id)}return(m,p)=>(_(),y("div",{class:ee(["flex",{"opacity-50":n.value}])},[z(o("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),type:"text",class:"item-input block w-full flex-1 rounded-none border-gray-300 text-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50 ltr:rounded-l-md rtl:rounded-r-md",placeholder:"Enter checklist item",onKeyup:Rn(l,["enter"]),onKeydown:Rn(a,["esc"])},null,544),[[te,i.value]]),o("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px rtl:-mr-px rtl:space-x-reverse",onClick:a},[...p[1]||(p[1]=[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),o("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px ltr:rounded-r-md rtl:-mr-px rtl:space-x-reverse rtl:rounded-l-md",onClick:l},[...p[2]||(p[2]=[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])],2))}}),GP={id:"checklist",class:"mt-8"},XP={class:"flex"},JP={class:"flex-1 border-b pb-2"},QP={class:"text-sm font-medium text-gray-800"},ZP={class:"ml-2 text-sm font-light text-gray-600"},eR={class:"pl-8 pt-4"},tR={class:"space-y-4"},sR={class:"pl-2 text-sm text-gray-600 group-hover:text-gray-800"},nR=_e({__name:"Checklist",setup(s){const e=ts();e.checklistItemForm=null,e.newChecklistItemForm=!1;function t(){if(e.data.checklists.length)return e.data.checklists[0].checklist_items.filter(n=>n.completed_at).length+"/"+e.data.checklists[0].checklist_items.length}return(n,i)=>(_(),y("section",GP,[S(h(Yc),{open:!0},{trigger:K(({open:r})=>[o("div",XP,[(_(),y("svg",{class:ee(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!r}]),viewBox:"0 0 16 16"},[...i[1]||(i[1]=[o("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),o("div",JP,[o("span",QP,u(n.__("Checklist")),1),o("span",ZP,u(t()),1)])])]),content:K(()=>[o("div",eR,[o("div",tR,[(_(!0),y(de,null,ye(h(e).data.checklists.length?h(e).data.checklists[0].checklist_items:[],(r,a)=>(_(),ie(fo(h(e).checklistItemForm==a?l1:YP),{key:r.id,id:r.id,index:a,item:r.title,"is-completed":r.completed_at||null},null,8,["id","index","item","is-completed"]))),128))]),!h(e).newChecklistItemForm&&n.can("task:update")?(_(),y("button",{key:0,class:ee(["group flex items-center",{"mt-6":(h(e).data.checklists.length?h(e).data.checklists[0].checklist_items.length:0)>0}]),onClick:i[0]||(i[0]=r=>h(e).newChecklistItemForm=!0)},[i[2]||(i[2]=o("svg",{class:"h-4 w-4 text-gray-600 group-hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),o("span",sR,u(n.__("Add item")),1)],2)):j("",!0),h(e).newChecklistItemForm?(_(),ie(l1,{key:1,class:ee({"mt-6":(h(e).data.checklists.length?h(e).data.checklists[0].checklist_items.length:0)>0})},null,8,["class"])):j("",!0)])]),_:1})]))}}),oR={class:"cursor-pointer"},iR={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},rR={class:"px-6 py-4"},aR={class:"mb-2"},lR=["aria-label"],dR=_e({__name:"TaskShareDropdown",setup(s){const e=I(!1),t=I(window.location.href),n=I(null),i=I("Copy to Clipboard");function r(f){a(),f&&setTimeout(function(){l()})}function a(){navigator.clipboard?e.value=!0:e.value=!1}function l(){var f,m;(f=n.value)==null||f.focus(),(m=n.value)==null||m.select()}function d(){var f,m;navigator.clipboard.writeText(((f=n.value)==null?void 0:f.value)||""),i.value="Copied: "+((m=n.value)==null?void 0:m.value)}function c(){i.value="Copy to Clipboard"}return(f,m)=>(_(),ie(h(Hs),{"close-outside":"",onToggle:r},{trigger:K(()=>[o("span",oR,[S(h(K4),{class:"h-4 w-4 text-gray-600 hover:text-gray-800"})])]),content:K(()=>[o("div",iR,[o("div",rR,[m[1]||(m[1]=o("h3",{class:"mb-4 text-sm font-medium text-gray-700"},"Share URL",-1)),o("section",aR,[o("div",{class:"flex w-full items-center rounded-md border border-gray-300 px-3 py-2",onClick:l},[z(o("input",{ref_key:"input",ref:n,"onUpdate:modelValue":m[0]||(m[0]=p=>t.value=p),type:"text",readonly:"",class:"flex-1 border-0 py-0 px-0 text-sm text-gray-600 focus:ring-0"},null,512),[[te,t.value]]),e.value?(_(),y("span",{key:0,class:"ml-2 block w-4 cursor-pointer text-gray-500 hover:text-gray-800","aria-label":i.value,"data-cooltipz-dir":"bottom",onClick:d,onMouseover:c},[S(h(n$),{class:"h-4 w-4"})],40,lR)):j("",!0)])])])])]),_:1}))}}),cR={class:"py-3.5"},uR={class:"flex items-center px-2"},fR={class:"text-sm font-medium text-gray-600"},hR=_e({__name:"TaskShare",setup(s){return(e,t)=>(_(),y("section",cR,[o("div",uR,[o("h2",fR,u(e.__("Share")),1),S(dR,{class:"ml-auto"})])]))}}),mR={class:"py-3"},pR={class:"px-2 text-sm font-medium text-gray-600"},gR={key:0,class:"mt-2 space-y-2 px-2"},_R=["disabled"],vR=["disabled"],yR={key:1,class:"mt-2 space-y-2 px-2"},bR=_e({__name:"TaskDelete",setup(s){const e=ts(),t=en(),n=I(!1),i=I(!1);function r(){t.fetch(e.data.project_id)}function a(){n.value||(n.value=!0,ce.patch("tasks/"+e.data.id+"/archive").then(()=>{n.value=!1,r(),e.data.deleted_at="archived",l()}))}function l(){const d=`/projects/${e.data.project_id}`;history.replaceState(history.state,"",d),Ft().pop()}return(d,c)=>(_(),y("section",mR,[o("h2",pR,u(d.__("Delete")),1),i.value?(_(),y("div",gR,[o("button",{class:"flex w-full items-center rounded border border-transparent bg-red-500 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-600 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:a},[S(h(Kt),{class:"mr-2 h-3.5 w-3.5"}),Q(" "+u(d.__("Are you sure")),1)],8,_R),o("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:c[0]||(c[0]=f=>i.value=!1)},[S(h(eP),{class:"mr-2 h-3.5 w-3.5"}),Q(" "+u(d.__("Cancel")),1)],8,vR)])):(_(),y("div",yR,[o("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0",onClick:c[1]||(c[1]=f=>i.value=!0)},[S(h(Kt),{class:"mr-2 h-3.5 w-3.5"}),c[2]||(c[2]=Q(" Delete ",-1))])]))]))}});var mf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],kr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(s){return typeof console<"u"&&void 0},getWeek:function(s){var e=new Date(s.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},al={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(s){var e=s%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},nn=function(s,e){return e===void 0&&(e=2),("000"+s).slice(e*-1)},Dn=function(s){return s===!0?1:0};function d1(s,e){var t;return function(){var n=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return s.apply(n,i)},e)}}var pf=function(s){return s instanceof Array?s:[s]};function qs(s,e,t){if(t===!0)return s.classList.add(e);s.classList.remove(e)}function Mt(s,e,t){var n=window.document.createElement(s);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function nd(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Pb(s,e){if(e(s))return s;if(s.parentNode)return Pb(s.parentNode,e)}function od(s,e){var t=Mt("div","numInputWrapper"),n=Mt("input","numInput "+s),i=Mt("span","arrowUp"),r=Mt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var a in e)n.setAttribute(a,e[a]);return t.appendChild(n),t.appendChild(i),t.appendChild(r),t}function hn(s){try{if(typeof s.composedPath=="function"){var e=s.composedPath();return e[0]}return s.target}catch{return s.target}}var gf=function(){},fc=function(s,e,t){return t.months[e?"shorthand":"longhand"][s]},xR={D:gf,F:function(s,e,t){s.setMonth(t.months.longhand.indexOf(e))},G:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},H:function(s,e){s.setHours(parseFloat(e))},J:function(s,e){s.setDate(parseFloat(e))},K:function(s,e,t){s.setHours(s.getHours()%12+12*Dn(new RegExp(t.amPM[1],"i").test(e)))},M:function(s,e,t){s.setMonth(t.months.shorthand.indexOf(e))},S:function(s,e){s.setSeconds(parseFloat(e))},U:function(s,e){return new Date(parseFloat(e)*1e3)},W:function(s,e,t){var n=parseInt(e),i=new Date(s.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(s,e){s.setFullYear(parseFloat(e))},Z:function(s,e){return new Date(e)},d:function(s,e){s.setDate(parseFloat(e))},h:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},i:function(s,e){s.setMinutes(parseFloat(e))},j:function(s,e){s.setDate(parseFloat(e))},l:gf,m:function(s,e){s.setMonth(parseFloat(e)-1)},n:function(s,e){s.setMonth(parseFloat(e)-1)},s:function(s,e){s.setSeconds(parseFloat(e))},u:function(s,e){return new Date(parseFloat(e))},w:gf,y:function(s,e){s.setFullYear(2e3+parseFloat(e))}},Bi={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Va={Z:function(s){return s.toISOString()},D:function(s,e,t){return e.weekdays.shorthand[Va.w(s,e,t)]},F:function(s,e,t){return fc(Va.n(s,e,t)-1,!1,e)},G:function(s,e,t){return nn(Va.h(s,e,t))},H:function(s){return nn(s.getHours())},J:function(s,e){return e.ordinal!==void 0?s.getDate()+e.ordinal(s.getDate()):s.getDate()},K:function(s,e){return e.amPM[Dn(s.getHours()>11)]},M:function(s,e){return fc(s.getMonth(),!0,e)},S:function(s){return nn(s.getSeconds())},U:function(s){return s.getTime()/1e3},W:function(s,e,t){return t.getWeek(s)},Y:function(s){return nn(s.getFullYear(),4)},d:function(s){return nn(s.getDate())},h:function(s){return s.getHours()%12?s.getHours()%12:12},i:function(s){return nn(s.getMinutes())},j:function(s){return s.getDate()},l:function(s,e){return e.weekdays.longhand[s.getDay()]},m:function(s){return nn(s.getMonth()+1)},n:function(s){return s.getMonth()+1},s:function(s){return s.getSeconds()},u:function(s){return s.getTime()},w:function(s){return s.getDay()},y:function(s){return String(s.getFullYear()).substring(2)}},Rb=function(s){var e=s.config,t=e===void 0?kr:e,n=s.l10n,i=n===void 0?al:n,r=s.isMobile,a=r===void 0?!1:r;return function(l,d,c){var f=c||i;return t.formatDate!==void 0&&!a?t.formatDate(l,d,f):d.split("").map(function(m,p,g){return Va[m]&&g[p-1]!=="\\"?Va[m](l,f,t):m!=="\\"?m:""}).join("")}},mh=function(s){var e=s.config,t=e===void 0?kr:e,n=s.l10n,i=n===void 0?al:n;return function(r,a,l,d){if(!(r!==0&&!r)){var c=d||i,f,m=r;if(r instanceof Date)f=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)f=new Date(r);else if(typeof r=="string"){var p=a||(t||kr).dateFormat,g=String(r).trim();if(g==="today")f=new Date,l=!0;else if(t&&t.parseDate)f=t.parseDate(r,p);else if(/Z$/.test(g)||/GMT$/.test(g))f=new Date(r);else{for(var v=void 0,k=[],b=0,w=0,x="";b<p.length;b++){var M=p[b],C=M==="\\",O=p[b-1]==="\\"||C;if(Bi[M]&&!O){x+=Bi[M];var N=new RegExp(x).exec(r);N&&(v=!0)&&k[M!=="Y"?"push":"unshift"]({fn:xR[M],val:N[++w]})}else C||(x+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),k.forEach(function(E){var B=E.fn,L=E.val;return f=B(f,L,c)||f}),f=v?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+m));return}return l===!0&&f.setHours(0,0,0,0),f}}};function pn(s,e,t){return t===void 0&&(t=!0),t!==!1?new Date(s.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):s.getTime()-e.getTime()}var wR=function(s,e,t){return s>Math.min(e,t)&&s<Math.max(e,t)},_f=function(s,e,t){return s*3600+e*60+t},kR=function(s){var e=Math.floor(s/3600),t=(s-e*3600)/60;return[e,t,s-e*3600-t*60]},$R={DAY:864e5};function vf(s){var e=s.defaultHour,t=s.defaultMinute,n=s.defaultSeconds;if(s.minDate!==void 0){var i=s.minDate.getHours(),r=s.minDate.getMinutes(),a=s.minDate.getSeconds();e<i&&(e=i),e===i&&t<r&&(t=r),e===i&&t===r&&n<a&&(n=s.minDate.getSeconds())}if(s.maxDate!==void 0){var l=s.maxDate.getHours(),d=s.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(d,t)),e===l&&t===d&&(n=s.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!s)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(d){return s[d]=l[d]})},i=0,r=e;i<r.length;i++){var a=r[i];n(a)}return s});var Os=globalThis&&globalThis.__assign||function(){return Os=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},Os.apply(this,arguments)},c1=globalThis&&globalThis.__spreadArrays||function(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var n=Array(s),i=0,e=0;e<t;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,i++)n[i]=r[a];return n},CR=300;function SR(s,e){var t={config:Os(Os({},kr),ss.defaultConfig),l10n:al};t.parseDate=mh({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=k,t._setHoursFromDate=p,t._positionCalendar=Se,t.changeMonth=xe,t.changeYear=$e,t.clear=je,t.close=ot,t.onMouseOver=fe,t._createElement=Mt,t.createDay=N,t.destroy=ht,t.isEnabled=Ne,t.jumpToDate=x,t.updateValue=Un,t.open=Y,t.redraw=ke,t.set=st,t.setDate=At,t.toggle=zn;function n(){t.utils={getDaysInMonth:function(V,W){return V===void 0&&(V=t.currentMonth),W===void 0&&(W=t.currentYear),V===1&&(W%4===0&&W%100!==0||W%400===0)?29:t.l10n.daysInMonth[V]}}}function i(){t.element=t.input=s,t.isOpen=!1,Z(),pe(),as(),_s(),n(),t.isMobile||O(),w(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&p(t.config.noCalendar?t.latestSelectedDateObj:void 0),Un(!1)),l();var V=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&V&&Se(),Nt("onReady")}function r(){var V;return((V=t.calendarContainer)===null||V===void 0?void 0:V.getRootNode()).activeElement||document.activeElement}function a(V){return V.bind(t)}function l(){var V=t.config;V.weekNumbers===!1&&V.showMonths===1||V.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var W=(t.days.offsetWidth+1)*V.showMonths;t.daysContainer.style.width=W+"px",t.calendarContainer.style.width=W+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function d(V){if(t.selectedDates.length===0){var W=t.config.minDate===void 0||pn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),re=vf(t.config);W.setHours(re.hours,re.minutes,re.seconds,W.getMilliseconds()),t.selectedDates=[W],t.latestSelectedDateObj=W}V!==void 0&&V.type!=="blur"&&ru(V);var ge=t._input.value;m(),Un(),t._input.value!==ge&&t._debouncedChange()}function c(V,W){return V%12+12*Dn(W===t.l10n.amPM[1])}function f(V){switch(V%24){case 0:case 12:return 12;default:return V%12}}function m(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var V=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,W=(parseInt(t.minuteElement.value,10)||0)%60,re=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(V=c(V,t.amPM.textContent));var ge=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&pn(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ae=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&pn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ze=_f(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),lt=_f(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ve=_f(V,W,re);if(Ve>lt&&Ve<ze){var pt=kR(ze);V=pt[0],W=pt[1],re=pt[2]}}else{if(Ae){var He=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;V=Math.min(V,He.getHours()),V===He.getHours()&&(W=Math.min(W,He.getMinutes())),W===He.getMinutes()&&(re=Math.min(re,He.getSeconds()))}if(ge){var nt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;V=Math.max(V,nt.getHours()),V===nt.getHours()&&W<nt.getMinutes()&&(W=nt.getMinutes()),W===nt.getMinutes()&&(re=Math.max(re,nt.getSeconds()))}}g(V,W,re)}}function p(V){var W=V||t.latestSelectedDateObj;W&&W instanceof Date&&g(W.getHours(),W.getMinutes(),W.getSeconds())}function g(V,W,re){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(V%24,W,re||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=nn(t.config.time_24hr?V:(12+V)%12+12*Dn(V%12===0)),t.minuteElement.value=nn(W),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Dn(V>=12)]),t.secondElement!==void 0&&(t.secondElement.value=nn(re)))}function v(V){var W=hn(V),re=parseInt(W.value)+(V.delta||0);(re/1e3>1||V.key==="Enter"&&!/[^\d]/.test(re.toString()))&&$e(re)}function k(V,W,re,ge){if(W instanceof Array)return W.forEach(function(Ae){return k(V,Ae,re,ge)});if(V instanceof Array)return V.forEach(function(Ae){return k(Ae,W,re,ge)});V.addEventListener(W,re,ge),t._handlers.push({remove:function(){return V.removeEventListener(W,re,ge)}})}function b(){Nt("onChange")}function w(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(re){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+re+"]"),function(ge){return k(ge,"click",t[re])})}),t.isMobile){hs();return}var V=d1(U,50);if(t._debouncedChange=d1(b,CR),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&k(t.daysContainer,"mouseover",function(re){t.config.mode==="range"&&fe(hn(re))}),k(t._input,"keydown",ue),t.calendarContainer!==void 0&&k(t.calendarContainer,"keydown",ue),!t.config.inline&&!t.config.static&&k(window,"resize",V),window.ontouchstart!==void 0?k(window.document,"touchstart",we):k(window.document,"mousedown",we),k(window.document,"focus",we,{capture:!0}),t.config.clickOpens===!0&&(k(t._input,"focus",t.open),k(t._input,"click",t.open)),t.daysContainer!==void 0&&(k(t.monthNav,"click",zo),k(t.monthNav,["keyup","increment"],v),k(t.daysContainer,"click",Fe)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var W=function(re){return hn(re).select()};k(t.timeContainer,["increment"],d),k(t.timeContainer,"blur",d,{capture:!0}),k(t.timeContainer,"click",M),k([t.hourElement,t.minuteElement],["focus","click"],W),t.secondElement!==void 0&&k(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&k(t.amPM,"click",function(re){d(re)})}t.config.allowInput&&k(t._input,"blur",Oe)}function x(V,W){var re=V!==void 0?t.parseDate(V):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ge=t.currentYear,Ae=t.currentMonth;try{re!==void 0&&(t.currentYear=re.getFullYear(),t.currentMonth=re.getMonth())}catch(ze){ze.message="Invalid date supplied: "+re,t.config.errorHandler(ze)}W&&t.currentYear!==ge&&(Nt("onYearChange"),F()),W&&(t.currentYear!==ge||t.currentMonth!==Ae)&&Nt("onMonthChange"),t.redraw()}function M(V){var W=hn(V);~W.className.indexOf("arrow")&&C(V,W.classList.contains("arrowUp")?1:-1)}function C(V,W,re){var ge=V&&hn(V),Ae=re||ge&&ge.parentNode&&ge.parentNode.firstChild,ze=ms("increment");ze.delta=W,Ae&&Ae.dispatchEvent(ze)}function O(){var V=window.document.createDocumentFragment();if(t.calendarContainer=Mt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(V.appendChild(le()),t.innerContainer=Mt("div","flatpickr-innerContainer"),t.config.weekNumbers){var W=oe(),re=W.weekWrapper,ge=W.weekNumbers;t.innerContainer.appendChild(re),t.weekNumbers=ge,t.weekWrapper=re}t.rContainer=Mt("div","flatpickr-rContainer"),t.rContainer.appendChild(ne()),t.daysContainer||(t.daysContainer=Mt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),A(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),V.appendChild(t.innerContainer)}t.config.enableTime&&V.appendChild(J()),qs(t.calendarContainer,"rangeMode",t.config.mode==="range"),qs(t.calendarContainer,"animate",t.config.animate===!0),qs(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(V);var Ae=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ae&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ze=Mt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ze,t.element),ze.appendChild(t.element),t.altInput&&ze.appendChild(t.altInput),ze.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function N(V,W,re,ge){var Ae=Ne(W,!0),ze=Mt("span",V,W.getDate().toString());return ze.dateObj=W,ze.$i=ge,ze.setAttribute("aria-label",t.formatDate(W,t.config.ariaDateFormat)),V.indexOf("hidden")===-1&&pn(W,t.now)===0&&(t.todayDateElem=ze,ze.classList.add("today"),ze.setAttribute("aria-current","date")),Ae?(ze.tabIndex=-1,Es(W)&&(ze.classList.add("selected"),t.selectedDateElem=ze,t.config.mode==="range"&&(qs(ze,"startRange",t.selectedDates[0]&&pn(W,t.selectedDates[0],!0)===0),qs(ze,"endRange",t.selectedDates[1]&&pn(W,t.selectedDates[1],!0)===0),V==="nextMonthDay"&&ze.classList.add("inRange")))):ze.classList.add("flatpickr-disabled"),t.config.mode==="range"&&or(W)&&!Es(W)&&ze.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&V!=="prevMonthDay"&&ge%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(W)+"</span>"),Nt("onDayCreate",ze),ze}function E(V){V.focus(),t.config.mode==="range"&&fe(V)}function B(V){for(var W=V>0?0:t.config.showMonths-1,re=V>0?t.config.showMonths:-1,ge=W;ge!=re;ge+=V)for(var Ae=t.daysContainer.children[ge],ze=V>0?0:Ae.children.length-1,lt=V>0?Ae.children.length:-1,Ve=ze;Ve!=lt;Ve+=V){var pt=Ae.children[Ve];if(pt.className.indexOf("hidden")===-1&&Ne(pt.dateObj))return pt}}function L(V,W){for(var re=V.className.indexOf("Month")===-1?V.dateObj.getMonth():t.currentMonth,ge=W>0?t.config.showMonths:-1,Ae=W>0?1:-1,ze=re-t.currentMonth;ze!=ge;ze+=Ae)for(var lt=t.daysContainer.children[ze],Ve=re-t.currentMonth===ze?V.$i+W:W<0?lt.children.length-1:0,pt=lt.children.length,He=Ve;He>=0&&He<pt&&He!=(W>0?pt:-1);He+=Ae){var nt=lt.children[He];if(nt.className.indexOf("hidden")===-1&&Ne(nt.dateObj)&&Math.abs(V.$i-He)>=Math.abs(W))return E(nt)}t.changeMonth(Ae),P(B(Ae),0)}function P(V,W){var re=r(),ge=et(re||document.body),Ae=V!==void 0?V:ge?re:t.selectedDateElem!==void 0&&et(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&et(t.todayDateElem)?t.todayDateElem:B(W>0?1:-1);Ae===void 0?t._input.focus():ge?L(Ae,W):E(Ae)}function R(V,W){for(var re=(new Date(V,W,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ge=t.utils.getDaysInMonth((W-1+12)%12,V),Ae=t.utils.getDaysInMonth(W,V),ze=window.document.createDocumentFragment(),lt=t.config.showMonths>1,Ve=lt?"prevMonthDay hidden":"prevMonthDay",pt=lt?"nextMonthDay hidden":"nextMonthDay",He=ge+1-re,nt=0;He<=ge;He++,nt++)ze.appendChild(N("flatpickr-day "+Ve,new Date(V,W-1,He),He,nt));for(He=1;He<=Ae;He++,nt++)ze.appendChild(N("flatpickr-day",new Date(V,W,He),He,nt));for(var Pt=Ae+1;Pt<=42-re&&(t.config.showMonths===1||nt%7!==0);Pt++,nt++)ze.appendChild(N("flatpickr-day "+pt,new Date(V,W+1,Pt%Ae),Pt,nt));var Mn=Mt("div","dayContainer");return Mn.appendChild(ze),Mn}function A(){if(t.daysContainer!==void 0){nd(t.daysContainer),t.weekNumbers&&nd(t.weekNumbers);for(var V=document.createDocumentFragment(),W=0;W<t.config.showMonths;W++){var re=new Date(t.currentYear,t.currentMonth,1);re.setMonth(t.currentMonth+W),V.appendChild(R(re.getFullYear(),re.getMonth()))}t.daysContainer.appendChild(V),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&fe()}}function F(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var V=function(ge){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ge<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ge>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var W=0;W<12;W++)if(V(W)){var re=Mt("option","flatpickr-monthDropdown-month");re.value=new Date(t.currentYear,W).getMonth().toString(),re.textContent=fc(W,t.config.shorthandCurrentMonth,t.l10n),re.tabIndex=-1,t.currentMonth===W&&(re.selected=!0),t.monthsDropdownContainer.appendChild(re)}}}function be(){var V=Mt("div","flatpickr-month"),W=window.document.createDocumentFragment(),re;t.config.showMonths>1||t.config.monthSelectorType==="static"?re=Mt("span","cur-month"):(t.monthsDropdownContainer=Mt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),k(t.monthsDropdownContainer,"change",function(lt){var Ve=hn(lt),pt=parseInt(Ve.value,10);t.changeMonth(pt-t.currentMonth),Nt("onMonthChange")}),F(),re=t.monthsDropdownContainer);var ge=od("cur-year",{tabindex:"-1"}),Ae=ge.getElementsByTagName("input")[0];Ae.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ae.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ae.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ae.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ze=Mt("div","flatpickr-current-month");return ze.appendChild(re),ze.appendChild(ge),W.appendChild(ze),V.appendChild(W),{container:V,yearElement:Ae,monthElement:re}}function ae(){nd(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var V=t.config.showMonths;V--;){var W=be();t.yearElements.push(W.yearElement),t.monthElements.push(W.monthElement),t.monthNav.appendChild(W.container)}t.monthNav.appendChild(t.nextMonthNav)}function le(){return t.monthNav=Mt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Mt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Mt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ae(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(V){t.__hidePrevMonthArrow!==V&&(qs(t.prevMonthNav,"flatpickr-disabled",V),t.__hidePrevMonthArrow=V)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(V){t.__hideNextMonthArrow!==V&&(qs(t.nextMonthNav,"flatpickr-disabled",V),t.__hideNextMonthArrow=V)}}),t.currentYearElement=t.yearElements[0],Bn(),t.monthNav}function J(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var V=vf(t.config);t.timeContainer=Mt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var W=Mt("span","flatpickr-time-separator",":"),re=od("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=re.getElementsByTagName("input")[0];var ge=od("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ge.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=nn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?V.hours:f(V.hours)),t.minuteElement.value=nn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():V.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(re),t.timeContainer.appendChild(W),t.timeContainer.appendChild(ge),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ae=od("flatpickr-second");t.secondElement=Ae.getElementsByTagName("input")[0],t.secondElement.value=nn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():V.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Mt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ae)}return t.config.time_24hr||(t.amPM=Mt("span","flatpickr-am-pm",t.l10n.amPM[Dn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ne(){t.weekdayContainer?nd(t.weekdayContainer):t.weekdayContainer=Mt("div","flatpickr-weekdays");for(var V=t.config.showMonths;V--;){var W=Mt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(W)}return q(),t.weekdayContainer}function q(){if(t.weekdayContainer){var V=t.l10n.firstDayOfWeek,W=c1(t.l10n.weekdays.shorthand);V>0&&V<W.length&&(W=c1(W.splice(V,W.length),W.splice(0,V)));for(var re=t.config.showMonths;re--;)t.weekdayContainer.children[re].innerHTML=`
      <span class='flatpickr-weekday'>
        `+W.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function oe(){t.calendarContainer.classList.add("hasWeeks");var V=Mt("div","flatpickr-weekwrapper");V.appendChild(Mt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var W=Mt("div","flatpickr-weeks");return V.appendChild(W),{weekWrapper:V,weekNumbers:W}}function xe(V,W){W===void 0&&(W=!0);var re=W?V:V-t.currentMonth;re<0&&t._hidePrevMonthArrow===!0||re>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=re,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Nt("onYearChange"),F()),A(),Nt("onMonthChange"),Bn())}function je(V,W){if(V===void 0&&(V=!0),W===void 0&&(W=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,W===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var re=vf(t.config),ge=re.hours,Ae=re.minutes,ze=re.seconds;g(ge,Ae,ze)}t.redraw(),V&&Nt("onChange")}function ot(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Nt("onClose")}function ht(){t.config!==void 0&&Nt("onDestroy");for(var V=t._handlers.length;V--;)t._handlers[V].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var W=t.calendarContainer.parentNode;if(W.lastChild&&W.removeChild(W.lastChild),W.parentNode){for(;W.firstChild;)W.parentNode.insertBefore(W.firstChild,W);W.parentNode.removeChild(W)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(re){try{delete t[re]}catch{}})}function he(V){return t.calendarContainer.contains(V)}function we(V){if(t.isOpen&&!t.config.inline){var W=hn(V),re=he(W),ge=W===t.input||W===t.altInput||t.element.contains(W)||V.path&&V.path.indexOf&&(~V.path.indexOf(t.input)||~V.path.indexOf(t.altInput)),Ae=!ge&&!re&&!he(V.relatedTarget),ze=!t.config.ignoredFocusElements.some(function(lt){return lt.contains(W)});Ae&&ze&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&d(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function $e(V){if(!(!V||t.config.minDate&&V<t.config.minDate.getFullYear()||t.config.maxDate&&V>t.config.maxDate.getFullYear())){var W=V,re=t.currentYear!==W;t.currentYear=W||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),re&&(t.redraw(),Nt("onYearChange"),F())}}function Ne(V,W){var re;W===void 0&&(W=!0);var ge=t.parseDate(V,void 0,W);if(t.config.minDate&&ge&&pn(ge,t.config.minDate,W!==void 0?W:!t.minDateHasTime)<0||t.config.maxDate&&ge&&pn(ge,t.config.maxDate,W!==void 0?W:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ge===void 0)return!1;for(var Ae=!!t.config.enable,ze=(re=t.config.enable)!==null&&re!==void 0?re:t.config.disable,lt=0,Ve=void 0;lt<ze.length;lt++){if(Ve=ze[lt],typeof Ve=="function"&&Ve(ge))return Ae;if(Ve instanceof Date&&ge!==void 0&&Ve.getTime()===ge.getTime())return Ae;if(typeof Ve=="string"){var pt=t.parseDate(Ve,void 0,!0);return pt&&pt.getTime()===ge.getTime()?Ae:!Ae}else if(typeof Ve=="object"&&ge!==void 0&&Ve.from&&Ve.to&&ge.getTime()>=Ve.from.getTime()&&ge.getTime()<=Ve.to.getTime())return Ae}return!Ae}function et(V){return t.daysContainer!==void 0?V.className.indexOf("hidden")===-1&&V.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(V):!1}function Oe(V){var W=V.target===t._input,re=t._input.value.trimEnd()!==fn();W&&re&&!(V.relatedTarget&&he(V.relatedTarget))&&t.setDate(t._input.value,!0,V.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ue(V){var W=hn(V),re=t.config.wrap?s.contains(W):W===t._input,ge=t.config.allowInput,Ae=t.isOpen&&(!ge||!re),ze=t.config.inline&&re&&!ge;if(V.keyCode===13&&re){if(ge)return t.setDate(t._input.value,!0,W===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),W.blur();t.open()}else if(he(W)||Ae||ze){var lt=!!t.timeContainer&&t.timeContainer.contains(W);switch(V.keyCode){case 13:lt?(V.preventDefault(),d(),Ke()):Fe(V);break;case 27:V.preventDefault(),Ke();break;case 8:case 46:re&&!t.config.allowInput&&(V.preventDefault(),t.clear());break;case 37:case 39:if(!lt&&!re){V.preventDefault();var Ve=r();if(t.daysContainer!==void 0&&(ge===!1||Ve&&et(Ve))){var pt=V.keyCode===39?1:-1;V.ctrlKey?(V.stopPropagation(),xe(pt),P(B(1),0)):P(void 0,pt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:V.preventDefault();var He=V.keyCode===40?1:-1;t.daysContainer&&W.$i!==void 0||W===t.input||W===t.altInput?V.ctrlKey?(V.stopPropagation(),$e(t.currentYear-He),P(B(1),0)):lt||P(void 0,He*7):W===t.currentYearElement?$e(t.currentYear-He):t.config.enableTime&&(!lt&&t.hourElement&&t.hourElement.focus(),d(V),t._debouncedChange());break;case 9:if(lt){var nt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ws){return Ws}),Pt=nt.indexOf(W);if(Pt!==-1){var Mn=nt[Pt+(V.shiftKey?-1:1)];V.preventDefault(),(Mn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(W)&&V.shiftKey&&(V.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&W===t.amPM)switch(V.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],m(),Un();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],m(),Un();break}(re||he(W))&&Nt("onKeyDown",V)}function fe(V,W){if(W===void 0&&(W="flatpickr-day"),!(t.selectedDates.length!==1||V&&(!V.classList.contains(W)||V.classList.contains("flatpickr-disabled")))){for(var re=V?V.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ge=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ae=Math.min(re,t.selectedDates[0].getTime()),ze=Math.max(re,t.selectedDates[0].getTime()),lt=!1,Ve=0,pt=0,He=Ae;He<ze;He+=$R.DAY)Ne(new Date(He),!0)||(lt=lt||He>Ae&&He<ze,He<ge&&(!Ve||He>Ve)?Ve=He:He>ge&&(!pt||He<pt)&&(pt=He));var nt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+W));nt.forEach(function(Pt){var Mn=Pt.dateObj,Ws=Mn.getTime(),xi=Ve>0&&Ws<Ve||pt>0&&Ws>pt;if(xi){Pt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Bo){Pt.classList.remove(Bo)});return}else if(lt&&!xi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Bo){Pt.classList.remove(Bo)}),V!==void 0&&(V.classList.add(re<=t.selectedDates[0].getTime()?"startRange":"endRange"),ge<re&&Ws===ge?Pt.classList.add("startRange"):ge>re&&Ws===ge&&Pt.classList.add("endRange"),Ws>=Ve&&(pt===0||Ws<=pt)&&wR(Ws,ge,re)&&Pt.classList.add("inRange"))})}}function U(){t.isOpen&&!t.config.static&&!t.config.inline&&Se()}function Y(V,W){if(W===void 0&&(W=t._positionElement),t.isMobile===!0){if(V){V.preventDefault();var re=hn(V);re&&re.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Nt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ge=t.isOpen;t.isOpen=!0,ge||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Nt("onOpen"),Se(W)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(V===void 0||!t.timeContainer.contains(V.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function X(V){return function(W){var re=t.config["_"+V+"Date"]=t.parseDate(W,t.config.dateFormat),ge=t.config["_"+(V==="min"?"max":"min")+"Date"];re!==void 0&&(t[V==="min"?"minDateHasTime":"maxDateHasTime"]=re.getHours()>0||re.getMinutes()>0||re.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ae){return Ne(Ae)}),!t.selectedDates.length&&V==="min"&&p(re),Un()),t.daysContainer&&(ke(),re!==void 0?t.currentYearElement[V]=re.getFullYear().toString():t.currentYearElement.removeAttribute(V),t.currentYearElement.disabled=!!ge&&re!==void 0&&ge.getFullYear()===re.getFullYear())}}function Z(){var V=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],W=Os(Os({},JSON.parse(JSON.stringify(s.dataset||{}))),e),re={};t.config.parseDate=W.parseDate,t.config.formatDate=W.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(nt){t.config._enable=bt(nt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(nt){t.config._disable=bt(nt)}});var ge=W.mode==="time";if(!W.dateFormat&&(W.enableTime||ge)){var Ae=ss.defaultConfig.dateFormat||kr.dateFormat;re.dateFormat=W.noCalendar||ge?"H:i"+(W.enableSeconds?":S":""):Ae+" H:i"+(W.enableSeconds?":S":"")}if(W.altInput&&(W.enableTime||ge)&&!W.altFormat){var ze=ss.defaultConfig.altFormat||kr.altFormat;re.altFormat=W.noCalendar||ge?"h:i"+(W.enableSeconds?":S K":" K"):ze+(" h:i"+(W.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:X("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:X("max")});var lt=function(nt){return function(Pt){t.config[nt==="min"?"_minTime":"_maxTime"]=t.parseDate(Pt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:lt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:lt("max")}),W.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,re,W);for(var Ve=0;Ve<V.length;Ve++)t.config[V[Ve]]=t.config[V[Ve]]===!0||t.config[V[Ve]]==="true";mf.filter(function(nt){return t.config[nt]!==void 0}).forEach(function(nt){t.config[nt]=pf(t.config[nt]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ve=0;Ve<t.config.plugins.length;Ve++){var pt=t.config.plugins[Ve](t)||{};for(var He in pt)mf.indexOf(He)>-1?t.config[He]=pf(pt[He]).map(a).concat(t.config[He]):typeof W[He]>"u"&&(t.config[He]=pt[He])}W.altInputClass||(t.config.altInputClass=se().className+" "+t.config.altInputClass),Nt("onParseConfig")}function se(){return t.config.wrap?s.querySelector("[data-input]"):s}function pe(){typeof t.config.locale!="object"&&typeof ss.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Os(Os({},ss.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?ss.l10ns[t.config.locale]:void 0),Bi.D="("+t.l10n.weekdays.shorthand.join("|")+")",Bi.l="("+t.l10n.weekdays.longhand.join("|")+")",Bi.M="("+t.l10n.months.shorthand.join("|")+")",Bi.F="("+t.l10n.months.longhand.join("|")+")",Bi.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var V=Os(Os({},e),JSON.parse(JSON.stringify(s.dataset||{})));V.time_24hr===void 0&&ss.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Rb(t),t.parseDate=mh({config:t.config,l10n:t.l10n})}function Se(V){if(typeof t.config.position=="function")return void t.config.position(t,V);if(t.calendarContainer!==void 0){Nt("onPreCalendarPosition");var W=V||t._positionElement,re=Array.prototype.reduce.call(t.calendarContainer.children,function(uu,fu){return uu+fu.offsetHeight},0),ge=t.calendarContainer.offsetWidth,Ae=t.config.position.split(" "),ze=Ae[0],lt=Ae.length>1?Ae[1]:null,Ve=W.getBoundingClientRect(),pt=window.innerHeight-Ve.bottom,He=ze==="above"||ze!=="below"&&pt<re&&Ve.top>re,nt=window.pageYOffset+Ve.top+(He?-re-2:W.offsetHeight+2);if(qs(t.calendarContainer,"arrowTop",!He),qs(t.calendarContainer,"arrowBottom",He),!t.config.inline){var Pt=window.pageXOffset+Ve.left,Mn=!1,Ws=!1;lt==="center"?(Pt-=(ge-Ve.width)/2,Mn=!0):lt==="right"&&(Pt-=ge-Ve.width,Ws=!0),qs(t.calendarContainer,"arrowLeft",!Mn&&!Ws),qs(t.calendarContainer,"arrowCenter",Mn),qs(t.calendarContainer,"arrowRight",Ws);var xi=window.document.body.offsetWidth-(window.pageXOffset+Ve.right),Bo=Pt+ge>window.document.body.offsetWidth,wl=xi+ge>window.document.body.offsetWidth;if(qs(t.calendarContainer,"rightMost",Bo),!t.config.static)if(t.calendarContainer.style.top=nt+"px",!Bo)t.calendarContainer.style.left=Pt+"px",t.calendarContainer.style.right="auto";else if(!wl)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=xi+"px";else{var Vn=Te();if(Vn===void 0)return;var au=window.document.body.offsetWidth,lu=Math.max(0,au/2-ge/2),du=".flatpickr-calendar.centerMost:before",Kr=".flatpickr-calendar.centerMost:after",Yr=Vn.cssRules.length,cu="{left:"+Ve.left+"px;right:auto;}";qs(t.calendarContainer,"rightMost",!1),qs(t.calendarContainer,"centerMost",!0),Vn.insertRule(du+","+Kr+cu,Yr),t.calendarContainer.style.left=lu+"px",t.calendarContainer.style.right="auto"}}}}function Te(){for(var V=null,W=0;W<document.styleSheets.length;W++){var re=document.styleSheets[W];if(re.cssRules){try{re.cssRules}catch{continue}V=re;break}}return V??Ce()}function Ce(){var V=document.createElement("style");return document.head.appendChild(V),V.sheet}function ke(){t.config.noCalendar||t.isMobile||(F(),Bn(),A())}function Ke(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Fe(V){V.preventDefault(),V.stopPropagation();var W=function(nt){return nt.classList&&nt.classList.contains("flatpickr-day")&&!nt.classList.contains("flatpickr-disabled")&&!nt.classList.contains("notAllowed")},re=Pb(hn(V),W);if(re!==void 0){var ge=re,Ae=t.latestSelectedDateObj=new Date(ge.dateObj.getTime()),ze=(Ae.getMonth()<t.currentMonth||Ae.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ge,t.config.mode==="single")t.selectedDates=[Ae];else if(t.config.mode==="multiple"){var lt=Es(Ae);lt?t.selectedDates.splice(parseInt(lt),1):t.selectedDates.push(Ae)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ae,t.selectedDates.push(Ae),pn(Ae,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(nt,Pt){return nt.getTime()-Pt.getTime()}));if(m(),ze){var Ve=t.currentYear!==Ae.getFullYear();t.currentYear=Ae.getFullYear(),t.currentMonth=Ae.getMonth(),Ve&&(Nt("onYearChange"),F()),Nt("onMonthChange")}if(Bn(),A(),Un(),!ze&&t.config.mode!=="range"&&t.config.showMonths===1?E(ge):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var pt=t.config.mode==="single"&&!t.config.enableTime,He=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(pt||He)&&Ke()}b()}}var De={locale:[pe,q],showMonths:[ae,l,ne],minDate:[x],maxDate:[x],positionElement:[Ds],clickOpens:[function(){t.config.clickOpens===!0?(k(t._input,"focus",t.open),k(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function st(V,W){if(V!==null&&typeof V=="object"){Object.assign(t.config,V);for(var re in V)De[re]!==void 0&&De[re].forEach(function(ge){return ge()})}else t.config[V]=W,De[V]!==void 0?De[V].forEach(function(ge){return ge()}):mf.indexOf(V)>-1&&(t.config[V]=pf(W));t.redraw(),Un(!0)}function gt(V,W){var re=[];if(V instanceof Array)re=V.map(function(ge){return t.parseDate(ge,W)});else if(V instanceof Date||typeof V=="number")re=[t.parseDate(V,W)];else if(typeof V=="string")switch(t.config.mode){case"single":case"time":re=[t.parseDate(V,W)];break;case"multiple":re=V.split(t.config.conjunction).map(function(ge){return t.parseDate(ge,W)});break;case"range":re=V.split(t.l10n.rangeSeparator).map(function(ge){return t.parseDate(ge,W)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(V)));t.selectedDates=t.config.allowInvalidPreload?re:re.filter(function(ge){return ge instanceof Date&&Ne(ge,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ge,Ae){return ge.getTime()-Ae.getTime()})}function At(V,W,re){if(W===void 0&&(W=!1),re===void 0&&(re=t.config.dateFormat),V!==0&&!V||V instanceof Array&&V.length===0)return t.clear(W);gt(V,re),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),x(void 0,W),p(),t.selectedDates.length===0&&t.clear(!1),Un(W),W&&Nt("onChange")}function bt(V){return V.slice().map(function(W){return typeof W=="string"||typeof W=="number"||W instanceof Date?t.parseDate(W,void 0,!0):W&&typeof W=="object"&&W.from&&W.to?{from:t.parseDate(W.from,void 0),to:t.parseDate(W.to,void 0)}:W}).filter(function(W){return W})}function _s(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var V=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);V&&gt(V,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function as(){if(t.input=se(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Mt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Ds()}function Ds(){t._positionElement=t.config.positionElement||t._input}function hs(){var V=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Mt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=V,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=V==="datetime-local"?"Y-m-d\\TH:i:S":V==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}k(t.mobileInput,"change",function(W){t.setDate(hn(W).value,!1,t.mobileFormatStr),Nt("onChange"),Nt("onClose")})}function zn(V){if(t.isOpen===!0)return t.close();t.open(V)}function Nt(V,W){if(t.config!==void 0){var re=t.config[V];if(re!==void 0&&re.length>0)for(var ge=0;re[ge]&&ge<re.length;ge++)re[ge](t.selectedDates,t.input.value,t,W);V==="onChange"&&(t.input.dispatchEvent(ms("change")),t.input.dispatchEvent(ms("input")))}}function ms(V){var W=document.createEvent("Event");return W.initEvent(V,!0,!0),W}function Es(V){for(var W=0;W<t.selectedDates.length;W++){var re=t.selectedDates[W];if(re instanceof Date&&pn(re,V)===0)return""+W}return!1}function or(V){return t.config.mode!=="range"||t.selectedDates.length<2?!1:pn(V,t.selectedDates[0])>=0&&pn(V,t.selectedDates[1])<=0}function Bn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(V,W){var re=new Date(t.currentYear,t.currentMonth,1);re.setMonth(t.currentMonth+W),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[W].textContent=fc(re.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=re.getMonth().toString(),V.value=re.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function fn(V){var W=V||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(re){return t.formatDate(re,W)}).filter(function(re,ge,Ae){return t.config.mode!=="range"||t.config.enableTime||Ae.indexOf(re)===ge}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Un(V){V===void 0&&(V=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=fn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=fn(t.config.altFormat)),V!==!1&&Nt("onValueUpdate")}function zo(V){var W=hn(V),re=t.prevMonthNav.contains(W),ge=t.nextMonthNav.contains(W);re||ge?xe(re?-1:1):t.yearElements.indexOf(W)>=0?W.select():W.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):W.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ru(V){V.preventDefault();var W=V.type==="keydown",re=hn(V),ge=re;t.amPM!==void 0&&re===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Dn(t.amPM.textContent===t.l10n.amPM[0])]);var Ae=parseFloat(ge.getAttribute("min")),ze=parseFloat(ge.getAttribute("max")),lt=parseFloat(ge.getAttribute("step")),Ve=parseInt(ge.value,10),pt=V.delta||(W?V.which===38?1:-1:0),He=Ve+lt*pt;if(typeof ge.value<"u"&&ge.value.length===2){var nt=ge===t.hourElement,Pt=ge===t.minuteElement;He<Ae?(He=ze+He+Dn(!nt)+(Dn(nt)&&Dn(!t.amPM)),Pt&&C(void 0,-1,t.hourElement)):He>ze&&(He=ge===t.hourElement?He-ze-Dn(!t.amPM):Ae,Pt&&C(void 0,1,t.hourElement)),t.amPM&&nt&&(lt===1?He+Ve===23:Math.abs(He-Ve)>lt)&&(t.amPM.textContent=t.l10n.amPM[Dn(t.amPM.textContent===t.l10n.amPM[0])]),ge.value=nn(He)}}return i(),t}function $r(s,e){for(var t=Array.prototype.slice.call(s).filter(function(a){return a instanceof HTMLElement}),n=[],i=0;i<t.length;i++){var r=t[i];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=SR(r,e||{}),n.push(r._flatpickr)}catch{}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(s){return $r(this,s)},HTMLElement.prototype.flatpickr=function(s){return $r([this],s)});var ss=function(s,e){return typeof s=="string"?$r(window.document.querySelectorAll(s),e):s instanceof Node?$r([s],e):$r(s,e)};ss.defaultConfig={};ss.l10ns={en:Os({},al),default:Os({},al)};ss.localize=function(s){ss.l10ns.default=Os(Os({},ss.l10ns.default),s)};ss.setDefaults=function(s){ss.defaultConfig=Os(Os({},ss.defaultConfig),s)};ss.parseDate=mh({});ss.formatDate=Rb({});ss.compareDates=pn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(s){return $r(this,s)});Date.prototype.fp_incr=function(s){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof s=="string"?parseInt(s,10):s))};typeof window<"u"&&(window.flatpickr=ss);const jb=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],MR=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],u1=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),f1=s=>s instanceof Array?s:[s],h1=s=>Object.assign({},s),m1=jb.concat(MR),TR=["locale","showMonths"],AR={name:"flat-pickr",render(){return It("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(m1.map(u1)),props:{modelValue:{default:null,required:!0,validator(s){return s===null||s instanceof Date||typeof s=="string"||s instanceof String||s instanceof Array||typeof s=="number"}},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>jb},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){if(this.fp)return;const s=h1(this.config);this.events.forEach(t=>{const n=ss.defaultConfig[t]||[],i=(...r)=>{this.$emit(u1(t),...r)};s[t]=f1(s[t]||[]).concat(n,i)});const e=(...t)=>{this.onClose(...t)};s.onClose=f1(s.onClose||[]).concat(e),s.defaultDate=this.modelValue||s.defaultDate,this.fp=new ss(this.getElem(),s),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(s){const e=s.target;kn().then(()=>{this.$emit("update:modelValue",e.value)})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(s){this.$emit("blur",s.target.value)},onClose(s,e){this.$emit("update:modelValue",e)},watchDisabled(s){s?this.fpInput().setAttribute("disabled",s):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(s){const e=h1(s);m1.forEach(t=>{delete e[t]}),this.fp.set(e),TR.forEach(t=>{typeof e[t]<"u"&&this.fp.set(t,e[t])})}},modelValue(s){s!==this.$refs.root.value&&this.fp&&this.fp.setDate(s,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}},DR={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},ER={class:"px-6 py-4"},PR={class:"mb-6 text-sm font-medium text-gray-700"},RR={class:"flex items-center"},jR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},OR={value:"daily"},IR={value:"weekly"},LR={value:"monthly"},FR={value:"yearly"},NR={key:0,class:"mt-6 flex items-center"},zR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},BR=["value"],UR={key:1,class:"mt-6"},VR={class:"whitespace-nowrap text-sm text-gray-600"},HR={class:"mt-2.5 flex space-x-2"},WR=["onClick"],qR={key:2,class:"mt-6 flex items-center"},KR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},YR=["value"],GR={value:"lastday"},XR={key:3,class:"mt-6 flex items-center"},JR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},QR=["value"],ZR=["value"],ej={value:"lastday"},tj={class:"mt-6"},sj={class:"mb-3 whitespace-nowrap text-sm text-gray-600"},nj={class:"space-y-1.5"},oj={class:"flex h-[1.875rem] items-center"},ij={for:"ends-never",class:"ml-3"},rj={class:"block text-sm text-gray-600"},aj={class:"flex items-center"},lj={class:"flex w-[9.375rem] items-center"},dj={for:"ends-on",class:"ml-3"},cj={class:"block text-sm text-gray-600"},uj={class:"flex items-center"},fj={class:"flex w-[9.375rem] items-center"},hj={for:"ends-after",class:"ml-3"},mj={class:"block text-sm text-gray-600"},pj=["disabled"],gj={class:"pointer-events-none flex items-center pr-2.5"},_j={class:"text-xs text-gray-600"},vj={class:"mt-8"},yj={class:"flex items-center"},bj={for:"task-completion",class:"pl-3 text-sm text-gray-600"},xj={class:"mt-8 flex justify-start"},wj=_e({__name:"TaskRepeatDropdown",setup(s){const e=ts(),t=I(!1),n=I(!1),i={type:"daily",every:1,hour_at:0,day_at:1,month_at:1,repeat_on:[],task_completion_required:!0,ends_at:null,repetitions:1,ends:"never"},r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],a=[{label:"M",value:"Mon"},{label:"T",value:"Tue"},{label:"W",value:"Wed"},{label:"T",value:"Thu"},{label:"F",value:"Fri"},{label:"S",value:"Sat"},{label:"S",value:"Sun"}],l=rt({...i});function d(v){l.repeat_on.includes(v)?l.repeat_on.splice(l.repeat_on.indexOf(v),1):l.repeat_on.push(v)}function c(){t.value=!0,ce.post(`tasks/${e.data.id}/recurring`,{...l}).then(({data:v})=>{t.value=!1,n.value=!0,Object.assign(e.data,v)}).catch(()=>{t.value=!1})}function f(){n.value=!0}function m(){var v;n.value=!1,(v=e.data.meta)!=null&&v.recurring?g():p()}function p(){Object.assign(l,i)}function g(){Object.assign(l,e.data.meta.recurring)}return(v,k)=>(_(),ie(h(Hs),{name:"task-repeat",modal:!0,"close-outside":"",close:n.value,onToggle:m},{trigger:K(()=>[...k[14]||(k[14]=[o("span",{class:"cursor-pointer"},[o("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:K(()=>[o("div",DR,[o("div",ER,[o("h3",PR,u(v.__("Recurrence")),1),o("section",RR,[o("p",jR,u(v.__("Repeat every")),1),z(o("input",{"onUpdate:modelValue":k[0]||(k[0]=b=>l.every=b),type:"number",class:"mr-2 block w-16 rounded-md border-gray-300 px-2.5 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0",min:"1",max:"99",onChange:k[1]||(k[1]=b=>l.every=Math.max(Math.min(Math.round(l.every),99),1))},null,544),[[te,l.every]]),z(o("select",{"onUpdate:modelValue":k[2]||(k[2]=b=>l.type=b),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[o("option",OR,"Day"+u(l.every>1?"s":""),1),o("option",IR," Week"+u(l.every>1?"s":""),1),o("option",LR," Month"+u(l.every>1?"s":""),1),o("option",FR," Year"+u(l.every>1?"s":""),1)],512),[[Me,l.type]])]),l.type=="daily"?(_(),y("section",NR,[o("p",zR,u(v.__("Hour At")),1),z(o("select",{"onUpdate:modelValue":k[3]||(k[3]=b=>l.hour_at=b),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),y(de,null,ye(24,(b,w)=>o("option",{key:b,value:w},u(w.toString().padStart(2,"0"))+":00 ",9,BR)),64))],512),[[Me,l.hour_at]])])):j("",!0),l.type=="weekly"?(_(),y("section",UR,[o("p",VR,u(v.__("Repeat on")),1),o("div",HR,[(_(),y(de,null,ye(a,b=>o("span",{key:b.value,class:ee(["flex h-6 w-6 cursor-pointer items-center justify-center rounded text-xs",{"border border-gray-300 text-gray-500":!l.repeat_on.includes(b.value),"bg-indigo-600 text-white":l.repeat_on.includes(b.value)}]),onClick:w=>d(b.value)},u(b.label),11,WR)),64))])])):j("",!0),l.type=="monthly"?(_(),y("section",qR,[o("p",KR,u(v.__("Day")),1),z(o("select",{"onUpdate:modelValue":k[4]||(k[4]=b=>l.day_at=b),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),y(de,null,ye(31,b=>o("option",{key:b,value:b},u(b.toString().padStart(2,"0")),9,YR)),64)),o("option",GR,u(v.__("Last Day")),1)],512),[[Me,l.day_at]])])):j("",!0),l.type=="yearly"?(_(),y("section",XR,[o("p",JR,u(v.__("Month"))+" / "+u(v.__("Day")),1),z(o("select",{"onUpdate:modelValue":k[5]||(k[5]=b=>l.month_at=b),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),y(de,null,ye(r,b=>o("option",{key:b.label,value:b.value},u(b.label),9,QR)),64))],512),[[Me,l.month_at]]),z(o("select",{"onUpdate:modelValue":k[6]||(k[6]=b=>l.day_at=b),class:"ml-2 block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),y(de,null,ye(31,b=>o("option",{key:b,value:b},u(b.toString().padStart(2,"0")),9,ZR)),64)),o("option",ej,u(v.__("Last Day")),1)],512),[[Me,l.day_at]])])):j("",!0),o("section",tj,[o("p",sj,u(v.__("Ends")),1),o("div",nj,[o("div",oj,[z(o("input",{id:"ends-never","onUpdate:modelValue":k[7]||(k[7]=b=>l.ends=b),type:"radio",value:"never",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Pn,l.ends]]),o("label",ij,[o("span",rj,u(v.__("Never")),1)])]),o("div",aj,[o("div",lj,[z(o("input",{id:"ends-on","onUpdate:modelValue":k[8]||(k[8]=b=>l.ends=b),type:"radio",value:"on",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Pn,l.ends]]),o("label",dj,[o("span",cj,u(v.__("On")),1)])]),o("div",null,[S(h(AR),{id:"ends-on-date",modelValue:l.ends_at,"onUpdate:modelValue":k[9]||(k[9]=b=>l.ends_at=b),disabled:l.ends!="on",class:"block rounded-md border-gray-300 px-2 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50"},null,8,["modelValue","disabled"])])]),o("div",uj,[o("div",fj,[z(o("input",{id:"ends-after","onUpdate:modelValue":k[10]||(k[10]=b=>l.ends=b),type:"radio",value:"after",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Pn,l.ends]]),o("label",hj,[o("span",mj,u(v.__("After")),1)])]),o("div",null,[o("div",{class:ee(["flex rounded-md border border-gray-300 shadow-sm",{"opacity-50":l.ends!="after"}])},[z(o("input",{"onUpdate:modelValue":k[11]||(k[11]=b=>l.repetitions=b),type:"number",placeholder:"1",class:"block w-20 rounded-md border-0 px-2.5 py-1.5 text-xs text-gray-800 focus:ring-0",disabled:l.ends!="after",onChange:k[12]||(k[12]=b=>l.repetitions=Math.max(Math.min(Math.round(l.repetitions),999),1))},null,40,pj),[[te,l.repetitions]]),o("div",gj,[o("span",_j,u(v.__("Occurences")),1)])],2)])])])]),o("section",vj,[o("div",yj,[z(o("input",{id:"task-completion","onUpdate:modelValue":k[13]||(k[13]=b=>l.task_completion_required=b),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,l.task_completion_required]]),o("label",bj,u(v.__("Only if last task was completed")),1)])]),o("section",xj,[S(h(Ie),{size:"xs",processing:t.value,onClick:c},{default:K(()=>[Q(u(v.__("Save")),1)]),_:1},8,["processing"]),o("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:f},u(v.__("Cancel")),1)])])])]),_:1},8,["close"]))}}),kj={class:"py-3.5"},$j={class:"flex items-center px-2"},Cj={class:"text-sm font-medium text-gray-600"},Sj=["aria-label"],Mj={key:0,class:"flex items-center px-2 pt-3"},Tj={"aria-label":"Next Recurring At","data-cooltipz-dir":"bottom"},Aj={class:"ml-2 text-xs text-gray-600"},Dj=_e({__name:"TaskRecurring",setup(s){const e=ts();return(t,n)=>(_(),y("section",kj,[o("div",$j,[o("h2",Cj,u(t.__("Repeat")),1),h(e).data.recurring_at?(_(),y("span",{key:0,class:"ml-2","aria-label":h(e).data.meta.recurring.phrase,"data-cooltipz-dir":"bottom"},[S(h(Er),{class:"h-3 w-3 text-gray-600"})],8,Sj)):j("",!0),t.can("task:update")?(_(),ie(wj,{key:1,class:"ml-auto"})):j("",!0)]),h(e).data.recurring_at?(_(),y("div",Mj,[o("span",Tj,[S(h(Zs),{class:"h-4 w-4 text-gray-500"})]),o("p",Aj,u(h(e).data.recurring_at),1)])):j("",!0)]))}}),Ej={class:"group relative flex py-1"},Pj={class:"h-6 w-6"},Rj={class:"group flex-1 ltr:pl-4 rtl:pr-4"},jj={class:"flex"},Oj={class:"flex text-sm font-medium leading-none text-gray-700"},Ij={class:"text-xs font-normal text-gray-500 ltr:ml-3 rtl:mr-3"},Lj=["innerHTML"],Fj={key:0,class:"mt-4 mb-1 divide-y rounded-md border"},Nj={class:"flex flex-1 items-center"},zj=["href"],Bj=["href"],Uj={class:"mr-2 text-sm text-gray-600"},Vj={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},Hj=_e({__name:"CommentItem",props:{id:{},index:{},comment:{}},setup(s){const e=s,t=new Ge.Renderer,n=t.link;t.link=(d,c,f)=>n.call(t,d,c,f).replace(/^<a /,'<a target="_blank" rel="noreferrer noopener nofollow" ');const i=ts(),r=I(!1),a=I(!1);function l(){a.value||(a.value=!0,ce.delete(`comments/${e.id}`).then(({data:d})=>{var c;a.value=!1,d.success&&((c=i.data)==null||c.comments.splice(e.index,1))}))}return(d,c)=>(_(),y("div",Ej,[o("div",Pj,[S(h(rs),{class:"h-6 w-6",avatar:s.comment.user.avatar},null,8,["avatar"])]),o("div",Rj,[o("div",jj,[o("h2",Oj,[Q(u(s.comment.user.name)+" ",1),o("span",Ij,u(s.comment.updated_at),1)])]),o("p",{class:"prose prose-sm mt-1.5 break-all text-sm text-gray-600",innerHTML:h(Ge).parse(s.comment.text||"",{breaks:!0,renderer:h(t)})},null,8,Lj),s.comment.attachments.length?(_(),y("ul",Fj,[(_(!0),y(de,null,ye(s.comment.attachments,f=>(_(),y("li",{key:f.name,class:"flex items-center py-2 px-3"},[o("div",Nj,[c[2]||(c[2]=o("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),o("a",{href:"/"+f.path,class:"block w-0 flex-1 truncate text-xs text-gray-700 hover:underline ltr:ml-2 ltr:pr-2 rtl:mr-2 rtl:pl-2",target:"blank"},u(f.name),9,zj)]),o("a",{href:"/"+f.path,class:"ltr:ml-auto rtl:mr-auto",target:"blank"},[S(h(Sv),{class:"h-5 w-5 text-gray-400"})],8,Bj)]))),128))])):j("",!0)]),r.value?(_(),y("div",{key:0,class:ee(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":a.value}])},[o("span",Uj,u(d.__("Are you sure to delete?")),1),S(h(ys),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:l}),S(h($n),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:c[0]||(c[0]=f=>r.value=!1)})],2)):(_(),y("div",Vj,[s.comment.user_id==h(_t).user.id?(_(),ie(h(Kt),{key:0,class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-900",onClick:c[1]||(c[1]=f=>r.value=!0)})):j("",!0)]))]))}}),Wj={class:"px-3 py-2 text-sm text-gray-500"},qj={class:"mt-1 mb-4 rounded-md border border-gray-300",enctype:"multipart/form-data"},Kj=["placeholder","onKeydown"],Yj={key:0,class:"mx-3 mt-1 mb-1 divide-y rounded-md border"},Gj={class:"flex items-center"},Xj={class:"w-0 flex-1 truncate text-sm ltr:ml-2 rtl:mr-2"},Jj=["onClick"],Qj={key:0,class:"mt-2 w-full rounded-md bg-green-100"},Zj={class:"flex items-center px-3 pt-2 pb-3"},eO={class:"flex items-center"},tO={class:"ml-auto flex"},sO={class:"cursor-pointer"},p1=_e({__name:"CommentForm",props:{id:{},index:{},comment:{}},setup(s){const e=s;Ye(()=>{var x;Eb(document.querySelectorAll(".autosize")),(x=r.value)==null||x.focus()});const t=ts(),n=I(e.comment?e.comment.attachments:[]),i=I(e.comment?e.comment.comment:""),r=I(null),a=I(!e.id),l=I({}),d=I({}),c=I(!1),f=en();function m(){a.value=!0,i.value="",t.commentForm=null}function p(){a.value=!1,setTimeout(function(){var x;(x=r.value)==null||x.focus()})}function g(){f.fetch(t.data.project_id)}function v(x){x.preventDefault(),n.value=[...x.target.files];for(let M=0;M<n.value.length;M++)k(M)}function k(x){const M=n.value[x],C=new FileReader;C.readAsDataURL(M),C.onload=()=>{const O=new FormData;O.append("file",M),ce.post("file",O,{onUploadProgress:function(N){l.value[x]=Math.round(N.loaded*100/N.total)-5}}).then(({data:N})=>{d.value[x]={path:N,name:M.name},l.value[x]=100})}}function b(x){delete d.value[x],n.value.splice(x,1)}function w(){i.value&&(c.value=!0,ce.post("tasks/"+t.data.id+"/comments",{text:i.value,task_id:t.data.id,attachments:d.value}).then(({data:x})=>{t.data.comments.push(x),i.value="",n.value=[],d.value={},l.value={},c.value=!1,g()}))}return(x,M)=>(_(),y("div",null,[z(o("div",{class:"mt-1 mb-4 cursor-pointer rounded-md border border-gray-300 hover:shadow",onClick:p},[o("p",Wj,u(x.__("Write a comment")),1)],512),[[zt,a.value]]),z(o("form",qj,[z(o("textarea",{ref_key:"input",ref:r,"onUpdate:modelValue":M[0]||(M[0]=C=>i.value=C),class:"autosize comment-textarea block max-h-40 w-full resize-none rounded-md border-0 text-sm focus:ring-0",placeholder:x.__("Write a comment"),onKeydown:[Rn(We(w,["ctrl"]),["enter"]),Rn(m,["esc"])]},null,40,Kj),[[te,i.value]]),n.value.length?(_(),y("ul",Yj,[(_(!0),y(de,null,ye(n.value,(C,O)=>(_(),y("li",{key:C.name,class:"block py-2 px-3"},[o("div",Gj,[M[2]||(M[2]=o("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),o("span",Xj,u(C.name),1),o("span",{class:"cursor-pointer ltr:ml-auto rtl:mr-auto",onClick:N=>b(O)},[...M[1]||(M[1]=[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Jj)]),l.value[O]?(_(),y("div",Qj,[o("span",{class:"block h-1 rounded-md bg-green-400",style:wt({width:l.value[O]+"%"})},null,4)])):j("",!0)]))),128))])):j("",!0),o("div",Zj,[o("div",eO,[o("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:w},u(x.__("Save")),1),o("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:m},u(x.__("Cancel")),1)]),o("div",tO,[o("label",sO,[o("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/gif,.doc,.docx,.pdf,.txt",multiple:"",onChange:v},null,32),M[3]||(M[3]=o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1))])])])],512),[[zt,!a.value]])]))}}),nO={id:"comments",class:"mt-8"},oO={class:"flex"},iO={class:"flex-1 border-b pb-2"},rO={class:"text-sm font-medium text-gray-800"},aO={class:"ml-2 text-sm font-light text-gray-600"},lO={class:"pl-8 pt-4"},dO={class:"space-y-4"},cO=_e({__name:"TaskComments",setup(s){const e=ts();return(t,n)=>(_(),y("section",nO,[S(h(Yc),{open:!0},{trigger:K(({open:i})=>[o("div",oO,[(_(),y("svg",{class:ee(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!i}]),viewBox:"0 0 16 16"},[...n[0]||(n[0]=[o("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),o("div",iO,[o("span",rO,u(t.__("Comments")),1),o("span",aO,u(h(e).data.comments.length),1)])])]),content:K(()=>[o("div",lO,[S(p1),o("div",dO,[(_(!0),y(de,null,ye(h(e).data.comments,(i,r)=>(_(),ie(fo(h(e).commentForm==r?p1:Hj),{key:i.id,id:i.id,index:r,comment:i},null,8,["id","index","comment"]))),128))])])]),_:1})]))}}),uO={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},fO=["onClick"],hO={key:0,class:"inline-block h-5 w-5 rounded-full bg-blue-400 text-white"},mO={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},pO=_e({__name:"TaskAssign",setup(s){const e=ts(),t=en(),n=Je("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;let l=e.data.users.findIndex(d=>d.id==a.id);l>=0?e.data.users.splice(l,1):e.data.users.push({id:a.id,name:a.name}),ce.patch("tasks/"+e.data.id+"/assign",{user:a.id}).then(({data:d})=>{i()})}return(a,l)=>(_(),ie(h(Hs),{name:"task-assign",modal:!0,"close-outside":""},{trigger:K(()=>[...l[0]||(l[0]=[o("span",{class:"cursor-pointer"},[o("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:K(()=>[o("div",uO,[(_(!0),y(de,null,ye(h(e).data.project.users,d=>(_(),y("div",{key:d.id,class:ee(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":h(n)("task:update")}]),onClick:c=>r(d)},[h(e).data.users.length&&h(e).data.users.find(c=>c.id==d.id)?(_(),y("span",hO,[...l[1]||(l[1]=[o("svg",{viewBox:"0 0 16 16",fill:"white"},[o("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])])):(_(),ie(h(rs),{key:1,class:"h-5 w-5",avatar:d.avatar},null,8,["avatar"])),o("span",mO,u(d.name),1)],10,fO))),128))])]),_:1}))}}),gO={class:"py-3.5"},_O={class:"flex items-center px-2"},vO={class:"text-sm font-medium text-gray-600"},yO={key:0,class:"flex flex-wrap px-2 pt-2"},bO=_e({__name:"TaskAssignee",setup(s){const e=ts();return(t,n)=>(_(),y("section",gO,[o("div",_O,[o("h2",vO,u(t.__("Assignee")),1),t.can("task:update")?(_(),ie(pO,{key:0,class:"ml-auto"})):j("",!0)]),h(e).data.users.length?(_(),y("div",yO,[(_(!0),y(de,null,ye(h(e).data.users,i=>(_(),ie(h(rs),{key:i.id,"data-cooltipz-dir":"top","aria-label":i.name,class:"mr-1 mb-1 h-6 w-6 border-2 border-white",avatar:i.avatar},null,8,["aria-label","avatar"]))),128))])):j("",!0)]))}}),xO={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},wO={key:0,class:"py-1.5 text-center text-xs text-gray-600"},kO=["onClick"],$O={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},CO=_e({__name:"TaskLabelsDropdown",setup(s){const e=ts(),t=en(),n=Je("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;const l=["not started","started","in progress","completed","stuck"],d=l.includes(a.name.toLowerCase());let c=e.data.labels.findIndex(f=>f.id==a.id);c>=0?e.data.labels.splice(c,1):(d&&(e.data.labels=e.data.labels.filter(f=>!l.includes(f.name.toLowerCase()))),e.data.labels.push({id:a.id,name:a.name,meta:{color:a.meta.color}})),ce.patch("tasks/"+e.data.id+"/label",{label:a.id}).then(({data:f})=>{f.completed_at!==void 0&&(e.data.completed_at=f.completed_at),i()})}return(a,l)=>(_(),ie(h(Hs),{name:"task-labels",modal:!0,"close-outside":""},{trigger:K(()=>[...l[0]||(l[0]=[o("span",{class:"cursor-pointer"},[o("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:K(()=>[o("div",xO,[h(e).options.labels.length?j("",!0):(_(),y("p",wO," There are No Labels! ")),(_(!0),y(de,null,ye(h(e).options.labels,d=>(_(),y("div",{key:d.label,class:ee(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":h(n)("task:update")}]),onClick:c=>r(d)},[h(e).data.labels.length&&h(e).data.labels.find(c=>c.id==d.id)?(_(),ie(h(tP),{key:0,class:"inline-block h-4 w-4",style:wt({color:d.meta.color})},null,8,["style"])):(_(),ie(h(wb),{key:1,class:"inline-block h-4 w-4",style:wt({color:d.meta.color})},null,8,["style"])),o("span",$O,u(d.name),1)],10,kO))),128))])]),_:1}))}}),SO={class:"py-3.5"},MO={class:"flex items-center px-2"},TO={class:"text-sm font-medium text-gray-600"},AO={key:0,class:"flex flex-wrap px-2 pt-2"},DO=_e({__name:"TaskLabels",setup(s){const e=ts();return(t,n)=>(_(),y("section",SO,[o("div",MO,[o("h2",TO,u(t.__("Labels")),1),t.can("task:update")?(_(),ie(CO,{key:0,class:"ml-auto"})):j("",!0)]),h(e).data.labels.length?(_(),y("div",AO,[(_(!0),y(de,null,ye(h(e).data.labels,i=>(_(),y("span",{key:i.id,class:"mb-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white ltr:mr-2 rtl:ml-2",style:wt({"background-color":i.meta.color})},[n[0]||(n[0]=o("svg",{class:"-ml-0.5 mr-1.5 h-2 w-2 text-white",fill:"currentColor",viewBox:"0 0 8 8"},[o("circle",{cx:"4",cy:"4",r:"3"})],-1)),Q(" "+u(i.name),1)],4))),128))])):j("",!0)]))}}),EO={class:"py-3"},PO={class:"px-2 text-sm font-medium text-gray-600"},RO={key:0,class:"mt-2 flex items-center px-2 py-1"},jO={class:"block text-xs leading-none text-gray-600"},OO={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},IO={class:"block h-3.5 text-xs leading-none text-gray-600"},LO={class:"absolute z-30 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},FO=["onClick"],NO=_e({__name:"TaskProjectList",setup(s){const e=ts(),t=en();function n(){t.fetch(e.data.project_id)}function i(r){e.data.project_list.name=r.name,ce.patch(`tasks/${e.data.id}/list`,{project_list_id:r.id}).then(()=>{n()})}return(r,a)=>(_(),y("section",EO,[o("h2",PO,u(r.__("Project List")),1),r.can("task:update")?(_(),ie(h(Hs),{key:1},{trigger:K(()=>[o("div",OO,[o("span",IO,u(h(e).data.project_list.name),1),a[0]||(a[0]=o("svg",{class:"ml-auto hidden h-3.5 w-3.5 cursor-pointer text-gray-500 group-hover:block",viewBox:"0 0 16 16"},[o("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"})],-1))])]),content:K(()=>[o("div",LO,[(_(!0),y(de,null,ye(h(e).options.project_lists,l=>(_(),y("span",{key:l.name,class:"block cursor-pointer px-4 py-2 text-xs text-gray-600 hover:bg-gray-200",onClick:d=>i(l)},u(l.name),9,FO))),128))])]),_:1})):(_(),y("div",RO,[o("span",jO,u(h(e).data.project_list.name),1)]))]))}}),zO={class:"pb-3"},BO={class:"px-2 text-sm font-medium text-gray-600"},UO={class:"mt-2 flex items-center px-2"},VO={key:0,class:"pr-4"},HO={key:1,class:"text-red-500"},WO={key:2,class:"text-gray-600"},qO=_e({__name:"TaskTimer",setup(s){const e=ts(),t=Wr(),n=I(!1),i=I(!1);function r(){if(i.value)return`${t.currentTaskTimer.h.toString().padStart(2,"0")}:${t.currentTaskTimer.m.toString().padStart(2,"0")}:${t.currentTaskTimer.s.toString().padStart(2,"0")}`;let c=e.data.total_seconds,f=Math.floor((c||0)%60),m=Math.floor((c||0)%3600/60);return`${Math.floor((c||0)/3600).toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`}function a(){i.value||(t.setTimer(e.data.total_seconds),i.value=!0),setTimeout(function(){t.start(e.data)})}function l(){t.stop()}function d(){if(e.data.users.length&&e.data.users.find(c=>c.id==_t.user.id))return n.value=!0;n.value=!1}return d(),(c,f)=>(_(),y("section",zO,[o("h2",BO,u(c.__("Time")),1),o("div",UO,[n.value?(_(),y("div",VO,[h(e).data.id==h(t).taskId?(_(),y("span",{key:0,onClick:We(l,["stop"])},[S(h(Ur),{class:"h-4 w-4 cursor-pointer text-red-500 hover:text-red-700"})])):(_(),y("span",{key:1,onClick:We(a,["stop"])},[S(h(zc),{class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-700"})]))])):j("",!0),h(e).data.id==h(t).taskId?(_(),y("p",HO,u(h(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+u(h(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+u(h(t).currentTaskTimer.s.toString().padStart(2,"0")),1)):(_(),y("p",WO,u(r()),1))])]))}}),KO={class:"py-3"},YO={class:"px-2 text-sm font-medium text-gray-600"},GO={key:0,class:"mt-2 flex items-center px-2","data-cooltipz-dir":"top"},XO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},JO={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},QO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},ZO={class:"absolute z-30 mt-2 ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},eI=_e({__name:"TaskDueDate",setup(s){const e=I(!1),t=ts(),n=en();function i(){n.fetch(t.data.project_id)}const r=function(a){e.value=!0,t.data.due_at=a?a.date:null,t.data.human_due_date=a?a.label:null,ce.patch("tasks/"+t.data.id+"/due-date",{due_at:a?a.date:null}).then(({data:l})=>{i()})};return(a,l)=>(_(),y("section",KO,[o("h2",YO,u(a.__("Due Date")),1),a.can("task:update")?(_(),ie(h(Hs),{key:1,"close-outside":"",close:e.value,modal:!0},{trigger:K(()=>[o("div",JO,[S(h(dn),{class:"h-4 w-4 text-gray-500"}),o("span",QO,u(h(t).data.due_at?h(t).data.human_due_date:a.__("No due date")),1),h(t).data.due_at?(_(),y("span",{key:0,class:"ml-auto flex h-4 w-4 items-center justify-center rounded-md hover:bg-gray-300",onClick:We(r,["stop"])},[S(h(li),{class:"h-3.5 w-3.5 text-gray-600"})])):j("",!0)])]),content:K(()=>{var d;return[o("div",ZO,[S(h(C6),{date:((d=h(t).data)==null?void 0:d.due_at)||"",onSelected:r},null,8,["date"])])]}),_:1},8,["close"])):(_(),y("div",GO,[S(h(dn),{class:"h-4 w-4 text-gray-500"}),o("span",XO,u(h(t).data.due_at?h(t).data.due_at:a.__("No due date")),1)]))]))}}),tI={key:0,class:"flex justify-center rounded-lg bg-gray-300 py-28"},sI={key:1},nI={class:"flex border-b border-gray-200 shadow-sm"},oI={class:"flex items-center px-6 text-sm text-gray-700"},iI={class:"flex"},rI={class:"flex-1 px-6 pt-6 pb-8"},aI={class:"w-60 divide-y divide-gray-200 rounded-br-lg bg-gray-50 px-6 py-6"},ou=_e({__name:"TaskModal",props:{id:{}},setup(s){const e=s,t=ts();t.fetch(e.id),Ft().onHide(function(){if(window.location.pathname.split("/")[1]=="projects"){const i=`/projects/${t.data.project_id}`;history.replaceState(history.state,"",i)}});function n(){Ft().pop()}return(i,r)=>(_(),ie(h(po),{width:"max-w-3xl"},{default:K(()=>[h(t).loading?(_(),y("div",tI,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",sI,[o("div",nI,[o("div",oI,[o("span",{class:"inline-block h-2.5 w-2.5 rounded-full ltr:mr-2 rtl:ml-2",style:wt({"background-color":h(t).data.project.meta.color})},"  ",4),o("span",null,u(h(t).data.project.name),1),r[0]||(r[0]=o("span",{class:"px-2"},"/",-1)),o("span",null,u(h(t).data.project_list.name),1)]),o("div",{class:"ml-auto flex items-center"},[o("span",{class:"cursor-pointer px-4 py-4 text-gray-600 hover:text-gray-800",onClick:n},[...r[1]||(r[1]=[o("svg",{class:"h-6 w-6",viewBox:"0 0 21 21"},[o("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(5 5)"},[o("path",{d:"m10.5 10.5-10-10z"}),o("path",{d:"m10.5.5-10 10"})])],-1)])])])]),o("div",iI,[o("main",rI,[S(HP),S(nR),S(cO)]),o("aside",aI,[S(qO),S(NO),S(bO),S(eI),S(DO),S(Dj),i.can("task:delete")?(_(),ie(bR,{key:0})):j("",!0),S(hR)])])]))]),_:1}))}}),lI=["data-id"],dI={class:"flex py-1.5"},cI=["textContent"],uI={class:"flex items-center"},fI={class:"flex flex-1"},hI={key:0,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},mI=["aria-label"],pI={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},gI=["textContent"],_I={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},vI=["textContent"],yI={key:1,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},bI=["textContent"],xI={key:0,class:"flex items-center py-1 ltr:ml-auto rtl:mr-auto"},wI=["src","title"],kI=["title"],$I={key:0,class:"mt-1 flex flex-wrap"},CI={key:1,class:"mt-1.5 mb-1.5 flex items-center"},SI={class:"ml-1 text-xs text-red-600"},MI=_e({__name:"ListItem",props:{task:{}},setup(s){const e=s,t=Wr(),n=I(!1);function i(l=null){const d=`/projects/${e.task.project_id}/tasks/${l}`;history.replaceState(history.state,"",d),Ft().add(ou,{id:l,width:"max-w-3xl"})}function r(l){return l[0].checklist_items.filter(d=>d.completed_at!=null).length+"/"+l[0].checklist_items.length}function a(){if(e.task.users.length&&e.task.users.find(l=>l.id==_t.user.id))return n.value=!0;n.value=!1}return a(),(l,d)=>(_(),y("div",{id:"list-item","data-id":s.task.id,class:"mb-2 block cursor-pointer rounded bg-white px-2.5 py-1 shadow-md",onClick:d[1]||(d[1]=c=>i(s.task.id))},[o("div",dI,[o("span",{class:ee(["block flex-1 text-sm",{"text-gray-500 line-through":s.task.completed_at,"text-gray-700":!s.task.completed_at}]),textContent:u(s.task.title)},null,10,cI)]),o("div",uI,[o("div",fI,[s.task.recurring_at?(_(),y("div",hI,[o("span",{"aria-label":s.task.meta.recurring.phrase,"data-cooltipz-dir":"right","data-cooltipz-size":"medium"},[S(h(Er),{class:"h-4 w-4 text-gray-400"})],8,mI)])):j("",!0),z(o("div",pI,[S(h(dn),{class:"h-4 w-4 text-gray-400"}),o("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:u(s.task.human_due_date)},null,8,gI)],512),[[zt,s.task.due_at]]),z(o("div",_I,[S(h(Z4),{class:"h-4 w-4 text-gray-400"}),o("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:u(s.task.comments.length)},null,8,vI)],512),[[zt,s.task.comments.length]]),s.task.checklists.length&&s.task.checklists[0].checklist_items.length?(_(),y("div",yI,[S(h(ys),{class:"h-4 w-4 text-gray-400"}),o("span",{class:"text-xs tracking-widest text-gray-500 ltr:ml-0.5 rtl:mr-0.5",textContent:u(r(s.task.checklists))},null,8,bI)])):j("",!0)]),s.task.users.length?(_(),y("div",xI,[z(o("span",null,null,512),[[zt,a()]]),z(o("img",{class:"h-4 w-4 rounded-full",src:s.task.users[0].avatar,alt:"avatar",title:s.task.users[0].name},null,8,wI),[[zt,s.task.users[0].avatar]]),z(o("span",{title:s.task.users[0].name,class:"inline-block h-4 w-4 overflow-hidden rounded-full bg-gray-100 text-gray-300"},[...d[2]||(d[2]=[o("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])],8,kI),[[zt,!s.task.users[0].avatar]]),z(o("span",{class:"text-[9px] text-gray-600 ltr:ml-px rtl:mr-px"},"+"+u(s.task.users.length-1),513),[[zt,s.task.users.length>1]])])):j("",!0)]),s.task.labels.length?(_(),y("div",$I,[(_(!0),y(de,null,ye(s.task.labels,c=>(_(),y("span",{key:c.id,class:"mb-1 inline-flex items-center rounded-md px-1.5 py-1 text-[10px] font-semibold leading-none text-white ltr:mr-1 rtl:ml-1",style:wt({"background-color":c.meta.color})},u(c.name),5))),128))])):j("",!0),s.task.id==h(t).taskId&&h(t).isTimerRunning?(_(),y("div",CI,[o("span",{onClick:d[0]||(d[0]=We((...c)=>h(t).stop&&h(t).stop(...c),["stop"]))},[S(h(Ur),{class:"h-[0.875rem] w-[0.875rem] text-red-500 hover:text-red-800"})]),o("p",SI,u(h(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+u(h(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+u(h(t).currentTaskTimer.s.toString().padStart(2,"0")),1)])):j("",!0)],8,lI))}}),TI={class:"px-2"},AI={class:"block text-sm text-gray-500 group-hover:text-gray-700 ltr:ml-2 rtl:mr-2"},DI={class:"mb-2"},EI={class:"mt-2"},PI=_e({__name:"TaskFormQuick",props:{projectId:{},listId:{},listIndex:{}},setup(s){const e=s,t=I(!1),n=I(!1),i=I(""),r=I(null),a=en();function l(){t.value=!0,setTimeout(function(){var f;(f=r.value)==null||f.focus()})}function d(){t.value=!1,i.value=""}function c(){i.value&&(n.value=!0,ce.post("tasks",{task:i.value,project_id:e.projectId,list_id:e.listId}).then(f=>{a.data.lists[e.listIndex].tasks.push(f.data),i.value="",t.value=!1,n.value=!1}))}return(f,m)=>(_(),y("div",TI,[z(o("div",{class:"group mb-1.5 flex cursor-pointer items-center rounded py-2 hover:bg-gray-300 ltr:pl-2 rtl:pr-2",onClick:l},[m[1]||(m[1]=o("svg",{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),o("span",AI,u(f.__("Add task")),1)],512),[[zt,!t.value]]),z(o("div",DI,[z(o("input",{ref_key:"taskinput",ref:r,"onUpdate:modelValue":m[0]||(m[0]=p=>i.value=p),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter a task",onKeyup:[Rn(c,["enter"]),Rn(d,["escape"])]},null,544),[[te,i.value]]),o("div",EI,[S(h(Ie),{size:"xs",processing:n.value,onClick:c},{default:K(()=>[Q(u(f.__("Add task")),1)]),_:1},8,["processing"]),S(h(Ie),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:n.value,onClick:d},{default:K(()=>[Q(u(f.__("Cancel")),1)]),_:1},8,["disabled"])])],512),[[zt,t.value]])]))}}),RI={id:"kanban-wrapper",class:"relative flex-1"},jI={id:"container",class:"absolute inset-0 select-none overflow-x-auto overflow-y-hidden whitespace-nowrap text-[0] transition-opacity"},OI=["data-id"],II={class:"box-border flex max-h-full flex-col whitespace-normal rounded bg-gray-200"},LI=["id","data-id"],FI={key:0,class:"box-border inline-block h-full w-72 whitespace-nowrap align-top text-base"},NI={class:"text-sm text-gray-700 ltr:ml-2 rtl:mr-2"},zI={class:"box-border max-h-full whitespace-normal rounded bg-gray-200"},BI={class:"py-2.5 px-2"},UI={class:"mt-1 flex"},VI=_e({__name:"TabBoard",setup(s){const e=en(),t=I(!1),n=I(""),i=I(null),r=I(!1);Et(()=>e.data.lists,m=>{},{immediate:!0,deep:!0});function a(){t.value=!0,setTimeout(function(){var m;(m=i.value)==null||m.focus()})}function l(){const m=e.data.lists.length-1;setTimeout(function(){tt.create(document.getElementById(`list-${m}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(p){ce.patch(`tasks/${p.item.getAttribute("data-id")}/sort`,{id:p.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:g})=>{})},onAdd:function(p){const g=p.item.getAttribute("data-id");ce.patch(`tasks/${g}/move`,{projectId:e.data.id,fromList:p.from.getAttribute("data-id"),toList:p.to.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:v})=>{})}})})}function d(){t.value=!1,n.value=""}function c(){n.value&&(r.value=!0,ce.post("projects/"+e.data.id+"/lists",{name:n.value}).then(m=>{t.value=!1,n.value="",e.data.lists.push(m.data),r.value=!1,l()}))}const f=Je("can");return Ye(function(){const m=document.querySelector("#kanban-wrapper");if(m.style.height=window.innerHeight-(64+24+48+16+24)+"px",f("task-list:update")){tt.create(document.getElementById("container"),{draggable:"#section-draggable",onUpdate:function(p){ce.patch(`projects/${e.data.id}/list-sort`,{id:p.item.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:g})=>{e.data.lists=g})}});for(let p=0;p<e.data.lists.length;p++)tt.create(document.getElementById(`list-${p}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(g){ce.patch(`tasks/${g.item.getAttribute("data-id")}/sort`,{id:g.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:v})=>{})},onAdd:function(g){const v=g.item.getAttribute("data-id");ce.patch(`tasks/${v}/move`,{projectId:e.data.id,fromList:g.from.getAttribute("data-id"),toList:g.to.getAttribute("data-id"),oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:k})=>{})}})}}),(m,p)=>(_(),y("div",RI,[o("div",jI,[(_(!0),y(de,null,ye(h(e).data.lists,(g,v)=>(_(),y("section",{id:"section-draggable",key:g.id,"data-id":g.id,class:"box-border inline-block h-full w-72 whitespace-nowrap rounded align-top text-base ltr:mr-4 rtl:ml-4"},[o("div",II,[S(fP,{id:g.id,name:g.name,index:v},null,8,["id","name","index"]),o("div",{id:"list-"+v,"data-id":g.id,class:"min-h-0 overflow-y-auto px-2"},[(_(!0),y(de,null,ye(g.tasks,k=>(_(),ie(MI,{key:k.id,task:k},null,8,["task"]))),128))],8,LI),S(PI,{"project-id":g.project_id,"list-id":g.id,"list-index":v},null,8,["project-id","list-id","list-index"])])],8,OI))),128)),h(f)("task-list:create")?(_(),y("section",FI,[z(o("div",{class:"flex cursor-pointer items-center rounded border-2 border-dashed border-gray-300 px-2 py-1.5 hover:border-gray-400",onClick:a},[p[1]||(p[1]=o("svg",{class:"h-6 w-6 text-gray-600",viewBox:"0 0 21 21",fill:"currentColor"},[o("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{d:"m5.5 10.5h10"}),o("path",{d:"m10.5 5.5v10"})])],-1)),o("span",NI,u(m.__("Add list")),1)],512),[[zt,!t.value]]),z(o("div",zI,[o("div",BI,[z(o("input",{ref_key:"listinput",ref:i,"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),type:"text",placeholder:"Enter list title...",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Rn(c,["enter"])},null,544),[[te,n.value]]),o("div",UI,[S(h(Ie),{size:"xs",processing:r.value,onClick:c},{default:K(()=>[Q(u(m.__("Add list")),1)]),_:1},8,["processing"]),S(h(Ie),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:r.value,onClick:d},{default:K(()=>[Q(u(m.__("Cancel")),1)]),_:1},8,["disabled"])])])],512),[[zt,t.value]])])):j("",!0)])]))}}),HI={class:"cursor-pointer text-gray-600 hover:text-gray-700"},WI={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},qI={class:"py-1",role:"none"},KI=_e({__name:"DetailMenu",props:{projectId:{},isFavorite:{}},setup(s){const e=s,t=I(e.isFavorite);function n(){Ft().add(su,{id:e.projectId})}function i(){ce.patch("/projects/"+e.projectId+"/favorite").then(({data:a})=>{w0().flash(a.message),bm().items=a.favorites.favorites,t.value=a.favorite})}function r(){ce.patch(`projects/${e.projectId}/archive`).then(({data:a})=>{w0().flash(a.message),window.location.href="/"})}return(a,l)=>(_(),ie(h(Hs),{"close-outside":"",class:"inline-block ltr:ml-auto rtl:mr-auto"},{trigger:K(()=>[o("span",HI,[S(h(nP),{class:"h-4 w-4"})])]),content:K(()=>[o("div",WI,[o("div",qI,[o("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i},u(t.value?a.__("Remove favorite"):a.__("Add to favorite")),1),a.can("project:update")?(_(),y("button",{key:0,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(n,["prevent"])},u(a.__("Edit")),1)):j("",!0),a.can("project:delete")?(_(),y("button",{key:1,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r},u(a.__("Archive")),1)):j("",!0)])])]),_:1}))}}),YI={class:"pb-8"},GI={class:"text-gray-700"},XI={class:"font-semibold text-gray-700 ltr:ml-2 rtl:mr-2"},JI=["href"],QI={class:"rounded-lg border-b border-gray-200 shadow"},ZI={class:"min-w-full divide-y divide-gray-200"},eL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},tL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},sL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},nL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},oL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},iL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},rL={class:"divide-y divide-gray-200 bg-white"},aL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},lL=["onClick"],dL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},cL={class:"flex items-center"},uL={class:"ltr:ml-2 rtl:mr-2"},fL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},hL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},mL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},pL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},gL=_e({__name:"TabTimeLogs",setup(s){const e=en(),t=I(!0),n=I("00:00:00");r();function i(a=null){Ft().add(ou,{id:a,width:"max-w-3xl"})}function r(){ce.get("projects/"+e.data.id+"/total-time").then(({data:a})=>{const l=a,d=new Date(0,0);d.setSeconds(+l),n.value=d.toTimeString().slice(0,8),t.value=!1})}return(a,l)=>(_(),y("div",YI,[o("div",{class:ee(["mt-2 mb-6 flex items-center",{"opacity-50":t.value}])},[o("span",GI,u(a.__("Total logged time"))+":",1),o("span",XI,u(n.value),1),o("a",{href:`/api/projects/${h(e).data.id}/export-time-logs`,class:"inline-flex items-center rounded border border-transparent bg-indigo-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ltr:ml-auto rtl:mr-auto"},u(a.__("Export CSV")),9,JI)],2),S(h(sm),{name:"timelog",uri:`projects/${h(e).data.id}/time-logs`,"no-search":"","no-filters":""},{default:K(({items:d,index:c})=>[o("div",QI,[o("table",ZI,[o("thead",null,[o("tr",null,[o("th",eL,u(a.__("Task")),1),o("th",tL,u(a.__("Assignee")),1),o("th",sL,u(a.__("Start")),1),o("th",nL,u(a.__("Stop")),1),o("th",oL,u(a.__("Time")),1),o("th",iL,u(a.__("Description")),1),l[0]||(l[0]=o("th",{class:"px-6 py-3"},"",-1))])]),o("tbody",rL,[(_(!0),y(de,null,ye(d,f=>(_(),y("tr",{key:f.id},[o("td",aL,[o("p",{class:"cursor-pointer hover:text-gray-700",onClick:m=>i(f.task_id)},u(f.task.title),9,lL)]),o("td",dL,[o("div",cL,[S(h(rs),{class:"h-6 w-6",avatar:f.user.avatar},null,8,["avatar"]),o("span",uL,u(f.user.name),1)])]),o("td",fL,u(f.started_at),1),o("td",hL,u(f.stopped_at),1),o("td",mL,[o("p",null,u(f.time),1),Q(" "+u(f.is_manual?"(manual)":""),1)]),o("td",pL,u(f.description||""),1),l[1]||(l[1]=o("td",{class:"px-6 py-3 text-right"},"",-1))]))),128))])]),S(h(As),{class:"rounded-b-lg",index:c},null,8,["index"])])]),_:1},8,["uri"])]))}}),_L={key:0,class:"mt-8 flex justify-center"},vL={key:1,class:"flex h-full flex-col"},yL={class:"flex items-center pb-4"},bL={class:"flex items-center"},xL={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},wL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},kL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},$L={class:"flex flex-shrink-0 -space-x-1 ltr:ml-8 rtl:mr-8"},g1=_e({__name:"Detail",setup(s){const e=en(),t=Tc();Pk((r,a)=>{r.params.id!==a.params.id&&e.fetch(r.params.id)});const n=m6("project-detail")();n.tabs([{component:Cr(VI),label:"Board"},{component:Cr(gL),label:"Time Logs"}]),Et(()=>e.fetching,r=>{!r&&e.data.id}),Et(()=>n.tab,r=>{}),e.fetch(t.params.id);function i(r){Ft().add(ou,{id:parseInt(r)})}if(t.params.taskId){const r=t.params.taskId;i(r)}return(r,a)=>h(e).fetching?(_(),y("div",_L,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",vL,[o("div",yL,[o("div",bL,[o("span",{class:"block h-2.5 w-2.5 rounded-full ltr:mr-3 rtl:ml-3",style:wt({"background-color":h(e).data.meta.color})},null,4),o("h1",xL,u(h(e).data.name),1)]),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-8 rtl:mr-8",{"bg-gray-200 text-gray-800":h(n).active==0}]),onClick:a[0]||(a[0]=l=>h(n).select(0))},[S(h(Lv),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",wL,u(r.__("Board")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-2 rtl:mr-2",{"bg-gray-200 text-gray-800":h(n).active==1}]),onClick:a[1]||(a[1]=l=>h(n).select(1))},[S(h(Zs),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",kL,u(r.__("Time Logs")),1)],2),o("div",$L,[(_(!0),y(de,null,ye(h(e).data.users,l=>(_(),ie(h(rs),{key:l.id,class:"h-6 w-6 max-w-none rounded-full ring-2 ring-white",avatar:l.avatar,"data-cooltipz-dir":"bottom","aria-label":l.name},null,8,["avatar","aria-label"]))),128))]),S(KI,{"project-id":h(e).data.id||0,"is-favorite":h(e).data.is_favorite},null,8,["project-id","is-favorite"])]),(_(),ie(fo(h(n).tab)))]))}}),CL=[{label:"General",uri:"/settings/general",permission:"setting:general"},{label:"Email",uri:"/settings/email",permission:"setting:email"},{label:"AdSense",uri:"/settings/adsense",permission:"setting:adsense"},{label:"Countries",uri:"/settings/countries",permission:"setting:general"},{label:"User Assignments",uri:"/settings/user-assignments",permission:"setting:general"},{label:"Labels",uri:"/labels",permission:"label:view"},{label:"Roles & Permissions",uri:"/roles",permission:"role:view"}],SL={class:"topbar flex justify-between"},ML={class:"mb-4 text-2xl font-semibold text-gray-900"},TL={class:"flex"},AL={class:"w-64"},DL={class:"py-1"},EL=["href","onClick"],PL={class:"flex-1 ltr:pl-6 rtl:pr-6"},nr=_e({__name:"SettingsLayout",setup(s){const e=Je("can");return(t,n)=>{const i=cn("router-link");return _(),y(de,null,[o("div",SL,[o("h1",ML,u(t.__("Settings")),1),o("div",null,[Ms(t.$slots,"topbar")])]),o("div",TL,[o("div",AL,[S(h(fi),{class:"overflow-hidden"},{default:K(()=>[o("nav",DL,[(_(!0),y(de,null,ye(h(CL),r=>(_(),y(de,{key:r.label},[!r.permission||h(e)(r.permission)?(_(),ie(i,{key:0,to:r.uri,custom:""},{default:K(({href:a,navigate:l,isActive:d})=>[o("a",{href:a,class:ee(["block px-4 py-2 text-sm",{"bg-gray-100 font-medium text-gray-900":d,"text-gray-700 hover:bg-gray-100 hover:text-gray-900":!d}]),onClick:l},u(t.__(r.label)),11,EL)]),_:2},1032,["to"])):j("",!0)],64))),128))])]),_:1})]),o("div",PL,[Ms(t.$slots,"default")])])],64)}}}),RL=_e({__name:"Email",setup(s){const e=fs("setting-email")(),t=_o(),n=yl(),i=ob();return e.onSuccess(()=>{Wn().success("Settings Saved Successfully!"),location.reload()}),(r,a)=>(_(),ie(nr,null,{default:K(()=>[S(h(Fo),{name:"setting-email",uri:"settings/email",title:r.__("Email"),"save-only":""},{default:K(()=>[S(h(n),{name:"mail_driver",label:r.__("Driver"),"input-class":"max-w-xs",inline:""},null,8,["label"]),S(h(t),{name:"mail_host",label:r.__("Host"),inline:""},null,8,["label"]),S(h(t),{name:"mail_port",label:r.__("Port"),inline:""},null,8,["label"]),S(h(t),{name:"mail_username",label:r.__("Username"),inline:""},null,8,["label"]),S(h(t),{name:"mail_password",label:r.__("Password"),inline:""},null,8,["label"]),S(h(n),{name:"mail_encryption",label:r.__("Encryption"),"input-class":"max-w-xs",inline:""},null,8,["label"]),S(h(i),{name:"mail_verify_peer",label:r.__("Verify Peer"),inline:""},null,8,["label"]),S(h(t),{name:"mail_from_address",label:r.__("From Address"),inline:""},null,8,["label"]),S(h(t),{name:"mail_from_name",label:r.__("From Name"),inline:""},null,8,["label"])]),_:1},8,["title"])]),_:1}))}}),jL={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},OL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},IL={class:"sm:col-span-2"},LL={class:"flex"},FL={key:0,class:"mr-2 flex h-[2.125rem] items-center bg-gray-900 px-4"},NL=["src"],zL={class:"cursor-pointer rounded-md border border-gray-300 bg-white py-2 px-3 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},BL=_e({__name:"FieldLogo",setup(s){const e=fs("setting-general")(),t=200,n=32,i=I(null);i.value=e.data.app_logo?`/${e.data.app_logo}`:null;function r(){i.value=null,e.data.app_logo=null}function a(l){if(!l.target.files.length)return;let d=l.target.files[0],c=l.target,f=new FileReader;f.readAsDataURL(d),f.onload=m=>{let p=new Image;p.src=m.target.result,p.onload=function(){if(p.width>t||p.height>n){alert("you can upload max "+t+" x "+n),c.value=null;return}i.value=m.target.result;const g=new FormData;g.append("logo",d),ce.post("logo",g).then(({data:v})=>{e.data.app_logo=v})}}}return(l,d)=>(_(),y("div",jL,[o("label",OL,u(l.__("Logo")),1),o("div",IL,[o("div",LL,[i.value?(_(),y("span",FL,[o("img",{class:"block h-8",src:i.value},null,8,NL)])):j("",!0),o("label",zL,[Q(u(l.__("Change"))+" ",1),o("input",{type:"file",class:"hidden",accept:"image/*",name:"logo",onChange:a},null,32)]),i.value?(_(),y("button",{key:1,type:"button",class:"ml-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:r},u(l.__("Remove")),1)):j("",!0)])])]))}}),UL={key:0,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},VL=_e({__name:"General",setup(s){const e=_t,t=fs("setting-general")(),n=_o(),i=yl();return t.onSuccess(()=>location.reload()),(r,a)=>(_(),ie(nr,null,{default:K(()=>[S(h(Fo),{name:"setting-general",uri:"settings/general",title:"General","save-only":""},{default:K(()=>[S(h(n),{name:"app_name",label:r.__("App Name"),inline:""},null,8,["label"]),S(h(n),{name:"app_url",label:r.__("App URL"),inline:""},null,8,["label"]),S(h(i),{name:"app_locale",label:r.__("Language"),translatable:"","input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(h(i),{name:"app_timezone",label:r.__("Timezone"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(h(i),{name:"app_direction",label:r.__("Direction"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),S(BL),h(e).options.is_standalone_demo?(_(),y("div",UL,[...a[0]||(a[0]=[o("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"",-1),o("div",{class:"py-2 text-sm text-red-600 sm:col-span-2"}," Note: Only language and direction will take effect in this demo! ",-1)])])):j("",!0)]),_:1})]),_:1}))}}),HL={class:"space-y-6"},WL={class:"border-t border-gray-200 pt-6"},qL={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},KL={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},YL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},GL={class:"mt-1 sm:col-span-2 sm:mt-0"},XL={key:0,class:"space-y-3"},JL=["disabled"],QL={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ZL={key:1,class:"mr-2 h-5 w-5",viewBox:"0 0 48 48"},eF={class:"text-sm text-gray-500"},tF={key:1,class:"flex items-center space-x-4"},sF={class:"flex items-center space-x-2"},nF={class:"text-sm font-medium text-gray-700"},oF=["disabled"],iF={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},rF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},aF={class:"mt-1 sm:col-span-2 sm:mt-0"},lF=["disabled"],dF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},cF={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},uF={key:1,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},fF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},hF={class:"mt-1 sm:col-span-2 sm:mt-0"},mF=["disabled"],pF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},gF={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_F={key:2,class:"rounded-md bg-green-50 p-4"},vF={class:"flex"},yF={class:"ml-3"},bF={class:"text-sm font-medium text-green-800"},xF={class:"mt-2 text-sm text-green-700"},wF={class:"rounded-md bg-blue-50 p-4"},kF={class:"flex"},$F={class:"ml-3 flex-1"},CF={class:"mt-2 text-sm text-blue-700"},SF={class:"mb-3 font-medium"},MF={class:"list-decimal list-inside space-y-1 ml-2 mb-4"},TF={class:"mb-3 font-medium"},AF={class:"list-decimal list-inside space-y-1 ml-2"},DF=_e({__name:"AdSense",setup(s){const e=fs("setting-adsense")(),t=_o(),n=I(!1),i=I(!1),r=I(!1),a=I(null),l=I(!1),d=I(null),c=async()=>{var g,v;n.value=!0;try{const b=(await Qe.get("/api/adsense/auth/url")).data.auth_url;window.location.href=b}catch(k){Wn().error(((v=(g=k.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to initiate Google connection"),n.value=!1}},f=async()=>{var g,v;if(confirm("Are you sure you want to disconnect your Google AdSense account?")){i.value=!0;try{await Qe.post("/api/adsense/disconnect"),Wn().success("AdSense disconnected successfully"),setTimeout(()=>{location.reload()},1e3)}catch(k){Wn().error(((v=(g=k.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to disconnect AdSense"),i.value=!1}}},m=async()=>{var g,v;r.value=!0,a.value=null;try{const k=await Qe.get("/api/adsense/test-connection");a.value={success:!0,message:k.data.message||"Connection successful!"},Wn().success("AdSense API connection successful!")}catch(k){a.value={success:!1,message:((v=(g=k.response)==null?void 0:g.data)==null?void 0:v.message)||"Connection failed. Please check your credentials."},Wn().error(a.value.message)}finally{r.value=!1}},p=async()=>{var g,v;l.value=!0,d.value=null;try{const k=await Qe.get("/api/adsense/test-analytics-connection");d.value={success:!0,message:k.data.message||"Analytics connection successful!"},Wn().success("Google Analytics API connection successful!")}catch(k){d.value={success:!1,message:((v=(g=k.response)==null?void 0:g.data)==null?void 0:v.message)||"Analytics connection failed. Please check your GA4 Property ID and service account permissions."},Wn().error(d.value.message)}finally{l.value=!1}};return e.onSuccess(()=>{Wn().success("AdSense Settings Saved Successfully!"),setTimeout(()=>{location.reload()},1e3)}),(g,v)=>(_(),ie(nr,null,{default:K(()=>[S(h(Fo),{name:"setting-adsense",uri:"settings/adsense",title:g.__("AdSense Configuration"),"save-only":""},{default:K(()=>[o("div",HL,[S(h(t),{name:"adsense_client_id",label:g.__("OAuth Client ID"),placeholder:"xxxxx.apps.googleusercontent.com",inline:"",required:""},null,8,["label"]),S(h(t),{name:"adsense_client_secret",label:g.__("OAuth Client Secret"),placeholder:"GOCSPX-xxxxx",type:"password",inline:"",required:""},null,8,["label"]),S(h(t),{name:"adsense_account_id",label:g.__("AdSense Account ID"),placeholder:"pub-XXXXXXXXXXXXXXXX",inline:""},null,8,["label"]),o("div",WL,[o("h3",qL,u(g.__("Google Analytics Configuration")),1)]),S(h(t),{name:"ga4_property_id",label:g.__("GA4 Property ID"),placeholder:"123456789",inline:"",help:g.__("Find this in Google Analytics Admin > Property Settings")},null,8,["label","help"]),o("div",KL,[o("label",YL,u(g.__("Google Account")),1),o("div",GL,[h(e).data.adsense_configured?(_(),y("div",tF,[o("div",sF,[v[2]||(v[2]=o("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-green-100"},[o("svg",{class:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),o("span",nF,u(g.__("Connected")),1)]),o("button",{type:"button",onClick:f,disabled:i.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},u(i.value?g.__("Disconnecting..."):g.__("Disconnect")),9,oF)])):(_(),y("div",XL,[o("button",{type:"button",onClick:c,disabled:n.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(_(),y("svg",QL,[...v[0]||(v[0]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),y("svg",ZL,[...v[1]||(v[1]=[o("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"},null,-1),o("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"},null,-1),o("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"},null,-1),o("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"},null,-1)])])),Q(" "+u(n.value?g.__("Connecting..."):g.__("Connect with Google")),1)],8,JL),o("p",eF,u(g.__("Click to authorize TaskHub to access your AdSense data")),1)]))])]),h(e).data.adsense_configured?(_(),y("div",iF,[o("label",rF,u(g.__("Test AdSense Connection")),1),o("div",aF,[o("button",{type:"button",onClick:m,disabled:r.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[r.value?(_(),y("svg",dF,[...v[3]||(v[3]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),y("svg",cF,[...v[4]||(v[4]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),Q(" "+u(r.value?g.__("Testing..."):g.__("Test AdSense API")),1)],8,lF),a.value?(_(),y("p",{key:0,class:ee(["mt-2 text-sm",a.value.success?"text-green-600":"text-red-600"])},u(a.value.message),3)):j("",!0)])])):j("",!0),h(e).data.ga4_property_id?(_(),y("div",uF,[o("label",fF,u(g.__("Test Analytics Connection")),1),o("div",hF,[o("button",{type:"button",onClick:p,disabled:l.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[l.value?(_(),y("svg",pF,[...v[5]||(v[5]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),y("svg",gF,[...v[6]||(v[6]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h-3a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3m-3-3l-6 6m0 0l6-6m-6 6h6V7"},null,-1)])])),Q(" "+u(l.value?g.__("Testing..."):g.__("Test Analytics API")),1)],8,mF),d.value?(_(),y("p",{key:0,class:ee(["mt-2 text-sm",d.value.success?"text-green-600":"text-red-600"])},u(d.value.message),3)):j("",!0)])])):j("",!0),h(e).data.adsense_configured?(_(),y("div",_F,[o("div",vF,[v[7]||(v[7]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),o("div",yF,[o("h3",bF,u(g.__("AdSense is configured")),1),o("div",xF,[o("p",null,u(g.__("Your AdSense integration is active and ready to use.")),1)])])])])):j("",!0),o("div",wF,[o("div",kF,[v[9]||(v[9]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),o("div",$F,[v[8]||(v[8]=o("h3",{class:"text-sm font-medium text-blue-800"},"Setup Instructions",-1)),o("div",CF,[o("p",SF,u(g.__("AdSense Setup:")),1),o("ol",MF,[o("li",null,u(g.__("Create OAuth 2.0 credentials in Google Cloud Console")),1),o("li",null,u(g.__("Add your credentials to the .env file")),1),o("li",null,u(g.__('Click "Connect with Google" to authorize')),1),o("li",null,u(g.__("Enter your AdSense Account ID (e.g., pub-XXXXXXXXXXXXXXXX)")),1)]),o("p",TF,u(g.__("Google Analytics Setup:")),1),o("ol",AF,[o("li",null,u(g.__("Service account credentials are already configured at storage/app/credentials/google-analytics.json")),1),o("li",null,u(g.__("Go to Google Analytics Admin > Property Access Management")),1),o("li",null,u(g.__("Add service account: taskhub-service-account@taskhub-adsense-integration.iam.gserviceaccount.com")),1),o("li",null,u(g.__('Grant "Viewer" role')),1),o("li",null,u(g.__("Enter your GA4 Property ID from Google Analytics Admin > Property Settings")),1)])])])])])])]),_:1},8,["title"])]),_:1}))}}),EF={class:"text-lg font-medium leading-6 text-gray-900"},PF={class:"mt-1 text-sm text-gray-500"},RF={key:1,class:"space-y-6"},jF={key:0,class:"flex items-center justify-between"},OF={class:"text-sm text-gray-700"},IF={class:"font-medium"},LF={class:"font-medium"},FF={class:"font-medium"},NF={class:"flex items-center gap-2"},zF={class:"text-sm text-gray-600"},BF={class:"mb-6 flex items-center justify-between border-b pb-4"},UF={class:"text-lg font-medium text-gray-900"},VF={class:"text-sm text-gray-500"},HF={class:"flex gap-3"},WF=["onClick"],qF=["onClick"],KF={key:0,class:"space-y-4"},YF={class:"flex items-start justify-between"},GF={class:"flex-1"},XF={class:"flex items-center gap-2"},JF={class:"text-base font-medium text-gray-900"},QF={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},ZF={key:0,class:"mt-1 text-xs text-gray-500"},eN={key:0},tN={key:1,class:"mt-3"},sN={class:"space-y-1"},nN=["href"],oN={class:"flex gap-2"},iN=["onClick","title"],rN=["onClick","title"],aN=["onClick","title"],lN={key:1,class:"text-center py-6 text-gray-500"},dN={key:1,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow"},cN={class:"flex flex-1 justify-between sm:hidden"},uN=["disabled"],fN=["disabled"],hN={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},mN={class:"text-sm text-gray-700"},pN={class:"font-medium"},gN={class:"font-medium"},_N={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},vN=["disabled"],yN={class:"sr-only"},bN=["disabled"],xN={class:"sr-only"},wN={class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300"},kN=["disabled"],$N={class:"sr-only"},CN=["disabled"],SN={class:"sr-only"},MN={class:"space-y-4"},TN={class:"block text-sm font-medium text-gray-700 mb-2"},AN={class:"relative mb-3"},DN=["placeholder"],EN={class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},PN={key:0,class:"space-y-2"},RN=["value"],jN={class:"ml-3 text-sm text-gray-900"},ON={class:"ml-2 text-xs text-gray-500"},IN={key:1,class:"text-center py-4 text-gray-500 text-sm"},LN={key:0,class:"mt-2 text-sm text-gray-600"},FN={class:"flex justify-end gap-3"},NN=["disabled"],zN={class:"space-y-4"},BN={key:1},UN={class:"text-sm text-gray-600 mb-3"},VN={key:0,class:"relative mb-3"},HN=["placeholder"],WN={key:1,class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},qN={key:0,class:"space-y-2"},KN=["value"],YN={class:"ml-3 flex-1"},GN={class:"text-sm font-medium text-gray-900"},XN={key:0,class:"text-xs text-gray-500"},JN={key:1,class:"text-center py-4 text-gray-500 text-sm"},QN={key:2,class:"text-center py-6 text-gray-500"},ZN={key:3,class:"mt-2 text-sm text-gray-600"},ez={class:"flex justify-end gap-3"},tz=["disabled"],sz={class:"space-y-4"},nz={class:"text-sm text-gray-700 mb-4"},oz={class:"block text-sm font-medium text-gray-700 mb-2"},iz={class:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-3"},rz=["value"],az={class:"ml-3"},lz={class:"text-sm font-medium text-gray-900"},dz={class:"text-xs text-gray-500"},cz={class:"flex justify-end gap-3 pt-4 border-t"},uz=["disabled"],fz={class:"space-y-4"},hz={class:"text-sm text-gray-600"},mz={class:"grid grid-cols-2 gap-4"},pz={class:"block text-sm font-medium text-gray-700 mb-1"},gz={class:"mt-1 text-xs text-gray-500"},_z={class:"block text-sm font-medium text-gray-700 mb-1"},vz={class:"mt-1 text-xs text-gray-500"},yz={class:"block text-sm font-medium text-gray-700 mb-1"},bz={class:"mt-1 text-xs text-gray-500"},xz={class:"block text-sm font-medium text-gray-700 mb-1"},wz={class:"mt-1 text-xs text-gray-500"},kz={class:"block text-sm font-medium text-gray-700 mb-1"},$z={class:"mt-1 text-xs text-gray-500"},Cz={class:"block text-sm font-medium text-gray-700 mb-1"},Sz={class:"mt-1 text-xs text-gray-500"},Mz={class:"flex justify-end gap-3 pt-4 border-t"},Tz=["disabled"],id=_e({name:"Modal",emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var n,i;return It("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[It("div",{class:"flex min-h-screen items-center justify-center px-4"},[It("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),It("div",{class:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl"},[It("h3",{class:"text-lg font-medium text-gray-900 mb-4"},(n=e.title)==null?void 0:n.call(e)),It("div",{},(i=e.default)==null?void 0:i.call(e))])])])}}}),Az=_e({__name:"Countries",setup(s){const e=Je("__"),t=I(!1),n=I([]),i=I([]),r=I(5),a=I({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),l=I(!1),d=I(null),c=I([]),f=I(!1),m=I(""),p=I(!1),g=I(null),v=I([]),k=I([]),b=I(!1),w=I(!1),x=I(""),M=I(!1),C=I(null),O=I(null),N=I(null),E=I(!1),B=I(!1),L=I(null),P=I(!1),R=I({daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}),A=Pe(()=>{if(!m.value)return i.value;const Oe=m.value.toLowerCase();return i.value.filter(ue=>ue.name.toLowerCase().includes(Oe)||ue.code.toLowerCase().includes(Oe))}),F=Pe(()=>{if(!x.value)return v.value;const Oe=x.value.toLowerCase();return v.value.filter(ue=>ue.name.toLowerCase().includes(Oe)||ue.website&&ue.website.toLowerCase().includes(Oe))}),be=Pe(()=>O.value?n.value.filter(Oe=>Oe.id!==O.value.id):n.value),ae=async(Oe=1)=>{t.value=!0;try{const ue=await ce.get("settings/countries",{params:{page:Oe,per_page:r.value}}),fe=ue.data.data||ue.data;if(!fe||!fe.users)throw new Error("Invalid response from server");n.value=fe.users||[],i.value=fe.countries||[],fe.pagination&&(a.value=fe.pagination)}catch{alert("Failed to load data. Please check console for details.")}finally{t.value=!1}},le=Oe=>{d.value=Oe,c.value=Oe.countries.map(ue=>ue.country_code),m.value="",l.value=!0},J=()=>{l.value=!1,d.value=null,c.value=[],m.value=""},ne=async()=>{if(c.value.length===0){alert("Please select at least one country");return}f.value=!0;try{const Oe=c.value.map(ue=>{const fe=i.value.find(U=>U.code===ue);return{country_code:ue,country_name:(fe==null?void 0:fe.name)||ue}});await ce.put(`settings/countries/users/${d.value.id}/countries`,{countries:Oe}),alert("Countries assigned successfully! User will receive a notification."),await ae(),J()}catch{alert("Failed to assign countries")}finally{f.value=!1}},q=async(Oe,ue)=>{d.value=Oe,g.value=ue,k.value=ue.websites.map(fe=>fe.company_id),x.value="",p.value=!0,b.value=!0;try{const fe=await ce.get(`settings/countries/companies/${ue.country_code}`);v.value=fe.data.data}catch{alert("Failed to load companies")}finally{b.value=!1}},oe=()=>{p.value=!1,d.value=null,g.value=null,v.value=[],k.value=[],x.value=""},xe=async()=>{w.value=!0;try{const Oe=k.value.map(ue=>{const fe=v.value.find(U=>U.id===ue);return{company_id:ue,website_url:(fe==null?void 0:fe.website)||"",company_name:(fe==null?void 0:fe.name)||""}});await ce.post(`settings/countries/users/${d.value.id}/countries/${g.value.id}/websites`,{websites:Oe}),alert("Websites assigned successfully!"),await ae(),oe()}catch{alert("Failed to assign websites")}finally{w.value=!1}},je=(Oe,ue)=>{O.value=Oe,C.value=ue,N.value=null,M.value=!0},ot=()=>{M.value=!1,O.value=null,C.value=null,N.value=null},ht=async()=>{if(!(!N.value||!O.value||!C.value)){E.value=!0;try{const Oe=O.value.countries.filter(fe=>fe.country_code!==C.value.country_code).map(fe=>({country_code:fe.country_code,country_name:fe.country_name}));await ce.put(`settings/countries/users/${O.value.id}/countries`,{countries:Oe});const ue=n.value.find(fe=>fe.id===N.value);if(ue){const fe=[...ue.countries.map(U=>({country_code:U.country_code,country_name:U.country_name})),{country_code:C.value.country_code,country_name:C.value.country_name}];await ce.put(`settings/countries/users/${N.value}/countries`,{countries:fe})}alert(`Country "${C.value.country_name}" reassigned successfully!`),await ae(),ot()}catch{alert("Failed to reassign country")}finally{E.value=!1}}},he=async(Oe,ue)=>{if(confirm(`Are you sure you want to unassign "${ue.country_name}" from ${Oe.name}?`))try{const fe=Oe.countries.filter(U=>U.country_code!==ue.country_code).map(U=>({country_code:U.country_code,country_name:U.country_name}));await ce.put(`settings/countries/users/${Oe.id}/countries`,{countries:fe}),alert("Country unassigned successfully!"),await ae()}catch{alert("Failed to unassign country")}},we=async Oe=>{L.value=Oe,B.value=!0;try{const ue=await ce.get(`settings/countries/users/${Oe.id}/targets`);ue.data.data&&(R.value={...ue.data.data})}catch{}},$e=()=>{B.value=!1,L.value=null,R.value={daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}},Ne=async()=>{if(L.value){P.value=!0;try{await ce.put(`settings/countries/users/${L.value.id}/targets`,R.value),alert("Performance targets updated successfully!"),$e()}catch{alert("Failed to save performance targets")}finally{P.value=!1}}},et=Oe=>new Date(Oe).toLocaleDateString();return Ye(()=>{ae()}),(Oe,ue)=>(_(),ie(nr,null,{topbar:K(()=>[o("div",null,[o("h3",EF,u(h(e)("Countries & Websites Management")),1),o("p",PF,u(h(e)("Assign countries and websites to users for marketing and AdSense reporting")),1)])]),default:K(()=>[t.value?(_(),ie(h(St),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),y("div",RF,[a.value.total>0?(_(),y("div",jF,[o("p",OF,[Q(u(h(e)("Showing"))+" ",1),o("span",IF,u(a.value.from),1),Q(" "+u(h(e)("to"))+" ",1),o("span",LF,u(a.value.to),1),Q(" "+u(h(e)("of"))+" ",1),o("span",FF,u(a.value.total),1),Q(" "+u(h(e)("users")),1)]),o("div",NF,[o("label",zF,u(h(e)("Per page:")),1),z(o("select",{"onUpdate:modelValue":ue[0]||(ue[0]=fe=>r.value=fe),onChange:ue[1]||(ue[1]=fe=>ae(1)),class:"rounded-md border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},[...ue[19]||(ue[19]=[o("option",{value:5},"5",-1),o("option",{value:10},"10",-1),o("option",{value:25},"25",-1),o("option",{value:50},"50",-1)])],544),[[Me,r.value]])])])):j("",!0),(_(!0),y(de,null,ye(n.value,fe=>(_(),y("div",{key:fe.id,class:"rounded-lg bg-white p-6 shadow"},[o("div",BF,[o("div",null,[o("h4",UF,u(fe.name),1),o("p",VF,u(fe.email)+"  "+u(fe.role),1)]),o("div",HF,[o("button",{onClick:U=>we(fe),type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700"},[ue[20]||(ue[20]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),Q(" "+u(h(e)("Set Targets")),1)],8,WF),o("button",{onClick:U=>le(fe),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[ue[21]||(ue[21]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),Q(" "+u(h(e)("Assign Countries")),1)],8,qF)])]),fe.countries.length>0?(_(),y("div",KF,[(_(!0),y(de,null,ye(fe.countries,U=>(_(),y("div",{key:U.id,class:"rounded-lg border border-gray-200 p-4"},[o("div",YF,[o("div",GF,[o("div",XF,[o("h5",JF,u(U.country_name),1),o("span",QF,u(U.country_code),1)]),U.assigned_at?(_(),y("p",ZF,[Q(" Assigned "+u(et(U.assigned_at))+" ",1),U.assigned_by?(_(),y("span",eN," by "+u(U.assigned_by),1)):j("",!0)])):j("",!0),U.websites.length>0?(_(),y("div",tN,[ue[23]||(ue[23]=o("p",{class:"text-xs font-medium text-gray-700 mb-2"}," Assigned Websites: ",-1)),o("div",sN,[(_(!0),y(de,null,ye(U.websites,Y=>(_(),y("div",{key:Y.id,class:"flex items-center gap-2 text-sm"},[ue[22]||(ue[22]=o("svg",{class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),o("a",{href:Y.website_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},u(Y.company_name),9,nN)]))),128))])])):j("",!0)]),o("div",oN,[o("button",{onClick:Y=>q(fe,U),class:"text-indigo-600 hover:text-indigo-900 text-sm",title:h(e)("Manage Websites")},[...ue[24]||(ue[24]=[o("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)])],8,iN),o("button",{onClick:Y=>je(fe,U),class:"text-blue-600 hover:text-blue-900 text-sm",title:h(e)("Reassign to Another User")},[...ue[25]||(ue[25]=[o("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,rN),o("button",{onClick:Y=>he(fe,U),class:"text-red-600 hover:text-red-900 text-sm",title:h(e)("Unassign Country")},[...ue[26]||(ue[26]=[o("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,aN)])])]))),128))])):(_(),y("div",lN,u(h(e)("No countries assigned yet")),1))]))),128)),a.value.total>0?(_(),y("div",dN,[o("div",cN,[o("button",{onClick:ue[2]||(ue[2]=fe=>ae(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},u(h(e)("Previous")),9,uN),o("button",{onClick:ue[3]||(ue[3]=fe=>ae(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},u(h(e)("Next")),9,fN)]),o("div",hN,[o("div",null,[o("p",mN,[Q(u(h(e)("Page"))+" ",1),o("span",pN,u(a.value.current_page),1),Q(" "+u(h(e)("of"))+" ",1),o("span",gN,u(a.value.last_page),1)])]),o("div",null,[o("nav",_N,[o("button",{onClick:ue[4]||(ue[4]=fe=>ae(1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",yN,u(h(e)("First")),1),ue[27]||(ue[27]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M15.79 14.77a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L11.832 10l3.938 3.71a.75.75 0 01.02 1.06zm-6 0a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L5.832 10l3.938 3.71a.75.75 0 01.02 1.06z","clip-rule":"evenodd"})],-1))],8,vN),o("button",{onClick:ue[5]||(ue[5]=fe=>ae(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",xN,u(h(e)("Previous")),1),ue[28]||(ue[28]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1))],8,bN),o("span",wN,u(a.value.current_page),1),o("button",{onClick:ue[6]||(ue[6]=fe=>ae(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",$N,u(h(e)("Next")),1),ue[29]||(ue[29]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))],8,kN),o("button",{onClick:ue[7]||(ue[7]=fe=>ae(a.value.last_page)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",SN,u(h(e)("Last")),1),ue[30]||(ue[30]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M4.21 5.23a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L8.168 10 4.23 6.29a.75.75 0 01-.02-1.06zm6 0a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L14.168 10l-3.938-3.71a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1))],8,CN)])])])])):j("",!0)])),l.value?(_(),ie(h(id),{key:2,onClose:J},{title:K(()=>{var fe;return[Q(u(h(e)("Assign Countries to"))+" "+u((fe=d.value)==null?void 0:fe.name),1)]}),default:K(()=>[o("div",MN,[o("div",null,[o("label",TN,u(h(e)("Select Countries")),1),o("div",AN,[ue[31]||(ue[31]=o("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(o("input",{"onUpdate:modelValue":ue[8]||(ue[8]=fe=>m.value=fe),type:"text",placeholder:h(e)("Search countries..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,DN),[[te,m.value]])]),o("div",EN,[A.value.length>0?(_(),y("div",PN,[(_(!0),y(de,null,ye(A.value,fe=>(_(),y("label",{key:fe.code,class:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(o("input",{"onUpdate:modelValue":ue[9]||(ue[9]=U=>c.value=U),value:fe.code,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,8,RN),[[cs,c.value]]),o("span",jN,u(fe.name),1),o("span",ON,"("+u(fe.code)+")",1)]))),128))])):(_(),y("div",IN,u(h(e)("No countries found matching your search")),1))]),c.value.length>0?(_(),y("p",LN,u(c.value.length)+" "+u(c.value.length===1?h(e)("country"):h(e)("countries"))+" selected ",1)):j("",!0)]),o("div",FN,[o("button",{onClick:J,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:ne,disabled:f.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},u(f.value?h(e)("Saving..."):h(e)("Save")),9,NN)])])]),_:1})):j("",!0),p.value?(_(),ie(h(id),{key:3,onClose:oe},{title:K(()=>{var fe;return[Q(u(h(e)("Manage Websites for"))+" "+u((fe=g.value)==null?void 0:fe.country_name),1)]}),default:K(()=>{var fe;return[o("div",zN,[b.value?(_(),ie(h(St),{key:0,size:"30",color:"#5850ec",class:"mx-auto"})):(_(),y("div",BN,[o("p",UN,u(h(e)("Select websites/companies from"))+" "+u((fe=g.value)==null?void 0:fe.country_name),1),v.value.length>0?(_(),y("div",VN,[ue[32]||(ue[32]=o("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(o("input",{"onUpdate:modelValue":ue[10]||(ue[10]=U=>x.value=U),type:"text",placeholder:h(e)("Search companies..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,HN),[[te,x.value]])])):j("",!0),v.value.length>0?(_(),y("div",WN,[F.value.length>0?(_(),y("div",qN,[(_(!0),y(de,null,ye(F.value,U=>(_(),y("label",{key:U.id,class:"flex items-start p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(o("input",{"onUpdate:modelValue":ue[11]||(ue[11]=Y=>k.value=Y),value:U.id,type:"checkbox",class:"h-4 w-4 mt-0.5 rounded border-gray-300 text-indigo-600"},null,8,KN),[[cs,k.value]]),o("div",YN,[o("div",GN,u(U.name),1),U.website?(_(),y("div",XN,u(U.website),1)):j("",!0)])]))),128))])):(_(),y("div",JN,u(h(e)("No companies found matching your search")),1))])):(_(),y("div",QN,u(h(e)("No companies found with websites for this country")),1)),k.value.length>0?(_(),y("p",ZN,u(k.value.length)+" "+u(k.value.length===1?h(e)("company"):h(e)("companies"))+" selected ",1)):j("",!0)])),o("div",ez,[o("button",{onClick:oe,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:xe,disabled:w.value||b.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},u(w.value?h(e)("Saving..."):h(e)("Save")),9,tz)])])]}),_:1})):j("",!0),M.value?(_(),ie(h(id),{key:4,onClose:ot},{title:K(()=>[Q(u(h(e)("Reassign Country to Another User")),1)]),default:K(()=>{var fe,U;return[o("div",sz,[o("div",null,[o("p",nz,[Q(u(h(e)("Reassigning"))+": ",1),o("strong",null,u((fe=C.value)==null?void 0:fe.country_name),1),Q(" "+u(h(e)("from"))+" ",1),o("strong",null,u((U=O.value)==null?void 0:U.name),1)]),o("label",oz,u(h(e)("Select New User")),1),o("div",iz,[(_(!0),y(de,null,ye(be.value,Y=>(_(),y("label",{key:Y.id,class:"flex items-center p-3 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-indigo-200"},[z(o("input",{"onUpdate:modelValue":ue[12]||(ue[12]=X=>N.value=X),value:Y.id,type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600"},null,8,rz),[[Pn,N.value]]),o("div",az,[o("div",lz,u(Y.name),1),o("div",dz,u(Y.email)+"  "+u(Y.role),1)])]))),128))])]),o("div",cz,[o("button",{onClick:ot,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:ht,disabled:!N.value||E.value,type:"button",class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50"},u(E.value?h(e)("Reassigning..."):h(e)("Reassign Country")),9,uz)])])]}),_:1})):j("",!0),B.value?(_(),ie(h(id),{key:5,onClose:$e},{title:K(()=>{var fe;return[Q(u(h(e)("Set Performance Targets for"))+" "+u((fe=L.value)==null?void 0:fe.name),1)]}),default:K(()=>[o("div",fz,[o("p",hz,u(h(e)("Set daily performance targets to help users focus their marketing efforts on the most profitable countries.")),1),o("div",mz,[o("div",null,[o("label",pz,u(h(e)("Daily Impressions Target")),1),z(o("input",{"onUpdate:modelValue":ue[13]||(ue[13]=fe=>R.value.daily_impressions_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"2000"},null,512),[[te,R.value.daily_impressions_target,void 0,{number:!0}]]),o("p",gz,u(h(e)("Total ad impressions per day")),1)]),o("div",null,[o("label",_z,u(h(e)("Daily Page Views Target")),1),z(o("input",{"onUpdate:modelValue":ue[14]||(ue[14]=fe=>R.value.daily_page_views_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1500"},null,512),[[te,R.value.daily_page_views_target,void 0,{number:!0}]]),o("p",vz,u(h(e)("Total page views per day")),1)]),o("div",null,[o("label",yz,u(h(e)("Daily Clicks Target")),1),z(o("input",{"onUpdate:modelValue":ue[15]||(ue[15]=fe=>R.value.daily_clicks_target=fe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20"},null,512),[[te,R.value.daily_clicks_target,void 0,{number:!0}]]),o("p",bz,u(h(e)("Minimum ad clicks per day")),1)]),o("div",null,[o("label",xz,u(h(e)("Minimum CPC Target ($)")),1),z(o("input",{"onUpdate:modelValue":ue[16]||(ue[16]=fe=>R.value.min_cpc_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.10"},null,512),[[te,R.value.min_cpc_target,void 0,{number:!0}]]),o("p",wz,u(h(e)("Minimum cost per click")),1)]),o("div",null,[o("label",kz,u(h(e)("Minimum RPM Target ($)")),1),z(o("input",{"onUpdate:modelValue":ue[17]||(ue[17]=fe=>R.value.min_rpm_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1.00"},null,512),[[te,R.value.min_rpm_target,void 0,{number:!0}]]),o("p",$z,u(h(e)("Minimum revenue per thousand")),1)]),o("div",null,[o("label",Cz,u(h(e)("Daily Earnings Target ($)")),1),z(o("input",{"onUpdate:modelValue":ue[18]||(ue[18]=fe=>R.value.daily_earnings_target=fe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20.00"},null,512),[[te,R.value.daily_earnings_target,void 0,{number:!0}]]),o("p",Sz,u(h(e)("Total daily earnings target")),1)])]),o("div",Mz,[o("button",{onClick:$e,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:Ne,disabled:P.value,type:"button",class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50"},u(P.value?h(e)("Saving..."):h(e)("Save Targets")),9,Tz)])])]),_:1})):j("",!0)]),_:1}))}}),Dz={class:"text-lg font-medium leading-6 text-gray-900"},Ez={class:"mt-1 text-sm text-gray-500"},Pz={key:1,class:"space-y-6"},Rz={key:0,class:"rounded-lg bg-white p-6 shadow"},jz={class:"text-lg font-medium text-gray-900 mb-4"},Oz={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Iz={class:"border-l-4 border-blue-500 pl-4"},Lz={class:"text-2xl font-bold text-gray-900"},Fz={class:"text-xs text-gray-500"},Nz={class:"border-l-4 border-green-500 pl-4"},zz={class:"text-2xl font-bold text-gray-900"},Bz={class:"text-xs text-gray-500"},Uz={class:"mb-6 flex items-center justify-between border-b pb-4"},Vz={class:"text-lg font-medium text-gray-900"},Hz={class:"text-sm text-gray-500"},Wz={class:"mt-2 flex gap-2"},qz={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},Kz={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},Yz={class:"flex gap-3"},Gz=["onClick"],Xz=["onClick"],Jz=["onClick"],Qz={class:"p-6"},Zz={class:"text-lg font-medium text-gray-900 mb-4"},eB={class:"text-sm text-gray-600 mb-6"},tB={class:"space-y-4"},sB={class:"flex items-start"},nB={class:"flex items-center h-5"},oB={class:"ml-3"},iB={class:"font-medium text-gray-700"},rB={class:"text-sm text-gray-500"},aB={class:"flex items-start"},lB={class:"flex items-center h-5"},dB={class:"ml-3"},cB={class:"font-medium text-gray-700"},uB={class:"text-sm text-gray-500"},fB={key:0,class:"flex items-start pl-7"},hB={class:"flex items-center h-5"},mB={class:"ml-3"},pB={class:"text-sm font-medium text-gray-700"},gB={class:"text-xs text-gray-500"},_B={key:1,class:"flex items-start pl-7"},vB={class:"flex items-center h-5"},yB={class:"ml-3"},bB={class:"text-sm font-medium text-gray-700"},xB={class:"text-xs text-gray-500"},wB={class:"mt-6 flex justify-end gap-3"},kB={class:"p-6"},$B={class:"text-lg font-medium text-gray-900 mb-4"},CB={class:"mb-4 flex gap-2"},SB={class:"mb-4"},MB={class:"max-h-96 overflow-y-auto border rounded-md"},TB={key:1,class:"p-8 text-center text-gray-500"},AB={key:2,class:"divide-y"},DB={class:"font-medium text-gray-900"},EB={class:"text-sm text-gray-500"},PB={class:"text-xs text-gray-400"},RB=["onClick"],jB={key:1,class:"text-sm"},OB={class:"text-gray-500"},IB={class:"font-medium text-gray-900"},LB={key:0,class:"mt-4 flex justify-between items-center"},FB=["disabled"],NB={class:"text-sm text-gray-600"},zB=["disabled"],BB={class:"mt-6 flex justify-end"},UB={class:"p-6"},VB={class:"text-lg font-medium text-gray-900 mb-4"},HB={key:1,class:"p-8 text-center text-gray-500"},WB={key:2,class:"space-y-4 max-h-96 overflow-y-auto"},qB={class:"flex items-start justify-between"},KB={class:"flex-1"},YB={class:"flex items-center gap-2"},GB={class:"text-base font-medium text-gray-900"},XB={key:0,class:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},JB={class:"mt-1 text-sm text-gray-600"},QB={class:"mt-1 text-xs text-gray-500"},ZB={key:0},eU={key:0,class:"text-xs text-gray-500"},tU={key:1,class:"mt-2 rounded bg-yellow-50 p-2"},sU={class:"text-xs text-gray-700"},nU={class:"flex flex-col gap-2"},oU=["href"],iU=["onClick"],rU=["onClick"],aU={class:"mt-6 flex justify-end"},lU={class:"p-6"},dU={class:"text-lg font-medium text-gray-900 mb-4"},cU={class:"space-y-4"},uU={class:"block text-sm font-medium text-gray-700 mb-2"},fU={class:"flex items-center"},hU={class:"ml-2 text-sm text-gray-700"},mU={class:"mt-6 flex justify-end gap-3"},rd=_e({name:"Modal",props:{open:Boolean,size:{type:String,default:"lg"}},emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var i;if(!s.open)return null;const n=s.size==="xl"?"max-w-4xl":"max-w-2xl";return It("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[It("div",{class:"flex min-h-screen items-center justify-center px-4"},[It("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),It("div",{class:`relative w-full ${n} rounded-lg bg-white shadow-xl`},[(i=e.default)==null?void 0:i.call(e)])])])}}}),pU=_e({__name:"UserAssignments",setup(s){const e=Je("__"),t=I(!0),n=I([]),i=I(null),r=I(!1),a=I(null),l=I({works_with_job_seekers:!1,works_with_employers:!1,enable_auto_assign_job_seekers:!1,enable_auto_assign_employers:!1}),d=I(!1),c=I("job_seekers"),f=I([]),m=I(!1),p=I(""),g=I({current_page:1,last_page:1,per_page:20,total:0}),v=I(!1),k=I([]),b=I(!1),w=I(!1),x=I(null),M=I({notes:"",contacted:!1});let C=null;Ye(async()=>{await O()});const O=async()=>{t.value=!0;try{const q=await ce.get("settings/user-assignments/"),oe=await ce.get("settings/user-assignments/statistics");n.value=q.data.data,i.value=oe.data.data}catch{alert("Failed to load user assignments.")}finally{t.value=!1}},N=q=>{var oe,xe,je,ot;a.value=q,l.value={works_with_job_seekers:((oe=q.focus)==null?void 0:oe.works_with_job_seekers)||!1,works_with_employers:((xe=q.focus)==null?void 0:xe.works_with_employers)||!1,enable_auto_assign_job_seekers:((je=q.focus)==null?void 0:je.enable_auto_assign_job_seekers)||!1,enable_auto_assign_employers:((ot=q.focus)==null?void 0:ot.enable_auto_assign_employers)||!1},r.value=!0},E=async()=>{try{await ce.put(`settings/user-assignments/users/${a.value.id}/focus`,l.value),alert("User focus updated successfully!"),r.value=!1,await O()}catch{alert("Failed to save user focus")}},B=async q=>{a.value=q,c.value="job_seekers",p.value="",g.value.current_page=1,d.value=!0,await L()},L=async()=>{m.value=!0;try{const q=await ce.get("settings/user-assignments/available-users",{params:{type:c.value,page:g.value.current_page,per_page:g.value.per_page,search:p.value}});f.value=q.data.data,g.value=q.data.meta}catch{alert("Failed to load available users")}finally{m.value=!1}},P=()=>{C&&clearTimeout(C),C=setTimeout(()=>{g.value.current_page=1,L()},500)},R=async q=>{var oe,xe;try{await ce.post("settings/user-assignments/assign",{taskhub_user_id:a.value.id,v11_user_id:q.id,v11_user_type:q.user_type}),alert("User assigned successfully!"),await L(),await O()}catch(je){alert(((xe=(oe=je.response)==null?void 0:oe.data)==null?void 0:xe.message)||"Failed to assign user")}},A=async q=>{a.value=q,v.value=!0,b.value=!0;try{const oe=await ce.get(`settings/user-assignments/users/${q.id}/assignments`);k.value=oe.data.data}catch{alert("Failed to load user assignments")}finally{b.value=!1}},F=async q=>{if(confirm("Are you sure you want to unassign this user?"))try{await ce.delete(`settings/user-assignments/assignments/${q.id}`),alert("User unassigned successfully!"),await A(a.value),await O()}catch{alert("Failed to unassign user")}},be=q=>{x.value=q,M.value={notes:q.notes||"",contacted:!1},w.value=!0},ae=async()=>{try{await ce.put(`settings/user-assignments/assignments/${x.value.id}/notes`,M.value),alert("Notes saved successfully!"),w.value=!1,await A(a.value)}catch{alert("Failed to save notes")}},le=()=>{g.value.current_page>1&&(g.value.current_page--,L())},J=()=>{g.value.current_page<g.value.last_page&&(g.value.current_page++,L())},ne=q=>q?new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Et(c,()=>{g.value.current_page=1,L()}),(q,oe)=>(_(),ie(nr,null,{topbar:K(()=>[o("div",null,[o("h3",Dz,u(h(e)("User Assignment Management")),1),o("p",Ez,u(h(e)("Assign job seekers and employers from V11 database to TaskHub users")),1)])]),default:K(()=>{var xe,je,ot,ht,he,we,$e,Ne,et,Oe,ue,fe;return[t.value?(_(),ie(h(St),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),y("div",Pz,[i.value?(_(),y("div",Rz,[o("h4",jz,u(h(e)("Assignment Statistics")),1),o("div",Oz,[o("div",Iz,[oe[17]||(oe[17]=o("p",{class:"text-sm text-gray-600"},"Job Seekers",-1)),o("p",Lz,u(((je=(xe=i.value)==null?void 0:xe.job_seekers)==null?void 0:je.assigned)||0)+" / "+u(((ht=(ot=i.value)==null?void 0:ot.job_seekers)==null?void 0:ht.total)||0),1),o("p",Fz,u(((we=(he=i.value)==null?void 0:he.job_seekers)==null?void 0:we.unassigned)||0)+" unassigned ",1)]),o("div",Nz,[oe[18]||(oe[18]=o("p",{class:"text-sm text-gray-600"},"Employers",-1)),o("p",zz,u(((Ne=($e=i.value)==null?void 0:$e.employers)==null?void 0:Ne.assigned)||0)+" / "+u(((Oe=(et=i.value)==null?void 0:et.employers)==null?void 0:Oe.total)||0),1),o("p",Bz,u(((fe=(ue=i.value)==null?void 0:ue.employers)==null?void 0:fe.unassigned)||0)+" unassigned ",1)])])])):j("",!0),(_(!0),y(de,null,ye(n.value||[],U=>{var Y,X;return _(),y("div",{key:U.id,class:"rounded-lg bg-white p-6 shadow"},[o("div",Uz,[o("div",null,[o("h4",Vz,u(U.name),1),o("p",Hz,u(U.email)+"  "+u(U.role),1),o("div",Wz,[(Y=U.focus)!=null&&Y.works_with_job_seekers?(_(),y("span",qz," Job Seekers: "+u(U.job_seekers_count),1)):j("",!0),(X=U.focus)!=null&&X.works_with_employers?(_(),y("span",Kz," Employers: "+u(U.employers_count),1)):j("",!0)])]),o("div",Yz,[o("button",{onClick:Z=>N(U),type:"button",class:"inline-flex items-center rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700"},[oe[19]||(oe[19]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Q(" "+u(h(e)("Configure Focus")),1)],8,Gz),o("button",{onClick:Z=>B(U),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[oe[20]||(oe[20]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),Q(" "+u(h(e)("Assign Users")),1)],8,Xz),o("button",{onClick:Z=>A(U),type:"button",class:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700"},[oe[21]||(oe[21]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Q(" "+u(h(e)("View Assignments")),1)],8,Jz)])])])}),128))])),S(h(rd),{open:r.value,onClose:oe[5]||(oe[5]=U=>r.value=!1)},{default:K(()=>[o("div",Qz,[o("h3",Zz,u(h(e)("Configure User Focus")),1),o("p",eB,u(h(e)("Select which types of users this person will work with")),1),o("div",tB,[o("div",sB,[o("div",nB,[z(o("input",{"onUpdate:modelValue":oe[0]||(oe[0]=U=>l.value.works_with_job_seekers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,l.value.works_with_job_seekers]])]),o("div",oB,[o("label",iB,u(h(e)("Works with Job Seekers")),1),o("p",rB,u(h(e)("This user will be able to work with job seekers")),1)])]),o("div",aB,[o("div",lB,[z(o("input",{"onUpdate:modelValue":oe[1]||(oe[1]=U=>l.value.works_with_employers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,l.value.works_with_employers]])]),o("div",dB,[o("label",cB,u(h(e)("Works with Employers")),1),o("p",uB,u(h(e)("This user will be able to work with employers")),1)])]),l.value.works_with_job_seekers?(_(),y("div",fB,[o("div",hB,[z(o("input",{"onUpdate:modelValue":oe[2]||(oe[2]=U=>l.value.enable_auto_assign_job_seekers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[cs,l.value.enable_auto_assign_job_seekers]])]),o("div",mB,[o("label",pB,u(h(e)("Enable Auto-Assignment")),1),o("p",gB,u(h(e)("Automatically assign new job seekers to this user")),1)])])):j("",!0),l.value.works_with_employers?(_(),y("div",_B,[o("div",vB,[z(o("input",{"onUpdate:modelValue":oe[3]||(oe[3]=U=>l.value.enable_auto_assign_employers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"},null,512),[[cs,l.value.enable_auto_assign_employers]])]),o("div",yB,[o("label",bB,u(h(e)("Enable Auto-Assignment")),1),o("p",xB,u(h(e)("Automatically assign new employers to this user")),1)])])):j("",!0)]),o("div",wB,[o("button",{onClick:oe[4]||(oe[4]=U=>r.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:E,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},u(h(e)("Save Focus")),1)])])]),_:1},8,["open"]),S(h(rd),{open:d.value,onClose:oe[10]||(oe[10]=U=>d.value=!1),size:"xl"},{default:K(()=>{var U;return[o("div",kB,[o("h3",$B,u(h(e)("Assign Users to"))+" "+u((U=a.value)==null?void 0:U.name),1),o("div",CB,[o("button",{onClick:oe[6]||(oe[6]=Y=>c.value="job_seekers"),class:ee(["flex-1 rounded-md px-4 py-2 text-sm font-medium",c.value==="job_seekers"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(h(e)("Job Seekers")),3),o("button",{onClick:oe[7]||(oe[7]=Y=>c.value="employers"),class:ee(["flex-1 rounded-md px-4 py-2 text-sm font-medium",c.value==="employers"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(h(e)("Employers")),3)]),o("div",SB,[z(o("input",{"onUpdate:modelValue":oe[8]||(oe[8]=Y=>p.value=Y),onInput:P,type:"text",placeholder:"Search by name or email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[te,p.value]])]),o("div",MB,[m.value?(_(),ie(h(St),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):f.value.length===0?(_(),y("div",TB,u(h(e)("No available users found")),1)):(_(),y("div",AB,[(_(!0),y(de,null,ye(f.value,Y=>(_(),y("div",{key:Y.id,class:"p-4 hover:bg-gray-50 flex items-center justify-between"},[o("div",null,[o("p",DB,u(Y.name),1),o("p",EB,u(Y.email),1),o("p",PB,u(h(e)("Registered"))+": "+u(ne(Y.created_at)),1)]),o("div",null,[Y.is_assigned?(_(),y("div",jB,[o("span",OB,u(h(e)("Assigned to"))+":",1),o("span",IB,u(Y.assigned_to.name),1)])):(_(),y("button",{key:0,onClick:X=>R(Y),type:"button",class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"},u(h(e)("Assign")),9,RB))])]))),128))]))]),g.value.last_page>1?(_(),y("div",LB,[o("button",{onClick:le,disabled:g.value.current_page===1,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},u(h(e)("Previous")),9,FB),o("span",NB,u(h(e)("Page"))+" "+u(g.value.current_page)+" "+u(h(e)("of"))+" "+u(g.value.last_page),1),o("button",{onClick:J,disabled:g.value.current_page===g.value.last_page,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},u(h(e)("Next")),9,zB)])):j("",!0),o("div",BB,[o("button",{onClick:oe[9]||(oe[9]=Y=>d.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Close")),1)])])]}),_:1},8,["open"]),S(h(rd),{open:v.value,onClose:oe[12]||(oe[12]=U=>v.value=!1),size:"xl"},{default:K(()=>{var U;return[o("div",UB,[o("h3",VB,u(h(e)("Assignments for"))+" "+u((U=a.value)==null?void 0:U.name),1),b.value?(_(),ie(h(St),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):k.value.length===0?(_(),y("div",HB,u(h(e)("No assignments yet")),1)):(_(),y("div",WB,[(_(!0),y(de,null,ye(k.value,Y=>{var X;return _(),y("div",{key:Y.id,class:"rounded-lg border border-gray-200 p-4"},[o("div",qB,[o("div",KB,[o("div",YB,[o("h5",GB,u(Y.v11_user_name),1),o("span",{class:ee(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",Y.v11_user_type===2?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},u(Y.user_type_name),3),Y.auto_assigned?(_(),y("span",XB,u(h(e)("Auto-assigned")),1)):j("",!0)]),o("p",JB,u(Y.v11_user_email),1),o("p",QB,[Q(u(h(e)("Assigned"))+": "+u(ne(Y.assigned_at))+" ",1),Y.assigned_by?(_(),y("span",ZB,"  "+u(h(e)("By"))+": "+u(Y.assigned_by),1)):j("",!0)]),Y.last_contacted_at?(_(),y("p",eU,u(h(e)("Last contacted"))+": "+u(ne(Y.last_contacted_at)),1)):j("",!0),Y.notes?(_(),y("div",tU,[o("p",sU,u(Y.notes),1)])):j("",!0)]),o("div",nU,[Y.task_id?(_(),y("a",{key:0,href:`/projects/${(X=Y.task)==null?void 0:X.project_id}/tasks/${Y.task_id}`,class:"rounded-md bg-indigo-100 px-3 py-1.5 text-sm font-medium text-indigo-700 hover:bg-indigo-200 text-center"},u(h(e)("View Task")),9,oU)):j("",!0),o("button",{onClick:Z=>be(Y),type:"button",class:"rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-200"},u(h(e)("Add Note")),9,iU),o("button",{onClick:Z=>F(Y),type:"button",class:"rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-200"},u(h(e)("Unassign")),9,rU)])])])}),128))])),o("div",aU,[o("button",{onClick:oe[11]||(oe[11]=Y=>v.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Close")),1)])])]}),_:1},8,["open"]),S(h(rd),{open:w.value,onClose:oe[16]||(oe[16]=U=>w.value=!1)},{default:K(()=>[o("div",lU,[o("h3",dU,u(h(e)("Add Contact Note")),1),o("div",cU,[o("div",null,[o("label",uU,u(h(e)("Notes")),1),z(o("textarea",{"onUpdate:modelValue":oe[13]||(oe[13]=U=>M.value.notes=U),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add notes about your contact with this user..."},null,512),[[te,M.value.notes]])]),o("div",fU,[z(o("input",{"onUpdate:modelValue":oe[14]||(oe[14]=U=>M.value.contacted=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,M.value.contacted]]),o("label",hU,u(h(e)("Mark as contacted today")),1)])]),o("div",mU,[o("button",{onClick:oe[15]||(oe[15]=U=>w.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},u(h(e)("Cancel")),1),o("button",{onClick:ae,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},u(h(e)("Save Note")),1)])])]),_:1},8,["open"])]}),_:1}))}}),gU={class:"space-y-6 p-6"},_U={key:0},vU={class:"mt-4"},yU={key:1,class:"space-y-3"},bU={class:"text-sm font-medium text-gray-700"},xU={class:"w-full bg-gray-200 rounded-full h-2.5"},wU={class:"text-sm text-gray-500"},kU={key:2,class:"space-y-3"},$U={class:"text-sm font-medium text-gray-700"},CU={class:"text-sm text-gray-500"},SU={key:0,class:"border border-gray-200 rounded-lg p-6 space-y-4"},MU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},TU={class:"flex items-start"},AU={class:"flex items-center h-5"},DU={key:0},EU={class:"flex items-start"},PU={class:"flex items-center h-5"},RU={class:"flex items-start"},jU={class:"flex items-center h-5"},OU={class:"flex items-start"},IU={class:"flex items-center h-5"},LU={class:"space-y-2"},FU={class:"block text-sm font-medium text-gray-700"},NU={class:"space-y-2"},zU={class:"space-y-2"},BU={class:"space-y-2"},UU={key:0,class:"bg-gray-50 rounded-lg p-4"},VU={class:"grid grid-cols-2 gap-4 text-sm"},HU={class:"font-medium"},WU={class:"font-medium"},qU={class:"font-medium"},KU={class:"flex space-x-3"},YU=["disabled"],GU=["disabled"],XU={key:1,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-6"},JU={class:"flex items-center"},QU={class:"font-medium text-yellow-800"},ZU={key:2,class:"border border-green-200 bg-green-50 rounded-lg p-6 space-y-4"},eV={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},tV={class:"font-medium"},sV={class:"font-medium"},nV={class:"font-medium text-green-600"},oV={class:"flex space-x-3"},iV=["href"],rV={key:3,class:"border border-red-200 bg-red-50 rounded-lg p-6"},aV={class:"flex items-center"},lV={class:"text-sm text-red-600"},dV={key:4,class:"space-y-4"},cV={class:"space-y-2"},uV={class:"font-medium text-gray-900"},fV={class:"text-sm text-gray-500"},hV={key:0,class:"text-green-600"},mV={class:"flex items-center space-x-2"},pV=["onClick"],gV=["onClick"],_V=_e({__name:"VideoEnhancer",setup(s){const e=Wn(),t=I([]),n=I(null),i=I(null),r=I(!1),a=I(0),l=I(!1),d=I(!1),c=I(!1),f=I(null),m=I(null),p=I({upscale:!1,upscale_resolution:"1920:1080",enhance_quality:!1,noise_reduction:!0,normalize_audio:!0,compression_level:23,preset:"medium",format:"mp4",target_size:null});Ye(()=>{g()}),Us(()=>{m.value&&clearInterval(m.value)});const g=()=>{Qe.get("/api/video-enhancer").then(L=>{t.value=L.data.data;const P=t.value.find(R=>R.status==="pending"||R.status==="processing");P&&(n.value=P,P.status==="processing"&&C())}).catch(()=>{e.error("Failed to load videos")})},v=L=>{var R;l.value=!1;const P=(R=L.dataTransfer)==null?void 0:R.files;P&&P.length>0&&(i.value=P[0])},k=L=>{const P=L.target;P.files&&P.files.length>0&&(i.value=P.files[0])},b=L=>{const P=["B","KB","MB","GB"];let R=L,A=0;for(;R>=1024&&A<P.length-1;)R/=1024,A++;return`${R.toFixed(2)} ${P[A]}`},w=()=>{if(!i.value)return;r.value=!0,a.value=0;const L=new FormData;L.append("video",i.value),Qe.post("/api/video-enhancer/upload",L,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:P=>{a.value=Math.round(P.loaded*100/P.total)}}).then(P=>{e.success("Video uploaded successfully"),n.value=P.data.data,i.value=null,g()}).catch(P=>{var R,A;e.error(((A=(R=P.response)==null?void 0:R.data)==null?void 0:A.message)||"Upload failed")}).finally(()=>{r.value=!1,a.value=0})},x=()=>{n.value&&(d.value=!0,Qe.post(`/api/video-enhancer/${n.value.id}/estimate`,p.value).then(L=>{f.value=L.data.data}).catch(L=>{var P,R;e.error(((R=(P=L.response)==null?void 0:P.data)==null?void 0:R.message)||"Failed to estimate")}).finally(()=>{d.value=!1}))},M=()=>{n.value&&(c.value=!0,Qe.post(`/api/video-enhancer/${n.value.id}/process`,p.value).then(()=>{e.success("Processing started"),n.value&&(n.value.status="processing"),C()}).catch(L=>{var P,R;e.error(((R=(P=L.response)==null?void 0:P.data)==null?void 0:R.message)||"Failed to start processing")}).finally(()=>{c.value=!1}))},C=()=>{m.value&&clearInterval(m.value),m.value=window.setInterval(()=>{n.value&&Qe.get(`/api/video-enhancer/${n.value.id}/status`).then(L=>{const P=L.data.data;n.value&&(n.value.status=P.status,n.value.processed_size=P.processed_size,n.value.processed_size_human=P.processed_size_human,n.value.compression_ratio=P.compression_ratio,n.value.error_message=P.error_message),(P.status==="completed"||P.status==="failed")&&(m.value&&(clearInterval(m.value),m.value=null),g(),P.status==="completed"&&e.success("Video processing completed!"))}).catch(()=>{})},3e3)},O=L=>{window.location.href=`/api/video-enhancer/${L}/download`},N=(L,P)=>{confirm(P?"Delete both original and processed video?":"Delete only the processed video? You can re-process later.")&&(P?E(L):B(L))},E=L=>{Qe.delete(`/api/video-enhancer/${L}`).then(()=>{var P;e.success("Video deleted"),((P=n.value)==null?void 0:P.id)===L&&(n.value=null),g()}).catch(P=>{var R,A;e.error(((A=(R=P.response)==null?void 0:R.data)==null?void 0:A.message)||"Failed to delete")})},B=L=>{Qe.delete(`/api/video-enhancer/${L}/processed`).then(()=>{e.success("Processed video deleted"),g()}).catch(P=>{var R,A;e.error(((A=(R=P.response)==null?void 0:R.data)==null?void 0:A.message)||"Failed to delete")})};return(L,P)=>(_(),y("div",null,[P[47]||(P[47]=o("div",{class:"mb-6"},[o("h1",{class:"text-2xl font-semibold text-gray-900"},"Video Enhancer"),o("p",{class:"mt-1 text-sm text-gray-500"},"Upload videos to enhance quality, reduce noise, and compress. Max file size: 2GB")],-1)),S(h(fi),null,{default:K(()=>{var R;return[o("div",gU,[o("div",{class:ee(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",{"border-indigo-500 bg-indigo-50":l.value}]),onDragover:P[2]||(P[2]=We(A=>l.value=!0,["prevent"])),onDragleave:P[3]||(P[3]=We(A=>l.value=!1,["prevent"])),onDrop:We(v,["prevent"])},[o("input",{ref:"fileInput",type:"file",accept:"video/*",class:"hidden",onChange:k},null,544),!r.value&&!i.value?(_(),y("div",_U,[P[16]||(P[16]=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[o("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("div",vU,[o("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:P[0]||(P[0]=A=>L.$refs.fileInput.click())}," Select Video ")]),P[17]||(P[17]=o("p",{class:"mt-2 text-sm text-gray-500"},"or drag and drop",-1)),P[18]||(P[18]=o("p",{class:"text-xs text-gray-400 mt-1"},"MP4, MOV, AVI, WebM up to 2GB",-1))])):j("",!0),r.value?(_(),y("div",yU,[o("p",bU,"Uploading: "+u((R=i.value)==null?void 0:R.name),1),o("div",xU,[o("div",{class:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:wt({width:a.value+"%"})},null,4)]),o("p",wU,u(a.value)+"%",1)])):j("",!0),i.value&&!r.value?(_(),y("div",kU,[o("p",$U,u(i.value.name),1),o("p",CU,u(b(i.value.size)),1),o("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:w}," Upload Video "),o("button",{type:"button",class:"ml-2 text-sm text-gray-500 hover:text-gray-700",onClick:P[1]||(P[1]=A=>i.value=null)}," Cancel ")])):j("",!0)],34),n.value&&n.value.status==="pending"?(_(),y("div",SU,[P[34]||(P[34]=o("h3",{class:"text-md font-medium text-gray-900"},"Enhancement Options",-1)),o("div",MU,[o("div",TU,[o("div",AU,[z(o("input",{id:"upscale","onUpdate:modelValue":P[4]||(P[4]=A=>p.value.upscale=A),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,p.value.upscale]])]),P[19]||(P[19]=o("div",{class:"ml-3 text-sm"},[o("label",{for:"upscale",class:"font-medium text-gray-700"},"Upscale Resolution"),o("p",{class:"text-gray-500"},"Increase video resolution")],-1))]),p.value.upscale?(_(),y("div",DU,[z(o("select",{"onUpdate:modelValue":P[5]||(P[5]=A=>p.value.upscale_resolution=A),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...P[20]||(P[20]=[o("option",{value:"1920:1080"},"1080p (1920x1080)",-1),o("option",{value:"2560:1440"},"2K (2560x1440)",-1),o("option",{value:"3840:2160"},"4K (3840x2160)",-1)])],512),[[Me,p.value.upscale_resolution]])])):j("",!0),o("div",EU,[o("div",PU,[z(o("input",{id:"enhance_quality","onUpdate:modelValue":P[6]||(P[6]=A=>p.value.enhance_quality=A),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,p.value.enhance_quality]])]),P[21]||(P[21]=o("div",{class:"ml-3 text-sm"},[o("label",{for:"enhance_quality",class:"font-medium text-gray-700"},"Enhance Quality"),o("p",{class:"text-gray-500"},"Sharpen and improve video clarity")],-1))]),o("div",RU,[o("div",jU,[z(o("input",{id:"noise_reduction","onUpdate:modelValue":P[7]||(P[7]=A=>p.value.noise_reduction=A),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,p.value.noise_reduction]])]),P[22]||(P[22]=o("div",{class:"ml-3 text-sm"},[o("label",{for:"noise_reduction",class:"font-medium text-gray-700"},"Audio Noise Reduction"),o("p",{class:"text-gray-500"},"Remove background noise from audio")],-1))]),o("div",OU,[o("div",IU,[z(o("input",{id:"normalize_audio","onUpdate:modelValue":P[8]||(P[8]=A=>p.value.normalize_audio=A),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,p.value.normalize_audio]])]),P[23]||(P[23]=o("div",{class:"ml-3 text-sm"},[o("label",{for:"normalize_audio",class:"font-medium text-gray-700"},"Normalize Audio"),o("p",{class:"text-gray-500"},"Balance audio levels")],-1))])]),o("div",LU,[o("label",FU,"Compression Level (CRF: "+u(p.value.compression_level)+")",1),z(o("input",{"onUpdate:modelValue":P[9]||(P[9]=A=>p.value.compression_level=A),type:"range",min:"18",max:"35",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[te,p.value.compression_level]]),P[24]||(P[24]=o("div",{class:"flex justify-between text-xs text-gray-500"},[o("span",null,"Best Quality (larger file)"),o("span",null,"Smaller File (lower quality)")],-1))]),o("div",NU,[P[26]||(P[26]=o("label",{class:"block text-sm font-medium text-gray-700"},"Encoding Speed",-1)),z(o("select",{"onUpdate:modelValue":P[10]||(P[10]=A=>p.value.preset=A),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...P[25]||(P[25]=[o("option",{value:"ultrafast"},"Ultra Fast (lowest quality)",-1),o("option",{value:"fast"},"Fast",-1),o("option",{value:"medium"},"Medium (recommended)",-1),o("option",{value:"slow"},"Slow (better quality)",-1),o("option",{value:"veryslow"},"Very Slow (best quality)",-1)])],512),[[Me,p.value.preset]])]),o("div",zU,[P[28]||(P[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Output Format",-1)),z(o("select",{"onUpdate:modelValue":P[11]||(P[11]=A=>p.value.format=A),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...P[27]||(P[27]=[o("option",{value:"mp4"},"MP4 (H.264)",-1),o("option",{value:"webm"},"WebM (VP9)",-1),o("option",{value:"mkv"},"MKV",-1)])],512),[[Me,p.value.format]])]),o("div",BU,[P[29]||(P[29]=o("label",{class:"block text-sm font-medium text-gray-700"},"Target Size (MB) - Optional",-1)),z(o("input",{"onUpdate:modelValue":P[12]||(P[12]=A=>p.value.target_size=A),type:"number",min:"1",placeholder:"Leave empty for automatic",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,p.value.target_size]])]),f.value?(_(),y("div",UU,[P[33]||(P[33]=o("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Size Estimation",-1)),o("div",VU,[o("div",null,[P[30]||(P[30]=o("p",{class:"text-gray-500"},"Original Size",-1)),o("p",HU,u(f.value.original_size_human),1)]),o("div",null,[P[31]||(P[31]=o("p",{class:"text-gray-500"},"Estimated Output",-1)),o("p",WU,u(f.value.estimated_size_human),1)]),o("div",null,[P[32]||(P[32]=o("p",{class:"text-gray-500"},"Compression Ratio",-1)),o("p",qU,u(f.value.compression_ratio)+"%",1)]),o("div",null,[o("p",{class:ee(f.value.feasible?"text-green-600":"text-red-600")},u(f.value.feasibility_message),3)])])])):j("",!0),o("div",KU,[o("button",{type:"button",disabled:d.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:x},u(d.value?"Calculating...":"Estimate Size"),9,YU),o("button",{type:"button",disabled:c.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:M},u(c.value?"Starting...":"Start Processing"),9,GU)])])):j("",!0),n.value&&n.value.status==="processing"?(_(),y("div",XU,[o("div",JU,[P[36]||(P[36]=o("svg",{class:"animate-spin h-5 w-5 text-yellow-600 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),o("div",null,[o("p",QU,"Processing: "+u(n.value.original_filename),1),P[35]||(P[35]=o("p",{class:"text-sm text-yellow-600"},"This may take several minutes for large videos...",-1))])])])):j("",!0),n.value&&n.value.status==="completed"?(_(),y("div",ZU,[P[41]||(P[41]=o("div",{class:"flex items-center"},[o("svg",{class:"h-5 w-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),o("p",{class:"font-medium text-green-800"},"Processing Complete!")],-1)),o("div",eV,[o("div",null,[P[37]||(P[37]=o("p",{class:"text-gray-500"},"Original",-1)),o("p",tV,u(n.value.original_size_human),1)]),o("div",null,[P[38]||(P[38]=o("p",{class:"text-gray-500"},"Processed",-1)),o("p",sV,u(n.value.processed_size_human),1)]),o("div",null,[P[39]||(P[39]=o("p",{class:"text-gray-500"},"Compression",-1)),o("p",nV,u(n.value.compression_ratio)+"% saved",1)])]),o("div",oV,[o("a",{href:"/api/video-enhancer/"+n.value.id+"/download",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"},[...P[40]||(P[40]=[o("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),Q(" Download ",-1)])],8,iV),o("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:P[13]||(P[13]=A=>N(n.value.id,!1))}," Keep Original, Delete Processed "),o("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",onClick:P[14]||(P[14]=A=>N(n.value.id,!0))}," Delete All ")])])):j("",!0),n.value&&n.value.status==="failed"?(_(),y("div",rV,[o("div",aV,[P[43]||(P[43]=o("svg",{class:"h-5 w-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),o("div",null,[P[42]||(P[42]=o("p",{class:"font-medium text-red-800"},"Processing Failed",-1)),o("p",lV,u(n.value.error_message),1)])]),o("button",{type:"button",class:"mt-3 text-sm text-red-600 hover:text-red-800",onClick:P[15]||(P[15]=A=>E(n.value.id))}," Delete and try again ")])):j("",!0),t.value.length>0?(_(),y("div",dV,[P[46]||(P[46]=o("h3",{class:"text-md font-medium text-gray-900"},"Previous Videos",-1)),o("div",cV,[(_(!0),y(de,null,ye(t.value,A=>(_(),y("div",{key:A.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[o("div",null,[o("p",uV,u(A.original_filename),1),o("p",fV,[Q(u(A.original_size_human)+" ",1),A.status==="completed"?(_(),y("span",hV,"  "+u(A.processed_size_human)+" ("+u(A.compression_ratio)+"% saved) ",1)):j("",!0)])]),o("div",mV,[o("span",{class:ee([{"bg-yellow-100 text-yellow-800":A.status==="pending","bg-blue-100 text-blue-800":A.status==="processing","bg-green-100 text-green-800":A.status==="completed","bg-red-100 text-red-800":A.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},u(A.status),3),A.status==="completed"?(_(),y("button",{key:0,class:"text-indigo-600 hover:text-indigo-800",onClick:F=>O(A.id)},[...P[44]||(P[44]=[o("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,pV)):j("",!0),o("button",{class:"text-red-600 hover:text-red-800",onClick:F=>N(A.id,!0)},[...P[45]||(P[45]=[o("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,gV)])]))),128))])])):j("",!0)])]}),_:1})]))}}),vV={class:"col-span-12"},yV={class:"mb-4 flex items-center text-sm"},bV={class:"block text-sm font-medium text-gray-700"},yf="role",xV=_e({__name:"Form",props:{id:{}},setup(s){const e=fs(yf)(),t=Ts(yf)(),n=_o(),i=ob();e.onSuccess(l=>{t.updateOrCreate(l.model),Ft().pop()});function r(){e.data.permissions=e.options.permissions.map(l=>l.value)}function a(){e.data.permissions=[]}return(l,d)=>(_(),ie(h(gs),{id:s.id,name:yf,uri:"roles"},{default:K(()=>[S(h(n),{name:"name",label:"Name",class:"col-span-12"}),o("div",vV,[o("div",yV,[o("p",bV,u(l.__("Permissions")),1),o("span",{class:"block cursor-pointer pl-4 text-xs text-gray-700 hover:text-gray-900",onClick:r},u(l.__("Select All")),1),d[0]||(d[0]=o("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),o("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:a},u(l.__("Deselect All")),1)]),S(h(i),{name:"permissions",class:"col-span-12"})])]),_:1},8,["id"]))}}),wV={class:"flex flex-col"},kV={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},$V={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},CV={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},SV={class:"min-w-full divide-y divide-gray-200"},MV={class:"divide-y divide-gray-200 bg-white"},TV={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},AV={class:"whitespace-nowrap px-6 py-4 text-center text-sm font-medium text-gray-500"},DV={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},EV=["onClick"],PV=_e({__name:"Index",setup(s){function e(t=null){Ft().add(xV,{id:t})}return(t,n)=>(_(),ie(nr,null,{topbar:K(()=>[t.can("role:create")?(_(),ie(h(Ie),{key:0,class:"ml-auto",size:"sm","data-cy":"topbar-create-button",onClick:n[0]||(n[0]=i=>e())},{default:K(()=>[Q(u(t.__("Create Role")),1)]),_:1})):j("",!0)]),default:K(()=>[S(h(sm),{name:"role",uri:"roles","no-filters":"","no-search":""},{default:K(({items:i,index:r})=>[o("div",wV,[o("div",kV,[o("div",$V,[o("div",CV,[o("table",SV,[o("thead",null,[o("tr",null,[S(h(Le),{name:"role",index:r,label:t.__("Role")},null,8,["index","label"]),S(h(Le),{name:"role",index:r,label:t.__("Permissions"),align:"center"},null,8,["index","label"]),n[1]||(n[1]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",MV,[(_(!0),y(de,null,ye(i,a=>(_(),y("tr",{key:a.id},[o("td",TV,u(a.name),1),o("td",AV,u(a.permissions_count),1),o("td",DV,[t.can("role:update")?(_(),y("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[S(h(Br),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,EV)):j("",!0),t.can("role:delete")?(_(),ie(h(Kt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(h(As),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),RV={class:"border-b border-gray-200 px-6 py-4"},jV={class:"text-base font-medium leading-6 text-gray-900"},OV={class:"space-y-4 divide-y pb-4"},IV=["onClick"],LV={class:"-mt-1 ltr:pl-4 rtl:pr-4"},FV=["onClick"],NV={class:"mt-1.5 flex space-x-4 rtl:space-x-reverse"},zV={key:0,class:"flex items-center py-1"},BV={class:"text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},UV=["href","onClick"],VV={class:"truncate text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},HV=["onClick"],WV={class:"ltr:ml-auto rtl:mr-auto"},ca=_e({__name:"TasksList",props:{title:{},tasks:{default:()=>[]}},setup(s){const e=Ts("tasks")(),t=I(null),n=Wr();function i(a){t.value=a,ce.patch(`tasks/${a}/complete`).then(()=>{e.fetch()})}function r(a){Ft().add(ou,{id:a,page:"tasks"})}return(a,l)=>{const d=cn("router-link");return s.tasks.length?(_(),ie(h(fi),{key:1},{default:K(()=>[o("div",RV,[o("h3",jV,u(a.__(s.title)),1)]),o("div",OV,[(_(!0),y(de,null,ye(s.tasks,c=>(_(),y("div",{key:c.id,class:"flex items-start px-6 pt-4"},[o("span",{class:ee(["inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":t.value==c.id,"bg-blue-400":c.completed_at,"border border-gray-300":!c.completed_at}]),onClick:f=>i(c.id)},[...l[1]||(l[1]=[o("svg",{viewBox:"0 0 16 16",fill:"white"},[o("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],10,IV),o("div",LV,[o("span",{class:"block cursor-pointer hover:underline",onClick:f=>r(c.id)},u(c.title),9,FV),o("div",NV,[c.due_at?(_(),y("div",zV,[S(h(dn),{class:"h-4 w-4 text-gray-400"}),o("span",BV,u(c.due_at),1)])):j("",!0),S(d,{custom:"",to:"/projects/"+c.project_id},{default:K(({href:f,navigate:m})=>[o("a",{href:f,class:"flex cursor-pointer items-center text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:m},[o("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:wt({"background-color":c.project.meta.color}),"aria-hidden":"true"},null,4),o("span",VV,u(c.project.name),1)],8,UV)]),_:2},1032,["to"]),c.id==h(n).taskId?(_(),y("span",{key:1,class:"flex cursor-pointer items-center",onClick:l[0]||(l[0]=We((...f)=>h(n).stop&&h(n).stop(...f),["stop"]))},[S(h(Ur),{class:"h-4 w-4 text-red-500 hover:text-red-800"})])):(_(),y("span",{key:2,class:"flex cursor-pointer items-center",onClick:We(f=>h(n).start(c),["stop"])},[S(h(zc),{class:"h-4 w-4 text-gray-500 hover:text-gray-800"})],8,HV))])]),o("div",WV,[S(h(rs),{user:c.users[0],class:"h-6 w-6"},null,8,["user"])])]))),128))])]),_:1})):(_(),ie(h(gl),{key:0,"no-create":""}))}}}),qV={class:"mb-4 flex items-center"},KV={class:"text-2xl font-semibold text-gray-900"},YV={class:"flex ltr:ml-auto rtl:mr-auto"},GV={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},XV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},JV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},QV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},ZV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},eH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},tH={class:"group relative ltr:ml-2 rtl:mr-2"},sH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},nH={key:1,class:"group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-600"},oH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},iH={class:"absolute top-full hidden group-hover:block ltr:right-0 rtl:left-0"},rH={class:"min-w-[12rem] rounded-md bg-white ring-1 ring-black ring-opacity-5"},aH={class:"py-1",role:"none"},lH=["onClick"],dH={class:"truncate ltr:ml-2.5 rtl:mr-2.5"},cH={key:0,class:"mt-8 flex justify-center"},uH={key:1},fH={key:1,class:"space-y-4"},hH=_e({__name:"Index",setup(s){const e=Je("__"),t=Ts("tasks")(),n=I([]),i=I(null),r=I(""),a=I("");t.setConfig({uri:"tasks"}),t.fetch(),l();function l(){ce.get("projects/options").then(f=>{n.value=f.data})}function d(f=null){i.value=null,t.params.project=null,t.params.type=f,t.fetch()}function c(f,m,p){i.value=f,r.value=m,a.value=p,t.params.type=null,t.params.project=f,t.fetch()}return(f,m)=>{var p;return _(),y(de,null,[o("div",qV,[o("h1",KV,u(h(e)("Tasks")),1),o("div",YV,[o("nav",GV,[o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":((p=h(t).params)==null?void 0:p.type)==null&&i.value==null,"text-gray-600":h(t).params.type!=null||i.value!=null}]),onClick:m[0]||(m[0]=g=>d())},[S(h(Yh),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",XV,u(h(e)("Inbox")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":h(t).params.type=="today","text-gray-600":h(t).params.type!="today"}]),onClick:m[1]||(m[1]=g=>d("today"))},[S(h(dn),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",JV,u(h(e)("Today")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":h(t).params.type=="upcoming","text-gray-600":h(t).params.type!="upcoming"}]),onClick:m[2]||(m[2]=g=>d("upcoming"))},[S(h(X4),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",QV,u(h(e)("Upcoming")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":h(t).params.type=="overdue","text-gray-600":h(t).params.type!="overdue"}]),onClick:m[3]||(m[3]=g=>d("overdue"))},[S(h(qh),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",ZV,u(h(e)("Overdue")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":h(t).params.type=="completed","text-gray-600":h(t).params.type!="completed"}]),onClick:m[4]||(m[4]=g=>d("completed"))},[S(h(ys),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",eH,u(h(e)("Completed")),1)],2)]),o("div",tH,[i.value?(_(),y("div",{key:0,class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}])},[o("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:wt({"background-color":a.value})},null,4),o("span",sH,u(r.value),1)],2)):(_(),y("div",nH,[S(h(Rv),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",oH,u(h(e)("Projects")),1)])),o("div",iH,[m[5]||(m[5]=o("div",{class:"h-1.5"},"",-1)),o("div",rH,[o("div",aH,[(_(!0),y(de,null,ye(n.value,g=>(_(),y("p",{key:g.id,class:"flex cursor-pointer items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:v=>c(g.id,g.name,g.meta.color)},[o("span",{class:"block h-2.5 w-2.5 flex-shrink-0 rounded-full",style:wt({"background-color":g.meta.color}),"aria-hidden":"true"},null,4),o("span",dH,u(g.name),1)],8,lH))),128)),z(o("p",{class:"flex items-center px-4 py-3 text-sm leading-5 text-gray-600"},u(h(e)("No projects")),513),[[zt,!n.value.length]])])])])])])]),h(t).fetching?(_(),y("div",cH,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",uH,[Array.isArray(h(t).data)?(_(),ie(h(gl),{key:0,"no-create":""})):(_(),y("div",fH,[h(t).data.today?(_(),ie(ca,{key:0,title:"Today",tasks:h(t).data.today},null,8,["tasks"])):j("",!0),h(t).data.overdue?(_(),ie(ca,{key:1,title:"Overdue",tasks:h(t).data.overdue},null,8,["tasks"])):j("",!0),h(t).data.upcoming?(_(),ie(ca,{key:2,title:"Upcoming",tasks:h(t).data.upcoming},null,8,["tasks"])):j("",!0),h(t).data["no overdue"]?(_(),ie(ca,{key:3,title:"No Overdue",tasks:h(t).data["no overdue"]},null,8,["tasks"])):j("",!0),h(t).data.completed?(_(),ie(ca,{key:4,title:"Completed",tasks:h(t).data.completed},null,8,["tasks"])):j("",!0)]))]))],64)}}}),bf="user",mH=_e({__name:"Form",props:{id:{}},setup(s){const e=fs(bf)(),t=Ts(bf)(),n=_o(),i=yl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(_(),ie(h(gs),{id:s.id,name:bf,uri:"users"},{default:K(()=>[S(h(n),{name:"name",label:"Name",class:"col-span-12"}),S(h(n),{name:"email",label:"Email",class:"col-span-12"}),S(h(n),{name:"password",label:"Password",class:"col-span-12"}),S(h(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1},8,["id"]))}}),pH={key:0,class:"mt-8 flex justify-center"},gH={key:1},_H={class:"mb-6"},vH={class:"relative w-64 rounded-md shadow-sm"},yH={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},bH=["placeholder"],xH={key:0,class:"mb-8"},wH={key:0,class:"ltr:ml-auto rtl:mr-auto"},kH={class:"flex flex-col"},$H={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},CH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},SH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},MH={class:"min-w-full divide-y divide-gray-200"},TH={class:"divide-y divide-gray-200 bg-white"},AH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},DH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},EH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},PH={class:"ltr:ml-auto rtl:mr-auto"},RH={class:"flex flex-col"},jH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},OH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},IH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},LH={class:"min-w-full divide-y divide-gray-200"},FH={class:"divide-y divide-gray-200 bg-white"},NH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},zH={class:"flex"},BH={class:"text-sm ltr:ml-3 rtl:mr-3"},UH={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},VH={class:"block text-sm font-normal text-gray-500"},HH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},WH={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},qH=["onClick"],KH=_e({__name:"Index",setup(s){const e=Je("can"),t=Je("__"),n=Ts("user")(),i=Ts("invitation")(),r=I(!0);a(),n.setConfig({uri:"users",orderByDirection:"desc"}),n.fetch(),(e("user:view")||e("user:create"))&&(i.setConfig({uri:"invitations",orderByDirection:"desc"}),i.fetch());function a(){setTimeout(function(){if(n.fetching||i.fetching){a();return}l()},150)}function l(){r.value=!1}function d(g=null){Ft().add(rb,{id:g})}function c(g=null){Ft().add(mH,{id:g})}function f(){r.value=!0,n.onSearch(),a()}function m(g){var v;return!(!_t.is_super_admin||g.id===((v=_t.user)==null?void 0:v.id))}async function p(g){var v,k;if(confirm(`Are you sure you want to login as ${g.name}?`))try{(await ce.post(`impersonate/${g.id}`)).data.success&&(alert(`You are now logged in as ${g.name}`),window.location.href="/")}catch(b){alert(((k=(v=b.response)==null?void 0:v.data)==null?void 0:k.message)||"Failed to impersonate user")}}return(g,v)=>{var k,b;return r.value?(_(),y("div",pH,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",gH,[o("div",_H,[o("div",vH,[o("div",yH,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":v[0]||(v[0]=w=>h(n).params.search=w),type:"search",placeholder:h(t)("Search users..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:f},null,40,bH),[[te,h(n).params.search]])])]),(b=(k=h(i).data)==null?void 0:k.data)!=null&&b.length?(_(),y("section",xH,[S(h(oc),{title:h(t)("Pending Invitations")},{default:K(()=>[h(e)("user:create")?(_(),y("div",wH,[S(h(Ie),{size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[1]||(v[1]=w=>d())},{default:K(()=>[Q(u(h(t)("Invite Team Member")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),o("div",kH,[o("div",$H,[o("div",CH,[o("div",SH,[o("table",MH,[o("thead",null,[o("tr",null,[S(h(Le),{name:"invitation",index:h(i),label:h(t)("Email"),sort:"email"},null,8,["index","label"]),S(h(Le),{name:"invitation",index:h(i),label:h(t)("Role")},null,8,["index","label"]),v[3]||(v[3]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",TH,[(_(!0),y(de,null,ye(h(i).data.data,w=>(_(),y("tr",{key:w.id},[o("td",AH,u(w.email),1),o("td",DH,u(w.role.name),1),o("td",EH,[h(e)("user:delete")?(_(),ie(h(Kt),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(x=>h(i).deleteIt(w.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(h(As),{index:h(i)},null,8,["index"])])])])])])):j("",!0),o("section",null,[S(h(oc),{title:h(t)("Team Members")},{default:K(()=>{var w;return[o("div",PH,[h(e)("user:create")&&!((w=h(i).data)!=null&&w.length)?(_(),ie(h(Ie),{key:0,size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[2]||(v[2]=x=>d())},{default:K(()=>[Q(u(h(t)("Invite Team Member")),1)]),_:1})):j("",!0),h(e)("user:create")?(_(),ie(h(Ie),{key:1,class:"ltr:ml-2 rtl:mr-2",size:"sm","data-cy":"topbar-create-button",onClick:c},{default:K(()=>[Q(u(h(t)("Create Team Member")),1)]),_:1})):j("",!0)])]}),_:1},8,["title"]),o("div",RH,[o("div",jH,[o("div",OH,[o("div",IH,[o("table",LH,[o("thead",null,[o("tr",null,[S(h(Le),{name:"user",index:h(n),label:h(t)("Name"),sort:"name"},null,8,["index","label"]),S(h(Le),{name:"user",index:h(n),label:h(t)("Role")},null,8,["index","label"]),v[4]||(v[4]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",FH,[(_(!0),y(de,null,ye(h(n).data.data,w=>(_(),y("tr",{key:w.id},[o("td",NH,[o("div",zH,[S(h(rs),{class:"h-6 w-6",avatar:w.avatar},null,8,["avatar"]),o("div",BH,[o("span",UH,u(w.name),1),o("span",VH,u(w.email),1)])])]),o("td",HH,u(w.roles[0].name),1),o("td",WH,[m(w)?(_(),ie(h(Iv),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",title:h(t)("Login as this user"),onClick:We(x=>p(w),["stop"])},null,8,["title","onClick"])):j("",!0),h(e)("user:update")?(_(),y("span",{key:1,class:"ml-2",onClick:x=>c(w.id)},[S(h(Br),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,qH)):j("",!0),h(e)("user:delete")?(_(),ie(h(Kt),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(x=>h(n).deleteIt(w.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(h(As),{index:h(n)},null,8,["index"])])])])])])]))}}}),_1="label",YH=_e({__name:"Form",props:{id:{}},setup(s){const e=fs(_1)(),t=_o(),n=Ts("label")();return e.onSuccess(i=>{n.updateOrCreate(i.model),Ft().pop()}),(i,r)=>(_(),ie(h(gs),{id:s.id,name:_1,uri:"labels"},{default:K(()=>[S(h(t),{name:"name",label:"Name",class:"col-span-12"}),S(ib,{name:"color"})]),_:1},8,["id"]))}}),GH={class:"flex flex-col"},XH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},JH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},QH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},ZH={class:"min-w-full divide-y divide-gray-200"},eW={class:"divide-y divide-gray-200 bg-white"},tW={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},sW={class:"flex items-center"},nW={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},oW=["onClick"],iW=_e({__name:"Index",setup(s){function e(t=null){Ft().add(YH,{id:t})}return(t,n)=>(_(),ie(nr,null,{topbar:K(()=>[S(h(Ie),{size:"sm",onClick:e},{default:K(()=>[Q(u(t.__("Create Label")),1)]),_:1})]),default:K(()=>[S(h(sm),{name:"label",uri:"labels","no-filters":"","no-search":""},{default:K(({items:i,index:r})=>[o("div",GH,[o("div",XH,[o("div",JH,[o("div",QH,[o("table",ZH,[o("tbody",eW,[(_(!0),y(de,null,ye(i,a=>(_(),y("tr",{key:a.id},[o("td",tW,[o("div",sW,[S(h(wb),{class:"mr-2 inline-block h-4 w-4",style:wt({color:a.meta.color})},null,8,["style"]),Q(" "+u(a.name),1)])]),o("td",nW,[t.can("label:update")?(_(),y("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[S(h(Br),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,oW)):j("",!0),t.can("label:delete")?(_(),ie(h(Kt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),S(h(As),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),rW={class:"mb-4 flex"},aW={class:"text-2xl font-semibold text-gray-900"},lW={class:"flex items-center ltr:ml-auto rtl:mr-auto"},dW={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},cW={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},uW={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},fW={key:0,class:"mt-8 flex justify-center"},hW={key:1},mW={class:"space-y-4 divide-y pb-6"},pW=["href","onClick"],gW={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},_W={key:1,class:"flex items-center leading-5 text-gray-700"},vW={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},yW={class:"ml-auto flex space-x-3"},bW=_e({__name:"Index",setup(s){const e=Je("can"),t=Je("__"),n=new URLSearchParams(window.location.search),i=I(!!n.has("archived")),r=Ts("projects")(),a=ym();n.has("archived")?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),r.fetch();function l(m=null){m=="archived"?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),m=="archived"?(i.value=!0,history.replaceState(history.state,"","?archived")):(i.value=!1,history.replaceState(history.state,"","/projects")),r.fetch()}function d(m,p){ce.patch(`projects/${m}/archive`).then(()=>{r.data.splice(p,1)})}function c(m,p){ce.patch(`projects/${m}/restore`).then(()=>{r.data.splice(p,1)})}function f(m,p){const g=vd();g.confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){const v=Array.isArray(m)?m:[m],k="projects";ce.delete(`${k}/null`,{data:{items:v}}).then(()=>{g.hide(),r.data.splice(p,1)}).catch(()=>{g.hide()})}})}return(m,p)=>{const g=cn("RouterLink");return _(),y(de,null,[o("div",rW,[o("h1",aW,u(h(t)("Projects")),1),o("div",lW,[o("nav",dW,[o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":!i.value,"text-gray-600":i.value}]),onClick:p[0]||(p[0]=v=>l())},[S(h(Rv),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",cW,u(h(t)("Active")),1)],2),o("span",{class:ee(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}]),onClick:p[1]||(p[1]=v=>l("archived"))},[S(h(s0),{class:"h-4 w-4 group-hover:text-gray-800"}),o("span",uW,u(h(t)("Archived")),1)],2)]),h(e)("project:create")?(_(),ie(h(Ie),{key:0,class:"ml-6",size:"sm","data-cy":"topbar-create-button",onClick:We(h(a).create,["stop"])},{default:K(()=>[Q(u(h(t)("Create Project")),1)]),_:1},8,["onClick"])):j("",!0)])]),h(r).fetching?(_(),y("div",fW,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",hW,[h(r).data.length?(_(),ie(h(fi),{key:1},{default:K(()=>[o("div",mW,[(_(!0),y(de,null,ye(h(r).data,(v,k)=>{var b;return _(),y("div",{key:v.id,class:"flex px-6 pt-6"},[i.value?j("",!0):(_(),ie(g,{key:0,custom:"",to:"/projects/"+v.id},{default:K(({href:w,navigate:x})=>{var M;return[o("a",{href:w,class:"flex cursor-pointer items-center leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:x},[o("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:wt({"background-color":((M=v.meta)==null?void 0:M.color)||"#ccc"}),"aria-hidden":"true"},null,4),o("span",gW,u(v.name),1)],8,pW)]}),_:2},1032,["to"])),i.value?(_(),y("p",_W,[o("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:wt({"background-color":((b=v.meta)==null?void 0:b.color)||"#ccc"}),"aria-hidden":"true"},null,4),o("span",vW,u(v.name),1)])):j("",!0),o("div",yW,[z(S(h(s0),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:w=>d(v.id,k)},null,8,["onClick"]),[[zt,!i.value&&h(e)("project:delete")]]),z(S(h(q4),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:w=>c(v.id,k)},null,8,["onClick"]),[[zt,i.value&&h(e)("project:delete")]]),z(S(h(Kt),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:w=>f(v.id,k)},null,8,["onClick"]),[[zt,i.value&&h(e)("project:delete")]])])])}),128))])]),_:1})):(_(),ie(h(gl),{key:0,"no-create":""}))]))],64)}}}),xW={class:"space-y-6"},wW={class:"flex items-center justify-between border-b border-gray-200 pb-5"},kW={class:"text-3xl font-bold text-gray-900"},$W={key:0,class:"mt-2 flex flex-wrap gap-2"},CW={key:0,class:"text-xs text-gray-600"},SW={key:1,class:"text-xs text-gray-600 ml-4"},MW=["disabled"],TW={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},AW={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},DW={key:0,class:"rounded-lg bg-white border-2 border-indigo-200 p-6 shadow-md"},EW={class:"flex items-center justify-between mb-4"},PW={class:"text-lg font-semibold text-gray-900"},RW={class:"text-xs text-gray-500"},jW={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},OW={class:"bg-gray-50 rounded-lg p-4"},IW={class:"flex items-center justify-between mb-2"},LW={class:"text-sm font-medium text-gray-600"},FW={class:"text-2xl font-bold text-gray-900"},NW={class:"text-xs text-gray-500 mt-1"},zW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},BW={class:"bg-gray-50 rounded-lg p-4"},UW={class:"flex items-center justify-between mb-2"},VW={class:"text-sm font-medium text-gray-600"},HW={class:"text-2xl font-bold text-gray-900"},WW={class:"text-xs text-gray-500 mt-1"},qW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},KW={class:"bg-gray-50 rounded-lg p-4"},YW={class:"flex items-center justify-between mb-2"},GW={class:"text-sm font-medium text-gray-600"},XW={class:"text-xs text-gray-500 mt-1"},JW={class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},QW={class:"flex items-start"},ZW={class:"flex-1"},eq={class:"text-sm font-medium text-blue-900"},tq={class:"text-sm text-blue-700 mt-1"},sq={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mx-1"},nq={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mx-1"},oq={key:1,class:"rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-6 shadow-lg"},iq={class:"text-xl font-semibold text-white mb-4"},rq={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},aq={class:"flex items-center justify-between mb-3"},lq={class:"flex items-center space-x-2"},dq={class:"text-white font-medium text-sm truncate"},cq={class:"space-y-2"},uq={key:0,class:"flex justify-between items-center"},fq={class:"text-white text-xs opacity-75"},hq={class:"text-white text-lg font-bold"},mq={class:"text-white text-xs opacity-75"},pq={class:"text-white text-sm font-semibold"},gq={class:"text-white text-xs opacity-75"},_q={class:"text-white text-sm font-semibold"},vq={class:"text-white text-xs opacity-75"},yq={class:"text-white text-sm font-semibold"},bq={class:"text-white text-xs opacity-75"},xq={class:"text-white text-sm font-semibold"},wq={key:1,class:"grid grid-cols-1 gap-2 pt-2"},kq={class:"text-white text-xs opacity-75"},$q={class:"text-white text-sm font-semibold"},Cq={class:"mt-3 pt-2 border-t border-white border-opacity-20"},Sq={class:"text-white text-xs opacity-75 mb-1"},Mq={key:0,class:"flex flex-wrap gap-1"},Tq=["title"],Aq={key:1,class:"flex items-center gap-2"},Dq={class:"text-white text-xs opacity-50"},Eq={key:2,class:"mt-3 pt-2 border-t border-white border-opacity-20"},Pq={class:"text-white text-xs opacity-75 mb-2"},Rq={class:"space-y-1.5"},jq={class:"flex items-center gap-1.5 flex-1 min-w-0"},Oq={class:"text-sm"},Iq={class:"opacity-90 truncate"},Lq={class:"flex gap-2 text-[10px] opacity-75 flex-shrink-0"},Fq={class:"whitespace-nowrap"},Nq={class:"whitespace-nowrap"},zq={class:"whitespace-nowrap"},Bq={key:0,class:"mt-4 pt-4 border-t border-white border-opacity-30"},Uq={class:"flex items-center justify-between"},Vq={class:"text-white text-sm font-medium opacity-90"},Hq={class:"text-white text-2xl font-bold"},Wq={class:"rounded-lg bg-white p-4 shadow"},qq={class:"flex items-center space-x-4"},Kq={class:"flex-1"},Yq={class:"block text-sm font-medium text-gray-700"},Gq={class:"flex-1"},Xq={class:"block text-sm font-medium text-gray-700"},Jq={class:"pt-6"},Qq={key:0,class:"mt-3 text-sm text-gray-500"},Zq={key:3,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},eK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},tK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},sK={class:"text-lg font-semibold text-gray-900"},nK={style:{height:"300px"}},oK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},iK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},rK={class:"text-lg font-semibold text-gray-900"},aK={style:{height:"300px"}},lK={key:0,class:"overflow-hidden rounded-lg bg-white p-6 shadow lg:col-span-2"},dK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},cK={class:"text-lg font-semibold text-gray-900"},uK={style:{height:"400px"}},fK={key:4,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},hK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},mK={class:"truncate text-sm font-medium text-gray-500"},pK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},gK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},_K={class:"truncate text-sm font-medium text-gray-500"},vK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},yK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},bK={class:"truncate text-sm font-medium text-gray-500"},xK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},wK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},kK={class:"truncate text-sm font-medium text-gray-500"},$K={class:"mt-1 text-3xl font-semibold tracking-tight text-indigo-600"},CK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},SK={class:"truncate text-sm font-medium text-gray-500"},MK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},TK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},AK={class:"truncate text-sm font-medium text-gray-500"},DK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},EK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},PK={class:"truncate text-sm font-medium text-gray-500"},RK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},jK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},OK={class:"truncate text-sm font-medium text-gray-500"},IK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},LK={key:5,class:"overflow-hidden rounded-lg bg-white shadow"},FK={class:"flex items-center justify-between"},NK={class:"text-md font-medium text-gray-900"},zK={class:"mt-1 text-sm text-gray-500"},BK={class:"overflow-x-auto"},UK={class:"min-w-full divide-y divide-gray-200"},VK={class:"bg-gray-50"},HK={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},WK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},qK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},KK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},YK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},GK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},XK={class:"divide-y divide-gray-200 bg-white"},JK={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},QK={class:"flex items-center"},ZK={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},eY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},tY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},sY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},nY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},oY={key:6,class:"overflow-hidden rounded-lg bg-white shadow"},iY={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},rY={class:"flex items-center justify-between"},aY={class:"text-lg font-medium leading-6 text-gray-900"},lY={class:"flex items-center space-x-4"},dY={class:"relative"},cY=["placeholder"],uY={class:"overflow-x-auto"},fY={class:"min-w-full divide-y divide-gray-200"},hY={class:"bg-gray-50"},mY={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},gY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},_Y={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},vY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},yY={class:"divide-y divide-gray-200 bg-white"},bY={class:"whitespace-nowrap px-6 py-4"},xY={class:"flex items-center justify-between"},wY={class:"flex items-center"},kY={class:"text-2xl mr-2"},$Y={class:"text-sm font-medium text-gray-900"},CY={key:0,class:"mt-2"},SY={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},MY={class:"w-full bg-gray-200 rounded-full h-1.5"},TY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},AY={class:"text-gray-900"},DY={key:0,class:"text-xs text-gray-500 mt-1"},EY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},PY={class:"text-gray-900"},RY={key:0,class:"text-xs text-gray-500 mt-1"},jY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},OY={class:"text-gray-900"},IY={key:0,class:"text-xs text-gray-500 mt-1"},LY={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},FY={key:0,class:"text-xs text-gray-500 mt-1"},NY={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},zY={class:"flex items-center justify-between"},BY={class:"flex flex-1 justify-between sm:hidden"},UY=["disabled"],VY=["disabled"],HY={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},WY={class:"text-sm text-gray-700"},qY={class:"font-medium"},KY={class:"font-medium"},YY={class:"font-medium"},GY={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},XY=["disabled"],JY={class:"sr-only"},QY=["onClick"],ZY=["disabled"],eG={class:"sr-only"},tG={key:7,class:"rounded-lg bg-white p-12 text-center shadow"},sG={class:"mt-2 text-sm font-medium text-gray-900"},nG={class:"mt-1 text-sm text-gray-500"},oG={class:"mt-6"},iG=_e({__name:"AdSenseReports",setup(s){const e=Je("__"),t=I(!1),n=I(!1),i=I([]),r=I([]),a=I(null),l=I(null),d=I([]),c=I(null),f=I([]),m=I(null),p=I(0),g=I(!1),v=I(null),k=Pe(()=>{if(!c.value||!c.value.countries)return[];const X=[];return c.value.countries.forEach(Z=>{Z.websites&&Array.isArray(Z.websites)&&Z.websites.forEach(se=>{X.push({...se,country_code:Z.country_code,country_name:Z.country_name})})}),X}),b=(X,Z)=>{if(!Z||Z===0)return"none";const se=X/Z*100;return se>=100?"excellent":se>=70?"good":"poor"},w=(X,Z)=>!Z||Z===0?0:Math.min(X/Z*100,100),x=X=>{switch(X){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=X=>{switch(X){case"excellent":return" On Target";case"good":return" Close";case"poor":return" Below Target";default:return"No Target"}},C=I(!0),O=I(!0),N=I({current_page:1,per_page:10,last_page:1,total_countries:0,from:0,to:0}),E=I(10),B=I("");let L=null;const P=new Date,R=new Date(P);R.setDate(R.getDate()-7);const A=I(R.toISOString().split("T")[0]),F=I(P.toISOString().split("T")[0]),be=X=>X?new Intl.NumberFormat("en-US").format(X):"0",ae=X=>X?X>=1e6?(X/1e6).toFixed(1)+"M":X>=1e3?(X/1e3).toFixed(1)+"K":X.toString():"0",le=X=>X?parseFloat(X).toFixed(2):"0.00",J=X=>X?parseFloat(X).toFixed(2):"0.00",ne=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",q=X=>{if(!X||X==="XX")return"";const Z=X.toUpperCase().split("").map(se=>127397+se.charCodeAt(0));return String.fromCodePoint(...Z)},oe=X=>{const Z=X.toLowerCase();return Z.includes("google")?"":Z.includes("bing")?"":Z.includes("yahoo")?"":Z.includes("facebook")?"":Z.includes("twitter")||Z.includes("x.com")?"":Z.includes("linkedin")?"":Z.includes("instagram")?"":Z.includes("pinterest")?"":Z.includes("reddit")?"":Z.includes("social")?"":Z.includes("referral")?"":Z.includes("direct")?"":Z.includes("email")?"":Z.includes("paid")?"":""},xe=Pe(()=>d.value.map(X=>new Date(X.report_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),je=Pe(()=>d.value.map(X=>({x:X.report_date,y:parseFloat(X.total_earnings||0)}))),ot=Pe(()=>[{label:"Impressions",data:d.value.map(X=>parseInt(X.total_impressions||0)),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"#6366F1",borderWidth:1},{label:"Clicks",data:d.value.map(X=>parseInt(X.total_clicks||0)),backgroundColor:"rgba(236, 72, 153, 0.8)",borderColor:"#EC4899",borderWidth:1}]),ht=Pe(()=>i.value.slice(0,10).map(X=>X.country_name||X.country_code)),he=Pe(()=>i.value.slice(0,10).map(X=>parseFloat(X.total_earnings||0))),we=Pe(()=>{const X=[],Z=N.value.current_page,se=N.value.last_page;X.push(1);for(let pe=Math.max(2,Z-1);pe<=Math.min(se-1,Z+1);pe++)X.push(pe);return se>1&&X.push(se),[...new Set(X)].sort((pe,Se)=>pe-Se)}),$e=X=>{X>=1&&X<=N.value.last_page&&(N.value.current_page=X,Oe())},Ne=()=>{clearTimeout(L),L=setTimeout(()=>{N.value.current_page=1,Oe()},500)},et=async()=>{try{const X=new Date().toISOString().split("T")[0];m.value=X;const Z=await Qe.get("/api/adsense/reports/by-website",{params:{start_date:X,end_date:X}});if(Z.data.data&&Z.data.data.length>0){f.value=Z.data.data;try{const se=await Qe.get("/api/adsense/reports",{params:{start_date:X,end_date:X}});if(se.data.data){const pe=se.data.data;f.value=f.value.map(Se=>{const Te=pe.filter(Ce=>Ce.domain===Se.domain).sort((Ce,ke)=>ke.impressions-Ce.impressions).slice(0,5);return{...Se,topCountries:Te}})}}catch{}try{const se=await Qe.get("/api/adsense/traffic-sources",{params:{start_date:X,end_date:X}});if(se.data.success&&se.data.data){const pe=se.data.data;f.value=f.value.map(Se=>{const Te=pe[Se.domain]||[];return{...Se,trafficSources:Te.slice(0,5)}})}}catch{}p.value=f.value.reduce((se,pe)=>se+parseFloat(pe.total_earnings||0),0)}else f.value=[],p.value=0}catch{f.value=[],p.value=0}},Oe=async()=>{t.value=!0;try{const[X,Z,se,pe]=await Promise.all([Qe.get("/api/adsense/reports/summary",{params:{start_date:A.value,end_date:F.value}}),Qe.get("/api/adsense/reports/by-country",{params:{start_date:A.value,end_date:F.value,search:B.value,per_page:E.value,page:N.value.current_page}}),Qe.get("/api/adsense/reports/by-website",{params:{start_date:A.value,end_date:F.value}}),Qe.get("/api/adsense/reports/daily-trend",{params:{start_date:A.value,end_date:F.value}})]);a.value=X.data.data,i.value=Z.data.data,r.value=se.data.data,d.value=pe.data.data,Z.data.meta&&(N.value={current_page:Z.data.meta.current_page,per_page:Z.data.meta.per_page,last_page:Z.data.meta.last_page,total_countries:Z.data.meta.total_countries,from:Z.data.meta.from||0,to:Z.data.meta.to||0}),await et()}catch{}finally{t.value=!1}},ue=async()=>{try{const X=await Qe.get("/api/adsense/reports/latest-date");l.value=X.data.data.latest_report_date}catch{}},fe=async()=>{try{const X=await Qe.get("/api/adsense/user-assignments");c.value=X.data.data,v.value=X.data.data.targets,await U()}catch{}},U=async()=>{try{const Z=(await Qe.get("/api/user")).data;Z&&Z.roles&&(g.value=Z.roles.some(se=>se.name==="Admin"))}catch{g.value=!1}},Y=async()=>{n.value=!0;try{await Qe.post("/api/adsense/sync",{start_date:A.value,end_date:F.value}),await Oe(),await ue()}catch{alert("Failed to sync data. Please check your AdSense API configuration.")}finally{n.value=!1}};return Ye(async()=>{await fe(),await ue(),await Oe()}),(X,Z)=>(_(),y("div",xW,[o("div",wW,[o("div",null,[o("h1",kW,u(h(e)("AdSense Reports")),1),Z[10]||(Z[10]=o("p",{class:"mt-1 text-sm text-gray-500"}," View your AdSense performance metrics by country ",-1)),c.value&&c.value.has_assignments?(_(),y("div",$W,[c.value.countries.length>0?(_(),y("span",CW,[o("strong",null,u(h(e)("Your Countries"))+":",1),(_(!0),y(de,null,ye(c.value.countries,(se,pe)=>(_(),y("span",{key:se.country_code},u(q(se.country_code))+" "+u(se.country_name)+u(pe<c.value.countries.length-1?", ":""),1))),128))])):j("",!0),k.value.length>0?(_(),y("span",SW,[o("strong",null,u(h(e)("Your Websites"))+":",1),(_(!0),y(de,null,ye(k.value,(se,pe)=>(_(),y("span",{key:se.id},u(se.website_url)+u(pe<k.value.length-1?", ":""),1))),128))])):j("",!0)])):j("",!0)]),o("button",{onClick:Y,disabled:n.value,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(_(),y("svg",TW,[...Z[11]||(Z[11]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),y("svg",AW,[...Z[12]||(Z[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),Q(" "+u(n.value?h(e)("Syncing..."):h(e)("Sync Data")),1)],8,MW)]),v.value&&a.value?(_(),y("div",DW,[o("div",EW,[o("h3",PW,"  "+u(h(e)("Your Performance vs Targets")),1),o("span",RW,u(h(e)("For selected date range")),1)]),o("div",jW,[o("div",OW,[o("div",IW,[o("span",LW,u(h(e)("Impressions")),1),o("span",{class:ee([x(b(a.value.total_impressions,v.value.daily_impressions_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},u(Math.round(w(a.value.total_impressions,v.value.daily_impressions_target)))+"% ",3)]),o("div",FW,u(ae(a.value.total_impressions)),1),o("div",NW,"Target: "+u(ae(v.value.daily_impressions_target))+"/day",1),o("div",zW,[o("div",{class:ee([{"bg-green-500":b(a.value.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":b(a.value.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":b(a.value.total_impressions,v.value.daily_impressions_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:wt({width:w(a.value.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])]),o("div",BW,[o("div",UW,[o("span",VW,u(h(e)("Clicks")),1),o("span",{class:ee([x(b(a.value.total_clicks,v.value.daily_clicks_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},u(Math.round(w(a.value.total_clicks,v.value.daily_clicks_target)))+"% ",3)]),o("div",HW,u(ae(a.value.total_clicks)),1),o("div",WW,"Target: "+u(ae(v.value.daily_clicks_target))+"/day",1),o("div",qW,[o("div",{class:ee([{"bg-green-500":b(a.value.total_clicks,v.value.daily_clicks_target)==="excellent","bg-yellow-500":b(a.value.total_clicks,v.value.daily_clicks_target)==="good","bg-red-500":b(a.value.total_clicks,v.value.daily_clicks_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:wt({width:w(a.value.total_clicks,v.value.daily_clicks_target)+"%"})},null,6)])]),o("div",KW,[o("div",YW,[o("span",GW,u(h(e)("Average CPC")),1),o("span",{class:ee([{"bg-green-100 text-green-800":a.value.avg_cpc>=v.value.min_cpc_target,"bg-red-100 text-red-800":a.value.avg_cpc<v.value.min_cpc_target},"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},u(a.value.avg_cpc>=v.value.min_cpc_target?" Good":" Low"),3)]),o("div",{class:ee([{"text-green-600":a.value.avg_cpc>=v.value.min_cpc_target,"text-red-600":a.value.avg_cpc<v.value.min_cpc_target},"text-2xl font-bold"])}," $"+u(le(a.value.avg_cpc)),3),o("div",XW,"Min Target: $"+u(le(v.value.min_cpc_target)),1)])]),o("div",JW,[o("div",QW,[Z[13]||(Z[13]=o("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("div",ZW,[o("p",eq,u(h(e)("Marketing Focus Tip")),1),o("p",tq,[Q(u(h(e)("Check the country performance table below. Countries marked in"))+" ",1),o("span",sq,u(h(e)("red")),1),Q(" "+u(h(e)("need more marketing effort, while"))+" ",1),o("span",nq,u(h(e)("green")),1),Q(" "+u(h(e)("countries are performing well.")),1)])])])])])):j("",!0),!t.value&&f.value&&f.value.length>0?(_(),y("div",oq,[o("div",null,[o("h3",iq,u(h(e)("Today's Performance"))+" ("+u(ne(m.value))+") ",1),o("div",rq,[(_(!0),y(de,null,ye(f.value,se=>(_(),y("div",{key:se.domain,class:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all"},[o("div",aq,[o("div",lq,[Z[14]||(Z[14]=o("svg",{class:"h-5 w-5 text-white opacity-75",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),o("h4",dq,u(se.domain),1)])]),o("div",cq,[g.value?(_(),y("div",uq,[o("span",fq,u(h(e)("Earnings")),1),o("span",hq,"$"+u(le(se.total_earnings)),1)])):j("",!0),o("div",{class:ee(g.value?"grid grid-cols-4 gap-2 pt-2 border-t border-white border-opacity-20":"grid grid-cols-4 gap-2")},[o("div",null,[o("p",mq,u(h(e)("Page Views")),1),o("p",pq,u(ae(se.total_page_views)),1)]),o("div",null,[o("p",gq,u(h(e)("Impr")),1),o("p",_q,u(ae(se.total_impressions)),1)]),o("div",null,[o("p",vq,u(h(e)("Clicks")),1),o("p",yq,u(ae(se.total_clicks)),1)]),o("div",null,[o("p",bq,u(h(e)("CPC")),1),o("p",xq,"$"+u(le(se.avg_cpc)),1)])],2),g.value?(_(),y("div",wq,[o("div",null,[o("p",kq,u(h(e)("RPM")),1),o("p",$q,"$"+u(le(se.avg_page_rpm)),1)])])):j("",!0),o("div",Cq,[o("p",Sq,u(h(e)("Traffic Sources")),1),se.trafficSources&&se.trafficSources.length>0?(_(),y("div",Mq,[(_(!0),y(de,null,ye(se.trafficSources,pe=>(_(),y("span",{key:pe.source+pe.medium,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white bg-opacity-20 text-white",title:be(pe.sessions)+" sessions, "+be(pe.page_views)+" page views"},u(oe(pe.source))+" "+u(pe.source),9,Tq))),128))])):(_(),y("div",Aq,[Z[15]||(Z[15]=o("svg",{class:"h-4 w-4 text-white opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",Dq,u(h(e)("No traffic data available. Grant service account access in GA4.")),1)]))]),se.topCountries&&se.topCountries.length>0?(_(),y("div",Eq,[o("p",Pq,u(h(e)("Top 5 Countries")),1),o("div",Rq,[(_(!0),y(de,null,ye(se.topCountries,pe=>(_(),y("div",{key:pe.country_code,class:"flex items-center justify-between text-white text-xs"},[o("div",jq,[o("span",Oq,u(q(pe.country_code)),1),o("span",Iq,u(pe.country_name),1)]),o("div",Lq,[o("span",Fq,u(ae(pe.page_views))+" Views",1),o("span",Nq,u(ae(pe.impressions))+" Impr",1),o("span",zq,u(ae(pe.clicks))+" Clicks",1)])]))),128))])])):j("",!0)])]))),128))]),g.value&&f.value.length>1?(_(),y("div",Bq,[o("div",Uq,[o("span",Vq,u(h(e)("Total Earnings Today")),1),o("span",Hq,"$"+u(le(p.value)),1)])])):j("",!0)])])):j("",!0),o("div",Wq,[o("div",qq,[o("div",Kq,[o("label",Yq,u(h(e)("Start Date")),1),z(o("input",{"onUpdate:modelValue":Z[0]||(Z[0]=se=>A.value=se),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Oe},null,544),[[te,A.value]])]),o("div",Gq,[o("label",Xq,u(h(e)("End Date")),1),z(o("input",{"onUpdate:modelValue":Z[1]||(Z[1]=se=>F.value=se),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Oe},null,544),[[te,F.value]])]),o("div",Jq,[o("button",{onClick:Oe,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},u(h(e)("Apply")),1)])]),l.value?(_(),y("div",Qq,u(h(e)("Latest available data: "))+" "+u(l.value),1)):j("",!0)]),t.value?(_(),ie(h(St),{key:2,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):j("",!0),!t.value&&d.value.length>0?(_(),y("div",Zq,[o("div",eK,[o("div",tK,[o("div",null,[o("h3",sK,u(h(e)("Earnings Trend")),1),Z[16]||(Z[16]=o("p",{class:"mt-1 text-xs text-gray-500"}," Daily earnings over selected period ",-1))])]),o("div",nK,[S(h(lh),{id:"earnings-chart",data:je.value,"tooltip-label":"Earnings ($)","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]),o("div",oK,[o("div",iK,[o("div",null,[o("h3",rK,u(h(e)("Impressions & Clicks")),1),Z[17]||(Z[17]=o("p",{class:"mt-1 text-xs text-gray-500"}," Daily performance comparison ",-1))])]),o("div",aK,[S(h(uM),{id:"impressions-clicks-chart",data:ot.value,labels:xe.value},null,8,["data","labels"])])]),i.value.length>0?(_(),y("div",lK,[o("div",dK,[o("div",null,[o("h3",cK,u(h(e)("Top 10 Countries by Earnings")),1),Z[18]||(Z[18]=o("p",{class:"mt-1 text-xs text-gray-500"}," Revenue distribution by country ",-1))])]),o("div",uK,[S(h(hM),{id:"countries-chart",data:he.value,labels:ht.value},null,8,["data","labels"])])])):j("",!0)])):a.value?(_(),y("div",fK,[o("div",hK,[o("dt",mK,u(h(e)("Total Impressions")),1),o("dd",pK,u(be(a.value.total_impressions)),1)]),o("div",gK,[o("dt",_K,u(h(e)("Total Clicks")),1),o("dd",vK,u(be(a.value.total_clicks)),1)]),o("div",yK,[o("dt",bK,u(h(e)("Page Views")),1),o("dd",xK,u(be(a.value.total_page_views)),1)]),o("div",wK,[o("dt",kK,u(h(e)("Total Earnings")),1),o("dd",$K," $"+u(le(a.value.total_earnings)),1)]),o("div",CK,[o("dt",SK,u(h(e)("Avg CPC")),1),o("dd",MK," $"+u(le(a.value.avg_cpc)),1)]),o("div",TK,[o("dt",AK,u(h(e)("Page RPM")),1),o("dd",DK," $"+u(le(a.value.avg_page_rpm)),1)]),o("div",EK,[o("dt",PK,u(h(e)("Page CTR")),1),o("dd",RK,u(J(a.value.avg_page_ctr))+"% ",1)]),o("div",jK,[o("dt",OK,u(h(e)("Countries")),1),o("dd",IK,u(a.value.total_countries),1)])])):j("",!0),!t.value&&r.value.length>0?(_(),y("div",LK,[o("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:Z[2]||(Z[2]=se=>C.value=!C.value)},[o("div",FK,[o("div",null,[o("h4",NK,u(h(e)("Performance by Website")),1),o("p",zK,u(h(e)("See how each website is performing")),1)]),(_(),y("svg",{class:ee(["h-5 w-5 text-gray-500 transition-transform",C.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...Z[19]||(Z[19]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),z(o("div",BK,[o("table",UK,[o("thead",VK,[o("tr",null,[o("th",HK,u(h(e)("Website")),1),o("th",WK,u(h(e)("Countries")),1),o("th",qK,u(h(e)("Impressions")),1),o("th",KK,u(h(e)("Clicks")),1),o("th",YK,u(h(e)("Page Views")),1),o("th",GK,u(h(e)("CPC")),1)])]),o("tbody",XK,[(_(!0),y(de,null,ye(r.value,se=>(_(),y("tr",{key:se.domain,class:"hover:bg-gray-50"},[o("td",JK,[o("div",QK,[Z[20]||(Z[20]=o("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),Q(" "+u(se.domain),1)])]),o("td",ZK,u(se.countries_count),1),o("td",eY,u(be(se.total_impressions)),1),o("td",tY,u(be(se.total_clicks)),1),o("td",sY,u(be(se.total_page_views)),1),o("td",nY," $"+u(le(se.avg_cpc)),1)]))),128))])])],512),[[zt,C.value]])])):j("",!0),!t.value&&i.value.length>0?(_(),y("div",oY,[o("div",iY,[o("div",rY,[o("div",{class:"flex items-center cursor-pointer",onClick:Z[3]||(Z[3]=se=>O.value=!O.value)},[o("h3",aY,u(h(e)("Performance by Country")),1),(_(),y("svg",{class:ee(["ml-2 h-5 w-5 text-gray-500 transition-transform",O.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...Z[21]||(Z[21]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),z(o("div",lY,[o("div",dY,[z(o("input",{"onUpdate:modelValue":Z[4]||(Z[4]=se=>B.value=se),onInput:Ne,type:"text",placeholder:h(e)("Search countries..."),class:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10"},null,40,cY),[[te,B.value]]),Z[22]||(Z[22]=o("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),z(o("select",{"onUpdate:modelValue":Z[5]||(Z[5]=se=>E.value=se),onChange:Oe,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...Z[23]||(Z[23]=[o("option",{value:10},"10 per page",-1),o("option",{value:25},"25 per page",-1),o("option",{value:50},"50 per page",-1),o("option",{value:100},"100 per page",-1)])],544),[[Me,E.value]])],512),[[zt,O.value]])])]),z(o("div",uY,[o("table",fY,[o("thead",hY,[o("tr",null,[o("th",mY,u(h(e)("Country")),1),o("th",pY,u(h(e)("Impressions")),1),o("th",gY,u(h(e)("Clicks")),1),o("th",_Y,u(h(e)("Page Views")),1),o("th",vY,u(h(e)("CPC")),1)])]),o("tbody",yY,[(_(!0),y(de,null,ye(i.value,se=>(_(),y("tr",{key:se.country_code,class:"hover:bg-gray-50"},[o("td",bY,[o("div",xY,[o("div",wY,[o("span",kY,u(q(se.country_code)),1),o("div",$Y,u(se.country_name||se.country_code),1)]),v.value?(_(),y("span",{key:0,class:ee([x(b(se.total_impressions,v.value.daily_impressions_target)),"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},u(M(b(se.total_impressions,v.value.daily_impressions_target))),3)):j("",!0)]),v.value&&v.value.daily_impressions_target?(_(),y("div",CY,[o("div",SY,[o("span",null,u(be(se.total_impressions))+" / "+u(be(v.value.daily_impressions_target)),1),o("span",null,u(Math.round(w(se.total_impressions,v.value.daily_impressions_target)))+"%",1)]),o("div",MY,[o("div",{class:ee([{"bg-green-500":b(se.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":b(se.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":b(se.total_impressions,v.value.daily_impressions_target)==="poor"},"h-1.5 rounded-full transition-all duration-500"]),style:wt({width:w(se.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])])):j("",!0)]),o("td",TY,[o("div",AY,u(be(se.total_impressions)),1),v.value?(_(),y("div",DY," Target: "+u(be(v.value.daily_impressions_target)),1)):j("",!0)]),o("td",EY,[o("div",PY,u(be(se.total_clicks)),1),v.value?(_(),y("div",RY," Target: "+u(be(v.value.daily_clicks_target)),1)):j("",!0)]),o("td",jY,[o("div",OY,u(be(se.total_page_views)),1),v.value?(_(),y("div",IY," Target: "+u(be(v.value.daily_page_views_target)),1)):j("",!0)]),o("td",LY,[o("div",{class:ee({"text-green-600 font-semibold":v.value&&se.avg_cpc>=v.value.min_cpc_target,"text-red-600":v.value&&se.avg_cpc<v.value.min_cpc_target,"text-gray-900":!v.value})}," $"+u(le(se.avg_cpc)),3),v.value?(_(),y("div",FY," Min: $"+u(le(v.value.min_cpc_target)),1)):j("",!0)])]))),128))])])],512),[[zt,O.value]]),N.value.last_page>1&&O.value?(_(),y("div",NY,[o("div",zY,[o("div",BY,[o("button",{onClick:Z[6]||(Z[6]=se=>$e(N.value.current_page-1)),disabled:N.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},u(h(e)("Previous")),9,UY),o("button",{onClick:Z[7]||(Z[7]=se=>$e(N.value.current_page+1)),disabled:N.value.current_page===N.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},u(h(e)("Next")),9,VY)]),o("div",HY,[o("div",null,[o("p",WY,[Q(u(h(e)("Showing"))+" ",1),o("span",qY,u(N.value.from),1),Q(" "+u(h(e)("to"))+" ",1),o("span",KY,u(N.value.to),1),Q(" "+u(h(e)("of"))+" ",1),o("span",YY,u(N.value.total_countries),1),Q(" "+u(h(e)("countries")),1)])]),o("div",null,[o("nav",GY,[o("button",{onClick:Z[8]||(Z[8]=se=>$e(N.value.current_page-1)),disabled:N.value.current_page===1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",JY,u(h(e)("Previous")),1),Z[24]||(Z[24]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,XY),(_(!0),y(de,null,ye(we.value,se=>(_(),y("button",{key:se,onClick:pe=>$e(se),class:ee([se===N.value.current_page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center border px-4 py-2 text-sm font-medium"])},u(se),11,QY))),128)),o("button",{onClick:Z[9]||(Z[9]=se=>$e(N.value.current_page+1)),disabled:N.value.current_page===N.value.last_page,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[o("span",eG,u(h(e)("Next")),1),Z[25]||(Z[25]=o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,ZY)])])])])])):j("",!0)])):!t.value&&i.value.length===0?(_(),y("div",tG,[Z[27]||(Z[27]=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),o("h3",sG,u(h(e)("No data available")),1),o("p",nG,u(h(e)("Try syncing data or selecting a different date range.")),1),o("div",oG,[o("button",{onClick:Y,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[Z[26]||(Z[26]=o("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),Q(" "+u(h(e)("Sync Data")),1)])])])):j("",!0)]))}}),xf="attendance",rG=_e({__name:"Form",props:{id:{}},setup(s){const e=fs(xf)(),t=Ts(xf)(),n=_o(),i=yl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(_(),ie(h(gs),{id:s.id,name:xf,uri:"attendance"},{default:K(()=>[a[0]||(a[0]=o("input",{type:"hidden",name:"action",value:"manual"},null,-1)),S(h(i),{name:"user_id",label:"User",class:"col-span-12",disabled:!!s.id},null,8,["disabled"]),S(h(n),{name:"date",label:"Date",type:"date",class:"col-span-12"}),S(h(n),{name:"clock_in",label:"Clock In",type:"datetime-local",class:"col-span-6"}),S(h(n),{name:"clock_out",label:"Clock Out",type:"datetime-local",class:"col-span-6"}),S(h(n),{name:"notes",label:"Notes",class:"col-span-12"})]),_:1},8,["id"]))}}),aG={key:0,class:"mt-8 flex justify-center"},lG={key:1},dG={key:0,class:"mb-6 border-b border-gray-200"},cG={class:"-mb-px flex space-x-8"},uG={class:"mb-6 overflow-hidden rounded-lg bg-white shadow-md"},fG={class:"border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},hG={class:"text-xl font-semibold text-white"},mG={class:"p-6"},pG={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-4"},gG={class:"rounded-lg border border-green-200 bg-green-50 p-4 shadow-sm"},_G={class:"mb-2 flex items-center"},vG={class:"text-sm font-medium text-green-800"},yG={class:"text-2xl font-bold text-green-900"},bG={class:"rounded-lg border border-red-200 bg-red-50 p-4 shadow-sm"},xG={class:"mb-2 flex items-center"},wG={class:"text-sm font-medium text-red-800"},kG={class:"text-2xl font-bold text-red-900"},$G={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-sm"},CG={class:"mb-2 flex items-center"},SG={class:"text-sm font-medium text-blue-800"},MG={class:"text-2xl font-bold text-blue-900"},TG={class:"flex items-center justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm"},AG={key:1,class:"flex items-center justify-between"},DG={class:"flex items-center text-gray-500"},EG={class:"text-lg font-medium text-gray-700"},PG={class:"text-sm text-gray-500"},RG={key:0,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3"},jG={class:"relative rounded-md shadow-sm"},OG=["placeholder"],IG={class:"relative rounded-md shadow-sm"},LG=["placeholder"],FG={class:"relative rounded-md shadow-sm"},NG={value:""},zG=["value"],BG={key:1,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2"},UG={class:"relative rounded-md shadow-sm"},VG=["placeholder"],HG={class:"relative rounded-md shadow-sm"},WG=["placeholder"],qG={key:0,class:"ltr:ml-auto rtl:mr-auto"},KG={class:"flex flex-col"},YG={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},GG={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},XG={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},JG={class:"min-w-full divide-y divide-gray-200"},QG={key:1,class:"bg-gray-50 px-6 py-3"},ZG={class:"divide-y divide-gray-200 bg-white"},eX={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},tX={class:"flex items-center"},sX={class:"ltr:ml-2 rtl:mr-2"},nX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},oX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},iX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},rX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},aX={class:"px-6 py-4 text-sm text-gray-500"},lX={class:"max-w-xs truncate"},dX={key:1,class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},cX=["onClick"],uX={key:1},fX={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},hX={class:"overflow-hidden rounded-lg bg-white shadow"},mX={class:"p-5"},pX={class:"flex items-center"},gX={class:"flex-shrink-0"},_X={class:"ml-5 w-0 flex-1"},vX={class:"truncate text-sm font-medium text-gray-500"},yX={class:"text-lg font-semibold text-gray-900"},bX={class:"overflow-hidden rounded-lg bg-white shadow"},xX={class:"p-5"},wX={class:"flex items-center"},kX={class:"flex-shrink-0"},$X={class:"ml-5 w-0 flex-1"},CX={class:"truncate text-sm font-medium text-gray-500"},SX={class:"text-lg font-semibold text-gray-900"},MX={class:"overflow-hidden rounded-lg bg-white shadow"},TX={class:"p-5"},AX={class:"flex items-center"},DX={class:"flex-shrink-0"},EX={class:"ml-5 w-0 flex-1"},PX={class:"truncate text-sm font-medium text-gray-500"},RX={class:"text-lg font-semibold text-gray-900"},jX={class:"overflow-hidden rounded-lg bg-white shadow"},OX={class:"p-5"},IX={class:"flex items-center"},LX={class:"flex-shrink-0"},FX={class:"ml-5 w-0 flex-1"},NX={class:"truncate text-sm font-medium text-gray-500"},zX={class:"text-lg font-semibold text-gray-900"},BX={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},UX={class:"flex flex-1 gap-2"},VX={value:""},HX=["value"],WX={class:"flex gap-2"},qX={class:"flex flex-col"},KX={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},YX={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},GX={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},XX={class:"min-w-full divide-y divide-gray-200"},JX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},QX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},ZX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},eJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},tJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},sJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},nJ={class:"divide-y divide-gray-200 bg-white"},oJ={class:"whitespace-nowrap px-6 py-4"},iJ={class:"flex items-center"},rJ={class:"ml-3"},aJ={class:"text-sm font-medium text-gray-900"},lJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},dJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},cJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},uJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},fJ={class:"px-6 py-4 text-sm text-gray-500"},hJ={key:0},mJ={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},pJ={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},gJ={class:"flex items-center justify-between"},_J={class:"text-sm text-gray-700"},vJ={class:"flex gap-2"},yJ=_e({__name:"IndexWorking",setup(s){const e=Je("__"),t=Ts("attendance")(),n=I(!0),i=I([]),r=I(null),a=I(!1),l=I(!1),d=I(!1),c=Pe(()=>_t.is_attendance_admin),f=I("attendance"),m=I(null),p=I([]),g=I({current_page:1,last_page:1,per_page:50,total:0}),v=I({start_date:"",end_date:"",user_id:""}),k=rt({userId:"",startDate:"",endDate:"",page:1});Ye(()=>{c.value&&b(),w(),C()}),t.setConfig({uri:"attendance",orderByDirection:"desc",orderBy:"date"}),t.fetch();async function b(){try{const J=await ce.get("attendance/users");i.value=J.data}catch{}}async function w(){try{const J=await ce.get("attendance/status");r.value=J.data.attendance,a.value=J.data.is_clocked_in}catch{}}async function x(){var J,ne;l.value=!0;try{await ce.post("attendance",{action:"clock_in"}),await w(),t.fetch(),alert(e("Clocked in successfully!"))}catch(q){const oe=((ne=(J=q.response)==null?void 0:J.data)==null?void 0:ne.message)||e("Error clocking in. Please try again.");alert(oe)}finally{l.value=!1}}async function M(){var J,ne;if(!r.value){alert(e("No attendance record found for today"));return}d.value=!0;try{await ce.patch(`attendance/${r.value.id}`,{action:"clock_out"}),await w(),t.fetch(),alert(e("Clocked out successfully!"))}catch(q){const oe=((ne=(J=q.response)==null?void 0:J.data)==null?void 0:ne.message)||e("Error clocking out. Please try again.");alert(oe)}finally{d.value=!1}}function C(){setTimeout(function(){if(t.fetching){C();return}O()},150)}function O(){n.value=!1}function N(J=null){Ft().add(rG,{id:J})}async function E(J){if(confirm(e("Are you sure you want to delete this attendance record?")))try{await ce.delete(`attendance/${J}`),t.fetch(),alert(e("Attendance record deleted successfully!"))}catch{alert(e("Error deleting record. Please try again."))}}function B(){n.value=!0;const J={};v.value.start_date&&(J.start_date=v.value.start_date),v.value.end_date&&(J.end_date=v.value.end_date),v.value.user_id&&(J.user_id=v.value.user_id),t.params={...t.params,...J},t.fetch(),C()}async function L(){try{const J=await ce.get("attendance/report");m.value=J.data}catch{}P()}async function P(){try{const J=new URLSearchParams;k.userId&&J.append("user_id",k.userId),k.startDate&&J.append("start_date",k.startDate),k.endDate&&J.append("end_date",k.endDate),J.append("page",String(k.page)),J.append("per_page",String(g.value.per_page));const ne=await ce.get(`attendance?${J}`);p.value=ne.data.data,g.value={current_page:ne.data.current_page,last_page:ne.data.last_page,per_page:ne.data.per_page,total:ne.data.total}}catch{}}function R(){k.userId="",k.startDate="",k.endDate="",k.page=1,P()}function A(J){k.page=J,P()}async function F(){try{const J=new URLSearchParams;k.userId&&J.append("user_id",k.userId),k.startDate&&J.append("start_date",k.startDate),k.endDate&&J.append("end_date",k.endDate);const ne=await ce.get(`attendance/export?${J}`,{responseType:"blob"}),q=window.URL.createObjectURL(new Blob([ne.data])),oe=document.createElement("a");oe.href=q,oe.setAttribute("download",`attendance_report_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(q)}catch{}}function be(J){return J?new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function ae(J){return J?new Date(J).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-"}function le(J){if(!J)return"-";const ne=Math.floor(J/60),q=J%60;return`${ne}h ${q}m`}return(J,ne)=>n.value?(_(),y("div",aG,[S(h(St),{size:"40",color:"#5850ec"})])):(_(),y("div",lG,[c.value?(_(),y("div",dG,[o("nav",cG,[o("button",{class:ee([f.value==="attendance"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ne[0]||(ne[0]=q=>f.value="attendance")},u(h(e)("Attendance")),3),o("button",{class:ee([f.value==="reports"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ne[1]||(ne[1]=q=>{f.value="reports",L()})},u(h(e)("Reports")),3)])])):j("",!0),z(o("div",null,[o("div",uG,[o("div",fG,[o("h3",hG,u(h(e)("Today's Attendance")),1)]),o("div",mG,[r.value?(_(),y("div",pG,[o("div",gG,[o("div",_G,[ne[13]||(ne[13]=o("svg",{class:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",vG,u(h(e)("Clock In")),1)]),o("p",yG,u(ae(r.value.clock_in)),1)]),o("div",bG,[o("div",xG,[ne[14]||(ne[14]=o("svg",{class:"mr-2 h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("span",wG,u(h(e)("Clock Out")),1)]),o("p",kG,u(r.value.clock_out?ae(r.value.clock_out):"-"),1)]),o("div",$G,[o("div",CG,[ne[15]||(ne[15]=o("svg",{class:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),o("span",SG,u(h(e)("Total Hours")),1)]),o("p",MG,u(r.value.total_hours?le(r.value.total_hours):"-"),1)]),o("div",TG,[a.value?(_(),ie(h(Ie),{key:1,size:"lg",color:"red",disabled:d.value,onClick:M,class:"w-full"},{default:K(()=>[ne[17]||(ne[17]=o("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),Q(" "+u(d.value?h(e)("Clocking Out..."):h(e)("Clock Out")),1)]),_:1},8,["disabled"])):(_(),ie(h(Ie),{key:0,size:"lg",disabled:l.value,onClick:x,class:"w-full"},{default:K(()=>[ne[16]||(ne[16]=o("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Q(" "+u(l.value?h(e)("Clocking In..."):h(e)("Clock In")),1)]),_:1},8,["disabled"]))])])):(_(),y("div",AG,[o("div",DG,[ne[18]||(ne[18]=o("svg",{class:"mr-3 h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),o("div",null,[o("p",EG,u(h(e)("You have not clocked in today")),1),o("p",PG,u(h(e)("Click the button to start your work day")),1)])]),S(h(Ie),{size:"lg",disabled:l.value,onClick:x},{default:K(()=>[ne[19]||(ne[19]=o("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Q(" "+u(l.value?h(e)("Clocking In..."):h(e)("Clock In")),1)]),_:1},8,["disabled"])]))])]),c.value?(_(),y("div",RG,[o("div",jG,[z(o("input",{"onUpdate:modelValue":ne[2]||(ne[2]=q=>v.value.start_date=q),type:"date",placeholder:h(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B},null,40,OG),[[te,v.value.start_date]])]),o("div",IG,[z(o("input",{"onUpdate:modelValue":ne[3]||(ne[3]=q=>v.value.end_date=q),type:"date",placeholder:h(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B},null,40,LG),[[te,v.value.end_date]])]),o("div",FG,[z(o("select",{"onUpdate:modelValue":ne[4]||(ne[4]=q=>v.value.user_id=q),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B},[o("option",NG,u(h(e)("All Users")),1),(_(!0),y(de,null,ye(i.value,q=>(_(),y("option",{key:q.id,value:q.id},u(q.name),9,zG))),128))],544),[[Me,v.value.user_id]])])])):(_(),y("div",BG,[o("div",UG,[z(o("input",{"onUpdate:modelValue":ne[5]||(ne[5]=q=>v.value.start_date=q),type:"date",placeholder:h(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B},null,40,VG),[[te,v.value.start_date]])]),o("div",HG,[z(o("input",{"onUpdate:modelValue":ne[6]||(ne[6]=q=>v.value.end_date=q),type:"date",placeholder:h(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B},null,40,WG),[[te,v.value.end_date]])])])),o("section",null,[S(h(oc),{title:c.value?h(e)("Attendance Records"):h(e)("My Attendance")},{default:K(()=>[c.value?(_(),y("div",qG,[S(h(Ie),{size:"sm","data-cy":"topbar-create-button",onClick:ne[7]||(ne[7]=q=>N())},{default:K(()=>[Q(u(h(e)("Add Attendance")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),o("div",KG,[o("div",YG,[o("div",GG,[o("div",XG,[o("table",JG,[o("thead",null,[o("tr",null,[c.value?(_(),ie(h(Le),{key:0,name:"attendance",index:h(t),label:h(e)("User"),sort:"user_id"},null,8,["index","label"])):j("",!0),S(h(Le),{name:"attendance",index:h(t),label:h(e)("Date"),sort:"date"},null,8,["index","label"]),S(h(Le),{name:"attendance",index:h(t),label:h(e)("Clock In"),sort:"clock_in"},null,8,["index","label"]),S(h(Le),{name:"attendance",index:h(t),label:h(e)("Clock Out"),sort:"clock_out"},null,8,["index","label"]),S(h(Le),{name:"attendance",index:h(t),label:h(e)("Total Hours")},null,8,["index","label"]),S(h(Le),{name:"attendance",index:h(t),label:h(e)("Notes")},null,8,["index","label"]),c.value?(_(),y("th",QG)):j("",!0)])]),o("tbody",ZG,[(_(!0),y(de,null,ye(h(t).data.data,q=>{var oe;return _(),y("tr",{key:q.id},[c.value?(_(),y("td",eX,[o("div",tX,[q.user?(_(),ie(h(rs),{key:0,class:"h-6 w-6",avatar:q.user.avatar},null,8,["avatar"])):j("",!0),o("span",sX,u(((oe=q.user)==null?void 0:oe.name)||"N/A"),1)])])):j("",!0),o("td",nX,u(be(q.date)),1),o("td",oX,u(ae(q.clock_in)),1),o("td",iX,u(q.clock_out?ae(q.clock_out):"-"),1),o("td",rX,u(le(q.total_hours)),1),o("td",aX,[o("div",lX,u(q.notes||"-"),1)]),c.value?(_(),y("td",dX,[o("span",{class:"ml-2 cursor-pointer",onClick:xe=>N(q.id)},[S(h(Br),{class:"w-5 text-gray-400 hover:text-gray-800"})],8,cX),S(h(Kt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(xe=>E(q.id),["prevent"])},null,8,["onClick"])])):j("",!0)])}),128))])]),S(h(As),{index:h(t)},null,8,["index"])])])])])])],512),[[zt,f.value==="attendance"]]),c.value?z((_(),y("div",uX,[m.value?(_(),y("div",fX,[o("div",hX,[o("div",mX,[o("div",pX,[o("div",gX,[S(h(Bc),{class:"h-6 w-6 text-blue-400"})]),o("div",_X,[o("dl",null,[o("dt",vX,u(h(e)("Present Today")),1),o("dd",yX,u(m.value.present_today),1)])])])])]),o("div",bX,[o("div",xX,[o("div",wX,[o("div",kX,[S(h(Zs),{class:"h-6 w-6 text-green-400"})]),o("div",$X,[o("dl",null,[o("dt",CX,u(h(e)("Avg Hours Today")),1),o("dd",SX,u(m.value.avg_hours_today)+"h ",1)])])])])]),o("div",MX,[o("div",TX,[o("div",AX,[o("div",DX,[S(h(dn),{class:"h-6 w-6 text-purple-400"})]),o("div",EX,[o("dl",null,[o("dt",PX,u(h(e)("This Month")),1),o("dd",RX,u(m.value.total_this_month),1)])])])])]),o("div",jX,[o("div",OX,[o("div",IX,[o("div",LX,[S(h(Oc),{class:"h-6 w-6 text-yellow-400"})]),o("div",FX,[o("dl",null,[o("dt",NX,u(h(e)("Avg Monthly Hours")),1),o("dd",zX,u(m.value.avg_hours_month)+"h ",1)])])])])])])):j("",!0),o("div",BX,[o("div",UX,[z(o("select",{"onUpdate:modelValue":ne[8]||(ne[8]=q=>k.userId=q),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P},[o("option",VX,u(h(e)("All Employees")),1),(_(!0),y(de,null,ye(i.value,q=>(_(),y("option",{key:q.id,value:q.id},u(q.name),9,HX))),128))],544),[[Me,k.userId]]),z(o("input",{"onUpdate:modelValue":ne[9]||(ne[9]=q=>k.startDate=q),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P},null,544),[[te,k.startDate]]),z(o("input",{"onUpdate:modelValue":ne[10]||(ne[10]=q=>k.endDate=q),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P},null,544),[[te,k.endDate]]),S(h(Ie),{white:"",onClick:R},{default:K(()=>[Q(u(h(e)("Reset")),1)]),_:1})]),o("div",WX,[S(h(Ie),{white:"",onClick:F},{default:K(()=>[S(h(Lc),{class:"mr-2 h-4 w-4"}),Q(" "+u(h(e)("Export")),1)]),_:1})])]),o("section",null,[o("div",qX,[o("div",KX,[o("div",YX,[o("div",GX,[o("table",XX,[o("thead",null,[o("tr",null,[o("th",JX,u(h(e)("Employee")),1),o("th",QX,u(h(e)("Date")),1),o("th",ZX,u(h(e)("Clock In")),1),o("th",eJ,u(h(e)("Clock Out")),1),o("th",tJ,u(h(e)("Total Hours")),1),o("th",sJ,u(h(e)("Notes")),1)])]),o("tbody",nJ,[(_(!0),y(de,null,ye(p.value,q=>{var oe;return _(),y("tr",{key:q.id,class:"hover:bg-gray-50"},[o("td",oJ,[o("div",iJ,[q.user?(_(),ie(h(rs),{key:0,user:q.user,size:"8"},null,8,["user"])):j("",!0),o("div",rJ,[o("div",aJ,u((oe=q.user)==null?void 0:oe.name),1)])])]),o("td",lJ,u(be(q.date)),1),o("td",dJ,u(ae(q.clock_in)),1),o("td",cJ,u(q.clock_out?ae(q.clock_out):"-"),1),o("td",uJ,u(q.total_hours?le(q.total_hours):"-"),1),o("td",fJ,u(q.notes||"-"),1)])}),128)),p.value.length===0?(_(),y("tr",hJ,[o("td",mJ,u(h(e)("No records found")),1)])):j("",!0)])]),g.value.last_page>1?(_(),y("div",pJ,[o("div",gJ,[o("div",_J,u(h(e)("Page"))+" "+u(g.value.current_page)+" "+u(h(e)("of"))+" "+u(g.value.last_page),1),o("div",vJ,[S(h(Ie),{white:"",size:"sm",disabled:g.value.current_page===1,onClick:ne[11]||(ne[11]=q=>A(g.value.current_page-1))},{default:K(()=>[Q(u(h(e)("Previous")),1)]),_:1},8,["disabled"]),S(h(Ie),{white:"",size:"sm",disabled:g.value.current_page===g.value.last_page,onClick:ne[12]||(ne[12]=q=>A(g.value.current_page+1))},{default:K(()=>[Q(u(h(e)("Next")),1)]),_:1},8,["disabled"])])])])):j("",!0)])])])])])],512)),[[zt,f.value==="reports"]]):j("",!0)]))}}),qr=(s,e={})=>{const t=rt({...e}),n=rt({}),i=I(!1);let r=null;const a=async c=>{var f,m;i.value=!0,Object.keys(n).forEach(p=>delete n[p]);try{const p=r?"put":"post",g=r?`${s}/${r}`:s,v=await ce[p](g,t);return c&&c(),v}catch(p){if((m=(f=p.response)==null?void 0:f.data)!=null&&m.errors){const g=p.response.data.errors;Object.keys(g).forEach(v=>{n[v]=Array.isArray(g[v])?g[v][0]:g[v]})}throw p}finally{i.value=!1}},l=c=>{c.id&&(r=c.id),Object.keys(c).forEach(f=>{(f in t||f==="id")&&(t[f]=c[f])})},d=()=>{r=null,Object.keys(e).forEach(c=>{t[c]=e[c]}),Object.keys(n).forEach(c=>delete n[c])};return new Proxy(t,{get(c,f){return f==="submit"?a:f==="setData"?l:f==="reset"?d:f==="errors"?n:f==="processing"?i:f==="id"?r:c[f]},set(c,f,m){return c[f]=m,!0}})},bJ={class:"space-y-6"},xJ={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kJ={class:"mt-1 sm:col-span-2 sm:mt-0"},$J={value:""},CJ=["value"],SJ={key:0,class:"mt-2 text-sm text-red-600"},MJ={class:"border-t border-gray-200 pt-6"},TJ={class:"text-lg font-medium leading-6 text-gray-900"},AJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},DJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},EJ={class:"mt-1 sm:col-span-2 sm:mt-0"},PJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},RJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},jJ={class:"mt-1 sm:col-span-2 sm:mt-0"},OJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},IJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},LJ={class:"mt-1 sm:col-span-2 sm:mt-0"},FJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},NJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},zJ={class:"mt-1 sm:col-span-2 sm:mt-0"},BJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},VJ={class:"mt-1 sm:col-span-2 sm:mt-0"},HJ={value:""},WJ={value:"Male"},qJ={value:"Female"},KJ={value:"Other"},YJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},GJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},XJ={class:"mt-1 sm:col-span-2 sm:mt-0"},JJ={value:""},QJ={value:"Single"},ZJ={value:"Married"},eQ={value:"Divorced"},tQ={value:"Widowed"},sQ={class:"border-t border-gray-200 pt-6"},nQ={class:"text-lg font-medium leading-6 text-gray-900"},oQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},iQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},rQ={class:"mt-1 sm:col-span-2 sm:mt-0"},aQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},lQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},dQ={class:"mt-1 sm:col-span-2 sm:mt-0"},cQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},uQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},fQ={class:"mt-1 sm:col-span-2 sm:mt-0"},hQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},mQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pQ={class:"mt-1 sm:col-span-2 sm:mt-0"},gQ={class:"border-t border-gray-200 pt-6"},_Q={class:"text-lg font-medium leading-6 text-gray-900"},vQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bQ={class:"mt-1 sm:col-span-2 sm:mt-0"},xQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kQ={class:"mt-1 sm:col-span-2 sm:mt-0"},$Q={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},CQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},SQ={class:"mt-1 sm:col-span-2 sm:mt-0"},MQ={value:""},TQ=["value"],AQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},DQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},EQ={class:"mt-1 sm:col-span-2 sm:mt-0"},PQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},RQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},jQ={class:"mt-1 sm:col-span-2 sm:mt-0"},OQ={value:"Permanent"},IQ={value:"Contract"},LQ={value:"Probation"},FQ={value:"Casual"},NQ={value:"Internship"},zQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},BQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},UQ={class:"mt-1 sm:col-span-2 sm:mt-0"},VQ={value:"Active"},HQ={value:"Resigned"},WQ={value:"Terminated"},qQ={value:"Retired"},KQ={value:"Deceased"},YQ={value:"On Leave"},GQ={value:"Suspended"},XQ={key:1,class:"space-y-6 border-t border-gray-200 pt-6"},JQ={class:"text-base font-medium text-gray-900"},QQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ZQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},eZ={class:"mt-1 sm:col-span-2 sm:mt-0"},tZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nZ={class:"mt-1 sm:col-span-2 sm:mt-0"},oZ={key:2,class:"space-y-6 border-t border-gray-200 pt-6"},iZ={class:"text-base font-medium text-gray-900"},rZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},aZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lZ={class:"mt-1 sm:col-span-2 sm:mt-0"},dZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},cZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},uZ={class:"mt-1 sm:col-span-2 sm:mt-0"},fZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},mZ={class:"mt-1 sm:col-span-2 sm:mt-0"},pZ={class:"border-t border-gray-200 pt-6"},gZ={class:"text-lg font-medium leading-6 text-gray-900"},_Z={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},vZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},yZ={class:"mt-1 sm:col-span-2 sm:mt-0"},bZ={class:"flex gap-2"},xZ={class:"border-t border-gray-200 pt-6"},wZ={class:"text-lg font-medium leading-6 text-gray-900"},kZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$Z={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},CZ={class:"mt-1 sm:col-span-2 sm:mt-0"},SZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},MZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},TZ={class:"mt-1 sm:col-span-2 sm:mt-0"},AZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},DZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},EZ={class:"mt-1 sm:col-span-2 sm:mt-0"},PZ={class:"border-t border-gray-200 pt-6"},RZ={class:"text-lg font-medium leading-6 text-gray-900"},jZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},OZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},IZ={class:"mt-1 sm:col-span-2 sm:mt-0"},LZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},FZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},NZ={class:"mt-1 sm:col-span-2 sm:mt-0"},zZ={class:"border-t border-gray-200 pt-6"},BZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},VZ={class:"mt-1 sm:col-span-2 sm:mt-0"},Ob={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=I([]),r=I([]),a=qr("employees",{user_id:"",national_id:"",phone_number:"",physical_address:"",date_of_birth:"",gender:"",marital_status:"",next_of_kin_name:"",next_of_kin_relationship:"",next_of_kin_phone:"",next_of_kin_address:"",employment_date:"",employment_type:"Probation",contract_start_date:"",contract_end_date:"",probation_period_months:3,probation_end_date:"",confirmation_date:"",position:"",department:"",reports_to:"",current_salary:"",salary_currency:"MWK",employment_status:"Active",annual_leave_days:18,sick_leave_days:30,maternity_leave_days:56,tax_identification_number:"",pension_number:"",notes:""}),l=()=>{a.submit(()=>{n("close")})},d=async()=>{try{const f=await ce.get("employees/available-users");i.value=f.data.data}catch{}},c=async()=>{try{const f=await ce.get("employees/supervisors");r.value=f.data.data}catch{}};return Et(()=>t.modelValue,f=>{f?a.setData(f):a.reset()},{immediate:!0}),Ye(()=>{d(),c()}),(f,m)=>(_(),ie(Fo,{"external-form":h(a),onSubmit:l,onCancel:m[30]||(m[30]=p=>n("close"))},{title:K(()=>[Q(u(h(a).id?f.__("Edit Employee Record"):f.__("Create Employee Record")),1)]),default:K(()=>[o("div",bJ,[h(a).id?j("",!0):(_(),y("div",xJ,[o("label",wJ,[Q(u(f.__("User"))+" ",1),m[31]||(m[31]=o("span",{class:"text-red-500"},"*",-1))]),o("div",kJ,[z(o("select",{"onUpdate:modelValue":m[0]||(m[0]=p=>h(a).user_id=p),class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.user_id}]),required:""},[o("option",$J,u(f.__("Select a user")),1),(_(!0),y(de,null,ye(i.value,p=>(_(),y("option",{key:p.id,value:p.id},u(p.name)+" ("+u(p.email)+") ",9,CJ))),128))],2),[[Me,h(a).user_id]]),h(a).errors.user_id?(_(),y("p",SJ,u(h(a).errors.user_id),1)):j("",!0)])])),o("div",MJ,[o("h3",TJ,u(f.__("Personal Information")),1)]),o("div",AJ,[o("label",DJ,u(f.__("National ID")),1),o("div",EJ,[z(o("input",{"onUpdate:modelValue":m[1]||(m[1]=p=>h(a).national_id=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).national_id]])])]),o("div",PJ,[o("label",RJ,u(f.__("Phone Number")),1),o("div",jJ,[z(o("input",{"onUpdate:modelValue":m[2]||(m[2]=p=>h(a).phone_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).phone_number]])])]),o("div",OJ,[o("label",IJ,u(f.__("Physical Address")),1),o("div",LJ,[z(o("textarea",{"onUpdate:modelValue":m[3]||(m[3]=p=>h(a).physical_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).physical_address]])])]),o("div",FJ,[o("label",NJ,u(f.__("Date of Birth")),1),o("div",zJ,[z(o("input",{"onUpdate:modelValue":m[4]||(m[4]=p=>h(a).date_of_birth=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).date_of_birth]])])]),o("div",BJ,[o("label",UJ,u(f.__("Gender")),1),o("div",VJ,[z(o("select",{"onUpdate:modelValue":m[5]||(m[5]=p=>h(a).gender=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",HJ,u(f.__("Select gender")),1),o("option",WJ,u(f.__("Male")),1),o("option",qJ,u(f.__("Female")),1),o("option",KJ,u(f.__("Other")),1)],512),[[Me,h(a).gender]])])]),o("div",YJ,[o("label",GJ,u(f.__("Marital Status")),1),o("div",XJ,[z(o("select",{"onUpdate:modelValue":m[6]||(m[6]=p=>h(a).marital_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",JJ,u(f.__("Select status")),1),o("option",QJ,u(f.__("Single")),1),o("option",ZJ,u(f.__("Married")),1),o("option",eQ,u(f.__("Divorced")),1),o("option",tQ,u(f.__("Widowed")),1)],512),[[Me,h(a).marital_status]])])]),o("div",sQ,[o("h3",nQ,u(f.__("Next of Kin")),1)]),o("div",oQ,[o("label",iQ,u(f.__("Name")),1),o("div",rQ,[z(o("input",{"onUpdate:modelValue":m[7]||(m[7]=p=>h(a).next_of_kin_name=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).next_of_kin_name]])])]),o("div",aQ,[o("label",lQ,u(f.__("Relationship")),1),o("div",dQ,[z(o("input",{"onUpdate:modelValue":m[8]||(m[8]=p=>h(a).next_of_kin_relationship=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).next_of_kin_relationship]])])]),o("div",cQ,[o("label",uQ,u(f.__("Phone")),1),o("div",fQ,[z(o("input",{"onUpdate:modelValue":m[9]||(m[9]=p=>h(a).next_of_kin_phone=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).next_of_kin_phone]])])]),o("div",hQ,[o("label",mQ,u(f.__("Address")),1),o("div",pQ,[z(o("textarea",{"onUpdate:modelValue":m[10]||(m[10]=p=>h(a).next_of_kin_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).next_of_kin_address]])])]),o("div",gQ,[o("h3",_Q,u(f.__("Employment Information")),1)]),o("div",vQ,[o("label",yQ,u(f.__("Position")),1),o("div",bQ,[z(o("input",{"onUpdate:modelValue":m[11]||(m[11]=p=>h(a).position=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).position]])])]),o("div",xQ,[o("label",wQ,u(f.__("Department")),1),o("div",kQ,[z(o("input",{"onUpdate:modelValue":m[12]||(m[12]=p=>h(a).department=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).department]])])]),o("div",$Q,[o("label",CQ,u(f.__("Reports To")),1),o("div",SQ,[z(o("select",{"onUpdate:modelValue":m[13]||(m[13]=p=>h(a).reports_to=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",MQ,u(f.__("Select supervisor")),1),(_(!0),y(de,null,ye(r.value,p=>(_(),y("option",{key:p.id,value:p.id},u(p.name),9,TQ))),128))],512),[[Me,h(a).reports_to]])])]),o("div",AQ,[o("label",DQ,u(f.__("Employment Date")),1),o("div",EQ,[z(o("input",{"onUpdate:modelValue":m[14]||(m[14]=p=>h(a).employment_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).employment_date]])])]),o("div",PQ,[o("label",RQ,[Q(u(f.__("Employment Type"))+" ",1),m[32]||(m[32]=o("span",{class:"text-red-500"},"*",-1))]),o("div",jQ,[z(o("select",{"onUpdate:modelValue":m[15]||(m[15]=p=>h(a).employment_type=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[o("option",OQ,u(f.__("Permanent")),1),o("option",IQ,u(f.__("Contract")),1),o("option",LQ,u(f.__("Probation")),1),o("option",FQ,u(f.__("Casual")),1),o("option",NQ,u(f.__("Internship")),1)],512),[[Me,h(a).employment_type]])])]),o("div",zQ,[o("label",BQ,[Q(u(f.__("Employment Status"))+" ",1),m[33]||(m[33]=o("span",{class:"text-red-500"},"*",-1))]),o("div",UQ,[z(o("select",{"onUpdate:modelValue":m[16]||(m[16]=p=>h(a).employment_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[o("option",VQ,u(f.__("Active")),1),o("option",HQ,u(f.__("Resigned")),1),o("option",WQ,u(f.__("Terminated")),1),o("option",qQ,u(f.__("Retired")),1),o("option",KQ,u(f.__("Deceased")),1),o("option",YQ,u(f.__("On Leave")),1),o("option",GQ,u(f.__("Suspended")),1)],512),[[Me,h(a).employment_status]])])]),h(a).employment_type==="Contract"?(_(),y("div",XQ,[o("h4",JQ,u(f.__("Contract Details")),1),o("div",QQ,[o("label",ZQ,u(f.__("Contract Start Date")),1),o("div",eZ,[z(o("input",{"onUpdate:modelValue":m[17]||(m[17]=p=>h(a).contract_start_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).contract_start_date]])])]),o("div",tZ,[o("label",sZ,u(f.__("Contract End Date")),1),o("div",nZ,[z(o("input",{"onUpdate:modelValue":m[18]||(m[18]=p=>h(a).contract_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).contract_end_date]])])])])):j("",!0),h(a).employment_type==="Probation"?(_(),y("div",oZ,[o("h4",iZ,u(f.__("Probation Details")),1),o("div",rZ,[o("label",aZ,u(f.__("Probation Period (months)")),1),o("div",lZ,[z(o("input",{"onUpdate:modelValue":m[19]||(m[19]=p=>h(a).probation_period_months=p),type:"number",min:"1",max:"12",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).probation_period_months]])])]),o("div",dZ,[o("label",cZ,u(f.__("Probation End Date")),1),o("div",uZ,[z(o("input",{"onUpdate:modelValue":m[20]||(m[20]=p=>h(a).probation_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).probation_end_date]])])]),o("div",fZ,[o("label",hZ,u(f.__("Confirmation Date")),1),o("div",mZ,[z(o("input",{"onUpdate:modelValue":m[21]||(m[21]=p=>h(a).confirmation_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).confirmation_date]])])])])):j("",!0),o("div",pZ,[o("h3",gZ,u(f.__("Salary Information")),1)]),o("div",_Z,[o("label",vZ,u(f.__("Current Salary")),1),o("div",yZ,[o("div",bZ,[z(o("input",{"onUpdate:modelValue":m[22]||(m[22]=p=>h(a).current_salary=p),type:"number",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).current_salary]]),z(o("select",{"onUpdate:modelValue":m[23]||(m[23]=p=>h(a).salary_currency=p),class:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...m[34]||(m[34]=[o("option",{value:"MWK"},"MWK",-1),o("option",{value:"USD"},"USD",-1),o("option",{value:"EUR"},"EUR",-1),o("option",{value:"GBP"},"GBP",-1)])],512),[[Me,h(a).salary_currency]])])])]),o("div",xZ,[o("h3",wZ,u(f.__("Leave Entitlement")),1)]),o("div",kZ,[o("label",$Z,u(f.__("Annual Leave Days")),1),o("div",CZ,[z(o("input",{"onUpdate:modelValue":m[24]||(m[24]=p=>h(a).annual_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).annual_leave_days]])])]),o("div",SZ,[o("label",MZ,u(f.__("Sick Leave Days")),1),o("div",TZ,[z(o("input",{"onUpdate:modelValue":m[25]||(m[25]=p=>h(a).sick_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).sick_leave_days]])])]),o("div",AZ,[o("label",DZ,u(f.__("Maternity Leave Days")),1),o("div",EZ,[z(o("input",{"onUpdate:modelValue":m[26]||(m[26]=p=>h(a).maternity_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).maternity_leave_days]])])]),o("div",PZ,[o("h3",RZ,u(f.__("Tax & Pension")),1)]),o("div",jZ,[o("label",OZ,u(f.__("Tax Identification Number")),1),o("div",IZ,[z(o("input",{"onUpdate:modelValue":m[27]||(m[27]=p=>h(a).tax_identification_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).tax_identification_number]])])]),o("div",LZ,[o("label",FZ,u(f.__("Pension Number")),1),o("div",NZ,[z(o("input",{"onUpdate:modelValue":m[28]||(m[28]=p=>h(a).pension_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).pension_number]])])]),o("div",zZ,[o("div",BZ,[o("label",UZ,u(f.__("Notes")),1),o("div",VZ,[z(o("textarea",{"onUpdate:modelValue":m[29]||(m[29]=p=>h(a).notes=p),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,h(a).notes]])])])])])]),_:1},8,["external-form"]))}},eo=(s,e={})=>{const t=s.split("/").pop()||"resource",n=Ts(t)();return n.uri=s,e&&Object.assign(n.params,e),n.get=async()=>n.fetch(),n.deleteIt=async i=>{if(!confirm("Are you sure you want to delete this item?"))return!1;try{return await ce.delete(`${s}/${i}`),await n.fetch(),!0}catch{return!1}},n.prev=async()=>{if(n.currentPage>1)return n.currentPage--,n.fetch()},n.next=async()=>(n.currentPage++,n.fetch()),n},Js=s=>{var e;return!s||_t.is_super_admin?!0:((e=_t.permissions)==null?void 0:e.includes(s))||!1},HZ={key:0,class:"mt-8 flex justify-center"},WZ={key:1},qZ={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},KZ={class:"overflow-hidden rounded-lg bg-white shadow"},YZ={class:"p-5"},GZ={class:"flex items-center"},XZ={class:"flex-shrink-0"},JZ={class:"ml-5 w-0 flex-1"},QZ={class:"truncate text-sm font-medium text-gray-500"},ZZ={class:"text-lg font-semibold text-gray-900"},eee={class:"overflow-hidden rounded-lg bg-white shadow"},tee={class:"p-5"},see={class:"flex items-center"},nee={class:"flex-shrink-0"},oee={class:"ml-5 w-0 flex-1"},iee={class:"truncate text-sm font-medium text-gray-500"},ree={class:"text-lg font-semibold text-gray-900"},aee={class:"overflow-hidden rounded-lg bg-white shadow"},lee={class:"p-5"},dee={class:"flex items-center"},cee={class:"flex-shrink-0"},uee={class:"ml-5 w-0 flex-1"},fee={class:"truncate text-sm font-medium text-gray-500"},hee={class:"text-lg font-semibold text-gray-900"},mee={class:"overflow-hidden rounded-lg bg-white shadow"},pee={class:"p-5"},gee={class:"flex items-center"},_ee={class:"flex-shrink-0"},vee={class:"ml-5 w-0 flex-1"},yee={class:"truncate text-sm font-medium text-gray-500"},bee={class:"text-lg font-semibold text-gray-900"},xee={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},wee={class:"flex flex-1 gap-2"},kee={class:"relative w-64 rounded-md shadow-sm"},$ee={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Cee=["placeholder"],See={value:""},Mee=["value"],Tee={value:""},Aee=["value"],Dee={value:""},Eee=["value"],Pee={class:"ltr:ml-auto rtl:mr-auto"},Ree={class:"flex flex-col"},jee={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Oee={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Iee={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Lee={class:"min-w-full divide-y divide-gray-200"},Fee={class:"divide-y divide-gray-200 bg-white"},Nee=["onClick"],zee={class:"whitespace-nowrap px-6 py-4"},Bee={class:"flex items-center"},Uee={class:"h-10 w-10 flex-shrink-0"},Vee={class:"ml-4"},Hee={class:"text-sm font-medium text-gray-900"},Wee={class:"text-sm text-gray-500"},qee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Kee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Yee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Gee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Xee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Jee={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Qee={__name:"Index",setup(s){const e=Ln(),t=I(!0),n=I(null),i=I({departments:[],employment_types:[],employment_statuses:[]}),r=eo("employees",{search:"",employment_status:"",employment_type:"",department:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=rt({show:!1,model:null});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},c=(v=null)=>{a.model=v,a.show=!0},f=v=>{e.push(`/employees/${v}`)},m=v=>{var k;return!(!_t.is_super_admin||v.user_id===((k=_t.user)==null?void 0:k.id))},p=async v=>{var k,b,w;if(confirm(`Are you sure you want to login as ${((k=v.user)==null?void 0:k.name)||"this user"}?`))try{const x=await ce.post(`impersonate/${v.user_id}`);alert(x.data.message),window.location.href="/"}catch(x){alert(((w=(b=x.response)==null?void 0:b.data)==null?void 0:w.message)||"Failed to impersonate user")}},g=async()=>{try{const v=await ce.get("employees/statistics");n.value=v.data.data}catch{}};return Ye(async()=>{try{await r.get(),await g(),r.data&&r.data.filters&&(i.value=r.data.filters),t.value=!1}catch{t.value=!1}}),(v,k)=>t.value?(_(),y("div",HZ,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",WZ,[n.value?(_(),y("div",qZ,[o("div",KZ,[o("div",YZ,[o("div",GZ,[o("div",XZ,[S(h(Bc),{class:"h-6 w-6 text-gray-400"})]),o("div",JZ,[o("dl",null,[o("dt",QZ,u(v.__("Total Employees")),1),o("dd",ZZ,u(n.value.total_employees),1)])])])])]),o("div",eee,[o("div",tee,[o("div",see,[o("div",nee,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",oee,[o("dl",null,[o("dt",iee,u(v.__("Active")),1),o("dd",ree,u(n.value.active_employees),1)])])])])]),o("div",aee,[o("div",lee,[o("div",dee,[o("div",cee,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",uee,[o("dl",null,[o("dt",fee,u(v.__("On Probation")),1),o("dd",hee,u(n.value.on_probation),1)])])])])]),o("div",mee,[o("div",pee,[o("div",gee,[o("div",_ee,[S(h(Kh),{class:"h-6 w-6 text-red-400"})]),o("div",vee,[o("dl",null,[o("dt",yee,u(v.__("Contracts Expiring")),1),o("dd",bee,u(n.value.contracts_expiring_soon),1)])])])])])])):j("",!0),o("div",xee,[o("div",wee,[o("div",kee,[o("div",$ee,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":k[0]||(k[0]=b=>h(r).params.search=b),type:"search",placeholder:v.__("Search employees..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,Cee),[[te,h(r).params.search]])]),z(o("select",{"onUpdate:modelValue":k[1]||(k[1]=b=>h(r).params.employment_status=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[2]||(k[2]=b=>h(r).get())},[o("option",See,u(v.__("All Statuses")),1),(_(!0),y(de,null,ye(i.value.employment_statuses,b=>(_(),y("option",{key:b,value:b},u(v.__(b)),9,Mee))),128))],544),[[Me,h(r).params.employment_status]]),z(o("select",{"onUpdate:modelValue":k[3]||(k[3]=b=>h(r).params.employment_type=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[4]||(k[4]=b=>h(r).get())},[o("option",Tee,u(v.__("All Types")),1),(_(!0),y(de,null,ye(i.value.employment_types,b=>(_(),y("option",{key:b,value:b},u(v.__(b)),9,Aee))),128))],544),[[Me,h(r).params.employment_type]]),z(o("select",{"onUpdate:modelValue":k[5]||(k[5]=b=>h(r).params.department=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[6]||(k[6]=b=>h(r).get())},[o("option",Dee,u(v.__("All Departments")),1),(_(!0),y(de,null,ye(i.value.departments,b=>(_(),y("option",{key:b,value:b},u(b),9,Eee))),128))],544),[[Me,h(r).params.department]])]),o("div",Pee,[h(Js)("employee:create")?(_(),ie(Ie,{key:0,size:"sm",onClick:k[7]||(k[7]=b=>c())},{default:K(()=>[Q(u(v.__("Add Employee")),1)]),_:1})):j("",!0)])]),o("section",null,[o("div",Ree,[o("div",jee,[o("div",Oee,[o("div",Iee,[o("table",Lee,[o("thead",null,[o("tr",null,[S(Le,{name:"employee",index:h(r),label:v.__("Name"),sort:"name"},null,8,["index","label"]),S(Le,{name:"employee",index:h(r),label:v.__("Position"),sort:"position"},null,8,["index","label"]),S(Le,{name:"employee",index:h(r),label:v.__("Department"),sort:"department"},null,8,["index","label"]),S(Le,{name:"employee",index:h(r),label:v.__("Employment Type"),sort:"employment_type"},null,8,["index","label"]),S(Le,{name:"employee",index:h(r),label:v.__("Status"),sort:"employment_status"},null,8,["index","label"]),S(Le,{name:"employee",index:h(r),label:v.__("Employment Date"),sort:"employment_date"},null,8,["index","label"]),k[10]||(k[10]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Fee,[(_(!0),y(de,null,ye(h(r).data.data,b=>(_(),y("tr",{key:b.id,class:"cursor-pointer hover:bg-gray-50",onClick:w=>f(b.id)},[o("td",zee,[o("div",Bee,[o("div",Uee,[S(rs,{user:b.user,size:"10"},null,8,["user"])]),o("div",Vee,[o("div",Hee,u(b.user.name),1),o("div",Wee,u(b.user.email),1)])])]),o("td",qee,u(b.position||"-"),1),o("td",Kee,u(b.department||"-"),1),o("td",Yee,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":b.employment_type==="Permanent","bg-blue-100 text-blue-800":b.employment_type==="Contract","bg-yellow-100 text-yellow-800":b.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(b.employment_type)}])},u(b.employment_type),3)]),o("td",Gee,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":b.employment_status==="Active","bg-yellow-100 text-yellow-800":b.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(b.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(b.employment_status)}])},u(b.employment_status),3)]),o("td",Xee,u(b.employment_date?new Date(b.employment_date).toLocaleDateString():"-"),1),o("td",Jee,[m(b)?(_(),ie(h(Iv),{key:0,class:"w-5 cursor-pointer text-indigo-400 hover:text-indigo-600",title:v.__("Login as this user"),onClick:We(w=>p(b),["stop"])},null,8,["title","onClick"])):j("",!0),h(Js)("employee:update")?(_(),ie(h(Nn),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(w=>c(b),["stop"])},null,8,["onClick"])):j("",!0),h(Js)("employee:delete")?(_(),ie(h(Kt),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(w=>h(r).deleteIt(b.id),["stop"])},null,8,["onClick"])):j("",!0)])],8,Nee))),128))])]),S(As,{index:h(r)},null,8,["index"])])])])])]),a.show?(_(),ie(gs,{key:1,size:"2xl",onSaved:k[9]||(k[9]=b=>h(r).get())},{default:K(()=>[S(Ob,{"model-value":a.model,onClose:k[8]||(k[8]=b=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}},Zee={key:0,class:"mt-8 flex justify-center"},ete={key:1,class:"space-y-6"},tte={class:"flex items-center justify-between"},ste={class:"flex items-center space-x-4"},nte={class:"text-2xl font-bold text-gray-900"},ote={class:"flex space-x-2"},ite={class:"flex space-x-2"},rte={class:"inline-flex rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800"},ate={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},lte={class:"lg:col-span-2 space-y-6"},dte={class:"overflow-hidden bg-white shadow sm:rounded-lg"},cte={class:"px-4 py-5 sm:px-6"},ute={class:"text-lg font-medium leading-6 text-gray-900"},fte={class:"border-t border-gray-200"},hte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},mte={class:"text-sm font-medium text-gray-500"},pte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},gte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},_te={class:"text-sm font-medium text-gray-500"},vte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},yte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},bte={class:"text-sm font-medium text-gray-500"},xte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},wte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},kte={class:"text-sm font-medium text-gray-500"},$te={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Cte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ste={class:"text-sm font-medium text-gray-500"},Mte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Tte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ate={class:"text-sm font-medium text-gray-500"},Dte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ete={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pte={class:"text-sm font-medium text-gray-500"},Rte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},jte={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Ote={class:"px-4 py-5 sm:px-6"},Ite={class:"text-lg font-medium leading-6 text-gray-900"},Lte={class:"border-t border-gray-200"},Fte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Nte={class:"text-sm font-medium text-gray-500"},zte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Bte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ute={class:"text-sm font-medium text-gray-500"},Vte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Hte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Wte={class:"text-sm font-medium text-gray-500"},qte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Kte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Yte={class:"text-sm font-medium text-gray-500"},Gte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Xte={key:0,class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Jte={class:"text-sm font-medium text-gray-500"},Qte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Zte={key:1,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ese={class:"text-sm font-medium text-gray-500"},tse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},sse={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},nse={class:"px-4 py-5 sm:px-6"},ose={class:"text-lg font-medium leading-6 text-gray-900"},ise={class:"border-t border-gray-200"},rse={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ase={class:"text-sm font-medium text-gray-500"},lse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},dse={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},cse={class:"text-sm font-medium text-gray-500"},use={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},fse={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},hse={class:"text-sm font-medium text-gray-500"},mse={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},pse={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},gse={class:"text-sm font-medium text-gray-500"},_se={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},vse={class:"space-y-6"},yse={class:"overflow-hidden bg-white shadow sm:rounded-lg"},bse={class:"px-4 py-5 sm:p-6"},xse={class:"mb-4 text-base font-medium text-gray-900"},wse={class:"space-y-3"},kse={class:"flex items-center justify-between"},$se={class:"text-sm text-gray-500"},Cse={class:"text-sm font-semibold text-gray-900"},Sse={class:"flex items-center justify-between"},Mse={class:"text-sm text-gray-500"},Tse={class:"text-sm font-semibold text-gray-900"},Ase={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Dse={class:"px-4 py-5 sm:p-6"},Ese={class:"mb-2 text-base font-medium text-gray-900"},Pse={class:"text-2xl font-bold text-gray-900"},Rse={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg"},jse={class:"px-4 py-5 sm:p-6"},Ose={class:"mb-4 text-base font-medium text-gray-900"},Ise={class:"space-y-3"},Lse={key:0},Fse={class:"text-sm text-gray-500"},Nse={class:"text-sm font-semibold text-gray-900"},zse={key:1},Bse={class:"text-sm text-gray-500"},Use={class:"text-sm font-semibold text-gray-900"},Vse={key:2,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Hse={class:"px-4 py-5 sm:p-6"},Wse={class:"mb-2 text-base font-medium text-gray-900"},qse={class:"text-sm text-gray-700 whitespace-pre-wrap"},Kse={__name:"Detail",setup(s){const e=Tc(),t=I(!0),n=I(null),i=I(!1),r=async()=>{try{t.value=!0;const l=await ce.get(`employees/${e.params.id}`);n.value=l.data.data}catch{}finally{t.value=!1}},a=()=>{i.value=!0};return Ye(()=>{r()}),(l,d)=>{var c;return t.value?(_(),y("div",Zee,[S(St,{size:"40",color:"#5850ec"})])):n.value?(_(),y("div",ete,[o("div",tte,[o("div",ste,[o("button",{onClick:d[0]||(d[0]=f=>l.$router.back()),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},"  "+u(l.__("Back")),1),o("h1",nte,u(n.value.user.name),1)]),o("div",ote,[h(Js)("employee:update")?(_(),ie(Ie,{key:0,variant:"secondary",onClick:a},{default:K(()=>[Q(u(l.__("Edit")),1)]),_:1})):j("",!0)])]),o("div",ite,[o("span",{class:ee(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",{"bg-green-100 text-green-800":n.value.employment_status==="Active","bg-red-100 text-red-800":["Resigned","Terminated"].includes(n.value.employment_status),"bg-gray-100 text-gray-800":!["Active","Resigned","Terminated"].includes(n.value.employment_status)}])},u(n.value.employment_status),3),o("span",rte,u(n.value.employment_type),1)]),o("div",ate,[o("div",lte,[o("div",dte,[o("div",cte,[o("h3",ute,u(l.__("Personal Information")),1)]),o("div",fte,[o("dl",null,[o("div",hte,[o("dt",mte,u(l.__("Email")),1),o("dd",pte,u(n.value.user.email),1)]),o("div",gte,[o("dt",_te,u(l.__("National ID")),1),o("dd",vte,u(n.value.national_id||"-"),1)]),o("div",yte,[o("dt",bte,u(l.__("Phone")),1),o("dd",xte,u(n.value.phone_number||"-"),1)]),o("div",wte,[o("dt",kte,u(l.__("Address")),1),o("dd",$te,u(n.value.physical_address||"-"),1)]),o("div",Cte,[o("dt",Ste,u(l.__("Date of Birth")),1),o("dd",Mte,u(n.value.date_of_birth?new Date(n.value.date_of_birth).toLocaleDateString():"-"),1)]),o("div",Tte,[o("dt",Ate,u(l.__("Gender")),1),o("dd",Dte,u(n.value.gender||"-"),1)]),o("div",Ete,[o("dt",Pte,u(l.__("Marital Status")),1),o("dd",Rte,u(n.value.marital_status||"-"),1)])])])]),o("div",jte,[o("div",Ote,[o("h3",Ite,u(l.__("Employment Information")),1)]),o("div",Lte,[o("dl",null,[o("div",Fte,[o("dt",Nte,u(l.__("Position")),1),o("dd",zte,u(n.value.position||"-"),1)]),o("div",Bte,[o("dt",Ute,u(l.__("Department")),1),o("dd",Vte,u(n.value.department||"-"),1)]),o("div",Hte,[o("dt",Wte,u(l.__("Reports To")),1),o("dd",qte,u(((c=n.value.supervisor)==null?void 0:c.name)||"-"),1)]),o("div",Kte,[o("dt",Yte,u(l.__("Employment Date")),1),o("dd",Gte,u(n.value.employment_date?new Date(n.value.employment_date).toLocaleDateString():"-"),1)]),n.value.contract_start_date?(_(),y("div",Xte,[o("dt",Jte,u(l.__("Contract Period")),1),o("dd",Qte,u(new Date(n.value.contract_start_date).toLocaleDateString())+" - "+u(n.value.contract_end_date?new Date(n.value.contract_end_date).toLocaleDateString():"Ongoing"),1)])):j("",!0),n.value.probation_end_date?(_(),y("div",Zte,[o("dt",ese,u(l.__("Probation End Date")),1),o("dd",tse,u(new Date(n.value.probation_end_date).toLocaleDateString()),1)])):j("",!0)])])]),n.value.next_of_kin_name?(_(),y("div",sse,[o("div",nse,[o("h3",ose,u(l.__("Next of Kin")),1)]),o("div",ise,[o("dl",null,[o("div",rse,[o("dt",ase,u(l.__("Name")),1),o("dd",lse,u(n.value.next_of_kin_name),1)]),o("div",dse,[o("dt",cse,u(l.__("Relationship")),1),o("dd",use,u(n.value.next_of_kin_relationship||"-"),1)]),o("div",fse,[o("dt",hse,u(l.__("Phone")),1),o("dd",mse,u(n.value.next_of_kin_phone||"-"),1)]),o("div",pse,[o("dt",gse,u(l.__("Address")),1),o("dd",_se,u(n.value.next_of_kin_address||"-"),1)])])])])):j("",!0)]),o("div",vse,[o("div",yse,[o("div",bse,[o("h3",xse,u(l.__("Leave Balance")),1),o("div",wse,[o("div",kse,[o("span",$se,u(l.__("Annual Leave")),1),o("span",Cse,u(n.value.leave_balance_annual)+" / "+u(n.value.annual_leave_days)+" "+u(l.__("days")),1)]),o("div",Sse,[o("span",Mse,u(l.__("Sick Leave")),1),o("span",Tse,u(n.value.leave_balance_sick)+" / "+u(n.value.sick_leave_days)+" "+u(l.__("days")),1)])])])]),n.value.current_salary?(_(),y("div",Ase,[o("div",Dse,[o("h3",Ese,u(l.__("Current Salary")),1),o("p",Pse,u(new Intl.NumberFormat().format(n.value.current_salary))+" "+u(n.value.salary_currency),1)])])):j("",!0),n.value.tax_identification_number||n.value.pension_number?(_(),y("div",Rse,[o("div",jse,[o("h3",Ose,u(l.__("Tax & Pension")),1),o("div",Ise,[n.value.tax_identification_number?(_(),y("div",Lse,[o("span",Fse,u(l.__("TIN")),1),o("p",Nse,u(n.value.tax_identification_number),1)])):j("",!0),n.value.pension_number?(_(),y("div",zse,[o("span",Bse,u(l.__("Pension Number")),1),o("p",Use,u(n.value.pension_number),1)])):j("",!0)])])])):j("",!0),n.value.notes?(_(),y("div",Vse,[o("div",Hse,[o("h3",Wse,u(l.__("Notes")),1),o("p",qse,u(n.value.notes),1)])])):j("",!0)])]),S(gs,{modelValue:i.value,"onUpdate:modelValue":d[2]||(d[2]=f=>i.value=f),size:"2xl",onSaved:r},{default:K(()=>[S(Ob,{"model-value":n.value,onClose:d[1]||(d[1]=f=>i.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])])):j("",!0)}}},Yse={class:"space-y-6"},Gse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Xse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Jse={class:"mt-1 sm:col-span-2 sm:mt-0"},Qse={value:""},Zse={value:"Annual Leave"},ene={value:"Sick Leave"},tne={value:"Maternity Leave"},sne={value:"Paternity Leave"},nne={value:"Unpaid Leave"},one={value:"Compassionate Leave"},ine={value:"Study Leave"},rne={key:0,class:"mt-2 text-sm text-red-600"},ane={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},lne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},dne={class:"mt-1 sm:col-span-2 sm:mt-0"},cne=["min"],une={key:0,class:"mt-2 text-sm text-red-600"},fne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},mne={class:"mt-1 sm:col-span-2 sm:mt-0"},pne=["min"],gne={key:0,class:"mt-2 text-sm text-red-600"},_ne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},vne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},yne={class:"mt-1 sm:col-span-2 sm:mt-0"},bne={key:0,class:"mt-2 text-sm text-red-600"},xne={class:"mt-1 text-sm text-gray-500"},wne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},kne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$ne={class:"mt-1 sm:col-span-2 sm:mt-0"},Cne={class:"flex items-center"},Sne={class:"ml-2 block text-sm text-gray-900"},Mne={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Tne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ane={class:"mt-1 sm:col-span-2 sm:mt-0"},Dne={value:""},Ene={value:"morning"},Pne={value:"afternoon"},Rne={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},jne={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},One={class:"mt-1 sm:col-span-2 sm:mt-0"},Ine=["placeholder"],Lne={key:0,class:"mt-2 text-sm text-red-600"},Fne={key:1,class:"rounded-md bg-blue-50 p-4"},Nne={class:"flex"},zne={class:"flex-shrink-0"},Bne={class:"ml-3 flex-1"},Une={class:"text-sm font-medium text-blue-800"},Vne={class:"mt-2 text-sm text-blue-700"},Hne={key:0},Wne={key:1},qne={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=I(null),r=Pe(()=>new Date().toISOString().split("T")[0]),a=qr("leaves",{leave_type:"",start_date:"",end_date:"",days:1,is_half_day:!1,half_day_period:"",reason:""}),l=()=>{if(a.start_date&&a.end_date){const m=new Date(a.start_date),p=new Date(a.end_date),g=Math.abs(p-m),v=Math.ceil(g/(1e3*60*60*24))+1;a.is_half_day?a.days=.5:a.days=v}},d=()=>{a.is_half_day?(a.end_date=a.start_date,a.days=.5):(a.half_day_period="",l())},c=()=>{a.submit(()=>{n("close")})},f=async()=>{try{const m=await ce.get("profile/create");m.data.employee_record&&(i.value={annual:m.data.employee_record.leave_balance_annual??0,sick:m.data.employee_record.leave_balance_sick??0})}catch{}};return Et(()=>t.modelValue,m=>{m?a.setData({...m,start_date:m.start_date.split("T")[0],end_date:m.end_date.split("T")[0]}):a.reset()},{immediate:!0}),Ye(()=>{f()}),(m,p)=>(_(),ie(Fo,{"external-form":h(a),onSubmit:c,onCancel:p[7]||(p[7]=g=>n("close"))},{title:K(()=>[Q(u(h(a).id?m.__("Edit Leave Request"):m.__("Request Leave")),1)]),default:K(()=>[o("div",Yse,[o("div",Gse,[o("label",Xse,[Q(u(m.__("Leave Type"))+" ",1),p[8]||(p[8]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Jse,[z(o("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>h(a).leave_type=g),class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.leave_type}]),required:""},[o("option",Qse,u(m.__("Select leave type")),1),o("option",Zse,u(m.__("Annual Leave")),1),o("option",ene,u(m.__("Sick Leave")),1),o("option",tne,u(m.__("Maternity Leave")),1),o("option",sne,u(m.__("Paternity Leave")),1),o("option",nne,u(m.__("Unpaid Leave")),1),o("option",one,u(m.__("Compassionate Leave")),1),o("option",ine,u(m.__("Study Leave")),1)],2),[[Me,h(a).leave_type]]),h(a).errors.leave_type?(_(),y("p",rne,u(h(a).errors.leave_type),1)):j("",!0)])]),o("div",ane,[o("label",lne,[Q(u(m.__("Start Date"))+" ",1),p[9]||(p[9]=o("span",{class:"text-red-500"},"*",-1))]),o("div",dne,[z(o("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>h(a).start_date=g),type:"date",min:r.value,class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.start_date}]),required:"",onChange:l},null,42,cne),[[te,h(a).start_date]]),h(a).errors.start_date?(_(),y("p",une,u(h(a).errors.start_date),1)):j("",!0)])]),o("div",fne,[o("label",hne,[Q(u(m.__("End Date"))+" ",1),p[10]||(p[10]=o("span",{class:"text-red-500"},"*",-1))]),o("div",mne,[z(o("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>h(a).end_date=g),type:"date",min:h(a).start_date||r.value,class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.end_date}]),required:"",onChange:l},null,42,pne),[[te,h(a).end_date]]),h(a).errors.end_date?(_(),y("p",gne,u(h(a).errors.end_date),1)):j("",!0)])]),o("div",_ne,[o("label",vne,[Q(u(m.__("Number of Days"))+" ",1),p[11]||(p[11]=o("span",{class:"text-red-500"},"*",-1))]),o("div",yne,[z(o("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>h(a).days=g),type:"number",step:"0.5",min:"0.5",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.days}]),required:"",readonly:""},null,2),[[te,h(a).days]]),h(a).errors.days?(_(),y("p",bne,u(h(a).errors.days),1)):j("",!0),o("p",xne,u(m.__("Automatically calculated based on start and end dates")),1)])]),o("div",wne,[o("label",kne,u(m.__("Half Day")),1),o("div",$ne,[o("div",Cne,[z(o("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>h(a).is_half_day=g),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:d},null,544),[[cs,h(a).is_half_day]]),o("label",Sne,u(m.__("This is a half day leave")),1)])])]),h(a).is_half_day?(_(),y("div",Mne,[o("label",Tne,[Q(u(m.__("Half Day Period"))+" ",1),p[12]||(p[12]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Ane,[z(o("select",{"onUpdate:modelValue":p[5]||(p[5]=g=>h(a).half_day_period=g),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[o("option",Dne,u(m.__("Select period")),1),o("option",Ene,u(m.__("Morning")),1),o("option",Pne,u(m.__("Afternoon")),1)],512),[[Me,h(a).half_day_period]])])])):j("",!0),o("div",Rne,[o("label",jne,[Q(u(m.__("Reason"))+" ",1),p[13]||(p[13]=o("span",{class:"text-red-500"},"*",-1))]),o("div",One,[z(o("textarea",{"onUpdate:modelValue":p[6]||(p[6]=g=>h(a).reason=g),rows:"4",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.reason}]),placeholder:m.__("Please provide a detailed reason for your leave request"),required:""},null,10,Ine),[[te,h(a).reason]]),h(a).errors.reason?(_(),y("p",Lne,u(h(a).errors.reason),1)):j("",!0)])]),i.value?(_(),y("div",Fne,[o("div",Nne,[o("div",zne,[S(h(jv),{class:"h-5 w-5 text-blue-400"})]),o("div",Bne,[o("h3",Une,u(m.__("Your Leave Balance")),1),o("div",Vne,[h(a).leave_type==="Annual Leave"?(_(),y("p",Hne,u(m.__("Annual Leave Balance:"))+" "+u(i.value.annual)+" "+u(m.__("days")),1)):h(a).leave_type==="Sick Leave"?(_(),y("p",Wne,u(m.__("Sick Leave Balance:"))+" "+u(i.value.sick)+" "+u(m.__("days")),1)):j("",!0)])])])])):j("",!0)])]),_:1},8,["external-form"]))}},Kne={key:0,class:"mt-8 flex justify-center"},Yne={key:1},Gne={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Xne={class:"overflow-hidden rounded-lg bg-white shadow"},Jne={class:"p-5"},Qne={class:"flex items-center"},Zne={class:"flex-shrink-0"},eoe={class:"ml-5 w-0 flex-1"},toe={class:"truncate text-sm font-medium text-gray-500"},soe={class:"text-lg font-semibold text-gray-900"},noe={class:"overflow-hidden rounded-lg bg-white shadow"},ooe={class:"p-5"},ioe={class:"flex items-center"},roe={class:"flex-shrink-0"},aoe={class:"ml-5 w-0 flex-1"},loe={class:"truncate text-sm font-medium text-gray-500"},doe={class:"text-lg font-semibold text-gray-900"},coe={class:"overflow-hidden rounded-lg bg-white shadow"},uoe={class:"p-5"},foe={class:"flex items-center"},hoe={class:"flex-shrink-0"},moe={class:"ml-5 w-0 flex-1"},poe={class:"truncate text-sm font-medium text-gray-500"},goe={class:"text-lg font-semibold text-gray-900"},_oe={class:"overflow-hidden rounded-lg bg-white shadow"},voe={class:"p-5"},yoe={class:"flex items-center"},boe={class:"flex-shrink-0"},xoe={class:"ml-5 w-0 flex-1"},woe={class:"truncate text-sm font-medium text-gray-500"},koe={class:"text-lg font-semibold text-gray-900"},$oe={class:"mb-6"},Coe={class:"border-b border-gray-200"},Soe={class:"-mb-px flex space-x-8"},Moe={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},Toe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Aoe={class:"flex flex-1 gap-2"},Doe={class:"relative w-64 rounded-md shadow-sm"},Eoe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Poe=["placeholder"],Roe={value:""},joe={value:"pending"},Ooe={value:"approved"},Ioe={value:"rejected"},Loe={value:""},Foe={value:"Annual Leave"},Noe={value:"Sick Leave"},zoe={value:"Maternity Leave"},Boe={value:"Paternity Leave"},Uoe={value:"Unpaid Leave"},Voe={class:"ltr:ml-auto rtl:mr-auto"},Hoe={class:"flex flex-col"},Woe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},qoe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Koe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Yoe={class:"min-w-full divide-y divide-gray-200"},Goe={class:"divide-y divide-gray-200 bg-white"},Xoe={key:0,class:"whitespace-nowrap px-6 py-4"},Joe={class:"flex items-center"},Qoe={class:"h-10 w-10 flex-shrink-0"},Zoe={class:"ml-4"},eie={class:"text-sm font-medium text-gray-900"},tie={class:"text-sm text-gray-500"},sie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},nie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},oie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},iie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},rie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},aie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},lie={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},die={class:"p-6"},cie={class:"flex items-center justify-between mb-4"},uie={class:"text-lg font-semibold text-gray-900"},fie={key:0,class:"space-y-4"},hie={class:"grid grid-cols-2 gap-4"},mie={class:"block text-sm font-medium text-gray-700"},pie={class:"mt-1 text-sm text-gray-900"},gie={class:"block text-sm font-medium text-gray-700"},_ie={class:"mt-1 text-sm text-gray-900"},vie={class:"block text-sm font-medium text-gray-700"},yie={class:"mt-1 text-sm text-gray-900"},bie={class:"block text-sm font-medium text-gray-700"},xie={class:"mt-1 text-sm text-gray-900"},wie={class:"block text-sm font-medium text-gray-700"},kie={class:"mt-1 text-sm text-gray-900"},$ie={class:"block text-sm font-medium text-gray-700"},Cie={class:"mt-1"},Sie={class:"block text-sm font-medium text-gray-700"},Mie={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Tie={key:0},Aie={class:"block text-sm font-medium text-gray-700"},Die={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Eie={key:1},Pie={class:"block text-sm font-medium text-gray-700"},Rie={class:"mt-1 text-sm text-gray-900"},jie={class:"text-sm text-gray-500"},Oie={class:"mt-6 flex justify-end"},Iie={class:"p-6"},Lie={class:"flex items-center justify-between mb-4"},Fie={class:"text-lg font-semibold text-gray-900"},Nie={class:"space-y-4"},zie={class:"text-sm text-gray-700"},Bie={class:"block text-sm font-medium text-gray-700"},Uie=["required"],Vie={class:"mt-6 flex justify-end space-x-3"},Hie={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I("my-leaves"),i=I(null),r=eo("leaves",{search:"",status:"",leave_type:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=rt({show:!1,model:null}),l=rt({show:!1,leave:null}),d=rt({show:!1,action:null,leave:null,notes:""});let c=null;const f=()=>{clearTimeout(c),c=setTimeout(()=>{r.get()},300)},m=(x=null)=>{a.model=x,a.show=!0},p=x=>{l.leave=x,l.show=!0},g=x=>{d.leave=x,d.action="approve",d.notes="",d.show=!0},v=x=>{d.leave=x,d.action="reject",d.notes="",d.show=!0},k=async()=>{var x,M;try{const C=d.action==="approve"?"approve":"reject";await ce.post(`leaves/${d.leave.id}/${C}`,{admin_notes:d.notes}),d.show=!1,r.get(),b()}catch(C){alert(((M=(x=C.response)==null?void 0:x.data)==null?void 0:M.message)||"Failed to process leave request")}},b=async()=>{try{const x=await ce.get("leaves/statistics");t.value=x.data.data}catch{}},w=()=>{var x;i.value=(x=_t.user)==null?void 0:x.id};return Et(n,x=>{x==="my-leaves"?r.params.user_id=i.value:(x==="pending-approvals"&&(r.params.status="pending"),r.params.user_id=""),r.get()}),Ye(async()=>{w(),r.params.user_id=i.value,await r.get(),await b(),e.value=!1}),(x,M)=>e.value?(_(),y("div",Kne,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",Yne,[t.value?(_(),y("div",Gne,[o("div",Xne,[o("div",Jne,[o("div",Qne,[o("div",Zne,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",eoe,[o("dl",null,[o("dt",toe,u(x.__("Pending")),1),o("dd",soe,u(t.value.pending),1)])])])])]),o("div",noe,[o("div",ooe,[o("div",ioe,[o("div",roe,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",aoe,[o("dl",null,[o("dt",loe,u(x.__("Approved")),1),o("dd",doe,u(t.value.approved),1)])])])])]),o("div",coe,[o("div",uoe,[o("div",foe,[o("div",hoe,[S(h($n),{class:"h-6 w-6 text-red-400"})]),o("div",moe,[o("dl",null,[o("dt",poe,u(x.__("Rejected")),1),o("dd",goe,u(t.value.rejected),1)])])])])]),o("div",_oe,[o("div",voe,[o("div",yoe,[o("div",boe,[S(h(dn),{class:"h-6 w-6 text-blue-400"})]),o("div",xoe,[o("dl",null,[o("dt",woe,u(x.__("This Month")),1),o("dd",koe,u(t.value.this_month)+" "+u(x.__("days")),1)])])])])])])):j("",!0),o("div",$oe,[o("div",Coe,[o("nav",Soe,[o("button",{onClick:M[0]||(M[0]=C=>n.value="my-leaves"),class:ee([n.value==="my-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},u(x.__("My Leave Requests")),3),h(Js)("leave:view-all")?(_(),y("button",{key:0,onClick:M[1]||(M[1]=C=>n.value="all-leaves"),class:ee([n.value==="all-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},u(x.__("All Requests")),3)):j("",!0),h(Js)("leave:approve")?(_(),y("button",{key:1,onClick:M[2]||(M[2]=C=>n.value="pending-approvals"),class:ee([n.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},[Q(u(x.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(_(),y("span",Moe,u(t.value.pending),1)):j("",!0)],2)):j("",!0)])])]),o("div",Toe,[o("div",Aoe,[o("div",Doe,[o("div",Eoe,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":M[3]||(M[3]=C=>h(r).params.search=C),type:"search",placeholder:x.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:f},null,40,Poe),[[te,h(r).params.search]])]),z(o("select",{"onUpdate:modelValue":M[4]||(M[4]=C=>h(r).params.status=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[5]||(M[5]=C=>h(r).get())},[o("option",Roe,u(x.__("All Statuses")),1),o("option",joe,u(x.__("Pending")),1),o("option",Ooe,u(x.__("Approved")),1),o("option",Ioe,u(x.__("Rejected")),1)],544),[[Me,h(r).params.status]]),z(o("select",{"onUpdate:modelValue":M[6]||(M[6]=C=>h(r).params.leave_type=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[7]||(M[7]=C=>h(r).get())},[o("option",Loe,u(x.__("All Types")),1),o("option",Foe,u(x.__("Annual Leave")),1),o("option",Noe,u(x.__("Sick Leave")),1),o("option",zoe,u(x.__("Maternity Leave")),1),o("option",Boe,u(x.__("Paternity Leave")),1),o("option",Uoe,u(x.__("Unpaid Leave")),1)],544),[[Me,h(r).params.leave_type]])]),o("div",Voe,[h(Js)("leave:create")?(_(),ie(Ie,{key:0,size:"sm",onClick:M[8]||(M[8]=C=>m())},{default:K(()=>[Q(u(x.__("Request Leave")),1)]),_:1})):j("",!0)])]),o("section",null,[o("div",Hoe,[o("div",Woe,[o("div",qoe,[o("div",Koe,[o("table",Yoe,[o("thead",null,[o("tr",null,[n.value!=="my-leaves"?(_(),ie(Le,{key:0,name:"leave",index:h(r),label:x.__("Employee")},null,8,["index","label"])):j("",!0),S(Le,{name:"leave",index:h(r),label:x.__("Leave Type"),sort:"leave_type"},null,8,["index","label"]),S(Le,{name:"leave",index:h(r),label:x.__("Start Date"),sort:"start_date"},null,8,["index","label"]),S(Le,{name:"leave",index:h(r),label:x.__("End Date"),sort:"end_date"},null,8,["index","label"]),S(Le,{name:"leave",index:h(r),label:x.__("Days"),sort:"days"},null,8,["index","label"]),S(Le,{name:"leave",index:h(r),label:x.__("Status"),sort:"status"},null,8,["index","label"]),S(Le,{name:"leave",index:h(r),label:x.__("Requested"),sort:"created_at"},null,8,["index","label"]),M[16]||(M[16]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Goe,[(_(!0),y(de,null,ye(h(r).data.data,C=>(_(),y("tr",{key:C.id,class:"hover:bg-gray-50"},[n.value!=="my-leaves"?(_(),y("td",Xoe,[o("div",Joe,[o("div",Qoe,[S(rs,{user:C.user,size:"10"},null,8,["user"])]),o("div",Zoe,[o("div",eie,u(C.user.name),1),o("div",tie,u(C.user.email),1)])])])):j("",!0),o("td",sie,u(C.leave_type),1),o("td",nie,u(new Date(C.start_date).toLocaleDateString()),1),o("td",oie,u(new Date(C.end_date).toLocaleDateString()),1),o("td",iie,u(C.days)+" "+u(C.is_half_day?"(Half Day)":""),1),o("td",rie,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":C.status==="pending","bg-green-100 text-green-800":C.status==="approved","bg-red-100 text-red-800":C.status==="rejected"}])},u(C.status.charAt(0).toUpperCase()+C.status.slice(1)),3)]),o("td",aie,u(new Date(C.created_at).toLocaleDateString()),1),o("td",lie,[n.value==="pending-approvals"&&C.status==="pending"?(_(),y(de,{key:0},[S(Ie,{size:"xs",variant:"success",onClick:O=>g(C)},{default:K(()=>[Q(u(x.__("Approve")),1)]),_:1},8,["onClick"]),S(Ie,{size:"xs",variant:"danger",class:"ml-2",onClick:O=>v(C)},{default:K(()=>[Q(u(x.__("Reject")),1)]),_:1},8,["onClick"])],64)):C.status==="pending"&&C.user_id===i.value?(_(),y(de,{key:1},[S(h(Nn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>m(C)},null,8,["onClick"]),S(h(Kt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>h(r).deleteIt(C.id)},null,8,["onClick"])],64)):j("",!0),S(h(Fn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>p(C)},null,8,["onClick"])])]))),128))])]),S(As,{index:h(r)},null,8,["index"])])])])])]),a.show?(_(),ie(gs,{key:1,size:"lg",onSaved:M[10]||(M[10]=C=>h(r).get())},{default:K(()=>[S(qne,{"model-value":a.model,onClose:M[9]||(M[9]=C=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(_(),ie(po,{key:2,width:"max-w-2xl"},{default:K(()=>{var C,O;return[o("div",die,[o("div",cie,[o("h3",uie,u(x.__("Leave Request Details")),1),o("button",{onClick:M[11]||(M[11]=N=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),l.leave?(_(),y("div",fie,[o("div",hie,[o("div",null,[o("label",mie,u(x.__("Employee")),1),o("p",pie,u((C=l.leave.user)==null?void 0:C.name),1)]),o("div",null,[o("label",gie,u(x.__("Leave Type")),1),o("p",_ie,u(l.leave.leave_type),1)]),o("div",null,[o("label",vie,u(x.__("Start Date")),1),o("p",yie,u(new Date(l.leave.start_date).toLocaleDateString()),1)]),o("div",null,[o("label",bie,u(x.__("End Date")),1),o("p",xie,u(new Date(l.leave.end_date).toLocaleDateString()),1)]),o("div",null,[o("label",wie,u(x.__("Days")),1),o("p",kie,u(l.leave.days),1)]),o("div",null,[o("label",$ie,u(x.__("Status")),1),o("p",Cie,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.leave.status==="pending","bg-green-100 text-green-800":l.leave.status==="approved","bg-red-100 text-red-800":l.leave.status==="rejected"}])},u(l.leave.status.charAt(0).toUpperCase()+l.leave.status.slice(1)),3)])])]),o("div",null,[o("label",Sie,u(x.__("Reason")),1),o("p",Mie,u(l.leave.reason),1)]),l.leave.admin_notes?(_(),y("div",Tie,[o("label",Aie,u(x.__("Admin Notes")),1),o("p",Die,u(l.leave.admin_notes),1)])):j("",!0),l.leave.approved_by?(_(),y("div",Eie,[o("label",Pie,u(x.__("Approved/Rejected By")),1),o("p",Rie,u((O=l.leave.approved_by)==null?void 0:O.name),1),o("p",jie,u(new Date(l.leave.approved_at).toLocaleString()),1)])):j("",!0)])):j("",!0),o("div",Oie,[S(Ie,{onClick:M[12]||(M[12]=N=>l.show=!1)},{default:K(()=>[Q(u(x.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),d.show?(_(),ie(po,{key:3,width:"max-w-md"},{default:K(()=>[o("div",Iie,[o("div",Lie,[o("h3",Fie,u(d.action==="approve"?x.__("Approve Leave"):x.__("Reject Leave")),1),o("button",{onClick:M[13]||(M[13]=C=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),o("div",Nie,[o("p",zie,u(d.action==="approve"?x.__("Are you sure you want to approve this leave request?"):x.__("Please provide a reason for rejection:")),1),o("div",null,[o("label",Bie,u(d.action==="approve"?x.__("Admin Notes (Optional)"):x.__("Rejection Reason")),1),z(o("textarea",{"onUpdate:modelValue":M[14]||(M[14]=C=>d.notes=C),rows:"3",required:d.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Uie),[[te,d.notes]])])]),o("div",Vie,[S(Ie,{white:"",onClick:M[15]||(M[15]=C=>d.show=!1)},{default:K(()=>[Q(u(x.__("Cancel")),1)]),_:1}),S(Ie,{class:ee(d.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:k,disabled:d.action==="reject"&&!d.notes},{default:K(()=>[Q(u(d.action==="approve"?x.__("Approve"):x.__("Reject")),1)]),_:1},8,["class","disabled"])])])]),_:1})):j("",!0)]))}},Wie={class:"space-y-6"},qie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Kie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Yie={class:"mt-1 sm:col-span-2 sm:mt-0"},Gie=["placeholder"],Xie={key:0,class:"mt-2 text-sm text-red-600"},Jie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Qie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Zie={class:"mt-1 sm:col-span-2 sm:mt-0"},ere={key:0,class:"mt-2 text-sm text-red-600"},tre={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sre={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nre={class:"mt-1 sm:col-span-2 sm:mt-0"},ore=["placeholder"],ire={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},rre={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},are={class:"mt-1 sm:col-span-2 sm:mt-0"},lre={class:"flex items-center"},dre={class:"ml-2 block text-sm text-gray-900"},cre={class:"mt-1 text-sm text-gray-500"},ure={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=qr("holidays",{name:"",date:"",description:"",is_recurring:!1}),r=()=>{i.submit(()=>{n("close")})};return Et(()=>t.modelValue,a=>{a?i.setData({...a,date:a.date.split("T")[0]}):i.reset()},{immediate:!0}),(a,l)=>(_(),ie(Fo,{"external-form":h(i),onSubmit:r,onCancel:l[4]||(l[4]=d=>n("close"))},{title:K(()=>[Q(u(h(i).id?a.__("Edit Holiday"):a.__("Add Holiday")),1)]),default:K(()=>[o("div",Wie,[o("div",qie,[o("label",Kie,[Q(u(a.__("Holiday Name"))+" ",1),l[5]||(l[5]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Yie,[z(o("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>h(i).name=d),type:"text",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(i).errors.name}]),placeholder:a.__("e.g., New Year's Day"),required:""},null,10,Gie),[[te,h(i).name]]),h(i).errors.name?(_(),y("p",Xie,u(h(i).errors.name),1)):j("",!0)])]),o("div",Jie,[o("label",Qie,[Q(u(a.__("Date"))+" ",1),l[6]||(l[6]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Zie,[z(o("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>h(i).date=d),type:"date",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(i).errors.date}]),required:""},null,2),[[te,h(i).date]]),h(i).errors.date?(_(),y("p",ere,u(h(i).errors.date),1)):j("",!0)])]),o("div",tre,[o("label",sre,u(a.__("Description")),1),o("div",nre,[z(o("textarea",{"onUpdate:modelValue":l[2]||(l[2]=d=>h(i).description=d),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:a.__("Optional description")},null,8,ore),[[te,h(i).description]])])]),o("div",ire,[o("label",rre,u(a.__("Recurring")),1),o("div",are,[o("div",lre,[z(o("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>h(i).is_recurring=d),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[cs,h(i).is_recurring]]),o("label",dre,u(a.__("This holiday recurs annually")),1)]),o("p",cre,u(a.__("Check this if the holiday repeats every year on the same date")),1)])])])]),_:1},8,["external-form"]))}},fre={key:0,class:"mt-8 flex justify-center"},hre={key:1},mre={class:"mb-6 flex items-center justify-between"},pre={class:"text-2xl font-bold text-gray-900"},gre={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},_re={class:"flex flex-1 gap-2"},vre={class:"relative w-64 rounded-md shadow-sm"},yre={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},bre=["placeholder"],xre=["value"],wre=["value"],kre=["value"],$re={value:""},Cre={value:"upcoming"},Sre={value:"past"},Mre={class:"ltr:ml-auto rtl:mr-auto"},Tre={class:"flex flex-col"},Are={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Dre={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Ere={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Pre={class:"min-w-full divide-y divide-gray-200"},Rre={class:"divide-y divide-gray-200 bg-white"},jre={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Ore={key:0,class:"ml-2 inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},Ire={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Lre={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Fre={class:"px-6 py-4 text-sm text-gray-500"},Nre={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},zre={__name:"Index",setup(s){const e=I(!0),t=new Date().getFullYear(),n=eo("holidays",{search:"",year:t,filter:"",sort_by:"date",sort_order:"asc",per_page:50}),i=rt({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{n.get()},300)},l=(d=null)=>{i.model=d,i.show=!0};return Ye(async()=>{await n.get(),e.value=!1}),(d,c)=>e.value?(_(),y("div",fre,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",hre,[o("div",mre,[o("h1",pre,u(d.__("Company Holidays")),1)]),o("div",gre,[o("div",_re,[o("div",vre,[o("div",yre,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>h(n).params.search=f),type:"search",placeholder:d.__("Search holidays..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,bre),[[te,h(n).params.search]])]),z(o("select",{"onUpdate:modelValue":c[1]||(c[1]=f=>h(n).params.year=f),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:c[2]||(c[2]=f=>h(n).get())},[o("option",{value:h(t)-1},u(h(t)-1),9,xre),o("option",{value:h(t)},u(h(t)),9,wre),o("option",{value:h(t)+1},u(h(t)+1),9,kre)],544),[[Me,h(n).params.year]]),z(o("select",{"onUpdate:modelValue":c[3]||(c[3]=f=>h(n).params.filter=f),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:c[4]||(c[4]=f=>h(n).get())},[o("option",$re,u(d.__("All")),1),o("option",Cre,u(d.__("Upcoming")),1),o("option",Sre,u(d.__("Past")),1)],544),[[Me,h(n).params.filter]])]),o("div",Mre,[h(Js)("holiday:create")?(_(),ie(Ie,{key:0,size:"sm",onClick:c[5]||(c[5]=f=>l())},{default:K(()=>[Q(u(d.__("Add Holiday")),1)]),_:1})):j("",!0)])]),o("section",null,[o("div",Tre,[o("div",Are,[o("div",Dre,[o("div",Ere,[o("table",Pre,[o("thead",null,[o("tr",null,[S(Le,{name:"holiday",index:h(n),label:d.__("Name"),sort:"name"},null,8,["index","label"]),S(Le,{name:"holiday",index:h(n),label:d.__("Date"),sort:"date"},null,8,["index","label"]),S(Le,{name:"holiday",index:h(n),label:d.__("Day")},null,8,["index","label"]),S(Le,{name:"holiday",index:h(n),label:d.__("Description")},null,8,["index","label"]),c[8]||(c[8]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Rre,[(_(!0),y(de,null,ye(h(n).data.data,f=>(_(),y("tr",{key:f.id,class:"hover:bg-gray-50"},[o("td",jre,[Q(u(f.name)+" ",1),f.is_recurring?(_(),y("span",Ore,u(d.__("Recurring")),1)):j("",!0)]),o("td",Ire,u(new Date(f.date).toLocaleDateString()),1),o("td",Lre,u(new Date(f.date).toLocaleDateString("en-US",{weekday:"long"})),1),o("td",Fre,u(f.description||"-"),1),o("td",Nre,[h(Js)("holiday:update")?(_(),ie(h(Nn),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:m=>l(f)},null,8,["onClick"])):j("",!0),h(Js)("holiday:delete")?(_(),ie(h(Kt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:m=>h(n).deleteIt(f.id)},null,8,["onClick"])):j("",!0)])]))),128))])]),S(As,{index:h(n)},null,8,["index"])])])])])]),i.show?(_(),ie(gs,{key:0,size:"md",onSaved:c[7]||(c[7]=f=>h(n).get())},{default:K(()=>[S(ure,{"model-value":i.model,onClose:c[6]||(c[6]=f=>i.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}},Bre={class:"border-b border-gray-200 px-6 py-4"},Ure={class:"text-lg font-semibold text-gray-900"},Vre={class:"space-y-6 px-6 py-4"},Hre={key:0},Wre={class:"block text-sm font-medium text-gray-700"},qre={value:""},Kre=["value"],Yre={key:0,class:"mt-2 text-sm text-red-600"},Gre={key:1,class:"rounded-md bg-gray-50 p-4"},Xre={class:"flex items-center"},Jre={class:"h-10 w-10 flex-shrink-0"},Qre={class:"ml-4"},Zre={class:"text-sm font-medium text-gray-900"},eae={class:"text-sm text-gray-500"},tae={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},sae={class:"block text-sm font-medium text-gray-700"},nae={key:0,class:"mt-2 text-sm text-red-600"},oae={class:"block text-sm font-medium text-gray-700"},iae={key:0,class:"mt-2 text-sm text-red-600"},rae={class:"block text-sm font-medium text-gray-700"},aae={key:0,class:"mt-2 text-sm text-red-600"},lae={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},dae={class:"block text-sm font-medium text-gray-700"},cae={key:0,class:"mt-2 text-sm text-red-600"},uae={class:"block text-sm font-medium text-gray-700"},fae={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},hae={class:"block text-sm font-medium text-gray-700"},mae={key:0,class:"mt-2 text-sm text-red-600"},pae={class:"block text-sm font-medium text-gray-700"},gae={key:0,class:"mt-2 text-sm text-red-600"},_ae={class:"block text-sm font-medium text-gray-700"},vae={key:0,class:"mt-2 text-sm text-red-600"},yae={class:"border-t border-gray-200 pt-6"},bae={class:"flex items-center justify-between mb-4"},xae={class:"text-lg font-medium text-gray-900"},wae={key:0,class:"text-center text-gray-500 py-4"},kae={key:1,class:"space-y-3"},$ae={class:"flex-1 grid grid-cols-1 gap-3 sm:grid-cols-4"},Cae=["onUpdate:modelValue"],Sae={value:"allowance"},Mae={value:"bonus"},Tae={value:"deduction"},Aae={class:"sm:col-span-2"},Dae=["onUpdate:modelValue","placeholder"],Eae=["onUpdate:modelValue","placeholder"],Pae=["onClick"],Rae={class:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-6"},jae={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Oae={class:"text-sm font-medium text-gray-500"},Iae={class:"mt-1 text-2xl font-bold text-gray-900"},Lae={class:"text-sm font-medium text-gray-500"},Fae={class:"mt-1 text-2xl font-bold text-red-600"},Nae={class:"text-sm font-medium text-gray-500"},zae={class:"mt-1 text-2xl font-bold text-green-600"},Bae={class:"block text-sm font-medium text-gray-700"},Uae=["placeholder"],Vae={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Hae={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var x,M,C,O,N,E,B,L,P,R,A,F,be,ae,le;const t=s,n=e,i=I([]),r=I(!1),a=I({}),l=()=>{const J=new Date;return`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`},d=J=>{const[ne,q]=J.split("-").map(Number),oe=new Date(ne,q-1,1),xe=new Date(ne,q,0);return{start:oe.toISOString().split("T")[0],end:xe.toISOString().split("T")[0]}},c=rt({user_id:((x=t.modelValue)==null?void 0:x.user_id)||"",payroll_period:((M=t.modelValue)==null?void 0:M.payroll_period)||l(),period_start:((O=(C=t.modelValue)==null?void 0:C.period_start)==null?void 0:O.split("T")[0])||d(l()).start,period_end:((E=(N=t.modelValue)==null?void 0:N.period_end)==null?void 0:E.split("T")[0])||d(l()).end,basic_salary:((B=t.modelValue)==null?void 0:B.basic_salary)||0,allowances:((L=t.modelValue)==null?void 0:L.allowances)||0,bonuses:((P=t.modelValue)==null?void 0:P.bonuses)||0,deductions:((R=t.modelValue)==null?void 0:R.deductions)||0,gross_salary:((A=t.modelValue)==null?void 0:A.gross_salary)||0,net_salary:((F=t.modelValue)==null?void 0:F.net_salary)||0,currency:((be=t.modelValue)==null?void 0:be.currency)||"MWK",notes:((ae=t.modelValue)==null?void 0:ae.notes)||"",items:((le=t.modelValue)==null?void 0:le.items)||[]}),f=()=>{if(c.payroll_period){const{start:J,end:ne}=d(c.payroll_period);c.period_start=J,c.period_end=ne}},m=()=>{c.gross_salary=(c.basic_salary||0)+(c.allowances||0)+(c.bonuses||0),c.net_salary=c.gross_salary-(c.deductions||0)},p=()=>{let J=0,ne=0,q=0;c.items.forEach(oe=>{const xe=parseFloat(oe.amount)||0;oe.item_type==="allowance"?J+=xe:oe.item_type==="bonus"?ne+=xe:oe.item_type==="deduction"&&(q+=xe)}),c.allowances=J,c.bonuses=ne,c.deductions=q,m()},g=()=>{c.items.push({item_type:"allowance",description:"",amount:0,category:""})},v=J=>{c.items.splice(J,1),p()},k=J=>new Intl.NumberFormat().format(J||0)+" "+c.currency,b=async()=>{try{const J=await ce.get("users");i.value=J.data.data}catch{}},w=async()=>{var q,oe;r.value=!0,a.value={};const J=t.modelValue?`payrolls/${t.modelValue.id}`:"payrolls",ne={user_id:c.user_id,payroll_period:c.payroll_period,period_start:c.period_start,period_end:c.period_end,basic_salary:parseFloat(c.basic_salary)||0,allowances:parseFloat(c.allowances)||0,bonuses:parseFloat(c.bonuses)||0,deductions:parseFloat(c.deductions)||0,currency:c.currency,notes:c.notes,items:c.items.filter(xe=>xe.description&&xe.amount>0)};try{t.modelValue?await ce.put(J,ne):await ce.post(J,ne),n("saved"),n("close")}catch(xe){(oe=(q=xe.response)==null?void 0:q.data)!=null&&oe.errors&&(a.value=xe.response.data.errors)}finally{r.value=!1}};return Ye(()=>{t.modelValue||b(),m()}),Et(()=>t.modelValue,J=>{var ne,q;J&&(Object.assign(c,{user_id:J.user_id,payroll_period:J.payroll_period||l(),period_start:((ne=J.period_start)==null?void 0:ne.split("T")[0])||d(l()).start,period_end:((q=J.period_end)==null?void 0:q.split("T")[0])||d(l()).end,basic_salary:J.basic_salary||0,allowances:J.allowances||0,bonuses:J.bonuses||0,deductions:J.deductions||0,gross_salary:J.gross_salary||0,net_salary:J.net_salary||0,currency:J.currency||"MWK",notes:J.notes||"",items:J.items||[]}),m())},{immediate:!0}),(J,ne)=>(_(),y("div",null,[o("div",Bre,[o("h2",Ure,u(s.modelValue?J.__("Edit Payroll"):J.__("Create Payroll")),1)]),o("div",Vre,[s.modelValue?(_(),y("div",Gre,[o("div",Xre,[o("div",Jre,[S(rs,{user:s.modelValue.user,size:"10"},null,8,["user"])]),o("div",Qre,[o("div",Zre,u(s.modelValue.user.name),1),o("div",eae,u(s.modelValue.user.email),1)])])])):(_(),y("div",Hre,[o("label",Wre,[Q(u(J.__("Employee"))+" ",1),ne[11]||(ne[11]=o("span",{class:"text-red-500"},"*",-1))]),z(o("select",{"onUpdate:modelValue":ne[0]||(ne[0]=q=>c.user_id=q),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[o("option",qre,u(J.__("Select Employee")),1),(_(!0),y(de,null,ye(i.value,q=>(_(),y("option",{key:q.id,value:q.id},u(q.name),9,Kre))),128))],512),[[Me,c.user_id]]),a.value.user_id?(_(),y("p",Yre,u(a.value.user_id[0]),1)):j("",!0)])),o("div",tae,[o("div",null,[o("label",sae,[Q(u(J.__("Payroll Period"))+" ",1),ne[12]||(ne[12]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":ne[1]||(ne[1]=q=>c.payroll_period=q),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onChange:f},null,544),[[te,c.payroll_period]]),a.value.payroll_period?(_(),y("p",nae,u(a.value.payroll_period[0]),1)):j("",!0)]),o("div",null,[o("label",oae,[Q(u(J.__("Period Start"))+" ",1),ne[13]||(ne[13]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":ne[2]||(ne[2]=q=>c.period_start=q),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[te,c.period_start]]),a.value.period_start?(_(),y("p",iae,u(a.value.period_start[0]),1)):j("",!0)]),o("div",null,[o("label",rae,[Q(u(J.__("Period End"))+" ",1),ne[14]||(ne[14]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":ne[3]||(ne[3]=q=>c.period_end=q),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[te,c.period_end]]),a.value.period_end?(_(),y("p",aae,u(a.value.period_end[0]),1)):j("",!0)])]),o("div",lae,[o("div",null,[o("label",dae,[Q(u(J.__("Basic Salary"))+" ",1),ne[15]||(ne[15]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":ne[4]||(ne[4]=q=>c.basic_salary=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:m},null,544),[[te,c.basic_salary,void 0,{number:!0}]]),a.value.basic_salary?(_(),y("p",cae,u(a.value.basic_salary[0]),1)):j("",!0)]),o("div",null,[o("label",uae,u(J.__("Currency")),1),z(o("select",{"onUpdate:modelValue":ne[5]||(ne[5]=q=>c.currency=q),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...ne[16]||(ne[16]=[o("option",{value:"MWK"},"MWK (Malawian Kwacha)",-1),o("option",{value:"USD"},"USD (US Dollar)",-1),o("option",{value:"EUR"},"EUR (Euro)",-1),o("option",{value:"GBP"},"GBP (British Pound)",-1)])],512),[[Me,c.currency]])])]),o("div",fae,[o("div",null,[o("label",hae,u(J.__("Total Allowances")),1),z(o("input",{"onUpdate:modelValue":ne[6]||(ne[6]=q=>c.allowances=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:m},null,544),[[te,c.allowances,void 0,{number:!0}]]),a.value.allowances?(_(),y("p",mae,u(a.value.allowances[0]),1)):j("",!0)]),o("div",null,[o("label",pae,u(J.__("Total Bonuses")),1),z(o("input",{"onUpdate:modelValue":ne[7]||(ne[7]=q=>c.bonuses=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:m},null,544),[[te,c.bonuses,void 0,{number:!0}]]),a.value.bonuses?(_(),y("p",gae,u(a.value.bonuses[0]),1)):j("",!0)]),o("div",null,[o("label",_ae,u(J.__("Total Deductions")),1),z(o("input",{"onUpdate:modelValue":ne[8]||(ne[8]=q=>c.deductions=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:m},null,544),[[te,c.deductions,void 0,{number:!0}]]),a.value.deductions?(_(),y("p",vae,u(a.value.deductions[0]),1)):j("",!0)])]),o("div",yae,[o("div",bae,[o("h3",xae,u(J.__("Payroll Items")),1),S(Ie,{size:"sm",variant:"secondary",onClick:g},{default:K(()=>[S(h(Sn),{class:"mr-1 h-4 w-4"}),Q(" "+u(J.__("Add Item")),1)]),_:1})]),c.items.length===0?(_(),y("div",wae,u(J.__('No items added. Click "Add Item" to add allowances, bonuses, or deductions.')),1)):(_(),y("div",kae,[(_(!0),y(de,null,ye(c.items,(q,oe)=>(_(),y("div",{key:oe,class:"flex items-start gap-3 rounded-lg border border-gray-200 p-3"},[o("div",$ae,[o("div",null,[z(o("select",{"onUpdate:modelValue":xe=>q.item_type=xe,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[o("option",Sae,u(J.__("Allowance")),1),o("option",Mae,u(J.__("Bonus")),1),o("option",Tae,u(J.__("Deduction")),1)],40,Cae),[[Me,q.item_type]])]),o("div",Aae,[z(o("input",{"onUpdate:modelValue":xe=>q.description=xe,type:"text",placeholder:J.__("Description"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Dae),[[te,q.description]])]),o("div",null,[z(o("input",{"onUpdate:modelValue":xe=>q.amount=xe,type:"number",step:"0.01",placeholder:J.__("Amount"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:p},null,40,Eae),[[te,q.amount,void 0,{number:!0}]])])]),o("button",{type:"button",class:"text-red-500 hover:text-red-700",onClick:xe=>v(oe)},[S(h(Kt),{class:"h-5 w-5"})],8,Pae)]))),128))]))]),o("div",Rae,[o("div",jae,[o("div",null,[o("div",Oae,u(J.__("Gross Salary")),1),o("div",Iae,u(k(c.gross_salary)),1)]),o("div",null,[o("div",Lae,u(J.__("Total Deductions")),1),o("div",Fae,u(k(c.deductions)),1)]),o("div",null,[o("div",Nae,u(J.__("Net Salary")),1),o("div",zae,u(k(c.net_salary)),1)])])]),o("div",null,[o("label",Bae,u(J.__("Notes")),1),z(o("textarea",{"onUpdate:modelValue":ne[9]||(ne[9]=q=>c.notes=q),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:J.__("Optional notes")},null,8,Uae),[[te,c.notes]])])]),o("div",Vae,[S(Ie,{variant:"secondary",onClick:ne[10]||(ne[10]=q=>J.$emit("close"))},{default:K(()=>[Q(u(J.__("Cancel")),1)]),_:1}),S(Ie,{disabled:r.value,onClick:w},{default:K(()=>[Q(u(s.modelValue?J.__("Update Payroll"):J.__("Create Payroll")),1)]),_:1},8,["disabled"])])]))}},Wae={key:0,class:"mt-8 flex justify-center"},qae={key:1},Kae={class:"mb-6"},Yae={class:"text-2xl font-bold text-gray-900"},Gae={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Xae={class:"overflow-hidden rounded-lg bg-white shadow"},Jae={class:"p-5"},Qae={class:"flex items-center"},Zae={class:"flex-shrink-0"},ele={class:"ml-5 w-0 flex-1"},tle={class:"truncate text-sm font-medium text-gray-500"},sle={class:"text-lg font-semibold text-gray-900"},nle={class:"overflow-hidden rounded-lg bg-white shadow"},ole={class:"p-5"},ile={class:"flex items-center"},rle={class:"flex-shrink-0"},ale={class:"ml-5 w-0 flex-1"},lle={class:"truncate text-sm font-medium text-gray-500"},dle={class:"text-lg font-semibold text-gray-900"},cle={class:"overflow-hidden rounded-lg bg-white shadow"},ule={class:"p-5"},fle={class:"flex items-center"},hle={class:"flex-shrink-0"},mle={class:"ml-5 w-0 flex-1"},ple={class:"truncate text-sm font-medium text-gray-500"},gle={class:"text-lg font-semibold text-gray-900"},_le={class:"overflow-hidden rounded-lg bg-white shadow"},vle={class:"p-5"},yle={class:"flex items-center"},ble={class:"flex-shrink-0"},xle={class:"ml-5 w-0 flex-1"},wle={class:"truncate text-sm font-medium text-gray-500"},kle={class:"text-lg font-semibold text-gray-900"},$le={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Cle={class:"flex flex-1 gap-2"},Sle={class:"relative w-64 rounded-md shadow-sm"},Mle={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Tle=["placeholder"],Ale={value:""},Dle={value:"draft"},Ele={value:"approved"},Ple={value:"paid"},Rle={value:"sent"},jle={class:"flex gap-2"},Ole={class:"flex flex-col"},Ile={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Lle={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Fle={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Nle={class:"min-w-full divide-y divide-gray-200"},zle={class:"divide-y divide-gray-200 bg-white"},Ble={key:0,class:"hover:bg-gray-50"},Ule={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},Vle={class:"whitespace-nowrap px-6 py-4"},Hle={class:"flex items-center"},Wle={class:"h-10 w-10 flex-shrink-0"},qle={class:"ml-4"},Kle={class:"text-sm font-medium text-gray-900"},Yle={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Gle={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Xle={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold text-gray-900"},Jle={class:"whitespace-nowrap px-6 py-4 text-sm"},Qle={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Zle={class:"flex items-center justify-end gap-2"},ede={class:"border-b border-gray-200 px-6 py-4"},tde={class:"text-lg font-semibold text-gray-900"},sde={class:"space-y-4 px-6 py-4"},nde={class:"block text-sm font-medium text-gray-700"},ode={class:"text-sm text-gray-600"},ide={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},rde={__name:"Index",setup(s){const e=Ln(),t=I(!0),n=I(null),i=eo("payrolls",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=rt({show:!1,model:null}),a=rt({show:!1,month:new Date().toISOString().slice(0,7)});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{i.get()},300)},c=(b=null)=>{r.model=b,r.show=!0},f=()=>{a.show=!0},m=async()=>{try{const b=await ce.post("payrolls/generate",{month:a.month});alert(b.data.message),a.show=!1,i.get()}catch{alert("Failed to generate payroll")}},p=async b=>{if(confirm("Are you sure you want to approve this payroll?"))try{await ce.post(`payrolls/${b}/approve`),i.get(),k()}catch{}},g=async b=>{if(confirm("Mark this payroll as paid?"))try{await ce.post(`payrolls/${b}/mark-as-paid`),i.get(),k()}catch{}},v=b=>{e.push(`/payrolls/${b}`)},k=async()=>{try{const b=await ce.get("payrolls/statistics");n.value=b.data.data}catch{}};return Ye(async()=>{try{await i.get(),await k(),t.value=!1}catch{t.value=!1}}),(b,w)=>{var x,M,C;return t.value?(_(),y("div",Wae,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",qae,[o("div",Kae,[o("h1",Yae,u(b.__("Payroll Management")),1)]),n.value?(_(),y("div",Gae,[o("div",Xae,[o("div",Jae,[o("div",Qae,[o("div",Zae,[S(h(Fc),{class:"h-6 w-6 text-gray-400"})]),o("div",ele,[o("dl",null,[o("dt",tle,u(b.__("Draft")),1),o("dd",sle,u(n.value.draft),1)])])])])]),o("div",nle,[o("div",ole,[o("div",ile,[o("div",rle,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",ale,[o("dl",null,[o("dt",lle,u(b.__("Approved")),1),o("dd",dle,u(n.value.approved),1)])])])])]),o("div",cle,[o("div",ule,[o("div",fle,[o("div",hle,[S(h(Wh),{class:"h-6 w-6 text-blue-400"})]),o("div",mle,[o("dl",null,[o("dt",ple,u(b.__("Paid")),1),o("dd",gle,u(n.value.paid),1)])])])])]),o("div",_le,[o("div",vle,[o("div",yle,[o("div",ble,[S(h(Ic),{class:"h-6 w-6 text-yellow-400"})]),o("div",xle,[o("dl",null,[o("dt",wle,u(b.__("This Month")),1),o("dd",kle,u(new Intl.NumberFormat().format(n.value.this_month_total)),1)])])])])])])):j("",!0),o("div",$le,[o("div",Cle,[o("div",Sle,[o("div",Mle,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":w[0]||(w[0]=O=>h(i).params.search=O),type:"search",placeholder:b.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,Tle),[[te,h(i).params.search]])]),z(o("select",{"onUpdate:modelValue":w[1]||(w[1]=O=>h(i).params.status=O),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w[2]||(w[2]=O=>h(i).get())},[o("option",Ale,u(b.__("All Statuses")),1),o("option",Dle,u(b.__("Draft")),1),o("option",Ele,u(b.__("Approved")),1),o("option",Ple,u(b.__("Paid")),1),o("option",Rle,u(b.__("Sent")),1)],544),[[Me,h(i).params.status]])]),o("div",jle,[S(Ie,{variant:"secondary",onClick:f},{default:K(()=>[S(h(i$),{class:"mr-2 h-4 w-4"}),Q(" "+u(b.__("Generate Payroll")),1)]),_:1}),h(Js)("payroll:create")?(_(),ie(Ie,{key:0,onClick:w[3]||(w[3]=O=>c())},{default:K(()=>[Q(u(b.__("Create Payroll")),1)]),_:1})):j("",!0)])]),o("section",null,[o("div",Ole,[o("div",Ile,[o("div",Lle,[o("div",Fle,[o("table",Nle,[o("thead",null,[o("tr",null,[S(Le,{name:"payroll",index:h(i),label:b.__("Employee")},null,8,["index","label"]),S(Le,{name:"payroll",index:h(i),label:b.__("Period"),sort:"payroll_period"},null,8,["index","label"]),S(Le,{name:"payroll",index:h(i),label:b.__("Basic Salary"),sort:"basic_salary"},null,8,["index","label"]),S(Le,{name:"payroll",index:h(i),label:b.__("Net Salary"),sort:"net_salary"},null,8,["index","label"]),S(Le,{name:"payroll",index:h(i),label:b.__("Status"),sort:"status"},null,8,["index","label"]),w[8]||(w[8]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",zle,[(M=(x=h(i).data)==null?void 0:x.data)!=null&&M.length?j("",!0):(_(),y("tr",Ble,[o("td",Ule,u(b.__("No payrolls found")),1)])),(_(!0),y(de,null,ye(((C=h(i).data)==null?void 0:C.data)||[],O=>(_(),y("tr",{key:O.id,class:"hover:bg-gray-50"},[o("td",Vle,[o("div",Hle,[o("div",Wle,[S(rs,{user:O.user,size:"10"},null,8,["user"])]),o("div",qle,[o("div",Kle,u(O.user.name),1)])])]),o("td",Yle,u(O.payroll_period),1),o("td",Gle,u(new Intl.NumberFormat().format(O.basic_salary))+" "+u(O.currency),1),o("td",Xle,u(new Intl.NumberFormat().format(O.net_salary))+" "+u(O.currency),1),o("td",Jle,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-gray-100 text-gray-800":O.status==="draft","bg-green-100 text-green-800":O.status==="approved","bg-blue-100 text-blue-800":O.status==="paid","bg-purple-100 text-purple-800":O.status==="sent"}])},u(O.status.charAt(0).toUpperCase()+O.status.slice(1)),3)]),o("td",Qle,[o("div",Zle,[O.status==="draft"&&h(Js)("payroll:approve")?(_(),ie(Ie,{key:0,size:"xs",variant:"success",onClick:N=>p(O.id)},{default:K(()=>[Q(u(b.__("Approve")),1)]),_:1},8,["onClick"])):j("",!0),O.status==="approved"&&h(Js)("payroll:pay")?(_(),ie(Ie,{key:1,size:"xs",onClick:N=>g(O.id)},{default:K(()=>[Q(u(b.__("Mark Paid")),1)]),_:1},8,["onClick"])):j("",!0),S(h(Fn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>v(O.id)},null,8,["onClick"]),O.status==="draft"&&h(Js)("payroll:update")?(_(),ie(h(Nn),{key:2,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>c(O)},null,8,["onClick"])):j("",!0),O.status==="draft"&&h(Js)("payroll:delete")?(_(),ie(h(Kt),{key:3,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>h(i).deleteIt(O.id)},null,8,["onClick"])):j("",!0)])])]))),128))])]),S(As,{index:h(i)},null,8,["index"])])])])])]),a.show?(_(),ie(po,{key:1,width:"max-w-md"},{default:K(()=>[o("div",ede,[o("h2",tde,u(b.__("Generate Payroll for Month")),1)]),o("div",sde,[o("div",null,[o("label",nde,u(b.__("Month")),1),z(o("input",{"onUpdate:modelValue":w[4]||(w[4]=O=>a.month=O),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[te,a.month]])]),o("p",ode,u(b.__("This will generate draft payroll records for all active employees for the selected month.")),1)]),o("div",ide,[S(Ie,{variant:"secondary",onClick:w[5]||(w[5]=O=>a.show=!1)},{default:K(()=>[Q(u(b.__("Cancel")),1)]),_:1}),S(Ie,{onClick:m},{default:K(()=>[Q(u(b.__("Generate")),1)]),_:1})])]),_:1})):j("",!0),r.show?(_(),ie(gs,{key:2,size:"2xl",onSaved:w[7]||(w[7]=O=>h(i).get())},{default:K(()=>[S(Hae,{"model-value":r.model,onClose:w[6]||(w[6]=O=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},ade={class:"border-b border-gray-200 px-6 py-4"},lde={class:"text-lg font-semibold text-gray-900"},dde={class:"space-y-6 px-6 py-4"},cde={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ude={class:"block text-sm font-medium text-gray-700"},fde=["placeholder"],hde={key:0,class:"mt-2 text-sm text-red-600"},mde={class:"block text-sm font-medium text-gray-700"},pde=["placeholder"],gde={key:0,class:"mt-2 text-sm text-red-600"},_de={class:"block text-sm font-medium text-gray-700"},vde=["placeholder"],yde={key:0,class:"mt-2 text-sm text-red-600"},bde={class:"block text-sm font-medium text-gray-700"},xde=["placeholder"],wde={class:"border-t border-gray-200 pt-6"},kde={class:"mb-4 text-md font-medium text-gray-900"},$de={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Cde={class:"block text-sm font-medium text-gray-700"},Sde=["placeholder"],Mde={class:"block text-sm font-medium text-gray-700"},Tde=["placeholder"],Ade={class:"block text-sm font-medium text-gray-700"},Dde={key:0,class:"mt-2 text-sm text-red-600"},Ede={class:"block text-sm font-medium text-gray-700"},Pde={value:"prospect"},Rde={value:"active"},jde={value:"inactive"},Ode={key:0,class:"mt-2 text-sm text-red-600"},Ide={class:"border-t border-gray-200 pt-6"},Lde={class:"mb-4 text-md font-medium text-gray-900"},Fde={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Nde={class:"sm:col-span-2"},zde={class:"block text-sm font-medium text-gray-700"},Bde=["placeholder"],Ude={class:"block text-sm font-medium text-gray-700"},Vde={value:""},Hde=["value"],Wde={class:"block text-sm font-medium text-gray-700"},qde={value:""},Kde=["value"],Yde=["placeholder"],Gde={class:"border-t border-gray-200 pt-6"},Xde={class:"block text-sm font-medium text-gray-700"},Jde=["placeholder"],Qde={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Zde={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,i=I(!1),r=I({}),a=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],l={Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Kasungu","Mangochi","Karonga","Salima","Nkhotakota","Liwonde","Nsanje","Rumphi","Dedza","Ntcheu","Balaka","Mchinji","Mulanje","Thyolo","Chiradzulu","Phalombe","Chitipa","Nkhata Bay","Likoma","Ntchisi","Dowa","Mwanza","Neno","Chikwawa","Machinga","Monkey Bay","Cape Maclear","Chipoka","Dwangwa","Ekwendeni","Jenda","Luchenza","Lunzu","Migowi","Mponela","Mzimba","Nkaya","Songwe","Thekerani","Chilumba","Embangweni","Livingstonia","Makanjira","Malomo","Namitete"],Zambia:["Lusaka","Kitwe","Ndola","Kabwe","Chingola","Mufulira","Livingstone","Luanshya","Kasama","Chipata","Kalulushi","Mazabuka","Mongu","Solwezi","Choma","Kafue","Mansa","Mpika","Petauke","Senanga"],Tanzania:["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar City","Kigoma","Moshi","Tabora","Songea","Musoma","Shinyanga","Iringa","Sumbawanga","Mtwara","Lindi","Bukoba","Singida"],Mozambique:["Maputo","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Lichinga","Pemba","Xai-Xai","Maxixe","Inhambane","Cuamba","Montepuez","Chokwe","Dondo","Angoche","Mocuba","Guru","Matola"],Zimbabwe:["Harare","Bulawayo","Chitungwiza","Mutare","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Marondera","Norton","Chegutu","Bindura","Beitbridge","Victoria Falls","Hwange","Kariba","Rusape","Chiredzi","Zvishavane"],"South Africa":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Polokwane","Nelspruit","Kimberley","Rustenburg","Pietermaritzburg","Vanderbijlpark","Soweto","Benoni","Tembisa","Welkom","Midrand","Sandton","Centurion"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Malindi","Kitale","Garissa","Nyeri","Machakos","Meru","Lamu","Naivasha","Embu","Kakamega","Kericho","Bungoma","Migori","Kilifi"],Uganda:["Kampala","Gulu","Lira","Mbarara","Jinja","Mbale","Mukono","Masaka","Entebbe","Kasese","Hoima","Arua","Fort Portal","Soroti","Kabale","Tororo","Iganga","Mityana","Mubende","Masindi"],Botswana:["Gaborone","Francistown","Molepolole","Serowe","Selibe Phikwe","Maun","Kanye","Mahalapye","Mogoditshane","Mochudi","Lobatse","Palapye","Ramotswa","Thamaga","Jwaneng","Letlhakane","Orapa","Kasane","Nata","Ghanzi"],"United Kingdom":["London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Leicester","Coventry","Bradford","Cardiff","Belfast","Nottingham","Newcastle","Southampton","Brighton","Plymouth","Oxford"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington D.C.","Boston","Nashville","Detroit","Portland","Las Vegas","Miami","Atlanta"],China:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin","Suzhou","Chongqing","Qingdao","Dalian","Xiamen","Ningbo","Zhengzhou","Changsha","Dongguan","Shenyang"],India:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Ahmedabad","Pune","Surat","Jaipur","Lucknow","Kanpur","Nagpur","Patna","Indore","Thane","Bhopal","Visakhapatnam","Vadodara","Coimbatore"],Nigeria:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Abeokuta","Sokoto","Onitsha","Warri","Calabar","Uyo","Kaduna"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Tema","Cape Coast","Sekondi","Obuasi","Teshie","Koforidua","Sunyani","Ho","Wa","Bolgatanga","Techiman","Nungua","Madina","Kasoa","Aflao"],Ethiopia:["Addis Ababa","Dire Dawa","Mekelle","Gondar","Hawassa","Bahir Dar","Adama","Jimma","Dessie","Jijiga","Harar","Shashamane","Debre Birhan","Arba Minch","Hosaena","Dilla","Nekemte","Asella","Debre Markos","Kombolcha"],Rwanda:["Kigali","Butare","Gitarama","Ruhengeri","Gisenyi","Byumba","Cyangugu","Nyanza","Kibungo","Kibuye"],Burundi:["Bujumbura","Gitega","Muyinga","Ruyigi","Ngozi","Rutana","Bururi","Makamba","Kayanza","Muramvya"],"Democratic Republic of the Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Tshikapa","Kolwezi","Likasi","Goma"]},d=Pe(()=>c.country&&l[c.country]?[...l[c.country]].sort():[]);Et(()=>c.country,(m,p)=>{p&&m!==p&&((l[m]||[]).includes(c.city)||(c.city=""))});const c=rt({name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"}),f=async()=>{var p,g;i.value=!0,r.value={};const m=t.modelValue?`clients/${t.modelValue.id}`:"clients";try{t.modelValue?await ce.put(m,c):await ce.post(m,c),n("saved"),n("close")}catch(v){(g=(p=v.response)==null?void 0:p.data)!=null&&g.errors&&(r.value=v.response.data.errors)}finally{i.value=!1}};return Et(()=>t.modelValue,m=>{m?Object.assign(c,{name:m.name||"",email:m.email||"",phone:m.phone||"",secondary_phone:m.secondary_phone||"",company_name:m.company_name||"",business_type:m.business_type||"",address:m.address||"",city:m.city||"",country:m.country||"",website:m.website||"",notes:m.notes||"",status:m.status||"prospect"}):Object.assign(c,{name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"})},{immediate:!0}),(m,p)=>(_(),y("div",null,[o("div",ade,[o("h2",lde,u(s.modelValue?m.__("Edit Client"):m.__("Add Client")),1)]),o("div",dde,[o("div",cde,[o("div",null,[o("label",ude,[Q(u(m.__("Name"))+" ",1),p[14]||(p[14]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>c.name=g),type:"text",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.name}]),placeholder:m.__("Client name"),required:""},null,10,fde),[[te,c.name]]),r.value.name?(_(),y("p",hde,u(r.value.name[0]),1)):j("",!0)]),o("div",null,[o("label",mde,u(m.__("Email")),1),z(o("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>c.email=g),type:"email",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),placeholder:m.__("email@example.com")},null,10,pde),[[te,c.email]]),r.value.email?(_(),y("p",gde,u(r.value.email[0]),1)):j("",!0)]),o("div",null,[o("label",_de,u(m.__("Phone")),1),z(o("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>c.phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Primary phone number")},null,8,vde),[[te,c.phone]]),r.value.phone?(_(),y("p",yde,u(r.value.phone[0]),1)):j("",!0)]),o("div",null,[o("label",bde,u(m.__("Secondary Phone")),1),z(o("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>c.secondary_phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Alternative phone number")},null,8,xde),[[te,c.secondary_phone]])])]),o("div",wde,[o("h3",kde,u(m.__("Company Information")),1),o("div",$de,[o("div",null,[o("label",Cde,u(m.__("Company Name")),1),z(o("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>c.company_name=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Company or organization name")},null,8,Sde),[[te,c.company_name]])]),o("div",null,[o("label",Mde,u(m.__("Business Type")),1),z(o("input",{"onUpdate:modelValue":p[5]||(p[5]=g=>c.business_type=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("e.g., Retail, Technology, Healthcare")},null,8,Tde),[[te,c.business_type]])]),o("div",null,[o("label",Ade,u(m.__("Website")),1),z(o("input",{"onUpdate:modelValue":p[6]||(p[6]=g=>c.website=g),type:"url",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.website}]),placeholder:"https://example.com"},null,2),[[te,c.website]]),r.value.website?(_(),y("p",Dde,u(r.value.website[0]),1)):j("",!0)]),o("div",null,[o("label",Ede,[Q(u(m.__("Status"))+" ",1),p[15]||(p[15]=o("span",{class:"text-red-500"},"*",-1))]),z(o("select",{"onUpdate:modelValue":p[7]||(p[7]=g=>c.status=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[o("option",Pde,u(m.__("Prospect")),1),o("option",Rde,u(m.__("Active")),1),o("option",jde,u(m.__("Inactive")),1)],512),[[Me,c.status]]),r.value.status?(_(),y("p",Ode,u(r.value.status[0]),1)):j("",!0)])])]),o("div",Ide,[o("h3",Lde,u(m.__("Address")),1),o("div",Fde,[o("div",Nde,[o("label",zde,u(m.__("Address")),1),z(o("textarea",{"onUpdate:modelValue":p[8]||(p[8]=g=>c.address=g),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Street address")},null,8,Bde),[[te,c.address]])]),o("div",null,[o("label",Ude,u(m.__("Country")),1),z(o("select",{"onUpdate:modelValue":p[9]||(p[9]=g=>c.country=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",Vde,u(m.__("Select Country")),1),(_(),y(de,null,ye(a,g=>o("option",{key:g,value:g},u(g),9,Hde)),64))],512),[[Me,c.country]])]),o("div",null,[o("label",Wde,u(m.__("City")),1),d.value.length>0?z((_(),y("select",{key:0,"onUpdate:modelValue":p[10]||(p[10]=g=>c.city=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",qde,u(m.__("Select City")),1),(_(!0),y(de,null,ye(d.value,g=>(_(),y("option",{key:g,value:g},u(g),9,Kde))),128))],512)),[[Me,c.city]]):z((_(),y("input",{key:1,"onUpdate:modelValue":p[11]||(p[11]=g=>c.city=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.country?m.__("Enter city name"):m.__("Select country first")},null,8,Yde)),[[te,c.city]])])])]),o("div",Gde,[o("label",Xde,u(m.__("Notes")),1),z(o("textarea",{"onUpdate:modelValue":p[12]||(p[12]=g=>c.notes=g),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Additional notes about this client")},null,8,Jde),[[te,c.notes]])])]),o("div",Qde,[S(Ie,{variant:"secondary",onClick:p[13]||(p[13]=g=>m.$emit("close"))},{default:K(()=>[Q(u(m.__("Cancel")),1)]),_:1}),S(Ie,{disabled:i.value,onClick:f},{default:K(()=>[Q(u(s.modelValue?m.__("Update Client"):m.__("Create Client")),1)]),_:1},8,["disabled"])])]))}},ece={key:0,class:"mt-8 flex justify-center"},tce={key:1},sce={class:"mb-6"},nce={class:"text-2xl font-bold text-gray-900"},oce={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},ice={class:"overflow-hidden rounded-lg bg-white shadow"},rce={class:"p-5"},ace={class:"flex items-center"},lce={class:"flex-shrink-0"},dce={class:"ml-5 w-0 flex-1"},cce={class:"truncate text-sm font-medium text-gray-500"},uce={class:"text-lg font-semibold text-gray-900"},fce={class:"overflow-hidden rounded-lg bg-white shadow"},hce={class:"p-5"},mce={class:"flex items-center"},pce={class:"flex-shrink-0"},gce={class:"ml-5 w-0 flex-1"},_ce={class:"truncate text-sm font-medium text-gray-500"},vce={class:"text-lg font-semibold text-gray-900"},yce={class:"overflow-hidden rounded-lg bg-white shadow"},bce={class:"p-5"},xce={class:"flex items-center"},wce={class:"flex-shrink-0"},kce={class:"ml-5 w-0 flex-1"},$ce={class:"truncate text-sm font-medium text-gray-500"},Cce={class:"text-lg font-semibold text-gray-900"},Sce={class:"overflow-hidden rounded-lg bg-white shadow"},Mce={class:"p-5"},Tce={class:"flex items-center"},Ace={class:"flex-shrink-0"},Dce={class:"ml-5 w-0 flex-1"},Ece={class:"truncate text-sm font-medium text-gray-500"},Pce={class:"text-lg font-semibold text-gray-900"},Rce={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},jce={class:"flex flex-1 gap-2"},Oce={class:"relative w-64 rounded-md shadow-sm"},Ice={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Lce=["placeholder"],Fce={value:""},Nce={value:"active"},zce={value:"inactive"},Bce={value:"prospect"},Uce={class:"flex gap-2"},Vce={class:"flex flex-col"},Hce={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Wce={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},qce={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Kce={class:"min-w-full divide-y divide-gray-200"},Yce={class:"divide-y divide-gray-200 bg-white"},Gce={key:0,class:"hover:bg-gray-50"},Xce={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},Jce={class:"whitespace-nowrap px-6 py-4"},Qce={class:"flex items-center"},Zce={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},eue={class:"text-sm font-medium text-indigo-600"},tue={class:"ml-4"},sue={class:"text-sm font-medium text-gray-900"},nue={key:0,class:"text-sm text-gray-500"},oue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},iue={key:0},rue={key:1,class:"text-xs text-gray-400"},aue={key:2},lue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},due={key:0},cue={key:1,class:"text-xs text-gray-400"},uue={key:2},fue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},hue={key:0},mue={key:1},pue={class:"whitespace-nowrap px-6 py-4 text-sm"},gue={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},_ue={class:"flex items-center justify-end gap-2"},vue={__name:"Index",setup(s){const e=Ln(),t=I(!0),n=I(null),i=eo("clients",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=rt({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(p=null)=>{r.model=p,r.show=!0},c=p=>{e.push(`/clients/${p}`)},f=()=>{i.get(),m()},m=async()=>{try{const p=await ce.get("clients/statistics");n.value=p.data.data}catch{}};return Ye(async()=>{try{await i.get(),await m(),t.value=!1}catch{t.value=!1}}),(p,g)=>{var v,k,b;return t.value?(_(),y("div",ece,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",tce,[o("div",sce,[o("h1",nce,u(p.__("Client Management")),1)]),n.value?(_(),y("div",oce,[o("div",ice,[o("div",rce,[o("div",ace,[o("div",lce,[S(h(Bc),{class:"h-6 w-6 text-gray-400"})]),o("div",dce,[o("dl",null,[o("dt",cce,u(p.__("Total Clients")),1),o("dd",uce,u(n.value.total),1)])])])])]),o("div",fce,[o("div",hce,[o("div",mce,[o("div",pce,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",gce,[o("dl",null,[o("dt",_ce,u(p.__("Active")),1),o("dd",vce,u(n.value.active),1)])])])])]),o("div",yce,[o("div",bce,[o("div",xce,[o("div",wce,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",kce,[o("dl",null,[o("dt",$ce,u(p.__("Prospects")),1),o("dd",Cce,u(n.value.prospect),1)])])])])]),o("div",Sce,[o("div",Mce,[o("div",Tce,[o("div",Ace,[S(h($n),{class:"h-6 w-6 text-red-400"})]),o("div",Dce,[o("dl",null,[o("dt",Ece,u(p.__("Inactive")),1),o("dd",Pce,u(n.value.inactive),1)])])])])])])):j("",!0),o("div",Rce,[o("div",jce,[o("div",Oce,[o("div",Ice,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":g[0]||(g[0]=w=>h(i).params.search=w),type:"search",placeholder:p.__("Search clients..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Lce),[[te,h(i).params.search]])]),z(o("select",{"onUpdate:modelValue":g[1]||(g[1]=w=>h(i).params.status=w),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:g[2]||(g[2]=w=>h(i).get())},[o("option",Fce,u(p.__("All Statuses")),1),o("option",Nce,u(p.__("Active")),1),o("option",zce,u(p.__("Inactive")),1),o("option",Bce,u(p.__("Prospect")),1)],544),[[Me,h(i).params.status]])]),o("div",Uce,[S(Ie,{onClick:g[3]||(g[3]=w=>d())},{default:K(()=>[S(h(Sn),{class:"mr-2 h-4 w-4"}),Q(" "+u(p.__("Add Client")),1)]),_:1})])]),o("section",null,[o("div",Vce,[o("div",Hce,[o("div",Wce,[o("div",qce,[o("table",Kce,[o("thead",null,[o("tr",null,[S(Le,{name:"client",index:h(i),label:p.__("Name"),sort:"name"},null,8,["index","label"]),S(Le,{name:"client",index:h(i),label:p.__("Company"),sort:"company_name"},null,8,["index","label"]),S(Le,{name:"client",index:h(i),label:p.__("Contact")},null,8,["index","label"]),S(Le,{name:"client",index:h(i),label:p.__("Location")},null,8,["index","label"]),S(Le,{name:"client",index:h(i),label:p.__("Status"),sort:"status"},null,8,["index","label"]),g[5]||(g[5]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Yce,[(k=(v=h(i).data)==null?void 0:v.data)!=null&&k.length?j("",!0):(_(),y("tr",Gce,[o("td",Xce,u(p.__("No clients found")),1)])),(_(!0),y(de,null,ye(((b=h(i).data)==null?void 0:b.data)||[],w=>(_(),y("tr",{key:w.id,class:"hover:bg-gray-50"},[o("td",Jce,[o("div",Qce,[o("div",Zce,[o("span",eue,u(w.name.charAt(0).toUpperCase()),1)]),o("div",tue,[o("div",sue,u(w.name),1),w.email?(_(),y("div",nue,u(w.email),1)):j("",!0)])])]),o("td",oue,[w.company_name?(_(),y("div",iue,u(w.company_name),1)):j("",!0),w.business_type?(_(),y("div",rue,u(w.business_type),1)):j("",!0),w.company_name?j("",!0):(_(),y("span",aue,"-"))]),o("td",lue,[w.phone?(_(),y("div",due,u(w.phone),1)):j("",!0),w.secondary_phone?(_(),y("div",cue,u(w.secondary_phone),1)):j("",!0),w.phone?j("",!0):(_(),y("span",uue,"-"))]),o("td",fue,[w.city||w.country?(_(),y("div",hue,u([w.city,w.country].filter(Boolean).join(", ")),1)):(_(),y("span",mue,"-"))]),o("td",pue,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":w.status==="active","bg-gray-100 text-gray-800":w.status==="inactive","bg-yellow-100 text-yellow-800":w.status==="prospect"}])},u(w.status.charAt(0).toUpperCase()+w.status.slice(1)),3)]),o("td",gue,[o("div",_ue,[S(h(Fn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:x=>c(w.id)},null,8,["onClick"]),S(h(Nn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:x=>d(w)},null,8,["onClick"]),S(h(Kt),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:x=>h(i).deleteIt(w.id)},null,8,["onClick"])])])]))),128))])]),S(As,{index:h(i)},null,8,["index"])])])])])]),r.show?(_(),ie(gs,{key:1,size:"2xl",onSaved:f},{default:K(()=>[S(Zde,{"model-value":r.model,onClose:g[4]||(g[4]=w=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},yue={class:"border-b border-gray-200 px-6 py-4"},bue={class:"text-lg font-semibold text-gray-900"},xue={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},wue={class:"mb-6"},kue={class:"mb-4 text-md font-medium text-gray-900"},$ue={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Cue={class:"block text-sm font-medium text-gray-700"},Sue={key:0,class:"mt-1 text-sm text-red-600"},Mue={class:"block text-sm font-medium text-gray-700"},Tue={key:0,class:"mt-1 text-sm text-red-600"},Aue={class:"block text-sm font-medium text-gray-700"},Due={class:"block text-sm font-medium text-gray-700"},Eue={class:"mb-6 border-t border-gray-200 pt-6"},Pue={class:"mb-4 text-md font-medium text-gray-900"},Rue={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},jue={class:"block text-sm font-medium text-gray-700"},Oue={key:0,class:"mt-1 text-sm text-red-600"},Iue={class:"block text-sm font-medium text-gray-700"},Lue={key:0,class:"mt-1 text-sm text-red-600"},Fue={class:"block text-sm font-medium text-gray-700"},Nue={class:"block text-sm font-medium text-gray-700"},zue={value:"style_1"},Bue={value:"style_2"},Uue={value:"style_3"},Vue={value:"style_4"},Hue={value:"style_5"},Wue={value:"style_6"},que={value:"style_7"},Kue={value:"style_8"},Yue={class:"mb-6 border-t border-gray-200 pt-6"},Gue={class:"mb-4 flex items-center justify-between"},Xue={class:"text-md font-medium text-gray-900"},Jue={class:"overflow-hidden rounded-lg border border-gray-200"},Que={class:"min-w-full divide-y divide-gray-200"},Zue={class:"bg-gray-50"},efe={class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},tfe={class:"w-24 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},sfe={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},nfe={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},ofe={class:"divide-y divide-gray-200 bg-white"},ife={class:"px-4 py-2"},rfe=["onUpdate:modelValue","placeholder"],afe={key:0,class:"mt-1 text-xs text-red-600"},lfe={class:"px-4 py-2"},dfe=["onUpdate:modelValue","onInput"],cfe={class:"px-4 py-2"},ufe=["onUpdate:modelValue","onInput"],ffe={class:"px-4 py-2 text-sm font-medium text-gray-900"},hfe={class:"px-4 py-2"},mfe=["onClick"],pfe={key:0,class:"mt-2 text-sm text-red-600"},gfe={class:"mb-6 flex justify-end"},_fe={class:"w-80 space-y-2"},vfe={class:"flex justify-between text-sm"},yfe={class:"text-gray-600"},bfe={class:"font-medium"},xfe={class:"flex items-center justify-between text-sm"},wfe={class:"text-gray-600"},kfe={class:"flex justify-between text-sm"},$fe={class:"text-gray-600"},Cfe={class:"font-medium"},Sfe={class:"flex items-center justify-between text-sm"},Mfe={class:"text-gray-600"},Tfe={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-semibold"},Afe={class:"text-indigo-600"},Dfe={class:"border-t border-gray-200 pt-6"},Efe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Pfe={class:"block text-sm font-medium text-gray-700"},Rfe=["placeholder"],jfe={class:"block text-sm font-medium text-gray-700"},Ofe=["placeholder"],Ife={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Lfe={class:"block text-sm font-medium text-gray-700"},Ffe={value:"draft"},Nfe={value:"sent"},zfe={value:"accepted"},Bfe={value:"rejected"},Ufe={value:"expired"},Vfe={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Ib={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,i=I(!1),r=I({}),a=()=>({description:"",quantity:1,unit_price:0}),l=rt({customer_name:"",customer_email:"",customer_phone:"",customer_address:"",quotation_date:new Date().toISOString().split("T")[0],valid_until:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:"MWK",tax_rate:16.5,discount_amount:0,template:"style_1",notes:"",terms:`Payment is due within 14 days of acceptance.
Prices are valid for 30 days from quotation date.`,status:"draft",items:[a()]}),d=Pe(()=>l.items.reduce((b,w)=>b+w.quantity*w.unit_price,0)),c=Pe(()=>d.value*(l.tax_rate/100)),f=Pe(()=>d.value+c.value-l.discount_amount),m=()=>{l.items.push(a())},p=b=>{l.items.length>1&&l.items.splice(b,1)},g=b=>{const w=l.items[b];w.total=w.quantity*w.unit_price},v=b=>parseFloat(b||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),k=async()=>{var w,x,M,C;i.value=!0,r.value={};const b=t.modelValue?`quotations/${t.modelValue.id}`:"quotations";try{t.modelValue?await ce.put(b,l):await ce.post(b,l),n("saved"),n("close")}catch(O){(x=(w=O.response)==null?void 0:w.data)!=null&&x.errors?(r.value=O.response.data.errors,alert(`Validation errors:
`+Object.values(O.response.data.errors).flat().join(`
`))):(C=(M=O.response)==null?void 0:M.data)!=null&&C.error?alert(`Server error:
`+O.response.data.error+`
File: `+O.response.data.file+`
Line: `+O.response.data.line):alert("Error: "+(O.message||"Unknown error"))}finally{i.value=!1}};return Et(()=>t.modelValue,b=>{var w;b&&Object.assign(l,{customer_name:b.customer_name||"",customer_email:b.customer_email||"",customer_phone:b.customer_phone||"",customer_address:b.customer_address||"",quotation_date:b.quotation_date?b.quotation_date.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:b.valid_until?b.valid_until.split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:b.currency||"MWK",tax_rate:parseFloat(b.tax_rate)||16.5,discount_amount:parseFloat(b.discount_amount)||0,template:b.template||"style_1",notes:b.notes||"",terms:b.terms||"",status:b.status||"draft",items:(w=b.items)!=null&&w.length?b.items.map(x=>({description:x.description,quantity:x.quantity,unit_price:parseFloat(x.unit_price)})):[a()]})},{immediate:!0}),(b,w)=>(_(),y("div",null,[o("div",yue,[o("h2",bue,u(s.modelValue?b.__("Edit Quotation"):b.__("Create Quotation")),1)]),o("div",xue,[o("div",wue,[o("h3",kue,u(b.__("Customer Information")),1),o("div",$ue,[o("div",null,[o("label",Cue,[Q(u(b.__("Customer Name"))+" ",1),w[14]||(w[14]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":w[0]||(w[0]=x=>l.customer_name=x),type:"text",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_name}])},null,2),[[te,l.customer_name]]),r.value.customer_name?(_(),y("p",Sue,u(r.value.customer_name[0]),1)):j("",!0)]),o("div",null,[o("label",Mue,[Q(u(b.__("Email"))+" ",1),w[15]||(w[15]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":w[1]||(w[1]=x=>l.customer_email=x),type:"email",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_email}])},null,2),[[te,l.customer_email]]),r.value.customer_email?(_(),y("p",Tue,u(r.value.customer_email[0]),1)):j("",!0)]),o("div",null,[o("label",Aue,u(b.__("Phone")),1),z(o("input",{"onUpdate:modelValue":w[2]||(w[2]=x=>l.customer_phone=x),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,l.customer_phone]])]),o("div",null,[o("label",Due,u(b.__("Address")),1),z(o("input",{"onUpdate:modelValue":w[3]||(w[3]=x=>l.customer_address=x),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,l.customer_address]])])])]),o("div",Eue,[o("h3",Pue,u(b.__("Quotation Details")),1),o("div",Rue,[o("div",null,[o("label",jue,[Q(u(b.__("Quotation Date"))+" ",1),w[16]||(w[16]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":w[4]||(w[4]=x=>l.quotation_date=x),type:"date",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.quotation_date}])},null,2),[[te,l.quotation_date]]),r.value.quotation_date?(_(),y("p",Oue,u(r.value.quotation_date[0]),1)):j("",!0)]),o("div",null,[o("label",Iue,[Q(u(b.__("Valid Until"))+" ",1),w[17]||(w[17]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":w[5]||(w[5]=x=>l.valid_until=x),type:"date",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.valid_until}])},null,2),[[te,l.valid_until]]),r.value.valid_until?(_(),y("p",Lue,u(r.value.valid_until[0]),1)):j("",!0)]),o("div",null,[o("label",Fue,u(b.__("Currency")),1),z(o("select",{"onUpdate:modelValue":w[6]||(w[6]=x=>l.currency=x),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...w[18]||(w[18]=[_i('<option value="MWK">MWK - Malawian Kwacha</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ZAR">ZAR - South African Rand</option>',5)])],512),[[Me,l.currency]])]),o("div",null,[o("label",Nue,u(b.__("Template")),1),z(o("select",{"onUpdate:modelValue":w[7]||(w[7]=x=>l.template=x),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",zue,u(b.__("Style 1 - Classic")),1),o("option",Bue,u(b.__("Style 2 - Modern")),1),o("option",Uue,u(b.__("Style 3 - Colorful Header")),1),o("option",Vue,u(b.__("Style 4 - Bordered")),1),o("option",Hue,u(b.__("Style 5 - Info Banner")),1),o("option",Wue,u(b.__("Style 6 - Minimal")),1),o("option",que,u(b.__("Style 7 - Split Header")),1),o("option",Kue,u(b.__("Style 8 - Elegant")),1)],512),[[Me,l.template]])])])]),o("div",Yue,[o("div",Gue,[o("h3",Xue,u(b.__("Items")),1),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:m},[S(h(Sn),{class:"mr-1 h-4 w-4"}),Q(" "+u(b.__("Add Item")),1)])]),o("div",Jue,[o("table",Que,[o("thead",Zue,[o("tr",null,[o("th",efe,u(b.__("Description")),1),o("th",tfe,u(b.__("Qty")),1),o("th",sfe,u(b.__("Unit Price")),1),o("th",nfe,u(b.__("Total")),1),w[19]||(w[19]=o("th",{class:"w-16 px-4 py-3"},null,-1))])]),o("tbody",ofe,[(_(!0),y(de,null,ye(l.items,(x,M)=>(_(),y("tr",{key:M},[o("td",ife,[z(o("input",{"onUpdate:modelValue":C=>x.description=C,type:"text",placeholder:b.__("Item description *"),class:ee(["block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",r.value[`items.${M}.description`]?"border-red-300 bg-red-50":"border-gray-300"])},null,10,rfe),[[te,x.description]]),r.value[`items.${M}.description`]?(_(),y("p",afe,u(b.__("Description is required")),1)):j("",!0)]),o("td",lfe,[z(o("input",{"onUpdate:modelValue":C=>x.quantity=C,type:"number",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:C=>g(M)},null,40,dfe),[[te,x.quantity,void 0,{number:!0}]])]),o("td",cfe,[z(o("input",{"onUpdate:modelValue":C=>x.unit_price=C,type:"number",min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:C=>g(M)},null,40,ufe),[[te,x.unit_price,void 0,{number:!0}]])]),o("td",ffe,u(v(x.quantity*x.unit_price)),1),o("td",hfe,[l.items.length>1?(_(),y("button",{key:0,type:"button",class:"text-red-500 hover:text-red-700",onClick:C=>p(M)},[S(h(Kt),{class:"h-5 w-5"})],8,mfe)):j("",!0)])]))),128))])])]),r.value.items?(_(),y("p",pfe,u(r.value.items[0]),1)):j("",!0)]),o("div",gfe,[o("div",_fe,[o("div",vfe,[o("span",yfe,u(b.__("Subtotal"))+":",1),o("span",bfe,u(l.currency)+" "+u(v(d.value)),1)]),o("div",xfe,[o("span",wfe,u(b.__("Tax Rate"))+" (%):",1),z(o("input",{"onUpdate:modelValue":w[8]||(w[8]=x=>l.tax_rate=x),type:"number",min:"0",max:"100",step:"0.5",class:"w-20 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,l.tax_rate,void 0,{number:!0}]])]),o("div",kfe,[o("span",$fe,u(b.__("Tax Amount"))+":",1),o("span",Cfe,u(l.currency)+" "+u(v(c.value)),1)]),o("div",Sfe,[o("span",Mfe,u(b.__("Discount"))+":",1),z(o("input",{"onUpdate:modelValue":w[9]||(w[9]=x=>l.discount_amount=x),type:"number",min:"0",step:"0.01",class:"w-24 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,l.discount_amount,void 0,{number:!0}]])]),o("div",Tfe,[o("span",null,u(b.__("Total"))+":",1),o("span",Afe,u(l.currency)+" "+u(v(f.value)),1)])])]),o("div",Dfe,[o("div",Efe,[o("div",null,[o("label",Pfe,u(b.__("Notes")),1),z(o("textarea",{"onUpdate:modelValue":w[10]||(w[10]=x=>l.notes=x),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Additional notes for the customer")},null,8,Rfe),[[te,l.notes]])]),o("div",null,[o("label",jfe,u(b.__("Terms & Conditions")),1),z(o("textarea",{"onUpdate:modelValue":w[11]||(w[11]=x=>l.terms=x),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Terms and conditions")},null,8,Ofe),[[te,l.terms]])])])]),s.modelValue?(_(),y("div",Ife,[o("label",Lfe,u(b.__("Status")),1),z(o("select",{"onUpdate:modelValue":w[12]||(w[12]=x=>l.status=x),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",Ffe,u(b.__("Draft")),1),o("option",Nfe,u(b.__("Sent")),1),o("option",zfe,u(b.__("Accepted")),1),o("option",Bfe,u(b.__("Rejected")),1),o("option",Ufe,u(b.__("Expired")),1)],512),[[Me,l.status]])])):j("",!0)]),o("div",Vfe,[S(Ie,{variant:"secondary",onClick:w[13]||(w[13]=x=>b.$emit("close"))},{default:K(()=>[Q(u(b.__("Cancel")),1)]),_:1}),S(Ie,{disabled:i.value,onClick:k},{default:K(()=>[Q(u(s.modelValue?b.__("Update Quotation"):b.__("Create Quotation")),1)]),_:1},8,["disabled"])])]))}},Hfe={key:0,class:"mt-8 flex justify-center"},Wfe={key:1},qfe={class:"mb-6"},Kfe={class:"text-2xl font-bold text-gray-900"},Yfe={class:"mt-1 text-sm text-gray-500"},Gfe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},Xfe={class:"overflow-hidden rounded-lg bg-white shadow"},Jfe={class:"p-5"},Qfe={class:"flex items-center"},Zfe={class:"flex-shrink-0"},ehe={class:"ml-5 w-0 flex-1"},the={class:"truncate text-sm font-medium text-gray-500"},she={class:"text-lg font-semibold text-gray-900"},nhe={class:"overflow-hidden rounded-lg bg-white shadow"},ohe={class:"p-5"},ihe={class:"flex items-center"},rhe={class:"flex-shrink-0"},ahe={class:"ml-5 w-0 flex-1"},lhe={class:"truncate text-sm font-medium text-gray-500"},dhe={class:"text-lg font-semibold text-gray-900"},che={class:"overflow-hidden rounded-lg bg-white shadow"},uhe={class:"p-5"},fhe={class:"flex items-center"},hhe={class:"flex-shrink-0"},mhe={class:"ml-5 w-0 flex-1"},phe={class:"truncate text-sm font-medium text-gray-500"},ghe={class:"text-lg font-semibold text-gray-900"},_he={class:"overflow-hidden rounded-lg bg-white shadow"},vhe={class:"p-5"},yhe={class:"flex items-center"},bhe={class:"flex-shrink-0"},xhe={class:"ml-5 w-0 flex-1"},whe={class:"truncate text-sm font-medium text-gray-500"},khe={class:"text-lg font-semibold text-gray-900"},$he={class:"overflow-hidden rounded-lg bg-white shadow"},Che={class:"p-5"},She={class:"flex items-center"},Mhe={class:"flex-shrink-0"},The={class:"ml-5 w-0 flex-1"},Ahe={class:"truncate text-sm font-medium text-gray-500"},Dhe={class:"text-lg font-semibold text-gray-900"},Ehe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Phe={class:"flex flex-1 gap-2"},Rhe={class:"relative w-64 rounded-md shadow-sm"},jhe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Ohe=["placeholder"],Ihe={value:""},Lhe={value:"draft"},Fhe={value:"sent"},Nhe={value:"accepted"},zhe={value:"rejected"},Bhe={value:"expired"},Uhe={class:"flex gap-2"},Vhe={class:"flex flex-col"},Hhe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Whe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},qhe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Khe={class:"min-w-full divide-y divide-gray-200"},Yhe={class:"divide-y divide-gray-200 bg-white"},Ghe={key:0,class:"hover:bg-gray-50"},Xhe={colspan:"7",class:"px-6 py-8 text-center text-gray-500"},Jhe={class:"whitespace-nowrap px-6 py-4"},Qhe={class:"text-sm font-medium text-indigo-600"},Zhe={class:"whitespace-nowrap px-6 py-4"},eme={class:"text-sm font-medium text-gray-900"},tme={class:"text-sm text-gray-500"},sme={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},nme={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ome={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},ime={class:"whitespace-nowrap px-6 py-4 text-sm"},rme={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ame={class:"flex items-center justify-end gap-2"},lme={__name:"Index",setup(s){const e=Ln(),t=I(!0),n=I(null),i=eo("quotations",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=rt({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(x=null)=>{r.model=x,r.show=!0},c=x=>{e.push(`/quotations/${x}`)},f=async x=>{try{const M=await ce.get(`quotations/${x}/pdf`,{responseType:"blob"}),C=window.URL.createObjectURL(new Blob([M.data])),O=document.createElement("a");O.href=C,O.setAttribute("download",`quotation-${x}.pdf`),document.body.appendChild(O),O.click(),O.remove()}catch{}},m=()=>{i.get(),p()},p=async()=>{try{const x=await ce.get("quotations/statistics");n.value=x.data.data}catch{}},g=x=>x?new Date(x).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",v=x=>parseFloat(x||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),k=x=>"MWK "+v(x),b=x=>x?new Date(x)<new Date:!1,w=x=>({"bg-gray-100 text-gray-800":x==="draft","bg-blue-100 text-blue-800":x==="sent","bg-green-100 text-green-800":x==="accepted","bg-red-100 text-red-800":x==="rejected","bg-yellow-100 text-yellow-800":x==="expired"});return Ye(async()=>{try{await i.get(),await p(),t.value=!1}catch{t.value=!1}}),(x,M)=>{var C,O,N;return t.value?(_(),y("div",Hfe,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",Wfe,[o("div",qfe,[o("h1",Kfe,u(x.__("Quotations")),1),o("p",Yfe,u(x.__("Manage your quotations and proposals")),1)]),n.value?(_(),y("div",Gfe,[o("div",Xfe,[o("div",Jfe,[o("div",Qfe,[o("div",Zfe,[S(h(Fc),{class:"h-6 w-6 text-gray-400"})]),o("div",ehe,[o("dl",null,[o("dt",the,u(x.__("Total")),1),o("dd",she,u(n.value.total),1)])])])])]),o("div",nhe,[o("div",ohe,[o("div",ihe,[o("div",rhe,[S(h(Br),{class:"h-6 w-6 text-gray-400"})]),o("div",ahe,[o("dl",null,[o("dt",lhe,u(x.__("Draft")),1),o("dd",dhe,u(n.value.draft),1)])])])])]),o("div",che,[o("div",uhe,[o("div",fhe,[o("div",hhe,[S(h(Ov),{class:"h-6 w-6 text-blue-400"})]),o("div",mhe,[o("dl",null,[o("dt",phe,u(x.__("Sent")),1),o("dd",ghe,u(n.value.sent),1)])])])])]),o("div",_he,[o("div",vhe,[o("div",yhe,[o("div",bhe,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",xhe,[o("dl",null,[o("dt",whe,u(x.__("Accepted")),1),o("dd",khe,u(n.value.accepted),1)])])])])]),o("div",$he,[o("div",Che,[o("div",She,[o("div",Mhe,[S(h(Ic),{class:"h-6 w-6 text-indigo-400"})]),o("div",The,[o("dl",null,[o("dt",Ahe,u(x.__("Total Value")),1),o("dd",Dhe,u(k(n.value.total_value)),1)])])])])])])):j("",!0),o("div",Ehe,[o("div",Phe,[o("div",Rhe,[o("div",jhe,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":M[0]||(M[0]=E=>h(i).params.search=E),type:"search",placeholder:x.__("Search quotations..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Ohe),[[te,h(i).params.search]])]),z(o("select",{"onUpdate:modelValue":M[1]||(M[1]=E=>h(i).params.status=E),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[2]||(M[2]=E=>h(i).get())},[o("option",Ihe,u(x.__("All Statuses")),1),o("option",Lhe,u(x.__("Draft")),1),o("option",Fhe,u(x.__("Sent")),1),o("option",Nhe,u(x.__("Accepted")),1),o("option",zhe,u(x.__("Rejected")),1),o("option",Bhe,u(x.__("Expired")),1)],544),[[Me,h(i).params.status]])]),o("div",Uhe,[S(Ie,{onClick:M[3]||(M[3]=E=>d())},{default:K(()=>[S(h(Sn),{class:"mr-2 h-4 w-4"}),Q(" "+u(x.__("New Quotation")),1)]),_:1})])]),o("section",null,[o("div",Vhe,[o("div",Hhe,[o("div",Whe,[o("div",qhe,[o("table",Khe,[o("thead",null,[o("tr",null,[S(Le,{name:"quotation",index:h(i),label:x.__("Quotation #"),sort:"quotation_number"},null,8,["index","label"]),S(Le,{name:"quotation",index:h(i),label:x.__("Customer"),sort:"customer_name"},null,8,["index","label"]),S(Le,{name:"quotation",index:h(i),label:x.__("Date"),sort:"quotation_date"},null,8,["index","label"]),S(Le,{name:"quotation",index:h(i),label:x.__("Valid Until"),sort:"valid_until"},null,8,["index","label"]),S(Le,{name:"quotation",index:h(i),label:x.__("Amount"),sort:"total_amount"},null,8,["index","label"]),S(Le,{name:"quotation",index:h(i),label:x.__("Status"),sort:"status"},null,8,["index","label"]),M[6]||(M[6]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Yhe,[(O=(C=h(i).data)==null?void 0:C.data)!=null&&O.length?j("",!0):(_(),y("tr",Ghe,[o("td",Xhe,u(x.__("No quotations found")),1)])),(_(!0),y(de,null,ye(((N=h(i).data)==null?void 0:N.data)||[],E=>(_(),y("tr",{key:E.id,class:"hover:bg-gray-50"},[o("td",Jhe,[o("div",Qhe,u(E.quotation_number),1)]),o("td",Zhe,[o("div",eme,u(E.customer_name),1),o("div",tme,u(E.customer_email),1)]),o("td",sme,u(g(E.quotation_date)),1),o("td",nme,[o("span",{class:ee(b(E.valid_until)?"text-red-500":"")},u(g(E.valid_until)),3)]),o("td",ome,u(E.currency)+" "+u(v(E.total_amount)),1),o("td",ime,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",w(E.status)])},u(E.status.charAt(0).toUpperCase()+E.status.slice(1)),3)]),o("td",rme,[o("div",ame,[S(h(Fn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:B=>c(E.id)},null,8,["onClick"]),S(h(Lc),{class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",onClick:B=>f(E.id)},null,8,["onClick"]),S(h(Nn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:B=>d(E)},null,8,["onClick"]),S(h(Kt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:B=>h(i).deleteIt(E.id)},null,8,["onClick"])])])]))),128))])]),S(As,{index:h(i)},null,8,["index"])])])])])]),r.show?(_(),ie(gs,{key:1,size:"4xl",onClose:M[5]||(M[5]=E=>r.show=!1)},{default:K(()=>[S(Ib,{"model-value":r.model,onClose:M[4]||(M[4]=E=>r.show=!1),onSaved:m},null,8,["model-value"])]),_:1})):j("",!0)]))}}},dme={key:0,class:"mt-8 flex justify-center"},cme={key:1,class:"space-y-6"},ume={class:"flex items-center justify-between"},fme={class:"text-2xl font-bold text-gray-900"},hme={class:"mt-1 text-sm text-gray-500"},mme={class:"flex items-center gap-3"},pme={class:"flex gap-2"},gme={class:"flex gap-2"},_me={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},vme={class:"lg:col-span-2"},yme={class:"overflow-hidden rounded-lg bg-white shadow"},bme={class:"p-6"},xme={class:"mb-6 flex justify-between"},wme={class:"text-xl font-bold text-gray-900"},kme={class:"text-sm text-gray-500"},$me={class:"text-right"},Cme={key:0,class:"text-sm text-gray-500"},Sme={key:1,class:"text-sm text-gray-500"},Mme={class:"mb-6 grid grid-cols-2 gap-6 border-t border-gray-200 pt-6"},Tme={class:"mb-2 text-sm font-semibold text-gray-700"},Ame={class:"font-medium text-gray-900"},Dme={class:"text-sm text-gray-500"},Eme={key:0,class:"text-sm text-gray-500"},Pme={key:1,class:"text-sm text-gray-500"},Rme={class:"text-right"},jme={class:"mb-2"},Ome={class:"text-sm text-gray-500"},Ime={class:"ml-2 font-medium"},Lme={class:"mb-2"},Fme={class:"text-sm text-gray-500"},Nme={class:"mb-6 overflow-hidden rounded-lg border border-gray-200"},zme={class:"min-w-full divide-y divide-gray-200"},Bme={class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-white"},Ume={class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-white"},Vme={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},Hme={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},Wme={class:"divide-y divide-gray-200 bg-white"},qme={class:"px-4 py-3"},Kme={class:"font-medium text-gray-900"},Yme={key:0,class:"text-sm text-gray-500"},Gme={class:"px-4 py-3 text-center text-gray-500"},Xme={class:"px-4 py-3 text-right text-gray-500"},Jme={class:"px-4 py-3 text-right font-medium text-gray-900"},Qme={class:"flex justify-end"},Zme={class:"w-64 space-y-2"},epe={class:"flex justify-between text-sm"},tpe={class:"text-gray-500"},spe={class:"font-medium"},npe={key:0,class:"flex justify-between text-sm"},ope={class:"text-gray-500"},ipe={class:"font-medium"},rpe={key:1,class:"flex justify-between text-sm"},ape={class:"text-gray-500"},lpe={class:"font-medium text-red-500"},dpe={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-bold"},cpe={key:0,class:"mt-6 border-t border-gray-200 pt-6"},upe={key:0,class:"mb-4"},fpe={class:"mb-2 text-sm font-semibold text-gray-700"},hpe={class:"whitespace-pre-line text-sm text-gray-500"},mpe={key:1},ppe={class:"mb-2 text-sm font-semibold text-gray-700"},gpe={class:"whitespace-pre-line text-sm text-gray-500"},_pe={class:"space-y-6"},vpe={class:"overflow-hidden rounded-lg bg-white shadow"},ype={class:"border-b border-gray-200 px-4 py-3"},bpe={class:"text-sm font-semibold text-gray-900"},xpe={class:"p-4 space-y-3"},wpe={class:"flex justify-between"},kpe={class:"text-sm text-gray-500"},$pe={class:"text-sm font-medium"},Cpe={class:"flex justify-between"},Spe={class:"text-sm text-gray-500"},Mpe={class:"text-sm font-medium"},Tpe={class:"flex justify-between"},Ape={class:"text-sm text-gray-500"},Dpe={class:"text-sm font-medium"},Epe={class:"overflow-hidden rounded-lg bg-white shadow"},Ppe={class:"border-b border-gray-200 px-4 py-3"},Rpe={class:"text-sm font-semibold text-gray-900"},jpe={class:"p-4"},Ope={class:"flow-root"},Ipe={class:"-mb-4"},Lpe={class:"relative pb-4"},Fpe={class:"relative flex space-x-3"},Npe={class:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 ring-4 ring-white"},zpe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},Bpe={class:"text-sm text-gray-500"},Upe={class:"whitespace-nowrap text-right text-sm text-gray-500"},Vpe={__name:"Detail",setup(s){const e=Tc(),t=Ln(),n=I(!0),i=I(null),r=I(!1),a=Pe(()=>{var w;return(w=i.value)!=null&&w.valid_until?new Date(i.value.valid_until)<new Date:!1}),l=async()=>{try{const w=await ce.get(`quotations/${e.params.id}`);i.value=w.data.data}catch{}finally{n.value=!1}},d=async()=>{try{const w=await ce.get(`quotations/${i.value.id}/pdf`,{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([w.data])),M=document.createElement("a");M.href=x,M.setAttribute("download",`${i.value.quotation_number}.pdf`),document.body.appendChild(M),M.click(),M.remove()}catch{}},c=async w=>{try{await ce.post(`quotations/${i.value.id}/change-status`,{status:w}),i.value.status=w}catch{}},f=()=>{r.value=!0},m=()=>{r.value=!1,l()},p=w=>w?new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",g=w=>w?new Date(w).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",v=w=>parseFloat(w||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),k=w=>({"bg-gray-100 text-gray-800":w==="draft","bg-blue-100 text-blue-800":w==="sent","bg-green-100 text-green-800":w==="accepted","bg-red-100 text-red-800":w==="rejected","bg-yellow-100 text-yellow-800":w==="expired"})[w]||"bg-gray-100 text-gray-800",b=w=>({style_1:"Classic",style_2:"Modern",style_3:"Colorful Header",style_4:"Bordered",style_5:"Info Banner",style_6:"Minimal",style_7:"Split Header",style_8:"Elegant"})[w]||w;return Ye(()=>{l()}),(w,x)=>{var M;return n.value?(_(),y("div",dme,[S(St,{size:"40",color:"#5850ec"})])):i.value?(_(),y("div",cme,[o("div",ume,[o("div",null,[o("button",{class:"mb-2 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:x[0]||(x[0]=C=>h(t).push("/quotations"))},[S(h(Mv),{class:"mr-1 h-4 w-4"}),Q(" "+u(w.__("Back to Quotations")),1)]),o("h1",fme,u(i.value.quotation_number),1),o("p",hme,u(w.__("Created on"))+" "+u(p(i.value.created_at)),1)]),o("div",mme,[o("span",{class:ee(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",k(i.value.status)])},u(i.value.status.charAt(0).toUpperCase()+i.value.status.slice(1)),3),o("div",pme,[S(Ie,{variant:"secondary",onClick:d},{default:K(()=>[S(h(Lc),{class:"mr-2 h-4 w-4"}),Q(" "+u(w.__("Download PDF")),1)]),_:1}),S(Ie,{onClick:f},{default:K(()=>[S(h(Nn),{class:"mr-2 h-4 w-4"}),Q(" "+u(w.__("Edit")),1)]),_:1})])])]),o("div",gme,[i.value.status==="draft"?(_(),ie(Ie,{key:0,variant:"secondary",size:"sm",onClick:x[1]||(x[1]=C=>c("sent"))},{default:K(()=>[S(h(Ov),{class:"mr-1 h-4 w-4"}),Q(" "+u(w.__("Mark as Sent")),1)]),_:1})):j("",!0),i.value.status==="sent"?(_(),ie(Ie,{key:1,variant:"success",size:"sm",onClick:x[2]||(x[2]=C=>c("accepted"))},{default:K(()=>[S(h(e$),{class:"mr-1 h-4 w-4"}),Q(" "+u(w.__("Mark as Accepted")),1)]),_:1})):j("",!0),i.value.status==="sent"?(_(),ie(Ie,{key:2,variant:"danger",size:"sm",onClick:x[3]||(x[3]=C=>c("rejected"))},{default:K(()=>[S(h(li),{class:"mr-1 h-4 w-4"}),Q(" "+u(w.__("Mark as Rejected")),1)]),_:1})):j("",!0)]),o("div",_me,[o("div",vme,[o("div",yme,[o("div",bme,[o("div",xme,[o("div",null,[o("h2",wme,u(w.__("QUOTATION")),1),o("p",kme,"# "+u(i.value.quotation_number),1)]),o("div",$me,[o("div",{class:"text-lg font-bold",style:wt({color:i.value.color||"#2568ef"})},u(i.value.business_name||"Your Company"),5),i.value.business_address?(_(),y("p",Cme,u(i.value.business_address),1)):j("",!0),i.value.business_phone?(_(),y("p",Sme,u(i.value.business_phone),1)):j("",!0)])]),o("div",Mme,[o("div",null,[o("h3",Tme,u(w.__("Bill To")),1),o("p",Ame,u(i.value.customer_name),1),o("p",Dme,u(i.value.customer_email),1),i.value.customer_phone?(_(),y("p",Eme,u(i.value.customer_phone),1)):j("",!0),i.value.customer_address?(_(),y("p",Pme,u(i.value.customer_address),1)):j("",!0)]),o("div",Rme,[o("div",jme,[o("span",Ome,u(w.__("Date"))+":",1),o("span",Ime,u(p(i.value.quotation_date)),1)]),o("div",Lme,[o("span",Fme,u(w.__("Valid Until"))+":",1),o("span",{class:ee(["ml-2 font-medium",a.value?"text-red-500":""])},u(p(i.value.valid_until)),3)])])]),o("div",Nme,[o("table",zme,[o("thead",null,[o("tr",{style:wt({backgroundColor:i.value.color||"#2568ef"})},[o("th",Bme,u(w.__("Description")),1),o("th",Ume,u(w.__("Qty")),1),o("th",Vme,u(w.__("Price")),1),o("th",Hme,u(w.__("Total")),1)],4)]),o("tbody",Wme,[(_(!0),y(de,null,ye(i.value.items,C=>(_(),y("tr",{key:C.id},[o("td",qme,[o("div",Kme,u(C.description),1),C.details?(_(),y("div",Yme,u(C.details),1)):j("",!0)]),o("td",Gme,u(C.quantity),1),o("td",Xme,u(v(C.unit_price)),1),o("td",Jme,u(v(C.total)),1)]))),128))])])]),o("div",Qme,[o("div",Zme,[o("div",epe,[o("span",tpe,u(w.__("Subtotal"))+":",1),o("span",spe,u(i.value.currency)+" "+u(v(i.value.subtotal)),1)]),i.value.tax_rate>0?(_(),y("div",npe,[o("span",ope,u(w.__("Tax"))+" ("+u(i.value.tax_rate)+"%):",1),o("span",ipe,u(i.value.currency)+" "+u(v(i.value.tax_amount)),1)])):j("",!0),i.value.discount_amount>0?(_(),y("div",rpe,[o("span",ape,u(w.__("Discount"))+":",1),o("span",lpe,"-"+u(i.value.currency)+" "+u(v(i.value.discount_amount)),1)])):j("",!0),o("div",dpe,[o("span",null,u(w.__("Total"))+":",1),o("span",{style:wt({color:i.value.color||"#2568ef"})},u(i.value.currency)+" "+u(v(i.value.total_amount)),5)])])]),i.value.notes||i.value.terms?(_(),y("div",cpe,[i.value.notes?(_(),y("div",upe,[o("h4",fpe,u(w.__("Notes")),1),o("p",hpe,u(i.value.notes),1)])):j("",!0),i.value.terms?(_(),y("div",mpe,[o("h4",ppe,u(w.__("Terms & Conditions")),1),o("p",gpe,u(i.value.terms),1)])):j("",!0)])):j("",!0)])])]),o("div",_pe,[o("div",vpe,[o("div",ype,[o("h3",bpe,u(w.__("Quick Info")),1)]),o("div",xpe,[o("div",wpe,[o("span",kpe,u(w.__("Created By"))+":",1),o("span",$pe,u(((M=i.value.user)==null?void 0:M.name)||"-"),1)]),o("div",Cpe,[o("span",Spe,u(w.__("Template"))+":",1),o("span",Mpe,u(b(i.value.template)),1)]),o("div",Tpe,[o("span",Ape,u(w.__("Currency"))+":",1),o("span",Dpe,u(i.value.currency),1)])])]),o("div",Epe,[o("div",Ppe,[o("h3",Rpe,u(w.__("Timeline")),1)]),o("div",jpe,[o("div",Ope,[o("ul",Ipe,[o("li",Lpe,[o("div",Fpe,[o("div",null,[o("span",Npe,[S(h(Fc),{class:"h-4 w-4 text-indigo-600"})])]),o("div",zpe,[o("div",null,[o("p",Bpe,u(w.__("Quotation created")),1)]),o("div",Upe,u(g(i.value.created_at)),1)])])])])])])])])]),r.value?(_(),ie(gs,{key:0,size:"4xl",onSaved:m},{default:K(()=>[S(Ib,{"model-value":i.value,onClose:x[4]||(x[4]=C=>r.value=!1)},null,8,["model-value"])]),_:1})):j("",!0)])):j("",!0)}}},Hpe={class:"space-y-6"},Wpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},qpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Kpe={class:"mt-1 sm:col-span-2 sm:mt-0"},Ype={class:"flex gap-2"},Gpe=["placeholder"],Xpe={key:0,class:"mt-2 text-sm text-red-600"},Jpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Qpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Zpe={class:"mt-1 sm:col-span-2 sm:mt-0"},e0e={key:0,class:"mt-2 text-sm text-red-600"},t0e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},s0e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},n0e={class:"mt-1 sm:col-span-2 sm:mt-0"},o0e={class:"flex gap-2"},i0e={value:""},r0e=["value"],a0e=["placeholder"],l0e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},d0e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},c0e={class:"mt-1 sm:col-span-2 sm:mt-0"},u0e=["placeholder"],f0e={key:0,class:"mt-2 text-sm text-red-600"},h0e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},m0e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},p0e={class:"mt-1 sm:col-span-2 sm:mt-0"},g0e=["placeholder"],_0e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},v0e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},y0e={class:"mt-1 sm:col-span-2 sm:mt-0"},b0e={key:0,class:"mb-2 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-2"},x0e={class:"flex items-center"},w0e={class:"text-sm text-gray-700"},k0e={class:"space-y-1 text-center"},$0e={class:"flex text-sm text-gray-600"},C0e={for:"receipt-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},S0e={class:"pl-1"},M0e={class:"text-xs text-gray-500"},T0e={key:1,class:"mt-2 flex items-center justify-between rounded-md border border-green-200 bg-green-50 p-2"},A0e={class:"flex items-center"},D0e={class:"text-sm text-green-700"},E0e={class:"ml-2 text-xs text-green-600"},P0e={key:2,class:"mt-2 text-sm text-red-600"},R0e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=I(null),r=I(!1),a=I(!1),l=I(null),d=["Travel","Meals & Entertainment","Office Supplies","Equipment","Software & Subscriptions","Professional Services","Utilities","Marketing","Training & Education","Transportation","Accommodation","Communication","Miscellaneous"],c=qr("expenses",{amount:"",currency:"MWK",expense_date:new Date().toISOString().split("T")[0],category:"",description:"",notes:"",receipt:null}),f=()=>{a.value=!a.value,a.value||(c.category="")},m=x=>{const M=x.target.files[0];M&&g(M)},p=x=>{r.value=!1;const M=x.dataTransfer.files[0];M&&g(M)},g=x=>{if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(x.type)){alert("Please upload a PDF, JPG, JPEG, or PNG file.");return}if(x.size>5242880){alert("File size must be less than 5MB.");return}c.receipt=x,l.value=null},v=()=>{c.receipt=null,i.value&&(i.value.value="")},k=()=>{l.value=null},b=x=>x<1024?x+" B":x<1024*1024?(x/1024).toFixed(1)+" KB":(x/(1024*1024)).toFixed(1)+" MB",w=async()=>{var M,C,O;const x=new FormData;x.append("amount",c.amount),x.append("currency",c.currency),x.append("expense_date",c.expense_date),x.append("category",c.category||""),x.append("description",c.description),x.append("notes",c.notes||""),c.receipt&&x.append("receipt",c.receipt);try{c.processing=!0,c.errors={};let N;c.id?(x.append("_method","PUT"),N=await ce.post(`expenses/${c.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})):N=await ce.post("expenses",x,{headers:{"Content-Type":"multipart/form-data"}}),n("close")}catch(N){((M=N.response)==null?void 0:M.status)===422?c.errors=N.response.data.errors||{}:alert(((O=(C=N.response)==null?void 0:C.data)==null?void 0:O.message)||"Failed to save expense")}finally{c.processing=!1}};return Et(()=>t.modelValue,x=>{var M;x?(c.id=x.id,c.amount=x.amount,c.currency=x.currency||"MWK",c.expense_date=((M=x.expense_date)==null?void 0:M.split("T")[0])||"",c.category=x.category||"",c.description=x.description||"",c.notes=x.notes||"",c.receipt=null,l.value=x.receipt_name||null,x.category&&!d.includes(x.category)&&(a.value=!0)):(c.reset(),c.currency="MWK",c.expense_date=new Date().toISOString().split("T")[0],l.value=null,a.value=!1)},{immediate:!0}),(x,M)=>(_(),ie(Fo,{"external-form":h(c),onSubmit:w,onCancel:M[10]||(M[10]=C=>n("close"))},{title:K(()=>[Q(u(h(c).id?x.__("Edit Expense"):x.__("Add Expense")),1)]),default:K(()=>[o("div",Hpe,[o("div",Wpe,[o("label",qpe,[Q(u(x.__("Amount"))+" ",1),M[11]||(M[11]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Kpe,[o("div",Ype,[z(o("select",{"onUpdate:modelValue":M[0]||(M[0]=C=>h(c).currency=C),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...M[12]||(M[12]=[o("option",{value:"MWK"},"MWK",-1),o("option",{value:"USD"},"USD",-1),o("option",{value:"EUR"},"EUR",-1),o("option",{value:"GBP"},"GBP",-1),o("option",{value:"ZAR"},"ZAR",-1)])],512),[[Me,h(c).currency]]),z(o("input",{"onUpdate:modelValue":M[1]||(M[1]=C=>h(c).amount=C),type:"number",step:"0.01",min:"0",class:ee(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(c).errors.amount}]),placeholder:x.__("Enter amount"),required:""},null,10,Gpe),[[te,h(c).amount]])]),h(c).errors.amount?(_(),y("p",Xpe,u(h(c).errors.amount),1)):j("",!0)])]),o("div",Jpe,[o("label",Qpe,[Q(u(x.__("Expense Date"))+" ",1),M[13]||(M[13]=o("span",{class:"text-red-500"},"*",-1))]),o("div",Zpe,[z(o("input",{"onUpdate:modelValue":M[2]||(M[2]=C=>h(c).expense_date=C),type:"date",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(c).errors.expense_date}]),required:""},null,2),[[te,h(c).expense_date]]),h(c).errors.expense_date?(_(),y("p",e0e,u(h(c).errors.expense_date),1)):j("",!0)])]),o("div",t0e,[o("label",s0e,u(x.__("Category")),1),o("div",n0e,[o("div",o0e,[a.value?z((_(),y("input",{key:1,"onUpdate:modelValue":M[4]||(M[4]=C=>h(c).category=C),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:x.__("Enter custom category")},null,8,a0e)),[[te,h(c).category]]):z((_(),y("select",{key:0,"onUpdate:modelValue":M[3]||(M[3]=C=>h(c).category=C),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",i0e,u(x.__("Select category")),1),(_(),y(de,null,ye(d,C=>o("option",{key:C,value:C},u(C),9,r0e)),64))],512)),[[Me,h(c).category]]),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:f},u(a.value?x.__("Select"):x.__("Custom")),1)])])]),o("div",l0e,[o("label",d0e,[Q(u(x.__("Description"))+" ",1),M[14]||(M[14]=o("span",{class:"text-red-500"},"*",-1))]),o("div",c0e,[z(o("input",{"onUpdate:modelValue":M[5]||(M[5]=C=>h(c).description=C),type:"text",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(c).errors.description}]),placeholder:x.__("Brief description of the expense"),required:""},null,10,u0e),[[te,h(c).description]]),h(c).errors.description?(_(),y("p",f0e,u(h(c).errors.description),1)):j("",!0)])]),o("div",h0e,[o("label",m0e,u(x.__("Notes")),1),o("div",p0e,[z(o("textarea",{"onUpdate:modelValue":M[6]||(M[6]=C=>h(c).notes=C),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:x.__("Additional notes or details (optional)")},null,8,g0e),[[te,h(c).notes]])])]),o("div",_0e,[o("label",v0e,u(x.__("Receipt")),1),o("div",y0e,[l.value&&!h(c).receipt?(_(),y("div",b0e,[o("div",x0e,[S(h(Wd),{class:"mr-2 h-5 w-5 text-gray-400"}),o("span",w0e,u(l.value),1)]),o("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:k},u(x.__("Remove")),1)])):j("",!0),o("div",{class:ee(["flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pb-6 pt-5",{"border-indigo-500 bg-indigo-50":r.value}]),onDragenter:M[7]||(M[7]=We(C=>r.value=!0,["prevent"])),onDragleave:M[8]||(M[8]=We(C=>r.value=!1,["prevent"])),onDragover:M[9]||(M[9]=We(()=>{},["prevent"])),onDrop:We(p,["prevent"])},[o("div",k0e,[S(h(G4),{class:"mx-auto h-12 w-12 text-gray-400"}),o("div",$0e,[o("label",C0e,[o("span",null,u(x.__("Upload a file")),1),o("input",{id:"receipt-upload",ref_key:"fileInput",ref:i,type:"file",class:"sr-only",accept:".pdf,.jpg,.jpeg,.png",onChange:m},null,544)]),o("p",S0e,u(x.__("or drag and drop")),1)]),o("p",M0e,u(x.__("PDF, JPG, JPEG, PNG up to 5MB")),1)])],34),h(c).receipt?(_(),y("div",T0e,[o("div",A0e,[S(h(Wd),{class:"mr-2 h-5 w-5 text-green-600"}),o("span",D0e,u(h(c).receipt.name),1),o("span",E0e,"("+u(b(h(c).receipt.size))+")",1)]),o("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:v},u(x.__("Remove")),1)])):j("",!0),h(c).errors.receipt?(_(),y("p",P0e,u(h(c).errors.receipt),1)):j("",!0)])])])]),_:1},8,["external-form"]))}},j0e={key:0,class:"mt-8 flex justify-center"},O0e={key:1},I0e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},L0e={class:"overflow-hidden rounded-lg bg-white shadow"},F0e={class:"p-5"},N0e={class:"flex items-center"},z0e={class:"flex-shrink-0"},B0e={class:"ml-5 w-0 flex-1"},U0e={class:"truncate text-sm font-medium text-gray-500"},V0e={class:"text-lg font-semibold text-gray-900"},H0e={class:"overflow-hidden rounded-lg bg-white shadow"},W0e={class:"p-5"},q0e={class:"flex items-center"},K0e={class:"flex-shrink-0"},Y0e={class:"ml-5 w-0 flex-1"},G0e={class:"truncate text-sm font-medium text-gray-500"},X0e={class:"text-lg font-semibold text-gray-900"},J0e={class:"overflow-hidden rounded-lg bg-white shadow"},Q0e={class:"p-5"},Z0e={class:"flex items-center"},ege={class:"flex-shrink-0"},tge={class:"ml-5 w-0 flex-1"},sge={class:"truncate text-sm font-medium text-gray-500"},nge={class:"text-lg font-semibold text-gray-900"},oge={class:"overflow-hidden rounded-lg bg-white shadow"},ige={class:"p-5"},rge={class:"flex items-center"},age={class:"flex-shrink-0"},lge={class:"ml-5 w-0 flex-1"},dge={class:"truncate text-sm font-medium text-gray-500"},cge={class:"text-lg font-semibold text-gray-900"},uge={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},fge={class:"flex flex-1 flex-wrap gap-2"},hge={class:"relative w-64 rounded-md shadow-sm"},mge={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},pge=["placeholder"],gge={value:""},_ge={value:"pending"},vge={value:"approved"},yge={value:"rejected"},bge={value:""},xge=["value"],wge={class:"ltr:ml-auto rtl:mr-auto"},kge={class:"flex flex-col"},$ge={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Cge={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Sge={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Mge={class:"min-w-full divide-y divide-gray-200"},Tge={class:"divide-y divide-gray-200 bg-white"},Age={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Dge={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},Ege={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Pge={key:0,class:"inline-flex rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800"},Rge={key:1,class:"text-gray-400"},jge={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Oge={class:"whitespace-nowrap px-6 py-4 text-sm"},Ige={class:"whitespace-nowrap px-6 py-4"},Lge={class:"flex items-center"},Fge={class:"h-8 w-8 flex-shrink-0"},Nge={class:"ml-3"},zge={class:"text-sm font-medium text-gray-900"},Bge={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Uge=["href","title"],Vge={key:0},Hge={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},Wge={class:"p-6"},qge={class:"flex items-center justify-between mb-4"},Kge={class:"text-lg font-semibold text-gray-900"},Yge={key:0,class:"space-y-4"},Gge={class:"grid grid-cols-2 gap-4"},Xge={class:"block text-sm font-medium text-gray-700"},Jge={class:"mt-1 text-sm text-gray-900"},Qge={class:"block text-sm font-medium text-gray-700"},Zge={class:"mt-1 text-sm font-semibold text-gray-900"},e1e={class:"block text-sm font-medium text-gray-700"},t1e={class:"mt-1 text-sm text-gray-900"},s1e={class:"block text-sm font-medium text-gray-700"},n1e={class:"mt-1"},o1e={class:"block text-sm font-medium text-gray-700"},i1e={class:"mt-1 text-sm text-gray-900"},r1e={class:"block text-sm font-medium text-gray-700"},a1e={class:"mt-1 text-sm text-gray-900"},l1e={class:"block text-sm font-medium text-gray-700"},d1e={class:"mt-1 text-sm text-gray-900"},c1e={key:0},u1e={class:"block text-sm font-medium text-gray-700"},f1e={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},h1e={key:1},m1e={class:"block text-sm font-medium text-gray-700"},p1e=["href"],g1e={key:2},_1e={class:"block text-sm font-medium text-gray-700"},v1e={class:"mt-1 text-sm text-gray-900"},y1e={class:"text-sm text-gray-500"},b1e={class:"mt-6 flex justify-end"},x1e={class:"p-6"},w1e={class:"flex items-center justify-between mb-4"},k1e={class:"text-lg font-semibold text-gray-900"},$1e={class:"space-y-4"},C1e={class:"text-sm text-gray-700"},S1e={class:"rounded-md bg-gray-50 p-3"},M1e={class:"text-sm font-medium text-gray-900"},T1e={class:"text-sm text-gray-600"},A1e={class:"mt-6 flex justify-end space-x-3"},D1e={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I([]),i=I(null),r=I(!1),a=eo("expenses",{search:"",status:"",category:"",start_date:"",end_date:"",sort_by:"expense_date",sort_order:"desc",per_page:15}),l=rt({show:!1,model:null}),d=rt({show:!1,expense:null}),c=rt({show:!1,action:null,expense:null});let f=null;const m=()=>{clearTimeout(f),f=setTimeout(()=>{a.get()},300)},p=(B=null)=>{l.model=B,l.show=!0},g=B=>{d.expense=B,d.show=!0},v=B=>{c.expense=B,c.action="approve",c.show=!0},k=B=>{c.expense=B,c.action="reject",c.show=!0},b=async()=>{var B,L;try{const P=c.action==="approve"?"approve":"reject";await ce.post(`expenses/${c.expense.id}/${P}`),c.show=!1,a.get(),x()}catch(P){alert(((L=(B=P.response)==null?void 0:B.data)==null?void 0:L.message)||"Failed to process expense")}},w=()=>{a.get(),x(),M()},x=async()=>{try{const B=await ce.get("expenses/statistics");t.value=B.data.data}catch{}},M=async()=>{try{const B=await ce.get("expenses/categories");n.value=B.data.data}catch{}},C=B=>B?new Date(B).toLocaleDateString():"-",O=B=>B?new Date(B).toLocaleString():"-",N=B=>B?parseFloat(B).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",E=B=>B?"MWK "+N(B):"MWK 0.00";return Ye(async()=>{var B,L;i.value=(B=_t.user)==null?void 0:B.id,r.value=((L=_t.user)==null?void 0:L.is_super_admin)||!1,await Promise.all([a.get(),x(),M()]),e.value=!1}),(B,L)=>e.value?(_(),y("div",j0e,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",O0e,[t.value?(_(),y("div",I0e,[o("div",L0e,[o("div",F0e,[o("div",N0e,[o("div",z0e,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",B0e,[o("dl",null,[o("dt",U0e,u(B.__("Pending")),1),o("dd",V0e,u(t.value.pending),1)])])])])]),o("div",H0e,[o("div",W0e,[o("div",q0e,[o("div",K0e,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",Y0e,[o("dl",null,[o("dt",G0e,u(B.__("Approved")),1),o("dd",X0e,u(t.value.approved),1)])])])])]),o("div",J0e,[o("div",Q0e,[o("div",Z0e,[o("div",ege,[S(h(Wh),{class:"h-6 w-6 text-blue-400"})]),o("div",tge,[o("dl",null,[o("dt",sge,u(B.__("This Month")),1),o("dd",nge,u(E(t.value.this_month)),1)])])])])]),o("div",oge,[o("div",ige,[o("div",rge,[o("div",age,[S(h(Ic),{class:"h-6 w-6 text-purple-400"})]),o("div",lge,[o("dl",null,[o("dt",dge,u(B.__("Total Expenses")),1),o("dd",cge,u(E(t.value.total_expenses)),1)])])])])])])):j("",!0),o("div",uge,[o("div",fge,[o("div",hge,[o("div",mge,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":L[0]||(L[0]=P=>h(a).params.search=P),type:"search",placeholder:B.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,pge),[[te,h(a).params.search]])]),z(o("select",{"onUpdate:modelValue":L[1]||(L[1]=P=>h(a).params.status=P),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[2]||(L[2]=P=>h(a).get())},[o("option",gge,u(B.__("All Statuses")),1),o("option",_ge,u(B.__("Pending")),1),o("option",vge,u(B.__("Approved")),1),o("option",yge,u(B.__("Rejected")),1)],544),[[Me,h(a).params.status]]),z(o("select",{"onUpdate:modelValue":L[3]||(L[3]=P=>h(a).params.category=P),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[4]||(L[4]=P=>h(a).get())},[o("option",bge,u(B.__("All Categories")),1),(_(!0),y(de,null,ye(n.value,P=>(_(),y("option",{key:P,value:P},u(P),9,xge))),128))],544),[[Me,h(a).params.category]]),z(o("input",{"onUpdate:modelValue":L[5]||(L[5]=P=>h(a).params.start_date=P),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[6]||(L[6]=P=>h(a).get())},null,544),[[te,h(a).params.start_date]]),z(o("input",{"onUpdate:modelValue":L[7]||(L[7]=P=>h(a).params.end_date=P),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[8]||(L[8]=P=>h(a).get())},null,544),[[te,h(a).params.end_date]])]),o("div",wge,[S(Ie,{size:"sm",onClick:L[9]||(L[9]=P=>p())},{default:K(()=>[Q(u(B.__("Add Expense")),1)]),_:1})])]),o("section",null,[o("div",kge,[o("div",$ge,[o("div",Cge,[o("div",Sge,[o("table",Mge,[o("thead",null,[o("tr",null,[S(Le,{name:"expense",index:h(a),label:B.__("Date"),sort:"expense_date"},null,8,["index","label"]),S(Le,{name:"expense",index:h(a),label:B.__("Description")},null,8,["index","label"]),S(Le,{name:"expense",index:h(a),label:B.__("Category"),sort:"category"},null,8,["index","label"]),S(Le,{name:"expense",index:h(a),label:B.__("Amount"),sort:"amount"},null,8,["index","label"]),S(Le,{name:"expense",index:h(a),label:B.__("Status"),sort:"status"},null,8,["index","label"]),S(Le,{name:"expense",index:h(a),label:B.__("Submitted By")},null,8,["index","label"]),L[15]||(L[15]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Tge,[(_(!0),y(de,null,ye(h(a).data.data,P=>{var R;return _(),y("tr",{key:P.id,class:"hover:bg-gray-50"},[o("td",Age,u(C(P.expense_date)),1),o("td",Dge,u(P.description),1),o("td",Ege,[P.category?(_(),y("span",Pge,u(P.category),1)):(_(),y("span",Rge,"-"))]),o("td",jge,u(P.currency)+" "+u(N(P.amount)),1),o("td",Oge,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":P.status==="pending","bg-green-100 text-green-800":P.status==="approved","bg-red-100 text-red-800":P.status==="rejected"}])},u(P.status.charAt(0).toUpperCase()+P.status.slice(1)),3)]),o("td",Ige,[o("div",Lge,[o("div",Fge,[S(rs,{user:P.user,size:"8"},null,8,["user"])]),o("div",Nge,[o("div",zge,u((R=P.user)==null?void 0:R.name),1)])])]),o("td",Bge,[P.status==="pending"&&r.value?(_(),y(de,{key:0},[S(Ie,{size:"xs",variant:"success",onClick:A=>v(P)},{default:K(()=>[Q(u(B.__("Approve")),1)]),_:1},8,["onClick"]),S(Ie,{size:"xs",variant:"danger",class:"ml-2",onClick:A=>k(P)},{default:K(()=>[Q(u(B.__("Reject")),1)]),_:1},8,["onClick"])],64)):j("",!0),P.receipt_path?(_(),y("a",{key:1,href:`/storage/${P.receipt_path}`,target:"_blank",class:"ml-2 text-gray-400 hover:text-gray-600",title:B.__("View Receipt")},[S(h(Wd),{class:"h-5 w-5"})],8,Uge)):j("",!0),P.status==="pending"&&(P.user_id===i.value||r.value)?(_(),y(de,{key:2},[S(h(Nn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>p(P)},null,8,["onClick"]),S(h(Kt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>h(a).deleteIt(P.id)},null,8,["onClick"])],64)):j("",!0),S(h(Fn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>g(P)},null,8,["onClick"])])])}),128)),!h(a).data.data||h(a).data.data.length===0?(_(),y("tr",Vge,[o("td",Hge,u(B.__("No expenses found")),1)])):j("",!0)])]),S(As,{index:h(a)},null,8,["index"])])])])])]),l.show?(_(),ie(gs,{key:1,size:"lg",onSaved:w},{default:K(()=>[S(R0e,{"model-value":l.model,onClose:L[10]||(L[10]=P=>l.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),d.show?(_(),ie(po,{key:2,width:"max-w-2xl"},{default:K(()=>{var P,R;return[o("div",Wge,[o("div",qge,[o("h3",Kge,u(B.__("Expense Details")),1),o("button",{onClick:L[11]||(L[11]=A=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),d.expense?(_(),y("div",Yge,[o("div",Gge,[o("div",null,[o("label",Xge,u(B.__("Date")),1),o("p",Jge,u(C(d.expense.expense_date)),1)]),o("div",null,[o("label",Qge,u(B.__("Amount")),1),o("p",Zge,u(d.expense.currency)+" "+u(N(d.expense.amount)),1)]),o("div",null,[o("label",e1e,u(B.__("Category")),1),o("p",t1e,u(d.expense.category||"-"),1)]),o("div",null,[o("label",s1e,u(B.__("Status")),1),o("p",n1e,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":d.expense.status==="pending","bg-green-100 text-green-800":d.expense.status==="approved","bg-red-100 text-red-800":d.expense.status==="rejected"}])},u(d.expense.status.charAt(0).toUpperCase()+d.expense.status.slice(1)),3)])]),o("div",null,[o("label",o1e,u(B.__("Submitted By")),1),o("p",i1e,u((P=d.expense.user)==null?void 0:P.name),1)]),o("div",null,[o("label",r1e,u(B.__("Submitted On")),1),o("p",a1e,u(O(d.expense.created_at)),1)])]),o("div",null,[o("label",l1e,u(B.__("Description")),1),o("p",d1e,u(d.expense.description),1)]),d.expense.notes?(_(),y("div",c1e,[o("label",u1e,u(B.__("Notes")),1),o("p",f1e,u(d.expense.notes),1)])):j("",!0),d.expense.receipt_path?(_(),y("div",h1e,[o("label",m1e,u(B.__("Receipt")),1),o("a",{href:`/storage/${d.expense.receipt_path}`,target:"_blank",class:"mt-1 inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[S(h(Wd),{class:"mr-1 h-4 w-4"}),Q(" "+u(d.expense.receipt_name||B.__("View Receipt")),1)],8,p1e)])):j("",!0),d.expense.approver?(_(),y("div",g1e,[o("label",_1e,u(d.expense.status==="approved"?B.__("Approved By"):B.__("Rejected By")),1),o("p",v1e,u((R=d.expense.approver)==null?void 0:R.name),1),o("p",y1e,u(O(d.expense.approved_at)),1)])):j("",!0)])):j("",!0),o("div",b1e,[S(Ie,{onClick:L[12]||(L[12]=A=>d.show=!1)},{default:K(()=>[Q(u(B.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),c.show?(_(),ie(po,{key:3,width:"max-w-md"},{default:K(()=>{var P,R,A;return[o("div",x1e,[o("div",w1e,[o("h3",k1e,u(c.action==="approve"?B.__("Approve Expense"):B.__("Reject Expense")),1),o("button",{onClick:L[13]||(L[13]=F=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),o("div",$1e,[o("p",C1e,u(c.action==="approve"?B.__("Are you sure you want to approve this expense?"):B.__("Are you sure you want to reject this expense?")),1),o("div",S1e,[o("p",M1e,u((P=c.expense)==null?void 0:P.description),1),o("p",T1e,u((R=c.expense)==null?void 0:R.currency)+" "+u(N((A=c.expense)==null?void 0:A.amount)),1)])]),o("div",A1e,[S(Ie,{white:"",onClick:L[14]||(L[14]=F=>c.show=!1)},{default:K(()=>[Q(u(B.__("Cancel")),1)]),_:1}),S(Ie,{class:ee(c.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:b},{default:K(()=>[Q(u(c.action==="approve"?B.__("Approve"):B.__("Reject")),1)]),_:1},8,["class"])])])]}),_:1})):j("",!0)]))}},E1e={class:"space-y-6"},P1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},R1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},j1e={class:"mt-1 sm:col-span-2 sm:mt-0"},O1e={class:"flex gap-2"},I1e=["placeholder"],L1e={key:0,class:"mt-2 text-sm text-red-600"},F1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},N1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},z1e={class:"mt-1 sm:col-span-2 sm:mt-0"},B1e={key:0,class:"mt-2 text-sm text-red-600"},U1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},V1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},H1e={class:"mt-1 sm:col-span-2 sm:mt-0"},W1e={value:""},q1e={value:"sales"},K1e={value:"services"},Y1e={value:"consulting"},G1e={value:"adsense"},X1e={value:"quotation"},J1e={value:"other"},Q1e={key:0,class:"mt-2 text-sm text-red-600"},Z1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},e_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},t_e={class:"mt-1 sm:col-span-2 sm:mt-0"},s_e={class:"flex gap-2"},n_e={value:""},o_e=["value"],i_e=["placeholder"],r_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},a_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},l_e={class:"mt-1 sm:col-span-2 sm:mt-0"},d_e=["placeholder"],c_e={key:0,class:"mt-2 text-sm text-red-600"},u_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},f_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},h_e={class:"mt-1 sm:col-span-2 sm:mt-0"},m_e=["placeholder"],p_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},g_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},__e={class:"mt-1 sm:col-span-2 sm:mt-0"},v_e=["placeholder"],y_e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},b_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},x_e={class:"mt-1 sm:col-span-2 sm:mt-0"},w_e={value:null},k_e=["value"],$_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},C_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},S_e={class:"mt-1 sm:col-span-2 sm:mt-0"},M_e={value:"pending"},T_e={value:"received"},A_e={value:"cancelled"},D_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},E_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},P_e={class:"mt-1 sm:col-span-2 sm:mt-0"},R_e=["placeholder"],j_e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,i=I(!1),r=I([]),a=["Product Sales","Service Revenue","Consulting Fees","Advertising Revenue","Subscription Income","Commission","Rental Income","Interest Income","Royalties","Miscellaneous"],l=qr("income",{amount:"",currency:"MWK",income_date:new Date().toISOString().split("T")[0],source:"",category:"",description:"",invoice_number:"",client_name:"",quotation_id:null,status:"pending",notes:""}),d=()=>{i.value=!i.value,i.value||(l.category="")},c=p=>p?parseFloat(p).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",f=async()=>{try{const p=await ce.get("quotations",{params:{per_page:100}});r.value=p.data.data||[]}catch{}},m=async()=>{var p,g,v;try{l.processing=!0,l.errors={};const k={amount:l.amount,currency:l.currency,income_date:l.income_date,source:l.source,category:l.category||null,description:l.description,invoice_number:l.invoice_number||null,client_name:l.client_name||null,quotation_id:l.quotation_id||null,status:l.status,notes:l.notes||null};l.id?await ce.put(`income/${l.id}`,k):await ce.post("income",k),n("close")}catch(k){((p=k.response)==null?void 0:p.status)===422?l.errors=k.response.data.errors||{}:alert(((v=(g=k.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to save income")}finally{l.processing=!1}};return Et(()=>t.modelValue,p=>{var g;p?(l.id=p.id,l.amount=p.amount,l.currency=p.currency||"MWK",l.income_date=((g=p.income_date)==null?void 0:g.split("T")[0])||"",l.source=p.source||"",l.category=p.category||"",l.description=p.description||"",l.invoice_number=p.invoice_number||"",l.client_name=p.client_name||"",l.quotation_id=p.quotation_id||null,l.status=p.status||"pending",l.notes=p.notes||"",p.category&&!a.includes(p.category)&&(i.value=!0)):(l.reset(),l.currency="MWK",l.income_date=new Date().toISOString().split("T")[0],l.status="pending",i.value=!1)},{immediate:!0}),Ye(()=>{f()}),(p,g)=>(_(),ie(Fo,{"external-form":h(l),onSubmit:m,onCancel:g[12]||(g[12]=v=>n("close"))},{title:K(()=>[Q(u(h(l).id?p.__("Edit Income"):p.__("Add Income")),1)]),default:K(()=>[o("div",E1e,[o("div",P1e,[o("label",R1e,[Q(u(p.__("Amount"))+" ",1),g[13]||(g[13]=o("span",{class:"text-red-500"},"*",-1))]),o("div",j1e,[o("div",O1e,[z(o("select",{"onUpdate:modelValue":g[0]||(g[0]=v=>h(l).currency=v),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...g[14]||(g[14]=[o("option",{value:"MWK"},"MWK",-1),o("option",{value:"USD"},"USD",-1),o("option",{value:"EUR"},"EUR",-1),o("option",{value:"GBP"},"GBP",-1),o("option",{value:"ZAR"},"ZAR",-1)])],512),[[Me,h(l).currency]]),z(o("input",{"onUpdate:modelValue":g[1]||(g[1]=v=>h(l).amount=v),type:"number",step:"0.01",min:"0",class:ee(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(l).errors.amount}]),placeholder:p.__("Enter amount"),required:""},null,10,I1e),[[te,h(l).amount]])]),h(l).errors.amount?(_(),y("p",L1e,u(h(l).errors.amount),1)):j("",!0)])]),o("div",F1e,[o("label",N1e,[Q(u(p.__("Income Date"))+" ",1),g[15]||(g[15]=o("span",{class:"text-red-500"},"*",-1))]),o("div",z1e,[z(o("input",{"onUpdate:modelValue":g[2]||(g[2]=v=>h(l).income_date=v),type:"date",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(l).errors.income_date}]),required:""},null,2),[[te,h(l).income_date]]),h(l).errors.income_date?(_(),y("p",B1e,u(h(l).errors.income_date),1)):j("",!0)])]),o("div",U1e,[o("label",V1e,[Q(u(p.__("Source"))+" ",1),g[16]||(g[16]=o("span",{class:"text-red-500"},"*",-1))]),o("div",H1e,[z(o("select",{"onUpdate:modelValue":g[3]||(g[3]=v=>h(l).source=v),class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(l).errors.source}]),required:""},[o("option",W1e,u(p.__("Select source")),1),o("option",q1e,u(p.__("Sales")),1),o("option",K1e,u(p.__("Services")),1),o("option",Y1e,u(p.__("Consulting")),1),o("option",G1e,u(p.__("AdSense")),1),o("option",X1e,u(p.__("Quotation")),1),o("option",J1e,u(p.__("Other")),1)],2),[[Me,h(l).source]]),h(l).errors.source?(_(),y("p",Q1e,u(h(l).errors.source),1)):j("",!0)])]),o("div",Z1e,[o("label",e_e,u(p.__("Category")),1),o("div",t_e,[o("div",s_e,[i.value?z((_(),y("input",{key:1,"onUpdate:modelValue":g[5]||(g[5]=v=>h(l).category=v),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Enter custom category")},null,8,i_e)),[[te,h(l).category]]):z((_(),y("select",{key:0,"onUpdate:modelValue":g[4]||(g[4]=v=>h(l).category=v),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",n_e,u(p.__("Select category")),1),(_(),y(de,null,ye(a,v=>o("option",{key:v,value:v},u(v),9,o_e)),64))],512)),[[Me,h(l).category]]),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:d},u(i.value?p.__("Select"):p.__("Custom")),1)])])]),o("div",r_e,[o("label",a_e,[Q(u(p.__("Description"))+" ",1),g[17]||(g[17]=o("span",{class:"text-red-500"},"*",-1))]),o("div",l_e,[z(o("textarea",{"onUpdate:modelValue":g[6]||(g[6]=v=>h(l).description=v),rows:"3",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(l).errors.description}]),placeholder:p.__("Description of the income"),required:""},null,10,d_e),[[te,h(l).description]]),h(l).errors.description?(_(),y("p",c_e,u(h(l).errors.description),1)):j("",!0)])]),o("div",u_e,[o("label",f_e,u(p.__("Invoice Number")),1),o("div",h_e,[z(o("input",{"onUpdate:modelValue":g[7]||(g[7]=v=>h(l).invoice_number=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Invoice or reference number (optional)")},null,8,m_e),[[te,h(l).invoice_number]])])]),o("div",p_e,[o("label",g_e,u(p.__("Client Name")),1),o("div",__e,[z(o("input",{"onUpdate:modelValue":g[8]||(g[8]=v=>h(l).client_name=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Client or payer name (optional)")},null,8,v_e),[[te,h(l).client_name]])])]),r.value.length>0?(_(),y("div",y_e,[o("label",b_e,u(p.__("Related Quotation")),1),o("div",x_e,[z(o("select",{"onUpdate:modelValue":g[9]||(g[9]=v=>h(l).quotation_id=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",w_e,u(p.__("None")),1),(_(!0),y(de,null,ye(r.value,v=>{var k;return _(),y("option",{key:v.id,value:v.id},u(v.quotation_number||`#${v.id}`)+" - "+u(((k=v.client)==null?void 0:k.name)||"N/A")+" ("+u(v.currency)+" "+u(c(v.total))+") ",9,k_e)}),128))],512),[[Me,h(l).quotation_id]])])])):j("",!0),o("div",$_e,[o("label",C_e,u(p.__("Status")),1),o("div",S_e,[z(o("select",{"onUpdate:modelValue":g[10]||(g[10]=v=>h(l).status=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",M_e,u(p.__("Pending")),1),o("option",T_e,u(p.__("Received")),1),o("option",A_e,u(p.__("Cancelled")),1)],512),[[Me,h(l).status]])])]),o("div",D_e,[o("label",E_e,u(p.__("Notes")),1),o("div",P_e,[z(o("textarea",{"onUpdate:modelValue":g[11]||(g[11]=v=>h(l).notes=v),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Additional notes (optional)")},null,8,R_e),[[te,h(l).notes]])])])])]),_:1},8,["external-form"]))}},O_e={key:0,class:"mt-8 flex justify-center"},I_e={key:1},L_e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},F_e={class:"overflow-hidden rounded-lg bg-white shadow"},N_e={class:"p-5"},z_e={class:"flex items-center"},B_e={class:"flex-shrink-0"},U_e={class:"ml-5 w-0 flex-1"},V_e={class:"truncate text-sm font-medium text-gray-500"},H_e={class:"text-lg font-semibold text-gray-900"},W_e={class:"overflow-hidden rounded-lg bg-white shadow"},q_e={class:"p-5"},K_e={class:"flex items-center"},Y_e={class:"flex-shrink-0"},G_e={class:"ml-5 w-0 flex-1"},X_e={class:"truncate text-sm font-medium text-gray-500"},J_e={class:"text-lg font-semibold text-gray-900"},Q_e={class:"overflow-hidden rounded-lg bg-white shadow"},Z_e={class:"p-5"},eve={class:"flex items-center"},tve={class:"flex-shrink-0"},sve={class:"ml-5 w-0 flex-1"},nve={class:"truncate text-sm font-medium text-gray-500"},ove={class:"text-lg font-semibold text-gray-900"},ive={class:"overflow-hidden rounded-lg bg-white shadow"},rve={class:"p-5"},ave={class:"flex items-center"},lve={class:"flex-shrink-0"},dve={class:"ml-5 w-0 flex-1"},cve={class:"truncate text-sm font-medium text-gray-500"},uve={class:"text-lg font-semibold text-gray-900"},fve={class:"overflow-hidden rounded-lg bg-white shadow"},hve={class:"p-5"},mve={class:"flex items-center"},pve={class:"flex-shrink-0"},gve={class:"ml-5 w-0 flex-1"},_ve={class:"truncate text-sm font-medium text-gray-500"},vve={class:"text-lg font-semibold text-gray-900"},yve={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},bve={class:"flex flex-1 flex-wrap gap-2"},xve={class:"relative w-64 rounded-md shadow-sm"},wve={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},kve=["placeholder"],$ve={value:""},Cve={value:"pending"},Sve={value:"received"},Mve={value:"cancelled"},Tve={value:""},Ave={value:"sales"},Dve={value:"services"},Eve={value:"consulting"},Pve={value:"adsense"},Rve={value:"quotation"},jve={value:"other"},Ove={class:"ltr:ml-auto rtl:mr-auto"},Ive={class:"flex flex-col"},Lve={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Fve={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Nve={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},zve={class:"min-w-full divide-y divide-gray-200"},Bve={class:"divide-y divide-gray-200 bg-white"},Uve={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Vve={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},Hve={key:0,class:"text-xs text-gray-500"},Wve={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},qve={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Kve={class:"whitespace-nowrap px-6 py-4 text-sm"},Yve={class:"whitespace-nowrap px-6 py-4"},Gve={class:"flex items-center"},Xve={class:"h-8 w-8 flex-shrink-0"},Jve={class:"ml-3"},Qve={class:"text-sm font-medium text-gray-900"},Zve={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},eye={key:0},tye={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},sye={class:"p-6"},nye={class:"flex items-center justify-between mb-4"},oye={class:"text-lg font-semibold text-gray-900"},iye={key:0,class:"space-y-4"},rye={class:"grid grid-cols-2 gap-4"},aye={class:"block text-sm font-medium text-gray-700"},lye={class:"mt-1 text-sm text-gray-900"},dye={class:"block text-sm font-medium text-gray-700"},cye={class:"mt-1 text-sm font-semibold text-gray-900"},uye={class:"block text-sm font-medium text-gray-700"},fye={class:"mt-1"},hye={class:"block text-sm font-medium text-gray-700"},mye={class:"mt-1"},pye={class:"block text-sm font-medium text-gray-700"},gye={class:"mt-1 text-sm text-gray-900"},_ye={class:"block text-sm font-medium text-gray-700"},vye={class:"mt-1 text-sm text-gray-900"},yye={key:0},bye={class:"block text-sm font-medium text-gray-700"},xye={class:"mt-1 text-sm text-gray-900"},wye={key:1},kye={class:"block text-sm font-medium text-gray-700"},$ye={class:"mt-1 text-sm text-gray-900"},Cye={class:"block text-sm font-medium text-gray-700"},Sye={class:"mt-1 text-sm text-gray-900"},Mye={key:0},Tye={class:"block text-sm font-medium text-gray-700"},Aye={class:"mt-1 text-sm text-gray-900"},Dye={key:1},Eye={class:"block text-sm font-medium text-gray-700"},Pye={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Rye={key:2},jye={class:"block text-sm font-medium text-gray-700"},Oye={class:"mt-1 text-sm text-gray-900"},Iye={class:"text-sm text-gray-500"},Lye={key:3},Fye={class:"block text-sm font-medium text-gray-700"},Nye={class:"mt-1 text-sm text-indigo-600"},zye={class:"mt-6 flex justify-end"},Bye={class:"p-6"},Uye={class:"flex items-center justify-between mb-4"},Vye={class:"text-lg font-semibold text-gray-900"},Hye={class:"space-y-4"},Wye={class:"text-sm text-gray-700"},qye={class:"rounded-md bg-gray-50 p-3"},Kye={class:"text-sm font-medium text-gray-900"},Yye={class:"text-sm text-gray-600"},Gye={class:"mt-6 flex justify-end space-x-3"},Xye={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I(null),i=I(!1),r=eo("income",{search:"",status:"",source:"",start_date:"",end_date:"",sort_by:"income_date",sort_order:"desc",per_page:15}),a=rt({show:!1,model:null}),l=rt({show:!1,income:null}),d=rt({show:!1,income:null});let c=null;const f=()=>{clearTimeout(c),c=setTimeout(()=>{r.get()},300)},m=(E=null)=>{a.model=E,a.show=!0},p=E=>{l.income=E,l.show=!0},g=E=>{d.income=E,d.show=!0},v=async()=>{var E,B;try{await ce.post(`income/${d.income.id}/mark-as-received`),d.show=!1,r.get(),b()}catch(L){alert(((B=(E=L.response)==null?void 0:E.data)==null?void 0:B.message)||"Failed to mark income as received")}},k=()=>{r.get(),b()},b=async()=>{try{const E=await ce.get("income/statistics");t.value=E.data.data}catch{}},w=E=>E?new Date(E).toLocaleDateString():"-",x=E=>E?new Date(E).toLocaleString():"-",M=E=>E?parseFloat(E).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",C=E=>E?"MWK "+M(E):"MWK 0.00",O=E=>({sales:"Sales",services:"Services",consulting:"Consulting",adsense:"AdSense",quotation:"Quotation",other:"Other"})[E]||E,N=E=>({sales:"bg-blue-100 text-blue-800",services:"bg-green-100 text-green-800",consulting:"bg-purple-100 text-purple-800",adsense:"bg-yellow-100 text-yellow-800",quotation:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"})[E]||"bg-gray-100 text-gray-800";return Ye(async()=>{var E,B;n.value=(E=_t.user)==null?void 0:E.id,i.value=((B=_t.user)==null?void 0:B.is_super_admin)||!1,await Promise.all([r.get(),b()]),e.value=!1}),(E,B)=>e.value?(_(),y("div",O_e,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",I_e,[t.value?(_(),y("div",L_e,[o("div",F_e,[o("div",N_e,[o("div",z_e,[o("div",B_e,[S(h(Ic),{class:"h-6 w-6 text-green-400"})]),o("div",U_e,[o("dl",null,[o("dt",V_e,u(E.__("Total Income")),1),o("dd",H_e,u(C(t.value.total_income)),1)])])])])]),o("div",W_e,[o("div",q_e,[o("div",K_e,[o("div",Y_e,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",G_e,[o("dl",null,[o("dt",X_e,u(E.__("Pending")),1),o("dd",J_e,u(t.value.pending),1)])])])])]),o("div",Q_e,[o("div",Z_e,[o("div",eve,[o("div",tve,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",sve,[o("dl",null,[o("dt",nve,u(E.__("Received")),1),o("dd",ove,u(t.value.received),1)])])])])]),o("div",ive,[o("div",rve,[o("div",ave,[o("div",lve,[S(h(Wh),{class:"h-6 w-6 text-blue-400"})]),o("div",dve,[o("dl",null,[o("dt",cve,u(E.__("This Month")),1),o("dd",uve,u(C(t.value.this_month)),1)])])])])]),o("div",fve,[o("div",hve,[o("div",mve,[o("div",pve,[S(h(Y4),{class:"h-6 w-6 text-purple-400"})]),o("div",gve,[o("dl",null,[o("dt",_ve,u(E.__("Last Month")),1),o("dd",vve,u(C(t.value.last_month)),1)])])])])])])):j("",!0),o("div",yve,[o("div",bve,[o("div",xve,[o("div",wve,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":B[0]||(B[0]=L=>h(r).params.search=L),type:"search",placeholder:E.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:f},null,40,kve),[[te,h(r).params.search]])]),z(o("select",{"onUpdate:modelValue":B[1]||(B[1]=L=>h(r).params.status=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B[2]||(B[2]=L=>h(r).get())},[o("option",$ve,u(E.__("All Statuses")),1),o("option",Cve,u(E.__("Pending")),1),o("option",Sve,u(E.__("Received")),1),o("option",Mve,u(E.__("Cancelled")),1)],544),[[Me,h(r).params.status]]),z(o("select",{"onUpdate:modelValue":B[3]||(B[3]=L=>h(r).params.source=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B[4]||(B[4]=L=>h(r).get())},[o("option",Tve,u(E.__("All Sources")),1),o("option",Ave,u(E.__("Sales")),1),o("option",Dve,u(E.__("Services")),1),o("option",Eve,u(E.__("Consulting")),1),o("option",Pve,u(E.__("AdSense")),1),o("option",Rve,u(E.__("Quotation")),1),o("option",jve,u(E.__("Other")),1)],544),[[Me,h(r).params.source]]),z(o("input",{"onUpdate:modelValue":B[5]||(B[5]=L=>h(r).params.start_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B[6]||(B[6]=L=>h(r).get())},null,544),[[te,h(r).params.start_date]]),z(o("input",{"onUpdate:modelValue":B[7]||(B[7]=L=>h(r).params.end_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:B[8]||(B[8]=L=>h(r).get())},null,544),[[te,h(r).params.end_date]])]),o("div",Ove,[S(Ie,{size:"sm",onClick:B[9]||(B[9]=L=>m())},{default:K(()=>[Q(u(E.__("Add Income")),1)]),_:1})])]),o("section",null,[o("div",Ive,[o("div",Lve,[o("div",Fve,[o("div",Nve,[o("table",zve,[o("thead",null,[o("tr",null,[S(Le,{name:"income",index:h(r),label:E.__("Date"),sort:"income_date"},null,8,["index","label"]),S(Le,{name:"income",index:h(r),label:E.__("Description")},null,8,["index","label"]),S(Le,{name:"income",index:h(r),label:E.__("Source"),sort:"source"},null,8,["index","label"]),S(Le,{name:"income",index:h(r),label:E.__("Amount"),sort:"amount"},null,8,["index","label"]),S(Le,{name:"income",index:h(r),label:E.__("Status"),sort:"status"},null,8,["index","label"]),S(Le,{name:"income",index:h(r),label:E.__("Created By")},null,8,["index","label"]),B[15]||(B[15]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",Bve,[(_(!0),y(de,null,ye(h(r).data.data,L=>{var P;return _(),y("tr",{key:L.id,class:"hover:bg-gray-50"},[o("td",Uve,u(w(L.income_date)),1),o("td",Vve,[o("div",null,u(L.description),1),L.client_name?(_(),y("div",Hve,u(L.client_name),1)):j("",!0)]),o("td",Wve,[o("span",{class:ee(["inline-flex rounded-full px-2 py-1 text-xs font-medium",N(L.source)])},u(O(L.source)),3)]),o("td",qve,u(L.currency)+" "+u(M(L.amount)),1),o("td",Kve,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":L.status==="pending","bg-green-100 text-green-800":L.status==="received","bg-red-100 text-red-800":L.status==="cancelled"}])},u(L.status.charAt(0).toUpperCase()+L.status.slice(1)),3)]),o("td",Yve,[o("div",Gve,[o("div",Xve,[S(rs,{user:L.user,size:"8"},null,8,["user"])]),o("div",Jve,[o("div",Qve,u((P=L.user)==null?void 0:P.name),1)])])]),o("td",Zve,[L.status==="pending"&&i.value?(_(),ie(Ie,{key:0,size:"xs",variant:"success",onClick:R=>g(L)},{default:K(()=>[Q(u(E.__("Mark Received")),1)]),_:1},8,["onClick"])):j("",!0),L.status==="pending"&&(L.user_id===n.value||i.value)?(_(),y(de,{key:1},[S(h(Nn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>m(L)},null,8,["onClick"]),S(h(Kt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>h(r).deleteIt(L.id)},null,8,["onClick"])],64)):j("",!0),S(h(Fn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:R=>p(L)},null,8,["onClick"])])])}),128)),!h(r).data.data||h(r).data.data.length===0?(_(),y("tr",eye,[o("td",tye,u(E.__("No income records found")),1)])):j("",!0)])]),S(As,{index:h(r)},null,8,["index"])])])])])]),a.show?(_(),ie(gs,{key:1,size:"lg",onSaved:k},{default:K(()=>[S(j_e,{"model-value":a.model,onClose:B[10]||(B[10]=L=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(_(),ie(po,{key:2,width:"max-w-2xl"},{default:K(()=>{var L,P;return[o("div",sye,[o("div",nye,[o("h3",oye,u(E.__("Income Details")),1),o("button",{onClick:B[11]||(B[11]=R=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),l.income?(_(),y("div",iye,[o("div",rye,[o("div",null,[o("label",aye,u(E.__("Date")),1),o("p",lye,u(w(l.income.income_date)),1)]),o("div",null,[o("label",dye,u(E.__("Amount")),1),o("p",cye,u(l.income.currency)+" "+u(M(l.income.amount)),1)]),o("div",null,[o("label",uye,u(E.__("Source")),1),o("p",fye,[o("span",{class:ee(["inline-flex rounded-full px-2 py-1 text-xs font-medium",N(l.income.source)])},u(O(l.income.source)),3)])]),o("div",null,[o("label",hye,u(E.__("Status")),1),o("p",mye,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.income.status==="pending","bg-green-100 text-green-800":l.income.status==="received","bg-red-100 text-red-800":l.income.status==="cancelled"}])},u(l.income.status.charAt(0).toUpperCase()+l.income.status.slice(1)),3)])]),o("div",null,[o("label",pye,u(E.__("Created By")),1),o("p",gye,u((L=l.income.user)==null?void 0:L.name),1)]),o("div",null,[o("label",_ye,u(E.__("Created On")),1),o("p",vye,u(x(l.income.created_at)),1)]),l.income.invoice_number?(_(),y("div",yye,[o("label",bye,u(E.__("Invoice Number")),1),o("p",xye,u(l.income.invoice_number),1)])):j("",!0),l.income.client_name?(_(),y("div",wye,[o("label",kye,u(E.__("Client")),1),o("p",$ye,u(l.income.client_name),1)])):j("",!0)]),o("div",null,[o("label",Cye,u(E.__("Description")),1),o("p",Sye,u(l.income.description),1)]),l.income.category?(_(),y("div",Mye,[o("label",Tye,u(E.__("Category")),1),o("p",Aye,u(l.income.category),1)])):j("",!0),l.income.notes?(_(),y("div",Dye,[o("label",Eye,u(E.__("Notes")),1),o("p",Pye,u(l.income.notes),1)])):j("",!0),l.income.receiver?(_(),y("div",Rye,[o("label",jye,u(E.__("Received By")),1),o("p",Oye,u((P=l.income.receiver)==null?void 0:P.name),1),o("p",Iye,u(x(l.income.received_at)),1)])):j("",!0),l.income.quotation?(_(),y("div",Lye,[o("label",Fye,u(E.__("Related Quotation")),1),o("p",Nye,u(l.income.quotation.quotation_number||`#${l.income.quotation.id}`),1)])):j("",!0)])):j("",!0),o("div",zye,[S(Ie,{onClick:B[12]||(B[12]=R=>l.show=!1)},{default:K(()=>[Q(u(E.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),d.show?(_(),ie(po,{key:3,width:"max-w-md"},{default:K(()=>{var L,P,R;return[o("div",Bye,[o("div",Uye,[o("h3",Vye,u(E.__("Mark as Received")),1),o("button",{onClick:B[13]||(B[13]=A=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),o("div",Hye,[o("p",Wye,u(E.__("Are you sure you want to mark this income as received?")),1),o("div",qye,[o("p",Kye,u((L=d.income)==null?void 0:L.description),1),o("p",Yye,u((P=d.income)==null?void 0:P.currency)+" "+u(M((R=d.income)==null?void 0:R.amount)),1)])]),o("div",Gye,[S(Ie,{white:"",onClick:B[14]||(B[14]=A=>d.show=!1)},{default:K(()=>[Q(u(E.__("Cancel")),1)]),_:1}),S(Ie,{onClick:v},{default:K(()=>[Q(u(E.__("Mark Received")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},Jye={key:0,class:"mt-8 flex justify-center"},Qye={key:1},Zye={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},ebe={class:"overflow-hidden rounded-lg bg-white shadow"},tbe={class:"p-5"},sbe={class:"flex items-center"},nbe={class:"flex-shrink-0"},obe={class:"ml-5 w-0 flex-1"},ibe={class:"truncate text-sm font-medium text-gray-500"},rbe={class:"text-lg font-semibold text-gray-900"},abe={class:"overflow-hidden rounded-lg bg-white shadow"},lbe={class:"p-5"},dbe={class:"flex items-center"},cbe={class:"flex-shrink-0"},ube={class:"ml-5 w-0 flex-1"},fbe={class:"truncate text-sm font-medium text-gray-500"},hbe={class:"text-lg font-semibold text-gray-900"},mbe={class:"overflow-hidden rounded-lg bg-white shadow"},pbe={class:"p-5"},gbe={class:"flex items-center"},_be={class:"flex-shrink-0"},vbe={class:"ml-5 w-0 flex-1"},ybe={class:"truncate text-sm font-medium text-gray-500"},bbe={class:"text-lg font-semibold text-gray-900"},xbe={class:"overflow-hidden rounded-lg bg-white shadow"},wbe={class:"p-5"},kbe={class:"flex items-center"},$be={class:"flex-shrink-0"},Cbe={class:"ml-5 w-0 flex-1"},Sbe={class:"truncate text-sm font-medium text-gray-500"},Mbe={class:"text-lg font-semibold text-gray-900"},Tbe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Abe={class:"flex flex-1 flex-wrap gap-2"},Dbe={class:"relative w-64 rounded-md shadow-sm"},Ebe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Pbe=["placeholder"],Rbe={value:""},jbe={value:"created"},Obe={value:"updated"},Ibe={value:"deleted"},Lbe={value:""},Fbe=["value"],Nbe={value:""},zbe=["value"],Bbe={class:"flex flex-col"},Ube={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Vbe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Hbe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Wbe={class:"min-w-full divide-y divide-gray-200"},qbe={class:"divide-y divide-gray-200 bg-white"},Kbe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Ybe={class:"whitespace-nowrap px-6 py-4"},Gbe={key:0,class:"flex items-center"},Xbe={class:"h-8 w-8 flex-shrink-0"},Jbe={class:"ml-3"},Qbe={class:"text-sm font-medium text-gray-900"},Zbe={key:1,class:"text-sm text-gray-400"},exe={class:"whitespace-nowrap px-6 py-4 text-sm"},txe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},sxe={class:"inline-flex rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700"},nxe={class:"ml-1 text-gray-400"},oxe={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},ixe={key:0,class:"text-green-600"},rxe={key:1,class:"text-red-600"},axe={key:2},lxe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},dxe={key:0},cxe={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},uxe={class:"p-6"},fxe={class:"flex items-center justify-between mb-4"},hxe={class:"text-lg font-semibold text-gray-900"},mxe={key:0,class:"space-y-4"},pxe={class:"grid grid-cols-2 gap-4 border-b pb-4"},gxe={class:"block text-sm font-medium text-gray-700"},_xe={class:"mt-1 text-sm text-gray-900"},vxe={class:"block text-sm font-medium text-gray-700"},yxe={class:"mt-1 text-sm text-gray-900"},bxe={class:"block text-sm font-medium text-gray-700"},xxe={class:"mt-1"},wxe={class:"block text-sm font-medium text-gray-700"},kxe={class:"mt-1 text-sm text-gray-900"},$xe={key:0},Cxe={class:"block text-sm font-medium text-gray-700"},Sxe={class:"mt-1 text-sm text-gray-900"},Mxe={key:1},Txe={class:"block text-sm font-medium text-gray-700"},Axe=["title"],Dxe={key:0,class:"space-y-4"},Exe={class:"text-sm font-semibold text-gray-700"},Pxe={class:"grid grid-cols-2 gap-4"},Rxe={class:"block text-sm font-medium text-red-600 mb-2"},jxe={class:"bg-red-50 rounded-md p-3 max-h-64 overflow-auto"},Oxe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Ixe={class:"block text-sm font-medium text-green-600 mb-2"},Lxe={class:"bg-green-50 rounded-md p-3 max-h-64 overflow-auto"},Fxe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Nxe={key:1,class:"space-y-2"},zxe={class:"text-sm font-semibold text-gray-700"},Bxe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Uxe={class:"mt-6 flex justify-end"},Vxe={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I([]),i=I([]),r=eo("audit-trails",{search:"",event:"",model_type:"",user_id:"",start_date:"",end_date:"",sort_by:"created_at",sort_order:"desc",per_page:20}),a=rt({show:!1,audit:null});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},c=x=>{a.audit=x,a.show=!0},f=x=>({created:"bg-green-100 text-green-800",updated:"bg-blue-100 text-blue-800",deleted:"bg-red-100 text-red-800",restored:"bg-yellow-100 text-yellow-800"})[x]||"bg-gray-100 text-gray-800",m=x=>{if(!x)return"Unknown";const M=x.split("\\");return M[M.length-1]},p=(x,M)=>{if(!x)return"-";const C=Object.keys(x);return C.length===0?"-":M==="created"?`Created with ${C.length} field(s)`:M==="deleted"?"Deleted record":C.length<=2?C.join(", ")+" changed":`${C.length} field(s) changed`},g=x=>x?new Date(x).toLocaleString():"-",v=x=>{if(!x)return"-";try{return JSON.stringify(x,null,2)}catch{return String(x)}},k=async()=>{try{const x=await ce.get("audit-trails/statistics");t.value=x.data}catch{}},b=async()=>{try{const x=await ce.get("audit-trails/model-types");n.value=x.data}catch{}},w=async()=>{try{const x=await ce.get("users");i.value=x.data.data||x.data}catch{}};return Ye(async()=>{await Promise.all([r.get(),k(),b(),w()]),e.value=!1}),(x,M)=>e.value?(_(),y("div",Jye,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",Qye,[t.value?(_(),y("div",Zye,[o("div",ebe,[o("div",tbe,[o("div",sbe,[o("div",nbe,[S(h(Pv),{class:"h-6 w-6 text-blue-400"})]),o("div",obe,[o("dl",null,[o("dt",ibe,u(x.__("Total Activities")),1),o("dd",rbe,u(t.value.total),1)])])])])]),o("div",abe,[o("div",lbe,[o("div",dbe,[o("div",cbe,[S(h(dn),{class:"h-6 w-6 text-green-400"})]),o("div",ube,[o("dl",null,[o("dt",fbe,u(x.__("Today")),1),o("dd",hbe,u(t.value.today),1)])])])])]),o("div",mbe,[o("div",pbe,[o("div",gbe,[o("div",_be,[S(h(Av),{class:"h-6 w-6 text-yellow-400"})]),o("div",vbe,[o("dl",null,[o("dt",ybe,u(x.__("This Week")),1),o("dd",bbe,u(t.value.this_week),1)])])])])]),o("div",xbe,[o("div",wbe,[o("div",kbe,[o("div",$be,[S(h(Oc),{class:"h-6 w-6 text-purple-400"})]),o("div",Cbe,[o("dl",null,[o("dt",Sbe,u(x.__("This Month")),1),o("dd",Mbe,u(t.value.this_month),1)])])])])])])):j("",!0),o("div",Tbe,[o("div",Abe,[o("div",Dbe,[o("div",Ebe,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":M[0]||(M[0]=C=>h(r).params.search=C),type:"search",placeholder:x.__("Search changes..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,Pbe),[[te,h(r).params.search]])]),z(o("select",{"onUpdate:modelValue":M[1]||(M[1]=C=>h(r).params.event=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[2]||(M[2]=C=>h(r).get())},[o("option",Rbe,u(x.__("All Events")),1),o("option",jbe,u(x.__("Created")),1),o("option",Obe,u(x.__("Updated")),1),o("option",Ibe,u(x.__("Deleted")),1)],544),[[Me,h(r).params.event]]),z(o("select",{"onUpdate:modelValue":M[3]||(M[3]=C=>h(r).params.model_type=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[4]||(M[4]=C=>h(r).get())},[o("option",Lbe,u(x.__("All Models")),1),(_(!0),y(de,null,ye(n.value,C=>(_(),y("option",{key:C.value,value:C.label},u(C.label),9,Fbe))),128))],544),[[Me,h(r).params.model_type]]),z(o("select",{"onUpdate:modelValue":M[5]||(M[5]=C=>h(r).params.user_id=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[6]||(M[6]=C=>h(r).get())},[o("option",Nbe,u(x.__("All Users")),1),(_(!0),y(de,null,ye(i.value,C=>(_(),y("option",{key:C.id,value:C.id},u(C.name),9,zbe))),128))],544),[[Me,h(r).params.user_id]]),z(o("input",{"onUpdate:modelValue":M[7]||(M[7]=C=>h(r).params.start_date=C),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[8]||(M[8]=C=>h(r).get())},null,544),[[te,h(r).params.start_date]]),z(o("input",{"onUpdate:modelValue":M[9]||(M[9]=C=>h(r).params.end_date=C),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[10]||(M[10]=C=>h(r).get())},null,544),[[te,h(r).params.end_date]])])]),o("section",null,[o("div",Bbe,[o("div",Ube,[o("div",Vbe,[o("div",Hbe,[o("table",Wbe,[o("thead",null,[o("tr",null,[S(Le,{name:"audit",index:h(r),label:x.__("Date/Time"),sort:"created_at"},null,8,["index","label"]),S(Le,{name:"audit",index:h(r),label:x.__("User")},null,8,["index","label"]),S(Le,{name:"audit",index:h(r),label:x.__("Event"),sort:"event"},null,8,["index","label"]),S(Le,{name:"audit",index:h(r),label:x.__("Model")},null,8,["index","label"]),S(Le,{name:"audit",index:h(r),label:x.__("Changes")},null,8,["index","label"]),M[13]||(M[13]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",qbe,[(_(!0),y(de,null,ye(h(r).data.data,C=>(_(),y("tr",{key:C.id,class:"hover:bg-gray-50"},[o("td",Kbe,u(g(C.created_at)),1),o("td",Ybe,[C.user?(_(),y("div",Gbe,[o("div",Xbe,[S(rs,{user:C.user,size:"8"},null,8,["user"])]),o("div",Jbe,[o("div",Qbe,u(C.user.name),1)])])):(_(),y("span",Zbe,"System"))]),o("td",exe,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",f(C.event)])},u(C.event.charAt(0).toUpperCase()+C.event.slice(1)),3)]),o("td",txe,[o("span",sxe,u(m(C.auditable_type)),1),o("span",nxe,"#"+u(C.auditable_id),1)]),o("td",oxe,[C.event==="created"?(_(),y("div",ixe,u(p(C.new_values,"created")),1)):C.event==="deleted"?(_(),y("div",rxe,u(p(C.old_values,"deleted")),1)):(_(),y("div",axe,u(p(C.new_values,"updated")),1))]),o("td",lxe,[S(h(Fn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>c(C)},null,8,["onClick"])])]))),128)),!h(r).data.data||h(r).data.data.length===0?(_(),y("tr",dxe,[o("td",cxe,u(x.__("No audit trail records found")),1)])):j("",!0)])]),S(As,{index:h(r)},null,8,["index"])])])])])]),a.show?(_(),ie(po,{key:1,width:"max-w-3xl"},{default:K(()=>{var C;return[o("div",uxe,[o("div",fxe,[o("h3",hxe,u(x.__("Audit Trail Details")),1),o("button",{onClick:M[11]||(M[11]=O=>a.show=!1),class:"text-gray-400 hover:text-gray-600"},[S(h($n),{class:"h-6 w-6"})])]),a.audit?(_(),y("div",mxe,[o("div",pxe,[o("div",null,[o("label",gxe,u(x.__("Date/Time")),1),o("p",_xe,u(g(a.audit.created_at)),1)]),o("div",null,[o("label",vxe,u(x.__("User")),1),o("p",yxe,u(((C=a.audit.user)==null?void 0:C.name)||"System"),1)]),o("div",null,[o("label",bxe,u(x.__("Event")),1),o("p",xxe,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",f(a.audit.event)])},u(a.audit.event.charAt(0).toUpperCase()+a.audit.event.slice(1)),3)])]),o("div",null,[o("label",wxe,u(x.__("Model")),1),o("p",kxe,u(m(a.audit.auditable_type))+" #"+u(a.audit.auditable_id),1)]),a.audit.ip_address?(_(),y("div",$xe,[o("label",Cxe,u(x.__("IP Address")),1),o("p",Sxe,u(a.audit.ip_address),1)])):j("",!0),a.audit.url?(_(),y("div",Mxe,[o("label",Txe,u(x.__("URL")),1),o("p",{class:"mt-1 text-sm text-gray-900 truncate",title:a.audit.url},u(a.audit.url),9,Axe)])):j("",!0)]),a.audit.event==="updated"?(_(),y("div",Dxe,[o("h4",Exe,u(x.__("Changes")),1),o("div",Pxe,[o("div",null,[o("label",Rxe,u(x.__("Old Values")),1),o("div",jxe,[o("pre",Oxe,u(v(a.audit.old_values)),1)])]),o("div",null,[o("label",Ixe,u(x.__("New Values")),1),o("div",Lxe,[o("pre",Fxe,u(v(a.audit.new_values)),1)])])])])):(_(),y("div",Nxe,[o("h4",zxe,u(a.audit.event==="created"?x.__("Created Values"):x.__("Deleted Values")),1),o("div",{class:ee(["rounded-md p-3 max-h-64 overflow-auto",a.audit.event==="created"?"bg-green-50":"bg-red-50"])},[o("pre",Bxe,u(v(a.audit.event==="created"?a.audit.new_values:a.audit.old_values)),1)],2)]))])):j("",!0),o("div",Uxe,[S(Ie,{onClick:M[12]||(M[12]=O=>a.show=!1)},{default:K(()=>[Q(u(x.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},Hxe={class:"space-y-6"},Wxe={class:"flex items-center justify-between"},qxe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Kxe={class:"bg-white rounded-lg shadow p-4"},Yxe={class:"mt-1 text-2xl font-semibold text-gray-900"},Gxe={class:"bg-white rounded-lg shadow p-4"},Xxe={class:"mt-1 text-2xl font-semibold text-green-600"},Jxe={class:"bg-white rounded-lg shadow p-4"},Qxe={class:"mt-1 text-2xl font-semibold text-yellow-600"},Zxe={class:"bg-white rounded-lg shadow p-4"},e2e={class:"mt-1 text-2xl font-semibold text-red-600"},t2e={class:"bg-white rounded-lg shadow p-4"},s2e={class:"flex flex-wrap gap-4"},n2e={class:"flex-1 min-w-64"},o2e={class:"relative"},i2e={class:"bg-white rounded-lg shadow overflow-visible"},r2e={class:"min-w-full divide-y divide-gray-200"},a2e={class:"bg-white divide-y divide-gray-200"},l2e={key:0},d2e={key:1},c2e=["onClick"],u2e={class:"px-6 py-4"},f2e={class:"font-medium text-gray-900"},h2e={class:"text-sm text-gray-500"},m2e={class:"text-sm text-gray-500"},p2e={class:"px-6 py-4"},g2e={class:"text-gray-900"},_2e={class:"text-sm text-gray-500"},v2e={class:"px-6 py-4 text-sm text-gray-500"},y2e={class:"w-full max-w-xs"},b2e={class:"flex justify-between text-xs text-gray-600 mb-1"},x2e={class:"w-full bg-gray-200 rounded-full h-2"},w2e={class:"text-xs text-gray-500 mt-1"},k2e={key:0,class:"mt-1 text-xs text-green-600"},$2e={key:1,class:"mt-1 text-xs text-yellow-600"},C2e={class:"py-1"},S2e=["onClick"],M2e=["onClick"],T2e=["onClick"],A2e=["onClick"],D2e=["onClick"],E2e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},P2e={class:"text-sm text-gray-500"},R2e={class:"flex space-x-2"},j2e=["onClick"],O2e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},I2e={class:"flex items-center justify-center min-h-screen px-4"},L2e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},F2e={class:"text-lg font-semibold text-gray-900 mb-4"},N2e={class:"mb-6"},z2e={class:"flex items-center justify-between"},B2e={class:"flex-1 h-1 mx-4 bg-gray-200"},U2e={class:"space-y-4"},V2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W2e={class:"block text-sm font-medium text-gray-700"},q2e=["required"],K2e={class:"space-y-4"},Y2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G2e={class:"grid grid-cols-2 gap-4"},X2e={key:0},J2e={class:"grid grid-cols-2 gap-4"},Q2e={key:1,class:"bg-gray-50 rounded-lg p-4 space-y-4"},Z2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ewe={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-4"},twe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},swe={class:"md:col-span-2"},nwe={class:"flex justify-between pt-6 border-t mt-6"},owe={class:"flex space-x-3"},iwe={key:1,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},rwe=_e({__name:"Index",setup(s){const e=Ln(),t=I([]),n=I({total:0,active:0,pending:0,suspended:0}),i=I(!0),r=I(""),a=I(""),l=I({current_page:1,last_page:1,per_page:15,total:0}),d=I(!1),c=I(!1),f=I(null),m=I(1),p=I({name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""}),g=async(P=1)=>{i.value=!0;try{const R=new URLSearchParams;R.append("page",P.toString()),r.value&&R.append("search",r.value),a.value&&R.append("status",a.value);const A=await Qe.get(`/api/service-providers?${R}`);t.value=A.data.data,l.value={current_page:A.data.current_page,last_page:A.data.last_page,per_page:A.data.per_page,total:A.data.total}}catch{}finally{i.value=!1}},v=async()=>{try{const P=await Qe.get("/api/service-providers/statistics");n.value=P.data}catch{}},k=async()=>{try{await Qe.post("/api/service-providers",p.value),d.value=!1,N(),await g(),await v()}catch{}},b=async()=>{if(f.value)try{const P={...p.value};P.password||delete P.password,await Qe.put(`/api/service-providers/${f.value.id}`,P),c.value=!1,N(),await g()}catch{}},w=async P=>{try{await Qe.post(`/api/service-providers/${P.id}/activate`),await g(),await v()}catch{}},x=async P=>{try{await Qe.post(`/api/service-providers/${P.id}/suspend`),await g(),await v()}catch{}},M=async P=>{if(confirm("Are you sure you want to delete this service provider?"))try{await Qe.delete(`/api/service-providers/${P.id}`),await g(),await v()}catch{}},C=P=>{e.push(`/service-providers/${P.id}`)},O=P=>{var R,A,F;f.value=P,p.value={name:P.name,email:P.email,phone:P.phone||"",national_id:P.national_id||"",address:P.address||"",specialty:P.specialty||"",qualification:P.qualification||"",bio:P.bio||"",hourly_rate:((R=P.hourly_rate)==null?void 0:R.toString())||"",total_agreed_amount:((A=P.total_agreed_amount)==null?void 0:A.toString())||"700000",payment_preference:P.payment_preference||"monthly",monthly_amount:((F=P.monthly_amount)==null?void 0:F.toString())||"",payment_method:P.payment_method||"bank",bank_name:P.bank_name||"",bank_account_number:P.bank_account_number||"",bank_account_name:P.bank_account_name||"",bank_branch:P.bank_branch||"",mobile_money_provider:P.mobile_money_provider||"",mobile_money_number:P.mobile_money_number||"",mobile_money_name:P.mobile_money_name||"",password:""},m.value=1,c.value=!0},N=()=>{p.value={name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""},f.value=null,m.value=1},E=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=P=>new Intl.NumberFormat("en-MW",{style:"decimal"}).format(P||0),L=P=>P.total_agreed_amount?Math.round(P.total_paid/P.total_agreed_amount*100):0;return Ye(()=>{g(),v()}),(P,R)=>(_(),y("div",Hxe,[o("div",Wxe,[R[39]||(R[39]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900"},"Service Providers (Teachers)"),o("p",{class:"mt-1 text-sm text-gray-500"},"Manage teachers and content providers")],-1)),o("button",{onClick:R[0]||(R[0]=A=>d.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(h(Sn),{class:"w-5 h-5 mr-2"}),R[38]||(R[38]=Q(" Add Teacher ",-1))])]),o("div",qxe,[o("div",Kxe,[R[40]||(R[40]=o("div",{class:"text-sm font-medium text-gray-500"},"Total Teachers",-1)),o("div",Yxe,u(n.value.total),1)]),o("div",Gxe,[R[41]||(R[41]=o("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),o("div",Xxe,u(n.value.active),1)]),o("div",Jxe,[R[42]||(R[42]=o("div",{class:"text-sm font-medium text-gray-500"},"Pending Approval",-1)),o("div",Qxe,u(n.value.pending),1)]),o("div",Zxe,[R[43]||(R[43]=o("div",{class:"text-sm font-medium text-gray-500"},"Suspended",-1)),o("div",e2e,u(n.value.suspended),1)])]),o("div",t2e,[o("div",s2e,[o("div",n2e,[o("div",o2e,[S(h(Vs),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(o("input",{"onUpdate:modelValue":R[1]||(R[1]=A=>r.value=A),onInput:R[2]||(R[2]=A=>g(1)),type:"text",placeholder:"Search by name, email, phone or ID...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[te,r.value]])])]),z(o("select",{"onUpdate:modelValue":R[3]||(R[3]=A=>a.value=A),onChange:R[4]||(R[4]=A=>g(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...R[44]||(R[44]=[o("option",{value:""},"All Statuses",-1),o("option",{value:"active"},"Active",-1),o("option",{value:"pending"},"Pending",-1),o("option",{value:"suspended"},"Suspended",-1)])],544),[[Me,a.value]])])]),o("div",i2e,[o("table",r2e,[R[48]||(R[48]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sessions"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payment Progress"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),o("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),o("tbody",a2e,[i.value?(_(),y("tr",l2e,[...R[45]||(R[45]=[o("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):t.value.length===0?(_(),y("tr",d2e,[...R[46]||(R[46]=[o("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"No teachers found",-1)])])):j("",!0),(_(!0),y(de,null,ye(t.value,A=>(_(),y("tr",{key:A.id,class:"hover:bg-gray-50 cursor-pointer",onClick:F=>C(A)},[o("td",u2e,[o("div",f2e,u(A.name),1),o("div",h2e,u(A.email),1),o("div",m2e,u(A.phone),1)]),o("td",p2e,[o("div",g2e,u(A.specialty||"-"),1),o("div",_2e,u(A.qualification||"-"),1)]),o("td",v2e,[o("div",null,u(A.recording_sessions_count||0)+" recordings",1),o("div",null,u(A.lesson_plans_count||0)+" lesson plans",1)]),o("td",{class:"px-6 py-4",onClick:R[5]||(R[5]=We(()=>{},["stop"]))},[o("div",y2e,[o("div",b2e,[o("span",null,"MK "+u(B(A.total_paid||0)),1),o("span",null,"MK "+u(B(A.total_agreed_amount||7e5)),1)]),o("div",x2e,[o("div",{class:"bg-indigo-600 h-2 rounded-full transition-all",style:wt({width:L(A)+"%"})},null,4)]),o("div",w2e,u(L(A))+"% paid | Balance: MK "+u(B(A.balance_remaining||A.total_agreed_amount||7e5)),1)])]),o("td",{class:"px-6 py-4",onClick:R[6]||(R[6]=We(()=>{},["stop"]))},[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(A.status)])},u(A.status),3),A.agreement_signed?(_(),y("div",k2e,"Agreement Signed")):(_(),y("div",$2e,"Agreement Pending"))]),o("td",{class:"px-6 py-4 text-right",onClick:R[7]||(R[7]=We(()=>{},["stop"]))},[S(h(Ec),{as:"div",class:"relative inline-block text-left"},{default:K(()=>[S(h(Pc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:K(()=>[S(h(Nc),{class:"w-5 h-5"})]),_:1}),S(h(Rc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},{default:K(()=>[o("div",C2e,[S(h(on),null,{default:K(({active:F})=>[o("button",{onClick:be=>C(A),class:ee([F?"bg-gray-100":"","flex items-center w-full text-left px-4 py-2 text-sm text-gray-700"])},[S(h(Fn),{class:"w-4 h-4 mr-2"}),R[47]||(R[47]=Q(" View Details ",-1))],10,S2e)]),_:2},1024),S(h(on),null,{default:K(({active:F})=>[o("button",{onClick:be=>O(A),class:ee([F?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit ",10,M2e)]),_:2},1024),A.status!=="active"?(_(),ie(h(on),{key:0},{default:K(({active:F})=>[o("button",{onClick:be=>w(A),class:ee([F?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])}," Activate ",10,T2e)]),_:2},1024)):j("",!0),A.status==="active"?(_(),ie(h(on),{key:1},{default:K(({active:F})=>[o("button",{onClick:be=>x(A),class:ee([F?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-yellow-700"])}," Suspend ",10,A2e)]),_:2},1024)):j("",!0),S(h(on),null,{default:K(({active:F})=>[o("button",{onClick:be=>M(A),class:ee([F?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,D2e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])],8,c2e))),128))])]),l.value.last_page>1?(_(),y("div",E2e,[o("div",P2e," Showing "+u((l.value.current_page-1)*l.value.per_page+1)+" to "+u(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+u(l.value.total),1),o("div",R2e,[(_(!0),y(de,null,ye(l.value.last_page,A=>(_(),y("button",{key:A,onClick:F=>g(A),class:ee(["px-3 py-1 rounded",A===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(A),11,j2e))),128))])])):j("",!0)]),d.value||c.value?(_(),y("div",O2e,[o("div",I2e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:R[8]||(R[8]=A=>{d.value=!1,c.value=!1,N()})}),o("div",L2e,[o("h2",F2e,u(c.value?"Edit Teacher":"Add Teacher"),1),o("div",N2e,[o("div",z2e,[o("button",{onClick:R[9]||(R[9]=A=>m.value=1),class:ee(["flex items-center",m.value>=1?"text-indigo-600":"text-gray-400"])},[o("span",{class:ee(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",m.value>=1?"bg-indigo-600 text-white":"bg-gray-200"])},"1",2),R[49]||(R[49]=o("span",{class:"hidden sm:inline"},"Personal Info",-1))],2),o("div",B2e,[o("div",{class:ee(["h-1 transition-all",m.value>=2?"bg-indigo-600":"bg-gray-200"]),style:wt({width:m.value>=2?"100%":"0%"})},null,6)]),o("button",{onClick:R[10]||(R[10]=A=>m.value=2),class:ee(["flex items-center",m.value>=2?"text-indigo-600":"text-gray-400"])},[o("span",{class:ee(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",m.value>=2?"bg-indigo-600 text-white":"bg-gray-200"])},"2",2),R[50]||(R[50]=o("span",{class:"hidden sm:inline"},"Payment Details",-1))],2)])]),o("form",{onSubmit:R[37]||(R[37]=We(A=>c.value?b():k(),["prevent"]))},[z(o("div",U2e,[o("div",V2e,[o("div",null,[R[51]||(R[51]=o("label",{class:"block text-sm font-medium text-gray-700"},"Full Name *",-1)),z(o("input",{"onUpdate:modelValue":R[11]||(R[11]=A=>p.value.name=A),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.name]])]),o("div",null,[R[52]||(R[52]=o("label",{class:"block text-sm font-medium text-gray-700"},"Email *",-1)),z(o("input",{"onUpdate:modelValue":R[12]||(R[12]=A=>p.value.email=A),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.email]])]),o("div",null,[R[53]||(R[53]=o("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),z(o("input",{"onUpdate:modelValue":R[13]||(R[13]=A=>p.value.phone=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.phone]])]),o("div",null,[R[54]||(R[54]=o("label",{class:"block text-sm font-medium text-gray-700"},"National ID",-1)),z(o("input",{"onUpdate:modelValue":R[14]||(R[14]=A=>p.value.national_id=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.national_id]])])]),o("div",null,[R[55]||(R[55]=o("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(o("input",{"onUpdate:modelValue":R[15]||(R[15]=A=>p.value.address=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.address]])]),o("div",H2e,[o("div",null,[R[56]||(R[56]=o("label",{class:"block text-sm font-medium text-gray-700"},"Subject/Specialty",-1)),z(o("input",{"onUpdate:modelValue":R[16]||(R[16]=A=>p.value.specialty=A),type:"text",placeholder:"e.g., Mathematics, English",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.specialty]])]),o("div",null,[R[57]||(R[57]=o("label",{class:"block text-sm font-medium text-gray-700"},"Qualification",-1)),z(o("input",{"onUpdate:modelValue":R[17]||(R[17]=A=>p.value.qualification=A),type:"text",placeholder:"e.g., Bachelor's Degree",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.qualification]])])]),o("div",null,[R[58]||(R[58]=o("label",{class:"block text-sm font-medium text-gray-700"},"Bio/About",-1)),z(o("textarea",{"onUpdate:modelValue":R[18]||(R[18]=A=>p.value.bio=A),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Brief description about the teacher..."},null,512),[[te,p.value.bio]])]),o("div",null,[o("label",W2e,u(c.value?"New Password (leave blank to keep current)":"Password *"),1),z(o("input",{"onUpdate:modelValue":R[19]||(R[19]=A=>p.value.password=A),type:"password",required:!c.value,class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,8,q2e),[[te,p.value.password]])])],512),[[zt,m.value===1]]),z(o("div",K2e,[R[84]||(R[84]=o("div",{class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},[o("h3",{class:"font-medium text-indigo-800 mb-2"},"Contract Payment Details"),o("p",{class:"text-sm text-indigo-600"},"Configure the payment terms for this teacher's contract.")],-1)),o("div",Y2e,[o("div",null,[R[59]||(R[59]=o("label",{class:"block text-sm font-medium text-gray-700"},"Total Agreed Amount (MK) *",-1)),z(o("input",{"onUpdate:modelValue":R[20]||(R[20]=A=>p.value.total_agreed_amount=A),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.total_agreed_amount]]),R[60]||(R[60]=o("p",{class:"text-xs text-gray-500 mt-1"},"Default: MK 700,000",-1))]),o("div",null,[R[61]||(R[61]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hourly Rate (MK)",-1)),z(o("input",{"onUpdate:modelValue":R[21]||(R[21]=A=>p.value.hourly_rate=A),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.hourly_rate]])])]),o("div",null,[R[66]||(R[66]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Preference *",-1)),o("div",G2e,[o("label",{class:ee(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="monthly"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(o("input",{type:"radio","onUpdate:modelValue":R[22]||(R[22]=A=>p.value.payment_preference=A),value:"monthly",class:"sr-only"},null,512),[[Pn,p.value.payment_preference]]),R[62]||(R[62]=o("div",{class:"font-medium"},"Monthly Payments",-1)),R[63]||(R[63]=o("div",{class:"text-sm text-gray-500"},"Paid each month during contract",-1))],2),o("label",{class:ee(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="lump_sum"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(o("input",{type:"radio","onUpdate:modelValue":R[23]||(R[23]=A=>p.value.payment_preference=A),value:"lump_sum",class:"sr-only"},null,512),[[Pn,p.value.payment_preference]]),R[64]||(R[64]=o("div",{class:"font-medium"},"Lump Sum",-1)),R[65]||(R[65]=o("div",{class:"text-sm text-gray-500"},"Full payment after completion",-1))],2)])]),p.value.payment_preference==="monthly"?(_(),y("div",X2e,[R[67]||(R[67]=o("label",{class:"block text-sm font-medium text-gray-700"},"Monthly Payment Amount (MK)",-1)),z(o("input",{"onUpdate:modelValue":R[24]||(R[24]=A=>p.value.monthly_amount=A),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 100000"},null,512),[[te,p.value.monthly_amount]])])):j("",!0),o("div",null,[R[72]||(R[72]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Method *",-1)),o("div",J2e,[o("label",{class:ee(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="bank"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(o("input",{type:"radio","onUpdate:modelValue":R[25]||(R[25]=A=>p.value.payment_method=A),value:"bank",class:"sr-only"},null,512),[[Pn,p.value.payment_method]]),R[68]||(R[68]=o("div",{class:"font-medium"},"Bank Transfer",-1)),R[69]||(R[69]=o("div",{class:"text-sm text-gray-500"},"Direct bank deposit",-1))],2),o("label",{class:ee(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="mobile_money"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(o("input",{type:"radio","onUpdate:modelValue":R[26]||(R[26]=A=>p.value.payment_method=A),value:"mobile_money",class:"sr-only"},null,512),[[Pn,p.value.payment_method]]),R[70]||(R[70]=o("div",{class:"font-medium"},"Mobile Money",-1)),R[71]||(R[71]=o("div",{class:"text-sm text-gray-500"},"Airtel Money / TNM Mpamba",-1))],2)])]),p.value.payment_method==="bank"?(_(),y("div",Q2e,[R[78]||(R[78]=o("h4",{class:"font-medium text-gray-900"},"Bank Account Details",-1)),o("div",Z2e,[o("div",null,[R[74]||(R[74]=o("label",{class:"block text-sm font-medium text-gray-700"},"Bank Name",-1)),z(o("select",{"onUpdate:modelValue":R[27]||(R[27]=A=>p.value.bank_name=A),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...R[73]||(R[73]=[_i('<option value="">Select Bank</option><option value="National Bank of Malawi">National Bank of Malawi</option><option value="Standard Bank">Standard Bank</option><option value="FDH Bank">FDH Bank</option><option value="NBS Bank">NBS Bank</option><option value="Ecobank">Ecobank</option><option value="First Capital Bank">First Capital Bank</option><option value="CDH Bank">CDH Bank</option><option value="MyBucks">MyBucks</option>',9)])],512),[[Me,p.value.bank_name]])]),o("div",null,[R[75]||(R[75]=o("label",{class:"block text-sm font-medium text-gray-700"},"Branch",-1)),z(o("input",{"onUpdate:modelValue":R[28]||(R[28]=A=>p.value.bank_branch=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.bank_branch]])]),o("div",null,[R[76]||(R[76]=o("label",{class:"block text-sm font-medium text-gray-700"},"Account Name",-1)),z(o("input",{"onUpdate:modelValue":R[29]||(R[29]=A=>p.value.bank_account_name=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.bank_account_name]])]),o("div",null,[R[77]||(R[77]=o("label",{class:"block text-sm font-medium text-gray-700"},"Account Number",-1)),z(o("input",{"onUpdate:modelValue":R[30]||(R[30]=A=>p.value.bank_account_number=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.bank_account_number]])])])])):j("",!0),p.value.payment_method==="mobile_money"?(_(),y("div",ewe,[R[83]||(R[83]=o("h4",{class:"font-medium text-gray-900"},"Mobile Money Details",-1)),o("div",twe,[o("div",null,[R[80]||(R[80]=o("label",{class:"block text-sm font-medium text-gray-700"},"Provider",-1)),z(o("select",{"onUpdate:modelValue":R[31]||(R[31]=A=>p.value.mobile_money_provider=A),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...R[79]||(R[79]=[o("option",{value:""},"Select Provider",-1),o("option",{value:"Airtel Money"},"Airtel Money",-1),o("option",{value:"TNM Mpamba"},"TNM Mpamba",-1)])],512),[[Me,p.value.mobile_money_provider]])]),o("div",null,[R[81]||(R[81]=o("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),z(o("input",{"onUpdate:modelValue":R[32]||(R[32]=A=>p.value.mobile_money_number=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0999123456"},null,512),[[te,p.value.mobile_money_number]])]),o("div",swe,[R[82]||(R[82]=o("label",{class:"block text-sm font-medium text-gray-700"},"Registered Name",-1)),z(o("input",{"onUpdate:modelValue":R[33]||(R[33]=A=>p.value.mobile_money_name=A),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[te,p.value.mobile_money_name]])])])])):j("",!0)],512),[[zt,m.value===2]]),o("div",nwe,[o("div",null,[m.value>1?(_(),y("button",{key:0,type:"button",onClick:R[34]||(R[34]=A=>m.value--),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Back ")):j("",!0)]),o("div",owe,[o("button",{type:"button",onClick:R[35]||(R[35]=A=>{d.value=!1,c.value=!1,N()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Cancel "),m.value<2?(_(),y("button",{key:0,type:"button",onClick:R[36]||(R[36]=A=>m.value++),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Next ")):(_(),y("button",iwe,u(c.value?"Update":"Create")+" Teacher ",1))])])],32)])])])):j("",!0)]))}}),awe={class:"space-y-6"},lwe={class:"flex items-center justify-between"},dwe={class:"flex items-center space-x-4"},cwe={key:0},uwe={class:"text-2xl font-semibold text-gray-900"},fwe={class:"text-sm text-gray-500"},hwe={key:0,class:"flex space-x-3"},mwe=["disabled"],pwe={key:0,class:"text-center py-12 text-gray-500"},gwe={key:1},_we={class:"bg-white rounded-lg shadow p-6"},vwe={class:"flex items-center justify-between mb-4"},ywe={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},bwe={class:"text-2xl font-bold text-gray-900"},xwe={class:"text-2xl font-bold text-green-600"},wwe={class:"text-2xl font-bold text-red-600"},kwe={class:"flex items-center space-x-3"},$we={class:"flex-1 bg-gray-200 rounded-full h-3"},Cwe={class:"text-lg font-bold text-gray-900"},Swe={class:"border-b border-gray-200"},Mwe={class:"flex space-x-8"},Twe=["onClick"],Awe={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dwe={class:"bg-white rounded-lg shadow p-6"},Ewe={class:"space-y-3"},Pwe={class:"flex justify-between"},Rwe={class:"text-gray-900 font-medium"},jwe={class:"flex justify-between"},Owe={class:"text-gray-900"},Iwe={class:"flex justify-between"},Lwe={class:"text-gray-900"},Fwe={class:"flex justify-between"},Nwe={class:"text-gray-900"},zwe={class:"flex justify-between"},Bwe={class:"text-gray-900"},Uwe={class:"flex justify-between"},Vwe={class:"text-gray-900"},Hwe={class:"flex justify-between"},Wwe={class:"text-gray-900"},qwe={class:"bg-white rounded-lg shadow p-6"},Kwe={class:"space-y-3"},Ywe={class:"flex justify-between"},Gwe={class:"text-gray-900 capitalize"},Xwe={class:"flex justify-between"},Jwe={class:"text-gray-900"},Qwe={class:"flex justify-between"},Zwe={class:"text-gray-900 capitalize"},e5e={class:"flex justify-between"},t5e={class:"text-gray-900"},s5e={class:"flex justify-between"},n5e={class:"text-gray-900"},o5e={class:"flex justify-between"},i5e={class:"text-gray-900"},r5e={class:"flex justify-between"},a5e={class:"text-gray-900"},l5e={class:"flex justify-between"},d5e={class:"text-gray-900"},c5e={class:"flex justify-between"},u5e={class:"text-gray-900"},f5e={class:"flex justify-between"},h5e={class:"text-gray-900"},m5e={class:"bg-white rounded-lg shadow p-6"},p5e={class:"flex items-center space-x-3"},g5e={class:"text-gray-900"},_5e={key:0,class:"mt-2 text-sm text-gray-500"},v5e={key:0,class:"bg-white rounded-lg shadow p-6"},y5e={class:"space-y-3"},b5e={class:"flex justify-between"},x5e={class:"text-gray-900 font-medium"},w5e={class:"flex justify-between"},k5e={class:"text-gray-900"},$5e={class:"flex justify-between"},C5e={class:"text-green-600"},S5e={class:"flex justify-between"},M5e={class:"text-yellow-600"},T5e={class:"flex justify-between"},A5e={class:"text-green-600"},D5e={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},E5e={class:"min-w-full divide-y divide-gray-200"},P5e={class:"bg-white divide-y divide-gray-200"},R5e={key:0},j5e={class:"px-6 py-4 text-sm font-medium text-gray-900"},O5e={class:"px-6 py-4 text-sm text-gray-500"},I5e={class:"px-6 py-4 text-sm text-gray-500"},L5e={class:"px-6 py-4 text-sm font-medium text-gray-900"},F5e={class:"px-6 py-4 text-sm text-gray-500 capitalize"},N5e={class:"px-6 py-4"},z5e={class:"px-6 py-4 text-right"},B5e=["onClick"],U5e={key:2,class:"text-gray-500 text-center py-8"},V5e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},H5e={class:"flex items-center justify-center min-h-screen px-4"},W5e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},q5e={class:"text-lg font-semibold text-gray-900 mb-4"},K5e={class:"grid grid-cols-2 gap-4"},Y5e={class:"grid grid-cols-2 gap-4"},G5e={class:"grid grid-cols-2 gap-4"},X5e={class:"flex justify-end space-x-3 pt-4"},J5e=_e({__name:"Detail",setup(s){const e=Tc(),t=Ln(),n=I(null),i=I([]),r=I(null),a=I(!0),l=I("overview"),d=I(!1);I(!1);const c=I({amount:"",payment_method:"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}),f=async()=>{a.value=!0;try{const N=await Qe.get(`/api/service-providers/${e.params.id}`);n.value=N.data.data,r.value=N.data.stats}catch{}finally{a.value=!1}},m=async()=>{try{const N=await Qe.get(`/api/service-providers/${e.params.id}/payments`);i.value=N.data.data}catch{}},p=async()=>{var N;try{await Qe.post("/api/payments",{...c.value,service_provider_id:(N=n.value)==null?void 0:N.id}),d.value=!1,x(),await f(),await m()}catch{}},g=async N=>{window.open(`/api/payments/${N.id}/receipt`,"_blank")},v=()=>{var N;window.open(`/api/service-providers/${(N=n.value)==null?void 0:N.id}/download-agreement`,"_blank")},k=async()=>{var N;try{await Qe.post(`/api/service-providers/${(N=n.value)==null?void 0:N.id}/sign-agreement`),await f()}catch{}},b=I(!1),w=async()=>{var N,E;if(confirm(`Are you sure you want to impersonate ${(N=n.value)==null?void 0:N.name}? You will be logged in as this service provider.`)){b.value=!0;try{const B=await Qe.post(`/api/service-providers/${(E=n.value)==null?void 0:E.id}/impersonate`);B.data.success&&(window.location.href=B.data.redirect_url)}catch{alert("Failed to impersonate service provider")}finally{b.value=!1}}},x=()=>{var N,E,B;c.value={amount:((E=(N=n.value)==null?void 0:N.monthly_amount)==null?void 0:E.toString())||"",payment_method:((B=n.value)==null?void 0:B.payment_method)||"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}},M=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=N=>"MK "+new Intl.NumberFormat().format(N),O=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return Ye(()=>{f(),m()}),(N,E)=>{var B,L,P;return _(),y("div",awe,[o("div",lwe,[o("div",dwe,[o("button",{onClick:E[0]||(E[0]=R=>h(t).push("/service-providers")),class:"p-2 hover:bg-gray-100 rounded-lg"},[S(h(Mv),{class:"w-5 h-5 text-gray-500"})]),n.value?(_(),y("div",cwe,[o("h1",uwe,u(n.value.name),1),o("p",fwe,u(n.value.email)+" | "+u(n.value.phone),1)])):j("",!0)]),n.value?(_(),y("div",hwe,[o("button",{onClick:w,disabled:b.value,class:"inline-flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50"},[S(h(Fn),{class:"w-5 h-5 mr-2"}),Q(" "+u(b.value?"Switching...":"View as Provider"),1)],8,mwe),o("button",{onClick:v,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"},[S(h(Lc),{class:"w-5 h-5 mr-2"}),E[11]||(E[11]=Q(" Download Agreement ",-1))]),n.value.agreement_signed?j("",!0):(_(),y("button",{key:0,onClick:k,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[S(h(ys),{class:"w-5 h-5 mr-2"}),E[12]||(E[12]=Q(" Mark Agreement Signed ",-1))])),o("button",{onClick:E[1]||(E[1]=R=>{d.value=!0,x()}),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(h(Sn),{class:"w-5 h-5 mr-2"}),E[13]||(E[13]=Q(" Record Payment ",-1))])])):j("",!0)]),a.value?(_(),y("div",pwe,"Loading...")):n.value?(_(),y("div",gwe,[o("div",_we,[o("div",vwe,[E[14]||(E[14]=o("h2",{class:"text-lg font-semibold text-gray-900"},"Payment Progress",-1)),o("span",{class:ee(["px-3 py-1 rounded-full text-sm font-medium",M(n.value.status)])},u(n.value.status),3)]),o("div",ywe,[o("div",null,[E[15]||(E[15]=o("div",{class:"text-sm text-gray-500"},"Total Agreed",-1)),o("div",bwe,u(C(n.value.total_agreed_amount)),1)]),o("div",null,[E[16]||(E[16]=o("div",{class:"text-sm text-gray-500"},"Total Paid",-1)),o("div",xwe,u(C(n.value.total_paid)),1)]),o("div",null,[E[17]||(E[17]=o("div",{class:"text-sm text-gray-500"},"Balance Remaining",-1)),o("div",wwe,u(C(n.value.balance_remaining)),1)]),o("div",null,[E[18]||(E[18]=o("div",{class:"text-sm text-gray-500"},"Progress",-1)),o("div",kwe,[o("div",$we,[o("div",{class:"bg-indigo-600 h-3 rounded-full transition-all",style:wt({width:`${n.value.payment_progress_percent}%`})},null,4)]),o("span",Cwe,u(n.value.payment_progress_percent)+"%",1)])])])]),o("div",Swe,[o("nav",Mwe,[(_(),y(de,null,ye(["overview","payments","sessions"],R=>o("button",{key:R,onClick:A=>l.value=R,class:ee(["py-4 px-1 border-b-2 font-medium text-sm capitalize",l.value===R?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},u(R),11,Twe)),64))])]),l.value==="overview"?(_(),y("div",Awe,[o("div",Dwe,[E[26]||(E[26]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Personal Information",-1)),o("dl",Ewe,[o("div",Pwe,[E[19]||(E[19]=o("dt",{class:"text-gray-500"},"Name",-1)),o("dd",Rwe,u(n.value.name),1)]),o("div",jwe,[E[20]||(E[20]=o("dt",{class:"text-gray-500"},"Email",-1)),o("dd",Owe,u(n.value.email),1)]),o("div",Iwe,[E[21]||(E[21]=o("dt",{class:"text-gray-500"},"Phone",-1)),o("dd",Lwe,u(n.value.phone||"-"),1)]),o("div",Fwe,[E[22]||(E[22]=o("dt",{class:"text-gray-500"},"National ID",-1)),o("dd",Nwe,u(n.value.national_id||"-"),1)]),o("div",zwe,[E[23]||(E[23]=o("dt",{class:"text-gray-500"},"Address",-1)),o("dd",Bwe,u(n.value.address||"-"),1)]),o("div",Uwe,[E[24]||(E[24]=o("dt",{class:"text-gray-500"},"Specialty",-1)),o("dd",Vwe,u(n.value.specialty||"-"),1)]),o("div",Hwe,[E[25]||(E[25]=o("dt",{class:"text-gray-500"},"Qualification",-1)),o("dd",Wwe,u(n.value.qualification||"-"),1)])])]),o("div",qwe,[E[37]||(E[37]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Payment Details",-1)),o("dl",Kwe,[o("div",Ywe,[E[27]||(E[27]=o("dt",{class:"text-gray-500"},"Payment Preference",-1)),o("dd",Gwe,u(((B=n.value.payment_preference)==null?void 0:B.replace("_"," "))||"-"),1)]),o("div",Xwe,[E[28]||(E[28]=o("dt",{class:"text-gray-500"},"Monthly Amount",-1)),o("dd",Jwe,u(n.value.monthly_amount?C(n.value.monthly_amount):"-"),1)]),o("div",Qwe,[E[29]||(E[29]=o("dt",{class:"text-gray-500"},"Payment Method",-1)),o("dd",Zwe,u(((L=n.value.payment_method)==null?void 0:L.replace("_"," "))||"-"),1)]),n.value.payment_method==="bank"?(_(),y(de,{key:0},[o("div",e5e,[E[30]||(E[30]=o("dt",{class:"text-gray-500"},"Bank Name",-1)),o("dd",t5e,u(n.value.bank_name||"-"),1)]),o("div",s5e,[E[31]||(E[31]=o("dt",{class:"text-gray-500"},"Account Name",-1)),o("dd",n5e,u(n.value.bank_account_name||"-"),1)]),o("div",o5e,[E[32]||(E[32]=o("dt",{class:"text-gray-500"},"Account Number",-1)),o("dd",i5e,u(n.value.bank_account_number||"-"),1)]),o("div",r5e,[E[33]||(E[33]=o("dt",{class:"text-gray-500"},"Branch",-1)),o("dd",a5e,u(n.value.bank_branch||"-"),1)])],64)):n.value.payment_method==="mobile_money"?(_(),y(de,{key:1},[o("div",l5e,[E[34]||(E[34]=o("dt",{class:"text-gray-500"},"Provider",-1)),o("dd",d5e,u(n.value.mobile_money_provider||"-"),1)]),o("div",c5e,[E[35]||(E[35]=o("dt",{class:"text-gray-500"},"Name",-1)),o("dd",u5e,u(n.value.mobile_money_name||"-"),1)]),o("div",f5e,[E[36]||(E[36]=o("dt",{class:"text-gray-500"},"Number",-1)),o("dd",h5e,u(n.value.mobile_money_number||"-"),1)])],64)):j("",!0)])]),o("div",m5e,[E[38]||(E[38]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Agreement Status",-1)),o("div",p5e,[o("div",{class:ee(["w-3 h-3 rounded-full",n.value.agreement_signed?"bg-green-500":"bg-yellow-500"])},null,2),o("span",g5e,u(n.value.agreement_signed?"Agreement Signed":"Agreement Pending"),1)]),n.value.agreement_signed_at?(_(),y("div",_5e," Signed on: "+u(O(n.value.agreement_signed_at)),1)):j("",!0)]),r.value?(_(),y("div",v5e,[E[44]||(E[44]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Work Statistics",-1)),o("dl",y5e,[o("div",b5e,[E[39]||(E[39]=o("dt",{class:"text-gray-500"},"Total Sessions",-1)),o("dd",x5e,u(r.value.total_sessions),1)]),o("div",w5e,[E[40]||(E[40]=o("dt",{class:"text-gray-500"},"Recording Minutes",-1)),o("dd",k5e,u(r.value.total_recording_minutes),1)]),o("div",$5e,[E[41]||(E[41]=o("dt",{class:"text-gray-500"},"Approved Sessions",-1)),o("dd",C5e,u(r.value.approved_sessions),1)]),o("div",S5e,[E[42]||(E[42]=o("dt",{class:"text-gray-500"},"Pending Sessions",-1)),o("dd",M5e,u(r.value.pending_sessions),1)]),o("div",T5e,[E[43]||(E[43]=o("dt",{class:"text-gray-500"},"Approved Lesson Plans",-1)),o("dd",A5e,u(r.value.approved_lesson_plans),1)])])])):j("",!0)])):j("",!0),l.value==="payments"?(_(),y("div",D5e,[o("table",E5e,[E[46]||(E[46]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Receipt #"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Month For"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Method"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),o("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),o("tbody",P5e,[i.value.length===0?(_(),y("tr",R5e,[...E[45]||(E[45]=[o("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No payments recorded yet",-1)])])):j("",!0),(_(!0),y(de,null,ye(i.value,R=>(_(),y("tr",{key:R.id},[o("td",j5e,u(R.receipt_number),1),o("td",O5e,u(O(R.payment_date)),1),o("td",I5e,u(R.month_for||"-"),1),o("td",L5e,u(C(R.amount)),1),o("td",F5e,u(R.payment_method.replace("_"," ")),1),o("td",N5e,[o("span",{class:ee(["px-2 py-1 text-xs rounded-full",M(R.status)])},u(R.status),3)]),o("td",z5e,[o("button",{onClick:A=>g(R),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," Download Receipt ",8,B5e)])]))),128))])])])):j("",!0),l.value==="sessions"?(_(),y("div",U5e," Recording sessions will be displayed here. ")):j("",!0)])):j("",!0),d.value?(_(),y("div",V5e,[o("div",H5e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:E[2]||(E[2]=R=>d.value=!1)}),o("div",W5e,[o("h2",q5e,"Record Payment for "+u((P=n.value)==null?void 0:P.name),1),o("form",{onSubmit:We(p,["prevent"]),class:"space-y-4"},[o("div",K5e,[o("div",null,[E[47]||(E[47]=o("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),z(o("input",{"onUpdate:modelValue":E[3]||(E[3]=R=>c.value.amount=R),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,c.value.amount]])]),o("div",null,[E[48]||(E[48]=o("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date *",-1)),z(o("input",{"onUpdate:modelValue":E[4]||(E[4]=R=>c.value.payment_date=R),type:"date",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,c.value.payment_date]])])]),o("div",Y5e,[o("div",null,[E[50]||(E[50]=o("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method *",-1)),z(o("select",{"onUpdate:modelValue":E[5]||(E[5]=R=>c.value.payment_method=R),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...E[49]||(E[49]=[o("option",{value:"bank"},"Bank Transfer",-1),o("option",{value:"mobile_money"},"Mobile Money",-1),o("option",{value:"cash"},"Cash",-1),o("option",{value:"cheque"},"Cheque",-1)])],512),[[Me,c.value.payment_method]])]),o("div",null,[E[52]||(E[52]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),z(o("select",{"onUpdate:modelValue":E[6]||(E[6]=R=>c.value.status=R),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...E[51]||(E[51]=[o("option",{value:"completed"},"Completed",-1),o("option",{value:"pending"},"Pending",-1)])],512),[[Me,c.value.status]])])]),o("div",G5e,[o("div",null,[E[53]||(E[53]=o("label",{class:"block text-sm font-medium text-gray-700"},"Month For",-1)),z(o("input",{"onUpdate:modelValue":E[7]||(E[7]=R=>c.value.month_for=R),type:"text",placeholder:"e.g., January 2026",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,c.value.month_for]])]),o("div",null,[E[54]||(E[54]=o("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),z(o("input",{"onUpdate:modelValue":E[8]||(E[8]=R=>c.value.reference_number=R),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,c.value.reference_number]])])]),o("div",null,[E[55]||(E[55]=o("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(o("textarea",{"onUpdate:modelValue":E[9]||(E[9]=R=>c.value.notes=R),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,c.value.notes]])]),o("div",X5e,[o("button",{type:"button",onClick:E[10]||(E[10]=R=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),E[56]||(E[56]=o("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Record Payment",-1))])],32)])])])):j("",!0)])}}}),Q5e={class:"space-y-6"},Z5e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},eke={class:"bg-white rounded-lg shadow p-4"},tke={class:"mt-1 text-2xl font-semibold text-gray-900"},ske={class:"bg-white rounded-lg shadow p-4"},nke={class:"mt-1 text-2xl font-semibold text-yellow-600"},oke={class:"bg-white rounded-lg shadow p-4"},ike={class:"mt-1 text-2xl font-semibold text-green-600"},rke={class:"bg-white rounded-lg shadow p-4"},ake={class:"mt-1 text-2xl font-semibold text-red-600"},lke={class:"bg-white rounded-lg shadow p-4"},dke={class:"mt-1 text-2xl font-semibold text-blue-600"},cke={class:"bg-white rounded-lg shadow p-4"},uke={class:"mt-1 text-2xl font-semibold text-indigo-600"},fke={class:"bg-white rounded-lg shadow p-4"},hke={class:"flex flex-wrap gap-4"},mke={class:"flex-1 min-w-64"},pke={class:"relative"},gke={class:"bg-white rounded-lg shadow overflow-hidden"},_ke={class:"min-w-full divide-y divide-gray-200"},vke={class:"bg-white divide-y divide-gray-200"},yke={key:0},bke={key:1},xke={class:"px-6 py-4"},wke={class:"font-medium text-gray-900"},kke={class:"text-sm text-gray-500"},$ke={class:"px-6 py-4"},Cke={class:"text-gray-900"},Ske={class:"text-sm text-gray-500"},Mke={class:"px-6 py-4 text-sm text-gray-500"},Tke={class:"px-6 py-4 text-sm"},Ake={class:"text-gray-900"},Dke={class:"text-gray-500"},Eke={class:"px-6 py-4"},Pke={class:"px-6 py-4 text-sm text-gray-900"},Rke={class:"px-6 py-4 text-right"},jke={class:"py-1"},Oke=["onClick"],Ike=["onClick"],Lke=["href"],Fke={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},Nke={class:"text-sm text-gray-500"},zke={class:"flex space-x-2"},Bke=["onClick"],Uke={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Vke={class:"flex items-center justify-center min-h-screen px-4"},Hke={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},Wke={class:"flex justify-end space-x-3 pt-4"},qke={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Kke={class:"flex items-center justify-center min-h-screen px-4"},Yke={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},Gke={class:"flex justify-end space-x-3 pt-4"},Xke=_e({__name:"RecordingSessions",setup(s){const e=I([]),t=I({total_sessions:0,pending_review:0,approved:0,rejected:0,in_progress:0,total_recording_minutes:0}),n=I(!0),i=I(""),r=I(""),a=I({current_page:1,last_page:1,per_page:15,total:0}),l=I(!1),d=I(!1),c=I(null),f=I({quality_rating:5,admin_notes:""}),m=I({admin_notes:""}),p=async(O=1)=>{n.value=!0;try{const N=new URLSearchParams;N.append("page",O.toString()),i.value&&N.append("search",i.value),r.value&&N.append("status",r.value);const E=await Qe.get(`/api/recording-sessions?${N}`);e.value=E.data.data,a.value={current_page:E.data.current_page,last_page:E.data.last_page,per_page:E.data.per_page,total:E.data.total}}catch{}finally{n.value=!1}},g=async()=>{try{const O=await Qe.get("/api/recording-sessions/statistics");t.value=O.data}catch{}},v=O=>{c.value=O,f.value={quality_rating:5,admin_notes:""},l.value=!0},k=O=>{c.value=O,m.value={admin_notes:""},d.value=!0},b=async()=>{if(c.value)try{await Qe.post(`/api/recording-sessions/${c.value.id}/approve`,f.value),l.value=!1,await p(a.value.current_page),await g()}catch{}},w=async()=>{if(c.value)try{await Qe.post(`/api/recording-sessions/${c.value.id}/reject`,m.value),d.value=!1,await p(a.value.current_page),await g()}catch{}},x=O=>{switch(O){case"approved":return"bg-green-100 text-green-800";case"pending_review":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},M=O=>{const N=Math.floor(O/60),E=O%60;return N>0?`${N}h ${E}m`:`${E}m`},C=O=>O?new Date(O).toLocaleString():"-";return Ye(()=>{p(),g()}),(O,N)=>(_(),y("div",Q5e,[N[31]||(N[31]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900"},"Recording Sessions"),o("p",{class:"mt-1 text-sm text-gray-500"},"Track and manage all recording sessions by teachers")],-1)),o("div",Z5e,[o("div",eke,[N[11]||(N[11]=o("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),o("div",tke,u(t.value.total_sessions),1)]),o("div",ske,[N[12]||(N[12]=o("div",{class:"text-sm font-medium text-gray-500"},"Pending Review",-1)),o("div",nke,u(t.value.pending_review),1)]),o("div",oke,[N[13]||(N[13]=o("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),o("div",ike,u(t.value.approved),1)]),o("div",rke,[N[14]||(N[14]=o("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),o("div",ake,u(t.value.rejected),1)]),o("div",lke,[N[15]||(N[15]=o("div",{class:"text-sm font-medium text-gray-500"},"In Progress",-1)),o("div",dke,u(t.value.in_progress),1)]),o("div",cke,[N[16]||(N[16]=o("div",{class:"text-sm font-medium text-gray-500"},"Total Recording",-1)),o("div",uke,u(M(t.value.total_recording_minutes)),1)])]),o("div",fke,[o("div",hke,[o("div",mke,[o("div",pke,[S(h(Vs),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(o("input",{"onUpdate:modelValue":N[0]||(N[0]=E=>i.value=E),onInput:N[1]||(N[1]=E=>p(1)),type:"text",placeholder:"Search by teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[te,i.value]])])]),z(o("select",{"onUpdate:modelValue":N[2]||(N[2]=E=>r.value=E),onChange:N[3]||(N[3]=E=>p(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...N[17]||(N[17]=[_i('<option value="">All Statuses</option><option value="draft">Draft</option><option value="in_progress">In Progress</option><option value="completed">Completed</option><option value="pending_review">Pending Review</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',7)])],544),[[Me,r.value]])])]),o("div",gke,[o("table",_ke,[N[22]||(N[22]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Time"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Recording"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Rating"),o("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),o("tbody",vke,[n.value?(_(),y("tr",yke,[...N[18]||(N[18]=[o("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(_(),y("tr",bke,[...N[19]||(N[19]=[o("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No recording sessions found",-1)])])):j("",!0),(_(!0),y(de,null,ye(e.value,E=>{var B,L,P,R;return _(),y("tr",{key:E.id},[o("td",xke,[o("div",wke,u((B=E.service_provider)==null?void 0:B.name),1),o("div",kke,u((L=E.service_provider)==null?void 0:L.email),1)]),o("td",$ke,[o("div",Cke,u(((P=E.subject)==null?void 0:P.name)||"-"),1),o("div",Ske,u(((R=E.topic)==null?void 0:R.name)||"-"),1)]),o("td",Mke,[o("div",null,"In: "+u(C(E.clock_in)),1),o("div",null,"Out: "+u(C(E.clock_out)),1)]),o("td",Tke,[o("div",Ake,u(M(E.recording_minutes)),1),o("div",Dke,"Total: "+u(M(E.total_minutes)),1)]),o("td",Eke,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x(E.status)])},u(E.status.replace("_"," ")),3)]),o("td",Pke,u(E.quality_rating?`${E.quality_rating}/5`:"-"),1),o("td",Rke,[S(h(Ec),{as:"div",class:"relative inline-block text-left"},{default:K(()=>[S(h(Pc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:K(()=>[S(h(Nc),{class:"w-5 h-5"})]),_:1}),S(h(Rc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:K(()=>[o("div",jke,[E.status==="pending_review"||E.status==="completed"?(_(),ie(h(on),{key:0},{default:K(({active:A})=>[o("button",{onClick:F=>v(E),class:ee([A?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[S(h(ys),{class:"w-4 h-4 inline mr-2"}),N[20]||(N[20]=Q(" Approve ",-1))],10,Oke)]),_:2},1024)):j("",!0),E.status==="pending_review"||E.status==="completed"?(_(),ie(h(on),{key:1},{default:K(({active:A})=>[o("button",{onClick:F=>k(E),class:ee([A?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[S(h($n),{class:"w-4 h-4 inline mr-2"}),N[21]||(N[21]=Q(" Reject ",-1))],10,Ike)]),_:2},1024)):j("",!0),E.video_file?(_(),ie(h(on),{key:2},{default:K(({active:A})=>[o("a",{href:E.video_file,target:"_blank",class:ee([A?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," View Video ",10,Lke)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(_(),y("div",Fke,[o("div",Nke," Showing "+u((a.value.current_page-1)*a.value.per_page+1)+" to "+u(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+u(a.value.total),1),o("div",zke,[(_(!0),y(de,null,ye(a.value.last_page,E=>(_(),y("button",{key:E,onClick:B=>p(E),class:ee(["px-3 py-1 rounded",E===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(E),11,Bke))),128))])])):j("",!0)]),l.value?(_(),y("div",Uke,[o("div",Vke,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:N[4]||(N[4]=E=>l.value=!1)}),o("div",Hke,[N[27]||(N[27]=o("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Approve Recording Session",-1)),o("form",{onSubmit:We(b,["prevent"]),class:"space-y-4"},[o("div",null,[N[24]||(N[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Quality Rating (1-5)",-1)),z(o("select",{"onUpdate:modelValue":N[5]||(N[5]=E=>f.value.quality_rating=E),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...N[23]||(N[23]=[o("option",{value:1},"1 - Poor",-1),o("option",{value:2},"2 - Fair",-1),o("option",{value:3},"3 - Good",-1),o("option",{value:4},"4 - Very Good",-1),o("option",{value:5},"5 - Excellent",-1)])],512),[[Me,f.value.quality_rating]])]),o("div",null,[N[25]||(N[25]=o("label",{class:"block text-sm font-medium text-gray-700"},"Notes (optional)",-1)),z(o("textarea",{"onUpdate:modelValue":N[6]||(N[6]=E=>f.value.admin_notes=E),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,f.value.admin_notes]])]),o("div",Wke,[o("button",{type:"button",onClick:N[7]||(N[7]=E=>l.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),N[26]||(N[26]=o("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Approve",-1))])],32)])])])):j("",!0),d.value?(_(),y("div",qke,[o("div",Kke,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:N[8]||(N[8]=E=>d.value=!1)}),o("div",Yke,[N[30]||(N[30]=o("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Recording Session",-1)),o("form",{onSubmit:We(w,["prevent"]),class:"space-y-4"},[o("div",null,[N[28]||(N[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Reason for Rejection *",-1)),z(o("textarea",{"onUpdate:modelValue":N[9]||(N[9]=E=>m.value.admin_notes=E),rows:"3",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,m.value.admin_notes]])]),o("div",Gke,[o("button",{type:"button",onClick:N[10]||(N[10]=E=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),N[29]||(N[29]=o("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),Jke={class:"space-y-6"},Qke={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Zke={class:"bg-white rounded-lg shadow p-4"},e4e={class:"mt-1 text-2xl font-semibold text-gray-900"},t4e={class:"bg-white rounded-lg shadow p-4"},s4e={class:"mt-1 text-2xl font-semibold text-gray-600"},n4e={class:"bg-white rounded-lg shadow p-4"},o4e={class:"mt-1 text-2xl font-semibold text-yellow-600"},i4e={class:"bg-white rounded-lg shadow p-4"},r4e={class:"mt-1 text-2xl font-semibold text-green-600"},a4e={class:"bg-white rounded-lg shadow p-4"},l4e={class:"mt-1 text-2xl font-semibold text-red-600"},d4e={class:"bg-white rounded-lg shadow p-4"},c4e={class:"flex flex-wrap gap-4"},u4e={class:"flex-1 min-w-64"},f4e={class:"relative"},h4e={class:"bg-white rounded-lg shadow overflow-hidden"},m4e={class:"min-w-full divide-y divide-gray-200"},p4e={class:"bg-white divide-y divide-gray-200"},g4e={key:0},_4e={key:1},v4e={class:"px-6 py-4"},y4e={class:"font-medium text-gray-900"},b4e={class:"px-6 py-4"},x4e={class:"text-gray-900"},w4e={class:"text-sm text-gray-500"},k4e={class:"px-6 py-4"},$4e={class:"text-gray-900"},C4e={class:"text-sm text-gray-500"},S4e={class:"px-6 py-4 text-sm text-gray-500"},M4e={class:"px-6 py-4"},T4e={class:"px-6 py-4 text-sm text-gray-500"},A4e={class:"px-6 py-4 text-right"},D4e={class:"py-1"},E4e=["onClick"],P4e=["onClick"],R4e=["onClick"],j4e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},O4e={class:"text-sm text-gray-500"},I4e={class:"flex space-x-2"},L4e=["onClick"],F4e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},N4e={class:"flex items-center justify-center min-h-screen px-4"},z4e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},B4e={class:"text-lg font-semibold text-gray-900 mb-4"},U4e={class:"space-y-4"},V4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},H4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},W4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},q4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},K4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},Y4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},G4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},X4e={class:"flex justify-end pt-4"},J4e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Q4e={class:"flex items-center justify-center min-h-screen px-4"},Z4e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},e$e={class:"flex justify-end space-x-3 pt-4"},t$e=_e({__name:"LessonPlans",setup(s){const e=I([]),t=I({total:0,draft:0,submitted:0,approved:0,rejected:0}),n=I(!0),i=I(""),r=I(""),a=I({current_page:1,last_page:1,per_page:15,total:0}),l=I(!1),d=I(!1),c=I(null),f=I({feedback:""}),m=async(M=1)=>{n.value=!0;try{const C=new URLSearchParams;C.append("page",M.toString()),i.value&&C.append("search",i.value),r.value&&C.append("status",r.value);const O=await Qe.get(`/api/lesson-plans?${C}`);e.value=O.data.data,a.value={current_page:O.data.current_page,last_page:O.data.last_page,per_page:O.data.per_page,total:O.data.total}}catch{}finally{n.value=!1}},p=async()=>{try{const M=await Qe.get("/api/lesson-plans/statistics");t.value=M.data}catch{}},g=async M=>{try{const C=await Qe.get(`/api/lesson-plans/${M.id}`);c.value=C.data.data,l.value=!0}catch{}},v=async M=>{try{await Qe.post(`/api/lesson-plans/${M.id}/approve`),await m(a.value.current_page),await p()}catch{}},k=M=>{c.value=M,f.value={feedback:""},d.value=!0},b=async()=>{if(c.value)try{await Qe.post(`/api/lesson-plans/${c.value.id}/reject`,f.value),d.value=!1,await m(a.value.current_page),await p()}catch{}},w=M=>{switch(M){case"approved":return"bg-green-100 text-green-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=M=>new Date(M).toLocaleDateString();return Ye(()=>{m(),p()}),(M,C)=>(_(),y("div",Jke,[C[31]||(C[31]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900"},"Lesson Plans"),o("p",{class:"mt-1 text-sm text-gray-500"},"Review and approve lesson plans submitted by teachers")],-1)),o("div",Qke,[o("div",Zke,[C[9]||(C[9]=o("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),o("div",e4e,u(t.value.total),1)]),o("div",t4e,[C[10]||(C[10]=o("div",{class:"text-sm font-medium text-gray-500"},"Draft",-1)),o("div",s4e,u(t.value.draft),1)]),o("div",n4e,[C[11]||(C[11]=o("div",{class:"text-sm font-medium text-gray-500"},"Submitted",-1)),o("div",o4e,u(t.value.submitted),1)]),o("div",i4e,[C[12]||(C[12]=o("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),o("div",r4e,u(t.value.approved),1)]),o("div",a4e,[C[13]||(C[13]=o("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),o("div",l4e,u(t.value.rejected),1)])]),o("div",d4e,[o("div",c4e,[o("div",u4e,[o("div",f4e,[S(h(Vs),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(o("input",{"onUpdate:modelValue":C[0]||(C[0]=O=>i.value=O),onInput:C[1]||(C[1]=O=>m(1)),type:"text",placeholder:"Search by title or teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[te,i.value]])])]),z(o("select",{"onUpdate:modelValue":C[2]||(C[2]=O=>r.value=O),onChange:C[3]||(C[3]=O=>m(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...C[14]||(C[14]=[_i('<option value="">All Statuses</option><option value="draft">Draft</option><option value="submitted">Submitted</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',5)])],544),[[Me,r.value]])])]),o("div",h4e,[o("table",m4e,[C[20]||(C[20]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Title"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Duration"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),o("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),o("tbody",p4e,[n.value?(_(),y("tr",g4e,[...C[15]||(C[15]=[o("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(_(),y("tr",_4e,[...C[16]||(C[16]=[o("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No lesson plans found",-1)])])):j("",!0),(_(!0),y(de,null,ye(e.value,O=>{var N,E,B,L,P;return _(),y("tr",{key:O.id},[o("td",v4e,[o("div",y4e,u(O.title),1)]),o("td",b4e,[o("div",x4e,u((N=O.service_provider)==null?void 0:N.name),1),o("div",w4e,u((E=O.service_provider)==null?void 0:E.email),1)]),o("td",k4e,[o("div",$4e,u(((L=(B=O.topic)==null?void 0:B.subject)==null?void 0:L.name)||"-"),1),o("div",C4e,u(((P=O.topic)==null?void 0:P.name)||"-"),1)]),o("td",S4e,u(O.duration_minutes?`${O.duration_minutes} min`:"-"),1),o("td",M4e,[o("span",{class:ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",w(O.status)])},u(O.status),3)]),o("td",T4e,u(x(O.created_at)),1),o("td",A4e,[S(h(Ec),{as:"div",class:"relative inline-block text-left"},{default:K(()=>[S(h(Pc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:K(()=>[S(h(Nc),{class:"w-5 h-5"})]),_:1}),S(h(Rc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:K(()=>[o("div",D4e,[S(h(on),null,{default:K(({active:R})=>[o("button",{onClick:A=>g(O),class:ee([R?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])},[S(h(Fn),{class:"w-4 h-4 inline mr-2"}),C[17]||(C[17]=Q(" View Details ",-1))],10,E4e)]),_:2},1024),O.status==="submitted"?(_(),ie(h(on),{key:0},{default:K(({active:R})=>[o("button",{onClick:A=>v(O),class:ee([R?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[S(h(ys),{class:"w-4 h-4 inline mr-2"}),C[18]||(C[18]=Q(" Approve ",-1))],10,P4e)]),_:2},1024)):j("",!0),O.status==="submitted"?(_(),ie(h(on),{key:1},{default:K(({active:R})=>[o("button",{onClick:A=>k(O),class:ee([R?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[S(h($n),{class:"w-4 h-4 inline mr-2"}),C[19]||(C[19]=Q(" Reject ",-1))],10,R4e)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(_(),y("div",j4e,[o("div",O4e," Showing "+u((a.value.current_page-1)*a.value.per_page+1)+" to "+u(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+u(a.value.total),1),o("div",I4e,[(_(!0),y(de,null,ye(a.value.last_page,O=>(_(),y("button",{key:O,onClick:N=>m(O),class:ee(["px-3 py-1 rounded",O===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(O),11,L4e))),128))])])):j("",!0)]),l.value&&c.value?(_(),y("div",F4e,[o("div",N4e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:C[4]||(C[4]=O=>l.value=!1)}),o("div",z4e,[o("h2",B4e,u(c.value.title),1),o("div",U4e,[o("div",null,[C[21]||(C[21]=o("h3",{class:"font-medium text-gray-700"},"Objectives",-1)),o("p",V4e,u(c.value.objectives||"No objectives specified"),1)]),o("div",null,[C[22]||(C[22]=o("h3",{class:"font-medium text-gray-700"},"Introduction",-1)),o("p",H4e,u(c.value.introduction||"No introduction"),1)]),o("div",null,[C[23]||(C[23]=o("h3",{class:"font-medium text-gray-700"},"Main Content",-1)),o("p",W4e,u(c.value.main_content||"No main content"),1)]),o("div",null,[C[24]||(C[24]=o("h3",{class:"font-medium text-gray-700"},"Activities",-1)),o("p",q4e,u(c.value.activities||"No activities"),1)]),o("div",null,[C[25]||(C[25]=o("h3",{class:"font-medium text-gray-700"},"Assessment",-1)),o("p",K4e,u(c.value.assessment||"No assessment"),1)]),o("div",null,[C[26]||(C[26]=o("h3",{class:"font-medium text-gray-700"},"Conclusion",-1)),o("p",Y4e,u(c.value.conclusion||"No conclusion"),1)]),o("div",null,[C[27]||(C[27]=o("h3",{class:"font-medium text-gray-700"},"Homework",-1)),o("p",G4e,u(c.value.homework||"No homework"),1)])]),o("div",X4e,[o("button",{onClick:C[5]||(C[5]=O=>l.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200"},"Close")])])])])):j("",!0),d.value?(_(),y("div",J4e,[o("div",Q4e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:C[6]||(C[6]=O=>d.value=!1)}),o("div",Z4e,[C[30]||(C[30]=o("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Lesson Plan",-1)),o("form",{onSubmit:We(b,["prevent"]),class:"space-y-4"},[o("div",null,[C[28]||(C[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Feedback / Reason for Rejection *",-1)),z(o("textarea",{"onUpdate:modelValue":C[7]||(C[7]=O=>f.value.feedback=O),rows:"4",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,f.value.feedback]])]),o("div",e$e,[o("button",{type:"button",onClick:C[8]||(C[8]=O=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),C[29]||(C[29]=o("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),s$e={class:"space-y-6"},n$e={class:"flex items-center justify-between"},o$e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},i$e={class:"bg-white rounded-lg shadow p-4"},r$e={class:"mt-1 text-2xl font-semibold text-gray-900"},a$e={class:"bg-white rounded-lg shadow p-4"},l$e={class:"mt-1 text-2xl font-semibold text-green-600"},d$e={class:"bg-white rounded-lg shadow p-4"},c$e={class:"mt-1 text-2xl font-semibold text-indigo-600"},u$e={class:"bg-white rounded-lg shadow p-4"},f$e={class:"mt-1 text-2xl font-semibold text-gray-900"},h$e={class:"bg-white rounded-lg shadow p-4"},m$e={class:"mt-1 text-2xl font-semibold text-gray-900"},p$e={class:"bg-white rounded-lg shadow p-4"},g$e={class:"mt-1 text-2xl font-semibold text-gray-900"},_$e={class:"bg-white rounded-lg shadow p-4"},v$e={class:"flex flex-wrap gap-4"},y$e={class:"flex-1 min-w-64"},b$e={class:"relative"},x$e={class:"bg-white rounded-lg shadow overflow-hidden"},w$e={key:0,class:"px-6 py-8 text-center text-gray-500"},k$e={key:1,class:"px-6 py-8 text-center text-gray-500"},$$e={key:2,class:"divide-y divide-gray-200"},C$e=["onClick"],S$e={class:"flex items-center space-x-4"},M$e={class:"flex items-center space-x-2"},T$e={class:"font-medium text-gray-900"},A$e={class:"px-2 py-0.5 text-xs rounded bg-gray-100 text-gray-600"},D$e={class:"px-2 py-0.5 text-xs rounded bg-indigo-100 text-indigo-600"},E$e={key:0,class:"px-2 py-0.5 text-xs rounded bg-red-100 text-red-600"},P$e={class:"text-sm text-gray-500"},R$e={class:"py-1"},j$e=["onClick"],O$e=["onClick"],I$e=["onClick"],L$e={key:0,class:"bg-gray-50 px-6 py-4 pl-16"},F$e={key:0,class:"text-sm text-gray-500"},N$e={key:1,class:"space-y-2"},z$e={class:"font-medium text-gray-900"},B$e={class:"text-sm text-gray-500"},U$e={key:0},V$e=["onClick"],H$e={key:3,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},W$e={class:"text-sm text-gray-500"},q$e={class:"flex space-x-2"},K$e=["onClick"],Y$e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},G$e={class:"flex items-center justify-center min-h-screen px-4"},X$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},J$e={class:"grid grid-cols-2 gap-4"},Q$e={class:"flex items-center"},Z$e={class:"flex justify-end space-x-3 pt-4"},e3e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},t3e={class:"flex items-center justify-center min-h-screen px-4"},s3e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},n3e={class:"grid grid-cols-2 gap-4"},o3e={class:"flex items-center"},i3e={class:"flex justify-end space-x-3 pt-4"},r3e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},a3e={class:"flex items-center justify-center min-h-screen px-4"},l3e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},d3e={class:"text-lg font-semibold text-gray-900 mb-4"},c3e={class:"grid grid-cols-3 gap-4"},u3e={class:"flex justify-end space-x-3 pt-4"},f3e=_e({__name:"Subjects",setup(s){const e=I([]),t=I({total_subjects:0,active_subjects:0,total_topics:0,subjects_by_form:{form_1:0,form_2:0,form_3:0,form_4:0}}),n=I(!0),i=I(""),r=I(""),a=I([]),l=I({current_page:1,last_page:1,per_page:15,total:0}),d=I(!1),c=I(!1),f=I(!1),m=I(null);I(null);const p=I({name:"",code:"",form:"1",description:"",is_active:!0}),g=I({name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}),v=async(A=1)=>{n.value=!0;try{const F=new URLSearchParams;F.append("page",A.toString()),i.value&&F.append("search",i.value),r.value&&F.append("form",r.value);const be=await Qe.get(`/api/subjects?${F}`);e.value=be.data.data,l.value={current_page:be.data.current_page,last_page:be.data.last_page,per_page:be.data.per_page,total:be.data.total}}catch{}finally{n.value=!1}},k=async()=>{try{const A=await Qe.get("/api/subjects/statistics");t.value=A.data}catch{}},b=async A=>{try{const F=await Qe.get(`/api/subjects/${A.id}/topics`);A.topics=F.data}catch{}},w=async A=>{const F=a.value.indexOf(A.id);F===-1?(a.value.push(A.id),A.topics||await b(A)):a.value.splice(F,1)},x=A=>a.value.includes(A),M=async()=>{try{await Qe.post("/api/subjects",p.value),d.value=!1,P(),await v(),await k()}catch{}},C=async()=>{if(m.value)try{await Qe.put(`/api/subjects/${m.value.id}`,p.value),c.value=!1,P(),await v()}catch{}},O=async A=>{if(confirm("Are you sure you want to delete this subject?"))try{await Qe.delete(`/api/subjects/${A.id}`),await v(),await k()}catch{}},N=A=>{m.value=A,p.value={name:A.name,code:A.code,form:A.form,description:A.description||"",is_active:A.is_active},c.value=!0},E=A=>{m.value=A,R(),f.value=!0},B=async()=>{if(m.value)try{await Qe.post(`/api/subjects/${m.value.id}/topics`,g.value),f.value=!1,await b(m.value),await k()}catch{}},L=async(A,F)=>{if(confirm("Are you sure you want to delete this topic?"))try{await Qe.delete(`/api/subjects/${A.id}/topics/${F.id}`),await b(A),await k()}catch{}},P=()=>{p.value={name:"",code:"",form:"1",description:"",is_active:!0},m.value=null},R=()=>{g.value={name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}};return Ye(()=>{v(),k()}),(A,F)=>{var be,ae,le,J,ne;return _(),y("div",s$e,[o("div",n$e,[F[28]||(F[28]=o("div",null,[o("h1",{class:"text-2xl font-semibold text-gray-900"},"Subjects & Topics"),o("p",{class:"mt-1 text-sm text-gray-500"},"Manage the syllabus subjects and topics")],-1)),o("button",{onClick:F[0]||(F[0]=q=>d.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[S(h(Sn),{class:"w-5 h-5 mr-2"}),F[27]||(F[27]=Q(" Add Subject ",-1))])]),o("div",o$e,[o("div",i$e,[F[29]||(F[29]=o("div",{class:"text-sm font-medium text-gray-500"},"Total Subjects",-1)),o("div",r$e,u(t.value.total_subjects),1)]),o("div",a$e,[F[30]||(F[30]=o("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),o("div",l$e,u(t.value.active_subjects),1)]),o("div",d$e,[F[31]||(F[31]=o("div",{class:"text-sm font-medium text-gray-500"},"Total Topics",-1)),o("div",c$e,u(t.value.total_topics),1)]),o("div",u$e,[F[32]||(F[32]=o("div",{class:"text-sm font-medium text-gray-500"},"Form 1",-1)),o("div",f$e,u(((be=t.value.subjects_by_form)==null?void 0:be.form_1)||0),1)]),o("div",h$e,[F[33]||(F[33]=o("div",{class:"text-sm font-medium text-gray-500"},"Form 2",-1)),o("div",m$e,u(((ae=t.value.subjects_by_form)==null?void 0:ae.form_2)||0),1)]),o("div",p$e,[F[34]||(F[34]=o("div",{class:"text-sm font-medium text-gray-500"},"Form 3 & 4",-1)),o("div",g$e,u((((le=t.value.subjects_by_form)==null?void 0:le.form_3)||0)+(((J=t.value.subjects_by_form)==null?void 0:J.form_4)||0)),1)])]),o("div",_$e,[o("div",v$e,[o("div",y$e,[o("div",b$e,[S(h(Vs),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(o("input",{"onUpdate:modelValue":F[1]||(F[1]=q=>i.value=q),onInput:F[2]||(F[2]=q=>v(1)),type:"text",placeholder:"Search by name or code...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[te,i.value]])])]),z(o("select",{"onUpdate:modelValue":F[3]||(F[3]=q=>r.value=q),onChange:F[4]||(F[4]=q=>v(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...F[35]||(F[35]=[_i('<option value="">All Forms</option><option value="1">Form 1</option><option value="2">Form 2</option><option value="3">Form 3</option><option value="4">Form 4</option>',5)])],544),[[Me,r.value]])])]),o("div",x$e,[n.value?(_(),y("div",w$e,"Loading...")):e.value.length===0?(_(),y("div",k$e,"No subjects found")):(_(),y("div",$$e,[(_(!0),y(de,null,ye(e.value,q=>(_(),y("div",{key:q.id},[o("div",{class:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:oe=>w(q)},[o("div",S$e,[(_(),ie(fo(x(q.id)?h(Dv):h(Ev)),{class:"w-5 h-5 text-gray-400"})),o("div",null,[o("div",M$e,[o("span",T$e,u(q.name),1),o("span",A$e,u(q.code),1),o("span",D$e,"Form "+u(q.form),1),q.is_active?j("",!0):(_(),y("span",E$e,"Inactive"))]),o("div",P$e,u(q.topics_count)+" topics",1)])]),S(h(Ec),{as:"div",class:"relative",onClick:F[5]||(F[5]=We(()=>{},["stop"]))},{default:K(()=>[S(h(Pc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:K(()=>[S(h(Nc),{class:"w-5 h-5"})]),_:1}),S(h(Rc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:K(()=>[o("div",R$e,[S(h(on),null,{default:K(({active:oe})=>[o("button",{onClick:xe=>E(q),class:ee([oe?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Add Topic ",10,j$e)]),_:2},1024),S(h(on),null,{default:K(({active:oe})=>[o("button",{onClick:xe=>N(q),class:ee([oe?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit Subject ",10,O$e)]),_:2},1024),S(h(on),null,{default:K(({active:oe})=>[o("button",{onClick:xe=>O(q),class:ee([oe?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,I$e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)],8,C$e),x(q.id)&&q.topics?(_(),y("div",L$e,[q.topics.length===0?(_(),y("div",F$e,"No topics added yet")):(_(),y("div",N$e,[(_(!0),y(de,null,ye(q.topics,oe=>(_(),y("div",{key:oe.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[o("div",null,[o("div",z$e,u(oe.name),1),o("div",B$e,[Q(" Term "+u(oe.term)+", Week "+u(oe.week)+" ",1),oe.estimated_hours?(_(),y("span",U$e," | "+u(oe.estimated_hours)+"h",1)):j("",!0)])]),o("button",{onClick:xe=>L(q,oe),class:"text-red-600 hover:text-red-800 text-sm"},"Delete",8,V$e)]))),128))]))])):j("",!0)]))),128))])),l.value.last_page>1?(_(),y("div",H$e,[o("div",W$e," Showing "+u((l.value.current_page-1)*l.value.per_page+1)+" to "+u(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+u(l.value.total),1),o("div",q$e,[(_(!0),y(de,null,ye(l.value.last_page,q=>(_(),y("button",{key:q,onClick:oe=>v(q),class:ee(["px-3 py-1 rounded",q===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},u(q),11,K$e))),128))])])):j("",!0)]),d.value?(_(),y("div",Y$e,[o("div",G$e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:F[6]||(F[6]=q=>d.value=!1)}),o("div",X$e,[F[43]||(F[43]=o("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Add Subject",-1)),o("form",{onSubmit:We(M,["prevent"]),class:"space-y-4"},[o("div",null,[F[36]||(F[36]=o("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(o("input",{"onUpdate:modelValue":F[7]||(F[7]=q=>p.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,p.value.name]])]),o("div",J$e,[o("div",null,[F[37]||(F[37]=o("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(o("input",{"onUpdate:modelValue":F[8]||(F[8]=q=>p.value.code=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., MATH_F1"},null,512),[[te,p.value.code]])]),o("div",null,[F[39]||(F[39]=o("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(o("select",{"onUpdate:modelValue":F[9]||(F[9]=q=>p.value.form=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...F[38]||(F[38]=[o("option",{value:"1"},"Form 1",-1),o("option",{value:"2"},"Form 2",-1),o("option",{value:"3"},"Form 3",-1),o("option",{value:"4"},"Form 4",-1)])],512),[[Me,p.value.form]])])]),o("div",null,[F[40]||(F[40]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(o("textarea",{"onUpdate:modelValue":F[10]||(F[10]=q=>p.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,p.value.description]])]),o("div",Q$e,[z(o("input",{"onUpdate:modelValue":F[11]||(F[11]=q=>p.value.is_active=q),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[cs,p.value.is_active]]),F[41]||(F[41]=o("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),o("div",Z$e,[o("button",{type:"button",onClick:F[12]||(F[12]=q=>{d.value=!1,P()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),F[42]||(F[42]=o("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Create",-1))])],32)])])])):j("",!0),c.value?(_(),y("div",e3e,[o("div",t3e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:F[13]||(F[13]=q=>c.value=!1)}),o("div",s3e,[F[51]||(F[51]=o("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Edit Subject",-1)),o("form",{onSubmit:We(C,["prevent"]),class:"space-y-4"},[o("div",null,[F[44]||(F[44]=o("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(o("input",{"onUpdate:modelValue":F[14]||(F[14]=q=>p.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,p.value.name]])]),o("div",n3e,[o("div",null,[F[45]||(F[45]=o("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(o("input",{"onUpdate:modelValue":F[15]||(F[15]=q=>p.value.code=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,p.value.code]])]),o("div",null,[F[47]||(F[47]=o("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(o("select",{"onUpdate:modelValue":F[16]||(F[16]=q=>p.value.form=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...F[46]||(F[46]=[o("option",{value:"1"},"Form 1",-1),o("option",{value:"2"},"Form 2",-1),o("option",{value:"3"},"Form 3",-1),o("option",{value:"4"},"Form 4",-1)])],512),[[Me,p.value.form]])])]),o("div",null,[F[48]||(F[48]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(o("textarea",{"onUpdate:modelValue":F[17]||(F[17]=q=>p.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,p.value.description]])]),o("div",o3e,[z(o("input",{"onUpdate:modelValue":F[18]||(F[18]=q=>p.value.is_active=q),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[cs,p.value.is_active]]),F[49]||(F[49]=o("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),o("div",i3e,[o("button",{type:"button",onClick:F[19]||(F[19]=q=>{c.value=!1,P()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),F[50]||(F[50]=o("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Update",-1))])],32)])])])):j("",!0),f.value?(_(),y("div",r3e,[o("div",a3e,[o("div",{class:"fixed inset-0 bg-black opacity-50",onClick:F[20]||(F[20]=q=>f.value=!1)}),o("div",l3e,[o("h2",d3e,"Add Topic to "+u((ne=m.value)==null?void 0:ne.name),1),o("form",{onSubmit:We(B,["prevent"]),class:"space-y-4"},[o("div",null,[F[52]||(F[52]=o("label",{class:"block text-sm font-medium text-gray-700"},"Topic Name *",-1)),z(o("input",{"onUpdate:modelValue":F[21]||(F[21]=q=>g.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,g.value.name]])]),o("div",c3e,[o("div",null,[F[54]||(F[54]=o("label",{class:"block text-sm font-medium text-gray-700"},"Term *",-1)),z(o("select",{"onUpdate:modelValue":F[22]||(F[22]=q=>g.value.term=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...F[53]||(F[53]=[o("option",{value:1},"Term 1",-1),o("option",{value:2},"Term 2",-1),o("option",{value:3},"Term 3",-1)])],512),[[Me,g.value.term]])]),o("div",null,[F[55]||(F[55]=o("label",{class:"block text-sm font-medium text-gray-700"},"Week *",-1)),z(o("input",{"onUpdate:modelValue":F[23]||(F[23]=q=>g.value.week=q),type:"number",min:"1",max:"15",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,g.value.week]])]),o("div",null,[F[56]||(F[56]=o("label",{class:"block text-sm font-medium text-gray-700"},"Est. Hours",-1)),z(o("input",{"onUpdate:modelValue":F[24]||(F[24]=q=>g.value.estimated_hours=q),type:"number",min:"1",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,g.value.estimated_hours]])])]),o("div",null,[F[57]||(F[57]=o("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(o("textarea",{"onUpdate:modelValue":F[25]||(F[25]=q=>g.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[te,g.value.description]])]),o("div",u3e,[o("button",{type:"button",onClick:F[26]||(F[26]=q=>f.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),F[58]||(F[58]=o("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Add Topic",-1))])],32)])])])):j("",!0)])}}}),h3e={class:"border-b border-gray-200 px-6 py-4"},m3e={class:"text-lg font-semibold text-gray-900"},p3e={class:"px-6 py-4"},g3e={class:"space-y-6"},_3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},v3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},y3e={class:"mt-1 sm:col-span-2 sm:mt-0"},b3e=["disabled"],x3e={value:""},w3e=["value"],k3e={key:0,class:"mt-2 text-sm text-red-600"},$3e={class:"border-t border-gray-200 pt-6"},C3e={class:"text-lg font-medium leading-6 text-gray-900"},S3e={class:"mt-1 text-sm text-gray-500"},M3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},T3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},A3e={class:"mt-1 sm:col-span-2 sm:mt-0"},D3e={key:0,class:"mt-2 text-sm text-red-600"},E3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},P3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},R3e={class:"mt-1 sm:col-span-2 sm:mt-0"},j3e={key:0,class:"mt-2 text-sm text-red-600"},O3e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},I3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},L3e={class:"mt-1 sm:col-span-2 sm:mt-0"},F3e={class:"text-sm text-gray-900 pt-2"},N3e={class:"border-t border-gray-200 pt-6"},z3e={class:"text-lg font-medium leading-6 text-gray-900"},B3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},U3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},V3e={class:"mt-1 sm:col-span-2 sm:mt-0"},H3e={class:"flex gap-4"},W3e={class:"inline-flex items-center"},q3e={class:"ml-2 text-sm text-gray-700"},K3e={class:"inline-flex items-center"},Y3e={class:"ml-2 text-sm text-gray-700"},G3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},X3e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},J3e={class:"mt-1 sm:col-span-2 sm:mt-0"},Q3e={key:0,class:"mt-2 text-sm text-red-600"},Z3e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},e6e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},t6e={class:"mt-1 sm:col-span-2 sm:mt-0"},s6e={class:"mt-1 text-sm text-gray-500"},n6e={key:0,class:"mt-2 text-sm text-red-600"},o6e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},i6e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},r6e={class:"mt-1 sm:col-span-2 sm:mt-0"},a6e={class:"inline-flex items-center"},l6e={class:"ml-2 text-sm text-gray-700"},d6e={class:"border-t border-gray-200 pt-6"},c6e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},u6e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},f6e={class:"mt-1 sm:col-span-2 sm:mt-0"},h6e=["placeholder"],m6e={class:"mt-1 text-sm text-gray-500"},p6e={key:0,class:"mt-2 text-sm text-red-600"},g6e={class:"rounded-md bg-blue-50 p-4"},_6e={class:"flex"},v6e={class:"ml-3"},y6e={class:"text-sm text-blue-700"},b6e={class:"flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},x6e=["disabled"],w6e=["disabled"],k6e={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},$6e={__name:"Form",props:{modelValue:{type:Object,default:null},users:{type:Array,default:()=>[]}},emits:["close","saved"],setup(s,{emit:e}){const t=Je("__"),n=s,i=e,r=I("permanent"),a=qr("working-hours",{user_id:"",start_time:"07:30",end_time:"16:30",effective_from:"",effective_until:"",is_active:!0,reason:""}),l=Pe(()=>{if(!a.start_time||!a.end_time)return 0;const[c,f]=a.start_time.split(":").map(Number),[m,p]=a.end_time.split(":").map(Number),g=c*60+f;return((m*60+p-g)/60).toFixed(1)}),d=async()=>{r.value==="permanent"&&(a.effective_from=null,a.effective_until=null);try{await a.submit(),i("saved"),i("close")}catch{}};return Et(()=>n.modelValue,c=>{var f,m;c?(a.setData({...c,start_time:((f=c.start_time)==null?void 0:f.substring(0,5))||"07:30",end_time:((m=c.end_time)==null?void 0:m.substring(0,5))||"16:30",effective_from:c.effective_from?c.effective_from.split("T")[0]:"",effective_until:c.effective_until?c.effective_until.split("T")[0]:""}),r.value=!c.effective_from&&!c.effective_until?"permanent":"temporary"):(a.reset(),r.value="permanent")},{immediate:!0}),(c,f)=>{var m,p,g;return _(),y("div",null,[o("div",h3e,[o("h2",m3e,u(h(a).id?h(t)("Edit Working Hours"):h(t)("Assign Working Hours")),1)]),o("div",p3e,[o("div",g3e,[o("div",_3e,[o("label",v3e,[Q(u(h(t)("Employee"))+" ",1),f[10]||(f[10]=o("span",{class:"text-red-500"},"*",-1))]),o("div",y3e,[z(o("select",{"onUpdate:modelValue":f[0]||(f[0]=v=>h(a).user_id=v),class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.user_id}]),disabled:!!h(a).id,required:""},[o("option",x3e,u(h(t)("Select an employee")),1),(_(!0),y(de,null,ye(s.users,v=>(_(),y("option",{key:v.id,value:v.id},u(v.name)+" ("+u(v.email)+") ",9,w3e))),128))],10,b3e),[[Me,h(a).user_id]]),h(a).errors.user_id?(_(),y("p",k3e,u(h(a).errors.user_id),1)):j("",!0)])]),o("div",$3e,[o("h3",C3e,u(h(t)("Working Hours")),1),o("p",S3e,u(h(t)("Default hours are 7:30 AM - 4:30 PM")),1)]),o("div",M3e,[o("label",T3e,[Q(u(h(t)("Start Time"))+" ",1),f[11]||(f[11]=o("span",{class:"text-red-500"},"*",-1))]),o("div",A3e,[z(o("input",{"onUpdate:modelValue":f[1]||(f[1]=v=>h(a).start_time=v),type:"time",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.start_time}]),required:""},null,2),[[te,h(a).start_time]]),h(a).errors.start_time?(_(),y("p",D3e,u(h(a).errors.start_time),1)):j("",!0)])]),o("div",E3e,[o("label",P3e,[Q(u(h(t)("End Time"))+" ",1),f[12]||(f[12]=o("span",{class:"text-red-500"},"*",-1))]),o("div",R3e,[z(o("input",{"onUpdate:modelValue":f[2]||(f[2]=v=>h(a).end_time=v),type:"time",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.end_time}]),required:""},null,2),[[te,h(a).end_time]]),h(a).errors.end_time?(_(),y("p",j3e,u(h(a).errors.end_time),1)):j("",!0)])]),h(a).start_time&&h(a).end_time?(_(),y("div",O3e,[o("label",I3e,u(h(t)("Duration")),1),o("div",L3e,[o("p",F3e,u(l.value)+" "+u(h(t)("hours")),1)])])):j("",!0),o("div",N3e,[o("h3",z3e,u(h(t)("Effective Period")),1)]),o("div",B3e,[o("label",U3e,u(h(t)("Schedule Type")),1),o("div",V3e,[o("div",H3e,[o("label",W3e,[z(o("input",{"onUpdate:modelValue":f[3]||(f[3]=v=>r.value=v),type:"radio",value:"permanent",class:"form-radio text-indigo-600"},null,512),[[Pn,r.value]]),o("span",q3e,u(h(t)("Permanent")),1)]),o("label",K3e,[z(o("input",{"onUpdate:modelValue":f[4]||(f[4]=v=>r.value=v),type:"radio",value:"temporary",class:"form-radio text-indigo-600"},null,512),[[Pn,r.value]]),o("span",Y3e,u(h(t)("Temporary (Date Range)")),1)])])])]),r.value==="temporary"?(_(),y(de,{key:1},[o("div",G3e,[o("label",X3e,u(h(t)("Start Date")),1),o("div",J3e,[z(o("input",{"onUpdate:modelValue":f[5]||(f[5]=v=>h(a).effective_from=v),type:"date",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.effective_from}])},null,2),[[te,h(a).effective_from]]),h(a).errors.effective_from?(_(),y("p",Q3e,u(h(a).errors.effective_from),1)):j("",!0)])]),o("div",Z3e,[o("label",e6e,u(h(t)("End Date")),1),o("div",t6e,[z(o("input",{"onUpdate:modelValue":f[6]||(f[6]=v=>h(a).effective_until=v),type:"date",class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.effective_until}])},null,2),[[te,h(a).effective_until]]),o("p",s6e,u(h(t)("Leave empty for ongoing schedule")),1),h(a).errors.effective_until?(_(),y("p",n6e,u(h(a).errors.effective_until),1)):j("",!0)])])],64)):j("",!0),o("div",o6e,[o("label",i6e,u(h(t)("Status")),1),o("div",r6e,[o("label",a6e,[z(o("input",{"onUpdate:modelValue":f[7]||(f[7]=v=>h(a).is_active=v),type:"checkbox",class:"form-checkbox h-4 w-4 text-indigo-600 rounded"},null,512),[[cs,h(a).is_active]]),o("span",l6e,u(h(t)("Active")),1)])])]),o("div",d6e,[o("div",c6e,[o("label",u6e,u(h(t)("Reason")),1),o("div",f6e,[z(o("textarea",{"onUpdate:modelValue":f[8]||(f[8]=v=>h(a).reason=v),rows:"3",placeholder:h(t)("Why is this employee being assigned custom working hours?"),class:ee(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":h(a).errors.reason}])},null,10,h6e),[[te,h(a).reason]]),o("p",m6e,u(h(t)("This will be included in the notification email to the employee.")),1),h(a).errors.reason?(_(),y("p",p6e,u(h(a).errors.reason),1)):j("",!0)])])]),o("div",g6e,[o("div",_6e,[f[13]||(f[13]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),o("div",v6e,[o("p",y6e,u(h(t)("The employee will be notified via email and in-app notification about this schedule change.")),1)])])])])]),o("div",b6e,[o("button",{type:"button",class:"mr-3 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:(m=h(a).processing)==null?void 0:m.value,onClick:f[9]||(f[9]=v=>i("close"))},u(h(t)("Cancel")),9,x6e),o("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",disabled:(p=h(a).processing)==null?void 0:p.value,onClick:d},[(g=h(a).processing)!=null&&g.value?(_(),y("svg",k6e,[...f[14]||(f[14]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):j("",!0),Q(" "+u(h(a).id?h(t)("Update"):h(t)("Assign")),1)],8,w6e)])])}}},C6e={key:0,class:"mt-8 flex justify-center"},S6e={key:1},M6e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},T6e={class:"overflow-hidden rounded-lg bg-white shadow"},A6e={class:"p-5"},D6e={class:"flex items-center"},E6e={class:"flex-shrink-0"},P6e={class:"ml-5 w-0 flex-1"},R6e={class:"truncate text-sm font-medium text-gray-500"},j6e={class:"text-lg font-semibold text-gray-900"},O6e={class:"overflow-hidden rounded-lg bg-white shadow"},I6e={class:"p-5"},L6e={class:"flex items-center"},F6e={class:"flex-shrink-0"},N6e={class:"ml-5 w-0 flex-1"},z6e={class:"truncate text-sm font-medium text-gray-500"},B6e={class:"text-lg font-semibold text-gray-900"},U6e={class:"overflow-hidden rounded-lg bg-white shadow"},V6e={class:"p-5"},H6e={class:"flex items-center"},W6e={class:"flex-shrink-0"},q6e={class:"ml-5 w-0 flex-1"},K6e={class:"truncate text-sm font-medium text-gray-500"},Y6e={class:"text-lg font-semibold text-gray-900"},G6e={class:"overflow-hidden rounded-lg bg-white shadow"},X6e={class:"p-5"},J6e={class:"flex items-center"},Q6e={class:"flex-shrink-0"},Z6e={class:"ml-5 w-0 flex-1"},eCe={class:"truncate text-sm font-medium text-gray-500"},tCe={class:"text-lg font-semibold text-gray-900"},sCe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},nCe={class:"flex flex-1 gap-2"},oCe={class:"relative w-64 rounded-md shadow-sm"},iCe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},rCe=["placeholder"],aCe={value:""},lCe={value:"current"},dCe={value:"active"},cCe={value:"expired"},uCe={value:""},fCe=["value"],hCe={class:"ltr:ml-auto rtl:mr-auto"},mCe={class:"flex flex-col"},pCe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},gCe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},_Ce={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},vCe={class:"min-w-full divide-y divide-gray-200"},yCe={class:"divide-y divide-gray-200 bg-white"},bCe={class:"whitespace-nowrap px-6 py-4"},xCe={class:"flex items-center"},wCe={class:"h-10 w-10 flex-shrink-0"},kCe={class:"ml-4"},$Ce={class:"text-sm font-medium text-gray-900"},CCe={class:"text-sm text-gray-500"},SCe={class:"whitespace-nowrap px-6 py-4"},MCe={class:"text-sm font-medium text-gray-900"},TCe={class:"text-sm text-gray-500"},ACe={class:"whitespace-nowrap px-6 py-4 text-sm"},DCe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ECe={class:"whitespace-nowrap px-6 py-4 text-sm"},PCe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},RCe={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},jCe={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I([]),i=eo("working-hours",{search:"",status:"",user_id:"",per_page:15}),r=rt({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(w=null)=>{r.model=w,r.show=!0},c=()=>{r.show=!1,i.get(),f()},f=async()=>{try{const w=await ce.get("working-hours/statistics");t.value=w.data}catch{}},m=async()=>{try{const w=await ce.get("working-hours/users");n.value=w.data}catch{}},p=w=>{if(!w)return"-";const[x,M]=w.split(":"),C=parseInt(x),O=C>=12?"PM":"AM";return`${C%12||12}:${M} ${O}`},g=w=>w?new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null,v=(w,x)=>{if(!w||!x)return 0;const[M,C]=w.split(":").map(Number),[O,N]=x.split(":").map(Number),E=M*60+C;return((O*60+N-E)/60).toFixed(1)},k=w=>{if(!w.is_active)return"bg-gray-100 text-gray-800";const x=new Date;x.setHours(0,0,0,0);const M=w.effective_from?new Date(w.effective_from):null,C=w.effective_until?new Date(w.effective_until):null;return C&&C<x?"bg-red-100 text-red-800":M&&M>x?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"},b=w=>{if(!w.is_active)return"Inactive";const x=new Date;x.setHours(0,0,0,0);const M=w.effective_from?new Date(w.effective_from):null,C=w.effective_until?new Date(w.effective_until):null;return C&&C<x?"Expired":M&&M>x?"Scheduled":"Active"};return Ye(async()=>{try{await Promise.all([i.get(),f(),m()])}catch{}finally{e.value=!1}}),(w,x)=>{var M;return e.value?(_(),y("div",C6e,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",S6e,[t.value?(_(),y("div",M6e,[o("div",T6e,[o("div",A6e,[o("div",D6e,[o("div",E6e,[S(h(Zs),{class:"h-6 w-6 text-gray-400"})]),o("div",P6e,[o("dl",null,[o("dt",R6e,u(w.__("Total Custom Schedules")),1),o("dd",j6e,u(t.value.total_custom),1)])])])])]),o("div",O6e,[o("div",I6e,[o("div",L6e,[o("div",F6e,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",N6e,[o("dl",null,[o("dt",z6e,u(w.__("Currently Active")),1),o("dd",B6e,u(t.value.active),1)])])])])]),o("div",U6e,[o("div",V6e,[o("div",H6e,[o("div",W6e,[S(h(dn),{class:"h-6 w-6 text-blue-400"})]),o("div",q6e,[o("dl",null,[o("dt",K6e,u(w.__("Permanent Schedules")),1),o("dd",Y6e,u(t.value.permanent),1)])])])])]),o("div",G6e,[o("div",X6e,[o("div",J6e,[o("div",Q6e,[S(h(Kh),{class:"h-6 w-6 text-yellow-400"})]),o("div",Z6e,[o("dl",null,[o("dt",eCe,u(w.__("Expiring Soon")),1),o("dd",tCe,u(t.value.expiring_soon),1)])])])])])])):j("",!0),o("div",sCe,[o("div",nCe,[o("div",oCe,[o("div",iCe,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":x[0]||(x[0]=C=>h(i).params.search=C),type:"search",placeholder:w.__("Search by name or email..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,rCe),[[te,h(i).params.search]])]),z(o("select",{"onUpdate:modelValue":x[1]||(x[1]=C=>h(i).params.status=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[2]||(x[2]=C=>h(i).get())},[o("option",aCe,u(w.__("All Statuses")),1),o("option",lCe,u(w.__("Currently Active")),1),o("option",dCe,u(w.__("Active (Including Future)")),1),o("option",cCe,u(w.__("Expired")),1)],544),[[Me,h(i).params.status]]),z(o("select",{"onUpdate:modelValue":x[3]||(x[3]=C=>h(i).params.user_id=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[4]||(x[4]=C=>h(i).get())},[o("option",uCe,u(w.__("All Users")),1),(_(!0),y(de,null,ye(n.value,C=>(_(),y("option",{key:C.id,value:C.id},u(C.name),9,fCe))),128))],544),[[Me,h(i).params.user_id]])]),o("div",hCe,[S(Ie,{size:"sm",onClick:x[5]||(x[5]=C=>d())},{default:K(()=>[Q(u(w.__("Assign Working Hours")),1)]),_:1})])]),o("section",null,[o("div",mCe,[o("div",pCe,[o("div",gCe,[o("div",_Ce,[o("table",vCe,[o("thead",null,[o("tr",null,[S(Le,{name:"working-hours",index:h(i),label:w.__("Employee")},null,8,["index","label"]),S(Le,{name:"working-hours",index:h(i),label:w.__("Schedule")},null,8,["index","label"]),S(Le,{name:"working-hours",index:h(i),label:w.__("Type")},null,8,["index","label"]),S(Le,{name:"working-hours",index:h(i),label:w.__("Effective Period")},null,8,["index","label"]),S(Le,{name:"working-hours",index:h(i),label:w.__("Status")},null,8,["index","label"]),S(Le,{name:"working-hours",index:h(i),label:w.__("Assigned By")},null,8,["index","label"]),x[7]||(x[7]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",yCe,[(_(!0),y(de,null,ye(h(i).data.data,C=>{var O,N,E;return _(),y("tr",{key:C.id,class:"hover:bg-gray-50"},[o("td",bCe,[o("div",xCe,[o("div",wCe,[S(rs,{user:C.user,size:"10"},null,8,["user"])]),o("div",kCe,[o("div",$Ce,u((O=C.user)==null?void 0:O.name),1),o("div",CCe,u((N=C.user)==null?void 0:N.email),1)])])]),o("td",SCe,[o("div",MCe,u(p(C.start_time))+" - "+u(p(C.end_time)),1),o("div",TCe,u(v(C.start_time,C.end_time))+" hours ",1)]),o("td",ACe,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-blue-100 text-blue-800":!C.effective_from&&!C.effective_until,"bg-purple-100 text-purple-800":C.effective_from||C.effective_until}])},u(!C.effective_from&&!C.effective_until?"Permanent":"Temporary"),3)]),o("td",DCe,[!C.effective_from&&!C.effective_until?(_(),y(de,{key:0},[Q(u(w.__("Permanent")),1)],64)):(_(),y(de,{key:1},[Q(u(g(C.effective_from))+" - "+u(g(C.effective_until)||"Ongoing"),1)],64))]),o("td",ECe,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",k(C)])},u(b(C)),3)]),o("td",PCe,u(((E=C.assigned_by)==null?void 0:E.name)||"-"),1),o("td",RCe,[S(h(Nn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:B=>d(C)},null,8,["onClick"]),S(h(Kt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:B=>h(i).deleteIt(C.id)},null,8,["onClick"])])])}),128))])]),(M=h(i).data.data)!=null&&M.length?j("",!0):(_(),ie(gl,{key:0})),S(As,{index:h(i)},null,8,["index"])])])])])]),r.show?(_(),ie(gs,{key:1,size:"lg"},{default:K(()=>[S($6e,{"model-value":r.model,users:n.value,onClose:x[6]||(x[6]=C=>r.show=!1),onSaved:c},null,8,["model-value","users"])]),_:1})):j("",!0)]))}}},OCe={key:0,class:"mt-8 flex justify-center"},ICe={key:1},LCe={class:"mb-6 flex items-start justify-between"},FCe={class:"text-2xl font-bold text-gray-900"},NCe={class:"mt-1 text-sm text-gray-500"},zCe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},BCe={class:"overflow-hidden rounded-lg bg-white shadow"},UCe={class:"p-5"},VCe={class:"flex items-center"},HCe={class:"flex-shrink-0"},WCe={class:"ml-5 w-0 flex-1"},qCe={class:"truncate text-sm font-medium text-gray-500"},KCe={class:"text-lg font-semibold text-gray-900"},YCe={class:"overflow-hidden rounded-lg bg-white shadow"},GCe={class:"p-5"},XCe={class:"flex items-center"},JCe={class:"flex-shrink-0"},QCe={class:"ml-5 w-0 flex-1"},ZCe={class:"truncate text-sm font-medium text-gray-500"},e8e={class:"text-lg font-semibold text-gray-900"},t8e={class:"overflow-hidden rounded-lg bg-white shadow"},s8e={class:"p-5"},n8e={class:"flex items-center"},o8e={class:"flex-shrink-0"},i8e={class:"ml-5 w-0 flex-1"},r8e={class:"truncate text-sm font-medium text-gray-500"},a8e={class:"text-lg font-semibold text-gray-900"},l8e={class:"overflow-hidden rounded-lg bg-white shadow"},d8e={class:"p-5"},c8e={class:"flex items-center"},u8e={class:"flex-shrink-0"},f8e={class:"ml-5 w-0 flex-1"},h8e={class:"truncate text-sm font-medium text-gray-500"},m8e={class:"text-lg font-semibold text-gray-900"},p8e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},g8e={class:"flex flex-1 flex-wrap gap-2"},_8e={value:""},v8e=["value"],y8e={value:""},b8e={value:"pending"},x8e={value:"acknowledged"},w8e={value:""},k8e={value:"same_page"},$8e={value:"computer_inactive"},C8e={value:"power_outage"},S8e={class:"overflow-hidden border-b border-gray-200 bg-white shadow sm:rounded-lg"},M8e={class:"min-w-full divide-y divide-gray-200"},T8e={class:"bg-gray-50"},A8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},D8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},E8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},P8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},R8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},j8e={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},O8e={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},I8e={class:"divide-y divide-gray-200 bg-white"},L8e={class:"whitespace-nowrap px-6 py-4"},F8e={class:"flex items-center"},N8e={class:"h-10 w-10 flex-shrink-0"},z8e={class:"ml-4"},B8e={class:"text-sm font-medium text-gray-900"},U8e={class:"text-sm text-gray-500"},V8e={class:"whitespace-nowrap px-6 py-4"},H8e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},W8e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},q8e={class:"text-xs text-gray-400"},K8e={class:"whitespace-nowrap px-6 py-4"},Y8e={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},G8e=["title"],X8e={key:1,class:"italic text-gray-400"},J8e={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Q8e={class:"flex items-center justify-end gap-2"},Z8e=["title","onClick"],e7e=["title","onClick"],t7e=["title","onClick"],s7e={key:0},n7e={colspan:"7",class:"px-6 py-12 text-center text-gray-500"},o7e={key:0,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},i7e={class:"flex flex-1 justify-between sm:hidden"},r7e=["disabled"],a7e=["disabled"],l7e={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},d7e={class:"text-sm text-gray-700"},c7e={class:"font-medium"},u7e={class:"font-medium"},f7e={class:"font-medium"},h7e={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},m7e=["disabled"],p7e=["disabled"],g7e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},_7e={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},v7e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},y7e={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},b7e={class:"flex items-start justify-between mb-4"},x7e={class:"text-lg font-medium text-gray-900"},w7e={key:0,class:"space-y-4"},k7e={class:"block text-sm font-medium text-gray-500"},$7e={class:"text-sm text-gray-900"},C7e={class:"block text-sm font-medium text-gray-500"},S7e={class:"block text-sm font-medium text-gray-500"},M7e={class:"text-sm text-gray-900"},T7e={class:"block text-sm font-medium text-gray-500"},A7e={class:"text-sm text-gray-900"},D7e={key:0},E7e={class:"block text-sm font-medium text-gray-500"},P7e={class:"text-sm text-gray-900"},R7e={class:"block text-sm font-medium text-gray-500"},j7e={class:"block text-sm font-medium text-gray-500"},O7e={key:0,class:"mt-1 rounded-md bg-gray-50 p-3 text-sm text-gray-900 whitespace-pre-wrap"},I7e={key:1,class:"text-sm italic text-gray-400"},L7e={key:1},F7e={class:"block text-sm font-medium text-gray-500"},N7e={class:"text-sm text-gray-900"},z7e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},B7e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},U7e={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},V7e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},H7e={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},W7e={class:"flex items-start justify-between mb-4"},q7e={class:"text-lg font-medium text-gray-900"},K7e={key:0,class:"space-y-4"},Y7e={class:"block text-sm font-medium text-gray-500"},G7e={class:"text-sm text-gray-900"},X7e={class:"block text-sm font-medium text-gray-700"},J7e=["placeholder"],Q7e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},Z7e=["disabled"],eSe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},tSe={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},sSe={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},nSe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},oSe={class:"sm:flex sm:items-start"},iSe={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},rSe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},aSe={class:"text-lg font-medium leading-6 text-gray-900"},lSe={class:"mt-2"},dSe={class:"text-sm text-gray-500"},cSe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},uSe=["disabled"],fSe={__name:"Index",setup(s){const e=Je("__"),t=I(!0),n=I(null),i=I([]),r=I({data:[]}),a=I(!1),l=I(!1),d=I(!1),c=I(null),f=I(""),m=I(!1),p=I(!1),g=rt({user_id:"",status:"",reason_type:"",date_from:"",date_to:"",page:1}),v=Pe(()=>g.user_id||g.status||g.reason_type||g.date_from||g.date_to),k=async()=>{try{const A=await ce.get("activity/statistics");n.value=A.data}catch{}},b=async()=>{try{const A=await ce.get("activity/users");i.value=A.data}catch{}},w=async()=>{try{const A=new URLSearchParams;g.user_id&&A.append("user_id",g.user_id),g.status&&A.append("status",g.status),g.reason_type&&A.append("reason_type",g.reason_type),g.date_from&&A.append("date_from",g.date_from),g.date_to&&A.append("date_to",g.date_to),A.append("page",g.page);const F=await ce.get(`activity/reports?${A.toString()}`);r.value=F.data}catch{}},x=()=>{g.user_id="",g.status="",g.reason_type="",g.date_from="",g.date_to="",g.page=1,w()},M=A=>{g.page=A,w()},C=A=>A?new Date(A).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"-",O=A=>{switch(A){case"same_page":return"bg-blue-100 text-blue-800";case"computer_inactive":return"bg-orange-100 text-orange-800";case"power_outage":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=A=>{switch(A){case"same_page":return e("Same Page");case"computer_inactive":return e("Inactive");case"power_outage":return e("Power Outage");default:return A}},E=A=>{c.value=A,a.value=!0},B=A=>{c.value=A,f.value=A.user_explanation||"",l.value=!0},L=A=>{c.value=A,d.value=!0},P=async()=>{if(c.value){m.value=!0;try{await ce.put(`activity/reports/${c.value.id}`,{user_explanation:f.value});const A=r.value.data.findIndex(F=>F.id===c.value.id);A!==-1&&(r.value.data[A].user_explanation=f.value),l.value=!1,c.value=null,f.value=""}catch{alert(e("Failed to save explanation"))}finally{m.value=!1}}},R=async()=>{if(c.value){p.value=!0;try{await ce.delete(`activity/reports/${c.value.id}`),r.value.data=r.value.data.filter(A=>A.id!==c.value.id),d.value=!1,c.value=null,k()}catch{alert(e("Failed to delete report"))}finally{p.value=!1}}};return Ye(async()=>{try{await Promise.all([k(),b(),w()])}catch{}finally{t.value=!1}}),(A,F)=>{var ae,le,J,ne,q;const be=cn("router-link");return t.value?(_(),y("div",OCe,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",ICe,[o("div",LCe,[o("div",null,[o("h1",FCe,u(h(e)("Activity Reports")),1),o("p",NCe,u(h(e)("Monitor employee activity and view inactivity explanations")),1)]),S(be,{to:"/activity-reports/settings",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:K(()=>[S(h(o$),{class:"mr-2 h-4 w-4"}),Q(" "+u(h(e)("Settings")),1)]),_:1})]),n.value?(_(),y("div",zCe,[o("div",BCe,[o("div",UCe,[o("div",VCe,[o("div",HCe,[S(h(Fc),{class:"h-6 w-6 text-gray-400"})]),o("div",WCe,[o("dl",null,[o("dt",qCe,u(h(e)("Reports Today")),1),o("dd",KCe,u(n.value.total_reports_today),1)])])])])]),o("div",YCe,[o("div",GCe,[o("div",XCe,[o("div",JCe,[S(h(Zs),{class:"h-6 w-6 text-yellow-400"})]),o("div",QCe,[o("dl",null,[o("dt",ZCe,u(h(e)("Pending Responses")),1),o("dd",e8e,u(n.value.pending_reports),1)])])])])]),o("div",t8e,[o("div",s8e,[o("div",n8e,[o("div",o8e,[S(h(ys),{class:"h-6 w-6 text-green-400"})]),o("div",i8e,[o("dl",null,[o("dt",r8e,u(h(e)("Acknowledged Today")),1),o("dd",a8e,u(n.value.acknowledged_today),1)])])])])]),o("div",l8e,[o("div",d8e,[o("div",c8e,[o("div",u8e,[S(h(qh),{class:"h-6 w-6 text-red-400"})]),o("div",f8e,[o("dl",null,[o("dt",h8e,u(h(e)("Power Outages Today")),1),o("dd",m8e,u(n.value.power_outages_today),1)])])])])])])):j("",!0),o("div",p8e,[o("div",g8e,[z(o("select",{"onUpdate:modelValue":F[0]||(F[0]=oe=>g.user_id=oe),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},[o("option",_8e,u(h(e)("All Employees")),1),(_(!0),y(de,null,ye(i.value,oe=>(_(),y("option",{key:oe.id,value:oe.id},u(oe.name),9,v8e))),128))],544),[[Me,g.user_id]]),z(o("select",{"onUpdate:modelValue":F[1]||(F[1]=oe=>g.status=oe),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},[o("option",y8e,u(h(e)("All Statuses")),1),o("option",b8e,u(h(e)("Pending")),1),o("option",x8e,u(h(e)("Acknowledged")),1)],544),[[Me,g.status]]),z(o("select",{"onUpdate:modelValue":F[2]||(F[2]=oe=>g.reason_type=oe),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},[o("option",w8e,u(h(e)("All Types")),1),o("option",k8e,u(h(e)("Same Page")),1),o("option",$8e,u(h(e)("Computer Inactive")),1),o("option",C8e,u(h(e)("Power Outage")),1)],544),[[Me,g.reason_type]]),z(o("input",{"onUpdate:modelValue":F[3]||(F[3]=oe=>g.date_from=oe),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},null,544),[[te,g.date_from]]),z(o("input",{"onUpdate:modelValue":F[4]||(F[4]=oe=>g.date_to=oe),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w},null,544),[[te,g.date_to]]),v.value?(_(),y("button",{key:0,type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:x},[S(h(li),{class:"mr-1 h-4 w-4"}),Q(" "+u(h(e)("Clear")),1)])):j("",!0)]),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:w},[S(h(Er),{class:"mr-2 h-4 w-4"}),Q(" "+u(h(e)("Refresh")),1)])]),o("div",S8e,[o("table",M8e,[o("thead",T8e,[o("tr",null,[o("th",A8e,u(h(e)("Employee")),1),o("th",D8e,u(h(e)("Type")),1),o("th",E8e,u(h(e)("Duration")),1),o("th",P8e,u(h(e)("Time Period")),1),o("th",R8e,u(h(e)("Status")),1),o("th",j8e,u(h(e)("Explanation")),1),o("th",O8e,u(h(e)("Actions")),1)])]),o("tbody",I8e,[(_(!0),y(de,null,ye(r.value.data,oe=>{var xe,je;return _(),y("tr",{key:oe.id,class:"hover:bg-gray-50"},[o("td",L8e,[o("div",F8e,[o("div",N8e,[S(rs,{user:oe.user,size:"10"},null,8,["user"])]),o("div",z8e,[o("div",B8e,u((xe=oe.user)==null?void 0:xe.name),1),o("div",U8e,u((je=oe.user)==null?void 0:je.email),1)])])]),o("td",V8e,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",O(oe.reason_type)])},u(N(oe.reason_type)),3)]),o("td",H8e,u(oe.inactive_duration_minutes)+" "+u(h(e)("minutes")),1),o("td",W8e,[o("div",null,u(C(oe.inactive_from)),1),o("div",q8e,u(h(e)("to"))+" "+u(C(oe.inactive_until)),1)]),o("td",K8e,[o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",oe.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},u(oe.is_pending?h(e)("Pending"):h(e)("Acknowledged")),3)]),o("td",Y8e,[oe.user_explanation?(_(),y("div",{key:0,class:"truncate",title:oe.user_explanation},u(oe.user_explanation),9,G8e)):(_(),y("span",X8e,u(h(e)("Awaiting response...")),1))]),o("td",J8e,[o("div",Q8e,[o("button",{type:"button",class:"text-indigo-600 hover:text-indigo-900",title:h(e)("View Details"),onClick:ot=>E(oe)},[S(h(Fn),{class:"h-5 w-5"})],8,Z8e),oe.user_explanation?(_(),y("button",{key:0,type:"button",class:"text-blue-600 hover:text-blue-900",title:h(e)("Edit Explanation"),onClick:ot=>B(oe)},[S(h(Nn),{class:"h-5 w-5"})],8,e7e)):j("",!0),o("button",{type:"button",class:"text-red-600 hover:text-red-900",title:h(e)("Delete Report"),onClick:ot=>L(oe)},[S(h(Kt),{class:"h-5 w-5"})],8,t7e)])])])}),128)),(ae=r.value.data)!=null&&ae.length?j("",!0):(_(),y("tr",s7e,[o("td",n7e,u(h(e)("No activity reports found")),1)]))])]),(le=r.value.data)!=null&&le.length?(_(),y("div",o7e,[o("div",i7e,[o("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:F[5]||(F[5]=oe=>M(r.value.current_page-1))},u(h(e)("Previous")),9,r7e),o("button",{disabled:!r.value.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:F[6]||(F[6]=oe=>M(r.value.current_page+1))},u(h(e)("Next")),9,a7e)]),o("div",l7e,[o("div",null,[o("p",d7e,[Q(u(h(e)("Showing"))+" ",1),o("span",c7e,u(r.value.from),1),Q(" "+u(h(e)("to"))+" ",1),o("span",u7e,u(r.value.to),1),Q(" "+u(h(e)("of"))+" ",1),o("span",f7e,u(r.value.total),1),Q(" "+u(h(e)("results")),1)])]),o("div",null,[o("nav",h7e,[o("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:F[7]||(F[7]=oe=>M(r.value.current_page-1))},[S(h(t$),{class:"h-5 w-5"})],8,m7e),o("button",{disabled:!r.value.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:F[8]||(F[8]=oe=>M(r.value.current_page+1))},[S(h(Ev),{class:"h-5 w-5"})],8,p7e)])])])])):j("",!0)]),(_(),ie(yr,{to:"body"},[a.value?(_(),y("div",g7e,[o("div",_7e,[o("div",{class:"fixed inset-0 transition-opacity",onClick:F[9]||(F[9]=oe=>a.value=!1)},[...F[16]||(F[16]=[o("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])]),F[17]||(F[17]=o("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),o("div",v7e,[o("div",y7e,[o("div",b7e,[o("h3",x7e,u(h(e)("Activity Report Details")),1),o("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:F[10]||(F[10]=oe=>a.value=!1)},[S(h(li),{class:"h-6 w-6"})])]),c.value?(_(),y("div",w7e,[o("div",null,[o("label",k7e,u(h(e)("Employee")),1),o("p",$7e,u((J=c.value.user)==null?void 0:J.name)+" ("+u((ne=c.value.user)==null?void 0:ne.email)+")",1)]),o("div",null,[o("label",C7e,u(h(e)("Type")),1),o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",O(c.value.reason_type)])},u(N(c.value.reason_type)),3)]),o("div",null,[o("label",S7e,u(h(e)("Duration")),1),o("p",M7e,u(c.value.inactive_duration_minutes)+" "+u(h(e)("minutes")),1)]),o("div",null,[o("label",T7e,u(h(e)("Time Period")),1),o("p",A7e,u(C(c.value.inactive_from))+" - "+u(C(c.value.inactive_until)),1)]),c.value.page_url?(_(),y("div",D7e,[o("label",E7e,u(h(e)("Page")),1),o("p",P7e,u(c.value.page_title||c.value.page_url),1)])):j("",!0),o("div",null,[o("label",R7e,u(h(e)("Status")),1),o("span",{class:ee(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",c.value.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},u(c.value.is_pending?h(e)("Pending"):h(e)("Acknowledged")),3)]),o("div",null,[o("label",j7e,u(h(e)("Explanation")),1),c.value.user_explanation?(_(),y("div",O7e,u(c.value.user_explanation),1)):(_(),y("p",I7e,u(h(e)("No explanation provided yet")),1))]),c.value.acknowledged_at?(_(),y("div",L7e,[o("label",F7e,u(h(e)("Acknowledged At")),1),o("p",N7e,u(C(c.value.acknowledged_at)),1)])):j("",!0)])):j("",!0)]),o("div",z7e,[o("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:F[11]||(F[11]=oe=>a.value=!1)},u(h(e)("Close")),1)])])])])):j("",!0)])),(_(),ie(yr,{to:"body"},[l.value?(_(),y("div",B7e,[o("div",U7e,[F[18]||(F[18]=o("div",{class:"fixed inset-0 transition-opacity"},[o("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),F[19]||(F[19]=o("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),o("div",V7e,[o("div",H7e,[o("div",W7e,[o("h3",q7e,u(h(e)("Edit Explanation")),1),o("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:F[12]||(F[12]=oe=>l.value=!1)},[S(h(li),{class:"h-6 w-6"})])]),c.value?(_(),y("div",K7e,[o("div",null,[o("label",Y7e,u(h(e)("Employee")),1),o("p",G7e,u((q=c.value.user)==null?void 0:q.name),1)]),o("div",null,[o("label",X7e,u(h(e)("Explanation")),1),z(o("textarea",{"onUpdate:modelValue":F[13]||(F[13]=oe=>f.value=oe),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h(e)("Enter explanation...")},null,8,J7e),[[te,f.value]])])])):j("",!0)]),o("div",Q7e,[o("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:m.value,onClick:P},u(m.value?h(e)("Saving..."):h(e)("Save")),9,Z7e),o("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:F[14]||(F[14]=oe=>l.value=!1)},u(h(e)("Cancel")),1)])])])])):j("",!0)])),(_(),ie(yr,{to:"body"},[d.value?(_(),y("div",eSe,[o("div",tSe,[F[20]||(F[20]=o("div",{class:"fixed inset-0 transition-opacity"},[o("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),F[21]||(F[21]=o("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),o("div",sSe,[o("div",nSe,[o("div",oSe,[o("div",iSe,[S(h(Kt),{class:"h-6 w-6 text-red-600"})]),o("div",rSe,[o("h3",aSe,u(h(e)("Delete Report")),1),o("div",lSe,[o("p",dSe,u(h(e)("Are you sure you want to delete this activity report? This action cannot be undone.")),1)])])])]),o("div",cSe,[o("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:p.value,onClick:R},u(p.value?h(e)("Deleting..."):h(e)("Delete")),9,uSe),o("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:F[15]||(F[15]=oe=>d.value=!1)},u(h(e)("Cancel")),1)])])])])):j("",!0)]))]))}}},hSe={key:0,class:"mt-8 flex justify-center"},mSe={key:1},pSe={class:"mb-6"},gSe={class:"text-2xl font-bold text-gray-900"},_Se={class:"mt-1 text-sm text-gray-500"},vSe={class:"overflow-hidden rounded-lg bg-white shadow"},ySe={class:"p-6"},bSe={class:"flex items-center justify-between"},xSe={class:"text-lg font-medium text-gray-900"},wSe={class:"mt-1 text-sm text-gray-500"},kSe=["aria-checked"],$Se={class:"overflow-hidden rounded-lg bg-white shadow"},CSe={class:"p-6"},SSe={class:"text-lg font-medium text-gray-900 mb-4"},MSe={class:"text-sm text-gray-500 mb-4"},TSe={class:"space-y-3"},ASe=["onUpdate:modelValue","placeholder"],DSe=["onClick"],ESe={class:"overflow-hidden rounded-lg bg-white shadow"},PSe={class:"p-6"},RSe={class:"text-lg font-medium text-gray-900 mb-4"},jSe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},OSe={class:"block text-sm font-medium text-gray-700"},ISe={class:"mt-1 text-xs text-gray-500"},LSe={class:"block text-sm font-medium text-gray-700"},FSe={class:"mt-1 text-xs text-gray-500"},NSe={class:"block text-sm font-medium text-gray-700"},zSe={class:"mt-1 text-xs text-gray-500"},BSe={class:"overflow-hidden rounded-lg bg-white shadow"},USe={class:"p-6"},VSe={class:"text-lg font-medium text-gray-900 mb-4"},HSe={class:"text-sm text-gray-500 mb-4"},WSe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},qSe={class:"block text-sm font-medium text-gray-700"},KSe={class:"block text-sm font-medium text-gray-700"},YSe={class:"flex justify-end"},GSe=["disabled"],XSe={key:0,class:"mr-2"},JSe={__name:"Settings",setup(s){const e=Je("__"),t=I(!0),n=I(!1),i=rt({enabled:!0,exception_urls:["https://nyasajob.com","https://studyseco.com","https://malawirents.com","https://emphxs.com","https://zoswa.com"],same_page_threshold:15,inactivity_threshold:10,heartbeat_interval:60,lunch_start:"12:00",lunch_end:"13:00"}),r=async()=>{try{const c=await ce.get("activity/settings");Object.assign(i,c.data),Array.isArray(i.exception_urls)||(i.exception_urls=[])}catch{}finally{t.value=!1}},a=async()=>{n.value=!0;try{const c={...i,exception_urls:i.exception_urls.filter(f=>f&&f.trim()!=="")};await ce.post("activity/settings",c),alert(e("Settings saved successfully"))}catch{alert(e("Failed to save settings"))}finally{n.value=!1}},l=()=>{i.exception_urls.push("")},d=c=>{i.exception_urls.splice(c,1)};return Ye(()=>{r()}),(c,f)=>t.value?(_(),y("div",hSe,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",mSe,[o("div",pSe,[o("h1",gSe,u(h(e)("Activity Monitoring Settings")),1),o("p",_Se,u(h(e)("Configure activity tracking behavior, exception URLs, and thresholds")),1)]),o("form",{onSubmit:We(a,["prevent"]),class:"space-y-6"},[o("div",vSe,[o("div",ySe,[o("div",bSe,[o("div",null,[o("h3",xSe,u(h(e)("Activity Monitoring")),1),o("p",wSe,u(h(e)("Enable or disable activity monitoring for all employees")),1)]),o("button",{type:"button",role:"switch","aria-checked":i.enabled,class:ee([i.enabled?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"]),onClick:f[0]||(f[0]=m=>i.enabled=!i.enabled)},[o("span",{class:ee([i.enabled?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],10,kSe)])])]),o("div",$Se,[o("div",CSe,[o("h3",SSe,u(h(e)("Exception URLs (Company Pages)")),1),o("p",MSe,u(h(e)("Activity tracking will be skipped when users are browsing these domains. This is useful for company websites where employees may spend extended time.")),1),o("div",TSe,[(_(!0),y(de,null,ye(i.exception_urls,(m,p)=>(_(),y("div",{key:p,class:"flex gap-2"},[z(o("input",{"onUpdate:modelValue":g=>i.exception_urls[p]=g,type:"url",class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h(e)("https://example.com")},null,8,ASe),[[te,i.exception_urls[p]]]),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:g=>d(p)},[S(h(Kt),{class:"h-4 w-4 text-red-500"})],8,DSe)]))),128)),o("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:l},[S(h(Sn),{class:"mr-2 h-4 w-4"}),Q(" "+u(h(e)("Add URL")),1)])])])]),o("div",ESe,[o("div",PSe,[o("h3",RSe,u(h(e)("Thresholds")),1),o("div",jSe,[o("div",null,[o("label",OSe,u(h(e)("Same Page Threshold (minutes)")),1),o("p",ISe,u(h(e)("Alert if user stays on the same page for this duration")),1),z(o("input",{"onUpdate:modelValue":f[1]||(f[1]=m=>i.same_page_threshold=m),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,i.same_page_threshold,void 0,{number:!0}]])]),o("div",null,[o("label",LSe,u(h(e)("Inactivity Threshold (minutes)")),1),o("p",FSe,u(h(e)("Alert if no mouse/keyboard activity for this duration")),1),z(o("input",{"onUpdate:modelValue":f[2]||(f[2]=m=>i.inactivity_threshold=m),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,i.inactivity_threshold,void 0,{number:!0}]])]),o("div",null,[o("label",NSe,u(h(e)("Heartbeat Interval (seconds)")),1),o("p",zSe,u(h(e)("How often to send activity updates to the server")),1),z(o("input",{"onUpdate:modelValue":f[3]||(f[3]=m=>i.heartbeat_interval=m),type:"number",min:"30",max:"300",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,i.heartbeat_interval,void 0,{number:!0}]])])])])]),o("div",BSe,[o("div",USe,[o("h3",VSe,u(h(e)("Lunch Break (Skip Tracking)")),1),o("p",HSe,u(h(e)("Activity tracking will be paused during this time period")),1),o("div",WSe,[o("div",null,[o("label",qSe,u(h(e)("Start Time")),1),z(o("input",{"onUpdate:modelValue":f[4]||(f[4]=m=>i.lunch_start=m),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,i.lunch_start]])]),o("div",null,[o("label",KSe,u(h(e)("End Time")),1),z(o("input",{"onUpdate:modelValue":f[5]||(f[5]=m=>i.lunch_end=m),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,i.lunch_end]])])])])]),o("div",YSe,[o("button",{type:"submit",disabled:n.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(_(),y("span",XSe,[...f[6]||(f[6]=[o("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):j("",!0),Q(" "+u(n.value?h(e)("Saving..."):h(e)("Save Settings")),1)],8,GSe)])],32)]))}},QSe={class:"border-b border-gray-200 px-6 py-4"},ZSe={class:"text-lg font-semibold text-gray-900"},e9e={class:"max-h-[70vh] space-y-6 overflow-y-auto px-6 py-4"},t9e={class:"mb-4 text-md font-medium text-gray-900"},s9e={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},n9e={class:"block text-sm font-medium text-gray-700"},o9e={key:0,class:"mt-1 text-sm text-red-600"},i9e={class:"block text-sm font-medium text-gray-700"},r9e={class:"block text-sm font-medium text-gray-700"},a9e={key:0,class:"mt-1 text-sm text-red-600"},l9e={class:"block text-sm font-medium text-gray-700"},d9e={class:"block text-sm font-medium text-gray-700"},c9e={class:"block text-sm font-medium text-gray-700"},u9e={class:"block text-sm font-medium text-gray-700"},f9e={class:"block text-sm font-medium text-gray-700"},h9e={value:""},m9e={class:"border-t border-gray-200 pt-6"},p9e={class:"mb-4 text-md font-medium text-gray-900"},g9e={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},_9e={class:"block text-sm font-medium text-gray-700"},v9e=["value"],y9e={key:0,class:"mt-1 text-sm text-red-600"},b9e={class:"block text-sm font-medium text-gray-700"},x9e={value:""},w9e=["value"],k9e={class:"block text-sm font-medium text-gray-700"},$9e={value:""},C9e=["value"],S9e={class:"block text-sm font-medium text-gray-700"},M9e=["value"],T9e={class:"sm:col-span-2"},A9e={class:"block text-sm font-medium text-gray-700"},D9e=["placeholder"],E9e={key:0,class:"border-t border-gray-200 pt-6"},P9e={class:"mb-4 text-md font-medium text-gray-900"},R9e={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},j9e={class:"block text-sm font-medium text-gray-700"},O9e=["value"],I9e={class:"block text-sm font-medium text-gray-700"},L9e=["value"],F9e={class:"block text-sm font-medium text-gray-700"},N9e={value:""},z9e=["value"],B9e={class:"block text-sm font-medium text-gray-700"},U9e={key:0,class:"sm:col-span-2"},V9e={class:"block text-sm font-medium text-gray-700"},H9e=["placeholder"],W9e={class:"border-t border-gray-200 pt-6"},q9e={class:"block text-sm font-medium text-gray-700"},K9e=["placeholder"],Y9e={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},G9e={__name:"Form",props:{modelValue:{type:Object,default:null},options:{type:Object,default:()=>({})}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,i=I(!1),r=I({}),a=rt({first_name:"",last_name:"",email:"",phone:"",company_name:"",job_title:"",website:"",country:"Malawi",city:"",service_interest:"web_development",project_description:"",budget_range:"",timeline:"",source:"website",status:"new",priority:"warm",assigned_to:"",next_follow_up_at:"",internal_notes:"",loss_reason:""}),l=async()=>{var c,f;i.value=!0,r.value={};const d=t.modelValue?`leads/${t.modelValue.id}`:"leads";try{t.modelValue?await ce.put(d,a):await ce.post(d,a),n("saved"),n("close")}catch(m){(f=(c=m.response)==null?void 0:c.data)!=null&&f.errors&&(r.value=m.response.data.errors)}finally{i.value=!1}};return Et(()=>t.modelValue,d=>{d&&Object.assign(a,{first_name:d.first_name||"",last_name:d.last_name||"",email:d.email||"",phone:d.phone||"",company_name:d.company_name||"",job_title:d.job_title||"",website:d.website||"",country:d.country||"Malawi",city:d.city||"",service_interest:d.service_interest||"web_development",project_description:d.project_description||"",budget_range:d.budget_range||"",timeline:d.timeline||"",source:d.source||"website",status:d.status||"new",priority:d.priority||"warm",assigned_to:d.assigned_to||"",next_follow_up_at:d.next_follow_up_at?d.next_follow_up_at.slice(0,16):"",internal_notes:d.internal_notes||"",loss_reason:d.loss_reason||""})},{immediate:!0}),(d,c)=>{var f,m,p,g,v,k,b;return _(),y("div",null,[o("div",QSe,[o("h2",ZSe,u(s.modelValue?d.__("Edit Lead"):d.__("Add Lead")),1)]),o("div",e9e,[o("div",null,[o("h3",t9e,u(d.__("Contact Information")),1),o("div",s9e,[o("div",null,[o("label",n9e,[Q(u(d.__("First Name"))+" ",1),c[20]||(c[20]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":c[0]||(c[0]=w=>a.first_name=w),type:"text",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.first_name}]),required:""},null,2),[[te,a.first_name]]),r.value.first_name?(_(),y("p",o9e,u(r.value.first_name[0]),1)):j("",!0)]),o("div",null,[o("label",i9e,u(d.__("Last Name")),1),z(o("input",{"onUpdate:modelValue":c[1]||(c[1]=w=>a.last_name=w),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,a.last_name]])]),o("div",null,[o("label",r9e,[Q(u(d.__("Email"))+" ",1),c[21]||(c[21]=o("span",{class:"text-red-500"},"*",-1))]),z(o("input",{"onUpdate:modelValue":c[2]||(c[2]=w=>a.email=w),type:"email",class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),required:""},null,2),[[te,a.email]]),r.value.email?(_(),y("p",a9e,u(r.value.email[0]),1)):j("",!0)]),o("div",null,[o("label",l9e,u(d.__("Phone")),1),z(o("input",{"onUpdate:modelValue":c[3]||(c[3]=w=>a.phone=w),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,a.phone]])]),o("div",null,[o("label",d9e,u(d.__("Company")),1),z(o("input",{"onUpdate:modelValue":c[4]||(c[4]=w=>a.company_name=w),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,a.company_name]])]),o("div",null,[o("label",c9e,u(d.__("Job Title")),1),z(o("input",{"onUpdate:modelValue":c[5]||(c[5]=w=>a.job_title=w),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,a.job_title]])]),o("div",null,[o("label",u9e,u(d.__("Website")),1),z(o("input",{"onUpdate:modelValue":c[6]||(c[6]=w=>a.website=w),type:"url",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://"},null,512),[[te,a.website]])]),o("div",null,[o("label",f9e,u(d.__("Country")),1),z(o("select",{"onUpdate:modelValue":c[7]||(c[7]=w=>a.country=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",h9e,u(d.__("Select Country")),1),c[22]||(c[22]=_i('<option value="Malawi">Malawi</option><option value="Zambia">Zambia</option><option value="Tanzania">Tanzania</option><option value="Mozambique">Mozambique</option><option value="Zimbabwe">Zimbabwe</option><option value="South Africa">South Africa</option><option value="Kenya">Kenya</option><option value="United States">United States</option><option value="United Kingdom">United Kingdom</option><option value="Other">Other</option>',10))],512),[[Me,a.country]])])])]),o("div",m9e,[o("h3",p9e,u(d.__("Project Details")),1),o("div",g9e,[o("div",null,[o("label",_9e,[Q(u(d.__("Service Interest"))+" ",1),c[23]||(c[23]=o("span",{class:"text-red-500"},"*",-1))]),z(o("select",{"onUpdate:modelValue":c[8]||(c[8]=w=>a.service_interest=w),class:ee(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.service_interest}]),required:""},[(_(!0),y(de,null,ye((f=s.options)==null?void 0:f.service_interests,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,v9e))),128))],2),[[Me,a.service_interest]]),r.value.service_interest?(_(),y("p",y9e,u(r.value.service_interest[0]),1)):j("",!0)]),o("div",null,[o("label",b9e,u(d.__("Budget Range")),1),z(o("select",{"onUpdate:modelValue":c[9]||(c[9]=w=>a.budget_range=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",x9e,u(d.__("Not Specified")),1),(_(!0),y(de,null,ye((m=s.options)==null?void 0:m.budget_ranges,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,w9e))),128))],512),[[Me,a.budget_range]])]),o("div",null,[o("label",k9e,u(d.__("Timeline")),1),z(o("select",{"onUpdate:modelValue":c[10]||(c[10]=w=>a.timeline=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",$9e,u(d.__("Not Specified")),1),(_(!0),y(de,null,ye((p=s.options)==null?void 0:p.timelines,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,C9e))),128))],512),[[Me,a.timeline]])]),o("div",null,[o("label",S9e,u(d.__("Source")),1),z(o("select",{"onUpdate:modelValue":c[11]||(c[11]=w=>a.source=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(_(!0),y(de,null,ye((g=s.options)==null?void 0:g.sources,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,M9e))),128))],512),[[Me,a.source]])]),o("div",T9e,[o("label",A9e,u(d.__("Project Description")),1),z(o("textarea",{"onUpdate:modelValue":c[12]||(c[12]=w=>a.project_description=w),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Describe the project requirements...")},null,8,D9e),[[te,a.project_description]])])])]),s.modelValue?(_(),y("div",E9e,[o("h3",P9e,u(d.__("Lead Qualification")),1),o("div",R9e,[o("div",null,[o("label",j9e,u(d.__("Status")),1),z(o("select",{"onUpdate:modelValue":c[13]||(c[13]=w=>a.status=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(_(!0),y(de,null,ye((v=s.options)==null?void 0:v.statuses,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,O9e))),128))],512),[[Me,a.status]])]),o("div",null,[o("label",I9e,u(d.__("Priority")),1),z(o("select",{"onUpdate:modelValue":c[14]||(c[14]=w=>a.priority=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(_(!0),y(de,null,ye((k=s.options)==null?void 0:k.priorities,(w,x)=>(_(),y("option",{key:x,value:x},u(w),9,L9e))),128))],512),[[Me,a.priority]])]),o("div",null,[o("label",F9e,u(d.__("Assigned To")),1),z(o("select",{"onUpdate:modelValue":c[15]||(c[15]=w=>a.assigned_to=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[o("option",N9e,u(d.__("Unassigned")),1),(_(!0),y(de,null,ye((b=s.options)==null?void 0:b.assignable_users,w=>(_(),y("option",{key:w.id,value:w.id},u(w.name),9,z9e))),128))],512),[[Me,a.assigned_to]])]),o("div",null,[o("label",B9e,u(d.__("Next Follow-up")),1),z(o("input",{"onUpdate:modelValue":c[16]||(c[16]=w=>a.next_follow_up_at=w),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[te,a.next_follow_up_at]])]),a.status==="lost"?(_(),y("div",U9e,[o("label",V9e,u(d.__("Loss Reason")),1),z(o("input",{"onUpdate:modelValue":c[17]||(c[17]=w=>a.loss_reason=w),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Why was this lead lost?")},null,8,H9e),[[te,a.loss_reason]])])):j("",!0)])])):j("",!0),o("div",W9e,[o("label",q9e,u(d.__("Internal Notes")),1),z(o("textarea",{"onUpdate:modelValue":c[18]||(c[18]=w=>a.internal_notes=w),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Private notes about this lead...")},null,8,K9e),[[te,a.internal_notes]])])]),o("div",Y9e,[S(Ie,{variant:"secondary",onClick:c[19]||(c[19]=w=>d.$emit("close"))},{default:K(()=>[Q(u(d.__("Cancel")),1)]),_:1}),S(Ie,{disabled:i.value,onClick:l},{default:K(()=>[Q(u(s.modelValue?d.__("Update Lead"):d.__("Create Lead")),1)]),_:1},8,["disabled"])])])}}},X9e={key:0,class:"flex justify-center py-12"},J9e={key:1},Q9e={class:"border-b border-gray-200 px-6 py-4"},Z9e={class:"flex items-start justify-between"},eMe={class:"flex items-center"},tMe={class:"ml-4"},sMe={class:"text-xl font-semibold text-gray-900"},nMe={class:"text-sm text-gray-500"},oMe={class:"mt-4 flex flex-wrap gap-2"},iMe={class:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-sm font-medium text-gray-700"},rMe={class:"max-h-[70vh] overflow-y-auto"},aMe={class:"border-b border-gray-200 bg-gray-50 px-6 py-3"},lMe={class:"flex flex-wrap gap-2"},dMe={class:"grid grid-cols-1 gap-6 p-6 lg:grid-cols-3"},cMe={class:"lg:col-span-2 space-y-6"},uMe={class:"rounded-lg border border-gray-200 bg-white p-4"},fMe={class:"mb-4 font-semibold text-gray-900"},hMe={class:"grid grid-cols-2 gap-4 text-sm"},mMe={class:"text-gray-500"},pMe={class:"mt-1 font-medium text-gray-900"},gMe=["href"],_Me={class:"text-gray-500"},vMe={class:"mt-1 font-medium text-gray-900"},yMe=["href"],bMe={key:1,class:"text-gray-400"},xMe={class:"text-gray-500"},wMe={class:"mt-1 font-medium text-gray-900"},kMe={class:"text-gray-500"},$Me={class:"mt-1 font-medium text-gray-900"},CMe={class:"text-gray-500"},SMe={class:"mt-1 font-medium text-gray-900"},MMe={class:"text-gray-500"},TMe={class:"mt-1 font-medium text-gray-900"},AMe=["href"],DMe={key:1,class:"text-gray-400"},EMe={class:"rounded-lg border border-gray-200 bg-white p-4"},PMe={class:"mb-4 font-semibold text-gray-900"},RMe={class:"space-y-4 text-sm"},jMe={class:"grid grid-cols-3 gap-4"},OMe={class:"text-gray-500"},IMe={class:"mt-1 font-medium text-gray-900"},LMe={class:"text-gray-500"},FMe={class:"mt-1 font-medium text-gray-900"},NMe={class:"text-gray-500"},zMe={class:"mt-1 font-medium text-gray-900"},BMe={key:0},UMe={class:"text-gray-500"},VMe={class:"mt-1 whitespace-pre-wrap text-gray-900"},HMe={class:"rounded-lg border border-gray-200 bg-white p-4"},WMe={class:"mb-4 font-semibold text-gray-900"},qMe={key:0,class:"flow-root"},KMe={class:"-mb-8"},YMe={class:"relative pb-8"},GMe={key:0,class:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"},XMe={class:"relative flex space-x-3"},JMe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},QMe={class:"text-sm font-medium text-gray-900"},ZMe={key:0,class:"mt-1 text-sm text-gray-500"},eTe={class:"whitespace-nowrap text-right text-sm text-gray-500"},tTe={key:0,class:"text-xs"},sTe={key:1,class:"text-center text-sm text-gray-500"},nTe={class:"space-y-6"},oTe={class:"rounded-lg border border-gray-200 bg-white p-4"},iTe={class:"mb-4 font-semibold text-gray-900"},rTe={class:"space-y-3 text-sm"},aTe={class:"text-gray-500"},lTe={class:"mt-1 font-medium text-gray-900"},dTe={class:"text-gray-500"},cTe={class:"mt-1 font-medium text-gray-900"},uTe={class:"text-gray-500"},fTe={class:"mt-1 font-medium text-gray-900"},hTe={key:0},mTe={class:"text-gray-500"},pTe={class:"mt-1 font-medium text-gray-900"},gTe={key:1},_Te={class:"text-gray-500"},vTe={key:0,class:"rounded-lg border border-gray-200 bg-white p-4"},yTe={class:"mb-4 font-semibold text-gray-900"},bTe={class:"space-y-2 text-sm"},xTe={key:0},wTe={class:"font-medium text-gray-900"},kTe={key:1},$Te={class:"font-medium text-gray-900"},CTe={key:2},STe={class:"font-medium text-gray-900"},MTe={key:3},TTe=["title"],ATe={key:1,class:"rounded-lg border border-gray-200 bg-white p-4"},DTe={class:"mb-2 font-semibold text-gray-900"},ETe={class:"whitespace-pre-wrap text-sm text-gray-600"},PTe={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},RTe={class:"w-full max-w-md rounded-lg bg-white p-6"},jTe={class:"mb-4 text-lg font-semibold"},OTe=["placeholder"],ITe={class:"flex justify-end gap-2"},LTe={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},FTe={class:"w-full max-w-md rounded-lg bg-white p-6"},NTe={class:"mb-4 text-lg font-semibold"},zTe=["placeholder"],BTe={class:"flex justify-end gap-2"},UTe={key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},VTe={class:"w-full max-w-md rounded-lg bg-white p-6"},HTe={class:"mb-4 text-lg font-semibold"},WTe=["placeholder"],qTe=["placeholder"],KTe={class:"flex justify-end gap-2"},YTe={key:5,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},GTe={class:"w-full max-w-md rounded-lg bg-white p-6"},XTe={class:"mb-4 text-lg font-semibold"},JTe=["placeholder"],QTe={class:"flex justify-end gap-2"},ZTe={__name:"Detail",props:{leadId:{type:[Number,String],required:!0}},emits:["close","updated"],setup(s,{emit:e}){const t=s,n=e,i=I(!0),r=I(null),a=I(!1),l=I(!1),d=I(!1),c=I(!1),f=rt({status:"",loss_reason:""}),m=rt({note:""}),p=rt({type:"call_made",outcome:"",notes:""}),g=rt({next_follow_up_at:"",note:""}),v=async()=>{i.value=!0;try{const A=await ce.get(`leads/${t.leadId}`);r.value=A.data.data,f.status=r.value.status}catch{}finally{i.value=!1}},k=async()=>{try{await ce.post(`leads/${t.leadId}/status`,f),a.value=!1,n("updated"),v()}catch{}},b=async()=>{try{await ce.post(`leads/${t.leadId}/note`,m),l.value=!1,m.note="",v()}catch{}},w=async()=>{try{await ce.post(`leads/${t.leadId}/log-call`,p),d.value=!1,Object.assign(p,{type:"call_made",outcome:"",notes:""}),n("updated"),v()}catch{}},x=async()=>{try{await ce.post(`leads/${t.leadId}/follow-up`,g),c.value=!1,Object.assign(g,{next_follow_up_at:"",note:""}),v()}catch{}},M=async()=>{if(confirm("Convert this lead to a client?"))try{await ce.post(`leads/${t.leadId}/convert`),n("updated"),n("close")}catch{}},C=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),O=A=>new Date(A)<new Date,N=A=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[A]||"bg-gray-100 text-gray-800",E=A=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[A]||"bg-gray-100 text-gray-800",B=A=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[A]||"bg-gray-100",L=A=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[A]||"text-gray-600",P=A=>({created:o0,email_sent:a$,call_made:zu,call_received:zu,note_added:n0,status_changed:Er,follow_up_scheduled:dn})[A]||o0,R=A=>({created:"bg-green-500",email_sent:"bg-blue-500",call_made:"bg-indigo-500",call_received:"bg-purple-500",note_added:"bg-yellow-500",status_changed:"bg-gray-500",follow_up_scheduled:"bg-orange-500"})[A]||"bg-gray-500";return Ye(v),(A,F)=>{var be,ae;return _(),y("div",null,[i.value?(_(),y("div",X9e,[S(St,{size:"40",color:"#5850ec"})])):r.value?(_(),y("div",J9e,[o("div",Q9e,[o("div",Z9e,[o("div",eMe,[o("div",{class:ee(["flex h-12 w-12 items-center justify-center rounded-full",B(r.value.priority)])},[o("span",{class:ee(["text-lg font-semibold",L(r.value.priority)])},u(r.value.first_name.charAt(0))+u(r.value.last_name?r.value.last_name.charAt(0):""),3)],2),o("div",tMe,[o("h2",sMe,u(r.value.full_name),1),o("p",nMe,u(r.value.company_name||r.value.email),1)])]),o("button",{class:"text-gray-400 hover:text-gray-600",onClick:F[0]||(F[0]=le=>A.$emit("close"))},[S(h(li),{class:"h-6 w-6"})])]),o("div",oMe,[o("span",{class:ee([N(r.value.status),"inline-flex rounded-full px-3 py-1 text-sm font-medium"])},u(r.value.status_label),3),o("span",{class:ee([E(r.value.priority),"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium"])},[r.value.priority==="hot"?(_(),ie(h(qf),{key:0,class:"mr-1 h-4 w-4"})):j("",!0),Q(" "+u(r.value.priority.charAt(0).toUpperCase()+r.value.priority.slice(1))+" Priority ",1)],2),o("span",iMe," Score: "+u(r.value.score)+"/100 ",1)])]),o("div",rMe,[o("div",aMe,[o("div",lMe,[o("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:F[1]||(F[1]=le=>a.value=!0)},[S(h(Er),{class:"mr-1.5 h-4 w-4"}),Q(" "+u(A.__("Update Status")),1)]),o("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:F[2]||(F[2]=le=>l.value=!0)},[S(h(n0),{class:"mr-1.5 h-4 w-4"}),Q(" "+u(A.__("Add Note")),1)]),o("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:F[3]||(F[3]=le=>d.value=!0)},[S(h(zu),{class:"mr-1.5 h-4 w-4"}),Q(" "+u(A.__("Log Call")),1)]),o("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:F[4]||(F[4]=le=>c.value=!0)},[S(h(dn),{class:"mr-1.5 h-4 w-4"}),Q(" "+u(A.__("Schedule Follow-up")),1)]),r.value.status!=="won"&&r.value.status!=="lost"?(_(),y("button",{key:0,class:"inline-flex items-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-green-700",onClick:M},[S(h(ys),{class:"mr-1.5 h-4 w-4"}),Q(" "+u(A.__("Convert to Client")),1)])):j("",!0)])]),o("div",dMe,[o("div",cMe,[o("div",uMe,[o("h3",fMe,u(A.__("Contact Information")),1),o("dl",hMe,[o("div",null,[o("dt",mMe,u(A.__("Email")),1),o("dd",pMe,[o("a",{href:"mailto:"+r.value.email,class:"text-indigo-600 hover:underline"},u(r.value.email),9,gMe)])]),o("div",null,[o("dt",_Me,u(A.__("Phone")),1),o("dd",vMe,[r.value.phone?(_(),y("a",{key:0,href:"tel:"+r.value.phone,class:"text-indigo-600 hover:underline"},u(r.value.phone),9,yMe)):(_(),y("span",bMe,"-"))])]),o("div",null,[o("dt",xMe,u(A.__("Company")),1),o("dd",wMe,u(r.value.company_name||"-"),1)]),o("div",null,[o("dt",kMe,u(A.__("Job Title")),1),o("dd",$Me,u(r.value.job_title||"-"),1)]),o("div",null,[o("dt",CMe,u(A.__("Location")),1),o("dd",SMe,u([r.value.city,r.value.country].filter(Boolean).join(", ")||"-"),1)]),o("div",null,[o("dt",MMe,u(A.__("Website")),1),o("dd",TMe,[r.value.website?(_(),y("a",{key:0,href:r.value.website,target:"_blank",class:"text-indigo-600 hover:underline"},u(r.value.website),9,AMe)):(_(),y("span",DMe,"-"))])])])]),o("div",EMe,[o("h3",PMe,u(A.__("Project Details")),1),o("dl",RMe,[o("div",jMe,[o("div",null,[o("dt",OMe,u(A.__("Service Interest")),1),o("dd",IMe,u(r.value.service_interest_label),1)]),o("div",null,[o("dt",LMe,u(A.__("Budget")),1),o("dd",FMe,u(r.value.budget_range_label||"-"),1)]),o("div",null,[o("dt",NMe,u(A.__("Timeline")),1),o("dd",zMe,u(r.value.timeline||"-"),1)])]),r.value.project_description?(_(),y("div",BMe,[o("dt",UMe,u(A.__("Description")),1),o("dd",VMe,u(r.value.project_description),1)])):j("",!0)])]),o("div",HMe,[o("h3",WMe,u(A.__("Activity Timeline")),1),(be=r.value.activities)!=null&&be.length?(_(),y("div",qMe,[o("ul",KMe,[(_(!0),y(de,null,ye(r.value.activities,(le,J)=>(_(),y("li",{key:le.id},[o("div",YMe,[J!==r.value.activities.length-1?(_(),y("span",GMe)):j("",!0),o("div",XMe,[o("div",null,[o("span",{class:ee([R(le.type),"flex h-8 w-8 items-center justify-center rounded-full ring-8 ring-white"])},[(_(),ie(fo(P(le.type)),{class:"h-4 w-4 text-white"}))],2)]),o("div",JMe,[o("div",null,[o("p",QMe,u(le.type_label),1),le.description?(_(),y("p",ZMe,u(le.description),1)):j("",!0)]),o("div",eTe,[o("time",null,u(C(le.created_at)),1),le.user?(_(),y("p",tTe,u(le.user.name),1)):j("",!0)])])])])]))),128))])])):(_(),y("p",sTe,u(A.__("No activities yet")),1))])]),o("div",nTe,[o("div",oTe,[o("h3",iTe,u(A.__("Lead Info")),1),o("dl",rTe,[o("div",null,[o("dt",aTe,u(A.__("Source")),1),o("dd",lTe,u(r.value.source),1)]),o("div",null,[o("dt",dTe,u(A.__("Assigned To")),1),o("dd",cTe,u(((ae=r.value.assigned_user)==null?void 0:ae.name)||"Unassigned"),1)]),o("div",null,[o("dt",uTe,u(A.__("Created")),1),o("dd",fTe,u(C(r.value.created_at)),1)]),r.value.last_contacted_at?(_(),y("div",hTe,[o("dt",mTe,u(A.__("Last Contacted")),1),o("dd",pTe,u(C(r.value.last_contacted_at)),1)])):j("",!0),r.value.next_follow_up_at?(_(),y("div",gTe,[o("dt",_Te,u(A.__("Next Follow-up")),1),o("dd",{class:ee(["mt-1 font-medium",O(r.value.next_follow_up_at)?"text-red-600":"text-gray-900"])},u(C(r.value.next_follow_up_at)),3)])):j("",!0)])]),r.value.utm_source||r.value.landing_page?(_(),y("div",vTe,[o("h3",yTe,u(A.__("Tracking Data")),1),o("dl",bTe,[r.value.utm_source?(_(),y("div",xTe,[F[17]||(F[17]=o("dt",{class:"text-gray-500"},"UTM Source",-1)),o("dd",wTe,u(r.value.utm_source),1)])):j("",!0),r.value.utm_medium?(_(),y("div",kTe,[F[18]||(F[18]=o("dt",{class:"text-gray-500"},"UTM Medium",-1)),o("dd",$Te,u(r.value.utm_medium),1)])):j("",!0),r.value.utm_campaign?(_(),y("div",CTe,[F[19]||(F[19]=o("dt",{class:"text-gray-500"},"UTM Campaign",-1)),o("dd",STe,u(r.value.utm_campaign),1)])):j("",!0),r.value.landing_page?(_(),y("div",MTe,[F[20]||(F[20]=o("dt",{class:"text-gray-500"},"Landing Page",-1)),o("dd",{class:"truncate font-medium text-gray-900",title:r.value.landing_page},u(r.value.landing_page),9,TTe)])):j("",!0)])])):j("",!0),r.value.internal_notes?(_(),y("div",ATe,[o("h3",DTe,u(A.__("Internal Notes")),1),o("p",ETe,u(r.value.internal_notes),1)])):j("",!0)])])])])):j("",!0),a.value?(_(),y("div",PTe,[o("div",RTe,[o("h3",jTe,u(A.__("Update Status")),1),z(o("select",{"onUpdate:modelValue":F[5]||(F[5]=le=>f.status=le),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...F[21]||(F[21]=[_i('<option value="new">New</option><option value="contacted">Contacted</option><option value="qualified">Qualified</option><option value="proposal_sent">Proposal Sent</option><option value="negotiation">Negotiation</option><option value="won">Won</option><option value="lost">Lost</option>',7)])],512),[[Me,f.status]]),f.status==="lost"?z((_(),y("input",{key:0,"onUpdate:modelValue":F[6]||(F[6]=le=>f.loss_reason=le),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:A.__("Reason for loss")},null,8,OTe)),[[te,f.loss_reason]]):j("",!0),o("div",ITe,[S(Ie,{variant:"secondary",onClick:F[7]||(F[7]=le=>a.value=!1)},{default:K(()=>[Q(u(A.__("Cancel")),1)]),_:1}),S(Ie,{onClick:k},{default:K(()=>[Q(u(A.__("Update")),1)]),_:1})])])])):j("",!0),l.value?(_(),y("div",LTe,[o("div",FTe,[o("h3",NTe,u(A.__("Add Note")),1),z(o("textarea",{"onUpdate:modelValue":F[8]||(F[8]=le=>m.note=le),rows:"4",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:A.__("Enter your note...")},null,8,zTe),[[te,m.note]]),o("div",BTe,[S(Ie,{variant:"secondary",onClick:F[9]||(F[9]=le=>l.value=!1)},{default:K(()=>[Q(u(A.__("Cancel")),1)]),_:1}),S(Ie,{onClick:b},{default:K(()=>[Q(u(A.__("Add Note")),1)]),_:1})])])])):j("",!0),d.value?(_(),y("div",UTe,[o("div",VTe,[o("h3",HTe,u(A.__("Log Call")),1),z(o("select",{"onUpdate:modelValue":F[10]||(F[10]=le=>p.type=le),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...F[22]||(F[22]=[o("option",{value:"call_made"},"Call Made",-1),o("option",{value:"call_received"},"Call Received",-1)])],512),[[Me,p.type]]),z(o("input",{"onUpdate:modelValue":F[11]||(F[11]=le=>p.outcome=le),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:A.__("Call outcome")},null,8,WTe),[[te,p.outcome]]),z(o("textarea",{"onUpdate:modelValue":F[12]||(F[12]=le=>p.notes=le),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:A.__("Call notes...")},null,8,qTe),[[te,p.notes]]),o("div",KTe,[S(Ie,{variant:"secondary",onClick:F[13]||(F[13]=le=>d.value=!1)},{default:K(()=>[Q(u(A.__("Cancel")),1)]),_:1}),S(Ie,{onClick:w},{default:K(()=>[Q(u(A.__("Log Call")),1)]),_:1})])])])):j("",!0),c.value?(_(),y("div",YTe,[o("div",GTe,[o("h3",XTe,u(A.__("Schedule Follow-up")),1),z(o("input",{"onUpdate:modelValue":F[14]||(F[14]=le=>g.next_follow_up_at=le),type:"datetime-local",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[te,g.next_follow_up_at]]),z(o("textarea",{"onUpdate:modelValue":F[15]||(F[15]=le=>g.note=le),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:A.__("Note about follow-up...")},null,8,JTe),[[te,g.note]]),o("div",QTe,[S(Ie,{variant:"secondary",onClick:F[16]||(F[16]=le=>c.value=!1)},{default:K(()=>[Q(u(A.__("Cancel")),1)]),_:1}),S(Ie,{onClick:x},{default:K(()=>[Q(u(A.__("Schedule")),1)]),_:1})])])])):j("",!0)])}}},eAe={key:0,class:"mt-8 flex justify-center"},tAe={key:1},sAe={class:"mb-6 flex items-center justify-between"},nAe={class:"text-2xl font-bold text-gray-900"},oAe={class:"mt-1 text-sm text-gray-500"},iAe={class:"flex gap-2"},rAe={key:0,class:"mb-6 grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-8"},aAe={class:"overflow-hidden rounded-lg bg-white p-4 shadow"},lAe={class:"text-sm font-medium text-gray-500"},dAe={class:"mt-1 text-2xl font-semibold text-gray-900"},cAe={class:"overflow-hidden rounded-lg bg-blue-50 p-4 shadow"},uAe={class:"text-sm font-medium text-blue-600"},fAe={class:"mt-1 text-2xl font-semibold text-blue-700"},hAe={class:"overflow-hidden rounded-lg bg-yellow-50 p-4 shadow"},mAe={class:"text-sm font-medium text-yellow-600"},pAe={class:"mt-1 text-2xl font-semibold text-yellow-700"},gAe={class:"overflow-hidden rounded-lg bg-purple-50 p-4 shadow"},_Ae={class:"text-sm font-medium text-purple-600"},vAe={class:"mt-1 text-2xl font-semibold text-purple-700"},yAe={class:"overflow-hidden rounded-lg bg-indigo-50 p-4 shadow"},bAe={class:"text-sm font-medium text-indigo-600"},xAe={class:"mt-1 text-2xl font-semibold text-indigo-700"},wAe={class:"overflow-hidden rounded-lg bg-orange-50 p-4 shadow"},kAe={class:"text-sm font-medium text-orange-600"},$Ae={class:"mt-1 text-2xl font-semibold text-orange-700"},CAe={class:"overflow-hidden rounded-lg bg-green-50 p-4 shadow"},SAe={class:"text-sm font-medium text-green-600"},MAe={class:"mt-1 text-2xl font-semibold text-green-700"},TAe={class:"overflow-hidden rounded-lg bg-red-50 p-4 shadow"},AAe={class:"text-sm font-medium text-red-600"},DAe={class:"mt-1 text-2xl font-semibold text-red-700"},EAe={key:1,class:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-3"},PAe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-red-500 to-orange-500 p-4 text-white shadow"},RAe={class:"flex items-center"},jAe={class:"ml-3"},OAe={class:"text-sm font-medium opacity-90"},IAe={class:"text-2xl font-bold"},LAe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 p-4 text-white shadow"},FAe={class:"flex items-center"},NAe={class:"ml-3"},zAe={class:"text-sm font-medium opacity-90"},BAe={class:"text-2xl font-bold"},UAe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 p-4 text-white shadow"},VAe={class:"flex items-center"},HAe={class:"ml-3"},WAe={class:"text-sm font-medium opacity-90"},qAe={class:"text-2xl font-bold"},KAe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},YAe={class:"flex flex-1 flex-wrap gap-2"},GAe={class:"relative w-64 rounded-md shadow-sm"},XAe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},JAe=["placeholder"],QAe={value:""},ZAe={value:"new"},eDe={value:"contacted"},tDe={value:"qualified"},sDe={value:"proposal_sent"},nDe={value:"negotiation"},oDe={value:"won"},iDe={value:"lost"},rDe={value:""},aDe={value:"hot"},lDe={value:"warm"},dDe={value:"cold"},cDe={value:""},uDe=["value"],fDe={class:"flex gap-2"},hDe={key:2},mDe={class:"flex flex-col"},pDe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},gDe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},_De={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},vDe={class:"min-w-full divide-y divide-gray-200"},yDe={class:"divide-y divide-gray-200 bg-white"},bDe={key:0,class:"hover:bg-gray-50"},xDe={colspan:"9",class:"px-6 py-8 text-center text-gray-500"},wDe={class:"whitespace-nowrap px-6 py-4"},kDe={class:"flex items-center"},$De={class:"ml-4"},CDe={class:"text-sm font-medium text-gray-900"},SDe={class:"text-sm text-gray-500"},MDe={key:0,class:"text-xs text-gray-400"},TDe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ADe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},DDe={class:"whitespace-nowrap px-6 py-4"},EDe={class:"whitespace-nowrap px-6 py-4"},PDe={class:"whitespace-nowrap px-6 py-4 text-sm"},RDe={class:"flex items-center"},jDe={class:"h-2 w-16 rounded-full bg-gray-200"},ODe={class:"ml-2 text-gray-600"},IDe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},LDe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},FDe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},NDe={class:"flex items-center justify-end gap-2"},zDe={key:3,class:"overflow-x-auto"},BDe={class:"flex min-w-max gap-4 pb-4"},UDe={class:"rounded-lg bg-gray-100 p-3"},VDe={class:"mb-3 flex items-center justify-between"},HDe={class:"font-semibold text-gray-700"},WDe={class:"rounded-full bg-gray-200 px-2 py-1 text-xs font-medium text-gray-600"},qDe={class:"space-y-2"},KDe=["onClick"],YDe={class:"flex items-start justify-between"},GDe={class:"flex-1"},XDe={class:"font-medium text-gray-900"},JDe={class:"text-sm text-gray-500"},QDe={class:"mt-2 flex items-center justify-between text-xs text-gray-400"},ZDe={key:0,class:"py-4 text-center text-sm text-gray-400"},eEe={__name:"Index",setup(s){Ln();const e=I(!0),t=I(null),n=I(null),i=I("table"),r=I({}),a=eo("leads",{search:"",status:"",priority:"",source:"",sort_by:"created_at",sort_order:"desc",per_page:15}),l=rt({show:!1,model:null}),d=rt({show:!1,id:null});let c=null;const f=()=>{clearTimeout(c),c=setTimeout(()=>{a.get()},300)},m=(L=null)=>{l.model=L,l.show=!0},p=L=>{d.id=L,d.show=!0},g=()=>{a.get(),v(),i.value==="pipeline"&&b()},v=async()=>{try{const L=await ce.get("leads/statistics");t.value=L.data.data}catch{}},k=async()=>{try{const L=await ce.get("leads/options");n.value=L.data.data}catch{}},b=async()=>{try{const L=await ce.get("leads/pipeline");r.value=L.data.data}catch{}},w=async()=>{try{const L=new URLSearchParams(a.params).toString();window.open(`/admin/api/leads/export?${L}`,"_blank")}catch{}},x=async L=>{if(confirm("Convert this lead to a client?"))try{await ce.post(`leads/${L}/convert`),g()}catch{}},M=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=L=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800",O=L=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[L]||"bg-gray-100 text-gray-800",N=L=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[L]||"bg-gray-100",E=L=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[L]||"text-gray-600",B=L=>({new:"New Leads",contacted:"Contacted",qualified:"Qualified",proposal_sent:"Proposal Sent",negotiation:"Negotiation"})[L]||L;return Ye(async()=>{try{await Promise.all([a.get(),v(),k()]),e.value=!1}catch{e.value=!1}}),(L,P)=>{var R,A,F,be;return e.value?(_(),y("div",eAe,[S(St,{size:"40",color:"#5850ec"})])):(_(),y("div",tAe,[o("div",sAe,[o("div",null,[o("h1",nAe,u(L.__("Lead Management")),1),o("p",oAe,u(L.__("Track and manage potential clients from emphxs.com")),1)]),o("div",iAe,[S(Ie,{variant:"secondary",onClick:w},{default:K(()=>[S(h(Sv),{class:"mr-2 h-4 w-4"}),Q(" "+u(L.__("Export")),1)]),_:1}),S(Ie,{onClick:P[0]||(P[0]=ae=>m())},{default:K(()=>[S(h(Sn),{class:"mr-2 h-4 w-4"}),Q(" "+u(L.__("Add Lead")),1)]),_:1})])]),t.value?(_(),y("div",rAe,[o("div",aAe,[o("div",lAe,u(L.__("Total")),1),o("div",dAe,u(t.value.total),1)]),o("div",cAe,[o("div",uAe,u(L.__("New")),1),o("div",fAe,u(t.value.new),1)]),o("div",hAe,[o("div",mAe,u(L.__("Contacted")),1),o("div",pAe,u(t.value.contacted),1)]),o("div",gAe,[o("div",_Ae,u(L.__("Qualified")),1),o("div",vAe,u(t.value.qualified),1)]),o("div",yAe,[o("div",bAe,u(L.__("Proposal")),1),o("div",xAe,u(t.value.proposal_sent),1)]),o("div",wAe,[o("div",kAe,u(L.__("Negotiation")),1),o("div",$Ae,u(t.value.negotiation),1)]),o("div",CAe,[o("div",SAe,u(L.__("Won")),1),o("div",MAe,u(t.value.won),1)]),o("div",TAe,[o("div",AAe,u(L.__("Lost")),1),o("div",DAe,u(t.value.lost),1)])])):j("",!0),t.value?(_(),y("div",EAe,[o("div",PAe,[o("div",RAe,[S(h(qf),{class:"h-8 w-8"}),o("div",jAe,[o("div",OAe,u(L.__("Hot Leads")),1),o("div",IAe,u(t.value.hot),1)])])]),o("div",LAe,[o("div",FAe,[S(h(Zs),{class:"h-8 w-8"}),o("div",NAe,[o("div",zAe,u(L.__("Needs Follow-up")),1),o("div",BAe,u(t.value.needs_follow_up),1)])])]),o("div",UAe,[o("div",VAe,[S(h(Oc),{class:"h-8 w-8"}),o("div",HAe,[o("div",WAe,u(L.__("Conversion Rate")),1),o("div",qAe,u(t.value.conversion_rate)+"%",1)])])])])):j("",!0),o("div",KAe,[o("div",YAe,[o("div",GAe,[o("div",XAe,[S(h(Vs),{class:"h-5 w-5 text-gray-400"})]),z(o("input",{"onUpdate:modelValue":P[1]||(P[1]=ae=>h(a).params.search=ae),type:"search",placeholder:L.__("Search leads..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:f},null,40,JAe),[[te,h(a).params.search]])]),z(o("select",{"onUpdate:modelValue":P[2]||(P[2]=ae=>h(a).params.status=ae),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P[3]||(P[3]=ae=>h(a).get())},[o("option",QAe,u(L.__("All Statuses")),1),o("option",ZAe,u(L.__("New")),1),o("option",eDe,u(L.__("Contacted")),1),o("option",tDe,u(L.__("Qualified")),1),o("option",sDe,u(L.__("Proposal Sent")),1),o("option",nDe,u(L.__("Negotiation")),1),o("option",oDe,u(L.__("Won")),1),o("option",iDe,u(L.__("Lost")),1)],544),[[Me,h(a).params.status]]),z(o("select",{"onUpdate:modelValue":P[4]||(P[4]=ae=>h(a).params.priority=ae),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P[5]||(P[5]=ae=>h(a).get())},[o("option",rDe,u(L.__("All Priorities")),1),o("option",aDe,u(L.__("Hot")),1),o("option",lDe,u(L.__("Warm")),1),o("option",dDe,u(L.__("Cold")),1)],544),[[Me,h(a).params.priority]]),z(o("select",{"onUpdate:modelValue":P[6]||(P[6]=ae=>h(a).params.source=ae),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:P[7]||(P[7]=ae=>h(a).get())},[o("option",cDe,u(L.__("All Sources")),1),(_(!0),y(de,null,ye((R=n.value)==null?void 0:R.sources,(ae,le)=>(_(),y("option",{key:le,value:le},u(ae),9,uDe))),128))],544),[[Me,h(a).params.source]])]),o("div",fDe,[o("button",{class:ee([[i.value==="table"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:P[8]||(P[8]=ae=>i.value="table")},[S(h(f$),{class:"h-5 w-5"})],2),o("button",{class:ee([[i.value==="pipeline"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:P[9]||(P[9]=ae=>{i.value="pipeline",b()})},[S(h(Lv),{class:"h-5 w-5"})],2)])]),i.value==="table"?(_(),y("section",hDe,[o("div",mDe,[o("div",pDe,[o("div",gDe,[o("div",_De,[o("table",vDe,[o("thead",null,[o("tr",null,[S(Le,{name:"lead",index:h(a),label:L.__("Lead"),sort:"first_name"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Service"),sort:"service_interest"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Budget")},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Status"),sort:"status"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Priority"),sort:"priority"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Score"),sort:"score"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Source"),sort:"source"},null,8,["index","label"]),S(Le,{name:"lead",index:h(a),label:L.__("Created"),sort:"created_at"},null,8,["index","label"]),P[12]||(P[12]=o("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),o("tbody",yDe,[(F=(A=h(a).data)==null?void 0:A.data)!=null&&F.length?j("",!0):(_(),y("tr",bDe,[o("td",xDe,u(L.__("No leads found")),1)])),(_(!0),y(de,null,ye(((be=h(a).data)==null?void 0:be.data)||[],ae=>{var le,J,ne,q,oe,xe;return _(),y("tr",{key:ae.id,class:"hover:bg-gray-50"},[o("td",wDe,[o("div",kDe,[o("div",{class:ee(["flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full",N(ae.priority)])},[o("span",{class:ee(["text-sm font-medium",E(ae.priority)])},u(ae.first_name.charAt(0).toUpperCase())+u(ae.last_name?ae.last_name.charAt(0).toUpperCase():""),3)],2),o("div",$De,[o("div",CDe,u(ae.full_name),1),o("div",SDe,u(ae.email),1),ae.company_name?(_(),y("div",MDe,u(ae.company_name),1)):j("",!0)])])]),o("td",TDe,u(((J=(le=n.value)==null?void 0:le.service_interests)==null?void 0:J[ae.service_interest])||ae.service_interest),1),o("td",ADe,u(((q=(ne=n.value)==null?void 0:ne.budget_ranges)==null?void 0:q[ae.budget_range])||"-"),1),o("td",DDe,[o("span",{class:ee([C(ae.status),"inline-flex rounded-full px-2 text-xs font-semibold leading-5"])},u(ae.status_label),3)]),o("td",EDe,[o("span",{class:ee([O(ae.priority),"inline-flex items-center rounded-full px-2 text-xs font-semibold leading-5"])},[ae.priority==="hot"?(_(),ie(h(qf),{key:0,class:"mr-1 h-3 w-3"})):j("",!0),Q(" "+u(ae.priority.charAt(0).toUpperCase()+ae.priority.slice(1)),1)],2)]),o("td",PDe,[o("div",RDe,[o("div",jDe,[o("div",{style:wt({width:ae.score+"%"}),class:"h-2 rounded-full bg-indigo-600"},null,4)]),o("span",ODe,u(ae.score),1)])]),o("td",IDe,u(((xe=(oe=n.value)==null?void 0:oe.sources)==null?void 0:xe[ae.source])||ae.source),1),o("td",LDe,u(M(ae.created_at)),1),o("td",FDe,[o("div",NDe,[S(h(Fn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:je=>p(ae.id)},null,8,["onClick"]),S(h(Nn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:je=>m(ae)},null,8,["onClick"]),ae.status!=="won"?(_(),ie(h(Er),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-green-600",onClick:je=>x(ae.id),title:"Convert to Client"},null,8,["onClick"])):j("",!0),S(h(Kt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:je=>h(a).deleteIt(ae.id)},null,8,["onClick"])])])])}),128))])]),S(As,{index:h(a)},null,8,["index"])])])])])])):j("",!0),i.value==="pipeline"?(_(),y("section",zDe,[o("div",BDe,[(_(!0),y(de,null,ye(r.value,(ae,le)=>(_(),y("div",{key:le,class:"w-72 flex-shrink-0"},[o("div",UDe,[o("div",VDe,[o("h3",HDe,u(B(le)),1),o("span",WDe,u(ae.length),1)]),o("div",qDe,[(_(!0),y(de,null,ye(ae,J=>{var ne,q;return _(),y("div",{key:J.id,class:"cursor-pointer rounded-lg bg-white p-3 shadow hover:shadow-md",onClick:oe=>p(J.id)},[o("div",YDe,[o("div",GDe,[o("div",XDe,u(J.full_name),1),o("div",JDe,u(J.company_name||J.email),1)]),o("span",{class:ee([O(J.priority),"rounded px-1.5 py-0.5 text-xs font-medium"])},u(J.priority.charAt(0).toUpperCase()),3)]),o("div",QDe,[o("span",null,u((q=(ne=n.value)==null?void 0:ne.service_interests)==null?void 0:q[J.service_interest]),1),o("span",null,"Score: "+u(J.score),1)])],8,KDe)}),128)),ae.length?j("",!0):(_(),y("div",ZDe,u(L.__("No leads")),1))])])]))),128))])])):j("",!0),l.show?(_(),ie(gs,{key:4,size:"3xl",onSaved:g},{default:K(()=>[S(G9e,{"model-value":l.model,options:n.value,onClose:P[10]||(P[10]=ae=>l.show=!1)},null,8,["model-value","options"])]),_:1})):j("",!0),d.show?(_(),ie(gs,{key:5,size:"4xl"},{default:K(()=>[S(ZTe,{"lead-id":d.id,onClose:P[11]||(P[11]=ae=>d.show=!1),onUpdated:g},null,8,["lead-id"])]),_:1})):j("",!0)]))}}},tEe=[{path:"/",component:ZD},{path:"/profile",component:ME},{path:"/projects",name:"ProjectsIndex",component:bW},{path:"/projects/:id",name:"ProjectsDetail",component:g1},{path:"/projects/:id/tasks/:taskId",name:"ProjectsDetailTask",component:g1,props:!0},{path:"/users",name:"Users",component:KH},{path:"/labels",name:"Labels",component:iW},{path:"/roles",name:"Roles",component:PV},{path:"/tasks",name:"Tasks",component:hH},{path:"/attendance",name:"Attendance",component:yJ},{path:"/employees",name:"Employees",component:Qee},{path:"/employees/:id",name:"EmployeeDetail",component:Kse},{path:"/leaves",name:"Leaves",component:Hie},{path:"/holidays",name:"Holidays",component:zre},{path:"/payrolls",name:"Payrolls",component:rde},{path:"/clients",name:"Clients",component:vue},{path:"/quotations",name:"Quotations",component:lme},{path:"/quotations/:id",name:"QuotationDetail",component:Vpe},{path:"/expenses",name:"Expenses",component:D1e},{path:"/income",name:"Income",component:Xye},{path:"/adsense-reports",name:"AdSenseReports",component:iG},{path:"/settings/general",component:VL},{path:"/settings/email",component:RL},{path:"/settings/adsense",component:DF},{path:"/settings/countries",component:Az},{path:"/settings/user-assignments",component:pU},{path:"/video-enhancer",component:_V},{path:"/audit-trail",name:"AuditTrail",component:Vxe},{path:"/service-providers",name:"ServiceProviders",component:rwe},{path:"/service-providers/:id",name:"ServiceProvidersDetail",component:J5e},{path:"/recording-sessions",name:"RecordingSessions",component:Xke},{path:"/lesson-plans",name:"LessonPlans",component:t$e},{path:"/subjects",name:"Subjects",component:f3e},{path:"/working-hours",name:"WorkingHours",component:jCe},{path:"/activity-reports",name:"ActivityReports",component:fSe},{path:"/activity-reports/settings",name:"ActivityReportsSettings",component:JSe},{path:"/leads",name:"Leads",component:eEe},{path:"/403",name:"Forbidden",component:hD},{path:"/:pathMatch(.*)*",name:"NotFound",component:fD}],iu=Nk({history:tk(_t.prefix),routes:tEe});iu.beforeEach((s,e,t)=>{t()});iu.afterEach((s,e)=>{});iu.onError(s=>{});lb.config.errorHandler=(s,e,t)=>{};window.addEventListener("unhandledrejection",s=>{});try{lb.use(P5()).use(g6).use(iu).mount("#app")}catch(s){alert("Mount Error: "+s.message)}
