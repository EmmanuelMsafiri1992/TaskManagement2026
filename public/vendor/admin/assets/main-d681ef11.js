var o2=Object.defineProperty;var i2=(s,e,t)=>e in s?o2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ve=(s,e,t)=>(i2(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bm(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const Ut={},_r=[],Kn=()=>{},C_=()=>!1,gc=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),xm=s=>s.startsWith("onUpdate:"),as=Object.assign,wm=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},r2=Object.prototype.hasOwnProperty,Et=(s,e)=>r2.call(s,e),et=Array.isArray,vr=s=>ul(s)==="[object Map]",Fr=s=>ul(s)==="[object Set]",Yh=s=>ul(s)==="[object Date]",lt=s=>typeof s=="function",Qt=s=>typeof s=="string",Xn=s=>typeof s=="symbol",Bt=s=>s!==null&&typeof s=="object",S_=s=>(Bt(s)||lt(s))&&lt(s.then)&&lt(s.catch),M_=Object.prototype.toString,ul=s=>M_.call(s),a2=s=>ul(s).slice(8,-1),T_=s=>ul(s)==="[object Object]",km=s=>Qt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,ka=bm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_c=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},l2=/-\w/g,zn=_c(s=>s.replace(l2,e=>e.slice(1).toUpperCase())),d2=/\B([A-Z])/g,gi=_c(s=>s.replace(d2,"-$1").toLowerCase()),vc=_c(s=>s.charAt(0).toUpperCase()+s.slice(1)),wu=_c(s=>s?`on${vc(s)}`:""),ai=(s,e)=>!Object.is(s,e),fd=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},A_=(s,e,t,o=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:o,value:t})},Id=s=>{const e=parseFloat(s);return isNaN(e)?s:e},c2=s=>{const e=Qt(s)?Number(s):NaN;return isNaN(e)?s:e};let Gh;const yc=()=>Gh||(Gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kt(s){if(et(s)){const e={};for(let t=0;t<s.length;t++){const o=s[t],i=Qt(o)?h2(o):kt(o);if(i)for(const r in i)e[r]=i[r]}return e}else if(Qt(s)||Bt(s))return s}const u2=/;(?![^(]*\))/g,f2=/:([^]+)/,m2=/\/\*[^]*?\*\//g;function h2(s){const e={};return s.replace(m2,"").split(u2).forEach(t=>{if(t){const o=t.split(f2);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Q(s){let e="";if(Qt(s))e=s;else if(et(s))for(let t=0;t<s.length;t++){const o=Q(s[t]);o&&(e+=o+" ")}else if(Bt(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const p2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",g2=bm(p2);function D_(s){return!!s||s===""}function _2(s,e){if(s.length!==e.length)return!1;let t=!0;for(let o=0;t&&o<s.length;o++)t=Ji(s[o],e[o]);return t}function Ji(s,e){if(s===e)return!0;let t=Yh(s),o=Yh(e);if(t||o)return t&&o?s.getTime()===e.getTime():!1;if(t=Xn(s),o=Xn(e),t||o)return s===e;if(t=et(s),o=et(e),t||o)return t&&o?_2(s,e):!1;if(t=Bt(s),o=Bt(e),t||o){if(!t||!o)return!1;const i=Object.keys(s).length,r=Object.keys(e).length;if(i!==r)return!1;for(const a in s){const l=s.hasOwnProperty(a),d=e.hasOwnProperty(a);if(l&&!d||!l&&d||!Ji(s[a],e[a]))return!1}}return String(s)===String(e)}function $m(s,e){return s.findIndex(t=>Ji(t,e))}const E_=s=>!!(s&&s.__v_isRef===!0),c=s=>Qt(s)?s:s==null?"":et(s)||Bt(s)&&(s.toString===M_||!lt(s.toString))?E_(s)?c(s.value):JSON.stringify(s,P_,2):String(s),P_=(s,e)=>E_(e)?P_(s,e.value):vr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[o,i],r)=>(t[ku(o,r)+" =>"]=i,t),{})}:Fr(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ku(t))}:Xn(e)?ku(e):Bt(e)&&!et(e)&&!T_(e)?String(e):e,ku=(s,e="")=>{var t;return Xn(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Os;class j_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Os,!e&&Os&&(this.index=(Os.scopes||(Os.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Os;try{return Os=this,e()}finally{Os=t}}}on(){++this._on===1&&(this.prevScope=Os,Os=this)}off(){this._on>0&&--this._on===0&&(Os=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(this.effects.length=0,t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function R_(s){return new j_(s)}function I_(){return Os}function v2(s,e=!1){Os&&Os.cleanups.push(s)}let qt;const $u=new WeakSet;class O_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Os&&Os.active&&Os.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$u.has(this)&&($u.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||F_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xh(this),N_(this);const e=qt,t=Yn;qt=this,Yn=!0;try{return this.fn()}finally{z_(this),qt=e,Yn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Mm(e);this.deps=this.depsTail=void 0,Xh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$u.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kf(this)&&this.run()}get dirty(){return kf(this)}}let L_=0,$a,Ca;function F_(s,e=!1){if(s.flags|=8,e){s.next=Ca,Ca=s;return}s.next=$a,$a=s}function Cm(){L_++}function Sm(){if(--L_>0)return;if(Ca){let e=Ca;for(Ca=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;$a;){let e=$a;for($a=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){s||(s=o)}e=t}}if(s)throw s}function N_(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function z_(s){let e,t=s.depsTail,o=t;for(;o;){const i=o.prevDep;o.version===-1?(o===t&&(t=i),Mm(o),y2(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}s.deps=e,s.depsTail=t}function kf(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(B_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function B_(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Wa)||(s.globalVersion=Wa,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!kf(s))))return;s.flags|=2;const e=s.dep,t=qt,o=Yn;qt=s,Yn=!0;try{N_(s);const i=s.fn(s._value);(e.version===0||ai(i,s._value))&&(s.flags|=128,s._value=i,e.version++)}catch(i){throw e.version++,i}finally{qt=t,Yn=o,z_(s),s.flags&=-3}}function Mm(s,e=!1){const{dep:t,prevSub:o,nextSub:i}=s;if(o&&(o.nextSub=i,s.prevSub=void 0),i&&(i.prevSub=o,s.nextSub=void 0),t.subs===s&&(t.subs=o,!o&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)Mm(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function y2(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let Yn=!0;const U_=[];function Ro(){U_.push(Yn),Yn=!1}function Io(){const s=U_.pop();Yn=s===void 0?!0:s}function Xh(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=qt;qt=void 0;try{e()}finally{qt=t}}}let Wa=0;class b2{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!qt||!Yn||qt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==qt)t=this.activeLink=new b2(qt,this),qt.deps?(t.prevDep=qt.depsTail,qt.depsTail.nextDep=t,qt.depsTail=t):qt.deps=qt.depsTail=t,V_(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const o=t.nextDep;o.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=o),t.prevDep=qt.depsTail,t.nextDep=void 0,qt.depsTail.nextDep=t,qt.depsTail=t,qt.deps===t&&(qt.deps=o)}return t}trigger(e){this.version++,Wa++,this.notify(e)}notify(e){Cm();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Sm()}}}function V_(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)V_(o)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Od=new WeakMap,Wi=Symbol(""),$f=Symbol(""),Ka=Symbol("");function zs(s,e,t){if(Yn&&qt){let o=Od.get(s);o||Od.set(s,o=new Map);let i=o.get(t);i||(o.set(t,i=new Tm),i.map=o,i.key=t),i.track()}}function Mo(s,e,t,o,i,r){const a=Od.get(s);if(!a){Wa++;return}const l=d=>{d&&d.trigger()};if(Cm(),e==="clear")a.forEach(l);else{const d=et(s),u=d&&km(t);if(d&&t==="length"){const m=Number(o);a.forEach((p,h)=>{(h==="length"||h===Ka||!Xn(h)&&h>=m)&&l(p)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),u&&l(a.get(Ka)),e){case"add":d?u&&l(a.get("length")):(l(a.get(Wi)),vr(s)&&l(a.get($f)));break;case"delete":d||(l(a.get(Wi)),vr(s)&&l(a.get($f)));break;case"set":vr(s)&&l(a.get(Wi));break}}Sm()}function x2(s,e){const t=Od.get(s);return t&&t.get(e)}function rr(s){const e=wt(s);return e===s?e:(zs(e,"iterate",Ka),Fn(s)?e:e.map(Ms))}function bc(s){return zs(s=wt(s),"iterate",Ka),s}const w2={__proto__:null,[Symbol.iterator](){return Cu(this,Symbol.iterator,Ms)},concat(...s){return rr(this).concat(...s.map(e=>et(e)?rr(e):e))},entries(){return Cu(this,"entries",s=>(s[1]=Ms(s[1]),s))},every(s,e){return yo(this,"every",s,e,void 0,arguments)},filter(s,e){return yo(this,"filter",s,e,t=>t.map(Ms),arguments)},find(s,e){return yo(this,"find",s,e,Ms,arguments)},findIndex(s,e){return yo(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return yo(this,"findLast",s,e,Ms,arguments)},findLastIndex(s,e){return yo(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return yo(this,"forEach",s,e,void 0,arguments)},includes(...s){return Su(this,"includes",s)},indexOf(...s){return Su(this,"indexOf",s)},join(s){return rr(this).join(s)},lastIndexOf(...s){return Su(this,"lastIndexOf",s)},map(s,e){return yo(this,"map",s,e,void 0,arguments)},pop(){return Qr(this,"pop")},push(...s){return Qr(this,"push",s)},reduce(s,...e){return Jh(this,"reduce",s,e)},reduceRight(s,...e){return Jh(this,"reduceRight",s,e)},shift(){return Qr(this,"shift")},some(s,e){return yo(this,"some",s,e,void 0,arguments)},splice(...s){return Qr(this,"splice",s)},toReversed(){return rr(this).toReversed()},toSorted(s){return rr(this).toSorted(s)},toSpliced(...s){return rr(this).toSpliced(...s)},unshift(...s){return Qr(this,"unshift",s)},values(){return Cu(this,"values",Ms)}};function Cu(s,e,t){const o=bc(s),i=o[e]();return o!==s&&!Fn(s)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=t(r.value)),r}),i}const k2=Array.prototype;function yo(s,e,t,o,i,r){const a=bc(s),l=a!==s&&!Fn(s),d=a[e];if(d!==k2[e]){const p=d.apply(s,r);return l?Ms(p):p}let u=t;a!==s&&(l?u=function(p,h){return t.call(this,Ms(p),h,s)}:t.length>2&&(u=function(p,h){return t.call(this,p,h,s)}));const m=d.call(a,u,o);return l&&i?i(m):m}function Jh(s,e,t,o){const i=bc(s);let r=t;return i!==s&&(Fn(s)?t.length>3&&(r=function(a,l,d){return t.call(this,a,l,d,s)}):r=function(a,l,d){return t.call(this,a,Ms(l),d,s)}),i[e](r,...o)}function Su(s,e,t){const o=wt(s);zs(o,"iterate",Ka);const i=o[e](...t);return(i===-1||i===!1)&&Em(t[0])?(t[0]=wt(t[0]),o[e](...t)):i}function Qr(s,e,t=[]){Ro(),Cm();const o=wt(s)[e].apply(s,t);return Sm(),Io(),o}const $2=bm("__proto__,__v_isRef,__isVue"),H_=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Xn));function C2(s){Xn(s)||(s=String(s));const e=wt(this);return zs(e,"has",s),e.hasOwnProperty(s)}class q_{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,o){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return o===(i?r?I2:G_:r?Y_:K_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const a=et(e);if(!i){let d;if(a&&(d=w2[t]))return d;if(t==="hasOwnProperty")return C2}const l=Reflect.get(e,t,rs(e)?e:o);if((Xn(t)?H_.has(t):$2(t))||(i||zs(e,"get",t),r))return l;if(rs(l)){const d=a&&km(t)?l:l.value;return i&&Bt(d)?Sf(d):d}return Bt(l)?i?Sf(l):Qe(l):l}}class W_ extends q_{constructor(e=!1){super(!1,e)}set(e,t,o,i){let r=e[t];if(!this._isShallow){const d=ui(r);if(!Fn(o)&&!ui(o)&&(r=wt(r),o=wt(o)),!et(e)&&rs(r)&&!rs(o))return d||(r.value=o),!0}const a=et(e)&&km(t)?Number(t)<e.length:Et(e,t),l=Reflect.set(e,t,o,rs(e)?e:i);return e===wt(i)&&(a?ai(o,r)&&Mo(e,"set",t,o):Mo(e,"add",t,o)),l}deleteProperty(e,t){const o=Et(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Mo(e,"delete",t,void 0),i}has(e,t){const o=Reflect.has(e,t);return(!Xn(t)||!H_.has(t))&&zs(e,"has",t),o}ownKeys(e){return zs(e,"iterate",et(e)?"length":Wi),Reflect.ownKeys(e)}}class S2 extends q_{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const M2=new W_,T2=new S2,A2=new W_(!0);const Cf=s=>s,Dl=s=>Reflect.getPrototypeOf(s);function D2(s,e,t){return function(...o){const i=this.__v_raw,r=wt(i),a=vr(r),l=s==="entries"||s===Symbol.iterator&&a,d=s==="keys"&&a,u=i[s](...o),m=t?Cf:e?Ld:Ms;return!e&&zs(r,"iterate",d?$f:Wi),{next(){const{value:p,done:h}=u.next();return h?{value:p,done:h}:{value:l?[m(p[0]),m(p[1])]:m(p),done:h}},[Symbol.iterator](){return this}}}}function El(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function E2(s,e){const t={get(i){const r=this.__v_raw,a=wt(r),l=wt(i);s||(ai(i,l)&&zs(a,"get",i),zs(a,"get",l));const{has:d}=Dl(a),u=e?Cf:s?Ld:Ms;if(d.call(a,i))return u(r.get(i));if(d.call(a,l))return u(r.get(l));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!s&&zs(wt(i),"iterate",Wi),i.size},has(i){const r=this.__v_raw,a=wt(r),l=wt(i);return s||(ai(i,l)&&zs(a,"has",i),zs(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const a=this,l=a.__v_raw,d=wt(l),u=e?Cf:s?Ld:Ms;return!s&&zs(d,"iterate",Wi),l.forEach((m,p)=>i.call(r,u(m),u(p),a))}};return as(t,s?{add:El("add"),set:El("set"),delete:El("delete"),clear:El("clear")}:{add(i){!e&&!Fn(i)&&!ui(i)&&(i=wt(i));const r=wt(this);return Dl(r).has.call(r,i)||(r.add(i),Mo(r,"add",i,i)),this},set(i,r){!e&&!Fn(r)&&!ui(r)&&(r=wt(r));const a=wt(this),{has:l,get:d}=Dl(a);let u=l.call(a,i);u||(i=wt(i),u=l.call(a,i));const m=d.call(a,i);return a.set(i,r),u?ai(r,m)&&Mo(a,"set",i,r):Mo(a,"add",i,r),this},delete(i){const r=wt(this),{has:a,get:l}=Dl(r);let d=a.call(r,i);d||(i=wt(i),d=a.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return d&&Mo(r,"delete",i,void 0),u},clear(){const i=wt(this),r=i.size!==0,a=i.clear();return r&&Mo(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=D2(i,s,e)}),t}function Am(s,e){const t=E2(s,e);return(o,i,r)=>i==="__v_isReactive"?!s:i==="__v_isReadonly"?s:i==="__v_raw"?o:Reflect.get(Et(t,i)&&i in o?t:o,i,r)}const P2={get:Am(!1,!1)},j2={get:Am(!1,!0)},R2={get:Am(!0,!1)};const K_=new WeakMap,Y_=new WeakMap,G_=new WeakMap,I2=new WeakMap;function O2(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function L2(s){return s.__v_skip||!Object.isExtensible(s)?0:O2(a2(s))}function Qe(s){return ui(s)?s:Dm(s,!1,M2,P2,K_)}function F2(s){return Dm(s,!1,A2,j2,Y_)}function Sf(s){return Dm(s,!0,T2,R2,G_)}function Dm(s,e,t,o,i){if(!Bt(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=L2(s);if(r===0)return s;const a=i.get(s);if(a)return a;const l=new Proxy(s,r===2?o:t);return i.set(s,l),l}function li(s){return ui(s)?li(s.__v_raw):!!(s&&s.__v_isReactive)}function ui(s){return!!(s&&s.__v_isReadonly)}function Fn(s){return!!(s&&s.__v_isShallow)}function Em(s){return s?!!s.__v_raw:!1}function wt(s){const e=s&&s.__v_raw;return e?wt(e):s}function Sr(s){return!Et(s,"__v_skip")&&Object.isExtensible(s)&&A_(s,"__v_skip",!0),s}const Ms=s=>Bt(s)?Qe(s):s,Ld=s=>Bt(s)?Sf(s):s;function rs(s){return s?s.__v_isRef===!0:!1}function F(s){return J_(s,!1)}function X_(s){return J_(s,!0)}function J_(s,e){return rs(s)?s:new N2(s,e)}class N2{constructor(e,t){this.dep=new Tm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:wt(e),this._value=t?e:Ms(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,o=this.__v_isShallow||Fn(e)||ui(e);e=o?e:wt(e),ai(e,t)&&(this._rawValue=e,this._value=o?e:Ms(e),this.dep.trigger())}}function f(s){return rs(s)?s.value:s}const z2={get:(s,e,t)=>e==="__v_raw"?s:f(Reflect.get(s,e,t)),set:(s,e,t,o)=>{const i=s[e];return rs(i)&&!rs(t)?(i.value=t,!0):Reflect.set(s,e,t,o)}};function Q_(s){return li(s)?s:new Proxy(s,z2)}function B2(s){const e=et(s)?new Array(s.length):{};for(const t in s)e[t]=V2(s,t);return e}class U2{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return x2(wt(this._object),this._key)}}function V2(s,e,t){const o=s[e];return rs(o)?o:new U2(s,e,t)}class H2{constructor(e,t,o){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Tm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&qt!==this)return F_(this,!0),!0}get value(){const e=this.dep.track();return B_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function q2(s,e,t=!1){let o,i;return lt(s)?o=s:(o=s.get,i=s.set),new H2(o,i,t)}const Pl={},Fd=new WeakMap;let Oi;function W2(s,e=!1,t=Oi){if(t){let o=Fd.get(t);o||Fd.set(t,o=[]),o.push(s)}}function K2(s,e,t=Ut){const{immediate:o,deep:i,once:r,scheduler:a,augmentJob:l,call:d}=t,u=S=>i?S:Fn(S)||i===!1||i===0?To(S,1):To(S);let m,p,h,_,y=!1,x=!1;if(rs(s)?(p=()=>s.value,y=Fn(s)):li(s)?(p=()=>u(s),y=!0):et(s)?(x=!0,y=s.some(S=>li(S)||Fn(S)),p=()=>s.map(S=>{if(rs(S))return S.value;if(li(S))return u(S);if(lt(S))return d?d(S,2):S()})):lt(s)?e?p=d?()=>d(s,2):s:p=()=>{if(h){Ro();try{h()}finally{Io()}}const S=Oi;Oi=m;try{return d?d(s,3,[_]):s(_)}finally{Oi=S}}:p=Kn,e&&i){const S=p,N=i===!0?1/0:i;p=()=>To(S(),N)}const w=I_(),k=()=>{m.stop(),w&&w.active&&wm(w.effects,m)};if(r&&e){const S=e;e=(...N)=>{S(...N),k()}}let b=x?new Array(s.length).fill(Pl):Pl;const M=S=>{if(!(!(m.flags&1)||!m.dirty&&!S))if(e){const N=m.run();if(i||y||(x?N.some((A,T)=>ai(A,b[T])):ai(N,b))){h&&h();const A=Oi;Oi=m;try{const T=[N,b===Pl?void 0:x&&b[0]===Pl?[]:b,_];b=N,d?d(e,3,T):e(...T)}finally{Oi=A}}}else m.run()};return l&&l(M),m=new O_(p),m.scheduler=a?()=>a(M,!1):M,_=S=>W2(S,!1,m),h=m.onStop=()=>{const S=Fd.get(m);if(S){if(d)d(S,4);else for(const N of S)N();Fd.delete(m)}},e?o?M(!0):b=m.run():a?a(M.bind(null,!0),!0):m.run(),k.pause=m.pause.bind(m),k.resume=m.resume.bind(m),k.stop=k,k}function To(s,e=1/0,t){if(e<=0||!Bt(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,rs(s))To(s.value,e,t);else if(et(s))for(let o=0;o<s.length;o++)To(s[o],e,t);else if(Fr(s)||vr(s))s.forEach(o=>{To(o,e,t)});else if(T_(s)){for(const o in s)To(s[o],e,t);for(const o of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,o)&&To(s[o],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fl(s,e,t,o){try{return o?s(...o):s()}catch(i){xc(i,e,t)}}function Jn(s,e,t,o){if(lt(s)){const i=fl(s,e,t,o);return i&&S_(i)&&i.catch(r=>{xc(r,e,t)}),i}if(et(s)){const i=[];for(let r=0;r<s.length;r++)i.push(Jn(s[r],e,t,o));return i}}function xc(s,e,t,o=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ut;if(e){let l=e.parent;const d=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const m=l.ec;if(m){for(let p=0;p<m.length;p++)if(m[p](s,d,u)===!1)return}l=l.parent}if(r){Ro(),fl(r,null,10,[s,d,u]),Io();return}}Y2(s,t,i,o,a)}function Y2(s,e,t,o=!0,i=!1){if(i)throw s}const Zs=[];let ro=-1;const yr=[];let Yo=null,mr=0;const Z_=Promise.resolve();let Nd=null;function Mn(s){const e=Nd||Z_;return s?e.then(this?s.bind(this):s):e}function G2(s){let e=ro+1,t=Zs.length;for(;e<t;){const o=e+t>>>1,i=Zs[o],r=Ya(i);r<s||r===s&&i.flags&2?e=o+1:t=o}return e}function Pm(s){if(!(s.flags&1)){const e=Ya(s),t=Zs[Zs.length-1];!t||!(s.flags&2)&&e>=Ya(t)?Zs.push(s):Zs.splice(G2(e),0,s),s.flags|=1,e1()}}function e1(){Nd||(Nd=Z_.then(s1))}function X2(s){et(s)?yr.push(...s):Yo&&s.id===-1?Yo.splice(mr+1,0,s):s.flags&1||(yr.push(s),s.flags|=1),e1()}function Qh(s,e,t=ro+1){for(;t<Zs.length;t++){const o=Zs[t];if(o&&o.flags&2){if(s&&o.id!==s.uid)continue;Zs.splice(t,1),t--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function t1(s){if(yr.length){const e=[...new Set(yr)].sort((t,o)=>Ya(t)-Ya(o));if(yr.length=0,Yo){Yo.push(...e);return}for(Yo=e,mr=0;mr<Yo.length;mr++){const t=Yo[mr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Yo=null,mr=0}}const Ya=s=>s.id==null?s.flags&2?-1:1/0:s.id;function s1(s){const e=Kn;try{for(ro=0;ro<Zs.length;ro++){const t=Zs[ro];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),fl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ro<Zs.length;ro++){const t=Zs[ro];t&&(t.flags&=-2)}ro=-1,Zs.length=0,t1(),Nd=null,(Zs.length||yr.length)&&s1()}}let As=null,n1=null;function zd(s){const e=As;return As=s,n1=s&&s.type.__scopeId||null,e}function q(s,e=As,t){if(!e||s._n)return s;const o=(...i)=>{o._d&&Vd(-1);const r=zd(e);let a;try{a=s(...i)}finally{zd(r),o._d&&Vd(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function z(s,e){if(As===null)return s;const t=Sc(As),o=s.dirs||(s.dirs=[]);for(let i=0;i<e.length;i++){let[r,a,l,d=Ut]=e[i];r&&(lt(r)&&(r={mounted:r,updated:r}),r.deep&&To(a),o.push({dir:r,instance:t,value:a,oldValue:void 0,arg:l,modifiers:d}))}return s}function Ci(s,e,t,o){const i=s.dirs,r=e&&e.dirs;for(let a=0;a<i.length;a++){const l=i[a];r&&(l.oldValue=r[a].value);let d=l.dir[o];d&&(Ro(),Jn(d,t,8,[s.el,l,s,e]),Io())}}const o1=Symbol("_vte"),i1=s=>s.__isTeleport,Sa=s=>s&&(s.disabled||s.disabled===""),Zh=s=>s&&(s.defer||s.defer===""),e0=s=>typeof SVGElement<"u"&&s instanceof SVGElement,t0=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,Mf=(s,e)=>{const t=s&&s.to;return Qt(t)?e?e(t):null:t},r1={name:"Teleport",__isTeleport:!0,process(s,e,t,o,i,r,a,l,d,u){const{mc:m,pc:p,pbc:h,o:{insert:_,querySelector:y,createText:x,createComment:w}}=u,k=Sa(e.props);let{shapeFlag:b,children:M,dynamicChildren:S}=e;if(s==null){const N=e.el=x(""),A=e.anchor=x("");_(N,t,o),_(A,t,o);const T=(L,I)=>{b&16&&m(M,L,I,i,r,a,l,d)},D=()=>{const L=e.target=Mf(e.props,y),I=a1(L,e,x,_);L&&(a!=="svg"&&e0(L)?a="svg":a!=="mathml"&&t0(L)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(L),k||(T(L,I),md(e,!1)))};k&&(T(t,A),md(e,!0)),Zh(e.props)?(e.el.__isMounted=!1,Qs(()=>{D(),delete e.el.__isMounted},r)):D()}else{if(Zh(e.props)&&s.el.__isMounted===!1){Qs(()=>{r1.process(s,e,t,o,i,r,a,l,d,u)},r);return}e.el=s.el,e.targetStart=s.targetStart;const N=e.anchor=s.anchor,A=e.target=s.target,T=e.targetAnchor=s.targetAnchor,D=Sa(s.props),L=D?t:A,I=D?N:T;if(a==="svg"||e0(A)?a="svg":(a==="mathml"||t0(A))&&(a="mathml"),S?(h(s.dynamicChildren,S,L,i,r,a,l),Nm(s,e,!0)):d||p(s,e,L,I,i,r,a,l,!1),k)D?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):jl(e,t,N,u,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const O=e.target=Mf(e.props,y);O&&jl(e,O,null,u,0)}else D&&jl(e,A,T,u,1);md(e,k)}},remove(s,e,t,{um:o,o:{remove:i}},r){const{shapeFlag:a,children:l,anchor:d,targetStart:u,targetAnchor:m,target:p,props:h}=s;if(p&&(i(u),i(m)),r&&i(d),a&16){const _=r||!Sa(h);for(let y=0;y<l.length;y++){const x=l[y];o(x,e,t,_,!!x.dynamicChildren)}}},move:jl,hydrate:J2};function jl(s,e,t,{o:{insert:o},m:i},r=2){r===0&&o(s.targetAnchor,e,t);const{el:a,anchor:l,shapeFlag:d,children:u,props:m}=s,p=r===2;if(p&&o(a,e,t),(!p||Sa(m))&&d&16)for(let h=0;h<u.length;h++)i(u[h],e,t,2);p&&o(l,e,t)}function J2(s,e,t,o,i,r,{o:{nextSibling:a,parentNode:l,querySelector:d,insert:u,createText:m}},p){function h(x,w,k,b){w.anchor=p(a(x),w,l(x),t,o,i,r),w.targetStart=k,w.targetAnchor=b}const _=e.target=Mf(e.props,d),y=Sa(e.props);if(_){const x=_._lpa||_.firstChild;if(e.shapeFlag&16)if(y)h(s,e,x,x&&a(x));else{e.anchor=a(s);let w=x;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,_._lpa=e.targetAnchor&&a(e.targetAnchor);break}}w=a(w)}e.targetAnchor||a1(_,e,m,u),p(x&&a(x),e,_,t,o,i,r)}md(e,y)}else y&&e.shapeFlag&16&&h(s,e,s,a(s));return e.anchor&&a(e.anchor)}const br=r1;function md(s,e){const t=s.ctx;if(t&&t.ut){let o,i;for(e?(o=s.el,i=s.anchor):(o=s.targetStart,i=s.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}function a1(s,e,t,o){const i=e.targetStart=t(""),r=e.targetAnchor=t("");return i[o1]=r,s&&(o(i,s),o(r,s)),r}const Co=Symbol("_leaveCb"),Rl=Symbol("_enterCb");function l1(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ye(()=>{s.isMounted=!0}),Rm(()=>{s.isUnmounting=!0}),s}const Pn=[Function,Array],d1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},c1=s=>{const e=s.subTree;return e.component?c1(e.component):e},Q2={name:"BaseTransition",props:d1,setup(s,{slots:e}){const t=zr(),o=l1();return()=>{const i=e.default&&jm(e.default(),!0);if(!i||!i.length)return;const r=u1(i),a=wt(s),{mode:l}=a;if(o.isLeaving)return Mu(r);const d=s0(r);if(!d)return Mu(r);let u=Ga(d,a,o,t,p=>u=p);d.type!==Bs&&Qi(d,u);let m=t.subTree&&s0(t.subTree);if(m&&m.type!==Bs&&!zi(m,d)&&c1(t).type!==Bs){let p=Ga(m,a,o,t);if(Qi(m,p),l==="out-in"&&d.type!==Bs)return o.isLeaving=!0,p.afterLeave=()=>{o.isLeaving=!1,t.job.flags&8||t.update(),delete p.afterLeave,m=void 0},Mu(r);l==="in-out"&&d.type!==Bs?p.delayLeave=(h,_,y)=>{const x=f1(o,m);x[String(m.key)]=m,h[Co]=()=>{_(),h[Co]=void 0,delete u.delayedLeave,m=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return r}}};function u1(s){let e=s[0];if(s.length>1){for(const t of s)if(t.type!==Bs){e=t;break}}return e}const Z2=Q2;function f1(s,e){const{leavingVNodes:t}=s;let o=t.get(e.type);return o||(o=Object.create(null),t.set(e.type,o)),o}function Ga(s,e,t,o,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:m,onEnterCancelled:p,onBeforeLeave:h,onLeave:_,onAfterLeave:y,onLeaveCancelled:x,onBeforeAppear:w,onAppear:k,onAfterAppear:b,onAppearCancelled:M}=e,S=String(s.key),N=f1(t,s),A=(L,I)=>{L&&Jn(L,o,9,I)},T=(L,I)=>{const O=I[1];A(L,I),et(L)?L.every(P=>P.length<=1)&&O():L.length<=1&&O()},D={mode:a,persisted:l,beforeEnter(L){let I=d;if(!t.isMounted)if(r)I=w||d;else return;L[Co]&&L[Co](!0);const O=N[S];O&&zi(s,O)&&O.el[Co]&&O.el[Co](),A(I,[L])},enter(L){let I=u,O=m,P=p;if(!t.isMounted)if(r)I=k||u,O=b||m,P=M||p;else return;let B=!1;const be=L[Rl]=le=>{B||(B=!0,le?A(P,[L]):A(O,[L]),D.delayedLeave&&D.delayedLeave(),L[Rl]=void 0)};I?T(I,[L,be]):be()},leave(L,I){const O=String(s.key);if(L[Rl]&&L[Rl](!0),t.isUnmounting)return I();A(h,[L]);let P=!1;const B=L[Co]=be=>{P||(P=!0,I(),be?A(x,[L]):A(y,[L]),L[Co]=void 0,N[O]===s&&delete N[O])};N[O]=s,_?T(_,[L,B]):B()},clone(L){const I=Ga(L,e,t,o,i);return i&&i(I),I}};return D}function Mu(s){if(wc(s))return s=Oo(s),s.children=null,s}function s0(s){if(!wc(s))return i1(s.type)&&s.children?u1(s.children):s;if(s.component)return s.component.subTree;const{shapeFlag:e,children:t}=s;if(t){if(e&16)return t[0];if(e&32&&lt(t.default))return t.default()}}function Qi(s,e){s.shapeFlag&6&&s.component?(s.transition=e,Qi(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function jm(s,e=!1,t){let o=[],i=0;for(let r=0;r<s.length;r++){let a=s[r];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:r);a.type===re?(a.patchFlag&128&&i++,o=o.concat(jm(a.children,e,l))):(e||a.type!==Bs)&&o.push(l!=null?Oo(a,{key:l}):a)}if(i>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function ye(s,e){return lt(s)?(()=>as({name:s.name},e,{setup:s}))():s}function ew(){const s=zr();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function m1(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Bd=new WeakMap;function Ma(s,e,t,o,i=!1){if(et(s)){s.forEach((y,x)=>Ma(y,e&&(et(e)?e[x]:e),t,o,i));return}if(xr(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Ma(s,e,t,o.component.subTree);return}const r=o.shapeFlag&4?Sc(o.component):o.el,a=i?null:r,{i:l,r:d}=s,u=e&&e.r,m=l.refs===Ut?l.refs={}:l.refs,p=l.setupState,h=wt(p),_=p===Ut?C_:y=>Et(h,y);if(u!=null&&u!==d){if(n0(e),Qt(u))m[u]=null,_(u)&&(p[u]=null);else if(rs(u)){u.value=null;const y=e;y.k&&(m[y.k]=null)}}if(lt(d))fl(d,l,12,[a,m]);else{const y=Qt(d),x=rs(d);if(y||x){const w=()=>{if(s.f){const k=y?_(d)?p[d]:m[d]:d.value;if(i)et(k)&&wm(k,r);else if(et(k))k.includes(r)||k.push(r);else if(y)m[d]=[r],_(d)&&(p[d]=m[d]);else{const b=[r];d.value=b,s.k&&(m[s.k]=b)}}else y?(m[d]=a,_(d)&&(p[d]=a)):x&&(d.value=a,s.k&&(m[s.k]=a))};if(a){const k=()=>{w(),Bd.delete(s)};k.id=-1,Bd.set(s,k),Qs(k,t)}else n0(s),w()}}}function n0(s){const e=Bd.get(s);e&&(e.flags|=8,Bd.delete(s))}yc().requestIdleCallback;yc().cancelIdleCallback;const xr=s=>!!s.type.__asyncLoader,wc=s=>s.type.__isKeepAlive;function h1(s,e){g1(s,"a",e)}function p1(s,e){g1(s,"da",e)}function g1(s,e,t=Us){const o=s.__wdc||(s.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return s()});if(kc(e,o,t),t){let i=t.parent;for(;i&&i.parent;)wc(i.parent.vnode)&&tw(o,e,t,i),i=i.parent}}function tw(s,e,t,o){const i=kc(e,s,o,!0);qs(()=>{wm(o[e],i)},t)}function kc(s,e,t=Us,o=!1){if(t){const i=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...a)=>{Ro();const l=ml(t),d=Jn(e,t,s,a);return l(),Io(),d});return o?i.unshift(r):i.push(r),r}}const No=s=>(e,t=Us)=>{(!Qa||s==="sp")&&kc(s,(...o)=>e(...o),t)},sw=No("bm"),Ye=No("m"),nw=No("bu"),Nr=No("u"),Rm=No("bum"),qs=No("um"),ow=No("sp"),iw=No("rtg"),rw=No("rtc");function aw(s,e=Us){kc("ec",s,e)}const Im="components";function fn(s,e){return v1(Im,s,!0,e)||s}const _1=Symbol.for("v-ndc");function mo(s){return Qt(s)?v1(Im,s,!1)||s:s||_1}function v1(s,e,t=!0,o=!1){const i=As||Us;if(i){const r=i.type;if(s===Im){const l=Yw(r,!1);if(l&&(l===e||l===zn(e)||l===vc(zn(e))))return r}const a=o0(i[s]||r[s],e)||o0(i.appContext[s],e);return!a&&o?r:a}}function o0(s,e){return s&&(s[e]||s[zn(e)]||s[vc(zn(e))])}function ve(s,e,t,o){let i;const r=t&&t[o],a=et(s);if(a||Qt(s)){const l=a&&li(s);let d=!1,u=!1;l&&(d=!Fn(s),u=ui(s),s=bc(s)),i=new Array(s.length);for(let m=0,p=s.length;m<p;m++)i[m]=e(d?u?Ld(Ms(s[m])):Ms(s[m]):s[m],m,void 0,r&&r[m])}else if(typeof s=="number"){i=new Array(s);for(let l=0;l<s;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(Bt(s))if(s[Symbol.iterator])i=Array.from(s,(l,d)=>e(l,d,void 0,r&&r[d]));else{const l=Object.keys(s);i=new Array(l.length);for(let d=0,u=l.length;d<u;d++){const m=l[d];i[d]=e(s[m],m,d,r&&r[d])}}else i=[];return t&&(t[o]=i),i}function Ps(s,e,t={},o,i){if(As.ce||As.parent&&xr(As.parent)&&As.parent.ce){const u=Object.keys(t).length>0;return e!=="default"&&(t.name=e),g(),ne(re,null,[C("slot",t,o&&o())],u?-2:64)}let r=s[e];r&&r._c&&(r._d=!1),g();const a=r&&y1(r(t)),l=t.key||a&&a.key,d=ne(re,{key:(l&&!Xn(l)?l:`_${e}`)+(!a&&o?"_fb":"")},a||(o?o():[]),a&&s._===1?64:-2);return!i&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),r&&r._c&&(r._d=!0),d}function y1(s){return s.some(e=>Ja(e)?!(e.type===Bs||e.type===re&&!y1(e.children)):!0)?s:null}const Tf=s=>s?L1(s)?Sc(s):Tf(s.parent):null,Ta=as(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Tf(s.parent),$root:s=>Tf(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Om(s),$forceUpdate:s=>s.f||(s.f=()=>{Pm(s.update)}),$nextTick:s=>s.n||(s.n=Mn.bind(s.proxy)),$watch:s=>Aw.bind(s)}),Tu=(s,e)=>s!==Ut&&!s.__isScriptSetup&&Et(s,e),lw={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:o,data:i,props:r,accessCache:a,type:l,appContext:d}=s;let u;if(e[0]!=="$"){const _=a[e];if(_!==void 0)switch(_){case 1:return o[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Tu(o,e))return a[e]=1,o[e];if(i!==Ut&&Et(i,e))return a[e]=2,i[e];if((u=s.propsOptions[0])&&Et(u,e))return a[e]=3,r[e];if(t!==Ut&&Et(t,e))return a[e]=4,t[e];Af&&(a[e]=0)}}const m=Ta[e];let p,h;if(m)return e==="$attrs"&&zs(s.attrs,"get",""),m(s);if((p=l.__cssModules)&&(p=p[e]))return p;if(t!==Ut&&Et(t,e))return a[e]=4,t[e];if(h=d.config.globalProperties,Et(h,e))return h[e]},set({_:s},e,t){const{data:o,setupState:i,ctx:r}=s;return Tu(i,e)?(i[e]=t,!0):o!==Ut&&Et(o,e)?(o[e]=t,!0):Et(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:o,appContext:i,propsOptions:r,type:a}},l){let d,u;return!!(t[l]||s!==Ut&&l[0]!=="$"&&Et(s,l)||Tu(e,l)||(d=r[0])&&Et(d,l)||Et(o,l)||Et(Ta,l)||Et(i.config.globalProperties,l)||(u=a.__cssModules)&&u[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Et(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function i0(s){return et(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let Af=!0;function dw(s){const e=Om(s),t=s.proxy,o=s.ctx;Af=!1,e.beforeCreate&&r0(e.beforeCreate,s,"bc");const{data:i,computed:r,methods:a,watch:l,provide:d,inject:u,created:m,beforeMount:p,mounted:h,beforeUpdate:_,updated:y,activated:x,deactivated:w,beforeDestroy:k,beforeUnmount:b,destroyed:M,unmounted:S,render:N,renderTracked:A,renderTriggered:T,errorCaptured:D,serverPrefetch:L,expose:I,inheritAttrs:O,components:P,directives:B,filters:be}=e;if(u&&cw(u,o,null),a)for(const ce in a){const me=a[ce];lt(me)&&(o[ce]=me.bind(t))}if(i){const ce=i.call(t,t);Bt(ce)&&(s.data=Qe(ce))}if(Af=!0,r)for(const ce in r){const me=r[ce],Z=lt(me)?me.bind(t,t):lt(me.get)?me.get.bind(t,t):Kn,ie=!lt(me)&&lt(me.set)?me.set.bind(t):Kn,Te=De({get:Z,set:ie});Object.defineProperty(o,ce,{enumerable:!0,configurable:!0,get:()=>Te.value,set:se=>Te.value=se})}if(l)for(const ce in l)b1(l[ce],o,t,ce);if(d){const ce=lt(d)?d.call(t):d;Reflect.ownKeys(ce).forEach(me=>{Es(me,ce[me])})}m&&r0(m,s,"c");function de(ce,me){et(me)?me.forEach(Z=>ce(Z.bind(t))):me&&ce(me.bind(t))}if(de(sw,p),de(Ye,h),de(nw,_),de(Nr,y),de(h1,x),de(p1,w),de(aw,D),de(rw,A),de(iw,T),de(Rm,b),de(qs,S),de(ow,L),et(I))if(I.length){const ce=s.exposed||(s.exposed={});I.forEach(me=>{Object.defineProperty(ce,me,{get:()=>t[me],set:Z=>t[me]=Z,enumerable:!0})})}else s.exposed||(s.exposed={});N&&s.render===Kn&&(s.render=N),O!=null&&(s.inheritAttrs=O),P&&(s.components=P),B&&(s.directives=B),L&&m1(s)}function cw(s,e,t=Kn){et(s)&&(s=Df(s));for(const o in s){const i=s[o];let r;Bt(i)?"default"in i?r=Je(i.from||o,i.default,!0):r=Je(i.from||o):r=Je(i),rs(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[o]=r}}function r0(s,e,t){Jn(et(s)?s.map(o=>o.bind(e.proxy)):s.bind(e.proxy),e,t)}function b1(s,e,t,o){let i=o.includes(".")?E1(t,o):()=>t[o];if(Qt(s)){const r=e[s];lt(r)&&$t(i,r)}else if(lt(s))$t(i,s.bind(t));else if(Bt(s))if(et(s))s.forEach(r=>b1(r,e,t,o));else{const r=lt(s.handler)?s.handler.bind(t):e[s.handler];lt(r)&&$t(i,r,s)}}function Om(s){const e=s.type,{mixins:t,extends:o}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,l=r.get(e);let d;return l?d=l:!i.length&&!t&&!o?d=e:(d={},i.length&&i.forEach(u=>Ud(d,u,a,!0)),Ud(d,e,a)),Bt(e)&&r.set(e,d),d}function Ud(s,e,t,o=!1){const{mixins:i,extends:r}=e;r&&Ud(s,r,t,!0),i&&i.forEach(a=>Ud(s,a,t,!0));for(const a in e)if(!(o&&a==="expose")){const l=uw[a]||t&&t[a];s[a]=l?l(s[a],e[a]):e[a]}return s}const uw={data:a0,props:l0,emits:l0,methods:fa,computed:fa,beforeCreate:Xs,created:Xs,beforeMount:Xs,mounted:Xs,beforeUpdate:Xs,updated:Xs,beforeDestroy:Xs,beforeUnmount:Xs,destroyed:Xs,unmounted:Xs,activated:Xs,deactivated:Xs,errorCaptured:Xs,serverPrefetch:Xs,components:fa,directives:fa,watch:mw,provide:a0,inject:fw};function a0(s,e){return e?s?function(){return as(lt(s)?s.call(this,this):s,lt(e)?e.call(this,this):e)}:e:s}function fw(s,e){return fa(Df(s),Df(e))}function Df(s){if(et(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Xs(s,e){return s?[...new Set([].concat(s,e))]:e}function fa(s,e){return s?as(Object.create(null),s,e):e}function l0(s,e){return s?et(s)&&et(e)?[...new Set([...s,...e])]:as(Object.create(null),i0(s),i0(e??{})):e}function mw(s,e){if(!s)return e;if(!e)return s;const t=as(Object.create(null),s);for(const o in e)t[o]=Xs(s[o],e[o]);return t}function x1(){return{app:null,config:{isNativeTag:C_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hw=0;function pw(s,e){return function(o,i=null){lt(o)||(o=as({},o)),i!=null&&!Bt(i)&&(i=null);const r=x1(),a=new WeakSet,l=[];let d=!1;const u=r.app={_uid:hw++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:Xw,get config(){return r.config},set config(m){},use(m,...p){return a.has(m)||(m&&lt(m.install)?(a.add(m),m.install(u,...p)):lt(m)&&(a.add(m),m(u,...p))),u},mixin(m){return r.mixins.includes(m)||r.mixins.push(m),u},component(m,p){return p?(r.components[m]=p,u):r.components[m]},directive(m,p){return p?(r.directives[m]=p,u):r.directives[m]},mount(m,p,h){if(!d){const _=u._ceVNode||C(o,i);return _.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),p&&e?e(_,m):s(_,m,h),d=!0,u._container=m,m.__vue_app__=u,Sc(_.component)}},onUnmount(m){l.push(m)},unmount(){d&&(Jn(l,u._instance,16),s(null,u._container),delete u._container.__vue_app__)},provide(m,p){return r.provides[m]=p,u},runWithContext(m){const p=Ki;Ki=u;try{return m()}finally{Ki=p}}};return u}}let Ki=null;function Es(s,e){if(Us){let t=Us.provides;const o=Us.parent&&Us.parent.provides;o===t&&(t=Us.provides=Object.create(o)),t[s]=e}}function Je(s,e,t=!1){const o=zr();if(o||Ki){let i=Ki?Ki._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&s in i)return i[s];if(arguments.length>1)return t&&lt(e)?e.call(o&&o.proxy):e}}function gw(){return!!(zr()||Ki)}const w1={},k1=()=>Object.create(w1),$1=s=>Object.getPrototypeOf(s)===w1;function _w(s,e,t,o=!1){const i={},r=k1();s.propsDefaults=Object.create(null),C1(s,e,i,r);for(const a in s.propsOptions[0])a in i||(i[a]=void 0);t?s.props=o?i:F2(i):s.type.props?s.props=i:s.props=r,s.attrs=r}function vw(s,e,t,o){const{props:i,attrs:r,vnode:{patchFlag:a}}=s,l=wt(i),[d]=s.propsOptions;let u=!1;if((o||a>0)&&!(a&16)){if(a&8){const m=s.vnode.dynamicProps;for(let p=0;p<m.length;p++){let h=m[p];if($c(s.emitsOptions,h))continue;const _=e[h];if(d)if(Et(r,h))_!==r[h]&&(r[h]=_,u=!0);else{const y=zn(h);i[y]=Ef(d,l,y,_,s,!1)}else _!==r[h]&&(r[h]=_,u=!0)}}}else{C1(s,e,i,r)&&(u=!0);let m;for(const p in l)(!e||!Et(e,p)&&((m=gi(p))===p||!Et(e,m)))&&(d?t&&(t[p]!==void 0||t[m]!==void 0)&&(i[p]=Ef(d,l,p,void 0,s,!0)):delete i[p]);if(r!==l)for(const p in r)(!e||!Et(e,p))&&(delete r[p],u=!0)}u&&Mo(s.attrs,"set","")}function C1(s,e,t,o){const[i,r]=s.propsOptions;let a=!1,l;if(e)for(let d in e){if(ka(d))continue;const u=e[d];let m;i&&Et(i,m=zn(d))?!r||!r.includes(m)?t[m]=u:(l||(l={}))[m]=u:$c(s.emitsOptions,d)||(!(d in o)||u!==o[d])&&(o[d]=u,a=!0)}if(r){const d=wt(t),u=l||Ut;for(let m=0;m<r.length;m++){const p=r[m];t[p]=Ef(i,d,p,u[p],s,!Et(u,p))}}return a}function Ef(s,e,t,o,i,r){const a=s[t];if(a!=null){const l=Et(a,"default");if(l&&o===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&lt(d)){const{propsDefaults:u}=i;if(t in u)o=u[t];else{const m=ml(i);o=u[t]=d.call(null,e),m()}}else o=d;i.ce&&i.ce._setProp(t,o)}a[0]&&(r&&!l?o=!1:a[1]&&(o===""||o===gi(t))&&(o=!0))}return o}const yw=new WeakMap;function S1(s,e,t=!1){const o=t?yw:e.propsCache,i=o.get(s);if(i)return i;const r=s.props,a={},l=[];let d=!1;if(!lt(s)){const m=p=>{d=!0;const[h,_]=S1(p,e,!0);as(a,h),_&&l.push(..._)};!t&&e.mixins.length&&e.mixins.forEach(m),s.extends&&m(s.extends),s.mixins&&s.mixins.forEach(m)}if(!r&&!d)return Bt(s)&&o.set(s,_r),_r;if(et(r))for(let m=0;m<r.length;m++){const p=zn(r[m]);d0(p)&&(a[p]=Ut)}else if(r)for(const m in r){const p=zn(m);if(d0(p)){const h=r[m],_=a[p]=et(h)||lt(h)?{type:h}:as({},h),y=_.type;let x=!1,w=!0;if(et(y))for(let k=0;k<y.length;++k){const b=y[k],M=lt(b)&&b.name;if(M==="Boolean"){x=!0;break}else M==="String"&&(w=!1)}else x=lt(y)&&y.name==="Boolean";_[0]=x,_[1]=w,(x||Et(_,"default"))&&l.push(p)}}const u=[a,l];return Bt(s)&&o.set(s,u),u}function d0(s){return s[0]!=="$"&&!ka(s)}const Lm=s=>s==="_"||s==="_ctx"||s==="$stable",Fm=s=>et(s)?s.map(co):[co(s)],bw=(s,e,t)=>{if(e._n)return e;const o=q((...i)=>Fm(e(...i)),t);return o._c=!1,o},M1=(s,e,t)=>{const o=s._ctx;for(const i in s){if(Lm(i))continue;const r=s[i];if(lt(r))e[i]=bw(i,r,o);else if(r!=null){const a=Fm(r);e[i]=()=>a}}},T1=(s,e)=>{const t=Fm(e);s.slots.default=()=>t},A1=(s,e,t)=>{for(const o in e)(t||!Lm(o))&&(s[o]=e[o])},xw=(s,e,t)=>{const o=s.slots=k1();if(s.vnode.shapeFlag&32){const i=e._;i?(A1(o,e,t),t&&A_(o,"_",i,!0)):M1(e,o)}else e&&T1(s,e)},ww=(s,e,t)=>{const{vnode:o,slots:i}=s;let r=!0,a=Ut;if(o.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:A1(i,e,t):(r=!e.$stable,M1(e,i)),a=e}else e&&(T1(s,e),a={default:1});if(r)for(const l in i)!Lm(l)&&a[l]==null&&delete i[l]},Qs=Lw;function kw(s){return $w(s)}function $w(s,e){const t=yc();t.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:a,createText:l,createComment:d,setText:u,setElementText:m,parentNode:p,nextSibling:h,setScopeId:_=Kn,insertStaticContent:y}=s,x=(U,Y,X,ee=null,te=null,ge=null,Pe=void 0,Re=null,Ee=!!Y.dynamicChildren)=>{if(U===Y)return;U&&!zi(U,Y)&&(ee=Ae(U),se(U,te,ge,!0),U=null),Y.patchFlag===-2&&(Ee=!1,Y.dynamicChildren=null);const{type:$e,ref:Xe,shapeFlag:ze}=Y;switch($e){case Cc:w(U,Y,X,ee);break;case Bs:k(U,Y,X,ee);break;case hd:U==null&&b(Y,X,ee,Pe);break;case re:P(U,Y,X,ee,te,ge,Pe,Re,Ee);break;default:ze&1?N(U,Y,X,ee,te,ge,Pe,Re,Ee):ze&6?B(U,Y,X,ee,te,ge,Pe,Re,Ee):(ze&64||ze&128)&&$e.process(U,Y,X,ee,te,ge,Pe,Re,Ee,Ne)}Xe!=null&&te?Ma(Xe,U&&U.ref,ge,Y||U,!Y):Xe==null&&U&&U.ref!=null&&Ma(U.ref,null,ge,U,!0)},w=(U,Y,X,ee)=>{if(U==null)o(Y.el=l(Y.children),X,ee);else{const te=Y.el=U.el;Y.children!==U.children&&u(te,Y.children)}},k=(U,Y,X,ee)=>{U==null?o(Y.el=d(Y.children||""),X,ee):Y.el=U.el},b=(U,Y,X,ee)=>{[U.el,U.anchor]=y(U.children,Y,X,ee,U.el,U.anchor)},M=({el:U,anchor:Y},X,ee)=>{let te;for(;U&&U!==Y;)te=h(U),o(U,X,ee),U=te;o(Y,X,ee)},S=({el:U,anchor:Y})=>{let X;for(;U&&U!==Y;)X=h(U),i(U),U=X;i(Y)},N=(U,Y,X,ee,te,ge,Pe,Re,Ee)=>{Y.type==="svg"?Pe="svg":Y.type==="math"&&(Pe="mathml"),U==null?A(Y,X,ee,te,ge,Pe,Re,Ee):L(U,Y,te,ge,Pe,Re,Ee)},A=(U,Y,X,ee,te,ge,Pe,Re)=>{let Ee,$e;const{props:Xe,shapeFlag:ze,transition:Oe,dirs:it}=U;if(Ee=U.el=a(U.type,ge,Xe&&Xe.is,Xe),ze&8?m(Ee,U.children):ze&16&&D(U.children,Ee,null,ee,te,Au(U,ge),Pe,Re),it&&Ci(U,null,ee,"created"),T(Ee,U,U.scopeId,Pe,ee),Xe){for(const Dt in Xe)Dt!=="value"&&!ka(Dt)&&r(Ee,Dt,null,Xe[Dt],ge,ee);"value"in Xe&&r(Ee,"value",null,Xe.value,ge),($e=Xe.onVnodeBeforeMount)&&so($e,ee,U)}it&&Ci(U,null,ee,"beforeMount");const _t=Cw(te,Oe);_t&&Oe.beforeEnter(Ee),o(Ee,Y,X),(($e=Xe&&Xe.onVnodeMounted)||_t||it)&&Qs(()=>{$e&&so($e,ee,U),_t&&Oe.enter(Ee),it&&Ci(U,null,ee,"mounted")},te)},T=(U,Y,X,ee,te)=>{if(X&&_(U,X),ee)for(let ge=0;ge<ee.length;ge++)_(U,ee[ge]);if(te){let ge=te.subTree;if(Y===ge||j1(ge.type)&&(ge.ssContent===Y||ge.ssFallback===Y)){const Pe=te.vnode;T(U,Pe,Pe.scopeId,Pe.slotScopeIds,te.parent)}}},D=(U,Y,X,ee,te,ge,Pe,Re,Ee=0)=>{for(let $e=Ee;$e<U.length;$e++){const Xe=U[$e]=Re?Go(U[$e]):co(U[$e]);x(null,Xe,Y,X,ee,te,ge,Pe,Re)}},L=(U,Y,X,ee,te,ge,Pe)=>{const Re=Y.el=U.el;let{patchFlag:Ee,dynamicChildren:$e,dirs:Xe}=Y;Ee|=U.patchFlag&16;const ze=U.props||Ut,Oe=Y.props||Ut;let it;if(X&&Si(X,!1),(it=Oe.onVnodeBeforeUpdate)&&so(it,X,Y,U),Xe&&Ci(Y,U,X,"beforeUpdate"),X&&Si(X,!0),(ze.innerHTML&&Oe.innerHTML==null||ze.textContent&&Oe.textContent==null)&&m(Re,""),$e?I(U.dynamicChildren,$e,Re,X,ee,Au(Y,te),ge):Pe||me(U,Y,Re,null,X,ee,Au(Y,te),ge,!1),Ee>0){if(Ee&16)O(Re,ze,Oe,X,te);else if(Ee&2&&ze.class!==Oe.class&&r(Re,"class",null,Oe.class,te),Ee&4&&r(Re,"style",ze.style,Oe.style,te),Ee&8){const _t=Y.dynamicProps;for(let Dt=0;Dt<_t.length;Dt++){const xt=_t[Dt],bs=ze[xt],ds=Oe[xt];(ds!==bs||xt==="value")&&r(Re,xt,bs,ds,te,X)}}Ee&1&&U.children!==Y.children&&m(Re,Y.children)}else!Pe&&$e==null&&O(Re,ze,Oe,X,te);((it=Oe.onVnodeUpdated)||Xe)&&Qs(()=>{it&&so(it,X,Y,U),Xe&&Ci(Y,U,X,"updated")},ee)},I=(U,Y,X,ee,te,ge,Pe)=>{for(let Re=0;Re<Y.length;Re++){const Ee=U[Re],$e=Y[Re],Xe=Ee.el&&(Ee.type===re||!zi(Ee,$e)||Ee.shapeFlag&198)?p(Ee.el):X;x(Ee,$e,Xe,null,ee,te,ge,Pe,!0)}},O=(U,Y,X,ee,te)=>{if(Y!==X){if(Y!==Ut)for(const ge in Y)!ka(ge)&&!(ge in X)&&r(U,ge,Y[ge],null,te,ee);for(const ge in X){if(ka(ge))continue;const Pe=X[ge],Re=Y[ge];Pe!==Re&&ge!=="value"&&r(U,ge,Re,Pe,te,ee)}"value"in X&&r(U,"value",Y.value,X.value,te)}},P=(U,Y,X,ee,te,ge,Pe,Re,Ee)=>{const $e=Y.el=U?U.el:l(""),Xe=Y.anchor=U?U.anchor:l("");let{patchFlag:ze,dynamicChildren:Oe,slotScopeIds:it}=Y;it&&(Re=Re?Re.concat(it):it),U==null?(o($e,X,ee),o(Xe,X,ee),D(Y.children||[],X,Xe,te,ge,Pe,Re,Ee)):ze>0&&ze&64&&Oe&&U.dynamicChildren?(I(U.dynamicChildren,Oe,X,te,ge,Pe,Re),(Y.key!=null||te&&Y===te.subTree)&&Nm(U,Y,!0)):me(U,Y,X,Xe,te,ge,Pe,Re,Ee)},B=(U,Y,X,ee,te,ge,Pe,Re,Ee)=>{Y.slotScopeIds=Re,U==null?Y.shapeFlag&512?te.ctx.activate(Y,X,ee,Pe,Ee):be(Y,X,ee,te,ge,Pe,Ee):le(U,Y,Ee)},be=(U,Y,X,ee,te,ge,Pe)=>{const Re=U.component=Vw(U,ee,te);if(wc(U)&&(Re.ctx.renderer=Ne),Hw(Re,!1,Pe),Re.asyncDep){if(te&&te.registerDep(Re,de,Pe),!U.el){const Ee=Re.subTree=C(Bs);k(null,Ee,Y,X),U.placeholder=Ee.el}}else de(Re,U,Y,X,te,ge,Pe)},le=(U,Y,X)=>{const ee=Y.component=U.component;if(Iw(U,Y,X))if(ee.asyncDep&&!ee.asyncResolved){ce(ee,Y,X);return}else ee.next=Y,ee.update();else Y.el=U.el,ee.vnode=Y},de=(U,Y,X,ee,te,ge,Pe)=>{const Re=()=>{if(U.isMounted){let{next:ze,bu:Oe,u:it,parent:_t,vnode:Dt}=U;{const _s=D1(U);if(_s){ze&&(ze.el=Dt.el,ce(U,ze,Pe)),_s.asyncDep.then(()=>{U.isUnmounted||Re()});return}}let xt=ze,bs;Si(U,!1),ze?(ze.el=Dt.el,ce(U,ze,Pe)):ze=Dt,Oe&&fd(Oe),(bs=ze.props&&ze.props.onVnodeBeforeUpdate)&&so(bs,_t,ze,Dt),Si(U,!0);const ds=Du(U),js=U.subTree;U.subTree=ds,x(js,ds,p(js.el),Ae(js),U,te,ge),ze.el=ds.el,xt===null&&Ow(U,ds.el),it&&Qs(it,te),(bs=ze.props&&ze.props.onVnodeUpdated)&&Qs(()=>so(bs,_t,ze,Dt),te)}else{let ze;const{el:Oe,props:it}=Y,{bm:_t,m:Dt,parent:xt,root:bs,type:ds}=U,js=xr(Y);if(Si(U,!1),_t&&fd(_t),!js&&(ze=it&&it.onVnodeBeforeMount)&&so(ze,xt,Y),Si(U,!0),Oe&&he){const _s=()=>{U.subTree=Du(U),he(Oe,U.subTree,U,te,null)};js&&ds.__asyncHydrate?ds.__asyncHydrate(Oe,U,_s):_s()}else{bs.ce&&bs.ce._def.shadowRoot!==!1&&bs.ce._injectChildStyle(ds);const _s=U.subTree=Du(U);x(null,_s,X,ee,U,te,ge),Y.el=_s.el}if(Dt&&Qs(Dt,te),!js&&(ze=it&&it.onVnodeMounted)){const _s=Y;Qs(()=>so(ze,xt,_s),te)}(Y.shapeFlag&256||xt&&xr(xt.vnode)&&xt.vnode.shapeFlag&256)&&U.a&&Qs(U.a,te),U.isMounted=!0,Y=X=ee=null}};U.scope.on();const Ee=U.effect=new O_(Re);U.scope.off();const $e=U.update=Ee.run.bind(Ee),Xe=U.job=Ee.runIfDirty.bind(Ee);Xe.i=U,Xe.id=U.uid,Ee.scheduler=()=>Pm(Xe),Si(U,!0),$e()},ce=(U,Y,X)=>{Y.component=U;const ee=U.vnode.props;U.vnode=Y,U.next=null,vw(U,Y.props,ee,X),ww(U,Y.children,X),Ro(),Qh(U),Io()},me=(U,Y,X,ee,te,ge,Pe,Re,Ee=!1)=>{const $e=U&&U.children,Xe=U?U.shapeFlag:0,ze=Y.children,{patchFlag:Oe,shapeFlag:it}=Y;if(Oe>0){if(Oe&128){ie($e,ze,X,ee,te,ge,Pe,Re,Ee);return}else if(Oe&256){Z($e,ze,X,ee,te,ge,Pe,Re,Ee);return}}it&8?(Xe&16&&xe($e,te,ge),ze!==$e&&m(X,ze)):Xe&16?it&16?ie($e,ze,X,ee,te,ge,Pe,Re,Ee):xe($e,te,ge,!0):(Xe&8&&m(X,""),it&16&&D(ze,X,ee,te,ge,Pe,Re,Ee))},Z=(U,Y,X,ee,te,ge,Pe,Re,Ee)=>{U=U||_r,Y=Y||_r;const $e=U.length,Xe=Y.length,ze=Math.min($e,Xe);let Oe;for(Oe=0;Oe<ze;Oe++){const it=Y[Oe]=Ee?Go(Y[Oe]):co(Y[Oe]);x(U[Oe],it,X,null,te,ge,Pe,Re,Ee)}$e>Xe?xe(U,te,ge,!0,!1,ze):D(Y,X,ee,te,ge,Pe,Re,Ee,ze)},ie=(U,Y,X,ee,te,ge,Pe,Re,Ee)=>{let $e=0;const Xe=Y.length;let ze=U.length-1,Oe=Xe-1;for(;$e<=ze&&$e<=Oe;){const it=U[$e],_t=Y[$e]=Ee?Go(Y[$e]):co(Y[$e]);if(zi(it,_t))x(it,_t,X,null,te,ge,Pe,Re,Ee);else break;$e++}for(;$e<=ze&&$e<=Oe;){const it=U[ze],_t=Y[Oe]=Ee?Go(Y[Oe]):co(Y[Oe]);if(zi(it,_t))x(it,_t,X,null,te,ge,Pe,Re,Ee);else break;ze--,Oe--}if($e>ze){if($e<=Oe){const it=Oe+1,_t=it<Xe?Y[it].el:ee;for(;$e<=Oe;)x(null,Y[$e]=Ee?Go(Y[$e]):co(Y[$e]),X,_t,te,ge,Pe,Re,Ee),$e++}}else if($e>Oe)for(;$e<=ze;)se(U[$e],te,ge,!0),$e++;else{const it=$e,_t=$e,Dt=new Map;for($e=_t;$e<=Oe;$e++){const vs=Y[$e]=Ee?Go(Y[$e]):co(Y[$e]);vs.key!=null&&Dt.set(vs.key,$e)}let xt,bs=0;const ds=Oe-_t+1;let js=!1,_s=0;const Bn=new Array(ds);for($e=0;$e<ds;$e++)Bn[$e]=0;for($e=it;$e<=ze;$e++){const vs=U[$e];if(bs>=ds){se(vs,te,ge,!0);continue}let Rs;if(vs.key!=null)Rs=Dt.get(vs.key);else for(xt=_t;xt<=Oe;xt++)if(Bn[xt-_t]===0&&zi(vs,Y[xt])){Rs=xt;break}Rs===void 0?se(vs,te,ge,!0):(Bn[Rs-_t]=$e+1,Rs>=_s?_s=Rs:js=!0,x(vs,Y[Rs],X,null,te,ge,Pe,Re,Ee),bs++)}const Nt=js?Sw(Bn):_r;for(xt=Nt.length-1,$e=ds-1;$e>=0;$e--){const vs=_t+$e,Rs=Y[vs],ir=Y[vs+1],Un=vs+1<Xe?ir.el||ir.placeholder:ee;Bn[$e]===0?x(null,Rs,X,Un,te,ge,Pe,Re,Ee):js&&(xt<0||$e!==Nt[xt]?Te(Rs,X,Un,2):xt--)}}},Te=(U,Y,X,ee,te=null)=>{const{el:ge,type:Pe,transition:Re,children:Ee,shapeFlag:$e}=U;if($e&6){Te(U.component.subTree,Y,X,ee);return}if($e&128){U.suspense.move(Y,X,ee);return}if($e&64){Pe.move(U,Y,X,Ne);return}if(Pe===re){o(ge,Y,X);for(let ze=0;ze<Ee.length;ze++)Te(Ee[ze],Y,X,ee);o(U.anchor,Y,X);return}if(Pe===hd){M(U,Y,X);return}if(ee!==2&&$e&1&&Re)if(ee===0)Re.beforeEnter(ge),o(ge,Y,X),Qs(()=>Re.enter(ge),te);else{const{leave:ze,delayLeave:Oe,afterLeave:it}=Re,_t=()=>{U.ctx.isUnmounted?i(ge):o(ge,Y,X)},Dt=()=>{ge._isLeaving&&ge[Co](!0),ze(ge,()=>{_t(),it&&it()})};Oe?Oe(ge,_t,Dt):Dt()}else o(ge,Y,X)},se=(U,Y,X,ee=!1,te=!1)=>{const{type:ge,props:Pe,ref:Re,children:Ee,dynamicChildren:$e,shapeFlag:Xe,patchFlag:ze,dirs:Oe,cacheIndex:it}=U;if(ze===-2&&(te=!1),Re!=null&&(Ro(),Ma(Re,null,X,U,!0),Io()),it!=null&&(Y.renderCache[it]=void 0),Xe&256){Y.ctx.deactivate(U);return}const _t=Xe&1&&Oe,Dt=!xr(U);let xt;if(Dt&&(xt=Pe&&Pe.onVnodeBeforeUnmount)&&so(xt,Y,U),Xe&6)ue(U.component,X,ee);else{if(Xe&128){U.suspense.unmount(X,ee);return}_t&&Ci(U,null,Y,"beforeUnmount"),Xe&64?U.type.remove(U,Y,X,Ne,ee):$e&&!$e.hasOnce&&(ge!==re||ze>0&&ze&64)?xe($e,Y,X,!1,!0):(ge===re&&ze&384||!te&&Xe&16)&&xe(Ee,Y,X),ee&&ke(U)}(Dt&&(xt=Pe&&Pe.onVnodeUnmounted)||_t)&&Qs(()=>{xt&&so(xt,Y,U),_t&&Ci(U,null,Y,"unmounted")},X)},ke=U=>{const{type:Y,el:X,anchor:ee,transition:te}=U;if(Y===re){Ce(X,ee);return}if(Y===hd){S(U);return}const ge=()=>{i(X),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(U.shapeFlag&1&&te&&!te.persisted){const{leave:Pe,delayLeave:Re}=te,Ee=()=>Pe(X,ge);Re?Re(U.el,ge,Ee):Ee()}else ge()},Ce=(U,Y)=>{let X;for(;U!==Y;)X=h(U),i(U),U=X;i(Y)},ue=(U,Y,X)=>{const{bum:ee,scope:te,job:ge,subTree:Pe,um:Re,m:Ee,a:$e}=U;c0(Ee),c0($e),ee&&fd(ee),te.stop(),ge&&(ge.flags|=8,se(Pe,U,Y,X)),Re&&Qs(Re,Y),Qs(()=>{U.isUnmounted=!0},Y)},xe=(U,Y,X,ee=!1,te=!1,ge=0)=>{for(let Pe=ge;Pe<U.length;Pe++)se(U[Pe],Y,X,ee,te)},Ae=U=>{if(U.shapeFlag&6)return Ae(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const Y=h(U.anchor||U.el),X=Y&&Y[o1];return X?h(X):Y};let Be=!1;const nt=(U,Y,X)=>{U==null?Y._vnode&&se(Y._vnode,null,null,!0):x(Y._vnode||null,U,Y,null,null,null,X),Y._vnode=U,Be||(Be=!0,Qh(),t1(),Be=!1)},Ne={p:x,um:se,m:Te,r:ke,mt:be,mc:D,pc:me,pbc:I,n:Ae,o:s};let fe,he;return e&&([fe,he]=e(Ne)),{render:nt,hydrate:fe,createApp:pw(nt,fe)}}function Au({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Si({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function Cw(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function Nm(s,e,t=!1){const o=s.children,i=e.children;if(et(o)&&et(i))for(let r=0;r<o.length;r++){const a=o[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Go(i[r]),l.el=a.el),!t&&l.patchFlag!==-2&&Nm(a,l)),l.type===Cc&&l.patchFlag!==-1&&(l.el=a.el),l.type===Bs&&!l.el&&(l.el=a.el)}}function Sw(s){const e=s.slice(),t=[0];let o,i,r,a,l;const d=s.length;for(o=0;o<d;o++){const u=s[o];if(u!==0){if(i=t[t.length-1],s[i]<u){e[o]=i,t.push(o);continue}for(r=0,a=t.length-1;r<a;)l=r+a>>1,s[t[l]]<u?r=l+1:a=l;u<s[t[r]]&&(r>0&&(e[o]=t[r-1]),t[r]=o)}}for(r=t.length,a=t[r-1];r-- >0;)t[r]=a,a=e[a];return t}function D1(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:D1(e)}function c0(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const Mw=Symbol.for("v-scx"),Tw=()=>Je(Mw);function cn(s,e){return zm(s,null,e)}function $t(s,e,t){return zm(s,e,t)}function zm(s,e,t=Ut){const{immediate:o,deep:i,flush:r,once:a}=t,l=as({},t),d=e&&o||!e&&r!=="post";let u;if(Qa){if(r==="sync"){const _=Tw();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!d){const _=()=>{};return _.stop=Kn,_.resume=Kn,_.pause=Kn,_}}const m=Us;l.call=(_,y,x)=>Jn(_,m,y,x);let p=!1;r==="post"?l.scheduler=_=>{Qs(_,m&&m.suspense)}:r!=="sync"&&(p=!0,l.scheduler=(_,y)=>{y?_():Pm(_)}),l.augmentJob=_=>{e&&(_.flags|=4),p&&(_.flags|=2,m&&(_.id=m.uid,_.i=m))};const h=K2(s,e,l);return Qa&&(u?u.push(h):d&&h()),h}function Aw(s,e,t){const o=this.proxy,i=Qt(s)?s.includes(".")?E1(o,s):()=>o[s]:s.bind(o,o);let r;lt(e)?r=e:(r=e.handler,t=e);const a=ml(this),l=zm(i,r.bind(o),t);return a(),l}function E1(s,e){const t=e.split(".");return()=>{let o=s;for(let i=0;i<t.length&&o;i++)o=o[t[i]];return o}}const Dw=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${zn(e)}Modifiers`]||s[`${gi(e)}Modifiers`];function Ew(s,e,...t){if(s.isUnmounted)return;const o=s.vnode.props||Ut;let i=t;const r=e.startsWith("update:"),a=r&&Dw(o,e.slice(7));a&&(a.trim&&(i=t.map(m=>Qt(m)?m.trim():m)),a.number&&(i=t.map(Id)));let l,d=o[l=wu(e)]||o[l=wu(zn(e))];!d&&r&&(d=o[l=wu(gi(e))]),d&&Jn(d,s,6,i);const u=o[l+"Once"];if(u){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Jn(u,s,6,i)}}const Pw=new WeakMap;function P1(s,e,t=!1){const o=t?Pw:e.emitsCache,i=o.get(s);if(i!==void 0)return i;const r=s.emits;let a={},l=!1;if(!lt(s)){const d=u=>{const m=P1(u,e,!0);m&&(l=!0,as(a,m))};!t&&e.mixins.length&&e.mixins.forEach(d),s.extends&&d(s.extends),s.mixins&&s.mixins.forEach(d)}return!r&&!l?(Bt(s)&&o.set(s,null),null):(et(r)?r.forEach(d=>a[d]=null):as(a,r),Bt(s)&&o.set(s,a),a)}function $c(s,e){return!s||!gc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Et(s,e[0].toLowerCase()+e.slice(1))||Et(s,gi(e))||Et(s,e))}function Du(s){const{type:e,vnode:t,proxy:o,withProxy:i,propsOptions:[r],slots:a,attrs:l,emit:d,render:u,renderCache:m,props:p,data:h,setupState:_,ctx:y,inheritAttrs:x}=s,w=zd(s);let k,b;try{if(t.shapeFlag&4){const S=i||o,N=S;k=co(u.call(N,S,m,p,_,h,y)),b=l}else{const S=e;k=co(S.length>1?S(p,{attrs:l,slots:a,emit:d}):S(p,null)),b=e.props?l:jw(l)}}catch(S){Aa.length=0,xc(S,s,1),k=C(Bs)}let M=k;if(b&&x!==!1){const S=Object.keys(b),{shapeFlag:N}=M;S.length&&N&7&&(r&&S.some(xm)&&(b=Rw(b,r)),M=Oo(M,b,!1,!0))}return t.dirs&&(M=Oo(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(t.dirs):t.dirs),t.transition&&Qi(M,t.transition),k=M,zd(w),k}const jw=s=>{let e;for(const t in s)(t==="class"||t==="style"||gc(t))&&((e||(e={}))[t]=s[t]);return e},Rw=(s,e)=>{const t={};for(const o in s)(!xm(o)||!(o.slice(9)in e))&&(t[o]=s[o]);return t};function Iw(s,e,t){const{props:o,children:i,component:r}=s,{props:a,children:l,patchFlag:d}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&d>=0){if(d&1024)return!0;if(d&16)return o?u0(o,a,u):!!a;if(d&8){const m=e.dynamicProps;for(let p=0;p<m.length;p++){const h=m[p];if(a[h]!==o[h]&&!$c(u,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:o===a?!1:o?a?u0(o,a,u):!0:!!a;return!1}function u0(s,e,t){const o=Object.keys(e);if(o.length!==Object.keys(s).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(e[r]!==s[r]&&!$c(t,r))return!0}return!1}function Ow({vnode:s,parent:e},t){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===s&&(o.el=s.el),o===s)(s=e.vnode).el=t,e=e.parent;else break}}const j1=s=>s.__isSuspense;function Lw(s,e){e&&e.pendingBranch?et(s)?e.effects.push(...s):e.effects.push(s):X2(s)}const re=Symbol.for("v-fgt"),Cc=Symbol.for("v-txt"),Bs=Symbol.for("v-cmt"),hd=Symbol.for("v-stc"),Aa=[];let Cn=null;function g(s=!1){Aa.push(Cn=s?null:[])}function Fw(){Aa.pop(),Cn=Aa[Aa.length-1]||null}let Xa=1;function Vd(s,e=!1){Xa+=s,s<0&&Cn&&e&&(Cn.hasOnce=!0)}function R1(s){return s.dynamicChildren=Xa>0?Cn||_r:null,Fw(),Xa>0&&Cn&&Cn.push(s),s}function v(s,e,t,o,i,r){return R1(n(s,e,t,o,i,r,!0))}function ne(s,e,t,o,i){return R1(C(s,e,t,o,i,!0))}function Ja(s){return s?s.__v_isVNode===!0:!1}function zi(s,e){return s.type===e.type&&s.key===e.key}const I1=({key:s})=>s??null,pd=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?Qt(s)||rs(s)||lt(s)?{i:As,r:s,k:e,f:!!t}:s:null);function n(s,e=null,t=null,o=0,i=null,r=s===re?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&I1(e),ref:e&&pd(e),scopeId:n1,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:As};return l?(Bm(d,t),r&128&&s.normalize(d)):t&&(d.shapeFlag|=Qt(t)?8:16),Xa>0&&!a&&Cn&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&Cn.push(d),d}const C=Nw;function Nw(s,e=null,t=null,o=0,i=null,r=!1){if((!s||s===_1)&&(s=Bs),Ja(s)){const l=Oo(s,e,!0);return t&&Bm(l,t),Xa>0&&!r&&Cn&&(l.shapeFlag&6?Cn[Cn.indexOf(s)]=l:Cn.push(l)),l.patchFlag=-2,l}if(Gw(s)&&(s=s.__vccOpts),e){e=zw(e);let{class:l,style:d}=e;l&&!Qt(l)&&(e.class=Q(l)),Bt(d)&&(Em(d)&&!et(d)&&(d=as({},d)),e.style=kt(d))}const a=Qt(s)?1:j1(s)?128:i1(s)?64:Bt(s)?4:lt(s)?2:0;return n(s,e,t,o,i,a,r,!0)}function zw(s){return s?Em(s)||$1(s)?as({},s):s:null}function Oo(s,e,t=!1,o=!1){const{props:i,ref:r,patchFlag:a,children:l,transition:d}=s,u=e?O1(i||{},e):i,m={__v_isVNode:!0,__v_skip:!0,type:s.type,props:u,key:u&&I1(u),ref:e&&e.ref?t&&r?et(r)?r.concat(pd(e)):[r,pd(e)]:pd(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==re?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:d,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Oo(s.ssContent),ssFallback:s.ssFallback&&Oo(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return d&&o&&Qi(m,d.clone(m)),m}function K(s=" ",e=0){return C(Cc,null,s,e)}function _i(s,e){const t=C(hd,null,s);return t.staticCount=e,t}function j(s="",e=!1){return e?(g(),ne(Bs,null,s)):C(Bs,null,s)}function co(s){return s==null||typeof s=="boolean"?C(Bs):et(s)?C(re,null,s.slice()):Ja(s)?Go(s):C(Cc,null,String(s))}function Go(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Oo(s)}function Bm(s,e){let t=0;const{shapeFlag:o}=s;if(e==null)e=null;else if(et(e))t=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Bm(s,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!$1(e)?e._ctx=As:i===3&&As&&(As.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:As},t=32):(e=String(e),o&64?(t=16,e=[K(e)]):t=8);s.children=e,s.shapeFlag|=t}function O1(...s){const e={};for(let t=0;t<s.length;t++){const o=s[t];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=Q([e.class,o.class]));else if(i==="style")e.style=kt([e.style,o.style]);else if(gc(i)){const r=e[i],a=o[i];a&&r!==a&&!(et(r)&&r.includes(a))&&(e[i]=r?[].concat(r,a):a)}else i!==""&&(e[i]=o[i])}return e}function so(s,e,t,o=null){Jn(s,e,7,[t,o])}const Bw=x1();let Uw=0;function Vw(s,e,t){const o=s.type,i=(e?e.appContext:s.appContext)||Bw,r={uid:Uw++,vnode:s,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new j_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:S1(o,i),emitsOptions:P1(o,i),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:o.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Ew.bind(null,r),s.ce&&s.ce(r),r}let Us=null;const zr=()=>Us||As;let Hd,Pf;{const s=yc(),e=(t,o)=>{let i;return(i=s[t])||(i=s[t]=[]),i.push(o),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};Hd=e("__VUE_INSTANCE_SETTERS__",t=>Us=t),Pf=e("__VUE_SSR_SETTERS__",t=>Qa=t)}const ml=s=>{const e=Us;return Hd(s),s.scope.on(),()=>{s.scope.off(),Hd(e)}},f0=()=>{Us&&Us.scope.off(),Hd(null)};function L1(s){return s.vnode.shapeFlag&4}let Qa=!1;function Hw(s,e=!1,t=!1){e&&Pf(e);const{props:o,children:i}=s.vnode,r=L1(s);_w(s,o,r,e),xw(s,i,t||e);const a=r?qw(s,e):void 0;return e&&Pf(!1),a}function qw(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,lw);const{setup:o}=t;if(o){Ro();const i=s.setupContext=o.length>1?Kw(s):null,r=ml(s),a=fl(o,s,0,[s.props,i]),l=S_(a);if(Io(),r(),(l||s.sp)&&!xr(s)&&m1(s),l){if(a.then(f0,f0),e)return a.then(d=>{m0(s,d,e)}).catch(d=>{xc(d,s,0)});s.asyncDep=a}else m0(s,a,e)}else F1(s,e)}function m0(s,e,t){lt(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Bt(e)&&(s.setupState=Q_(e)),F1(s,t)}let h0;function F1(s,e,t){const o=s.type;if(!s.render){if(!e&&h0&&!o.render){const i=o.template||Om(s).template;if(i){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:l,compilerOptions:d}=o,u=as(as({isCustomElement:r,delimiters:l},a),d);o.render=h0(i,u)}}s.render=o.render||Kn}{const i=ml(s);Ro();try{dw(s)}finally{Io(),i()}}}const Ww={get(s,e){return zs(s,"get",""),s[e]}};function Kw(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,Ww),slots:s.slots,emit:s.emit,expose:e}}function Sc(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(Q_(Sr(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ta)return Ta[t](s)},has(e,t){return t in e||t in Ta}})):s.proxy}function Yw(s,e=!0){return lt(s)?s.displayName||s.name:s.name||e&&s.__name}function Gw(s){return lt(s)&&"__vccOpts"in s}const De=(s,e)=>q2(s,e,Qa);function Ot(s,e,t){try{Vd(-1);const o=arguments.length;return o===2?Bt(e)&&!et(e)?Ja(e)?C(s,null,[e]):C(s,e):C(s,null,e):(o>3?t=Array.prototype.slice.call(arguments,2):o===3&&Ja(t)&&(t=[t]),C(s,e,t))}finally{Vd(1)}}const Xw="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jf;const p0=typeof window<"u"&&window.trustedTypes;if(p0)try{jf=p0.createPolicy("vue",{createHTML:s=>s})}catch{}const N1=jf?s=>jf.createHTML(s):s=>s,Jw="http://www.w3.org/2000/svg",Qw="http://www.w3.org/1998/Math/MathML",$o=typeof document<"u"?document:null,g0=$o&&$o.createElement("template"),Zw={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,o)=>{const i=e==="svg"?$o.createElementNS(Jw,s):e==="mathml"?$o.createElementNS(Qw,s):t?$o.createElement(s,{is:t}):$o.createElement(s);return s==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:s=>$o.createTextNode(s),createComment:s=>$o.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>$o.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,o,i,r){const a=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{g0.innerHTML=N1(o==="svg"?`<svg>${s}</svg>`:o==="mathml"?`<math>${s}</math>`:s);const l=g0.content;if(o==="svg"||o==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Ho="transition",Zr="animation",Mr=Symbol("_vtc"),z1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B1=as({},d1,z1),e5=s=>(s.displayName="Transition",s.props=B1,s),Rf=e5((s,{slots:e})=>Ot(Z2,U1(s),e)),Mi=(s,e=[])=>{et(s)?s.forEach(t=>t(...e)):s&&s(...e)},_0=s=>s?et(s)?s.some(e=>e.length>1):s.length>1:!1;function U1(s){const e={};for(const P in s)P in z1||(e[P]=s[P]);if(s.css===!1)return e;const{name:t="v",type:o,duration:i,enterFromClass:r=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:d=r,appearActiveClass:u=a,appearToClass:m=l,leaveFromClass:p=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:_=`${t}-leave-to`}=s,y=t5(i),x=y&&y[0],w=y&&y[1],{onBeforeEnter:k,onEnter:b,onEnterCancelled:M,onLeave:S,onLeaveCancelled:N,onBeforeAppear:A=k,onAppear:T=b,onAppearCancelled:D=M}=e,L=(P,B,be,le)=>{P._enterCancelled=le,Wo(P,B?m:l),Wo(P,B?u:a),be&&be()},I=(P,B)=>{P._isLeaving=!1,Wo(P,p),Wo(P,_),Wo(P,h),B&&B()},O=P=>(B,be)=>{const le=P?T:b,de=()=>L(B,P,be);Mi(le,[B,de]),v0(()=>{Wo(B,P?d:r),oo(B,P?m:l),_0(le)||y0(B,o,x,de)})};return as(e,{onBeforeEnter(P){Mi(k,[P]),oo(P,r),oo(P,a)},onBeforeAppear(P){Mi(A,[P]),oo(P,d),oo(P,u)},onEnter:O(!1),onAppear:O(!0),onLeave(P,B){P._isLeaving=!0;const be=()=>I(P,B);oo(P,p),P._enterCancelled?(oo(P,h),If(P)):(If(P),oo(P,h)),v0(()=>{P._isLeaving&&(Wo(P,p),oo(P,_),_0(S)||y0(P,o,w,be))}),Mi(S,[P,be])},onEnterCancelled(P){L(P,!1,void 0,!0),Mi(M,[P])},onAppearCancelled(P){L(P,!0,void 0,!0),Mi(D,[P])},onLeaveCancelled(P){I(P),Mi(N,[P])}})}function t5(s){if(s==null)return null;if(Bt(s))return[Eu(s.enter),Eu(s.leave)];{const e=Eu(s);return[e,e]}}function Eu(s){return c2(s)}function oo(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[Mr]||(s[Mr]=new Set)).add(e)}function Wo(s,e){e.split(/\s+/).forEach(o=>o&&s.classList.remove(o));const t=s[Mr];t&&(t.delete(e),t.size||(s[Mr]=void 0))}function v0(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let s5=0;function y0(s,e,t,o){const i=s._endId=++s5,r=()=>{i===s._endId&&o()};if(t!=null)return setTimeout(r,t);const{type:a,timeout:l,propCount:d}=V1(s,e);if(!a)return o();const u=a+"end";let m=0;const p=()=>{s.removeEventListener(u,h),r()},h=_=>{_.target===s&&++m>=d&&p()};setTimeout(()=>{m<d&&p()},l+1),s.addEventListener(u,h)}function V1(s,e){const t=window.getComputedStyle(s),o=y=>(t[y]||"").split(", "),i=o(`${Ho}Delay`),r=o(`${Ho}Duration`),a=b0(i,r),l=o(`${Zr}Delay`),d=o(`${Zr}Duration`),u=b0(l,d);let m=null,p=0,h=0;e===Ho?a>0&&(m=Ho,p=a,h=r.length):e===Zr?u>0&&(m=Zr,p=u,h=d.length):(p=Math.max(a,u),m=p>0?a>u?Ho:Zr:null,h=m?m===Ho?r.length:d.length:0);const _=m===Ho&&/\b(?:transform|all)(?:,|$)/.test(o(`${Ho}Property`).toString());return{type:m,timeout:p,propCount:h,hasTransform:_}}function b0(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,o)=>x0(t)+x0(s[o])))}function x0(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function If(s){return(s?s.ownerDocument:document).body.offsetHeight}function n5(s,e,t){const o=s[Mr];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const qd=Symbol("_vod"),H1=Symbol("_vsh"),zt={name:"show",beforeMount(s,{value:e},{transition:t}){s[qd]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):ea(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:o}){!e!=!t&&(o?e?(o.beforeEnter(s),ea(s,!0),o.enter(s)):o.leave(s,()=>{ea(s,!1)}):ea(s,e))},beforeUnmount(s,{value:e}){ea(s,e)}};function ea(s,e){s.style.display=e?s[qd]:"none",s[H1]=!e}const o5=Symbol(""),i5=/(?:^|;)\s*display\s*:/;function r5(s,e,t){const o=s.style,i=Qt(t);let r=!1;if(t&&!i){if(e)if(Qt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&gd(o,l,"")}else for(const a in e)t[a]==null&&gd(o,a,"");for(const a in t)a==="display"&&(r=!0),gd(o,a,t[a])}else if(i){if(e!==t){const a=o[o5];a&&(t+=";"+a),o.cssText=t,r=i5.test(t)}}else e&&s.removeAttribute("style");qd in s&&(s[qd]=r?o.display:"",s[H1]&&(o.display="none"))}const w0=/\s*!important$/;function gd(s,e,t){if(et(t))t.forEach(o=>gd(s,e,o));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const o=a5(s,e);w0.test(t)?s.setProperty(gi(o),t.replace(w0,""),"important"):s[o]=t}}const k0=["Webkit","Moz","ms"],Pu={};function a5(s,e){const t=Pu[e];if(t)return t;let o=zn(e);if(o!=="filter"&&o in s)return Pu[e]=o;o=vc(o);for(let i=0;i<k0.length;i++){const r=k0[i]+o;if(r in s)return Pu[e]=r}return e}const $0="http://www.w3.org/1999/xlink";function C0(s,e,t,o,i,r=g2(e)){o&&e.startsWith("xlink:")?t==null?s.removeAttributeNS($0,e.slice(6,e.length)):s.setAttributeNS($0,e,t):t==null||r&&!D_(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Xn(t)?String(t):t)}function S0(s,e,t,o,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?N1(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,d=t==null?s.type==="checkbox"?"on":"":String(t);(l!==d||!("_value"in s))&&(s.value=d),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=D_(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(i||e)}function Ao(s,e,t,o){s.addEventListener(e,t,o)}function l5(s,e,t,o){s.removeEventListener(e,t,o)}const M0=Symbol("_vei");function d5(s,e,t,o,i=null){const r=s[M0]||(s[M0]={}),a=r[e];if(o&&a)a.value=o;else{const[l,d]=c5(e);if(o){const u=r[e]=m5(o,i);Ao(s,l,u,d)}else a&&(l5(s,l,a,d),r[e]=void 0)}}const T0=/(?:Once|Passive|Capture)$/;function c5(s){let e;if(T0.test(s)){e={};let o;for(;o=s.match(T0);)s=s.slice(0,s.length-o[0].length),e[o[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):gi(s.slice(2)),e]}let ju=0;const u5=Promise.resolve(),f5=()=>ju||(u5.then(()=>ju=0),ju=Date.now());function m5(s,e){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Jn(h5(o,t.value),e,5,[o])};return t.value=s,t.attached=f5(),t}function h5(s,e){if(et(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const A0=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,p5=(s,e,t,o,i,r)=>{const a=i==="svg";e==="class"?n5(s,o,a):e==="style"?r5(s,t,o):gc(e)?xm(e)||d5(s,e,t,o,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):g5(s,e,o,a))?(S0(s,e,o),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&C0(s,e,o,a,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!Qt(o))?S0(s,zn(e),o,r,e):(e==="true-value"?s._trueValue=o:e==="false-value"&&(s._falseValue=o),C0(s,e,o,a))};function g5(s,e,t,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in s&&A0(e)&&lt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=s.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return A0(e)&&Qt(t)?!1:e in s}const q1=new WeakMap,W1=new WeakMap,Wd=Symbol("_moveCb"),D0=Symbol("_enterCb"),_5=s=>(delete s.props.mode,s),v5=_5({name:"TransitionGroup",props:as({},B1,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=zr(),o=l1();let i,r;return Nr(()=>{if(!i.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!k5(i[0].el,t.vnode.el,a)){i=[];return}i.forEach(b5),i.forEach(x5);const l=i.filter(w5);If(t.vnode.el),l.forEach(d=>{const u=d.el,m=u.style;oo(u,a),m.transform=m.webkitTransform=m.transitionDuration="";const p=u[Wd]=h=>{h&&h.target!==u||(!h||h.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",p),u[Wd]=null,Wo(u,a))};u.addEventListener("transitionend",p)}),i=[]}),()=>{const a=wt(s),l=U1(a);let d=a.tag||re;if(i=[],r)for(let u=0;u<r.length;u++){const m=r[u];m.el&&m.el instanceof Element&&(i.push(m),Qi(m,Ga(m,l,o,t)),q1.set(m,m.el.getBoundingClientRect()))}r=e.default?jm(e.default()):[];for(let u=0;u<r.length;u++){const m=r[u];m.key!=null&&Qi(m,Ga(m,l,o,t))}return C(d,null,r)}}}),y5=v5;function b5(s){const e=s.el;e[Wd]&&e[Wd](),e[D0]&&e[D0]()}function x5(s){W1.set(s,s.el.getBoundingClientRect())}function w5(s){const e=q1.get(s),t=W1.get(s),o=e.left-t.left,i=e.top-t.top;if(o||i){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${o}px,${i}px)`,r.transitionDuration="0s",s}}function k5(s,e,t){const o=s.cloneNode(),i=s[Mr];i&&i.forEach(l=>{l.split(/\s+/).forEach(d=>d&&o.classList.remove(d))}),t.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(o);const{hasTransform:a}=V1(o);return r.removeChild(o),a}const fi=s=>{const e=s.props["onUpdate:modelValue"]||!1;return et(e)?t=>fd(e,t):e};function $5(s){s.target.composing=!0}function E0(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nn=Symbol("_assign"),J={created(s,{modifiers:{lazy:e,trim:t,number:o}},i){s[Nn]=fi(i);const r=o||i.props&&i.props.type==="number";Ao(s,e?"change":"input",a=>{if(a.target.composing)return;let l=s.value;t&&(l=l.trim()),r&&(l=Id(l)),s[Nn](l)}),t&&Ao(s,"change",()=>{s.value=s.value.trim()}),e||(Ao(s,"compositionstart",$5),Ao(s,"compositionend",E0),Ao(s,"change",E0))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:o,trim:i,number:r}},a){if(s[Nn]=fi(a),s.composing)return;const l=(r||s.type==="number")&&!/^0\d/.test(s.value)?Id(s.value):s.value,d=e??"";l!==d&&(document.activeElement===s&&s.type!=="range"&&(o&&e===t||i&&s.value.trim()===d)||(s.value=d))}},os={deep:!0,created(s,e,t){s[Nn]=fi(t),Ao(s,"change",()=>{const o=s._modelValue,i=Tr(s),r=s.checked,a=s[Nn];if(et(o)){const l=$m(o,i),d=l!==-1;if(r&&!d)a(o.concat(i));else if(!r&&d){const u=[...o];u.splice(l,1),a(u)}}else if(Fr(o)){const l=new Set(o);r?l.add(i):l.delete(i),a(l)}else a(K1(s,r))})},mounted:P0,beforeUpdate(s,e,t){s[Nn]=fi(t),P0(s,e,t)}};function P0(s,{value:e,oldValue:t},o){s._modelValue=e;let i;if(et(e))i=$m(e,o.props.value)>-1;else if(Fr(e))i=e.has(o.props.value);else{if(e===t)return;i=Ji(e,K1(s,!0))}s.checked!==i&&(s.checked=i)}const On={created(s,{value:e},t){s.checked=Ji(e,t.props.value),s[Nn]=fi(t),Ao(s,"change",()=>{s[Nn](Tr(s))})},beforeUpdate(s,{value:e,oldValue:t},o){s[Nn]=fi(o),e!==t&&(s.checked=Ji(e,o.props.value))}},Me={deep:!0,created(s,{value:e,modifiers:{number:t}},o){const i=Fr(e);Ao(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>t?Id(Tr(a)):Tr(a));s[Nn](s.multiple?i?new Set(r):r:r[0]),s._assigning=!0,Mn(()=>{s._assigning=!1})}),s[Nn]=fi(o)},mounted(s,{value:e}){j0(s,e)},beforeUpdate(s,e,t){s[Nn]=fi(t)},updated(s,{value:e}){s._assigning||j0(s,e)}};function j0(s,e){const t=s.multiple,o=et(e);if(!(t&&!o&&!Fr(e))){for(let i=0,r=s.options.length;i<r;i++){const a=s.options[i],l=Tr(a);if(t)if(o){const d=typeof l;d==="string"||d==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=$m(e,l)>-1}else a.selected=e.has(l);else if(Ji(Tr(a),e)){s.selectedIndex!==i&&(s.selectedIndex=i);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function Tr(s){return"_value"in s?s._value:s.value}function K1(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const C5={created(s,e,t){Il(s,e,t,null,"created")},mounted(s,e,t){Il(s,e,t,null,"mounted")},beforeUpdate(s,e,t,o){Il(s,e,t,o,"beforeUpdate")},updated(s,e,t,o){Il(s,e,t,o,"updated")}};function S5(s,e){switch(s){case"SELECT":return Me;case"TEXTAREA":return J;default:switch(e){case"checkbox":return os;case"radio":return On;default:return J}}}function Il(s,e,t,o,i){const a=S5(s.tagName,t.props&&t.props.type)[i];a&&a(s,e,t,o)}const M5=["ctrl","shift","alt","meta"],T5={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>M5.some(t=>s[`${t}Key`]&&!e.includes(t))},Ke=(s,e)=>{const t=s._withMods||(s._withMods={}),o=e.join(".");return t[o]||(t[o]=(i,...r)=>{for(let a=0;a<e.length;a++){const l=T5[e[a]];if(l&&l(i,e))return}return s(i,...r)})},A5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ln=(s,e)=>{const t=s._withKeys||(s._withKeys={}),o=e.join(".");return t[o]||(t[o]=i=>{if(!("key"in i))return;const r=gi(i.key);if(e.some(a=>a===r||A5[a]===r))return s(i)})},D5=as({patchProp:p5},Zw);let R0;function E5(){return R0||(R0=kw(D5))}const P5=(...s)=>{const e=E5().createApp(...s),{mount:t}=e;return e.mount=o=>{const i=R5(o);if(!i)return;const r=e._component;!lt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=t(i,!1,j5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function j5(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function R5(s){return Qt(s)?document.querySelector(s):s}var I5=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Y1;const Mc=s=>Y1=s,G1=Symbol();function Of(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Da;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Da||(Da={}));function O5(){const s=R_(!0),e=s.run(()=>F({}));let t=[],o=[];const i=Sr({install(r){Mc(i),i._a=r,r.provide(G1,i),r.config.globalProperties.$pinia=i,o.forEach(a=>t.push(a)),o=[]},use(r){return!this._a&&!I5?o.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return i}const X1=()=>{};function I0(s,e,t,o=X1){s.push(e);const i=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),o())};return!t&&I_()&&v2(i),i}function ar(s,...e){s.slice().forEach(t=>{t(...e)})}const L5=s=>s(),O0=Symbol(),Ru=Symbol();function Lf(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,o)=>s.set(o,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t],i=s[t];Of(i)&&Of(o)&&s.hasOwnProperty(t)&&!rs(o)&&!li(o)?s[t]=Lf(i,o):s[t]=o}return s}const F5=Symbol();function N5(s){return!Of(s)||!s.hasOwnProperty(F5)}const{assign:Ko}=Object;function z5(s){return!!(rs(s)&&s.effect)}function B5(s,e,t,o){const{state:i,actions:r,getters:a}=e,l=t.state.value[s];let d;function u(){l||(t.state.value[s]=i?i():{});const m=B2(t.state.value[s]);return Ko(m,r,Object.keys(a||{}).reduce((p,h)=>(p[h]=Sr(De(()=>{Mc(t);const _=t._s.get(s);return a[h].call(_,_)})),p),{}))}return d=J1(s,u,e,t,o,!0),d}function J1(s,e,t={},o,i,r){let a;const l=Ko({actions:{}},t),d={deep:!0};let u,m,p=[],h=[],_;const y=o.state.value[s];!r&&!y&&(o.state.value[s]={}),F({});let x;function w(D){let L;u=m=!1,typeof D=="function"?(D(o.state.value[s]),L={type:Da.patchFunction,storeId:s,events:_}):(Lf(o.state.value[s],D),L={type:Da.patchObject,payload:D,storeId:s,events:_});const I=x=Symbol();Mn().then(()=>{x===I&&(u=!0)}),m=!0,ar(p,L,o.state.value[s])}const k=r?function(){const{state:L}=t,I=L?L():{};this.$patch(O=>{Ko(O,I)})}:X1;function b(){a.stop(),p=[],h=[],o._s.delete(s)}const M=(D,L="")=>{if(O0 in D)return D[Ru]=L,D;const I=function(){Mc(o);const O=Array.from(arguments),P=[],B=[];function be(ce){P.push(ce)}function le(ce){B.push(ce)}ar(h,{args:O,name:I[Ru],store:N,after:be,onError:le});let de;try{de=D.apply(this&&this.$id===s?this:N,O)}catch(ce){throw ar(B,ce),ce}return de instanceof Promise?de.then(ce=>(ar(P,ce),ce)).catch(ce=>(ar(B,ce),Promise.reject(ce))):(ar(P,de),de)};return I[O0]=!0,I[Ru]=L,I},S={_p:o,$id:s,$onAction:I0.bind(null,h),$patch:w,$reset:k,$subscribe(D,L={}){const I=I0(p,D,L.detached,()=>O()),O=a.run(()=>$t(()=>o.state.value[s],P=>{(L.flush==="sync"?m:u)&&D({storeId:s,type:Da.direct,events:_},P)},Ko({},d,L)));return I},$dispose:b},N=Qe(S);o._s.set(s,N);const T=(o._a&&o._a.runWithContext||L5)(()=>o._e.run(()=>(a=R_()).run(()=>e({action:M}))));for(const D in T){const L=T[D];if(rs(L)&&!z5(L)||li(L))r||(y&&N5(L)&&(rs(L)?L.value=y[D]:Lf(L,y[D])),o.state.value[s][D]=L);else if(typeof L=="function"){const I=M(L,D);T[D]=I,l.actions[D]=L}}return Ko(N,T),Ko(wt(N),T),Object.defineProperty(N,"$state",{get:()=>o.state.value[s],set:D=>{w(L=>{Ko(L,D)})}}),o._p.forEach(D=>{Ko(N,a.run(()=>D({store:N,app:o._a,pinia:o,options:l})))}),y&&r&&t.hydrate&&t.hydrate(N.$state,y),u=!0,m=!0,N}/*! #__NO_SIDE_EFFECTS__ */function mn(s,e,t){let o,i;const r=typeof e=="function";typeof s=="string"?(o=s,i=r?t:e):(i=s,o=s.id);function a(l,d){const u=gw();return l=l||(u?Je(G1,null):null),l&&Mc(l),l=Y1,l._s.has(o)||(r?J1(o,e,i,l):B5(o,i,l)),l._s.get(o)}return a.$id=o,a}const Tc=mn("main",()=>{const s=F(!1),e=F(!1);return{isBlankPage:s,isMobileSidebar:e}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hr=typeof window<"u";function U5(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const Rt=Object.assign;function Iu(s,e){const t={};for(const o in e){const i=e[o];t[o]=Qn(i)?i.map(s):s(i)}return t}const Ea=()=>{},Qn=Array.isArray,V5=/\/$/,H5=s=>s.replace(V5,"");function Ou(s,e,t="/"){let o,i={},r="",a="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=e.slice(0,d),r=e.slice(d+1,l>-1?l:e.length),i=s(r)),l>-1&&(o=o||e.slice(0,l),a=e.slice(l,e.length)),o=Y5(o??e,t),{fullPath:o+(r&&"?")+r+a,path:o,query:i,hash:a}}function q5(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function L0(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function W5(s,e,t){const o=e.matched.length-1,i=t.matched.length-1;return o>-1&&o===i&&Ar(e.matched[o],t.matched[i])&&Q1(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function Ar(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function Q1(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!K5(s[t],e[t]))return!1;return!0}function K5(s,e){return Qn(s)?F0(s,e):Qn(e)?F0(e,s):s===e}function F0(s,e){return Qn(e)?s.length===e.length&&s.every((t,o)=>t===e[o]):s.length===1&&s[0]===e}function Y5(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),o=s.split("/");let i=t.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var Za;(function(s){s.pop="pop",s.push="push"})(Za||(Za={}));var Pa;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Pa||(Pa={}));function G5(s){if(!s)if(hr){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),H5(s)}const X5=/^[^#]+#/;function J5(s,e){return s.replace(X5,"#")+e}function Q5(s,e){const t=document.documentElement.getBoundingClientRect(),o=s.getBoundingClientRect();return{behavior:e.behavior,left:o.left-t.left-(e.left||0),top:o.top-t.top-(e.top||0)}}const Ac=()=>({left:window.pageXOffset,top:window.pageYOffset});function Z5(s){let e;if("el"in s){const t=s.el,o=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?o?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=Q5(i,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function N0(s,e){return(history.state?history.state.position-e:-1)+s}const Ff=new Map;function ek(s,e){Ff.set(s,e)}function tk(s){const e=Ff.get(s);return Ff.delete(s),e}let sk=()=>location.protocol+"//"+location.host;function Z1(s,e){const{pathname:t,search:o,hash:i}=e,r=s.indexOf("#");if(r>-1){let l=i.includes(s.slice(r))?s.slice(r).length:1,d=i.slice(l);return d[0]!=="/"&&(d="/"+d),L0(d,"")}return L0(t,s)+o+i}function nk(s,e,t,o){let i=[],r=[],a=null;const l=({state:h})=>{const _=Z1(s,location),y=t.value,x=e.value;let w=0;if(h){if(t.value=_,e.value=h,a&&a===y){a=null;return}w=x?h.position-x.position:0}else o(_);i.forEach(k=>{k(t.value,y,{delta:w,type:Za.pop,direction:w?w>0?Pa.forward:Pa.back:Pa.unknown})})};function d(){a=t.value}function u(h){i.push(h);const _=()=>{const y=i.indexOf(h);y>-1&&i.splice(y,1)};return r.push(_),_}function m(){const{history:h}=window;h.state&&h.replaceState(Rt({},h.state,{scroll:Ac()}),"")}function p(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",m),{pauseListeners:d,listen:u,destroy:p}}function z0(s,e,t,o=!1,i=!1){return{back:s,current:e,forward:t,replaced:o,position:window.history.length,scroll:i?Ac():null}}function ok(s){const{history:e,location:t}=window,o={value:Z1(s,t)},i={value:e.state};i.value||r(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(d,u,m){const p=s.indexOf("#"),h=p>-1?(t.host&&document.querySelector("base")?s:s.slice(p))+d:sk()+s+d;try{e[m?"replaceState":"pushState"](u,"",h),i.value=u}catch{t[m?"replace":"assign"](h)}}function a(d,u){const m=Rt({},e.state,z0(i.value.back,d,i.value.forward,!0),u,{position:i.value.position});r(d,m,!0),o.value=d}function l(d,u){const m=Rt({},i.value,e.state,{forward:d,scroll:Ac()});r(m.current,m,!0);const p=Rt({},z0(o.value,d,null),{position:m.position+1},u);r(d,p,!1),o.value=d}return{location:o,state:i,push:l,replace:a}}function ik(s){s=G5(s);const e=ok(s),t=nk(s,e.state,e.location,e.replace);function o(r,a=!0){a||t.pauseListeners(),history.go(r)}const i=Rt({location:"",base:s,go:o,createHref:J5.bind(null,s)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function rk(s){return typeof s=="string"||s&&typeof s=="object"}function ev(s){return typeof s=="string"||typeof s=="symbol"}const qo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},tv=Symbol("");var B0;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(B0||(B0={}));function Dr(s,e){return Rt(new Error,{type:s,[tv]:!0},e)}function bo(s,e){return s instanceof Error&&tv in s&&(e==null||!!(s.type&e))}const U0="[^/]+?",ak={sensitive:!1,strict:!1,start:!0,end:!0},lk=/[.+*?^${}()[\]/\\]/g;function dk(s,e){const t=Rt({},ak,e),o=[];let i=t.start?"^":"";const r=[];for(const u of s){const m=u.length?[]:[90];t.strict&&!u.length&&(i+="/");for(let p=0;p<u.length;p++){const h=u[p];let _=40+(t.sensitive?.25:0);if(h.type===0)p||(i+="/"),i+=h.value.replace(lk,"\\$&"),_+=40;else if(h.type===1){const{value:y,repeatable:x,optional:w,regexp:k}=h;r.push({name:y,repeatable:x,optional:w});const b=k||U0;if(b!==U0){_+=10;try{new RegExp(`(${b})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${b}): `+S.message)}}let M=x?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;p||(M=w&&u.length<2?`(?:/${M})`:"/"+M),w&&(M+="?"),i+=M,_+=20,w&&(_+=-8),x&&(_+=-20),b===".*"&&(_+=-50)}m.push(_)}o.push(m)}if(t.strict&&t.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const a=new RegExp(i,t.sensitive?"":"i");function l(u){const m=u.match(a),p={};if(!m)return null;for(let h=1;h<m.length;h++){const _=m[h]||"",y=r[h-1];p[y.name]=_&&y.repeatable?_.split("/"):_}return p}function d(u){let m="",p=!1;for(const h of s){(!p||!m.endsWith("/"))&&(m+="/"),p=!1;for(const _ of h)if(_.type===0)m+=_.value;else if(_.type===1){const{value:y,repeatable:x,optional:w}=_,k=y in u?u[y]:"";if(Qn(k)&&!x)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const b=Qn(k)?k.join("/"):k;if(!b)if(w)h.length<2&&(m.endsWith("/")?m=m.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);m+=b}}return m||"/"}return{re:a,score:o,keys:r,parse:l,stringify:d}}function ck(s,e){let t=0;for(;t<s.length&&t<e.length;){const o=e[t]-s[t];if(o)return o;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function uk(s,e){let t=0;const o=s.score,i=e.score;for(;t<o.length&&t<i.length;){const r=ck(o[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-o.length)===1){if(V0(o))return 1;if(V0(i))return-1}return i.length-o.length}function V0(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const fk={type:0,value:""},mk=/[a-zA-Z0-9_]/;function hk(s){if(!s)return[[]];if(s==="/")return[[fk]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(_){throw new Error(`ERR (${t})/"${u}": ${_}`)}let t=0,o=t;const i=[];let r;function a(){r&&i.push(r),r=[]}let l=0,d,u="",m="";function p(){u&&(t===0?r.push({type:0,value:u}):t===1||t===2||t===3?(r.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=d}for(;l<s.length;){if(d=s[l++],d==="\\"&&t!==2){o=t,t=4;continue}switch(t){case 0:d==="/"?(u&&p(),a()):d===":"?(p(),t=1):h();break;case 4:h(),t=o;break;case 1:d==="("?t=2:mk.test(d)?h():(p(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:t=3:m+=d;break;case 3:p(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,m="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),p(),a(),i}function pk(s,e,t){const o=dk(hk(s.path),t),i=Rt(o,{record:s,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function gk(s,e){const t=[],o=new Map;e=W0({strict:!1,end:!0,sensitive:!1},e);function i(m){return o.get(m)}function r(m,p,h){const _=!h,y=_k(m);y.aliasOf=h&&h.record;const x=W0(e,m),w=[y];if("alias"in m){const M=typeof m.alias=="string"?[m.alias]:m.alias;for(const S of M)w.push(Rt({},y,{components:h?h.record.components:y.components,path:S,aliasOf:h?h.record:y}))}let k,b;for(const M of w){const{path:S}=M;if(p&&S[0]!=="/"){const N=p.record.path,A=N[N.length-1]==="/"?"":"/";M.path=p.record.path+(S&&A+S)}if(k=pk(M,p,x),h?h.alias.push(k):(b=b||k,b!==k&&b.alias.push(k),_&&m.name&&!q0(k)&&a(m.name)),y.children){const N=y.children;for(let A=0;A<N.length;A++)r(N[A],k,h&&h.children[A])}h=h||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&d(k)}return b?()=>{a(b)}:Ea}function a(m){if(ev(m)){const p=o.get(m);p&&(o.delete(m),t.splice(t.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=t.indexOf(m);p>-1&&(t.splice(p,1),m.record.name&&o.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function l(){return t}function d(m){let p=0;for(;p<t.length&&uk(m,t[p])>=0&&(m.record.path!==t[p].record.path||!sv(m,t[p]));)p++;t.splice(p,0,m),m.record.name&&!q0(m)&&o.set(m.record.name,m)}function u(m,p){let h,_={},y,x;if("name"in m&&m.name){if(h=o.get(m.name),!h)throw Dr(1,{location:m});x=h.record.name,_=Rt(H0(p.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),m.params&&H0(m.params,h.keys.map(b=>b.name))),y=h.stringify(_)}else if("path"in m)y=m.path,h=t.find(b=>b.re.test(y)),h&&(_=h.parse(y),x=h.record.name);else{if(h=p.name?o.get(p.name):t.find(b=>b.re.test(p.path)),!h)throw Dr(1,{location:m,currentLocation:p});x=h.record.name,_=Rt({},p.params,m.params),y=h.stringify(_)}const w=[];let k=h;for(;k;)w.unshift(k.record),k=k.parent;return{name:x,path:y,params:_,matched:w,meta:yk(w)}}return s.forEach(m=>r(m)),{addRoute:r,resolve:u,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function H0(s,e){const t={};for(const o of e)o in s&&(t[o]=s[o]);return t}function _k(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:vk(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function vk(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const o in s.components)e[o]=typeof t=="boolean"?t:t[o];return e}function q0(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function yk(s){return s.reduce((e,t)=>Rt(e,t.meta),{})}function W0(s,e){const t={};for(const o in s)t[o]=o in e?e[o]:s[o];return t}function sv(s,e){return e.children.some(t=>t===s||sv(s,t))}const nv=/#/g,bk=/&/g,xk=/\//g,wk=/=/g,kk=/\?/g,ov=/\+/g,$k=/%5B/g,Ck=/%5D/g,iv=/%5E/g,Sk=/%60/g,rv=/%7B/g,Mk=/%7C/g,av=/%7D/g,Tk=/%20/g;function Um(s){return encodeURI(""+s).replace(Mk,"|").replace($k,"[").replace(Ck,"]")}function Ak(s){return Um(s).replace(rv,"{").replace(av,"}").replace(iv,"^")}function Nf(s){return Um(s).replace(ov,"%2B").replace(Tk,"+").replace(nv,"%23").replace(bk,"%26").replace(Sk,"`").replace(rv,"{").replace(av,"}").replace(iv,"^")}function Dk(s){return Nf(s).replace(wk,"%3D")}function Ek(s){return Um(s).replace(nv,"%23").replace(kk,"%3F")}function Pk(s){return s==null?"":Ek(s).replace(xk,"%2F")}function Kd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function jk(s){const e={};if(s===""||s==="?")return e;const o=(s[0]==="?"?s.slice(1):s).split("&");for(let i=0;i<o.length;++i){const r=o[i].replace(ov," "),a=r.indexOf("="),l=Kd(a<0?r:r.slice(0,a)),d=a<0?null:Kd(r.slice(a+1));if(l in e){let u=e[l];Qn(u)||(u=e[l]=[u]),u.push(d)}else e[l]=d}return e}function K0(s){let e="";for(let t in s){const o=s[t];if(t=Dk(t),o==null){o!==void 0&&(e+=(e.length?"&":"")+t);continue}(Qn(o)?o.map(r=>r&&Nf(r)):[o&&Nf(o)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function Rk(s){const e={};for(const t in s){const o=s[t];o!==void 0&&(e[t]=Qn(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return e}const lv=Symbol(""),Y0=Symbol(""),Dc=Symbol(""),Vm=Symbol(""),zf=Symbol("");function ta(){let s=[];function e(o){return s.push(o),()=>{const i=s.indexOf(o);i>-1&&s.splice(i,1)}}function t(){s=[]}return{add:e,list:()=>s,reset:t}}function Ik(s,e,t){const o=()=>{s[e].delete(t)};qs(o),p1(o),h1(()=>{s[e].add(t)}),s[e].add(t)}function Ok(s){const e=Je(lv,{}).value;e&&Ik(e,"updateGuards",s)}function Xo(s,e,t,o,i){const r=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const d=p=>{p===!1?l(Dr(4,{from:t,to:e})):p instanceof Error?l(p):rk(p)?l(Dr(2,{from:e,to:p})):(r&&o.enterCallbacks[i]===r&&typeof p=="function"&&r.push(p),a())},u=s.call(o&&o.instances[i],e,t,d);let m=Promise.resolve(u);s.length<3&&(m=m.then(d)),m.catch(p=>l(p))})}function Lu(s,e,t,o){const i=[];for(const r of s)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(Lk(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Xo(u,t,o,r,a))}else{let d=l();i.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const m=U5(u)?u.default:u;r.components[a]=m;const h=(m.__vccOpts||m)[e];return h&&Xo(h,t,o,r,a)()}))}}return i}function Lk(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function G0(s){const e=Je(Dc),t=Je(Vm),o=De(()=>e.resolve(f(s.to))),i=De(()=>{const{matched:d}=o.value,{length:u}=d,m=d[u-1],p=t.matched;if(!m||!p.length)return-1;const h=p.findIndex(Ar.bind(null,m));if(h>-1)return h;const _=X0(d[u-2]);return u>1&&X0(m)===_&&p[p.length-1].path!==_?p.findIndex(Ar.bind(null,d[u-2])):h}),r=De(()=>i.value>-1&&Bk(t.params,o.value.params)),a=De(()=>i.value>-1&&i.value===t.matched.length-1&&Q1(t.params,o.value.params));function l(d={}){return zk(d)?e[f(s.replace)?"replace":"push"](f(s.to)).catch(Ea):Promise.resolve()}return{route:o,href:De(()=>o.value.href),isActive:r,isExactActive:a,navigate:l}}const Fk=ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:G0,setup(s,{slots:e}){const t=Qe(G0(s)),{options:o}=Je(Dc),i=De(()=>({[J0(s.activeClass,o.linkActiveClass,"router-link-active")]:t.isActive,[J0(s.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return s.custom?r:Ot("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),Nk=Fk;function zk(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function Bk(s,e){for(const t in e){const o=e[t],i=s[t];if(typeof o=="string"){if(o!==i)return!1}else if(!Qn(i)||i.length!==o.length||o.some((r,a)=>r!==i[a]))return!1}return!0}function X0(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const J0=(s,e,t)=>s??e??t,Uk=ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const o=Je(zf),i=De(()=>s.route||o.value),r=Je(Y0,0),a=De(()=>{let u=f(r);const{matched:m}=i.value;let p;for(;(p=m[u])&&!p.components;)u++;return u}),l=De(()=>i.value.matched[a.value]);Es(Y0,De(()=>a.value+1)),Es(lv,l),Es(zf,i);const d=F();return $t(()=>[d.value,l.value,s.name],([u,m,p],[h,_,y])=>{m&&(m.instances[p]=u,_&&_!==m&&u&&u===h&&(m.leaveGuards.size||(m.leaveGuards=_.leaveGuards),m.updateGuards.size||(m.updateGuards=_.updateGuards))),u&&m&&(!_||!Ar(m,_)||!h)&&(m.enterCallbacks[p]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=i.value,m=s.name,p=l.value,h=p&&p.components[m];if(!h)return Q0(t.default,{Component:h,route:u});const _=p.props[m],y=_?_===!0?u.params:typeof _=="function"?_(u):_:null,w=Ot(h,Rt({},y,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[m]=null)},ref:d}));return Q0(t.default,{Component:w,route:u})||w}}});function Q0(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const Hm=Uk;function Vk(s){const e=gk(s.routes,s),t=s.parseQuery||jk,o=s.stringifyQuery||K0,i=s.history,r=ta(),a=ta(),l=ta(),d=X_(qo);let u=qo;hr&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Iu.bind(null,ue=>""+ue),p=Iu.bind(null,Pk),h=Iu.bind(null,Kd);function _(ue,xe){let Ae,Be;return ev(ue)?(Ae=e.getRecordMatcher(ue),Be=xe):Be=ue,e.addRoute(Be,Ae)}function y(ue){const xe=e.getRecordMatcher(ue);xe&&e.removeRoute(xe)}function x(){return e.getRoutes().map(ue=>ue.record)}function w(ue){return!!e.getRecordMatcher(ue)}function k(ue,xe){if(xe=Rt({},xe||d.value),typeof ue=="string"){const he=Ou(t,ue,xe.path),U=e.resolve({path:he.path},xe),Y=i.createHref(he.fullPath);return Rt(he,U,{params:h(U.params),hash:Kd(he.hash),redirectedFrom:void 0,href:Y})}let Ae;if("path"in ue)Ae=Rt({},ue,{path:Ou(t,ue.path,xe.path).path});else{const he=Rt({},ue.params);for(const U in he)he[U]==null&&delete he[U];Ae=Rt({},ue,{params:p(ue.params)}),xe.params=p(xe.params)}const Be=e.resolve(Ae,xe),nt=ue.hash||"";Be.params=m(h(Be.params));const Ne=q5(o,Rt({},ue,{hash:Ak(nt),path:Be.path})),fe=i.createHref(Ne);return Rt({fullPath:Ne,hash:nt,query:o===K0?Rk(ue.query):ue.query||{}},Be,{redirectedFrom:void 0,href:fe})}function b(ue){return typeof ue=="string"?Ou(t,ue,d.value.path):Rt({},ue)}function M(ue,xe){if(u!==ue)return Dr(8,{from:xe,to:ue})}function S(ue){return T(ue)}function N(ue){return S(Rt(b(ue),{replace:!0}))}function A(ue){const xe=ue.matched[ue.matched.length-1];if(xe&&xe.redirect){const{redirect:Ae}=xe;let Be=typeof Ae=="function"?Ae(ue):Ae;return typeof Be=="string"&&(Be=Be.includes("?")||Be.includes("#")?Be=b(Be):{path:Be},Be.params={}),Rt({query:ue.query,hash:ue.hash,params:"path"in Be?{}:ue.params},Be)}}function T(ue,xe){const Ae=u=k(ue),Be=d.value,nt=ue.state,Ne=ue.force,fe=ue.replace===!0,he=A(Ae);if(he)return T(Rt(b(he),{state:typeof he=="object"?Rt({},nt,he.state):nt,force:Ne,replace:fe}),xe||Ae);const U=Ae;U.redirectedFrom=xe;let Y;return!Ne&&W5(o,Be,Ae)&&(Y=Dr(16,{to:U,from:Be}),ie(Be,Be,!0,!1)),(Y?Promise.resolve(Y):L(U,Be)).catch(X=>bo(X)?bo(X,2)?X:Z(X):ce(X,U,Be)).then(X=>{if(X){if(bo(X,2))return T(Rt({replace:fe},b(X.to),{state:typeof X.to=="object"?Rt({},nt,X.to.state):nt,force:Ne}),xe||U)}else X=O(U,Be,!0,fe,nt);return I(U,Be,X),X})}function D(ue,xe){const Ae=M(ue,xe);return Ae?Promise.reject(Ae):Promise.resolve()}function L(ue,xe){let Ae;const[Be,nt,Ne]=Hk(ue,xe);Ae=Lu(Be.reverse(),"beforeRouteLeave",ue,xe);for(const he of Be)he.leaveGuards.forEach(U=>{Ae.push(Xo(U,ue,xe))});const fe=D.bind(null,ue,xe);return Ae.push(fe),lr(Ae).then(()=>{Ae=[];for(const he of r.list())Ae.push(Xo(he,ue,xe));return Ae.push(fe),lr(Ae)}).then(()=>{Ae=Lu(nt,"beforeRouteUpdate",ue,xe);for(const he of nt)he.updateGuards.forEach(U=>{Ae.push(Xo(U,ue,xe))});return Ae.push(fe),lr(Ae)}).then(()=>{Ae=[];for(const he of ue.matched)if(he.beforeEnter&&!xe.matched.includes(he))if(Qn(he.beforeEnter))for(const U of he.beforeEnter)Ae.push(Xo(U,ue,xe));else Ae.push(Xo(he.beforeEnter,ue,xe));return Ae.push(fe),lr(Ae)}).then(()=>(ue.matched.forEach(he=>he.enterCallbacks={}),Ae=Lu(Ne,"beforeRouteEnter",ue,xe),Ae.push(fe),lr(Ae))).then(()=>{Ae=[];for(const he of a.list())Ae.push(Xo(he,ue,xe));return Ae.push(fe),lr(Ae)}).catch(he=>bo(he,8)?he:Promise.reject(he))}function I(ue,xe,Ae){for(const Be of l.list())Be(ue,xe,Ae)}function O(ue,xe,Ae,Be,nt){const Ne=M(ue,xe);if(Ne)return Ne;const fe=xe===qo,he=hr?history.state:{};Ae&&(Be||fe?i.replace(ue.fullPath,Rt({scroll:fe&&he&&he.scroll},nt)):i.push(ue.fullPath,nt)),d.value=ue,ie(ue,xe,Ae,fe),Z()}let P;function B(){P||(P=i.listen((ue,xe,Ae)=>{if(!Ce.listening)return;const Be=k(ue),nt=A(Be);if(nt){T(Rt(nt,{replace:!0}),Be).catch(Ea);return}u=Be;const Ne=d.value;hr&&ek(N0(Ne.fullPath,Ae.delta),Ac()),L(Be,Ne).catch(fe=>bo(fe,12)?fe:bo(fe,2)?(T(fe.to,Be).then(he=>{bo(he,20)&&!Ae.delta&&Ae.type===Za.pop&&i.go(-1,!1)}).catch(Ea),Promise.reject()):(Ae.delta&&i.go(-Ae.delta,!1),ce(fe,Be,Ne))).then(fe=>{fe=fe||O(Be,Ne,!1),fe&&(Ae.delta&&!bo(fe,8)?i.go(-Ae.delta,!1):Ae.type===Za.pop&&bo(fe,20)&&i.go(-1,!1)),I(Be,Ne,fe)}).catch(Ea)}))}let be=ta(),le=ta(),de;function ce(ue,xe,Ae){Z(ue);const Be=le.list();return Be.length&&Be.forEach(nt=>nt(ue,xe,Ae)),Promise.reject(ue)}function me(){return de&&d.value!==qo?Promise.resolve():new Promise((ue,xe)=>{be.add([ue,xe])})}function Z(ue){return de||(de=!ue,B(),be.list().forEach(([xe,Ae])=>ue?Ae(ue):xe()),be.reset()),ue}function ie(ue,xe,Ae,Be){const{scrollBehavior:nt}=s;if(!hr||!nt)return Promise.resolve();const Ne=!Ae&&tk(N0(ue.fullPath,0))||(Be||!Ae)&&history.state&&history.state.scroll||null;return Mn().then(()=>nt(ue,xe,Ne)).then(fe=>fe&&Z5(fe)).catch(fe=>ce(fe,ue,xe))}const Te=ue=>i.go(ue);let se;const ke=new Set,Ce={currentRoute:d,listening:!0,addRoute:_,removeRoute:y,hasRoute:w,getRoutes:x,resolve:k,options:s,push:S,replace:N,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:le.add,isReady:me,install(ue){const xe=this;ue.component("RouterLink",Nk),ue.component("RouterView",Hm),ue.config.globalProperties.$router=xe,Object.defineProperty(ue.config.globalProperties,"$route",{enumerable:!0,get:()=>f(d)}),hr&&!se&&d.value===qo&&(se=!0,S(i.location).catch(nt=>{}));const Ae={};for(const nt in qo)Ae[nt]=De(()=>d.value[nt]);ue.provide(Dc,xe),ue.provide(Vm,Qe(Ae)),ue.provide(zf,d);const Be=ue.unmount;ke.add(ue),ue.unmount=function(){ke.delete(ue),ke.size<1&&(u=qo,P&&P(),P=null,d.value=qo,se=!1,de=!1),Be()}}};return Ce}function lr(s){return s.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function Hk(s,e){const t=[],o=[],i=[],r=Math.max(e.matched.length,s.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(s.matched.find(u=>Ar(u,l))?o.push(l):t.push(l));const d=s.matched[a];d&&(e.matched.find(u=>Ar(u,d))||i.push(d))}return[t,o,i]}function eo(){return Je(Dc)}function Ec(){return Je(Vm)}function qm(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(e=>setTimeout(()=>{throw e}))}function hl(){let s=[],e={addEventListener(t,o,i,r){return t.addEventListener(o,i,r),e.add(()=>t.removeEventListener(o,i,r))},requestAnimationFrame(...t){let o=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(o))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let o=setTimeout(...t);e.add(()=>clearTimeout(o))},microTask(...t){let o={current:!0};return qm(()=>{o.current&&t[0]()}),e.add(()=>{o.current=!1})},style(t,o,i){let r=t.style.getPropertyValue(o);return Object.assign(t.style,{[o]:i}),this.add(()=>{Object.assign(t.style,{[o]:r})})},group(t){let o=hl();return t(o),this.add(()=>o.dispose())},add(t){return s.push(t),()=>{let o=s.indexOf(t);if(o>=0)for(let i of s.splice(o,1))i()}},dispose(){for(let t of s.splice(0))t()}};return e}var Z0;let qk=Symbol("headlessui.useid"),Wk=0;const Br=(Z0=ew)!=null?Z0:function(){return Je(qk,()=>`${++Wk}`)()};function vt(s){var e;if(s==null||s.value==null)return null;let t=(e=s.value.$el)!=null?e:s.value;return t instanceof Node?t:null}function Zn(s,e,...t){if(s in e){let i=e[s];return typeof i=="function"?i(...t):i}let o=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Zn),o}var Kk=Object.defineProperty,Yk=(s,e,t)=>e in s?Kk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ep=(s,e,t)=>(Yk(s,typeof e!="symbol"?e+"":e,t),t);let Gk=class{constructor(){ep(this,"current",this.detect()),ep(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},pl=new Gk;function vi(s){if(pl.isServer)return null;if(s instanceof Node)return s.ownerDocument;if(s!=null&&s.hasOwnProperty("value")){let e=vt(s);if(e)return e.ownerDocument}return document}let Bf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var uo=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(uo||{}),dv=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(dv||{}),Xk=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(Xk||{});function cv(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(Bf)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var Wm=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(Wm||{});function Km(s,e=0){var t;return s===((t=vi(s))==null?void 0:t.body)?!1:Zn(e,{0(){return s.matches(Bf)},1(){let o=s;for(;o!==null;){if(o.matches(Bf))return!0;o=o.parentElement}return!1}})}function uv(s){let e=vi(s);Mn(()=>{e&&!Km(e.activeElement,0)&&di(s)})}var Jk=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(Jk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function di(s){s==null||s.focus({preventScroll:!0})}let Qk=["textarea","input"].join(",");function Zk(s){var e,t;return(t=(e=s==null?void 0:s.matches)==null?void 0:e.call(s,Qk))!=null?t:!1}function fv(s,e=t=>t){return s.slice().sort((t,o)=>{let i=e(t),r=e(o);if(i===null||r===null)return 0;let a=i.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function e4(s,e){return ja(cv(),e,{relativeTo:s})}function ja(s,e,{sorted:t=!0,relativeTo:o=null,skipElements:i=[]}={}){var r;let a=(r=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s==null?void 0:s.ownerDocument)!=null?r:document,l=Array.isArray(s)?t?fv(s):s:cv(s);i.length>0&&l.length>1&&(l=l.filter(y=>!i.includes(y))),o=o??a.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(o))-1;if(e&4)return Math.max(0,l.indexOf(o))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},p=0,h=l.length,_;do{if(p>=h||p+h<=0)return 0;let y=u+p;if(e&16)y=(y+h)%h;else{if(y<0)return 3;if(y>=h)return 1}_=l[y],_==null||_.focus(m),p+=d}while(_!==a.activeElement);return e&6&&Zk(_)&&_.select(),2}function mv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function t4(){return/Android/gi.test(window.navigator.userAgent)}function s4(){return mv()||t4()}function Ol(s,e,t){pl.isServer||cn(o=>{document.addEventListener(s,e,t),o(()=>document.removeEventListener(s,e,t))})}function hv(s,e,t){pl.isServer||cn(o=>{window.addEventListener(s,e,t),o(()=>window.removeEventListener(s,e,t))})}function pv(s,e,t=De(()=>!0)){function o(r,a){if(!t.value||r.defaultPrevented)return;let l=a(r);if(l===null||!l.getRootNode().contains(l))return;let d=function u(m){return typeof m=="function"?u(m()):Array.isArray(m)||m instanceof Set?m:[m]}(s);for(let u of d){if(u===null)continue;let m=u instanceof HTMLElement?u:vt(u);if(m!=null&&m.contains(l)||r.composed&&r.composedPath().includes(m))return}return!Km(l,Wm.Loose)&&l.tabIndex!==-1&&r.preventDefault(),e(r,l)}let i=F(null);Ol("pointerdown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Ol("mousedown",r=>{var a,l;t.value&&(i.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Ol("click",r=>{s4()||i.value&&(o(r,()=>i.value),i.value=null)},!0),Ol("touchend",r=>o(r,()=>r.target instanceof HTMLElement?r.target:null),!0),hv("blur",r=>o(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function tp(s,e){if(s)return s;let t=e??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function n4(s,e){let t=F(tp(s.value.type,s.value.as));return Ye(()=>{t.value=tp(s.value.type,s.value.as)}),cn(()=>{var o;t.value||vt(e)&&vt(e)instanceof HTMLButtonElement&&!((o=vt(e))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function sp(s){return[s.screenX,s.screenY]}function o4(){let s=F([-1,-1]);return{wasMoved(e){let t=sp(e);return s.value[0]===t[0]&&s.value[1]===t[1]?!1:(s.value=t,!0)},update(e){s.value=sp(e)}}}function i4({container:s,accept:e,walk:t,enabled:o}){cn(()=>{let i=s.value;if(!i||o!==void 0&&!o.value)return;let r=vi(s);if(!r)return;let a=Object.assign(d=>e(d),{acceptNode:e}),l=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)t(l.currentNode)})}var Er=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(Er||{}),Zo=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(Zo||{});function An({visible:s=!0,features:e=0,ourProps:t,theirProps:o,...i}){var r;let a=_v(o,t),l=Object.assign(i,{props:a});if(s||e&2&&a.static)return Fu(l);if(e&1){let d=(r=a.unmount)==null||r?0:1;return Zn(d,{0(){return null},1(){return Fu({...i,props:{...a,hidden:!0,style:{display:"none"}}})}})}return Fu(l)}function Fu({props:s,attrs:e,slots:t,slot:o,name:i}){var r,a;let{as:l,...d}=vv(s,["unmount","static"]),u=(r=t.default)==null?void 0:r.call(t,o),m={};if(o){let p=!1,h=[];for(let[_,y]of Object.entries(o))typeof y=="boolean"&&(p=!0),y===!0&&h.push(_);p&&(m["data-headlessui-state"]=h.join(" "))}if(l==="template"){if(u=gv(u??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[p,...h]=u??[];if(!r4(p)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(x=>x.trim()).filter((x,w,k)=>k.indexOf(x)===w).sort((x,w)=>x.localeCompare(w)).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let _=_v((a=p.props)!=null?a:{},d,m),y=Oo(p,_,!0);for(let x in _)x.startsWith("on")&&(y.props||(y.props={}),y.props[x]=_[x]);return y}return Array.isArray(u)&&u.length===1?u[0]:u}return Ot(l,Object.assign({},d,m),{default:()=>u})}function gv(s){return s.flatMap(e=>e.type===re?gv(e.children):[e])}function _v(...s){if(s.length===0)return{};if(s.length===1)return s[0];let e={},t={};for(let o of s)for(let i in o)i.startsWith("on")&&typeof o[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(o[i])):e[i]=o[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(e,{[o](i,...r){let a=t[o];for(let l of a){if(i instanceof Event&&i.defaultPrevented)return;l(i,...r)}}});return e}function vv(s,e=[]){let t=Object.assign({},s);for(let o of e)o in t&&delete t[o];return t}function r4(s){return s==null?!1:typeof s.type=="string"||typeof s.type=="object"||typeof s.type=="function"}var Yd=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(Yd||{});let Uf=ye({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(s,{slots:e,attrs:t}){return()=>{var o;let{features:i,...r}=s,a={"aria-hidden":(i&2)===2?!0:(o=r["aria-hidden"])!=null?o:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return An({ourProps:a,theirProps:r,slot:{},attrs:t,slots:e,name:"Hidden"})}}}),yv=Symbol("Context");var Ts=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(Ts||{});function a4(){return Pc()!==null}function Pc(){return Je(yv,null)}function bv(s){Es(yv,s)}var xs=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(xs||{});function l4(s){function e(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Bi=[];l4(()=>{function s(e){e.target instanceof HTMLElement&&e.target!==document.body&&Bi[0]!==e.target&&(Bi.unshift(e.target),Bi=Bi.filter(t=>t!=null&&t.isConnected),Bi.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function d4(s){throw new Error("Unexpected object: "+s)}var Sn=(s=>(s[s.First=0]="First",s[s.Previous=1]="Previous",s[s.Next=2]="Next",s[s.Last=3]="Last",s[s.Specific=4]="Specific",s[s.Nothing=5]="Nothing",s))(Sn||{});function c4(s,e){let t=e.resolveItems();if(t.length<=0)return null;let o=e.resolveActiveIndex(),i=o??-1;switch(s.focus){case 0:{for(let r=0;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 1:{i===-1&&(i=t.length);for(let r=i-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=i+1;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(e.resolveId(t[r],r,t)===s.id)return r;return o}case 5:return null;default:d4(s)}}function xv(s,e,t,o){pl.isServer||cn(i=>{s=s??window,s.addEventListener(e,t,o),i(()=>s.removeEventListener(e,t,o))})}var ma=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(ma||{});function u4(){let s=F(0);return hv("keydown",e=>{e.key==="Tab"&&(s.value=e.shiftKey?1:0)}),s}function wv(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let e=new Set;for(let t of s.value){let o=vt(t);o instanceof HTMLElement&&e.add(o)}return e}var kv=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(kv||{});let sa=Object.assign(ye({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:F(new Set)}},inheritAttrs:!1,setup(s,{attrs:e,slots:t,expose:o}){let i=F(null);o({el:i,$el:i});let r=De(()=>vi(i)),a=F(!1);Ye(()=>a.value=!0),qs(()=>a.value=!1),m4({ownerDocument:r},De(()=>a.value&&!!(s.features&16)));let l=h4({ownerDocument:r,container:i,initialFocus:De(()=>s.initialFocus)},De(()=>a.value&&!!(s.features&2)));p4({ownerDocument:r,container:i,containers:s.containers,previousActiveElement:l},De(()=>a.value&&!!(s.features&8)));let d=u4();function u(_){let y=vt(i);y&&(x=>x())(()=>{Zn(d.value,{[ma.Forwards]:()=>{ja(y,uo.First,{skipElements:[_.relatedTarget]})},[ma.Backwards]:()=>{ja(y,uo.Last,{skipElements:[_.relatedTarget]})}})})}let m=F(!1);function p(_){_.key==="Tab"&&(m.value=!0,requestAnimationFrame(()=>{m.value=!1}))}function h(_){if(!a.value)return;let y=wv(s.containers);vt(i)instanceof HTMLElement&&y.add(vt(i));let x=_.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&($v(y,x)||(m.value?ja(vt(i),Zn(d.value,{[ma.Forwards]:()=>uo.Next,[ma.Backwards]:()=>uo.Previous})|uo.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&di(_.target)))}return()=>{let _={},y={ref:i,onKeydown:p,onFocusout:h},{features:x,initialFocus:w,containers:k,...b}=s;return Ot(re,[!!(x&4)&&Ot(Uf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Yd.Focusable}),An({ourProps:y,theirProps:{...e,...b},slot:_,attrs:e,slots:t,name:"FocusTrap"}),!!(x&4)&&Ot(Uf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Yd.Focusable})])}}}),{features:kv});function f4(s){let e=F(Bi.slice());return $t([s],([t],[o])=>{o===!0&&t===!1?qm(()=>{e.value.splice(0)}):o===!1&&t===!0&&(e.value=Bi.slice())},{flush:"post"}),()=>{var t;return(t=e.value.find(o=>o!=null&&o.isConnected))!=null?t:null}}function m4({ownerDocument:s},e){let t=f4(e);Ye(()=>{cn(()=>{var o,i;e.value||((o=s.value)==null?void 0:o.activeElement)===((i=s.value)==null?void 0:i.body)&&di(t())},{flush:"post"})}),qs(()=>{e.value&&di(t())})}function h4({ownerDocument:s,container:e,initialFocus:t},o){let i=F(null),r=F(!1);return Ye(()=>r.value=!0),qs(()=>r.value=!1),Ye(()=>{$t([e,t,o],(a,l)=>{if(a.every((u,m)=>(l==null?void 0:l[m])===u)||!o.value)return;let d=vt(e);d&&qm(()=>{var u,m;if(!r.value)return;let p=vt(t),h=(u=s.value)==null?void 0:u.activeElement;if(p){if(p===h){i.value=h;return}}else if(d.contains(h)){i.value=h;return}p?di(p):(ja(d,uo.First|uo.NoScroll),dv.Error),i.value=(m=s.value)==null?void 0:m.activeElement})},{immediate:!0,flush:"post"})}),i}function p4({ownerDocument:s,container:e,containers:t,previousActiveElement:o},i){var r;xv((r=s.value)==null?void 0:r.defaultView,"focus",a=>{if(!i.value)return;let l=wv(t);vt(e)instanceof HTMLElement&&l.add(vt(e));let d=o.value;if(!d)return;let u=a.target;u&&u instanceof HTMLElement?$v(l,u)?(o.value=u,di(u)):(a.preventDefault(),a.stopPropagation(),di(d)):di(o.value)},!0)}function $v(s,e){for(let t of s)if(t.contains(e))return!0;return!1}function g4(s){let e=X_(s.getSnapshot());return qs(s.subscribe(()=>{e.value=s.getSnapshot()})),e}function _4(s,e){let t=s(),o=new Set;return{getSnapshot(){return t},subscribe(i){return o.add(i),()=>o.delete(i)},dispatch(i,...r){let a=e[i].call(t,...r);a&&(t=a,o.forEach(l=>l()))}}}function v4(){let s;return{before({doc:e}){var t;let o=e.documentElement;s=((t=e.defaultView)!=null?t:window).innerWidth-o.clientWidth},after({doc:e,d:t}){let o=e.documentElement,i=o.clientWidth-o.offsetWidth,r=s-i;t.style(o,"paddingRight",`${r}px`)}}}function y4(){return mv()?{before({doc:s,d:e,meta:t}){function o(i){return t.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let l=hl();l.style(s.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(s,"click",l=>{if(l.target instanceof HTMLElement)try{let d=l.target.closest("a");if(!d)return;let{hash:u}=new URL(d.href),m=s.querySelector(u);m&&!o(m)&&(a=m)}catch{}},!0),e.addEventListener(s,"touchstart",l=>{if(l.target instanceof HTMLElement)if(o(l.target)){let d=l.target;for(;d.parentElement&&o(d.parentElement);)d=d.parentElement;e.style(d,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(s,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(o(l.target)){let d=l.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let d=(l=window.scrollY)!=null?l:window.pageYOffset;r!==d&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function b4(){return{before({doc:s,d:e}){e.style(s.documentElement,"overflow","hidden")}}}function x4(s){let e={};for(let t of s)Object.assign(e,t(e));return e}let Vi=_4(()=>new Map,{PUSH(s,e){var t;let o=(t=this.get(s))!=null?t:{doc:s,count:0,d:hl(),meta:new Set};return o.count++,o.meta.add(e),this.set(s,o),this},POP(s,e){let t=this.get(s);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:s,d:e,meta:t}){let o={doc:s,d:e,meta:x4(t)},i=[y4(),v4(),b4()];i.forEach(({before:r})=>r==null?void 0:r(o)),i.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});Vi.subscribe(()=>{let s=Vi.getSnapshot(),e=new Map;for(let[t]of s)e.set(t,t.documentElement.style.overflow);for(let t of s.values()){let o=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!o||!i&&o)&&Vi.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Vi.dispatch("TEARDOWN",t)}});function w4(s,e,t){let o=g4(Vi),i=De(()=>{let r=s.value?o.value.get(s.value):void 0;return r?r.count>0:!1});return $t([s,e],([r,a],[l],d)=>{if(!r||!a)return;Vi.dispatch("PUSH",r,t);let u=!1;d(()=>{u||(Vi.dispatch("POP",l??r,t),u=!0)})},{immediate:!0}),i}let Nu=new Map,na=new Map;function np(s,e=F(!0)){cn(t=>{var o;if(!e.value)return;let i=vt(s);if(!i)return;t(function(){var a;if(!i)return;let l=(a=na.get(i))!=null?a:1;if(l===1?na.delete(i):na.set(i,l-1),l!==1)return;let d=Nu.get(i);d&&(d["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",d["aria-hidden"]),i.inert=d.inert,Nu.delete(i))});let r=(o=na.get(i))!=null?o:0;na.set(i,r+1),r===0&&(Nu.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function k4({defaultContainers:s=[],portals:e,mainTreeNodeRef:t}={}){let o=F(null),i=vi(o);function r(){var a,l,d;let u=[];for(let m of s)m!==null&&(m instanceof HTMLElement?u.push(m):"value"in m&&m.value instanceof HTMLElement&&u.push(m.value));if(e!=null&&e.value)for(let m of e.value)u.push(m);for(let m of(a=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(vt(o))||m.contains((d=(l=vt(o))==null?void 0:l.getRootNode())==null?void 0:d.host)||u.some(p=>m.contains(p))||u.push(m));return u}return{resolveContainers:r,contains(a){return r().some(l=>l.contains(a))},mainTreeNodeRef:o,MainTreeNode(){return t!=null?null:Ot(Uf,{features:Yd.Hidden,ref:o})}}}let Cv=Symbol("ForcePortalRootContext");function $4(){return Je(Cv,!1)}let op=ye({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(s,{slots:e,attrs:t}){return Es(Cv,s.force),()=>{let{force:o,...i}=s;return An({theirProps:i,ourProps:{},slot:{},slots:e,attrs:t,name:"ForcePortalRoot"})}}}),Sv=Symbol("StackContext");var Vf=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(Vf||{});function C4(){return Je(Sv,()=>{})}function S4({type:s,enabled:e,element:t,onUpdate:o}){let i=C4();function r(...a){o==null||o(...a),i(...a)}Ye(()=>{$t(e,(a,l)=>{a?r(0,s,t):l===!0&&r(1,s,t)},{immediate:!0,flush:"sync"})}),qs(()=>{e.value&&r(1,s,t)}),Es(Sv,r)}let M4=Symbol("DescriptionContext");function T4({slot:s=F({}),name:e="Description",props:t={}}={}){let o=F([]);function i(r){return o.value.push(r),()=>{let a=o.value.indexOf(r);a!==-1&&o.value.splice(a,1)}}return Es(M4,{register:i,slot:s,name:e,props:t}),De(()=>o.value.length>0?o.value.join(" "):void 0)}function A4(s){let e=vi(s);if(!e){if(s===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${s}`)}let t=e.getElementById("headlessui-portal-root");if(t)return t;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)}const Hf=new WeakMap;function D4(s){var e;return(e=Hf.get(s))!=null?e:0}function ip(s,e){let t=e(D4(s));return t<=0?Hf.delete(s):Hf.set(s,t),t}let E4=ye({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:e,attrs:t}){let o=F(null),i=De(()=>vi(o)),r=$4(),a=Je(Mv,null),l=F(r===!0||a==null?A4(o.value):a.resolveTarget());l.value&&ip(l.value,h=>h+1);let d=F(!1);Ye(()=>{d.value=!0}),cn(()=>{r||a!=null&&(l.value=a.resolveTarget())});let u=Je(qf,null),m=!1,p=zr();return $t(o,()=>{if(m||!u)return;let h=vt(o);h&&(qs(u.register(h),p),m=!0)}),qs(()=>{var h,_;let y=(h=i.value)==null?void 0:h.getElementById("headlessui-portal-root");!y||l.value!==y||ip(l.value,x=>x-1)||l.value.children.length>0||(_=l.value.parentElement)==null||_.removeChild(l.value)}),()=>{if(!d.value||l.value===null)return null;let h={ref:o,"data-headlessui-portal":""};return Ot(br,{to:l.value},An({ourProps:h,theirProps:s,slot:{},attrs:t,slots:e,name:"Portal"}))}}}),qf=Symbol("PortalParentContext");function P4(){let s=Je(qf,null),e=F([]);function t(r){return e.value.push(r),s&&s.register(r),()=>o(r)}function o(r){let a=e.value.indexOf(r);a!==-1&&e.value.splice(a,1),s&&s.unregister(r)}let i={register:t,unregister:o,portals:e};return[e,ye({name:"PortalWrapper",setup(r,{slots:a}){return Es(qf,i),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let Mv=Symbol("PortalGroupContext"),j4=ye({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(s,{attrs:e,slots:t}){let o=Qe({resolveTarget(){return s.target}});return Es(Mv,o),()=>{let{target:i,...r}=s;return An({theirProps:r,ourProps:{},slot:{},attrs:e,slots:t,name:"PortalGroup"})}}});var R4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(R4||{});let Wf=Symbol("DialogContext");function Tv(s){let e=Je(Wf,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Tv),t}return e}let Ll="DC8F892D-2EBD-447C-A4C8-A03058436FF4",I4=ye({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ll},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:s=>!0},setup(s,{emit:e,attrs:t,slots:o,expose:i}){var r,a;let l=(r=s.id)!=null?r:`headlessui-dialog-${Br()}`,d=F(!1);Ye(()=>{d.value=!0});let u=!1,m=De(()=>s.role==="dialog"||s.role==="alertdialog"?s.role:(u||(u=!0),"dialog")),p=F(0),h=Pc(),_=De(()=>s.open===Ll&&h!==null?(h.value&Ts.Open)===Ts.Open:s.open),y=F(null),x=De(()=>vi(y));if(i({el:y,$el:y}),!(s.open!==Ll||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof _.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_.value===Ll?void 0:s.open}`);let w=De(()=>d.value&&_.value?0:1),k=De(()=>w.value===0),b=De(()=>p.value>1),M=Je(Wf,null)!==null,[S,N]=P4(),{resolveContainers:A,mainTreeNodeRef:T,MainTreeNode:D}=k4({portals:S,defaultContainers:[De(()=>{var Te;return(Te=ce.panelRef.value)!=null?Te:y.value})]}),L=De(()=>b.value?"parent":"leaf"),I=De(()=>h!==null?(h.value&Ts.Closing)===Ts.Closing:!1),O=De(()=>M||I.value?!1:k.value),P=De(()=>{var Te,se,ke;return(ke=Array.from((se=(Te=x.value)==null?void 0:Te.querySelectorAll("body > *"))!=null?se:[]).find(Ce=>Ce.id==="headlessui-portal-root"?!1:Ce.contains(vt(T))&&Ce instanceof HTMLElement))!=null?ke:null});np(P,O);let B=De(()=>b.value?!0:k.value),be=De(()=>{var Te,se,ke;return(ke=Array.from((se=(Te=x.value)==null?void 0:Te.querySelectorAll("[data-headlessui-portal]"))!=null?se:[]).find(Ce=>Ce.contains(vt(T))&&Ce instanceof HTMLElement))!=null?ke:null});np(be,B),S4({type:"Dialog",enabled:De(()=>w.value===0),element:y,onUpdate:(Te,se)=>{if(se==="Dialog")return Zn(Te,{[Vf.Add]:()=>p.value+=1,[Vf.Remove]:()=>p.value-=1})}});let le=T4({name:"DialogDescription",slot:De(()=>({open:_.value}))}),de=F(null),ce={titleId:de,panelRef:F(null),dialogState:w,setTitleId(Te){de.value!==Te&&(de.value=Te)},close(){e("close",!1)}};Es(Wf,ce);let me=De(()=>!(!k.value||b.value));pv(A,(Te,se)=>{Te.preventDefault(),ce.close(),Mn(()=>se==null?void 0:se.focus())},me);let Z=De(()=>!(b.value||w.value!==0));xv((a=x.value)==null?void 0:a.defaultView,"keydown",Te=>{Z.value&&(Te.defaultPrevented||Te.key===xs.Escape&&(Te.preventDefault(),Te.stopPropagation(),ce.close()))});let ie=De(()=>!(I.value||w.value!==0||M));return w4(x,ie,Te=>{var se;return{containers:[...(se=Te.containers)!=null?se:[],A]}}),cn(Te=>{if(w.value!==0)return;let se=vt(y);if(!se)return;let ke=new ResizeObserver(Ce=>{for(let ue of Ce){let xe=ue.target.getBoundingClientRect();xe.x===0&&xe.y===0&&xe.width===0&&xe.height===0&&ce.close()}});ke.observe(se),Te(()=>ke.disconnect())}),()=>{let{open:Te,initialFocus:se,...ke}=s,Ce={...t,ref:y,id:l,role:m.value,"aria-modal":w.value===0?!0:void 0,"aria-labelledby":de.value,"aria-describedby":le.value},ue={open:w.value===0};return Ot(op,{force:!0},()=>[Ot(E4,()=>Ot(j4,{target:y.value},()=>Ot(op,{force:!1},()=>Ot(sa,{initialFocus:se,containers:A,features:k.value?Zn(L.value,{parent:sa.features.RestoreFocus,leaf:sa.features.All&~sa.features.FocusLock}):sa.features.None},()=>Ot(N,{},()=>An({ourProps:Ce,theirProps:{...ke,...t},slot:ue,attrs:t,slots:o,visible:w.value===0,features:Er.RenderStrategy|Er.Static,name:"Dialog"})))))),Ot(D)])}}}),O4=ye({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t}){var o;let i=(o=s.id)!=null?o:`headlessui-dialog-overlay-${Br()}`,r=Tv("DialogOverlay");function a(l){l.target===l.currentTarget&&(l.preventDefault(),l.stopPropagation(),r.close())}return()=>{let{...l}=s;return An({ourProps:{id:i,"aria-hidden":!0,onClick:a},theirProps:l,slot:{open:r.dialogState.value===0},attrs:e,slots:t,name:"DialogOverlay"})}}}),rp=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ap(s){var e,t;let o=(e=s.innerText)!=null?e:"",i=s.cloneNode(!0);if(!(i instanceof HTMLElement))return o;let r=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),r=!0;let a=r?(t=i.innerText)!=null?t:"":o;return rp.test(a)&&(a=a.replace(rp,"")),a}function L4(s){let e=s.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=s.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(i=>{let r=document.getElementById(i);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():ap(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return ap(s).trim()}function F4(s){let e=F(""),t=F("");return()=>{let o=vt(s);if(!o)return"";let i=o.innerText;if(e.value===i)return t.value;let r=L4(o).trim().toLowerCase();return e.value=i,t.value=r,r}}var N4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(N4||{}),z4=(s=>(s[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s))(z4||{});function B4(s){requestAnimationFrame(()=>requestAnimationFrame(s))}let Av=Symbol("MenuContext");function jc(s){let e=Je(Av,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,jc),t}return e}let Rc=ye({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:e,attrs:t}){let o=F(1),i=F(null),r=F(null),a=F([]),l=F(""),d=F(null),u=F(1);function m(h=_=>_){let _=d.value!==null?a.value[d.value]:null,y=fv(h(a.value.slice()),w=>vt(w.dataRef.domRef)),x=_?y.indexOf(_):null;return x===-1&&(x=null),{items:y,activeItemIndex:x}}let p={menuState:o,buttonRef:i,itemsRef:r,items:a,searchQuery:l,activeItemIndex:d,activationTrigger:u,closeMenu:()=>{o.value=1,d.value=null},openMenu:()=>o.value=0,goToItem(h,_,y){let x=m(),w=c4(h===Sn.Specific?{focus:Sn.Specific,id:_}:{focus:h},{resolveItems:()=>x.items,resolveActiveIndex:()=>x.activeItemIndex,resolveId:k=>k.id,resolveDisabled:k=>k.dataRef.disabled});l.value="",d.value=w,u.value=y??1,a.value=x.items},search(h){let _=l.value!==""?0:1;l.value+=h.toLowerCase();let y=(d.value!==null?a.value.slice(d.value+_).concat(a.value.slice(0,d.value+_)):a.value).find(w=>w.dataRef.textValue.startsWith(l.value)&&!w.dataRef.disabled),x=y?a.value.indexOf(y):-1;x===-1||x===d.value||(d.value=x,u.value=1)},clearSearch(){l.value=""},registerItem(h,_){let y=m(x=>[...x,{id:h,dataRef:_}]);a.value=y.items,d.value=y.activeItemIndex,u.value=1},unregisterItem(h){let _=m(y=>{let x=y.findIndex(w=>w.id===h);return x!==-1&&y.splice(x,1),y});a.value=_.items,d.value=_.activeItemIndex,u.value=1}};return pv([i,r],(h,_)=>{var y;p.closeMenu(),Km(_,Wm.Loose)||(h.preventDefault(),(y=vt(i))==null||y.focus())},De(()=>o.value===0)),Es(Av,p),bv(De(()=>Zn(o.value,{0:Ts.Open,1:Ts.Closed}))),()=>{let h={open:o.value===0,close:p.closeMenu};return An({ourProps:{},theirProps:s,slot:h,slots:e,attrs:t,name:"Menu"})}}}),Ic=ye({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-button-${Br()}`,a=jc("MenuButton");o({el:a.buttonRef,$el:a.buttonRef});function l(p){switch(p.key){case xs.Space:case xs.Enter:case xs.ArrowDown:p.preventDefault(),p.stopPropagation(),a.openMenu(),Mn(()=>{var h;(h=vt(a.itemsRef))==null||h.focus({preventScroll:!0}),a.goToItem(Sn.First)});break;case xs.ArrowUp:p.preventDefault(),p.stopPropagation(),a.openMenu(),Mn(()=>{var h;(h=vt(a.itemsRef))==null||h.focus({preventScroll:!0}),a.goToItem(Sn.Last)});break}}function d(p){switch(p.key){case xs.Space:p.preventDefault();break}}function u(p){s.disabled||(a.menuState.value===0?(a.closeMenu(),Mn(()=>{var h;return(h=vt(a.buttonRef))==null?void 0:h.focus({preventScroll:!0})})):(p.preventDefault(),a.openMenu(),B4(()=>{var h;return(h=vt(a.itemsRef))==null?void 0:h.focus({preventScroll:!0})})))}let m=n4(De(()=>({as:s.as,type:e.type})),a.buttonRef);return()=>{var p;let h={open:a.menuState.value===0},{..._}=s,y={ref:a.buttonRef,id:r,type:m.value,"aria-haspopup":"menu","aria-controls":(p=vt(a.itemsRef))==null?void 0:p.id,"aria-expanded":a.menuState.value===0,onKeydown:l,onKeyup:d,onClick:u};return An({ourProps:y,theirProps:_,slot:h,attrs:e,slots:t,name:"MenuButton"})}}}),Oc=ye({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-items-${Br()}`,a=jc("MenuItems"),l=F(null);o({el:a.itemsRef,$el:a.itemsRef}),i4({container:De(()=>vt(a.itemsRef)),enabled:De(()=>a.menuState.value===0),accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});function d(h){var _;switch(l.value&&clearTimeout(l.value),h.key){case xs.Space:if(a.searchQuery.value!=="")return h.preventDefault(),h.stopPropagation(),a.search(h.key);case xs.Enter:if(h.preventDefault(),h.stopPropagation(),a.activeItemIndex.value!==null){let y=a.items.value[a.activeItemIndex.value];(_=vt(y.dataRef.domRef))==null||_.click()}a.closeMenu(),uv(vt(a.buttonRef));break;case xs.ArrowDown:return h.preventDefault(),h.stopPropagation(),a.goToItem(Sn.Next);case xs.ArrowUp:return h.preventDefault(),h.stopPropagation(),a.goToItem(Sn.Previous);case xs.Home:case xs.PageUp:return h.preventDefault(),h.stopPropagation(),a.goToItem(Sn.First);case xs.End:case xs.PageDown:return h.preventDefault(),h.stopPropagation(),a.goToItem(Sn.Last);case xs.Escape:h.preventDefault(),h.stopPropagation(),a.closeMenu(),Mn(()=>{var y;return(y=vt(a.buttonRef))==null?void 0:y.focus({preventScroll:!0})});break;case xs.Tab:h.preventDefault(),h.stopPropagation(),a.closeMenu(),Mn(()=>e4(vt(a.buttonRef),h.shiftKey?uo.Previous:uo.Next));break;default:h.key.length===1&&(a.search(h.key),l.value=setTimeout(()=>a.clearSearch(),350));break}}function u(h){switch(h.key){case xs.Space:h.preventDefault();break}}let m=Pc(),p=De(()=>m!==null?(m.value&Ts.Open)===Ts.Open:a.menuState.value===0);return()=>{var h,_;let y={open:a.menuState.value===0},{...x}=s,w={"aria-activedescendant":a.activeItemIndex.value===null||(h=a.items.value[a.activeItemIndex.value])==null?void 0:h.id,"aria-labelledby":(_=vt(a.buttonRef))==null?void 0:_.id,id:r,onKeydown:d,onKeyup:u,role:"menu",tabIndex:0,ref:a.itemsRef};return An({ourProps:w,theirProps:x,slot:y,attrs:e,slots:t,features:Er.RenderStrategy|Er.Static,visible:p.value,name:"MenuItems"})}}}),an=ye({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(s,{slots:e,attrs:t,expose:o}){var i;let r=(i=s.id)!=null?i:`headlessui-menu-item-${Br()}`,a=jc("MenuItem"),l=F(null);o({el:l,$el:l});let d=De(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===r:!1),u=F4(l),m=De(()=>({disabled:s.disabled,get textValue(){return u()},domRef:l}));Ye(()=>a.registerItem(r,m)),qs(()=>a.unregisterItem(r)),cn(()=>{a.menuState.value===0&&d.value&&a.activationTrigger.value!==0&&Mn(()=>{var k,b;return(b=(k=vt(l))==null?void 0:k.scrollIntoView)==null?void 0:b.call(k,{block:"nearest"})})});function p(k){if(s.disabled)return k.preventDefault();a.closeMenu(),uv(vt(a.buttonRef))}function h(){if(s.disabled)return a.goToItem(Sn.Nothing);a.goToItem(Sn.Specific,r)}let _=o4();function y(k){_.update(k)}function x(k){_.wasMoved(k)&&(s.disabled||d.value||a.goToItem(Sn.Specific,r,0))}function w(k){_.wasMoved(k)&&(s.disabled||d.value&&a.goToItem(Sn.Nothing))}return()=>{let{disabled:k,...b}=s,M={active:d.value,disabled:k,close:a.closeMenu};return An({ourProps:{id:r,ref:l,role:"menuitem",tabIndex:k===!0?void 0:-1,"aria-disabled":k===!0?!0:void 0,onClick:p,onFocus:h,onPointerenter:y,onMouseenter:y,onPointermove:x,onMousemove:x,onPointerleave:w,onMouseleave:w},theirProps:{...t,...b},slot:M,attrs:t,slots:e,name:"MenuItem"})}}});function U4(s){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,s(...t)}}function zu(s,...e){s&&e.length>0&&s.classList.add(...e)}function Fl(s,...e){s&&e.length>0&&s.classList.remove(...e)}var Kf=(s=>(s.Finished="finished",s.Cancelled="cancelled",s))(Kf||{});function V4(s,e){let t=hl();if(!s)return t.dispose;let{transitionDuration:o,transitionDelay:i}=getComputedStyle(s),[r,a]=[o,i].map(l=>{let[d=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,m)=>m-u);return d});return r!==0?t.setTimeout(()=>e("finished"),r+a):e("finished"),t.add(()=>e("cancelled")),t.dispose}function lp(s,e,t,o,i,r){let a=hl(),l=r!==void 0?U4(r):()=>{};return Fl(s,...i),zu(s,...e,...t),a.nextFrame(()=>{Fl(s,...t),zu(s,...o),a.add(V4(s,d=>(Fl(s,...o,...e),zu(s,...i),l(d))))}),a.add(()=>Fl(s,...e,...t,...o,...i)),a.add(()=>l("cancelled")),a.dispose}function Ti(s=""){return s.split(/\s+/).filter(e=>e.length>1)}let Ym=Symbol("TransitionContext");var H4=(s=>(s.Visible="visible",s.Hidden="hidden",s))(H4||{});function q4(){return Je(Ym,null)!==null}function W4(){let s=Je(Ym,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}function K4(){let s=Je(Gm,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}let Gm=Symbol("NestingContext");function Lc(s){return"children"in s?Lc(s.children):s.value.filter(({state:e})=>e==="visible").length>0}function Dv(s){let e=F([]),t=F(!1);Ye(()=>t.value=!0),qs(()=>t.value=!1);function o(r,a=Zo.Hidden){let l=e.value.findIndex(({id:d})=>d===r);l!==-1&&(Zn(a,{[Zo.Unmount](){e.value.splice(l,1)},[Zo.Hidden](){e.value[l].state="hidden"}}),!Lc(e)&&t.value&&(s==null||s()))}function i(r){let a=e.value.find(({id:l})=>l===r);return a?a.state!=="visible"&&(a.state="visible"):e.value.push({id:r,state:"visible"}),()=>o(r,Zo.Unmount)}return{children:e,register:i,unregister:o}}let Ev=Er.RenderStrategy,_d=ye({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:o,expose:i}){let r=F(0);function a(){r.value|=Ts.Opening,e("beforeEnter")}function l(){r.value&=~Ts.Opening,e("afterEnter")}function d(){r.value|=Ts.Closing,e("beforeLeave")}function u(){r.value&=~Ts.Closing,e("afterLeave")}if(!q4()&&a4())return()=>Ot(Pv,{...s,onBeforeEnter:a,onAfterEnter:l,onBeforeLeave:d,onAfterLeave:u},o);let m=F(null),p=De(()=>s.unmount?Zo.Unmount:Zo.Hidden);i({el:m,$el:m});let{show:h,appear:_}=W4(),{register:y,unregister:x}=K4(),w=F(h.value?"visible":"hidden"),k={value:!0},b=Br(),M={value:!1},S=Dv(()=>{!M.value&&w.value!=="hidden"&&(w.value="hidden",x(b),u())});Ye(()=>{let B=y(b);qs(B)}),cn(()=>{if(p.value===Zo.Hidden&&b){if(h.value&&w.value!=="visible"){w.value="visible";return}Zn(w.value,{hidden:()=>x(b),visible:()=>y(b)})}});let N=Ti(s.enter),A=Ti(s.enterFrom),T=Ti(s.enterTo),D=Ti(s.entered),L=Ti(s.leave),I=Ti(s.leaveFrom),O=Ti(s.leaveTo);Ye(()=>{cn(()=>{if(w.value==="visible"){let B=vt(m);if(B instanceof Comment&&B.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function P(B){let be=k.value&&!_.value,le=vt(m);!le||!(le instanceof HTMLElement)||be||(M.value=!0,h.value&&a(),h.value||d(),B(h.value?lp(le,N,A,T,D,de=>{M.value=!1,de===Kf.Finished&&l()}):lp(le,L,I,O,D,de=>{M.value=!1,de===Kf.Finished&&(Lc(S)||(w.value="hidden",x(b),u()))})))}return Ye(()=>{$t([h],(B,be,le)=>{P(le),k.value=!1},{immediate:!0})}),Es(Gm,S),bv(De(()=>Zn(w.value,{visible:Ts.Open,hidden:Ts.Closed})|r.value)),()=>{let{appear:B,show:be,enter:le,enterFrom:de,enterTo:ce,entered:me,leave:Z,leaveFrom:ie,leaveTo:Te,...se}=s,ke={ref:m},Ce={...se,..._.value&&h.value&&pl.isServer?{class:Q([t.class,se.class,...N,...A])}:{}};return An({theirProps:Ce,ourProps:ke,slot:{},slots:o,attrs:t,features:Ev,visible:w.value==="visible",name:"TransitionChild"})}}}),Y4=_d,Pv=ye({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:o}){let i=Pc(),r=De(()=>s.show===null&&i!==null?(i.value&Ts.Open)===Ts.Open:s.show);cn(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=F(r.value?"visible":"hidden"),l=Dv(()=>{a.value="hidden"}),d=F(!0),u={show:r,appear:De(()=>s.appear||!d.value)};return Ye(()=>{cn(()=>{d.value=!1,r.value?a.value="visible":Lc(l)||(a.value="hidden")})}),Es(Gm,l),Es(Ym,u),()=>{let m=vv(s,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),p={unmount:s.unmount};return An({ourProps:{...p,as:"template"},theirProps:{},slot:{},slots:{...o,default:()=>[Ot(Y4,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...t,...p,...m},o.default)]},attrs:{},features:Ev,visible:a.value==="visible",name:"Transition"})}}});function G4(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})])}function X4(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Yf(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Xm(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function jv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function Pr(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])}function J4(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function Q4(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"})])}function Rv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})])}function Z4(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})])}function sr(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function Iv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function e$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function Jm(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])}function Ov(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function t$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z"})])}function s$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function Qm(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})])}function un(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])}function gl(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function n$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})])}function dp(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})])}function o$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})])}function ps(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function i$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function Lv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function r$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})])}function Fv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}function a$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})])}function Nv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function l$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})])}function Ws(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function d$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function c$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Fc(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Nc(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function zc(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Gd(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function u$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function Bc(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])}function f$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function Zm(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function hn(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function m$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function Gf(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})])}function h$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"})])}function eh(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})])}function p$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})])}function g$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function th(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})])}function zv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function $s(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function Bv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Ur(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}function en(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function Bu(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})])}function Uc(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})])}function cp(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function pn(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Vr(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})])}function _$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}function Vt(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function v$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}function Xf(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}function el(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function Uv(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})])}function y$(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})])}function ws(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Po(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const Jf={"/":"home","/tasks":"tasks","/attendance":"attendance","/employees":"employees","/working-hours":"working-hours","/activity-reports":"activity-reports","/leaves":"leaves","/advance-requests":"advance-requests","/holidays":"holidays","/leads":"leads","/payrolls":"payrolls","/clients":"clients","/companies":"companies","/quotations":"quotations","/expenses":"expenses","/income":"income","/profit-loss":"profit-loss","/users":"users","/service-providers":"service-providers","/recording-sessions":"service-providers","/lesson-plans":"service-providers","/subjects":"service-providers","/adsense-reports":"adsense-reports","/video-enhancer":"video-enhancer","/audit-trail":"audit-trail"},b$={Financial:"financial","Service Providers":"service-providers"},up=[{label:"Home",uri:"/",icon:g$},{label:"My Tasks",uri:"/tasks",icon:th},{label:"Attendance",uri:"/attendance",icon:un},{label:"Employees",uri:"/employees",icon:Ov,permission:"employee:view"},{label:"Working Hours",uri:"/working-hours",icon:Ws,attendanceAdminOnly:!0},{label:"Activity Reports",uri:"/activity-reports",icon:n$,attendanceAdminOnly:!0},{label:"Leave Requests",uri:"/leaves",icon:a$,permission:"leave:view"},{label:"Advance Requests",uri:"/advance-requests",icon:sr,permission:"advance_request:view"},{label:"Holidays",uri:"/holidays",icon:Qm},{label:"Leads",uri:"/leads",icon:v$},{label:"Companies",uri:"/companies",icon:t$,permission:"company:view"},{label:"Financial",icon:y$,children:[{label:"Payroll",uri:"/payrolls",permission:"payroll:view"},{label:"Clients",uri:"/clients",permission:"client:view"},{label:"Quotations",uri:"/quotations",permission:"quotation:view"},{label:"Expenses",uri:"/expenses",permission:"expense:view"},{label:"Income",uri:"/income",permission:"income:view"},{label:"Profit & Loss",uri:"/profit-loss"}]},{label:"Team Members",uri:"/users",icon:el,permission:"user:view"},{label:"Service Providers",icon:G4,children:[{label:"All Providers",uri:"/service-providers",permission:"service_provider:view"},{label:"Recording Sessions",uri:"/recording-sessions",permission:"service_provider:view"},{label:"Lesson Plans",uri:"/lesson-plans",permission:"service_provider:view"},{label:"Subjects",uri:"/subjects",permission:"service_provider:view"}]},{label:"AdSense Reports",uri:"/adsense-reports",icon:gl},{label:"Video Enhancer",uri:"/video-enhancer",icon:m$},{label:"Audit Trail",uri:"/audit-trail",icon:Nv,permission:"audit:view"}];function fp(s,e,t){if(!t||t.length===0)return!1;const o=b$[e];return o&&t.includes(o)?!0:s&&Jf[s]?t.includes(Jf[s]):!1}function x$(s,e){return!e||e.length===0?s:s.filter(t=>{const o=Jf[t.uri];return!o||!e.includes(o)})}const ht=Qe({...window.AppData}),w$={class:"space-y-1"},k$={key:0},$$=["onClick"],C$={class:"flex-1 text-left"},S$={class:"mt-1 space-y-1 pl-4"},M$=["href","onClick"],T$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},A$={class:"flex-1"},D$=["href","onClick"],E$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},P$={class:"flex-1"},j$=["onClick"],Vv=ye({__name:"SidebarNav",setup(s){const e=De(()=>ht.disabled_sidebar_features||[]),t=Je("can"),o=Je("__"),i=eo(),r=De(()=>i.currentRoute.value.path),a=Qe({});function l(x){return x==="/"||x=="/projects"?r.value===x:r.value.startsWith(x)}function d(x){return x.some(w=>l(w.uri))}function u(x){return x.some(w=>!w.permission||t(w.permission))}function m(x){a[x]=!a[x]}function p(x){return!(fp(x.uri,x.label,e.value)||x.superAdminOnly&&!ht.is_super_admin||x.attendanceAdminOnly&&!ht.is_attendance_admin||x.permission&&!t(x.permission))}function h(x){if(fp(void 0,x.label,e.value)||!x.children)return!1;const w=_(x.children);return w.length>0&&u(w)}function _(x){return x$(x,e.value)}function y(x){i.push(x)}return Ye(()=>{up.forEach(x=>{x.children&&d(x.children)&&(a[x.label]=!0)})}),(x,w)=>{const k=fn("RouterLink");return g(),v("div",w$,[(g(!0),v(re,null,ve(f(up),b=>(g(),v(re,{key:b.label},[b.children&&h(b)?(g(),v("div",k$,[n("button",{type:"button",class:Q([d(b.children)?"bg-gray-700/50 text-white":"text-gray-300 hover:bg-gray-700/70 hover:text-white","group relative flex w-full items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out border-l-4 border-transparent"]),onClick:M=>m(b.label)},[(g(),ne(mo(b.icon),{class:Q([d(b.children)?"text-indigo-300":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),n("span",C$,c(f(o)(b.label)),1),C(f(Lv),{class:Q([a[b.label]?"rotate-180":"","h-4 w-4 text-gray-400 transition-transform duration-200"])},null,8,["class"])],10,$$),z(n("div",S$,[(g(!0),v(re,null,ve(_(b.children),M=>(g(),v(re,{key:M.label},[!M.permission||f(t)(M.permission)?(g(),ne(k,{key:0,custom:"",to:M.uri},{default:q(({href:S,navigate:N})=>[n("a",{href:S,class:Q([l(M.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:N},[l(M.uri)?(g(),v("div",T$)):j("",!0),n("span",A$,c(f(o)(M.label)),1)],10,M$)]),_:2},1032,["to"])):j("",!0)],64))),128))],512),[[zt,a[b.label]]])])):b.uri&&p(b)?(g(),ne(k,{key:1,custom:"",to:b.uri},{default:q(({href:M,navigate:S})=>[n("a",{href:M,class:Q([l(b.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:S},[l(b.uri)?(g(),v("div",E$)):j("",!0),(g(),ne(mo(b.icon),{class:Q([l(b.uri)?"text-white":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),n("span",P$,c(f(o)(b.label)),1),b.create&&f(t)(b.createPermission||"false")?(g(),v("span",{key:1,class:"ml-auto flex h-6 w-6 cursor-pointer items-center justify-center rounded-md bg-gray-700/50 text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500 hover:text-white group-hover:opacity-100",onClick:Ke(N=>y(b.create||"/"),["prevent"])},[(g(),ne(mo(f(pn)),{class:"h-3.5 w-3.5"}))],8,j$)):j("",!0)],10,D$)]),_:2},1032,["to"])):j("",!0)],64))),128))])}}}),R$=["src"],I$={key:1,class:"flex items-center"},O$={class:"relative"},L$={class:"relative h-8 transition-all duration-200 group-hover:scale-110",style:{color:"#6875f5"},fill:"none",viewBox:"0 0 34 32",xmlns:"http://www.w3.org/2000/svg"},F$={class:"bg-gradient-to-r from-white to-gray-200 bg-clip-text text-[1.375rem] font-bold text-transparent ltr:ml-2.5 rtl:mr-2.5 transition-all duration-200 group-hover:from-indigo-200 group-hover:to-white"},Hv=ye({__name:"SidebarLogo",setup(s){const e=ht.app_name,t=ht.app_logo;return(o,i)=>f(t)?(g(),v("img",{key:0,src:`/${f(t)}`,class:"h-8 object-contain transition-transform duration-200 group-hover:scale-105"},null,8,R$)):(g(),v("div",I$,[n("div",O$,[i[1]||(i[1]=n("div",{class:"absolute inset-0 rounded-lg bg-indigo-500/30 blur-md"},null,-1)),(g(),v("svg",L$,[...i[0]||(i[0]=[n("path",{fill:"currentColor",d:"M15.258 26.865a4.043 4.043 0 01-1.133 2.917A4.006 4.006 0 0111.253 31a3.992 3.992 0 01-2.872-1.218 4.028 4.028 0 01-1.133-2.917c.009-.698.2-1.382.557-1.981.356-.6.863-1.094 1.47-1.433-.024.109.09-.055 0 0l1.86-1.652a8.495 8.495 0 002.304-5.793c0-2.926-1.711-5.901-4.17-7.457.094.055-.036-.094 0 0A3.952 3.952 0 017.8 7.116a3.975 3.975 0 01-.557-1.98 4.042 4.042 0 011.133-2.918A4.006 4.006 0 0111.247 1a3.99 3.99 0 012.872 1.218 4.025 4.025 0 011.133 2.917 8.521 8.521 0 002.347 5.832l.817.8c.326.285.668.551 1.024.798.621.33 1.142.826 1.504 1.431a3.902 3.902 0 01-1.504 5.442c.033-.067-.063.036 0 0a8.968 8.968 0 00-3.024 3.183 9.016 9.016 0 00-1.158 4.244zM19.741 5.123c0 .796.235 1.575.676 2.237a4.01 4.01 0 001.798 1.482 3.99 3.99 0 004.366-.873 4.042 4.042 0 00.869-4.386 4.02 4.02 0 00-1.476-1.806 3.994 3.994 0 00-5.058.501 4.038 4.038 0 00-1.175 2.845zM23.748 22.84c-.792 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.806 4.042 4.042 0 00.869 4.387 3.99 3.99 0 004.366.873A4.01 4.01 0 0027.08 29.1a4.039 4.039 0 00-.5-5.082 4 4 0 00-2.832-1.18zM34 15.994c0-.796-.235-1.574-.675-2.236a4.01 4.01 0 00-1.798-1.483 3.99 3.99 0 00-4.367.873 4.042 4.042 0 00-.869 4.387 4.02 4.02 0 001.476 1.806 3.993 3.993 0 002.226.678 4.003 4.003 0 002.832-1.18A4.04 4.04 0 0034 15.993z"},null,-1),n("path",{fill:"currentColor",d:"M5.007 11.969c-.793 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.807 4.042 4.042 0 00.869 4.386 4.001 4.001 0 004.366.873 4.011 4.011 0 001.798-1.483 4.038 4.038 0 00-.5-5.08 4.004 4.004 0 00-2.831-1.181z"},null,-1)])]))]),n("span",F$,c(f(e)),1)]))}}),N$={class:"relative flex w-full max-w-xs flex-1 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pt-5 pb-4 shadow-2xl"},z$={class:"absolute top-0 right-0 -mr-12 pt-2"},B$=["href","onClick"],U$={class:"mt-5 h-0 flex-1 space-y-1 overflow-y-auto px-3 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},V$=ye({__name:"SidebarMobile",setup(s){const e=Tc();return(t,o)=>{const i=fn("RouterLink");return g(),ne(f(Pv),{as:"template",show:f(e).isMobileSidebar},{default:q(()=>[C(f(I4),{as:"div",static:"",class:"fixed inset-0 z-40 flex md:hidden",open:f(e).isMobileSidebar,onClose:o[1]||(o[1]=r=>f(e).isMobileSidebar=!1)},{default:q(()=>[C(f(_d),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:q(()=>[C(f(O4),{class:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm"})]),_:1}),C(f(_d),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:q(()=>[n("div",N$,[C(f(_d),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:q(()=>[n("div",z$,[n("button",{class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm transition-all duration-200 hover:bg-indigo-500/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-400",onClick:o[0]||(o[0]=r=>f(e).isMobileSidebar=!1)},[o[2]||(o[2]=n("span",{class:"sr-only"},"Close sidebar",-1)),C(f(Po),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),C(i,{to:"/",custom:""},{default:q(({href:r,navigate:a})=>[n("a",{href:r,class:"group flex flex-shrink-0 items-center border-b border-gray-700/50 px-4 pb-4 transition-all duration-200",onClick:a},[C(Hv)],8,B$)]),_:1}),n("div",U$,[C(Vv)])])]),_:1}),o[3]||(o[3]=n("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1))]),_:1},8,["open"])]),_:1},8,["show"])}}});function qv(s,e){return function(){return s.apply(e,arguments)}}const{toString:H$}=Object.prototype,{getPrototypeOf:sh}=Object,{iterator:Vc,toStringTag:Wv}=Symbol,Hc=(s=>e=>{const t=H$.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),to=s=>(s=s.toLowerCase(),e=>Hc(e)===s),qc=s=>e=>typeof e===s,{isArray:Hr}=Array,jr=qc("undefined");function _l(s){return s!==null&&!jr(s)&&s.constructor!==null&&!jr(s.constructor)&&dn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Kv=to("ArrayBuffer");function q$(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Kv(s.buffer),e}const W$=qc("string"),dn=qc("function"),Yv=qc("number"),vl=s=>s!==null&&typeof s=="object",K$=s=>s===!0||s===!1,vd=s=>{if(Hc(s)!=="object")return!1;const e=sh(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Wv in s)&&!(Vc in s)},Y$=s=>{if(!vl(s)||_l(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},G$=to("Date"),X$=to("File"),J$=to("Blob"),Q$=to("FileList"),Z$=s=>vl(s)&&dn(s.pipe),e3=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||dn(s.append)&&((e=Hc(s))==="formdata"||e==="object"&&dn(s.toString)&&s.toString()==="[object FormData]"))},t3=to("URLSearchParams"),[s3,n3,o3,i3]=["ReadableStream","Request","Response","Headers"].map(to),r3=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yl(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let o,i;if(typeof s!="object"&&(s=[s]),Hr(s))for(o=0,i=s.length;o<i;o++)e.call(null,s[o],o,s);else{if(_l(s))return;const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(o=0;o<a;o++)l=r[o],e.call(null,s[l],l,s)}}function Gv(s,e){if(_l(s))return null;e=e.toLowerCase();const t=Object.keys(s);let o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}const Hi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Xv=s=>!jr(s)&&s!==Hi;function Qf(){const{caseless:s,skipUndefined:e}=Xv(this)&&this||{},t={},o=(i,r)=>{const a=s&&Gv(t,r)||r;vd(t[a])&&vd(i)?t[a]=Qf(t[a],i):vd(i)?t[a]=Qf({},i):Hr(i)?t[a]=i.slice():(!e||!jr(i))&&(t[a]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&yl(arguments[i],o);return t}const a3=(s,e,t,{allOwnKeys:o}={})=>(yl(e,(i,r)=>{t&&dn(i)?s[r]=qv(i,t):s[r]=i},{allOwnKeys:o}),s),l3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),d3=(s,e,t,o)=>{s.prototype=Object.create(e.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},c3=(s,e,t,o)=>{let i,r,a;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)a=i[r],(!o||o(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&sh(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},u3=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const o=s.indexOf(e,t);return o!==-1&&o===t},f3=s=>{if(!s)return null;if(Hr(s))return s;let e=s.length;if(!Yv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},m3=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&sh(Uint8Array)),h3=(s,e)=>{const o=(s&&s[Vc]).call(s);let i;for(;(i=o.next())&&!i.done;){const r=i.value;e.call(s,r[0],r[1])}},p3=(s,e)=>{let t;const o=[];for(;(t=s.exec(e))!==null;)o.push(t);return o},g3=to("HTMLFormElement"),_3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),mp=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),v3=to("RegExp"),Jv=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),o={};yl(t,(i,r)=>{let a;(a=e(i,r,s))!==!1&&(o[r]=a||i)}),Object.defineProperties(s,o)},y3=s=>{Jv(s,(e,t)=>{if(dn(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=s[t];if(dn(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},b3=(s,e)=>{const t={},o=i=>{i.forEach(r=>{t[r]=!0})};return Hr(s)?o(s):o(String(s).split(e)),t},x3=()=>{},w3=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function k3(s){return!!(s&&dn(s.append)&&s[Wv]==="FormData"&&s[Vc])}const $3=s=>{const e=new Array(10),t=(o,i)=>{if(vl(o)){if(e.indexOf(o)>=0)return;if(_l(o))return o;if(!("toJSON"in o)){e[i]=o;const r=Hr(o)?[]:{};return yl(o,(a,l)=>{const d=t(a,i+1);!jr(d)&&(r[l]=d)}),e[i]=void 0,r}}return o};return t(s,0)},C3=to("AsyncFunction"),S3=s=>s&&(vl(s)||dn(s))&&dn(s.then)&&dn(s.catch),Qv=((s,e)=>s?setImmediate:e?((t,o)=>(Hi.addEventListener("message",({source:i,data:r})=>{i===Hi&&r===t&&o.length&&o.shift()()},!1),i=>{o.push(i),Hi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",dn(Hi.postMessage)),M3=typeof queueMicrotask<"u"?queueMicrotask.bind(Hi):typeof process<"u"&&process.nextTick||Qv,T3=s=>s!=null&&dn(s[Vc]),pe={isArray:Hr,isArrayBuffer:Kv,isBuffer:_l,isFormData:e3,isArrayBufferView:q$,isString:W$,isNumber:Yv,isBoolean:K$,isObject:vl,isPlainObject:vd,isEmptyObject:Y$,isReadableStream:s3,isRequest:n3,isResponse:o3,isHeaders:i3,isUndefined:jr,isDate:G$,isFile:X$,isBlob:J$,isRegExp:v3,isFunction:dn,isStream:Z$,isURLSearchParams:t3,isTypedArray:m3,isFileList:Q$,forEach:yl,merge:Qf,extend:a3,trim:r3,stripBOM:l3,inherits:d3,toFlatObject:c3,kindOf:Hc,kindOfTest:to,endsWith:u3,toArray:f3,forEachEntry:h3,matchAll:p3,isHTMLForm:g3,hasOwnProperty:mp,hasOwnProp:mp,reduceDescriptors:Jv,freezeMethods:y3,toObjectSet:b3,toCamelCase:_3,noop:x3,toFiniteNumber:w3,findKey:Gv,global:Hi,isContextDefined:Xv,isSpecCompliantForm:k3,toJSONObject:$3,isAsyncFn:C3,isThenable:S3,setImmediate:Qv,asap:M3,isIterable:T3};function mt(s,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const Zv=mt.prototype,ey={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ey[s]={value:s}});Object.defineProperties(mt,ey);Object.defineProperty(Zv,"isAxiosError",{value:!0});mt.from=(s,e,t,o,i,r)=>{const a=Object.create(Zv);pe.toFlatObject(s,a,function(m){return m!==Error.prototype},u=>u!=="isAxiosError");const l=s&&s.message?s.message:"Error",d=e==null&&s?s.code:e;return mt.call(a,l,d,t,o,i),s&&a.cause==null&&Object.defineProperty(a,"cause",{value:s,configurable:!0}),a.name=s&&s.name||"Error",r&&Object.assign(a,r),a};const A3=null;function Zf(s){return pe.isPlainObject(s)||pe.isArray(s)}function ty(s){return pe.endsWith(s,"[]")?s.slice(0,-2):s}function hp(s,e,t){return s?s.concat(e).map(function(i,r){return i=ty(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function D3(s){return pe.isArray(s)&&!s.some(Zf)}const E3=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Wc(s,e,t){if(!pe.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!pe.isUndefined(w[x])});const o=t.metaTokens,i=t.visitor||m,r=t.dots,a=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(pe.isDate(y))return y.toISOString();if(pe.isBoolean(y))return y.toString();if(!d&&pe.isBlob(y))throw new mt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(y)||pe.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,x,w){let k=y;if(y&&!w&&typeof y=="object"){if(pe.endsWith(x,"{}"))x=o?x:x.slice(0,-2),y=JSON.stringify(y);else if(pe.isArray(y)&&D3(y)||(pe.isFileList(y)||pe.endsWith(x,"[]"))&&(k=pe.toArray(y)))return x=ty(x),k.forEach(function(M,S){!(pe.isUndefined(M)||M===null)&&e.append(a===!0?hp([x],S,r):a===null?x:x+"[]",u(M))}),!1}return Zf(y)?!0:(e.append(hp(w,x,r),u(y)),!1)}const p=[],h=Object.assign(E3,{defaultVisitor:m,convertValue:u,isVisitable:Zf});function _(y,x){if(!pe.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),pe.forEach(y,function(k,b){(!(pe.isUndefined(k)||k===null)&&i.call(e,k,pe.isString(b)?b.trim():b,x,h))===!0&&_(k,x?x.concat(b):[b])}),p.pop()}}if(!pe.isObject(s))throw new TypeError("data must be an object");return _(s),e}function pp(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function nh(s,e){this._pairs=[],s&&Wc(s,this,e)}const sy=nh.prototype;sy.append=function(e,t){this._pairs.push([e,t])};sy.toString=function(e){const t=e?function(o){return e.call(this,o,pp)}:pp;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function P3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ny(s,e,t){if(!e)return s;const o=t&&t.encode||P3;pe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let r;if(i?r=i(e,t):r=pe.isURLSearchParams(e)?e.toString():new nh(e,t).toString(o),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class j3{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(o){o!==null&&e(o)})}}const gp=j3,oy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R3=typeof URLSearchParams<"u"?URLSearchParams:nh,I3=typeof FormData<"u"?FormData:null,O3=typeof Blob<"u"?Blob:null,L3={isBrowser:!0,classes:{URLSearchParams:R3,FormData:I3,Blob:O3},protocols:["http","https","file","blob","url","data"]},oh=typeof window<"u"&&typeof document<"u",em=typeof navigator=="object"&&navigator||void 0,F3=oh&&(!em||["ReactNative","NativeScript","NS"].indexOf(em.product)<0),N3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),z3=oh&&window.location.href||"http://localhost",B3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oh,hasStandardBrowserEnv:F3,hasStandardBrowserWebWorkerEnv:N3,navigator:em,origin:z3},Symbol.toStringTag,{value:"Module"})),Vs={...B3,...L3};function U3(s,e){return Wc(s,new Vs.classes.URLSearchParams,{visitor:function(t,o,i,r){return Vs.isNode&&pe.isBuffer(t)?(this.append(o,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function V3(s){return pe.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H3(s){const e={},t=Object.keys(s);let o;const i=t.length;let r;for(o=0;o<i;o++)r=t[o],e[r]=s[r];return e}function iy(s){function e(t,o,i,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=r>=t.length;return a=!a&&pe.isArray(i)?i.length:a,d?(pe.hasOwnProp(i,a)?i[a]=[i[a],o]:i[a]=o,!l):((!i[a]||!pe.isObject(i[a]))&&(i[a]=[]),e(t,o,i[a],r)&&pe.isArray(i[a])&&(i[a]=H3(i[a])),!l)}if(pe.isFormData(s)&&pe.isFunction(s.entries)){const t={};return pe.forEachEntry(s,(o,i)=>{e(V3(o),i,t,0)}),t}return null}function q3(s,e,t){if(pe.isString(s))try{return(e||JSON.parse)(s),pe.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(s)}const ih={transitional:oy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",i=o.indexOf("application/json")>-1,r=pe.isObject(e);if(r&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(iy(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(o.indexOf("application/x-www-form-urlencoded")>-1)return U3(e,this.formSerializer).toString();if((l=pe.isFileList(e))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Wc(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),q3(e)):e}],transformResponse:[function(e){const t=this.transitional||ih.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(o&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?mt.from(l,mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vs.classes.FormData,Blob:Vs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],s=>{ih.headers[s]={}});const rh=ih,W3=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K3=s=>{const e={};let t,o,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),o=a.substring(i+1).trim(),!(!t||e[t]&&W3[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},_p=Symbol("internals");function oa(s){return s&&String(s).trim().toLowerCase()}function yd(s){return s===!1||s==null?s:pe.isArray(s)?s.map(yd):String(s)}function Y3(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(s);)e[o[1]]=o[2];return e}const G3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Uu(s,e,t,o,i){if(pe.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!pe.isString(e)){if(pe.isString(o))return e.indexOf(o)!==-1;if(pe.isRegExp(o))return o.test(e)}}function X3(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function J3(s,e){const t=pe.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+t,{value:function(i,r,a){return this[o].call(this,e,i,r,a)},configurable:!0})})}class Kc{constructor(e){e&&this.set(e)}set(e,t,o){const i=this;function r(l,d,u){const m=oa(d);if(!m)throw new Error("header name must be a non-empty string");const p=pe.findKey(i,m);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||d]=yd(l))}const a=(l,d)=>pe.forEach(l,(u,m)=>r(u,m,d));if(pe.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(pe.isString(e)&&(e=e.trim())&&!G3(e))a(K3(e),t);else if(pe.isObject(e)&&pe.isIterable(e)){let l={},d,u;for(const m of e){if(!pe.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[u=m[0]]=(d=l[u])?pe.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}a(l,t)}else e!=null&&r(t,e,o);return this}get(e,t){if(e=oa(e),e){const o=pe.findKey(this,e);if(o){const i=this[o];if(!t)return i;if(t===!0)return Y3(i);if(pe.isFunction(t))return t.call(this,i,o);if(pe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=oa(e),e){const o=pe.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||Uu(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let i=!1;function r(a){if(a=oa(a),a){const l=pe.findKey(o,a);l&&(!t||Uu(o,o[l],l,t))&&(delete o[l],i=!0)}}return pe.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let o=t.length,i=!1;for(;o--;){const r=t[o];(!e||Uu(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,o={};return pe.forEach(this,(i,r)=>{const a=pe.findKey(o,r);if(a){t[a]=yd(i),delete t[r];return}const l=e?X3(r):String(r).trim();l!==r&&delete t[r],t[l]=yd(i),o[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pe.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&pe.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[_p]=this[_p]={accessors:{}}).accessors,i=this.prototype;function r(a){const l=oa(a);o[l]||(J3(i,a),o[l]=!0)}return pe.isArray(e)?e.forEach(r):r(e),this}}Kc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Kc.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(o){this[t]=o}}});pe.freezeMethods(Kc);const Gn=Kc;function Vu(s,e){const t=this||rh,o=e||t,i=Gn.from(o.headers);let r=o.data;return pe.forEach(s,function(l){r=l.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function ry(s){return!!(s&&s.__CANCEL__)}function qr(s,e,t){mt.call(this,s??"canceled",mt.ERR_CANCELED,e,t),this.name="CanceledError"}pe.inherits(qr,mt,{__CANCEL__:!0});function ay(s,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?s(t):e(new mt("Request failed with status code "+t.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q3(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function Z3(s,e){s=s||10;const t=new Array(s),o=new Array(s);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(d){const u=Date.now(),m=o[r];a||(a=u),t[i]=d,o[i]=u;let p=r,h=0;for(;p!==i;)h+=t[p++],p=p%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),u-a<e)return;const _=m&&u-m;return _?Math.round(h*1e3/_):void 0}}function e6(s,e){let t=0,o=1e3/e,i,r;const a=(u,m=Date.now())=>{t=m,i=null,r&&(clearTimeout(r),r=null),s(...u)};return[(...u)=>{const m=Date.now(),p=m-t;p>=o?a(u,m):(i=u,r||(r=setTimeout(()=>{r=null,a(i)},o-p)))},()=>i&&a(i)]}const Xd=(s,e,t=3)=>{let o=0;const i=Z3(50,250);return e6(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,d=a-o,u=i(d),m=a<=l;o=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&m?(l-a)/u:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(p)},t)},vp=(s,e)=>{const t=s!=null;return[o=>e[0]({lengthComputable:t,total:s,loaded:o}),e[1]]},yp=s=>(...e)=>pe.asap(()=>s(...e)),t6=Vs.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,Vs.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(Vs.origin),Vs.navigator&&/(msie|trident)/i.test(Vs.navigator.userAgent)):()=>!0,s6=Vs.hasStandardBrowserEnv?{write(s,e,t,o,i,r){const a=[s+"="+encodeURIComponent(e)];pe.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),pe.isString(o)&&a.push("path="+o),pe.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n6(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function o6(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function ly(s,e,t){let o=!n6(e);return s&&(o||t==!1)?o6(s,e):e}const bp=s=>s instanceof Gn?{...s}:s;function Zi(s,e){e=e||{};const t={};function o(u,m,p,h){return pe.isPlainObject(u)&&pe.isPlainObject(m)?pe.merge.call({caseless:h},u,m):pe.isPlainObject(m)?pe.merge({},m):pe.isArray(m)?m.slice():m}function i(u,m,p,h){if(pe.isUndefined(m)){if(!pe.isUndefined(u))return o(void 0,u,p,h)}else return o(u,m,p,h)}function r(u,m){if(!pe.isUndefined(m))return o(void 0,m)}function a(u,m){if(pe.isUndefined(m)){if(!pe.isUndefined(u))return o(void 0,u)}else return o(void 0,m)}function l(u,m,p){if(p in e)return o(u,m);if(p in s)return o(void 0,u)}const d={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,m,p)=>i(bp(u),bp(m),p,!0)};return pe.forEach(Object.keys({...s,...e}),function(m){const p=d[m]||i,h=p(s[m],e[m],m);pe.isUndefined(h)&&p!==l||(t[m]=h)}),t}const dy=s=>{const e=Zi({},s);let{data:t,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:l}=e;if(e.headers=a=Gn.from(a),e.url=ny(ly(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),pe.isFormData(t)){if(Vs.hasStandardBrowserEnv||Vs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(pe.isFunction(t.getHeaders)){const d=t.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([m,p])=>{u.includes(m.toLowerCase())&&a.set(m,p)})}}if(Vs.hasStandardBrowserEnv&&(o&&pe.isFunction(o)&&(o=o(e)),o||o!==!1&&t6(e.url))){const d=i&&r&&s6.read(r);d&&a.set(i,d)}return e},i6=typeof XMLHttpRequest<"u",r6=i6&&function(s){return new Promise(function(t,o){const i=dy(s);let r=i.data;const a=Gn.from(i.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=i,m,p,h,_,y;function x(){_&&_(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function k(){if(!w)return;const M=Gn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:M,config:s,request:w};ay(function(T){t(T),x()},function(T){o(T),x()},N),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(o(new mt("Request aborted",mt.ECONNABORTED,s,w)),w=null)},w.onerror=function(S){const N=S&&S.message?S.message:"Network Error",A=new mt(N,mt.ERR_NETWORK,s,w);A.event=S||null,o(A),w=null},w.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||oy;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),o(new mt(S,N.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,s,w)),w=null},r===void 0&&a.setContentType(null),"setRequestHeader"in w&&pe.forEach(a.toJSON(),function(S,N){w.setRequestHeader(N,S)}),pe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),u&&([h,y]=Xd(u,!0),w.addEventListener("progress",h)),d&&w.upload&&([p,_]=Xd(d),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(m=M=>{w&&(o(!M||M.type?new qr(null,s,w):M),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const b=Q3(i.url);if(b&&Vs.protocols.indexOf(b)===-1){o(new mt("Unsupported protocol "+b+":",mt.ERR_BAD_REQUEST,s));return}w.send(r||null)})},a6=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let o=new AbortController,i;const r=function(u){if(!i){i=!0,l();const m=u instanceof Error?u:this.reason;o.abort(m instanceof mt?m:new qr(m instanceof Error?m.message:m))}};let a=e&&setTimeout(()=>{a=null,r(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),s=null)};s.forEach(u=>u.addEventListener("abort",r));const{signal:d}=o;return d.unsubscribe=()=>pe.asap(l),d}},l6=a6,d6=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let o=0,i;for(;o<t;)i=o+e,yield s.slice(o,i),o=i},c6=async function*(s,e){for await(const t of u6(s))yield*d6(t,e)},u6=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},xp=(s,e,t,o)=>{const i=c6(s,e);let r=0,a,l=d=>{a||(a=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:u,value:m}=await i.next();if(u){l(),d.close();return}let p=m.byteLength;if(t){let h=r+=p;t(h)}d.enqueue(new Uint8Array(m))}catch(u){throw l(u),u}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},wp=64*1024,{isFunction:Nl}=pe,f6=(({Request:s,Response:e})=>({Request:s,Response:e}))(pe.global),{ReadableStream:kp,TextEncoder:$p}=pe.global,Cp=(s,...e)=>{try{return!!s(...e)}catch{return!1}},m6=s=>{s=pe.merge.call({skipUndefined:!0},f6,s);const{fetch:e,Request:t,Response:o}=s,i=e?Nl(e):typeof fetch=="function",r=Nl(t),a=Nl(o);if(!i)return!1;const l=i&&Nl(kp),d=i&&(typeof $p=="function"?(y=>x=>y.encode(x))(new $p):async y=>new Uint8Array(await new t(y).arrayBuffer())),u=r&&l&&Cp(()=>{let y=!1;const x=new t(Vs.origin,{body:new kp,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),m=a&&l&&Cp(()=>pe.isReadableStream(new o("").body)),p={stream:m&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(x,w)=>{let k=x&&x[y];if(k)return k.call(x);throw new mt(`Response type '${y}' is not supported`,mt.ERR_NOT_SUPPORT,w)})});const h=async y=>{if(y==null)return 0;if(pe.isBlob(y))return y.size;if(pe.isSpecCompliantForm(y))return(await new t(Vs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(y)||pe.isArrayBuffer(y))return y.byteLength;if(pe.isURLSearchParams(y)&&(y=y+""),pe.isString(y))return(await d(y)).byteLength},_=async(y,x)=>{const w=pe.toFiniteNumber(y.getContentLength());return w??h(x)};return async y=>{let{url:x,method:w,data:k,signal:b,cancelToken:M,timeout:S,onDownloadProgress:N,onUploadProgress:A,responseType:T,headers:D,withCredentials:L="same-origin",fetchOptions:I}=dy(y),O=e||fetch;T=T?(T+"").toLowerCase():"text";let P=l6([b,M&&M.toAbortSignal()],S),B=null;const be=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let le;try{if(A&&u&&w!=="get"&&w!=="head"&&(le=await _(D,k))!==0){let Te=new t(x,{method:"POST",body:k,duplex:"half"}),se;if(pe.isFormData(k)&&(se=Te.headers.get("content-type"))&&D.setContentType(se),Te.body){const[ke,Ce]=vp(le,Xd(yp(A)));k=xp(Te.body,wp,ke,Ce)}}pe.isString(L)||(L=L?"include":"omit");const de=r&&"credentials"in t.prototype,ce={...I,signal:P,method:w.toUpperCase(),headers:D.normalize().toJSON(),body:k,duplex:"half",credentials:de?L:void 0};B=r&&new t(x,ce);let me=await(r?O(B,I):O(x,ce));const Z=m&&(T==="stream"||T==="response");if(m&&(N||Z&&be)){const Te={};["status","statusText","headers"].forEach(ue=>{Te[ue]=me[ue]});const se=pe.toFiniteNumber(me.headers.get("content-length")),[ke,Ce]=N&&vp(se,Xd(yp(N),!0))||[];me=new o(xp(me.body,wp,ke,()=>{Ce&&Ce(),be&&be()}),Te)}T=T||"text";let ie=await p[pe.findKey(p,T)||"text"](me,y);return!Z&&be&&be(),await new Promise((Te,se)=>{ay(Te,se,{data:ie,headers:Gn.from(me.headers),status:me.status,statusText:me.statusText,config:y,request:B})})}catch(de){throw be&&be(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,y,B),{cause:de.cause||de}):mt.from(de,de&&de.code,y,B)}}},h6=new Map,cy=s=>{let e=s?s.env:{};const{fetch:t,Request:o,Response:i}=e,r=[o,i,t];let a=r.length,l=a,d,u,m=h6;for(;l--;)d=r[l],u=m.get(d),u===void 0&&m.set(d,u=l?new Map:m6(e)),m=u;return u};cy();const tm={http:A3,xhr:r6,fetch:{get:cy}};pe.forEach(tm,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Sp=s=>`- ${s}`,p6=s=>pe.isFunction(s)||s===null||s===!1,uy={getAdapter:(s,e)=>{s=pe.isArray(s)?s:[s];const{length:t}=s;let o,i;const r={};for(let a=0;a<t;a++){o=s[a];let l;if(i=o,!p6(o)&&(i=tm[(l=String(o)).toLowerCase()],i===void 0))throw new mt(`Unknown adapter '${l}'`);if(i&&(pe.isFunction(i)||(i=i.get(e))))break;r[l||"#"+a]=i}if(!i){const a=Object.entries(r).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Sp).join(`
`):" "+Sp(a[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:tm};function Hu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new qr(null,s)}function Mp(s){return Hu(s),s.headers=Gn.from(s.headers),s.data=Vu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),uy.getAdapter(s.adapter||rh.adapter,s)(s).then(function(o){return Hu(s),o.data=Vu.call(s,s.transformResponse,o),o.headers=Gn.from(o.headers),o},function(o){return ry(o)||(Hu(s),o&&o.response&&(o.response.data=Vu.call(s,s.transformResponse,o.response),o.response.headers=Gn.from(o.response.headers))),Promise.reject(o)})}const fy="1.12.2",Yc={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Yc[s]=function(o){return typeof o===s||"a"+(e<1?"n ":" ")+s}});const Tp={};Yc.transitional=function(e,t,o){function i(r,a){return"[Axios v"+fy+"] Transitional option '"+r+"'"+a+(o?". "+o:"")}return(r,a,l)=>{if(e===!1)throw new mt(i(a," has been removed"+(t?" in "+t:"")),mt.ERR_DEPRECATED);return t&&!Tp[a]&&(Tp[a]=!0),e?e(r,a,l):!0}};Yc.spelling=function(e){return(t,o)=>!0};function g6(s,e,t){if(typeof s!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let i=o.length;for(;i-- >0;){const r=o[i],a=e[r];if(a){const l=s[r],d=l===void 0||a(l,r,s);if(d!==!0)throw new mt("option "+r+" must be "+d,mt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new mt("Unknown option "+r,mt.ERR_BAD_OPTION)}}const bd={assertOptions:g6,validators:Yc},no=bd.validators;class Jd{constructor(e){this.defaults=e||{},this.interceptors={request:new gp,response:new gp}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?r&&!String(o.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+r):o.stack=r}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Zi(this.defaults,t);const{transitional:o,paramsSerializer:i,headers:r}=t;o!==void 0&&bd.assertOptions(o,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),i!=null&&(pe.isFunction(i)?t.paramsSerializer={serialize:i}:bd.assertOptions(i,{encode:no.function,serialize:no.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bd.assertOptions(t,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&pe.merge(r.common,r[t.method]);r&&pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),t.headers=Gn.concat(a,r);const l=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(d=d&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let m,p=0,h;if(!d){const y=[Mp.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,m=Promise.resolve(t);p<h;)m=m.then(y[p++],y[p++]);return m}h=l.length;let _=t;for(;p<h;){const y=l[p++],x=l[p++];try{_=y(_)}catch(w){x.call(this,w);break}}try{m=Mp.call(this,_)}catch(y){return Promise.reject(y)}for(p=0,h=u.length;p<h;)m=m.then(u[p++],u[p++]);return m}getUri(e){e=Zi(this.defaults,e);const t=ly(e.baseURL,e.url,e.allowAbsoluteUrls);return ny(t,e.params,e.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(e){Jd.prototype[e]=function(t,o){return this.request(Zi(o||{},{method:e,url:t,data:(o||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function t(o){return function(r,a,l){return this.request(Zi(l||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Jd.prototype[e]=t(),Jd.prototype[e+"Form"]=t(!0)});const xd=Jd;class ah{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const o=this;this.promise.then(i=>{if(!o._listeners)return;let r=o._listeners.length;for(;r-- >0;)o._listeners[r](i);o._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(l=>{o.subscribe(l),r=l}).then(i);return a.cancel=function(){o.unsubscribe(r)},a},e(function(r,a,l){o.reason||(o.reason=new qr(r,a,l),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ah(function(i){e=i}),cancel:e}}}const _6=ah;function v6(s){return function(t){return s.apply(null,t)}}function y6(s){return pe.isObject(s)&&s.isAxiosError===!0}const sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sm).forEach(([s,e])=>{sm[e]=s});const b6=sm;function my(s){const e=new xd(s),t=qv(xd.prototype.request,e);return pe.extend(t,xd.prototype,e,{allOwnKeys:!0}),pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return my(Zi(s,i))},t}const hs=my(rh);hs.Axios=xd;hs.CanceledError=qr;hs.CancelToken=_6;hs.isCancel=ry;hs.VERSION=fy;hs.toFormData=Wc;hs.AxiosError=mt;hs.Cancel=hs.CanceledError;hs.all=function(e){return Promise.all(e)};hs.spread=v6;hs.isAxiosError=y6;hs.mergeConfig=Zi;hs.AxiosHeaders=Gn;hs.formToJSON=s=>iy(pe.isHTMLForm(s)?new FormData(s):s);hs.getAdapter=uy.getAdapter;hs.HttpStatusCode=b6;hs.default=hs;const tt=hs,ae=tt.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});ae.interceptors.response.use(s=>{const e=s.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):s},s=>{var t,o;((t=s.response)==null?void 0:t.status)===401&&(window.location.href="/login");const e=(o=s.response)==null?void 0:o.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):Promise.reject(s)});const gs=s=>mn(`form-${s}`,()=>{const e=Qe({}),t=Qe({}),o=Qe({}),i=F(!1),r=F(!1),a=F(""),l=F("post"),d=F(null),u=F([]);async function m(b,M){a.value=b,d.value=M||null,M?(l.value="put",await h(M)):await p()}async function p(){r.value=!0;try{const b=await ae.get(`${a.value}/create`);Array.isArray(b.data)?b.data.forEach(M=>{M.name&&M.value!==void 0&&(e[M.name]=M.value),M.name&&M.options&&M.options.length>0&&(o[M.name]=M.options)}):(b.data.options&&Object.assign(o,b.data.options),b.data.data&&Object.assign(e,b.data.data))}catch{}finally{r.value=!1}}async function h(b){r.value=!0,x();try{const M=await ae.get(`${a.value}/${b}/edit`);Array.isArray(M.data)?M.data.forEach(S=>{S.name&&S.value!==void 0&&(e[S.name]=S.value),S.name&&S.options&&S.options.length>0&&(o[S.name]=S.options)}):(Object.assign(e,M.data.data||M.data),M.data.options&&Object.assign(o,M.data.options))}catch{}finally{r.value=!1}}async function _(){var b,M;i.value=!0,x();try{const S=d.value?`${a.value}/${d.value}`:a.value,N=await ae[l.value](S,e);return i.value=!1,u.value.forEach(A=>A(N)),N}catch(S){throw i.value=!1,(M=(b=S.response)==null?void 0:b.data)!=null&&M.errors&&Object.assign(t,S.response.data.errors),S}}function y(b){u.value.push(b)}function x(){Object.keys(t).forEach(b=>delete t[b])}function w(b,M){e[b]=M}function k(){Object.keys(e).forEach(b=>delete e[b]),x(),i.value=!1,r.value=!1}return{data:e,errors:t,options:o,submitting:i,fetching:r,init:m,fetch:h,submit:_,onSuccess:y,clearErrors:x,setData:w,reset:k}}),Ft=mn("modals",()=>{const s=F([]),e=F(new Map);function t(a,l={}){s.value.push({component:Sr(a),payload:l})}function o(){const a=s.value.length-1,l=e.value.get(a);l&&(l(),e.value.delete(a)),s.value.pop()}function i(){s.value=[],e.value.clear()}function r(a){const l=s.value.length-1;e.value.set(l,a)}return{components:s,add:t,pop:o,clear:i,onHide:r}}),ks=s=>mn(`index-${s}`,()=>{const e=F([]),t=Qe({}),o=Qe({}),i=F(""),r=F("asc"),a=F(15),l=F(1),d=F(""),u=F(!1),m=Qe({}),p=De(()=>Object.entries(t).filter(([D,L])=>L!==""&&L!==null&&L!==void 0));function h(D,L){t[D]=L}function _(D){delete t[D]}function y(){Object.keys(t).forEach(D=>delete t[D])}function x(){y(),T()}function w(){return{...t}}function k(D,L="asc"){i.value=D,r.value=L}function b(D){i.value===D?r.value=r.value==="asc"?"desc":"asc":(i.value=D,r.value="asc")}function M(D){b(D),T()}function S(){y(),i.value="",r.value="asc",l.value=1}function N(D){Object.assign(m,D),D.uri&&(d.value=D.uri)}function A(){l.value=1,T()}async function T(){if(d.value){u.value=!0;try{const D={...t,...o,per_page:a.value,page:l.value};i.value&&(D.sort_by=i.value,D.sort_order=r.value);const L=await ae.get(d.value,{params:D});e.value=L.data}catch{}finally{u.value=!1}}}return{data:e,filters:t,params:o,sortBy:i,sortOrder:r,perPage:a,currentPage:l,uri:d,fetching:u,config:m,appliedFilters:p,setFilter:h,clearFilter:_,clearAllFilters:y,resetFilters:x,getFilters:w,setSort:k,toggleSort:b,sort:M,reset:S,setConfig:N,onSearch:A,fetch:T}}),wd=mn("confirm",()=>{const s=F(!1),e=F("Confirm"),t=F(""),o=F("Confirm"),i=F("Cancel"),r=F(!1),a=F(!1);let l=null,d=null;const u=De(()=>t.value),m=De(()=>o.value);function p(k){e.value=k.title||"Confirm",t.value=k.message,o.value=k.confirmText||"Confirm",i.value=k.cancelText||"Cancel",a.value=k.danger||!1,l=k.onConfirm||null,d=k.onCancel||null,s.value=!0}async function h(){if(l){r.value=!0;try{await l()}finally{r.value=!1}}x()}async function _(){return h()}function y(){d&&d(),x()}function x(){s.value=!1,a.value=!1,l=null,d=null}function w(){x()}return{isOpen:s,title:e,message:t,description:u,confirmText:o,button:m,cancelText:i,processing:r,danger:a,show:p,confirm:h,proceed:_,cancel:y,close:x,hide:w}}),Wn=mn("flash",()=>{const s=F([]);let e=0;const t=De(()=>s.value.length>0?s.value[0].message:""),o=De(()=>s.value.length>0?s.value[0].type:"info");function i(_,y="info",x=5e3){const w=e++,k={id:w,type:y,message:_,duration:x};return s.value.push(k),x>0&&setTimeout(()=>{m(w)},x),w}function r(_,y=5e3){return i(_,"success",y)}function a(_,y=5e3){return i(_,"error",y)}function l(_,y=5e3){return i(_,"warning",y)}function d(_,y=5e3){return i(_,"info",y)}function u(_,y=5e3){return i(_,"danger",y)}function m(_){const y=s.value.findIndex(x=>x.id===_);y>-1&&s.value.splice(y,1)}function p(){s.value.length>0&&m(s.value[0].id)}function h(){s.value=[]}return{messages:s,message:t,type:o,add:i,success:r,error:a,warning:l,info:d,danger:u,remove:m,hide:p,clear:h}}),Ap=mn("toast",()=>{const s=F([]);let e=0;function t(u,m="info",p=3e3){const h=e++,_={id:h,type:m,message:u,duration:p};return s.value.push(_),p>0&&setTimeout(()=>{l(h)},p),h}function o(u,m=3e3){return t(u,"success",m)}function i(u,m=3e3){return t(u,"error",m)}function r(u,m=3e3){return t(u,"warning",m)}function a(u,m=3e3){return t(u,"info",m)}function l(u){const m=s.value.findIndex(p=>p.id===u);m>-1&&s.value.splice(m,1)}function d(){s.value=[]}return{toasts:s,add:t,success:o,error:i,warning:r,info:a,remove:l,clear:d}}),x6=(s="tab")=>mn(`tab-${s}`,()=>{const e=F(0),t=F(0),o=F([]),i=De(()=>{var m;const u=typeof e.value=="number"?e.value:parseInt(e.value);return(m=o.value[u])==null?void 0:m.component});function r(u){t.value=u,e.value=u}function a(u){e.value=u,t.value=u}function l(u){o.value=u}function d(){t.value=0,e.value=0}return{active:e,activeTab:t,tabsList:o,tab:i,setTab:r,select:a,tabs:l,reset:d}});function w6(s){s.config.globalProperties.__=o=>{var i;return((i=ht.translations)==null?void 0:i[o])||o};const e=o=>{var i;return!o||ht.is_super_admin?!0:((i=ht.permissions)==null?void 0:i.includes(o))||!1},t=o=>!e(o);s.config.globalProperties.can=e,s.config.globalProperties.cannot=t,s.provide("can",e),s.provide("cannot",t),s.provide("__",s.config.globalProperties.__),s.provide("user",{...ht.user,is_super_admin:ht.is_super_admin})}const k6={install:w6};let zl;const Wr=mn("timer",{state:()=>({taskId:null,projectId:null,projectName:null,taskTitle:null,processing:!1,timers:[],isTimerRunning:!1,timerStartedAt:null,timerStoppedAt:null,currentTaskTimer:{h:0,m:0,s:0}}),actions:{start(s){this.stopPrev(),this.startTimer(),this.taskId=s.id,this.taskTitle=s.title,this.projectId=s.project_id,this.projectName=s.project.name,this.processing=!0,ae.post("time-logs",{taskId:this.taskId,projectId:this.projectId,start:!0,currentTime:this.timerStartedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1})},stop(){this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ae.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1}),this.taskId=null,this.projectId=null,this.projectName=null},stopPrev(){if(!this.taskId)return;this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ae.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(({data:t})=>{}).catch(()=>{this.processing=!1})},fetch(){ae.get("time-logs").then(s=>{this.timers=s.data;const e=s.data.find(t=>t.user.id==ht.user.id);if(e){this.taskId=e.task.id,this.taskTitle=e.task.title,this.projectId=e.task.project_id,this.projectName=e.task.project.name;const t=new Date(e.started_at_raw),i=Math.floor((new Date().getTime()-t.getTime())/1e3);this.setTimer(i),this.startTimer()}})},startTimer(){zl&&clearInterval(zl),zl=setInterval(()=>{this.currentTaskTimer.s++,this.currentTaskTimer.s>=60&&(this.currentTaskTimer.s=0,this.currentTaskTimer.m++,this.currentTaskTimer.m>=60&&(this.currentTaskTimer.m=0,this.currentTaskTimer.h++))},1e3),this.timerStartedAt=new Date,this.isTimerRunning=!0},stopTimer(){clearInterval(zl),this.timerStoppedAt=new Date,this.isTimerRunning=!1},setTimer(s){this.currentTaskTimer.s=Math.floor(s%60),this.currentTaskTimer.m=Math.floor(s%3600/60),this.currentTaskTimer.h=Math.floor(s/3600)}}}),$6={key:0,class:"flex items-center"},C6=["aria-label"],S6=ye({__name:"TimerCurrentUser",setup(s){const e=Wr();return(t,o)=>f(e).isTimerRunning?(g(),v("div",$6,[n("span",{class:"block cursor-pointer",onClick:o[0]||(o[0]=Ke((...i)=>f(e).stop&&f(e).stop(...i),["stop"]))},[C(f(Vr),{class:"h-[1.125rem] w-[1.125rem] text-red-600 hover:text-red-800"})]),n("p",{class:"ml-2 w-[4.500rem] text-base text-red-600","aria-label":`${f(e).taskTitle} (${f(e).projectName})`,"data-cooltipz-dir":"bottom"},c(f(e).currentTaskTimer.h.toString().padStart(2,"0"))+":"+c(f(e).currentTaskTimer.m.toString().padStart(2,"0"))+":"+c(f(e).currentTaskTimer.s.toString().padStart(2,"0")),9,C6)])):j("",!0)}}),M6={class:"w-full min-w-[18rem] max-w-sm rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-800"},T6={class:"flex items-center justify-between p-4 leading-8"},A6={class:"text-base font-medium text-gray-800 dark:text-gray-100"},D6={class:"grid grid-cols-7 px-2 pb-2"},E6=["onClick"],P6=ye({__name:"Calendar",props:{date:{}},emits:["selected"],setup(s){const e=s,t=e.date?new Date(e.date):new Date,o=F(t.getMonth()),i=F(t.getFullYear()),r=F(),a=F(t.getDate()),l=F(w()),d=F([]),u=["Su","Mo","Tu","We","Th","Fr","Sa"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h();function h(){const b=[];r.value=null,a.value=null;for(let M=1;M<=x();M++)b.push(M),M===t.getDate()&&o.value===t.getMonth()&&i.value===t.getFullYear()&&(a.value=M);d.value=b,l.value=w()}function _(){i.value=o.value===11?i.value+1:i.value,o.value=(o.value+1)%12,h()}function y(){i.value=o.value===0?i.value-1:i.value,o.value=o.value===0?11:o.value-1,h()}function x(){return new Date(i.value,o.value+1,0).getDate()}function w(){return new Date(i.value,o.value).getDay()}function k(b){r.value=b}return(b,M)=>(g(),v("div",M6,[n("div",T6,[n("h1",A6,c(b.__(m[o.value]))+" "+c(i.value),1),n("div",{class:"flex items-center text-gray-800 dark:text-gray-100"},[n("span",{class:"cursor-pointer hover:text-gray-500",onClick:y},[...M[0]||(M[0]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("polyline",{points:"15 6 9 12 15 18"})],-1)])]),n("span",{class:"cursor-pointer hover:text-gray-500",onClick:_},[...M[1]||(M[1]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-right ml-3",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("polyline",{points:"9 6 15 12 9 18"})],-1)])])])]),n("ol",D6,[(g(),v(re,null,ve(u,S=>n("li",{key:S,class:"pb-2 text-center text-sm font-medium text-gray-800"},c(S),1)),64)),l.value?(g(),v("li",{key:0,class:"flex items-center justify-center py-1",style:kt({gridColumnStart:l.value})},"  ",4)):j("",!0),(g(!0),v(re,null,ve(d.value,S=>(g(),v("li",{key:S,class:"flex items-center justify-center py-1"},[n("p",{class:Q(["flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-sm font-medium",{"bg-indigo-700 text-white":S==r.value,"text-gray-500 hover:bg-gray-200":S!=r.value,"bg-gray-200":S==a.value}]),onClick:N=>(k(S),b.$emit("selected",{day:("0"+S).slice(-2),month:("0"+(o.value+1)).slice(-2),year:i.value,date:`${i.value}-${("0"+(o.value+1)).slice(-2)}-${("0"+S).slice(-2)}`,label:`${p[o.value]} ${S}, ${i.value}`}))},c(S),11,E6)]))),128))])]))}}),lh=(s,e)=>{const t=s.__vccOpts||s;for(const[o,i]of e)t[o]=i;return t},j6={},R6={class:"rounded-lg bg-white shadow"};function I6(s,e){return g(),v("div",R6,[Ps(s.$slots,"default")])}const Lo=lh(j6,[["render",I6]]),Gc=ye({__name:"Collapsible",props:{open:{type:Boolean,default:!1}},setup(s){const t=F(s.open);return(o,i)=>(g(),v(re,null,[n("div",{onClick:i[0]||(i[0]=Ke(r=>t.value=!t.value,["prevent"]))},[Ps(o.$slots,"trigger",{open:t.value})]),t.value?Ps(o.$slots,"content",{key:0}):j("",!0)],64))}}),Ks=ye({__name:"Dropdown",props:{shouldClose:{type:Boolean},closeOutside:{type:Boolean},close:{type:Boolean}},emits:["toggle"],setup(s,{emit:e}){const t=s;Nr(()=>{t.shouldClose&&d()}),$t(()=>t.close,p=>{p&&d()});const o=F(!1),i=F(null),r=F(null),a=e;function l(){o.value=!o.value}$t(o,p=>{a("toggle",p),p?window.addEventListener("click",t.closeOutside?u:m,{capture:!0}):window.removeEventListener("click",t.closeOutside?u:m,{capture:!0})});function d(){o.value=!1}function u(p){const h=i.value;!h||h===p.target||p.composedPath().includes(h)||d()}function m(p){const h=i.value,_=r.value;(!_||_===p.target||p.composedPath().includes(_))&&d(),!(!h||h===p.target||p.composedPath().includes(h))&&d()}return(p,h)=>(g(),v("div",{ref_key:"target",ref:i,class:"relative"},[n("div",{onClick:Ke(l,["prevent"])},[Ps(p.$slots,"trigger")]),C(Rf,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:q(()=>[o.value?(g(),v("div",{key:0,ref_key:"content",ref:r},[Ps(p.$slots,"content")],512)):j("",!0)]),_:3})],512))}});function O6(){const s=Tc();s.isBlankPage=!0,Rm(()=>s.isBlankPage=!1)}const L6={class:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},F6={class:"mx-auto max-w-max"},N6={class:"sm:flex"},z6=["textContent"],B6={class:"sm:ml-6"},U6={class:"sm:border-l sm:border-gray-200 sm:pl-6"},V6=["textContent"],H6=["textContent"],hy=ye({__name:"ErrorPage",props:{code:{},heading:{},description:{}},setup(s){return O6(),(e,t)=>(g(),v("div",L6,[n("div",F6,[n("main",N6,[n("p",{class:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",textContent:c(s.code)},null,8,z6),n("div",B6,[n("div",U6,[n("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl",textContent:c(s.heading)},null,8,V6),n("p",{class:"mt-1 text-base text-gray-500",textContent:c(s.description)},null,8,H6)])])])])]))}}),Tn=ye({__name:"ModalBase",props:{width:{default:"max-w-2xl"}},emits:["close"],setup(s,{emit:e}){const t=e;function o(){t("close"),Ft().pop()}return(i,r)=>(g(),v("div",{class:"fixed inset-0 z-[250] flex min-h-screen items-center justify-center overflow-y-auto bg-gray-500 bg-opacity-75 p-4",onClick:o},[n("div",{class:Q(["modal-content relative w-full rounded-lg bg-white shadow-xl",[s.width]]),onClick:r[0]||(r[0]=Ke(()=>{},["stop"]))},[Ps(i.$slots,"default")],2)]))}}),q6={},W6={class:"animate-pulse px-6"};function K6(s,e){return g(),v(re,null,[n("div",W6,[(g(),v(re,null,ve(2,t=>n("div",{key:t,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},[...e[0]||(e[0]=[n("label",{class:"mr-16 h-4 rounded bg-gray-200 sm:mt-px sm:pt-2"},null,-1),n("div",{class:"h-4 rounded bg-gray-200 sm:col-span-2"},"",-1)])])),64))]),e[1]||(e[1]=n("div",{class:"sticky bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},[n("span",{class:"h-4 w-32 rounded bg-gray-300"},"")],-1))],64)}const py=lh(q6,[["render",K6]]),Y6=["width","height"],G6=["stroke-width"],X6=["stroke-width"],bt=ye({__name:"Loader",props:{size:{default:"40"},color:{default:"text-gray-800"},thick:{default:"4"}},setup(s){return(e,t)=>(g(),v("svg",{class:Q(["animate-spin stroke-current",s.color]),viewBox:"0 0 32 32",width:s.size,height:s.size},[n("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{opacity:"0.2"}},null,8,G6),n("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{"stroke-dasharray":"80","stroke-dashoffset":"60"}},null,8,X6)],10,Y6))}}),J6=["href"],Q6=["disabled"],Se=ye({__name:"TheButton",props:{href:{default:""},processing:{type:Boolean},disabled:{type:Boolean},white:{type:Boolean},danger:{type:Boolean},size:{default:"md"}},setup(s){const e=s;let t="inline-flex items-center border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",o={xs:" px-2.5 py-1.5 text-xs rounded",sm:" px-3 py-2 text-sm leading-4 rounded-md",md:" px-4 py-2 text-sm rounded-md",lg:" px-4 py-2 text-base rounded-md",xl:" px-6 py-3 text-base rounded-md"},i={xs:"16",sm:"16",md:"20",lg:"20",xl:"22"},r=" text-gray-700 border-gray-300 bg-white hover:bg-gray-50 focus:ring-indigo-500",a=" text-white border-transparent bg-red-600 hover:bg-red-700 focus:ring-red-500",l=" text-white border-transparent bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",d=e.white?"":"text-white",u=i[e.size];return e.white?t=t.concat(r,o[e.size]):e.danger?t=t.concat(a,o[e.size]):t=t.concat(l,o[e.size]),(m,p)=>s.href?(g(),v("a",{key:0,href:s.href,class:Q([f(t)])},[Ps(m.$slots,"default"),s.processing?(g(),ne(bt,{key:0,class:"ltr:ml-2 rtl:mr-2",size:f(u),color:f(d)},null,8,["size","color"])):j("",!0)],10,J6)):(g(),v("button",{key:1,class:Q([f(t)]),disabled:s.disabled||s.processing},[Ps(m.$slots,"default"),s.processing?(g(),ne(bt,{key:0,class:"ltr:ml-2 rtl:mr-2",size:f(u),color:f(d)},null,8,["size","color"])):j("",!0)],10,Q6))}}),Z6={key:1},eC={class:"px-6 pt-6"},tC={class:"text-xl font-semibold text-gray-900","data-cy":"page-title"},sC={class:"px-6"},nC={class:"grid grid-cols-12 gap-6 pt-3 pb-6"},oC={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},ls=ye({__name:"FormModal",props:{id:{},name:{},uri:{},title:{},size:{}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=De(()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full"})[t.size||"lg"]||"max-w-2xl"),r=De(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&Es("form_name",t.name);let a;return t.name&&t.uri?(a=gs(t.name)(),a.init(t.uri,t.id)):a={fetching:!1,submitting:!1,submit:()=>{}},(l,d)=>(g(),ne(Tn,{width:i.value,onClose:d[1]||(d[1]=u=>o("close"))},{default:q(()=>[s.name&&s.uri?(g(),v(re,{key:0},[f(a).fetching?(g(),ne(py,{key:0})):(g(),v("section",Z6,[n("div",eC,[n("h1",tC,c(s.title||(s.id?l.__(`Edit ${r.value}`):l.__(`Create ${r.value}`))),1)]),n("div",sC,[n("div",nC,[Ps(l.$slots,"default")])]),n("div",oC,[C(Se,{class:"mr-3",white:"",disabled:f(a).submitting,onClick:d[0]||(d[0]=u=>f(Ft)().pop())},{default:q(()=>[K(c(l.__("Cancel")),1)]),_:1},8,["disabled"]),C(Se,{"data-cy":"submit-button",processing:f(a).submitting,onClick:f(a).submit},{default:q(()=>[K(c(s.id?l.__(`Update ${r.value}`):l.__(`Create ${r.value}`)),1)]),_:1},8,["processing","onClick"])])]))],64)):Ps(l.$slots,"default",{key:1})]),_:3},8,["width"]))}}),iC={key:1},rC={key:0,class:"border-b border-gray-200 px-6 py-4"},aC={class:"text-lg font-semibold text-gray-900"},lC={class:"px-6 py-4"},dC={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},cC={key:0},uC={key:1},zo=ye({__name:"FormBase",props:{id:{},name:{},uri:{},title:{},saveOnly:{type:Boolean},buttonText:{},externalForm:{}},emits:["submit","cancel"],setup(s,{emit:e}){const t=s,o=e,i=De(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&Es("form_name",t.name);let r;t.externalForm?r=t.externalForm:t.name&&t.uri?(r=gs(t.name)(),r.init(t.uri)):r={fetching:!1,submitting:!1,submit:()=>o("submit")};const a=()=>{t.externalForm?o("cancel"):Ft().pop()};return(l,d)=>(g(),ne(f(Lo),null,{default:q(()=>[f(r).fetching?(g(),ne(py,{key:0})):(g(),v("section",iC,[l.$slots.title?(g(),v("div",rC,[n("h2",aC,[Ps(l.$slots,"title")])])):j("",!0),n("div",lC,[Ps(l.$slots,"default")]),n("div",dC,[s.saveOnly?j("",!0):(g(),ne(f(Se),{key:0,class:"mr-3",white:"",disabled:f(r).submitting,onClick:a},{default:q(()=>[K(c(l.__("Cancel")),1)]),_:1},8,["disabled"])),C(f(Se),{"data-cy":"submit-button",processing:f(r).submitting,onClick:f(r).submit},{default:q(()=>[s.saveOnly?(g(),v("span",cC,c(l.__("Save")),1)):(g(),v("span",uC,c(s.buttonText||(s.id?l.__("Update"):l.__("Create"))+" "+i.value),1))]),_:1},8,["processing","onClick"])])]))]),_:3}))}}),fC={class:"hidden sm:block"},mC={class:"text-sm text-gray-700"},hC={class:"font-medium text-gray-600"},pC={class:"font-medium text-gray-600"},gC={key:0,class:"flex flex-1 justify-between sm:justify-end"},ms=ye({__name:"IndexPagination",props:{index:{},classes:{default:"px-4 sm:px-6 border-t border-gray-200"}},setup(s){return(e,t)=>(g(),v("nav",{class:Q(["flex items-center justify-between bg-white py-3",[s.classes]]),"aria-label":"Pagination"},[n("div",fC,[n("p",mC,[K(c(e.__("Showing"))+" ",1),n("span",hC,c(s.index.data.from),1),K(" "+c(e.__("to"))+" ",1),n("span",pC,c(s.index.data.to),1)])]),s.index.data.next_page_url||s.index.data.prev_page_url?(g(),v("div",gC,[n("span",{class:Q(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",{"pointer-events-none opacity-50":!s.index.data.prev_page_url}]),onClick:t[0]||(t[0]=o=>s.index.prev())},c(e.__("Previous")),3),n("span",{class:Q(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ltr:ml-3 rtl:mr-3",{"pointer-events-none opacity-50":!s.index.data.next_page_url}]),onClick:t[1]||(t[1]=o=>s.index.next())},c(e.__("Next")),3)])):j("",!0)],2))}}),_C={key:0,class:"ml-2 font-bold text-white"},vC={class:"absolute z-30 mt-2 max-h-80 w-72 origin-top-left overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 shadow-lg ltr:left-0 rtl:right-0"},yC={class:"shadow-xs rounded-md bg-white",role:"menu","aria-orientation":"vertical","aria-labelledby":"filters"},bC=ye({__name:"IndexFilters",props:{name:{}},setup(s){const t=ks(s.name)();return(o,i)=>(g(),ne(f(Ks),{name:"filter",class:"ltr:ml-4 rtl:mr-4","close-outside":""},{trigger:q(()=>[n("button",{class:Q(["inline-flex justify-center rounded-md border border-gray-300 bg-white px-3.5 py-2 text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none",{"bg-gray-700 hover:bg-gray-700":f(t).appliedFilters.length}])},[C(f(p$),{class:Q(["w-5",f(t).appliedFilters.length?"text-white":"text-gray-400"])},null,8,["class"]),f(t).appliedFilters.length?(g(),v("span",_C,c(f(t).appliedFilters.length),1)):j("",!0)],2)]),content:q(()=>[n("div",vC,[n("div",yC,[f(t).appliedFilters.length?(g(),v("div",{key:0,class:"cursor-pointer border-b border-gray-200 bg-gray-50 py-2 text-center text-sm font-medium uppercase text-gray-600 hover:text-gray-400",onClick:i[0]||(i[0]=(...r)=>f(t).resetFilters&&f(t).resetFilters(...r))},c(o.__("Reset Filters")),1)):j("",!0),(g(!0),v(re,null,ve(f(t).filters,r=>(g(),ne(mo(r==null?void 0:r.component),{key:r==null?void 0:r.name,filter:r,name:s.name},null,8,["filter","name"]))),128))])])]),_:1}))}}),xC={class:"mt-6 text-center text-gray-500"},bl=ye({__name:"IndexNoData",props:{btnTo:{},btnText:{},noCreate:{type:Boolean}},setup(s){return(e,t)=>(g(),ne(Lo,{class:"px-6 py-16"},{default:q(()=>[t[0]||(t[0]=n("div",{class:"flex justify-center"},[n("svg",{width:"65",height:"51",viewBox:"0 0 65 51",class:"fill-current text-gray-400"},[n("path",{d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})])],-1)),n("p",xC,c(e.__("No record matched the given criteria.")),1)]),_:1}))}}),wC={class:"flex"},kC={key:0,class:"relative mb-4 w-64 rounded-md shadow-sm"},$C=["placeholder"],CC={key:0,class:"mt-8 flex justify-center"},SC=["data-cy"],dh=ye({__name:"IndexTable",props:{name:{},uri:{},filterUri:{default:""},shallowUri:{default:""},btnTo:{default:""},btnText:{default:""},noCreate:{type:Boolean},noFilters:{type:Boolean},noSearch:{type:Boolean},orderByDirection:{default:"desc"},searchColumn:{default:"name"}},setup(s){const e=s,t=ks(e.name)();return t.setConfig(e),t.fetch(),e.noFilters||t.getFilters(),(o,i)=>{var r;return g(),v(re,null,[n("div",wC,[s.noSearch?j("",!0):(g(),v("div",kC,[i[2]||(i[2]=n("div",{class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},[n("svg",{class:"h-5 w-5 text-gray-400","x-description":"Heroicon name: search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),z(n("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>f(t).params.search=a),type:"search",placeholder:o.__("Search"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:i[1]||(i[1]=(...a)=>f(t).onSearch&&f(t).onSearch(...a))},null,40,$C),[[J,f(t).params.search]])])),s.noFilters?j("",!0):(g(),ne(bC,{key:1,name:s.name},null,8,["name"]))]),f(t).fetching?(g(),v("div",CC,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",{key:1,"data-cy":s.name?"index-"+s.name:"index"},[(r=f(t).data)!=null&&r.length?Ps(o.$slots,"default",{key:1,index:f(t),items:f(t).data}):(g(),ne(bl,{key:0,"no-create":s.noCreate||o.cannot(`${s.name}:create`),"btn-text":s.btnText,"btn-to":s.btnTo},null,8,["no-create","btn-text","btn-to"]))],8,SC))],64)}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xl(s){return s+.5|0}const ei=(s,e,t)=>Math.max(Math.min(s,t),e);function ha(s){return ei(xl(s*2.55),0,255)}function ci(s){return ei(xl(s*255),0,255)}function So(s){return ei(xl(s/2.55)/100,0,1)}function Dp(s){return ei(xl(s*100),0,100)}const jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nm=[..."0123456789ABCDEF"],MC=s=>nm[s&15],TC=s=>nm[(s&240)>>4]+nm[s&15],Bl=s=>(s&240)>>4===(s&15),AC=s=>Bl(s.r)&&Bl(s.g)&&Bl(s.b)&&Bl(s.a);function DC(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&jn[s[1]]*17,g:255&jn[s[2]]*17,b:255&jn[s[3]]*17,a:e===5?jn[s[4]]*17:255}:(e===7||e===9)&&(t={r:jn[s[1]]<<4|jn[s[2]],g:jn[s[3]]<<4|jn[s[4]],b:jn[s[5]]<<4|jn[s[6]],a:e===9?jn[s[7]]<<4|jn[s[8]]:255})),t}const EC=(s,e)=>s<255?e(s):"";function PC(s){var e=AC(s)?MC:TC;return s?"#"+e(s.r)+e(s.g)+e(s.b)+EC(s.a,e):void 0}const jC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gy(s,e,t){const o=e*Math.min(t,1-t),i=(r,a=(r+s/30)%12)=>t-o*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function RC(s,e,t){const o=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[o(5),o(3),o(1)]}function IC(s,e,t){const o=gy(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)o[i]*=1-e-t,o[i]+=e;return o}function OC(s,e,t,o,i){return s===i?(e-t)/o+(e<t?6:0):e===i?(t-s)/o+2:(s-e)/o+4}function ch(s){const t=s.r/255,o=s.g/255,i=s.b/255,r=Math.max(t,o,i),a=Math.min(t,o,i),l=(r+a)/2;let d,u,m;return r!==a&&(m=r-a,u=l>.5?m/(2-r-a):m/(r+a),d=OC(t,o,i,m,r),d=d*60+.5),[d|0,u||0,l]}function uh(s,e,t,o){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,o)).map(ci)}function fh(s,e,t){return uh(gy,s,e,t)}function LC(s,e,t){return uh(IC,s,e,t)}function FC(s,e,t){return uh(RC,s,e,t)}function _y(s){return(s%360+360)%360}function NC(s){const e=jC.exec(s);let t=255,o;if(!e)return;e[5]!==o&&(t=e[6]?ha(+e[5]):ci(+e[5]));const i=_y(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?o=LC(i,r,a):e[1]==="hsv"?o=FC(i,r,a):o=fh(i,r,a),{r:o[0],g:o[1],b:o[2],a:t}}function zC(s,e){var t=ch(s);t[0]=_y(t[0]+e),t=fh(t),s.r=t[0],s.g=t[1],s.b=t[2]}function BC(s){if(!s)return;const e=ch(s),t=e[0],o=Dp(e[1]),i=Dp(e[2]);return s.a<255?`hsla(${t}, ${o}%, ${i}%, ${So(s.a)})`:`hsl(${t}, ${o}%, ${i}%)`}const Ep={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UC(){const s={},e=Object.keys(Pp),t=Object.keys(Ep);let o,i,r,a,l;for(o=0;o<e.length;o++){for(a=l=e[o],i=0;i<t.length;i++)r=t[i],l=l.replace(r,Ep[r]);r=parseInt(Pp[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Ul;function VC(s){Ul||(Ul=UC(),Ul.transparent=[0,0,0,0]);const e=Ul[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qC(s){const e=HC.exec(s);let t=255,o,i,r;if(e){if(e[7]!==o){const a=+e[7];t=e[8]?ha(a):ei(a*255,0,255)}return o=+e[1],i=+e[3],r=+e[5],o=255&(e[2]?ha(o):ei(o,0,255)),i=255&(e[4]?ha(i):ei(i,0,255)),r=255&(e[6]?ha(r):ei(r,0,255)),{r:o,g:i,b:r,a:t}}}function WC(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${So(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const qu=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,dr=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function KC(s,e,t){const o=dr(So(s.r)),i=dr(So(s.g)),r=dr(So(s.b));return{r:ci(qu(o+t*(dr(So(e.r))-o))),g:ci(qu(i+t*(dr(So(e.g))-i))),b:ci(qu(r+t*(dr(So(e.b))-r))),a:s.a+t*(e.a-s.a)}}function Vl(s,e,t){if(s){let o=ch(s);o[e]=Math.max(0,Math.min(o[e]+o[e]*t,e===0?360:1)),o=fh(o),s.r=o[0],s.g=o[1],s.b=o[2]}}function vy(s,e){return s&&Object.assign(e||{},s)}function jp(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=ci(s[3]))):(e=vy(s,{r:0,g:0,b:0,a:1}),e.a=ci(e.a)),e}function YC(s){return s.charAt(0)==="r"?qC(s):NC(s)}class tl{constructor(e){if(e instanceof tl)return e;const t=typeof e;let o;t==="object"?o=jp(e):t==="string"&&(o=DC(e)||VC(e)||YC(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=vy(this._rgb);return e&&(e.a=So(e.a)),e}set rgb(e){this._rgb=jp(e)}rgbString(){return this._valid?WC(this._rgb):void 0}hexString(){return this._valid?PC(this._rgb):void 0}hslString(){return this._valid?BC(this._rgb):void 0}mix(e,t){if(e){const o=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,d=o.a-i.a,u=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;r=1-u,o.r=255&u*o.r+r*i.r+.5,o.g=255&u*o.g+r*i.g+.5,o.b=255&u*o.b+r*i.b+.5,o.a=a*o.a+(1-a)*i.a,this.rgb=o}return this}interpolate(e,t){return e&&(this._rgb=KC(this._rgb,e._rgb,t)),this}clone(){return new tl(this.rgb)}alpha(e){return this._rgb.a=ci(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=xl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vl(this._rgb,2,e),this}darken(e){return Vl(this._rgb,2,-e),this}saturate(e){return Vl(this._rgb,1,e),this}desaturate(e){return Vl(this._rgb,1,-e),this}rotate(e){return zC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xo(){}const GC=(()=>{let s=0;return()=>s++})();function St(s){return s==null}function Gt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function yt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function es(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function wn(s,e){return es(s)?s:e}function pt(s,e){return typeof s>"u"?e:s}const XC=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,yy=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Wt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function It(s,e,t,o){let i,r,a;if(Gt(s))if(r=s.length,o)for(i=r-1;i>=0;i--)e.call(t,s[i],i);else for(i=0;i<r;i++)e.call(t,s[i],i);else if(yt(s))for(a=Object.keys(s),r=a.length,i=0;i<r;i++)e.call(t,s[a[i]],a[i])}function Qd(s,e){let t,o,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,o=s.length;t<o;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Zd(s){if(Gt(s))return s.map(Zd);if(yt(s)){const e=Object.create(null),t=Object.keys(s),o=t.length;let i=0;for(;i<o;++i)e[t[i]]=Zd(s[t[i]]);return e}return s}function by(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function JC(s,e,t,o){if(!by(s))return;const i=e[s],r=t[s];yt(i)&&yt(r)?sl(i,r,o):e[s]=Zd(r)}function sl(s,e,t){const o=Gt(e)?e:[e],i=o.length;if(!yt(s))return s;t=t||{};const r=t.merger||JC;let a;for(let l=0;l<i;++l){if(a=o[l],!yt(a))continue;const d=Object.keys(a);for(let u=0,m=d.length;u<m;++u)r(d[u],s,a,t)}return s}function Ra(s,e){return sl(s,e,{merger:QC})}function QC(s,e,t){if(!by(s))return;const o=e[s],i=t[s];yt(o)&&yt(i)?Ra(o,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Zd(i))}const Rp={"":s=>s,x:s=>s.x,y:s=>s.y};function ZC(s){const e=s.split("."),t=[];let o="";for(const i of e)o+=i,o.endsWith("\\")?o=o.slice(0,-1)+".":(t.push(o),o="");return t}function e8(s){const e=ZC(s);return t=>{for(const o of e){if(o==="")break;t=t&&t[o]}return t}}function er(s,e){return(Rp[e]||(Rp[e]=e8(e)))(s)}function mh(s){return s.charAt(0).toUpperCase()+s.slice(1)}const nl=s=>typeof s<"u",mi=s=>typeof s=="function",Ip=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function t8(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Lt=Math.PI,Kt=2*Lt,s8=Kt+Lt,ec=Number.POSITIVE_INFINITY,n8=Lt/180,is=Lt/2,Ai=Lt/4,Op=Lt*2/3,ti=Math.log10,ho=Math.sign;function Ia(s,e,t){return Math.abs(s-e)<t}function Lp(s){const e=Math.round(s);s=Ia(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(ti(s))),o=s/t;return(o<=1?1:o<=2?2:o<=5?5:10)*t}function o8(s){const e=[],t=Math.sqrt(s);let o;for(o=1;o<t;o++)s%o===0&&(e.push(o),e.push(s/o));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function i8(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function ol(s){return!i8(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function r8(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function xy(s,e,t){let o,i,r;for(o=0,i=s.length;o<i;o++)r=s[o][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function fo(s){return s*(Lt/180)}function hh(s){return s*(180/Lt)}function Fp(s){if(!es(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function wy(s,e){const t=e.x-s.x,o=e.y-s.y,i=Math.sqrt(t*t+o*o);let r=Math.atan2(o,t);return r<-.5*Lt&&(r+=Kt),{angle:r,distance:i}}function om(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function a8(s,e){return(s-e+s8)%Kt-Lt}function Ns(s){return(s%Kt+Kt)%Kt}function il(s,e,t,o){const i=Ns(s),r=Ns(e),a=Ns(t),l=Ns(r-i),d=Ns(a-i),u=Ns(i-r),m=Ns(i-a);return i===r||i===a||o&&r===a||l>d&&u<m}function Hs(s,e,t){return Math.max(e,Math.min(t,s))}function l8(s){return Hs(s,-32768,32767)}function Do(s,e,t,o=1e-6){return s>=Math.min(e,t)-o&&s<=Math.max(e,t)+o}function ph(s,e,t){t=t||(a=>s[a]<e);let o=s.length-1,i=0,r;for(;o-i>1;)r=i+o>>1,t(r)?i=r:o=r;return{lo:i,hi:o}}const qi=(s,e,t,o)=>ph(s,t,o?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),d8=(s,e,t)=>ph(s,t,o=>s[o][e]>=t);function c8(s,e,t){let o=0,i=s.length;for(;o<i&&s[o]<e;)o++;for(;i>o&&s[i-1]>t;)i--;return o>0||i<s.length?s.slice(o,i):s}const ky=["push","pop","shift","splice","unshift"];function u8(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ky.forEach(t=>{const o="_onData"+mh(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[o]=="function"&&l[o](...r)}),a}})})}function Np(s,e){const t=s._chartjs;if(!t)return;const o=t.listeners,i=o.indexOf(e);i!==-1&&o.splice(i,1),!(o.length>0)&&(ky.forEach(r=>{delete s[r]}),delete s._chartjs)}function $y(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Cy=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Sy(s,e){let t=[],o=!1;return function(...i){t=i,o||(o=!0,Cy.call(window,()=>{o=!1,s.apply(e,t)}))}}function f8(s,e){let t;return function(...o){return e?(clearTimeout(t),t=setTimeout(s,e,o)):s.apply(this,o),e}}const My=s=>s==="start"?"left":s==="end"?"right":"center",bn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,m8=(s,e,t,o)=>s===(o?"left":"right")?t:s==="center"?(e+t)/2:e;function h8(s,e,t){const o=e.length;let i=0,r=o;if(s._sorted){const{iScale:a,vScale:l,_parsed:d}=s,u=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,m=a.axis,{min:p,max:h,minDefined:_,maxDefined:y}=a.getUserBounds();if(_){if(i=Math.min(qi(d,m,p).lo,t?o:qi(e,m,a.getPixelForValue(p)).lo),u){const x=d.slice(0,i+1).reverse().findIndex(w=>!St(w[l.axis]));i-=Math.max(0,x)}i=Hs(i,0,o-1)}if(y){let x=Math.max(qi(d,a.axis,h,!0).hi+1,t?0:qi(e,m,a.getPixelForValue(h),!0).hi+1);if(u){const w=d.slice(x-1).findIndex(k=>!St(k[l.axis]));x+=Math.max(0,w)}r=Hs(x,i,o)-i}else r=o-i}return{start:i,count:r}}function p8(s){const{xScale:e,yScale:t,_scaleRanges:o}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!o)return s._scaleRanges=i,!0;const r=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==t.min||o.ymax!==t.max;return Object.assign(o,i),r}const Hl=s=>s===0||s===1,zp=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Kt/t)),Bp=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Kt/t)+1,Oa={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*is)+1,easeOutSine:s=>Math.sin(s*is),easeInOutSine:s=>-.5*(Math.cos(Lt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Hl(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Hl(s)?s:zp(s,.075,.3),easeOutElastic:s=>Hl(s)?s:Bp(s,.075,.3),easeInOutElastic(s){return Hl(s)?s:s<.5?.5*zp(s*2,.1125,.45):.5+.5*Bp(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Oa.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Oa.easeInBounce(s*2)*.5:Oa.easeOutBounce(s*2-1)*.5+.5};function gh(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Up(s){return gh(s)?s:new tl(s)}function Wu(s){return gh(s)?s:new tl(s).saturate(.5).darken(.1).hexString()}const g8=["x","y","borderWidth","radius","tension"],_8=["color","borderColor","backgroundColor"];function v8(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:_8},numbers:{type:"number",properties:g8}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function y8(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vp=new Map;function b8(s,e){e=e||{};const t=s+JSON.stringify(e);let o=Vp.get(t);return o||(o=new Intl.NumberFormat(s,e),Vp.set(t,o)),o}function Xc(s,e,t){return b8(e,t).format(s)}const Ty={values(s){return Gt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const o=this.chart.options.locale;let i,r=s;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=x8(s,t)}const a=ti(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Xc(s,o,d)},logarithmic(s,e,t){if(s===0)return"0";const o=t[e].significand||s/Math.pow(10,Math.floor(ti(s)));return[1,2,3,5,10,15].includes(o)||e>.8*t.length?Ty.numeric.call(this,s,e,t):""}};function x8(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Jc={formatters:Ty};function w8(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const tr=Object.create(null),im=Object.create(null);function La(s,e){if(!e)return s;const t=e.split(".");for(let o=0,i=t.length;o<i;++o){const r=t[o];s=s[r]||(s[r]=Object.create(null))}return s}function Ku(s,e,t){return typeof e=="string"?sl(La(s,e),t):sl(La(s,""),e)}class k8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,i)=>Wu(i.backgroundColor),this.hoverBorderColor=(o,i)=>Wu(i.borderColor),this.hoverColor=(o,i)=>Wu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ku(this,e,t)}get(e){return La(this,e)}describe(e,t){return Ku(im,e,t)}override(e,t){return Ku(tr,e,t)}route(e,t,o,i){const r=La(this,e),a=La(this,o),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[l],u=a[i];return yt(d)?Object.assign({},u,d):pt(d,u)},set(d){this[l]=d}}})}apply(e){e.forEach(t=>t(this))}}var ts=new k8({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v8,y8,w8]);function $8(s){return!s||St(s.size)||St(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function tc(s,e,t,o,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>o&&(o=r),o}function C8(s,e,t,o){o=o||{};let i=o.data=o.data||{},r=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(i=o.data={},r=o.garbageCollect=[],o.font=e),s.save(),s.font=e;let a=0;const l=t.length;let d,u,m,p,h;for(d=0;d<l;d++)if(p=t[d],p!=null&&!Gt(p))a=tc(s,i,r,a,p);else if(Gt(p))for(u=0,m=p.length;u<m;u++)h=p[u],h!=null&&!Gt(h)&&(a=tc(s,i,r,a,h));s.restore();const _=r.length/2;if(_>t.length){for(d=0;d<_;d++)delete i[r[d]];r.splice(0,_)}return a}function Di(s,e,t){const o=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*o)/o+i}function Hp(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function rm(s,e,t,o){Ay(s,e,t,o,null)}function Ay(s,e,t,o,i){let r,a,l,d,u,m,p,h;const _=e.pointStyle,y=e.rotation,x=e.radius;let w=(y||0)*n8;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,o),s.rotate(w),s.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),s.restore();return}if(!(isNaN(x)||x<=0)){switch(s.beginPath(),_){default:i?s.ellipse(t,o,i/2,x,0,0,Kt):s.arc(t,o,x,0,Kt),s.closePath();break;case"triangle":m=i?i/2:x,s.moveTo(t+Math.sin(w)*m,o-Math.cos(w)*x),w+=Op,s.lineTo(t+Math.sin(w)*m,o-Math.cos(w)*x),w+=Op,s.lineTo(t+Math.sin(w)*m,o-Math.cos(w)*x),s.closePath();break;case"rectRounded":u=x*.516,d=x-u,a=Math.cos(w+Ai)*d,p=Math.cos(w+Ai)*(i?i/2-u:d),l=Math.sin(w+Ai)*d,h=Math.sin(w+Ai)*(i?i/2-u:d),s.arc(t-p,o-l,u,w-Lt,w-is),s.arc(t+h,o-a,u,w-is,w),s.arc(t+p,o+l,u,w,w+is),s.arc(t-h,o+a,u,w+is,w+Lt),s.closePath();break;case"rect":if(!y){d=Math.SQRT1_2*x,m=i?i/2:d,s.rect(t-m,o-d,2*m,2*d);break}w+=Ai;case"rectRot":p=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,h=Math.sin(w)*(i?i/2:x),s.moveTo(t-p,o-l),s.lineTo(t+h,o-a),s.lineTo(t+p,o+l),s.lineTo(t-h,o+a),s.closePath();break;case"crossRot":w+=Ai;case"cross":p=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,h=Math.sin(w)*(i?i/2:x),s.moveTo(t-p,o-l),s.lineTo(t+p,o+l),s.moveTo(t+h,o-a),s.lineTo(t-h,o+a);break;case"star":p=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,h=Math.sin(w)*(i?i/2:x),s.moveTo(t-p,o-l),s.lineTo(t+p,o+l),s.moveTo(t+h,o-a),s.lineTo(t-h,o+a),w+=Ai,p=Math.cos(w)*(i?i/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,h=Math.sin(w)*(i?i/2:x),s.moveTo(t-p,o-l),s.lineTo(t+p,o+l),s.moveTo(t+h,o-a),s.lineTo(t-h,o+a);break;case"line":a=i?i/2:Math.cos(w)*x,l=Math.sin(w)*x,s.moveTo(t-a,o-l),s.lineTo(t+a,o+l);break;case"dash":s.moveTo(t,o),s.lineTo(t+Math.cos(w)*(i?i/2:x),o+Math.sin(w)*x);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Eo(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Qc(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Zc(s){s.restore()}function S8(s,e,t,o,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!o?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function M8(s,e,t,o){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?t.cp2x:t.cp1x,o?t.cp2y:t.cp1y,t.x,t.y)}function T8(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),St(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function A8(s,e,t,o,i){if(i.strikethrough||i.underline){const r=s.measureText(o),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,d=t-r.actualBoundingBoxAscent,u=t+r.actualBoundingBoxDescent,m=i.strikethrough?(d+u)/2:u;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(a,m),s.lineTo(l,m),s.stroke()}}function D8(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Rr(s,e,t,o,i,r={}){const a=Gt(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let d,u;for(s.save(),s.font=i.string,T8(s,r),d=0;d<a.length;++d)u=a[d],r.backdrop&&D8(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),St(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(u,t,o,r.maxWidth)),s.fillText(u,t,o,r.maxWidth),A8(s,t,o,u,r),o+=Number(i.lineHeight);s.restore()}function rl(s,e){const{x:t,y:o,w:i,h:r,radius:a}=e;s.arc(t+a.topLeft,o+a.topLeft,a.topLeft,1.5*Lt,Lt,!0),s.lineTo(t,o+r-a.bottomLeft),s.arc(t+a.bottomLeft,o+r-a.bottomLeft,a.bottomLeft,Lt,is,!0),s.lineTo(t+i-a.bottomRight,o+r),s.arc(t+i-a.bottomRight,o+r-a.bottomRight,a.bottomRight,is,0,!0),s.lineTo(t+i,o+a.topRight),s.arc(t+i-a.topRight,o+a.topRight,a.topRight,0,-is,!0),s.lineTo(t+a.topLeft,o)}const E8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j8(s,e){const t=(""+s).match(E8);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const R8=s=>+s||0;function _h(s,e){const t={},o=yt(e),i=o?Object.keys(e):e,r=yt(s)?o?a=>pt(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of i)t[a]=R8(r(a));return t}function Dy(s){return _h(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Yi(s){return _h(s,["topLeft","topRight","bottomLeft","bottomRight"])}function tn(s){const e=Dy(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ds(s,e){s=s||{},e=e||ts.font;let t=pt(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let o=pt(s.style,e.style);o&&!(""+o).match(P8)&&(o=void 0);const i={family:pt(s.family,e.family),lineHeight:j8(pt(s.lineHeight,e.lineHeight),t),size:t,style:o,weight:pt(s.weight,e.weight),string:""};return i.string=$8(i),i}function ql(s,e,t,o){let i=!0,r,a,l;for(r=0,a=s.length;r<a;++r)if(l=s[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),i=!1),t!==void 0&&Gt(l)&&(l=l[t%l.length],i=!1),l!==void 0))return o&&!i&&(o.cacheable=!1),l}function I8(s,e,t){const{min:o,max:i}=s,r=yy(e,(i-o)/2),a=(l,d)=>t&&l===0?0:l+d;return{min:a(o,-Math.abs(r)),max:a(i,r)}}function yi(s,e){return Object.assign(Object.create(s),e)}function vh(s,e=[""],t,o,i=()=>s[0]){const r=t||s;typeof o>"u"&&(o=Ry("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:o,_getTarget:i,override:l=>vh([l,...s],e,r,o)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete s[0][d],!0},get(l,d){return Py(l,d,()=>V8(d,e,s,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,d){return Wp(l).includes(d)},ownKeys(l){return Wp(l)},set(l,d,u){const m=l._storage||(l._storage=i());return l[d]=m[d]=u,delete l._keys,!0}})}function Ir(s,e,t,o){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Ey(s,o),setContext:r=>Ir(s,r,t,o),override:r=>Ir(s.override(r),e,t,o)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return Py(r,a,()=>L8(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function Ey(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:o=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:o,isScriptable:mi(t)?t:()=>t,isIndexable:mi(o)?o:()=>o}}const O8=(s,e)=>s?s+mh(e):e,yh=(s,e)=>yt(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Py(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const o=t();return s[e]=o,o}function L8(s,e,t){const{_proxy:o,_context:i,_subProxy:r,_descriptors:a}=s;let l=o[e];return mi(l)&&a.isScriptable(e)&&(l=F8(e,l,s,t)),Gt(l)&&l.length&&(l=N8(e,l,s,a.isIndexable)),yh(e,l)&&(l=Ir(l,i,r&&r[e],a)),l}function F8(s,e,t,o){const{_proxy:i,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let d=e(r,a||o);return l.delete(s),yh(s,d)&&(d=bh(i._scopes,i,s,d)),d}function N8(s,e,t,o){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&o(s))return e[r.index%e.length];if(yt(e[0])){const d=e,u=i._scopes.filter(m=>m!==d);e=[];for(const m of d){const p=bh(u,i,s,m);e.push(Ir(p,r,a&&a[s],l))}}return e}function jy(s,e,t){return mi(s)?s(e,t):s}const z8=(s,e)=>s===!0?e:typeof s=="string"?er(e,s):void 0;function B8(s,e,t,o,i){for(const r of e){const a=z8(t,r);if(a){s.add(a);const l=jy(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==o)return l}else if(a===!1&&typeof o<"u"&&t!==o)return null}return!1}function bh(s,e,t,o){const i=e._rootScopes,r=jy(e._fallback,t,o),a=[...s,...i],l=new Set;l.add(o);let d=qp(l,a,t,r||t,o);return d===null||typeof r<"u"&&r!==t&&(d=qp(l,a,r,d,o),d===null)?!1:vh(Array.from(l),[""],i,r,()=>U8(e,t,o))}function qp(s,e,t,o,i){for(;t;)t=B8(s,e,t,o,i);return t}function U8(s,e,t){const o=s._getTarget();e in o||(o[e]={});const i=o[e];return Gt(i)&&yt(t)?t:i||{}}function V8(s,e,t,o){let i;for(const r of e)if(i=Ry(O8(r,s),t),typeof i<"u")return yh(s,i)?bh(t,o,s,i):i}function Ry(s,e){for(const t of e){if(!t)continue;const o=t[s];if(typeof o<"u")return o}}function Wp(s){let e=s._keys;return e||(e=s._keys=H8(s._scopes)),e}function H8(s){const e=new Set;for(const t of s)for(const o of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(o);return Array.from(e)}const q8=Number.EPSILON||1e-14,Or=(s,e)=>e<s.length&&!s[e].skip&&s[e],Iy=s=>s==="x"?"y":"x";function W8(s,e,t,o){const i=s.skip?e:s,r=e,a=t.skip?e:t,l=om(r,i),d=om(a,r);let u=l/(l+d),m=d/(l+d);u=isNaN(u)?0:u,m=isNaN(m)?0:m;const p=o*u,h=o*m;return{previous:{x:r.x-p*(a.x-i.x),y:r.y-p*(a.y-i.y)},next:{x:r.x+h*(a.x-i.x),y:r.y+h*(a.y-i.y)}}}function K8(s,e,t){const o=s.length;let i,r,a,l,d,u=Or(s,0);for(let m=0;m<o-1;++m)if(d=u,u=Or(s,m+1),!(!d||!u)){if(Ia(e[m],0,q8)){t[m]=t[m+1]=0;continue}i=t[m]/e[m],r=t[m+1]/e[m],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[m]=i*a*e[m],t[m+1]=r*a*e[m])}}function Y8(s,e,t="x"){const o=Iy(t),i=s.length;let r,a,l,d=Or(s,0);for(let u=0;u<i;++u){if(a=l,l=d,d=Or(s,u+1),!l)continue;const m=l[t],p=l[o];a&&(r=(m-a[t])/3,l[`cp1${t}`]=m-r,l[`cp1${o}`]=p-r*e[u]),d&&(r=(d[t]-m)/3,l[`cp2${t}`]=m+r,l[`cp2${o}`]=p+r*e[u])}}function G8(s,e="x"){const t=Iy(e),o=s.length,i=Array(o).fill(0),r=Array(o);let a,l,d,u=Or(s,0);for(a=0;a<o;++a)if(l=d,d=u,u=Or(s,a+1),!!d){if(u){const m=u[e]-d[e];i[a]=m!==0?(u[t]-d[t])/m:0}r[a]=l?u?ho(i[a-1])!==ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}K8(s,i,r),Y8(s,r,e)}function Wl(s,e,t){return Math.max(Math.min(s,t),e)}function X8(s,e){let t,o,i,r,a,l=Eo(s[0],e);for(t=0,o=s.length;t<o;++t)a=r,r=l,l=t<o-1&&Eo(s[t+1],e),r&&(i=s[t],a&&(i.cp1x=Wl(i.cp1x,e.left,e.right),i.cp1y=Wl(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Wl(i.cp2x,e.left,e.right),i.cp2y=Wl(i.cp2y,e.top,e.bottom)))}function J8(s,e,t,o,i){let r,a,l,d;if(e.spanGaps&&(s=s.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")G8(s,i);else{let u=o?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],d=W8(u,l,s[Math.min(r+1,a-(o?0:1))%a],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,u=l}e.capBezierPoints&&X8(s,t)}function xh(){return typeof window<"u"&&typeof document<"u"}function wh(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sc(s,e,t){let o;return typeof s=="string"?(o=parseInt(s,10),s.indexOf("%")!==-1&&(o=o/100*e.parentNode[t])):o=s,o}const eu=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Q8(s,e){return eu(s).getPropertyValue(e)}const Z8=["top","right","bottom","left"];function Gi(s,e,t){const o={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=Z8[i];o[r]=parseFloat(s[e+"-"+r+t])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const e7=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function t7(s,e){const t=s.touches,o=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=o;let a=!1,l,d;if(e7(i,r,s.target))l=i,d=r;else{const u=e.getBoundingClientRect();l=o.clientX-u.left,d=o.clientY-u.top,a=!0}return{x:l,y:d,box:a}}function Li(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:o}=e,i=eu(t),r=i.boxSizing==="border-box",a=Gi(i,"padding"),l=Gi(i,"border","width"),{x:d,y:u,box:m}=t7(s,t),p=a.left+(m&&l.left),h=a.top+(m&&l.top);let{width:_,height:y}=e;return r&&(_-=a.width+l.width,y-=a.height+l.height),{x:Math.round((d-p)/_*t.width/o),y:Math.round((u-h)/y*t.height/o)}}function s7(s,e,t){let o,i;if(e===void 0||t===void 0){const r=s&&wh(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=eu(r),d=Gi(l,"border","width"),u=Gi(l,"padding");e=a.width-u.width-d.width,t=a.height-u.height-d.height,o=sc(l.maxWidth,r,"clientWidth"),i=sc(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:o||ec,maxHeight:i||ec}}const si=s=>Math.round(s*10)/10;function n7(s,e,t,o){const i=eu(s),r=Gi(i,"margin"),a=sc(i.maxWidth,s,"clientWidth")||ec,l=sc(i.maxHeight,s,"clientHeight")||ec,d=s7(s,e,t);let{width:u,height:m}=d;if(i.boxSizing==="content-box"){const h=Gi(i,"border","width"),_=Gi(i,"padding");u-=_.width+h.width,m-=_.height+h.height}return u=Math.max(0,u-r.width),m=Math.max(0,o?u/o:m-r.height),u=si(Math.min(u,a,d.maxWidth)),m=si(Math.min(m,l,d.maxHeight)),u&&!m&&(m=si(u/2)),(e!==void 0||t!==void 0)&&o&&d.height&&m>d.height&&(m=d.height,u=si(Math.floor(m*o))),{width:u,height:m}}function Kp(s,e,t){const o=e||1,i=si(s.height*o),r=si(s.width*o);s.height=si(s.height),s.width=si(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==o||a.height!==i||a.width!==r?(s.currentDevicePixelRatio=o,a.height=i,a.width=r,s.ctx.setTransform(o,0,0,o,0,0),!0):!1}const o7=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};xh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function Yp(s,e){const t=Q8(s,e),o=t&&t.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Fi(s,e,t,o){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function i7(s,e,t,o){return{x:s.x+t*(e.x-s.x),y:o==="middle"?t<.5?s.y:e.y:o==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function r7(s,e,t,o){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=Fi(s,i,t),l=Fi(i,r,t),d=Fi(r,e,t),u=Fi(a,l,t),m=Fi(l,d,t);return Fi(u,m,t)}const a7=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,o){return t-o},leftForLtr(t,o){return t-o}}},l7=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function wr(s,e,t){return s?a7(e,t):l7()}function Oy(s,e){let t,o;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,o=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=o)}function Ly(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Fy(s){return s==="angle"?{between:il,compare:a8,normalize:Ns}:{between:Do,compare:(e,t)=>e-t,normalize:e=>e}}function Gp({start:s,end:e,count:t,loop:o,style:i}){return{start:s%t,end:e%t,loop:o&&(e-s+1)%t===0,style:i}}function d7(s,e,t){const{property:o,start:i,end:r}=t,{between:a,normalize:l}=Fy(o),d=e.length;let{start:u,end:m,loop:p}=s,h,_;if(p){for(u+=d,m+=d,h=0,_=d;h<_&&a(l(e[u%d][o]),i,r);++h)u--,m--;u%=d,m%=d}return m<u&&(m+=d),{start:u,end:m,loop:p,style:s.style}}function Ny(s,e,t){if(!t)return[s];const{property:o,start:i,end:r}=t,a=e.length,{compare:l,between:d,normalize:u}=Fy(o),{start:m,end:p,loop:h,style:_}=d7(s,e,t),y=[];let x=!1,w=null,k,b,M;const S=()=>d(i,M,k)&&l(i,M)!==0,N=()=>l(r,k)===0||d(r,M,k),A=()=>x||S(),T=()=>!x||N();for(let D=m,L=m;D<=p;++D)b=e[D%a],!b.skip&&(k=u(b[o]),k!==M&&(x=d(k,i,r),w===null&&A()&&(w=l(k,i)===0?D:L),w!==null&&T()&&(y.push(Gp({start:w,end:D,loop:h,count:a,style:_})),w=null),L=D,M=k));return w!==null&&y.push(Gp({start:w,end:p,loop:h,count:a,style:_})),y}function zy(s,e){const t=[],o=s.segments;for(let i=0;i<o.length;i++){const r=Ny(o[i],s.points,e);r.length&&t.push(...r)}return t}function c7(s,e,t,o){let i=0,r=e-1;if(t&&!o)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function u7(s,e,t,o){const i=s.length,r=[];let a=e,l=s[e],d;for(d=e+1;d<=t;++d){const u=s[d%i];u.skip||u.stop?l.skip||(o=!1,r.push({start:e%i,end:(d-1)%i,loop:o}),e=a=u.stop?d:null):(a=d,l.skip&&(e=d)),l=u}return a!==null&&r.push({start:e%i,end:a%i,loop:o}),r}function f7(s,e){const t=s.points,o=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:a,end:l}=c7(t,i,r,o);if(o===!0)return Xp(s,[{start:a,end:l,loop:r}],t,e);const d=l<a?l+i:l,u=!!s._fullLoop&&a===0&&l===i-1;return Xp(s,u7(t,a,d,u),t,e)}function Xp(s,e,t,o){return!o||!o.setContext||!t?e:m7(s,e,t,o)}function m7(s,e,t,o){const i=s._chart.getContext(),r=Jp(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,d=t.length,u=[];let m=r,p=e[0].start,h=p;function _(y,x,w,k){const b=l?-1:1;if(y!==x){for(y+=d;t[y%d].skip;)y-=b;for(;t[x%d].skip;)x+=b;y%d!==x%d&&(u.push({start:y%d,end:x%d,loop:w,style:k}),m=k,p=x%d)}}for(const y of e){p=l?p:y.start;let x=t[p%d],w;for(h=p+1;h<=y.end;h++){const k=t[h%d];w=Jp(o.setContext(yi(i,{type:"segment",p0:x,p1:k,p0DataIndex:(h-1)%d,p1DataIndex:h%d,datasetIndex:a}))),h7(w,m)&&_(p,h-1,y.loop,m),x=k,m=w}p<h-1&&_(p,h-1,y.loop,m)}return u}function Jp(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function h7(s,e){if(!e)return!1;const t=[],o=function(i,r){return gh(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,o)!==JSON.stringify(e,o)}function Kl(s,e,t){return s.options.clip?s[t]:e[t]}function p7(s,e){const{xScale:t,yScale:o}=s;return t&&o?{left:Kl(t,e,"left"),right:Kl(t,e,"right"),top:Kl(o,e,"top"),bottom:Kl(o,e,"bottom")}:e}function By(s,e){const t=e._clip;if(t.disabled)return!1;const o=p7(e,s.chartArea);return{left:t.left===!1?0:o.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:o.right+(t.right===!0?0:t.right),top:t.top===!1?0:o.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:o.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class g7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,o,i){const r=t.listeners[i],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(o-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Cy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((o,i)=>{if(!o.running||!o.items.length)return;const r=o.items;let a=r.length-1,l=!1,d;for(;a>=0;--a)d=r[a],d._active?(d._total>o.duration&&(o.duration=d._total),d.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,o,e,"progress")),r.length||(o.running=!1,this._notify(i,o,e,"complete"),o.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let o=t.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,o)),o}listen(e,t,o){this._getAnims(e).listeners[t].push(o)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((o,i)=>Math.max(o,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const o=t.items;let i=o.length-1;for(;i>=0;--i)o[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wo=new g7;const Qp="transparent",_7={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const o=Up(s||Qp),i=o.valid&&Up(e||Qp);return i&&i.valid?i.mix(o,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class v7{constructor(e,t,o,i){const r=t[o];i=ql([e.to,i,r,e.from]);const a=ql([e.from,r,i]);this._active=!0,this._fn=e.fn||_7[e.type||typeof a],this._easing=Oa[e.easing]||Oa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=o,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,o){if(this._active){this._notify(!1);const i=this._target[this._prop],r=o-this._start,a=this._duration-r;this._start=o,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ql([e.to,t,i,e.from]),this._from=ql([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,o=this._duration,i=this._prop,r=this._from,a=this._loop,l=this._to;let d;if(this._active=r!==l&&(a||t<o),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=r;return}d=t/o%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(r,l,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,o)=>{e.push({res:t,rej:o})})}_notify(e){const t=e?"res":"rej",o=this._promises||[];for(let i=0;i<o.length;i++)o[i][t]()}}class Uy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!yt(e))return;const t=Object.keys(ts.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!yt(r))return;const a={};for(const l of t)a[l]=r[l];(Gt(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!o.has(l))&&o.set(l,a)})})}_animateOptions(e,t){const o=t.options,i=b7(e,o);if(!i)return[];const r=this._createAnimations(i,o);return o.$shared&&y7(e.options.$animations,o).then(()=>{e.options=o},()=>{}),r}_createAnimations(e,t){const o=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const u=a[d];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[u];let p=r[u];const h=o.get(u);if(p)if(h&&p.active()){p.update(h,m,l);continue}else p.cancel();if(!h||!h.duration){e[u]=m;continue}r[u]=p=new v7(h,e,u,m),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const o=this._createAnimations(e,t);if(o.length)return wo.add(this._chart,o),!0}}function y7(s,e){const t=[],o=Object.keys(e);for(let i=0;i<o.length;i++){const r=s[o[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function b7(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Zp(s,e){const t=s&&s.options||{},o=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:o?r:i,end:o?i:r}}function x7(s,e,t){if(t===!1)return!1;const o=Zp(s,t),i=Zp(e,t);return{top:i.end,right:o.end,bottom:i.start,left:o.start}}function w7(s){let e,t,o,i;return yt(s)?(e=s.top,t=s.right,o=s.bottom,i=s.left):e=t=o=i=s,{top:e,right:t,bottom:o,left:i,disabled:s===!1}}function Vy(s,e){const t=[],o=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=o.length;i<r;++i)t.push(o[i].index);return t}function eg(s,e,t,o={}){const i=s.keys,r=o.mode==="single";let a,l,d,u;if(e===null)return;let m=!1;for(a=0,l=i.length;a<l;++a){if(d=+i[a],d===t){if(m=!0,o.all)continue;break}u=s.values[d],es(u)&&(r||e===0||ho(e)===ho(u))&&(e+=u)}return!m&&!o.all?0:e}function k7(s,e){const{iScale:t,vScale:o}=e,i=t.axis==="x"?"x":"y",r=o.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let d,u,m;for(d=0,u=a.length;d<u;++d)m=a[d],l[d]={[i]:m,[r]:s[m]};return l}function Yu(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function $7(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function C7(s){const{min:e,max:t,minDefined:o,maxDefined:i}=s.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function S7(s,e,t){const o=s[e]||(s[e]={});return o[t]||(o[t]={})}function tg(s,e,t,o){for(const i of e.getMatchingVisibleMetas(o).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function sg(s,e){const{chart:t,_cachedMeta:o}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=o,d=r.axis,u=a.axis,m=$7(r,a,o),p=e.length;let h;for(let _=0;_<p;++_){const y=e[_],{[d]:x,[u]:w}=y,k=y._stacks||(y._stacks={});h=k[u]=S7(i,m,x),h[l]=w,h._top=tg(h,a,!0,o.type),h._bottom=tg(h,a,!1,o.type);const b=h._visualValues||(h._visualValues={});b[l]=w}}function Gu(s,e){const t=s.scales;return Object.keys(t).filter(o=>t[o].axis===e).shift()}function M7(s,e){return yi(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T7(s,e,t){return yi(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ia(s,e){const t=s.controller.index,o=s.vScale&&s.vScale.axis;if(o){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[o]===void 0||r[o][t]===void 0)return;delete r[o][t],r[o]._visualValues!==void 0&&r[o]._visualValues[t]!==void 0&&delete r[o]._visualValues[t]}}}const Xu=s=>s==="reset"||s==="none",ng=(s,e)=>e?s:Object.assign({},s),A7=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Vy(t,!0),values:null};class Xi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yu(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&ia(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,o=this.getDataset(),i=(p,h,_,y)=>p==="x"?h:p==="r"?y:_,r=t.xAxisID=pt(o.xAxisID,Gu(e,"x")),a=t.yAxisID=pt(o.yAxisID,Gu(e,"y")),l=t.rAxisID=pt(o.rAxisID,Gu(e,"r")),d=t.indexAxis,u=t.iAxisID=i(d,r,a,l),m=t.vAxisID=i(d,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Np(this._data,this),e._stacked&&ia(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(yt(t)){const i=this._cachedMeta;this._data=k7(t,i)}else if(o!==t){if(o){Np(o,this);const i=this._cachedMeta;ia(i),i._parsed=[]}t&&Object.isExtensible(t)&&u8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,o=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Yu(t.vScale,t),t.stack!==o.stack&&(i=!0,ia(t),t.stack=o.stack),this._resyncElements(e),(i||r!==t._stacked)&&(sg(this,t._parsed),t._stacked=Yu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:o,_data:i}=this,{iScale:r,_stacked:a}=o,l=r.axis;let d=e===0&&t===i.length?!0:o._sorted,u=e>0&&o._parsed[e-1],m,p,h;if(this._parsing===!1)o._parsed=i,o._sorted=!0,h=i;else{Gt(i[e])?h=this.parseArrayData(o,i,e,t):yt(i[e])?h=this.parseObjectData(o,i,e,t):h=this.parsePrimitiveData(o,i,e,t);const _=()=>p[l]===null||u&&p[l]<u[l];for(m=0;m<t;++m)o._parsed[m+e]=p=h[m],d&&(_()&&(d=!1),u=p);o._sorted=d}a&&sg(this,h)}parsePrimitiveData(e,t,o,i){const{iScale:r,vScale:a}=e,l=r.axis,d=a.axis,u=r.getLabels(),m=r===a,p=new Array(i);let h,_,y;for(h=0,_=i;h<_;++h)y=h+o,p[h]={[l]:m||r.parse(u[y],y),[d]:a.parse(t[y],y)};return p}parseArrayData(e,t,o,i){const{xScale:r,yScale:a}=e,l=new Array(i);let d,u,m,p;for(d=0,u=i;d<u;++d)m=d+o,p=t[m],l[d]={x:r.parse(p[0],m),y:a.parse(p[1],m)};return l}parseObjectData(e,t,o,i){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=new Array(i);let m,p,h,_;for(m=0,p=i;m<p;++m)h=m+o,_=t[h],u[m]={x:r.parse(er(_,l),h),y:a.parse(er(_,d),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){const i=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:Vy(i,!0),values:t._stacks[e.axis]._visualValues};return eg(l,a,r.index,{mode:o})}updateRangeFromParsed(e,t,o,i){const r=o[t.axis];let a=r===null?NaN:r;const l=i&&o._stacks[t.axis];i&&l&&(i.values=l,a=eg(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const o=this._cachedMeta,i=o._parsed,r=o._sorted&&e===o.iScale,a=i.length,l=this._getOtherScale(e),d=A7(t,o,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=C7(l);let h,_;function y(){_=i[h];const x=_[l.axis];return!es(_[e.axis])||m>x||p<x}for(h=0;h<a&&!(!y()&&(this.updateRangeFromParsed(u,e,_,d),r));++h);if(r){for(h=a-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(u,e,_,d);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,o=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],es(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,o=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=w7(pt(this.options.clip,x7(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,o=this._cachedMeta,i=o.data||[],r=t.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,r,l,d),m=l;m<l+d;++m){const p=i[m];p.hidden||(p.active&&u?a.push(p):p.draw(e,r))}for(m=0;m<a.length;++m)a[m].draw(e,r)}getStyle(e,t){const o=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=T7(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=M7(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=o,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){const i=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],d=this.enableOptionSharing&&nl(o);if(l)return ng(l,d);const u=this.chart.config,m=u.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),m),_=Object.keys(ts.elements[e]),y=()=>this.getContext(o,i,t),x=u.resolveNamedOptions(h,_,y,p);return x.$shared&&(x.$shared=d,r[a]=Object.freeze(ng(x,d))),x}_resolveAnimations(e,t,o){const i=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let d;if(i.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,t),h=m.getOptionScopes(this.getDataset(),p);d=m.createResolver(h,this.getContext(e,o,t))}const u=new Uy(i,d&&d.animations);return d&&d._cacheable&&(r[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const o=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(o),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,o),{sharedOptions:r,includeOptions:a}}updateElement(e,t,o,i){Xu(i)?Object.assign(e,o):this._resolveAnimations(t,i).update(e,o)}updateSharedOptions(e,t,o){e&&!Xu(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,o,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,o=this._cachedMeta.data;for(const[l,d,u]of this._syncList)this[l](d,u);this._syncList=[];const i=o.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,o=!0){const i=this._cachedMeta,r=i.data,a=e+t;let l;const d=u=>{for(u.length+=t,l=u.length-1;l>=a;l--)u[l]=u[l-t]};for(d(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),o&&this.updateElements(r,e,t,"reset")}updateElements(e,t,o,i){}_removeElements(e,t){const o=this._cachedMeta;if(this._parsing){const i=o._parsed.splice(e,t);o._stacked&&ia(o,i)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,o,i]=e;this[t](o,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ve(Xi,"defaults",{}),Ve(Xi,"datasetElementType",null),Ve(Xi,"dataElementType",null);function D7(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let o=[];for(let i=0,r=t.length;i<r;i++)o=o.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=$y(o.sort((i,r)=>i-r))}return s._cache.$bar}function E7(s){const e=s.iScale,t=D7(e,s.type);let o=e._length,i,r,a,l;const d=()=>{a===32767||a===-32768||(nl(l)&&(o=Math.min(o,Math.abs(a-l)||o)),l=a)};for(i=0,r=t.length;i<r;++i)a=e.getPixelForValue(t[i]),d();for(l=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),d();return o}function P7(s,e,t,o){const i=t.barThickness;let r,a;return St(i)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=i*o,a=1),{chunk:r/o,ratio:a,start:e.pixels[s]-r/2}}function j7(s,e,t,o){const i=e.pixels,r=i[s];let a=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const d=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const u=r-(r-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/o,ratio:t.barPercentage,start:u}}function R7(s,e,t,o){const i=t.parse(s[0],o),r=t.parse(s[1],o),a=Math.min(i,r),l=Math.max(i,r);let d=a,u=l;Math.abs(a)>Math.abs(l)&&(d=l,u=a),e[t.axis]=u,e._custom={barStart:d,barEnd:u,start:i,end:r,min:a,max:l}}function Hy(s,e,t,o){return Gt(s)?R7(s,e,t,o):e[t.axis]=t.parse(s,o),e}function og(s,e,t,o){const i=s.iScale,r=s.vScale,a=i.getLabels(),l=i===r,d=[];let u,m,p,h;for(u=t,m=t+o;u<m;++u)h=e[u],p={},p[i.axis]=l||i.parse(a[u],u),d.push(Hy(h,p,r,u));return d}function Ju(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function I7(s,e,t){return s!==0?ho(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function O7(s){let e,t,o,i,r;return s.horizontal?(e=s.base>s.x,t="left",o="right"):(e=s.base<s.y,t="bottom",o="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:o,reverse:e,top:i,bottom:r}}function L7(s,e,t,o){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:d,top:u,bottom:m}=O7(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===o?i=u:(t._bottom||0)===o?i=m:(r[ig(m,a,l,d)]=!0,i=u)),r[ig(i,a,l,d)]=!0,s.borderSkipped=r}function ig(s,e,t,o){return o?(s=F7(s,e,t),s=rg(s,t,e)):s=rg(s,e,t),s}function F7(s,e,t){return s===e?t:s===t?e:s}function rg(s,e,t){return s==="start"?e:s==="end"?t:s}function N7(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class kd extends Xi{parsePrimitiveData(e,t,o,i){return og(e,t,o,i)}parseArrayData(e,t,o,i){return og(e,t,o,i)}parseObjectData(e,t,o,i){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=r.axis==="x"?l:d,m=a.axis==="x"?l:d,p=[];let h,_,y,x;for(h=o,_=o+i;h<_;++h)x=t[h],y={},y[r.axis]=r.parse(er(x,u),h),p.push(Hy(er(x,m),y,a,h));return p}updateRangeFromParsed(e,t,o,i){super.updateRangeFromParsed(e,t,o,i);const r=o._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:o,vScale:i}=t,r=this.getParsed(e),a=r._custom,l=Ju(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),u=l.isHorizontal(),m=this._getRuler(),{sharedOptions:p,includeOptions:h}=this._getSharedOptions(t,i);for(let _=t;_<t+o;_++){const y=this.getParsed(_),x=r||St(y[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),w=this._calculateBarIndexPixels(_,m),k=(y._stacks||{})[l.axis],b={horizontal:u,base:x.base,enableBorderRadius:!k||Ju(y._custom)||a===k._top||a===k._bottom,x:u?x.head:w.center,y:u?w.center:x.head,height:u?w.size:Math.abs(x.size),width:u?Math.abs(x.size):w.size};h&&(b.options=p||this.resolveDataElementOptions(_,e[_].active?"active":i));const M=b.options||e[_].options;L7(b,M,k,a),N7(b,M,m.ratio),this.updateElement(e[_],_,b,i)}}_getStacks(e,t){const{iScale:o}=this._cachedMeta,i=o.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),r=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),d=l&&l[o.axis],u=m=>{const p=m._parsed.find(_=>_[o.axis]===d),h=p&&p[m.vScale.axis];if(St(h)||isNaN(h))return!0};for(const m of i)if(!(t!==void 0&&u(m))&&((r===!1||a.indexOf(m.stack)===-1||r===void 0&&m.stack===void 0)&&a.push(m.stack),m.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(o=>e[o].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const o of this.chart.data.datasets)e[pt(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,o){const i=this._getStacks(e,o),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,o=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));const l=e.barThickness;return{min:l||E7(t),pixels:i,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:o,index:i},options:{base:r,minBarLength:a}}=this,l=r||0,d=this.getParsed(e),u=d._custom,m=Ju(u);let p=d[t.axis],h=0,_=o?this.applyStack(t,d,o):p,y,x;_!==p&&(h=_-p,_=p),m&&(p=u.barStart,_=u.barEnd-u.barStart,p!==0&&ho(p)!==ho(u.barEnd)&&(h=0),h+=p);const w=!St(r)&&!m?r:h;let k=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?y=t.getPixelForValue(h+_):y=k,x=y-k,Math.abs(x)<a){x=I7(x,t,l)*a,p===l&&(k-=x/2);const b=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),S=Math.min(b,M),N=Math.max(b,M);k=Math.max(Math.min(k,N),S),y=k+x,o&&!m&&(d._stacks[t.axis]._visualValues[i]=t.getValueForPixel(y)-t.getValueForPixel(k))}if(k===t.getPixelForValue(l)){const b=ho(x)*t.getLineWidthForValue(l)/2;k+=b,x-=b}return{size:x,base:k,head:y,center:y+x/2}}_calculateBarIndexPixels(e,t){const o=t.scale,i=this.options,r=i.skipNull,a=pt(i.maxBarThickness,1/0);let l,d;const u=this._getAxisCount();if(t.grouped){const m=r?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?j7(e,t,i,m*u):P7(e,t,i,m*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(pt(h,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+_;l=p.start+p.chunk*y+p.chunk/2,d=Math.min(a,p.chunk*p.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),d=Math.min(a,t.min*t.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,o=e.data,i=o.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!o[r].hidden&&o[r].draw(this._ctx)}}Ve(kd,"id","bar"),Ve(kd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ve(kd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function z7(s,e,t){let o=1,i=1,r=0,a=0;if(e<Kt){const l=s,d=l+e,u=Math.cos(l),m=Math.sin(l),p=Math.cos(d),h=Math.sin(d),_=(M,S,N)=>il(M,l,d,!0)?1:Math.max(S,S*t,N,N*t),y=(M,S,N)=>il(M,l,d,!0)?-1:Math.min(S,S*t,N,N*t),x=_(0,u,p),w=_(is,m,h),k=y(Lt,u,p),b=y(Lt+is,m,h);o=(x-k)/2,i=(w-b)/2,r=-(x+k)/2,a=-(w+b)/2}return{ratioX:o,ratioY:i,offsetX:r,offsetY:a}}class pa extends Xi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const o=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=o;else{let r=d=>+o[d];if(yt(o[e])){const{key:d="value"}=this._parsing;r=u=>+er(o[u],d)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=r(a)}}_getRotation(){return fo(this.options.rotation-90)}_getCircumference(){return fo(this.options.circumference)}_getRotationExtents(){let e=Kt,t=-Kt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const i=this.chart.getDatasetMeta(o).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:o}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),d=Math.min(XC(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:m,rotation:p}=this._getRotationExtents(),{ratioX:h,ratioY:_,offsetX:y,offsetY:x}=z7(p,m,d),w=(o.width-a)/h,k=(o.height-a)/_,b=Math.max(Math.min(w,k)/2,0),M=yy(this.options.radius,b),S=Math.max(M*d,0),N=(M-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*M,this.offsetY=x*M,i.total=this.calculateTotal(),this.outerRadius=M-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const o=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Kt)}updateElements(e,t,o,i){const r=i==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,m=(l.left+l.right)/2,p=(l.top+l.bottom)/2,h=r&&u.animateScale,_=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(t,i);let k=this._getRotation(),b;for(b=0;b<t;++b)k+=this._circumference(b,r);for(b=t;b<t+o;++b){const M=this._circumference(b,r),S=e[b],N={x:m+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+M,circumference:M,outerRadius:y,innerRadius:_};w&&(N.options=x||this.resolveDataElementOptions(b,S.active?"active":i)),k+=M,this.updateElement(S,b,N,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let o=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Kt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,i=o.data.labels||[],r=Xc(t._parsed[e],o.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const o=this.chart;let i,r,a,l,d;if(!e){for(i=0,r=o.data.datasets.length;i<r;++i)if(o.isDatasetVisible(i)){a=o.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)d=l.resolveDataElementOptions(i),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,i=e.length;o<i;++o){const r=this.resolveDataElementOptions(o);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(pt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ve(pa,"id","doughnut"),Ve(pa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ve(pa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ve(pa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:o,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,u)=>{const p=e.getDatasetMeta(0).controller.getStyle(u);return{text:d,fillStyle:p.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:i,pointStyle:o,borderRadius:a&&(l||p.borderRadius),index:u}}):[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}}});class $d extends Xi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:o,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:d}=h8(t,i,a);this._drawStart=l,this._drawCount=d,p8(t)&&(l=0,d=i.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:u},e),this.updateElements(i,l,d,e)}updateElements(e,t,o,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:u}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,i),h=a.axis,_=l.axis,{spanGaps:y,segment:x}=this.options,w=ol(y)?y:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||r||i==="none",b=t+o,M=e.length;let S=t>0&&this.getParsed(t-1);for(let N=0;N<M;++N){const A=e[N],T=k?A:{};if(N<t||N>=b){T.skip=!0;continue}const D=this.getParsed(N),L=St(D[_]),I=T[h]=a.getPixelForValue(D[h],N),O=T[_]=r||L?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,D,d):D[_],N);T.skip=isNaN(I)||isNaN(O)||L,T.stop=N>0&&Math.abs(D[h]-S[h])>w,x&&(T.parsed=D,T.raw=u.data[N]),p&&(T.options=m||this.resolveDataElementOptions(N,A.active?"active":i)),k||this.updateElement(A,N,T,i),S=D}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return o;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ve($d,"id","line"),Ve($d,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ve($d,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kh{constructor(e){Ve(this,"options");this.options=e||{}}static override(e){Object.assign(kh.prototype,e)}init(){}formats(){return Ei()}parse(){return Ei()}format(){return Ei()}add(){return Ei()}diff(){return Ei()}startOf(){return Ei()}endOf(){return Ei()}}var B7={_date:kh};function U7(s,e,t,o){const{controller:i,data:r,_sorted:a}=s,l=i._cachedMeta.iScale,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const u=l._reversePixels?d8:qi;if(o){if(i._sharedOptions){const m=r[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){const h=u(r,e,t-p),_=u(r,e,t+p);return{lo:h.lo,hi:_.hi}}}}else{const m=u(r,e,t);if(d){const{vScale:p}=i._cachedMeta,{_parsed:h}=s,_=h.slice(0,m.lo+1).reverse().findIndex(x=>!St(x[p.axis]));m.lo-=Math.max(0,_);const y=h.slice(m.hi).findIndex(x=>!St(x[p.axis]));m.hi+=Math.max(0,y)}return m}}return{lo:0,hi:r.length-1}}function wl(s,e,t,o,i){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,d=r.length;l<d;++l){const{index:u,data:m}=r[l],{lo:p,hi:h}=U7(r[l],e,a,i);for(let _=p;_<=h;++_){const y=m[_];y.skip||o(y,u,_)}}}function V7(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(o,i){const r=e?Math.abs(o.x-i.x):0,a=t?Math.abs(o.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Qu(s,e,t,o,i){const r=[];return!i&&!s.isPointInArea(e)||wl(s,t,e,function(l,d,u){!i&&!Eo(l,s.chartArea,0)||l.inRange(e.x,e.y,o)&&r.push({element:l,datasetIndex:d,index:u})},!0),r}function H7(s,e,t,o){let i=[];function r(a,l,d){const{startAngle:u,endAngle:m}=a.getProps(["startAngle","endAngle"],o),{angle:p}=wy(a,{x:e.x,y:e.y});il(p,u,m)&&i.push({element:a,datasetIndex:l,index:d})}return wl(s,t,e,r),i}function q7(s,e,t,o,i,r){let a=[];const l=V7(t);let d=Number.POSITIVE_INFINITY;function u(m,p,h){const _=m.inRange(e.x,e.y,i);if(o&&!_)return;const y=m.getCenterPoint(i);if(!(!!r||s.isPointInArea(y))&&!_)return;const w=l(e,y);w<d?(a=[{element:m,datasetIndex:p,index:h}],d=w):w===d&&a.push({element:m,datasetIndex:p,index:h})}return wl(s,t,e,u),a}function Zu(s,e,t,o,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!o?H7(s,e,t,i):q7(s,e,t,o,i,r)}function ag(s,e,t,o,i){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return wl(s,t,e,(d,u,m)=>{d[a]&&d[a](e[t],i)&&(r.push({element:d,datasetIndex:u,index:m}),l=l||d.inRange(e.x,e.y,i))}),o&&!l?[]:r}var W7={evaluateInteractionItems:wl,modes:{index(s,e,t,o){const i=Li(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Qu(s,i,r,o,a):Zu(s,i,r,!1,o,a),d=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(u=>{const m=l[0].index,p=u.data[m];p&&!p.skip&&d.push({element:p,datasetIndex:u.index,index:m})}),d):[]},dataset(s,e,t,o){const i=Li(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Qu(s,i,r,o,a):Zu(s,i,r,!1,o,a);if(l.length>0){const d=l[0].datasetIndex,u=s.getDatasetMeta(d).data;l=[];for(let m=0;m<u.length;++m)l.push({element:u[m],datasetIndex:d,index:m})}return l},point(s,e,t,o){const i=Li(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Qu(s,i,r,o,a)},nearest(s,e,t,o){const i=Li(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Zu(s,i,r,t.intersect,o,a)},x(s,e,t,o){const i=Li(e,s);return ag(s,i,"x",t.intersect,o)},y(s,e,t,o){const i=Li(e,s);return ag(s,i,"y",t.intersect,o)}}};const qy=["left","top","right","bottom"];function ra(s,e){return s.filter(t=>t.pos===e)}function lg(s,e){return s.filter(t=>qy.indexOf(t.pos)===-1&&t.box.axis===e)}function aa(s,e){return s.sort((t,o)=>{const i=e?o:t,r=e?t:o;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function K7(s){const e=[];let t,o,i,r,a,l;for(t=0,o=(s||[]).length;t<o;++t)i=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:l});return e}function Y7(s){const e={};for(const t of s){const{stack:o,pos:i,stackWeight:r}=t;if(!o||!qy.includes(i))continue;const a=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function G7(s,e){const t=Y7(s),{vBoxMaxWidth:o,hBoxMaxHeight:i}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:d}=l.box,u=t[l.stack],m=u&&l.stackWeight/u.weight;l.horizontal?(l.width=m?m*o:d&&e.availableWidth,l.height=i):(l.width=o,l.height=m?m*i:d&&e.availableHeight)}return t}function X7(s){const e=K7(s),t=aa(e.filter(u=>u.box.fullSize),!0),o=aa(ra(e,"left"),!0),i=aa(ra(e,"right")),r=aa(ra(e,"top"),!0),a=aa(ra(e,"bottom")),l=lg(e,"x"),d=lg(e,"y");return{fullSize:t,leftAndTop:o.concat(r),rightAndBottom:i.concat(d).concat(a).concat(l),chartArea:ra(e,"chartArea"),vertical:o.concat(i).concat(d),horizontal:r.concat(a).concat(l)}}function dg(s,e,t,o){return Math.max(s[t],e[t])+Math.max(s[o],e[o])}function Wy(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function J7(s,e,t,o){const{pos:i,box:r}=t,a=s.maxPadding;if(!yt(i)){t.size&&(s[i]-=t.size);const p=o[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?r.height:r.width),t.size=p.size/p.count,s[i]+=t.size}r.getPadding&&Wy(a,r.getPadding());const l=Math.max(0,e.outerWidth-dg(a,s,"left","right")),d=Math.max(0,e.outerHeight-dg(a,s,"top","bottom")),u=l!==s.w,m=d!==s.h;return s.w=l,s.h=d,t.horizontal?{same:u,other:m}:{same:m,other:u}}function Q7(s){const e=s.maxPadding;function t(o){const i=Math.max(e[o]-s[o],0);return s[o]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function Z7(s,e){const t=e.maxPadding;function o(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return o(s?["left","right"]:["top","bottom"])}function ga(s,e,t,o){const i=[];let r,a,l,d,u,m;for(r=0,a=s.length,u=0;r<a;++r){l=s[r],d=l.box,d.update(l.width||e.w,l.height||e.h,Z7(l.horizontal,e));const{same:p,other:h}=J7(e,t,l,o);u|=p&&i.length,m=m||h,d.fullSize||i.push(l)}return u&&ga(i,e,t,o)||m}function Yl(s,e,t,o,i){s.top=t,s.left=e,s.right=e+o,s.bottom=t+i,s.width=o,s.height=i}function cg(s,e,t,o){const i=t.padding;let{x:r,y:a}=e;for(const l of s){const d=l.box,u=o[l.stack]||{count:1,placed:0,weight:1},m=l.stackWeight/u.weight||1;if(l.horizontal){const p=e.w*m,h=u.size||d.height;nl(u.start)&&(a=u.start),d.fullSize?Yl(d,i.left,a,t.outerWidth-i.right-i.left,h):Yl(d,e.left+u.placed,a,p,h),u.start=a,u.placed+=p,a=d.bottom}else{const p=e.h*m,h=u.size||d.width;nl(u.start)&&(r=u.start),d.fullSize?Yl(d,r,i.top,h,t.outerHeight-i.bottom-i.top):Yl(d,r,e.top+u.placed,h,p),u.start=r,u.placed+=p,r=d.right}}e.x=r,e.y=a}var ni={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,o){if(!s)return;const i=tn(s.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=X7(s.boxes),d=l.vertical,u=l.horizontal;It(s.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=d.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/m,hBoxMaxHeight:a/2}),h=Object.assign({},i);Wy(h,tn(o));const _=Object.assign({maxPadding:h,w:r,h:a,x:i.left,y:i.top},i),y=G7(d.concat(u),p);ga(l.fullSize,_,p,y),ga(d,_,p,y),ga(u,_,p,y)&&ga(d,_,p,y),Q7(_),cg(l.leftAndTop,_,p,y),_.x+=_.w,_.y+=_.h,cg(l.rightAndBottom,_,p,y),s.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},It(l.chartArea,x=>{const w=x.box;Object.assign(w,s.chartArea),w.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Ky{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,o){}removeEventListener(e,t,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,o,i){return t=Math.max(0,t||e.width),o=o||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):o)}}isAttached(e){return!0}updateConfig(e){}}class eS extends Ky{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cd="$chartjs",tS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ug=s=>s===null||s==="";function sS(s,e){const t=s.style,o=s.getAttribute("height"),i=s.getAttribute("width");if(s[Cd]={initial:{height:o,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ug(i)){const r=Yp(s,"width");r!==void 0&&(s.width=r)}if(ug(o))if(s.style.height==="")s.height=s.width/(e||2);else{const r=Yp(s,"height");r!==void 0&&(s.height=r)}return s}const Yy=o7?{passive:!0}:!1;function nS(s,e,t){s&&s.addEventListener(e,t,Yy)}function oS(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Yy)}function iS(s,e){const t=tS[s.type]||s.type,{x:o,y:i}=Li(s,e);return{type:t,chart:e,native:s,x:o!==void 0?o:null,y:i!==void 0?i:null}}function nc(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function rS(s,e,t){const o=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||nc(l.addedNodes,o),a=a&&!nc(l.removedNodes,o);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function aS(s,e,t){const o=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||nc(l.removedNodes,o),a=a&&!nc(l.addedNodes,o);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const al=new Map;let fg=0;function Gy(){const s=window.devicePixelRatio;s!==fg&&(fg=s,al.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function lS(s,e){al.size||window.addEventListener("resize",Gy),al.set(s,e)}function dS(s){al.delete(s),al.size||window.removeEventListener("resize",Gy)}function cS(s,e,t){const o=s.canvas,i=o&&wh(o);if(!i)return;const r=Sy((l,d)=>{const u=i.clientWidth;t(l,d),u<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const d=l[0],u=d.contentRect.width,m=d.contentRect.height;u===0&&m===0||r(u,m)});return a.observe(i),lS(s,r),a}function ef(s,e,t){t&&t.disconnect(),e==="resize"&&dS(s)}function uS(s,e,t){const o=s.canvas,i=Sy(r=>{s.ctx!==null&&t(iS(r,s))},s);return nS(o,e,i),i}class fS extends Ky{acquireContext(e,t){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(sS(e,t),o):null}releaseContext(e){const t=e.canvas;if(!t[Cd])return!1;const o=t[Cd].initial;["height","width"].forEach(r=>{const a=o[r];St(a)?t.removeAttribute(r):t.setAttribute(r,a)});const i=o.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[Cd],!0}addEventListener(e,t,o){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:rS,detach:aS,resize:cS}[t]||uS;i[t]=a(e,t,o)}removeEventListener(e,t){const o=e.$proxies||(e.$proxies={}),i=o[t];if(!i)return;({attach:ef,detach:ef,resize:ef}[t]||oS)(e,t,i),o[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,o,i){return n7(e,t,o,i)}isAttached(e){const t=e&&wh(e);return!!(t&&t.isConnected)}}function mS(s){return!xh()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?eS:fS}var ud;let bi=(ud=class{constructor(){Ve(this,"x");Ve(this,"y");Ve(this,"active",!1);Ve(this,"options");Ve(this,"$animations")}tooltipPosition(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}hasValue(){return ol(this.x)&&ol(this.y)}getProps(e,t){const o=this.$animations;if(!t||!o)return this;const i={};return e.forEach(r=>{i[r]=o[r]&&o[r].active()?o[r]._to:this[r]}),i}},Ve(ud,"defaults",{}),Ve(ud,"defaultRoutes"),ud);function hS(s,e){const t=s.options.ticks,o=pS(s),i=Math.min(t.maxTicksLimit||o,o),r=t.major.enabled?_S(e):[],a=r.length,l=r[0],d=r[a-1],u=[];if(a>i)return vS(e,u,r,a/i),u;const m=gS(r,e,i);if(a>0){let p,h;const _=a>1?Math.round((d-l)/(a-1)):null;for(Gl(e,u,m,St(_)?0:l-_,l),p=0,h=a-1;p<h;p++)Gl(e,u,m,r[p],r[p+1]);return Gl(e,u,m,d,St(_)?e.length:d+_),u}return Gl(e,u,m),u}function pS(s){const e=s.options.offset,t=s._tickSize(),o=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(o,i))}function gS(s,e,t){const o=yS(s),i=e.length/t;if(!o)return Math.max(i,1);const r=o8(o);for(let a=0,l=r.length-1;a<l;a++){const d=r[a];if(d>i)return d}return Math.max(i,1)}function _S(s){const e=[];let t,o;for(t=0,o=s.length;t<o;t++)s[t].major&&e.push(t);return e}function vS(s,e,t,o){let i=0,r=t[0],a;for(o=Math.ceil(o),a=0;a<s.length;a++)a===r&&(e.push(s[a]),i++,r=t[i*o])}function Gl(s,e,t,o,i){const r=pt(o,0),a=Math.min(pt(i,s.length),s.length);let l=0,d,u,m;for(t=Math.ceil(t),i&&(d=i-o,t=d/Math.floor(d/t)),m=r;m<0;)l++,m=Math.round(r+l*t);for(u=Math.max(r,0);u<a;u++)u===m&&(e.push(s[u]),l++,m=Math.round(r+l*t))}function yS(s){const e=s.length;let t,o;if(e<2)return!1;for(o=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==o)return!1;return o}const bS=s=>s==="left"?"right":s==="right"?"left":s,mg=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,hg=(s,e)=>Math.min(e||s,s);function pg(s,e){const t=[],o=s.length/e,i=s.length;let r=0;for(;r<i;r+=o)t.push(s[Math.floor(r)]);return t}function xS(s,e,t){const o=s.ticks.length,i=Math.min(e,o-1),r=s._startPixel,a=s._endPixel,l=1e-6;let d=s.getPixelForTick(i),u;if(!(t&&(o===1?u=Math.max(d-r,a-d):e===0?u=(s.getPixelForTick(1)-d)/2:u=(d-s.getPixelForTick(i-1))/2,d+=i<e?u:-u,d<r-l||d>a+l)))return d}function wS(s,e){It(s,t=>{const o=t.gc,i=o.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[o[r]];o.splice(0,i)}})}function la(s){return s.drawTicks?s.tickLength:0}function gg(s,e){if(!s.display)return 0;const t=Ds(s.font,e),o=tn(s.padding);return(Gt(s.text)?s.text.length:1)*t.lineHeight+o.height}function kS(s,e){return yi(s,{scale:e,type:"scale"})}function $S(s,e,t){return yi(s,{tick:t,index:e,type:"tick"})}function CS(s,e,t){let o=My(s);return(t&&e!=="right"||!t&&e==="right")&&(o=bS(o)),o}function SS(s,e,t,o){const{top:i,left:r,bottom:a,right:l,chart:d}=s,{chartArea:u,scales:m}=d;let p=0,h,_,y;const x=a-i,w=l-r;if(s.isHorizontal()){if(_=bn(o,r,l),yt(t)){const k=Object.keys(t)[0],b=t[k];y=m[k].getPixelForValue(b)+x-e}else t==="center"?y=(u.bottom+u.top)/2+x-e:y=mg(s,t,e);h=l-r}else{if(yt(t)){const k=Object.keys(t)[0],b=t[k];_=m[k].getPixelForValue(b)-w+e}else t==="center"?_=(u.left+u.right)/2-w+e:_=mg(s,t,e);y=bn(o,a,i),p=t==="left"?-is:is}return{titleX:_,titleY:y,maxWidth:h,rotation:p}}class nr extends bi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:o,_suggestedMax:i}=this;return e=wn(e,Number.POSITIVE_INFINITY),t=wn(t,Number.NEGATIVE_INFINITY),o=wn(o,Number.POSITIVE_INFINITY),i=wn(i,Number.NEGATIVE_INFINITY),{min:wn(e,o),max:wn(t,i),minDefined:es(e),maxDefined:es(t)}}getMinMax(e){let{min:t,max:o,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:o};const l=this.getMatchingVisibleMetas();for(let d=0,u=l.length;d<u;++d)a=l[d].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),r||(o=Math.max(o,a.max));return t=r&&t>o?o:t,o=i&&t>o?t:o,{min:wn(t,wn(o,t)),max:wn(o,wn(t,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,o){const{beginAtZero:i,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=I8(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?pg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=hS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,o;this.isHorizontal()?(t=this.left,o=this.right):(t=this.top,o=this.bottom,e=!e),this._startPixel=t,this._endPixel=o,this._reversePixels=e,this._length=o-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let o,i,r;for(o=0,i=e.length;o<i;o++)r=e[o],r.label=Wt(t.callback,[r.value,o,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,o=hg(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a=i,l,d,u;if(!this._isVisible()||!t.display||i>=r||o<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),p=m.widest.width,h=m.highest.height,_=Hs(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/o:_/(o-1),p+6>l&&(l=_/(o-(e.offset?.5:1)),d=this.maxHeight-la(e.grid)-t.padding-gg(e.title,this.chart.options.font),u=Math.sqrt(p*p+h*h),a=hh(Math.min(Math.asin(Hs((m.highest.height+6)/l,-1,1)),Math.asin(Hs(d/u,-1,1))-Math.asin(Hs(h/u,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:o,title:i,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=gg(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=la(r)+d):(e.height=this.maxHeight,e.width=la(r)+d),o.display&&this.ticks.length){const{first:u,last:m,widest:p,highest:h}=this._getLabelSizes(),_=o.padding*2,y=fo(this.labelRotation),x=Math.cos(y),w=Math.sin(y);if(l){const k=o.mirror?0:w*p.width+x*h.height;e.height=Math.min(this.maxHeight,e.height+k+_)}else{const k=o.mirror?0:x*p.width+w*h.height;e.width=Math.min(this.maxWidth,e.width+k+_)}this._calculatePadding(u,m,w,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,o,i){const{ticks:{align:r,padding:a},position:l}=this.options,d=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,_=0;d?u?(h=i*e.width,_=o*t.height):(h=o*e.height,_=i*t.width):r==="start"?_=t.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,_=t.width/2),this.paddingLeft=Math.max((h-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((_-p+a)*this.width/(this.width-p),0)}else{let m=t.height/2,p=e.height/2;r==="start"?(m=0,p=e.height):r==="end"&&(m=t.height,p=0),this.paddingTop=m+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,o;for(t=0,o=e.length;t<o;t++)St(e[t].label)&&(e.splice(t,1),o--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let o=this.ticks;t<o.length&&(o=pg(o,t)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,o){const{ctx:i,_longestTextCache:r}=this,a=[],l=[],d=Math.floor(t/hg(t,o));let u=0,m=0,p,h,_,y,x,w,k,b,M,S,N;for(p=0;p<t;p+=d){if(y=e[p].label,x=this._resolveTickFontOptions(p),i.font=w=x.string,k=r[w]=r[w]||{data:{},gc:[]},b=x.lineHeight,M=S=0,!St(y)&&!Gt(y))M=tc(i,k.data,k.gc,M,y),S=b;else if(Gt(y))for(h=0,_=y.length;h<_;++h)N=y[h],!St(N)&&!Gt(N)&&(M=tc(i,k.data,k.gc,M,N),S+=b);a.push(M),l.push(S),u=Math.max(M,u),m=Math.max(S,m)}wS(r,t);const A=a.indexOf(u),T=l.indexOf(m),D=L=>({width:a[L]||0,height:l[L]||0});return{first:D(0),last:D(t-1),widest:D(A),highest:D(T),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return l8(this._alignToPixels?Di(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const o=t[e];return o.$context||(o.$context=$S(this.getContext(),e,o))}return this.$context||(this.$context=kS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=fo(this.labelRotation),o=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,d=r?r.highest.height+a:0;return this.isHorizontal()?d*o>l*i?l/o:d/i:d*i<l*o?d/o:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,o=this.chart,i=this.options,{grid:r,position:a,border:l}=i,d=r.offset,u=this.isHorizontal(),p=this.ticks.length+(d?1:0),h=la(r),_=[],y=l.setContext(this.getContext()),x=y.display?y.width:0,w=x/2,k=function(de){return Di(o,de,x)};let b,M,S,N,A,T,D,L,I,O,P,B;if(a==="top")b=k(this.bottom),T=this.bottom-h,L=b-w,O=k(e.top)+w,B=e.bottom;else if(a==="bottom")b=k(this.top),O=e.top,B=k(e.bottom)-w,T=b+w,L=this.top+h;else if(a==="left")b=k(this.right),A=this.right-h,D=b-w,I=k(e.left)+w,P=e.right;else if(a==="right")b=k(this.left),I=e.left,P=k(e.right)-w,A=b+w,D=this.left+h;else if(t==="x"){if(a==="center")b=k((e.top+e.bottom)/2+.5);else if(yt(a)){const de=Object.keys(a)[0],ce=a[de];b=k(this.chart.scales[de].getPixelForValue(ce))}O=e.top,B=e.bottom,T=b+w,L=T+h}else if(t==="y"){if(a==="center")b=k((e.left+e.right)/2);else if(yt(a)){const de=Object.keys(a)[0],ce=a[de];b=k(this.chart.scales[de].getPixelForValue(ce))}A=b-w,D=A-h,I=e.left,P=e.right}const be=pt(i.ticks.maxTicksLimit,p),le=Math.max(1,Math.ceil(p/be));for(M=0;M<p;M+=le){const de=this.getContext(M),ce=r.setContext(de),me=l.setContext(de),Z=ce.lineWidth,ie=ce.color,Te=me.dash||[],se=me.dashOffset,ke=ce.tickWidth,Ce=ce.tickColor,ue=ce.tickBorderDash||[],xe=ce.tickBorderDashOffset;S=xS(this,M,d),S!==void 0&&(N=Di(o,S,Z),u?A=D=I=P=N:T=L=O=B=N,_.push({tx1:A,ty1:T,tx2:D,ty2:L,x1:I,y1:O,x2:P,y2:B,width:Z,color:ie,borderDash:Te,borderDashOffset:se,tickWidth:ke,tickColor:Ce,tickBorderDash:ue,tickBorderDashOffset:xe}))}return this._ticksLength=p,this._borderValue=b,_}_computeLabelItems(e){const t=this.axis,o=this.options,{position:i,ticks:r}=o,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:u,padding:m,mirror:p}=r,h=la(o.grid),_=h+m,y=p?-m:_,x=-fo(this.labelRotation),w=[];let k,b,M,S,N,A,T,D,L,I,O,P,B="middle";if(i==="top")A=this.bottom-y,T=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+y,T=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(h);T=le.textAlign,N=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(h);T=le.textAlign,N=le.x}else if(t==="x"){if(i==="center")A=(e.top+e.bottom)/2+_;else if(yt(i)){const le=Object.keys(i)[0],de=i[le];A=this.chart.scales[le].getPixelForValue(de)+_}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")N=(e.left+e.right)/2-_;else if(yt(i)){const le=Object.keys(i)[0],de=i[le];N=this.chart.scales[le].getPixelForValue(de)}T=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(d==="start"?B="top":d==="end"&&(B="bottom"));const be=this._getLabelSizes();for(k=0,b=l.length;k<b;++k){M=l[k],S=M.label;const le=r.setContext(this.getContext(k));D=this.getPixelForTick(k)+r.labelOffset,L=this._resolveTickFontOptions(k),I=L.lineHeight,O=Gt(S)?S.length:1;const de=O/2,ce=le.color,me=le.textStrokeColor,Z=le.textStrokeWidth;let ie=T;a?(N=D,T==="inner"&&(k===b-1?ie=this.options.reverse?"left":"right":k===0?ie=this.options.reverse?"right":"left":ie="center"),i==="top"?u==="near"||x!==0?P=-O*I+I/2:u==="center"?P=-be.highest.height/2-de*I+I:P=-be.highest.height+I/2:u==="near"||x!==0?P=I/2:u==="center"?P=be.highest.height/2-de*I:P=be.highest.height-O*I,p&&(P*=-1),x!==0&&!le.showLabelBackdrop&&(N+=I/2*Math.sin(x))):(A=D,P=(1-O)*I/2);let Te;if(le.showLabelBackdrop){const se=tn(le.backdropPadding),ke=be.heights[k],Ce=be.widths[k];let ue=P-se.top,xe=0-se.left;switch(B){case"middle":ue-=ke/2;break;case"bottom":ue-=ke;break}switch(T){case"center":xe-=Ce/2;break;case"right":xe-=Ce;break;case"inner":k===b-1?xe-=Ce:k>0&&(xe-=Ce/2);break}Te={left:xe,top:ue,width:Ce+se.width,height:ke+se.height,color:le.backdropColor}}w.push({label:S,font:L,textOffset:P,options:{rotation:x,color:ce,strokeColor:me,strokeWidth:Z,textAlign:ie,textBaseline:B,translation:[N,A],backdrop:Te}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-fo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:o,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,d=a.widest.width;let u,m;return t==="left"?i?(m=this.right+r,o==="near"?u="left":o==="center"?(u="center",m+=d/2):(u="right",m+=d)):(m=this.right-l,o==="near"?u="right":o==="center"?(u="center",m-=d/2):(u="left",m=this.left)):t==="right"?i?(m=this.left+r,o==="near"?u="right":o==="center"?(u="center",m-=d/2):(u="left",m-=d)):(m=this.left+l,o==="near"?u="left":o==="center"?(u="center",m+=d/2):(u="right",m=this.right)):u="right",{textAlign:u,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:o,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(o,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,o=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(d,u,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(u.x,u.y),o.stroke(),o.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const d=i[r];t.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:o,grid:i}}=this,r=o.setContext(this.getContext()),a=o.display?r.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let u,m,p,h;this.isHorizontal()?(u=Di(e,this.left,a)-a/2,m=Di(e,this.right,l)+l/2,p=h=d):(p=Di(e,this.top,a)-a/2,h=Di(e,this.bottom,l)+l/2,u=m=d),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(u,p),t.lineTo(m,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,i=this._computeLabelArea();i&&Qc(o,i);const r=this.getLabelItems(e);for(const a of r){const l=a.options,d=a.font,u=a.label,m=a.textOffset;Rr(o,u,0,m,d,l)}i&&Zc(o)}drawTitle(){const{ctx:e,options:{position:t,title:o,reverse:i}}=this;if(!o.display)return;const r=Ds(o.font),a=tn(o.padding),l=o.align;let d=r.lineHeight/2;t==="bottom"||t==="center"||yt(t)?(d+=a.bottom,Gt(o.text)&&(d+=r.lineHeight*(o.text.length-1))):d+=a.top;const{titleX:u,titleY:m,maxWidth:p,rotation:h}=SS(this,d,t,l);Rr(e,o.text,0,0,r,{color:o.color,maxWidth:p,rotation:h,textAlign:CS(l,t,i),textBaseline:"middle",translation:[u,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,o=pt(e.grid&&e.grid.z,-1),i=pt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nr.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:o,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[o]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ds(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xl{constructor(e,t,o){this.type=e,this.scope=t,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let o;AS(t)&&(o=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,MS(e,a,o),this.override&&ts.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,o=e.id,i=this.scope;o in t&&delete t[o],i&&o in ts[i]&&(delete ts[i][o],this.override&&delete tr[o])}}function MS(s,e,t){const o=sl(Object.create(null),[t?ts.get(t):{},ts.get(e),s.defaults]);ts.set(e,o),s.defaultRoutes&&TS(e,s.defaultRoutes),s.descriptors&&ts.describe(e,s.descriptors)}function TS(s,e){Object.keys(e).forEach(t=>{const o=t.split("."),i=o.pop(),r=[s].concat(o).join("."),a=e[t].split("."),l=a.pop(),d=a.join(".");ts.route(r,i,d,l)})}function AS(s){return"id"in s&&"defaults"in s}class DS{constructor(){this.controllers=new Xl(Xi,"datasets",!0),this.elements=new Xl(bi,"elements"),this.plugins=new Xl(Object,"plugins"),this.scales=new Xl(nr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,o){[...t].forEach(i=>{const r=o||this._getRegistryForType(i);o||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):It(i,a=>{const l=o||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,o){const i=mh(e);Wt(o["before"+i],[],o),t[e](o),Wt(o["after"+i],[],o)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const o=this._typedRegistries[t];if(o.isForType(e))return o}return this.plugins}_get(e,t,o){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return i}}var ao=new DS;class ES{constructor(){this._init=void 0}notify(e,t,o,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,o);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,o,i){i=i||{};for(const r of e){const a=r.plugin,l=a[o],d=[t,i,r.options];if(Wt(l,d,a)===!1&&i.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const o=e&&e.config,i=pt(o.options&&o.options.plugins,{}),r=PS(o);return i===!1&&!t?[]:RS(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],o=this._cache,i=(r,a)=>r.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(i(t,o),e,"stop"),this._notify(i(o,t),e,"start")}}function PS(s){const e={},t=[],o=Object.keys(ao.plugins.items);for(let r=0;r<o.length;r++)t.push(ao.getPlugin(o[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function jS(s,e){return!e&&s===!1?null:s===!0?{}:s}function RS(s,{plugins:e,localIds:t},o,i){const r=[],a=s.getContext();for(const l of e){const d=l.id,u=jS(o[d],i);u!==null&&r.push({plugin:l,options:IS(s.config,{plugin:l,local:t[d]},u,a)})}return r}function IS(s,{plugin:e,local:t},o,i){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(o,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function am(s,e){const t=ts.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function OS(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function LS(s,e){return s===e?"_index_":"_value_"}function _g(s){if(s==="x"||s==="y"||s==="r")return s}function FS(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function lm(s,...e){if(_g(s))return s;for(const t of e){const o=t.axis||FS(t.position)||s.length>1&&_g(s[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function vg(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function NS(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(o=>o.xAxisID===s||o.yAxisID===s);if(t.length)return vg(s,"x",t[0])||vg(s,"y",t[0])}return{}}function zS(s,e){const t=tr[s.type]||{scales:{}},o=e.scales||{},i=am(s.type,e),r=Object.create(null);return Object.keys(o).forEach(a=>{const l=o[a];if(!yt(l)||l._proxy)return;const d=lm(a,l,NS(a,s),ts.scales[l.type]),u=LS(d,i),m=t.scales||{};r[a]=Ra(Object.create(null),[{axis:d},l,m[d],m[u]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,d=a.indexAxis||am(l,e),m=(tr[l]||{}).scales||{};Object.keys(m).forEach(p=>{const h=OS(p,d),_=a[h+"AxisID"]||h;r[_]=r[_]||Object.create(null),Ra(r[_],[{axis:h},o[_],m[p]])})}),Object.keys(r).forEach(a=>{const l=r[a];Ra(l,[ts.scales[l.type],ts.scale])}),r}function Xy(s){const e=s.options||(s.options={});e.plugins=pt(e.plugins,{}),e.scales=zS(s,e)}function Jy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function BS(s){return s=s||{},s.data=Jy(s.data),Xy(s),s}const yg=new Map,Qy=new Set;function Jl(s,e){let t=yg.get(s);return t||(t=e(),yg.set(s,t),Qy.add(t)),t}const da=(s,e,t)=>{const o=er(e,t);o!==void 0&&s.add(o)};class US{constructor(e){this._config=BS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Jy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Xy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,o=this.type;return Jl(`${o}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const o=this._scopeCache;let i=o.get(e);return(!i||t)&&(i=new Map,o.set(e,i)),i}getOptionScopes(e,t,o){const{options:i,type:r}=this,a=this._cachedScopes(e,o),l=a.get(t);if(l)return l;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(p=>da(d,e,p))),m.forEach(p=>da(d,i,p)),m.forEach(p=>da(d,tr[r]||{},p)),m.forEach(p=>da(d,ts,p)),m.forEach(p=>da(d,im,p))});const u=Array.from(d);return u.length===0&&u.push(Object.create(null)),Qy.has(t)&&a.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,tr[t]||{},ts.datasets[t]||{},{type:t},ts,im]}resolveNamedOptions(e,t,o,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=bg(this._resolverCache,e,i);let d=a;if(HS(a,t)){r.$shared=!1,o=mi(o)?o():o;const u=this.createResolver(e,o,l);d=Ir(a,o,u)}for(const u of t)r[u]=d[u];return r}createResolver(e,t,o=[""],i){const{resolver:r}=bg(this._resolverCache,e,o);return yt(t)?Ir(r,t,void 0,i):r}}function bg(s,e,t){let o=s.get(e);o||(o=new Map,s.set(e,o));const i=t.join();let r=o.get(i);return r||(r={resolver:vh(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},o.set(i,r)),r}const VS=s=>yt(s)&&Object.getOwnPropertyNames(s).some(e=>mi(s[e]));function HS(s,e){const{isScriptable:t,isIndexable:o}=Ey(s);for(const i of e){const r=t(i),a=o(i),l=(a||r)&&s[i];if(r&&(mi(l)||VS(l))||a&&Gt(l))return!0}return!1}var qS="4.5.1";const WS=["top","bottom","left","right","chartArea"];function xg(s,e){return s==="top"||s==="bottom"||WS.indexOf(s)===-1&&e==="x"}function wg(s,e){return function(t,o){return t[s]===o[s]?t[e]-o[e]:t[s]-o[s]}}function kg(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[s],e)}function KS(s){const e=s.chart,t=e.options.animation;Wt(t&&t.onProgress,[s],e)}function Zy(s){return xh()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Sd={},$g=s=>{const e=Zy(s);return Object.values(Sd).filter(t=>t.canvas===e).pop()};function YS(s,e,t){const o=Object.keys(s);for(const i of o){const r=+i;if(r>=e){const a=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=a)}}}function GS(s,e,t,o){return!t||s.type==="mouseout"?null:o?e:s}class kn{static register(...e){ao.add(...e),Cg()}static unregister(...e){ao.remove(...e),Cg()}constructor(e,t){const o=this.config=new US(t),i=Zy(e),r=$g(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||mS(i)),this.platform.updateConfig(o);const l=this.platform.acquireContext(i,a.aspectRatio),d=l&&l.canvas,u=d&&d.height,m=d&&d.width;this.id=GC(),this.ctx=l,this.canvas=d,this.width=m,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ES,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=f8(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Sd[this.id]=this,!(!l||!d)&&(wo.listen(this,"complete",kg),wo.listen(this,"progress",KS),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:i,_aspectRatio:r}=this;return St(e)?t&&r?r:i?o/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ao}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hp(this.canvas,this.ctx),this}stop(){return wo.stop(this),this}resize(e,t){wo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const o=this.options,i=this.canvas,r=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Kp(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Wt(o.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};It(t,(o,i)=>{o.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,o=this.scales,i=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],d=lm(a,l),u=d==="r",m=d==="x";return{options:l,dposition:u?"chartArea":m?"bottom":"left",dtype:u?"radialLinear":m?"category":"linear"}}))),It(r,a=>{const l=a.options,d=l.id,u=lm(d,l),m=pt(l.type,a.dtype);(l.position===void 0||xg(l.position,u)!==xg(a.dposition))&&(l.position=a.dposition),i[d]=!0;let p=null;if(d in o&&o[d].type===m)p=o[d];else{const h=ao.getScale(m);p=new h({id:d,type:m,ctx:this.ctx,chart:this}),o[p.id]=p}p.init(l,e)}),It(i,(a,l)=>{a||delete o[l]}),It(o,a=>{ni.configure(this,a,a.options),ni.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort((i,r)=>i.index-r.index),o>t){for(let i=t;i<o;++i)this._destroyDatasetMeta(i);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort(wg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((o,i)=>{t.filter(r=>r===o._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let o,i;for(this._removeUnreferencedMetasets(),o=0,i=t.length;o<i;o++){const r=t[o];let a=this.getDatasetMeta(o);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=r.indexAxis||am(l,this.options),a.order=r.order||0,a.index=o,a.label=""+r.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{const d=ao.getController(l),{datasetElementType:u,dataElementType:m}=ts.datasets[l];Object.assign(d,{dataElementType:ao.getElement(m),datasetElementType:u&&ao.getElement(u)}),a.controller=new d(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){It(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,m=this.data.datasets.length;u<m;u++){const{controller:p}=this.getDatasetMeta(u),h=!i&&r.indexOf(p)===-1;p.buildOrUpdateElements(h),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),i||It(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wg("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){It(this.scales,e=>{ni.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!Ip(t,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:o,start:i,count:r}of t){const a=o==="_removeElements"?-r:r;YS(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,o=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),i=o(0);for(let r=1;r<t;r++)if(!Ip(i,o(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,e);const t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],It(this.boxes,i=>{o&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,o=this.data.datasets.length;t<o;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,mi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const o=this.getDatasetMeta(e),i={meta:o,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(o.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wo.has(this)?this.attached&&!wo.running(this)&&wo.start(this):(this.draw(),kg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,o=[];let i,r;for(i=0,r=t.length;i<r;++i){const a=t[i];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,o={meta:e,index:e.index,cancelable:!0},i=By(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Qc(t,i),e.controller.draw(),i&&Zc(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Eo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,i){const r=W7.modes[t];return typeof r=="function"?r(this,e,o,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],o=this._metasets;let i=o.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(i)),i}getContext(){return this.$context||(this.$context=yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!t.hidden}setDatasetVisibility(e,t){const o=this.getDatasetMeta(e);o.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){const i=o?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);nl(t)?(r.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(r,{visible:o}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Sd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,o=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},i=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};It(this.options.events,r=>o(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,o=(d,u)=>{t.addEventListener(this,d,u),e[d]=u},i=(d,u)=>{e[d]&&(t.removeEventListener(this,d,u),delete e[d])},r=(d,u)=>{this.canvas&&this.resize(d,u)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),o("resize",r),o("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),o("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){It(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},It(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){const i=o?"set":"remove";let r,a,l,d;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],o=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Qd(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,o){const i=this.options.hover,r=(d,u)=>d.filter(m=>!u.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),a=r(t,e),l=o?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,i)===!1)return;const r=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,i),(r||o.changed)&&this.render(),this}_handleEvent(e,t,o){const{_active:i=[],options:r}=this,a=t,l=this._getActiveElements(e,i,o,a),d=t8(e),u=GS(e,this._lastEvent,o,d);o&&(this._lastEvent=null,Wt(r.onHover,[e,l,this],this),d&&Wt(r.onClick,[e,l,this],this));const m=!Qd(l,i);return(m||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=u,m}_getActiveElements(e,t,o,i){if(e.type==="mouseout")return[];if(!o)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}Ve(kn,"defaults",ts),Ve(kn,"instances",Sd),Ve(kn,"overrides",tr),Ve(kn,"registry",ao),Ve(kn,"version",qS),Ve(kn,"getChart",$g);function Cg(){return It(kn.instances,s=>s._plugins.invalidate())}function XS(s,e,t){const{startAngle:o,x:i,y:r,outerRadius:a,innerRadius:l,options:d}=e,{borderWidth:u,borderJoinStyle:m}=d,p=Math.min(u/a,Ns(o-t));if(s.beginPath(),s.arc(i,r,a-u/2,o+p/2,t-p/2),l>0){const h=Math.min(u/l,Ns(o-t));s.arc(i,r,l+u/2,t-h/2,o+h/2,!0)}else{const h=Math.min(u/2,a*Ns(o-t));if(m==="round")s.arc(i,r,h,t-Lt/2,o+Lt/2,!0);else if(m==="bevel"){const _=2*h*h,y=-_*Math.cos(t+Lt/2)+i,x=-_*Math.sin(t+Lt/2)+r,w=_*Math.cos(o+Lt/2)+i,k=_*Math.sin(o+Lt/2)+r;s.lineTo(y,x),s.lineTo(w,k)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function JS(s,e,t){const{startAngle:o,pixelMargin:i,x:r,y:a,outerRadius:l,innerRadius:d}=e;let u=i/l;s.beginPath(),s.arc(r,a,l,o-u,t+u),d>i?(u=i/d,s.arc(r,a,d,t+u,o-u,!0)):s.arc(r,a,i,t+is,o-is),s.closePath(),s.clip()}function QS(s){return _h(s,["outerStart","outerEnd","innerStart","innerEnd"])}function ZS(s,e,t,o){const i=QS(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,o*e/2),l=d=>{const u=(t-Math.min(r,d))*o/2;return Hs(d,0,Math.min(r,u))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Hs(i.innerStart,0,a),innerEnd:Hs(i.innerEnd,0,a)}}function cr(s,e,t,o){return{x:t+s*Math.cos(e),y:o+s*Math.sin(e)}}function oc(s,e,t,o,i,r){const{x:a,y:l,startAngle:d,pixelMargin:u,innerRadius:m}=e,p=Math.max(e.outerRadius+o+t-u,0),h=m>0?m+o+t+u:0;let _=0;const y=i-d;if(o){const le=m>0?m-o:0,de=p>0?p-o:0,ce=(le+de)/2,me=ce!==0?y*ce/(ce+o):y;_=(y-me)/2}const x=Math.max(.001,y*p-t/Lt)/p,w=(y-x)/2,k=d+w+_,b=i-w-_,{outerStart:M,outerEnd:S,innerStart:N,innerEnd:A}=ZS(e,h,p,b-k),T=p-M,D=p-S,L=k+M/T,I=b-S/D,O=h+N,P=h+A,B=k+N/O,be=b-A/P;if(s.beginPath(),r){const le=(L+I)/2;if(s.arc(a,l,p,L,le),s.arc(a,l,p,le,I),S>0){const Z=cr(D,I,a,l);s.arc(Z.x,Z.y,S,I,b+is)}const de=cr(P,b,a,l);if(s.lineTo(de.x,de.y),A>0){const Z=cr(P,be,a,l);s.arc(Z.x,Z.y,A,b+is,be+Math.PI)}const ce=(b-A/h+(k+N/h))/2;if(s.arc(a,l,h,b-A/h,ce,!0),s.arc(a,l,h,ce,k+N/h,!0),N>0){const Z=cr(O,B,a,l);s.arc(Z.x,Z.y,N,B+Math.PI,k-is)}const me=cr(T,k,a,l);if(s.lineTo(me.x,me.y),M>0){const Z=cr(T,L,a,l);s.arc(Z.x,Z.y,M,k-is,L)}}else{s.moveTo(a,l);const le=Math.cos(L)*p+a,de=Math.sin(L)*p+l;s.lineTo(le,de);const ce=Math.cos(I)*p+a,me=Math.sin(I)*p+l;s.lineTo(ce,me)}s.closePath()}function e9(s,e,t,o,i){const{fullCircles:r,startAngle:a,circumference:l}=e;let d=e.endAngle;if(r){oc(s,e,t,o,d,i);for(let u=0;u<r;++u)s.fill();isNaN(l)||(d=a+(l%Kt||Kt))}return oc(s,e,t,o,d,i),s.fill(),d}function t9(s,e,t,o,i){const{fullCircles:r,startAngle:a,circumference:l,options:d}=e,{borderWidth:u,borderJoinStyle:m,borderDash:p,borderDashOffset:h,borderRadius:_}=d,y=d.borderAlign==="inner";if(!u)return;s.setLineDash(p||[]),s.lineDashOffset=h,y?(s.lineWidth=u*2,s.lineJoin=m||"round"):(s.lineWidth=u,s.lineJoin=m||"bevel");let x=e.endAngle;if(r){oc(s,e,t,o,x,i);for(let w=0;w<r;++w)s.stroke();isNaN(l)||(x=a+(l%Kt||Kt))}y&&JS(s,e,x),d.selfJoin&&x-a>=Lt&&_===0&&m!=="miter"&&XS(s,e,x),r||(oc(s,e,t,o,x,i),s.stroke())}class _a extends bi{constructor(t){super();Ve(this,"circumference");Ve(this,"endAngle");Ve(this,"fullCircles");Ve(this,"innerRadius");Ve(this,"outerRadius");Ve(this,"pixelMargin");Ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,o,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=wy(r,{x:t,y:o}),{startAngle:d,endAngle:u,innerRadius:m,outerRadius:p,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,y=pt(h,u-d),x=il(a,d,u)&&d!==u,w=y>=Kt||x,k=Do(l,m+_,p+_);return w&&k}getCenterPoint(t){const{x:o,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:m}=this.options,p=(r+a)/2,h=(l+d+m+u)/2;return{x:o+Math.cos(p)*h,y:i+Math.sin(p)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:o,circumference:i}=this,r=(o.offset||0)/4,a=(o.spacing||0)/2,l=o.circular;if(this.pixelMargin=o.borderAlign==="inner"?.33:0,this.fullCircles=i>Kt?Math.floor(i/Kt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);const u=1-Math.sin(Math.min(Lt,i||0)),m=r*u;t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,e9(t,this,m,a,l),t9(t,this,m,a,l),t.restore()}}Ve(_a,"id","arc"),Ve(_a,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ve(_a,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ve(_a,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function eb(s,e,t=e){s.lineCap=pt(t.borderCapStyle,e.borderCapStyle),s.setLineDash(pt(t.borderDash,e.borderDash)),s.lineDashOffset=pt(t.borderDashOffset,e.borderDashOffset),s.lineJoin=pt(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=pt(t.borderWidth,e.borderWidth),s.strokeStyle=pt(t.borderColor,e.borderColor)}function s9(s,e,t){s.lineTo(t.x,t.y)}function n9(s){return s.stepped?S8:s.tension||s.cubicInterpolationMode==="monotone"?M8:s9}function tb(s,e,t={}){const o=s.length,{start:i=0,end:r=o-1}=t,{start:a,end:l}=e,d=Math.max(i,a),u=Math.min(r,l),m=i<a&&r<a||i>l&&r>l;return{count:o,start:d,loop:e.loop,ilen:u<d&&!m?o+u-d:u-d}}function o9(s,e,t,o){const{points:i,options:r}=e,{count:a,start:l,loop:d,ilen:u}=tb(i,t,o),m=n9(r);let{move:p=!0,reverse:h}=o||{},_,y,x;for(_=0;_<=u;++_)y=i[(l+(h?u-_:_))%a],!y.skip&&(p?(s.moveTo(y.x,y.y),p=!1):m(s,x,y,h,r.stepped),x=y);return d&&(y=i[(l+(h?u:0))%a],m(s,x,y,h,r.stepped)),!!d}function i9(s,e,t,o){const i=e.points,{count:r,start:a,ilen:l}=tb(i,t,o),{move:d=!0,reverse:u}=o||{};let m=0,p=0,h,_,y,x,w,k;const b=S=>(a+(u?l-S:S))%r,M=()=>{x!==w&&(s.lineTo(m,w),s.lineTo(m,x),s.lineTo(m,k))};for(d&&(_=i[b(0)],s.moveTo(_.x,_.y)),h=0;h<=l;++h){if(_=i[b(h)],_.skip)continue;const S=_.x,N=_.y,A=S|0;A===y?(N<x?x=N:N>w&&(w=N),m=(p*m+S)/++p):(M(),s.lineTo(S,N),y=A,p=0,x=w=N),k=N}M()}function dm(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?i9:o9}function r9(s){return s.stepped?i7:s.tension||s.cubicInterpolationMode==="monotone"?r7:Fi}function a9(s,e,t,o){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,o)&&i.closePath()),eb(s,e.options),s.stroke(i)}function l9(s,e,t,o){const{segments:i,options:r}=e,a=dm(e);for(const l of i)eb(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+o-1})&&s.closePath(),s.stroke()}const d9=typeof Path2D=="function";function c9(s,e,t,o){d9&&!e.options.segment?a9(s,e,t,o):l9(s,e,t,o)}class oi extends bi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const i=o.spanGaps?this._loop:this._fullLoop;J8(this._points,o,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=f7(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){const o=this.options,i=e[t],r=this.points,a=zy(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],d=r9(o);let u,m;for(u=0,m=a.length;u<m;++u){const{start:p,end:h}=a[u],_=r[p],y=r[h];if(_===y){l.push(_);continue}const x=Math.abs((i-_[t])/(y[t]-_[t])),w=d(_,y,x,o.stepped);w[t]=e[t],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,t,o){return dm(this)(e,this,t,o)}path(e,t,o){const i=this.segments,r=dm(this);let a=this._loop;t=t||0,o=o||this.points.length-t;for(const l of i)a&=r(e,this,l,{start:t,end:t+o-1});return!!a}draw(e,t,o,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),c9(e,this,o,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ve(oi,"id","line"),Ve(oi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ve(oi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ve(oi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Sg(s,e,t,o){const i=s.options,{[t]:r}=s.getProps([t],o);return Math.abs(e-r)<i.radius+i.hitRadius}class Md extends bi{constructor(t){super();Ve(this,"parsed");Ve(this,"skip");Ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,o,i){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(o-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,o){return Sg(this,t,"x",o)}inYRange(t,o){return Sg(this,t,"y",o)}getCenterPoint(t){const{x:o,y:i}=this.getProps(["x","y"],t);return{x:o,y:i}}size(t){t=t||this.options||{};let o=t.radius||0;o=Math.max(o,o&&t.hoverRadius||0);const i=o&&t.borderWidth||0;return(o+i)*2}draw(t,o){const i=this.options;this.skip||i.radius<.1||!Eo(this,o,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,rm(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ve(Md,"id","point"),Ve(Md,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ve(Md,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function sb(s,e){const{x:t,y:o,base:i,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,d,u,m,p;return s.horizontal?(p=a/2,l=Math.min(t,i),d=Math.max(t,i),u=o-p,m=o+p):(p=r/2,l=t-p,d=t+p,u=Math.min(o,i),m=Math.max(o,i)),{left:l,top:u,right:d,bottom:m}}function ii(s,e,t,o){return s?0:Hs(e,t,o)}function u9(s,e,t){const o=s.options.borderWidth,i=s.borderSkipped,r=Dy(o);return{t:ii(i.top,r.top,0,t),r:ii(i.right,r.right,0,e),b:ii(i.bottom,r.bottom,0,t),l:ii(i.left,r.left,0,e)}}function f9(s,e,t){const{enableBorderRadius:o}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=Yi(i),a=Math.min(e,t),l=s.borderSkipped,d=o||yt(i);return{topLeft:ii(!d||l.top||l.left,r.topLeft,0,a),topRight:ii(!d||l.top||l.right,r.topRight,0,a),bottomLeft:ii(!d||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:ii(!d||l.bottom||l.right,r.bottomRight,0,a)}}function m9(s){const e=sb(s),t=e.right-e.left,o=e.bottom-e.top,i=u9(s,t/2,o/2),r=f9(s,t/2,o/2);return{outer:{x:e.left,y:e.top,w:t,h:o,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:o-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function tf(s,e,t,o){const i=e===null,r=t===null,l=s&&!(i&&r)&&sb(s,o);return l&&(i||Do(e,l.left,l.right))&&(r||Do(t,l.top,l.bottom))}function h9(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function p9(s,e){s.rect(e.x,e.y,e.w,e.h)}function sf(s,e,t={}){const o=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-o,a=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+o,y:s.y+i,w:s.w+r,h:s.h+a,radius:s.radius}}class Td extends bi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:o,backgroundColor:i}}=this,{inner:r,outer:a}=m9(this),l=h9(a.radius)?rl:p9;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,sf(a,t,r)),e.clip(),l(e,sf(r,-t,a)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),l(e,sf(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,o){return tf(this,e,t,o)}inXRange(e,t){return tf(this,e,null,t)}inYRange(e,t){return tf(this,null,e,t)}getCenterPoint(e){const{x:t,y:o,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?o:(o+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ve(Td,"id","bar"),Ve(Td,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ve(Td,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function g9(s,e,t){const o=s.segments,i=s.points,r=e.points,a=[];for(const l of o){let{start:d,end:u}=l;u=tu(d,u,i);const m=cm(t,i[d],i[u],l.loop);if(!e.segments){a.push({source:l,target:m,start:i[d],end:i[u]});continue}const p=zy(e,m);for(const h of p){const _=cm(t,r[h.start],r[h.end],h.loop),y=Ny(l,i,_);for(const x of y)a.push({source:x,target:h,start:{[t]:Mg(m,_,"start",Math.max)},end:{[t]:Mg(m,_,"end",Math.min)}})}}return a}function cm(s,e,t,o){if(o)return;let i=e[s],r=t[s];return s==="angle"&&(i=Ns(i),r=Ns(r)),{property:s,start:i,end:r}}function _9(s,e){const{x:t=null,y:o=null}=s||{},i=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=tu(a,l,i);const d=i[a],u=i[l];o!==null?(r.push({x:d.x,y:o}),r.push({x:u.x,y:o})):t!==null&&(r.push({x:t,y:d.y}),r.push({x:t,y:u.y}))}),r}function tu(s,e,t){for(;e>s;e--){const o=t[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function Mg(s,e,t,o){return s&&e?o(s[t],e[t]):s?s[t]:e?e[t]:0}function nb(s,e){let t=[],o=!1;return Gt(s)?(o=!0,t=s):t=_9(s,e),t.length?new oi({points:t,options:{tension:0},_loop:o,_fullLoop:o}):null}function Tg(s){return s&&s.fill!==!1}function v9(s,e,t){let i=s[e].fill;const r=[e];let a;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!es(i))return i;if(a=s[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function y9(s,e,t){const o=k9(s);if(yt(o))return isNaN(o.value)?!1:o;let i=parseFloat(o);return es(i)&&Math.floor(i)===i?b9(o[0],e,i,t):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function b9(s,e,t,o){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=o?!1:t}function x9(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:yt(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function w9(s,e,t){let o;return s==="start"?o=t:s==="end"?o=e.options.reverse?e.min:e.max:yt(s)?o=s.value:o=e.getBaseValue(),o}function k9(s){const e=s.options,t=e.fill;let o=pt(t&&t.target,t);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function $9(s){const{scale:e,index:t,line:o}=s,i=[],r=o.segments,a=o.points,l=C9(e,t);l.push(nb({x:null,y:e.bottom},o));for(let d=0;d<r.length;d++){const u=r[d];for(let m=u.start;m<=u.end;m++)S9(i,a[m],l)}return new oi({points:i,options:{}})}function C9(s,e){const t=[],o=s.getMatchingVisibleMetas("line");for(let i=0;i<o.length;i++){const r=o[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function S9(s,e,t){const o=[];for(let i=0;i<t.length;i++){const r=t[i],{first:a,last:l,point:d}=M9(r,e,"x");if(!(!d||a&&l)){if(a)o.unshift(d);else if(s.push(d),!l)break}}s.push(...o)}function M9(s,e,t){const o=s.interpolate(e,t);if(!o)return{};const i=o[t],r=s.segments,a=s.points;let l=!1,d=!1;for(let u=0;u<r.length;u++){const m=r[u],p=a[m.start][t],h=a[m.end][t];if(Do(i,p,h)){l=i===p,d=i===h;break}}return{first:l,last:d,point:o}}class ob{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,o){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:Kt},e.arc(i,r,a,t.end,t.start,!0),!o.bounds}interpolate(e){const{x:t,y:o,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:o+Math.sin(r)*i,angle:r}}}function T9(s){const{chart:e,fill:t,line:o}=s;if(es(t))return A9(e,t);if(t==="stack")return $9(s);if(t==="shape")return!0;const i=D9(s);return i instanceof ob?i:nb(i,o)}function A9(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function D9(s){return(s.scale||{}).getPointPositionForValue?P9(s):E9(s)}function E9(s){const{scale:e={},fill:t}=s,o=x9(t,e);if(es(o)){const i=e.isHorizontal();return{x:i?o:null,y:i?null:o}}return null}function P9(s){const{scale:e,fill:t}=s,o=e.options,i=e.getLabels().length,r=o.reverse?e.max:e.min,a=w9(t,e,r),l=[];if(o.grid.circular){const d=e.getPointPositionForValue(0,r);return new ob({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<i;++d)l.push(e.getPointPositionForValue(d,a));return l}function nf(s,e,t){const o=T9(e),{chart:i,index:r,line:a,scale:l,axis:d}=e,u=a.options,m=u.fill,p=u.backgroundColor,{above:h=p,below:_=p}=m||{},y=i.getDatasetMeta(r),x=By(i,y);o&&a.points.length&&(Qc(s,t),j9(s,{line:a,target:o,above:h,below:_,area:t,scale:l,axis:d,clip:x}),Zc(s))}function j9(s,e){const{line:t,target:o,above:i,below:r,area:a,scale:l,clip:d}=e,u=t._loop?"angle":e.axis;s.save();let m=r;r!==i&&(u==="x"?(Ag(s,o,a.top),of(s,{line:t,target:o,color:i,scale:l,property:u,clip:d}),s.restore(),s.save(),Ag(s,o,a.bottom)):u==="y"&&(Dg(s,o,a.left),of(s,{line:t,target:o,color:r,scale:l,property:u,clip:d}),s.restore(),s.save(),Dg(s,o,a.right),m=i)),of(s,{line:t,target:o,color:m,scale:l,property:u,clip:d}),s.restore()}function Ag(s,e,t){const{segments:o,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of o){const{start:d,end:u}=l,m=i[d],p=i[tu(d,u,i)];r?(s.moveTo(m.x,m.y),r=!1):(s.lineTo(m.x,t),s.lineTo(m.x,m.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(p.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function Dg(s,e,t){const{segments:o,points:i}=e;let r=!0,a=!1;s.beginPath();for(const l of o){const{start:d,end:u}=l,m=i[d],p=i[tu(d,u,i)];r?(s.moveTo(m.x,m.y),r=!1):(s.lineTo(t,m.y),s.lineTo(m.x,m.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(t,p.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function of(s,e){const{line:t,target:o,property:i,color:r,scale:a,clip:l}=e,d=g9(t,o,i);for(const{source:u,target:m,start:p,end:h}of d){const{style:{backgroundColor:_=r}={}}=u,y=o!==!0;s.save(),s.fillStyle=_,R9(s,a,l,y&&cm(i,p,h)),s.beginPath();const x=!!t.pathSegment(s,u);let w;if(y){x?s.closePath():Eg(s,o,h,i);const k=!!o.pathSegment(s,m,{move:x,reverse:!0});w=x&&k,w||Eg(s,o,p,i)}s.closePath(),s.fill(w?"evenodd":"nonzero"),s.restore()}}function R9(s,e,t,o){const i=e.chart.chartArea,{property:r,start:a,end:l}=o||{};if(r==="x"||r==="y"){let d,u,m,p;r==="x"?(d=a,u=i.top,m=l,p=i.bottom):(d=i.left,u=a,m=i.right,p=l),s.beginPath(),t&&(d=Math.max(d,t.left),m=Math.min(m,t.right),u=Math.max(u,t.top),p=Math.min(p,t.bottom)),s.rect(d,u,m-d,p-u),s.clip()}}function Eg(s,e,t,o){const i=e.interpolate(t,o);i&&s.lineTo(i.x,i.y)}var I9={id:"filler",afterDatasetsUpdate(s,e,t){const o=(s.data.datasets||[]).length,i=[];let r,a,l,d;for(a=0;a<o;++a)r=s.getDatasetMeta(a),l=r.dataset,d=null,l&&l.options&&l instanceof oi&&(d={visible:s.isDatasetVisible(a),index:a,fill:y9(l,a,o),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=d,i.push(d);for(a=0;a<o;++a)d=i[a],!(!d||d.fill===!1)&&(d.fill=v9(i,a,t.propagate))},beforeDraw(s,e,t){const o=t.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),o&&l.fill&&nf(s.ctx,l,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const o=s.getSortedVisibleDatasetMetas();for(let i=o.length-1;i>=0;--i){const r=o[i].$filler;Tg(r)&&nf(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const o=e.meta.$filler;!Tg(o)||t.drawTime!=="beforeDatasetDraw"||nf(s.ctx,o,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Pg=(s,e)=>{let{boxHeight:t=e,boxWidth:o=e}=s;return s.usePointStyle&&(t=Math.min(t,e),o=s.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:t,itemHeight:Math.max(e,t)}},O9=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class jg extends bi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,o){this.maxWidth=e,this.maxHeight=t,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(o=>e.filter(o,this.chart.data))),e.sort&&(t=t.sort((o,i)=>e.sort(o,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,i=Ds(o.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=Pg(o,r);let u,m;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,m=this._fitRows(a,r,l,d)+10):(m=this.maxHeight,u=this._fitCols(a,i,l,d)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,o,i){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.lineWidths=[0],m=i+l;let p=e;r.textAlign="left",r.textBaseline="middle";let h=-1,_=-m;return this.legendItems.forEach((y,x)=>{const w=o+t/2+r.measureText(y.text).width;(x===0||u[u.length-1]+w+2*l>a)&&(p+=m,u[u.length-(x>0?0:1)]=0,_+=m,h++),d[x]={left:0,top:_,row:h,width:w,height:i},u[u.length-1]+=w+l}),p}_fitCols(e,t,o,i){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.columnSizes=[],m=a-e;let p=l,h=0,_=0,y=0,x=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:b,itemHeight:M}=L9(o,t,r,w,i);k>0&&_+M+2*l>m&&(p+=h+l,u.push({width:h,height:_}),y+=h+l,x++,h=_=0),d[k]={left:y,top:_,col:x,width:b,height:M},h=Math.max(h,b),_+=M+l}),p+=h,u.push({width:h,height:_}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:o,labels:{padding:i},rtl:r}}=this,a=wr(r,this.left,this.width);if(this.isHorizontal()){let l=0,d=bn(o,this.left+i,this.right-this.lineWidths[l]);for(const u of t)l!==u.row&&(l=u.row,d=bn(o,this.left+i,this.right-this.lineWidths[l])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(d),u.width),d+=u.width+i}else{let l=0,d=bn(o,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const u of t)u.col!==l&&(l=u.col,d=bn(o,this.top+e+i,this.bottom-this.columnSizes[l].height)),u.top=d,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),d+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Qc(e,this),this._draw(),Zc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:o,ctx:i}=this,{align:r,labels:a}=e,l=ts.color,d=wr(e.rtl,this.left,this.width),u=Ds(a.font),{padding:m}=a,p=u.size,h=p/2;let _;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:y,boxHeight:x,itemHeight:w}=Pg(a,p),k=function(A,T,D){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;i.save();const L=pt(D.lineWidth,1);if(i.fillStyle=pt(D.fillStyle,l),i.lineCap=pt(D.lineCap,"butt"),i.lineDashOffset=pt(D.lineDashOffset,0),i.lineJoin=pt(D.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=pt(D.strokeStyle,l),i.setLineDash(pt(D.lineDash,[])),a.usePointStyle){const I={radius:x*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:L},O=d.xPlus(A,y/2),P=T+h;Ay(i,I,O,P,a.pointStyleWidth&&y)}else{const I=T+Math.max((p-x)/2,0),O=d.leftForLtr(A,y),P=Yi(D.borderRadius);i.beginPath(),Object.values(P).some(B=>B!==0)?rl(i,{x:O,y:I,w:y,h:x,radius:P}):i.rect(O,I,y,x),i.fill(),L!==0&&i.stroke()}i.restore()},b=function(A,T,D){Rr(i,D.text,A,T+w/2,u,{strikethrough:D.hidden,textAlign:d.textAlign(D.textAlign)})},M=this.isHorizontal(),S=this._computeTitleHeight();M?_={x:bn(r,this.left+m,this.right-o[0]),y:this.top+m+S,line:0}:_={x:this.left+m,y:bn(r,this.top+S+m,this.bottom-t[0].height),line:0},Oy(this.ctx,e.textDirection);const N=w+m;this.legendItems.forEach((A,T)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const D=i.measureText(A.text).width,L=d.textAlign(A.textAlign||(A.textAlign=a.textAlign)),I=y+h+D;let O=_.x,P=_.y;d.setWidth(this.width),M?T>0&&O+I+m>this.right&&(P=_.y+=N,_.line++,O=_.x=bn(r,this.left+m,this.right-o[_.line])):T>0&&P+N>this.bottom&&(O=_.x=O+t[_.line].width+m,_.line++,P=_.y=bn(r,this.top+S+m,this.bottom-t[_.line].height));const B=d.x(O);if(k(B,P,A),O=m8(L,O+y+h,M?O+I:this.right,e.rtl),b(d.x(O),P,A),M)_.x+=I+m;else if(typeof A.text!="string"){const be=u.lineHeight;_.y+=ib(A,be)+m}else _.y+=N}),Ly(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,o=Ds(t.font),i=tn(t.padding);if(!t.display)return;const r=wr(e.rtl,this.left,this.width),a=this.ctx,l=t.position,d=o.size/2,u=i.top+d;let m,p=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),m=this.top+u,p=bn(e.align,p,this.right-h);else{const y=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);m=u+bn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const _=bn(l,p,p+h);a.textAlign=r.textAlign(My(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=o.string,Rr(a,t.text,_,m,o)}_computeTitleHeight(){const e=this.options.title,t=Ds(e.font),o=tn(e.padding);return e.display?t.lineHeight+o.height:0}_getLegendItemAt(e,t){let o,i,r;if(Do(e,this.left,this.right)&&Do(t,this.top,this.bottom)){for(r=this.legendHitBoxes,o=0;o<r.length;++o)if(i=r[o],Do(e,i.left,i.left+i.width)&&Do(t,i.top,i.top+i.height))return this.legendItems[o]}return null}handleEvent(e){const t=this.options;if(!z9(e.type,t))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=O9(i,o);i&&!r&&Wt(t.onLeave,[e,i,this],this),this._hoveredItem=o,o&&!r&&Wt(t.onHover,[e,o,this],this)}else o&&Wt(t.onClick,[e,o,this],this)}}function L9(s,e,t,o,i){const r=F9(o,s,e,t),a=N9(i,o,e.lineHeight);return{itemWidth:r,itemHeight:a}}function F9(s,e,t,o){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+o.measureText(i).width}function N9(s,e,t){let o=s;return typeof e.text!="string"&&(o=ib(e,t)),o}function ib(s,e){const t=s.text?s.text.length:0;return e*t}function z9(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var rb={id:"legend",_element:jg,start(s,e,t){const o=s.legend=new jg({ctx:s.ctx,options:t,chart:s});ni.configure(s,o,t),ni.addBox(s,o)},stop(s){ni.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const o=s.legend;ni.configure(s,o,t),o.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const o=e.datasetIndex,i=t.chart;i.isDatasetVisible(o)?(i.hide(o),e.hidden=!0):(i.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:o,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(d=>{const u=d.controller.getStyle(t?0:void 0),m=tn(u.borderWidth);return{text:e[d.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:u.borderColor,pointStyle:o||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:d.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const va={average(s){if(!s.length)return!1;let e,t,o=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const d=l.tooltipPosition();o.add(d.x),i+=d.y,++r}}return r===0||o.size===0?!1:{x:[...o].reduce((l,d)=>l+d)/o.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,o=e.y,i=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const d=s[r].element;if(d&&d.hasValue()){const u=d.getCenterPoint(),m=om(e,u);m<i&&(i=m,l=d)}}if(l){const d=l.tooltipPosition();t=d.x,o=d.y}return{x:t,y:o}}};function io(s,e){return e&&(Gt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function ko(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function B9(s,e){const{element:t,datasetIndex:o,index:i}=e,r=s.getDatasetMeta(o).controller,{label:a,value:l}=r.getLabelAndValue(i);return{chart:s,label:a,parsed:r.getParsed(i),raw:s.data.datasets[o].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:o,element:t}}function Rg(s,e){const t=s.chart.ctx,{body:o,footer:i,title:r}=s,{boxWidth:a,boxHeight:l}=e,d=Ds(e.bodyFont),u=Ds(e.titleFont),m=Ds(e.footerFont),p=r.length,h=i.length,_=o.length,y=tn(e.padding);let x=y.height,w=0,k=o.reduce((S,N)=>S+N.before.length+N.lines.length+N.after.length,0);if(k+=s.beforeBody.length+s.afterBody.length,p&&(x+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),k){const S=e.displayColors?Math.max(l,d.lineHeight):d.lineHeight;x+=_*S+(k-_)*d.lineHeight+(k-1)*e.bodySpacing}h&&(x+=e.footerMarginTop+h*m.lineHeight+(h-1)*e.footerSpacing);let b=0;const M=function(S){w=Math.max(w,t.measureText(S).width+b)};return t.save(),t.font=u.string,It(s.title,M),t.font=d.string,It(s.beforeBody.concat(s.afterBody),M),b=e.displayColors?a+2+e.boxPadding:0,It(o,S=>{It(S.before,M),It(S.lines,M),It(S.after,M)}),b=0,t.font=m.string,It(s.footer,M),t.restore(),w+=y.width,{width:w,height:x}}function U9(s,e){const{y:t,height:o}=e;return t<o/2?"top":t>s.height-o/2?"bottom":"center"}function V9(s,e,t,o){const{x:i,width:r}=o,a=t.caretSize+t.caretPadding;if(s==="left"&&i+r+a>e.width||s==="right"&&i-r-a<0)return!0}function H9(s,e,t,o){const{x:i,width:r}=t,{width:a,chartArea:{left:l,right:d}}=s;let u="center";return o==="center"?u=i<=(l+d)/2?"left":"right":i<=r/2?u="left":i>=a-r/2&&(u="right"),V9(u,s,e,t)&&(u="center"),u}function Ig(s,e,t){const o=t.yAlign||e.yAlign||U9(s,t);return{xAlign:t.xAlign||e.xAlign||H9(s,e,t,o),yAlign:o}}function q9(s,e){let{x:t,width:o}=s;return e==="right"?t-=o:e==="center"&&(t-=o/2),t}function W9(s,e,t){let{y:o,height:i}=s;return e==="top"?o+=t:e==="bottom"?o-=i+t:o-=i/2,o}function Og(s,e,t,o){const{caretSize:i,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:d}=t,u=i+r,{topLeft:m,topRight:p,bottomLeft:h,bottomRight:_}=Yi(a);let y=q9(e,l);const x=W9(e,d,u);return d==="center"?l==="left"?y+=u:l==="right"&&(y-=u):l==="left"?y-=Math.max(m,h)+i:l==="right"&&(y+=Math.max(p,_)+i),{x:Hs(y,0,o.width-e.width),y:Hs(x,0,o.height-e.height)}}function Ql(s,e,t){const o=tn(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-o.right:s.x+o.left}function Lg(s){return io([],ko(s))}function K9(s,e,t){return yi(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Fg(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const ab={beforeTitle:xo,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,o=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return t[e.dataIndex]}return""},afterTitle:xo,beforeBody:xo,beforeLabel:xo,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return St(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xo,afterBody:xo,beforeFooter:xo,footer:xo,afterFooter:xo};function nn(s,e,t,o){const i=s[e].call(t,o);return typeof i>"u"?ab[e].call(t,o):i}class um extends bi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,o=this.options.setContext(this.getContext()),i=o.enabled&&t.options.animation&&o.animations,r=new Uy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=K9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:o}=t,i=nn(o,"beforeTitle",this,e),r=nn(o,"title",this,e),a=nn(o,"afterTitle",this,e);let l=[];return l=io(l,ko(i)),l=io(l,ko(r)),l=io(l,ko(a)),l}getBeforeBody(e,t){return Lg(nn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:o}=t,i=[];return It(e,r=>{const a={before:[],lines:[],after:[]},l=Fg(o,r);io(a.before,ko(nn(l,"beforeLabel",this,r))),io(a.lines,nn(l,"label",this,r)),io(a.after,ko(nn(l,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,t){return Lg(nn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:o}=t,i=nn(o,"beforeFooter",this,e),r=nn(o,"footer",this,e),a=nn(o,"afterFooter",this,e);let l=[];return l=io(l,ko(i)),l=io(l,ko(r)),l=io(l,ko(a)),l}_createItems(e){const t=this._active,o=this.chart.data,i=[],r=[],a=[];let l=[],d,u;for(d=0,u=t.length;d<u;++d)l.push(B9(this.chart,t[d]));return e.filter&&(l=l.filter((m,p,h)=>e.filter(m,p,h,o))),e.itemSort&&(l=l.sort((m,p)=>e.itemSort(m,p,o))),It(l,m=>{const p=Fg(e.callbacks,m);i.push(nn(p,"labelColor",this,m)),r.push(nn(p,"labelPointStyle",this,m)),a.push(nn(p,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const o=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=va[o.position].call(this,i,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);const d=this._size=Rg(this,o),u=Object.assign({},l,d),m=Ig(this.chart,o,u),p=Og(o,u,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:p.x,y:p.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,i){const r=this.getCaretPosition(e,o,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,o){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:p}=Yi(l),{x:h,y:_}=e,{width:y,height:x}=t;let w,k,b,M,S,N;return r==="center"?(S=_+x/2,i==="left"?(w=h,k=w-a,M=S+a,N=S-a):(w=h+y,k=w+a,M=S-a,N=S+a),b=w):(i==="left"?k=h+Math.max(d,m)+a:i==="right"?k=h+y-Math.max(u,p)-a:k=this.caretX,r==="top"?(M=_,S=M-a,w=k-a,b=k+a):(M=_+x,S=M+a,w=k+a,b=k-a),N=M),{x1:w,x2:k,x3:b,y1:M,y2:S,y3:N}}drawTitle(e,t,o){const i=this.title,r=i.length;let a,l,d;if(r){const u=wr(o.rtl,this.x,this.width);for(e.x=Ql(this,o.titleAlign,o),t.textAlign=u.textAlign(o.titleAlign),t.textBaseline="middle",a=Ds(o.titleFont),l=o.titleSpacing,t.fillStyle=o.titleColor,t.font=a.string,d=0;d<r;++d)t.fillText(i[d],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===r&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,t,o,i,r){const a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:d,boxWidth:u}=r,m=Ds(r.bodyFont),p=Ql(this,"left",r),h=i.x(p),_=d<m.lineHeight?(m.lineHeight-d)/2:0,y=t.y+_;if(r.usePointStyle){const x={radius:Math.min(u,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=i.leftForLtr(h,u)+u/2,k=y+d/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,rm(e,x,w,k),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,rm(e,x,w,k)}else{e.lineWidth=yt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=i.leftForLtr(h,u),w=i.leftForLtr(i.xPlus(h,1),u-2),k=Yi(a.borderRadius);Object.values(k).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,rl(e,{x,y,w:u,h:d,radius:k}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),rl(e,{x:w,y:y+1,w:u-2,h:d-2,radius:k}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,y,u,d),e.strokeRect(x,y,u,d),e.fillStyle=a.backgroundColor,e.fillRect(w,y+1,u-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:u,boxPadding:m}=o,p=Ds(o.bodyFont);let h=p.lineHeight,_=0;const y=wr(o.rtl,this.x,this.width),x=function(D){t.fillText(D,y.x(e.x+_),e.y+h/2),e.y+=h+r},w=y.textAlign(a);let k,b,M,S,N,A,T;for(t.textAlign=a,t.textBaseline="middle",t.font=p.string,e.x=Ql(this,w,o),t.fillStyle=o.bodyColor,It(this.beforeBody,x),_=l&&w!=="right"?a==="center"?u/2+m:u+2+m:0,S=0,A=i.length;S<A;++S){for(k=i[S],b=this.labelTextColors[S],t.fillStyle=b,It(k.before,x),M=k.lines,l&&M.length&&(this._drawColorBox(t,e,S,y,o),h=Math.max(p.lineHeight,d)),N=0,T=M.length;N<T;++N)x(M[N]),h=p.lineHeight;It(k.after,x)}_=0,h=p.lineHeight,It(this.afterBody,x),e.y-=r}drawFooter(e,t,o){const i=this.footer,r=i.length;let a,l;if(r){const d=wr(o.rtl,this.x,this.width);for(e.x=Ql(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=d.textAlign(o.footerAlign),t.textBaseline="middle",a=Ds(o.footerFont),t.fillStyle=o.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(i[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,t,o,i){const{xAlign:r,yAlign:a}=this,{x:l,y:d}=e,{width:u,height:m}=o,{topLeft:p,topRight:h,bottomLeft:_,bottomRight:y}=Yi(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+p,d),a==="top"&&this.drawCaret(e,t,o,i),t.lineTo(l+u-h,d),t.quadraticCurveTo(l+u,d,l+u,d+h),a==="center"&&r==="right"&&this.drawCaret(e,t,o,i),t.lineTo(l+u,d+m-y),t.quadraticCurveTo(l+u,d+m,l+u-y,d+m),a==="bottom"&&this.drawCaret(e,t,o,i),t.lineTo(l+_,d+m),t.quadraticCurveTo(l,d+m,l,d+m-_),a==="center"&&r==="left"&&this.drawCaret(e,t,o,i),t.lineTo(l,d+p),t.quadraticCurveTo(l,d,l+p,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,o=this.$animations,i=o&&o.x,r=o&&o.y;if(i||r){const a=va[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Rg(this,e),d=Object.assign({},a,this._size),u=Ig(t,e,d),m=Og(e,d,u,t);(i._to!==m.x||r._to!==m.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const a=tn(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(r,e,i,t),Oy(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Ly(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const o=this._active,i=e.map(({datasetIndex:l,index:d})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[d],index:d}}),r=!Qd(o,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,o),l=this._positionChanged(a,e),d=t||!Qd(a,r)||l;return d&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,o,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,o);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:o,caretY:i,options:r}=this,a=va[r.position].call(this,e,t);return a!==!1&&(o!==a.x||i!==a.y)}}Ve(um,"positioners",va);var $h={id:"tooltip",_element:um,positioners:va,afterInit(s,e,t){t&&(s.tooltip=new um({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ab},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Y9=(s,e,t,o)=>(typeof e=="string"?(t=s.push(e)-1,o.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function G9(s,e,t,o){const i=s.indexOf(e);if(i===-1)return Y9(s,e,t,o);const r=s.lastIndexOf(e);return i!==r?t:i}const X9=(s,e)=>s===null?null:Hs(Math.round(s),0,e);function Ng(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class ll extends nr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const o=this.getLabels();for(const{index:i,label:r}of t)o[i]===r&&o.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(St(e))return null;const o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:G9(o,e,pt(t,e),this._addedLabels),X9(t,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:o,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),t||(i=this.getLabels().length-1)),this.min=o,this.max=i}buildTicks(){const e=this.min,t=this.max,o=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Ng.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ve(ll,"id","category"),Ve(ll,"defaults",{ticks:{callback:Ng}});function J9(s,e){const t=[],{bounds:i,step:r,min:a,max:l,precision:d,count:u,maxTicks:m,maxDigits:p,includeBounds:h}=s,_=r||1,y=m-1,{min:x,max:w}=e,k=!St(a),b=!St(l),M=!St(u),S=(w-x)/(p+1);let N=Lp((w-x)/y/_)*_,A,T,D,L;if(N<1e-14&&!k&&!b)return[{value:x},{value:w}];L=Math.ceil(w/N)-Math.floor(x/N),L>y&&(N=Lp(L*N/y/_)*_),St(d)||(A=Math.pow(10,d),N=Math.ceil(N*A)/A),i==="ticks"?(T=Math.floor(x/N)*N,D=Math.ceil(w/N)*N):(T=x,D=w),k&&b&&r&&r8((l-a)/r,N/1e3)?(L=Math.round(Math.min((l-a)/N,m)),N=(l-a)/L,T=a,D=l):M?(T=k?a:T,D=b?l:D,L=u-1,N=(D-T)/L):(L=(D-T)/N,Ia(L,Math.round(L),N/1e3)?L=Math.round(L):L=Math.ceil(L));const I=Math.max(Fp(N),Fp(T));A=Math.pow(10,St(d)?I:d),T=Math.round(T*A)/A,D=Math.round(D*A)/A;let O=0;for(k&&(h&&T!==a?(t.push({value:a}),T<a&&O++,Ia(Math.round((T+O*N)*A)/A,a,zg(a,S,s))&&O++):T<a&&O++);O<L;++O){const P=Math.round((T+O*N)*A)/A;if(b&&P>l)break;t.push({value:P})}return b&&h&&D!==l?t.length&&Ia(t[t.length-1].value,l,zg(l,S,s))?t[t.length-1].value=l:t.push({value:l}):(!b||D===l)&&t.push({value:D}),t}function zg(s,e,{horizontal:t,minRotation:o}){const i=fo(o),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class ic extends nr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return St(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:o}=this.getUserBounds();let{min:i,max:r}=this;const a=d=>i=t?i:d,l=d=>r=o?r:d;if(e){const d=ho(i),u=ho(r);d<0&&u<0?l(0):d>0&&u>0&&a(0)}if(i===r){let d=r===0?1:Math.abs(r*.05);l(r+d),e||a(i-d)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:o}=e,i;return o?(i=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,i>1e3&&(i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const i={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=J9(i,r);return e.bounds==="ticks"&&xy(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const i=(o-t)/Math.max(e.length-1,1)/2;t-=i,o+=i}this._startValue=t,this._endValue=o,this._valueRange=o-t}getLabelForValue(e){return Xc(e,this.chart.options.locale,this.options.ticks.format)}}class rc extends ic{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=es(e)?e:0,this.max=es(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,o=fo(this.options.ticks.minRotation),i=(e?Math.sin(o):Math.cos(o))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ve(rc,"id","linear"),Ve(rc,"defaults",{ticks:{callback:Jc.formatters.numeric}});const dl=s=>Math.floor(ti(s)),Pi=(s,e)=>Math.pow(10,dl(s)+e);function Bg(s){return s/Math.pow(10,dl(s))===1}function Ug(s,e,t){const o=Math.pow(10,t),i=Math.floor(s/o);return Math.ceil(e/o)-i}function Q9(s,e){const t=e-s;let o=dl(t);for(;Ug(s,e,o)>10;)o++;for(;Ug(s,e,o)<10;)o--;return Math.min(o,dl(s))}function Z9(s,{min:e,max:t}){e=wn(s.min,e);const o=[],i=dl(e);let r=Q9(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),d=i>r?Math.pow(10,i):0,u=Math.round((e-d)*a)/a,m=Math.floor((e-d)/l/10)*l*10;let p=Math.floor((u-m)/Math.pow(10,r)),h=wn(s.min,Math.round((d+m+p*Math.pow(10,r))*a)/a);for(;h<t;)o.push({value:h,major:Bg(h),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,a=r>=0?1:a),h=Math.round((d+m+p*Math.pow(10,r))*a)/a;const _=wn(s.max,h);return o.push({value:_,major:Bg(_),significand:p}),o}class Vg extends nr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const o=ic.prototype.parse.apply(this,[e,t]);if(o===0){this._zero=!0;return}return es(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=es(e)?Math.max(0,e):null,this.max=es(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!es(this._userMin)&&(this.min=e===Pi(this.min,0)?Pi(this.min,-1):Pi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let o=this.min,i=this.max;const r=l=>o=e?o:l,a=l=>i=t?i:l;o===i&&(o<=0?(r(1),a(10)):(r(Pi(o,-1)),a(Pi(i,1)))),o<=0&&r(Pi(i,-1)),i<=0&&a(Pi(o,1)),this.min=o,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},o=Z9(t,this);return e.bounds==="ticks"&&xy(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":Xc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ti(e),this._valueRange=ti(this.max)-ti(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ti(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Ve(Vg,"id","logarithmic"),Ve(Vg,"defaults",{ticks:{callback:Jc.formatters.logarithmic,major:{enabled:!0}}});function fm(s){const e=s.ticks;if(e.display&&s.display){const t=tn(e.backdropPadding);return pt(e.font&&e.font.size,ts.font.size)+t.height}return 0}function eM(s,e,t){return t=Gt(t)?t:[t],{w:C8(s,e.string,t),h:t.length*e.lineHeight}}function Hg(s,e,t,o,i){return s===o||s===i?{start:e-t/2,end:e+t/2}:s<o||s>i?{start:e-t,end:e}:{start:e,end:e+t}}function tM(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),o=[],i=[],r=s._pointLabels.length,a=s.options.pointLabels,l=a.centerPointLabels?Lt/r:0;for(let d=0;d<r;d++){const u=a.setContext(s.getPointLabelContext(d));i[d]=u.padding;const m=s.getPointPosition(d,s.drawingArea+i[d],l),p=Ds(u.font),h=eM(s.ctx,p,s._pointLabels[d]);o[d]=h;const _=Ns(s.getIndexAngle(d)+l),y=Math.round(hh(_)),x=Hg(y,m.x,h.w,0,180),w=Hg(y,m.y,h.h,90,270);sM(t,e,_,x,w)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=iM(s,o,i)}function sM(s,e,t,o,i){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,d=0;o.start<e.l?(l=(e.l-o.start)/r,s.l=Math.min(s.l,e.l-l)):o.end>e.r&&(l=(o.end-e.r)/r,s.r=Math.max(s.r,e.r+l)),i.start<e.t?(d=(e.t-i.start)/a,s.t=Math.min(s.t,e.t-d)):i.end>e.b&&(d=(i.end-e.b)/a,s.b=Math.max(s.b,e.b+d))}function nM(s,e,t){const o=s.drawingArea,{extra:i,additionalAngle:r,padding:a,size:l}=t,d=s.getPointPosition(e,o+i+a,r),u=Math.round(hh(Ns(d.angle+is))),m=lM(d.y,l.h,u),p=rM(u),h=aM(d.x,l.w,p);return{visible:!0,x:d.x,y:m,textAlign:p,left:h,top:m,right:h+l.w,bottom:m+l.h}}function oM(s,e){if(!e)return!0;const{left:t,top:o,right:i,bottom:r}=s;return!(Eo({x:t,y:o},e)||Eo({x:t,y:r},e)||Eo({x:i,y:o},e)||Eo({x:i,y:r},e))}function iM(s,e,t){const o=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:l}=r.pointLabels,d={extra:fm(r)/2,additionalAngle:a?Lt/i:0};let u;for(let m=0;m<i;m++){d.padding=t[m],d.size=e[m];const p=nM(s,m,d);o.push(p),l==="auto"&&(p.visible=oM(p,u),p.visible&&(u=p))}return o}function rM(s){return s===0||s===180?"center":s<180?"left":"right"}function aM(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function lM(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function dM(s,e,t){const{left:o,top:i,right:r,bottom:a}=t,{backdropColor:l}=e;if(!St(l)){const d=Yi(e.borderRadius),u=tn(e.backdropPadding);s.fillStyle=l;const m=o-u.left,p=i-u.top,h=r-o+u.width,_=a-i+u.height;Object.values(d).some(y=>y!==0)?(s.beginPath(),rl(s,{x:m,y:p,w:h,h:_,radius:d}),s.fill()):s.fillRect(m,p,h,_)}}function cM(s,e){const{ctx:t,options:{pointLabels:o}}=s;for(let i=e-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const a=o.setContext(s.getPointLabelContext(i));dM(t,a,r);const l=Ds(a.font),{x:d,y:u,textAlign:m}=r;Rr(t,s._pointLabels[i],d,u+l.lineHeight/2,l,{color:a.color,textAlign:m,textBaseline:"middle"})}}function lb(s,e,t,o){const{ctx:i}=s;if(t)i.arc(s.xCenter,s.yCenter,e,0,Kt);else{let r=s.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let a=1;a<o;a++)r=s.getPointPosition(a,e),i.lineTo(r.x,r.y)}}function uM(s,e,t,o,i){const r=s.ctx,a=e.circular,{color:l,lineWidth:d}=e;!a&&!o||!l||!d||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),lb(s,t,a,o),r.closePath(),r.stroke(),r.restore())}function fM(s,e,t){return yi(s,{label:t,index:e,type:"pointLabel"})}class Zl extends ic{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=tn(fm(this.options)/2),t=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(t,o)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=es(e)&&!isNaN(e)?e:0,this.max=es(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fm(this.options))}generateTickLabels(e){ic.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,o)=>{const i=Wt(this.options.pointLabels.callback,[t,o],this);return i||i===0?i:""}).filter((t,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?tM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,o,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((o-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,o,i))}getIndexAngle(e){const t=Kt/(this._pointLabels.length||1),o=this.options.startAngle||0;return Ns(e*t+fo(o))}getDistanceFromCenterForValue(e){if(St(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(St(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const o=t[e];return fM(this.getContext(),e,o)}}getPointPosition(e,t,o=0){const i=this.getIndexAngle(e)-is+o;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:o,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:o,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),lb(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:o,grid:i,border:r}=t,a=this._pointLabels.length;let l,d,u;if(t.pointLabels.display&&cM(this,a),i.display&&this.ticks.forEach((m,p)=>{if(p!==0||p===0&&this.min<0){d=this.getDistanceFromCenterForValue(m.value);const h=this.getContext(p),_=i.setContext(h),y=r.setContext(h);uM(this,_,d,a,y)}}),o.display){for(e.save(),l=a-1;l>=0;l--){const m=o.setContext(this.getPointLabelContext(l)),{color:p,lineWidth:h}=m;!h||!p||(e.lineWidth=h,e.strokeStyle=p,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(l,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,o=t.ticks;if(!o.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const u=o.setContext(this.getContext(d)),m=Ds(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),u.showLabelBackdrop){e.font=m.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const p=tn(u.backdropPadding);e.fillRect(-a/2-p.left,-r-m.size/2-p.top,a+p.width,m.size+p.height)}Rr(e,l.label,0,-r,m,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Ve(Zl,"id","radialLinear"),Ve(Zl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Jc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ve(Zl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ve(Zl,"descriptors",{angleLines:{_fallback:"grid"}});const su={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ln=Object.keys(su);function qg(s,e){return s-e}function Wg(s,e){if(St(e))return null;const t=s._adapter,{parser:o,round:i,isoWeekday:r}=s._parseOpts;let a=e;return typeof o=="function"&&(a=o(a)),es(a)||(a=typeof o=="string"?t.parse(a,o):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(ol(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function Kg(s,e,t,o){const i=ln.length;for(let r=ln.indexOf(s);r<i-1;++r){const a=su[ln[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=o)return ln[r]}return ln[i-1]}function mM(s,e,t,o,i){for(let r=ln.length-1;r>=ln.indexOf(t);r--){const a=ln[r];if(su[a].common&&s._adapter.diff(i,o,a)>=e-1)return a}return ln[t?ln.indexOf(t):0]}function hM(s){for(let e=ln.indexOf(s)+1,t=ln.length;e<t;++e)if(su[ln[e]].common)return ln[e]}function Yg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:o,hi:i}=ph(t,e),r=t[o]>=e?t[o]:t[i];s[r]=!0}}function pM(s,e,t,o){const i=s._adapter,r=+i.startOf(e[0].value,o),a=e[e.length-1].value;let l,d;for(l=r;l<=a;l=+i.add(l,1,o))d=t[l],d>=0&&(e[d].major=!0);return e}function Gg(s,e,t){const o=[],i={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],i[l]=a,o.push({value:l,major:!1});return r===0||!t?o:pM(s,o,i,t)}class ac extends nr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const o=e.time||(e.time={}),i=this._adapter=new B7._date(e.adapters.date);i.init(t),Ra(o.displayFormats,i.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Wg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,o=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function d(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=es(i)&&!isNaN(i)?i:+t.startOf(Date.now(),o),r=es(r)&&!isNaN(r)?r:+t.endOf(Date.now(),o)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){const e=this.options,t=e.time,o=e.ticks,i=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,l=c8(i,r,a);return this._unit=t.unit||(o.autoSkip?Kg(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):mM(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:hM(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Gg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,o=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?o=r:o=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Hs(t,0,a),o=Hs(o,0,a),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){const e=this._adapter,t=this.min,o=this.max,i=this.options,r=i.time,a=r.unit||Kg(r.minUnit,t,o,this._getLabelCapacity(t)),l=pt(i.ticks.stepSize,1),d=a==="week"?r.isoWeekday:!1,u=ol(d)||d===!0,m={};let p=t,h,_;if(u&&(p=+e.startOf(p,"isoWeek",d)),p=+e.startOf(p,u?"day":a),e.diff(o,t,a)>1e5*l)throw new Error(t+" and "+o+" are too far apart with stepSize of "+l+" "+a);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(h=p,_=0;h<o;h=+e.add(h,l,a),_++)Yg(m,h,y);return(h===o||i.bounds==="ticks"||_===1)&&Yg(m,h,y),Object.keys(m).sort(qg).map(x=>+x)}getLabelForValue(e){const t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,a=t||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,o,i){const r=this.options,a=r.ticks.callback;if(a)return Wt(a,[e,t,o],this);const l=r.time.displayFormats,d=this._unit,u=this._majorUnit,m=d&&l[d],p=u&&l[u],h=o[t],_=u&&p&&h&&h.major;return this._adapter.format(e,i||(_?p:m))}generateTickLabels(e){let t,o,i;for(t=0,o=e.length;t<o;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,o=this.ctx.measureText(e).width,i=fo(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:o*r+l*a,h:o*a+l*r}}_getLabelCapacity(e){const t=this.options.time,o=t.displayFormats,i=o[t.unit]||o.millisecond,r=this._tickFormatFunction(e,0,Gg(this,[e],this._majorUnit),i),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,o;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,o=i.length;t<o;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,o;if(e.length)return e;const i=this.getLabels();for(t=0,o=i.length;t<o;++t)e.push(Wg(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $y(e.sort(qg))}}Ve(ac,"id","time"),Ve(ac,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ed(s,e,t){let o=0,i=s.length-1,r,a,l,d;t?(e>=s[o].pos&&e<=s[i].pos&&({lo:o,hi:i}=qi(s,"pos",e)),{pos:r,time:l}=s[o],{pos:a,time:d}=s[i]):(e>=s[o].time&&e<=s[i].time&&({lo:o,hi:i}=qi(s,"time",e)),{time:r,pos:l}=s[o],{time:a,pos:d}=s[i]);const u=a-r;return u?l+(d-l)*(e-r)/u:l}class Xg extends ac{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ed(t,this.min),this._tableRange=ed(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:o}=this,i=[],r=[];let a,l,d,u,m;for(a=0,l=e.length;a<l;++a)u=e[a],u>=t&&u<=o&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:o,pos:1}];for(a=0,l=i.length;a<l;++a)m=i[a+1],d=i[a-1],u=i[a],Math.round((m+d)/2)!==u&&r.push({time:u,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(t)||o.length===1)&&o.push(t),o.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),o=this.getLabelTimestamps();return t.length&&o.length?e=this.normalize(t.concat(o)):e=t.length?t:o,e=this._cache.all=e,e}getDecimalForValue(e){return(ed(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return ed(this._table,o*this._tableRange+this._minPos,!0)}}Ve(Xg,"id","timeseries"),Ve(Xg,"defaults",ac.defaults);const gM=["id"],mm=ye({__name:"LineChart",props:{id:{},data:{},backgroundColor:{},borderColor:{},tooltipLabel:{}},setup(s){const e=s;kn.register(oi,Md,$d,ll,rc,I9,$h);let t={};Ye(function(){const r=document.getElementById(e.id);t=new kn(r,i)}),Nr(function(){t.data.datasets[0].data=e.data,t.update()});const i={type:"line",data:{datasets:[{label:e.tooltipLabel,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:4,pointBackgroundColor:"white",fill:!0,data:e.data}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},elements:{point:{pointStyle:"cross",backgroundColor:"blue",borderColor:"black"}},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(g(),v("canvas",{id:s.id},null,8,gM))}}),_M=["id"],vM=ye({__name:"BarChart",props:{id:{},data:{},labels:{},tooltipLabel:{}},setup(s){const e=s;kn.register(Td,kd,ll,rc,$h,rb);let t={};Ye(function(){const r=document.getElementById(e.id);t=new kn(r,i)}),Nr(function(){t.data&&(t.data.datasets=o.datasets,t.data.labels=e.labels||[],t.update())});const o={labels:e.labels||[],datasets:e.data||[]},i={type:"bar",data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(g(),v("canvas",{id:s.id},null,8,_M))}}),yM=["id"],bM=ye({__name:"DoughnutChart",props:{id:{},data:{},labels:{},backgroundColors:{}},setup(s){const e=s;kn.register(_a,pa,ll,$h,rb);let t={};const o=["rgba(99, 102, 241, 0.8)","rgba(236, 72, 153, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(249, 115, 22, 0.8)","rgba(14, 165, 233, 0.8)","rgba(217, 70, 239, 0.8)"];Ye(function(){const a=document.getElementById(e.id);t=new kn(a,r)}),Nr(function(){t.data&&(t.data.labels=e.labels,t.data.datasets[0].data=e.data,t.update())});const r={type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.backgroundColors||o,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{usePointStyle:!0}}}};return(a,l)=>(g(),v("canvas",{id:s.id},null,8,yM))}}),xM=ye({__name:"Modals",setup(s){const e=Ft();return(t,o)=>(g(),ne(br,{to:"body"},[C(y5,{name:"modal"},{default:q(()=>[(g(!0),v(re,null,ve(f(e).components,(i,r)=>(g(),ne(mo(i.component),O1({ref_for:!0},i.payload,{key:r}),null,16))),128))]),_:1})]))}}),wM=ye({__name:"FlashMessage",setup(s){const e=Wn();return(t,o)=>(g(),ne(br,{to:"body"},[f(e).message?(g(),v("div",{key:0,class:Q(["fixed h-10 px-4 rounded flex items-center text-white text-sm",{"bg-green-600":f(e).type=="success","bg-red-500":f(e).type=="danger"}]),style:{right:"2rem",bottom:"7%","touch-action":"pan-y","z-index":"2000"}},[K(c(f(e).message)+" ",1),C(f(Po),{class:"w-5 ml-2 cursor-pointer",onClick:f(e).hide},null,8,["onClick"])],2)):j("",!0)]))}}),kM={class:"inline-flex items-center"},$M={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",viewBox:"0 0 8 14",class:"flex-shrink-0 text-gray-400 ltr:ml-2 rtl:mr-2"},je=ye({__name:"TableTh",props:{name:{},index:{},sort:{default:""},label:{},align:{default:"left"}},setup(s){const t=ks(s.name)();return(o,i)=>(g(),v("th",{class:Q(["bg-gray-50 px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500",{"cursor-pointer":s.sort,"text-center":s.align=="center","ltr:text-left rtl:text-right":s.align!="center"}]),onClick:i[0]||(i[0]=r=>f(t).sort(s.sort))},[n("span",kM,[K(c(s.label)+" ",1),s.sort?(g(),v("svg",$M,[n("path",{class:Q(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="asc"&&s.index.params.orderBy==s.sort}]),d:"M1.70710678 4.70710678c-.39052429.39052429-1.02368927.39052429-1.41421356 0-.3905243-.39052429-.3905243-1.02368927 0-1.41421356l3-3c.39052429-.3905243 1.02368927-.3905243 1.41421356 0l3 3c.39052429.39052429.39052429 1.02368927 0 1.41421356-.39052429.39052429-1.02368927.39052429-1.41421356 0L4 2.41421356 1.70710678 4.70710678z"},null,2),n("path",{class:Q(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="desc"&&s.index.params.orderBy==s.sort}]),d:"M6.29289322 9.29289322c.39052429-.39052429 1.02368927-.39052429 1.41421356 0 .39052429.39052429.39052429 1.02368928 0 1.41421358l-3 3c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-3-3c-.3905243-.3905243-.3905243-1.02368929 0-1.41421358.3905243-.39052429 1.02368927-.39052429 1.41421356 0L4 11.5857864l2.29289322-2.29289318z"},null,2)])):j("",!0)])],2))}}),CM={class:"mb-4 flex"},SM={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},Fa=ye({__name:"PageTopbar",props:{title:{},btnTo:{},btnText:{},permission:{}},setup(s){return(e,t)=>{const o=fn("RouterLink");return g(),v("div",CM,[n("h1",SM,c(s.title),1),Ps(e.$slots,"default"),s.btnText&&s.btnTo&&e.can(s.permission||"")?(g(),ne(o,{key:0,to:s.btnTo,custom:""},{default:q(({navigate:i})=>[C(Se,{class:"ml-auto","data-cy":"topbar-create-button",onClick:i},{default:q(()=>[K(c(s.btnText),1)]),_:1},8,["onClick"])]),_:1},8,["to"])):j("",!0)])}}}),MM={key:0,class:"block rounded-full"},TM=["src"],AM={key:1,class:"inline-block rounded-full bg-gray-100 text-gray-300"},Xt=ye({__name:"UserAvatar",props:{avatar:{}},setup(s){return(e,t)=>s.avatar?(g(),v("span",MM,[n("img",{src:s.avatar,class:"h-full w-full rounded-full"},null,8,TM)])):(g(),v("span",AM,[...t[0]||(t[0]=[n("svg",{class:"rounded-full",fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])]))}}),DM=["for"],EM={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},Ch=ye({__name:"FieldBase",props:{full:{type:Boolean},inline:{type:Boolean},label:{},lg:{type:Boolean},name:{}},setup(s){const e=Je("form_name",""),t=gs(e)();return(o,i)=>(g(),v("div",{class:Q({"grid grid-cols-3 border-b border-gray-200 py-5 last:border-b-0":s.inline})},[s.label?(g(),v("label",{key:0,for:f(e)+"-"+s.name,class:Q(["block text-sm font-medium text-gray-700",{"mt-px pt-2":s.inline}])},c(s.label),11,DM)):j("",!0),n("div",{class:Q(["sm:col-span-2",{"mt-1":!s.inline}])},[Ps(o.$slots,"default"),f(t).errors[s.name]?(g(),v("div",EM,c(f(t).errors[s.name][0]),1)):j("",!0)],2)],2))}});function _o(){return ye({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean},setup(s){const e=Je("form_name",""),t=gs(e)();return()=>C(Ch,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>[z(C("input",{"onUpdate:modelValue":o=>t.data[s.name]=o,type:s.type,id:e+"-"+s.name,placeholder:s.label,disabled:s.disabled,class:{"mt-1 block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!t.errors[s.name],"border-red-600":t.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline}},null),[[C5,t.data[s.name]]])]})}})}function kl(){return ye({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(s,{slots:e}){const t=Je("form_name",""),o=Je("__"),i=gs(t)(),r=null;return()=>C(Ch,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var a;return[C("div",{class:"flex flex-wrap"},[z(C("select",{required:!0,id:t+"-"+s.name,class:{"block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!i.errors[s.name],"border-red-600":i.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline},"onUpdate:modelValue":l=>i.data[s.name]=l},[C("option",{value:r,disabled:!0},[o("Choose"),K(" "),s.label]),(a=i.options[s.name])==null?void 0:a.map(l=>C("option",{value:l[s.valueKey]},[l[s.labelKey]]))]),[[Me,i.data[s.name]]]),e.default&&e.default()])]}})}})}function db(){return ye({props:{name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""}},setup(s){const e=Je("form_name",""),t=gs(e)();return()=>C(Ch,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var o;return[C("div",{class:"grid grid-cols-3 gap-2"},[(o=t.options[s.name])==null?void 0:o.map(i=>C("div",{class:"flex items-center"},[z(C("input",{id:`${e}-${s.name}-${i.value}`,type:"checkbox",value:i.value,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500","onUpdate:modelValue":r=>t.data[s.name]=r},null),[[os,t.data[s.name]]]),C("label",{for:`${e}-${s.name}-${i.value}`,class:"ml-3 block whitespace-nowrap text-sm font-medium text-gray-700"},[i.label])]))])]}})}})}const PM=ye({__name:"TaskItemTimer",props:{task:{}},setup(s){const e=F(!1),t=Wr();return(o,i)=>(g(),v("div",{class:"cursor-pointer",onClick:i[1]||(i[1]=r=>e.value=!e.value)},[s.task.id==f(t).taskId?(g(),ne(f(Vr),{key:0,class:"w-5 text-red-500 hover:text-red-800",onClick:f(t).stop},null,8,["onClick"])):(g(),ne(f(Uc),{key:1,class:"w-5 text-gray-500 hover:text-gray-800",onClick:i[0]||(i[0]=r=>f(t).start(s.task))}))]))}}),jM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},RM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},IM={class:"absolute mt-2 w-64 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},OM={key:0,class:"py-4 text-center text-sm text-gray-700"},LM={key:1},FM={class:"divide-y divide-gray-100"},NM={key:0,class:"flex items-start justify-between text-gray-900"},zM={class:"mt-2 flex items-center text-xs text-gray-600"},BM={key:1,class:"mt-1.5 flex items-center"},UM=["href","onClick"],VM=["href","onClick"],HM=ye({__name:"TimerDropdown",setup(s){const e=Wr();e.fetch();function t(o){return ht.user.id==o}return(o,i)=>{const r=fn("router-link");return g(),ne(f(Ks),null,{trigger:q(()=>[n("button",jM,[C(f(Ws),{class:"h-6 w-6"}),f(e).timers.length?(g(),v("div",RM,c(f(e).timers.length>9?"9+":f(e).timers.length),1)):j("",!0)])]),content:q(()=>[n("div",IM,[f(e).timers.length?(g(),v("div",LM,[n("ul",FM,[(g(!0),v(re,null,ve(f(e).timers,a=>(g(),v("li",{key:a.id,class:"px-4 py-2 text-sm hover:bg-gray-100"},[a.task?(g(),v("h3",NM,[K(c(a.task.title)+" ",1),t(a.user_id)?(g(),ne(PM,{key:0,class:"ml-3",task:a.task},null,8,["task"])):j("",!0)])):j("",!0),n("h4",zM," Started at: "+c(a.started_at),1),a.task&&a.task.project?(g(),v("div",BM,[C(r,{custom:"",to:"/projects/"+a.task.project.id},{default:q(({href:l,navigate:d})=>{var u;return[n("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[n("span",{class:"mr-1.5 block h-2 w-2 rounded-full",style:kt({backgroundColor:(u=a.task.project.meta)==null?void 0:u.color}),"aria-hidden":"true"},"",4),K(" "+c(a.task.project.name),1)],8,UM)]}),_:2},1032,["to"]),i[0]||(i[0]=n("span",{class:"px-2"},"-",-1)),C(r,{custom:"",to:"/users/"+a.user.id},{default:q(({href:l,navigate:d})=>[n("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[C(f(Xt),{class:"mr-1.5 h-4 w-4 text-[9px] font-semibold",avatar:a.user.avatar},null,8,["avatar"]),K(" "+c(a.user.name),1)],8,VM)]),_:2},1032,["to"])])):j("",!0)]))),128))])])):(g(),v("p",OM,c(o.__("No Timers!")),1))])]),_:1})}}}),qM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},WM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},KM={class:"absolute z-50 mt-2 w-80 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu"},YM={class:"border-b border-gray-200 bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},GM={class:"flex items-center justify-between"},XM={class:"p-4"},JM={class:"mb-4"},QM={class:"mb-1 flex items-center justify-between text-sm"},ZM={class:"h-4 w-full overflow-hidden rounded-full bg-gray-200"},eT={class:"mt-1 text-right text-xs text-gray-500"},tT={key:0,class:"mb-4 rounded-md bg-red-50 p-2"},sT={class:"flex items-center text-xs text-red-700"},nT={class:"mb-4 flex gap-2"},oT=["disabled"],iT=["disabled"],rT={key:1,class:"mb-4 rounded-md border border-gray-200 bg-gray-50 p-3"},aT={class:"mb-2"},lT={class:"mb-2"},dT={class:"flex gap-2"},cT=["disabled"],uT={class:"border-t border-gray-200 pt-3"},fT={key:0,class:"max-h-32 space-y-1 overflow-y-auto"},mT={class:"text-gray-600"},hT={class:"text-gray-400"},pT={key:1,class:"text-xs text-gray-400"},gT=ye({__name:"GeneratorDropdown",setup(s){const e=F(0),t=F(12),o=F(2),i=F(!1),r=F([]),a=F(!1),l=F(!1),d=F(""),u=F(""),m=De(()=>t.value<=0?0:Math.round(e.value/t.value*100)),p=De(()=>e.value<=o.value),h=De(()=>m.value<20?"bg-red-500":m.value<50?"bg-yellow-500":"bg-green-500"),_=b=>{if(!b)return"";const M=new Date(b),N=new Date().getTime()-M.getTime(),A=Math.floor(N/(1e3*60)),T=Math.floor(N/(1e3*60*60));return A<60?`${A}m ago`:T<24?`${T}h ago`:M.toLocaleDateString()},y=()=>{ae.get("generator/status").then(b=>{b.data.generator&&(e.value=Number(b.data.generator.current_level)||0,t.value=Number(b.data.generator.tank_capacity)||12,o.value=Number(b.data.generator.reserve_fuel)||2,i.value=!!b.data.generator.is_running)}).catch(()=>{}),ae.get("generator/logs",{params:{per_page:5}}).then(b=>{r.value=b.data.data||[]}).catch(()=>{})},x=()=>{a.value=!0,ae.post("generator/start").then(()=>{y()}).catch(b=>{var M,S;alert(((S=(M=b.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to start generator")}).finally(()=>{a.value=!1})},w=()=>{a.value=!0,ae.post("generator/stop").then(()=>{y()}).catch(b=>{var M,S;alert(((S=(M=b.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to stop generator")}).finally(()=>{a.value=!1})},k=()=>{d.value&&(a.value=!0,ae.post("generator/add-fuel",{amount:parseFloat(d.value),notes:u.value}).then(()=>{d.value="",u.value="",l.value=!1,y()}).catch(b=>{var M,S;alert(((S=(M=b.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to add fuel")}).finally(()=>{a.value=!1}))};return y(),(b,M)=>(g(),ne(f(Ks),{"close-outside":!0},{trigger:q(()=>[n("button",qM,[C(f(Jm),{class:Q(["h-6 w-6",{"text-green-500":i.value}])},null,8,["class"]),p.value?(g(),v("div",WM," ! ")):j("",!0)])]),content:q(()=>[n("div",KM,[n("div",YM,[n("div",GM,[M[6]||(M[6]=n("span",{class:"font-semibold text-white"},"Generator",-1)),n("span",{class:Q(["rounded-full px-2 py-0.5 text-xs font-medium",i.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},c(i.value?"Running":"Stopped"),3)])]),n("div",XM,[n("div",JM,[n("div",QM,[M[7]||(M[7]=n("span",{class:"text-gray-600"},"Fuel Level",-1)),n("span",{class:Q(["font-semibold",m.value<20?"text-red-600":"text-gray-900"])},c(e.value.toFixed(1))+" / "+c(t.value)+" L ",3)]),n("div",ZM,[n("div",{class:Q(["h-full rounded-full transition-all duration-500",h.value]),style:kt({width:m.value+"%"})},null,6)]),n("div",eT,c(m.value)+"%",1)]),p.value?(g(),v("div",tT,[n("p",sT,[C(f(Zm),{class:"mr-1 h-4 w-4"}),M[8]||(M[8]=K(" Low fuel! Please refuel soon. ",-1))])])):j("",!0),n("div",nT,[i.value?(g(),v("button",{key:1,disabled:a.value,class:"flex flex-1 items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",onClick:Ke(w,["stop"])},[C(f(Vr),{class:"mr-1 h-4 w-4"}),M[10]||(M[10]=K(" Stop ",-1))],8,iT)):(g(),v("button",{key:0,disabled:e.value<=0||a.value,class:"flex flex-1 items-center justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:Ke(x,["stop"])},[C(f(Uc),{class:"mr-1 h-4 w-4"}),M[9]||(M[9]=K(" Start ",-1))],8,oT)),n("button",{class:"flex flex-1 items-center justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",onClick:M[0]||(M[0]=Ke(S=>l.value=!0,["stop"]))},[C(f(pn),{class:"mr-1 h-4 w-4"}),M[11]||(M[11]=K(" Add Fuel ",-1))])]),l.value?(g(),v("div",rT,[n("div",aT,[M[12]||(M[12]=n("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Amount (Liters)",-1)),z(n("input",{"onUpdate:modelValue":M[1]||(M[1]=S=>d.value=S),type:"number",step:"0.5",min:"0.5",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"Enter amount",onClick:M[2]||(M[2]=Ke(()=>{},["stop"]))},null,512),[[J,d.value]])]),n("div",lT,[M[13]||(M[13]=n("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Notes (optional)",-1)),z(n("input",{"onUpdate:modelValue":M[3]||(M[3]=S=>u.value=S),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"e.g., Purchased from station",onClick:M[4]||(M[4]=Ke(()=>{},["stop"]))},null,512),[[J,u.value]])]),n("div",dT,[n("button",{class:"flex-1 rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300",onClick:M[5]||(M[5]=Ke(S=>l.value=!1,["stop"]))}," Cancel "),n("button",{disabled:!d.value||a.value,class:"flex-1 rounded-md bg-orange-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-orange-700 disabled:opacity-50",onClick:Ke(k,["stop"])}," Add ",8,cT)])])):j("",!0),n("div",uT,[M[14]||(M[14]=n("h4",{class:"mb-2 text-xs font-semibold uppercase text-gray-500"},"Recent Activity",-1)),r.value.length?(g(),v("div",fT,[(g(!0),v(re,null,ve(r.value,S=>{var N;return g(),v("div",{key:S.id,class:"flex items-center justify-between text-xs"},[n("span",mT,[n("span",{class:Q(["mr-1 inline-block rounded px-1 py-0.5 text-xs font-medium",S.action==="refuel"?"bg-green-100 text-green-700":S.action==="start"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"])},c(S.action),3),K(" "+c(((N=S.user)==null?void 0:N.name)||"System"),1)]),n("span",hT,c(_(S.created_at)),1)])}),128))])):(g(),v("p",pT,"No recent activity"))])])])]),_:1}))}}),_T={class:"sm:col-span-12"},vT={class:"block text-sm font-medium text-gray-700"},yT=["value"],bT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},cb=ye({__name:"FieldColor",props:{name:{}},setup(s){const e=gs(Je("form_name",""))();return(t,o)=>(g(),v("div",_T,[n("label",vT,c(t.__("Color")),1),(g(!0),v(re,null,ve(f(e).options.color,i=>(g(),v("label",{key:i.value,class:"mt-1 inline-block h-6 w-6 cursor-pointer rounded ltr:mr-1 rtl:ml-1",style:kt({"background-color":i.value,color:f(e).data.color==i.value?"#ffffff":i.value})},[o[1]||(o[1]=n("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)),z(n("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>f(e).data.color=r),type:"radio",value:i.value,class:"hidden"},null,8,yT),[[On,f(e).data.color]])],4))),128)),f(e).errors.color?(g(),v("div",bT,c(f(e).errors.color[0]),1)):j("",!0)]))}}),xT={class:"sm:col-span-12"},wT={class:"mb-4 flex items-center text-sm"},kT={class:"block text-sm font-medium text-gray-700"},$T={class:"flex flex-1 items-center pl-4"},CT={role:"list",class:"divide-y divide-gray-200 overflow-y-auto rounded-md border border-gray-200",style:{"max-height":"228px"}},ST={class:"flex items-start"},MT={class:"text-sm ltr:ml-3 rtl:mr-3"},TT={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},AT={class:"block truncate text-sm leading-none text-gray-500"},DT={class:"ltr:ml-auto rtl:mr-auto"},ET=["value"],PT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},jT=ye({__name:"FieldChooseUsers",props:{name:{}},setup(s){const e=gs(Je("form_name",""))();function t(){e.data.users=e.options.users.map(i=>i.id)}function o(){e.data.users=[]}return(i,r)=>{var a;return g(),v("div",xT,[n("div",wT,[n("p",kT,c(i.__("Team Members"))+" ("+c((a=f(e).data.users)==null?void 0:a.length)+") ",1),n("div",$T,[n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:t},c(i.__("Select All")),1),r[1]||(r[1]=n("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:o},c(i.__("Deselect All")),1)])]),n("div",CT,[(g(!0),v(re,null,ve(f(e).options.users,l=>(g(),v("label",{key:l.id,class:"flex cursor-pointer items-center px-4 py-3"},[n("div",ST,[C(f(Xt),{class:"h-6 w-6",avatar:l.avatar},null,8,["avatar"]),n("div",MT,[n("span",TT,c(l.name),1),n("span",AT,c(l.email),1)])]),n("div",DT,[z(n("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>f(e).data.users=d),type:"checkbox",value:l.id,class:"h-5 w-5 cursor-pointer rounded-full border-gray-300 focus:outline-none focus:ring-0 focus:ring-offset-0"},null,8,ET),[[os,f(e).data.users]])])]))),128))]),f(e).errors.users?(g(),v("div",PT,c(f(e).errors.users[0]),1)):j("",!0)])}}}),Sh=mn("project-index",()=>{const s=F([]),e=F(!1);o();function t(){Ft().add(nu)}async function o(){e.value=!0;const{data:l}=await ae.get("projects");e.value=!1,s.value=l}function i(){}function r(){}function a(){}return{create:t,fetch:o,fetching:e,items:s,archive:i,favorite:r,edit:a}}),Jg="project",nu=ye({__name:"Form",setup(s){const e=gs(Jg)(),t=Sh(),o=ks("projects")(),i=_o();return e.onSuccess(r=>{!new URLSearchParams(window.location.search).has("archived")&&Array.isArray(o.data)&&o.data.push(r.model),t.fetch(),Ft().pop()}),(r,a)=>(g(),ne(f(ls),{name:Jg,uri:"projects"},{default:q(()=>[C(f(i),{name:"name",label:"Name",class:"col-span-12"}),C(cb,{name:"color"}),C(jT,{name:"users"})]),_:1}))}}),Qg="invitation",ub=ye({__name:"InvitationForm",setup(s){const e=gs(Qg)(),t=ks("invitation")(),o=_o(),i=kl();return e.onSuccess(function(){t.fetch(),Ft().pop()}),(r,a)=>(g(),ne(f(ls),{name:Qg,uri:"invitations",title:"Invite Team Member"},{default:q(()=>[C(f(o),{name:"email",label:"Email",class:"col-span-12"}),C(f(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1}))}}),RT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},IT={class:"ltr:ml-2 rtl:mr-2"},OT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},LT={class:"py-1",role:"none"},FT=ye({__name:"_CreateDropdown",setup(s){function e(){Ft().add(nu)}function t(){Ft().add(ub)}return(o,i)=>(g(),ne(f(Ks),{name:"header-create"},{trigger:q(()=>[n("button",RT,[C(f(pn),{class:"h-4 w-4"}),n("span",IT,c(o.__("Create")),1)])]),content:q(()=>[n("div",OT,[n("div",LT,[z(n("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ke(e,["prevent"])},c(o.__("Create Project")),513),[[zt,o.can("project:create")]]),z(n("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i[0]||(i[0]=Ke(r=>t(),["prevent"]))},c(o.__("Invite Team Member")),513),[[zt,o.can("user:create")]])])])]),_:1}))}});function NT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fb={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(s,e){(function(o,i){s.exports=i()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=o,i.d=function(r,a,l){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(a&1&&(r=i(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var d in r)i.d(l,d,(function(u){return r[u]}).bind(null,d));return l},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=2)}([function(t,o,i){var r=this&&this.__extends||function(){var x=function(w,k){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,M){b.__proto__=M}||function(b,M){for(var S in M)M.hasOwnProperty(S)&&(b[S]=M[S])},x(w,k)};return function(w,k){x(w,k);function b(){this.constructor=w}w.prototype=k===null?Object.create(k):(b.prototype=k.prototype,new b)}}();Object.defineProperty(o,"__esModule",{value:!0});var a=256,l=function(){function x(w){w===void 0&&(w="="),this._paddingCharacter=w}return x.prototype.encodedLength=function(w){return this._paddingCharacter?(w+2)/3*4|0:(w*8+5)/6|0},x.prototype.encode=function(w){for(var k="",b=0;b<w.length-2;b+=3){var M=w[b]<<16|w[b+1]<<8|w[b+2];k+=this._encodeByte(M>>>3*6&63),k+=this._encodeByte(M>>>2*6&63),k+=this._encodeByte(M>>>1*6&63),k+=this._encodeByte(M>>>0*6&63)}var S=w.length-b;if(S>0){var M=w[b]<<16|(S===2?w[b+1]<<8:0);k+=this._encodeByte(M>>>3*6&63),k+=this._encodeByte(M>>>2*6&63),S===2?k+=this._encodeByte(M>>>1*6&63):k+=this._paddingCharacter||"",k+=this._paddingCharacter||""}return k},x.prototype.maxDecodedLength=function(w){return this._paddingCharacter?w/4*3|0:(w*6+7)/8|0},x.prototype.decodedLength=function(w){return this.maxDecodedLength(w.length-this._getPaddingLength(w))},x.prototype.decode=function(w){if(w.length===0)return new Uint8Array(0);for(var k=this._getPaddingLength(w),b=w.length-k,M=new Uint8Array(this.maxDecodedLength(b)),S=0,N=0,A=0,T=0,D=0,L=0,I=0;N<b-4;N+=4)T=this._decodeChar(w.charCodeAt(N+0)),D=this._decodeChar(w.charCodeAt(N+1)),L=this._decodeChar(w.charCodeAt(N+2)),I=this._decodeChar(w.charCodeAt(N+3)),M[S++]=T<<2|D>>>4,M[S++]=D<<4|L>>>2,M[S++]=L<<6|I,A|=T&a,A|=D&a,A|=L&a,A|=I&a;if(N<b-1&&(T=this._decodeChar(w.charCodeAt(N)),D=this._decodeChar(w.charCodeAt(N+1)),M[S++]=T<<2|D>>>4,A|=T&a,A|=D&a),N<b-2&&(L=this._decodeChar(w.charCodeAt(N+2)),M[S++]=D<<4|L>>>2,A|=L&a),N<b-3&&(I=this._decodeChar(w.charCodeAt(N+3)),M[S++]=L<<6|I,A|=I&a),A!==0)throw new Error("Base64Coder: incorrect characters for decoding");return M},x.prototype._encodeByte=function(w){var k=w;return k+=65,k+=25-w>>>8&0-65-26+97,k+=51-w>>>8&26-97-52+48,k+=61-w>>>8&52-48-62+43,k+=62-w>>>8&62-43-63+47,String.fromCharCode(k)},x.prototype._decodeChar=function(w){var k=a;return k+=(42-w&w-44)>>>8&-a+w-43+62,k+=(46-w&w-48)>>>8&-a+w-47+63,k+=(47-w&w-58)>>>8&-a+w-48+52,k+=(64-w&w-91)>>>8&-a+w-65+0,k+=(96-w&w-123)>>>8&-a+w-97+26,k},x.prototype._getPaddingLength=function(w){var k=0;if(this._paddingCharacter){for(var b=w.length-1;b>=0&&w[b]===this._paddingCharacter;b--)k++;if(w.length<4||k>2)throw new Error("Base64Coder: incorrect padding")}return k},x}();o.Coder=l;var d=new l;function u(x){return d.encode(x)}o.encode=u;function m(x){return d.decode(x)}o.decode=m;var p=function(x){r(w,x);function w(){return x!==null&&x.apply(this,arguments)||this}return w.prototype._encodeByte=function(k){var b=k;return b+=65,b+=25-k>>>8&0-65-26+97,b+=51-k>>>8&26-97-52+48,b+=61-k>>>8&52-48-62+45,b+=62-k>>>8&62-45-63+95,String.fromCharCode(b)},w.prototype._decodeChar=function(k){var b=a;return b+=(44-k&k-46)>>>8&-a+k-45+62,b+=(94-k&k-96)>>>8&-a+k-95+63,b+=(47-k&k-58)>>>8&-a+k-48+52,b+=(64-k&k-91)>>>8&-a+k-65+0,b+=(96-k&k-123)>>>8&-a+k-97+26,b},w}(l);o.URLSafeCoder=p;var h=new p;function _(x){return h.encode(x)}o.encodeURLSafe=_;function y(x){return h.decode(x)}o.decodeURLSafe=y,o.encodedLength=function(x){return d.encodedLength(x)},o.maxDecodedLength=function(x){return d.maxDecodedLength(x)},o.decodedLength=function(x){return d.decodedLength(x)}},function(t,o,i){Object.defineProperty(o,"__esModule",{value:!0});var r="utf8: invalid string",a="utf8: invalid source encoding";function l(m){for(var p=new Uint8Array(d(m)),h=0,_=0;_<m.length;_++){var y=m.charCodeAt(_);y<128?p[h++]=y:y<2048?(p[h++]=192|y>>6,p[h++]=128|y&63):y<55296?(p[h++]=224|y>>12,p[h++]=128|y>>6&63,p[h++]=128|y&63):(_++,y=(y&1023)<<10,y|=m.charCodeAt(_)&1023,y+=65536,p[h++]=240|y>>18,p[h++]=128|y>>12&63,p[h++]=128|y>>6&63,p[h++]=128|y&63)}return p}o.encode=l;function d(m){for(var p=0,h=0;h<m.length;h++){var _=m.charCodeAt(h);if(_<128)p+=1;else if(_<2048)p+=2;else if(_<55296)p+=3;else if(_<=57343){if(h>=m.length-1)throw new Error(r);h++,p+=4}else throw new Error(r)}return p}o.encodedLength=d;function u(m){for(var p=[],h=0;h<m.length;h++){var _=m[h];if(_&128){var y=void 0;if(_<224){if(h>=m.length)throw new Error(a);var x=m[++h];if((x&192)!==128)throw new Error(a);_=(_&31)<<6|x&63,y=128}else if(_<240){if(h>=m.length-1)throw new Error(a);var x=m[++h],w=m[++h];if((x&192)!==128||(w&192)!==128)throw new Error(a);_=(_&15)<<12|(x&63)<<6|w&63,y=2048}else if(_<248){if(h>=m.length-2)throw new Error(a);var x=m[++h],w=m[++h],k=m[++h];if((x&192)!==128||(w&192)!==128||(k&192)!==128)throw new Error(a);_=(_&15)<<18|(x&63)<<12|(w&63)<<6|k&63,y=65536}else throw new Error(a);if(_<y||_>=55296&&_<=57343)throw new Error(a);if(_>=65536){if(_>1114111)throw new Error(a);_-=65536,p.push(String.fromCharCode(55296|_>>10)),_=56320|_&1023}}p.push(String.fromCharCode(_))}return p.join("")}o.decode=u},function(t,o,i){t.exports=i(3).default},function(t,o,i){i.r(o);class r{constructor($,E){this.lastId=0,this.prefix=$,this.name=E}create($){this.lastId++;var E=this.lastId,H=this.prefix+E,G=this.name+"["+E+"]",we=!1,Le=function(){we||($.apply(null,arguments),we=!0)};return this[E]=Le,{number:E,id:H,name:G,callback:Le}}remove($){delete this[$.number]}}var a=new r("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=l;class u{constructor($){this.options=$,this.receivers=$.receivers||a,this.loading={}}load($,E,H){var G=this;if(G.loading[$]&&G.loading[$].length>0)G.loading[$].push(H);else{G.loading[$]=[H];var we=ut.createScriptRequest(G.getPath($,E)),Le=G.receivers.create(function(Ge){if(G.receivers.remove(Le),G.loading[$]){var ct=G.loading[$];delete G.loading[$];for(var Mt=function(cs){cs||we.cleanup()},jt=0;jt<ct.length;jt++)ct[jt](Ge,Mt)}});we.send(Le)}}getRoot($){var E,H=ut.getDocument().location.protocol;return $&&$.useTLS||H==="https:"?E=this.options.cdn_https:E=this.options.cdn_http,E.replace(/\/*$/,"")+"/"+this.options.version}getPath($,E){return this.getRoot(E)+"/"+$+this.options.suffix+".js"}}var m=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),p=new u({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:m});const h={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var y={buildLogSuffix:function(R){const $="See:",E=h.urls[R];if(!E)return"";let H;return E.fullUrl?H=E.fullUrl:E.path&&(H=h.baseUrl+E.path),H?`${$} ${H}`:""}},x;(function(R){R.UserAuthentication="user-authentication",R.ChannelAuthorization="channel-authorization"})(x||(x={}));class w extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor($,E){super(E),this.status=$,Object.setPrototypeOf(this,new.target.prototype)}}var I=function(R,$,E,H,G){const we=ut.createXHR();we.open("POST",E.endpoint,!0),we.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Le in E.headers)we.setRequestHeader(Le,E.headers[Le]);if(E.headersProvider!=null){let Ge=E.headersProvider();for(var Le in Ge)we.setRequestHeader(Le,Ge[Le])}return we.onreadystatechange=function(){if(we.readyState===4)if(we.status===200){let Ge,ct=!1;try{Ge=JSON.parse(we.responseText),ct=!0}catch{G(new D(200,`JSON returned from ${H.toString()} endpoint was invalid, yet status code was 200. Data was: ${we.responseText}`),null)}ct&&G(null,Ge)}else{let Ge="";switch(H){case x.UserAuthentication:Ge=y.buildLogSuffix("authenticationEndpoint");break;case x.ChannelAuthorization:Ge=`Clients must be authorized to join private or presence channels. ${y.buildLogSuffix("authorizationEndpoint")}`;break}G(new D(we.status,`Unable to retrieve auth string from ${H.toString()} endpoint - received status: ${we.status} from ${E.endpoint}. ${Ge}`),null)}},we.send($),we};function O(R){return ce(le(R))}var P=String.fromCharCode,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be=function(R){var $=R.charCodeAt(0);return $<128?R:$<2048?P(192|$>>>6)+P(128|$&63):P(224|$>>>12&15)+P(128|$>>>6&63)+P(128|$&63)},le=function(R){return R.replace(/[^\x00-\x7F]/g,be)},de=function(R){var $=[0,2,1][R.length%3],E=R.charCodeAt(0)<<16|(R.length>1?R.charCodeAt(1):0)<<8|(R.length>2?R.charCodeAt(2):0),H=[B.charAt(E>>>18),B.charAt(E>>>12&63),$>=2?"=":B.charAt(E>>>6&63),$>=1?"=":B.charAt(E&63)];return H.join("")},ce=window.btoa||function(R){return R.replace(/[\s\S]{1,3}/g,de)};class me{constructor($,E,H,G){this.clear=E,this.timer=$(()=>{this.timer&&(this.timer=G(this.timer))},H)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Z=me;function ie(R){window.clearTimeout(R)}function Te(R){window.clearInterval(R)}class se extends Z{constructor($,E){super(setTimeout,ie,$,function(H){return E(),null})}}class ke extends Z{constructor($,E){super(setInterval,Te,$,function(H){return E(),H})}}var Ce={now(){return Date.now?Date.now():new Date().valueOf()},defer(R){return new se(0,R)},method(R,...$){var E=Array.prototype.slice.call(arguments,1);return function(H){return H[R].apply(H,E.concat(arguments))}}},ue=Ce;function xe(R,...$){for(var E=0;E<$.length;E++){var H=$[E];for(var G in H)H[G]&&H[G].constructor&&H[G].constructor===Object?R[G]=xe(R[G]||{},H[G]):R[G]=H[G]}return R}function Ae(){for(var R=["Pusher"],$=0;$<arguments.length;$++)typeof arguments[$]=="string"?R.push(arguments[$]):R.push(Xe(arguments[$]));return R.join(" : ")}function Be(R,$){var E=Array.prototype.indexOf;if(R===null)return-1;if(E&&R.indexOf===E)return R.indexOf($);for(var H=0,G=R.length;H<G;H++)if(R[H]===$)return H;return-1}function nt(R,$){for(var E in R)Object.prototype.hasOwnProperty.call(R,E)&&$(R[E],E,R)}function Ne(R){var $=[];return nt(R,function(E,H){$.push(H)}),$}function fe(R){var $=[];return nt(R,function(E){$.push(E)}),$}function he(R,$,E){for(var H=0;H<R.length;H++)$.call(E||window,R[H],H,R)}function U(R,$){for(var E=[],H=0;H<R.length;H++)E.push($(R[H],H,R,E));return E}function Y(R,$){var E={};return nt(R,function(H,G){E[G]=$(H)}),E}function X(R,$){$=$||function(G){return!!G};for(var E=[],H=0;H<R.length;H++)$(R[H],H,R,E)&&E.push(R[H]);return E}function ee(R,$){var E={};return nt(R,function(H,G){($&&$(H,G,R,E)||H)&&(E[G]=H)}),E}function te(R){var $=[];return nt(R,function(E,H){$.push([H,E])}),$}function ge(R,$){for(var E=0;E<R.length;E++)if($(R[E],E,R))return!0;return!1}function Pe(R,$){for(var E=0;E<R.length;E++)if(!$(R[E],E,R))return!1;return!0}function Re(R){return Y(R,function($){return typeof $=="object"&&($=Xe($)),encodeURIComponent(O($.toString()))})}function Ee(R){var $=ee(R,function(H){return H!==void 0}),E=U(te(Re($)),ue.method("join","=")).join("&");return E}function $e(R){var $=[],E=[];return function H(G,we){var Le,Ge,ct;switch(typeof G){case"object":if(!G)return null;for(Le=0;Le<$.length;Le+=1)if($[Le]===G)return{$ref:E[Le]};if($.push(G),E.push(we),Object.prototype.toString.apply(G)==="[object Array]")for(ct=[],Le=0;Le<G.length;Le+=1)ct[Le]=H(G[Le],we+"["+Le+"]");else{ct={};for(Ge in G)Object.prototype.hasOwnProperty.call(G,Ge)&&(ct[Ge]=H(G[Ge],we+"["+JSON.stringify(Ge)+"]"))}return ct;case"number":case"string":case"boolean":return G}}(R,"$")}function Xe(R){try{return JSON.stringify(R)}catch{return JSON.stringify($e(R))}}class ze{constructor(){this.globalLog=$=>{window.console&&window.console.log&&window.console.log($)}}debug(...$){this.log(this.globalLog,$)}warn(...$){this.log(this.globalLogWarn,$)}error(...$){this.log(this.globalLogError,$)}globalLogWarn($){window.console&&window.console.warn?window.console.warn($):this.globalLog($)}globalLogError($){window.console&&window.console.error?window.console.error($):this.globalLogWarn($)}log($,...E){var H=Ae.apply(this,arguments);yu.log?yu.log(H):yu.logToConsole&&$.bind(this)(H)}}var Oe=new ze,it=function(R,$,E,H,G){(E.headers!==void 0||E.headersProvider!=null)&&Oe.warn(`To send headers with the ${H.toString()} request, you must use AJAX, rather than JSONP.`);var we=R.nextAuthCallbackID.toString();R.nextAuthCallbackID++;var Le=R.getDocument(),Ge=Le.createElement("script");R.auth_callbacks[we]=function(jt){G(null,jt)};var ct="Pusher.auth_callbacks['"+we+"']";Ge.src=E.endpoint+"?callback="+encodeURIComponent(ct)+"&"+$;var Mt=Le.getElementsByTagName("head")[0]||Le.documentElement;Mt.insertBefore(Ge,Mt.firstChild)},_t=it;class Dt{constructor($){this.src=$}send($){var E=this,H="Error loading "+E.src;E.script=document.createElement("script"),E.script.id=$.id,E.script.src=E.src,E.script.type="text/javascript",E.script.charset="UTF-8",E.script.addEventListener?(E.script.onerror=function(){$.callback(H)},E.script.onload=function(){$.callback(null)}):E.script.onreadystatechange=function(){(E.script.readyState==="loaded"||E.script.readyState==="complete")&&$.callback(null)},E.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(E.errorScript=document.createElement("script"),E.errorScript.id=$.id+"_error",E.errorScript.text=$.name+"('"+H+"');",E.script.async=E.errorScript.async=!1):E.script.async=!0;var G=document.getElementsByTagName("head")[0];G.insertBefore(E.script,G.firstChild),E.errorScript&&G.insertBefore(E.errorScript,E.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class xt{constructor($,E){this.url=$,this.data=E}send($){if(!this.request){var E=Ee(this.data),H=this.url+"/"+$.number+"?"+E;this.request=ut.createScriptRequest(H),this.request.send($)}}cleanup(){this.request&&this.request.cleanup()}}var bs=function(R,$){return function(E,H){var G="http"+($?"s":"")+"://",we=G+(R.host||R.options.host)+R.options.path,Le=ut.createJSONPRequest(we,E),Ge=ut.ScriptReceivers.create(function(ct,Mt){a.remove(Ge),Le.cleanup(),Mt&&Mt.host&&(R.host=Mt.host),H&&H(ct,Mt)});Le.send(Ge)}},ds={name:"jsonp",getAgent:bs},js=ds;function _s(R,$,E){var H=R+($.useTLS?"s":""),G=$.useTLS?$.hostTLS:$.hostNonTLS;return H+"://"+G+E}function Bn(R,$){var E="/app/"+R,H="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+($?"&"+$:"");return E+H}var Nt={getInitial:function(R,$){var E=($.httpPath||"")+Bn(R,"flash=false");return _s("ws",$,E)}},vs={getInitial:function(R,$){var E=($.httpPath||"/pusher")+Bn(R);return _s("http",$,E)}},Rs={getInitial:function(R,$){return _s("http",$,$.httpPath||"/pusher")},getPath:function(R,$){return Bn(R)}};class ir{constructor(){this._callbacks={}}get($){return this._callbacks[Un($)]}add($,E,H){var G=Un($);this._callbacks[G]=this._callbacks[G]||[],this._callbacks[G].push({fn:E,context:H})}remove($,E,H){if(!$&&!E&&!H){this._callbacks={};return}var G=$?[Un($)]:Ne(this._callbacks);E||H?this.removeCallback(G,E,H):this.removeAllCallbacks(G)}removeCallback($,E,H){he($,function(G){this._callbacks[G]=X(this._callbacks[G]||[],function(we){return E&&E!==we.fn||H&&H!==we.context}),this._callbacks[G].length===0&&delete this._callbacks[G]},this)}removeAllCallbacks($){he($,function(E){delete this._callbacks[E]},this)}}function Un(R){return"_"+R}class gn{constructor($){this.callbacks=new ir,this.global_callbacks=[],this.failThrough=$}bind($,E,H){return this.callbacks.add($,E,H),this}bind_global($){return this.global_callbacks.push($),this}unbind($,E,H){return this.callbacks.remove($,E,H),this}unbind_global($){return $?(this.global_callbacks=X(this.global_callbacks||[],E=>E!==$),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit($,E,H){for(var G=0;G<this.global_callbacks.length;G++)this.global_callbacks[G]($,E);var we=this.callbacks.get($),Le=[];if(H?Le.push(E,H):E&&Le.push(E),we&&we.length>0)for(var G=0;G<we.length;G++)we[G].fn.apply(we[G].context||window,Le);else this.failThrough&&this.failThrough($,E);return this}}class Vn extends gn{constructor($,E,H,G,we){super(),this.initialize=ut.transportConnectionInitializer,this.hooks=$,this.name=E,this.priority=H,this.key=G,this.options=we,this.state="new",this.timeline=we.timeline,this.activityTimeout=we.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var $=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket($,this.options)}catch(E){return ue.defer(()=>{this.onError(E),this.changeState("closed")}),!1}return this.bindListeners(),Oe.debug("Connecting",{transport:this.name,url:$}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send($){return this.state==="open"?(ue.defer(()=>{this.socket&&this.socket.send($)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError($){this.emit("error",{type:"WebSocketError",error:$}),this.timeline.error(this.buildTimelineMessage({error:$.toString()}))}onClose($){$?this.changeState("closed",{code:$.code,reason:$.reason,wasClean:$.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage($){this.emit("message",$)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=$=>{this.onError($)},this.socket.onclose=$=>{this.onClose($)},this.socket.onmessage=$=>{this.onMessage($)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState($,E){this.state=$,this.timeline.info(this.buildTimelineMessage({state:$,params:E})),this.emit($,E)}buildTimelineMessage($){return xe({cid:this.id},$)}}class Uo{constructor($){this.hooks=$}isSupported($){return this.hooks.isSupported($)}createConnection($,E,H,G){return new Vn(this.hooks,$,E,H,G)}}var au=new Uo({urls:Nt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ut.getWebSocketAPI()},isSupported:function(){return!!ut.getWebSocketAPI()},getSocket:function(R){return ut.createWebSocket(R)}}),V={urls:vs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},W=xe({getSocket:function(R){return ut.HTTPFactory.createStreamingSocket(R)}},V),oe=xe({getSocket:function(R){return ut.HTTPFactory.createPollingSocket(R)}},V),_e={isSupported:function(){return ut.isXHRSupported()}},Ie=new Uo(xe({},W,_e)),Ue=new Uo(xe({},oe,_e)),dt={ws:au,xhr_streaming:Ie,xhr_polling:Ue},qe=dt,gt=new Uo({file:"sockjs",urls:Rs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(R,$){return new window.SockJS(R,null,{js_path:p.getPath("sockjs",{useTLS:$.useTLS}),ignore_null_origin:$.ignoreNullOrigin})},beforeOpen:function(R,$){R.send(JSON.stringify({path:$}))}}),We={isSupported:function(R){var $=ut.isXDRSupported(R.useTLS);return $}},rt=new Uo(xe({},W,We)),Pt=new Uo(xe({},oe,We));qe.xdr_streaming=rt,qe.xdr_polling=Pt,qe.sockjs=gt;var En=qe;class Ys extends gn{constructor(){super();var $=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){$.emit("online")},!1),window.addEventListener("offline",function(){$.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var wi=new Ys;class Vo{constructor($,E,H){this.manager=$,this.transport=E,this.minPingDelay=H.minPingDelay,this.maxPingDelay=H.maxPingDelay,this.pingDelay=void 0}createConnection($,E,H,G){G=xe({},G,{activityTimeout:this.pingDelay});var we=this.transport.createConnection($,E,H,G),Le=null,Ge=function(){we.unbind("open",Ge),we.bind("closed",ct),Le=ue.now()},ct=Mt=>{if(we.unbind("closed",ct),Mt.code===1002||Mt.code===1003)this.manager.reportDeath();else if(!Mt.wasClean&&Le){var jt=ue.now()-Le;jt<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(jt/2,this.minPingDelay))}};return we.bind("open",Ge),we}isSupported($){return this.manager.isAlive()&&this.transport.isSupported($)}}const Sl={decodeMessage:function(R){try{var $=JSON.parse(R.data),E=$.data;if(typeof E=="string")try{E=JSON.parse($.data)}catch{}var H={event:$.event,channel:$.channel,data:E};return $.user_id&&(H.user_id=$.user_id),H}catch(G){throw{type:"MessageParseError",error:G,data:R.data}}},encodeMessage:function(R){return JSON.stringify(R)},processHandshake:function(R){var $=Sl.decodeMessage(R);if($.event==="pusher:connection_established"){if(!$.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:$.data.socket_id,activityTimeout:$.data.activity_timeout*1e3}}else{if($.event==="pusher:error")return{action:this.getCloseAction($.data),error:this.getCloseError($.data)};throw"Invalid handshake"}},getCloseAction:function(R){return R.code<4e3?R.code>=1002&&R.code<=1004?"backoff":null:R.code===4e3?"tls_only":R.code<4100?"refused":R.code<4200?"backoff":R.code<4300?"retry":"refused"},getCloseError:function(R){return R.code!==1e3&&R.code!==1001?{type:"PusherError",data:{code:R.code,message:R.reason||R.message}}:null}};var Hn=Sl;class lu extends gn{constructor($,E){super(),this.id=$,this.transport=E,this.activityTimeout=E.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send($){return this.transport.send($)}send_event($,E,H){var G={event:$,data:E};return H&&(G.channel=H),Oe.debug("Event sent",G),this.send(Hn.encodeMessage(G))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var $={message:H=>{var G;try{G=Hn.decodeMessage(H)}catch(we){this.emit("error",{type:"MessageParseError",error:we,data:H.data})}if(G!==void 0){switch(Oe.debug("Event recd",G),G.event){case"pusher:error":this.emit("error",{type:"PusherError",data:G.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",G)}},activity:()=>{this.emit("activity")},error:H=>{this.emit("error",H)},closed:H=>{E(),H&&H.code&&this.handleCloseEvent(H),this.transport=null,this.emit("closed")}},E=()=>{nt($,(H,G)=>{this.transport.unbind(G,H)})};nt($,(H,G)=>{this.transport.bind(G,H)})}handleCloseEvent($){var E=Hn.getCloseAction($),H=Hn.getCloseError($);H&&this.emit("error",H),E&&this.emit(E,{action:E,error:H})}}class du{constructor($,E){this.transport=$,this.callback=E,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=$=>{this.unbindListeners();var E;try{E=Hn.processHandshake($)}catch(H){this.finish("error",{error:H}),this.transport.close();return}E.action==="connected"?this.finish("connected",{connection:new lu(E.id,this.transport),activityTimeout:E.activityTimeout}):(this.finish(E.action,{error:E.error}),this.transport.close())},this.onClosed=$=>{this.unbindListeners();var E=Hn.getCloseAction($)||"backoff",H=Hn.getCloseError($);this.finish(E,{error:H})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish($,E){this.callback(xe({transport:this.transport,action:$},E))}}class cu{constructor($,E){this.timeline=$,this.options=E||{}}send($,E){this.timeline.isEmpty()||this.timeline.send(ut.TimelineTransport.getAgent(this,$),E)}}class Yr extends gn{constructor($,E){super(function(H,G){Oe.debug("No callbacks on "+$+" for "+H)}),this.name=$,this.pusher=E,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize($,E){return E(null,{auth:""})}trigger($,E){if($.indexOf("client-")!==0)throw new w("Event '"+$+"' does not start with 'client-'");if(!this.subscribed){var H=y.buildLogSuffix("triggeringClientEvents");Oe.warn(`Client event triggered before channel 'subscription_succeeded' event . ${H}`)}return this.pusher.send_event($,E,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent($){var E=$.event,H=$.data;if(E==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent($);else if(E==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent($);else if(E.indexOf("pusher_internal:")!==0){var G={};this.emit(E,H,G)}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",$.data)}handleSubscriptionCountEvent($){$.data.subscription_count&&(this.subscriptionCount=$.data.subscription_count),this.emit("pusher:subscription_count",$.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,($,E)=>{$?(this.subscriptionPending=!1,Oe.error($.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:$.message},$ instanceof D?{status:$.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:E.auth,channel_data:E.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Gr extends Yr{authorize($,E){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:$},E)}}class uu{constructor(){this.reset()}get($){return Object.prototype.hasOwnProperty.call(this.members,$)?{id:$,info:this.members[$]}:null}each($){nt(this.members,(E,H)=>{$(this.get(H))})}setMyID($){this.myID=$}onSubscription($){this.members=$.presence.hash,this.count=$.presence.count,this.me=this.get(this.myID)}addMember($){return this.get($.user_id)===null&&this.count++,this.members[$.user_id]=$.user_info,this.get($.user_id)}removeMember($){var E=this.get($.user_id);return E&&(delete this.members[$.user_id],this.count--),E}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var fu=function(R,$,E,H){function G(we){return we instanceof E?we:new E(function(Le){Le(we)})}return new(E||(E=Promise))(function(we,Le){function Ge(jt){try{Mt(H.next(jt))}catch(cs){Le(cs)}}function ct(jt){try{Mt(H.throw(jt))}catch(cs){Le(cs)}}function Mt(jt){jt.done?we(jt.value):G(jt.value).then(Ge,ct)}Mt((H=H.apply(R,$||[])).next())})};class mu extends Gr{constructor($,E){super($,E),this.members=new uu}authorize($,E){super.authorize($,(H,G)=>fu(this,void 0,void 0,function*(){if(!H)if(G=G,G.channel_data!=null){var we=JSON.parse(G.channel_data);this.members.setMyID(we.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Le=y.buildLogSuffix("authorizationEndpoint");Oe.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Le}, or the user should be signed in.`),E("Invalid auth response");return}E(H,G)}))}handleEvent($){var E=$.event;if(E.indexOf("pusher_internal:")===0)this.handleInternalEvent($);else{var H=$.data,G={};$.user_id&&(G.user_id=$.user_id),this.emit(E,H,G)}}handleInternalEvent($){var E=$.event,H=$.data;switch(E){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent($);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent($);break;case"pusher_internal:member_added":var G=this.members.addMember(H);this.emit("pusher:member_added",G);break;case"pusher_internal:member_removed":var we=this.members.removeMember(H);we&&this.emit("pusher:member_removed",we);break}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription($.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Ub=i(1),hu=i(0);class Vb extends Gr{constructor($,E,H){super($,E),this.key=null,this.nacl=H}authorize($,E){super.authorize($,(H,G)=>{if(H){E(H,G);return}let we=G.shared_secret;if(!we){E(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(hu.decode)(we),delete G.shared_secret,E(null,G)})}trigger($,E){throw new N("Client events are not currently supported for encrypted channels")}handleEvent($){var E=$.event,H=$.data;if(E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0){super.handleEvent($);return}this.handleEncryptedEvent(E,H)}handleEncryptedEvent($,E){if(!this.key){Oe.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!E.ciphertext||!E.nonce){Oe.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+E);return}let H=Object(hu.decode)(E.ciphertext);if(H.length<this.nacl.secretbox.overheadLength){Oe.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${H.length}`);return}let G=Object(hu.decode)(E.nonce);if(G.length<this.nacl.secretbox.nonceLength){Oe.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${G.length}`);return}let we=this.nacl.secretbox.open(H,G,this.key);if(we===null){Oe.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Le,Ge)=>{if(Le){Oe.error(`Failed to make a request to the authEndpoint: ${Ge}. Unable to fetch new key, so dropping encrypted event`);return}if(we=this.nacl.secretbox.open(H,G,this.key),we===null){Oe.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit($,this.getDataToEmit(we))});return}this.emit($,this.getDataToEmit(we))}getDataToEmit($){let E=Object(Ub.decode)($);try{return JSON.parse(E)}catch{return E}}}class Hb extends gn{constructor($,E){super(),this.state="initialized",this.connection=null,this.key=$,this.options=E,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var H=ut.getNetwork();H.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),H.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send($){return this.connection?this.connection.send($):!1}send_event($,E,H){return this.connection?this.connection.send_event($,E,H):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var $=(E,H)=>{E?this.runner=this.strategy.connect(0,$):H.action==="error"?(this.emit("error",{type:"HandshakeError",error:H.error}),this.timeline.error({handshakeError:H.error})):(this.abortConnecting(),this.handshakeCallbacks[H.action](H))};this.runner=this.strategy.connect(0,$)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var $=this.abandonConnection();$.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn($){this.timeline.info({action:"retry",delay:$}),$>0&&this.emit("connecting_in",Math.round($/1e3)),this.retryTimer=new se($||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new se(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new se(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new se(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks($){return xe({},$,{message:E=>{this.resetActivityCheck(),this.emit("message",E)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:E=>{this.emit("error",E)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks($){return xe({},$,{connected:E=>{this.activityTimeout=Math.min(this.options.activityTimeout,E.activityTimeout,E.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(E.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let $=E=>H=>{H.error&&this.emit("error",{type:"WebSocketError",error:H.error}),E(H)};return{tls_only:$(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:$(()=>{this.disconnect()}),backoff:$(()=>{this.retryIn(1e3)}),retry:$(()=>{this.retryIn(0)})}}setConnection($){this.connection=$;for(var E in this.connectionCallbacks)this.connection.bind(E,this.connectionCallbacks[E]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var $ in this.connectionCallbacks)this.connection.unbind($,this.connectionCallbacks[$]);var E=this.connection;return this.connection=null,E}}updateState($,E){var H=this.state;if(this.state=$,H!==$){var G=$;G==="connected"&&(G+=" with new socket ID "+E.socket_id),Oe.debug("State changed",H+" -> "+G),this.timeline.info({state:$,params:E}),this.emit("state_change",{previous:H,current:$}),this.emit($,E)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class qb{constructor(){this.channels={}}add($,E){return this.channels[$]||(this.channels[$]=Wb($,E)),this.channels[$]}all(){return fe(this.channels)}find($){return this.channels[$]}remove($){var E=this.channels[$];return delete this.channels[$],E}disconnect(){nt(this.channels,function($){$.disconnect()})}}function Wb(R,$){if(R.indexOf("private-encrypted-")===0){if($.config.nacl)return vo.createEncryptedChannel(R,$,$.config.nacl);let E="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",H=y.buildLogSuffix("encryptedChannelSupport");throw new N(`${E}. ${H}`)}else{if(R.indexOf("private-")===0)return vo.createPrivateChannel(R,$);if(R.indexOf("presence-")===0)return vo.createPresenceChannel(R,$);if(R.indexOf("#")===0)throw new k('Cannot create a channel with name "'+R+'".');return vo.createChannel(R,$)}}var Kb={createChannels(){return new qb},createConnectionManager(R,$){return new Hb(R,$)},createChannel(R,$){return new Yr(R,$)},createPrivateChannel(R,$){return new Gr(R,$)},createPresenceChannel(R,$){return new mu(R,$)},createEncryptedChannel(R,$,E){return new Vb(R,$,E)},createTimelineSender(R,$){return new cu(R,$)},createHandshake(R,$){return new du(R,$)},createAssistantToTheTransportManager(R,$,E){return new Vo(R,$,E)}},vo=Kb;class Rh{constructor($){this.options=$||{},this.livesLeft=this.options.lives||1/0}getAssistant($){return vo.createAssistantToTheTransportManager(this,$,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ki{constructor($,E){this.strategies=$,this.loop=!!E.loop,this.failFast=!!E.failFast,this.timeout=E.timeout,this.timeoutLimit=E.timeoutLimit}isSupported(){return ge(this.strategies,ue.method("isSupported"))}connect($,E){var H=this.strategies,G=0,we=this.timeout,Le=null,Ge=(ct,Mt)=>{Mt?E(null,Mt):(G=G+1,this.loop&&(G=G%H.length),G<H.length?(we&&(we=we*2,this.timeoutLimit&&(we=Math.min(we,this.timeoutLimit))),Le=this.tryStrategy(H[G],$,{timeout:we,failFast:this.failFast},Ge)):E(!0))};return Le=this.tryStrategy(H[G],$,{timeout:we,failFast:this.failFast},Ge),{abort:function(){Le.abort()},forceMinPriority:function(ct){$=ct,Le&&Le.forceMinPriority(ct)}}}tryStrategy($,E,H,G){var we=null,Le=null;return H.timeout>0&&(we=new se(H.timeout,function(){Le.abort(),G(!0)})),Le=$.connect(E,function(Ge,ct){Ge&&we&&we.isRunning()&&!H.failFast||(we&&we.ensureAborted(),G(Ge,ct))}),{abort:function(){we&&we.ensureAborted(),Le.abort()},forceMinPriority:function(Ge){Le.forceMinPriority(Ge)}}}}class pu{constructor($){this.strategies=$}isSupported(){return ge(this.strategies,ue.method("isSupported"))}connect($,E){return Yb(this.strategies,$,function(H,G){return function(we,Le){if(G[H].error=we,we){Gb(G)&&E(!0);return}he(G,function(Ge){Ge.forceMinPriority(Le.transport.priority)}),E(null,Le)}})}}function Yb(R,$,E){var H=U(R,function(G,we,Le,Ge){return G.connect($,E(we,Ge))});return{abort:function(){he(H,Xb)},forceMinPriority:function(G){he(H,function(we){we.forceMinPriority(G)})}}}function Gb(R){return Pe(R,function($){return!!$.error})}function Xb(R){!R.error&&!R.aborted&&(R.abort(),R.aborted=!0)}class Jb{constructor($,E,H){this.strategy=$,this.transports=E,this.ttl=H.ttl||1800*1e3,this.usingTLS=H.useTLS,this.timeline=H.timeline}isSupported(){return this.strategy.isSupported()}connect($,E){var H=this.usingTLS,G=Qb(H),we=G&&G.cacheSkipCount?G.cacheSkipCount:0,Le=[this.strategy];if(G&&G.timestamp+this.ttl>=ue.now()){var Ge=this.transports[G.transport];Ge&&(["ws","wss"].includes(G.transport)||we>3?(this.timeline.info({cached:!0,transport:G.transport,latency:G.latency}),Le.push(new ki([Ge],{timeout:G.latency*2+1e3,failFast:!0}))):we++)}var ct=ue.now(),Mt=Le.pop().connect($,function jt(cs,Al){cs?(Ih(H),Le.length>0?(ct=ue.now(),Mt=Le.pop().connect($,jt)):E(cs)):(Zb(H,Al.transport.name,ue.now()-ct,we),E(null,Al))});return{abort:function(){Mt.abort()},forceMinPriority:function(jt){$=jt,Mt&&Mt.forceMinPriority(jt)}}}}function gu(R){return"pusherTransport"+(R?"TLS":"NonTLS")}function Qb(R){var $=ut.getLocalStorage();if($)try{var E=$[gu(R)];if(E)return JSON.parse(E)}catch{Ih(R)}return null}function Zb(R,$,E,H){var G=ut.getLocalStorage();if(G)try{G[gu(R)]=Xe({timestamp:ue.now(),transport:$,latency:E,cacheSkipCount:H})}catch{}}function Ih(R){var $=ut.getLocalStorage();if($)try{delete $[gu(R)]}catch{}}class Ml{constructor($,{delay:E}){this.strategy=$,this.options={delay:E}}isSupported(){return this.strategy.isSupported()}connect($,E){var H=this.strategy,G,we=new se(this.options.delay,function(){G=H.connect($,E)});return{abort:function(){we.ensureAborted(),G&&G.abort()},forceMinPriority:function(Le){$=Le,G&&G.forceMinPriority(Le)}}}}class Xr{constructor($,E,H){this.test=$,this.trueBranch=E,this.falseBranch=H}isSupported(){var $=this.test()?this.trueBranch:this.falseBranch;return $.isSupported()}connect($,E){var H=this.test()?this.trueBranch:this.falseBranch;return H.connect($,E)}}class ex{constructor($){this.strategy=$}isSupported(){return this.strategy.isSupported()}connect($,E){var H=this.strategy.connect($,function(G,we){we&&H.abort(),E(G,we)});return H}}function Jr(R){return function(){return R.isSupported()}}var tx=function(R,$,E){var H={};function G(Wh,e2,t2,s2,n2){var Kh=E(R,Wh,e2,t2,s2,n2);return H[Wh]=Kh,Kh}var we=Object.assign({},$,{hostNonTLS:R.wsHost+":"+R.wsPort,hostTLS:R.wsHost+":"+R.wssPort,httpPath:R.wsPath}),Le=Object.assign({},we,{useTLS:!0}),Ge=Object.assign({},$,{hostNonTLS:R.httpHost+":"+R.httpPort,hostTLS:R.httpHost+":"+R.httpsPort,httpPath:R.httpPath}),ct={loop:!0,timeout:15e3,timeoutLimit:6e4},Mt=new Rh({minPingDelay:1e4,maxPingDelay:R.activityTimeout}),jt=new Rh({lives:2,minPingDelay:1e4,maxPingDelay:R.activityTimeout}),cs=G("ws","ws",3,we,Mt),Al=G("wss","ws",3,Le,Mt),Gx=G("sockjs","sockjs",1,Ge),zh=G("xhr_streaming","xhr_streaming",1,Ge,jt),Xx=G("xdr_streaming","xdr_streaming",1,Ge,jt),Bh=G("xhr_polling","xhr_polling",1,Ge),Jx=G("xdr_polling","xdr_polling",1,Ge),Uh=new ki([cs],ct),Qx=new ki([Al],ct),Zx=new ki([Gx],ct),Vh=new ki([new Xr(Jr(zh),zh,Xx)],ct),Hh=new ki([new Xr(Jr(Bh),Bh,Jx)],ct),qh=new ki([new Xr(Jr(Vh),new pu([Vh,new Ml(Hh,{delay:4e3})]),Hh)],ct),bu=new Xr(Jr(qh),qh,Zx),xu;return $.useTLS?xu=new pu([Uh,new Ml(bu,{delay:2e3})]):xu=new pu([Uh,new Ml(Qx,{delay:2e3}),new Ml(bu,{delay:5e3})]),new Jb(new ex(new Xr(Jr(cs),xu,bu)),H,{ttl:18e5,timeline:$.timeline,useTLS:$.useTLS})},sx=tx,nx=function(){var R=this;R.timeline.info(R.buildTimelineMessage({transport:R.name+(R.options.useTLS?"s":"")})),R.hooks.isInitialized()?R.changeState("initialized"):R.hooks.file?(R.changeState("initializing"),p.load(R.hooks.file,{useTLS:R.options.useTLS},function($,E){R.hooks.isInitialized()?(R.changeState("initialized"),E(!0)):($&&R.onError($),R.onClose(),E(!1))})):R.onClose()},ox={getRequest:function(R){var $=new window.XDomainRequest;return $.ontimeout=function(){R.emit("error",new b),R.close()},$.onerror=function(E){R.emit("error",E),R.close()},$.onprogress=function(){$.responseText&&$.responseText.length>0&&R.onChunk(200,$.responseText)},$.onload=function(){$.responseText&&$.responseText.length>0&&R.onChunk(200,$.responseText),R.emit("finished",200),R.close()},$},abortRequest:function(R){R.ontimeout=R.onerror=R.onprogress=R.onload=null,R.abort()}},ix=ox;const rx=256*1024;class ax extends gn{constructor($,E,H){super(),this.hooks=$,this.method=E,this.url=H}start($){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ut.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send($)}close(){this.unloader&&(ut.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk($,E){for(;;){var H=this.advanceBuffer(E);if(H)this.emit("chunk",{status:$,data:H});else break}this.isBufferTooLong(E)&&this.emit("buffer_too_long")}advanceBuffer($){var E=$.slice(this.position),H=E.indexOf(`
`);return H!==-1?(this.position+=H+1,E.slice(0,H)):null}isBufferTooLong($){return this.position===$.length&&$.length>rx}}var _u;(function(R){R[R.CONNECTING=0]="CONNECTING",R[R.OPEN=1]="OPEN",R[R.CLOSED=3]="CLOSED"})(_u||(_u={}));var $i=_u,lx=1;class dx{constructor($,E){this.hooks=$,this.session=Lh(1e3)+"/"+mx(8),this.location=cx(E),this.readyState=$i.CONNECTING,this.openStream()}send($){return this.sendRaw(JSON.stringify([$]))}ping(){this.hooks.sendHeartbeat(this)}close($,E){this.onClose($,E,!0)}sendRaw($){if(this.readyState===$i.OPEN)try{return ut.createSocketRequest("POST",Oh(ux(this.location,this.session))).start($),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose($,E,H){this.closeStream(),this.readyState=$i.CLOSED,this.onclose&&this.onclose({code:$,reason:E,wasClean:H})}onChunk($){if($.status===200){this.readyState===$i.OPEN&&this.onActivity();var E,H=$.data.slice(0,1);switch(H){case"o":E=JSON.parse($.data.slice(1)||"{}"),this.onOpen(E);break;case"a":E=JSON.parse($.data.slice(1)||"[]");for(var G=0;G<E.length;G++)this.onEvent(E[G]);break;case"m":E=JSON.parse($.data.slice(1)||"null"),this.onEvent(E);break;case"h":this.hooks.onHeartbeat(this);break;case"c":E=JSON.parse($.data.slice(1)||"[]"),this.onClose(E[0],E[1],!0);break}}}onOpen($){this.readyState===$i.CONNECTING?($&&$.hostname&&(this.location.base=fx(this.location.base,$.hostname)),this.readyState=$i.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent($){this.readyState===$i.OPEN&&this.onmessage&&this.onmessage({data:$})}onActivity(){this.onactivity&&this.onactivity()}onError($){this.onerror&&this.onerror($)}openStream(){this.stream=ut.createSocketRequest("POST",Oh(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",$=>{this.onChunk($)}),this.stream.bind("finished",$=>{this.hooks.onFinished(this,$)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch($){ue.defer(()=>{this.onError($),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function cx(R){var $=/([^\?]*)\/*(\??.*)/.exec(R);return{base:$[1],queryString:$[2]}}function ux(R,$){return R.base+"/"+$+"/xhr_send"}function Oh(R){var $=R.indexOf("?")===-1?"?":"&";return R+$+"t="+ +new Date+"&n="+lx++}function fx(R,$){var E=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(R);return E[1]+$+E[3]}function Lh(R){return ut.randomInt(R)}function mx(R){for(var $=[],E=0;E<R;E++)$.push(Lh(32).toString(32));return $.join("")}var hx=dx,px={getReceiveURL:function(R,$){return R.base+"/"+$+"/xhr_streaming"+R.queryString},onHeartbeat:function(R){R.sendRaw("[]")},sendHeartbeat:function(R){R.sendRaw("[]")},onFinished:function(R,$){R.onClose(1006,"Connection interrupted ("+$+")",!1)}},gx=px,_x={getReceiveURL:function(R,$){return R.base+"/"+$+"/xhr"+R.queryString},onHeartbeat:function(){},sendHeartbeat:function(R){R.sendRaw("[]")},onFinished:function(R,$){$===200?R.reconnect():R.onClose(1006,"Connection interrupted ("+$+")",!1)}},vx=_x,yx={getRequest:function(R){var $=ut.getXHRAPI(),E=new $;return E.onreadystatechange=E.onprogress=function(){switch(E.readyState){case 3:E.responseText&&E.responseText.length>0&&R.onChunk(E.status,E.responseText);break;case 4:E.responseText&&E.responseText.length>0&&R.onChunk(E.status,E.responseText),R.emit("finished",E.status),R.close();break}},E},abortRequest:function(R){R.onreadystatechange=null,R.abort()}},bx=yx,xx={createStreamingSocket(R){return this.createSocket(gx,R)},createPollingSocket(R){return this.createSocket(vx,R)},createSocket(R,$){return new hx(R,$)},createXHR(R,$){return this.createRequest(bx,R,$)},createRequest(R,$,E){return new ax(R,$,E)}},Fh=xx;Fh.createXDR=function(R,$){return this.createRequest(ix,R,$)};var wx=Fh,kx={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:m,getDefaultStrategy:sx,Transports:En,transportConnectionInitializer:nx,HTTPFactory:wx,TimelineTransport:js,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(R){window.Pusher=R;var $=()=>{this.onDocumentBody(R.ready)};window.JSON?$():p.load("json2",{},$)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:I,jsonp:_t}},onDocumentBody(R){document.body?R():setTimeout(()=>{this.onDocumentBody(R)},0)},createJSONPRequest(R,$){return new xt(R,$)},createScriptRequest(R){return new Dt(R)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var R=this.getXHRAPI();return new R},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return wi},createWebSocket(R){var $=this.getWebSocketAPI();return new $(R)},createSocketRequest(R,$){if(this.isXHRSupported())return this.HTTPFactory.createXHR(R,$);if(this.isXDRSupported($.indexOf("https:")===0))return this.HTTPFactory.createXDR(R,$);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var R=this.getXHRAPI();return!!R&&new R().withCredentials!==void 0},isXDRSupported(R){var $=R?"https:":"http:",E=this.getProtocol();return!!window.XDomainRequest&&E===$},addUnloadListener(R){window.addEventListener!==void 0?window.addEventListener("unload",R,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",R)},removeUnloadListener(R){window.addEventListener!==void 0?window.removeEventListener("unload",R,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",R)},randomInt(R){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*R)}},ut=kx,vu;(function(R){R[R.ERROR=3]="ERROR",R[R.INFO=6]="INFO",R[R.DEBUG=7]="DEBUG"})(vu||(vu={}));var Tl=vu;class $x{constructor($,E,H){this.key=$,this.session=E,this.events=[],this.options=H||{},this.sent=0,this.uniqueID=0}log($,E){$<=this.options.level&&(this.events.push(xe({},E,{timestamp:ue.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error($){this.log(Tl.ERROR,$)}info($){this.log(Tl.INFO,$)}debug($){this.log(Tl.DEBUG,$)}isEmpty(){return this.events.length===0}send($,E){var H=xe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],$(H,(G,we)=>{G||this.sent++,E&&E(G,we)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Cx{constructor($,E,H,G){this.name=$,this.priority=E,this.transport=H,this.options=G||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect($,E){if(this.isSupported()){if(this.priority<$)return Nh(new M,E)}else return Nh(new T,E);var H=!1,G=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),we=null,Le=function(){G.unbind("initialized",Le),G.connect()},Ge=function(){we=vo.createHandshake(G,function(cs){H=!0,jt(),E(null,cs)})},ct=function(cs){jt(),E(cs)},Mt=function(){jt();var cs;cs=Xe(G),E(new S(cs))},jt=function(){G.unbind("initialized",Le),G.unbind("open",Ge),G.unbind("error",ct),G.unbind("closed",Mt)};return G.bind("initialized",Le),G.bind("open",Ge),G.bind("error",ct),G.bind("closed",Mt),G.initialize(),{abort:()=>{H||(jt(),we?we.close():G.close())},forceMinPriority:cs=>{H||this.priority<cs&&(we?we.close():G.close())}}}}function Nh(R,$){return ue.defer(function(){$(R)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Sx}=ut;var Mx=function(R,$,E,H,G,we){var Le=Sx[E];if(!Le)throw new A(E);var Ge=(!R.enabledTransports||Be(R.enabledTransports,$)!==-1)&&(!R.disabledTransports||Be(R.disabledTransports,$)===-1),ct;return Ge?(G=Object.assign({ignoreNullOrigin:R.ignoreNullOrigin},G),ct=new Cx($,H,we?we.getAssistant(Le):Le,G)):ct=Tx,ct},Tx={isSupported:function(){return!1},connect:function(R,$){var E=ue.defer(function(){$(new T)});return{abort:function(){E.ensureAborted()},forceMinPriority:function(){}}}};function Ax(R){if(R==null)throw"You must pass an options object";if(R.cluster==null)throw"Options object must provide a cluster";"disableStats"in R&&Oe.warn("The disableStats option is deprecated in favor of enableStats")}const Dx=(R,$)=>{var E="socket_id="+encodeURIComponent(R.socketId);for(var H in $.params)E+="&"+encodeURIComponent(H)+"="+encodeURIComponent($.params[H]);if($.paramsProvider!=null){let G=$.paramsProvider();for(var H in G)E+="&"+encodeURIComponent(H)+"="+encodeURIComponent(G[H])}return E};var Ex=R=>{if(typeof ut.getAuthorizers()[R.transport]>"u")throw`'${R.transport}' is not a recognized auth transport`;return($,E)=>{const H=Dx($,R);ut.getAuthorizers()[R.transport](ut,H,R,x.UserAuthentication,E)}};const Px=(R,$)=>{var E="socket_id="+encodeURIComponent(R.socketId);E+="&channel_name="+encodeURIComponent(R.channelName);for(var H in $.params)E+="&"+encodeURIComponent(H)+"="+encodeURIComponent($.params[H]);if($.paramsProvider!=null){let G=$.paramsProvider();for(var H in G)E+="&"+encodeURIComponent(H)+"="+encodeURIComponent(G[H])}return E};var jx=R=>{if(typeof ut.getAuthorizers()[R.transport]>"u")throw`'${R.transport}' is not a recognized auth transport`;return($,E)=>{const H=Px($,R);ut.getAuthorizers()[R.transport](ut,H,R,x.ChannelAuthorization,E)}};const Rx=(R,$,E)=>{const H={authTransport:$.transport,authEndpoint:$.endpoint,auth:{params:$.params,headers:$.headers}};return(G,we)=>{const Le=R.channel(G.channelName);E(Le,H).authorize(G.socketId,we)}};function Ix(R,$){let E={activityTimeout:R.activityTimeout||d.activityTimeout,cluster:R.cluster,httpPath:R.httpPath||d.httpPath,httpPort:R.httpPort||d.httpPort,httpsPort:R.httpsPort||d.httpsPort,pongTimeout:R.pongTimeout||d.pongTimeout,statsHost:R.statsHost||d.stats_host,unavailableTimeout:R.unavailableTimeout||d.unavailableTimeout,wsPath:R.wsPath||d.wsPath,wsPort:R.wsPort||d.wsPort,wssPort:R.wssPort||d.wssPort,enableStats:zx(R),httpHost:Ox(R),useTLS:Nx(R),wsHost:Lx(R),userAuthenticator:Bx(R),channelAuthorizer:Vx(R,$)};return"disabledTransports"in R&&(E.disabledTransports=R.disabledTransports),"enabledTransports"in R&&(E.enabledTransports=R.enabledTransports),"ignoreNullOrigin"in R&&(E.ignoreNullOrigin=R.ignoreNullOrigin),"timelineParams"in R&&(E.timelineParams=R.timelineParams),"nacl"in R&&(E.nacl=R.nacl),E}function Ox(R){return R.httpHost?R.httpHost:R.cluster?`sockjs-${R.cluster}.pusher.com`:d.httpHost}function Lx(R){return R.wsHost?R.wsHost:Fx(R.cluster)}function Fx(R){return`ws-${R}.pusher.com`}function Nx(R){return ut.getProtocol()==="https:"?!0:R.forceTLS!==!1}function zx(R){return"enableStats"in R?R.enableStats:"disableStats"in R?!R.disableStats:!1}function Bx(R){const $=Object.assign(Object.assign({},d.userAuthentication),R.userAuthentication);return"customHandler"in $&&$.customHandler!=null?$.customHandler:Ex($)}function Ux(R,$){let E;return"channelAuthorization"in R?E=Object.assign(Object.assign({},d.channelAuthorization),R.channelAuthorization):(E={transport:R.authTransport||d.authTransport,endpoint:R.authEndpoint||d.authEndpoint},"auth"in R&&("params"in R.auth&&(E.params=R.auth.params),"headers"in R.auth&&(E.headers=R.auth.headers)),"authorizer"in R&&(E.customHandler=Rx($,E,R.authorizer))),E}function Vx(R,$){const E=Ux(R,$);return"customHandler"in E&&E.customHandler!=null?E.customHandler:jx(E)}class Hx extends gn{constructor($){super(function(E,H){Oe.debug(`No callbacks on watchlist events for ${E}`)}),this.pusher=$,this.bindWatchlistInternalEvent()}handleEvent($){$.data.events.forEach(E=>{this.emit(E.name,E)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",$=>{var E=$.event;E==="pusher_internal:watchlist_events"&&this.handleEvent($)})}}function qx(){let R,$;return{promise:new Promise((H,G)=>{R=H,$=G}),resolve:R,reject:$}}var Wx=qx;class Kx extends gn{constructor($){super(function(E,H){Oe.debug("No callbacks on user for "+E)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(E,H)=>{if(E){Oe.warn(`Error during signin: ${E}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:H.auth,user_data:H.user_data})},this.pusher=$,this.pusher.connection.bind("state_change",({previous:E,current:H})=>{E!=="connected"&&H==="connected"&&this._signin(),E==="connected"&&H!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Hx($),this.pusher.connection.bind("message",E=>{var H=E.event;H==="pusher:signin_success"&&this._onSigninSuccess(E.data),this.serverToUserChannel&&this.serverToUserChannel.name===E.channel&&this.serverToUserChannel.handleEvent(E)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess($){try{this.user_data=JSON.parse($.user_data)}catch{Oe.error(`Failed parsing user data after signin: ${$.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Oe.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const $=E=>{E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.pusher.connection.state==="connected"&&E.subscribe()};this.serverToUserChannel=new Yr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((E,H)=>{E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0||this.emit(E,H)}),$(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:$,resolve:E,reject:H}=Wx();$.done=!1;const G=()=>{$.done=!0};$.then(G).catch(G),this.signinDonePromise=$,this._signinDoneResolve=E}}class Cs{static ready(){Cs.isReady=!0;for(var $=0,E=Cs.instances.length;$<E;$++)Cs.instances[$].connect()}static getClientFeatures(){return Ne(ee({ws:ut.Transports.ws},function($){return $.isSupported({})}))}constructor($,E){Yx($),Ax(E),this.key=$,this.config=Ix(E,this),this.channels=vo.createChannels(),this.global_emitter=new gn,this.sessionID=ut.randomInt(1e9),this.timeline=new $x(this.key,this.sessionID,{cluster:this.config.cluster,features:Cs.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Tl.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=vo.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ut.TimelineTransport.name}));var H=G=>ut.getDefaultStrategy(this.config,G,Mx);this.connection=vo.createConnectionManager(this.key,{getStrategy:H,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",G=>{var we=G.event,Le=we.indexOf("pusher_internal:")===0;if(G.channel){var Ge=this.channel(G.channel);Ge&&Ge.handleEvent(G)}Le||this.global_emitter.emit(G.event,G.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",G=>{Oe.warn(G)}),Cs.instances.push(this),this.timeline.info({instances:Cs.instances.length}),this.user=new Kx(this),Cs.isReady&&this.connect()}channel($){return this.channels.find($)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var $=this.connection.isUsingTLS(),E=this.timelineSender;this.timelineSenderTimer=new ke(6e4,function(){E.send($)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind($,E,H){return this.global_emitter.bind($,E,H),this}unbind($,E,H){return this.global_emitter.unbind($,E,H),this}bind_global($){return this.global_emitter.bind_global($),this}unbind_global($){return this.global_emitter.unbind_global($),this}unbind_all($){return this.global_emitter.unbind_all(),this}subscribeAll(){var $;for($ in this.channels.channels)this.channels.channels.hasOwnProperty($)&&this.subscribe($)}subscribe($){var E=this.channels.add($,this);return E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.connection.state==="connected"&&E.subscribe(),E}unsubscribe($){var E=this.channels.find($);E&&E.subscriptionPending?E.cancelSubscription():(E=this.channels.remove($),E&&E.subscribed&&E.unsubscribe())}send_event($,E,H){return this.connection.send_event($,E,H)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Cs.instances=[],Cs.isReady=!1,Cs.logToConsole=!1,Cs.Runtime=ut,Cs.ScriptReceivers=ut.ScriptReceivers,Cs.DependenciesReceivers=ut.DependenciesReceivers,Cs.auth_callbacks=ut.auth_callbacks;var yu=o.default=Cs;function Yx(R){if(R==null)throw"You must pass your app key when you instantiate Pusher."}ut.setup(Cs)}])})})(fb);var zT=fb.exports;const BT=NT(zT);let ca=null,hm=!0;async function UT(){if(ca||(ca=new(window.AudioContext||window.webkitAudioContext)),ca.state==="suspended")try{await ca.resume()}catch{}return ca}async function VT(){const s=await UT(),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.value=800,e.type="sine";const o=s.currentTime;t.gain.setValueAtTime(0,o),t.gain.linearRampToValueAtTime(.3*Zg(),o+.01),t.gain.exponentialRampToValueAtTime(.01,o+.3),e.start(o),e.stop(o+.3),setTimeout(()=>{const i=s.createOscillator(),r=s.createGain();i.connect(r),r.connect(s.destination),i.frequency.value=1e3,i.type="sine";const a=s.currentTime;r.gain.setValueAtTime(0,a),r.gain.linearRampToValueAtTime(.3*Zg(),a+.01),r.gain.exponentialRampToValueAtTime(.01,a+.3),i.start(a),i.stop(a+.3)},150)}async function HT(){if(hm)try{await VT()}catch{}}function qT(){const s=localStorage.getItem("notification_sound_enabled");return s!==null&&(hm=s==="true"),hm}function Zg(){const s=localStorage.getItem("notification_volume");return s?parseFloat(s):.5}typeof window<"u"&&qT();const WT={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Notifications"},KT={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},YT={class:"absolute mt-2 w-48 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},GT={key:0,class:"py-4 text-center text-sm text-gray-700"},XT={key:1},JT=["href","onClick"],QT=ye({__name:"_NotificationsDropdown",setup(s){const e=F([]),t=F();window.Pusher=BT;let o=null,i=0;function r(){ae.get("notifications").then(d=>{const u=d.data.new;u>i&&i>=0&&HT(),i=u,t.value=u,e.value=d.data.notifications})}r(),o=window.setInterval(()=>{document.hasFocus()&&r()},1e4),qs(()=>{o&&clearInterval(o)});function a(d){d&&t.value&&ae.post("/notifications/read").then(u=>{u.data.success&&(t.value=0,i=0)})}function l(d){return{"App\\Notifications\\ProjectAssigned":"/projects/"+d.data.item_id,"App\\Notifications\\TaskAssigned":"/projects/"+d.data.project_id}[d.type]}return(d,u)=>{const m=fn("router-link");return g(),ne(f(Ks),{onToggle:a},{trigger:q(()=>[n("button",WT,[u[0]||(u[0]=n("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),t.value?(g(),v("div",KT,c(t.value>9?"9+":t.value),1)):j("",!0)])]),content:q(()=>[n("div",YT,[e.value.length?(g(),v("div",XT,[(g(!0),v(re,null,ve(e.value,p=>(g(),ne(m,{key:p.id,custom:"",to:l(p)},{default:q(({href:h,navigate:_})=>[n("a",{href:h,class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",role:"menuitem",onClick:_},c(p.data.message),9,JT)]),_:2},1032,["to"]))),128))])):(g(),v("p",GT,c(d.__("No Notifications!")),1))])]),_:1})}}}),ZT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},eA={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},tA={class:"py-1",role:"none"},sA={class:"flex-1 font-medium ltr:ml-2 rtl:mr-2"},nA=ye({__name:"_RecentDropdown",setup(s){const e=F([]);return ae.get("recent-projects").then(t=>{e.value=t.data}),(t,o)=>{const i=fn("router-link");return g(),ne(f(Ks),null,{trigger:q(()=>[n("button",ZT,[n("span",null,c(t.__("Recent")),1),o[0]||(o[0]=n("div",{class:"ltr:ml-1 rtl:mr-1"},[n("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:q(()=>[n("div",eA,[z(n("p",{class:"px-4 py-4 text-sm text-gray-700"},c(t.__("There are no data")),513),[[zt,!e.value.length]]),z(n("div",tA,[(g(!0),v(re,null,ve(e.value,r=>(g(),ne(i,{key:r.name,class:"flex items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",to:"/projects/"+r.project_id},{default:q(()=>[n("span",{class:"block h-2 w-2 rounded-full",style:kt({"background-color":r.project.meta.color})},"",4),n("span",sA,c(r.project.name),1)]),_:2},1032,["to"]))),128))],512),[[zt,e.value.length]])])]),_:1})}}}),oA={id:"logout-form",method:"POST",action:"/logout"},iA=["value"],rA={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},aA={class:"ltr:ml-2 rtl:mr-2"},lA={class:"absolute mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},dA={class:"divide-y divide-gray-100"},cA={class:"px-4 py-2.5"},uA={class:"block text-xs font-normal text-gray-500"},fA={class:"mt-0.5 block truncate text-sm font-normal text-gray-600",role:"none"},mA={class:"py-1",role:"none"},hA=ye({__name:"ProfileDropdown",setup(s){const e=ht.user,t=ht.csrf_token;function o(){document.querySelector("#logout-form").submit()}return(i,r)=>{const a=fn("RouterLink");return g(),ne(f(Ks),null,{trigger:q(()=>[n("form",oA,[n("input",{type:"hidden",name:"_token",value:f(t)},null,8,iA)]),n("button",rA,[C(f(Xt),{avatar:f(e).avatar,class:"h-8 w-8"},null,8,["avatar"]),n("div",aA,c(f(e).name),1),r[0]||(r[0]=n("div",{class:"ltr:ml-1 rtl:mr-1"},[n("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:q(()=>[n("div",lA,[n("div",dA,[n("p",cA,[n("span",uA,c(i.__("Signed in as")),1),n("span",fA,c(f(e).email),1)]),n("div",mA,[C(a,{to:"/profile",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:q(()=>[K(c(i.__("Profile")),1)]),_:1}),i.can("setting:general")?(g(),ne(a,{key:0,to:"/settings/general",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:q(()=>[K(c(i.__("Settings")),1)]),_:1})):j("",!0),n("a",{href:"/logout",class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",onClick:Ke(o,["prevent"])},c(i.__("Logout")),1)])])])]),_:1})}}}),pA={key:0},gA={class:"flex items-center space-x-2"},_A={class:"flex flex-col leading-tight"},vA={class:"text-lg font-bold"},yA={class:"text-sm"},bA={class:"contract-tooltip"},xA={class:"mt-1 text-xs"},wA={key:0,class:"mt-0.5"},kA={class:"contract-modal-header"},$A={class:"contract-modal-body"},CA={class:"font-bold"},SA={class:"details-grid"},MA={class:"detail-item"},TA={class:"detail-value"},AA={class:"detail-item"},DA={class:"detail-value"},EA={class:"detail-item"},PA={class:"detail-value countdown-value"},jA={key:0,class:"urgency-message"},RA={class:"contract-modal-footer"},IA=ye({__name:"ContractCountdown",setup(s){const e=De(()=>ht.contract_days_remaining),t=F(!1);function o(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}function i(l){return l?{"fixed-term":"Fixed Term",permanent:"Permanent",freelance:"Freelance"}[l]||l:"Fixed Term"}function r(){return e.value?e.value<=30?"Expiring Soon":e.value<=90?"Active (Reminder)":"Active":"Unknown"}function a(){return e.value?e.value<=30?"status-urgent":e.value<=90?"status-warning":"status-normal":""}return(l,d)=>e.value!==null&&f(ht).employment_type==="Contract"?(g(),v("div",pA,[n("div",{class:Q(["contract-countdown-badge",{"contract-urgent":e.value<=30,"contract-warning":e.value>30&&e.value<=90,"contract-normal":e.value>90}]),onClick:d[0]||(d[0]=u=>t.value=!0)},[n("div",gA,[d[6]||(d[6]=n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),n("div",_A,[d[5]||(d[5]=n("span",{class:"text-xs font-medium opacity-90"},"Contract Ends In",-1)),n("span",vA,[K(c(e.value)+" ",1),n("span",yA,c(e.value===1?"day":"days"),1)])])]),n("div",bA,[d[7]||(d[7]=n("div",{class:"text-xs font-semibold"},"Click for Details",-1)),n("div",xA,[n("div",null,"End Date: "+c(o(f(ht).user.contract_end_date)),1),f(ht).user.contract_type?(g(),v("div",wA," Type: "+c(i(f(ht).user.contract_type)),1)):j("",!0)])])],2),t.value?(g(),v("div",{key:0,class:"contract-modal-overlay",onClick:d[4]||(d[4]=u=>t.value=!1)},[n("div",{class:"contract-modal",onClick:d[3]||(d[3]=Ke(()=>{},["stop"]))},[n("div",kA,[d[9]||(d[9]=n("h3",{class:"text-xl font-bold text-gray-900"},"Contract Information",-1)),n("button",{class:"close-button",onClick:d[1]||(d[1]=u=>t.value=!1)},[...d[8]||(d[8]=[n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n("div",$A,[n("div",{class:Q(["status-badge",a()])},[d[10]||(d[10]=n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",CA,"Status: "+c(r()),1)],2),n("div",SA,[n("div",MA,[d[11]||(d[11]=n("div",{class:"detail-label"},"Contract Type",-1)),n("div",TA,c(i(f(ht).user.contract_type)),1)]),n("div",AA,[d[12]||(d[12]=n("div",{class:"detail-label"},"End Date",-1)),n("div",DA,c(o(f(ht).user.contract_end_date)),1)]),n("div",EA,[d[13]||(d[13]=n("div",{class:"detail-label"},"Days Remaining",-1)),n("div",PA,c(e.value)+" "+c(e.value===1?"day":"days"),1)]),d[14]||(d[14]=_i('<div class="detail-item" data-v-881d3395><div class="detail-label" data-v-881d3395>Renewal Status</div><div class="detail-value renewal-status" data-v-881d3395><svg class="h-5 w-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-881d3395><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-881d3395></path></svg><span data-v-881d3395>Non-renewable</span></div></div>',1))]),e.value<=30?(g(),v("div",jA,[...d[15]||(d[15]=[n("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),n("div",null,[n("div",{class:"font-bold"},"Urgent: Contract Expiring Soon"),n("div",{class:"text-sm"},"Please contact HR if you need assistance regarding your contract.")],-1)])])):j("",!0)]),n("div",RA,[n("button",{class:"modal-button",onClick:d[2]||(d[2]=u=>t.value=!1)}," Close ")])])])):j("",!0)])):j("",!0)}});const OA=lh(IA,[["__scopeId","data-v-881d3395"]]),LA={class:"relative z-10 flex h-16 flex-shrink-0 bg-white shadow"},FA={class:"flex flex-1 justify-between px-4"},NA={class:"flex flex-1 items-center px-4"},zA={class:"flex items-center ltr:ml-4 rtl:mr-4 ltr:md:ml-6 rtl:md:mr-6"},BA=ye({__name:"Header",setup(s){const e=Tc();return(t,o)=>(g(),v("div",LA,[n("button",{class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:o[0]||(o[0]=i=>f(e).isMobileSidebar=!0)},[o[1]||(o[1]=n("span",{class:"sr-only"},"Open sidebar",-1)),C(f(Iv),{class:"h-6 w-6","aria-hidden":"true"})]),n("div",FA,[n("div",NA,[C(nA),t.can("project:create")||t.can("user:create")?(g(),ne(FT,{key:0,class:"ltr:ml-6 rtl:mr-6"})):j("",!0)]),n("div",zA,[C(gT),C(S6,{class:"ltr:ml-5 ltr:mr-5 rtl:ml-5 rtl:mr-5"}),C(HM),C(OA,{class:"ltr:ml-5 rtl:mr-5"}),C(QT,{class:"ltr:ml-5 rtl:mr-5"}),C(hA,{class:"ltr:ml-5 rtl:mr-5"})])])]))}}),Mh=mn("favorite",()=>{const s=F([]);async function e(){const{data:t}=await ae.get("favorites");s.value=t}return{items:s,fetch:e}}),UA={class:"text-gray-400 hover:text-gray-200"},VA={class:"absolute bottom-6 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},HA={class:"py-1",role:"none"},qA=ye({__name:"ProjectMenu",props:{id:{},index:{},isFavorite:{}},emits:["toggleMenu"],setup(s,{emit:e}){const t=s,o=e,i=F(t.isFavorite);function r(u){o("toggleMenu",{state:u,index:t.index})}function a(){ae.patch("/projects/"+t.id+"/favorite").then(({data:u})=>{Mh().items=u.favorites.favorites,i.value=u.favorite})}function l(){ae.patch(`projects/${t.id}/archive`).then(()=>{window.location.href="/"})}function d(){Ft().add(nu,{id:t.id})}return(u,m)=>(g(),ne(f(Ks),{name:"sidebar-project-menu-"+s.id,onToggle:r},{trigger:q(()=>[n("span",UA,[C(f(u$),{class:"h-4 w-4"})])]),content:q(()=>[n("div",VA,[n("div",HA,[n("button",{class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ke(a,["prevent"])},c(i.value?u.__("Remove favorite"):u.__("Add to favorite")),1),u.can("project:update")?(g(),v("button",{key:0,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ke(d,["prevent"])},c(u.__("Edit")),1)):j("",!0),u.can("project:delete")?(g(),v("button",{key:1,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ke(l,["prevent"])},c(u.__("Archive")),1)):j("",!0)])])]),_:1},8,["name"]))}}),WA={class:"mt-6"},KA={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},YA={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},GA={class:"ml-auto flex items-center gap-1"},XA=["href","onClick"],JA={class:"mt-2 space-y-0.5"},QA=["href","onClick"],ZA={class:"flex-1 truncate"},eD=ye({__name:"Index",setup(s){const e=Je("can"),t=Sh(),o=eo(),i=De(()=>o.currentRoute.value.path),r=F(null);function a(d){return i.value.startsWith(d)}function l(d){d.state?r.value=d.index:r.value==d.index&&(r.value=null)}return(d,u)=>{const m=fn("RouterLink");return g(),v("section",WA,[C(f(Gc),null,{trigger:q(({open:p})=>[n("div",KA,[(g(),v("svg",{viewBox:"0 0 16 16",class:Q(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!p,"rotate-0":p}])},[...u[1]||(u[1]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("h3",YA,c(d.__("Projects")),1),n("div",GA,[C(m,{to:"/projects",custom:""},{default:q(({href:h,navigate:_})=>[n("a",{href:h,"data-cy":"projects-index-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:Ke(_,["stop"])},[C(f(h$),{class:"h-4 w-4"})],8,XA)]),_:1}),f(e)("project:create")?(g(),v("span",{key:0,"data-cy":"create-project-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:u[0]||(u[0]=Ke((...h)=>f(t).create&&f(t).create(...h),["stop"]))},[C(f(pn),{class:"h-4 w-4"})])):j("",!0)])])]),content:q(()=>[n("div",JA,[(g(!0),v(re,null,ve(f(t).items.filter(p=>p&&p.id),(p,h)=>(g(),ne(m,{key:p.id||h,to:`/projects/${p.id}`,custom:""},{default:q(({navigate:_,href:y,route:x})=>[n("a",{href:y,class:Q([a(x.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:_},[n("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:kt({"background-color":p.meta.color,"box-shadow":`0 0 8px ${p.meta.color}40`})},null,4),n("span",ZA,c(p.name),1),C(qA,{id:p.id,index:h,"is-favorite":p.is_favorite,class:Q(["group-hover:block",{hidden:r.value!=h}]),onToggleMenu:l},null,8,["id","index","is-favorite","class"])],10,QA)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),tD={class:"mt-6"},sD={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},nD={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},oD={class:"mt-2 space-y-0.5"},iD=["href","onClick"],rD={class:"flex-1 truncate"},aD=ye({__name:"Index",setup(s){const e=eo(),t=De(()=>e.currentRoute.value.path),o=Mh();o.fetch();function i(r){return t.value.startsWith(r)}return(r,a)=>{const l=fn("RouterLink");return g(),v("section",tD,[C(f(Gc),null,{trigger:q(({open:d})=>[n("div",sD,[(g(),v("svg",{viewBox:"0 0 16 16",class:Q(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!d,"rotate-0":d}])},[...a[0]||(a[0]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("h3",nD,c(r.__("Favorites")),1)])]),content:q(()=>[n("div",oD,[(g(!0),v(re,null,ve(f(o).items,d=>(g(),ne(l,{key:d.project.name,to:`/projects/${d.project.id}`,custom:""},{default:q(({navigate:u,href:m,route:p})=>[n("a",{href:m,class:Q([i(p.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:u},[n("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:kt({"background-color":d.project.meta.color,"box-shadow":`0 0 8px ${d.project.meta.color}40`})},null,4),n("span",rD,c(d.project.name),1)],10,iD)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),lD={class:"hidden md:flex md:flex-shrink-0"},dD={class:"flex w-64 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 shadow-2xl"},cD={class:"flex h-0 flex-1 flex-col"},uD={class:"sidebar-nav flex flex-1 flex-col overflow-y-auto scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-600"},fD={class:"flex-1 space-y-1 px-3 py-4"},mD=ye({__name:"Sidebar",setup(s){return(e,t)=>{const o=fn("RouterLink");return g(),v("div",lD,[n("div",dD,[n("div",cD,[C(o,{to:"/",class:"group relative flex h-16 flex-shrink-0 items-center border-b border-gray-700/50 bg-gray-900/80 px-4 backdrop-blur-sm transition-all duration-200 hover:bg-gray-800/80"},{default:q(()=>[t[0]||(t[0]=n("div",{class:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"},null,-1)),C(Hv)]),_:1}),n("div",uD,[n("nav",fD,[C(Vv),C(aD),C(eD)])])])])])}}}),hD={key:0,class:"fixed top-0 left-0 right-0 z-[300] flex items-center justify-center gap-4 bg-yellow-500 px-4 py-2 text-sm font-medium text-yellow-900"},pD={__name:"ImpersonationBanner",setup(s){const e=De(()=>ht.is_impersonating),t=De(()=>{var i;return((i=ht.user)==null?void 0:i.name)||"Unknown"}),o=async()=>{var i,r;try{const a=await ae.post("impersonate/stop");alert(a.data.message),window.location.href="/"}catch(a){alert(((r=(i=a.response)==null?void 0:i.data)==null?void 0:r.message)||"Failed to stop impersonating")}};return(i,r)=>e.value?(g(),v("div",hD,[n("span",null,[K(c(i.__("You are logged in as"))+" ",1),n("strong",null,c(t.value),1)]),n("button",{type:"button",class:"rounded-md bg-yellow-600 px-3 py-1 text-xs font-semibold text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",onClick:o},c(i.__("Return to your account")),1)])):j("",!0)}};function gD(s={}){const e=eo(),t=F(null),o=F(!0),i=F(Date.now()),r=F(!1),a=F(null),l=F(!0),d=F(!1);let u=null,m=null,p=null;function h(){return`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function _(){return{page_url:window.location.href,page_title:document.title}}function y(){var P;if(!((P=a.value)!=null&&P.exception_urls))return!1;const O=window.location.hostname.replace(/^www\./,"");return a.value.exception_urls.some(B=>{try{const be=new URL(B).hostname.replace(/^www\./,"");return O===be}catch{return!1}})}async function x(){try{const O=await ae.get("activity/settings");return a.value=O.data,l.value=O.data.enabled??!0,d.value=O.data.is_clocked_in??!1,O.data}catch{return null}}async function w(){try{if(await x(),!l.value||!d.value||y())return;t.value=h();const{page_url:O}=_();await ae.post("activity/session/start",{session_id:t.value,page_url:O}),r.value=!0,A()}catch{}}async function k(){if(!(!t.value||!o.value)&&!y()&&l.value&&d.value)try{const O=_();await ae.post("activity/heartbeat",{session_id:t.value,...O})}catch{}}async function b(){if(p){if(y()||!l.value||!d.value){p=null;return}try{const O=_();await ae.post("activity/return",{away_from:new Date(p).toISOString(),...O}),p=null}catch{}}}async function M(){if(t.value){try{await ae.post("activity/session/end",{session_id:t.value})}catch{}T(),t.value=null}}function S(){const O=Date.now();o.value||(o.value=!0,b()),i.value=O}function N(){var be;if(!l.value||y()||!d.value)return;const O=(((be=a.value)==null?void 0:be.inactivity_threshold)??5)*60*1e3;Date.now()-i.value>=O&&o.value&&(o.value=!1,p=i.value)}function A(){var P;const O=(((P=a.value)==null?void 0:P.heartbeat_interval)??60)*1e3;u=setInterval(k,O),m=setInterval(N,1e4)}function T(){u&&(clearInterval(u),u=null),m&&(clearInterval(m),m=null)}function D(){const O=["mousedown","mousemove","keydown","scroll","touchstart","click"];return O.forEach(P=>{document.addEventListener(P,S,{passive:!0})}),document.addEventListener("visibilitychange",L),window.addEventListener("beforeunload",I),()=>{O.forEach(P=>{document.removeEventListener(P,S)}),document.removeEventListener("visibilitychange",L),window.removeEventListener("beforeunload",I)}}function L(){var O;if(document.hidden)p=Date.now(),o.value=!1;else{if(p){const P=(((O=a.value)==null?void 0:O.inactivity_threshold)??5)*60*1e3;Date.now()-p>=P?b():p=null}o.value=!0,i.value=Date.now()}}function I(){if(t.value){const O=JSON.stringify({session_id:t.value});navigator.sendBeacon("/api/activity/session/end",O)}}return $t(()=>e.currentRoute.value.path,()=>{r.value&&k()}),Ye(()=>{const O=D();w(),qs(()=>{O(),T(),M()})}),{sessionId:t,isActive:o,lastActivityTime:i,isInitialized:r,settings:a,isMonitoringEnabled:l,isClockedIn:d}}const _D=ye({setup(){return gD(),()=>C(re,null,[C(pD,null,null),C("div",{class:"flex h-screen overflow-hidden bg-gray-100"},[C(V$,null,null),C(mD,null,null),C("div",{class:"flex w-0 flex-1 flex-col overflow-hidden"},[C(BA,null,null),C("main",{class:"relative flex-1 overflow-y-auto px-8 py-6"},[C(Hm,null,null)])]),C(xM,null,null),C(wM,null,null)])])}}),vD=ye({setup(){const s=Tc();return()=>s.isBlankPage?C(Hm,null,null):C(_D,null,null)}}),mb=P5(vD),yD=ye({__name:"NotFound",setup(s){return(e,t)=>(g(),ne(f(hy),{code:"404",heading:"Page not found",description:"Please check the URL in the address bar and try again."}))}}),bD=ye({__name:"Forbidden",setup(s){return(e,t)=>(g(),ne(f(hy),{code:"403",heading:"Forbidden",description:"Unauthorized Access."}))}}),Th=mn("home",()=>{const s=F(!0),e=F(),t=F();o();async function o(){try{const[a,l]=await Promise.all([i(),r()]);e.value=a.data,t.value=l.data}catch{}finally{s.value=!1}}function i(){return ae.get("metrics")}function r(){return ae.get("charts")}return{charts:t,fetching:s,metrics:e}}),xD={class:"grid grid-cols-12 gap-6"},wD={class:"col-span-12 lg:col-span-6"},kD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},$D={class:"text-lg font-semibold text-gray-900"},CD={style:{height:"300px"}},SD={class:"col-span-12 lg:col-span-6"},MD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},TD={class:"text-lg font-semibold text-gray-900"},AD={style:{height:"300px"}},DD=ye({__name:"_Charts",setup(s){const e=Th();return(t,o)=>(g(),v("section",xD,[n("div",wD,[C(f(Lo),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:q(()=>{var i;return[n("div",kD,[n("div",null,[n("h3",$D,c(t.__("Completed in the last 7 days")),1),o[0]||(o[0]=n("p",{class:"mt-1 text-xs text-gray-500"}," Weekly task completion trend ",-1))]),o[1]||(o[1]=n("span",{class:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700"}," 7 Days ",-1))]),n("div",CD,[C(f(mm),{id:"tasks-chart",data:(i=f(e).charts)==null?void 0:i.chart_tasks_weekly,"tooltip-label":"Tasks","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]}),_:1})]),n("div",SD,[C(f(Lo),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:q(()=>{var i;return[n("div",MD,[n("div",null,[n("h3",TD,c(t.__("Most productive month")),1),o[2]||(o[2]=n("p",{class:"mt-1 text-xs text-gray-500"}," Yearly performance overview ",-1))]),o[3]||(o[3]=n("span",{class:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700"}," 12 Months ",-1))]),n("div",AD,[C(f(mm),{id:"tasks-chart-yearly",data:(i=f(e).charts)==null?void 0:i.chart_tasks_yearly,"tooltip-label":"Tasks","background-color":"rgba(147, 51, 234, 0.1)","border-color":"#9333EA"},null,8,["data"])])]}),_:1})])]))}}),ED={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},PD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md"},jD={class:"flex items-center gap-3"},RD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100"},ID={class:"text-sm font-medium text-gray-600"},OD={class:"mt-4"},LD={class:"text-3xl font-bold text-gray-900"},FD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-green-300 hover:shadow-md"},ND={class:"flex items-center gap-3"},zD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100"},BD={class:"text-sm font-medium text-gray-600"},UD={class:"mt-4"},VD={class:"text-3xl font-bold text-gray-900"},HD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-300 hover:shadow-md"},qD={class:"flex items-center gap-3"},WD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100"},KD={class:"text-sm font-medium text-gray-600"},YD={class:"mt-4"},GD={class:"text-3xl font-bold text-gray-900"},XD=ye({__name:"_Metrics",setup(s){const e=Th();return(t,o)=>{var i,r,a;return g(),v("section",null,[n("dl",ED,[n("div",PD,[n("dt",jD,[n("div",RD,[C(f(th),{class:"h-6 w-6 text-indigo-600"})]),n("p",ID,c(t.__("Open Tasks")),1)]),n("dd",OD,[n("p",LD,c((i=f(e).metrics)==null?void 0:i.open_tasks),1),o[0]||(o[0]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700"}," In Progress ")],-1))])]),n("div",FD,[n("dt",ND,[n("div",zD,[C(f(ps),{class:"h-6 w-6 text-green-600"})]),n("p",BD,c(t.__("Completed Tasks")),1)]),n("dd",UD,[n("p",VD,c((r=f(e).metrics)==null?void 0:r.completed_tasks),1),o[1]||(o[1]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-0.5 text-xs font-medium text-green-700"}," Finished ")],-1))])]),n("div",HD,[n("dt",qD,[n("div",WD,[C(f(un),{class:"h-6 w-6 text-purple-600"})]),n("p",KD,c(t.__("Total Projects")),1)]),n("dd",YD,[n("p",GD,c((a=f(e).metrics)==null?void 0:a.total_projects),1),o[2]||(o[2]=n("div",{class:"mt-3 flex items-center text-sm"},[n("span",{class:"inline-flex items-center rounded-full bg-purple-50 px-2.5 py-0.5 text-xs font-medium text-purple-700"}," Active ")],-1))])])])])}}}),JD={key:1,class:"space-y-8"},QD={class:"flex items-center justify-between border-b border-gray-200 pb-5"},ZD={class:"text-3xl font-bold text-gray-900"},eE={key:0,class:"text-right"},tE={class:"flex items-center justify-end gap-2"},sE={class:"text-sm font-medium text-gray-500"},nE={key:0,class:"inline-flex items-center rounded-full bg-indigo-100 px-2 py-0.5 text-xs font-medium text-indigo-800"},oE={class:"mt-1 text-lg font-semibold text-gray-900"},iE={class:"text-xs text-gray-500"},rE=ye({__name:"Home",setup(s){const e=Je("__"),t=Th(),o=F(null),i=async()=>{try{const r=await ae.get("working-hours/my-hours");o.value=r.data}catch{}};return Ye(()=>{i()}),(r,a)=>f(t).fetching?(g(),ne(f(bt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),v("div",JD,[n("div",QD,[n("div",null,[n("h1",ZD,c(f(e)("Dashboard")),1),a[0]||(a[0]=n("p",{class:"mt-1 text-sm text-gray-500"}," Welcome back! Here's what's happening with your tasks today. ",-1))]),o.value?(g(),v("div",eE,[n("div",tE,[C(f(Ws),{class:Q(["h-5 w-5",o.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"]),n("span",sE,c(f(e)("Your Working Hours")),1),o.value.has_custom_hours?(g(),v("span",nE,c(f(e)("Custom")),1)):j("",!0)]),n("p",oE,c(o.value.formatted_start)+" - "+c(o.value.formatted_end),1),n("p",iE,c(o.value.has_custom_hours?o.value.effective_period:f(e)("Standard working hours apply to you.")),1)])):j("",!0)]),C(XD),C(DD)]))}}),aE={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},lE={class:"sm:col-span-2"},dE=["src"],cE={key:1,class:"inline-block h-24 w-24 overflow-hidden rounded-full bg-gray-200"},uE=ye({__name:"FieldAvatar",setup(s){const e=gs("profile")(),t=512,o=512,i=F();i.value=e.data.avatar;function r(a){if(!a.target.files.length)return;let l=a.target.files[0],d=a.target,u=new FileReader;u.readAsDataURL(l),u.onload=m=>{let p=new Image;p.src=m.target.result,p.onload=function(){if(p.width>t||p.height>o){alert("you can upload max "+t+" x "+o),d.value=null;return}i.value=m.target.result;const h=new FormData;h.append("avatar",l),ae.post("avatar",h)}}}return(a,l)=>(g(),v("div",aE,[l[2]||(l[2]=n("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"  ",-1)),n("div",lE,[i.value?(g(),v("img",{key:0,class:"h-24 w-24 rounded-full",src:i.value},null,8,dE)):(g(),v("span",cE,[...l[0]||(l[0]=[n("svg",{class:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])])),l[1]||(l[1]=n("label",{for:"avatar",class:"mt-2 block w-24 cursor-pointer text-center text-sm text-gray-600"}," Change ",-1)),n("input",{id:"avatar",type:"file",class:"hidden",accept:"image/*",name:"avatar",onChange:r},null,32)])]))}}),fE={key:0,class:"overflow-hidden rounded-lg bg-white shadow"},mE={class:"p-5"},hE={class:"flex items-center justify-between"},pE={class:"flex items-center"},gE={class:"flex-shrink-0"},_E={class:"ml-4"},vE={class:"text-sm font-medium text-gray-500"},yE={class:"mt-1 flex items-baseline"},bE={class:"text-2xl font-semibold text-gray-900"},xE={key:0,class:"flex-shrink-0"},wE={class:"inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},kE={key:0,class:"mt-4 border-t border-gray-100 pt-4"},$E={class:"flex flex-col space-y-2"},CE={class:"flex items-center text-sm"},SE={class:"text-gray-500"},ME={class:"ml-1 font-medium text-gray-900"},TE={key:0,class:"flex items-start text-sm"},AE={class:"text-gray-500"},DE={key:1,class:"mt-4 text-sm text-gray-500"},EE={__name:"WorkingHoursWidget",setup(s){const e=F(null),t=async()=>{try{const o=await ae.get("working-hours/my-hours");e.value=o.data}catch{}};return Ye(()=>{t()}),(o,i)=>e.value?(g(),v("div",fE,[n("div",mE,[n("div",hE,[n("div",pE,[n("div",gE,[C(f(Ws),{class:Q(["h-8 w-8",e.value.has_custom_hours?"text-indigo-500":"text-gray-400"])},null,8,["class"])]),n("div",_E,[n("h3",vE,c(o.__("Your Working Hours")),1),n("div",yE,[n("p",bE,c(e.value.formatted_start)+" - "+c(e.value.formatted_end),1)])])]),e.value.has_custom_hours?(g(),v("div",xE,[n("span",wE,c(o.__("Custom Schedule")),1)])):j("",!0)]),e.value.has_custom_hours?(g(),v("div",kE,[n("div",$E,[n("div",CE,[C(f(un),{class:"h-4 w-4 text-gray-400 mr-2"}),n("span",SE,c(o.__("Period"))+":",1),n("span",ME,c(e.value.effective_period),1)]),e.value.reason?(g(),v("div",TE,[C(f(zv),{class:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),n("span",AE,c(e.value.reason),1)])):j("",!0)])])):(g(),v("div",DE,c(o.__("Standard working hours apply to you.")),1))])])):j("",!0)}},PE={class:"mt-8"},jE={class:"text-lg font-medium text-gray-900 mb-4"},RE=ye({__name:"Profile",setup(s){const e=gs("profile")(),t=_o();return e.onSuccess(()=>{e.submitting=!1,e.data.password=""}),(o,i)=>(g(),v(re,null,[C(f(Fa),{title:o.__("Profile")},null,8,["title"]),C(f(zo),{name:"profile",uri:"profile","save-only":""},{default:q(()=>[C(uE),C(f(t),{name:"name",label:o.__("Name"),inline:""},null,8,["label"]),C(f(t),{name:"email",label:o.__("Email"),inline:"",disabled:""},null,8,["label"]),C(f(t),{name:"password",label:o.__("New Password"),type:"password",inline:""},null,8,["label"])]),_:1}),n("div",PE,[n("h2",jE,c(o.__("Working Hours")),1),C(EE)])],64))}}),sn=mn("project-detail",()=>{const s=F(!1),e=F({});async function t(o){s.value=!0;const{data:i}=await ae.get(`projects/${o}`);s.value=!1,e.value=i}return{fetch:t,fetching:s,data:e}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function e_(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,o)}return t}function go(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(t),!0).forEach(function(o){IE(s,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):e_(Object(t)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(t,o))})}return s}function Ad(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ad=function(e){return typeof e}:Ad=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(s)}function IE(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Fo(){return Fo=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o])}return s},Fo.apply(this,arguments)}function OE(s,e){if(s==null)return{};var t={},o=Object.keys(s),i,r;for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function LE(s,e){if(s==null)return{};var t=OE(s,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(s,o)&&(t[o]=s[o])}return t}var FE="1.15.0";function jo(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var Bo=jo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$l=jo(/Edge/i),t_=jo(/firefox/i),Na=jo(/safari/i)&&!jo(/chrome/i)&&!jo(/android/i),hb=jo(/iP(ad|od|hone)/i),pb=jo(/chrome/i)&&jo(/android/i),gb={capture:!1,passive:!1};function At(s,e,t){s.addEventListener(e,t,!Bo&&gb)}function Ct(s,e,t){s.removeEventListener(e,t,!Bo&&gb)}function lc(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function NE(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function lo(s,e,t,o){if(s){t=t||document;do{if(e!=null&&(e[0]===">"?s.parentNode===t&&lc(s,e):lc(s,e))||o&&s===t)return s;if(s===t)break}while(s=NE(s))}return null}var s_=/\s+/g;function vn(s,e,t){if(s&&e)if(s.classList)s.classList[t?"add":"remove"](e);else{var o=(" "+s.className+" ").replace(s_," ").replace(" "+e+" "," ");s.className=(o+(t?" "+e:"")).replace(s_," ")}}function at(s,e,t){var o=s&&s.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(t=s.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function kr(s,e){var t="";if(typeof s=="string")t=s;else do{var o=at(s,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(s=s.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function _b(s,e,t){if(s){var o=s.getElementsByTagName(e),i=0,r=o.length;if(t)for(;i<r;i++)t(o[i],i);return o}return[]}function po(){var s=document.scrollingElement;return s||document.documentElement}function ys(s,e,t,o,i){if(!(!s.getBoundingClientRect&&s!==window)){var r,a,l,d,u,m,p;if(s!==window&&s.parentNode&&s!==po()?(r=s.getBoundingClientRect(),a=r.top,l=r.left,d=r.bottom,u=r.right,m=r.height,p=r.width):(a=0,l=0,d=window.innerHeight,u=window.innerWidth,m=window.innerHeight,p=window.innerWidth),(e||t)&&s!==window&&(i=i||s.parentNode,!Bo))do if(i&&i.getBoundingClientRect&&(at(i,"transform")!=="none"||t&&at(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(at(i,"border-top-width")),l-=h.left+parseInt(at(i,"border-left-width")),d=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(o&&s!==window){var _=kr(i||s),y=_&&_.a,x=_&&_.d;_&&(a/=x,l/=y,p/=y,m/=x,d=a+m,u=l+p)}return{top:a,left:l,bottom:d,right:u,width:p,height:m}}}function n_(s,e,t){for(var o=ri(s,!0),i=ys(s)[e];o;){var r=ys(o)[t],a=void 0;if(t==="top"||t==="left"?a=i>=r:a=i<=r,!a)return o;if(o===po())break;o=ri(o,!1)}return!1}function Lr(s,e,t,o){for(var i=0,r=0,a=s.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==ot.ghost&&(o||a[r]!==ot.dragged)&&lo(a[r],t.draggable,s,!1)){if(i===e)return a[r];i++}r++}return null}function Ah(s,e){for(var t=s.lastElementChild;t&&(t===ot.ghost||at(t,"display")==="none"||e&&!lc(t,e));)t=t.previousElementSibling;return t||null}function In(s,e){var t=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==ot.clone&&(!e||lc(s,e))&&t++;return t}function o_(s){var e=0,t=0,o=po();if(s)do{var i=kr(s),r=i.a,a=i.d;e+=s.scrollLeft*r,t+=s.scrollTop*a}while(s!==o&&(s=s.parentNode));return[e,t]}function zE(s,e){for(var t in s)if(s.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===s[t][o])return Number(t)}return-1}function ri(s,e){if(!s||!s.getBoundingClientRect)return po();var t=s,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=at(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return po();if(o||e)return t;o=!0}}while(t=t.parentNode);return po()}function BE(s,e){if(s&&e)for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function rf(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var za;function vb(s,e){return function(){if(!za){var t=arguments,o=this;t.length===1?s.call(o,t[0]):s.apply(o,t),za=setTimeout(function(){za=void 0},e)}}}function UE(){clearTimeout(za),za=void 0}function yb(s,e,t){s.scrollLeft+=e,s.scrollTop+=t}function bb(s){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):t?t(s).clone(!0)[0]:s.cloneNode(!0)}var $n="Sortable"+new Date().getTime();function VE(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(at(i,"display")==="none"||i===ot.ghost)){s.push({target:i,rect:ys(i)});var r=go({},s[s.length-1].rect);if(i.thisAnimationDuration){var a=kr(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){s.push(o)},removeAnimationState:function(o){s.splice(zE(s,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var r=!1,a=0;s.forEach(function(l){var d=0,u=l.target,m=u.fromRect,p=ys(u),h=u.prevFromRect,_=u.prevToRect,y=l.rect,x=kr(u,!0);x&&(p.top-=x.f,p.left-=x.e),u.toRect=p,u.thisAnimationDuration&&rf(h,p)&&!rf(m,p)&&(y.top-p.top)/(y.left-p.left)===(m.top-p.top)/(m.left-p.left)&&(d=qE(y,h,_,i.options)),rf(p,m)||(u.prevFromRect=m,u.prevToRect=p,d||(d=i.options.animation),i.animate(u,y,p,d)),d&&(r=!0,a=Math.max(a,d),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},d),u.thisAnimationDuration=d)}),clearTimeout(e),r?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),s=[]},animate:function(o,i,r,a){if(a){at(o,"transition",""),at(o,"transform","");var l=kr(this.el),d=l&&l.a,u=l&&l.d,m=(i.left-r.left)/(d||1),p=(i.top-r.top)/(u||1);o.animatingX=!!m,o.animatingY=!!p,at(o,"transform","translate3d("+m+"px,"+p+"px,0)"),this.forRepaintDummy=HE(o),at(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),at(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){at(o,"transition",""),at(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function HE(s){return s.offsetWidth}function qE(s,e,t,o){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var ur=[],af={initializeByDefault:!0},Cl={mount:function(e){for(var t in af)af.hasOwnProperty(t)&&!(t in e)&&(e[t]=af[t]);ur.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ur.push(e)},pluginEvent:function(e,t,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=e+"Global";ur.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](go({sortable:t},o)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](go({sortable:t},o)))})},initializePlugins:function(e,t,o,i){ur.forEach(function(l){var d=l.pluginName;if(!(!e.options[d]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[d]=u,Fo(o,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var o={};return ur.forEach(function(i){typeof i.eventProperties=="function"&&Fo(o,i.eventProperties.call(t[i.pluginName],e))}),o},modifyOption:function(e,t,o){var i;return ur.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],o))}),i}};function WE(s){var e=s.sortable,t=s.rootEl,o=s.name,i=s.targetEl,r=s.cloneEl,a=s.toEl,l=s.fromEl,d=s.oldIndex,u=s.newIndex,m=s.oldDraggableIndex,p=s.newDraggableIndex,h=s.originalEvent,_=s.putSortable,y=s.extraEventProperties;if(e=e||t&&t[$n],!!e){var x,w=e.options,k="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Bo&&!$l?x=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(o,!0,!0)),x.to=a||t,x.from=l||t,x.item=i||t,x.clone=r,x.oldIndex=d,x.newIndex=u,x.oldDraggableIndex=m,x.newDraggableIndex=p,x.originalEvent=h,x.pullMode=_?_.lastPutMode:void 0;var b=go(go({},y),Cl.getEventProperties(o,e));for(var M in b)x[M]=b[M];t&&t.dispatchEvent(x),w[k]&&w[k].call(e,x)}}var KE=["evt"],on=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=LE(o,KE);Cl.pluginEvent.bind(ot)(e,t,go({dragEl:Fe,parentEl:Zt,ghostEl:ft,rootEl:Yt,nextEl:Ni,lastDownEl:Dd,cloneEl:Jt,cloneHidden:Qo,dragStarted:ya,putSortable:Ss,activeSortable:ot.active,originalEvent:i,oldIndex:gr,oldDraggableIndex:Ba,newIndex:xn,newDraggableIndex:Jo,hideGhostForTarget:$b,unhideGhostForTarget:Cb,cloneNowHidden:function(){Qo=!0},cloneNowShown:function(){Qo=!1},dispatchSortableEvent:function(l){Js({sortable:t,name:l,originalEvent:i})}},r))};function Js(s){WE(go({putSortable:Ss,cloneEl:Jt,targetEl:Fe,rootEl:Yt,oldIndex:gr,oldDraggableIndex:Ba,newIndex:xn,newDraggableIndex:Jo},s))}var Fe,Zt,ft,Yt,Ni,Dd,Jt,Qo,gr,xn,Ba,Jo,td,Ss,pr=!1,dc=!1,cc=[],ji,qn,lf,df,i_,r_,ya,fr,Ua,Va=!1,sd=!1,Ed,Is,cf=[],pm=!1,uc=[],ou=typeof document<"u",nd=hb,a_=$l||Bo?"cssFloat":"float",YE=ou&&!pb&&!hb&&"draggable"in document.createElement("div"),xb=function(){if(ou){if(Bo)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),wb=function(e,t){var o=at(e),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Lr(e,0,t),a=Lr(e,1,t),l=r&&at(r),d=a&&at(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ys(r).width,m=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+ys(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var p=l.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===p)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[a_]==="none"||a&&o[a_]==="none"&&u+m>i)?"vertical":"horizontal"},GE=function(e,t,o){var i=o?e.left:e.top,r=o?e.right:e.bottom,a=o?e.width:e.height,l=o?t.left:t.top,d=o?t.right:t.bottom,u=o?t.width:t.height;return i===l||r===d||i+a/2===l+u/2},XE=function(e,t){var o;return cc.some(function(i){var r=i[$n].options.emptyInsertThreshold;if(!(!r||Ah(i))){var a=ys(i),l=e>=a.left-r&&e<=a.right+r,d=t>=a.top-r&&t<=a.bottom+r;if(l&&d)return o=i}}),o},kb=function(e){function t(r,a){return function(l,d,u,m){var p=l.options.group.name&&d.options.group.name&&l.options.group.name===d.options.group.name;if(r==null&&(a||p))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,d,u,m),a)(l,d,u,m);var h=(a?l:d).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var o={},i=e.group;(!i||Ad(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=t(i.pull,!0),o.checkPut=t(i.put),o.revertClone=i.revertClone,e.group=o},$b=function(){!xb&&ft&&at(ft,"display","none")},Cb=function(){!xb&&ft&&at(ft,"display","")};ou&&!pb&&document.addEventListener("click",function(s){if(dc)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),dc=!1,!1},!0);var Ri=function(e){if(Fe){e=e.touches?e.touches[0]:e;var t=XE(e.clientX,e.clientY);if(t){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[$n]._onDragOver(o)}}},JE=function(e){Fe&&Fe.parentNode[$n]._isOutsideThisEl(e.target)};function ot(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=Fo({},e),s[$n]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return wb(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ot.supportPointer!==!1&&"PointerEvent"in window&&!Na,emptyInsertThreshold:5};Cl.initializePlugins(this,s,t);for(var o in t)!(o in e)&&(e[o]=t[o]);kb(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:YE,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?At(s,"pointerdown",this._onTapStart):(At(s,"mousedown",this._onTapStart),At(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(At(s,"dragover",this),At(s,"dragenter",this)),cc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Fo(this,VE())}ot.prototype={constructor:ot,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(fr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Fe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,i=this.options,r=i.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,m=i.filter;if(iP(o),!Fe&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Na&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=lo(d,i.draggable,o,!1),!(d&&d.animated)&&Dd!==d)){if(gr=In(d),Ba=In(d,i.draggable),typeof m=="function"){if(m.call(this,e,d,this)){Js({sortable:t,rootEl:u,name:"filter",targetEl:d,toEl:o,fromEl:o}),on("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(p){if(p=lo(u,p.trim(),o,!1),p)return Js({sortable:t,rootEl:p,name:"filter",targetEl:d,fromEl:o,toEl:o}),on("filter",t,{evt:e}),!0}),m)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!lo(u,i.handle,o,!1)||this._prepareDragStart(e,l,d)}}},_prepareDragStart:function(e,t,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,d;if(o&&!Fe&&o.parentNode===r){var u=ys(o);if(Yt=r,Fe=o,Zt=Fe.parentNode,Ni=Fe.nextSibling,Dd=o,td=a.group,ot.dragged=Fe,ji={target:Fe,clientX:(t||e).clientX,clientY:(t||e).clientY},i_=ji.clientX-u.left,r_=ji.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Fe.style["will-change"]="all",d=function(){if(on("delayEnded",i,{evt:e}),ot.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!t_&&i.nativeDraggable&&(Fe.draggable=!0),i._triggerDragStart(e,t),Js({sortable:i,name:"choose",originalEvent:e}),vn(Fe,a.chosenClass,!0)},a.ignore.split(",").forEach(function(m){_b(Fe,m.trim(),uf)}),At(l,"dragover",Ri),At(l,"mousemove",Ri),At(l,"touchmove",Ri),At(l,"mouseup",i._onDrop),At(l,"touchend",i._onDrop),At(l,"touchcancel",i._onDrop),t_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Fe.draggable=!0),on("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!($l||Bo))){if(ot.eventCanceled){this._onDrop();return}At(l,"mouseup",i._disableDelayedDrag),At(l,"touchend",i._disableDelayedDrag),At(l,"touchcancel",i._disableDelayedDrag),At(l,"mousemove",i._delayedDragTouchMoveHandler),At(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&At(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Fe&&uf(Fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ct(e,"mouseup",this._disableDelayedDrag),Ct(e,"touchend",this._disableDelayedDrag),Ct(e,"touchcancel",this._disableDelayedDrag),Ct(e,"mousemove",this._delayedDragTouchMoveHandler),Ct(e,"touchmove",this._delayedDragTouchMoveHandler),Ct(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?At(document,"pointermove",this._onTouchMove):t?At(document,"touchmove",this._onTouchMove):At(document,"mousemove",this._onTouchMove):(At(Fe,"dragend",this),At(Yt,"dragstart",this._onDragStart));try{document.selection?Pd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(pr=!1,Yt&&Fe){on("dragStarted",this,{evt:t}),this.nativeDraggable&&At(document,"dragover",JE);var o=this.options;!e&&vn(Fe,o.dragClass,!1),vn(Fe,o.ghostClass,!0),ot.active=this,e&&this._appendGhost(),Js({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(qn){this._lastX=qn.clientX,this._lastY=qn.clientY,$b();for(var e=document.elementFromPoint(qn.clientX,qn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(qn.clientX,qn.clientY),e!==t);)t=e;if(Fe.parentNode[$n]._isOutsideThisEl(e),t)do{if(t[$n]){var o=void 0;if(o=t[$n]._onDragOver({clientX:qn.clientX,clientY:qn.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Cb()}},_onTouchMove:function(e){if(ji){var t=this.options,o=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=ft&&kr(ft,!0),l=ft&&a&&a.a,d=ft&&a&&a.d,u=nd&&Is&&o_(Is),m=(r.clientX-ji.clientX+i.x)/(l||1)+(u?u[0]-cf[0]:0)/(l||1),p=(r.clientY-ji.clientY+i.y)/(d||1)+(u?u[1]-cf[1]:0)/(d||1);if(!ot.active&&!pr){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(ft){a?(a.e+=m-(lf||0),a.f+=p-(df||0)):a={a:1,b:0,c:0,d:1,e:m,f:p};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");at(ft,"webkitTransform",h),at(ft,"mozTransform",h),at(ft,"msTransform",h),at(ft,"transform",h),lf=m,df=p,qn=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ft){var e=this.options.fallbackOnBody?document.body:Yt,t=ys(Fe,!0,nd,!0,e),o=this.options;if(nd){for(Is=e;at(Is,"position")==="static"&&at(Is,"transform")==="none"&&Is!==document;)Is=Is.parentNode;Is!==document.body&&Is!==document.documentElement?(Is===document&&(Is=po()),t.top+=Is.scrollTop,t.left+=Is.scrollLeft):Is=po(),cf=o_(Is)}ft=Fe.cloneNode(!0),vn(ft,o.ghostClass,!1),vn(ft,o.fallbackClass,!0),vn(ft,o.dragClass,!0),at(ft,"transition",""),at(ft,"transform",""),at(ft,"box-sizing","border-box"),at(ft,"margin",0),at(ft,"top",t.top),at(ft,"left",t.left),at(ft,"width",t.width),at(ft,"height",t.height),at(ft,"opacity","0.8"),at(ft,"position",nd?"absolute":"fixed"),at(ft,"zIndex","100000"),at(ft,"pointerEvents","none"),ot.ghost=ft,e.appendChild(ft),at(ft,"transform-origin",i_/parseInt(ft.style.width)*100+"% "+r_/parseInt(ft.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,i=e.dataTransfer,r=o.options;if(on("dragStart",this,{evt:e}),ot.eventCanceled){this._onDrop();return}on("setupClone",this),ot.eventCanceled||(Jt=bb(Fe),Jt.removeAttribute("id"),Jt.draggable=!1,Jt.style["will-change"]="",this._hideClone(),vn(Jt,this.options.chosenClass,!1),ot.clone=Jt),o.cloneId=Pd(function(){on("clone",o),!ot.eventCanceled&&(o.options.removeCloneOnHide||Yt.insertBefore(Jt,Fe),o._hideClone(),Js({sortable:o,name:"clone"}))}),!t&&vn(Fe,r.dragClass,!0),t?(dc=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Ct(document,"mouseup",o._onDrop),Ct(document,"touchend",o._onDrop),Ct(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,Fe)),At(document,"drop",o),at(Fe,"transform","translateZ(0)")),pr=!0,o._dragStartId=Pd(o._dragStarted.bind(o,t,e)),At(document,"selectstart",o),ya=!0,Na&&at(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,i,r,a,l=this.options,d=l.group,u=ot.active,m=td===d,p=l.sort,h=Ss||u,_,y=this,x=!1;if(pm)return;function w(me,Z){on(me,y,go({evt:e,isOwner:m,axis:_?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:p,fromSortable:h,target:o,completed:b,onMove:function(Te,se){return od(Yt,t,Fe,i,Te,ys(Te),e,se)},changed:M},Z))}function k(){w("dragOverAnimationCapture"),y.captureAnimationState(),y!==h&&h.captureAnimationState()}function b(me){return w("dragOverCompleted",{insertion:me}),me&&(m?u._hideClone():u._showClone(y),y!==h&&(vn(Fe,Ss?Ss.options.ghostClass:u.options.ghostClass,!1),vn(Fe,l.ghostClass,!0)),Ss!==y&&y!==ot.active?Ss=y:y===ot.active&&Ss&&(Ss=null),h===y&&(y._ignoreWhileAnimating=o),y.animateAll(function(){w("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===Fe&&!Fe.animated||o===t&&!o.animated)&&(fr=null),!l.dragoverBubble&&!e.rootEl&&o!==document&&(Fe.parentNode[$n]._isOutsideThisEl(e.target),!me&&Ri(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function M(){xn=In(Fe),Jo=In(Fe,l.draggable),Js({sortable:y,name:"change",toEl:t,newIndex:xn,newDraggableIndex:Jo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=lo(o,l.draggable,t,!0),w("dragOver"),ot.eventCanceled)return x;if(Fe.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||y._ignoreWhileAnimating===o)return b(!1);if(dc=!1,u&&!l.disabled&&(m?p||(a=Zt!==Yt):Ss===this||(this.lastPutMode=td.checkPull(this,u,Fe,e))&&d.checkPut(this,u,Fe,e))){if(_=this._getDirection(e,o)==="vertical",i=ys(Fe),w("dragOverValid"),ot.eventCanceled)return x;if(a)return Zt=Yt,k(),this._hideClone(),w("revert"),ot.eventCanceled||(Ni?Yt.insertBefore(Fe,Ni):Yt.appendChild(Fe)),b(!0);var S=Ah(t,l.draggable);if(!S||tP(e,_,this)&&!S.animated){if(S===Fe)return b(!1);if(S&&t===e.target&&(o=S),o&&(r=ys(o)),od(Yt,t,Fe,i,o,r,e,!!o)!==!1)return k(),S&&S.nextSibling?t.insertBefore(Fe,S.nextSibling):t.appendChild(Fe),Zt=t,M(),b(!0)}else if(S&&eP(e,_,this)){var N=Lr(t,0,l,!0);if(N===Fe)return b(!1);if(o=N,r=ys(o),od(Yt,t,Fe,i,o,r,e,!1)!==!1)return k(),t.insertBefore(Fe,N),Zt=t,M(),b(!0)}else if(o.parentNode===t){r=ys(o);var A=0,T,D=Fe.parentNode!==t,L=!GE(Fe.animated&&Fe.toRect||i,o.animated&&o.toRect||r,_),I=_?"top":"left",O=n_(o,"top","top")||n_(Fe,"top","top"),P=O?O.scrollTop:void 0;fr!==o&&(T=r[I],Va=!1,sd=!L&&l.invertSwap||D),A=sP(e,o,r,_,L?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,sd,fr===o);var B;if(A!==0){var be=In(Fe);do be-=A,B=Zt.children[be];while(B&&(at(B,"display")==="none"||B===ft))}if(A===0||B===o)return b(!1);fr=o,Ua=A;var le=o.nextElementSibling,de=!1;de=A===1;var ce=od(Yt,t,Fe,i,o,r,e,de);if(ce!==!1)return(ce===1||ce===-1)&&(de=ce===1),pm=!0,setTimeout(ZE,30),k(),de&&!le?t.appendChild(Fe):o.parentNode.insertBefore(Fe,de?le:o),O&&yb(O,0,P-O.scrollTop),Zt=Fe.parentNode,T!==void 0&&!sd&&(Ed=Math.abs(T-ys(o)[I])),M(),b(!0)}if(t.contains(Fe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ct(document,"mousemove",this._onTouchMove),Ct(document,"touchmove",this._onTouchMove),Ct(document,"pointermove",this._onTouchMove),Ct(document,"dragover",Ri),Ct(document,"mousemove",Ri),Ct(document,"touchmove",Ri)},_offUpEvents:function(){var e=this.el.ownerDocument;Ct(e,"mouseup",this._onDrop),Ct(e,"touchend",this._onDrop),Ct(e,"pointerup",this._onDrop),Ct(e,"touchcancel",this._onDrop),Ct(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(xn=In(Fe),Jo=In(Fe,o.draggable),on("drop",this,{evt:e}),Zt=Fe&&Fe.parentNode,xn=In(Fe),Jo=In(Fe,o.draggable),ot.eventCanceled){this._nulling();return}pr=!1,sd=!1,Va=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gm(this.cloneId),gm(this._dragStartId),this.nativeDraggable&&(Ct(document,"drop",this),Ct(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Na&&at(document.body,"user-select",""),at(Fe,"transform",""),e&&(ya&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),ft&&ft.parentNode&&ft.parentNode.removeChild(ft),(Yt===Zt||Ss&&Ss.lastPutMode!=="clone")&&Jt&&Jt.parentNode&&Jt.parentNode.removeChild(Jt),Fe&&(this.nativeDraggable&&Ct(Fe,"dragend",this),uf(Fe),Fe.style["will-change"]="",ya&&!pr&&vn(Fe,Ss?Ss.options.ghostClass:this.options.ghostClass,!1),vn(Fe,this.options.chosenClass,!1),Js({sortable:this,name:"unchoose",toEl:Zt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Yt!==Zt?(xn>=0&&(Js({rootEl:Zt,name:"add",toEl:Zt,fromEl:Yt,originalEvent:e}),Js({sortable:this,name:"remove",toEl:Zt,originalEvent:e}),Js({rootEl:Zt,name:"sort",toEl:Zt,fromEl:Yt,originalEvent:e}),Js({sortable:this,name:"sort",toEl:Zt,originalEvent:e})),Ss&&Ss.save()):xn!==gr&&xn>=0&&(Js({sortable:this,name:"update",toEl:Zt,originalEvent:e}),Js({sortable:this,name:"sort",toEl:Zt,originalEvent:e})),ot.active&&((xn==null||xn===-1)&&(xn=gr,Jo=Ba),Js({sortable:this,name:"end",toEl:Zt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){on("nulling",this),Yt=Fe=Zt=ft=Ni=Jt=Dd=Qo=ji=qn=ya=xn=Jo=gr=Ba=fr=Ua=Ss=td=ot.dragged=ot.ghost=ot.clone=ot.active=null,uc.forEach(function(e){e.checked=!0}),uc.length=lf=df=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Fe&&(this._onDragOver(e),QE(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)t=o[i],lo(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||oP(t));return e},sort:function(e,t){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];lo(l,this.options.draggable,i,!1)&&(o[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return lo(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var i=Cl.modifyOption(this,e,t);typeof i<"u"?o[e]=i:o[e]=t,e==="group"&&kb(o)},destroy:function(){on("destroy",this);var e=this.el;e[$n]=null,Ct(e,"mousedown",this._onTapStart),Ct(e,"touchstart",this._onTapStart),Ct(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ct(e,"dragover",this),Ct(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),cc.splice(cc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Qo){if(on("hideClone",this),ot.eventCanceled)return;at(Jt,"display","none"),this.options.removeCloneOnHide&&Jt.parentNode&&Jt.parentNode.removeChild(Jt),Qo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Qo){if(on("showClone",this),ot.eventCanceled)return;Fe.parentNode==Yt&&!this.options.group.revertClone?Yt.insertBefore(Jt,Fe):Ni?Yt.insertBefore(Jt,Ni):Yt.appendChild(Jt),this.options.group.revertClone&&this.animate(Fe,Jt),at(Jt,"display",""),Qo=!1}}};function QE(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function od(s,e,t,o,i,r,a,l){var d,u=s[$n],m=u.options.onMove,p;return window.CustomEvent&&!Bo&&!$l?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=s,d.dragged=t,d.draggedRect=o,d.related=i||e,d.relatedRect=r||ys(e),d.willInsertAfter=l,d.originalEvent=a,s.dispatchEvent(d),m&&(p=m.call(u,d,a)),p}function uf(s){s.draggable=!1}function ZE(){pm=!1}function eP(s,e,t){var o=ys(Lr(t.el,0,t.options,!0)),i=10;return e?s.clientX<o.left-i||s.clientY<o.top&&s.clientX<o.right:s.clientY<o.top-i||s.clientY<o.bottom&&s.clientX<o.left}function tP(s,e,t){var o=ys(Ah(t.el,t.options.draggable)),i=10;return e?s.clientX>o.right+i||s.clientX<=o.right&&s.clientY>o.bottom&&s.clientX>=o.left:s.clientX>o.right&&s.clientY>o.top||s.clientX<=o.right&&s.clientY>o.bottom+i}function sP(s,e,t,o,i,r,a,l){var d=o?s.clientY:s.clientX,u=o?t.height:t.width,m=o?t.top:t.left,p=o?t.bottom:t.right,h=!1;if(!a){if(l&&Ed<u*i){if(!Va&&(Ua===1?d>m+u*r/2:d<p-u*r/2)&&(Va=!0),Va)h=!0;else if(Ua===1?d<m+Ed:d>p-Ed)return-Ua}else if(d>m+u*(1-i)/2&&d<p-u*(1-i)/2)return nP(e)}return h=h||a,h&&(d<m+u*r/2||d>p-u*r/2)?d>m+u/2?1:-1:0}function nP(s){return In(Fe)<In(s)?1:-1}function oP(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function iP(s){uc.length=0;for(var e=s.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&uc.push(o)}}function Pd(s){return setTimeout(s,0)}function gm(s){return clearTimeout(s)}ou&&At(document,"touchmove",function(s){(ot.active||pr)&&s.cancelable&&s.preventDefault()});ot.utils={on:At,off:Ct,css:at,find:_b,is:function(e,t){return!!lo(e,t,e,!1)},extend:BE,throttle:vb,closest:lo,toggleClass:vn,clone:bb,index:In,nextTick:Pd,cancelNextTick:gm,detectDirection:wb,getChild:Lr};ot.get=function(s){return s[$n]};ot.mount=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ot.utils=go(go({},ot.utils),o.utils)),Cl.mount(o)})};ot.create=function(s,e){return new ot(s,e)};ot.version=FE;var us=[],ba,_m,vm=!1,ff,mf,fc,xa;function rP(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?At(document,"dragover",this._handleAutoScroll):this.options.supportPointer?At(document,"pointermove",this._handleFallbackAutoScroll):o.touches?At(document,"touchmove",this._handleFallbackAutoScroll):At(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Ct(document,"dragover",this._handleAutoScroll):(Ct(document,"pointermove",this._handleFallbackAutoScroll),Ct(document,"touchmove",this._handleFallbackAutoScroll),Ct(document,"mousemove",this._handleFallbackAutoScroll)),l_(),jd(),UE()},nulling:function(){fc=_m=ba=vm=xa=ff=mf=null,us.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var i=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(fc=t,o||this.options.forceAutoScrollFallback||$l||Bo||Na){hf(t,this.options,l,o);var d=ri(l,!0);vm&&(!xa||r!==ff||a!==mf)&&(xa&&l_(),xa=setInterval(function(){var u=ri(document.elementFromPoint(r,a),!0);u!==d&&(d=u,jd()),hf(t,i.options,u,o)},10),ff=r,mf=a)}else{if(!this.options.bubbleScroll||ri(l,!0)===po()){jd();return}hf(t,this.options,ri(l,!1),!1)}}},Fo(s,{pluginName:"scroll",initializeByDefault:!0})}function jd(){us.forEach(function(s){clearInterval(s.pid)}),us=[]}function l_(){clearInterval(xa)}var hf=vb(function(s,e,t,o){if(e.scroll){var i=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,d=po(),u=!1,m;_m!==t&&(_m=t,jd(),ba=e.scroll,m=e.scrollFn,ba===!0&&(ba=ri(t,!0)));var p=0,h=ba;do{var _=h,y=ys(_),x=y.top,w=y.bottom,k=y.left,b=y.right,M=y.width,S=y.height,N=void 0,A=void 0,T=_.scrollWidth,D=_.scrollHeight,L=at(_),I=_.scrollLeft,O=_.scrollTop;_===d?(N=M<T&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),A=S<D&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(N=M<T&&(L.overflowX==="auto"||L.overflowX==="scroll"),A=S<D&&(L.overflowY==="auto"||L.overflowY==="scroll"));var P=N&&(Math.abs(b-i)<=a&&I+M<T)-(Math.abs(k-i)<=a&&!!I),B=A&&(Math.abs(w-r)<=a&&O+S<D)-(Math.abs(x-r)<=a&&!!O);if(!us[p])for(var be=0;be<=p;be++)us[be]||(us[be]={});(us[p].vx!=P||us[p].vy!=B||us[p].el!==_)&&(us[p].el=_,us[p].vx=P,us[p].vy=B,clearInterval(us[p].pid),(P!=0||B!=0)&&(u=!0,us[p].pid=setInterval((function(){o&&this.layer===0&&ot.active._onTouchMove(fc);var le=us[this.layer].vy?us[this.layer].vy*l:0,de=us[this.layer].vx?us[this.layer].vx*l:0;typeof m=="function"&&m.call(ot.dragged.parentNode[$n],de,le,s,fc,us[this.layer].el)!=="continue"||yb(us[this.layer].el,de,le)}).bind({layer:p}),24))),p++}while(e.bubbleScroll&&h!==d&&(h=ri(h,!1)));vm=u}},30),Sb=function(e){var t=e.originalEvent,o=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(t){var u=o||r;l();var m=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,p=document.elementFromPoint(m.clientX,m.clientY);d(),u&&!u.el.contains(p)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function Dh(){}Dh.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Lr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Sb};Fo(Dh,{pluginName:"revertOnSpill"});function Eh(){}Eh.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,i=o||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Sb};Fo(Eh,{pluginName:"removeOnSpill"});ot.mount(new rP);ot.mount(Eh,Dh);function aP(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function lP(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function dP(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function cP(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function Mb(s,e){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})])}const uP={class:"cursor-pointer text-gray-600 hover:text-gray-700"},fP={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},mP={class:"py-1",role:"none"},hP=ye({__name:"SectionDropdown",props:{listId:{},listIndex:{}},emits:["listEdit"],setup(s){const e=s,t=sn();function o(){wd().confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){ae.delete(`lists/${e.listId}`).then(()=>{wd().hide(),t.data.lists.splice(e.listIndex,1)}).catch(()=>{wd().hide()})}})}return(i,r)=>(g(),ne(f(Ks),{"close-outside":""},{trigger:q(()=>[n("span",uP,[C(f(dP),{class:"h-4 w-4"})])]),content:q(()=>[n("div",fP,[n("div",mP,[n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r[0]||(r[0]=Ke(a=>i.$emit("listEdit"),["prevent"]))},c(i.__("Edit")),1),n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o},c(i.__("Delete")),1)])])]),_:1}))}}),pP={class:"flex items-center py-2.5 px-2"},gP={key:0,class:"flex-1 ltr:pr-2 rtl:pl-2"},_P=["textContent"],vP={key:2,class:"ltr:ml-auto rtl:mr-auto"},yP=ye({__name:"SectionHeader",props:{id:{},index:{},name:{}},setup(s){const e=s,t=F(!1),o=F(""),i=F(null),r=F(e.name);function a(u){u.target.closest("#list-edit-input")||(t.value=!1,document.removeEventListener("click",a))}function l(){t.value=!0,o.value=r.value,setTimeout(function(){var u;(u=i.value)==null||u.focus(),document.addEventListener("click",a)})}function d(){o.value&&ae.patch(`lists/${e.id}`,{name:o.value}).then(()=>{r.value=o.value,t.value=!1,o.value="",document.removeEventListener("click",a)})}return(u,m)=>(g(),v("div",pP,[t.value?(g(),v("div",gP,[z(n("input",{id:"list-edit-input",ref_key:"input",ref:i,"onUpdate:modelValue":m[0]||(m[0]=p=>o.value=p),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Ln(d,["enter"])},null,544),[[J,o.value]])])):j("",!0),t.value?j("",!0):(g(),v("div",{key:1,class:"px-2 py-[0.313rem] text-sm font-semibold leading-none text-gray-700",textContent:c(r.value)},null,8,_P)),u.can("task-list:update")||u.can("task-list:delete")?(g(),v("div",vP,[C(hP,{"list-id":s.id,"list-index":s.index,onListEdit:l},null,8,["list-id","list-index"])])):j("",!0)]))}}),ss=mn("task",()=>{const s=F(!0),e=F({}),t=F({}),o=F(!1),i=F(null),r=F(null),a=F(null),l=F(!1),d=F(!1);function u(m){typeof m=="number"?(s.value=m,ae.get("tasks/"+m).then(({data:p})=>{s.value=!1,t.value=p.options,e.value=p.task})):(s.value=m.loading,ae.get("tasks/"+m.id).then(({data:p})=>{s.value=!1,t.value=p.options,p.value=p.task}))}return{checklistItemForm:r,commentForm:a,data:e,fetch:u,isContentForm:o,loading:s,newChecklistItemForm:d,newSubtaskForm:l,options:t,subtaskForm:i}}),bP=ye({__name:"TaskCheckbox",setup(s){const e=ks("tasks")(),t=sn(),o=ss(),i=F(!1);function r(l){i.value||(i.value=!0,ae.patch(`tasks/${l}/complete`).then(({data:d})=>{var m;i.value=!1,o.data.completed_at=d.completed_at,a();const u=Ft().components.findIndex(p=>p.component.__name=="TaskModal");((m=Ft().components[u].payload)==null?void 0:m.page)=="tasks"&&e.fetch({loading:!1})}))}function a(){t.fetch(o.data.project_id)}return(l,d)=>(g(),v("span",{class:Q(["mt-0.5 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":f(o).data.completed_at,"border border-gray-300":!f(o).data.completed_at}]),onClick:d[0]||(d[0]=u=>r(f(o).data.id))},[...d[1]||(d[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}});function Tb(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let or=Tb();function xP(s){or=s}const Ab=/[&<>"']/,wP=new RegExp(Ab.source,"g"),Db=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,kP=new RegExp(Db.source,"g"),$P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d_=s=>$P[s];function Ls(s,e){if(e){if(Ab.test(s))return s.replace(wP,d_)}else if(Db.test(s))return s.replace(kP,d_);return s}const CP=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Eb(s){return s.replace(CP,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const SP=/(^|[^\[])\^/g;function Ht(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(o,i)=>(i=i.source||i,i=i.replace(SP,"$1"),s=s.replace(o,i),t),getRegex:()=>new RegExp(s,e)};return t}const MP=/[^\w:]/g,TP=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function c_(s,e,t){if(s){let o;try{o=decodeURIComponent(Eb(t)).replace(MP,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}e&&!TP.test(t)&&(t=PP(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const id={},AP=/^[^:]+:\/*[^/]*$/,DP=/^([^:]+:)[\s\S]*$/,EP=/^([^:]+:\/*[^/]*)[\s\S]*$/;function PP(s,e){id[" "+s]||(AP.test(s)?id[" "+s]=s+"/":id[" "+s]=Rd(s,"/",!0)),s=id[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(DP,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(EP,"$1")+e:s+e}const mc={exec:function(){}};function u_(s,e){const t=s.replace(/\|/g,(r,a,l)=>{let d=!1,u=a;for(;--u>=0&&l[u]==="\\";)d=!d;return d?"|":" |"}),o=t.split(/ \|/);let i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Rd(s,e,t){const o=s.length;if(o===0)return"";let i=0;for(;i<o;){const r=s.charAt(o-i-1);if(r===e&&!t)i++;else if(r!==e&&t)i++;else break}return s.slice(0,o-i)}function jP(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let o=0,i=0;for(;i<t;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])o++;else if(s[i]===e[1]&&(o--,o<0))return i;return-1}function RP(s){s&&s.sanitize&&s.silent}function f_(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function m_(s,e,t,o){const i=e.href,r=e.title?Ls(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){o.state.inLink=!0;const l={type:"link",raw:t,href:i,title:r,text:a,tokens:o.inlineTokens(a)};return o.state.inLink=!1,l}return{type:"image",raw:t,href:i,title:r,text:Ls(a)}}function IP(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const o=t[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[a]=r;return a.length>=o.length?i.slice(o.length):i}).join(`
`)}class Ph{constructor(e){this.options=e||or}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Rd(o,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const o=t[0],i=IP(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let o=t[2].trim();if(/#$/.test(o)){const i=Rd(o,"#");(this.options.pedantic||!i||/ $/.test(i))&&(o=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(o);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:r,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let o,i,r,a,l,d,u,m,p,h,_,y,x=t[1].trim();const w=x.length>1,k={type:"list",raw:"",ordered:w,start:w?+x.slice(0,-1):"",loose:!1,items:[]};x=w?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=w?x:"[*+-]");const b=new RegExp(`^( {0,3}${x})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(y=!1,!(!(t=b.exec(e))||this.rules.block.hr.test(e)));){if(o=t[0],e=e.substring(o.length),m=t[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),p=e.split(`
`,1)[0],this.options.pedantic?(a=2,_=m.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,_=m.slice(a),a+=t[1].length),d=!1,!m&&/^ *$/.test(p)&&(o+=p+`
`,e=e.substring(p.length+1),y=!0),!y){const S=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(h=e.split(`
`,1)[0],p=h,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(A.test(p)||T.test(p)||S.test(p)||N.test(e)));){if(p.search(/[^ ]/)>=a||!p.trim())_+=`
`+p.slice(a);else{if(d||m.search(/[^ ]/)>=4||A.test(m)||T.test(m)||N.test(m))break;_+=`
`+p}!d&&!p.trim()&&(d=!0),o+=h+`
`,e=e.substring(h.length+1),m=p.slice(a)}}k.loose||(u?k.loose=!0:/\n *\n *$/.test(o)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(_),i&&(r=i[0]!=="[ ] ",_=_.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:o,task:!!i,checked:r,loose:!1,text:_}),k.raw+=o}k.items[k.items.length-1].raw=o.trimRight(),k.items[k.items.length-1].text=_.trimRight(),k.raw=k.raw.trimRight();const M=k.items.length;for(l=0;l<M;l++)if(this.lexer.state.top=!1,k.items[l].tokens=this.lexer.blockTokens(k.items[l].text,[]),!k.loose){const S=k.items[l].tokens.filter(A=>A.type==="space"),N=S.length>0&&S.some(A=>/\n.*\n/.test(A.raw));k.loose=N}if(k.loose)for(l=0;l<M;l++)k.items[l].loose=!0;return k}}html(e){const t=this.rules.block.html.exec(e);if(t){const o={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):Ls(t[0]);o.type="paragraph",o.text=i,o.tokens=this.lexer.inline(i)}return o}}def(e){const t=this.rules.block.def.exec(e);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:i,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const o={type:"table",header:u_(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){o.raw=t[0];let i=o.align.length,r,a,l,d;for(r=0;r<i;r++)/^ *-+: *$/.test(o.align[r])?o.align[r]="right":/^ *:-+: *$/.test(o.align[r])?o.align[r]="center":/^ *:-+ *$/.test(o.align[r])?o.align[r]="left":o.align[r]=null;for(i=o.rows.length,r=0;r<i;r++)o.rows[r]=u_(o.rows[r],o.header.length).map(u=>({text:u}));for(i=o.header.length,a=0;a<i;a++)o.header[a].tokens=this.lexer.inline(o.header[a].text);for(i=o.rows.length,a=0;a<i;a++)for(d=o.rows[a],l=0;l<d.length;l++)d[l].tokens=this.lexer.inline(d[l].text);return o}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ls(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ls(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const a=Rd(o.slice(0,-1),"\\");if((o.length-a.length)%2===0)return}else{const a=jP(t[2],"()");if(a>-1){const d=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,d).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(o)?i=i.slice(1):i=i.slice(1,-1)),m_(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){let i=(o[2]||o[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const r=o[0].charAt(0);return{type:"text",raw:r,text:r}}return m_(o,i,o[0],this.lexer)}}emStrong(e,t,o=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&o.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(o===""||this.rules.inline.punctuation.exec(o))){const a=i[0].length-1;let l,d,u=a,m=0;const p=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+a);(i=p.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(d=l.length,i[3]||i[4]){u+=d;continue}else if((i[5]||i[6])&&a%3&&!((a+d)%3)){m+=d;continue}if(u-=d,u>0)continue;d=Math.min(d,d+u+m);const h=e.slice(0,a+i.index+(i[0].length-l.length)+d);if(Math.min(a,d)%2){const y=h.slice(1,-1);return{type:"em",raw:h,text:y,tokens:this.lexer.inlineTokens(y)}}const _=h.slice(2,-2);return{type:"strong",raw:h,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let o=t[2].replace(/\n/g," ");const i=/[^ ]/.test(o),r=/^ /.test(o)&&/ $/.test(o);return i&&r&&(o=o.substring(1,o.length-1)),o=Ls(o,!0),{type:"codespan",raw:t[0],text:o}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const o=this.rules.inline.autolink.exec(e);if(o){let i,r;return o[2]==="@"?(i=Ls(this.options.mangle?t(o[1]):o[1]),r="mailto:"+i):(i=Ls(o[1]),r=i),{type:"link",raw:o[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let o;if(o=this.rules.inline.url.exec(e)){let i,r;if(o[2]==="@")i=Ls(this.options.mangle?t(o[0]):o[0]),r="mailto:"+i;else{let a;do a=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(a!==o[0]);i=Ls(o[0]),o[1]==="www."?r="http://"+o[0]:r=o[0]}return{type:"link",raw:o[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const o=this.rules.inline.text.exec(e);if(o){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):Ls(o[0]):o[0]:i=Ls(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:i}}}}const st={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mc,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};st._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;st._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;st.def=Ht(st.def).replace("label",st._label).replace("title",st._title).getRegex();st.bullet=/(?:[*+-]|\d{1,9}[.)])/;st.listItemStart=Ht(/^( *)(bull) */).replace("bull",st.bullet).getRegex();st.list=Ht(st.list).replace(/bull/g,st.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+st.def.source+")").getRegex();st._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";st._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;st.html=Ht(st.html,"i").replace("comment",st._comment).replace("tag",st._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();st.paragraph=Ht(st._paragraph).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.blockquote=Ht(st.blockquote).replace("paragraph",st.paragraph).getRegex();st.normal={...st};st.gfm={...st.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};st.gfm.table=Ht(st.gfm.table).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.gfm.paragraph=Ht(st._paragraph).replace("hr",st.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",st.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st._tag).getRegex();st.pedantic={...st.normal,html:Ht(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",st._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ht(st.normal._paragraph).replace("hr",st.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",st.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";He.punctuation=Ht(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex();He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;He.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;He._comment=Ht(st._comment).replace("(?:-->|$)","-->").getRegex();He.emStrong.lDelim=Ht(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimAst=Ht(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex();He.emStrong.rDelimUnd=Ht(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex();He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;He.autolink=Ht(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex();He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;He.tag=Ht(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex();He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;He.link=Ht(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex();He.reflink=Ht(He.reflink).replace("label",He._label).replace("ref",st._label).getRegex();He.nolink=Ht(He.nolink).replace("ref",st._label).getRegex();He.reflinkSearch=Ht(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex();He.normal={...He};He.pedantic={...He.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ht(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:Ht(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()};He.gfm={...He.normal,escape:Ht(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};He.gfm.url=Ht(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex();He.breaks={...He.gfm,br:Ht(He.br).replace("{2,}","*").getRegex(),text:Ht(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function OP(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function h_(s){let e="",t,o;const i=s.length;for(t=0;t<i;t++)o=s.charCodeAt(t),Math.random()>.5&&(o="x"+o.toString(16)),e+="&#"+o+";";return e}class hi{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||or,this.options.tokenizer=this.options.tokenizer||new Ph,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:st.normal,inline:He.normal};this.options.pedantic?(t.block=st.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=st.gfm,this.options.breaks?t.inline=He.breaks:t.inline=He.gfm),this.tokenizer.rules=t}static get rules(){return{block:st,inline:He}}static lex(e,t){return new hi(t).lex(e)}static lexInline(e,t){return new hi(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,d,u)=>d+"    ".repeat(u.length));let o,i,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(o=l.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const d=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(m){u=m.call({lexer:this},d),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){i=t[t.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o),a=r.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let o,i,r,a=e,l,d,u;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)m.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+f_("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+f_("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(d||(u=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),i=t[t.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),i=t[t.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,a,u)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e,h_)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e,h_))){e=e.substring(o.raw.length),t.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const p=e.slice(1);let h;this.options.extensions.startInline.forEach(function(_){h=_.call({lexer:this},p),typeof h=="number"&&h>=0&&(m=Math.min(m,h))}),m<1/0&&m>=0&&(r=e.substring(0,m+1))}if(o=this.tokenizer.inlineText(r,OP)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(u=o.raw.slice(-1)),d=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(m)}}return t}}class jh{constructor(e){this.options=e||or}code(e,t,o){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(o=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ls(i)+'">'+(o?e:Ls(e,!0))+`</code></pre>
`:"<pre><code>"+(o?e:Ls(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,o,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(o);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,o){const i=t?"ol":"ul",r=t&&o!==1?' start="'+o+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+e+`</${o}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,o){if(e=c_(this.options.sanitize,this.options.baseUrl,e),e===null)return o;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+o+"</a>",i}image(e,t,o){if(e=c_(this.options.sanitize,this.options.baseUrl,e),e===null)return o;let i=`<img src="${e}" alt="${o}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class Pb{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,o){return""+o}image(e,t,o){return""+o}br(){return""}}class jb{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let o=e,i=0;if(this.seen.hasOwnProperty(o)){i=this.seen[e];do i++,o=e+"-"+i;while(this.seen.hasOwnProperty(o))}return t||(this.seen[e]=i,this.seen[o]=0),o}slug(e,t={}){const o=this.serialize(e);return this.getNextSafeSlug(o,t.dryrun)}}class pi{constructor(e){this.options=e||or,this.options.renderer=this.options.renderer||new jh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Pb,this.slugger=new jb}static parse(e,t){return new pi(t).parse(e)}static parseInline(e,t){return new pi(t).parseInline(e)}parse(e,t=!0){let o="",i,r,a,l,d,u,m,p,h,_,y,x,w,k,b,M,S,N,A;const T=e.length;for(i=0;i<T;i++){if(_=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_.type]&&(A=this.options.extensions.renderers[_.type].call({parser:this},_),A!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_.type))){o+=A||"";continue}switch(_.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(_.tokens),_.depth,Eb(this.parseInline(_.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(_.text,_.lang,_.escaped);continue}case"table":{for(p="",m="",l=_.header.length,r=0;r<l;r++)m+=this.renderer.tablecell(this.parseInline(_.header[r].tokens),{header:!0,align:_.align[r]});for(p+=this.renderer.tablerow(m),h="",l=_.rows.length,r=0;r<l;r++){for(u=_.rows[r],m="",d=u.length,a=0;a<d;a++)m+=this.renderer.tablecell(this.parseInline(u[a].tokens),{header:!1,align:_.align[a]});h+=this.renderer.tablerow(m)}o+=this.renderer.table(p,h);continue}case"blockquote":{h=this.parse(_.tokens),o+=this.renderer.blockquote(h);continue}case"list":{for(y=_.ordered,x=_.start,w=_.loose,l=_.items.length,h="",r=0;r<l;r++)b=_.items[r],M=b.checked,S=b.task,k="",b.task&&(N=this.renderer.checkbox(M),w?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=N+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=N+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:N}):k+=N),k+=this.parse(b.tokens,w),h+=this.renderer.listitem(k,S,M);o+=this.renderer.list(h,y,x);continue}case"html":{o+=this.renderer.html(_.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(_.tokens));continue}case"text":{for(h=_.tokens?this.parseInline(_.tokens):_.text;i+1<T&&e[i+1].type==="text";)_=e[++i],h+=`
`+(_.tokens?this.parseInline(_.tokens):_.text);o+=t?this.renderer.paragraph(h):h;continue}default:{const D='Token with "'+_.type+'" type was not found.';if(this.options.silent)return;throw new Error(D)}}}return o}parseInline(e,t){t=t||this.renderer;let o="",i,r,a;const l=e.length;for(i=0;i<l;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){o+=a||"";continue}switch(r.type){case"escape":{o+=t.text(r.text);break}case"html":{o+=t.html(r.text);break}case"link":{o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{o+=t.image(r.href,r.title,r.text);break}case"strong":{o+=t.strong(this.parseInline(r.tokens,t));break}case"em":{o+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{o+=t.codespan(r.text);break}case"br":{o+=t.br();break}case"del":{o+=t.del(this.parseInline(r.tokens,t));break}case"text":{o+=t.text(r.text);break}default:{const d='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(d)}}}return o}}class hc{constructor(e){this.options=e||or}preprocess(e){return e}postprocess(e){return e}}Ve(hc,"passThroughHooks",new Set(["preprocess","postprocess"]));function LP(s,e,t){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const i="<p>An error occurred:</p><pre>"+Ls(o.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(o);if(t){t(o);return}throw o}}function Rb(s,e){return(t,o,i)=>{typeof o=="function"&&(i=o,o=null);const r={...o};o={...Ze.defaults,...r};const a=LP(o.silent,o.async,i);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(RP(o),o.hooks&&(o.hooks.options=o),i){const l=o.highlight;let d;try{o.hooks&&(t=o.hooks.preprocess(t)),d=s(t,o)}catch(p){return a(p)}const u=function(p){let h;if(!p)try{o.walkTokens&&Ze.walkTokens(d,o.walkTokens),h=e(d,o),o.hooks&&(h=o.hooks.postprocess(h))}catch(_){p=_}return o.highlight=l,p?a(p):i(null,h)};if(!l||l.length<3||(delete o.highlight,!d.length))return u();let m=0;Ze.walkTokens(d,function(p){p.type==="code"&&(m++,setTimeout(()=>{l(p.text,p.lang,function(h,_){if(h)return u(h);_!=null&&_!==p.text&&(p.text=_,p.escaped=!0),m--,m===0&&u()})},0))}),m===0&&u();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.walkTokens?Promise.all(Ze.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(t=o.hooks.preprocess(t));const l=s(t,o);o.walkTokens&&Ze.walkTokens(l,o.walkTokens);let d=e(l,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(l){return a(l)}}}function Ze(s,e,t){return Rb(hi.lex,pi.parse)(s,e,t)}Ze.options=Ze.setOptions=function(s){return Ze.defaults={...Ze.defaults,...s},xP(Ze.defaults),Ze};Ze.getDefaults=Tb;Ze.defaults=or;Ze.use=function(...s){const e=Ze.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const o={...t};if(o.async=Ze.defaults.async||o.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),o.extensions=e),t.renderer){const i=Ze.defaults.renderer||new jh;for(const r in t.renderer){const a=i[r];i[r]=(...l)=>{let d=t.renderer[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}o.renderer=i}if(t.tokenizer){const i=Ze.defaults.tokenizer||new Ph;for(const r in t.tokenizer){const a=i[r];i[r]=(...l)=>{let d=t.tokenizer[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}o.tokenizer=i}if(t.hooks){const i=Ze.defaults.hooks||new hc;for(const r in t.hooks){const a=i[r];hc.passThroughHooks.has(r)?i[r]=l=>{if(Ze.defaults.async)return Promise.resolve(t.hooks[r].call(i,l)).then(u=>a.call(i,u));const d=t.hooks[r].call(i,l);return a.call(i,d)}:i[r]=(...l)=>{let d=t.hooks[r].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}o.hooks=i}if(t.walkTokens){const i=Ze.defaults.walkTokens;o.walkTokens=function(r){let a=[];return a.push(t.walkTokens.call(this,r)),i&&(a=a.concat(i.call(this,r))),a}}Ze.setOptions(o)})};Ze.walkTokens=function(s,e){let t=[];for(const o of s)switch(t=t.concat(e.call(Ze,o)),o.type){case"table":{for(const i of o.header)t=t.concat(Ze.walkTokens(i.tokens,e));for(const i of o.rows)for(const r of i)t=t.concat(Ze.walkTokens(r.tokens,e));break}case"list":{t=t.concat(Ze.walkTokens(o.items,e));break}default:Ze.defaults.extensions&&Ze.defaults.extensions.childTokens&&Ze.defaults.extensions.childTokens[o.type]?Ze.defaults.extensions.childTokens[o.type].forEach(function(i){t=t.concat(Ze.walkTokens(o[i],e))}):o.tokens&&(t=t.concat(Ze.walkTokens(o.tokens,e)))}return t};Ze.parseInline=Rb(hi.lexInline,pi.parseInline);Ze.Parser=pi;Ze.parser=pi.parse;Ze.Renderer=jh;Ze.TextRenderer=Pb;Ze.Lexer=hi;Ze.lexer=hi.lex;Ze.Tokenizer=Ph;Ze.Slugger=jb;Ze.Hooks=hc;Ze.parse=Ze;Ze.options;Ze.setOptions;Ze.use;Ze.walkTokens;Ze.parseInline;pi.parse;hi.lex;const FP={class:"text-base font-semibold text-gray-800"},NP=["innerHTML"],zP={key:1,class:"mt-4 flex items-center text-sm font-light text-gray-500"},BP=ye({__name:"TaskContent",setup(s){const e=ss(),t=new Ze.Renderer,o=t.link;return t.link=(i,r,a)=>o.call(t,i,r,a).replace(/^<a /,'<a onclick="event.stopPropagation()" target="_blank" rel="noreferrer noopener nofollow" '),(i,r)=>(g(),v("div",{onClick:r[0]||(r[0]=a=>i.can("task:update")?f(e).isContentForm=!0:!1)},[n("h2",FP,c(f(e).data.title),1),f(e).data.description?(g(),v("article",{key:0,class:"prose prose-sm mt-2 break-all text-sm text-gray-700",innerHTML:f(Ze).parse(f(e).data.description||"",{breaks:!0,renderer:f(t)})},null,8,NP)):(g(),v("p",zP,[C(f(Iv),{class:"mr-2 h-4 w-4"}),K(" "+c(i.__("Description")),1)]))]))}});var Ii,rd,Ha=typeof Map=="function"?new Map:(Ii=[],rd=[],{has:function(s){return Ii.indexOf(s)>-1},get:function(s){return rd[Ii.indexOf(s)]},set:function(s,e){Ii.indexOf(s)===-1&&(Ii.push(s),rd.push(e))},delete:function(s){var e=Ii.indexOf(s);e>-1&&(Ii.splice(e,1),rd.splice(e,1))}}),Ib=function(s){return new Event(s,{bubbles:!0})};try{new Event("test")}catch{Ib=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function UP(s){var e=Ha.get(s);e&&e.destroy()}function VP(s){var e=Ha.get(s);e&&e.update()}var wa=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((wa=function(s){return s}).destroy=function(s){return s},wa.update=function(s){return s}):((wa=function(s,e){return s&&Array.prototype.forEach.call(s.length?s:[s],function(t){return function(o){if(o&&o.nodeName&&o.nodeName==="TEXTAREA"&&!Ha.has(o)){var i,r=null,a=null,l=null,d=function(){o.clientWidth!==a&&h()},u=(function(_){window.removeEventListener("resize",d,!1),o.removeEventListener("input",h,!1),o.removeEventListener("keyup",h,!1),o.removeEventListener("autosize:destroy",u,!1),o.removeEventListener("autosize:update",h,!1),Object.keys(_).forEach(function(y){o.style[y]=_[y]}),Ha.delete(o)}).bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",u,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",h,!1),window.addEventListener("resize",d,!1),o.addEventListener("input",h,!1),o.addEventListener("autosize:update",h,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",Ha.set(o,{destroy:u,update:h}),(i=window.getComputedStyle(o,null)).resize==="vertical"?o.style.resize="none":i.resize==="both"&&(o.style.resize="horizontal"),r=i.boxSizing==="content-box"?-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),isNaN(r)&&(r=0),h()}function m(_){var y=o.style.width;o.style.width="0px",o.style.width=y,o.style.overflowY=_}function p(){if(o.scrollHeight!==0){var _=function(y){for(var x=[];y&&y.parentNode&&y.parentNode instanceof Element;)y.parentNode.scrollTop&&(y.parentNode.style.scrollBehavior="auto",x.push([y.parentNode,y.parentNode.scrollTop])),y=y.parentNode;return function(){return x.forEach(function(w){var k=w[0];k.scrollTop=w[1],k.style.scrollBehavior=null})}}(o);o.style.height="",o.style.height=o.scrollHeight+r+"px",a=o.clientWidth,_()}}function h(){p();var _=Math.round(parseFloat(o.style.height)),y=window.getComputedStyle(o,null),x=y.boxSizing==="content-box"?Math.round(parseFloat(y.height)):o.offsetHeight;if(x<_?y.overflowY==="hidden"&&(m("scroll"),p(),x=y.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):y.overflowY!=="hidden"&&(m("hidden"),p(),x=y.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),l!==x){l=x;var w=Ib("autosize:resized");try{o.dispatchEvent(w)}catch{}}}}(t)}),s}).destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],UP),s},wa.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],VP),s});var Ob=wa;const HP={class:"overflow-hidden rounded-md border"},qP=["onKeydown"],WP=["onKeydown"],KP={class:"mt-2"},YP=ye({__name:"TaskContentForm",setup(s){Ye(()=>{document.querySelector(".task-title").focus(),Ob(document.querySelectorAll(".autosize"))});const e=ss(),t=F(!1),o=F(e.data.title),i=F(e.data.description);function r(){if(!t.value){if(e.data.title==o.value&&e.data.description==i.value){a();return}t.value=!0,ae.patch(`tasks/${e.data.id}`,{title:o.value,description:i.value}).then(()=>{t.value=!1,e.data.title=o.value,e.data.description=i.value,a()})}}function a(){o.value="",i.value="",e.isContentForm=!1}return(l,d)=>(g(),v("section",{class:Q({"opacity-50":t.value})},[n("div",HP,[z(n("textarea",{"onUpdate:modelValue":d[0]||(d[0]=u=>o.value=u),class:"autosize task-title block h-8 w-full resize-none border-0 px-2 pt-2 text-base font-semibold text-gray-800 placeholder:text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Task",onKeydown:[Ln(Ke(r,["prevent"]),["enter"]),Ln(a,["esc"])]},null,40,qP),[[J,o.value]]),z(n("textarea",{"onUpdate:modelValue":d[1]||(d[1]=u=>i.value=u),class:"autosize task-description block h-14 w-full resize-none border-0 px-2 py-2 text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Description",onKeydown:[Ln(Ke(r,["ctrl"]),["enter"]),Ln(a,["esc"])]},null,40,WP),[[J,i.value]])]),n("div",KP,[n("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r},c(l.__("Save")),1),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:a},c(l.__("Cancel")),1)])],2))}}),GP={class:"flex"},XP={class:"flex-1 pl-4"},JP=ye({__name:"TaskMain",setup(s){const e=ss();return(t,o)=>(g(),v("div",GP,[C(bP),n("div",XP,[f(e).isContentForm?(g(),ne(YP,{key:0})):(g(),ne(BP,{key:1}))])]))}}),QP=ye({__name:"ChecklistItemCheckbox",props:{id:{},index:{},isCompleted:{}},setup(s){const e=s,t=ss(),o=sn(),i=F(!1);function r(){i.value||(i.value=!0,ae.patch(`checklist-item/${e.id}/complete`).then(({data:l})=>{i.value=!1,t.data.checklists[0].checklist_items[e.index].completed_at=l.completed_at,a()}))}function a(){o.fetch(t.data.project_id)}return(l,d)=>(g(),v("span",{class:Q(["mt-px mr-2 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":i.value,"bg-blue-400":s.isCompleted,"border border-gray-300":!s.isCompleted}]),onClick:r},[...d[0]||(d[0]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}}),ZP={class:"group relative flex"},ej={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},tj=ye({__name:"ChecklistItem",props:{id:{},index:{},item:{},isCompleted:{}},setup(s){const e=s,t=ss(),o=F(!1),i=F(!1),r=sn();function a(){i.value||(i.value=!0,ae.delete(`checklist-item/${e.id}`).then(({data:d})=>{i.value=!1,d.success&&(t.data.checklists[0].checklist_items.splice(e.index,1),l())}))}function l(){r.fetch(t.data.project_id)}return(d,u)=>(g(),v("div",ZP,[C(QP,{id:s.id,index:s.index,"is-completed":s.isCompleted||null},null,8,["id","index","is-completed"]),n("p",{class:"flex-1 text-sm text-gray-700",onClick:u[0]||(u[0]=m=>d.can("task:update")?f(t).checklistItemForm=s.index:!1)},c(s.item),1),o.value?(g(),v("div",{key:0,class:Q(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":i.value}])},[u[4]||(u[4]=n("span",{class:"mr-2 text-sm text-gray-600"},"Are you sure to delete?",-1)),C(f(ps),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:a}),C(f(ws),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:u[1]||(u[1]=m=>o.value=!1)})],2)):(g(),v("div",ej,[d.can("task:update")?(g(),v("span",{key:0,class:"mr-1",onClick:u[2]||(u[2]=m=>f(t).checklistItemForm=s.index)},[C(f(Ur),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900"})])):j("",!0),d.can("task:delete")?(g(),ne(f(Vt),{key:1,class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:u[3]||(u[3]=m=>o.value=!0)})):j("",!0)]))]))}}),p_=ye({__name:"ChecklistItemForm",props:{id:{},index:{},item:{}},setup(s){const e=s;Ye(()=>{document.querySelector(".item-input").focus()});const t=ss(),o=F(!1),i=F(e.item),r=sn();function a(){t.checklistItemForm=null,t.newChecklistItemForm=!1}function l(){if(o.value||!i.value)return;if(e.item==i.value&&e.id){a();return}o.value=!0;const p=e.id?"patch":"post",h=e.id?`checklist-item/${e.id}`:"checklist-item";ae[p](h,{title:i.value,task_id:t.data.id}).then(({data:_})=>{o.value=!1,e.id?u(_):d(_),e.id?a():i.value="",m()})}function d(p){t.data.checklists.length==0&&(t.data.checklists=[{checklist_items:[]}]),t.data.checklists[0].checklist_items.push(p)}function u(p){t.data.checklists[0].checklist_items[e.index||0]=p}function m(){r.fetch(t.data.project_id)}return(p,h)=>(g(),v("div",{class:Q(["flex",{"opacity-50":o.value}])},[z(n("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>i.value=_),type:"text",class:"item-input block w-full flex-1 rounded-none border-gray-300 text-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50 ltr:rounded-l-md rtl:rounded-r-md",placeholder:"Enter checklist item",onKeyup:Ln(l,["enter"]),onKeydown:Ln(a,["esc"])},null,544),[[J,i.value]]),n("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px rtl:-mr-px rtl:space-x-reverse",onClick:a},[...h[1]||(h[1]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),n("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px ltr:rounded-r-md rtl:-mr-px rtl:space-x-reverse rtl:rounded-l-md",onClick:l},[...h[2]||(h[2]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])],2))}}),sj={id:"checklist",class:"mt-8"},nj={class:"flex"},oj={class:"flex-1 border-b pb-2"},ij={class:"text-sm font-medium text-gray-800"},rj={class:"ml-2 text-sm font-light text-gray-600"},aj={class:"pl-8 pt-4"},lj={class:"space-y-4"},dj={class:"pl-2 text-sm text-gray-600 group-hover:text-gray-800"},cj=ye({__name:"Checklist",setup(s){const e=ss();e.checklistItemForm=null,e.newChecklistItemForm=!1;function t(){if(e.data.checklists.length)return e.data.checklists[0].checklist_items.filter(o=>o.completed_at).length+"/"+e.data.checklists[0].checklist_items.length}return(o,i)=>(g(),v("section",sj,[C(f(Gc),{open:!0},{trigger:q(({open:r})=>[n("div",nj,[(g(),v("svg",{class:Q(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!r}]),viewBox:"0 0 16 16"},[...i[1]||(i[1]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("div",oj,[n("span",ij,c(o.__("Checklist")),1),n("span",rj,c(t()),1)])])]),content:q(()=>[n("div",aj,[n("div",lj,[(g(!0),v(re,null,ve(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items:[],(r,a)=>(g(),ne(mo(f(e).checklistItemForm==a?p_:tj),{key:r.id,id:r.id,index:a,item:r.title,"is-completed":r.completed_at||null},null,8,["id","index","item","is-completed"]))),128))]),!f(e).newChecklistItemForm&&o.can("task:update")?(g(),v("button",{key:0,class:Q(["group flex items-center",{"mt-6":(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items.length:0)>0}]),onClick:i[0]||(i[0]=r=>f(e).newChecklistItemForm=!0)},[i[2]||(i[2]=n("svg",{class:"h-4 w-4 text-gray-600 group-hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),n("span",dj,c(o.__("Add item")),1)],2)):j("",!0),f(e).newChecklistItemForm?(g(),ne(p_,{key:1,class:Q({"mt-6":(f(e).data.checklists.length?f(e).data.checklists[0].checklist_items.length:0)>0})},null,8,["class"])):j("",!0)])]),_:1})]))}}),uj={class:"cursor-pointer"},fj={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},mj={class:"px-6 py-4"},hj={class:"mb-2"},pj=["aria-label"],gj=ye({__name:"TaskShareDropdown",setup(s){const e=F(!1),t=F(window.location.href),o=F(null),i=F("Copy to Clipboard");function r(m){a(),m&&setTimeout(function(){l()})}function a(){navigator.clipboard?e.value=!0:e.value=!1}function l(){var m,p;(m=o.value)==null||m.focus(),(p=o.value)==null||p.select()}function d(){var m,p;navigator.clipboard.writeText(((m=o.value)==null?void 0:m.value)||""),i.value="Copied: "+((p=o.value)==null?void 0:p.value)}function u(){i.value="Copy to Clipboard"}return(m,p)=>(g(),ne(f(Ks),{"close-outside":"",onToggle:r},{trigger:q(()=>[n("span",uj,[C(f(J4),{class:"h-4 w-4 text-gray-600 hover:text-gray-800"})])]),content:q(()=>[n("div",fj,[n("div",mj,[p[1]||(p[1]=n("h3",{class:"mb-4 text-sm font-medium text-gray-700"},"Share URL",-1)),n("section",hj,[n("div",{class:"flex w-full items-center rounded-md border border-gray-300 px-3 py-2",onClick:l},[z(n("input",{ref_key:"input",ref:o,"onUpdate:modelValue":p[0]||(p[0]=h=>t.value=h),type:"text",readonly:"",class:"flex-1 border-0 py-0 px-0 text-sm text-gray-600 focus:ring-0"},null,512),[[J,t.value]]),e.value?(g(),v("span",{key:0,class:"ml-2 block w-4 cursor-pointer text-gray-500 hover:text-gray-800","aria-label":i.value,"data-cooltipz-dir":"bottom",onClick:d,onMouseover:u},[C(f(l$),{class:"h-4 w-4"})],40,pj)):j("",!0)])])])])]),_:1}))}}),_j={class:"py-3.5"},vj={class:"flex items-center px-2"},yj={class:"text-sm font-medium text-gray-600"},bj=ye({__name:"TaskShare",setup(s){return(e,t)=>(g(),v("section",_j,[n("div",vj,[n("h2",yj,c(e.__("Share")),1),C(gj,{class:"ml-auto"})])]))}}),xj={class:"py-3"},wj={class:"px-2 text-sm font-medium text-gray-600"},kj={key:0,class:"mt-2 space-y-2 px-2"},$j=["disabled"],Cj=["disabled"],Sj={key:1,class:"mt-2 space-y-2 px-2"},Mj=ye({__name:"TaskDelete",setup(s){const e=ss(),t=sn(),o=F(!1),i=F(!1);function r(){t.fetch(e.data.project_id)}function a(){o.value||(o.value=!0,ae.patch("tasks/"+e.data.id+"/archive").then(()=>{o.value=!1,r(),e.data.deleted_at="archived",l()}))}function l(){const d=`/projects/${e.data.project_id}`;history.replaceState(history.state,"",d),Ft().pop()}return(d,u)=>(g(),v("section",xj,[n("h2",wj,c(d.__("Delete")),1),i.value?(g(),v("div",kj,[n("button",{class:"flex w-full items-center rounded border border-transparent bg-red-500 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-600 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:o.value,onClick:a},[C(f(Vt),{class:"mr-2 h-3.5 w-3.5"}),K(" "+c(d.__("Are you sure")),1)],8,$j),n("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:o.value,onClick:u[0]||(u[0]=m=>i.value=!1)},[C(f(aP),{class:"mr-2 h-3.5 w-3.5"}),K(" "+c(d.__("Cancel")),1)],8,Cj)])):(g(),v("div",Sj,[n("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0",onClick:u[1]||(u[1]=m=>i.value=!0)},[C(f(Vt),{class:"mr-2 h-3.5 w-3.5"}),u[2]||(u[2]=K(" Delete ",-1))])]))]))}});var pf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],$r={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(s){return typeof console<"u"&&void 0},getWeek:function(s){var e=new Date(s.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},cl={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(s){var e=s%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},rn=function(s,e){return e===void 0&&(e=2),("000"+s).slice(e*-1)},Rn=function(s){return s===!0?1:0};function g_(s,e){var t;return function(){var o=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return s.apply(o,i)},e)}}var gf=function(s){return s instanceof Array?s:[s]};function Gs(s,e,t){if(t===!0)return s.classList.add(e);s.classList.remove(e)}function Tt(s,e,t){var o=window.document.createElement(s);return e=e||"",t=t||"",o.className=e,t!==void 0&&(o.textContent=t),o}function ad(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Lb(s,e){if(e(s))return s;if(s.parentNode)return Lb(s.parentNode,e)}function ld(s,e){var t=Tt("div","numInputWrapper"),o=Tt("input","numInput "+s),i=Tt("span","arrowUp"),r=Tt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?o.type="number":(o.type="text",o.pattern="\\d*"),e!==void 0)for(var a in e)o.setAttribute(a,e[a]);return t.appendChild(o),t.appendChild(i),t.appendChild(r),t}function _n(s){try{if(typeof s.composedPath=="function"){var e=s.composedPath();return e[0]}return s.target}catch{return s.target}}var _f=function(){},pc=function(s,e,t){return t.months[e?"shorthand":"longhand"][s]},Tj={D:_f,F:function(s,e,t){s.setMonth(t.months.longhand.indexOf(e))},G:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},H:function(s,e){s.setHours(parseFloat(e))},J:function(s,e){s.setDate(parseFloat(e))},K:function(s,e,t){s.setHours(s.getHours()%12+12*Rn(new RegExp(t.amPM[1],"i").test(e)))},M:function(s,e,t){s.setMonth(t.months.shorthand.indexOf(e))},S:function(s,e){s.setSeconds(parseFloat(e))},U:function(s,e){return new Date(parseFloat(e)*1e3)},W:function(s,e,t){var o=parseInt(e),i=new Date(s.getFullYear(),0,2+(o-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(s,e){s.setFullYear(parseFloat(e))},Z:function(s,e){return new Date(e)},d:function(s,e){s.setDate(parseFloat(e))},h:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},i:function(s,e){s.setMinutes(parseFloat(e))},j:function(s,e){s.setDate(parseFloat(e))},l:_f,m:function(s,e){s.setMonth(parseFloat(e)-1)},n:function(s,e){s.setMonth(parseFloat(e)-1)},s:function(s,e){s.setSeconds(parseFloat(e))},u:function(s,e){return new Date(parseFloat(e))},w:_f,y:function(s,e){s.setFullYear(2e3+parseFloat(e))}},Ui={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},qa={Z:function(s){return s.toISOString()},D:function(s,e,t){return e.weekdays.shorthand[qa.w(s,e,t)]},F:function(s,e,t){return pc(qa.n(s,e,t)-1,!1,e)},G:function(s,e,t){return rn(qa.h(s,e,t))},H:function(s){return rn(s.getHours())},J:function(s,e){return e.ordinal!==void 0?s.getDate()+e.ordinal(s.getDate()):s.getDate()},K:function(s,e){return e.amPM[Rn(s.getHours()>11)]},M:function(s,e){return pc(s.getMonth(),!0,e)},S:function(s){return rn(s.getSeconds())},U:function(s){return s.getTime()/1e3},W:function(s,e,t){return t.getWeek(s)},Y:function(s){return rn(s.getFullYear(),4)},d:function(s){return rn(s.getDate())},h:function(s){return s.getHours()%12?s.getHours()%12:12},i:function(s){return rn(s.getMinutes())},j:function(s){return s.getDate()},l:function(s,e){return e.weekdays.longhand[s.getDay()]},m:function(s){return rn(s.getMonth()+1)},n:function(s){return s.getMonth()+1},s:function(s){return s.getSeconds()},u:function(s){return s.getTime()},w:function(s){return s.getDay()},y:function(s){return String(s.getFullYear()).substring(2)}},Fb=function(s){var e=s.config,t=e===void 0?$r:e,o=s.l10n,i=o===void 0?cl:o,r=s.isMobile,a=r===void 0?!1:r;return function(l,d,u){var m=u||i;return t.formatDate!==void 0&&!a?t.formatDate(l,d,m):d.split("").map(function(p,h,_){return qa[p]&&_[h-1]!=="\\"?qa[p](l,m,t):p!=="\\"?p:""}).join("")}},ym=function(s){var e=s.config,t=e===void 0?$r:e,o=s.l10n,i=o===void 0?cl:o;return function(r,a,l,d){if(!(r!==0&&!r)){var u=d||i,m,p=r;if(r instanceof Date)m=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)m=new Date(r);else if(typeof r=="string"){var h=a||(t||$r).dateFormat,_=String(r).trim();if(_==="today")m=new Date,l=!0;else if(t&&t.parseDate)m=t.parseDate(r,h);else if(/Z$/.test(_)||/GMT$/.test(_))m=new Date(r);else{for(var y=void 0,x=[],w=0,k=0,b="";w<h.length;w++){var M=h[w],S=M==="\\",N=h[w-1]==="\\"||S;if(Ui[M]&&!N){b+=Ui[M];var A=new RegExp(b).exec(r);A&&(y=!0)&&x[M!=="Y"?"push":"unshift"]({fn:Tj[M],val:A[++k]})}else S||(b+=".")}m=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),x.forEach(function(T){var D=T.fn,L=T.val;return m=D(m,L,u)||m}),m=y?m:void 0}}if(!(m instanceof Date&&!isNaN(m.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return l===!0&&m.setHours(0,0,0,0),m}}};function yn(s,e,t){return t===void 0&&(t=!0),t!==!1?new Date(s.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):s.getTime()-e.getTime()}var Aj=function(s,e,t){return s>Math.min(e,t)&&s<Math.max(e,t)},vf=function(s,e,t){return s*3600+e*60+t},Dj=function(s){var e=Math.floor(s/3600),t=(s-e*3600)/60;return[e,t,s-e*3600-t*60]},Ej={DAY:864e5};function yf(s){var e=s.defaultHour,t=s.defaultMinute,o=s.defaultSeconds;if(s.minDate!==void 0){var i=s.minDate.getHours(),r=s.minDate.getMinutes(),a=s.minDate.getSeconds();e<i&&(e=i),e===i&&t<r&&(t=r),e===i&&t===r&&o<a&&(o=s.minDate.getSeconds())}if(s.maxDate!==void 0){var l=s.maxDate.getHours(),d=s.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(d,t)),e===l&&t===d&&(o=s.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:o}}typeof Object.assign!="function"&&(Object.assign=function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!s)throw TypeError("Cannot convert undefined or null to object");for(var o=function(l){l&&Object.keys(l).forEach(function(d){return s[d]=l[d]})},i=0,r=e;i<r.length;i++){var a=r[i];o(a)}return s});var Fs=globalThis&&globalThis.__assign||function(){return Fs=Object.assign||function(s){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},Fs.apply(this,arguments)},__=globalThis&&globalThis.__spreadArrays||function(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var o=Array(s),i=0,e=0;e<t;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,i++)o[i]=r[a];return o},Pj=300;function jj(s,e){var t={config:Fs(Fs({},$r),ns.defaultConfig),l10n:cl};t.parseDate=ym({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=x,t._setHoursFromDate=h,t._positionCalendar=Pe,t.changeMonth=Te,t.changeYear=Ae,t.clear=se,t.close=ke,t.onMouseOver=he,t._createElement=Tt,t.createDay=A,t.destroy=Ce,t.isEnabled=Be,t.jumpToDate=b,t.updateValue=Vn,t.open=Y,t.redraw=$e,t.set=it,t.setDate=Dt,t.toggle=Bn;function o(){t.utils={getDaysInMonth:function(V,W){return V===void 0&&(V=t.currentMonth),W===void 0&&(W=t.currentYear),V===1&&(W%4===0&&W%100!==0||W%400===0)?29:t.l10n.daysInMonth[V]}}}function i(){t.element=t.input=s,t.isOpen=!1,ee(),ge(),ds(),bs(),o(),t.isMobile||N(),k(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),Vn(!1)),l();var V=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&V&&Pe(),Nt("onReady")}function r(){var V;return((V=t.calendarContainer)===null||V===void 0?void 0:V.getRootNode()).activeElement||document.activeElement}function a(V){return V.bind(t)}function l(){var V=t.config;V.weekNumbers===!1&&V.showMonths===1||V.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var W=(t.days.offsetWidth+1)*V.showMonths;t.daysContainer.style.width=W+"px",t.calendarContainer.style.width=W+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function d(V){if(t.selectedDates.length===0){var W=t.config.minDate===void 0||yn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),oe=yf(t.config);W.setHours(oe.hours,oe.minutes,oe.seconds,W.getMilliseconds()),t.selectedDates=[W],t.latestSelectedDateObj=W}V!==void 0&&V.type!=="blur"&&au(V);var _e=t._input.value;p(),Vn(),t._input.value!==_e&&t._debouncedChange()}function u(V,W){return V%12+12*Rn(W===t.l10n.amPM[1])}function m(V){switch(V%24){case 0:case 12:return 12;default:return V%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var V=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,W=(parseInt(t.minuteElement.value,10)||0)%60,oe=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(V=u(V,t.amPM.textContent));var _e=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&yn(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ie=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&yn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ue=vf(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),dt=vf(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),qe=vf(V,W,oe);if(qe>dt&&qe<Ue){var gt=Dj(Ue);V=gt[0],W=gt[1],oe=gt[2]}}else{if(Ie){var We=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;V=Math.min(V,We.getHours()),V===We.getHours()&&(W=Math.min(W,We.getMinutes())),W===We.getMinutes()&&(oe=Math.min(oe,We.getSeconds()))}if(_e){var rt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;V=Math.max(V,rt.getHours()),V===rt.getHours()&&W<rt.getMinutes()&&(W=rt.getMinutes()),W===rt.getMinutes()&&(oe=Math.max(oe,rt.getSeconds()))}}_(V,W,oe)}}function h(V){var W=V||t.latestSelectedDateObj;W&&W instanceof Date&&_(W.getHours(),W.getMinutes(),W.getSeconds())}function _(V,W,oe){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(V%24,W,oe||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=rn(t.config.time_24hr?V:(12+V)%12+12*Rn(V%12===0)),t.minuteElement.value=rn(W),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Rn(V>=12)]),t.secondElement!==void 0&&(t.secondElement.value=rn(oe)))}function y(V){var W=_n(V),oe=parseInt(W.value)+(V.delta||0);(oe/1e3>1||V.key==="Enter"&&!/[^\d]/.test(oe.toString()))&&Ae(oe)}function x(V,W,oe,_e){if(W instanceof Array)return W.forEach(function(Ie){return x(V,Ie,oe,_e)});if(V instanceof Array)return V.forEach(function(Ie){return x(Ie,W,oe,_e)});V.addEventListener(W,oe,_e),t._handlers.push({remove:function(){return V.removeEventListener(W,oe,_e)}})}function w(){Nt("onChange")}function k(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(oe){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+oe+"]"),function(_e){return x(_e,"click",t[oe])})}),t.isMobile){_s();return}var V=g_(U,50);if(t._debouncedChange=g_(w,Pj),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(t.daysContainer,"mouseover",function(oe){t.config.mode==="range"&&he(_n(oe))}),x(t._input,"keydown",fe),t.calendarContainer!==void 0&&x(t.calendarContainer,"keydown",fe),!t.config.inline&&!t.config.static&&x(window,"resize",V),window.ontouchstart!==void 0?x(window.document,"touchstart",xe):x(window.document,"mousedown",xe),x(window.document,"focus",xe,{capture:!0}),t.config.clickOpens===!0&&(x(t._input,"focus",t.open),x(t._input,"click",t.open)),t.daysContainer!==void 0&&(x(t.monthNav,"click",Uo),x(t.monthNav,["keyup","increment"],y),x(t.daysContainer,"click",ze)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var W=function(oe){return _n(oe).select()};x(t.timeContainer,["increment"],d),x(t.timeContainer,"blur",d,{capture:!0}),x(t.timeContainer,"click",M),x([t.hourElement,t.minuteElement],["focus","click"],W),t.secondElement!==void 0&&x(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&x(t.amPM,"click",function(oe){d(oe)})}t.config.allowInput&&x(t._input,"blur",Ne)}function b(V,W){var oe=V!==void 0?t.parseDate(V):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),_e=t.currentYear,Ie=t.currentMonth;try{oe!==void 0&&(t.currentYear=oe.getFullYear(),t.currentMonth=oe.getMonth())}catch(Ue){Ue.message="Invalid date supplied: "+oe,t.config.errorHandler(Ue)}W&&t.currentYear!==_e&&(Nt("onYearChange"),B()),W&&(t.currentYear!==_e||t.currentMonth!==Ie)&&Nt("onMonthChange"),t.redraw()}function M(V){var W=_n(V);~W.className.indexOf("arrow")&&S(V,W.classList.contains("arrowUp")?1:-1)}function S(V,W,oe){var _e=V&&_n(V),Ie=oe||_e&&_e.parentNode&&_e.parentNode.firstChild,Ue=vs("increment");Ue.delta=W,Ie&&Ie.dispatchEvent(Ue)}function N(){var V=window.document.createDocumentFragment();if(t.calendarContainer=Tt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(V.appendChild(de()),t.innerContainer=Tt("div","flatpickr-innerContainer"),t.config.weekNumbers){var W=ie(),oe=W.weekWrapper,_e=W.weekNumbers;t.innerContainer.appendChild(oe),t.weekNumbers=_e,t.weekWrapper=oe}t.rContainer=Tt("div","flatpickr-rContainer"),t.rContainer.appendChild(me()),t.daysContainer||(t.daysContainer=Tt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),P(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),V.appendChild(t.innerContainer)}t.config.enableTime&&V.appendChild(ce()),Gs(t.calendarContainer,"rangeMode",t.config.mode==="range"),Gs(t.calendarContainer,"animate",t.config.animate===!0),Gs(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(V);var Ie=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ie&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ue=Tt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ue,t.element),Ue.appendChild(t.element),t.altInput&&Ue.appendChild(t.altInput),Ue.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function A(V,W,oe,_e){var Ie=Be(W,!0),Ue=Tt("span",V,W.getDate().toString());return Ue.dateObj=W,Ue.$i=_e,Ue.setAttribute("aria-label",t.formatDate(W,t.config.ariaDateFormat)),V.indexOf("hidden")===-1&&yn(W,t.now)===0&&(t.todayDateElem=Ue,Ue.classList.add("today"),Ue.setAttribute("aria-current","date")),Ie?(Ue.tabIndex=-1,Rs(W)&&(Ue.classList.add("selected"),t.selectedDateElem=Ue,t.config.mode==="range"&&(Gs(Ue,"startRange",t.selectedDates[0]&&yn(W,t.selectedDates[0],!0)===0),Gs(Ue,"endRange",t.selectedDates[1]&&yn(W,t.selectedDates[1],!0)===0),V==="nextMonthDay"&&Ue.classList.add("inRange")))):Ue.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ir(W)&&!Rs(W)&&Ue.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&V!=="prevMonthDay"&&_e%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(W)+"</span>"),Nt("onDayCreate",Ue),Ue}function T(V){V.focus(),t.config.mode==="range"&&he(V)}function D(V){for(var W=V>0?0:t.config.showMonths-1,oe=V>0?t.config.showMonths:-1,_e=W;_e!=oe;_e+=V)for(var Ie=t.daysContainer.children[_e],Ue=V>0?0:Ie.children.length-1,dt=V>0?Ie.children.length:-1,qe=Ue;qe!=dt;qe+=V){var gt=Ie.children[qe];if(gt.className.indexOf("hidden")===-1&&Be(gt.dateObj))return gt}}function L(V,W){for(var oe=V.className.indexOf("Month")===-1?V.dateObj.getMonth():t.currentMonth,_e=W>0?t.config.showMonths:-1,Ie=W>0?1:-1,Ue=oe-t.currentMonth;Ue!=_e;Ue+=Ie)for(var dt=t.daysContainer.children[Ue],qe=oe-t.currentMonth===Ue?V.$i+W:W<0?dt.children.length-1:0,gt=dt.children.length,We=qe;We>=0&&We<gt&&We!=(W>0?gt:-1);We+=Ie){var rt=dt.children[We];if(rt.className.indexOf("hidden")===-1&&Be(rt.dateObj)&&Math.abs(V.$i-We)>=Math.abs(W))return T(rt)}t.changeMonth(Ie),I(D(Ie),0)}function I(V,W){var oe=r(),_e=nt(oe||document.body),Ie=V!==void 0?V:_e?oe:t.selectedDateElem!==void 0&&nt(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&nt(t.todayDateElem)?t.todayDateElem:D(W>0?1:-1);Ie===void 0?t._input.focus():_e?L(Ie,W):T(Ie)}function O(V,W){for(var oe=(new Date(V,W,1).getDay()-t.l10n.firstDayOfWeek+7)%7,_e=t.utils.getDaysInMonth((W-1+12)%12,V),Ie=t.utils.getDaysInMonth(W,V),Ue=window.document.createDocumentFragment(),dt=t.config.showMonths>1,qe=dt?"prevMonthDay hidden":"prevMonthDay",gt=dt?"nextMonthDay hidden":"nextMonthDay",We=_e+1-oe,rt=0;We<=_e;We++,rt++)Ue.appendChild(A("flatpickr-day "+qe,new Date(V,W-1,We),We,rt));for(We=1;We<=Ie;We++,rt++)Ue.appendChild(A("flatpickr-day",new Date(V,W,We),We,rt));for(var Pt=Ie+1;Pt<=42-oe&&(t.config.showMonths===1||rt%7!==0);Pt++,rt++)Ue.appendChild(A("flatpickr-day "+gt,new Date(V,W+1,Pt%Ie),Pt,rt));var En=Tt("div","dayContainer");return En.appendChild(Ue),En}function P(){if(t.daysContainer!==void 0){ad(t.daysContainer),t.weekNumbers&&ad(t.weekNumbers);for(var V=document.createDocumentFragment(),W=0;W<t.config.showMonths;W++){var oe=new Date(t.currentYear,t.currentMonth,1);oe.setMonth(t.currentMonth+W),V.appendChild(O(oe.getFullYear(),oe.getMonth()))}t.daysContainer.appendChild(V),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&he()}}function B(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var V=function(_e){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&_e<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&_e>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var W=0;W<12;W++)if(V(W)){var oe=Tt("option","flatpickr-monthDropdown-month");oe.value=new Date(t.currentYear,W).getMonth().toString(),oe.textContent=pc(W,t.config.shorthandCurrentMonth,t.l10n),oe.tabIndex=-1,t.currentMonth===W&&(oe.selected=!0),t.monthsDropdownContainer.appendChild(oe)}}}function be(){var V=Tt("div","flatpickr-month"),W=window.document.createDocumentFragment(),oe;t.config.showMonths>1||t.config.monthSelectorType==="static"?oe=Tt("span","cur-month"):(t.monthsDropdownContainer=Tt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),x(t.monthsDropdownContainer,"change",function(dt){var qe=_n(dt),gt=parseInt(qe.value,10);t.changeMonth(gt-t.currentMonth),Nt("onMonthChange")}),B(),oe=t.monthsDropdownContainer);var _e=ld("cur-year",{tabindex:"-1"}),Ie=_e.getElementsByTagName("input")[0];Ie.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ie.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ie.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ie.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ue=Tt("div","flatpickr-current-month");return Ue.appendChild(oe),Ue.appendChild(_e),W.appendChild(Ue),V.appendChild(W),{container:V,yearElement:Ie,monthElement:oe}}function le(){ad(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var V=t.config.showMonths;V--;){var W=be();t.yearElements.push(W.yearElement),t.monthElements.push(W.monthElement),t.monthNav.appendChild(W.container)}t.monthNav.appendChild(t.nextMonthNav)}function de(){return t.monthNav=Tt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Tt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Tt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,le(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(V){t.__hidePrevMonthArrow!==V&&(Gs(t.prevMonthNav,"flatpickr-disabled",V),t.__hidePrevMonthArrow=V)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(V){t.__hideNextMonthArrow!==V&&(Gs(t.nextMonthNav,"flatpickr-disabled",V),t.__hideNextMonthArrow=V)}}),t.currentYearElement=t.yearElements[0],Un(),t.monthNav}function ce(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var V=yf(t.config);t.timeContainer=Tt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var W=Tt("span","flatpickr-time-separator",":"),oe=ld("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=oe.getElementsByTagName("input")[0];var _e=ld("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=_e.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=rn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?V.hours:m(V.hours)),t.minuteElement.value=rn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():V.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(oe),t.timeContainer.appendChild(W),t.timeContainer.appendChild(_e),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ie=ld("flatpickr-second");t.secondElement=Ie.getElementsByTagName("input")[0],t.secondElement.value=rn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():V.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Tt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ie)}return t.config.time_24hr||(t.amPM=Tt("span","flatpickr-am-pm",t.l10n.amPM[Rn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function me(){t.weekdayContainer?ad(t.weekdayContainer):t.weekdayContainer=Tt("div","flatpickr-weekdays");for(var V=t.config.showMonths;V--;){var W=Tt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(W)}return Z(),t.weekdayContainer}function Z(){if(t.weekdayContainer){var V=t.l10n.firstDayOfWeek,W=__(t.l10n.weekdays.shorthand);V>0&&V<W.length&&(W=__(W.splice(V,W.length),W.splice(0,V)));for(var oe=t.config.showMonths;oe--;)t.weekdayContainer.children[oe].innerHTML=`
      <span class='flatpickr-weekday'>
        `+W.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ie(){t.calendarContainer.classList.add("hasWeeks");var V=Tt("div","flatpickr-weekwrapper");V.appendChild(Tt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var W=Tt("div","flatpickr-weeks");return V.appendChild(W),{weekWrapper:V,weekNumbers:W}}function Te(V,W){W===void 0&&(W=!0);var oe=W?V:V-t.currentMonth;oe<0&&t._hidePrevMonthArrow===!0||oe>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=oe,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Nt("onYearChange"),B()),P(),Nt("onMonthChange"),Un())}function se(V,W){if(V===void 0&&(V=!0),W===void 0&&(W=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,W===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var oe=yf(t.config),_e=oe.hours,Ie=oe.minutes,Ue=oe.seconds;_(_e,Ie,Ue)}t.redraw(),V&&Nt("onChange")}function ke(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Nt("onClose")}function Ce(){t.config!==void 0&&Nt("onDestroy");for(var V=t._handlers.length;V--;)t._handlers[V].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var W=t.calendarContainer.parentNode;if(W.lastChild&&W.removeChild(W.lastChild),W.parentNode){for(;W.firstChild;)W.parentNode.insertBefore(W.firstChild,W);W.parentNode.removeChild(W)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(oe){try{delete t[oe]}catch{}})}function ue(V){return t.calendarContainer.contains(V)}function xe(V){if(t.isOpen&&!t.config.inline){var W=_n(V),oe=ue(W),_e=W===t.input||W===t.altInput||t.element.contains(W)||V.path&&V.path.indexOf&&(~V.path.indexOf(t.input)||~V.path.indexOf(t.altInput)),Ie=!_e&&!oe&&!ue(V.relatedTarget),Ue=!t.config.ignoredFocusElements.some(function(dt){return dt.contains(W)});Ie&&Ue&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&d(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Ae(V){if(!(!V||t.config.minDate&&V<t.config.minDate.getFullYear()||t.config.maxDate&&V>t.config.maxDate.getFullYear())){var W=V,oe=t.currentYear!==W;t.currentYear=W||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),oe&&(t.redraw(),Nt("onYearChange"),B())}}function Be(V,W){var oe;W===void 0&&(W=!0);var _e=t.parseDate(V,void 0,W);if(t.config.minDate&&_e&&yn(_e,t.config.minDate,W!==void 0?W:!t.minDateHasTime)<0||t.config.maxDate&&_e&&yn(_e,t.config.maxDate,W!==void 0?W:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(_e===void 0)return!1;for(var Ie=!!t.config.enable,Ue=(oe=t.config.enable)!==null&&oe!==void 0?oe:t.config.disable,dt=0,qe=void 0;dt<Ue.length;dt++){if(qe=Ue[dt],typeof qe=="function"&&qe(_e))return Ie;if(qe instanceof Date&&_e!==void 0&&qe.getTime()===_e.getTime())return Ie;if(typeof qe=="string"){var gt=t.parseDate(qe,void 0,!0);return gt&&gt.getTime()===_e.getTime()?Ie:!Ie}else if(typeof qe=="object"&&_e!==void 0&&qe.from&&qe.to&&_e.getTime()>=qe.from.getTime()&&_e.getTime()<=qe.to.getTime())return Ie}return!Ie}function nt(V){return t.daysContainer!==void 0?V.className.indexOf("hidden")===-1&&V.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(V):!1}function Ne(V){var W=V.target===t._input,oe=t._input.value.trimEnd()!==gn();W&&oe&&!(V.relatedTarget&&ue(V.relatedTarget))&&t.setDate(t._input.value,!0,V.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function fe(V){var W=_n(V),oe=t.config.wrap?s.contains(W):W===t._input,_e=t.config.allowInput,Ie=t.isOpen&&(!_e||!oe),Ue=t.config.inline&&oe&&!_e;if(V.keyCode===13&&oe){if(_e)return t.setDate(t._input.value,!0,W===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),W.blur();t.open()}else if(ue(W)||Ie||Ue){var dt=!!t.timeContainer&&t.timeContainer.contains(W);switch(V.keyCode){case 13:dt?(V.preventDefault(),d(),Xe()):ze(V);break;case 27:V.preventDefault(),Xe();break;case 8:case 46:oe&&!t.config.allowInput&&(V.preventDefault(),t.clear());break;case 37:case 39:if(!dt&&!oe){V.preventDefault();var qe=r();if(t.daysContainer!==void 0&&(_e===!1||qe&&nt(qe))){var gt=V.keyCode===39?1:-1;V.ctrlKey?(V.stopPropagation(),Te(gt),I(D(1),0)):I(void 0,gt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:V.preventDefault();var We=V.keyCode===40?1:-1;t.daysContainer&&W.$i!==void 0||W===t.input||W===t.altInput?V.ctrlKey?(V.stopPropagation(),Ae(t.currentYear-We),I(D(1),0)):dt||I(void 0,We*7):W===t.currentYearElement?Ae(t.currentYear-We):t.config.enableTime&&(!dt&&t.hourElement&&t.hourElement.focus(),d(V),t._debouncedChange());break;case 9:if(dt){var rt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ys){return Ys}),Pt=rt.indexOf(W);if(Pt!==-1){var En=rt[Pt+(V.shiftKey?-1:1)];V.preventDefault(),(En||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(W)&&V.shiftKey&&(V.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&W===t.amPM)switch(V.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),Vn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),Vn();break}(oe||ue(W))&&Nt("onKeyDown",V)}function he(V,W){if(W===void 0&&(W="flatpickr-day"),!(t.selectedDates.length!==1||V&&(!V.classList.contains(W)||V.classList.contains("flatpickr-disabled")))){for(var oe=V?V.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),_e=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ie=Math.min(oe,t.selectedDates[0].getTime()),Ue=Math.max(oe,t.selectedDates[0].getTime()),dt=!1,qe=0,gt=0,We=Ie;We<Ue;We+=Ej.DAY)Be(new Date(We),!0)||(dt=dt||We>Ie&&We<Ue,We<_e&&(!qe||We>qe)?qe=We:We>_e&&(!gt||We<gt)&&(gt=We));var rt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+W));rt.forEach(function(Pt){var En=Pt.dateObj,Ys=En.getTime(),wi=qe>0&&Ys<qe||gt>0&&Ys>gt;if(wi){Pt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Vo){Pt.classList.remove(Vo)});return}else if(dt&&!wi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Vo){Pt.classList.remove(Vo)}),V!==void 0&&(V.classList.add(oe<=t.selectedDates[0].getTime()?"startRange":"endRange"),_e<oe&&Ys===_e?Pt.classList.add("startRange"):_e>oe&&Ys===_e&&Pt.classList.add("endRange"),Ys>=qe&&(gt===0||Ys<=gt)&&Aj(Ys,_e,oe)&&Pt.classList.add("inRange"))})}}function U(){t.isOpen&&!t.config.static&&!t.config.inline&&Pe()}function Y(V,W){if(W===void 0&&(W=t._positionElement),t.isMobile===!0){if(V){V.preventDefault();var oe=_n(V);oe&&oe.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Nt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var _e=t.isOpen;t.isOpen=!0,_e||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Nt("onOpen"),Pe(W)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(V===void 0||!t.timeContainer.contains(V.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function X(V){return function(W){var oe=t.config["_"+V+"Date"]=t.parseDate(W,t.config.dateFormat),_e=t.config["_"+(V==="min"?"max":"min")+"Date"];oe!==void 0&&(t[V==="min"?"minDateHasTime":"maxDateHasTime"]=oe.getHours()>0||oe.getMinutes()>0||oe.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ie){return Be(Ie)}),!t.selectedDates.length&&V==="min"&&h(oe),Vn()),t.daysContainer&&($e(),oe!==void 0?t.currentYearElement[V]=oe.getFullYear().toString():t.currentYearElement.removeAttribute(V),t.currentYearElement.disabled=!!_e&&oe!==void 0&&_e.getFullYear()===oe.getFullYear())}}function ee(){var V=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],W=Fs(Fs({},JSON.parse(JSON.stringify(s.dataset||{}))),e),oe={};t.config.parseDate=W.parseDate,t.config.formatDate=W.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(rt){t.config._enable=xt(rt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(rt){t.config._disable=xt(rt)}});var _e=W.mode==="time";if(!W.dateFormat&&(W.enableTime||_e)){var Ie=ns.defaultConfig.dateFormat||$r.dateFormat;oe.dateFormat=W.noCalendar||_e?"H:i"+(W.enableSeconds?":S":""):Ie+" H:i"+(W.enableSeconds?":S":"")}if(W.altInput&&(W.enableTime||_e)&&!W.altFormat){var Ue=ns.defaultConfig.altFormat||$r.altFormat;oe.altFormat=W.noCalendar||_e?"h:i"+(W.enableSeconds?":S K":" K"):Ue+(" h:i"+(W.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:X("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:X("max")});var dt=function(rt){return function(Pt){t.config[rt==="min"?"_minTime":"_maxTime"]=t.parseDate(Pt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:dt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:dt("max")}),W.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,oe,W);for(var qe=0;qe<V.length;qe++)t.config[V[qe]]=t.config[V[qe]]===!0||t.config[V[qe]]==="true";pf.filter(function(rt){return t.config[rt]!==void 0}).forEach(function(rt){t.config[rt]=gf(t.config[rt]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var qe=0;qe<t.config.plugins.length;qe++){var gt=t.config.plugins[qe](t)||{};for(var We in gt)pf.indexOf(We)>-1?t.config[We]=gf(gt[We]).map(a).concat(t.config[We]):typeof W[We]>"u"&&(t.config[We]=gt[We])}W.altInputClass||(t.config.altInputClass=te().className+" "+t.config.altInputClass),Nt("onParseConfig")}function te(){return t.config.wrap?s.querySelector("[data-input]"):s}function ge(){typeof t.config.locale!="object"&&typeof ns.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Fs(Fs({},ns.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?ns.l10ns[t.config.locale]:void 0),Ui.D="("+t.l10n.weekdays.shorthand.join("|")+")",Ui.l="("+t.l10n.weekdays.longhand.join("|")+")",Ui.M="("+t.l10n.months.shorthand.join("|")+")",Ui.F="("+t.l10n.months.longhand.join("|")+")",Ui.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var V=Fs(Fs({},e),JSON.parse(JSON.stringify(s.dataset||{})));V.time_24hr===void 0&&ns.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Fb(t),t.parseDate=ym({config:t.config,l10n:t.l10n})}function Pe(V){if(typeof t.config.position=="function")return void t.config.position(t,V);if(t.calendarContainer!==void 0){Nt("onPreCalendarPosition");var W=V||t._positionElement,oe=Array.prototype.reduce.call(t.calendarContainer.children,function(fu,mu){return fu+mu.offsetHeight},0),_e=t.calendarContainer.offsetWidth,Ie=t.config.position.split(" "),Ue=Ie[0],dt=Ie.length>1?Ie[1]:null,qe=W.getBoundingClientRect(),gt=window.innerHeight-qe.bottom,We=Ue==="above"||Ue!=="below"&&gt<oe&&qe.top>oe,rt=window.pageYOffset+qe.top+(We?-oe-2:W.offsetHeight+2);if(Gs(t.calendarContainer,"arrowTop",!We),Gs(t.calendarContainer,"arrowBottom",We),!t.config.inline){var Pt=window.pageXOffset+qe.left,En=!1,Ys=!1;dt==="center"?(Pt-=(_e-qe.width)/2,En=!0):dt==="right"&&(Pt-=_e-qe.width,Ys=!0),Gs(t.calendarContainer,"arrowLeft",!En&&!Ys),Gs(t.calendarContainer,"arrowCenter",En),Gs(t.calendarContainer,"arrowRight",Ys);var wi=window.document.body.offsetWidth-(window.pageXOffset+qe.right),Vo=Pt+_e>window.document.body.offsetWidth,Sl=wi+_e>window.document.body.offsetWidth;if(Gs(t.calendarContainer,"rightMost",Vo),!t.config.static)if(t.calendarContainer.style.top=rt+"px",!Vo)t.calendarContainer.style.left=Pt+"px",t.calendarContainer.style.right="auto";else if(!Sl)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=wi+"px";else{var Hn=Re();if(Hn===void 0)return;var lu=window.document.body.offsetWidth,du=Math.max(0,lu/2-_e/2),cu=".flatpickr-calendar.centerMost:before",Yr=".flatpickr-calendar.centerMost:after",Gr=Hn.cssRules.length,uu="{left:"+qe.left+"px;right:auto;}";Gs(t.calendarContainer,"rightMost",!1),Gs(t.calendarContainer,"centerMost",!0),Hn.insertRule(cu+","+Yr+uu,Gr),t.calendarContainer.style.left=du+"px",t.calendarContainer.style.right="auto"}}}}function Re(){for(var V=null,W=0;W<document.styleSheets.length;W++){var oe=document.styleSheets[W];if(oe.cssRules){try{oe.cssRules}catch{continue}V=oe;break}}return V??Ee()}function Ee(){var V=document.createElement("style");return document.head.appendChild(V),V.sheet}function $e(){t.config.noCalendar||t.isMobile||(B(),Un(),P())}function Xe(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ze(V){V.preventDefault(),V.stopPropagation();var W=function(rt){return rt.classList&&rt.classList.contains("flatpickr-day")&&!rt.classList.contains("flatpickr-disabled")&&!rt.classList.contains("notAllowed")},oe=Lb(_n(V),W);if(oe!==void 0){var _e=oe,Ie=t.latestSelectedDateObj=new Date(_e.dateObj.getTime()),Ue=(Ie.getMonth()<t.currentMonth||Ie.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=_e,t.config.mode==="single")t.selectedDates=[Ie];else if(t.config.mode==="multiple"){var dt=Rs(Ie);dt?t.selectedDates.splice(parseInt(dt),1):t.selectedDates.push(Ie)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ie,t.selectedDates.push(Ie),yn(Ie,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(rt,Pt){return rt.getTime()-Pt.getTime()}));if(p(),Ue){var qe=t.currentYear!==Ie.getFullYear();t.currentYear=Ie.getFullYear(),t.currentMonth=Ie.getMonth(),qe&&(Nt("onYearChange"),B()),Nt("onMonthChange")}if(Un(),P(),Vn(),!Ue&&t.config.mode!=="range"&&t.config.showMonths===1?T(_e):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var gt=t.config.mode==="single"&&!t.config.enableTime,We=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(gt||We)&&Xe()}w()}}var Oe={locale:[ge,Z],showMonths:[le,l,me],minDate:[b],maxDate:[b],positionElement:[js],clickOpens:[function(){t.config.clickOpens===!0?(x(t._input,"focus",t.open),x(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function it(V,W){if(V!==null&&typeof V=="object"){Object.assign(t.config,V);for(var oe in V)Oe[oe]!==void 0&&Oe[oe].forEach(function(_e){return _e()})}else t.config[V]=W,Oe[V]!==void 0?Oe[V].forEach(function(_e){return _e()}):pf.indexOf(V)>-1&&(t.config[V]=gf(W));t.redraw(),Vn(!0)}function _t(V,W){var oe=[];if(V instanceof Array)oe=V.map(function(_e){return t.parseDate(_e,W)});else if(V instanceof Date||typeof V=="number")oe=[t.parseDate(V,W)];else if(typeof V=="string")switch(t.config.mode){case"single":case"time":oe=[t.parseDate(V,W)];break;case"multiple":oe=V.split(t.config.conjunction).map(function(_e){return t.parseDate(_e,W)});break;case"range":oe=V.split(t.l10n.rangeSeparator).map(function(_e){return t.parseDate(_e,W)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(V)));t.selectedDates=t.config.allowInvalidPreload?oe:oe.filter(function(_e){return _e instanceof Date&&Be(_e,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(_e,Ie){return _e.getTime()-Ie.getTime()})}function Dt(V,W,oe){if(W===void 0&&(W=!1),oe===void 0&&(oe=t.config.dateFormat),V!==0&&!V||V instanceof Array&&V.length===0)return t.clear(W);_t(V,oe),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,W),h(),t.selectedDates.length===0&&t.clear(!1),Vn(W),W&&Nt("onChange")}function xt(V){return V.slice().map(function(W){return typeof W=="string"||typeof W=="number"||W instanceof Date?t.parseDate(W,void 0,!0):W&&typeof W=="object"&&W.from&&W.to?{from:t.parseDate(W.from,void 0),to:t.parseDate(W.to,void 0)}:W}).filter(function(W){return W})}function bs(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var V=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);V&&_t(V,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function ds(){if(t.input=te(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Tt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),js()}function js(){t._positionElement=t.config.positionElement||t._input}function _s(){var V=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Tt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=V,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=V==="datetime-local"?"Y-m-d\\TH:i:S":V==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}x(t.mobileInput,"change",function(W){t.setDate(_n(W).value,!1,t.mobileFormatStr),Nt("onChange"),Nt("onClose")})}function Bn(V){if(t.isOpen===!0)return t.close();t.open(V)}function Nt(V,W){if(t.config!==void 0){var oe=t.config[V];if(oe!==void 0&&oe.length>0)for(var _e=0;oe[_e]&&_e<oe.length;_e++)oe[_e](t.selectedDates,t.input.value,t,W);V==="onChange"&&(t.input.dispatchEvent(vs("change")),t.input.dispatchEvent(vs("input")))}}function vs(V){var W=document.createEvent("Event");return W.initEvent(V,!0,!0),W}function Rs(V){for(var W=0;W<t.selectedDates.length;W++){var oe=t.selectedDates[W];if(oe instanceof Date&&yn(oe,V)===0)return""+W}return!1}function ir(V){return t.config.mode!=="range"||t.selectedDates.length<2?!1:yn(V,t.selectedDates[0])>=0&&yn(V,t.selectedDates[1])<=0}function Un(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(V,W){var oe=new Date(t.currentYear,t.currentMonth,1);oe.setMonth(t.currentMonth+W),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[W].textContent=pc(oe.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=oe.getMonth().toString(),V.value=oe.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function gn(V){var W=V||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(oe){return t.formatDate(oe,W)}).filter(function(oe,_e,Ie){return t.config.mode!=="range"||t.config.enableTime||Ie.indexOf(oe)===_e}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Vn(V){V===void 0&&(V=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=gn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=gn(t.config.altFormat)),V!==!1&&Nt("onValueUpdate")}function Uo(V){var W=_n(V),oe=t.prevMonthNav.contains(W),_e=t.nextMonthNav.contains(W);oe||_e?Te(oe?-1:1):t.yearElements.indexOf(W)>=0?W.select():W.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):W.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function au(V){V.preventDefault();var W=V.type==="keydown",oe=_n(V),_e=oe;t.amPM!==void 0&&oe===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Rn(t.amPM.textContent===t.l10n.amPM[0])]);var Ie=parseFloat(_e.getAttribute("min")),Ue=parseFloat(_e.getAttribute("max")),dt=parseFloat(_e.getAttribute("step")),qe=parseInt(_e.value,10),gt=V.delta||(W?V.which===38?1:-1:0),We=qe+dt*gt;if(typeof _e.value<"u"&&_e.value.length===2){var rt=_e===t.hourElement,Pt=_e===t.minuteElement;We<Ie?(We=Ue+We+Rn(!rt)+(Rn(rt)&&Rn(!t.amPM)),Pt&&S(void 0,-1,t.hourElement)):We>Ue&&(We=_e===t.hourElement?We-Ue-Rn(!t.amPM):Ie,Pt&&S(void 0,1,t.hourElement)),t.amPM&&rt&&(dt===1?We+qe===23:Math.abs(We-qe)>dt)&&(t.amPM.textContent=t.l10n.amPM[Rn(t.amPM.textContent===t.l10n.amPM[0])]),_e.value=rn(We)}}return i(),t}function Cr(s,e){for(var t=Array.prototype.slice.call(s).filter(function(a){return a instanceof HTMLElement}),o=[],i=0;i<t.length;i++){var r=t[i];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=jj(r,e||{}),o.push(r._flatpickr)}catch{}}return o.length===1?o[0]:o}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(s){return Cr(this,s)},HTMLElement.prototype.flatpickr=function(s){return Cr([this],s)});var ns=function(s,e){return typeof s=="string"?Cr(window.document.querySelectorAll(s),e):s instanceof Node?Cr([s],e):Cr(s,e)};ns.defaultConfig={};ns.l10ns={en:Fs({},cl),default:Fs({},cl)};ns.localize=function(s){ns.l10ns.default=Fs(Fs({},ns.l10ns.default),s)};ns.setDefaults=function(s){ns.defaultConfig=Fs(Fs({},ns.defaultConfig),s)};ns.parseDate=ym({});ns.formatDate=Fb({});ns.compareDates=yn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(s){return Cr(this,s)});Date.prototype.fp_incr=function(s){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof s=="string"?parseInt(s,10):s))};typeof window<"u"&&(window.flatpickr=ns);const Nb=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],Rj=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],v_=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),y_=s=>s instanceof Array?s:[s],b_=s=>Object.assign({},s),x_=Nb.concat(Rj),Ij=["locale","showMonths"],Oj={name:"flat-pickr",render(){return Ot("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(x_.map(v_)),props:{modelValue:{default:null,required:!0,validator(s){return s===null||s instanceof Date||typeof s=="string"||s instanceof String||s instanceof Array||typeof s=="number"}},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>Nb},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){if(this.fp)return;const s=b_(this.config);this.events.forEach(t=>{const o=ns.defaultConfig[t]||[],i=(...r)=>{this.$emit(v_(t),...r)};s[t]=y_(s[t]||[]).concat(o,i)});const e=(...t)=>{this.onClose(...t)};s.onClose=y_(s.onClose||[]).concat(e),s.defaultDate=this.modelValue||s.defaultDate,this.fp=new ns(this.getElem(),s),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(s){const e=s.target;Mn().then(()=>{this.$emit("update:modelValue",e.value)})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(s){this.$emit("blur",s.target.value)},onClose(s,e){this.$emit("update:modelValue",e)},watchDisabled(s){s?this.fpInput().setAttribute("disabled",s):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(s){const e=b_(s);x_.forEach(t=>{delete e[t]}),this.fp.set(e),Ij.forEach(t=>{typeof e[t]<"u"&&this.fp.set(t,e[t])})}},modelValue(s){s!==this.$refs.root.value&&this.fp&&this.fp.setDate(s,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}},Lj={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},Fj={class:"px-6 py-4"},Nj={class:"mb-6 text-sm font-medium text-gray-700"},zj={class:"flex items-center"},Bj={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},Uj={value:"daily"},Vj={value:"weekly"},Hj={value:"monthly"},qj={value:"yearly"},Wj={key:0,class:"mt-6 flex items-center"},Kj={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},Yj=["value"],Gj={key:1,class:"mt-6"},Xj={class:"whitespace-nowrap text-sm text-gray-600"},Jj={class:"mt-2.5 flex space-x-2"},Qj=["onClick"],Zj={key:2,class:"mt-6 flex items-center"},eR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},tR=["value"],sR={value:"lastday"},nR={key:3,class:"mt-6 flex items-center"},oR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},iR=["value"],rR=["value"],aR={value:"lastday"},lR={class:"mt-6"},dR={class:"mb-3 whitespace-nowrap text-sm text-gray-600"},cR={class:"space-y-1.5"},uR={class:"flex h-[1.875rem] items-center"},fR={for:"ends-never",class:"ml-3"},mR={class:"block text-sm text-gray-600"},hR={class:"flex items-center"},pR={class:"flex w-[9.375rem] items-center"},gR={for:"ends-on",class:"ml-3"},_R={class:"block text-sm text-gray-600"},vR={class:"flex items-center"},yR={class:"flex w-[9.375rem] items-center"},bR={for:"ends-after",class:"ml-3"},xR={class:"block text-sm text-gray-600"},wR=["disabled"],kR={class:"pointer-events-none flex items-center pr-2.5"},$R={class:"text-xs text-gray-600"},CR={class:"mt-8"},SR={class:"flex items-center"},MR={for:"task-completion",class:"pl-3 text-sm text-gray-600"},TR={class:"mt-8 flex justify-start"},AR=ye({__name:"TaskRepeatDropdown",setup(s){const e=ss(),t=F(!1),o=F(!1),i={type:"daily",every:1,hour_at:0,day_at:1,month_at:1,repeat_on:[],task_completion_required:!0,ends_at:null,repetitions:1,ends:"never"},r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],a=[{label:"M",value:"Mon"},{label:"T",value:"Tue"},{label:"W",value:"Wed"},{label:"T",value:"Thu"},{label:"F",value:"Fri"},{label:"S",value:"Sat"},{label:"S",value:"Sun"}],l=Qe({...i});function d(y){l.repeat_on.includes(y)?l.repeat_on.splice(l.repeat_on.indexOf(y),1):l.repeat_on.push(y)}function u(){t.value=!0,ae.post(`tasks/${e.data.id}/recurring`,{...l}).then(({data:y})=>{t.value=!1,o.value=!0,Object.assign(e.data,y)}).catch(()=>{t.value=!1})}function m(){o.value=!0}function p(){var y;o.value=!1,(y=e.data.meta)!=null&&y.recurring?_():h()}function h(){Object.assign(l,i)}function _(){Object.assign(l,e.data.meta.recurring)}return(y,x)=>(g(),ne(f(Ks),{name:"task-repeat",modal:!0,"close-outside":"",close:o.value,onToggle:p},{trigger:q(()=>[...x[14]||(x[14]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:q(()=>[n("div",Lj,[n("div",Fj,[n("h3",Nj,c(y.__("Recurrence")),1),n("section",zj,[n("p",Bj,c(y.__("Repeat every")),1),z(n("input",{"onUpdate:modelValue":x[0]||(x[0]=w=>l.every=w),type:"number",class:"mr-2 block w-16 rounded-md border-gray-300 px-2.5 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0",min:"1",max:"99",onChange:x[1]||(x[1]=w=>l.every=Math.max(Math.min(Math.round(l.every),99),1))},null,544),[[J,l.every]]),z(n("select",{"onUpdate:modelValue":x[2]||(x[2]=w=>l.type=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[n("option",Uj,"Day"+c(l.every>1?"s":""),1),n("option",Vj," Week"+c(l.every>1?"s":""),1),n("option",Hj," Month"+c(l.every>1?"s":""),1),n("option",qj," Year"+c(l.every>1?"s":""),1)],512),[[Me,l.type]])]),l.type=="daily"?(g(),v("section",Wj,[n("p",Kj,c(y.__("Hour At")),1),z(n("select",{"onUpdate:modelValue":x[3]||(x[3]=w=>l.hour_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),v(re,null,ve(24,(w,k)=>n("option",{key:w,value:k},c(k.toString().padStart(2,"0"))+":00 ",9,Yj)),64))],512),[[Me,l.hour_at]])])):j("",!0),l.type=="weekly"?(g(),v("section",Gj,[n("p",Xj,c(y.__("Repeat on")),1),n("div",Jj,[(g(),v(re,null,ve(a,w=>n("span",{key:w.value,class:Q(["flex h-6 w-6 cursor-pointer items-center justify-center rounded text-xs",{"border border-gray-300 text-gray-500":!l.repeat_on.includes(w.value),"bg-indigo-600 text-white":l.repeat_on.includes(w.value)}]),onClick:k=>d(w.value)},c(w.label),11,Qj)),64))])])):j("",!0),l.type=="monthly"?(g(),v("section",Zj,[n("p",eR,c(y.__("Day")),1),z(n("select",{"onUpdate:modelValue":x[4]||(x[4]=w=>l.day_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),v(re,null,ve(31,w=>n("option",{key:w,value:w},c(w.toString().padStart(2,"0")),9,tR)),64)),n("option",sR,c(y.__("Last Day")),1)],512),[[Me,l.day_at]])])):j("",!0),l.type=="yearly"?(g(),v("section",nR,[n("p",oR,c(y.__("Month"))+" / "+c(y.__("Day")),1),z(n("select",{"onUpdate:modelValue":x[5]||(x[5]=w=>l.month_at=w),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),v(re,null,ve(r,w=>n("option",{key:w.label,value:w.value},c(w.label),9,iR)),64))],512),[[Me,l.month_at]]),z(n("select",{"onUpdate:modelValue":x[6]||(x[6]=w=>l.day_at=w),class:"ml-2 block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(g(),v(re,null,ve(31,w=>n("option",{key:w,value:w},c(w.toString().padStart(2,"0")),9,rR)),64)),n("option",aR,c(y.__("Last Day")),1)],512),[[Me,l.day_at]])])):j("",!0),n("section",lR,[n("p",dR,c(y.__("Ends")),1),n("div",cR,[n("div",uR,[z(n("input",{id:"ends-never","onUpdate:modelValue":x[7]||(x[7]=w=>l.ends=w),type:"radio",value:"never",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[On,l.ends]]),n("label",fR,[n("span",mR,c(y.__("Never")),1)])]),n("div",hR,[n("div",pR,[z(n("input",{id:"ends-on","onUpdate:modelValue":x[8]||(x[8]=w=>l.ends=w),type:"radio",value:"on",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[On,l.ends]]),n("label",gR,[n("span",_R,c(y.__("On")),1)])]),n("div",null,[C(f(Oj),{id:"ends-on-date",modelValue:l.ends_at,"onUpdate:modelValue":x[9]||(x[9]=w=>l.ends_at=w),disabled:l.ends!="on",class:"block rounded-md border-gray-300 px-2 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50"},null,8,["modelValue","disabled"])])]),n("div",vR,[n("div",yR,[z(n("input",{id:"ends-after","onUpdate:modelValue":x[10]||(x[10]=w=>l.ends=w),type:"radio",value:"after",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[On,l.ends]]),n("label",bR,[n("span",xR,c(y.__("After")),1)])]),n("div",null,[n("div",{class:Q(["flex rounded-md border border-gray-300 shadow-sm",{"opacity-50":l.ends!="after"}])},[z(n("input",{"onUpdate:modelValue":x[11]||(x[11]=w=>l.repetitions=w),type:"number",placeholder:"1",class:"block w-20 rounded-md border-0 px-2.5 py-1.5 text-xs text-gray-800 focus:ring-0",disabled:l.ends!="after",onChange:x[12]||(x[12]=w=>l.repetitions=Math.max(Math.min(Math.round(l.repetitions),999),1))},null,40,wR),[[J,l.repetitions]]),n("div",kR,[n("span",$R,c(y.__("Occurences")),1)])],2)])])])]),n("section",CR,[n("div",SR,[z(n("input",{id:"task-completion","onUpdate:modelValue":x[13]||(x[13]=w=>l.task_completion_required=w),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,l.task_completion_required]]),n("label",MR,c(y.__("Only if last task was completed")),1)])]),n("section",TR,[C(f(Se),{size:"xs",processing:t.value,onClick:u},{default:q(()=>[K(c(y.__("Save")),1)]),_:1},8,["processing"]),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:m},c(y.__("Cancel")),1)])])])]),_:1},8,["close"]))}}),DR={class:"py-3.5"},ER={class:"flex items-center px-2"},PR={class:"text-sm font-medium text-gray-600"},jR=["aria-label"],RR={key:0,class:"flex items-center px-2 pt-3"},IR={"aria-label":"Next Recurring At","data-cooltipz-dir":"bottom"},OR={class:"ml-2 text-xs text-gray-600"},LR=ye({__name:"TaskRecurring",setup(s){const e=ss();return(t,o)=>(g(),v("section",DR,[n("div",ER,[n("h2",PR,c(t.__("Repeat")),1),f(e).data.recurring_at?(g(),v("span",{key:0,class:"ml-2","aria-label":f(e).data.meta.recurring.phrase,"data-cooltipz-dir":"bottom"},[C(f(Pr),{class:"h-3 w-3 text-gray-600"})],8,jR)):j("",!0),t.can("task:update")?(g(),ne(AR,{key:1,class:"ml-auto"})):j("",!0)]),f(e).data.recurring_at?(g(),v("div",RR,[n("span",IR,[C(f(Ws),{class:"h-4 w-4 text-gray-500"})]),n("p",OR,c(f(e).data.recurring_at),1)])):j("",!0)]))}}),FR={class:"group relative flex py-1"},NR={class:"h-6 w-6"},zR={class:"group flex-1 ltr:pl-4 rtl:pr-4"},BR={class:"flex"},UR={class:"flex text-sm font-medium leading-none text-gray-700"},VR={class:"text-xs font-normal text-gray-500 ltr:ml-3 rtl:mr-3"},HR=["innerHTML"],qR={key:0,class:"mt-4 mb-1 divide-y rounded-md border"},WR={class:"flex flex-1 items-center"},KR=["href"],YR=["href"],GR={class:"mr-2 text-sm text-gray-600"},XR={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},JR=ye({__name:"CommentItem",props:{id:{},index:{},comment:{}},setup(s){const e=s,t=new Ze.Renderer,o=t.link;t.link=(d,u,m)=>o.call(t,d,u,m).replace(/^<a /,'<a target="_blank" rel="noreferrer noopener nofollow" ');const i=ss(),r=F(!1),a=F(!1);function l(){a.value||(a.value=!0,ae.delete(`comments/${e.id}`).then(({data:d})=>{var u;a.value=!1,d.success&&((u=i.data)==null||u.comments.splice(e.index,1))}))}return(d,u)=>(g(),v("div",FR,[n("div",NR,[C(f(Xt),{class:"h-6 w-6",avatar:s.comment.user.avatar},null,8,["avatar"])]),n("div",zR,[n("div",BR,[n("h2",UR,[K(c(s.comment.user.name)+" ",1),n("span",VR,c(s.comment.updated_at),1)])]),n("p",{class:"prose prose-sm mt-1.5 break-all text-sm text-gray-600",innerHTML:f(Ze).parse(s.comment.text||"",{breaks:!0,renderer:f(t)})},null,8,HR),s.comment.attachments.length?(g(),v("ul",qR,[(g(!0),v(re,null,ve(s.comment.attachments,m=>(g(),v("li",{key:m.name,class:"flex items-center py-2 px-3"},[n("div",WR,[u[2]||(u[2]=n("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),n("a",{href:"/"+m.path,class:"block w-0 flex-1 truncate text-xs text-gray-700 hover:underline ltr:ml-2 ltr:pr-2 rtl:mr-2 rtl:pl-2",target:"blank"},c(m.name),9,KR)]),n("a",{href:"/"+m.path,class:"ltr:ml-auto rtl:mr-auto",target:"blank"},[C(f(Xm),{class:"h-5 w-5 text-gray-400"})],8,YR)]))),128))])):j("",!0)]),r.value?(g(),v("div",{key:0,class:Q(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":a.value}])},[n("span",GR,c(d.__("Are you sure to delete?")),1),C(f(ps),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:l}),C(f(ws),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:u[0]||(u[0]=m=>r.value=!1)})],2)):(g(),v("div",XR,[s.comment.user_id==f(ht).user.id?(g(),ne(f(Vt),{key:0,class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-900",onClick:u[1]||(u[1]=m=>r.value=!0)})):j("",!0)]))]))}}),QR={class:"px-3 py-2 text-sm text-gray-500"},ZR={class:"mt-1 mb-4 rounded-md border border-gray-300",enctype:"multipart/form-data"},eI=["placeholder","onKeydown"],tI={key:0,class:"mx-3 mt-1 mb-1 divide-y rounded-md border"},sI={class:"flex items-center"},nI={class:"w-0 flex-1 truncate text-sm ltr:ml-2 rtl:mr-2"},oI=["onClick"],iI={key:0,class:"mt-2 w-full rounded-md bg-green-100"},rI={class:"flex items-center px-3 pt-2 pb-3"},aI={class:"flex items-center"},lI={class:"ml-auto flex"},dI={class:"cursor-pointer"},w_=ye({__name:"CommentForm",props:{id:{},index:{},comment:{}},setup(s){const e=s;Ye(()=>{var b;Ob(document.querySelectorAll(".autosize")),(b=r.value)==null||b.focus()});const t=ss(),o=F(e.comment?e.comment.attachments:[]),i=F(e.comment?e.comment.comment:""),r=F(null),a=F(!e.id),l=F({}),d=F({}),u=F(!1),m=sn();function p(){a.value=!0,i.value="",t.commentForm=null}function h(){a.value=!1,setTimeout(function(){var b;(b=r.value)==null||b.focus()})}function _(){m.fetch(t.data.project_id)}function y(b){b.preventDefault(),o.value=[...b.target.files];for(let M=0;M<o.value.length;M++)x(M)}function x(b){const M=o.value[b],S=new FileReader;S.readAsDataURL(M),S.onload=()=>{const N=new FormData;N.append("file",M),ae.post("file",N,{onUploadProgress:function(A){l.value[b]=Math.round(A.loaded*100/A.total)-5}}).then(({data:A})=>{d.value[b]={path:A,name:M.name},l.value[b]=100})}}function w(b){delete d.value[b],o.value.splice(b,1)}function k(){i.value&&(u.value=!0,ae.post("tasks/"+t.data.id+"/comments",{text:i.value,task_id:t.data.id,attachments:d.value}).then(({data:b})=>{t.data.comments.push(b),i.value="",o.value=[],d.value={},l.value={},u.value=!1,_()}))}return(b,M)=>(g(),v("div",null,[z(n("div",{class:"mt-1 mb-4 cursor-pointer rounded-md border border-gray-300 hover:shadow",onClick:h},[n("p",QR,c(b.__("Write a comment")),1)],512),[[zt,a.value]]),z(n("form",ZR,[z(n("textarea",{ref_key:"input",ref:r,"onUpdate:modelValue":M[0]||(M[0]=S=>i.value=S),class:"autosize comment-textarea block max-h-40 w-full resize-none rounded-md border-0 text-sm focus:ring-0",placeholder:b.__("Write a comment"),onKeydown:[Ln(Ke(k,["ctrl"]),["enter"]),Ln(p,["esc"])]},null,40,eI),[[J,i.value]]),o.value.length?(g(),v("ul",tI,[(g(!0),v(re,null,ve(o.value,(S,N)=>(g(),v("li",{key:S.name,class:"block py-2 px-3"},[n("div",sI,[M[2]||(M[2]=n("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),n("span",nI,c(S.name),1),n("span",{class:"cursor-pointer ltr:ml-auto rtl:mr-auto",onClick:A=>w(N)},[...M[1]||(M[1]=[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,oI)]),l.value[N]?(g(),v("div",iI,[n("span",{class:"block h-1 rounded-md bg-green-400",style:kt({width:l.value[N]+"%"})},null,4)])):j("",!0)]))),128))])):j("",!0),n("div",rI,[n("div",aI,[n("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:k},c(b.__("Save")),1),n("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:p},c(b.__("Cancel")),1)]),n("div",lI,[n("label",dI,[n("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/gif,.doc,.docx,.pdf,.txt",multiple:"",onChange:y},null,32),M[3]||(M[3]=n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1))])])])],512),[[zt,!a.value]])]))}}),cI={id:"comments",class:"mt-8"},uI={class:"flex"},fI={class:"flex-1 border-b pb-2"},mI={class:"text-sm font-medium text-gray-800"},hI={class:"ml-2 text-sm font-light text-gray-600"},pI={class:"pl-8 pt-4"},gI={class:"space-y-4"},_I=ye({__name:"TaskComments",setup(s){const e=ss();return(t,o)=>(g(),v("section",cI,[C(f(Gc),{open:!0},{trigger:q(({open:i})=>[n("div",uI,[(g(),v("svg",{class:Q(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!i}]),viewBox:"0 0 16 16"},[...o[0]||(o[0]=[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),n("div",fI,[n("span",mI,c(t.__("Comments")),1),n("span",hI,c(f(e).data.comments.length),1)])])]),content:q(()=>[n("div",pI,[C(w_),n("div",gI,[(g(!0),v(re,null,ve(f(e).data.comments,(i,r)=>(g(),ne(mo(f(e).commentForm==r?w_:JR),{key:i.id,id:i.id,index:r,comment:i},null,8,["id","index","comment"]))),128))])])]),_:1})]))}}),vI={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},yI=["onClick"],bI={key:0,class:"inline-block h-5 w-5 rounded-full bg-blue-400 text-white"},xI={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},wI=ye({__name:"TaskAssign",setup(s){const e=ss(),t=sn(),o=Je("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!o("task:update"))return;let l=e.data.users.findIndex(d=>d.id==a.id);l>=0?e.data.users.splice(l,1):e.data.users.push({id:a.id,name:a.name}),ae.patch("tasks/"+e.data.id+"/assign",{user:a.id}).then(({data:d})=>{i()})}return(a,l)=>(g(),ne(f(Ks),{name:"task-assign",modal:!0,"close-outside":""},{trigger:q(()=>[...l[0]||(l[0]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:q(()=>[n("div",vI,[(g(!0),v(re,null,ve(f(e).data.project.users,d=>(g(),v("div",{key:d.id,class:Q(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":f(o)("task:update")}]),onClick:u=>r(d)},[f(e).data.users.length&&f(e).data.users.find(u=>u.id==d.id)?(g(),v("span",bI,[...l[1]||(l[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])])):(g(),ne(f(Xt),{key:1,class:"h-5 w-5",avatar:d.avatar},null,8,["avatar"])),n("span",xI,c(d.name),1)],10,yI))),128))])]),_:1}))}}),kI={class:"py-3.5"},$I={class:"flex items-center px-2"},CI={class:"text-sm font-medium text-gray-600"},SI={key:0,class:"flex flex-wrap px-2 pt-2"},MI=ye({__name:"TaskAssignee",setup(s){const e=ss();return(t,o)=>(g(),v("section",kI,[n("div",$I,[n("h2",CI,c(t.__("Assignee")),1),t.can("task:update")?(g(),ne(wI,{key:0,class:"ml-auto"})):j("",!0)]),f(e).data.users.length?(g(),v("div",SI,[(g(!0),v(re,null,ve(f(e).data.users,i=>(g(),ne(f(Xt),{key:i.id,"data-cooltipz-dir":"top","aria-label":i.name,class:"mr-1 mb-1 h-6 w-6 border-2 border-white",avatar:i.avatar},null,8,["aria-label","avatar"]))),128))])):j("",!0)]))}}),TI={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},AI={key:0,class:"py-1.5 text-center text-xs text-gray-600"},DI=["onClick"],EI={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},PI=ye({__name:"TaskLabelsDropdown",setup(s){const e=ss(),t=sn(),o=Je("can");function i(){t.fetch(e.data.project_id)}function r(a){if(!o("task:update"))return;const l=["not started","started","in progress","completed","stuck"],d=l.includes(a.name.toLowerCase());let u=e.data.labels.findIndex(m=>m.id==a.id);u>=0?e.data.labels.splice(u,1):(d&&(e.data.labels=e.data.labels.filter(m=>!l.includes(m.name.toLowerCase()))),e.data.labels.push({id:a.id,name:a.name,meta:{color:a.meta.color}})),ae.patch("tasks/"+e.data.id+"/label",{label:a.id}).then(({data:m})=>{m.completed_at!==void 0&&(e.data.completed_at=m.completed_at),i()})}return(a,l)=>(g(),ne(f(Ks),{name:"task-labels",modal:!0,"close-outside":""},{trigger:q(()=>[...l[0]||(l[0]=[n("span",{class:"cursor-pointer"},[n("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:q(()=>[n("div",TI,[f(e).options.labels.length?j("",!0):(g(),v("p",AI," There are No Labels! ")),(g(!0),v(re,null,ve(f(e).options.labels,d=>(g(),v("div",{key:d.label,class:Q(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":f(o)("task:update")}]),onClick:u=>r(d)},[f(e).data.labels.length&&f(e).data.labels.find(u=>u.id==d.id)?(g(),ne(f(lP),{key:0,class:"inline-block h-4 w-4",style:kt({color:d.meta.color})},null,8,["style"])):(g(),ne(f(Mb),{key:1,class:"inline-block h-4 w-4",style:kt({color:d.meta.color})},null,8,["style"])),n("span",EI,c(d.name),1)],10,DI))),128))])]),_:1}))}}),jI={class:"py-3.5"},RI={class:"flex items-center px-2"},II={class:"text-sm font-medium text-gray-600"},OI={key:0,class:"flex flex-wrap px-2 pt-2"},LI=ye({__name:"TaskLabels",setup(s){const e=ss();return(t,o)=>(g(),v("section",jI,[n("div",RI,[n("h2",II,c(t.__("Labels")),1),t.can("task:update")?(g(),ne(PI,{key:0,class:"ml-auto"})):j("",!0)]),f(e).data.labels.length?(g(),v("div",OI,[(g(!0),v(re,null,ve(f(e).data.labels,i=>(g(),v("span",{key:i.id,class:"mb-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white ltr:mr-2 rtl:ml-2",style:kt({"background-color":i.meta.color})},[o[0]||(o[0]=n("svg",{class:"-ml-0.5 mr-1.5 h-2 w-2 text-white",fill:"currentColor",viewBox:"0 0 8 8"},[n("circle",{cx:"4",cy:"4",r:"3"})],-1)),K(" "+c(i.name),1)],4))),128))])):j("",!0)]))}}),FI={class:"py-3"},NI={class:"px-2 text-sm font-medium text-gray-600"},zI={key:0,class:"mt-2 flex items-center px-2 py-1"},BI={class:"block text-xs leading-none text-gray-600"},UI={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},VI={class:"block h-3.5 text-xs leading-none text-gray-600"},HI={class:"absolute z-30 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},qI=["onClick"],WI=ye({__name:"TaskProjectList",setup(s){const e=ss(),t=sn();function o(){t.fetch(e.data.project_id)}function i(r){e.data.project_list.name=r.name,ae.patch(`tasks/${e.data.id}/list`,{project_list_id:r.id}).then(()=>{o()})}return(r,a)=>(g(),v("section",FI,[n("h2",NI,c(r.__("Project List")),1),r.can("task:update")?(g(),ne(f(Ks),{key:1},{trigger:q(()=>[n("div",UI,[n("span",VI,c(f(e).data.project_list.name),1),a[0]||(a[0]=n("svg",{class:"ml-auto hidden h-3.5 w-3.5 cursor-pointer text-gray-500 group-hover:block",viewBox:"0 0 16 16"},[n("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"})],-1))])]),content:q(()=>[n("div",HI,[(g(!0),v(re,null,ve(f(e).options.project_lists,l=>(g(),v("span",{key:l.name,class:"block cursor-pointer px-4 py-2 text-xs text-gray-600 hover:bg-gray-200",onClick:d=>i(l)},c(l.name),9,qI))),128))])]),_:1})):(g(),v("div",zI,[n("span",BI,c(f(e).data.project_list.name),1)]))]))}}),KI={class:"pb-3"},YI={class:"px-2 text-sm font-medium text-gray-600"},GI={class:"mt-2 flex items-center px-2"},XI={key:0,class:"pr-4"},JI={key:1,class:"text-red-500"},QI={key:2,class:"text-gray-600"},ZI=ye({__name:"TaskTimer",setup(s){const e=ss(),t=Wr(),o=F(!1),i=F(!1);function r(){if(i.value)return`${t.currentTaskTimer.h.toString().padStart(2,"0")}:${t.currentTaskTimer.m.toString().padStart(2,"0")}:${t.currentTaskTimer.s.toString().padStart(2,"0")}`;let u=e.data.total_seconds,m=Math.floor((u||0)%60),p=Math.floor((u||0)%3600/60);return`${Math.floor((u||0)/3600).toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}function a(){i.value||(t.setTimer(e.data.total_seconds),i.value=!0),setTimeout(function(){t.start(e.data)})}function l(){t.stop()}function d(){if(e.data.users.length&&e.data.users.find(u=>u.id==ht.user.id))return o.value=!0;o.value=!1}return d(),(u,m)=>(g(),v("section",KI,[n("h2",YI,c(u.__("Time")),1),n("div",GI,[o.value?(g(),v("div",XI,[f(e).data.id==f(t).taskId?(g(),v("span",{key:0,onClick:Ke(l,["stop"])},[C(f(Vr),{class:"h-4 w-4 cursor-pointer text-red-500 hover:text-red-700"})])):(g(),v("span",{key:1,onClick:Ke(a,["stop"])},[C(f(Uc),{class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-700"})]))])):j("",!0),f(e).data.id==f(t).taskId?(g(),v("p",JI,c(f(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+c(f(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+c(f(t).currentTaskTimer.s.toString().padStart(2,"0")),1)):(g(),v("p",QI,c(r()),1))])]))}}),eO={class:"py-3"},tO={class:"px-2 text-sm font-medium text-gray-600"},sO={key:0,class:"mt-2 flex items-center px-2","data-cooltipz-dir":"top"},nO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},oO={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},iO={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},rO={class:"absolute z-30 mt-2 ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},aO=ye({__name:"TaskDueDate",setup(s){const e=F(!1),t=ss(),o=sn();function i(){o.fetch(t.data.project_id)}const r=function(a){e.value=!0,t.data.due_at=a?a.date:null,t.data.human_due_date=a?a.label:null,ae.patch("tasks/"+t.data.id+"/due-date",{due_at:a?a.date:null}).then(({data:l})=>{i()})};return(a,l)=>(g(),v("section",eO,[n("h2",tO,c(a.__("Due Date")),1),a.can("task:update")?(g(),ne(f(Ks),{key:1,"close-outside":"",close:e.value,modal:!0},{trigger:q(()=>[n("div",oO,[C(f(un),{class:"h-4 w-4 text-gray-500"}),n("span",iO,c(f(t).data.due_at?f(t).data.human_due_date:a.__("No due date")),1),f(t).data.due_at?(g(),v("span",{key:0,class:"ml-auto flex h-4 w-4 items-center justify-center rounded-md hover:bg-gray-300",onClick:Ke(r,["stop"])},[C(f(Po),{class:"h-3.5 w-3.5 text-gray-600"})])):j("",!0)])]),content:q(()=>{var d;return[n("div",rO,[C(f(P6),{date:((d=f(t).data)==null?void 0:d.due_at)||"",onSelected:r},null,8,["date"])])]}),_:1},8,["close"])):(g(),v("div",sO,[C(f(un),{class:"h-4 w-4 text-gray-500"}),n("span",nO,c(f(t).data.due_at?f(t).data.due_at:a.__("No due date")),1)]))]))}}),lO={key:0,class:"flex justify-center rounded-lg bg-gray-300 py-28"},dO={key:1},cO={class:"flex border-b border-gray-200 shadow-sm"},uO={class:"flex items-center px-6 text-sm text-gray-700"},fO={class:"flex"},mO={class:"flex-1 px-6 pt-6 pb-8"},hO={class:"w-60 divide-y divide-gray-200 rounded-br-lg bg-gray-50 px-6 py-6"},iu=ye({__name:"TaskModal",props:{id:{}},setup(s){const e=s,t=ss();t.fetch(e.id),Ft().onHide(function(){if(window.location.pathname.split("/")[1]=="projects"){const i=`/projects/${t.data.project_id}`;history.replaceState(history.state,"",i)}});function o(){Ft().pop()}return(i,r)=>(g(),ne(f(Tn),{width:"max-w-3xl"},{default:q(()=>[f(t).loading?(g(),v("div",lO,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",dO,[n("div",cO,[n("div",uO,[n("span",{class:"inline-block h-2.5 w-2.5 rounded-full ltr:mr-2 rtl:ml-2",style:kt({"background-color":f(t).data.project.meta.color})},"  ",4),n("span",null,c(f(t).data.project.name),1),r[0]||(r[0]=n("span",{class:"px-2"},"/",-1)),n("span",null,c(f(t).data.project_list.name),1)]),n("div",{class:"ml-auto flex items-center"},[n("span",{class:"cursor-pointer px-4 py-4 text-gray-600 hover:text-gray-800",onClick:o},[...r[1]||(r[1]=[n("svg",{class:"h-6 w-6",viewBox:"0 0 21 21"},[n("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(5 5)"},[n("path",{d:"m10.5 10.5-10-10z"}),n("path",{d:"m10.5.5-10 10"})])],-1)])])])]),n("div",fO,[n("main",mO,[C(JP),C(cj),C(_I)]),n("aside",hO,[C(ZI),C(WI),C(MI),C(aO),C(LI),C(LR),i.can("task:delete")?(g(),ne(Mj,{key:0})):j("",!0),C(bj)])])]))]),_:1}))}}),pO=["data-id"],gO={class:"flex py-1.5"},_O=["textContent"],vO={class:"flex items-center"},yO={class:"flex flex-1"},bO={key:0,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},xO=["aria-label"],wO={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},kO=["textContent"],$O={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},CO=["textContent"],SO={key:1,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},MO=["textContent"],TO={key:0,class:"flex items-center py-1 ltr:ml-auto rtl:mr-auto"},AO=["src","title"],DO=["title"],EO={key:0,class:"mt-1 flex flex-wrap"},PO={key:1,class:"mt-1.5 mb-1.5 flex items-center"},jO={class:"ml-1 text-xs text-red-600"},RO=ye({__name:"ListItem",props:{task:{}},setup(s){const e=s,t=Wr(),o=F(!1);function i(l=null){const d=`/projects/${e.task.project_id}/tasks/${l}`;history.replaceState(history.state,"",d),Ft().add(iu,{id:l,width:"max-w-3xl"})}function r(l){return l[0].checklist_items.filter(d=>d.completed_at!=null).length+"/"+l[0].checklist_items.length}function a(){if(e.task.users.length&&e.task.users.find(l=>l.id==ht.user.id))return o.value=!0;o.value=!1}return a(),(l,d)=>(g(),v("div",{id:"list-item","data-id":s.task.id,class:"mb-2 block cursor-pointer rounded bg-white px-2.5 py-1 shadow-md",onClick:d[1]||(d[1]=u=>i(s.task.id))},[n("div",gO,[n("span",{class:Q(["block flex-1 text-sm",{"text-gray-500 line-through":s.task.completed_at,"text-gray-700":!s.task.completed_at}]),textContent:c(s.task.title)},null,10,_O)]),n("div",vO,[n("div",yO,[s.task.recurring_at?(g(),v("div",bO,[n("span",{"aria-label":s.task.meta.recurring.phrase,"data-cooltipz-dir":"right","data-cooltipz-size":"medium"},[C(f(Pr),{class:"h-4 w-4 text-gray-400"})],8,xO)])):j("",!0),z(n("div",wO,[C(f(un),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:c(s.task.human_due_date)},null,8,kO)],512),[[zt,s.task.due_at]]),z(n("div",$O,[C(f(o$),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:c(s.task.comments.length)},null,8,CO)],512),[[zt,s.task.comments.length]]),s.task.checklists.length&&s.task.checklists[0].checklist_items.length?(g(),v("div",SO,[C(f(ps),{class:"h-4 w-4 text-gray-400"}),n("span",{class:"text-xs tracking-widest text-gray-500 ltr:ml-0.5 rtl:mr-0.5",textContent:c(r(s.task.checklists))},null,8,MO)])):j("",!0)]),s.task.users.length?(g(),v("div",TO,[z(n("span",null,null,512),[[zt,a()]]),z(n("img",{class:"h-4 w-4 rounded-full",src:s.task.users[0].avatar,alt:"avatar",title:s.task.users[0].name},null,8,AO),[[zt,s.task.users[0].avatar]]),z(n("span",{title:s.task.users[0].name,class:"inline-block h-4 w-4 overflow-hidden rounded-full bg-gray-100 text-gray-300"},[...d[2]||(d[2]=[n("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])],8,DO),[[zt,!s.task.users[0].avatar]]),z(n("span",{class:"text-[9px] text-gray-600 ltr:ml-px rtl:mr-px"},"+"+c(s.task.users.length-1),513),[[zt,s.task.users.length>1]])])):j("",!0)]),s.task.labels.length?(g(),v("div",EO,[(g(!0),v(re,null,ve(s.task.labels,u=>(g(),v("span",{key:u.id,class:"mb-1 inline-flex items-center rounded-md px-1.5 py-1 text-[10px] font-semibold leading-none text-white ltr:mr-1 rtl:ml-1",style:kt({"background-color":u.meta.color})},c(u.name),5))),128))])):j("",!0),s.task.id==f(t).taskId&&f(t).isTimerRunning?(g(),v("div",PO,[n("span",{onClick:d[0]||(d[0]=Ke((...u)=>f(t).stop&&f(t).stop(...u),["stop"]))},[C(f(Vr),{class:"h-[0.875rem] w-[0.875rem] text-red-500 hover:text-red-800"})]),n("p",jO,c(f(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+c(f(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+c(f(t).currentTaskTimer.s.toString().padStart(2,"0")),1)])):j("",!0)],8,pO))}}),IO={class:"px-2"},OO={class:"block text-sm text-gray-500 group-hover:text-gray-700 ltr:ml-2 rtl:mr-2"},LO={class:"mb-2"},FO={class:"mt-2"},NO=ye({__name:"TaskFormQuick",props:{projectId:{},listId:{},listIndex:{}},setup(s){const e=s,t=F(!1),o=F(!1),i=F(""),r=F(null),a=sn();function l(){t.value=!0,setTimeout(function(){var m;(m=r.value)==null||m.focus()})}function d(){t.value=!1,i.value=""}function u(){i.value&&(o.value=!0,ae.post("tasks",{task:i.value,project_id:e.projectId,list_id:e.listId}).then(m=>{a.data.lists[e.listIndex].tasks.push(m.data),i.value="",t.value=!1,o.value=!1}))}return(m,p)=>(g(),v("div",IO,[z(n("div",{class:"group mb-1.5 flex cursor-pointer items-center rounded py-2 hover:bg-gray-300 ltr:pl-2 rtl:pr-2",onClick:l},[p[1]||(p[1]=n("svg",{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),n("span",OO,c(m.__("Add task")),1)],512),[[zt,!t.value]]),z(n("div",LO,[z(n("input",{ref_key:"taskinput",ref:r,"onUpdate:modelValue":p[0]||(p[0]=h=>i.value=h),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter a task",onKeyup:[Ln(u,["enter"]),Ln(d,["escape"])]},null,544),[[J,i.value]]),n("div",FO,[C(f(Se),{size:"xs",processing:o.value,onClick:u},{default:q(()=>[K(c(m.__("Add task")),1)]),_:1},8,["processing"]),C(f(Se),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:o.value,onClick:d},{default:q(()=>[K(c(m.__("Cancel")),1)]),_:1},8,["disabled"])])],512),[[zt,t.value]])]))}}),zO={id:"kanban-wrapper",class:"relative flex-1"},BO={id:"container",class:"absolute inset-0 select-none overflow-x-auto overflow-y-hidden whitespace-nowrap text-[0] transition-opacity"},UO=["data-id"],VO={class:"box-border flex max-h-full flex-col whitespace-normal rounded bg-gray-200"},HO=["id","data-id"],qO={key:0,class:"box-border inline-block h-full w-72 whitespace-nowrap align-top text-base"},WO={class:"text-sm text-gray-700 ltr:ml-2 rtl:mr-2"},KO={class:"box-border max-h-full whitespace-normal rounded bg-gray-200"},YO={class:"py-2.5 px-2"},GO={class:"mt-1 flex"},XO=ye({__name:"TabBoard",setup(s){const e=sn(),t=F(!1),o=F(""),i=F(null),r=F(!1);$t(()=>e.data.lists,p=>{},{immediate:!0,deep:!0});function a(){t.value=!0,setTimeout(function(){var p;(p=i.value)==null||p.focus()})}function l(){const p=e.data.lists.length-1;setTimeout(function(){ot.create(document.getElementById(`list-${p}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(h){ae.patch(`tasks/${h.item.getAttribute("data-id")}/sort`,{id:h.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:h.oldIndex,newIndex:h.newIndex}).then(({data:_})=>{})},onAdd:function(h){const _=h.item.getAttribute("data-id");ae.patch(`tasks/${_}/move`,{projectId:e.data.id,fromList:h.from.getAttribute("data-id"),toList:h.to.getAttribute("data-id"),oldIndex:h.oldIndex,newIndex:h.newIndex}).then(({data:y})=>{})}})})}function d(){t.value=!1,o.value=""}function u(){o.value&&(r.value=!0,ae.post("projects/"+e.data.id+"/lists",{name:o.value}).then(p=>{t.value=!1,o.value="",e.data.lists.push(p.data),r.value=!1,l()}))}const m=Je("can");return Ye(function(){const p=document.querySelector("#kanban-wrapper");if(p.style.height=window.innerHeight-(64+24+48+16+24)+"px",m("task-list:update")){ot.create(document.getElementById("container"),{draggable:"#section-draggable",onUpdate:function(h){ae.patch(`projects/${e.data.id}/list-sort`,{id:h.item.getAttribute("data-id"),oldIndex:h.oldIndex,newIndex:h.newIndex}).then(({data:_})=>{e.data.lists=_})}});for(let h=0;h<e.data.lists.length;h++)ot.create(document.getElementById(`list-${h}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(_){ae.patch(`tasks/${_.item.getAttribute("data-id")}/sort`,{id:_.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:_.oldIndex,newIndex:_.newIndex}).then(({data:y})=>{})},onAdd:function(_){const y=_.item.getAttribute("data-id");ae.patch(`tasks/${y}/move`,{projectId:e.data.id,fromList:_.from.getAttribute("data-id"),toList:_.to.getAttribute("data-id"),oldIndex:_.oldIndex,newIndex:_.newIndex}).then(({data:x})=>{})}})}}),(p,h)=>(g(),v("div",zO,[n("div",BO,[(g(!0),v(re,null,ve(f(e).data.lists,(_,y)=>(g(),v("section",{id:"section-draggable",key:_.id,"data-id":_.id,class:"box-border inline-block h-full w-72 whitespace-nowrap rounded align-top text-base ltr:mr-4 rtl:ml-4"},[n("div",VO,[C(yP,{id:_.id,name:_.name,index:y},null,8,["id","name","index"]),n("div",{id:"list-"+y,"data-id":_.id,class:"min-h-0 overflow-y-auto px-2"},[(g(!0),v(re,null,ve(_.tasks,x=>(g(),ne(RO,{key:x.id,task:x},null,8,["task"]))),128))],8,HO),C(NO,{"project-id":_.project_id,"list-id":_.id,"list-index":y},null,8,["project-id","list-id","list-index"])])],8,UO))),128)),f(m)("task-list:create")?(g(),v("section",qO,[z(n("div",{class:"flex cursor-pointer items-center rounded border-2 border-dashed border-gray-300 px-2 py-1.5 hover:border-gray-400",onClick:a},[h[1]||(h[1]=n("svg",{class:"h-6 w-6 text-gray-600",viewBox:"0 0 21 21",fill:"currentColor"},[n("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{d:"m5.5 10.5h10"}),n("path",{d:"m10.5 5.5v10"})])],-1)),n("span",WO,c(p.__("Add list")),1)],512),[[zt,!t.value]]),z(n("div",KO,[n("div",YO,[z(n("input",{ref_key:"listinput",ref:i,"onUpdate:modelValue":h[0]||(h[0]=_=>o.value=_),type:"text",placeholder:"Enter list title...",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Ln(u,["enter"])},null,544),[[J,o.value]]),n("div",GO,[C(f(Se),{size:"xs",processing:r.value,onClick:u},{default:q(()=>[K(c(p.__("Add list")),1)]),_:1},8,["processing"]),C(f(Se),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:r.value,onClick:d},{default:q(()=>[K(c(p.__("Cancel")),1)]),_:1},8,["disabled"])])])],512),[[zt,t.value]])])):j("",!0)])]))}}),JO={class:"cursor-pointer text-gray-600 hover:text-gray-700"},QO={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},ZO={class:"py-1",role:"none"},eL=ye({__name:"DetailMenu",props:{projectId:{},isFavorite:{}},setup(s){const e=s,t=F(e.isFavorite);function o(){Ft().add(nu,{id:e.projectId})}function i(){ae.patch("/projects/"+e.projectId+"/favorite").then(({data:a})=>{Ap().flash(a.message),Mh().items=a.favorites.favorites,t.value=a.favorite})}function r(){ae.patch(`projects/${e.projectId}/archive`).then(({data:a})=>{Ap().flash(a.message),window.location.href="/"})}return(a,l)=>(g(),ne(f(Ks),{"close-outside":"",class:"inline-block ltr:ml-auto rtl:mr-auto"},{trigger:q(()=>[n("span",JO,[C(f(cP),{class:"h-4 w-4"})])]),content:q(()=>[n("div",QO,[n("div",ZO,[n("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:i},c(t.value?a.__("Remove favorite"):a.__("Add to favorite")),1),a.can("project:update")?(g(),v("button",{key:0,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:Ke(o,["prevent"])},c(a.__("Edit")),1)):j("",!0),a.can("project:delete")?(g(),v("button",{key:1,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r},c(a.__("Archive")),1)):j("",!0)])])]),_:1}))}}),tL={class:"pb-8"},sL={class:"text-gray-700"},nL={class:"font-semibold text-gray-700 ltr:ml-2 rtl:mr-2"},oL=["href"],iL={class:"rounded-lg border-b border-gray-200 shadow"},rL={class:"min-w-full divide-y divide-gray-200"},aL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},lL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},dL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},cL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},uL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},fL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},mL={class:"divide-y divide-gray-200 bg-white"},hL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},pL=["onClick"],gL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},_L={class:"flex items-center"},vL={class:"ltr:ml-2 rtl:mr-2"},yL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},bL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},xL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},wL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},kL=ye({__name:"TabTimeLogs",setup(s){const e=sn(),t=F(!0),o=F("00:00:00");r();function i(a=null){Ft().add(iu,{id:a,width:"max-w-3xl"})}function r(){ae.get("projects/"+e.data.id+"/total-time").then(({data:a})=>{const l=a,d=new Date(0,0);d.setSeconds(+l),o.value=d.toTimeString().slice(0,8),t.value=!1})}return(a,l)=>(g(),v("div",tL,[n("div",{class:Q(["mt-2 mb-6 flex items-center",{"opacity-50":t.value}])},[n("span",sL,c(a.__("Total logged time"))+":",1),n("span",nL,c(o.value),1),n("a",{href:`/api/projects/${f(e).data.id}/export-time-logs`,class:"inline-flex items-center rounded border border-transparent bg-indigo-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ltr:ml-auto rtl:mr-auto"},c(a.__("Export CSV")),9,oL)],2),C(f(dh),{name:"timelog",uri:`projects/${f(e).data.id}/time-logs`,"no-search":"","no-filters":""},{default:q(({items:d,index:u})=>[n("div",iL,[n("table",rL,[n("thead",null,[n("tr",null,[n("th",aL,c(a.__("Task")),1),n("th",lL,c(a.__("Assignee")),1),n("th",dL,c(a.__("Start")),1),n("th",cL,c(a.__("Stop")),1),n("th",uL,c(a.__("Time")),1),n("th",fL,c(a.__("Description")),1),l[0]||(l[0]=n("th",{class:"px-6 py-3"},"",-1))])]),n("tbody",mL,[(g(!0),v(re,null,ve(d,m=>(g(),v("tr",{key:m.id},[n("td",hL,[n("p",{class:"cursor-pointer hover:text-gray-700",onClick:p=>i(m.task_id)},c(m.task.title),9,pL)]),n("td",gL,[n("div",_L,[C(f(Xt),{class:"h-6 w-6",avatar:m.user.avatar},null,8,["avatar"]),n("span",vL,c(m.user.name),1)])]),n("td",yL,c(m.started_at),1),n("td",bL,c(m.stopped_at),1),n("td",xL,[n("p",null,c(m.time),1),K(" "+c(m.is_manual?"(manual)":""),1)]),n("td",wL,c(m.description||""),1),l[1]||(l[1]=n("td",{class:"px-6 py-3 text-right"},"",-1))]))),128))])]),C(f(ms),{class:"rounded-b-lg",index:u},null,8,["index"])])]),_:1},8,["uri"])]))}}),$L={key:0,class:"mt-8 flex justify-center"},CL={key:1,class:"flex h-full flex-col"},SL={class:"flex items-center pb-4"},ML={class:"flex items-center"},TL={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},AL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},DL={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},EL={class:"flex flex-shrink-0 -space-x-1 ltr:ml-8 rtl:mr-8"},k_=ye({__name:"Detail",setup(s){const e=sn(),t=Ec();Ok((r,a)=>{r.params.id!==a.params.id&&e.fetch(r.params.id)});const o=x6("project-detail")();o.tabs([{component:Sr(XO),label:"Board"},{component:Sr(kL),label:"Time Logs"}]),$t(()=>e.fetching,r=>{!r&&e.data.id}),$t(()=>o.tab,r=>{}),e.fetch(t.params.id);function i(r){Ft().add(iu,{id:parseInt(r)})}if(t.params.taskId){const r=t.params.taskId;i(r)}return(r,a)=>f(e).fetching?(g(),v("div",$L,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",CL,[n("div",SL,[n("div",ML,[n("span",{class:"block h-2.5 w-2.5 rounded-full ltr:mr-3 rtl:ml-3",style:kt({"background-color":f(e).data.meta.color})},null,4),n("h1",TL,c(f(e).data.name),1)]),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-8 rtl:mr-8",{"bg-gray-200 text-gray-800":f(o).active==0}]),onClick:a[0]||(a[0]=l=>f(o).select(0))},[C(f(Uv),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",AL,c(r.__("Board")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-2 rtl:mr-2",{"bg-gray-200 text-gray-800":f(o).active==1}]),onClick:a[1]||(a[1]=l=>f(o).select(1))},[C(f(Ws),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",DL,c(r.__("Time Logs")),1)],2),n("div",EL,[(g(!0),v(re,null,ve(f(e).data.users,l=>(g(),ne(f(Xt),{key:l.id,class:"h-6 w-6 max-w-none rounded-full ring-2 ring-white",avatar:l.avatar,"data-cooltipz-dir":"bottom","aria-label":l.name},null,8,["avatar","aria-label"]))),128))]),C(eL,{"project-id":f(e).data.id||0,"is-favorite":f(e).data.is_favorite},null,8,["project-id","is-favorite"])]),(g(),ne(mo(f(o).tab)))]))}}),PL=[{label:"General",uri:"/settings/general",permission:"setting:general"},{label:"Email",uri:"/settings/email",permission:"setting:email"},{label:"AdSense",uri:"/settings/adsense",permission:"setting:adsense"},{label:"Countries",uri:"/settings/countries",permission:"setting:general"},{label:"User Assignments",uri:"/settings/user-assignments",permission:"setting:general"},{label:"Sidebar Features",uri:"/settings/sidebar-features",permission:"setting:general"},{label:"Labels",uri:"/labels",permission:"label:view"},{label:"Roles & Permissions",uri:"/roles",permission:"role:view"}],jL={class:"topbar flex justify-between"},RL={class:"mb-4 text-2xl font-semibold text-gray-900"},IL={class:"flex"},OL={class:"w-64"},LL={class:"py-1"},FL=["href","onClick"],NL={class:"flex-1 ltr:pl-6 rtl:pr-6"},xi=ye({__name:"SettingsLayout",setup(s){const e=Je("can");return(t,o)=>{const i=fn("router-link");return g(),v(re,null,[n("div",jL,[n("h1",RL,c(t.__("Settings")),1),n("div",null,[Ps(t.$slots,"topbar")])]),n("div",IL,[n("div",OL,[C(f(Lo),{class:"overflow-hidden"},{default:q(()=>[n("nav",LL,[(g(!0),v(re,null,ve(f(PL),r=>(g(),v(re,{key:r.label},[!r.permission||f(e)(r.permission)?(g(),ne(i,{key:0,to:r.uri,custom:""},{default:q(({href:a,navigate:l,isActive:d})=>[n("a",{href:a,class:Q(["block px-4 py-2 text-sm",{"bg-gray-100 font-medium text-gray-900":d,"text-gray-700 hover:bg-gray-100 hover:text-gray-900":!d}]),onClick:l},c(t.__(r.label)),11,FL)]),_:2},1032,["to"])):j("",!0)],64))),128))])]),_:1})]),n("div",NL,[Ps(t.$slots,"default")])])],64)}}}),zL=ye({__name:"Email",setup(s){const e=gs("setting-email")(),t=_o(),o=kl(),i=db();return e.onSuccess(()=>{Wn().success("Settings Saved Successfully!"),location.reload()}),(r,a)=>(g(),ne(xi,null,{default:q(()=>[C(f(zo),{name:"setting-email",uri:"settings/email",title:r.__("Email"),"save-only":""},{default:q(()=>[C(f(o),{name:"mail_driver",label:r.__("Driver"),"input-class":"max-w-xs",inline:""},null,8,["label"]),C(f(t),{name:"mail_host",label:r.__("Host"),inline:""},null,8,["label"]),C(f(t),{name:"mail_port",label:r.__("Port"),inline:""},null,8,["label"]),C(f(t),{name:"mail_username",label:r.__("Username"),inline:""},null,8,["label"]),C(f(t),{name:"mail_password",label:r.__("Password"),inline:""},null,8,["label"]),C(f(o),{name:"mail_encryption",label:r.__("Encryption"),"input-class":"max-w-xs",inline:""},null,8,["label"]),C(f(i),{name:"mail_verify_peer",label:r.__("Verify Peer"),inline:""},null,8,["label"]),C(f(t),{name:"mail_from_address",label:r.__("From Address"),inline:""},null,8,["label"]),C(f(t),{name:"mail_from_name",label:r.__("From Name"),inline:""},null,8,["label"])]),_:1},8,["title"])]),_:1}))}}),BL={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},UL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},VL={class:"sm:col-span-2"},HL={class:"flex"},qL={key:0,class:"mr-2 flex h-[2.125rem] items-center bg-gray-900 px-4"},WL=["src"],KL={class:"cursor-pointer rounded-md border border-gray-300 bg-white py-2 px-3 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},YL=ye({__name:"FieldLogo",setup(s){const e=gs("setting-general")(),t=200,o=32,i=F(null);i.value=e.data.app_logo?`/${e.data.app_logo}`:null;function r(){i.value=null,e.data.app_logo=null}function a(l){if(!l.target.files.length)return;let d=l.target.files[0],u=l.target,m=new FileReader;m.readAsDataURL(d),m.onload=p=>{let h=new Image;h.src=p.target.result,h.onload=function(){if(h.width>t||h.height>o){alert("you can upload max "+t+" x "+o),u.value=null;return}i.value=p.target.result;const _=new FormData;_.append("logo",d),ae.post("logo",_).then(({data:y})=>{e.data.app_logo=y})}}}return(l,d)=>(g(),v("div",BL,[n("label",UL,c(l.__("Logo")),1),n("div",VL,[n("div",HL,[i.value?(g(),v("span",qL,[n("img",{class:"block h-8",src:i.value},null,8,WL)])):j("",!0),n("label",KL,[K(c(l.__("Change"))+" ",1),n("input",{type:"file",class:"hidden",accept:"image/*",name:"logo",onChange:a},null,32)]),i.value?(g(),v("button",{key:1,type:"button",class:"ml-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:r},c(l.__("Remove")),1)):j("",!0)])])]))}}),GL={key:0,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},XL=ye({__name:"General",setup(s){const e=ht,t=gs("setting-general")(),o=_o(),i=kl();return t.onSuccess(()=>location.reload()),(r,a)=>(g(),ne(xi,null,{default:q(()=>[C(f(zo),{name:"setting-general",uri:"settings/general",title:"General","save-only":""},{default:q(()=>[C(f(o),{name:"app_name",label:r.__("App Name"),inline:""},null,8,["label"]),C(f(o),{name:"app_url",label:r.__("App URL"),inline:""},null,8,["label"]),C(f(i),{name:"app_locale",label:r.__("Language"),translatable:"","input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),C(f(i),{name:"app_timezone",label:r.__("Timezone"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),C(f(i),{name:"app_direction",label:r.__("Direction"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),C(YL),f(e).options.is_standalone_demo?(g(),v("div",GL,[...a[0]||(a[0]=[n("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"",-1),n("div",{class:"py-2 text-sm text-red-600 sm:col-span-2"}," Note: Only language and direction will take effect in this demo! ",-1)])])):j("",!0)]),_:1})]),_:1}))}}),JL={class:"space-y-6"},QL={class:"border-t border-gray-200 pt-6"},ZL={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},eF={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},tF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},sF={class:"mt-1 sm:col-span-2 sm:mt-0"},nF={key:0,class:"space-y-3"},oF=["disabled"],iF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},rF={key:1,class:"mr-2 h-5 w-5",viewBox:"0 0 48 48"},aF={class:"text-sm text-gray-500"},lF={key:1,class:"flex items-center space-x-4"},dF={class:"flex items-center space-x-2"},cF={class:"text-sm font-medium text-gray-700"},uF=["disabled"],fF={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},mF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},hF={class:"mt-1 sm:col-span-2 sm:mt-0"},pF=["disabled"],gF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_F={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},vF={key:1,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},yF={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bF={class:"mt-1 sm:col-span-2 sm:mt-0"},xF=["disabled"],wF={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},kF={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$F={key:2,class:"rounded-md bg-green-50 p-4"},CF={class:"flex"},SF={class:"ml-3"},MF={class:"text-sm font-medium text-green-800"},TF={class:"mt-2 text-sm text-green-700"},AF={class:"rounded-md bg-blue-50 p-4"},DF={class:"flex"},EF={class:"ml-3 flex-1"},PF={class:"mt-2 text-sm text-blue-700"},jF={class:"mb-3 font-medium"},RF={class:"list-decimal list-inside space-y-1 ml-2 mb-4"},IF={class:"mb-3 font-medium"},OF={class:"list-decimal list-inside space-y-1 ml-2"},LF=ye({__name:"AdSense",setup(s){const e=gs("setting-adsense")(),t=_o(),o=F(!1),i=F(!1),r=F(!1),a=F(null),l=F(!1),d=F(null),u=async()=>{var _,y;o.value=!0;try{const w=(await tt.get("/api/adsense/auth/url")).data.auth_url;window.location.href=w}catch(x){Wn().error(((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Failed to initiate Google connection"),o.value=!1}},m=async()=>{var _,y;if(confirm("Are you sure you want to disconnect your Google AdSense account?")){i.value=!0;try{await tt.post("/api/adsense/disconnect"),Wn().success("AdSense disconnected successfully"),setTimeout(()=>{location.reload()},1e3)}catch(x){Wn().error(((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Failed to disconnect AdSense"),i.value=!1}}},p=async()=>{var _,y;r.value=!0,a.value=null;try{const x=await tt.get("/api/adsense/test-connection");a.value={success:!0,message:x.data.message||"Connection successful!"},Wn().success("AdSense API connection successful!")}catch(x){a.value={success:!1,message:((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Connection failed. Please check your credentials."},Wn().error(a.value.message)}finally{r.value=!1}},h=async()=>{var _,y;l.value=!0,d.value=null;try{const x=await tt.get("/api/adsense/test-analytics-connection");d.value={success:!0,message:x.data.message||"Analytics connection successful!"},Wn().success("Google Analytics API connection successful!")}catch(x){d.value={success:!1,message:((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Analytics connection failed. Please check your GA4 Property ID and service account permissions."},Wn().error(d.value.message)}finally{l.value=!1}};return e.onSuccess(()=>{Wn().success("AdSense Settings Saved Successfully!"),setTimeout(()=>{location.reload()},1e3)}),(_,y)=>(g(),ne(xi,null,{default:q(()=>[C(f(zo),{name:"setting-adsense",uri:"settings/adsense",title:_.__("AdSense Configuration"),"save-only":""},{default:q(()=>[n("div",JL,[C(f(t),{name:"adsense_client_id",label:_.__("OAuth Client ID"),placeholder:"xxxxx.apps.googleusercontent.com",inline:"",required:""},null,8,["label"]),C(f(t),{name:"adsense_client_secret",label:_.__("OAuth Client Secret"),placeholder:"GOCSPX-xxxxx",type:"password",inline:"",required:""},null,8,["label"]),C(f(t),{name:"adsense_account_id",label:_.__("AdSense Account ID"),placeholder:"pub-XXXXXXXXXXXXXXXX",inline:""},null,8,["label"]),n("div",QL,[n("h3",ZL,c(_.__("Google Analytics Configuration")),1)]),C(f(t),{name:"ga4_property_id",label:_.__("GA4 Property ID"),placeholder:"123456789",inline:"",help:_.__("Find this in Google Analytics Admin > Property Settings")},null,8,["label","help"]),n("div",eF,[n("label",tF,c(_.__("Google Account")),1),n("div",sF,[f(e).data.adsense_configured?(g(),v("div",lF,[n("div",dF,[y[2]||(y[2]=n("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-green-100"},[n("svg",{class:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),n("span",cF,c(_.__("Connected")),1)]),n("button",{type:"button",disabled:i.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",onClick:m},c(i.value?_.__("Disconnecting..."):_.__("Disconnect")),9,uF)])):(g(),v("div",nF,[n("button",{type:"button",disabled:o.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",onClick:u},[o.value?(g(),v("svg",iF,[...y[0]||(y[0]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),v("svg",rF,[...y[1]||(y[1]=[n("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"},null,-1),n("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"},null,-1),n("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"},null,-1),n("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"},null,-1)])])),K(" "+c(o.value?_.__("Connecting..."):_.__("Connect with Google")),1)],8,oF),n("p",aF,c(_.__("Click to authorize TaskHub to access your AdSense data")),1)]))])]),f(e).data.adsense_configured?(g(),v("div",fF,[n("label",mF,c(_.__("Test AdSense Connection")),1),n("div",hF,[n("button",{type:"button",disabled:r.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",onClick:p},[r.value?(g(),v("svg",gF,[...y[3]||(y[3]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),v("svg",_F,[...y[4]||(y[4]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),K(" "+c(r.value?_.__("Testing..."):_.__("Test AdSense API")),1)],8,pF),a.value?(g(),v("p",{key:0,class:Q(["mt-2 text-sm",a.value.success?"text-green-600":"text-red-600"])},c(a.value.message),3)):j("",!0)])])):j("",!0),f(e).data.ga4_property_id?(g(),v("div",vF,[n("label",yF,c(_.__("Test Analytics Connection")),1),n("div",bF,[n("button",{type:"button",disabled:l.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",onClick:h},[l.value?(g(),v("svg",wF,[...y[5]||(y[5]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),v("svg",kF,[...y[6]||(y[6]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h-3a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3m-3-3l-6 6m0 0l6-6m-6 6h6V7"},null,-1)])])),K(" "+c(l.value?_.__("Testing..."):_.__("Test Analytics API")),1)],8,xF),d.value?(g(),v("p",{key:0,class:Q(["mt-2 text-sm",d.value.success?"text-green-600":"text-red-600"])},c(d.value.message),3)):j("",!0)])])):j("",!0),f(e).data.adsense_configured?(g(),v("div",$F,[n("div",CF,[y[7]||(y[7]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),n("div",SF,[n("h3",MF,c(_.__("AdSense is configured")),1),n("div",TF,[n("p",null,c(_.__("Your AdSense integration is active and ready to use.")),1)])])])])):j("",!0),n("div",AF,[n("div",DF,[y[9]||(y[9]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),n("div",EF,[y[8]||(y[8]=n("h3",{class:"text-sm font-medium text-blue-800"},"Setup Instructions",-1)),n("div",PF,[n("p",jF,c(_.__("AdSense Setup:")),1),n("ol",RF,[n("li",null,c(_.__("Create OAuth 2.0 credentials in Google Cloud Console")),1),n("li",null,c(_.__("Add your credentials to the .env file")),1),n("li",null,c(_.__('Click "Connect with Google" to authorize')),1),n("li",null,c(_.__("Enter your AdSense Account ID (e.g., pub-XXXXXXXXXXXXXXXX)")),1)]),n("p",IF,c(_.__("Google Analytics Setup:")),1),n("ol",OF,[n("li",null,c(_.__("Service account credentials are already configured at storage/app/credentials/google-analytics.json")),1),n("li",null,c(_.__("Go to Google Analytics Admin > Property Access Management")),1),n("li",null,c(_.__("Add service account: taskhub-service-account@taskhub-adsense-integration.iam.gserviceaccount.com")),1),n("li",null,c(_.__('Grant "Viewer" role')),1),n("li",null,c(_.__("Enter your GA4 Property ID from Google Analytics Admin > Property Settings")),1)])])])])])])]),_:1},8,["title"])]),_:1}))}}),FF={class:"text-lg font-medium leading-6 text-gray-900"},NF={class:"mt-1 text-sm text-gray-500"},zF={key:1,class:"space-y-6"},BF={key:0,class:"flex items-center justify-between"},UF={class:"text-sm text-gray-700"},VF={class:"font-medium"},HF={class:"font-medium"},qF={class:"font-medium"},WF={class:"flex items-center gap-2"},KF={class:"text-sm text-gray-600"},YF={class:"mb-6 flex items-center justify-between border-b pb-4"},GF={class:"text-lg font-medium text-gray-900"},XF={class:"text-sm text-gray-500"},JF={class:"flex gap-3"},QF=["onClick"],ZF=["onClick"],eN={key:0,class:"space-y-4"},tN={class:"flex items-start justify-between"},sN={class:"flex-1"},nN={class:"flex items-center gap-2"},oN={class:"text-base font-medium text-gray-900"},iN={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},rN={key:0,class:"mt-1 text-xs text-gray-500"},aN={key:0},lN={key:1,class:"mt-3"},dN={class:"space-y-1"},cN=["href"],uN={class:"flex gap-2"},fN=["title","onClick"],mN=["title","onClick"],hN=["title","onClick"],pN={key:1,class:"text-center py-6 text-gray-500"},gN={key:1,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow"},_N={class:"flex flex-1 justify-between sm:hidden"},vN=["disabled"],yN=["disabled"],bN={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},xN={class:"text-sm text-gray-700"},wN={class:"font-medium"},kN={class:"font-medium"},$N={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},CN=["disabled"],SN={class:"sr-only"},MN=["disabled"],TN={class:"sr-only"},AN={class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300"},DN=["disabled"],EN={class:"sr-only"},PN=["disabled"],jN={class:"sr-only"},RN={class:"space-y-4"},IN={class:"block text-sm font-medium text-gray-700 mb-2"},ON={class:"relative mb-3"},LN=["placeholder"],FN={class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},NN={key:0,class:"space-y-2"},zN=["value"],BN={class:"ml-3 text-sm text-gray-900"},UN={class:"ml-2 text-xs text-gray-500"},VN={key:1,class:"text-center py-4 text-gray-500 text-sm"},HN={key:0,class:"mt-2 text-sm text-gray-600"},qN={class:"flex justify-end gap-3"},WN=["disabled"],KN={class:"space-y-4"},YN={key:1},GN={class:"text-sm text-gray-600 mb-3"},XN={key:0,class:"relative mb-3"},JN=["placeholder"],QN={key:1,class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},ZN={key:0,class:"space-y-2"},ez=["value"],tz={class:"ml-3 flex-1"},sz={class:"text-sm font-medium text-gray-900"},nz={key:0,class:"text-xs text-gray-500"},oz={key:1,class:"text-center py-4 text-gray-500 text-sm"},iz={key:2,class:"text-center py-6 text-gray-500"},rz={key:3,class:"mt-2 text-sm text-gray-600"},az={class:"flex justify-end gap-3"},lz=["disabled"],dz={class:"space-y-4"},cz={class:"text-sm text-gray-700 mb-4"},uz={class:"block text-sm font-medium text-gray-700 mb-2"},fz={class:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-3"},mz=["value"],hz={class:"ml-3"},pz={class:"text-sm font-medium text-gray-900"},gz={class:"text-xs text-gray-500"},_z={class:"flex justify-end gap-3 pt-4 border-t"},vz=["disabled"],yz={class:"space-y-4"},bz={class:"text-sm text-gray-600"},xz={class:"grid grid-cols-2 gap-4"},wz={class:"block text-sm font-medium text-gray-700 mb-1"},kz={class:"mt-1 text-xs text-gray-500"},$z={class:"block text-sm font-medium text-gray-700 mb-1"},Cz={class:"mt-1 text-xs text-gray-500"},Sz={class:"block text-sm font-medium text-gray-700 mb-1"},Mz={class:"mt-1 text-xs text-gray-500"},Tz={class:"block text-sm font-medium text-gray-700 mb-1"},Az={class:"mt-1 text-xs text-gray-500"},Dz={class:"block text-sm font-medium text-gray-700 mb-1"},Ez={class:"mt-1 text-xs text-gray-500"},Pz={class:"block text-sm font-medium text-gray-700 mb-1"},jz={class:"mt-1 text-xs text-gray-500"},Rz={class:"flex justify-end gap-3 pt-4 border-t"},Iz=["disabled"],dd=ye({name:"Modal",emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var o,i;return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl"},[Ot("h3",{class:"text-lg font-medium text-gray-900 mb-4"},(o=e.title)==null?void 0:o.call(e)),Ot("div",{},(i=e.default)==null?void 0:i.call(e))])])])}}}),Oz=ye({__name:"Countries",setup(s){const e=Je("__"),t=F(!1),o=F([]),i=F([]),r=F(5),a=F({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),l=F(!1),d=F(null),u=F([]),m=F(!1),p=F(""),h=F(!1),_=F(null),y=F([]),x=F([]),w=F(!1),k=F(!1),b=F(""),M=F(!1),S=F(null),N=F(null),A=F(null),T=F(!1),D=F(!1),L=F(null),I=F(!1),O=F({daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}),P=De(()=>{if(!p.value)return i.value;const Ne=p.value.toLowerCase();return i.value.filter(fe=>fe.name.toLowerCase().includes(Ne)||fe.code.toLowerCase().includes(Ne))}),B=De(()=>{if(!b.value)return y.value;const Ne=b.value.toLowerCase();return y.value.filter(fe=>fe.name.toLowerCase().includes(Ne)||fe.website&&fe.website.toLowerCase().includes(Ne))}),be=De(()=>N.value?o.value.filter(Ne=>Ne.id!==N.value.id):o.value),le=async(Ne=1)=>{t.value=!0;try{const fe=await ae.get("settings/countries",{params:{page:Ne,per_page:r.value}}),he=fe.data.data||fe.data;if(!he||!he.users)throw new Error("Invalid response from server");o.value=he.users||[],i.value=he.countries||[],he.pagination&&(a.value=he.pagination)}catch{alert("Failed to load data. Please check console for details.")}finally{t.value=!1}},de=Ne=>{d.value=Ne,u.value=Ne.countries.map(fe=>fe.country_code),p.value="",l.value=!0},ce=()=>{l.value=!1,d.value=null,u.value=[],p.value=""},me=async()=>{if(u.value.length===0){alert("Please select at least one country");return}m.value=!0;try{const Ne=u.value.map(fe=>{const he=i.value.find(U=>U.code===fe);return{country_code:fe,country_name:(he==null?void 0:he.name)||fe}});await ae.put(`settings/countries/users/${d.value.id}/countries`,{countries:Ne}),alert("Countries assigned successfully! User will receive a notification."),await le(),ce()}catch{alert("Failed to assign countries")}finally{m.value=!1}},Z=async(Ne,fe)=>{d.value=Ne,_.value=fe,x.value=fe.websites.map(he=>he.company_id),b.value="",h.value=!0,w.value=!0;try{const he=await ae.get(`settings/countries/companies/${fe.country_code}`);y.value=he.data.data}catch{alert("Failed to load companies")}finally{w.value=!1}},ie=()=>{h.value=!1,d.value=null,_.value=null,y.value=[],x.value=[],b.value=""},Te=async()=>{k.value=!0;try{const Ne=x.value.map(fe=>{const he=y.value.find(U=>U.id===fe);return{company_id:fe,website_url:(he==null?void 0:he.website)||"",company_name:(he==null?void 0:he.name)||""}});await ae.post(`settings/countries/users/${d.value.id}/countries/${_.value.id}/websites`,{websites:Ne}),alert("Websites assigned successfully!"),await le(),ie()}catch{alert("Failed to assign websites")}finally{k.value=!1}},se=(Ne,fe)=>{N.value=Ne,S.value=fe,A.value=null,M.value=!0},ke=()=>{M.value=!1,N.value=null,S.value=null,A.value=null},Ce=async()=>{if(!(!A.value||!N.value||!S.value)){T.value=!0;try{const Ne=N.value.countries.filter(he=>he.country_code!==S.value.country_code).map(he=>({country_code:he.country_code,country_name:he.country_name}));await ae.put(`settings/countries/users/${N.value.id}/countries`,{countries:Ne});const fe=o.value.find(he=>he.id===A.value);if(fe){const he=[...fe.countries.map(U=>({country_code:U.country_code,country_name:U.country_name})),{country_code:S.value.country_code,country_name:S.value.country_name}];await ae.put(`settings/countries/users/${A.value}/countries`,{countries:he})}alert(`Country "${S.value.country_name}" reassigned successfully!`),await le(),ke()}catch{alert("Failed to reassign country")}finally{T.value=!1}}},ue=async(Ne,fe)=>{if(confirm(`Are you sure you want to unassign "${fe.country_name}" from ${Ne.name}?`))try{const he=Ne.countries.filter(U=>U.country_code!==fe.country_code).map(U=>({country_code:U.country_code,country_name:U.country_name}));await ae.put(`settings/countries/users/${Ne.id}/countries`,{countries:he}),alert("Country unassigned successfully!"),await le()}catch{alert("Failed to unassign country")}},xe=async Ne=>{L.value=Ne,D.value=!0;try{const fe=await ae.get(`settings/countries/users/${Ne.id}/targets`);fe.data.data&&(O.value={...fe.data.data})}catch{}},Ae=()=>{D.value=!1,L.value=null,O.value={daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}},Be=async()=>{if(L.value){I.value=!0;try{await ae.put(`settings/countries/users/${L.value.id}/targets`,O.value),alert("Performance targets updated successfully!"),Ae()}catch{alert("Failed to save performance targets")}finally{I.value=!1}}},nt=Ne=>new Date(Ne).toLocaleDateString();return Ye(()=>{le()}),(Ne,fe)=>(g(),ne(xi,null,{topbar:q(()=>[n("div",null,[n("h3",FF,c(f(e)("Countries & Websites Management")),1),n("p",NF,c(f(e)("Assign countries and websites to users for marketing and AdSense reporting")),1)])]),default:q(()=>[t.value?(g(),ne(f(bt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),v("div",zF,[a.value.total>0?(g(),v("div",BF,[n("p",UF,[K(c(f(e)("Showing"))+" ",1),n("span",VF,c(a.value.from),1),K(" "+c(f(e)("to"))+" ",1),n("span",HF,c(a.value.to),1),K(" "+c(f(e)("of"))+" ",1),n("span",qF,c(a.value.total),1),K(" "+c(f(e)("users")),1)]),n("div",WF,[n("label",KF,c(f(e)("Per page:")),1),z(n("select",{"onUpdate:modelValue":fe[0]||(fe[0]=he=>r.value=he),class:"rounded-md border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:fe[1]||(fe[1]=he=>le(1))},[...fe[19]||(fe[19]=[n("option",{value:5},"5",-1),n("option",{value:10},"10",-1),n("option",{value:25},"25",-1),n("option",{value:50},"50",-1)])],544),[[Me,r.value]])])])):j("",!0),(g(!0),v(re,null,ve(o.value,he=>(g(),v("div",{key:he.id,class:"rounded-lg bg-white p-6 shadow"},[n("div",YF,[n("div",null,[n("h4",GF,c(he.name),1),n("p",XF,c(he.email)+"  "+c(he.role),1)]),n("div",JF,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",onClick:U=>xe(he)},[fe[20]||(fe[20]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),K(" "+c(f(e)("Set Targets")),1)],8,QF),n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:U=>de(he)},[fe[21]||(fe[21]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),K(" "+c(f(e)("Assign Countries")),1)],8,ZF)])]),he.countries.length>0?(g(),v("div",eN,[(g(!0),v(re,null,ve(he.countries,U=>(g(),v("div",{key:U.id,class:"rounded-lg border border-gray-200 p-4"},[n("div",tN,[n("div",sN,[n("div",nN,[n("h5",oN,c(U.country_name),1),n("span",iN,c(U.country_code),1)]),U.assigned_at?(g(),v("p",rN,[K(" Assigned "+c(nt(U.assigned_at))+" ",1),U.assigned_by?(g(),v("span",aN," by "+c(U.assigned_by),1)):j("",!0)])):j("",!0),U.websites.length>0?(g(),v("div",lN,[fe[23]||(fe[23]=n("p",{class:"text-xs font-medium text-gray-700 mb-2"}," Assigned Websites: ",-1)),n("div",dN,[(g(!0),v(re,null,ve(U.websites,Y=>(g(),v("div",{key:Y.id,class:"flex items-center gap-2 text-sm"},[fe[22]||(fe[22]=n("svg",{class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),n("a",{href:Y.website_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},c(Y.company_name),9,cN)]))),128))])])):j("",!0)]),n("div",uN,[n("button",{class:"text-indigo-600 hover:text-indigo-900 text-sm",title:f(e)("Manage Websites"),onClick:Y=>Z(he,U)},[...fe[24]||(fe[24]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)])],8,fN),n("button",{class:"text-blue-600 hover:text-blue-900 text-sm",title:f(e)("Reassign to Another User"),onClick:Y=>se(he,U)},[...fe[25]||(fe[25]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,mN),n("button",{class:"text-red-600 hover:text-red-900 text-sm",title:f(e)("Unassign Country"),onClick:Y=>ue(he,U)},[...fe[26]||(fe[26]=[n("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,hN)])])]))),128))])):(g(),v("div",pN,c(f(e)("No countries assigned yet")),1))]))),128)),a.value.total>0?(g(),v("div",gN,[n("div",_N,[n("button",{disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[2]||(fe[2]=he=>le(a.value.current_page-1))},c(f(e)("Previous")),9,vN),n("button",{disabled:a.value.current_page===a.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[3]||(fe[3]=he=>le(a.value.current_page+1))},c(f(e)("Next")),9,yN)]),n("div",bN,[n("div",null,[n("p",xN,[K(c(f(e)("Page"))+" ",1),n("span",wN,c(a.value.current_page),1),K(" "+c(f(e)("of"))+" ",1),n("span",kN,c(a.value.last_page),1)])]),n("div",null,[n("nav",$N,[n("button",{disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[4]||(fe[4]=he=>le(1))},[n("span",SN,c(f(e)("First")),1),fe[27]||(fe[27]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M15.79 14.77a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L11.832 10l3.938 3.71a.75.75 0 01.02 1.06zm-6 0a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L5.832 10l3.938 3.71a.75.75 0 01.02 1.06z","clip-rule":"evenodd"})],-1))],8,CN),n("button",{disabled:a.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[5]||(fe[5]=he=>le(a.value.current_page-1))},[n("span",TN,c(f(e)("Previous")),1),fe[28]||(fe[28]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1))],8,MN),n("span",AN,c(a.value.current_page),1),n("button",{disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[6]||(fe[6]=he=>le(a.value.current_page+1))},[n("span",EN,c(f(e)("Next")),1),fe[29]||(fe[29]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))],8,DN),n("button",{disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",onClick:fe[7]||(fe[7]=he=>le(a.value.last_page))},[n("span",jN,c(f(e)("Last")),1),fe[30]||(fe[30]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M4.21 5.23a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L8.168 10 4.23 6.29a.75.75 0 01-.02-1.06zm6 0a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L14.168 10l-3.938-3.71a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1))],8,PN)])])])])):j("",!0)])),l.value?(g(),ne(f(dd),{key:2,onClose:ce},{title:q(()=>{var he;return[K(c(f(e)("Assign Countries to"))+" "+c((he=d.value)==null?void 0:he.name),1)]}),default:q(()=>[n("div",RN,[n("div",null,[n("label",IN,c(f(e)("Select Countries")),1),n("div",ON,[fe[31]||(fe[31]=n("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(n("input",{"onUpdate:modelValue":fe[8]||(fe[8]=he=>p.value=he),type:"text",placeholder:f(e)("Search countries..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,LN),[[J,p.value]])]),n("div",FN,[P.value.length>0?(g(),v("div",NN,[(g(!0),v(re,null,ve(P.value,he=>(g(),v("label",{key:he.code,class:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(n("input",{"onUpdate:modelValue":fe[9]||(fe[9]=U=>u.value=U),value:he.code,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,8,zN),[[os,u.value]]),n("span",BN,c(he.name),1),n("span",UN,"("+c(he.code)+")",1)]))),128))])):(g(),v("div",VN,c(f(e)("No countries found matching your search")),1))]),u.value.length>0?(g(),v("p",HN,c(u.value.length)+" "+c(u.value.length===1?f(e)("country"):f(e)("countries"))+" selected ",1)):j("",!0)]),n("div",qN,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ce},c(f(e)("Cancel")),1),n("button",{disabled:m.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",onClick:me},c(m.value?f(e)("Saving..."):f(e)("Save")),9,WN)])])]),_:1})):j("",!0),h.value?(g(),ne(f(dd),{key:3,onClose:ie},{title:q(()=>{var he;return[K(c(f(e)("Manage Websites for"))+" "+c((he=_.value)==null?void 0:he.country_name),1)]}),default:q(()=>{var he;return[n("div",KN,[w.value?(g(),ne(f(bt),{key:0,size:"30",color:"#5850ec",class:"mx-auto"})):(g(),v("div",YN,[n("p",GN,c(f(e)("Select websites/companies from"))+" "+c((he=_.value)==null?void 0:he.country_name),1),y.value.length>0?(g(),v("div",XN,[fe[32]||(fe[32]=n("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(n("input",{"onUpdate:modelValue":fe[10]||(fe[10]=U=>b.value=U),type:"text",placeholder:f(e)("Search companies..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,JN),[[J,b.value]])])):j("",!0),y.value.length>0?(g(),v("div",QN,[B.value.length>0?(g(),v("div",ZN,[(g(!0),v(re,null,ve(B.value,U=>(g(),v("label",{key:U.id,class:"flex items-start p-2 hover:bg-gray-50 rounded cursor-pointer"},[z(n("input",{"onUpdate:modelValue":fe[11]||(fe[11]=Y=>x.value=Y),value:U.id,type:"checkbox",class:"h-4 w-4 mt-0.5 rounded border-gray-300 text-indigo-600"},null,8,ez),[[os,x.value]]),n("div",tz,[n("div",sz,c(U.name),1),U.website?(g(),v("div",nz,c(U.website),1)):j("",!0)])]))),128))])):(g(),v("div",oz,c(f(e)("No companies found matching your search")),1))])):(g(),v("div",iz,c(f(e)("No companies found with websites for this country")),1)),x.value.length>0?(g(),v("p",rz,c(x.value.length)+" "+c(x.value.length===1?f(e)("company"):f(e)("companies"))+" selected ",1)):j("",!0)])),n("div",az,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ie},c(f(e)("Cancel")),1),n("button",{disabled:k.value||w.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",onClick:Te},c(k.value?f(e)("Saving..."):f(e)("Save")),9,lz)])])]}),_:1})):j("",!0),M.value?(g(),ne(f(dd),{key:4,onClose:ke},{title:q(()=>[K(c(f(e)("Reassign Country to Another User")),1)]),default:q(()=>{var he,U;return[n("div",dz,[n("div",null,[n("p",cz,[K(c(f(e)("Reassigning"))+": ",1),n("strong",null,c((he=S.value)==null?void 0:he.country_name),1),K(" "+c(f(e)("from"))+" ",1),n("strong",null,c((U=N.value)==null?void 0:U.name),1)]),n("label",uz,c(f(e)("Select New User")),1),n("div",fz,[(g(!0),v(re,null,ve(be.value,Y=>(g(),v("label",{key:Y.id,class:"flex items-center p-3 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-indigo-200"},[z(n("input",{"onUpdate:modelValue":fe[12]||(fe[12]=X=>A.value=X),value:Y.id,type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600"},null,8,mz),[[On,A.value]]),n("div",hz,[n("div",pz,c(Y.name),1),n("div",gz,c(Y.email)+"  "+c(Y.role),1)])]))),128))])]),n("div",_z,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ke},c(f(e)("Cancel")),1),n("button",{disabled:!A.value||T.value,type:"button",class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",onClick:Ce},c(T.value?f(e)("Reassigning..."):f(e)("Reassign Country")),9,vz)])])]}),_:1})):j("",!0),D.value?(g(),ne(f(dd),{key:5,onClose:Ae},{title:q(()=>{var he;return[K(c(f(e)("Set Performance Targets for"))+" "+c((he=L.value)==null?void 0:he.name),1)]}),default:q(()=>[n("div",yz,[n("p",bz,c(f(e)("Set daily performance targets to help users focus their marketing efforts on the most profitable countries.")),1),n("div",xz,[n("div",null,[n("label",wz,c(f(e)("Daily Impressions Target")),1),z(n("input",{"onUpdate:modelValue":fe[13]||(fe[13]=he=>O.value.daily_impressions_target=he),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"2000"},null,512),[[J,O.value.daily_impressions_target,void 0,{number:!0}]]),n("p",kz,c(f(e)("Total ad impressions per day")),1)]),n("div",null,[n("label",$z,c(f(e)("Daily Page Views Target")),1),z(n("input",{"onUpdate:modelValue":fe[14]||(fe[14]=he=>O.value.daily_page_views_target=he),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1500"},null,512),[[J,O.value.daily_page_views_target,void 0,{number:!0}]]),n("p",Cz,c(f(e)("Total page views per day")),1)]),n("div",null,[n("label",Sz,c(f(e)("Daily Clicks Target")),1),z(n("input",{"onUpdate:modelValue":fe[15]||(fe[15]=he=>O.value.daily_clicks_target=he),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20"},null,512),[[J,O.value.daily_clicks_target,void 0,{number:!0}]]),n("p",Mz,c(f(e)("Minimum ad clicks per day")),1)]),n("div",null,[n("label",Tz,c(f(e)("Minimum CPC Target ($)")),1),z(n("input",{"onUpdate:modelValue":fe[16]||(fe[16]=he=>O.value.min_cpc_target=he),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.10"},null,512),[[J,O.value.min_cpc_target,void 0,{number:!0}]]),n("p",Az,c(f(e)("Minimum cost per click")),1)]),n("div",null,[n("label",Dz,c(f(e)("Minimum RPM Target ($)")),1),z(n("input",{"onUpdate:modelValue":fe[17]||(fe[17]=he=>O.value.min_rpm_target=he),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1.00"},null,512),[[J,O.value.min_rpm_target,void 0,{number:!0}]]),n("p",Ez,c(f(e)("Minimum revenue per thousand")),1)]),n("div",null,[n("label",Pz,c(f(e)("Daily Earnings Target ($)")),1),z(n("input",{"onUpdate:modelValue":fe[18]||(fe[18]=he=>O.value.daily_earnings_target=he),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20.00"},null,512),[[J,O.value.daily_earnings_target,void 0,{number:!0}]]),n("p",jz,c(f(e)("Total daily earnings target")),1)])]),n("div",Rz,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:Ae},c(f(e)("Cancel")),1),n("button",{disabled:I.value,type:"button",class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:Be},c(I.value?f(e)("Saving..."):f(e)("Save Targets")),9,Iz)])])]),_:1})):j("",!0)]),_:1}))}}),Lz={class:"text-lg font-medium leading-6 text-gray-900"},Fz={class:"mt-1 text-sm text-gray-500"},Nz={key:1,class:"space-y-6"},zz={key:0,class:"rounded-lg bg-white p-6 shadow"},Bz={class:"text-lg font-medium text-gray-900 mb-4"},Uz={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vz={class:"border-l-4 border-blue-500 pl-4"},Hz={class:"text-2xl font-bold text-gray-900"},qz={class:"text-xs text-gray-500"},Wz={class:"border-l-4 border-green-500 pl-4"},Kz={class:"text-2xl font-bold text-gray-900"},Yz={class:"text-xs text-gray-500"},Gz={class:"mb-6 flex items-center justify-between border-b pb-4"},Xz={class:"text-lg font-medium text-gray-900"},Jz={class:"text-sm text-gray-500"},Qz={class:"mt-2 flex gap-2"},Zz={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},eB={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},tB={class:"flex gap-3"},sB=["onClick"],nB=["onClick"],oB=["onClick"],iB={class:"p-6"},rB={class:"text-lg font-medium text-gray-900 mb-4"},aB={class:"text-sm text-gray-600 mb-6"},lB={class:"space-y-4"},dB={class:"flex items-start"},cB={class:"flex items-center h-5"},uB={class:"ml-3"},fB={class:"font-medium text-gray-700"},mB={class:"text-sm text-gray-500"},hB={class:"flex items-start"},pB={class:"flex items-center h-5"},gB={class:"ml-3"},_B={class:"font-medium text-gray-700"},vB={class:"text-sm text-gray-500"},yB={key:0,class:"flex items-start pl-7"},bB={class:"flex items-center h-5"},xB={class:"ml-3"},wB={class:"text-sm font-medium text-gray-700"},kB={class:"text-xs text-gray-500"},$B={key:1,class:"flex items-start pl-7"},CB={class:"flex items-center h-5"},SB={class:"ml-3"},MB={class:"text-sm font-medium text-gray-700"},TB={class:"text-xs text-gray-500"},AB={class:"mt-6 flex justify-end gap-3"},DB={class:"p-6"},EB={class:"text-lg font-medium text-gray-900 mb-4"},PB={class:"mb-4 flex gap-2"},jB={class:"mb-4"},RB={class:"max-h-96 overflow-y-auto border rounded-md"},IB={key:1,class:"p-8 text-center text-gray-500"},OB={key:2,class:"divide-y"},LB={class:"font-medium text-gray-900"},FB={class:"text-sm text-gray-500"},NB={class:"text-xs text-gray-400"},zB=["onClick"],BB={key:1,class:"text-sm"},UB={class:"text-gray-500"},VB={class:"font-medium text-gray-900"},HB={key:0,class:"mt-4 flex justify-between items-center"},qB=["disabled"],WB={class:"text-sm text-gray-600"},KB=["disabled"],YB={class:"mt-6 flex justify-end"},GB={class:"p-6"},XB={class:"text-lg font-medium text-gray-900 mb-4"},JB={key:1,class:"p-8 text-center text-gray-500"},QB={key:2,class:"space-y-4 max-h-96 overflow-y-auto"},ZB={class:"flex items-start justify-between"},eU={class:"flex-1"},tU={class:"flex items-center gap-2"},sU={class:"text-base font-medium text-gray-900"},nU={key:0,class:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},oU={class:"mt-1 text-sm text-gray-600"},iU={class:"mt-1 text-xs text-gray-500"},rU={key:0},aU={key:0,class:"text-xs text-gray-500"},lU={key:1,class:"mt-2 rounded bg-yellow-50 p-2"},dU={class:"text-xs text-gray-700"},cU={class:"flex flex-col gap-2"},uU=["href"],fU=["onClick"],mU=["onClick"],hU={class:"mt-6 flex justify-end"},pU={class:"p-6"},gU={class:"text-lg font-medium text-gray-900 mb-4"},_U={class:"space-y-4"},vU={class:"block text-sm font-medium text-gray-700 mb-2"},yU={class:"flex items-center"},bU={class:"ml-2 text-sm text-gray-700"},xU={class:"mt-6 flex justify-end gap-3"},cd=ye({name:"Modal",props:{open:Boolean,size:{type:String,default:"lg"}},emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var i;if(!s.open)return null;const o=s.size==="xl"?"max-w-4xl":"max-w-2xl";return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:`relative w-full ${o} rounded-lg bg-white shadow-xl`},[(i=e.default)==null?void 0:i.call(e)])])])}}}),wU=ye({__name:"UserAssignments",setup(s){const e=Je("__"),t=F(!0),o=F([]),i=F(null),r=F(!1),a=F(null),l=F({works_with_job_seekers:!1,works_with_employers:!1,enable_auto_assign_job_seekers:!1,enable_auto_assign_employers:!1}),d=F(!1),u=F("job_seekers"),m=F([]),p=F(!1),h=F(""),_=F({current_page:1,last_page:1,per_page:20,total:0}),y=F(!1),x=F([]),w=F(!1),k=F(!1),b=F(null),M=F({notes:"",contacted:!1});let S=null;Ye(async()=>{await N()});const N=async()=>{t.value=!0;try{const Z=await ae.get("settings/user-assignments/"),ie=await ae.get("settings/user-assignments/statistics");o.value=Z.data.data,i.value=ie.data.data}catch{alert("Failed to load user assignments.")}finally{t.value=!1}},A=Z=>{var ie,Te,se,ke;a.value=Z,l.value={works_with_job_seekers:((ie=Z.focus)==null?void 0:ie.works_with_job_seekers)||!1,works_with_employers:((Te=Z.focus)==null?void 0:Te.works_with_employers)||!1,enable_auto_assign_job_seekers:((se=Z.focus)==null?void 0:se.enable_auto_assign_job_seekers)||!1,enable_auto_assign_employers:((ke=Z.focus)==null?void 0:ke.enable_auto_assign_employers)||!1},r.value=!0},T=async()=>{try{await ae.put(`settings/user-assignments/users/${a.value.id}/focus`,l.value),alert("User focus updated successfully!"),r.value=!1,await N()}catch{alert("Failed to save user focus")}},D=async Z=>{a.value=Z,u.value="job_seekers",h.value="",_.value.current_page=1,d.value=!0,await L()},L=async()=>{p.value=!0;try{const Z=await ae.get("settings/user-assignments/available-users",{params:{type:u.value,page:_.value.current_page,per_page:_.value.per_page,search:h.value}});m.value=Z.data.data,_.value=Z.data.meta}catch{alert("Failed to load available users")}finally{p.value=!1}},I=()=>{S&&clearTimeout(S),S=setTimeout(()=>{_.value.current_page=1,L()},500)},O=async Z=>{var ie,Te;try{await ae.post("settings/user-assignments/assign",{taskhub_user_id:a.value.id,v11_user_id:Z.id,v11_user_type:Z.user_type}),alert("User assigned successfully!"),await L(),await N()}catch(se){alert(((Te=(ie=se.response)==null?void 0:ie.data)==null?void 0:Te.message)||"Failed to assign user")}},P=async Z=>{a.value=Z,y.value=!0,w.value=!0;try{const ie=await ae.get(`settings/user-assignments/users/${Z.id}/assignments`);x.value=ie.data.data}catch{alert("Failed to load user assignments")}finally{w.value=!1}},B=async Z=>{if(confirm("Are you sure you want to unassign this user?"))try{await ae.delete(`settings/user-assignments/assignments/${Z.id}`),alert("User unassigned successfully!"),await P(a.value),await N()}catch{alert("Failed to unassign user")}},be=Z=>{b.value=Z,M.value={notes:Z.notes||"",contacted:!1},k.value=!0},le=async()=>{try{await ae.put(`settings/user-assignments/assignments/${b.value.id}/notes`,M.value),alert("Notes saved successfully!"),k.value=!1,await P(a.value)}catch{alert("Failed to save notes")}},de=()=>{_.value.current_page>1&&(_.value.current_page--,L())},ce=()=>{_.value.current_page<_.value.last_page&&(_.value.current_page++,L())},me=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return $t(u,()=>{_.value.current_page=1,L()}),(Z,ie)=>(g(),ne(xi,null,{topbar:q(()=>[n("div",null,[n("h3",Lz,c(f(e)("User Assignment Management")),1),n("p",Fz,c(f(e)("Assign job seekers and employers from V11 database to TaskHub users")),1)])]),default:q(()=>{var Te,se,ke,Ce,ue,xe,Ae,Be,nt,Ne,fe,he;return[t.value?(g(),ne(f(bt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(g(),v("div",Nz,[i.value?(g(),v("div",zz,[n("h4",Bz,c(f(e)("Assignment Statistics")),1),n("div",Uz,[n("div",Vz,[ie[17]||(ie[17]=n("p",{class:"text-sm text-gray-600"},"Job Seekers",-1)),n("p",Hz,c(((se=(Te=i.value)==null?void 0:Te.job_seekers)==null?void 0:se.assigned)||0)+" / "+c(((Ce=(ke=i.value)==null?void 0:ke.job_seekers)==null?void 0:Ce.total)||0),1),n("p",qz,c(((xe=(ue=i.value)==null?void 0:ue.job_seekers)==null?void 0:xe.unassigned)||0)+" unassigned ",1)]),n("div",Wz,[ie[18]||(ie[18]=n("p",{class:"text-sm text-gray-600"},"Employers",-1)),n("p",Kz,c(((Be=(Ae=i.value)==null?void 0:Ae.employers)==null?void 0:Be.assigned)||0)+" / "+c(((Ne=(nt=i.value)==null?void 0:nt.employers)==null?void 0:Ne.total)||0),1),n("p",Yz,c(((he=(fe=i.value)==null?void 0:fe.employers)==null?void 0:he.unassigned)||0)+" unassigned ",1)])])])):j("",!0),(g(!0),v(re,null,ve(o.value||[],U=>{var Y,X;return g(),v("div",{key:U.id,class:"rounded-lg bg-white p-6 shadow"},[n("div",Gz,[n("div",null,[n("h4",Xz,c(U.name),1),n("p",Jz,c(U.email)+"  "+c(U.role),1),n("div",Qz,[(Y=U.focus)!=null&&Y.works_with_job_seekers?(g(),v("span",Zz," Job Seekers: "+c(U.job_seekers_count),1)):j("",!0),(X=U.focus)!=null&&X.works_with_employers?(g(),v("span",eB," Employers: "+c(U.employers_count),1)):j("",!0)])]),n("div",tB,[n("button",{type:"button",class:"inline-flex items-center rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",onClick:ee=>A(U)},[ie[19]||(ie[19]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),K(" "+c(f(e)("Configure Focus")),1)],8,sB),n("button",{type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:ee=>D(U)},[ie[20]||(ie[20]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),K(" "+c(f(e)("Assign Users")),1)],8,nB),n("button",{type:"button",class:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700",onClick:ee=>P(U)},[ie[21]||(ie[21]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),K(" "+c(f(e)("View Assignments")),1)],8,oB)])])])}),128))])),C(f(cd),{open:r.value,onClose:ie[5]||(ie[5]=U=>r.value=!1)},{default:q(()=>[n("div",iB,[n("h3",rB,c(f(e)("Configure User Focus")),1),n("p",aB,c(f(e)("Select which types of users this person will work with")),1),n("div",lB,[n("div",dB,[n("div",cB,[z(n("input",{"onUpdate:modelValue":ie[0]||(ie[0]=U=>l.value.works_with_job_seekers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,l.value.works_with_job_seekers]])]),n("div",uB,[n("label",fB,c(f(e)("Works with Job Seekers")),1),n("p",mB,c(f(e)("This user will be able to work with job seekers")),1)])]),n("div",hB,[n("div",pB,[z(n("input",{"onUpdate:modelValue":ie[1]||(ie[1]=U=>l.value.works_with_employers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,l.value.works_with_employers]])]),n("div",gB,[n("label",_B,c(f(e)("Works with Employers")),1),n("p",vB,c(f(e)("This user will be able to work with employers")),1)])]),l.value.works_with_job_seekers?(g(),v("div",yB,[n("div",bB,[z(n("input",{"onUpdate:modelValue":ie[2]||(ie[2]=U=>l.value.enable_auto_assign_job_seekers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[os,l.value.enable_auto_assign_job_seekers]])]),n("div",xB,[n("label",wB,c(f(e)("Enable Auto-Assignment")),1),n("p",kB,c(f(e)("Automatically assign new job seekers to this user")),1)])])):j("",!0),l.value.works_with_employers?(g(),v("div",$B,[n("div",CB,[z(n("input",{"onUpdate:modelValue":ie[3]||(ie[3]=U=>l.value.enable_auto_assign_employers=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"},null,512),[[os,l.value.enable_auto_assign_employers]])]),n("div",SB,[n("label",MB,c(f(e)("Enable Auto-Assignment")),1),n("p",TB,c(f(e)("Automatically assign new employers to this user")),1)])])):j("",!0)]),n("div",AB,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ie[4]||(ie[4]=U=>r.value=!1)},c(f(e)("Cancel")),1),n("button",{type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:T},c(f(e)("Save Focus")),1)])])]),_:1},8,["open"]),C(f(cd),{open:d.value,size:"xl",onClose:ie[10]||(ie[10]=U=>d.value=!1)},{default:q(()=>{var U;return[n("div",DB,[n("h3",EB,c(f(e)("Assign Users to"))+" "+c((U=a.value)==null?void 0:U.name),1),n("div",PB,[n("button",{class:Q(["flex-1 rounded-md px-4 py-2 text-sm font-medium",u.value==="job_seekers"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:ie[6]||(ie[6]=Y=>u.value="job_seekers")},c(f(e)("Job Seekers")),3),n("button",{class:Q(["flex-1 rounded-md px-4 py-2 text-sm font-medium",u.value==="employers"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:ie[7]||(ie[7]=Y=>u.value="employers")},c(f(e)("Employers")),3)]),n("div",jB,[z(n("input",{"onUpdate:modelValue":ie[8]||(ie[8]=Y=>h.value=Y),type:"text",placeholder:"Search by name or email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:I},null,544),[[J,h.value]])]),n("div",RB,[p.value?(g(),ne(f(bt),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):m.value.length===0?(g(),v("div",IB,c(f(e)("No available users found")),1)):(g(),v("div",OB,[(g(!0),v(re,null,ve(m.value,Y=>(g(),v("div",{key:Y.id,class:"p-4 hover:bg-gray-50 flex items-center justify-between"},[n("div",null,[n("p",LB,c(Y.name),1),n("p",FB,c(Y.email),1),n("p",NB,c(f(e)("Registered"))+": "+c(me(Y.created_at)),1)]),n("div",null,[Y.is_assigned?(g(),v("div",BB,[n("span",UB,c(f(e)("Assigned to"))+":",1),n("span",VB,c(Y.assigned_to.name),1)])):(g(),v("button",{key:0,type:"button",class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",onClick:X=>O(Y)},c(f(e)("Assign")),9,zB))])]))),128))]))]),_.value.last_page>1?(g(),v("div",HB,[n("button",{disabled:_.value.current_page===1,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50",onClick:de},c(f(e)("Previous")),9,qB),n("span",WB,c(f(e)("Page"))+" "+c(_.value.current_page)+" "+c(f(e)("of"))+" "+c(_.value.last_page),1),n("button",{disabled:_.value.current_page===_.value.last_page,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50",onClick:ce},c(f(e)("Next")),9,KB)])):j("",!0),n("div",YB,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ie[9]||(ie[9]=Y=>d.value=!1)},c(f(e)("Close")),1)])])]}),_:1},8,["open"]),C(f(cd),{open:y.value,size:"xl",onClose:ie[12]||(ie[12]=U=>y.value=!1)},{default:q(()=>{var U;return[n("div",GB,[n("h3",XB,c(f(e)("Assignments for"))+" "+c((U=a.value)==null?void 0:U.name),1),w.value?(g(),ne(f(bt),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):x.value.length===0?(g(),v("div",JB,c(f(e)("No assignments yet")),1)):(g(),v("div",QB,[(g(!0),v(re,null,ve(x.value,Y=>{var X;return g(),v("div",{key:Y.id,class:"rounded-lg border border-gray-200 p-4"},[n("div",ZB,[n("div",eU,[n("div",tU,[n("h5",sU,c(Y.v11_user_name),1),n("span",{class:Q(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",Y.v11_user_type===2?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},c(Y.user_type_name),3),Y.auto_assigned?(g(),v("span",nU,c(f(e)("Auto-assigned")),1)):j("",!0)]),n("p",oU,c(Y.v11_user_email),1),n("p",iU,[K(c(f(e)("Assigned"))+": "+c(me(Y.assigned_at))+" ",1),Y.assigned_by?(g(),v("span",rU,"  "+c(f(e)("By"))+": "+c(Y.assigned_by),1)):j("",!0)]),Y.last_contacted_at?(g(),v("p",aU,c(f(e)("Last contacted"))+": "+c(me(Y.last_contacted_at)),1)):j("",!0),Y.notes?(g(),v("div",lU,[n("p",dU,c(Y.notes),1)])):j("",!0)]),n("div",cU,[Y.task_id?(g(),v("a",{key:0,href:`/projects/${(X=Y.task)==null?void 0:X.project_id}/tasks/${Y.task_id}`,class:"rounded-md bg-indigo-100 px-3 py-1.5 text-sm font-medium text-indigo-700 hover:bg-indigo-200 text-center"},c(f(e)("View Task")),9,uU)):j("",!0),n("button",{type:"button",class:"rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-200",onClick:ee=>be(Y)},c(f(e)("Add Note")),9,fU),n("button",{type:"button",class:"rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-200",onClick:ee=>B(Y)},c(f(e)("Unassign")),9,mU)])])])}),128))])),n("div",hU,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ie[11]||(ie[11]=Y=>y.value=!1)},c(f(e)("Close")),1)])])]}),_:1},8,["open"]),C(f(cd),{open:k.value,onClose:ie[16]||(ie[16]=U=>k.value=!1)},{default:q(()=>[n("div",pU,[n("h3",gU,c(f(e)("Add Contact Note")),1),n("div",_U,[n("div",null,[n("label",vU,c(f(e)("Notes")),1),z(n("textarea",{"onUpdate:modelValue":ie[13]||(ie[13]=U=>M.value.notes=U),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add notes about your contact with this user..."},null,512),[[J,M.value.notes]])]),n("div",yU,[z(n("input",{"onUpdate:modelValue":ie[14]||(ie[14]=U=>M.value.contacted=U),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,M.value.contacted]]),n("label",bU,c(f(e)("Mark as contacted today")),1)])]),n("div",xU,[n("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:ie[15]||(ie[15]=U=>k.value=!1)},c(f(e)("Cancel")),1),n("button",{type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:le},c(f(e)("Save Note")),1)])])]),_:1},8,["open"])]}),_:1}))}}),kU={class:"border-b border-gray-200 pb-4"},$U={class:"text-lg font-medium text-gray-900"},CU={class:"mt-1 text-sm text-gray-500"},SU={key:0,class:"flex justify-center py-8"},MU={key:1,class:"mt-4"},TU={class:"space-y-4"},AU={class:"text-sm font-medium text-gray-900"},DU={key:0,class:"ml-2 text-xs text-gray-500"},EU=["aria-checked","onClick"],PU={class:"mt-6 flex justify-end"},jU=ye({__name:"SidebarFeatures",setup(s){const e=Je("__"),t=F([]),o=F(!0),i=F(!1);Ye(async()=>{await r()});async function r(){try{const d=await ae.get("settings/sidebar-features");t.value=d.data.features}catch{}finally{o.value=!1}}function a(d){d.enabled=!d.enabled}async function l(){i.value=!0;try{const d=t.value.filter(u=>!u.enabled).map(u=>u.key);await ae.post("settings/sidebar-features",{disabled_features:d}),alert("Sidebar features saved successfully! Please refresh the page to see changes.")}catch{alert("Failed to save sidebar features.")}finally{i.value=!1}}return(d,u)=>(g(),ne(xi,null,{default:q(()=>[C(f(Lo),null,{default:q(()=>[n("div",kU,[n("h3",$U,c(f(e)("Sidebar Features")),1),n("p",CU,c(f(e)("Enable or disable sidebar menu items. Disabled items will not appear in the navigation.")),1)]),o.value?(g(),v("div",SU,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",MU,[n("div",TU,[(g(!0),v(re,null,ve(t.value,m=>(g(),v("div",{key:m.key,class:"flex items-center justify-between rounded-lg border border-gray-200 px-4 py-3"},[n("div",null,[n("span",AU,c(m.label),1),m.uri?(g(),v("span",DU,c(m.uri),1)):j("",!0)]),n("button",{type:"button",class:Q([m.enabled?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"]),role:"switch","aria-checked":m.enabled,onClick:p=>a(m)},[n("span",{class:Q([m.enabled?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],10,EU)]))),128))]),n("div",PU,[C(f(Se),{loading:i.value,onClick:l},{default:q(()=>[K(c(f(e)("Save Changes")),1)]),_:1},8,["loading"])])]))]),_:1})]),_:1}))}}),RU={class:"space-y-6 p-6"},IU={key:0},OU={class:"mt-4"},LU={key:1,class:"space-y-3"},FU={class:"text-sm font-medium text-gray-700"},NU={class:"w-full bg-gray-200 rounded-full h-2.5"},zU={class:"text-sm text-gray-500"},BU={key:2,class:"space-y-3"},UU={class:"text-sm font-medium text-gray-700"},VU={class:"text-sm text-gray-500"},HU={key:0,class:"border border-gray-200 rounded-lg p-6 space-y-4"},qU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},WU={class:"flex items-start"},KU={class:"flex items-center h-5"},YU={key:0},GU={class:"flex items-start"},XU={class:"flex items-center h-5"},JU={class:"flex items-start"},QU={class:"flex items-center h-5"},ZU={class:"flex items-start"},eV={class:"flex items-center h-5"},tV={class:"space-y-2"},sV={class:"block text-sm font-medium text-gray-700"},nV={class:"space-y-2"},oV={class:"space-y-2"},iV={class:"space-y-2"},rV={key:0,class:"bg-gray-50 rounded-lg p-4"},aV={class:"grid grid-cols-2 gap-4 text-sm"},lV={class:"font-medium"},dV={class:"font-medium"},cV={class:"font-medium"},uV={class:"flex space-x-3"},fV=["disabled"],mV=["disabled"],hV={key:1,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-6"},pV={class:"flex items-center"},gV={class:"font-medium text-yellow-800"},_V={key:2,class:"border border-green-200 bg-green-50 rounded-lg p-6 space-y-4"},vV={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},yV={class:"font-medium"},bV={class:"font-medium"},xV={class:"font-medium text-green-600"},wV={class:"flex space-x-3"},kV=["href"],$V={key:3,class:"border border-red-200 bg-red-50 rounded-lg p-6"},CV={class:"flex items-center"},SV={class:"text-sm text-red-600"},MV={key:4,class:"space-y-4"},TV={class:"space-y-2"},AV={class:"font-medium text-gray-900"},DV={class:"text-sm text-gray-500"},EV={key:0,class:"text-green-600"},PV={class:"flex items-center space-x-2"},jV=["onClick"],RV=["onClick"],IV=ye({__name:"VideoEnhancer",setup(s){const e=Wn(),t=F([]),o=F(null),i=F(null),r=F(!1),a=F(0),l=F(!1),d=F(!1),u=F(!1),m=F(null),p=F(null),h=F({upscale:!1,upscale_resolution:"1920:1080",enhance_quality:!1,noise_reduction:!0,normalize_audio:!0,compression_level:23,preset:"medium",format:"mp4",target_size:null});Ye(()=>{_()}),qs(()=>{p.value&&clearInterval(p.value)});const _=()=>{tt.get("/api/video-enhancer").then(L=>{t.value=L.data.data;const I=t.value.find(O=>O.status==="pending"||O.status==="processing");I&&(o.value=I,I.status==="processing"&&S())}).catch(()=>{e.error("Failed to load videos")})},y=L=>{var O;l.value=!1;const I=(O=L.dataTransfer)==null?void 0:O.files;I&&I.length>0&&(i.value=I[0])},x=L=>{const I=L.target;I.files&&I.files.length>0&&(i.value=I.files[0])},w=L=>{const I=["B","KB","MB","GB"];let O=L,P=0;for(;O>=1024&&P<I.length-1;)O/=1024,P++;return`${O.toFixed(2)} ${I[P]}`},k=()=>{if(!i.value)return;r.value=!0,a.value=0;const L=new FormData;L.append("video",i.value),tt.post("/api/video-enhancer/upload",L,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:I=>{a.value=Math.round(I.loaded*100/I.total)}}).then(I=>{e.success("Video uploaded successfully"),o.value=I.data.data,i.value=null,_()}).catch(I=>{var O,P;e.error(((P=(O=I.response)==null?void 0:O.data)==null?void 0:P.message)||"Upload failed")}).finally(()=>{r.value=!1,a.value=0})},b=()=>{o.value&&(d.value=!0,tt.post(`/api/video-enhancer/${o.value.id}/estimate`,h.value).then(L=>{m.value=L.data.data}).catch(L=>{var I,O;e.error(((O=(I=L.response)==null?void 0:I.data)==null?void 0:O.message)||"Failed to estimate")}).finally(()=>{d.value=!1}))},M=()=>{o.value&&(u.value=!0,tt.post(`/api/video-enhancer/${o.value.id}/process`,h.value).then(()=>{e.success("Processing started"),o.value&&(o.value.status="processing"),S()}).catch(L=>{var I,O;e.error(((O=(I=L.response)==null?void 0:I.data)==null?void 0:O.message)||"Failed to start processing")}).finally(()=>{u.value=!1}))},S=()=>{p.value&&clearInterval(p.value),p.value=window.setInterval(()=>{o.value&&tt.get(`/api/video-enhancer/${o.value.id}/status`).then(L=>{const I=L.data.data;o.value&&(o.value.status=I.status,o.value.processed_size=I.processed_size,o.value.processed_size_human=I.processed_size_human,o.value.compression_ratio=I.compression_ratio,o.value.error_message=I.error_message),(I.status==="completed"||I.status==="failed")&&(p.value&&(clearInterval(p.value),p.value=null),_(),I.status==="completed"&&e.success("Video processing completed!"))}).catch(()=>{})},3e3)},N=L=>{window.location.href=`/api/video-enhancer/${L}/download`},A=(L,I)=>{confirm(I?"Delete both original and processed video?":"Delete only the processed video? You can re-process later.")&&(I?T(L):D(L))},T=L=>{tt.delete(`/api/video-enhancer/${L}`).then(()=>{var I;e.success("Video deleted"),((I=o.value)==null?void 0:I.id)===L&&(o.value=null),_()}).catch(I=>{var O,P;e.error(((P=(O=I.response)==null?void 0:O.data)==null?void 0:P.message)||"Failed to delete")})},D=L=>{tt.delete(`/api/video-enhancer/${L}/processed`).then(()=>{e.success("Processed video deleted"),_()}).catch(I=>{var O,P;e.error(((P=(O=I.response)==null?void 0:O.data)==null?void 0:P.message)||"Failed to delete")})};return(L,I)=>(g(),v("div",null,[I[47]||(I[47]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Video Enhancer"),n("p",{class:"mt-1 text-sm text-gray-500"},"Upload videos to enhance quality, reduce noise, and compress. Max file size: 2GB")],-1)),C(f(Lo),null,{default:q(()=>{var O;return[n("div",RU,[n("div",{class:Q(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",{"border-indigo-500 bg-indigo-50":l.value}]),onDragover:I[2]||(I[2]=Ke(P=>l.value=!0,["prevent"])),onDragleave:I[3]||(I[3]=Ke(P=>l.value=!1,["prevent"])),onDrop:Ke(y,["prevent"])},[n("input",{ref:"fileInput",type:"file",accept:"video/*",class:"hidden",onChange:x},null,544),!r.value&&!i.value?(g(),v("div",IU,[I[16]||(I[16]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[n("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),n("div",OU,[n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:I[0]||(I[0]=P=>L.$refs.fileInput.click())}," Select Video ")]),I[17]||(I[17]=n("p",{class:"mt-2 text-sm text-gray-500"},"or drag and drop",-1)),I[18]||(I[18]=n("p",{class:"text-xs text-gray-400 mt-1"},"MP4, MOV, AVI, WebM up to 2GB",-1))])):j("",!0),r.value?(g(),v("div",LU,[n("p",FU,"Uploading: "+c((O=i.value)==null?void 0:O.name),1),n("div",NU,[n("div",{class:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:kt({width:a.value+"%"})},null,4)]),n("p",zU,c(a.value)+"%",1)])):j("",!0),i.value&&!r.value?(g(),v("div",BU,[n("p",UU,c(i.value.name),1),n("p",VU,c(w(i.value.size)),1),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:k}," Upload Video "),n("button",{type:"button",class:"ml-2 text-sm text-gray-500 hover:text-gray-700",onClick:I[1]||(I[1]=P=>i.value=null)}," Cancel ")])):j("",!0)],34),o.value&&o.value.status==="pending"?(g(),v("div",HU,[I[34]||(I[34]=n("h3",{class:"text-md font-medium text-gray-900"},"Enhancement Options",-1)),n("div",qU,[n("div",WU,[n("div",KU,[z(n("input",{id:"upscale","onUpdate:modelValue":I[4]||(I[4]=P=>h.value.upscale=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,h.value.upscale]])]),I[19]||(I[19]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"upscale",class:"font-medium text-gray-700"},"Upscale Resolution"),n("p",{class:"text-gray-500"},"Increase video resolution")],-1))]),h.value.upscale?(g(),v("div",YU,[z(n("select",{"onUpdate:modelValue":I[5]||(I[5]=P=>h.value.upscale_resolution=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...I[20]||(I[20]=[n("option",{value:"1920:1080"},"1080p (1920x1080)",-1),n("option",{value:"2560:1440"},"2K (2560x1440)",-1),n("option",{value:"3840:2160"},"4K (3840x2160)",-1)])],512),[[Me,h.value.upscale_resolution]])])):j("",!0),n("div",GU,[n("div",XU,[z(n("input",{id:"enhance_quality","onUpdate:modelValue":I[6]||(I[6]=P=>h.value.enhance_quality=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,h.value.enhance_quality]])]),I[21]||(I[21]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"enhance_quality",class:"font-medium text-gray-700"},"Enhance Quality"),n("p",{class:"text-gray-500"},"Sharpen and improve video clarity")],-1))]),n("div",JU,[n("div",QU,[z(n("input",{id:"noise_reduction","onUpdate:modelValue":I[7]||(I[7]=P=>h.value.noise_reduction=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,h.value.noise_reduction]])]),I[22]||(I[22]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"noise_reduction",class:"font-medium text-gray-700"},"Audio Noise Reduction"),n("p",{class:"text-gray-500"},"Remove background noise from audio")],-1))]),n("div",ZU,[n("div",eV,[z(n("input",{id:"normalize_audio","onUpdate:modelValue":I[8]||(I[8]=P=>h.value.normalize_audio=P),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,h.value.normalize_audio]])]),I[23]||(I[23]=n("div",{class:"ml-3 text-sm"},[n("label",{for:"normalize_audio",class:"font-medium text-gray-700"},"Normalize Audio"),n("p",{class:"text-gray-500"},"Balance audio levels")],-1))])]),n("div",tV,[n("label",sV,"Compression Level (CRF: "+c(h.value.compression_level)+")",1),z(n("input",{"onUpdate:modelValue":I[9]||(I[9]=P=>h.value.compression_level=P),type:"range",min:"18",max:"35",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[J,h.value.compression_level]]),I[24]||(I[24]=n("div",{class:"flex justify-between text-xs text-gray-500"},[n("span",null,"Best Quality (larger file)"),n("span",null,"Smaller File (lower quality)")],-1))]),n("div",nV,[I[26]||(I[26]=n("label",{class:"block text-sm font-medium text-gray-700"},"Encoding Speed",-1)),z(n("select",{"onUpdate:modelValue":I[10]||(I[10]=P=>h.value.preset=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...I[25]||(I[25]=[n("option",{value:"ultrafast"},"Ultra Fast (lowest quality)",-1),n("option",{value:"fast"},"Fast",-1),n("option",{value:"medium"},"Medium (recommended)",-1),n("option",{value:"slow"},"Slow (better quality)",-1),n("option",{value:"veryslow"},"Very Slow (best quality)",-1)])],512),[[Me,h.value.preset]])]),n("div",oV,[I[28]||(I[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Output Format",-1)),z(n("select",{"onUpdate:modelValue":I[11]||(I[11]=P=>h.value.format=P),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...I[27]||(I[27]=[n("option",{value:"mp4"},"MP4 (H.264)",-1),n("option",{value:"webm"},"WebM (VP9)",-1),n("option",{value:"mkv"},"MKV",-1)])],512),[[Me,h.value.format]])]),n("div",iV,[I[29]||(I[29]=n("label",{class:"block text-sm font-medium text-gray-700"},"Target Size (MB) - Optional",-1)),z(n("input",{"onUpdate:modelValue":I[12]||(I[12]=P=>h.value.target_size=P),type:"number",min:"1",placeholder:"Leave empty for automatic",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,h.value.target_size]])]),m.value?(g(),v("div",rV,[I[33]||(I[33]=n("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Size Estimation",-1)),n("div",aV,[n("div",null,[I[30]||(I[30]=n("p",{class:"text-gray-500"},"Original Size",-1)),n("p",lV,c(m.value.original_size_human),1)]),n("div",null,[I[31]||(I[31]=n("p",{class:"text-gray-500"},"Estimated Output",-1)),n("p",dV,c(m.value.estimated_size_human),1)]),n("div",null,[I[32]||(I[32]=n("p",{class:"text-gray-500"},"Compression Ratio",-1)),n("p",cV,c(m.value.compression_ratio)+"%",1)]),n("div",null,[n("p",{class:Q(m.value.feasible?"text-green-600":"text-red-600")},c(m.value.feasibility_message),3)])])])):j("",!0),n("div",uV,[n("button",{type:"button",disabled:d.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:b},c(d.value?"Calculating...":"Estimate Size"),9,fV),n("button",{type:"button",disabled:u.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:M},c(u.value?"Starting...":"Start Processing"),9,mV)])])):j("",!0),o.value&&o.value.status==="processing"?(g(),v("div",hV,[n("div",pV,[I[36]||(I[36]=n("svg",{class:"animate-spin h-5 w-5 text-yellow-600 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),n("div",null,[n("p",gV,"Processing: "+c(o.value.original_filename),1),I[35]||(I[35]=n("p",{class:"text-sm text-yellow-600"},"This may take several minutes for large videos...",-1))])])])):j("",!0),o.value&&o.value.status==="completed"?(g(),v("div",_V,[I[41]||(I[41]=n("div",{class:"flex items-center"},[n("svg",{class:"h-5 w-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("p",{class:"font-medium text-green-800"},"Processing Complete!")],-1)),n("div",vV,[n("div",null,[I[37]||(I[37]=n("p",{class:"text-gray-500"},"Original",-1)),n("p",yV,c(o.value.original_size_human),1)]),n("div",null,[I[38]||(I[38]=n("p",{class:"text-gray-500"},"Processed",-1)),n("p",bV,c(o.value.processed_size_human),1)]),n("div",null,[I[39]||(I[39]=n("p",{class:"text-gray-500"},"Compression",-1)),n("p",xV,c(o.value.compression_ratio)+"% saved",1)])]),n("div",wV,[n("a",{href:"/api/video-enhancer/"+o.value.id+"/download",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"},[...I[40]||(I[40]=[n("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),K(" Download ",-1)])],8,kV),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:I[13]||(I[13]=P=>A(o.value.id,!1))}," Keep Original, Delete Processed "),n("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",onClick:I[14]||(I[14]=P=>A(o.value.id,!0))}," Delete All ")])])):j("",!0),o.value&&o.value.status==="failed"?(g(),v("div",$V,[n("div",CV,[I[43]||(I[43]=n("svg",{class:"h-5 w-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),n("div",null,[I[42]||(I[42]=n("p",{class:"font-medium text-red-800"},"Processing Failed",-1)),n("p",SV,c(o.value.error_message),1)])]),n("button",{type:"button",class:"mt-3 text-sm text-red-600 hover:text-red-800",onClick:I[15]||(I[15]=P=>T(o.value.id))}," Delete and try again ")])):j("",!0),t.value.length>0?(g(),v("div",MV,[I[46]||(I[46]=n("h3",{class:"text-md font-medium text-gray-900"},"Previous Videos",-1)),n("div",TV,[(g(!0),v(re,null,ve(t.value,P=>(g(),v("div",{key:P.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[n("div",null,[n("p",AV,c(P.original_filename),1),n("p",DV,[K(c(P.original_size_human)+" ",1),P.status==="completed"?(g(),v("span",EV,"  "+c(P.processed_size_human)+" ("+c(P.compression_ratio)+"% saved) ",1)):j("",!0)])]),n("div",PV,[n("span",{class:Q([{"bg-yellow-100 text-yellow-800":P.status==="pending","bg-blue-100 text-blue-800":P.status==="processing","bg-green-100 text-green-800":P.status==="completed","bg-red-100 text-red-800":P.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},c(P.status),3),P.status==="completed"?(g(),v("button",{key:0,class:"text-indigo-600 hover:text-indigo-800",onClick:B=>N(P.id)},[...I[44]||(I[44]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,jV)):j("",!0),n("button",{class:"text-red-600 hover:text-red-800",onClick:B=>A(P.id,!0)},[...I[45]||(I[45]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,RV)])]))),128))])])):j("",!0)])]}),_:1})]))}}),OV={class:"col-span-12"},LV={class:"mb-4 flex items-center text-sm"},FV={class:"block text-sm font-medium text-gray-700"},bf="role",NV=ye({__name:"Form",props:{id:{}},setup(s){const e=gs(bf)(),t=ks(bf)(),o=_o(),i=db();e.onSuccess(l=>{t.updateOrCreate(l.model),Ft().pop()});function r(){e.data.permissions=e.options.permissions.map(l=>l.value)}function a(){e.data.permissions=[]}return(l,d)=>(g(),ne(f(ls),{id:s.id,name:bf,uri:"roles"},{default:q(()=>[C(f(o),{name:"name",label:"Name",class:"col-span-12"}),n("div",OV,[n("div",LV,[n("p",FV,c(l.__("Permissions")),1),n("span",{class:"block cursor-pointer pl-4 text-xs text-gray-700 hover:text-gray-900",onClick:r},c(l.__("Select All")),1),d[0]||(d[0]=n("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),n("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:a},c(l.__("Deselect All")),1)]),C(f(i),{name:"permissions",class:"col-span-12"})])]),_:1},8,["id"]))}}),zV={class:"flex flex-col"},BV={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},UV={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},VV={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},HV={class:"min-w-full divide-y divide-gray-200"},qV={class:"divide-y divide-gray-200 bg-white"},WV={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},KV={class:"whitespace-nowrap px-6 py-4 text-center text-sm font-medium text-gray-500"},YV={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},GV=["onClick"],XV=ye({__name:"Index",setup(s){function e(t=null){Ft().add(NV,{id:t})}return(t,o)=>(g(),ne(xi,null,{topbar:q(()=>[t.can("role:create")?(g(),ne(f(Se),{key:0,class:"ml-auto",size:"sm","data-cy":"topbar-create-button",onClick:o[0]||(o[0]=i=>e())},{default:q(()=>[K(c(t.__("Create Role")),1)]),_:1})):j("",!0)]),default:q(()=>[C(f(dh),{name:"role",uri:"roles","no-filters":"","no-search":""},{default:q(({items:i,index:r})=>[n("div",zV,[n("div",BV,[n("div",UV,[n("div",VV,[n("table",HV,[n("thead",null,[n("tr",null,[C(f(je),{name:"role",index:r,label:t.__("Role")},null,8,["index","label"]),C(f(je),{name:"role",index:r,label:t.__("Permissions"),align:"center"},null,8,["index","label"]),o[1]||(o[1]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",qV,[(g(!0),v(re,null,ve(i,a=>(g(),v("tr",{key:a.id},[n("td",WV,c(a.name),1),n("td",KV,c(a.permissions_count),1),n("td",YV,[t.can("role:update")?(g(),v("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[C(f(Ur),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,GV)):j("",!0),t.can("role:delete")?(g(),ne(f(Vt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),C(f(ms),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),JV={class:"border-b border-gray-200 px-6 py-4"},QV={class:"text-base font-medium leading-6 text-gray-900"},ZV={class:"space-y-4 divide-y pb-4"},eH=["onClick"],tH={class:"-mt-1 ltr:pl-4 rtl:pr-4"},sH=["onClick"],nH={class:"mt-1.5 flex space-x-4 rtl:space-x-reverse"},oH={key:0,class:"flex items-center py-1"},iH={class:"text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},rH=["href","onClick"],aH={class:"truncate text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},lH=["onClick"],dH={class:"ltr:ml-auto rtl:mr-auto"},ua=ye({__name:"TasksList",props:{title:{},tasks:{default:()=>[]}},setup(s){const e=ks("tasks")(),t=F(null),o=Wr();function i(a){t.value=a,ae.patch(`tasks/${a}/complete`).then(()=>{e.fetch()})}function r(a){Ft().add(iu,{id:a,page:"tasks"})}return(a,l)=>{const d=fn("router-link");return s.tasks.length?(g(),ne(f(Lo),{key:1},{default:q(()=>[n("div",JV,[n("h3",QV,c(a.__(s.title)),1)]),n("div",ZV,[(g(!0),v(re,null,ve(s.tasks,u=>(g(),v("div",{key:u.id,class:"flex items-start px-6 pt-4"},[n("span",{class:Q(["inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":t.value==u.id,"bg-blue-400":u.completed_at,"border border-gray-300":!u.completed_at}]),onClick:m=>i(u.id)},[...l[1]||(l[1]=[n("svg",{viewBox:"0 0 16 16",fill:"white"},[n("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],10,eH),n("div",tH,[n("span",{class:"block cursor-pointer hover:underline",onClick:m=>r(u.id)},c(u.title),9,sH),n("div",nH,[u.due_at?(g(),v("div",oH,[C(f(un),{class:"h-4 w-4 text-gray-400"}),n("span",iH,c(u.due_at),1)])):j("",!0),C(d,{custom:"",to:"/projects/"+u.project_id},{default:q(({href:m,navigate:p})=>[n("a",{href:m,class:"flex cursor-pointer items-center text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:p},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:kt({"background-color":u.project.meta.color}),"aria-hidden":"true"},null,4),n("span",aH,c(u.project.name),1)],8,rH)]),_:2},1032,["to"]),u.id==f(o).taskId?(g(),v("span",{key:1,class:"flex cursor-pointer items-center",onClick:l[0]||(l[0]=Ke((...m)=>f(o).stop&&f(o).stop(...m),["stop"]))},[C(f(Vr),{class:"h-4 w-4 text-red-500 hover:text-red-800"})])):(g(),v("span",{key:2,class:"flex cursor-pointer items-center",onClick:Ke(m=>f(o).start(u),["stop"])},[C(f(Uc),{class:"h-4 w-4 text-gray-500 hover:text-gray-800"})],8,lH))])]),n("div",dH,[C(f(Xt),{user:u.users[0],class:"h-6 w-6"},null,8,["user"])])]))),128))])]),_:1})):(g(),ne(f(bl),{key:0,"no-create":""}))}}}),cH={class:"mb-4 flex items-center"},uH={class:"text-2xl font-semibold text-gray-900"},fH={class:"flex ltr:ml-auto rtl:mr-auto"},mH={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},hH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},pH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},gH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},_H={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},vH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},yH={class:"group relative ltr:ml-2 rtl:mr-2"},bH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},xH={key:1,class:"group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-600"},wH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},kH={class:"absolute top-full hidden group-hover:block ltr:right-0 rtl:left-0"},$H={class:"min-w-[12rem] rounded-md bg-white ring-1 ring-black ring-opacity-5"},CH={class:"py-1",role:"none"},SH=["onClick"],MH={class:"truncate ltr:ml-2.5 rtl:mr-2.5"},TH={key:0,class:"mt-8 flex justify-center"},AH={key:1},DH={key:1,class:"space-y-4"},EH=ye({__name:"Index",setup(s){const e=Je("__"),t=ks("tasks")(),o=F([]),i=F(null),r=F(""),a=F("");t.setConfig({uri:"tasks"}),t.fetch(),l();function l(){ae.get("projects/options").then(m=>{o.value=m.data})}function d(m=null){i.value=null,t.params.project=null,t.params.type=m,t.fetch()}function u(m,p,h){i.value=m,r.value=p,a.value=h,t.params.type=null,t.params.project=m,t.fetch()}return(m,p)=>{var h;return g(),v(re,null,[n("div",cH,[n("h1",uH,c(f(e)("Tasks")),1),n("div",fH,[n("nav",mH,[n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":((h=f(t).params)==null?void 0:h.type)==null&&i.value==null,"text-gray-600":f(t).params.type!=null||i.value!=null}]),onClick:p[0]||(p[0]=_=>d())},[C(f(th),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",hH,c(f(e)("Inbox")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="today","text-gray-600":f(t).params.type!="today"}]),onClick:p[1]||(p[1]=_=>d("today"))},[C(f(un),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",pH,c(f(e)("Today")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="upcoming","text-gray-600":f(t).params.type!="upcoming"}]),onClick:p[2]||(p[2]=_=>d("upcoming"))},[C(f(e$),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",gH,c(f(e)("Upcoming")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="overdue","text-gray-600":f(t).params.type!="overdue"}]),onClick:p[3]||(p[3]=_=>d("overdue"))},[C(f(Jm),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",_H,c(f(e)("Overdue")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":f(t).params.type=="completed","text-gray-600":f(t).params.type!="completed"}]),onClick:p[4]||(p[4]=_=>d("completed"))},[C(f(ps),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",vH,c(f(e)("Completed")),1)],2)]),n("div",yH,[i.value?(g(),v("div",{key:0,class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}])},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:kt({"background-color":a.value})},null,4),n("span",bH,c(r.value),1)],2)):(g(),v("div",xH,[C(f(eh),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",wH,c(f(e)("Projects")),1)])),n("div",kH,[p[5]||(p[5]=n("div",{class:"h-1.5"},"",-1)),n("div",$H,[n("div",CH,[(g(!0),v(re,null,ve(o.value,_=>(g(),v("p",{key:_.id,class:"flex cursor-pointer items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:y=>u(_.id,_.name,_.meta.color)},[n("span",{class:"block h-2.5 w-2.5 flex-shrink-0 rounded-full",style:kt({"background-color":_.meta.color}),"aria-hidden":"true"},null,4),n("span",MH,c(_.name),1)],8,SH))),128)),z(n("p",{class:"flex items-center px-4 py-3 text-sm leading-5 text-gray-600"},c(f(e)("No projects")),513),[[zt,!o.value.length]])])])])])])]),f(t).fetching?(g(),v("div",TH,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",AH,[Array.isArray(f(t).data)?(g(),ne(f(bl),{key:0,"no-create":""})):(g(),v("div",DH,[f(t).data.today?(g(),ne(ua,{key:0,title:"Today",tasks:f(t).data.today},null,8,["tasks"])):j("",!0),f(t).data.overdue?(g(),ne(ua,{key:1,title:"Overdue",tasks:f(t).data.overdue},null,8,["tasks"])):j("",!0),f(t).data.upcoming?(g(),ne(ua,{key:2,title:"Upcoming",tasks:f(t).data.upcoming},null,8,["tasks"])):j("",!0),f(t).data["no overdue"]?(g(),ne(ua,{key:3,title:"No Overdue",tasks:f(t).data["no overdue"]},null,8,["tasks"])):j("",!0),f(t).data.completed?(g(),ne(ua,{key:4,title:"Completed",tasks:f(t).data.completed},null,8,["tasks"])):j("",!0)]))]))],64)}}}),xf="user",PH=ye({__name:"Form",props:{id:{}},setup(s){const e=gs(xf)(),t=ks(xf)(),o=_o(),i=kl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(g(),ne(f(ls),{id:s.id,name:xf,uri:"users"},{default:q(()=>[C(f(o),{name:"name",label:"Name",class:"col-span-12"}),C(f(o),{name:"email",label:"Email",class:"col-span-12"}),C(f(o),{name:"password",label:"Password",class:"col-span-12"}),C(f(i),{name:"role",label:"Role",class:"col-span-12"})]),_:1},8,["id"]))}}),jH={key:0,class:"mt-8 flex justify-center"},RH={key:1},IH={class:"mb-6 flex items-center justify-between"},OH={class:"flex space-x-4"},LH={class:"relative w-64 rounded-md shadow-sm"},FH={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},NH=["placeholder"],zH={key:0,class:"mb-8"},BH={key:0,class:"ltr:ml-auto rtl:mr-auto"},UH={class:"flex flex-col"},VH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},HH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},qH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},WH={class:"min-w-full divide-y divide-gray-200"},KH={class:"divide-y divide-gray-200 bg-white"},YH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},GH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},XH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},JH={key:1},QH={class:"ltr:ml-auto rtl:mr-auto"},ZH={class:"flex flex-col"},eq={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},tq={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},sq={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},nq={class:"min-w-full divide-y divide-gray-200"},oq={class:"divide-y divide-gray-200 bg-white"},iq={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},rq={class:"flex"},aq={class:"text-sm ltr:ml-3 rtl:mr-3"},lq={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},dq={class:"block text-sm font-normal text-gray-500"},cq={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},uq={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},fq=["onClick"],mq={key:2},hq={class:"ltr:ml-auto rtl:mr-auto"},pq={class:"text-sm text-gray-500"},gq={class:"flex flex-col"},_q={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},vq={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},yq={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},bq={class:"min-w-full divide-y divide-gray-200"},xq={class:"divide-y divide-gray-200 bg-gray-50"},wq={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},kq={class:"flex"},$q={class:"text-sm ltr:ml-3 rtl:mr-3"},Cq={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-600"},Sq={class:"block text-sm font-normal text-gray-400"},Mq={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-400"},Tq={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},Aq={key:0},Dq={colspan:"3",class:"px-6 py-8 text-center text-gray-500"},Eq=ye({__name:"Index",setup(s){const e=Je("can"),t=Je("__"),o=ks("user")(),i=ks("invitation")(),r=ks("archived-user")(),a=F(!0),l=F("active");d(),o.setConfig({uri:"users",orderByDirection:"desc"}),o.fetch(),r.setConfig({uri:"users-archived",orderByDirection:"desc"}),(e("user:view")||e("user:create"))&&(i.setConfig({uri:"invitations",orderByDirection:"desc"}),i.fetch());function d(){setTimeout(function(){if(o.fetching||i.fetching){d();return}u()},150)}function u(){a.value=!1}function m(b){var M;l.value=b,b==="archived"&&!((M=r.data)!=null&&M.data)&&r.fetch()}async function p(b){var M,S;if(confirm(`Are you sure you want to archive ${b.name}? They will no longer be able to log in.`))try{await ae.post(`users/${b.id}/archive`),o.fetch(),alert(`${b.name} has been archived`)}catch(N){alert(((S=(M=N.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to archive team member")}}async function h(b){var M,S;if(confirm(`Are you sure you want to restore ${b.name}?`))try{await ae.post(`users/${b.id}/unarchive`),r.fetch(),alert(`${b.name} has been restored`)}catch(N){alert(((S=(M=N.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to restore team member")}}function _(b=null){Ft().add(ub,{id:b})}function y(b=null){Ft().add(PH,{id:b})}function x(){a.value=!0,o.onSearch(),d()}function w(b){var M;return!(!ht.is_super_admin||b.id===((M=ht.user)==null?void 0:M.id))}async function k(b){var M,S;if(confirm(`Are you sure you want to login as ${b.name}?`))try{(await ae.post(`impersonate/${b.id}`)).data.success&&(alert(`You are now logged in as ${b.name}`),window.location.href="/")}catch(N){alert(((S=(M=N.response)==null?void 0:M.data)==null?void 0:S.message)||"Failed to impersonate user")}}return(b,M)=>{var S,N,A,T;return a.value?(g(),v("div",jH,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",RH,[n("div",IH,[n("div",OH,[n("button",{class:Q([l.value==="active"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","border-b-2 px-1 pb-2 text-sm font-medium"]),onClick:M[0]||(M[0]=D=>m("active"))},c(f(t)("Active")),3),n("button",{class:Q([l.value==="archived"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","border-b-2 px-1 pb-2 text-sm font-medium"]),onClick:M[1]||(M[1]=D=>m("archived"))},c(f(t)("Archived")),3)]),n("div",LH,[n("div",FH,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":M[2]||(M[2]=D=>f(o).params.search=D),type:"search",placeholder:f(t)("Search team members..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:x},null,40,NH),[[J,f(o).params.search]])])]),l.value==="active"&&((N=(S=f(i).data)==null?void 0:S.data)!=null&&N.length)?(g(),v("section",zH,[C(f(Fa),{title:f(t)("Pending Invitations")},{default:q(()=>[f(e)("user:create")?(g(),v("div",BH,[C(f(Se),{size:"sm","data-cy":"topbar-invitation-create-button",onClick:M[3]||(M[3]=D=>_())},{default:q(()=>[K(c(f(t)("Invite Team Member")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),n("div",UH,[n("div",VH,[n("div",HH,[n("div",qH,[n("table",WH,[n("thead",null,[n("tr",null,[C(f(je),{name:"invitation",index:f(i),label:f(t)("Email"),sort:"email"},null,8,["index","label"]),C(f(je),{name:"invitation",index:f(i),label:f(t)("Role")},null,8,["index","label"]),M[5]||(M[5]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",KH,[(g(!0),v(re,null,ve(f(i).data.data,D=>(g(),v("tr",{key:D.id},[n("td",YH,c(D.email),1),n("td",GH,c(D.role.name),1),n("td",XH,[f(e)("user:delete")?(g(),ne(f(Vt),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(L=>f(i).deleteIt(D.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),C(f(ms),{index:f(i)},null,8,["index"])])])])])])):j("",!0),l.value==="active"?(g(),v("section",JH,[C(f(Fa),{title:f(t)("Team Members")},{default:q(()=>{var D;return[n("div",QH,[f(e)("user:create")&&!((D=f(i).data)!=null&&D.length)?(g(),ne(f(Se),{key:0,size:"sm","data-cy":"topbar-invitation-create-button",onClick:M[4]||(M[4]=L=>_())},{default:q(()=>[K(c(f(t)("Invite Team Member")),1)]),_:1})):j("",!0),f(e)("user:create")?(g(),ne(f(Se),{key:1,class:"ltr:ml-2 rtl:mr-2",size:"sm","data-cy":"topbar-create-button",onClick:y},{default:q(()=>[K(c(f(t)("Create Team Member")),1)]),_:1})):j("",!0)])]}),_:1},8,["title"]),n("div",ZH,[n("div",eq,[n("div",tq,[n("div",sq,[n("table",nq,[n("thead",null,[n("tr",null,[C(f(je),{name:"user",index:f(o),label:f(t)("Name"),sort:"name"},null,8,["index","label"]),C(f(je),{name:"user",index:f(o),label:f(t)("Role")},null,8,["index","label"]),M[6]||(M[6]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",oq,[(g(!0),v(re,null,ve(f(o).data.data,D=>(g(),v("tr",{key:D.id},[n("td",iq,[n("div",rq,[C(f(Xt),{class:"h-6 w-6",avatar:D.avatar},null,8,["avatar"]),n("div",aq,[n("span",lq,c(D.name),1),n("span",dq,c(D.email),1)])])]),n("td",cq,c(D.roles[0].name),1),n("td",uq,[w(D)?(g(),ne(f(Xf),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",title:f(t)("Login as this user"),onClick:Ke(L=>k(D),["stop"])},null,8,["title","onClick"])):j("",!0),f(e)("user:update")?(g(),v("span",{key:1,class:"ml-2",onClick:L=>y(D.id)},[C(f(Ur),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,fq)):j("",!0),f(e)("user:delete")&&D.id!==1?(g(),ne(f(Yf),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-orange-600",title:f(t)("Archive team member"),onClick:Ke(L=>p(D),["prevent"])},null,8,["title","onClick"])):j("",!0),f(e)("user:delete")?(g(),ne(f(Vt),{key:3,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(L=>f(o).deleteIt(D.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),C(f(ms),{index:f(o)},null,8,["index"])])])])])])):j("",!0),l.value==="archived"?(g(),v("section",mq,[C(f(Fa),{title:f(t)("Archived Team Members")},{default:q(()=>[n("div",hq,[n("span",pq,c(f(t)("These team members cannot log in until restored")),1)])]),_:1},8,["title"]),n("div",gq,[n("div",_q,[n("div",vq,[n("div",yq,[n("table",bq,[n("thead",null,[n("tr",null,[C(f(je),{name:"archived-user",index:f(r),label:f(t)("Name"),sort:"name"},null,8,["index","label"]),C(f(je),{name:"archived-user",index:f(r),label:f(t)("Role")},null,8,["index","label"]),M[7]||(M[7]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",xq,[(g(!0),v(re,null,ve(f(r).data.data,D=>{var L;return g(),v("tr",{key:D.id,class:"opacity-75"},[n("td",wq,[n("div",kq,[C(f(Xt),{class:"h-6 w-6 grayscale",avatar:D.avatar},null,8,["avatar"]),n("div",$q,[n("span",Cq,c(D.name),1),n("span",Sq,c(D.email),1)])])]),n("td",Mq,c((L=D.roles[0])==null?void 0:L.name),1),n("td",Tq,[f(e)("user:delete")?(g(),ne(f(Se),{key:0,size:"sm",variant:"secondary",onClick:I=>h(D)},{default:q(()=>[K(c(f(t)("Restore")),1)]),_:1},8,["onClick"])):j("",!0)])])}),128)),(T=(A=f(r).data)==null?void 0:A.data)!=null&&T.length?j("",!0):(g(),v("tr",Aq,[n("td",Dq,c(f(t)("No archived team members found")),1)]))])]),C(f(ms),{index:f(r)},null,8,["index"])])])])])])):j("",!0)]))}}}),$_="label",Pq=ye({__name:"Form",props:{id:{}},setup(s){const e=gs($_)(),t=_o(),o=ks("label")();return e.onSuccess(i=>{o.updateOrCreate(i.model),Ft().pop()}),(i,r)=>(g(),ne(f(ls),{id:s.id,name:$_,uri:"labels"},{default:q(()=>[C(f(t),{name:"name",label:"Name",class:"col-span-12"}),C(cb,{name:"color"})]),_:1},8,["id"]))}}),jq={class:"flex flex-col"},Rq={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Iq={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Oq={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Lq={class:"min-w-full divide-y divide-gray-200"},Fq={class:"divide-y divide-gray-200 bg-white"},Nq={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},zq={class:"flex items-center"},Bq={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Uq=["onClick"],Vq=ye({__name:"Index",setup(s){function e(t=null){Ft().add(Pq,{id:t})}return(t,o)=>(g(),ne(xi,null,{topbar:q(()=>[C(f(Se),{size:"sm",onClick:e},{default:q(()=>[K(c(t.__("Create Label")),1)]),_:1})]),default:q(()=>[C(f(dh),{name:"label",uri:"labels","no-filters":"","no-search":""},{default:q(({items:i,index:r})=>[n("div",jq,[n("div",Rq,[n("div",Iq,[n("div",Oq,[n("table",Lq,[n("tbody",Fq,[(g(!0),v(re,null,ve(i,a=>(g(),v("tr",{key:a.id},[n("td",Nq,[n("div",zq,[C(f(Mb),{class:"mr-2 inline-block h-4 w-4",style:kt({color:a.meta.color})},null,8,["style"]),K(" "+c(a.name),1)])]),n("td",Bq,[t.can("label:update")?(g(),v("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[C(f(Ur),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,Uq)):j("",!0),t.can("label:delete")?(g(),ne(f(Vt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):j("",!0)])]))),128))])]),C(f(ms),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),Hq={class:"mb-4 flex"},qq={class:"text-2xl font-semibold text-gray-900"},Wq={class:"flex items-center ltr:ml-auto rtl:mr-auto"},Kq={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},Yq={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},Gq={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},Xq={key:0,class:"mt-8 flex justify-center"},Jq={key:1},Qq={class:"space-y-4 divide-y pb-6"},Zq=["href","onClick"],eW={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},tW={key:1,class:"flex items-center leading-5 text-gray-700"},sW={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},nW={class:"ml-auto flex space-x-3"},oW=ye({__name:"Index",setup(s){const e=Je("can"),t=Je("__"),o=new URLSearchParams(window.location.search),i=F(!!o.has("archived")),r=ks("projects")(),a=Sh();o.has("archived")?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),r.fetch();function l(p=null){p=="archived"?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),p=="archived"?(i.value=!0,history.replaceState(history.state,"","?archived")):(i.value=!1,history.replaceState(history.state,"","/projects")),r.fetch()}function d(p,h){ae.patch(`projects/${p}/archive`).then(()=>{r.data.splice(h,1)})}function u(p,h){ae.patch(`projects/${p}/restore`).then(()=>{r.data.splice(h,1)})}function m(p,h){const _=wd();_.confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){const y=Array.isArray(p)?p:[p],x="projects";ae.delete(`${x}/null`,{data:{items:y}}).then(()=>{_.hide(),r.data.splice(h,1)}).catch(()=>{_.hide()})}})}return(p,h)=>{const _=fn("RouterLink");return g(),v(re,null,[n("div",Hq,[n("h1",qq,c(f(t)("Projects")),1),n("div",Wq,[n("nav",Kq,[n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":!i.value,"text-gray-600":i.value}]),onClick:h[0]||(h[0]=y=>l())},[C(f(eh),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",Yq,c(f(t)("Active")),1)],2),n("span",{class:Q(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":i.value,"text-gray-600":!i.value}]),onClick:h[1]||(h[1]=y=>l("archived"))},[C(f(Yf),{class:"h-4 w-4 group-hover:text-gray-800"}),n("span",Gq,c(f(t)("Archived")),1)],2)]),f(e)("project:create")?(g(),ne(f(Se),{key:0,class:"ml-6",size:"sm","data-cy":"topbar-create-button",onClick:Ke(f(a).create,["stop"])},{default:q(()=>[K(c(f(t)("Create Project")),1)]),_:1},8,["onClick"])):j("",!0)])]),f(r).fetching?(g(),v("div",Xq,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",Jq,[f(r).data.length?(g(),ne(f(Lo),{key:1},{default:q(()=>[n("div",Qq,[(g(!0),v(re,null,ve(f(r).data,(y,x)=>{var w;return g(),v("div",{key:y.id,class:"flex px-6 pt-6"},[i.value?j("",!0):(g(),ne(_,{key:0,custom:"",to:"/projects/"+y.id},{default:q(({href:k,navigate:b})=>{var M;return[n("a",{href:k,class:"flex cursor-pointer items-center leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:b},[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:kt({"background-color":((M=y.meta)==null?void 0:M.color)||"#ccc"}),"aria-hidden":"true"},null,4),n("span",eW,c(y.name),1)],8,Zq)]}),_:2},1032,["to"])),i.value?(g(),v("p",tW,[n("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:kt({"background-color":((w=y.meta)==null?void 0:w.color)||"#ccc"}),"aria-hidden":"true"},null,4),n("span",sW,c(y.name),1)])):j("",!0),n("div",nW,[z(C(f(Yf),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:k=>d(y.id,x)},null,8,["onClick"]),[[zt,!i.value&&f(e)("project:delete")]]),z(C(f(X4),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:k=>u(y.id,x)},null,8,["onClick"]),[[zt,i.value&&f(e)("project:delete")]]),z(C(f(Vt),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:k=>m(y.id,x)},null,8,["onClick"]),[[zt,i.value&&f(e)("project:delete")]])])])}),128))])]),_:1})):(g(),ne(f(bl),{key:0,"no-create":""}))]))],64)}}}),iW={class:"space-y-6"},rW={class:"flex items-center justify-between border-b border-gray-200 pb-5"},aW={class:"text-3xl font-bold text-gray-900"},lW={key:0,class:"mt-2 flex flex-wrap gap-2"},dW={key:0,class:"text-xs text-gray-600"},cW={key:1,class:"text-xs text-gray-600 ml-4"},uW=["disabled"],fW={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},mW={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},hW={key:0,class:"rounded-lg bg-white border-2 border-indigo-200 p-6 shadow-md"},pW={class:"flex items-center justify-between mb-4"},gW={class:"text-lg font-semibold text-gray-900"},_W={class:"text-xs text-gray-500"},vW={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},yW={class:"bg-gray-50 rounded-lg p-4"},bW={class:"flex items-center justify-between mb-2"},xW={class:"text-sm font-medium text-gray-600"},wW={class:"text-2xl font-bold text-gray-900"},kW={class:"text-xs text-gray-500 mt-1"},$W={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},CW={class:"bg-gray-50 rounded-lg p-4"},SW={class:"flex items-center justify-between mb-2"},MW={class:"text-sm font-medium text-gray-600"},TW={class:"text-2xl font-bold text-gray-900"},AW={class:"text-xs text-gray-500 mt-1"},DW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},EW={class:"bg-gray-50 rounded-lg p-4"},PW={class:"flex items-center justify-between mb-2"},jW={class:"text-sm font-medium text-gray-600"},RW={class:"text-xs text-gray-500 mt-1"},IW={class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},OW={class:"flex items-start"},LW={class:"flex-1"},FW={class:"text-sm font-medium text-blue-900"},NW={class:"text-sm text-blue-700 mt-1"},zW={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mx-1"},BW={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mx-1"},UW={key:1,class:"rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-6 shadow-lg"},VW={class:"text-xl font-semibold text-white mb-4"},HW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qW={class:"flex items-center justify-between mb-3"},WW={class:"flex items-center space-x-2"},KW={class:"text-white font-medium text-sm truncate"},YW={class:"space-y-2"},GW={key:0,class:"flex justify-between items-center"},XW={class:"text-white text-xs opacity-75"},JW={class:"text-white text-lg font-bold"},QW={class:"text-white text-xs opacity-75"},ZW={class:"text-white text-sm font-semibold"},eK={class:"text-white text-xs opacity-75"},tK={class:"text-white text-sm font-semibold"},sK={class:"text-white text-xs opacity-75"},nK={class:"text-white text-sm font-semibold"},oK={class:"text-white text-xs opacity-75"},iK={class:"text-white text-sm font-semibold"},rK={key:1,class:"grid grid-cols-1 gap-2 pt-2"},aK={class:"text-white text-xs opacity-75"},lK={class:"text-white text-sm font-semibold"},dK={class:"mt-3 pt-2 border-t border-white border-opacity-20"},cK={class:"text-white text-xs opacity-75 mb-1"},uK={key:0,class:"flex flex-wrap gap-1"},fK=["title"],mK={key:1,class:"flex items-center gap-2"},hK={class:"text-white text-xs opacity-50"},pK={key:2,class:"mt-3 pt-2 border-t border-white border-opacity-20"},gK={class:"text-white text-xs opacity-75 mb-2"},_K={class:"space-y-1.5"},vK={class:"flex items-center gap-1.5 flex-1 min-w-0"},yK={class:"text-sm"},bK={class:"opacity-90 truncate"},xK={class:"flex gap-2 text-[10px] opacity-75 flex-shrink-0"},wK={class:"whitespace-nowrap"},kK={class:"whitespace-nowrap"},$K={class:"whitespace-nowrap"},CK={key:0,class:"mt-4 pt-4 border-t border-white border-opacity-30"},SK={class:"flex items-center justify-between"},MK={class:"text-white text-sm font-medium opacity-90"},TK={class:"text-white text-2xl font-bold"},AK={class:"rounded-lg bg-white p-4 shadow"},DK={class:"flex items-center space-x-4"},EK={class:"flex-1"},PK={class:"block text-sm font-medium text-gray-700"},jK={class:"flex-1"},RK={class:"block text-sm font-medium text-gray-700"},IK={class:"pt-6"},OK={key:0,class:"mt-3 text-sm text-gray-500"},LK={key:3,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},FK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},NK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},zK={class:"text-lg font-semibold text-gray-900"},BK={style:{height:"300px"}},UK={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},VK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},HK={class:"text-lg font-semibold text-gray-900"},qK={style:{height:"300px"}},WK={key:0,class:"overflow-hidden rounded-lg bg-white p-6 shadow lg:col-span-2"},KK={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},YK={class:"text-lg font-semibold text-gray-900"},GK={style:{height:"400px"}},XK={key:4,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},JK={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},QK={class:"truncate text-sm font-medium text-gray-500"},ZK={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},eY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},tY={class:"truncate text-sm font-medium text-gray-500"},sY={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},nY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},oY={class:"truncate text-sm font-medium text-gray-500"},iY={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},rY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},aY={class:"truncate text-sm font-medium text-gray-500"},lY={class:"mt-1 text-3xl font-semibold tracking-tight text-indigo-600"},dY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},cY={class:"truncate text-sm font-medium text-gray-500"},uY={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},fY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},mY={class:"truncate text-sm font-medium text-gray-500"},hY={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},pY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},gY={class:"truncate text-sm font-medium text-gray-500"},_Y={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},vY={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},yY={class:"truncate text-sm font-medium text-gray-500"},bY={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},xY={key:5,class:"overflow-hidden rounded-lg bg-white shadow"},wY={class:"flex items-center justify-between"},kY={class:"text-md font-medium text-gray-900"},$Y={class:"mt-1 text-sm text-gray-500"},CY={class:"overflow-x-auto"},SY={class:"min-w-full divide-y divide-gray-200"},MY={class:"bg-gray-50"},TY={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},AY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},DY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},EY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},PY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},jY={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},RY={class:"divide-y divide-gray-200 bg-white"},IY={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},OY={class:"flex items-center"},LY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},FY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},NY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},zY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},BY={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},UY={key:6,class:"overflow-hidden rounded-lg bg-white shadow"},VY={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},HY={class:"flex items-center justify-between"},qY={class:"text-lg font-medium leading-6 text-gray-900"},WY={class:"flex items-center space-x-4"},KY={class:"relative"},YY=["placeholder"],GY={class:"overflow-x-auto"},XY={class:"min-w-full divide-y divide-gray-200"},JY={class:"bg-gray-50"},QY={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},ZY={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},eG={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},tG={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},sG={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},nG={class:"divide-y divide-gray-200 bg-white"},oG={class:"whitespace-nowrap px-6 py-4"},iG={class:"flex items-center justify-between"},rG={class:"flex items-center"},aG={class:"text-2xl mr-2"},lG={class:"text-sm font-medium text-gray-900"},dG={key:0,class:"mt-2"},cG={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},uG={class:"w-full bg-gray-200 rounded-full h-1.5"},fG={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},mG={class:"text-gray-900"},hG={key:0,class:"text-xs text-gray-500 mt-1"},pG={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},gG={class:"text-gray-900"},_G={key:0,class:"text-xs text-gray-500 mt-1"},vG={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},yG={class:"text-gray-900"},bG={key:0,class:"text-xs text-gray-500 mt-1"},xG={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},wG={key:0,class:"text-xs text-gray-500 mt-1"},kG={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},$G={class:"flex items-center justify-between"},CG={class:"flex flex-1 justify-between sm:hidden"},SG=["disabled"],MG=["disabled"],TG={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},AG={class:"text-sm text-gray-700"},DG={class:"font-medium"},EG={class:"font-medium"},PG={class:"font-medium"},jG={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},RG=["disabled"],IG={class:"sr-only"},OG=["onClick"],LG=["disabled"],FG={class:"sr-only"},NG={key:7,class:"rounded-lg bg-white p-12 text-center shadow"},zG={class:"mt-2 text-sm font-medium text-gray-900"},BG={class:"mt-1 text-sm text-gray-500"},UG={class:"mt-6"},VG=ye({__name:"AdSenseReports",setup(s){const e=Je("__"),t=F(!1),o=F(!1),i=F([]),r=F([]),a=F(null),l=F(null),d=F([]),u=F(null),m=F([]),p=F(null),h=F(0),_=F(!1),y=F(null),x=De(()=>{if(!u.value||!u.value.countries)return[];const X=[];return u.value.countries.forEach(ee=>{ee.websites&&Array.isArray(ee.websites)&&ee.websites.forEach(te=>{X.push({...te,country_code:ee.country_code,country_name:ee.country_name})})}),X}),w=(X,ee)=>{if(!ee||ee===0)return"none";const te=X/ee*100;return te>=100?"excellent":te>=70?"good":"poor"},k=(X,ee)=>!ee||ee===0?0:Math.min(X/ee*100,100),b=X=>{switch(X){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=X=>{switch(X){case"excellent":return" On Target";case"good":return" Close";case"poor":return" Below Target";default:return"No Target"}},S=F(!0),N=F(!0),A=F({current_page:1,per_page:10,last_page:1,total_countries:0,from:0,to:0}),T=F(10),D=F("");let L=null;const I=new Date,O=new Date(I);O.setDate(O.getDate()-7);const P=F(O.toISOString().split("T")[0]),B=F(I.toISOString().split("T")[0]),be=X=>X?new Intl.NumberFormat("en-US").format(X):"0",le=X=>X?X>=1e6?(X/1e6).toFixed(1)+"M":X>=1e3?(X/1e3).toFixed(1)+"K":X.toString():"0",de=X=>X?parseFloat(X).toFixed(2):"0.00",ce=X=>X?parseFloat(X).toFixed(2):"0.00",me=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",Z=X=>{if(!X||X==="XX")return"";const ee=X.toUpperCase().split("").map(te=>127397+te.charCodeAt(0));return String.fromCodePoint(...ee)},ie=X=>{const ee=X.toLowerCase();return ee.includes("google")?"":ee.includes("bing")?"":ee.includes("yahoo")?"":ee.includes("facebook")?"":ee.includes("twitter")||ee.includes("x.com")?"":ee.includes("linkedin")?"":ee.includes("instagram")?"":ee.includes("pinterest")?"":ee.includes("reddit")?"":ee.includes("social")?"":ee.includes("referral")?"":ee.includes("direct")?"":ee.includes("email")?"":ee.includes("paid")?"":""},Te=De(()=>d.value.map(X=>new Date(X.report_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),se=De(()=>d.value.map(X=>({x:X.report_date,y:parseFloat(X.total_earnings||0)}))),ke=De(()=>[{label:"Impressions",data:d.value.map(X=>parseInt(X.total_impressions||0)),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"#6366F1",borderWidth:1},{label:"Clicks",data:d.value.map(X=>parseInt(X.total_clicks||0)),backgroundColor:"rgba(236, 72, 153, 0.8)",borderColor:"#EC4899",borderWidth:1}]),Ce=De(()=>i.value.slice(0,10).map(X=>X.country_name||X.country_code)),ue=De(()=>i.value.slice(0,10).map(X=>parseFloat(X.total_earnings||0))),xe=De(()=>{const X=[],ee=A.value.current_page,te=A.value.last_page;X.push(1);for(let ge=Math.max(2,ee-1);ge<=Math.min(te-1,ee+1);ge++)X.push(ge);return te>1&&X.push(te),[...new Set(X)].sort((ge,Pe)=>ge-Pe)}),Ae=X=>{X>=1&&X<=A.value.last_page&&(A.value.current_page=X,Ne())},Be=()=>{clearTimeout(L),L=setTimeout(()=>{A.value.current_page=1,Ne()},500)},nt=async()=>{try{const X=new Date().toISOString().split("T")[0];p.value=X;const ee=await tt.get("/api/adsense/reports/by-website",{params:{start_date:X,end_date:X}});if(ee.data.data&&ee.data.data.length>0){m.value=ee.data.data;try{const te=await tt.get("/api/adsense/reports",{params:{start_date:X,end_date:X}});if(te.data.data){const ge=te.data.data;m.value=m.value.map(Pe=>{const Re=ge.filter(Ee=>Ee.domain===Pe.domain).sort((Ee,$e)=>$e.impressions-Ee.impressions).slice(0,5);return{...Pe,topCountries:Re}})}}catch{}try{const te=await tt.get("/api/adsense/traffic-sources",{params:{start_date:X,end_date:X}});if(te.data.success&&te.data.data){const ge=te.data.data;m.value=m.value.map(Pe=>{const Re=ge[Pe.domain]||[];return{...Pe,trafficSources:Re.slice(0,5)}})}}catch{}h.value=m.value.reduce((te,ge)=>te+parseFloat(ge.total_earnings||0),0)}else m.value=[],h.value=0}catch{m.value=[],h.value=0}},Ne=async()=>{t.value=!0;try{const[X,ee,te,ge]=await Promise.all([tt.get("/api/adsense/reports/summary",{params:{start_date:P.value,end_date:B.value}}),tt.get("/api/adsense/reports/by-country",{params:{start_date:P.value,end_date:B.value,search:D.value,per_page:T.value,page:A.value.current_page}}),tt.get("/api/adsense/reports/by-website",{params:{start_date:P.value,end_date:B.value}}),tt.get("/api/adsense/reports/daily-trend",{params:{start_date:P.value,end_date:B.value}})]);a.value=X.data.data,i.value=ee.data.data,r.value=te.data.data,d.value=ge.data.data,ee.data.meta&&(A.value={current_page:ee.data.meta.current_page,per_page:ee.data.meta.per_page,last_page:ee.data.meta.last_page,total_countries:ee.data.meta.total_countries,from:ee.data.meta.from||0,to:ee.data.meta.to||0}),await nt()}catch{}finally{t.value=!1}},fe=async()=>{try{const X=await tt.get("/api/adsense/reports/latest-date");l.value=X.data.data.latest_report_date}catch{}},he=async()=>{try{const X=await tt.get("/api/adsense/user-assignments");u.value=X.data.data,y.value=X.data.data.targets,await U()}catch{}},U=async()=>{try{const ee=(await tt.get("/api/user")).data;ee&&ee.roles&&(_.value=ee.roles.some(te=>te.name==="Admin"))}catch{_.value=!1}},Y=async()=>{o.value=!0;try{await tt.post("/api/adsense/sync",{start_date:P.value,end_date:B.value}),await Ne(),await fe()}catch{alert("Failed to sync data. Please check your AdSense API configuration.")}finally{o.value=!1}};return Ye(async()=>{await he(),await fe(),await Ne()}),(X,ee)=>(g(),v("div",iW,[n("div",rW,[n("div",null,[n("h1",aW,c(f(e)("AdSense Reports")),1),ee[10]||(ee[10]=n("p",{class:"mt-1 text-sm text-gray-500"}," View your AdSense performance metrics by country ",-1)),u.value&&u.value.has_assignments?(g(),v("div",lW,[u.value.countries.length>0?(g(),v("span",dW,[n("strong",null,c(f(e)("Your Countries"))+":",1),(g(!0),v(re,null,ve(u.value.countries,(te,ge)=>(g(),v("span",{key:te.country_code},c(Z(te.country_code))+" "+c(te.country_name)+c(ge<u.value.countries.length-1?", ":""),1))),128))])):j("",!0),x.value.length>0?(g(),v("span",cW,[n("strong",null,c(f(e)("Your Websites"))+":",1),(g(!0),v(re,null,ve(x.value,(te,ge)=>(g(),v("span",{key:te.id},c(te.website_url)+c(ge<x.value.length-1?", ":""),1))),128))])):j("",!0)])):j("",!0)]),n("button",{disabled:o.value,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",onClick:Y},[o.value?(g(),v("svg",fW,[...ee[11]||(ee[11]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(g(),v("svg",mW,[...ee[12]||(ee[12]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),K(" "+c(o.value?f(e)("Syncing..."):f(e)("Sync Data")),1)],8,uW)]),y.value&&a.value?(g(),v("div",hW,[n("div",pW,[n("h3",gW,"  "+c(f(e)("Your Performance vs Targets")),1),n("span",_W,c(f(e)("For selected date range")),1)]),n("div",vW,[n("div",yW,[n("div",bW,[n("span",xW,c(f(e)("Impressions")),1),n("span",{class:Q([b(w(a.value.total_impressions,y.value.daily_impressions_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},c(Math.round(k(a.value.total_impressions,y.value.daily_impressions_target)))+"% ",3)]),n("div",wW,c(le(a.value.total_impressions)),1),n("div",kW,"Target: "+c(le(y.value.daily_impressions_target))+"/day",1),n("div",$W,[n("div",{class:Q([{"bg-green-500":w(a.value.total_impressions,y.value.daily_impressions_target)==="excellent","bg-yellow-500":w(a.value.total_impressions,y.value.daily_impressions_target)==="good","bg-red-500":w(a.value.total_impressions,y.value.daily_impressions_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:kt({width:k(a.value.total_impressions,y.value.daily_impressions_target)+"%"})},null,6)])]),n("div",CW,[n("div",SW,[n("span",MW,c(f(e)("Clicks")),1),n("span",{class:Q([b(w(a.value.total_clicks,y.value.daily_clicks_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},c(Math.round(k(a.value.total_clicks,y.value.daily_clicks_target)))+"% ",3)]),n("div",TW,c(le(a.value.total_clicks)),1),n("div",AW,"Target: "+c(le(y.value.daily_clicks_target))+"/day",1),n("div",DW,[n("div",{class:Q([{"bg-green-500":w(a.value.total_clicks,y.value.daily_clicks_target)==="excellent","bg-yellow-500":w(a.value.total_clicks,y.value.daily_clicks_target)==="good","bg-red-500":w(a.value.total_clicks,y.value.daily_clicks_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:kt({width:k(a.value.total_clicks,y.value.daily_clicks_target)+"%"})},null,6)])]),n("div",EW,[n("div",PW,[n("span",jW,c(f(e)("Average CPC")),1),n("span",{class:Q([{"bg-green-100 text-green-800":a.value.avg_cpc>=y.value.min_cpc_target,"bg-red-100 text-red-800":a.value.avg_cpc<y.value.min_cpc_target},"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},c(a.value.avg_cpc>=y.value.min_cpc_target?" Good":" Low"),3)]),n("div",{class:Q([{"text-green-600":a.value.avg_cpc>=y.value.min_cpc_target,"text-red-600":a.value.avg_cpc<y.value.min_cpc_target},"text-2xl font-bold"])}," $"+c(de(a.value.avg_cpc)),3),n("div",RW,"Min Target: $"+c(de(y.value.min_cpc_target)),1)])]),n("div",IW,[n("div",OW,[ee[13]||(ee[13]=n("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("div",LW,[n("p",FW,c(f(e)("Marketing Focus Tip")),1),n("p",NW,[K(c(f(e)("Check the country performance table below. Countries marked in"))+" ",1),n("span",zW,c(f(e)("red")),1),K(" "+c(f(e)("need more marketing effort, while"))+" ",1),n("span",BW,c(f(e)("green")),1),K(" "+c(f(e)("countries are performing well.")),1)])])])])])):j("",!0),!t.value&&m.value&&m.value.length>0?(g(),v("div",UW,[n("div",null,[n("h3",VW,c(f(e)("Today's Performance"))+" ("+c(me(p.value))+") ",1),n("div",HW,[(g(!0),v(re,null,ve(m.value,te=>(g(),v("div",{key:te.domain,class:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all"},[n("div",qW,[n("div",WW,[ee[14]||(ee[14]=n("svg",{class:"h-5 w-5 text-white opacity-75",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),n("h4",KW,c(te.domain),1)])]),n("div",YW,[_.value?(g(),v("div",GW,[n("span",XW,c(f(e)("Earnings")),1),n("span",JW,"$"+c(de(te.total_earnings)),1)])):j("",!0),n("div",{class:Q(_.value?"grid grid-cols-4 gap-2 pt-2 border-t border-white border-opacity-20":"grid grid-cols-4 gap-2")},[n("div",null,[n("p",QW,c(f(e)("Page Views")),1),n("p",ZW,c(le(te.total_page_views)),1)]),n("div",null,[n("p",eK,c(f(e)("Impr")),1),n("p",tK,c(le(te.total_impressions)),1)]),n("div",null,[n("p",sK,c(f(e)("Clicks")),1),n("p",nK,c(le(te.total_clicks)),1)]),n("div",null,[n("p",oK,c(f(e)("CPC")),1),n("p",iK,"$"+c(de(te.avg_cpc)),1)])],2),_.value?(g(),v("div",rK,[n("div",null,[n("p",aK,c(f(e)("RPM")),1),n("p",lK,"$"+c(de(te.avg_page_rpm)),1)])])):j("",!0),n("div",dK,[n("p",cK,c(f(e)("Traffic Sources")),1),te.trafficSources&&te.trafficSources.length>0?(g(),v("div",uK,[(g(!0),v(re,null,ve(te.trafficSources,ge=>(g(),v("span",{key:ge.source+ge.medium,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white bg-opacity-20 text-white",title:be(ge.sessions)+" sessions, "+be(ge.page_views)+" page views"},c(ie(ge.source))+" "+c(ge.source),9,fK))),128))])):(g(),v("div",mK,[ee[15]||(ee[15]=n("svg",{class:"h-4 w-4 text-white opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",hK,c(f(e)("No traffic data available. Grant service account access in GA4.")),1)]))]),te.topCountries&&te.topCountries.length>0?(g(),v("div",pK,[n("p",gK,c(f(e)("Top 5 Countries")),1),n("div",_K,[(g(!0),v(re,null,ve(te.topCountries,ge=>(g(),v("div",{key:ge.country_code,class:"flex items-center justify-between text-white text-xs"},[n("div",vK,[n("span",yK,c(Z(ge.country_code)),1),n("span",bK,c(ge.country_name),1)]),n("div",xK,[n("span",wK,c(le(ge.page_views))+" Views",1),n("span",kK,c(le(ge.impressions))+" Impr",1),n("span",$K,c(le(ge.clicks))+" Clicks",1)])]))),128))])])):j("",!0)])]))),128))]),_.value&&m.value.length>1?(g(),v("div",CK,[n("div",SK,[n("span",MK,c(f(e)("Total Earnings Today")),1),n("span",TK,"$"+c(de(h.value)),1)])])):j("",!0)])])):j("",!0),n("div",AK,[n("div",DK,[n("div",EK,[n("label",PK,c(f(e)("Start Date")),1),z(n("input",{"onUpdate:modelValue":ee[0]||(ee[0]=te=>P.value=te),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Ne},null,544),[[J,P.value]])]),n("div",jK,[n("label",RK,c(f(e)("End Date")),1),z(n("input",{"onUpdate:modelValue":ee[1]||(ee[1]=te=>B.value=te),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Ne},null,544),[[J,B.value]])]),n("div",IK,[n("button",{class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:Ne},c(f(e)("Apply")),1)])]),l.value?(g(),v("div",OK,c(f(e)("Latest available data: "))+" "+c(l.value),1)):j("",!0)]),t.value?(g(),ne(f(bt),{key:2,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):j("",!0),!t.value&&d.value.length>0?(g(),v("div",LK,[n("div",FK,[n("div",NK,[n("div",null,[n("h3",zK,c(f(e)("Earnings Trend")),1),ee[16]||(ee[16]=n("p",{class:"mt-1 text-xs text-gray-500"}," Daily earnings over selected period ",-1))])]),n("div",BK,[C(f(mm),{id:"earnings-chart",data:se.value,"tooltip-label":"Earnings ($)","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]),n("div",UK,[n("div",VK,[n("div",null,[n("h3",HK,c(f(e)("Impressions & Clicks")),1),ee[17]||(ee[17]=n("p",{class:"mt-1 text-xs text-gray-500"}," Daily performance comparison ",-1))])]),n("div",qK,[C(f(vM),{id:"impressions-clicks-chart",data:ke.value,labels:Te.value},null,8,["data","labels"])])]),i.value.length>0?(g(),v("div",WK,[n("div",KK,[n("div",null,[n("h3",YK,c(f(e)("Top 10 Countries by Earnings")),1),ee[18]||(ee[18]=n("p",{class:"mt-1 text-xs text-gray-500"}," Revenue distribution by country ",-1))])]),n("div",GK,[C(f(bM),{id:"countries-chart",data:ue.value,labels:Ce.value},null,8,["data","labels"])])])):j("",!0)])):a.value?(g(),v("div",XK,[n("div",JK,[n("dt",QK,c(f(e)("Total Impressions")),1),n("dd",ZK,c(be(a.value.total_impressions)),1)]),n("div",eY,[n("dt",tY,c(f(e)("Total Clicks")),1),n("dd",sY,c(be(a.value.total_clicks)),1)]),n("div",nY,[n("dt",oY,c(f(e)("Page Views")),1),n("dd",iY,c(be(a.value.total_page_views)),1)]),n("div",rY,[n("dt",aY,c(f(e)("Total Earnings")),1),n("dd",lY," $"+c(de(a.value.total_earnings)),1)]),n("div",dY,[n("dt",cY,c(f(e)("Avg CPC")),1),n("dd",uY," $"+c(de(a.value.avg_cpc)),1)]),n("div",fY,[n("dt",mY,c(f(e)("Page RPM")),1),n("dd",hY," $"+c(de(a.value.avg_page_rpm)),1)]),n("div",pY,[n("dt",gY,c(f(e)("Page CTR")),1),n("dd",_Y,c(ce(a.value.avg_page_ctr))+"% ",1)]),n("div",vY,[n("dt",yY,c(f(e)("Countries")),1),n("dd",bY,c(a.value.total_countries),1)])])):j("",!0),!t.value&&r.value.length>0?(g(),v("div",xY,[n("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:ee[2]||(ee[2]=te=>S.value=!S.value)},[n("div",wY,[n("div",null,[n("h4",kY,c(f(e)("Performance by Website")),1),n("p",$Y,c(f(e)("See how each website is performing")),1)]),(g(),v("svg",{class:Q(["h-5 w-5 text-gray-500 transition-transform",S.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...ee[19]||(ee[19]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),z(n("div",CY,[n("table",SY,[n("thead",MY,[n("tr",null,[n("th",TY,c(f(e)("Website")),1),n("th",AY,c(f(e)("Countries")),1),n("th",DY,c(f(e)("Impressions")),1),n("th",EY,c(f(e)("Clicks")),1),n("th",PY,c(f(e)("Page Views")),1),n("th",jY,c(f(e)("CPC")),1)])]),n("tbody",RY,[(g(!0),v(re,null,ve(r.value,te=>(g(),v("tr",{key:te.domain,class:"hover:bg-gray-50"},[n("td",IY,[n("div",OY,[ee[20]||(ee[20]=n("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),K(" "+c(te.domain),1)])]),n("td",LY,c(te.countries_count),1),n("td",FY,c(be(te.total_impressions)),1),n("td",NY,c(be(te.total_clicks)),1),n("td",zY,c(be(te.total_page_views)),1),n("td",BY," $"+c(de(te.avg_cpc)),1)]))),128))])])],512),[[zt,S.value]])])):j("",!0),!t.value&&i.value.length>0?(g(),v("div",UY,[n("div",VY,[n("div",HY,[n("div",{class:"flex items-center cursor-pointer",onClick:ee[3]||(ee[3]=te=>N.value=!N.value)},[n("h3",qY,c(f(e)("Performance by Country")),1),(g(),v("svg",{class:Q(["ml-2 h-5 w-5 text-gray-500 transition-transform",N.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...ee[21]||(ee[21]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),z(n("div",WY,[n("div",KY,[z(n("input",{"onUpdate:modelValue":ee[4]||(ee[4]=te=>D.value=te),type:"text",placeholder:f(e)("Search countries..."),class:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10",onInput:Be},null,40,YY),[[J,D.value]]),ee[22]||(ee[22]=n("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),z(n("select",{"onUpdate:modelValue":ee[5]||(ee[5]=te=>T.value=te),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Ne},[...ee[23]||(ee[23]=[n("option",{value:10},"10 per page",-1),n("option",{value:25},"25 per page",-1),n("option",{value:50},"50 per page",-1),n("option",{value:100},"100 per page",-1)])],544),[[Me,T.value]])],512),[[zt,N.value]])])]),z(n("div",GY,[n("table",XY,[n("thead",JY,[n("tr",null,[n("th",QY,c(f(e)("Country")),1),n("th",ZY,c(f(e)("Impressions")),1),n("th",eG,c(f(e)("Clicks")),1),n("th",tG,c(f(e)("Page Views")),1),n("th",sG,c(f(e)("CPC")),1)])]),n("tbody",nG,[(g(!0),v(re,null,ve(i.value,te=>(g(),v("tr",{key:te.country_code,class:"hover:bg-gray-50"},[n("td",oG,[n("div",iG,[n("div",rG,[n("span",aG,c(Z(te.country_code)),1),n("div",lG,c(te.country_name||te.country_code),1)]),y.value?(g(),v("span",{key:0,class:Q([b(w(te.total_impressions,y.value.daily_impressions_target)),"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},c(M(w(te.total_impressions,y.value.daily_impressions_target))),3)):j("",!0)]),y.value&&y.value.daily_impressions_target?(g(),v("div",dG,[n("div",cG,[n("span",null,c(be(te.total_impressions))+" / "+c(be(y.value.daily_impressions_target)),1),n("span",null,c(Math.round(k(te.total_impressions,y.value.daily_impressions_target)))+"%",1)]),n("div",uG,[n("div",{class:Q([{"bg-green-500":w(te.total_impressions,y.value.daily_impressions_target)==="excellent","bg-yellow-500":w(te.total_impressions,y.value.daily_impressions_target)==="good","bg-red-500":w(te.total_impressions,y.value.daily_impressions_target)==="poor"},"h-1.5 rounded-full transition-all duration-500"]),style:kt({width:k(te.total_impressions,y.value.daily_impressions_target)+"%"})},null,6)])])):j("",!0)]),n("td",fG,[n("div",mG,c(be(te.total_impressions)),1),y.value?(g(),v("div",hG," Target: "+c(be(y.value.daily_impressions_target)),1)):j("",!0)]),n("td",pG,[n("div",gG,c(be(te.total_clicks)),1),y.value?(g(),v("div",_G," Target: "+c(be(y.value.daily_clicks_target)),1)):j("",!0)]),n("td",vG,[n("div",yG,c(be(te.total_page_views)),1),y.value?(g(),v("div",bG," Target: "+c(be(y.value.daily_page_views_target)),1)):j("",!0)]),n("td",xG,[n("div",{class:Q({"text-green-600 font-semibold":y.value&&te.avg_cpc>=y.value.min_cpc_target,"text-red-600":y.value&&te.avg_cpc<y.value.min_cpc_target,"text-gray-900":!y.value})}," $"+c(de(te.avg_cpc)),3),y.value?(g(),v("div",wG," Min: $"+c(de(y.value.min_cpc_target)),1)):j("",!0)])]))),128))])])],512),[[zt,N.value]]),A.value.last_page>1&&N.value?(g(),v("div",kG,[n("div",$G,[n("div",CG,[n("button",{disabled:A.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ee[6]||(ee[6]=te=>Ae(A.value.current_page-1))},c(f(e)("Previous")),9,SG),n("button",{disabled:A.value.current_page===A.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ee[7]||(ee[7]=te=>Ae(A.value.current_page+1))},c(f(e)("Next")),9,MG)]),n("div",TG,[n("div",null,[n("p",AG,[K(c(f(e)("Showing"))+" ",1),n("span",DG,c(A.value.from),1),K(" "+c(f(e)("to"))+" ",1),n("span",EG,c(A.value.to),1),K(" "+c(f(e)("of"))+" ",1),n("span",PG,c(A.value.total_countries),1),K(" "+c(f(e)("countries")),1)])]),n("div",null,[n("nav",jG,[n("button",{disabled:A.value.current_page===1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ee[8]||(ee[8]=te=>Ae(A.value.current_page-1))},[n("span",IG,c(f(e)("Previous")),1),ee[24]||(ee[24]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,RG),(g(!0),v(re,null,ve(xe.value,te=>(g(),v("button",{key:te,class:Q([te===A.value.current_page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center border px-4 py-2 text-sm font-medium"]),onClick:ge=>Ae(te)},c(te),11,OG))),128)),n("button",{disabled:A.value.current_page===A.value.last_page,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ee[9]||(ee[9]=te=>Ae(A.value.current_page+1))},[n("span",FG,c(f(e)("Next")),1),ee[25]||(ee[25]=n("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,LG)])])])])])):j("",!0)])):!t.value&&i.value.length===0?(g(),v("div",NG,[ee[27]||(ee[27]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),n("h3",zG,c(f(e)("No data available")),1),n("p",BG,c(f(e)("Try syncing data or selecting a different date range.")),1),n("div",UG,[n("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:Y},[ee[26]||(ee[26]=n("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),K(" "+c(f(e)("Sync Data")),1)])])])):j("",!0)]))}}),wf="attendance",HG=ye({__name:"Form",props:{id:{}},setup(s){const e=gs(wf)(),t=ks(wf)(),o=_o(),i=kl();return e.onSuccess(()=>{t.fetch(),Ft().pop()}),(r,a)=>(g(),ne(f(ls),{id:s.id,name:wf,uri:"attendance"},{default:q(()=>[a[0]||(a[0]=n("input",{type:"hidden",name:"action",value:"manual"},null,-1)),C(f(i),{name:"user_id",label:"User",class:"col-span-12",disabled:!!s.id},null,8,["disabled"]),C(f(o),{name:"date",label:"Date",type:"date",class:"col-span-12"}),C(f(o),{name:"clock_in",label:"Clock In",type:"datetime-local",class:"col-span-6"}),C(f(o),{name:"clock_out",label:"Clock Out",type:"datetime-local",class:"col-span-6"}),C(f(o),{name:"notes",label:"Notes",class:"col-span-12"})]),_:1},8,["id"]))}}),qG={key:0,class:"mt-8 flex justify-center"},WG={key:1},KG={key:0,class:"mb-6 border-b border-gray-200"},YG={class:"-mb-px flex space-x-8"},GG={class:"mb-6 overflow-hidden rounded-lg bg-white shadow-md"},XG={class:"border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},JG={class:"text-xl font-semibold text-white"},QG={class:"p-6"},ZG={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-4"},eX={class:"rounded-lg border border-green-200 bg-green-50 p-4 shadow-sm"},tX={class:"mb-2 flex items-center"},sX={class:"text-sm font-medium text-green-800"},nX={class:"text-2xl font-bold text-green-900"},oX={class:"rounded-lg border border-red-200 bg-red-50 p-4 shadow-sm"},iX={class:"mb-2 flex items-center"},rX={class:"text-sm font-medium text-red-800"},aX={class:"text-2xl font-bold text-red-900"},lX={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-sm"},dX={class:"mb-2 flex items-center"},cX={class:"text-sm font-medium text-blue-800"},uX={class:"text-2xl font-bold text-blue-900"},fX={class:"flex items-center justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm"},mX={key:1,class:"flex items-center justify-between"},hX={class:"flex items-center text-gray-500"},pX={class:"text-lg font-medium text-gray-700"},gX={class:"text-sm text-gray-500"},_X={key:0,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3"},vX={class:"relative rounded-md shadow-sm"},yX=["placeholder"],bX={class:"relative rounded-md shadow-sm"},xX=["placeholder"],wX={class:"relative rounded-md shadow-sm"},kX={value:""},$X=["value"],CX={key:1,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2"},SX={class:"relative rounded-md shadow-sm"},MX=["placeholder"],TX={class:"relative rounded-md shadow-sm"},AX=["placeholder"],DX={key:0,class:"ltr:ml-auto rtl:mr-auto"},EX={class:"flex flex-col"},PX={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},jX={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},RX={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},IX={class:"min-w-full divide-y divide-gray-200"},OX={key:1,class:"bg-gray-50 px-6 py-3"},LX={class:"divide-y divide-gray-200 bg-white"},FX={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},NX={class:"flex items-center"},zX={class:"ltr:ml-2 rtl:mr-2"},BX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},UX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},VX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},HX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},qX={class:"px-6 py-4 text-sm text-gray-500"},WX={class:"max-w-xs truncate"},KX={key:1,class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},YX=["onClick"],GX={key:1},XX={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},JX={class:"overflow-hidden rounded-lg bg-white shadow"},QX={class:"p-5"},ZX={class:"flex items-center"},eJ={class:"flex-shrink-0"},tJ={class:"ml-5 w-0 flex-1"},sJ={class:"truncate text-sm font-medium text-gray-500"},nJ={class:"text-lg font-semibold text-gray-900"},oJ={class:"overflow-hidden rounded-lg bg-white shadow"},iJ={class:"p-5"},rJ={class:"flex items-center"},aJ={class:"flex-shrink-0"},lJ={class:"ml-5 w-0 flex-1"},dJ={class:"truncate text-sm font-medium text-gray-500"},cJ={class:"text-lg font-semibold text-gray-900"},uJ={class:"overflow-hidden rounded-lg bg-white shadow"},fJ={class:"p-5"},mJ={class:"flex items-center"},hJ={class:"flex-shrink-0"},pJ={class:"ml-5 w-0 flex-1"},gJ={class:"truncate text-sm font-medium text-gray-500"},_J={class:"text-lg font-semibold text-gray-900"},vJ={class:"overflow-hidden rounded-lg bg-white shadow"},yJ={class:"p-5"},bJ={class:"flex items-center"},xJ={class:"flex-shrink-0"},wJ={class:"ml-5 w-0 flex-1"},kJ={class:"truncate text-sm font-medium text-gray-500"},$J={class:"text-lg font-semibold text-gray-900"},CJ={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},SJ={class:"flex flex-1 gap-2"},MJ={value:""},TJ=["value"],AJ={class:"flex gap-2"},DJ={class:"flex flex-col"},EJ={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},PJ={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},jJ={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},RJ={class:"min-w-full divide-y divide-gray-200"},IJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},OJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},LJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},FJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},NJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},zJ={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},BJ={class:"divide-y divide-gray-200 bg-white"},UJ={class:"whitespace-nowrap px-6 py-4"},VJ={class:"flex items-center"},HJ={class:"ml-3"},qJ={class:"text-sm font-medium text-gray-900"},WJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},KJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},YJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},GJ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},XJ={class:"px-6 py-4 text-sm text-gray-500"},JJ={key:0},QJ={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},ZJ={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},eQ={class:"flex items-center justify-between"},tQ={class:"text-sm text-gray-700"},sQ={class:"flex gap-2"},nQ=ye({__name:"IndexWorking",setup(s){const e=Je("__"),t=ks("attendance")(),o=F(!0),i=F([]),r=F(null),a=F(!1),l=F(!1),d=F(!1),u=De(()=>ht.is_attendance_admin),m=F("attendance"),p=F(null),h=F([]),_=F({current_page:1,last_page:1,per_page:50,total:0}),y=F({start_date:"",end_date:"",user_id:""}),x=Qe({userId:"",startDate:"",endDate:"",page:1});Ye(()=>{u.value&&w(),k(),S()}),t.setConfig({uri:"attendance",orderByDirection:"desc",orderBy:"date"}),t.fetch();async function w(){try{const ce=await ae.get("attendance/users");i.value=ce.data}catch{}}async function k(){try{const ce=await ae.get("attendance/status");r.value=ce.data.attendance,a.value=ce.data.is_clocked_in}catch{}}async function b(){var ce,me;l.value=!0;try{await ae.post("attendance",{action:"clock_in"}),await k(),t.fetch(),alert(e("Clocked in successfully!"))}catch(Z){const ie=((me=(ce=Z.response)==null?void 0:ce.data)==null?void 0:me.message)||e("Error clocking in. Please try again.");alert(ie)}finally{l.value=!1}}async function M(){var ce,me;if(!r.value){alert(e("No attendance record found for today"));return}d.value=!0;try{await ae.patch(`attendance/${r.value.id}`,{action:"clock_out"}),await k(),t.fetch(),alert(e("Clocked out successfully!"))}catch(Z){const ie=((me=(ce=Z.response)==null?void 0:ce.data)==null?void 0:me.message)||e("Error clocking out. Please try again.");alert(ie)}finally{d.value=!1}}function S(){setTimeout(function(){if(t.fetching){S();return}N()},150)}function N(){o.value=!1}function A(ce=null){Ft().add(HG,{id:ce})}async function T(ce){if(confirm(e("Are you sure you want to delete this attendance record?")))try{await ae.delete(`attendance/${ce}`),t.fetch(),alert(e("Attendance record deleted successfully!"))}catch{alert(e("Error deleting record. Please try again."))}}function D(){o.value=!0;const ce={};y.value.start_date&&(ce.start_date=y.value.start_date),y.value.end_date&&(ce.end_date=y.value.end_date),y.value.user_id&&(ce.user_id=y.value.user_id),t.params={...t.params,...ce},t.fetch(),S()}async function L(){try{const ce=await ae.get("attendance/report");p.value=ce.data}catch{}I()}async function I(){try{const ce=new URLSearchParams;x.userId&&ce.append("user_id",x.userId),x.startDate&&ce.append("start_date",x.startDate),x.endDate&&ce.append("end_date",x.endDate),ce.append("page",String(x.page)),ce.append("per_page",String(_.value.per_page));const me=await ae.get(`attendance?${ce}`);h.value=me.data.data,_.value={current_page:me.data.current_page,last_page:me.data.last_page,per_page:me.data.per_page,total:me.data.total}}catch{}}function O(){x.userId="",x.startDate="",x.endDate="",x.page=1,I()}function P(ce){x.page=ce,I()}async function B(){try{const ce=new URLSearchParams;x.userId&&ce.append("user_id",x.userId),x.startDate&&ce.append("start_date",x.startDate),x.endDate&&ce.append("end_date",x.endDate);const me=await ae.get(`attendance/export?${ce}`,{responseType:"blob"}),Z=window.URL.createObjectURL(new Blob([me.data])),ie=document.createElement("a");ie.href=Z,ie.setAttribute("download",`attendance_report_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),window.URL.revokeObjectURL(Z)}catch{}}function be(ce){return ce?new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function le(ce){return ce?new Date(ce).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-"}function de(ce){if(!ce)return"-";const me=Math.floor(ce/60),Z=ce%60;return`${me}h ${Z}m`}return(ce,me)=>o.value?(g(),v("div",qG,[C(f(bt),{size:"40",color:"#5850ec"})])):(g(),v("div",WG,[u.value?(g(),v("div",KG,[n("nav",YG,[n("button",{class:Q([m.value==="attendance"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:me[0]||(me[0]=Z=>m.value="attendance")},c(f(e)("Attendance")),3),n("button",{class:Q([m.value==="reports"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:me[1]||(me[1]=Z=>{m.value="reports",L()})},c(f(e)("Reports")),3)])])):j("",!0),z(n("div",null,[n("div",GG,[n("div",XG,[n("h3",JG,c(f(e)("Today's Attendance")),1)]),n("div",QG,[r.value?(g(),v("div",ZG,[n("div",eX,[n("div",tX,[me[13]||(me[13]=n("svg",{class:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",sX,c(f(e)("Clock In")),1)]),n("p",nX,c(le(r.value.clock_in)),1)]),n("div",oX,[n("div",iX,[me[14]||(me[14]=n("svg",{class:"mr-2 h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",rX,c(f(e)("Clock Out")),1)]),n("p",aX,c(r.value.clock_out?le(r.value.clock_out):"-"),1)]),n("div",lX,[n("div",dX,[me[15]||(me[15]=n("svg",{class:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),n("span",cX,c(f(e)("Total Hours")),1)]),n("p",uX,c(r.value.total_hours?de(r.value.total_hours):"-"),1)]),n("div",fX,[a.value?(g(),ne(f(Se),{key:1,size:"lg",color:"red",disabled:d.value,class:"w-full",onClick:M},{default:q(()=>[me[17]||(me[17]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),K(" "+c(d.value?f(e)("Clocking Out..."):f(e)("Clock Out")),1)]),_:1},8,["disabled"])):(g(),ne(f(Se),{key:0,size:"lg",disabled:l.value,class:"w-full",onClick:b},{default:q(()=>[me[16]||(me[16]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),K(" "+c(l.value?f(e)("Clocking In..."):f(e)("Clock In")),1)]),_:1},8,["disabled"]))])])):(g(),v("div",mX,[n("div",hX,[me[18]||(me[18]=n("svg",{class:"mr-3 h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("div",null,[n("p",pX,c(f(e)("You have not clocked in today")),1),n("p",gX,c(f(e)("Click the button to start your work day")),1)])]),C(f(Se),{size:"lg",disabled:l.value,onClick:b},{default:q(()=>[me[19]||(me[19]=n("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),K(" "+c(l.value?f(e)("Clocking In..."):f(e)("Clock In")),1)]),_:1},8,["disabled"])]))])]),u.value?(g(),v("div",_X,[n("div",vX,[z(n("input",{"onUpdate:modelValue":me[2]||(me[2]=Z=>y.value.start_date=Z),type:"date",placeholder:f(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,40,yX),[[J,y.value.start_date]])]),n("div",bX,[z(n("input",{"onUpdate:modelValue":me[3]||(me[3]=Z=>y.value.end_date=Z),type:"date",placeholder:f(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,40,xX),[[J,y.value.end_date]])]),n("div",wX,[z(n("select",{"onUpdate:modelValue":me[4]||(me[4]=Z=>y.value.user_id=Z),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},[n("option",kX,c(f(e)("All Users")),1),(g(!0),v(re,null,ve(i.value,Z=>(g(),v("option",{key:Z.id,value:Z.id},c(Z.name),9,$X))),128))],544),[[Me,y.value.user_id]])])])):(g(),v("div",CX,[n("div",SX,[z(n("input",{"onUpdate:modelValue":me[5]||(me[5]=Z=>y.value.start_date=Z),type:"date",placeholder:f(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,40,MX),[[J,y.value.start_date]])]),n("div",TX,[z(n("input",{"onUpdate:modelValue":me[6]||(me[6]=Z=>y.value.end_date=Z),type:"date",placeholder:f(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D},null,40,AX),[[J,y.value.end_date]])])])),n("section",null,[C(f(Fa),{title:u.value?f(e)("Attendance Records"):f(e)("My Attendance")},{default:q(()=>[u.value?(g(),v("div",DX,[C(f(Se),{size:"sm","data-cy":"topbar-create-button",onClick:me[7]||(me[7]=Z=>A())},{default:q(()=>[K(c(f(e)("Add Attendance")),1)]),_:1})])):j("",!0)]),_:1},8,["title"]),n("div",EX,[n("div",PX,[n("div",jX,[n("div",RX,[n("table",IX,[n("thead",null,[n("tr",null,[u.value?(g(),ne(f(je),{key:0,name:"attendance",index:f(t),label:f(e)("User"),sort:"user_id"},null,8,["index","label"])):j("",!0),C(f(je),{name:"attendance",index:f(t),label:f(e)("Date"),sort:"date"},null,8,["index","label"]),C(f(je),{name:"attendance",index:f(t),label:f(e)("Clock In"),sort:"clock_in"},null,8,["index","label"]),C(f(je),{name:"attendance",index:f(t),label:f(e)("Clock Out"),sort:"clock_out"},null,8,["index","label"]),C(f(je),{name:"attendance",index:f(t),label:f(e)("Total Hours")},null,8,["index","label"]),C(f(je),{name:"attendance",index:f(t),label:f(e)("Notes")},null,8,["index","label"]),u.value?(g(),v("th",OX)):j("",!0)])]),n("tbody",LX,[(g(!0),v(re,null,ve(f(t).data.data,Z=>{var ie;return g(),v("tr",{key:Z.id},[u.value?(g(),v("td",FX,[n("div",NX,[Z.user?(g(),ne(f(Xt),{key:0,class:"h-6 w-6",avatar:Z.user.avatar},null,8,["avatar"])):j("",!0),n("span",zX,c(((ie=Z.user)==null?void 0:ie.name)||"N/A"),1)])])):j("",!0),n("td",BX,c(be(Z.date)),1),n("td",UX,c(le(Z.clock_in)),1),n("td",VX,c(Z.clock_out?le(Z.clock_out):"-"),1),n("td",HX,c(de(Z.total_hours)),1),n("td",qX,[n("div",WX,c(Z.notes||"-"),1)]),u.value?(g(),v("td",KX,[n("span",{class:"ml-2 cursor-pointer",onClick:Te=>A(Z.id)},[C(f(Ur),{class:"w-5 text-gray-400 hover:text-gray-800"})],8,YX),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(Te=>T(Z.id),["prevent"])},null,8,["onClick"])])):j("",!0)])}),128))])]),C(f(ms),{index:f(t)},null,8,["index"])])])])])])],512),[[zt,m.value==="attendance"]]),u.value?z((g(),v("div",GX,[p.value?(g(),v("div",XX,[n("div",JX,[n("div",QX,[n("div",ZX,[n("div",eJ,[C(f(el),{class:"h-6 w-6 text-blue-400"})]),n("div",tJ,[n("dl",null,[n("dt",sJ,c(f(e)("Present Today")),1),n("dd",nJ,c(p.value.present_today),1)])])])])]),n("div",oJ,[n("div",iJ,[n("div",rJ,[n("div",aJ,[C(f(Ws),{class:"h-6 w-6 text-green-400"})]),n("div",lJ,[n("dl",null,[n("dt",dJ,c(f(e)("Avg Hours Today")),1),n("dd",cJ,c(p.value.avg_hours_today)+"h ",1)])])])])]),n("div",uJ,[n("div",fJ,[n("div",mJ,[n("div",hJ,[C(f(un),{class:"h-6 w-6 text-purple-400"})]),n("div",pJ,[n("dl",null,[n("dt",gJ,c(f(e)("This Month")),1),n("dd",_J,c(p.value.total_this_month),1)])])])])]),n("div",vJ,[n("div",yJ,[n("div",bJ,[n("div",xJ,[C(f(gl),{class:"h-6 w-6 text-yellow-400"})]),n("div",wJ,[n("dl",null,[n("dt",kJ,c(f(e)("Avg Monthly Hours")),1),n("dd",$J,c(p.value.avg_hours_month)+"h ",1)])])])])])])):j("",!0),n("div",CJ,[n("div",SJ,[z(n("select",{"onUpdate:modelValue":me[8]||(me[8]=Z=>x.userId=Z),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I},[n("option",MJ,c(f(e)("All Employees")),1),(g(!0),v(re,null,ve(i.value,Z=>(g(),v("option",{key:Z.id,value:Z.id},c(Z.name),9,TJ))),128))],544),[[Me,x.userId]]),z(n("input",{"onUpdate:modelValue":me[9]||(me[9]=Z=>x.startDate=Z),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I},null,544),[[J,x.startDate]]),z(n("input",{"onUpdate:modelValue":me[10]||(me[10]=Z=>x.endDate=Z),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I},null,544),[[J,x.endDate]]),C(f(Se),{white:"",onClick:O},{default:q(()=>[K(c(f(e)("Reset")),1)]),_:1})]),n("div",AJ,[C(f(Se),{white:"",onClick:B},{default:q(()=>[C(f(Nc),{class:"mr-2 h-4 w-4"}),K(" "+c(f(e)("Export")),1)]),_:1})])]),n("section",null,[n("div",DJ,[n("div",EJ,[n("div",PJ,[n("div",jJ,[n("table",RJ,[n("thead",null,[n("tr",null,[n("th",IJ,c(f(e)("Employee")),1),n("th",OJ,c(f(e)("Date")),1),n("th",LJ,c(f(e)("Clock In")),1),n("th",FJ,c(f(e)("Clock Out")),1),n("th",NJ,c(f(e)("Total Hours")),1),n("th",zJ,c(f(e)("Notes")),1)])]),n("tbody",BJ,[(g(!0),v(re,null,ve(h.value,Z=>{var ie;return g(),v("tr",{key:Z.id,class:"hover:bg-gray-50"},[n("td",UJ,[n("div",VJ,[Z.user?(g(),ne(f(Xt),{key:0,user:Z.user,size:"8"},null,8,["user"])):j("",!0),n("div",HJ,[n("div",qJ,c((ie=Z.user)==null?void 0:ie.name),1)])])]),n("td",WJ,c(be(Z.date)),1),n("td",KJ,c(le(Z.clock_in)),1),n("td",YJ,c(Z.clock_out?le(Z.clock_out):"-"),1),n("td",GJ,c(Z.total_hours?de(Z.total_hours):"-"),1),n("td",XJ,c(Z.notes||"-"),1)])}),128)),h.value.length===0?(g(),v("tr",JJ,[n("td",QJ,c(f(e)("No records found")),1)])):j("",!0)])]),_.value.last_page>1?(g(),v("div",ZJ,[n("div",eQ,[n("div",tQ,c(f(e)("Page"))+" "+c(_.value.current_page)+" "+c(f(e)("of"))+" "+c(_.value.last_page),1),n("div",sQ,[C(f(Se),{white:"",size:"sm",disabled:_.value.current_page===1,onClick:me[11]||(me[11]=Z=>P(_.value.current_page-1))},{default:q(()=>[K(c(f(e)("Previous")),1)]),_:1},8,["disabled"]),C(f(Se),{white:"",size:"sm",disabled:_.value.current_page===_.value.last_page,onClick:me[12]||(me[12]=Z=>P(_.value.current_page+1))},{default:q(()=>[K(c(f(e)("Next")),1)]),_:1},8,["disabled"])])])])):j("",!0)])])])])])],512)),[[zt,m.value==="reports"]]):j("",!0)]))}}),Kr=(s,e={})=>{const t=Qe({...e}),o=Qe({}),i=F(!1);let r=null;const a=async u=>{var m,p;i.value=!0,Object.keys(o).forEach(h=>delete o[h]);try{const h=r?"put":"post",_=r?`${s}/${r}`:s,y=await ae[h](_,t);return u&&u(),y}catch(h){if((p=(m=h.response)==null?void 0:m.data)!=null&&p.errors){const _=h.response.data.errors;Object.keys(_).forEach(y=>{o[y]=Array.isArray(_[y])?_[y][0]:_[y]})}throw h}finally{i.value=!1}},l=u=>{u.id&&(r=u.id),Object.keys(u).forEach(m=>{(m in t||m==="id")&&(t[m]=u[m])})},d=()=>{r=null,Object.keys(e).forEach(u=>{t[u]=e[u]}),Object.keys(o).forEach(u=>delete o[u])};return new Proxy(t,{get(u,m){return m==="submit"?a:m==="setData"?l:m==="reset"?d:m==="errors"?o:m==="processing"?i:m==="id"?r:u[m]},set(u,m,p){return u[m]=p,!0}})},oQ={class:"space-y-6"},iQ={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},rQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},aQ={class:"mt-1 sm:col-span-2 sm:mt-0"},lQ={value:""},dQ=["value"],cQ={key:0,class:"mt-2 text-sm text-red-600"},uQ={class:"border-t border-gray-200 pt-6"},fQ={class:"text-lg font-medium leading-6 text-gray-900"},mQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pQ={class:"mt-1 sm:col-span-2 sm:mt-0"},gQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_Q={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vQ={class:"mt-1 sm:col-span-2 sm:mt-0"},yQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},bQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xQ={class:"mt-1 sm:col-span-2 sm:mt-0"},wQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},kQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$Q={class:"mt-1 sm:col-span-2 sm:mt-0"},CQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},SQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},MQ={class:"mt-1 sm:col-span-2 sm:mt-0"},TQ={value:""},AQ={value:"Male"},DQ={value:"Female"},EQ={value:"Other"},PQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},jQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},RQ={class:"mt-1 sm:col-span-2 sm:mt-0"},IQ={value:""},OQ={value:"Single"},LQ={value:"Married"},FQ={value:"Divorced"},NQ={value:"Widowed"},zQ={class:"border-t border-gray-200 pt-6"},BQ={class:"text-lg font-medium leading-6 text-gray-900"},UQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},VQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},HQ={class:"mt-1 sm:col-span-2 sm:mt-0"},qQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},KQ={class:"mt-1 sm:col-span-2 sm:mt-0"},YQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},GQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},XQ={class:"mt-1 sm:col-span-2 sm:mt-0"},JQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},QQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ZQ={class:"mt-1 sm:col-span-2 sm:mt-0"},eZ={class:"border-t border-gray-200 pt-6"},tZ={class:"text-lg font-medium leading-6 text-gray-900"},sZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},oZ={class:"mt-1 sm:col-span-2 sm:mt-0"},iZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},rZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},aZ={class:"mt-1 sm:col-span-2 sm:mt-0"},lZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},dZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},cZ={class:"mt-1 sm:col-span-2 sm:mt-0"},uZ={value:""},fZ=["value"],mZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pZ={class:"mt-1 sm:col-span-2 sm:mt-0"},gZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_Z={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vZ={class:"mt-1 sm:col-span-2 sm:mt-0"},yZ={value:"Permanent"},bZ={value:"Contract"},xZ={value:"Probation"},wZ={value:"Casual"},kZ={value:"Internship"},$Z={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},CZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},SZ={class:"mt-1 sm:col-span-2 sm:mt-0"},MZ={value:"Active"},TZ={value:"Resigned"},AZ={value:"Terminated"},DZ={value:"Retired"},EZ={value:"Deceased"},PZ={value:"On Leave"},jZ={value:"Suspended"},RZ={key:1,class:"space-y-6 border-t border-gray-200 pt-6"},IZ={class:"text-base font-medium text-gray-900"},OZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},LZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},FZ={class:"mt-1 sm:col-span-2 sm:mt-0"},NZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},zZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},BZ={class:"mt-1 sm:col-span-2 sm:mt-0"},UZ={key:2,class:"space-y-6 border-t border-gray-200 pt-6"},VZ={class:"text-base font-medium text-gray-900"},HZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},qZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},WZ={class:"mt-1 sm:col-span-2 sm:mt-0"},KZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},YZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},GZ={class:"mt-1 sm:col-span-2 sm:mt-0"},XZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},JZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},QZ={class:"mt-1 sm:col-span-2 sm:mt-0"},ZZ={class:"border-t border-gray-200 pt-6"},eee={class:"text-lg font-medium leading-6 text-gray-900"},tee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},see={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nee={class:"mt-1 sm:col-span-2 sm:mt-0"},oee={class:"flex gap-2"},iee={class:"border-t border-gray-200 pt-6"},ree={class:"text-lg font-medium leading-6 text-gray-900"},aee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},lee={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},dee={class:"mt-1 sm:col-span-2 sm:mt-0"},cee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},uee={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},fee={class:"mt-1 sm:col-span-2 sm:mt-0"},mee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hee={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pee={class:"mt-1 sm:col-span-2 sm:mt-0"},gee={class:"border-t border-gray-200 pt-6"},_ee={class:"text-lg font-medium leading-6 text-gray-900"},vee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yee={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bee={class:"mt-1 sm:col-span-2 sm:mt-0"},xee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wee={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kee={class:"mt-1 sm:col-span-2 sm:mt-0"},$ee={class:"border-t border-gray-200 pt-6"},Cee={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},See={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Mee={class:"mt-1 sm:col-span-2 sm:mt-0"},zb={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=F([]),r=F([]),a=Kr("employees",{user_id:"",national_id:"",phone_number:"",physical_address:"",date_of_birth:"",gender:"",marital_status:"",next_of_kin_name:"",next_of_kin_relationship:"",next_of_kin_phone:"",next_of_kin_address:"",employment_date:"",employment_type:"Probation",contract_start_date:"",contract_end_date:"",probation_period_months:3,probation_end_date:"",confirmation_date:"",position:"",department:"",reports_to:"",current_salary:"",salary_currency:"MWK",employment_status:"Active",annual_leave_days:18,sick_leave_days:30,maternity_leave_days:56,tax_identification_number:"",pension_number:"",notes:""}),l=()=>{a.submit(()=>{o("close")})},d=async()=>{try{const m=await ae.get("employees/available-users");i.value=m.data.data}catch{}},u=async()=>{try{const m=await ae.get("employees/supervisors");r.value=m.data.data}catch{}};return $t(()=>t.modelValue,m=>{m?a.setData(m):a.reset()},{immediate:!0}),Ye(()=>{d(),u()}),(m,p)=>(g(),ne(zo,{"external-form":f(a),onSubmit:l,onCancel:p[30]||(p[30]=h=>o("close"))},{title:q(()=>[K(c(f(a).id?m.__("Edit Employee Record"):m.__("Create Employee Record")),1)]),default:q(()=>[n("div",oQ,[f(a).id?j("",!0):(g(),v("div",iQ,[n("label",rQ,[K(c(m.__("User"))+" ",1),p[31]||(p[31]=n("span",{class:"text-red-500"},"*",-1))]),n("div",aQ,[z(n("select",{"onUpdate:modelValue":p[0]||(p[0]=h=>f(a).user_id=h),class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.user_id}]),required:""},[n("option",lQ,c(m.__("Select a user")),1),(g(!0),v(re,null,ve(i.value,h=>(g(),v("option",{key:h.id,value:h.id},c(h.name)+" ("+c(h.email)+") ",9,dQ))),128))],2),[[Me,f(a).user_id]]),f(a).errors.user_id?(g(),v("p",cQ,c(f(a).errors.user_id),1)):j("",!0)])])),n("div",uQ,[n("h3",fQ,c(m.__("Personal Information")),1)]),n("div",mQ,[n("label",hQ,c(m.__("National ID")),1),n("div",pQ,[z(n("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>f(a).national_id=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).national_id]])])]),n("div",gQ,[n("label",_Q,c(m.__("Phone Number")),1),n("div",vQ,[z(n("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>f(a).phone_number=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).phone_number]])])]),n("div",yQ,[n("label",bQ,c(m.__("Physical Address")),1),n("div",xQ,[z(n("textarea",{"onUpdate:modelValue":p[3]||(p[3]=h=>f(a).physical_address=h),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).physical_address]])])]),n("div",wQ,[n("label",kQ,c(m.__("Date of Birth")),1),n("div",$Q,[z(n("input",{"onUpdate:modelValue":p[4]||(p[4]=h=>f(a).date_of_birth=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).date_of_birth]])])]),n("div",CQ,[n("label",SQ,c(m.__("Gender")),1),n("div",MQ,[z(n("select",{"onUpdate:modelValue":p[5]||(p[5]=h=>f(a).gender=h),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",TQ,c(m.__("Select gender")),1),n("option",AQ,c(m.__("Male")),1),n("option",DQ,c(m.__("Female")),1),n("option",EQ,c(m.__("Other")),1)],512),[[Me,f(a).gender]])])]),n("div",PQ,[n("label",jQ,c(m.__("Marital Status")),1),n("div",RQ,[z(n("select",{"onUpdate:modelValue":p[6]||(p[6]=h=>f(a).marital_status=h),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",IQ,c(m.__("Select status")),1),n("option",OQ,c(m.__("Single")),1),n("option",LQ,c(m.__("Married")),1),n("option",FQ,c(m.__("Divorced")),1),n("option",NQ,c(m.__("Widowed")),1)],512),[[Me,f(a).marital_status]])])]),n("div",zQ,[n("h3",BQ,c(m.__("Next of Kin")),1)]),n("div",UQ,[n("label",VQ,c(m.__("Name")),1),n("div",HQ,[z(n("input",{"onUpdate:modelValue":p[7]||(p[7]=h=>f(a).next_of_kin_name=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).next_of_kin_name]])])]),n("div",qQ,[n("label",WQ,c(m.__("Relationship")),1),n("div",KQ,[z(n("input",{"onUpdate:modelValue":p[8]||(p[8]=h=>f(a).next_of_kin_relationship=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).next_of_kin_relationship]])])]),n("div",YQ,[n("label",GQ,c(m.__("Phone")),1),n("div",XQ,[z(n("input",{"onUpdate:modelValue":p[9]||(p[9]=h=>f(a).next_of_kin_phone=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).next_of_kin_phone]])])]),n("div",JQ,[n("label",QQ,c(m.__("Address")),1),n("div",ZQ,[z(n("textarea",{"onUpdate:modelValue":p[10]||(p[10]=h=>f(a).next_of_kin_address=h),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).next_of_kin_address]])])]),n("div",eZ,[n("h3",tZ,c(m.__("Employment Information")),1)]),n("div",sZ,[n("label",nZ,c(m.__("Position")),1),n("div",oZ,[z(n("input",{"onUpdate:modelValue":p[11]||(p[11]=h=>f(a).position=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).position]])])]),n("div",iZ,[n("label",rZ,c(m.__("Department")),1),n("div",aZ,[z(n("input",{"onUpdate:modelValue":p[12]||(p[12]=h=>f(a).department=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).department]])])]),n("div",lZ,[n("label",dZ,c(m.__("Reports To")),1),n("div",cZ,[z(n("select",{"onUpdate:modelValue":p[13]||(p[13]=h=>f(a).reports_to=h),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",uZ,c(m.__("Select supervisor")),1),(g(!0),v(re,null,ve(r.value,h=>(g(),v("option",{key:h.id,value:h.id},c(h.name),9,fZ))),128))],512),[[Me,f(a).reports_to]])])]),n("div",mZ,[n("label",hZ,c(m.__("Employment Date")),1),n("div",pZ,[z(n("input",{"onUpdate:modelValue":p[14]||(p[14]=h=>f(a).employment_date=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).employment_date]])])]),n("div",gZ,[n("label",_Z,[K(c(m.__("Employment Type"))+" ",1),p[32]||(p[32]=n("span",{class:"text-red-500"},"*",-1))]),n("div",vZ,[z(n("select",{"onUpdate:modelValue":p[15]||(p[15]=h=>f(a).employment_type=h),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",yZ,c(m.__("Permanent")),1),n("option",bZ,c(m.__("Contract")),1),n("option",xZ,c(m.__("Probation")),1),n("option",wZ,c(m.__("Casual")),1),n("option",kZ,c(m.__("Internship")),1)],512),[[Me,f(a).employment_type]])])]),n("div",$Z,[n("label",CZ,[K(c(m.__("Employment Status"))+" ",1),p[33]||(p[33]=n("span",{class:"text-red-500"},"*",-1))]),n("div",SZ,[z(n("select",{"onUpdate:modelValue":p[16]||(p[16]=h=>f(a).employment_status=h),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",MZ,c(m.__("Active")),1),n("option",TZ,c(m.__("Resigned")),1),n("option",AZ,c(m.__("Terminated")),1),n("option",DZ,c(m.__("Retired")),1),n("option",EZ,c(m.__("Deceased")),1),n("option",PZ,c(m.__("On Leave")),1),n("option",jZ,c(m.__("Suspended")),1)],512),[[Me,f(a).employment_status]])])]),f(a).employment_type==="Contract"?(g(),v("div",RZ,[n("h4",IZ,c(m.__("Contract Details")),1),n("div",OZ,[n("label",LZ,c(m.__("Contract Start Date")),1),n("div",FZ,[z(n("input",{"onUpdate:modelValue":p[17]||(p[17]=h=>f(a).contract_start_date=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).contract_start_date]])])]),n("div",NZ,[n("label",zZ,c(m.__("Contract End Date")),1),n("div",BZ,[z(n("input",{"onUpdate:modelValue":p[18]||(p[18]=h=>f(a).contract_end_date=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).contract_end_date]])])])])):j("",!0),f(a).employment_type==="Probation"?(g(),v("div",UZ,[n("h4",VZ,c(m.__("Probation Details")),1),n("div",HZ,[n("label",qZ,c(m.__("Probation Period (months)")),1),n("div",WZ,[z(n("input",{"onUpdate:modelValue":p[19]||(p[19]=h=>f(a).probation_period_months=h),type:"number",min:"1",max:"12",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).probation_period_months]])])]),n("div",KZ,[n("label",YZ,c(m.__("Probation End Date")),1),n("div",GZ,[z(n("input",{"onUpdate:modelValue":p[20]||(p[20]=h=>f(a).probation_end_date=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).probation_end_date]])])]),n("div",XZ,[n("label",JZ,c(m.__("Confirmation Date")),1),n("div",QZ,[z(n("input",{"onUpdate:modelValue":p[21]||(p[21]=h=>f(a).confirmation_date=h),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).confirmation_date]])])])])):j("",!0),n("div",ZZ,[n("h3",eee,c(m.__("Salary Information")),1)]),n("div",tee,[n("label",see,c(m.__("Current Salary")),1),n("div",nee,[n("div",oee,[z(n("input",{"onUpdate:modelValue":p[22]||(p[22]=h=>f(a).current_salary=h),type:"number",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).current_salary]]),z(n("select",{"onUpdate:modelValue":p[23]||(p[23]=h=>f(a).salary_currency=h),class:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...p[34]||(p[34]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1)])],512),[[Me,f(a).salary_currency]])])])]),n("div",iee,[n("h3",ree,c(m.__("Leave Entitlement")),1)]),n("div",aee,[n("label",lee,c(m.__("Annual Leave Days")),1),n("div",dee,[z(n("input",{"onUpdate:modelValue":p[24]||(p[24]=h=>f(a).annual_leave_days=h),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).annual_leave_days]])])]),n("div",cee,[n("label",uee,c(m.__("Sick Leave Days")),1),n("div",fee,[z(n("input",{"onUpdate:modelValue":p[25]||(p[25]=h=>f(a).sick_leave_days=h),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).sick_leave_days]])])]),n("div",mee,[n("label",hee,c(m.__("Maternity Leave Days")),1),n("div",pee,[z(n("input",{"onUpdate:modelValue":p[26]||(p[26]=h=>f(a).maternity_leave_days=h),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).maternity_leave_days]])])]),n("div",gee,[n("h3",_ee,c(m.__("Tax & Pension")),1)]),n("div",vee,[n("label",yee,c(m.__("Tax Identification Number")),1),n("div",bee,[z(n("input",{"onUpdate:modelValue":p[27]||(p[27]=h=>f(a).tax_identification_number=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).tax_identification_number]])])]),n("div",xee,[n("label",wee,c(m.__("Pension Number")),1),n("div",kee,[z(n("input",{"onUpdate:modelValue":p[28]||(p[28]=h=>f(a).pension_number=h),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).pension_number]])])]),n("div",$ee,[n("div",Cee,[n("label",See,c(m.__("Notes")),1),n("div",Mee,[z(n("textarea",{"onUpdate:modelValue":p[29]||(p[29]=h=>f(a).notes=h),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,f(a).notes]])])])])])]),_:1},8,["external-form"]))}},Dn=(s,e={})=>{const t=s.split("/").pop()||"resource",o=ks(t)();return o.uri=s,e&&Object.assign(o.params,e),o.get=async()=>o.fetch(),o.deleteIt=async i=>{if(!confirm("Are you sure you want to delete this item?"))return!1;try{return await ae.delete(`${s}/${i}`),await o.fetch(),!0}catch{return!1}},o.prev=async()=>{if(o.currentPage>1)return o.currentPage--,o.fetch()},o.next=async()=>(o.currentPage++,o.fetch()),o},fs=s=>{var e;return!s||ht.is_super_admin?!0:((e=ht.permissions)==null?void 0:e.includes(s))||!1},Tee={key:0,class:"mt-8 flex justify-center"},Aee={key:1,class:"flex"},Dee={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Eee={class:"overflow-hidden rounded-lg bg-white shadow"},Pee={class:"p-5"},jee={class:"flex items-center"},Ree={class:"flex-shrink-0"},Iee={class:"ml-5 w-0 flex-1"},Oee={class:"truncate text-sm font-medium text-gray-500"},Lee={class:"text-lg font-semibold text-gray-900"},Fee={class:"overflow-hidden rounded-lg bg-white shadow"},Nee={class:"p-5"},zee={class:"flex items-center"},Bee={class:"flex-shrink-0"},Uee={class:"ml-5 w-0 flex-1"},Vee={class:"truncate text-sm font-medium text-gray-500"},Hee={class:"text-lg font-semibold text-gray-900"},qee={class:"overflow-hidden rounded-lg bg-white shadow"},Wee={class:"p-5"},Kee={class:"flex items-center"},Yee={class:"flex-shrink-0"},Gee={class:"ml-5 w-0 flex-1"},Xee={class:"truncate text-sm font-medium text-gray-500"},Jee={class:"text-lg font-semibold text-gray-900"},Qee={class:"overflow-hidden rounded-lg bg-white shadow"},Zee={class:"p-5"},ete={class:"flex items-center"},tte={class:"flex-shrink-0"},ste={class:"ml-5 w-0 flex-1"},nte={class:"truncate text-sm font-medium text-gray-500"},ote={class:"text-lg font-semibold text-gray-900"},ite={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},rte={class:"flex flex-1 gap-2"},ate={class:"relative w-64 rounded-md shadow-sm"},lte={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},dte=["placeholder"],cte={value:""},ute=["value"],fte={value:""},mte=["value"],hte={value:""},pte=["value"],gte={class:"ltr:ml-auto rtl:mr-auto"},_te={class:"flex flex-col"},vte={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},yte={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},bte={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},xte={class:"min-w-full divide-y divide-gray-200"},wte={class:"divide-y divide-gray-200 bg-white"},kte=["onClick"],$te={class:"whitespace-nowrap px-6 py-4"},Cte={class:"flex items-center"},Ste={class:"h-10 w-10 flex-shrink-0"},Mte={class:"ml-4"},Tte={class:"text-sm font-medium text-gray-900"},Ate={class:"text-sm text-gray-500"},Dte={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Ete={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Pte={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},jte={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Rte={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Ite={key:0,class:"fixed right-0 top-0 h-full w-96 bg-white shadow-2xl overflow-y-auto z-40 border-l border-gray-200",style:{top:"64px",height:"calc(100vh - 64px)"}},Ote={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10"},Lte={class:"text-lg font-semibold text-gray-900"},Fte={class:"p-6 space-y-6"},Nte={class:"text-center pb-4 border-b border-gray-100"},zte={class:"flex justify-center mb-3"},Bte={class:"text-xl font-bold text-gray-900"},Ute={class:"text-sm text-gray-500"},Vte={class:"flex justify-center gap-2 mt-3"},Hte={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3 flex items-center"},qte={class:"space-y-2"},Wte={class:"flex justify-between py-2 border-b border-gray-50"},Kte={class:"text-sm text-gray-500"},Yte={class:"text-sm font-medium text-gray-900"},Gte={class:"flex justify-between py-2 border-b border-gray-50"},Xte={class:"text-sm text-gray-500"},Jte={class:"text-sm font-medium text-gray-900"},Qte={class:"flex justify-between py-2 border-b border-gray-50"},Zte={class:"text-sm text-gray-500"},ese={class:"text-sm font-medium text-gray-900"},tse={class:"flex justify-between py-2 border-b border-gray-50"},sse={class:"text-sm text-gray-500"},nse={class:"text-sm font-medium text-gray-900"},ose={class:"flex justify-between py-2 border-b border-gray-50"},ise={class:"text-sm text-gray-500"},rse={class:"text-sm font-medium text-gray-900"},ase={key:0,class:"py-2"},lse={class:"text-sm text-gray-500 mb-1"},dse={class:"text-sm font-medium text-gray-900"},cse={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3 flex items-center"},use={class:"space-y-2"},fse={class:"flex justify-between py-2 border-b border-gray-50"},mse={class:"text-sm text-gray-500"},hse={class:"text-sm font-medium text-gray-900"},pse={class:"flex justify-between py-2 border-b border-gray-50"},gse={class:"text-sm text-gray-500"},_se={class:"text-sm font-medium text-gray-900"},vse={class:"flex justify-between py-2 border-b border-gray-50"},yse={class:"text-sm text-gray-500"},bse={class:"text-sm font-medium text-gray-900"},xse={class:"flex justify-between py-2 border-b border-gray-50"},wse={class:"text-sm text-gray-500"},kse={class:"text-sm font-medium text-gray-900"},$se={key:0,class:"flex justify-between py-2 border-b border-gray-50"},Cse={class:"text-sm text-gray-500"},Sse={class:"text-sm font-medium text-gray-900"},Mse={key:1,class:"flex justify-between py-2 border-b border-gray-50"},Tse={class:"text-sm text-gray-500"},Ase={class:"text-sm font-medium text-gray-900"},Dse={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3 flex items-center"},Ese={class:"space-y-2"},Pse={class:"flex justify-between py-2 border-b border-gray-50"},jse={class:"text-sm text-gray-500"},Rse={class:"text-sm font-bold text-green-600"},Ise={class:"flex justify-between py-2 border-b border-gray-50"},Ose={class:"text-sm text-gray-500"},Lse={class:"text-sm font-medium text-gray-900"},Fse={class:"flex justify-between py-2 border-b border-gray-50"},Nse={class:"text-sm text-gray-500"},zse={class:"text-sm font-medium text-gray-900"},Bse={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3 flex items-center"},Use={class:"grid grid-cols-2 gap-3"},Vse={class:"bg-blue-50 rounded-lg p-3 text-center"},Hse={class:"text-2xl font-bold text-blue-600"},qse={class:"text-xs text-gray-500"},Wse={class:"text-xs text-gray-400"},Kse={class:"bg-amber-50 rounded-lg p-3 text-center"},Yse={class:"text-2xl font-bold text-amber-600"},Gse={class:"text-xs text-gray-500"},Xse={class:"text-xs text-gray-400"},Jse={key:0},Qse={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3 flex items-center"},Zse={class:"space-y-2"},ene={class:"flex justify-between py-2 border-b border-gray-50"},tne={class:"text-sm text-gray-500"},sne={class:"text-sm font-medium text-gray-900"},nne={class:"flex justify-between py-2 border-b border-gray-50"},one={class:"text-sm text-gray-500"},ine={class:"text-sm font-medium text-gray-900"},rne={class:"flex justify-between py-2 border-b border-gray-50"},ane={class:"text-sm text-gray-500"},lne={class:"text-sm font-medium text-gray-900"},dne={key:0,class:"py-2"},cne={class:"text-sm text-gray-500 mb-1"},une={class:"text-sm font-medium text-gray-900"},fne={key:1},mne={class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3"},hne={class:"text-sm text-gray-700 bg-gray-50 rounded-lg p-3"},pne={class:"pt-4 border-t border-gray-200 space-y-2"},gne={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F(null),i=F({departments:[],employment_types:[],employment_statuses:[]}),r=Dn("employees",{search:"",employment_status:"",employment_type:"",department:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=Qe({show:!1,model:null}),l=w=>w?new Date(w).toLocaleDateString():"-",d=(w,k="MWK")=>w?new Intl.NumberFormat("en-US",{style:"currency",currency:k,minimumFractionDigits:2}).format(w):"-";let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{r.get()},300)},p=w=>{o.value=w},h=(w=null)=>{a.model=w,a.show=!0},_=w=>{var k;return!(!ht.is_super_admin||w.user_id===((k=ht.user)==null?void 0:k.id))},y=async w=>{var k,b,M;if(confirm(`Are you sure you want to login as ${((k=w.user)==null?void 0:k.name)||"this user"}?`))try{const S=await ae.post(`impersonate/${w.user_id}`);alert(S.data.message),window.location.href="/"}catch(S){alert(((M=(b=S.response)==null?void 0:b.data)==null?void 0:M.message)||"Failed to impersonate user")}},x=async()=>{try{const w=await ae.get("employees/statistics");t.value=w.data.data}catch{}};return Ye(async()=>{try{await r.get(),await x(),r.data&&r.data.filters&&(i.value=r.data.filters),e.value=!1}catch{e.value=!1}}),(w,k)=>e.value?(g(),v("div",Tee,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Aee,[n("div",{class:Q(["flex-1 transition-all duration-300",o.value?"mr-96":""])},[t.value?(g(),v("div",Dee,[n("div",Eee,[n("div",Pee,[n("div",jee,[n("div",Ree,[C(f(el),{class:"h-6 w-6 text-gray-400"})]),n("div",Iee,[n("dl",null,[n("dt",Oee,c(w.__("Total Employees")),1),n("dd",Lee,c(t.value.total_employees),1)])])])])]),n("div",Fee,[n("div",Nee,[n("div",zee,[n("div",Bee,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",Uee,[n("dl",null,[n("dt",Vee,c(w.__("Active")),1),n("dd",Hee,c(t.value.active_employees),1)])])])])]),n("div",qee,[n("div",Wee,[n("div",Kee,[n("div",Yee,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",Gee,[n("dl",null,[n("dt",Xee,c(w.__("On Probation")),1),n("dd",Jee,c(t.value.on_probation),1)])])])])]),n("div",Qee,[n("div",Zee,[n("div",ete,[n("div",tte,[C(f(Zm),{class:"h-6 w-6 text-red-400"})]),n("div",ste,[n("dl",null,[n("dt",nte,c(w.__("Contracts Expiring")),1),n("dd",ote,c(t.value.contracts_expiring_soon),1)])])])])])])):j("",!0),n("div",ite,[n("div",rte,[n("div",ate,[n("div",lte,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":k[0]||(k[0]=b=>f(r).params.search=b),type:"search",placeholder:w.__("Search employees..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,dte),[[J,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":k[1]||(k[1]=b=>f(r).params.employment_status=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[2]||(k[2]=b=>f(r).get())},[n("option",cte,c(w.__("All Statuses")),1),(g(!0),v(re,null,ve(i.value.employment_statuses,b=>(g(),v("option",{key:b,value:b},c(w.__(b)),9,ute))),128))],544),[[Me,f(r).params.employment_status]]),z(n("select",{"onUpdate:modelValue":k[3]||(k[3]=b=>f(r).params.employment_type=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[4]||(k[4]=b=>f(r).get())},[n("option",fte,c(w.__("All Types")),1),(g(!0),v(re,null,ve(i.value.employment_types,b=>(g(),v("option",{key:b,value:b},c(w.__(b)),9,mte))),128))],544),[[Me,f(r).params.employment_type]]),z(n("select",{"onUpdate:modelValue":k[5]||(k[5]=b=>f(r).params.department=b),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[6]||(k[6]=b=>f(r).get())},[n("option",hte,c(w.__("All Departments")),1),(g(!0),v(re,null,ve(i.value.departments,b=>(g(),v("option",{key:b,value:b},c(b),9,pte))),128))],544),[[Me,f(r).params.department]])]),n("div",gte,[f(fs)("employee:create")?(g(),ne(Se,{key:0,size:"sm",onClick:k[7]||(k[7]=b=>h())},{default:q(()=>[K(c(w.__("Add Employee")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",_te,[n("div",vte,[n("div",yte,[n("div",bte,[n("table",xte,[n("thead",null,[n("tr",null,[C(je,{name:"employee",index:f(r),label:w.__("Name"),sort:"name"},null,8,["index","label"]),C(je,{name:"employee",index:f(r),label:w.__("Position"),sort:"position"},null,8,["index","label"]),C(je,{name:"employee",index:f(r),label:w.__("Department"),sort:"department"},null,8,["index","label"]),C(je,{name:"employee",index:f(r),label:w.__("Type"),sort:"employment_type"},null,8,["index","label"]),C(je,{name:"employee",index:f(r),label:w.__("Status"),sort:"employment_status"},null,8,["index","label"]),k[15]||(k[15]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",wte,[(g(!0),v(re,null,ve(f(r).data.data,b=>{var M;return g(),v("tr",{key:b.id,class:Q(["cursor-pointer transition-colors",((M=o.value)==null?void 0:M.id)===b.id?"bg-indigo-50":"hover:bg-gray-50"]),onClick:S=>p(b)},[n("td",$te,[n("div",Cte,[n("div",Ste,[C(Xt,{user:b.user,size:"10"},null,8,["user"])]),n("div",Mte,[n("div",Tte,c(b.user.name),1),n("div",Ate,c(b.user.email),1)])])]),n("td",Dte,c(b.position||"-"),1),n("td",Ete,c(b.department||"-"),1),n("td",Pte,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":b.employment_type==="Permanent","bg-blue-100 text-blue-800":b.employment_type==="Contract","bg-yellow-100 text-yellow-800":b.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(b.employment_type)}])},c(b.employment_type),3)]),n("td",jte,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":b.employment_status==="Active","bg-yellow-100 text-yellow-800":b.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(b.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(b.employment_status)}])},c(b.employment_status),3)]),n("td",Rte,[C(f(hn),{class:"w-5 cursor-pointer text-indigo-400 hover:text-indigo-600",title:w.__("View Details"),onClick:Ke(S=>p(b),["stop"])},null,8,["title","onClick"]),f(fs)("employee:update")?(g(),ne(f(en),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(S=>h(b),["stop"])},null,8,["onClick"])):j("",!0),f(fs)("employee:delete")?(g(),ne(f(Vt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:Ke(S=>f(r).deleteIt(b.id),["stop"])},null,8,["onClick"])):j("",!0)])],10,kte)}),128))])]),C(ms,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),ne(ls,{key:1,size:"2xl",onSaved:k[9]||(k[9]=b=>f(r).get()),onClose:k[10]||(k[10]=b=>a.show=!1)},{default:q(()=>[C(zb,{"model-value":a.model,onClose:k[8]||(k[8]=b=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)],2),C(Rf,{"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition-transform duration-300 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:q(()=>{var b;return[o.value?(g(),v("div",Ite,[n("div",Ote,[n("h2",Lte,c(w.__("Employee Details")),1),n("button",{class:"p-1 rounded-md hover:bg-gray-100 text-gray-400 hover:text-gray-600",onClick:k[11]||(k[11]=M=>o.value=null)},[C(f(Po),{class:"h-6 w-6"})])]),n("div",Fte,[n("div",Nte,[n("div",zte,[C(Xt,{user:o.value.user,size:"20"},null,8,["user"])]),n("h3",Bte,c(o.value.user.name),1),n("p",Ute,c(o.value.user.email),1),n("div",Vte,[n("span",{class:Q(["inline-flex rounded-full px-3 py-1 text-xs font-semibold",{"bg-green-100 text-green-800":o.value.employment_status==="Active","bg-yellow-100 text-yellow-800":o.value.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(o.value.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(o.value.employment_status)}])},c(o.value.employment_status),3),n("span",{class:Q(["inline-flex rounded-full px-3 py-1 text-xs font-semibold",{"bg-green-100 text-green-800":o.value.employment_type==="Permanent","bg-blue-100 text-blue-800":o.value.employment_type==="Contract","bg-yellow-100 text-yellow-800":o.value.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(o.value.employment_type)}])},c(o.value.employment_type),3)])]),n("div",null,[n("h4",Hte,[C(f(Xf),{class:"h-4 w-4 mr-2 text-gray-400"}),K(" "+c(w.__("Personal Information")),1)]),n("dl",qte,[n("div",Wte,[n("dt",Kte,c(w.__("Phone")),1),n("dd",Yte,c(o.value.phone_number||"-"),1)]),n("div",Gte,[n("dt",Xte,c(w.__("National ID")),1),n("dd",Jte,c(o.value.national_id||"-"),1)]),n("div",Qte,[n("dt",Zte,c(w.__("Date of Birth")),1),n("dd",ese,c(l(o.value.date_of_birth)),1)]),n("div",tse,[n("dt",sse,c(w.__("Gender")),1),n("dd",nse,c(o.value.gender||"-"),1)]),n("div",ose,[n("dt",ise,c(w.__("Marital Status")),1),n("dd",rse,c(o.value.marital_status||"-"),1)]),o.value.physical_address?(g(),v("div",ase,[n("dt",lse,c(w.__("Address")),1),n("dd",dse,c(o.value.physical_address),1)])):j("",!0)])]),n("div",null,[n("h4",cse,[C(f(Ov),{class:"h-4 w-4 mr-2 text-gray-400"}),K(" "+c(w.__("Employment Information")),1)]),n("dl",use,[n("div",fse,[n("dt",mse,c(w.__("Position")),1),n("dd",hse,c(o.value.position||"-"),1)]),n("div",pse,[n("dt",gse,c(w.__("Department")),1),n("dd",_se,c(o.value.department||"-"),1)]),n("div",vse,[n("dt",yse,c(w.__("Reports To")),1),n("dd",bse,c(((b=o.value.supervisor)==null?void 0:b.name)||"-"),1)]),n("div",xse,[n("dt",wse,c(w.__("Employment Date")),1),n("dd",kse,c(l(o.value.employment_date)),1)]),o.value.employment_type==="Contract"?(g(),v("div",$se,[n("dt",Cse,c(w.__("Contract Period")),1),n("dd",Sse,c(l(o.value.contract_start_date))+" - "+c(l(o.value.contract_end_date)),1)])):j("",!0),o.value.probation_end_date?(g(),v("div",Mse,[n("dt",Tse,c(w.__("Probation End")),1),n("dd",Ase,c(l(o.value.probation_end_date)),1)])):j("",!0)])]),n("div",null,[n("h4",Dse,[C(f(sr),{class:"h-4 w-4 mr-2 text-gray-400"}),K(" "+c(w.__("Financial Information")),1)]),n("dl",Ese,[n("div",Pse,[n("dt",jse,c(w.__("Salary")),1),n("dd",Rse,c(d(o.value.current_salary,o.value.salary_currency)),1)]),n("div",Ise,[n("dt",Ose,c(w.__("Tax ID (TIN)")),1),n("dd",Lse,c(o.value.tax_identification_number||"-"),1)]),n("div",Fse,[n("dt",Nse,c(w.__("Pension No.")),1),n("dd",zse,c(o.value.pension_number||"-"),1)])])]),n("div",null,[n("h4",Bse,[C(f(Qm),{class:"h-4 w-4 mr-2 text-gray-400"}),K(" "+c(w.__("Leave Balances")),1)]),n("div",Use,[n("div",Vse,[n("p",Hse,c(o.value.leave_balance_annual??0),1),n("p",qse,c(w.__("Annual Leave")),1),n("p",Wse,c(w.__("of"))+" "+c(o.value.annual_leave_days??0)+" "+c(w.__("days")),1)]),n("div",Kse,[n("p",Yse,c(o.value.leave_balance_sick??0),1),n("p",Gse,c(w.__("Sick Leave")),1),n("p",Xse,c(w.__("of"))+" "+c(o.value.sick_leave_days??0)+" "+c(w.__("days")),1)])])]),o.value.next_of_kin_name?(g(),v("div",Jse,[n("h4",Qse,[C(f(el),{class:"h-4 w-4 mr-2 text-gray-400"}),K(" "+c(w.__("Next of Kin")),1)]),n("dl",Zse,[n("div",ene,[n("dt",tne,c(w.__("Name")),1),n("dd",sne,c(o.value.next_of_kin_name),1)]),n("div",nne,[n("dt",one,c(w.__("Relationship")),1),n("dd",ine,c(o.value.next_of_kin_relationship||"-"),1)]),n("div",rne,[n("dt",ane,c(w.__("Phone")),1),n("dd",lne,c(o.value.next_of_kin_phone||"-"),1)]),o.value.next_of_kin_address?(g(),v("div",dne,[n("dt",cne,c(w.__("Address")),1),n("dd",une,c(o.value.next_of_kin_address),1)])):j("",!0)])])):j("",!0),o.value.notes?(g(),v("div",fne,[n("h4",mne,c(w.__("Notes")),1),n("p",hne,c(o.value.notes),1)])):j("",!0),n("div",pne,[f(fs)("employee:update")?(g(),v("button",{key:0,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",onClick:k[12]||(k[12]=M=>h(o.value))},[C(f(en),{class:"h-4 w-4"}),K(" "+c(w.__("Edit Employee")),1)])):j("",!0),_(o.value)?(g(),v("button",{key:1,class:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",onClick:k[13]||(k[13]=M=>y(o.value))},[C(f(Xf),{class:"h-4 w-4"}),K(" "+c(w.__("Login as User")),1)])):j("",!0)])])])):j("",!0)]}),_:1}),C(Rf,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:q(()=>[o.value?(g(),v("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-20 z-30",style:{top:"64px"},onClick:k[14]||(k[14]=b=>o.value=null)})):j("",!0)]),_:1})]))}},_ne={key:0,class:"mt-8 flex justify-center"},vne={key:1,class:"space-y-6"},yne={class:"flex items-center justify-between"},bne={class:"flex items-center space-x-4"},xne={class:"text-2xl font-bold text-gray-900"},wne={class:"flex space-x-2"},kne={class:"flex space-x-2"},$ne={class:"inline-flex rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800"},Cne={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Sne={class:"lg:col-span-2 space-y-6"},Mne={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Tne={class:"px-4 py-5 sm:px-6"},Ane={class:"text-lg font-medium leading-6 text-gray-900"},Dne={class:"border-t border-gray-200"},Ene={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pne={class:"text-sm font-medium text-gray-500"},jne={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Rne={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ine={class:"text-sm font-medium text-gray-500"},One={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Lne={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Fne={class:"text-sm font-medium text-gray-500"},Nne={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},zne={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Bne={class:"text-sm font-medium text-gray-500"},Une={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Vne={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Hne={class:"text-sm font-medium text-gray-500"},qne={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Wne={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Kne={class:"text-sm font-medium text-gray-500"},Yne={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Gne={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Xne={class:"text-sm font-medium text-gray-500"},Jne={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Qne={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Zne={class:"px-4 py-5 sm:px-6"},eoe={class:"text-lg font-medium leading-6 text-gray-900"},toe={class:"border-t border-gray-200"},soe={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},noe={class:"text-sm font-medium text-gray-500"},ooe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ioe={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},roe={class:"text-sm font-medium text-gray-500"},aoe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},loe={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},doe={class:"text-sm font-medium text-gray-500"},coe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},uoe={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},foe={class:"text-sm font-medium text-gray-500"},moe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},hoe={key:0,class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},poe={class:"text-sm font-medium text-gray-500"},goe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},_oe={key:1,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},voe={class:"text-sm font-medium text-gray-500"},yoe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},boe={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},xoe={class:"px-4 py-5 sm:px-6"},woe={class:"text-lg font-medium leading-6 text-gray-900"},koe={class:"border-t border-gray-200"},$oe={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Coe={class:"text-sm font-medium text-gray-500"},Soe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Moe={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Toe={class:"text-sm font-medium text-gray-500"},Aoe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Doe={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Eoe={class:"text-sm font-medium text-gray-500"},Poe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},joe={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Roe={class:"text-sm font-medium text-gray-500"},Ioe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ooe={class:"space-y-6"},Loe={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Foe={class:"px-4 py-5 sm:p-6"},Noe={class:"mb-4 text-base font-medium text-gray-900"},zoe={class:"space-y-3"},Boe={class:"flex items-center justify-between"},Uoe={class:"text-sm text-gray-500"},Voe={class:"text-sm font-semibold text-gray-900"},Hoe={class:"flex items-center justify-between"},qoe={class:"text-sm text-gray-500"},Woe={class:"text-sm font-semibold text-gray-900"},Koe={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Yoe={class:"px-4 py-5 sm:p-6"},Goe={class:"mb-2 text-base font-medium text-gray-900"},Xoe={class:"text-2xl font-bold text-gray-900"},Joe={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Qoe={class:"px-4 py-5 sm:p-6"},Zoe={class:"mb-4 text-base font-medium text-gray-900"},eie={class:"space-y-3"},tie={key:0},sie={class:"text-sm text-gray-500"},nie={class:"text-sm font-semibold text-gray-900"},oie={key:1},iie={class:"text-sm text-gray-500"},rie={class:"text-sm font-semibold text-gray-900"},aie={key:2,class:"overflow-hidden bg-white shadow sm:rounded-lg"},lie={class:"px-4 py-5 sm:p-6"},die={class:"mb-2 text-base font-medium text-gray-900"},cie={class:"text-sm text-gray-700 whitespace-pre-wrap"},uie={__name:"Detail",setup(s){const e=Ec(),t=F(!0),o=F(null),i=F(!1),r=async()=>{try{t.value=!0;const l=await ae.get(`employees/${e.params.id}`);o.value=l.data.data}catch{}finally{t.value=!1}},a=()=>{i.value=!0};return Ye(()=>{r()}),(l,d)=>{var u;return t.value?(g(),v("div",_ne,[C(bt,{size:"40",color:"#5850ec"})])):o.value?(g(),v("div",vne,[n("div",yne,[n("div",bne,[n("button",{class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:d[0]||(d[0]=m=>l.$router.back())},"  "+c(l.__("Back")),1),n("h1",xne,c(o.value.user.name),1)]),n("div",wne,[f(fs)("employee:update")?(g(),ne(Se,{key:0,variant:"secondary",onClick:a},{default:q(()=>[K(c(l.__("Edit")),1)]),_:1})):j("",!0)])]),n("div",kne,[n("span",{class:Q(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",{"bg-green-100 text-green-800":o.value.employment_status==="Active","bg-red-100 text-red-800":["Resigned","Terminated"].includes(o.value.employment_status),"bg-gray-100 text-gray-800":!["Active","Resigned","Terminated"].includes(o.value.employment_status)}])},c(o.value.employment_status),3),n("span",$ne,c(o.value.employment_type),1)]),n("div",Cne,[n("div",Sne,[n("div",Mne,[n("div",Tne,[n("h3",Ane,c(l.__("Personal Information")),1)]),n("div",Dne,[n("dl",null,[n("div",Ene,[n("dt",Pne,c(l.__("Email")),1),n("dd",jne,c(o.value.user.email),1)]),n("div",Rne,[n("dt",Ine,c(l.__("National ID")),1),n("dd",One,c(o.value.national_id||"-"),1)]),n("div",Lne,[n("dt",Fne,c(l.__("Phone")),1),n("dd",Nne,c(o.value.phone_number||"-"),1)]),n("div",zne,[n("dt",Bne,c(l.__("Address")),1),n("dd",Une,c(o.value.physical_address||"-"),1)]),n("div",Vne,[n("dt",Hne,c(l.__("Date of Birth")),1),n("dd",qne,c(o.value.date_of_birth?new Date(o.value.date_of_birth).toLocaleDateString():"-"),1)]),n("div",Wne,[n("dt",Kne,c(l.__("Gender")),1),n("dd",Yne,c(o.value.gender||"-"),1)]),n("div",Gne,[n("dt",Xne,c(l.__("Marital Status")),1),n("dd",Jne,c(o.value.marital_status||"-"),1)])])])]),n("div",Qne,[n("div",Zne,[n("h3",eoe,c(l.__("Employment Information")),1)]),n("div",toe,[n("dl",null,[n("div",soe,[n("dt",noe,c(l.__("Position")),1),n("dd",ooe,c(o.value.position||"-"),1)]),n("div",ioe,[n("dt",roe,c(l.__("Department")),1),n("dd",aoe,c(o.value.department||"-"),1)]),n("div",loe,[n("dt",doe,c(l.__("Reports To")),1),n("dd",coe,c(((u=o.value.supervisor)==null?void 0:u.name)||"-"),1)]),n("div",uoe,[n("dt",foe,c(l.__("Employment Date")),1),n("dd",moe,c(o.value.employment_date?new Date(o.value.employment_date).toLocaleDateString():"-"),1)]),o.value.contract_start_date?(g(),v("div",hoe,[n("dt",poe,c(l.__("Contract Period")),1),n("dd",goe,c(new Date(o.value.contract_start_date).toLocaleDateString())+" - "+c(o.value.contract_end_date?new Date(o.value.contract_end_date).toLocaleDateString():"Ongoing"),1)])):j("",!0),o.value.probation_end_date?(g(),v("div",_oe,[n("dt",voe,c(l.__("Probation End Date")),1),n("dd",yoe,c(new Date(o.value.probation_end_date).toLocaleDateString()),1)])):j("",!0)])])]),o.value.next_of_kin_name?(g(),v("div",boe,[n("div",xoe,[n("h3",woe,c(l.__("Next of Kin")),1)]),n("div",koe,[n("dl",null,[n("div",$oe,[n("dt",Coe,c(l.__("Name")),1),n("dd",Soe,c(o.value.next_of_kin_name),1)]),n("div",Moe,[n("dt",Toe,c(l.__("Relationship")),1),n("dd",Aoe,c(o.value.next_of_kin_relationship||"-"),1)]),n("div",Doe,[n("dt",Eoe,c(l.__("Phone")),1),n("dd",Poe,c(o.value.next_of_kin_phone||"-"),1)]),n("div",joe,[n("dt",Roe,c(l.__("Address")),1),n("dd",Ioe,c(o.value.next_of_kin_address||"-"),1)])])])])):j("",!0)]),n("div",Ooe,[n("div",Loe,[n("div",Foe,[n("h3",Noe,c(l.__("Leave Balance")),1),n("div",zoe,[n("div",Boe,[n("span",Uoe,c(l.__("Annual Leave")),1),n("span",Voe,c(o.value.leave_balance_annual)+" / "+c(o.value.annual_leave_days)+" "+c(l.__("days")),1)]),n("div",Hoe,[n("span",qoe,c(l.__("Sick Leave")),1),n("span",Woe,c(o.value.leave_balance_sick)+" / "+c(o.value.sick_leave_days)+" "+c(l.__("days")),1)])])])]),o.value.current_salary?(g(),v("div",Koe,[n("div",Yoe,[n("h3",Goe,c(l.__("Current Salary")),1),n("p",Xoe,c(new Intl.NumberFormat().format(o.value.current_salary))+" "+c(o.value.salary_currency),1)])])):j("",!0),o.value.tax_identification_number||o.value.pension_number?(g(),v("div",Joe,[n("div",Qoe,[n("h3",Zoe,c(l.__("Tax & Pension")),1),n("div",eie,[o.value.tax_identification_number?(g(),v("div",tie,[n("span",sie,c(l.__("TIN")),1),n("p",nie,c(o.value.tax_identification_number),1)])):j("",!0),o.value.pension_number?(g(),v("div",oie,[n("span",iie,c(l.__("Pension Number")),1),n("p",rie,c(o.value.pension_number),1)])):j("",!0)])])])):j("",!0),o.value.notes?(g(),v("div",aie,[n("div",lie,[n("h3",die,c(l.__("Notes")),1),n("p",cie,c(o.value.notes),1)])])):j("",!0)])]),i.value?(g(),ne(ls,{key:0,size:"2xl",onSaved:r,onClose:d[2]||(d[2]=m=>i.value=!1)},{default:q(()=>[C(zb,{"model-value":o.value,onClose:d[1]||(d[1]=m=>i.value=!1)},null,8,["model-value"])]),_:1})):j("",!0)])):j("",!0)}}},fie={class:"space-y-6"},mie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pie={class:"mt-1 sm:col-span-2 sm:mt-0"},gie={value:""},_ie={value:"Annual Leave"},vie={value:"Sick Leave"},yie={value:"Maternity Leave"},bie={value:"Paternity Leave"},xie={value:"Unpaid Leave"},wie={value:"Compassionate Leave"},kie={value:"Study Leave"},$ie={key:0,class:"mt-2 text-sm text-red-600"},Cie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Sie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Mie={class:"mt-1 sm:col-span-2 sm:mt-0"},Tie=["min"],Aie={key:0,class:"mt-2 text-sm text-red-600"},Die={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Eie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Pie={class:"mt-1 sm:col-span-2 sm:mt-0"},jie=["min"],Rie={key:0,class:"mt-2 text-sm text-red-600"},Iie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Oie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Lie={class:"mt-1 sm:col-span-2 sm:mt-0"},Fie={key:0,class:"mt-2 text-sm text-red-600"},Nie={class:"mt-1 text-sm text-gray-500"},zie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Bie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Uie={class:"mt-1 sm:col-span-2 sm:mt-0"},Vie={class:"flex items-center"},Hie={class:"ml-2 block text-sm text-gray-900"},qie={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Wie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Kie={class:"mt-1 sm:col-span-2 sm:mt-0"},Yie={value:""},Gie={value:"morning"},Xie={value:"afternoon"},Jie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Qie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Zie={class:"mt-1 sm:col-span-2 sm:mt-0"},ere=["placeholder"],tre={key:0,class:"mt-2 text-sm text-red-600"},sre={key:1,class:"rounded-md bg-blue-50 p-4"},nre={class:"flex"},ore={class:"flex-shrink-0"},ire={class:"ml-3 flex-1"},rre={class:"text-sm font-medium text-blue-800"},are={class:"mt-2 text-sm text-blue-700"},lre={key:0},dre={key:1},cre={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=F(null),r=De(()=>new Date().toISOString().split("T")[0]),a=Kr("leaves",{leave_type:"",start_date:"",end_date:"",days:1,is_half_day:!1,half_day_period:"",reason:""}),l=()=>{if(a.start_date&&a.end_date){const p=new Date(a.start_date),h=new Date(a.end_date),_=Math.abs(h-p),y=Math.ceil(_/(1e3*60*60*24))+1;a.is_half_day?a.days=.5:a.days=y}},d=()=>{a.is_half_day?(a.end_date=a.start_date,a.days=.5):(a.half_day_period="",l())},u=()=>{a.submit(()=>{o("close")})},m=async()=>{try{const p=await ae.get("profile/create");p.data.employee_record&&(i.value={annual:p.data.employee_record.leave_balance_annual??0,sick:p.data.employee_record.leave_balance_sick??0})}catch{}};return $t(()=>t.modelValue,p=>{p?a.setData({...p,start_date:p.start_date.split("T")[0],end_date:p.end_date.split("T")[0]}):a.reset()},{immediate:!0}),Ye(()=>{m()}),(p,h)=>(g(),ne(zo,{"external-form":f(a),onSubmit:u,onCancel:h[7]||(h[7]=_=>o("close"))},{title:q(()=>[K(c(f(a).id?p.__("Edit Leave Request"):p.__("Request Leave")),1)]),default:q(()=>[n("div",fie,[n("div",mie,[n("label",hie,[K(c(p.__("Leave Type"))+" ",1),h[8]||(h[8]=n("span",{class:"text-red-500"},"*",-1))]),n("div",pie,[z(n("select",{"onUpdate:modelValue":h[0]||(h[0]=_=>f(a).leave_type=_),class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.leave_type}]),required:""},[n("option",gie,c(p.__("Select leave type")),1),n("option",_ie,c(p.__("Annual Leave")),1),n("option",vie,c(p.__("Sick Leave")),1),n("option",yie,c(p.__("Maternity Leave")),1),n("option",bie,c(p.__("Paternity Leave")),1),n("option",xie,c(p.__("Unpaid Leave")),1),n("option",wie,c(p.__("Compassionate Leave")),1),n("option",kie,c(p.__("Study Leave")),1)],2),[[Me,f(a).leave_type]]),f(a).errors.leave_type?(g(),v("p",$ie,c(f(a).errors.leave_type),1)):j("",!0)])]),n("div",Cie,[n("label",Sie,[K(c(p.__("Start Date"))+" ",1),h[9]||(h[9]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Mie,[z(n("input",{"onUpdate:modelValue":h[1]||(h[1]=_=>f(a).start_date=_),type:"date",min:r.value,class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.start_date}]),required:"",onChange:l},null,42,Tie),[[J,f(a).start_date]]),f(a).errors.start_date?(g(),v("p",Aie,c(f(a).errors.start_date),1)):j("",!0)])]),n("div",Die,[n("label",Eie,[K(c(p.__("End Date"))+" ",1),h[10]||(h[10]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Pie,[z(n("input",{"onUpdate:modelValue":h[2]||(h[2]=_=>f(a).end_date=_),type:"date",min:f(a).start_date||r.value,class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.end_date}]),required:"",onChange:l},null,42,jie),[[J,f(a).end_date]]),f(a).errors.end_date?(g(),v("p",Rie,c(f(a).errors.end_date),1)):j("",!0)])]),n("div",Iie,[n("label",Oie,[K(c(p.__("Number of Days"))+" ",1),h[11]||(h[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Lie,[z(n("input",{"onUpdate:modelValue":h[3]||(h[3]=_=>f(a).days=_),type:"number",step:"0.5",min:"0.5",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.days}]),required:"",readonly:""},null,2),[[J,f(a).days]]),f(a).errors.days?(g(),v("p",Fie,c(f(a).errors.days),1)):j("",!0),n("p",Nie,c(p.__("Automatically calculated based on start and end dates")),1)])]),n("div",zie,[n("label",Bie,c(p.__("Half Day")),1),n("div",Uie,[n("div",Vie,[z(n("input",{"onUpdate:modelValue":h[4]||(h[4]=_=>f(a).is_half_day=_),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:d},null,544),[[os,f(a).is_half_day]]),n("label",Hie,c(p.__("This is a half day leave")),1)])])]),f(a).is_half_day?(g(),v("div",qie,[n("label",Wie,[K(c(p.__("Half Day Period"))+" ",1),h[12]||(h[12]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Kie,[z(n("select",{"onUpdate:modelValue":h[5]||(h[5]=_=>f(a).half_day_period=_),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",Yie,c(p.__("Select period")),1),n("option",Gie,c(p.__("Morning")),1),n("option",Xie,c(p.__("Afternoon")),1)],512),[[Me,f(a).half_day_period]])])])):j("",!0),n("div",Jie,[n("label",Qie,[K(c(p.__("Reason"))+" ",1),h[13]||(h[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Zie,[z(n("textarea",{"onUpdate:modelValue":h[6]||(h[6]=_=>f(a).reason=_),rows:"4",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.reason}]),placeholder:p.__("Please provide a detailed reason for your leave request"),required:""},null,10,ere),[[J,f(a).reason]]),f(a).errors.reason?(g(),v("p",tre,c(f(a).errors.reason),1)):j("",!0)])]),i.value?(g(),v("div",sre,[n("div",nre,[n("div",ore,[C(f(zv),{class:"h-5 w-5 text-blue-400"})]),n("div",ire,[n("h3",rre,c(p.__("Your Leave Balance")),1),n("div",are,[f(a).leave_type==="Annual Leave"?(g(),v("p",lre,c(p.__("Annual Leave Balance:"))+" "+c(i.value.annual)+" "+c(p.__("days")),1)):f(a).leave_type==="Sick Leave"?(g(),v("p",dre,c(p.__("Sick Leave Balance:"))+" "+c(i.value.sick)+" "+c(p.__("days")),1)):j("",!0)])])])])):j("",!0)])]),_:1},8,["external-form"]))}},ure={key:0,class:"mt-8 flex justify-center"},fre={key:1},mre={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},hre={class:"overflow-hidden rounded-lg bg-white shadow"},pre={class:"p-5"},gre={class:"flex items-center"},_re={class:"flex-shrink-0"},vre={class:"ml-5 w-0 flex-1"},yre={class:"truncate text-sm font-medium text-gray-500"},bre={class:"text-lg font-semibold text-gray-900"},xre={class:"overflow-hidden rounded-lg bg-white shadow"},wre={class:"p-5"},kre={class:"flex items-center"},$re={class:"flex-shrink-0"},Cre={class:"ml-5 w-0 flex-1"},Sre={class:"truncate text-sm font-medium text-gray-500"},Mre={class:"text-lg font-semibold text-gray-900"},Tre={class:"overflow-hidden rounded-lg bg-white shadow"},Are={class:"p-5"},Dre={class:"flex items-center"},Ere={class:"flex-shrink-0"},Pre={class:"ml-5 w-0 flex-1"},jre={class:"truncate text-sm font-medium text-gray-500"},Rre={class:"text-lg font-semibold text-gray-900"},Ire={class:"overflow-hidden rounded-lg bg-white shadow"},Ore={class:"p-5"},Lre={class:"flex items-center"},Fre={class:"flex-shrink-0"},Nre={class:"ml-5 w-0 flex-1"},zre={class:"truncate text-sm font-medium text-gray-500"},Bre={class:"text-lg font-semibold text-gray-900"},Ure={class:"mb-6"},Vre={class:"border-b border-gray-200"},Hre={class:"-mb-px flex space-x-8"},qre={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},Wre={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Kre={class:"flex flex-1 gap-2"},Yre={class:"relative w-64 rounded-md shadow-sm"},Gre={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Xre=["placeholder"],Jre={value:""},Qre={value:"pending"},Zre={value:"approved"},eae={value:"rejected"},tae={value:""},sae={value:"Annual Leave"},nae={value:"Sick Leave"},oae={value:"Maternity Leave"},iae={value:"Paternity Leave"},rae={value:"Unpaid Leave"},aae={class:"ltr:ml-auto rtl:mr-auto"},lae={class:"flex flex-col"},dae={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},cae={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},uae={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},fae={class:"min-w-full divide-y divide-gray-200"},mae={class:"divide-y divide-gray-200 bg-white"},hae={key:0,class:"whitespace-nowrap px-6 py-4"},pae={class:"flex items-center"},gae={class:"h-10 w-10 flex-shrink-0"},_ae={class:"ml-4"},vae={class:"text-sm font-medium text-gray-900"},yae={class:"text-sm text-gray-500"},bae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},xae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},wae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},kae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},$ae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Cae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Sae={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Mae={class:"p-6"},Tae={class:"flex items-center justify-between mb-4"},Aae={class:"text-lg font-semibold text-gray-900"},Dae={key:0,class:"space-y-4"},Eae={class:"grid grid-cols-2 gap-4"},Pae={class:"block text-sm font-medium text-gray-700"},jae={class:"mt-1 text-sm text-gray-900"},Rae={class:"block text-sm font-medium text-gray-700"},Iae={class:"mt-1 text-sm text-gray-900"},Oae={class:"block text-sm font-medium text-gray-700"},Lae={class:"mt-1 text-sm text-gray-900"},Fae={class:"block text-sm font-medium text-gray-700"},Nae={class:"mt-1 text-sm text-gray-900"},zae={class:"block text-sm font-medium text-gray-700"},Bae={class:"mt-1 text-sm text-gray-900"},Uae={class:"block text-sm font-medium text-gray-700"},Vae={class:"mt-1"},Hae={class:"block text-sm font-medium text-gray-700"},qae={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Wae={key:0},Kae={class:"block text-sm font-medium text-gray-700"},Yae={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Gae={key:1},Xae={class:"block text-sm font-medium text-gray-700"},Jae={class:"mt-1 text-sm text-gray-900"},Qae={class:"text-sm text-gray-500"},Zae={class:"mt-6 flex justify-end"},ele={class:"p-6"},tle={class:"flex items-center justify-between mb-4"},sle={class:"text-lg font-semibold text-gray-900"},nle={class:"space-y-4"},ole={class:"text-sm text-gray-700"},ile={class:"block text-sm font-medium text-gray-700"},rle=["required"],ale={class:"mt-6 flex justify-end space-x-3"},lle={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F("my-leaves"),i=F(null),r=Dn("leaves",{search:"",status:"",leave_type:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=Qe({show:!1,model:null}),l=Qe({show:!1,leave:null}),d=Qe({show:!1,action:null,leave:null,notes:""});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{r.get()},300)},p=(b=null)=>{a.model=b,a.show=!0},h=b=>{l.leave=b,l.show=!0},_=b=>{d.leave=b,d.action="approve",d.notes="",d.show=!0},y=b=>{d.leave=b,d.action="reject",d.notes="",d.show=!0},x=async()=>{var b,M;try{const S=d.action==="approve"?"approve":"reject";await ae.post(`leaves/${d.leave.id}/${S}`,{admin_notes:d.notes}),d.show=!1,r.get(),w()}catch(S){alert(((M=(b=S.response)==null?void 0:b.data)==null?void 0:M.message)||"Failed to process leave request")}},w=async()=>{try{const b=await ae.get("leaves/statistics");t.value=b.data.data}catch{}},k=()=>{var b;i.value=(b=ht.user)==null?void 0:b.id};return $t(o,b=>{b==="my-leaves"?r.params.user_id=i.value:(b==="pending-approvals"&&(r.params.status="pending"),r.params.user_id=""),r.get()}),Ye(async()=>{k(),r.params.user_id=i.value,await r.get(),await w(),e.value=!1}),(b,M)=>e.value?(g(),v("div",ure,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",fre,[t.value?(g(),v("div",mre,[n("div",hre,[n("div",pre,[n("div",gre,[n("div",_re,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",vre,[n("dl",null,[n("dt",yre,c(b.__("Pending")),1),n("dd",bre,c(t.value.pending),1)])])])])]),n("div",xre,[n("div",wre,[n("div",kre,[n("div",$re,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",Cre,[n("dl",null,[n("dt",Sre,c(b.__("Approved")),1),n("dd",Mre,c(t.value.approved),1)])])])])]),n("div",Tre,[n("div",Are,[n("div",Dre,[n("div",Ere,[C(f(ws),{class:"h-6 w-6 text-red-400"})]),n("div",Pre,[n("dl",null,[n("dt",jre,c(b.__("Rejected")),1),n("dd",Rre,c(t.value.rejected),1)])])])])]),n("div",Ire,[n("div",Ore,[n("div",Lre,[n("div",Fre,[C(f(un),{class:"h-6 w-6 text-blue-400"})]),n("div",Nre,[n("dl",null,[n("dt",zre,c(b.__("This Month")),1),n("dd",Bre,c(t.value.this_month)+" "+c(b.__("days")),1)])])])])])])):j("",!0),n("div",Ure,[n("div",Vre,[n("nav",Hre,[n("button",{class:Q([o.value==="my-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:M[0]||(M[0]=S=>o.value="my-leaves")},c(b.__("My Leave Requests")),3),f(fs)("leave:view-all")?(g(),v("button",{key:0,class:Q([o.value==="all-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:M[1]||(M[1]=S=>o.value="all-leaves")},c(b.__("All Requests")),3)):j("",!0),f(fs)("leave:approve")?(g(),v("button",{key:1,class:Q([o.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:M[2]||(M[2]=S=>o.value="pending-approvals")},[K(c(b.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(g(),v("span",qre,c(t.value.pending),1)):j("",!0)],2)):j("",!0)])])]),n("div",Wre,[n("div",Kre,[n("div",Yre,[n("div",Gre,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":M[3]||(M[3]=S=>f(r).params.search=S),type:"search",placeholder:b.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,Xre),[[J,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":M[4]||(M[4]=S=>f(r).params.status=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[5]||(M[5]=S=>f(r).get())},[n("option",Jre,c(b.__("All Statuses")),1),n("option",Qre,c(b.__("Pending")),1),n("option",Zre,c(b.__("Approved")),1),n("option",eae,c(b.__("Rejected")),1)],544),[[Me,f(r).params.status]]),z(n("select",{"onUpdate:modelValue":M[6]||(M[6]=S=>f(r).params.leave_type=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[7]||(M[7]=S=>f(r).get())},[n("option",tae,c(b.__("All Types")),1),n("option",sae,c(b.__("Annual Leave")),1),n("option",nae,c(b.__("Sick Leave")),1),n("option",oae,c(b.__("Maternity Leave")),1),n("option",iae,c(b.__("Paternity Leave")),1),n("option",rae,c(b.__("Unpaid Leave")),1)],544),[[Me,f(r).params.leave_type]])]),n("div",aae,[f(fs)("leave:create")?(g(),ne(Se,{key:0,size:"sm",onClick:M[8]||(M[8]=S=>p())},{default:q(()=>[K(c(b.__("Request Leave")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",lae,[n("div",dae,[n("div",cae,[n("div",uae,[n("table",fae,[n("thead",null,[n("tr",null,[o.value!=="my-leaves"?(g(),ne(je,{key:0,name:"leave",index:f(r),label:b.__("Employee")},null,8,["index","label"])):j("",!0),C(je,{name:"leave",index:f(r),label:b.__("Leave Type"),sort:"leave_type"},null,8,["index","label"]),C(je,{name:"leave",index:f(r),label:b.__("Start Date"),sort:"start_date"},null,8,["index","label"]),C(je,{name:"leave",index:f(r),label:b.__("End Date"),sort:"end_date"},null,8,["index","label"]),C(je,{name:"leave",index:f(r),label:b.__("Days"),sort:"days"},null,8,["index","label"]),C(je,{name:"leave",index:f(r),label:b.__("Status"),sort:"status"},null,8,["index","label"]),C(je,{name:"leave",index:f(r),label:b.__("Requested"),sort:"created_at"},null,8,["index","label"]),M[16]||(M[16]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",mae,[(g(!0),v(re,null,ve(f(r).data.data,S=>(g(),v("tr",{key:S.id,class:"hover:bg-gray-50"},[o.value!=="my-leaves"?(g(),v("td",hae,[n("div",pae,[n("div",gae,[C(Xt,{user:S.user,size:"10"},null,8,["user"])]),n("div",_ae,[n("div",vae,c(S.user.name),1),n("div",yae,c(S.user.email),1)])])])):j("",!0),n("td",bae,c(S.leave_type),1),n("td",xae,c(new Date(S.start_date).toLocaleDateString()),1),n("td",wae,c(new Date(S.end_date).toLocaleDateString()),1),n("td",kae,c(S.days)+" "+c(S.is_half_day?"(Half Day)":""),1),n("td",$ae,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":S.status==="pending","bg-green-100 text-green-800":S.status==="approved","bg-red-100 text-red-800":S.status==="rejected"}])},c(S.status.charAt(0).toUpperCase()+S.status.slice(1)),3)]),n("td",Cae,c(new Date(S.created_at).toLocaleDateString()),1),n("td",Sae,[o.value==="pending-approvals"&&S.status==="pending"?(g(),v(re,{key:0},[C(Se,{size:"xs",variant:"success",onClick:N=>_(S)},{default:q(()=>[K(c(b.__("Approve")),1)]),_:1},8,["onClick"]),C(Se,{size:"xs",variant:"danger",class:"ml-2",onClick:N=>y(S)},{default:q(()=>[K(c(b.__("Reject")),1)]),_:1},8,["onClick"])],64)):S.status==="pending"&&S.user_id===i.value?(g(),v(re,{key:1},[C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>p(S)},null,8,["onClick"]),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>f(r).deleteIt(S.id)},null,8,["onClick"])],64)):j("",!0),C(f(hn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>h(S)},null,8,["onClick"])])]))),128))])]),C(ms,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),ne(ls,{key:1,size:"lg",onSaved:M[10]||(M[10]=S=>f(r).get())},{default:q(()=>[C(cre,{"model-value":a.model,onClose:M[9]||(M[9]=S=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(g(),ne(Tn,{key:2,width:"max-w-2xl"},{default:q(()=>{var S,N;return[n("div",Mae,[n("div",Tae,[n("h3",Aae,c(b.__("Leave Request Details")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:M[11]||(M[11]=A=>l.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),l.leave?(g(),v("div",Dae,[n("div",Eae,[n("div",null,[n("label",Pae,c(b.__("Employee")),1),n("p",jae,c((S=l.leave.user)==null?void 0:S.name),1)]),n("div",null,[n("label",Rae,c(b.__("Leave Type")),1),n("p",Iae,c(l.leave.leave_type),1)]),n("div",null,[n("label",Oae,c(b.__("Start Date")),1),n("p",Lae,c(new Date(l.leave.start_date).toLocaleDateString()),1)]),n("div",null,[n("label",Fae,c(b.__("End Date")),1),n("p",Nae,c(new Date(l.leave.end_date).toLocaleDateString()),1)]),n("div",null,[n("label",zae,c(b.__("Days")),1),n("p",Bae,c(l.leave.days),1)]),n("div",null,[n("label",Uae,c(b.__("Status")),1),n("p",Vae,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.leave.status==="pending","bg-green-100 text-green-800":l.leave.status==="approved","bg-red-100 text-red-800":l.leave.status==="rejected"}])},c(l.leave.status.charAt(0).toUpperCase()+l.leave.status.slice(1)),3)])])]),n("div",null,[n("label",Hae,c(b.__("Reason")),1),n("p",qae,c(l.leave.reason),1)]),l.leave.admin_notes?(g(),v("div",Wae,[n("label",Kae,c(b.__("Admin Notes")),1),n("p",Yae,c(l.leave.admin_notes),1)])):j("",!0),l.leave.approved_by?(g(),v("div",Gae,[n("label",Xae,c(b.__("Approved/Rejected By")),1),n("p",Jae,c((N=l.leave.approved_by)==null?void 0:N.name),1),n("p",Qae,c(new Date(l.leave.approved_at).toLocaleString()),1)])):j("",!0)])):j("",!0),n("div",Zae,[C(Se,{onClick:M[12]||(M[12]=A=>l.show=!1)},{default:q(()=>[K(c(b.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),d.show?(g(),ne(Tn,{key:3,width:"max-w-md"},{default:q(()=>[n("div",ele,[n("div",tle,[n("h3",sle,c(d.action==="approve"?b.__("Approve Leave"):b.__("Reject Leave")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:M[13]||(M[13]=S=>d.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),n("div",nle,[n("p",ole,c(d.action==="approve"?b.__("Are you sure you want to approve this leave request?"):b.__("Please provide a reason for rejection:")),1),n("div",null,[n("label",ile,c(d.action==="approve"?b.__("Admin Notes (Optional)"):b.__("Rejection Reason")),1),z(n("textarea",{"onUpdate:modelValue":M[14]||(M[14]=S=>d.notes=S),rows:"3",required:d.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,rle),[[J,d.notes]])])]),n("div",ale,[C(Se,{white:"",onClick:M[15]||(M[15]=S=>d.show=!1)},{default:q(()=>[K(c(b.__("Cancel")),1)]),_:1}),C(Se,{class:Q(d.action==="reject"?"bg-red-600 hover:bg-red-700":""),disabled:d.action==="reject"&&!d.notes,onClick:x},{default:q(()=>[K(c(d.action==="approve"?b.__("Approve"):b.__("Reject")),1)]),_:1},8,["class","disabled"])])])]),_:1})):j("",!0)]))}},dle={class:"space-y-6"},cle={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ule={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},fle={class:"mt-1 sm:col-span-2 sm:mt-0"},mle=["placeholder"],hle={key:0,class:"mt-2 text-sm text-red-600"},ple={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},gle={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},_le={class:"mt-1 sm:col-span-2 sm:mt-0"},vle={key:0,class:"mt-2 text-sm text-red-600"},yle={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ble={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xle={class:"mt-1 sm:col-span-2 sm:mt-0"},wle=["placeholder"],kle={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$le={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Cle={class:"mt-1 sm:col-span-2 sm:mt-0"},Sle={class:"flex items-center"},Mle={class:"ml-2 block text-sm text-gray-900"},Tle={class:"mt-1 text-sm text-gray-500"},Ale={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=Kr("holidays",{name:"",date:"",description:"",is_recurring:!1}),r=()=>{i.submit(()=>{o("close")})};return $t(()=>t.modelValue,a=>{a?i.setData({...a,date:a.date.split("T")[0]}):i.reset()},{immediate:!0}),(a,l)=>(g(),ne(zo,{"external-form":f(i),onSubmit:r,onCancel:l[4]||(l[4]=d=>o("close"))},{title:q(()=>[K(c(f(i).id?a.__("Edit Holiday"):a.__("Add Holiday")),1)]),default:q(()=>[n("div",dle,[n("div",cle,[n("label",ule,[K(c(a.__("Holiday Name"))+" ",1),l[5]||(l[5]=n("span",{class:"text-red-500"},"*",-1))]),n("div",fle,[z(n("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>f(i).name=d),type:"text",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(i).errors.name}]),placeholder:a.__("e.g., New Year's Day"),required:""},null,10,mle),[[J,f(i).name]]),f(i).errors.name?(g(),v("p",hle,c(f(i).errors.name),1)):j("",!0)])]),n("div",ple,[n("label",gle,[K(c(a.__("Date"))+" ",1),l[6]||(l[6]=n("span",{class:"text-red-500"},"*",-1))]),n("div",_le,[z(n("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>f(i).date=d),type:"date",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(i).errors.date}]),required:""},null,2),[[J,f(i).date]]),f(i).errors.date?(g(),v("p",vle,c(f(i).errors.date),1)):j("",!0)])]),n("div",yle,[n("label",ble,c(a.__("Description")),1),n("div",xle,[z(n("textarea",{"onUpdate:modelValue":l[2]||(l[2]=d=>f(i).description=d),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:a.__("Optional description")},null,8,wle),[[J,f(i).description]])])]),n("div",kle,[n("label",$le,c(a.__("Recurring")),1),n("div",Cle,[n("div",Sle,[z(n("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>f(i).is_recurring=d),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[os,f(i).is_recurring]]),n("label",Mle,c(a.__("This holiday recurs annually")),1)]),n("p",Tle,c(a.__("Check this if the holiday repeats every year on the same date")),1)])])])]),_:1},8,["external-form"]))}},Dle={key:0,class:"mt-8 flex justify-center"},Ele={key:1},Ple={class:"mb-6 flex items-center justify-between"},jle={class:"text-2xl font-bold text-gray-900"},Rle={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Ile={class:"flex flex-1 gap-2"},Ole={class:"relative w-64 rounded-md shadow-sm"},Lle={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Fle=["placeholder"],Nle=["value"],zle=["value"],Ble=["value"],Ule={value:""},Vle={value:"upcoming"},Hle={value:"past"},qle={class:"ltr:ml-auto rtl:mr-auto"},Wle={class:"flex flex-col"},Kle={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Yle={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Gle={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Xle={class:"min-w-full divide-y divide-gray-200"},Jle={class:"divide-y divide-gray-200 bg-white"},Qle={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Zle={key:0,class:"ml-2 inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},ede={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},tde={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},sde={class:"px-6 py-4 text-sm text-gray-500"},nde={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},ode={__name:"Index",setup(s){const e=F(!0),t=new Date().getFullYear(),o=Dn("holidays",{search:"",year:t,filter:"",sort_by:"date",sort_order:"asc",per_page:50}),i=Qe({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{o.get()},300)},l=(d=null)=>{i.model=d,i.show=!0};return Ye(async()=>{await o.get(),e.value=!1}),(d,u)=>e.value?(g(),v("div",Dle,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Ele,[n("div",Ple,[n("h1",jle,c(d.__("Company Holidays")),1)]),n("div",Rle,[n("div",Ile,[n("div",Ole,[n("div",Lle,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":u[0]||(u[0]=m=>f(o).params.search=m),type:"search",placeholder:d.__("Search holidays..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,Fle),[[J,f(o).params.search]])]),z(n("select",{"onUpdate:modelValue":u[1]||(u[1]=m=>f(o).params.year=m),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:u[2]||(u[2]=m=>f(o).get())},[n("option",{value:f(t)-1},c(f(t)-1),9,Nle),n("option",{value:f(t)},c(f(t)),9,zle),n("option",{value:f(t)+1},c(f(t)+1),9,Ble)],544),[[Me,f(o).params.year]]),z(n("select",{"onUpdate:modelValue":u[3]||(u[3]=m=>f(o).params.filter=m),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:u[4]||(u[4]=m=>f(o).get())},[n("option",Ule,c(d.__("All")),1),n("option",Vle,c(d.__("Upcoming")),1),n("option",Hle,c(d.__("Past")),1)],544),[[Me,f(o).params.filter]])]),n("div",qle,[f(fs)("holiday:create")?(g(),ne(Se,{key:0,size:"sm",onClick:u[5]||(u[5]=m=>l())},{default:q(()=>[K(c(d.__("Add Holiday")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",Wle,[n("div",Kle,[n("div",Yle,[n("div",Gle,[n("table",Xle,[n("thead",null,[n("tr",null,[C(je,{name:"holiday",index:f(o),label:d.__("Name"),sort:"name"},null,8,["index","label"]),C(je,{name:"holiday",index:f(o),label:d.__("Date"),sort:"date"},null,8,["index","label"]),C(je,{name:"holiday",index:f(o),label:d.__("Day")},null,8,["index","label"]),C(je,{name:"holiday",index:f(o),label:d.__("Description")},null,8,["index","label"]),u[8]||(u[8]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Jle,[(g(!0),v(re,null,ve(f(o).data.data,m=>(g(),v("tr",{key:m.id,class:"hover:bg-gray-50"},[n("td",Qle,[K(c(m.name)+" ",1),m.is_recurring?(g(),v("span",Zle,c(d.__("Recurring")),1)):j("",!0)]),n("td",ede,c(new Date(m.date).toLocaleDateString()),1),n("td",tde,c(new Date(m.date).toLocaleDateString("en-US",{weekday:"long"})),1),n("td",sde,c(m.description||"-"),1),n("td",nde,[f(fs)("holiday:update")?(g(),ne(f(en),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:p=>l(m)},null,8,["onClick"])):j("",!0),f(fs)("holiday:delete")?(g(),ne(f(Vt),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:p=>f(o).deleteIt(m.id)},null,8,["onClick"])):j("",!0)])]))),128))])]),C(ms,{index:f(o)},null,8,["index"])])])])])]),i.show?(g(),ne(ls,{key:0,size:"md",onSaved:u[7]||(u[7]=m=>f(o).get())},{default:q(()=>[C(Ale,{"model-value":i.model,onClose:u[6]||(u[6]=m=>i.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}},ide={class:"border-b border-gray-200 px-6 py-4"},rde={class:"text-lg font-semibold text-gray-900"},ade={class:"space-y-6 px-6 py-4"},lde={key:0},dde={class:"block text-sm font-medium text-gray-700"},cde={value:""},ude=["value"],fde={key:0,class:"mt-2 text-sm text-red-600"},mde={key:1,class:"rounded-md bg-gray-50 p-4"},hde={class:"flex items-center"},pde={class:"h-10 w-10 flex-shrink-0"},gde={class:"ml-4"},_de={class:"text-sm font-medium text-gray-900"},vde={class:"text-sm text-gray-500"},yde={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},bde={class:"block text-sm font-medium text-gray-700"},xde={key:0,class:"mt-2 text-sm text-red-600"},wde={class:"block text-sm font-medium text-gray-700"},kde={key:0,class:"mt-2 text-sm text-red-600"},$de={class:"block text-sm font-medium text-gray-700"},Cde={key:0,class:"mt-2 text-sm text-red-600"},Sde={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Mde={class:"block text-sm font-medium text-gray-700"},Tde={key:0,class:"mt-2 text-sm text-red-600"},Ade={class:"block text-sm font-medium text-gray-700"},Dde={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Ede={class:"block text-sm font-medium text-gray-700"},Pde={key:0,class:"mt-2 text-sm text-red-600"},jde={class:"block text-sm font-medium text-gray-700"},Rde={key:0,class:"mt-2 text-sm text-red-600"},Ide={class:"block text-sm font-medium text-gray-700"},Ode={key:0,class:"mt-2 text-sm text-red-600"},Lde={key:2,class:"border-t border-gray-200 pt-6"},Fde={class:"flex items-center justify-between mb-4"},Nde={class:"text-lg font-medium text-orange-600"},zde={class:"rounded-lg border-2 border-orange-200 bg-orange-50 p-4 mb-4"},Bde={class:"text-sm text-orange-800 mb-3"},Ude={class:"space-y-2"},Vde={class:"flex items-center"},Hde=["id","value"],qde=["for"],Wde={class:"text-sm font-medium text-gray-900"},Kde={class:"text-xs text-gray-500 ml-2"},Yde={class:"text-xs text-gray-500 max-w-xs truncate"},Gde={class:"mt-3 pt-3 border-t border-orange-200 flex justify-between items-center"},Xde={class:"text-sm font-medium text-orange-800"},Jde={class:"text-lg font-bold text-orange-600"},Qde={class:"border-t border-gray-200 pt-6"},Zde={class:"flex items-center justify-between mb-4"},ece={class:"text-lg font-medium text-gray-900"},tce={key:0,class:"text-center text-gray-500 py-4"},sce={key:1,class:"space-y-3"},nce={class:"flex-1 grid grid-cols-1 gap-3 sm:grid-cols-4"},oce=["onUpdate:modelValue"],ice={value:"allowance"},rce={value:"bonus"},ace={value:"deduction"},lce={class:"sm:col-span-2"},dce=["onUpdate:modelValue","placeholder"],cce=["onUpdate:modelValue","placeholder"],uce=["onClick"],fce={class:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-6"},mce={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},hce={class:"text-sm font-medium text-gray-500"},pce={class:"mt-1 text-2xl font-bold text-gray-900"},gce={class:"text-sm font-medium text-gray-500"},_ce={class:"mt-1 text-2xl font-bold text-red-600"},vce={class:"text-sm font-medium text-gray-500"},yce={class:"mt-1 text-2xl font-bold text-green-600"},bce={class:"block text-sm font-medium text-gray-700"},xce=["placeholder"],wce={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},kce={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var T,D,L,I,O,P,B,be,le,de,ce,me,Z,ie,Te;const t=s,o=e,i=F([]),r=F(!1),a=F({}),l=F([]),d=F([]),u=F(0),m=()=>{const se=new Date;return`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`},p=se=>{const[ke,Ce]=se.split("-").map(Number),ue=new Date(ke,Ce-1,1),xe=new Date(ke,Ce,0);return{start:ue.toISOString().split("T")[0],end:xe.toISOString().split("T")[0]}},h=Qe({user_id:((T=t.modelValue)==null?void 0:T.user_id)||"",payroll_period:((D=t.modelValue)==null?void 0:D.payroll_period)||m(),period_start:((I=(L=t.modelValue)==null?void 0:L.period_start)==null?void 0:I.split("T")[0])||p(m()).start,period_end:((P=(O=t.modelValue)==null?void 0:O.period_end)==null?void 0:P.split("T")[0])||p(m()).end,basic_salary:((B=t.modelValue)==null?void 0:B.basic_salary)||0,allowances:((be=t.modelValue)==null?void 0:be.allowances)||0,bonuses:((le=t.modelValue)==null?void 0:le.bonuses)||0,deductions:((de=t.modelValue)==null?void 0:de.deductions)||0,gross_salary:((ce=t.modelValue)==null?void 0:ce.gross_salary)||0,net_salary:((me=t.modelValue)==null?void 0:me.net_salary)||0,currency:((Z=t.modelValue)==null?void 0:Z.currency)||"MWK",notes:((ie=t.modelValue)==null?void 0:ie.notes)||"",items:((Te=t.modelValue)==null?void 0:Te.items)||[]}),_=()=>{if(h.payroll_period){const{start:se,end:ke}=p(h.payroll_period);h.period_start=se,h.period_end=ke}},y=()=>{h.gross_salary=(h.basic_salary||0)+(h.allowances||0)+(h.bonuses||0),h.net_salary=h.gross_salary-(h.deductions||0)},x=()=>{let se=0,ke=0,Ce=0;h.items.forEach(ue=>{const xe=parseFloat(ue.amount)||0;ue.item_type==="allowance"?se+=xe:ue.item_type==="bonus"?ke+=xe:ue.item_type==="deduction"&&(Ce+=xe)}),h.allowances=se,h.bonuses=ke,h.deductions=Ce,y()},w=()=>{h.items.push({item_type:"allowance",description:"",amount:0,category:""})},k=se=>{h.items.splice(se,1),x()},b=se=>new Intl.NumberFormat().format(se||0)+" "+h.currency,M=async()=>{try{const se=await ae.get("users");i.value=se.data.data}catch{}},S=async se=>{if(!se){l.value=[],u.value=0;return}try{const ke=await ae.get(`advance-requests/user/${se}`);l.value=ke.data.data||[],u.value=ke.data.total_outstanding||0}catch{l.value=[],u.value=0}},N=()=>{h.items=h.items.filter(se=>se.category!=="Salary Advance"),d.value.forEach(se=>{const ke=l.value.find(Ce=>Ce.id===se);if(ke){const Ce=ke.amount-ke.amount_deducted;h.items.push({item_type:"deduction",description:`Salary Advance Repayment (ID: ${ke.id})`,amount:Ce,category:"Salary Advance",advance_id:ke.id})}}),x()},A=async()=>{var Ce,ue;r.value=!0,a.value={};const se=t.modelValue?`payrolls/${t.modelValue.id}`:"payrolls",ke={user_id:h.user_id,payroll_period:h.payroll_period,period_start:h.period_start,period_end:h.period_end,basic_salary:parseFloat(h.basic_salary)||0,allowances:parseFloat(h.allowances)||0,bonuses:parseFloat(h.bonuses)||0,deductions:parseFloat(h.deductions)||0,currency:h.currency,notes:h.notes,items:h.items.filter(xe=>xe.description&&xe.amount>0)};try{t.modelValue?await ae.put(se,ke):await ae.post(se,ke),o("saved"),o("close")}catch(xe){(ue=(Ce=xe.response)==null?void 0:Ce.data)!=null&&ue.errors&&(a.value=xe.response.data.errors)}finally{r.value=!1}};return Ye(async()=>{t.modelValue?await S(t.modelValue.user_id):M(),y()}),$t(()=>h.user_id,async se=>{se&&(await S(se),d.value=[])}),$t(()=>t.modelValue,se=>{var ke,Ce;se&&(Object.assign(h,{user_id:se.user_id,payroll_period:se.payroll_period||m(),period_start:((ke=se.period_start)==null?void 0:ke.split("T")[0])||p(m()).start,period_end:((Ce=se.period_end)==null?void 0:Ce.split("T")[0])||p(m()).end,basic_salary:se.basic_salary||0,allowances:se.allowances||0,bonuses:se.bonuses||0,deductions:se.deductions||0,gross_salary:se.gross_salary||0,net_salary:se.net_salary||0,currency:se.currency||"MWK",notes:se.notes||"",items:se.items||[]}),y())},{immediate:!0}),(se,ke)=>(g(),v("div",null,[n("div",ide,[n("h2",rde,c(s.modelValue?se.__("Edit Payroll"):se.__("Create Payroll")),1)]),n("div",ade,[s.modelValue?(g(),v("div",mde,[n("div",hde,[n("div",pde,[C(Xt,{user:s.modelValue.user,size:"10"},null,8,["user"])]),n("div",gde,[n("div",_de,c(s.modelValue.user.name),1),n("div",vde,c(s.modelValue.user.email),1)])])])):(g(),v("div",lde,[n("label",dde,[K(c(se.__("Employee"))+" ",1),ke[12]||(ke[12]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":ke[0]||(ke[0]=Ce=>h.user_id=Ce),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",cde,c(se.__("Select Employee")),1),(g(!0),v(re,null,ve(i.value,Ce=>(g(),v("option",{key:Ce.id,value:Ce.id},c(Ce.name),9,ude))),128))],512),[[Me,h.user_id]]),a.value.user_id?(g(),v("p",fde,c(a.value.user_id[0]),1)):j("",!0)])),n("div",yde,[n("div",null,[n("label",bde,[K(c(se.__("Payroll Period"))+" ",1),ke[13]||(ke[13]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ke[1]||(ke[1]=Ce=>h.payroll_period=Ce),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onChange:_},null,544),[[J,h.payroll_period]]),a.value.payroll_period?(g(),v("p",xde,c(a.value.payroll_period[0]),1)):j("",!0)]),n("div",null,[n("label",wde,[K(c(se.__("Period Start"))+" ",1),ke[14]||(ke[14]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ke[2]||(ke[2]=Ce=>h.period_start=Ce),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[J,h.period_start]]),a.value.period_start?(g(),v("p",kde,c(a.value.period_start[0]),1)):j("",!0)]),n("div",null,[n("label",$de,[K(c(se.__("Period End"))+" ",1),ke[15]||(ke[15]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ke[3]||(ke[3]=Ce=>h.period_end=Ce),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[J,h.period_end]]),a.value.period_end?(g(),v("p",Cde,c(a.value.period_end[0]),1)):j("",!0)])]),n("div",Sde,[n("div",null,[n("label",Mde,[K(c(se.__("Basic Salary"))+" ",1),ke[16]||(ke[16]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":ke[4]||(ke[4]=Ce=>h.basic_salary=Ce),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:y},null,544),[[J,h.basic_salary,void 0,{number:!0}]]),a.value.basic_salary?(g(),v("p",Tde,c(a.value.basic_salary[0]),1)):j("",!0)]),n("div",null,[n("label",Ade,c(se.__("Currency")),1),z(n("select",{"onUpdate:modelValue":ke[5]||(ke[5]=Ce=>h.currency=Ce),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...ke[17]||(ke[17]=[n("option",{value:"MWK"},"MWK (Malawian Kwacha)",-1),n("option",{value:"USD"},"USD (US Dollar)",-1),n("option",{value:"EUR"},"EUR (Euro)",-1),n("option",{value:"GBP"},"GBP (British Pound)",-1)])],512),[[Me,h.currency]])])]),n("div",Dde,[n("div",null,[n("label",Ede,c(se.__("Total Allowances")),1),z(n("input",{"onUpdate:modelValue":ke[6]||(ke[6]=Ce=>h.allowances=Ce),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:y},null,544),[[J,h.allowances,void 0,{number:!0}]]),a.value.allowances?(g(),v("p",Pde,c(a.value.allowances[0]),1)):j("",!0)]),n("div",null,[n("label",jde,c(se.__("Total Bonuses")),1),z(n("input",{"onUpdate:modelValue":ke[7]||(ke[7]=Ce=>h.bonuses=Ce),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:y},null,544),[[J,h.bonuses,void 0,{number:!0}]]),a.value.bonuses?(g(),v("p",Rde,c(a.value.bonuses[0]),1)):j("",!0)]),n("div",null,[n("label",Ide,c(se.__("Total Deductions")),1),z(n("input",{"onUpdate:modelValue":ke[8]||(ke[8]=Ce=>h.deductions=Ce),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:y},null,544),[[J,h.deductions,void 0,{number:!0}]]),a.value.deductions?(g(),v("p",Ode,c(a.value.deductions[0]),1)):j("",!0)])]),l.value.length>0?(g(),v("div",Lde,[n("div",Fde,[n("h3",Nde,c(se.__("Outstanding Salary Advances")),1)]),n("div",zde,[n("p",Bde,c(se.__("This employee has outstanding salary advances. Select advances to deduct from this payroll:")),1),n("div",Ude,[(g(!0),v(re,null,ve(l.value,Ce=>(g(),v("div",{key:Ce.id,class:"flex items-center justify-between bg-white rounded p-3 border border-orange-200"},[n("div",Vde,[z(n("input",{id:"advance-"+Ce.id,"onUpdate:modelValue":ke[9]||(ke[9]=ue=>d.value=ue),type:"checkbox",value:Ce.id,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",onChange:N},null,40,Hde),[[os,d.value]]),n("label",{for:"advance-"+Ce.id,class:"ml-3"},[n("span",Wde,c(b(Ce.amount-Ce.amount_deducted)),1),n("span",Kde,"("+c(se.__("Requested"))+": "+c(new Date(Ce.created_at).toLocaleDateString())+")",1)],8,qde)]),n("div",Yde,c(Ce.reason),1)]))),128))]),n("div",Gde,[n("span",Xde,c(se.__("Total Outstanding"))+":",1),n("span",Jde,c(b(u.value)),1)])])])):j("",!0),n("div",Qde,[n("div",Zde,[n("h3",ece,c(se.__("Payroll Items")),1),C(Se,{size:"sm",variant:"secondary",onClick:w},{default:q(()=>[C(f(pn),{class:"mr-1 h-4 w-4"}),K(" "+c(se.__("Add Item")),1)]),_:1})]),h.items.length===0?(g(),v("div",tce,c(se.__('No items added. Click "Add Item" to add allowances, bonuses, or deductions.')),1)):(g(),v("div",sce,[(g(!0),v(re,null,ve(h.items,(Ce,ue)=>(g(),v("div",{key:ue,class:"flex items-start gap-3 rounded-lg border border-gray-200 p-3"},[n("div",nce,[n("div",null,[z(n("select",{"onUpdate:modelValue":xe=>Ce.item_type=xe,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x},[n("option",ice,c(se.__("Allowance")),1),n("option",rce,c(se.__("Bonus")),1),n("option",ace,c(se.__("Deduction")),1)],40,oce),[[Me,Ce.item_type]])]),n("div",lce,[z(n("input",{"onUpdate:modelValue":xe=>Ce.description=xe,type:"text",placeholder:se.__("Description"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,dce),[[J,Ce.description]])]),n("div",null,[z(n("input",{"onUpdate:modelValue":xe=>Ce.amount=xe,type:"number",step:"0.01",placeholder:se.__("Amount"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:x},null,40,cce),[[J,Ce.amount,void 0,{number:!0}]])])]),n("button",{type:"button",class:"text-red-500 hover:text-red-700",onClick:xe=>k(ue)},[C(f(Vt),{class:"h-5 w-5"})],8,uce)]))),128))]))]),n("div",fce,[n("div",mce,[n("div",null,[n("div",hce,c(se.__("Gross Salary")),1),n("div",pce,c(b(h.gross_salary)),1)]),n("div",null,[n("div",gce,c(se.__("Total Deductions")),1),n("div",_ce,c(b(h.deductions)),1)]),n("div",null,[n("div",vce,c(se.__("Net Salary")),1),n("div",yce,c(b(h.net_salary)),1)])])]),n("div",null,[n("label",bce,c(se.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":ke[10]||(ke[10]=Ce=>h.notes=Ce),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:se.__("Optional notes")},null,8,xce),[[J,h.notes]])])]),n("div",wce,[C(Se,{variant:"secondary",onClick:ke[11]||(ke[11]=Ce=>se.$emit("close"))},{default:q(()=>[K(c(se.__("Cancel")),1)]),_:1}),C(Se,{disabled:r.value,onClick:A},{default:q(()=>[K(c(s.modelValue?se.__("Update Payroll"):se.__("Create Payroll")),1)]),_:1},8,["disabled"])])]))}},$ce={key:0,class:"mt-8 flex justify-center"},Cce={key:1},Sce={class:"mb-6"},Mce={class:"text-2xl font-bold text-gray-900"},Tce={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ace={class:"overflow-hidden rounded-lg bg-white shadow"},Dce={class:"p-5"},Ece={class:"flex items-center"},Pce={class:"flex-shrink-0"},jce={class:"ml-5 w-0 flex-1"},Rce={class:"truncate text-sm font-medium text-gray-500"},Ice={class:"text-lg font-semibold text-gray-900"},Oce={class:"overflow-hidden rounded-lg bg-white shadow"},Lce={class:"p-5"},Fce={class:"flex items-center"},Nce={class:"flex-shrink-0"},zce={class:"ml-5 w-0 flex-1"},Bce={class:"truncate text-sm font-medium text-gray-500"},Uce={class:"text-lg font-semibold text-gray-900"},Vce={class:"overflow-hidden rounded-lg bg-white shadow"},Hce={class:"p-5"},qce={class:"flex items-center"},Wce={class:"flex-shrink-0"},Kce={class:"ml-5 w-0 flex-1"},Yce={class:"truncate text-sm font-medium text-gray-500"},Gce={class:"text-lg font-semibold text-gray-900"},Xce={class:"overflow-hidden rounded-lg bg-white shadow"},Jce={class:"p-5"},Qce={class:"flex items-center"},Zce={class:"flex-shrink-0"},eue={class:"ml-5 w-0 flex-1"},tue={class:"truncate text-sm font-medium text-gray-500"},sue={class:"text-lg font-semibold text-gray-900"},nue={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},oue={class:"flex flex-1 gap-2"},iue={class:"relative w-64 rounded-md shadow-sm"},rue={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},aue=["placeholder"],lue={value:""},due={value:"draft"},cue={value:"approved"},uue={value:"paid"},fue={value:"sent"},mue={class:"flex gap-2"},hue={class:"flex flex-col"},pue={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},gue={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},_ue={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},vue={class:"min-w-full divide-y divide-gray-200"},yue={class:"divide-y divide-gray-200 bg-white"},bue={key:0,class:"hover:bg-gray-50"},xue={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},wue={class:"whitespace-nowrap px-6 py-4"},kue={class:"flex items-center"},$ue={class:"h-10 w-10 flex-shrink-0"},Cue={class:"ml-4"},Sue={class:"text-sm font-medium text-gray-900"},Mue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Tue={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Aue={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold text-gray-900"},Due={class:"whitespace-nowrap px-6 py-4 text-sm"},Eue={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Pue={class:"flex items-center justify-end gap-2"},jue={class:"border-b border-gray-200 px-6 py-4"},Rue={class:"text-lg font-semibold text-gray-900"},Iue={class:"space-y-4 px-6 py-4"},Oue={class:"block text-sm font-medium text-gray-700"},Lue={class:"text-sm text-gray-600"},Fue={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Nue={__name:"Index",setup(s){const e=eo(),t=F(!0),o=F(null),i=Dn("payrolls",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=Qe({show:!1,model:null}),a=Qe({show:!1,month:new Date().toISOString().slice(0,7)});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{i.get()},300)},u=(w=null)=>{r.model=w,r.show=!0},m=()=>{a.show=!0},p=async()=>{try{const w=await ae.post("payrolls/generate",{month:a.month});alert(w.data.message),a.show=!1,i.get()}catch{alert("Failed to generate payroll")}},h=async w=>{if(confirm("Are you sure you want to approve this payroll?"))try{await ae.post(`payrolls/${w}/approve`),i.get(),x()}catch{}},_=async w=>{if(confirm("Mark this payroll as paid?"))try{await ae.post(`payrolls/${w}/mark-as-paid`),i.get(),x()}catch{}},y=w=>{e.push(`/payrolls/${w}`)},x=async()=>{try{const w=await ae.get("payrolls/statistics");o.value=w.data.data}catch{}};return Ye(async()=>{try{await i.get(),await x(),t.value=!1}catch{t.value=!1}}),(w,k)=>{var b,M,S;return t.value?(g(),v("div",$ce,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Cce,[n("div",Sce,[n("h1",Mce,c(w.__("Payroll Management")),1)]),o.value?(g(),v("div",Tce,[n("div",Ace,[n("div",Dce,[n("div",Ece,[n("div",Pce,[C(f(zc),{class:"h-6 w-6 text-gray-400"})]),n("div",jce,[n("dl",null,[n("dt",Rce,c(w.__("Draft")),1),n("dd",Ice,c(o.value.draft),1)])])])])]),n("div",Oce,[n("div",Lce,[n("div",Fce,[n("div",Nce,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",zce,[n("dl",null,[n("dt",Bce,c(w.__("Approved")),1),n("dd",Uce,c(o.value.approved),1)])])])])]),n("div",Vce,[n("div",Hce,[n("div",qce,[n("div",Wce,[C(f(sr),{class:"h-6 w-6 text-blue-400"})]),n("div",Kce,[n("dl",null,[n("dt",Yce,c(w.__("Paid")),1),n("dd",Gce,c(o.value.paid),1)])])])])]),n("div",Xce,[n("div",Jce,[n("div",Qce,[n("div",Zce,[C(f(Fc),{class:"h-6 w-6 text-yellow-400"})]),n("div",eue,[n("dl",null,[n("dt",tue,c(w.__("This Month")),1),n("dd",sue,c(new Intl.NumberFormat().format(o.value.this_month_total)),1)])])])])])])):j("",!0),n("div",nue,[n("div",oue,[n("div",iue,[n("div",rue,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":k[0]||(k[0]=N=>f(i).params.search=N),type:"search",placeholder:w.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,aue),[[J,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":k[1]||(k[1]=N=>f(i).params.status=N),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k[2]||(k[2]=N=>f(i).get())},[n("option",lue,c(w.__("All Statuses")),1),n("option",due,c(w.__("Draft")),1),n("option",cue,c(w.__("Approved")),1),n("option",uue,c(w.__("Paid")),1),n("option",fue,c(w.__("Sent")),1)],544),[[Me,f(i).params.status]])]),n("div",mue,[C(Se,{variant:"secondary",onClick:m},{default:q(()=>[C(f(c$),{class:"mr-2 h-4 w-4"}),K(" "+c(w.__("Generate Payroll")),1)]),_:1}),f(fs)("payroll:create")?(g(),ne(Se,{key:0,onClick:k[3]||(k[3]=N=>u())},{default:q(()=>[K(c(w.__("Create Payroll")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",hue,[n("div",pue,[n("div",gue,[n("div",_ue,[n("table",vue,[n("thead",null,[n("tr",null,[C(je,{name:"payroll",index:f(i),label:w.__("Employee")},null,8,["index","label"]),C(je,{name:"payroll",index:f(i),label:w.__("Period"),sort:"payroll_period"},null,8,["index","label"]),C(je,{name:"payroll",index:f(i),label:w.__("Basic Salary"),sort:"basic_salary"},null,8,["index","label"]),C(je,{name:"payroll",index:f(i),label:w.__("Net Salary"),sort:"net_salary"},null,8,["index","label"]),C(je,{name:"payroll",index:f(i),label:w.__("Status"),sort:"status"},null,8,["index","label"]),k[8]||(k[8]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",yue,[(M=(b=f(i).data)==null?void 0:b.data)!=null&&M.length?j("",!0):(g(),v("tr",bue,[n("td",xue,c(w.__("No payrolls found")),1)])),(g(!0),v(re,null,ve(((S=f(i).data)==null?void 0:S.data)||[],N=>(g(),v("tr",{key:N.id,class:"hover:bg-gray-50"},[n("td",wue,[n("div",kue,[n("div",$ue,[C(Xt,{user:N.user,size:"10"},null,8,["user"])]),n("div",Cue,[n("div",Sue,c(N.user.name),1)])])]),n("td",Mue,c(N.payroll_period),1),n("td",Tue,c(new Intl.NumberFormat().format(N.basic_salary))+" "+c(N.currency),1),n("td",Aue,c(new Intl.NumberFormat().format(N.net_salary))+" "+c(N.currency),1),n("td",Due,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-gray-100 text-gray-800":N.status==="draft","bg-green-100 text-green-800":N.status==="approved","bg-blue-100 text-blue-800":N.status==="paid","bg-purple-100 text-purple-800":N.status==="sent"}])},c(N.status.charAt(0).toUpperCase()+N.status.slice(1)),3)]),n("td",Eue,[n("div",Pue,[N.status==="draft"&&f(fs)("payroll:approve")?(g(),ne(Se,{key:0,size:"xs",variant:"success",onClick:A=>h(N.id)},{default:q(()=>[K(c(w.__("Approve")),1)]),_:1},8,["onClick"])):j("",!0),N.status==="approved"&&f(fs)("payroll:pay")?(g(),ne(Se,{key:1,size:"xs",onClick:A=>_(N.id)},{default:q(()=>[K(c(w.__("Mark Paid")),1)]),_:1},8,["onClick"])):j("",!0),C(f(hn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>y(N.id)},null,8,["onClick"]),N.status==="draft"&&f(fs)("payroll:update")?(g(),ne(f(en),{key:2,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>u(N)},null,8,["onClick"])):j("",!0),N.status==="draft"&&f(fs)("payroll:delete")?(g(),ne(f(Vt),{key:3,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:A=>f(i).deleteIt(N.id)},null,8,["onClick"])):j("",!0)])])]))),128))])]),C(ms,{index:f(i)},null,8,["index"])])])])])]),a.show?(g(),ne(Tn,{key:1,width:"max-w-md"},{default:q(()=>[n("div",jue,[n("h2",Rue,c(w.__("Generate Payroll for Month")),1)]),n("div",Iue,[n("div",null,[n("label",Oue,c(w.__("Month")),1),z(n("input",{"onUpdate:modelValue":k[4]||(k[4]=N=>a.month=N),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[J,a.month]])]),n("p",Lue,c(w.__("This will generate draft payroll records for all active employees for the selected month.")),1)]),n("div",Fue,[C(Se,{variant:"secondary",onClick:k[5]||(k[5]=N=>a.show=!1)},{default:q(()=>[K(c(w.__("Cancel")),1)]),_:1}),C(Se,{onClick:p},{default:q(()=>[K(c(w.__("Generate")),1)]),_:1})])]),_:1})):j("",!0),r.show?(g(),ne(ls,{key:2,size:"2xl",onSaved:k[7]||(k[7]=N=>f(i).get())},{default:q(()=>[C(kce,{"model-value":r.model,onClose:k[6]||(k[6]=N=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},zue={class:"border-b border-gray-200 px-6 py-4"},Bue={class:"text-lg font-semibold text-gray-900"},Uue={class:"space-y-6 px-6 py-4"},Vue={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Hue={class:"block text-sm font-medium text-gray-700"},que=["placeholder"],Wue={key:0,class:"mt-2 text-sm text-red-600"},Kue={class:"block text-sm font-medium text-gray-700"},Yue=["placeholder"],Gue={key:0,class:"mt-2 text-sm text-red-600"},Xue={class:"block text-sm font-medium text-gray-700"},Jue=["placeholder"],Que={key:0,class:"mt-2 text-sm text-red-600"},Zue={class:"block text-sm font-medium text-gray-700"},efe=["placeholder"],tfe={class:"border-t border-gray-200 pt-6"},sfe={class:"mb-4 text-md font-medium text-gray-900"},nfe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ofe={class:"block text-sm font-medium text-gray-700"},ife=["placeholder"],rfe={class:"block text-sm font-medium text-gray-700"},afe=["placeholder"],lfe={class:"block text-sm font-medium text-gray-700"},dfe={key:0,class:"mt-2 text-sm text-red-600"},cfe={class:"block text-sm font-medium text-gray-700"},ufe={value:"prospect"},ffe={value:"active"},mfe={value:"inactive"},hfe={key:0,class:"mt-2 text-sm text-red-600"},pfe={class:"border-t border-gray-200 pt-6"},gfe={class:"mb-4 text-md font-medium text-gray-900"},_fe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},vfe={class:"sm:col-span-2"},yfe={class:"block text-sm font-medium text-gray-700"},bfe=["placeholder"],xfe={class:"block text-sm font-medium text-gray-700"},wfe={value:""},kfe=["value"],$fe={class:"block text-sm font-medium text-gray-700"},Cfe={value:""},Sfe=["value"],Mfe=["placeholder"],Tfe={class:"border-t border-gray-200 pt-6"},Afe={class:"block text-sm font-medium text-gray-700"},Dfe=["placeholder"],Efe={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Pfe={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=F(!1),r=F({}),a=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],l={Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Kasungu","Mangochi","Karonga","Salima","Nkhotakota","Liwonde","Nsanje","Rumphi","Dedza","Ntcheu","Balaka","Mchinji","Mulanje","Thyolo","Chiradzulu","Phalombe","Chitipa","Nkhata Bay","Likoma","Ntchisi","Dowa","Mwanza","Neno","Chikwawa","Machinga","Monkey Bay","Cape Maclear","Chipoka","Dwangwa","Ekwendeni","Jenda","Luchenza","Lunzu","Migowi","Mponela","Mzimba","Nkaya","Songwe","Thekerani","Chilumba","Embangweni","Livingstonia","Makanjira","Malomo","Namitete"],Zambia:["Lusaka","Kitwe","Ndola","Kabwe","Chingola","Mufulira","Livingstone","Luanshya","Kasama","Chipata","Kalulushi","Mazabuka","Mongu","Solwezi","Choma","Kafue","Mansa","Mpika","Petauke","Senanga"],Tanzania:["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar City","Kigoma","Moshi","Tabora","Songea","Musoma","Shinyanga","Iringa","Sumbawanga","Mtwara","Lindi","Bukoba","Singida"],Mozambique:["Maputo","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Lichinga","Pemba","Xai-Xai","Maxixe","Inhambane","Cuamba","Montepuez","Chokwe","Dondo","Angoche","Mocuba","Guru","Matola"],Zimbabwe:["Harare","Bulawayo","Chitungwiza","Mutare","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Marondera","Norton","Chegutu","Bindura","Beitbridge","Victoria Falls","Hwange","Kariba","Rusape","Chiredzi","Zvishavane"],"South Africa":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Polokwane","Nelspruit","Kimberley","Rustenburg","Pietermaritzburg","Vanderbijlpark","Soweto","Benoni","Tembisa","Welkom","Midrand","Sandton","Centurion"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Malindi","Kitale","Garissa","Nyeri","Machakos","Meru","Lamu","Naivasha","Embu","Kakamega","Kericho","Bungoma","Migori","Kilifi"],Uganda:["Kampala","Gulu","Lira","Mbarara","Jinja","Mbale","Mukono","Masaka","Entebbe","Kasese","Hoima","Arua","Fort Portal","Soroti","Kabale","Tororo","Iganga","Mityana","Mubende","Masindi"],Botswana:["Gaborone","Francistown","Molepolole","Serowe","Selibe Phikwe","Maun","Kanye","Mahalapye","Mogoditshane","Mochudi","Lobatse","Palapye","Ramotswa","Thamaga","Jwaneng","Letlhakane","Orapa","Kasane","Nata","Ghanzi"],"United Kingdom":["London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Leicester","Coventry","Bradford","Cardiff","Belfast","Nottingham","Newcastle","Southampton","Brighton","Plymouth","Oxford"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington D.C.","Boston","Nashville","Detroit","Portland","Las Vegas","Miami","Atlanta"],China:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin","Suzhou","Chongqing","Qingdao","Dalian","Xiamen","Ningbo","Zhengzhou","Changsha","Dongguan","Shenyang"],India:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Ahmedabad","Pune","Surat","Jaipur","Lucknow","Kanpur","Nagpur","Patna","Indore","Thane","Bhopal","Visakhapatnam","Vadodara","Coimbatore"],Nigeria:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Abeokuta","Sokoto","Onitsha","Warri","Calabar","Uyo","Kaduna"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Tema","Cape Coast","Sekondi","Obuasi","Teshie","Koforidua","Sunyani","Ho","Wa","Bolgatanga","Techiman","Nungua","Madina","Kasoa","Aflao"],Ethiopia:["Addis Ababa","Dire Dawa","Mekelle","Gondar","Hawassa","Bahir Dar","Adama","Jimma","Dessie","Jijiga","Harar","Shashamane","Debre Birhan","Arba Minch","Hosaena","Dilla","Nekemte","Asella","Debre Markos","Kombolcha"],Rwanda:["Kigali","Butare","Gitarama","Ruhengeri","Gisenyi","Byumba","Cyangugu","Nyanza","Kibungo","Kibuye"],Burundi:["Bujumbura","Gitega","Muyinga","Ruyigi","Ngozi","Rutana","Bururi","Makamba","Kayanza","Muramvya"],"Democratic Republic of the Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Tshikapa","Kolwezi","Likasi","Goma"]},d=De(()=>u.country&&l[u.country]?[...l[u.country]].sort():[]);$t(()=>u.country,(p,h)=>{h&&p!==h&&((l[p]||[]).includes(u.city)||(u.city=""))});const u=Qe({name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"}),m=async()=>{var h,_;i.value=!0,r.value={};const p=t.modelValue?`clients/${t.modelValue.id}`:"clients";try{t.modelValue?await ae.put(p,u):await ae.post(p,u),o("saved"),o("close")}catch(y){(_=(h=y.response)==null?void 0:h.data)!=null&&_.errors&&(r.value=y.response.data.errors)}finally{i.value=!1}};return $t(()=>t.modelValue,p=>{p?Object.assign(u,{name:p.name||"",email:p.email||"",phone:p.phone||"",secondary_phone:p.secondary_phone||"",company_name:p.company_name||"",business_type:p.business_type||"",address:p.address||"",city:p.city||"",country:p.country||"",website:p.website||"",notes:p.notes||"",status:p.status||"prospect"}):Object.assign(u,{name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"})},{immediate:!0}),(p,h)=>(g(),v("div",null,[n("div",zue,[n("h2",Bue,c(s.modelValue?p.__("Edit Client"):p.__("Add Client")),1)]),n("div",Uue,[n("div",Vue,[n("div",null,[n("label",Hue,[K(c(p.__("Name"))+" ",1),h[14]||(h[14]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>u.name=_),type:"text",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.name}]),placeholder:p.__("Client name"),required:""},null,10,que),[[J,u.name]]),r.value.name?(g(),v("p",Wue,c(r.value.name[0]),1)):j("",!0)]),n("div",null,[n("label",Kue,c(p.__("Email")),1),z(n("input",{"onUpdate:modelValue":h[1]||(h[1]=_=>u.email=_),type:"email",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),placeholder:p.__("email@example.com")},null,10,Yue),[[J,u.email]]),r.value.email?(g(),v("p",Gue,c(r.value.email[0]),1)):j("",!0)]),n("div",null,[n("label",Xue,c(p.__("Phone")),1),z(n("input",{"onUpdate:modelValue":h[2]||(h[2]=_=>u.phone=_),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Primary phone number")},null,8,Jue),[[J,u.phone]]),r.value.phone?(g(),v("p",Que,c(r.value.phone[0]),1)):j("",!0)]),n("div",null,[n("label",Zue,c(p.__("Secondary Phone")),1),z(n("input",{"onUpdate:modelValue":h[3]||(h[3]=_=>u.secondary_phone=_),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Alternative phone number")},null,8,efe),[[J,u.secondary_phone]])])]),n("div",tfe,[n("h3",sfe,c(p.__("Company Information")),1),n("div",nfe,[n("div",null,[n("label",ofe,c(p.__("Company Name")),1),z(n("input",{"onUpdate:modelValue":h[4]||(h[4]=_=>u.company_name=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Company or organization name")},null,8,ife),[[J,u.company_name]])]),n("div",null,[n("label",rfe,c(p.__("Business Type")),1),z(n("input",{"onUpdate:modelValue":h[5]||(h[5]=_=>u.business_type=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("e.g., Retail, Technology, Healthcare")},null,8,afe),[[J,u.business_type]])]),n("div",null,[n("label",lfe,c(p.__("Website")),1),z(n("input",{"onUpdate:modelValue":h[6]||(h[6]=_=>u.website=_),type:"url",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.website}]),placeholder:"https://example.com"},null,2),[[J,u.website]]),r.value.website?(g(),v("p",dfe,c(r.value.website[0]),1)):j("",!0)]),n("div",null,[n("label",cfe,[K(c(p.__("Status"))+" ",1),h[15]||(h[15]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":h[7]||(h[7]=_=>u.status=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[n("option",ufe,c(p.__("Prospect")),1),n("option",ffe,c(p.__("Active")),1),n("option",mfe,c(p.__("Inactive")),1)],512),[[Me,u.status]]),r.value.status?(g(),v("p",hfe,c(r.value.status[0]),1)):j("",!0)])])]),n("div",pfe,[n("h3",gfe,c(p.__("Address")),1),n("div",_fe,[n("div",vfe,[n("label",yfe,c(p.__("Address")),1),z(n("textarea",{"onUpdate:modelValue":h[8]||(h[8]=_=>u.address=_),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Street address")},null,8,bfe),[[J,u.address]])]),n("div",null,[n("label",xfe,c(p.__("Country")),1),z(n("select",{"onUpdate:modelValue":h[9]||(h[9]=_=>u.country=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",wfe,c(p.__("Select Country")),1),(g(),v(re,null,ve(a,_=>n("option",{key:_,value:_},c(_),9,kfe)),64))],512),[[Me,u.country]])]),n("div",null,[n("label",$fe,c(p.__("City")),1),d.value.length>0?z((g(),v("select",{key:0,"onUpdate:modelValue":h[10]||(h[10]=_=>u.city=_),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",Cfe,c(p.__("Select City")),1),(g(!0),v(re,null,ve(d.value,_=>(g(),v("option",{key:_,value:_},c(_),9,Sfe))),128))],512)),[[Me,u.city]]):z((g(),v("input",{key:1,"onUpdate:modelValue":h[11]||(h[11]=_=>u.city=_),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:u.country?p.__("Enter city name"):p.__("Select country first")},null,8,Mfe)),[[J,u.city]])])])]),n("div",Tfe,[n("label",Afe,c(p.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":h[12]||(h[12]=_=>u.notes=_),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Additional notes about this client")},null,8,Dfe),[[J,u.notes]])])]),n("div",Efe,[C(Se,{variant:"secondary",onClick:h[13]||(h[13]=_=>p.$emit("close"))},{default:q(()=>[K(c(p.__("Cancel")),1)]),_:1}),C(Se,{disabled:i.value,onClick:m},{default:q(()=>[K(c(s.modelValue?p.__("Update Client"):p.__("Create Client")),1)]),_:1},8,["disabled"])])]))}},jfe={key:0,class:"mt-8 flex justify-center"},Rfe={key:1},Ife={class:"mb-6"},Ofe={class:"text-2xl font-bold text-gray-900"},Lfe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ffe={class:"overflow-hidden rounded-lg bg-white shadow"},Nfe={class:"p-5"},zfe={class:"flex items-center"},Bfe={class:"flex-shrink-0"},Ufe={class:"ml-5 w-0 flex-1"},Vfe={class:"truncate text-sm font-medium text-gray-500"},Hfe={class:"text-lg font-semibold text-gray-900"},qfe={class:"overflow-hidden rounded-lg bg-white shadow"},Wfe={class:"p-5"},Kfe={class:"flex items-center"},Yfe={class:"flex-shrink-0"},Gfe={class:"ml-5 w-0 flex-1"},Xfe={class:"truncate text-sm font-medium text-gray-500"},Jfe={class:"text-lg font-semibold text-gray-900"},Qfe={class:"overflow-hidden rounded-lg bg-white shadow"},Zfe={class:"p-5"},eme={class:"flex items-center"},tme={class:"flex-shrink-0"},sme={class:"ml-5 w-0 flex-1"},nme={class:"truncate text-sm font-medium text-gray-500"},ome={class:"text-lg font-semibold text-gray-900"},ime={class:"overflow-hidden rounded-lg bg-white shadow"},rme={class:"p-5"},ame={class:"flex items-center"},lme={class:"flex-shrink-0"},dme={class:"ml-5 w-0 flex-1"},cme={class:"truncate text-sm font-medium text-gray-500"},ume={class:"text-lg font-semibold text-gray-900"},fme={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},mme={class:"flex flex-1 gap-2"},hme={class:"relative w-64 rounded-md shadow-sm"},pme={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},gme=["placeholder"],_me={value:""},vme={value:"active"},yme={value:"inactive"},bme={value:"prospect"},xme={class:"flex gap-2"},wme={class:"flex flex-col"},kme={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},$me={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Cme={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Sme={class:"min-w-full divide-y divide-gray-200"},Mme={class:"divide-y divide-gray-200 bg-white"},Tme={key:0,class:"hover:bg-gray-50"},Ame={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},Dme={class:"whitespace-nowrap px-6 py-4"},Eme={class:"flex items-center"},Pme={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},jme={class:"text-sm font-medium text-indigo-600"},Rme={class:"ml-4"},Ime={class:"text-sm font-medium text-gray-900"},Ome={key:0,class:"text-sm text-gray-500"},Lme={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Fme={key:0},Nme={key:1,class:"text-xs text-gray-400"},zme={key:2},Bme={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Ume={key:0},Vme={key:1,class:"text-xs text-gray-400"},Hme={key:2},qme={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Wme={key:0},Kme={key:1},Yme={class:"whitespace-nowrap px-6 py-4 text-sm"},Gme={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Xme={class:"flex items-center justify-end gap-2"},Jme={__name:"Index",setup(s){const e=eo(),t=F(!0),o=F(null),i=Dn("clients",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=Qe({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(h=null)=>{r.model=h,r.show=!0},u=h=>{e.push(`/clients/${h}`)},m=()=>{i.get(),p()},p=async()=>{try{const h=await ae.get("clients/statistics");o.value=h.data.data}catch{}};return Ye(async()=>{try{await i.get(),await p(),t.value=!1}catch{t.value=!1}}),(h,_)=>{var y,x,w;return t.value?(g(),v("div",jfe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Rfe,[n("div",Ife,[n("h1",Ofe,c(h.__("Client Management")),1)]),o.value?(g(),v("div",Lfe,[n("div",Ffe,[n("div",Nfe,[n("div",zfe,[n("div",Bfe,[C(f(el),{class:"h-6 w-6 text-gray-400"})]),n("div",Ufe,[n("dl",null,[n("dt",Vfe,c(h.__("Total Clients")),1),n("dd",Hfe,c(o.value.total),1)])])])])]),n("div",qfe,[n("div",Wfe,[n("div",Kfe,[n("div",Yfe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",Gfe,[n("dl",null,[n("dt",Xfe,c(h.__("Active")),1),n("dd",Jfe,c(o.value.active),1)])])])])]),n("div",Qfe,[n("div",Zfe,[n("div",eme,[n("div",tme,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",sme,[n("dl",null,[n("dt",nme,c(h.__("Prospects")),1),n("dd",ome,c(o.value.prospect),1)])])])])]),n("div",ime,[n("div",rme,[n("div",ame,[n("div",lme,[C(f(ws),{class:"h-6 w-6 text-red-400"})]),n("div",dme,[n("dl",null,[n("dt",cme,c(h.__("Inactive")),1),n("dd",ume,c(o.value.inactive),1)])])])])])])):j("",!0),n("div",fme,[n("div",mme,[n("div",hme,[n("div",pme,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":_[0]||(_[0]=k=>f(i).params.search=k),type:"search",placeholder:h.__("Search clients..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,gme),[[J,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":_[1]||(_[1]=k=>f(i).params.status=k),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:_[2]||(_[2]=k=>f(i).get())},[n("option",_me,c(h.__("All Statuses")),1),n("option",vme,c(h.__("Active")),1),n("option",yme,c(h.__("Inactive")),1),n("option",bme,c(h.__("Prospect")),1)],544),[[Me,f(i).params.status]])]),n("div",xme,[C(Se,{onClick:_[3]||(_[3]=k=>d())},{default:q(()=>[C(f(pn),{class:"mr-2 h-4 w-4"}),K(" "+c(h.__("Add Client")),1)]),_:1})])]),n("section",null,[n("div",wme,[n("div",kme,[n("div",$me,[n("div",Cme,[n("table",Sme,[n("thead",null,[n("tr",null,[C(je,{name:"client",index:f(i),label:h.__("Name"),sort:"name"},null,8,["index","label"]),C(je,{name:"client",index:f(i),label:h.__("Company"),sort:"company_name"},null,8,["index","label"]),C(je,{name:"client",index:f(i),label:h.__("Contact")},null,8,["index","label"]),C(je,{name:"client",index:f(i),label:h.__("Location")},null,8,["index","label"]),C(je,{name:"client",index:f(i),label:h.__("Status"),sort:"status"},null,8,["index","label"]),_[5]||(_[5]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Mme,[(x=(y=f(i).data)==null?void 0:y.data)!=null&&x.length?j("",!0):(g(),v("tr",Tme,[n("td",Ame,c(h.__("No clients found")),1)])),(g(!0),v(re,null,ve(((w=f(i).data)==null?void 0:w.data)||[],k=>(g(),v("tr",{key:k.id,class:"hover:bg-gray-50"},[n("td",Dme,[n("div",Eme,[n("div",Pme,[n("span",jme,c(k.name.charAt(0).toUpperCase()),1)]),n("div",Rme,[n("div",Ime,c(k.name),1),k.email?(g(),v("div",Ome,c(k.email),1)):j("",!0)])])]),n("td",Lme,[k.company_name?(g(),v("div",Fme,c(k.company_name),1)):j("",!0),k.business_type?(g(),v("div",Nme,c(k.business_type),1)):j("",!0),k.company_name?j("",!0):(g(),v("span",zme,"-"))]),n("td",Bme,[k.phone?(g(),v("div",Ume,c(k.phone),1)):j("",!0),k.secondary_phone?(g(),v("div",Vme,c(k.secondary_phone),1)):j("",!0),k.phone?j("",!0):(g(),v("span",Hme,"-"))]),n("td",qme,[k.city||k.country?(g(),v("div",Wme,c([k.city,k.country].filter(Boolean).join(", ")),1)):(g(),v("span",Kme,"-"))]),n("td",Yme,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":k.status==="active","bg-gray-100 text-gray-800":k.status==="inactive","bg-yellow-100 text-yellow-800":k.status==="prospect"}])},c(k.status.charAt(0).toUpperCase()+k.status.slice(1)),3)]),n("td",Gme,[n("div",Xme,[C(f(hn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>u(k.id)},null,8,["onClick"]),C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>d(k)},null,8,["onClick"]),C(f(Vt),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>f(i).deleteIt(k.id)},null,8,["onClick"])])])]))),128))])]),C(ms,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),ne(ls,{key:1,size:"2xl",onSaved:m},{default:q(()=>[C(Pfe,{"model-value":r.model,onClose:_[4]||(_[4]=k=>r.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},Qme={class:"border-b border-gray-200 px-6 py-4"},Zme={class:"text-lg font-semibold text-gray-900"},ehe={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},the={class:"mb-6"},she={class:"mb-4 text-md font-medium text-gray-900"},nhe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ohe={class:"block text-sm font-medium text-gray-700"},ihe={key:0,class:"mt-1 text-sm text-red-600"},rhe={class:"block text-sm font-medium text-gray-700"},ahe={class:"block text-sm font-medium text-gray-700"},lhe={class:"block text-sm font-medium text-gray-700"},dhe={class:"block text-sm font-medium text-gray-700"},che=["placeholder"],uhe={class:"block text-sm font-medium text-gray-700"},fhe={value:"active"},mhe={value:"inactive"},hhe={class:"mt-4"},phe={class:"block text-sm font-medium text-gray-700"},ghe={class:"mb-6 border-t border-gray-200 pt-6"},_he={class:"mb-4 text-md font-medium text-gray-900"},vhe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},yhe={class:"block text-sm font-medium text-gray-700"},bhe={class:"block text-sm font-medium text-gray-700"},xhe={class:"block text-sm font-medium text-gray-700"},whe={class:"block text-sm font-medium text-gray-700"},khe={class:"sm:col-span-2"},$he={class:"block text-sm font-medium text-gray-700"},Che={class:"mb-6 border-t border-gray-200 pt-6"},She={class:"mb-4 text-md font-medium text-gray-900"},Mhe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},The={class:"sm:col-span-2"},Ahe={class:"block text-sm font-medium text-gray-700"},Dhe={class:"block text-sm font-medium text-gray-700"},Ehe={class:"block text-sm font-medium text-gray-700"},Phe={class:"block text-sm font-medium text-gray-700"},jhe={class:"block text-sm font-medium text-gray-700"},Rhe={class:"mb-6 border-t border-gray-200 pt-6"},Ihe={class:"mb-4 text-md font-medium text-gray-900"},Ohe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Lhe={class:"block text-sm font-medium text-gray-700"},Fhe={class:"block text-sm font-medium text-gray-700"},Nhe={class:"block text-sm font-medium text-gray-700"},zhe={class:"block text-sm font-medium text-gray-700"},Bhe={class:"block text-sm font-medium text-gray-700"},Uhe={class:"border-t border-gray-200 pt-6"},Vhe={class:"block text-sm font-medium text-gray-700"},Hhe=["placeholder"],qhe={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Whe={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=Je("__"),o=s,i=e,r=F(!1),a=F({}),l=()=>({name:"",trading_name:"",registration_number:"",tax_number:"",email:"",phone:"",secondary_phone:"",fax:"",website:"",address:"",city:"",state:"",postal_code:"",country:"",industry:"",description:"",bank_name:"",bank_account_name:"",bank_account_number:"",bank_branch:"",bank_swift_code:"",status:"active",notes:""}),d=Qe(l()),u=async()=>{var p,h,_,y;r.value=!0,a.value={};const m=o.modelValue?`companies/${o.modelValue.id}`:"companies";try{o.modelValue?await ae.put(m,d):await ae.post(m,d),i("saved"),i("close")}catch(x){(h=(p=x.response)==null?void 0:p.data)!=null&&h.errors?a.value=x.response.data.errors:alert("Error: "+(((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||x.message||"Unknown error"))}finally{r.value=!1}};return $t(()=>o.modelValue,m=>{m?Object.assign(d,{name:m.name||"",trading_name:m.trading_name||"",registration_number:m.registration_number||"",tax_number:m.tax_number||"",email:m.email||"",phone:m.phone||"",secondary_phone:m.secondary_phone||"",fax:m.fax||"",website:m.website||"",address:m.address||"",city:m.city||"",state:m.state||"",postal_code:m.postal_code||"",country:m.country||"",industry:m.industry||"",description:m.description||"",bank_name:m.bank_name||"",bank_account_name:m.bank_account_name||"",bank_account_number:m.bank_account_number||"",bank_branch:m.bank_branch||"",bank_swift_code:m.bank_swift_code||"",status:m.status||"active",notes:m.notes||""}):Object.assign(d,l())},{immediate:!0}),(m,p)=>(g(),v("div",null,[n("div",Qme,[n("h2",Zme,c(s.modelValue?f(t)("Edit Company"):f(t)("Create Company")),1)]),n("div",ehe,[n("div",the,[n("h3",she,c(f(t)("Basic Information")),1),n("div",nhe,[n("div",null,[n("label",ohe,[K(c(f(t)("Company Name"))+" ",1),p[24]||(p[24]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":p[0]||(p[0]=h=>d.name=h),type:"text",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.name}])},null,2),[[J,d.name]]),a.value.name?(g(),v("p",ihe,c(a.value.name[0]),1)):j("",!0)]),n("div",null,[n("label",rhe,c(f(t)("Trading Name")),1),z(n("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>d.trading_name=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.trading_name]])]),n("div",null,[n("label",ahe,c(f(t)("Registration Number")),1),z(n("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>d.registration_number=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.registration_number]])]),n("div",null,[n("label",lhe,c(f(t)("Tax Number")),1),z(n("input",{"onUpdate:modelValue":p[3]||(p[3]=h=>d.tax_number=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.tax_number]])]),n("div",null,[n("label",dhe,c(f(t)("Industry")),1),z(n("input",{"onUpdate:modelValue":p[4]||(p[4]=h=>d.industry=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(t)("e.g., Technology, Healthcare, etc.")},null,8,che),[[J,d.industry]])]),n("div",null,[n("label",uhe,c(f(t)("Status")),1),z(n("select",{"onUpdate:modelValue":p[5]||(p[5]=h=>d.status=h),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",fhe,c(f(t)("Active")),1),n("option",mhe,c(f(t)("Inactive")),1)],512),[[Me,d.status]])])]),n("div",hhe,[n("label",phe,c(f(t)("Description")),1),z(n("textarea",{"onUpdate:modelValue":p[6]||(p[6]=h=>d.description=h),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.description]])])]),n("div",ghe,[n("h3",_he,c(f(t)("Contact Information")),1),n("div",vhe,[n("div",null,[n("label",yhe,c(f(t)("Email")),1),z(n("input",{"onUpdate:modelValue":p[7]||(p[7]=h=>d.email=h),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.email]])]),n("div",null,[n("label",bhe,c(f(t)("Phone")),1),z(n("input",{"onUpdate:modelValue":p[8]||(p[8]=h=>d.phone=h),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.phone]])]),n("div",null,[n("label",xhe,c(f(t)("Secondary Phone")),1),z(n("input",{"onUpdate:modelValue":p[9]||(p[9]=h=>d.secondary_phone=h),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.secondary_phone]])]),n("div",null,[n("label",whe,c(f(t)("Fax")),1),z(n("input",{"onUpdate:modelValue":p[10]||(p[10]=h=>d.fax=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.fax]])]),n("div",khe,[n("label",$he,c(f(t)("Website")),1),z(n("input",{"onUpdate:modelValue":p[11]||(p[11]=h=>d.website=h),type:"url",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://"},null,512),[[J,d.website]])])])]),n("div",Che,[n("h3",She,c(f(t)("Address")),1),n("div",Mhe,[n("div",The,[n("label",Ahe,c(f(t)("Street Address")),1),z(n("textarea",{"onUpdate:modelValue":p[12]||(p[12]=h=>d.address=h),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.address]])]),n("div",null,[n("label",Dhe,c(f(t)("City")),1),z(n("input",{"onUpdate:modelValue":p[13]||(p[13]=h=>d.city=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.city]])]),n("div",null,[n("label",Ehe,c(f(t)("State/Province")),1),z(n("input",{"onUpdate:modelValue":p[14]||(p[14]=h=>d.state=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.state]])]),n("div",null,[n("label",Phe,c(f(t)("Postal Code")),1),z(n("input",{"onUpdate:modelValue":p[15]||(p[15]=h=>d.postal_code=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.postal_code]])]),n("div",null,[n("label",jhe,c(f(t)("Country")),1),z(n("input",{"onUpdate:modelValue":p[16]||(p[16]=h=>d.country=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.country]])])])]),n("div",Rhe,[n("h3",Ihe,c(f(t)("Banking Information")),1),n("div",Ohe,[n("div",null,[n("label",Lhe,c(f(t)("Bank Name")),1),z(n("input",{"onUpdate:modelValue":p[17]||(p[17]=h=>d.bank_name=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.bank_name]])]),n("div",null,[n("label",Fhe,c(f(t)("Account Name")),1),z(n("input",{"onUpdate:modelValue":p[18]||(p[18]=h=>d.bank_account_name=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.bank_account_name]])]),n("div",null,[n("label",Nhe,c(f(t)("Account Number")),1),z(n("input",{"onUpdate:modelValue":p[19]||(p[19]=h=>d.bank_account_number=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.bank_account_number]])]),n("div",null,[n("label",zhe,c(f(t)("Branch")),1),z(n("input",{"onUpdate:modelValue":p[20]||(p[20]=h=>d.bank_branch=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.bank_branch]])]),n("div",null,[n("label",Bhe,c(f(t)("SWIFT Code")),1),z(n("input",{"onUpdate:modelValue":p[21]||(p[21]=h=>d.bank_swift_code=h),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,d.bank_swift_code]])])])]),n("div",Uhe,[n("label",Vhe,c(f(t)("Notes")),1),z(n("textarea",{"onUpdate:modelValue":p[22]||(p[22]=h=>d.notes=h),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(t)("Internal notes about this company")},null,8,Hhe),[[J,d.notes]])])]),n("div",qhe,[C(Se,{variant:"secondary",onClick:p[23]||(p[23]=h=>m.$emit("close"))},{default:q(()=>[K(c(f(t)("Cancel")),1)]),_:1}),C(Se,{disabled:r.value,onClick:u},{default:q(()=>[K(c(s.modelValue?f(t)("Update Company"):f(t)("Create Company")),1)]),_:1},8,["disabled"])])]))}},Khe={key:0,class:"mt-8 flex justify-center"},Yhe={key:1},Ghe={class:"mb-6"},Xhe={class:"text-2xl font-bold text-gray-900"},Jhe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Qhe={class:"overflow-hidden rounded-lg bg-white shadow"},Zhe={class:"p-5"},e0e={class:"flex items-center"},t0e={class:"flex-shrink-0"},s0e={class:"ml-5 w-0 flex-1"},n0e={class:"truncate text-sm font-medium text-gray-500"},o0e={class:"text-lg font-semibold text-gray-900"},i0e={class:"overflow-hidden rounded-lg bg-white shadow"},r0e={class:"p-5"},a0e={class:"flex items-center"},l0e={class:"flex-shrink-0"},d0e={class:"ml-5 w-0 flex-1"},c0e={class:"truncate text-sm font-medium text-gray-500"},u0e={class:"text-lg font-semibold text-gray-900"},f0e={class:"overflow-hidden rounded-lg bg-white shadow"},m0e={class:"p-5"},h0e={class:"flex items-center"},p0e={class:"flex-shrink-0"},g0e={class:"ml-5 w-0 flex-1"},_0e={class:"truncate text-sm font-medium text-gray-500"},v0e={class:"text-lg font-semibold text-gray-900"},y0e={class:"overflow-hidden rounded-lg bg-white shadow"},b0e={class:"p-5"},x0e={class:"flex items-center"},w0e={class:"flex-shrink-0"},k0e={class:"ml-5 w-0 flex-1"},$0e={class:"truncate text-sm font-medium text-gray-500"},C0e={class:"text-lg font-semibold text-gray-900"},S0e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},M0e={class:"flex flex-1 gap-2"},T0e={class:"relative w-64 rounded-md shadow-sm"},A0e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},D0e=["placeholder"],E0e={value:""},P0e={value:"active"},j0e={value:"inactive"},R0e={class:"flex gap-2"},I0e={class:"flex flex-col"},O0e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},L0e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},F0e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},N0e={class:"min-w-full divide-y divide-gray-200"},z0e={class:"divide-y divide-gray-200 bg-white"},B0e={key:0,class:"hover:bg-gray-50"},U0e={colspan:"5",class:"px-6 py-8 text-center text-gray-500"},V0e={class:"whitespace-nowrap px-6 py-4"},H0e={class:"flex items-center"},q0e={key:0,class:"h-10 w-10 flex-shrink-0"},W0e=["src"],K0e={key:1,class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},Y0e={class:"text-sm font-medium text-indigo-600"},G0e={class:"ml-4"},X0e={class:"text-sm font-medium text-gray-900"},J0e={key:0,class:"text-sm text-gray-500"},Q0e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Z0e={key:0},epe={key:1,class:"text-xs text-gray-400"},tpe={key:2},spe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},npe={key:0},ope={key:1},ipe={class:"whitespace-nowrap px-6 py-4 text-sm"},rpe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ape={class:"flex items-center justify-end gap-2"},lpe={__name:"Index",setup(s){const e=F(!0),t=F(null),o=Dn("companies",{search:"",status:"",sort_by:"name",sort_order:"asc",per_page:15}),i=Qe({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{o.get()},300)},l=(p=null)=>{i.model=p,i.show=!0},d=()=>{o.get(),m()},u=async p=>{if(confirm("Are you sure you want to delete this company?"))try{await ae.delete(`companies/${p}`),o.get(),m()}catch{alert("Failed to delete company")}},m=async()=>{try{const p=await ae.get("companies/statistics");t.value=p.data.data}catch{}};return Ye(async()=>{try{await o.get(),await m(),e.value=!1}catch{e.value=!1}}),(p,h)=>{var _,y,x;return e.value?(g(),v("div",Khe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Yhe,[n("div",Ghe,[n("h1",Xhe,c(p.__("Company Management")),1)]),t.value?(g(),v("div",Jhe,[n("div",Qhe,[n("div",Zhe,[n("div",e0e,[n("div",t0e,[C(f(s$),{class:"h-6 w-6 text-gray-400"})]),n("div",s0e,[n("dl",null,[n("dt",n0e,c(p.__("Total Companies")),1),n("dd",o0e,c(t.value.total),1)])])])])]),n("div",i0e,[n("div",r0e,[n("div",a0e,[n("div",l0e,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",d0e,[n("dl",null,[n("dt",c0e,c(p.__("Active")),1),n("dd",u0e,c(t.value.active),1)])])])])]),n("div",f0e,[n("div",m0e,[n("div",h0e,[n("div",p0e,[C(f(ws),{class:"h-6 w-6 text-gray-400"})]),n("div",g0e,[n("dl",null,[n("dt",_0e,c(p.__("Inactive")),1),n("dd",v0e,c(t.value.inactive),1)])])])])]),n("div",y0e,[n("div",b0e,[n("div",x0e,[n("div",w0e,[C(f(eh),{class:"h-6 w-6 text-indigo-400"})]),n("div",k0e,[n("dl",null,[n("dt",$0e,c(p.__("With Projects")),1),n("dd",C0e,c(t.value.with_projects),1)])])])])])])):j("",!0),n("div",S0e,[n("div",M0e,[n("div",T0e,[n("div",A0e,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":h[0]||(h[0]=w=>f(o).params.search=w),type:"search",placeholder:p.__("Search companies..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,D0e),[[J,f(o).params.search]])]),z(n("select",{"onUpdate:modelValue":h[1]||(h[1]=w=>f(o).params.status=w),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:h[2]||(h[2]=w=>f(o).get())},[n("option",E0e,c(p.__("All Statuses")),1),n("option",P0e,c(p.__("Active")),1),n("option",j0e,c(p.__("Inactive")),1)],544),[[Me,f(o).params.status]])]),n("div",R0e,[C(Se,{onClick:h[3]||(h[3]=w=>l())},{default:q(()=>[C(f(pn),{class:"mr-2 h-4 w-4"}),K(" "+c(p.__("Add Company")),1)]),_:1})])]),n("section",null,[n("div",I0e,[n("div",O0e,[n("div",L0e,[n("div",F0e,[n("table",N0e,[n("thead",null,[n("tr",null,[C(je,{name:"company",index:f(o),label:p.__("Company"),sort:"name"},null,8,["index","label"]),C(je,{name:"company",index:f(o),label:p.__("Contact")},null,8,["index","label"]),C(je,{name:"company",index:f(o),label:p.__("Location")},null,8,["index","label"]),C(je,{name:"company",index:f(o),label:p.__("Status"),sort:"status"},null,8,["index","label"]),h[5]||(h[5]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",z0e,[(y=(_=f(o).data)==null?void 0:_.data)!=null&&y.length?j("",!0):(g(),v("tr",B0e,[n("td",U0e,c(p.__("No companies found")),1)])),(g(!0),v(re,null,ve(((x=f(o).data)==null?void 0:x.data)||[],w=>(g(),v("tr",{key:w.id,class:"hover:bg-gray-50"},[n("td",V0e,[n("div",H0e,[w.logo?(g(),v("div",q0e,[n("img",{class:"h-10 w-10 rounded-full object-cover",src:`/storage/${w.logo}`,alt:""},null,8,W0e)])):(g(),v("div",K0e,[n("span",Y0e,c(w.name.charAt(0).toUpperCase()),1)])),n("div",G0e,[n("div",X0e,c(w.name),1),w.trading_name?(g(),v("div",J0e,c(w.trading_name),1)):j("",!0)])])]),n("td",Q0e,[w.email?(g(),v("div",Z0e,c(w.email),1)):j("",!0),w.phone?(g(),v("div",epe,c(w.phone),1)):j("",!0),!w.email&&!w.phone?(g(),v("span",tpe,"-")):j("",!0)]),n("td",spe,[w.city||w.country?(g(),v("div",npe,c([w.city,w.country].filter(Boolean).join(", ")),1)):(g(),v("span",ope,"-"))]),n("td",ipe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":w.status==="active","bg-gray-100 text-gray-800":w.status==="inactive"}])},c(w.status.charAt(0).toUpperCase()+w.status.slice(1)),3)]),n("td",rpe,[n("div",ape,[C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:k=>l(w)},null,8,["onClick"]),C(f(Vt),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:k=>u(w.id)},null,8,["onClick"])])])]))),128))])]),C(ms,{index:f(o)},null,8,["index"])])])])])]),i.show?(g(),ne(ls,{key:1,size:"2xl",onSaved:d},{default:q(()=>[C(Whe,{"model-value":i.model,onClose:h[4]||(h[4]=w=>i.show=!1)},null,8,["model-value"])]),_:1})):j("",!0)]))}}},dpe={class:"border-b border-gray-200 px-6 py-4"},cpe={class:"text-lg font-semibold text-gray-900"},upe={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},fpe={class:"mb-6"},mpe={class:"mb-4 text-md font-medium text-gray-900"},hpe={class:"mb-4"},ppe={class:"block text-sm font-medium text-gray-700"},gpe={value:""},_pe=["value"],vpe={class:"mb-4"},ype={class:"block text-sm font-medium text-gray-700"},bpe={value:""},xpe=["value"],wpe={class:"mt-1 text-xs text-gray-500"},kpe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},$pe={class:"block text-sm font-medium text-gray-700"},Cpe={key:0,class:"mt-1 text-sm text-red-600"},Spe={class:"block text-sm font-medium text-gray-700"},Mpe={key:0,class:"mt-1 text-sm text-red-600"},Tpe={class:"block text-sm font-medium text-gray-700"},Ape={class:"block text-sm font-medium text-gray-700"},Dpe={class:"mb-6 border-t border-gray-200 pt-6"},Epe={class:"mb-4 text-md font-medium text-gray-900"},Ppe={class:"mb-4 text-sm text-gray-500"},jpe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Rpe={class:"block text-sm font-medium text-gray-700"},Ipe=["placeholder"],Ope={class:"block text-sm font-medium text-gray-700"},Lpe=["placeholder"],Fpe={class:"block text-sm font-medium text-gray-700"},Npe=["placeholder"],zpe={class:"block text-sm font-medium text-gray-700"},Bpe=["placeholder"],Upe={class:"mb-6 border-t border-gray-200 pt-6"},Vpe={class:"mb-4 text-md font-medium text-gray-900"},Hpe={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},qpe={class:"block text-sm font-medium text-gray-700"},Wpe={key:0,class:"mt-1 text-sm text-red-600"},Kpe={class:"block text-sm font-medium text-gray-700"},Ype={key:0,class:"mt-1 text-sm text-red-600"},Gpe={class:"block text-sm font-medium text-gray-700"},Xpe={class:"block text-sm font-medium text-gray-700"},Jpe={value:"style_1"},Qpe={value:"style_2"},Zpe={value:"style_3"},ege={value:"style_4"},tge={value:"style_5"},sge={value:"style_6"},nge={value:"style_7"},oge={value:"style_8"},ige={class:"mb-6 border-t border-gray-200 pt-6"},rge={class:"mb-4 flex items-center justify-between"},age={class:"text-md font-medium text-gray-900"},lge={class:"overflow-hidden rounded-lg border border-gray-200"},dge={class:"min-w-full divide-y divide-gray-200"},cge={class:"bg-gray-50"},uge={class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},fge={class:"w-24 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},mge={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},hge={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pge={class:"divide-y divide-gray-200 bg-white"},gge={class:"px-4 py-2"},_ge=["onUpdate:modelValue","placeholder"],vge={key:0,class:"mt-1 text-xs text-red-600"},yge={class:"px-4 py-2"},bge=["onUpdate:modelValue","onInput"],xge={class:"px-4 py-2"},wge=["onUpdate:modelValue","onInput"],kge={class:"px-4 py-2 text-sm font-medium text-gray-900"},$ge={class:"px-4 py-2"},Cge=["onClick"],Sge={key:0,class:"mt-2 text-sm text-red-600"},Mge={class:"mb-6 flex justify-end"},Tge={class:"w-80 space-y-2"},Age={class:"flex justify-between text-sm"},Dge={class:"text-gray-600"},Ege={class:"font-medium"},Pge={class:"flex items-center justify-between text-sm"},jge={class:"text-gray-600"},Rge={class:"flex justify-between text-sm"},Ige={class:"text-gray-600"},Oge={class:"font-medium"},Lge={class:"flex items-center justify-between text-sm"},Fge={class:"text-gray-600"},Nge={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-semibold"},zge={class:"text-indigo-600"},Bge={class:"border-t border-gray-200 pt-6"},Uge={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Vge={class:"block text-sm font-medium text-gray-700"},Hge=["placeholder"],qge={class:"block text-sm font-medium text-gray-700"},Wge=["placeholder"],Kge={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Yge={class:"block text-sm font-medium text-gray-700"},Gge={value:"draft"},Xge={value:"sent"},Jge={value:"accepted"},Qge={value:"rejected"},Zge={value:"expired"},e_e={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Bb={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=F(!1),r=F({}),a=F([]),l=F([]),d=F(""),u=F("");Ye(async()=>{try{const[A,T]=await Promise.all([ae.get("clients/options"),ae.get("companies/options")]);a.value=A.data.data||[],l.value=T.data.data||[]}catch{}});const m=()=>{if(d.value){const A=a.value.find(T=>T.id===parseInt(d.value));A&&(_.client_id=A.id,_.customer_name=A.name||"",_.customer_email=A.email||"",_.customer_phone=A.phone||"",_.customer_address=A.address||"")}else _.client_id=null},p=async()=>{if(u.value)try{const T=(await ae.get(`companies/${u.value}/quotation-details`)).data.data;T&&(_.company_id=T.id,_.business_name=T.business_name||"",_.business_email=T.business_email||"",_.business_phone=T.business_phone||"",_.business_address=T.business_address||"",T.logo&&(_.logo=T.logo))}catch{}else _.company_id=null},h=()=>({description:"",quantity:1,unit_price:0}),_=Qe({client_id:null,company_id:null,customer_name:"",customer_email:"",customer_phone:"",customer_address:"",business_name:"",business_email:"",business_phone:"",business_address:"",logo:"",quotation_date:new Date().toISOString().split("T")[0],valid_until:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:"MWK",tax_rate:16.5,discount_amount:0,template:"style_1",notes:"",terms:`Payment is due within 14 days of acceptance.
Prices are valid for 30 days from quotation date.`,status:"draft",items:[h()]}),y=De(()=>_.items.reduce((A,T)=>A+T.quantity*T.unit_price,0)),x=De(()=>y.value*(_.tax_rate/100)),w=De(()=>y.value+x.value-_.discount_amount),k=()=>{_.items.push(h())},b=A=>{_.items.length>1&&_.items.splice(A,1)},M=A=>{const T=_.items[A];T.total=T.quantity*T.unit_price},S=A=>parseFloat(A||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),N=async()=>{var T,D,L,I;i.value=!0,r.value={};const A=t.modelValue?`quotations/${t.modelValue.id}`:"quotations";try{t.modelValue?await ae.put(A,_):await ae.post(A,_),o("saved"),o("close")}catch(O){(D=(T=O.response)==null?void 0:T.data)!=null&&D.errors?(r.value=O.response.data.errors,alert(`Validation errors:
`+Object.values(O.response.data.errors).flat().join(`
`))):(I=(L=O.response)==null?void 0:L.data)!=null&&I.error?alert(`Server error:
`+O.response.data.error+`
File: `+O.response.data.file+`
Line: `+O.response.data.line):alert("Error: "+(O.message||"Unknown error"))}finally{i.value=!1}};return $t(()=>t.modelValue,A=>{var T;A&&(Object.assign(_,{client_id:A.client_id||null,company_id:A.company_id||null,customer_name:A.customer_name||"",customer_email:A.customer_email||"",customer_phone:A.customer_phone||"",customer_address:A.customer_address||"",business_name:A.business_name||"",business_email:A.business_email||"",business_phone:A.business_phone||"",business_address:A.business_address||"",logo:A.logo||"",quotation_date:A.quotation_date?A.quotation_date.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:A.valid_until?A.valid_until.split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:A.currency||"MWK",tax_rate:parseFloat(A.tax_rate)||16.5,discount_amount:parseFloat(A.discount_amount)||0,template:A.template||"style_1",notes:A.notes||"",terms:A.terms||"",status:A.status||"draft",items:(T=A.items)!=null&&T.length?A.items.map(D=>({description:D.description,quantity:D.quantity,unit_price:parseFloat(D.unit_price)})):[h()]}),A.client_id&&(d.value=A.client_id.toString()),A.company_id&&(u.value=A.company_id.toString()))},{immediate:!0}),(A,T)=>(g(),v("div",null,[n("div",dpe,[n("h2",cpe,c(s.modelValue?A.__("Edit Quotation"):A.__("Create Quotation")),1)]),n("div",upe,[n("div",fpe,[n("h3",mpe,c(A.__("Customer Information")),1),n("div",hpe,[n("label",ppe,c(A.__("Select Client")),1),z(n("select",{"onUpdate:modelValue":T[0]||(T[0]=D=>d.value=D),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[n("option",gpe,c(A.__("-- Select a registered client or enter manually --")),1),(g(!0),v(re,null,ve(a.value,D=>(g(),v("option",{key:D.id,value:D.id},c(D.name)+c(D.company_name?` (${D.company_name})`:""),9,_pe))),128))],544),[[Me,d.value]])]),n("div",vpe,[n("label",ype,c(A.__("Select Company")),1),z(n("select",{"onUpdate:modelValue":T[1]||(T[1]=D=>u.value=D),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[n("option",bpe,c(A.__("-- Select a company to auto-fill business details --")),1),(g(!0),v(re,null,ve(l.value,D=>(g(),v("option",{key:D.id,value:D.id},c(D.name)+c(D.trading_name?` (${D.trading_name})`:""),9,xpe))),128))],544),[[Me,u.value]]),n("p",wpe,c(A.__("Selecting a company will auto-fill the business information below")),1)]),n("div",kpe,[n("div",null,[n("label",$pe,[K(c(A.__("Customer Name"))+" ",1),T[20]||(T[20]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":T[2]||(T[2]=D=>_.customer_name=D),type:"text",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_name}])},null,2),[[J,_.customer_name]]),r.value.customer_name?(g(),v("p",Cpe,c(r.value.customer_name[0]),1)):j("",!0)]),n("div",null,[n("label",Spe,[K(c(A.__("Email"))+" ",1),T[21]||(T[21]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":T[3]||(T[3]=D=>_.customer_email=D),type:"email",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_email}])},null,2),[[J,_.customer_email]]),r.value.customer_email?(g(),v("p",Mpe,c(r.value.customer_email[0]),1)):j("",!0)]),n("div",null,[n("label",Tpe,c(A.__("Phone")),1),z(n("input",{"onUpdate:modelValue":T[4]||(T[4]=D=>_.customer_phone=D),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,_.customer_phone]])]),n("div",null,[n("label",Ape,c(A.__("Address")),1),z(n("input",{"onUpdate:modelValue":T[5]||(T[5]=D=>_.customer_address=D),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,_.customer_address]])])])]),n("div",Dpe,[n("h3",Epe,c(A.__("Business Information")),1),n("p",Ppe,c(A.__("This information will appear on the quotation as your company details")),1),n("div",jpe,[n("div",null,[n("label",Rpe,c(A.__("Business Name")),1),z(n("input",{"onUpdate:modelValue":T[6]||(T[6]=D=>_.business_name=D),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("Your company name")},null,8,Ipe),[[J,_.business_name]])]),n("div",null,[n("label",Ope,c(A.__("Business Email")),1),z(n("input",{"onUpdate:modelValue":T[7]||(T[7]=D=>_.business_email=D),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("company@email.com")},null,8,Lpe),[[J,_.business_email]])]),n("div",null,[n("label",Fpe,c(A.__("Business Phone")),1),z(n("input",{"onUpdate:modelValue":T[8]||(T[8]=D=>_.business_phone=D),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("Business phone number")},null,8,Npe),[[J,_.business_phone]])]),n("div",null,[n("label",zpe,c(A.__("Business Address")),1),z(n("input",{"onUpdate:modelValue":T[9]||(T[9]=D=>_.business_address=D),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("Business address")},null,8,Bpe),[[J,_.business_address]])])])]),n("div",Upe,[n("h3",Vpe,c(A.__("Quotation Details")),1),n("div",Hpe,[n("div",null,[n("label",qpe,[K(c(A.__("Quotation Date"))+" ",1),T[22]||(T[22]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":T[10]||(T[10]=D=>_.quotation_date=D),type:"date",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.quotation_date}])},null,2),[[J,_.quotation_date]]),r.value.quotation_date?(g(),v("p",Wpe,c(r.value.quotation_date[0]),1)):j("",!0)]),n("div",null,[n("label",Kpe,[K(c(A.__("Valid Until"))+" ",1),T[23]||(T[23]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":T[11]||(T[11]=D=>_.valid_until=D),type:"date",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.valid_until}])},null,2),[[J,_.valid_until]]),r.value.valid_until?(g(),v("p",Ype,c(r.value.valid_until[0]),1)):j("",!0)]),n("div",null,[n("label",Gpe,c(A.__("Currency")),1),z(n("select",{"onUpdate:modelValue":T[12]||(T[12]=D=>_.currency=D),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...T[24]||(T[24]=[_i('<option value="MWK">MWK - Malawian Kwacha</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ZAR">ZAR - South African Rand</option>',5)])],512),[[Me,_.currency]])]),n("div",null,[n("label",Xpe,c(A.__("Template")),1),z(n("select",{"onUpdate:modelValue":T[13]||(T[13]=D=>_.template=D),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",Jpe,c(A.__("Style 1 - Classic")),1),n("option",Qpe,c(A.__("Style 2 - Modern")),1),n("option",Zpe,c(A.__("Style 3 - Colorful Header")),1),n("option",ege,c(A.__("Style 4 - Bordered")),1),n("option",tge,c(A.__("Style 5 - Info Banner")),1),n("option",sge,c(A.__("Style 6 - Minimal")),1),n("option",nge,c(A.__("Style 7 - Split Header")),1),n("option",oge,c(A.__("Style 8 - Elegant")),1)],512),[[Me,_.template]])])])]),n("div",ige,[n("div",rge,[n("h3",age,c(A.__("Items")),1),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:k},[C(f(pn),{class:"mr-1 h-4 w-4"}),K(" "+c(A.__("Add Item")),1)])]),n("div",lge,[n("table",dge,[n("thead",cge,[n("tr",null,[n("th",uge,c(A.__("Description")),1),n("th",fge,c(A.__("Qty")),1),n("th",mge,c(A.__("Unit Price")),1),n("th",hge,c(A.__("Total")),1),T[25]||(T[25]=n("th",{class:"w-16 px-4 py-3"},null,-1))])]),n("tbody",pge,[(g(!0),v(re,null,ve(_.items,(D,L)=>(g(),v("tr",{key:L},[n("td",gge,[z(n("input",{"onUpdate:modelValue":I=>D.description=I,type:"text",placeholder:A.__("Item description *"),class:Q(["block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",r.value[`items.${L}.description`]?"border-red-300 bg-red-50":"border-gray-300"])},null,10,_ge),[[J,D.description]]),r.value[`items.${L}.description`]?(g(),v("p",vge,c(A.__("Description is required")),1)):j("",!0)]),n("td",yge,[z(n("input",{"onUpdate:modelValue":I=>D.quantity=I,type:"number",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:I=>M(L)},null,40,bge),[[J,D.quantity,void 0,{number:!0}]])]),n("td",xge,[z(n("input",{"onUpdate:modelValue":I=>D.unit_price=I,type:"number",min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:I=>M(L)},null,40,wge),[[J,D.unit_price,void 0,{number:!0}]])]),n("td",kge,c(S(D.quantity*D.unit_price)),1),n("td",$ge,[_.items.length>1?(g(),v("button",{key:0,type:"button",class:"text-red-500 hover:text-red-700",onClick:I=>b(L)},[C(f(Vt),{class:"h-5 w-5"})],8,Cge)):j("",!0)])]))),128))])])]),r.value.items?(g(),v("p",Sge,c(r.value.items[0]),1)):j("",!0)]),n("div",Mge,[n("div",Tge,[n("div",Age,[n("span",Dge,c(A.__("Subtotal"))+":",1),n("span",Ege,c(_.currency)+" "+c(S(y.value)),1)]),n("div",Pge,[n("span",jge,c(A.__("Tax Rate"))+" (%):",1),z(n("input",{"onUpdate:modelValue":T[14]||(T[14]=D=>_.tax_rate=D),type:"number",min:"0",max:"100",step:"0.5",class:"w-20 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,_.tax_rate,void 0,{number:!0}]])]),n("div",Rge,[n("span",Ige,c(A.__("Tax Amount"))+":",1),n("span",Oge,c(_.currency)+" "+c(S(x.value)),1)]),n("div",Lge,[n("span",Fge,c(A.__("Discount"))+":",1),z(n("input",{"onUpdate:modelValue":T[15]||(T[15]=D=>_.discount_amount=D),type:"number",min:"0",step:"0.01",class:"w-24 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,_.discount_amount,void 0,{number:!0}]])]),n("div",Nge,[n("span",null,c(A.__("Total"))+":",1),n("span",zge,c(_.currency)+" "+c(S(w.value)),1)])])]),n("div",Bge,[n("div",Uge,[n("div",null,[n("label",Vge,c(A.__("Notes")),1),z(n("textarea",{"onUpdate:modelValue":T[16]||(T[16]=D=>_.notes=D),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("Additional notes for the customer")},null,8,Hge),[[J,_.notes]])]),n("div",null,[n("label",qge,c(A.__("Terms & Conditions")),1),z(n("textarea",{"onUpdate:modelValue":T[17]||(T[17]=D=>_.terms=D),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:A.__("Terms and conditions")},null,8,Wge),[[J,_.terms]])])])]),s.modelValue?(g(),v("div",Kge,[n("label",Yge,c(A.__("Status")),1),z(n("select",{"onUpdate:modelValue":T[18]||(T[18]=D=>_.status=D),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",Gge,c(A.__("Draft")),1),n("option",Xge,c(A.__("Sent")),1),n("option",Jge,c(A.__("Accepted")),1),n("option",Qge,c(A.__("Rejected")),1),n("option",Zge,c(A.__("Expired")),1)],512),[[Me,_.status]])])):j("",!0)]),n("div",e_e,[C(Se,{variant:"secondary",onClick:T[19]||(T[19]=D=>A.$emit("close"))},{default:q(()=>[K(c(A.__("Cancel")),1)]),_:1}),C(Se,{disabled:i.value,onClick:N},{default:q(()=>[K(c(s.modelValue?A.__("Update Quotation"):A.__("Create Quotation")),1)]),_:1},8,["disabled"])])]))}},t_e={key:0,class:"mt-8 flex justify-center"},s_e={key:1},n_e={class:"mb-6"},o_e={class:"text-2xl font-bold text-gray-900"},i_e={class:"mt-1 text-sm text-gray-500"},r_e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},a_e={class:"overflow-hidden rounded-lg bg-white shadow"},l_e={class:"p-5"},d_e={class:"flex items-center"},c_e={class:"flex-shrink-0"},u_e={class:"ml-5 w-0 flex-1"},f_e={class:"truncate text-sm font-medium text-gray-500"},m_e={class:"text-lg font-semibold text-gray-900"},h_e={class:"overflow-hidden rounded-lg bg-white shadow"},p_e={class:"p-5"},g_e={class:"flex items-center"},__e={class:"flex-shrink-0"},v_e={class:"ml-5 w-0 flex-1"},y_e={class:"truncate text-sm font-medium text-gray-500"},b_e={class:"text-lg font-semibold text-gray-900"},x_e={class:"overflow-hidden rounded-lg bg-white shadow"},w_e={class:"p-5"},k_e={class:"flex items-center"},$_e={class:"flex-shrink-0"},C_e={class:"ml-5 w-0 flex-1"},S_e={class:"truncate text-sm font-medium text-gray-500"},M_e={class:"text-lg font-semibold text-gray-900"},T_e={class:"overflow-hidden rounded-lg bg-white shadow"},A_e={class:"p-5"},D_e={class:"flex items-center"},E_e={class:"flex-shrink-0"},P_e={class:"ml-5 w-0 flex-1"},j_e={class:"truncate text-sm font-medium text-gray-500"},R_e={class:"text-lg font-semibold text-gray-900"},I_e={class:"overflow-hidden rounded-lg bg-white shadow"},O_e={class:"p-5"},L_e={class:"flex items-center"},F_e={class:"flex-shrink-0"},N_e={class:"ml-5 w-0 flex-1"},z_e={class:"truncate text-sm font-medium text-gray-500"},B_e={class:"text-lg font-semibold text-gray-900"},U_e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},V_e={class:"flex flex-1 gap-2"},H_e={class:"relative w-64 rounded-md shadow-sm"},q_e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},W_e=["placeholder"],K_e={value:""},Y_e={value:"draft"},G_e={value:"sent"},X_e={value:"accepted"},J_e={value:"rejected"},Q_e={value:"expired"},Z_e={class:"flex gap-2"},e1e={class:"flex flex-col"},t1e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},s1e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},n1e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},o1e={class:"min-w-full divide-y divide-gray-200"},i1e={class:"divide-y divide-gray-200 bg-white"},r1e={key:0,class:"hover:bg-gray-50"},a1e={colspan:"7",class:"px-6 py-8 text-center text-gray-500"},l1e={class:"whitespace-nowrap px-6 py-4"},d1e={class:"text-sm font-medium text-indigo-600"},c1e={class:"whitespace-nowrap px-6 py-4"},u1e={class:"text-sm font-medium text-gray-900"},f1e={class:"text-sm text-gray-500"},m1e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},h1e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},p1e={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},g1e={class:"whitespace-nowrap px-6 py-4 text-sm"},_1e={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},v1e={class:"flex items-center justify-end gap-2"},y1e={__name:"Index",setup(s){const e=eo(),t=F(!0),o=F(null),i=Dn("quotations",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=Qe({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(b=null)=>{r.model=b,r.show=!0},u=b=>{e.push(`/quotations/${b}`)},m=async b=>{try{const M=await ae.get(`quotations/${b}/pdf`,{responseType:"blob"}),S=window.URL.createObjectURL(new Blob([M.data])),N=document.createElement("a");N.href=S,N.setAttribute("download",`quotation-${b}.pdf`),document.body.appendChild(N),N.click(),N.remove()}catch{}},p=()=>{i.get(),h()},h=async()=>{try{const b=await ae.get("quotations/statistics");o.value=b.data.data}catch{}},_=b=>b?new Date(b).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",y=b=>parseFloat(b||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=b=>"MWK "+y(b),w=b=>b?new Date(b)<new Date:!1,k=b=>({"bg-gray-100 text-gray-800":b==="draft","bg-blue-100 text-blue-800":b==="sent","bg-green-100 text-green-800":b==="accepted","bg-red-100 text-red-800":b==="rejected","bg-yellow-100 text-yellow-800":b==="expired"});return Ye(async()=>{try{await i.get(),await h(),t.value=!1}catch{t.value=!1}}),(b,M)=>{var S,N,A;return t.value?(g(),v("div",t_e,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",s_e,[n("div",n_e,[n("h1",o_e,c(b.__("Quotations")),1),n("p",i_e,c(b.__("Manage your quotations and proposals")),1)]),o.value?(g(),v("div",r_e,[n("div",a_e,[n("div",l_e,[n("div",d_e,[n("div",c_e,[C(f(zc),{class:"h-6 w-6 text-gray-400"})]),n("div",u_e,[n("dl",null,[n("dt",f_e,c(b.__("Total")),1),n("dd",m_e,c(o.value.total),1)])])])])]),n("div",h_e,[n("div",p_e,[n("div",g_e,[n("div",__e,[C(f(Ur),{class:"h-6 w-6 text-gray-400"})]),n("div",v_e,[n("dl",null,[n("dt",y_e,c(b.__("Draft")),1),n("dd",b_e,c(o.value.draft),1)])])])])]),n("div",x_e,[n("div",w_e,[n("div",k_e,[n("div",$_e,[C(f(Bv),{class:"h-6 w-6 text-blue-400"})]),n("div",C_e,[n("dl",null,[n("dt",S_e,c(b.__("Sent")),1),n("dd",M_e,c(o.value.sent),1)])])])])]),n("div",T_e,[n("div",A_e,[n("div",D_e,[n("div",E_e,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",P_e,[n("dl",null,[n("dt",j_e,c(b.__("Accepted")),1),n("dd",R_e,c(o.value.accepted),1)])])])])]),n("div",I_e,[n("div",O_e,[n("div",L_e,[n("div",F_e,[C(f(Fc),{class:"h-6 w-6 text-indigo-400"})]),n("div",N_e,[n("dl",null,[n("dt",z_e,c(b.__("Total Value")),1),n("dd",B_e,c(x(o.value.total_value)),1)])])])])])])):j("",!0),n("div",U_e,[n("div",V_e,[n("div",H_e,[n("div",q_e,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":M[0]||(M[0]=T=>f(i).params.search=T),type:"search",placeholder:b.__("Search quotations..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,W_e),[[J,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":M[1]||(M[1]=T=>f(i).params.status=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[2]||(M[2]=T=>f(i).get())},[n("option",K_e,c(b.__("All Statuses")),1),n("option",Y_e,c(b.__("Draft")),1),n("option",G_e,c(b.__("Sent")),1),n("option",X_e,c(b.__("Accepted")),1),n("option",J_e,c(b.__("Rejected")),1),n("option",Q_e,c(b.__("Expired")),1)],544),[[Me,f(i).params.status]])]),n("div",Z_e,[C(Se,{onClick:M[3]||(M[3]=T=>d())},{default:q(()=>[C(f(pn),{class:"mr-2 h-4 w-4"}),K(" "+c(b.__("New Quotation")),1)]),_:1})])]),n("section",null,[n("div",e1e,[n("div",t1e,[n("div",s1e,[n("div",n1e,[n("table",o1e,[n("thead",null,[n("tr",null,[C(je,{name:"quotation",index:f(i),label:b.__("Quotation #"),sort:"quotation_number"},null,8,["index","label"]),C(je,{name:"quotation",index:f(i),label:b.__("Customer"),sort:"customer_name"},null,8,["index","label"]),C(je,{name:"quotation",index:f(i),label:b.__("Date"),sort:"quotation_date"},null,8,["index","label"]),C(je,{name:"quotation",index:f(i),label:b.__("Valid Until"),sort:"valid_until"},null,8,["index","label"]),C(je,{name:"quotation",index:f(i),label:b.__("Amount"),sort:"total_amount"},null,8,["index","label"]),C(je,{name:"quotation",index:f(i),label:b.__("Status"),sort:"status"},null,8,["index","label"]),M[6]||(M[6]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",i1e,[(N=(S=f(i).data)==null?void 0:S.data)!=null&&N.length?j("",!0):(g(),v("tr",r1e,[n("td",a1e,c(b.__("No quotations found")),1)])),(g(!0),v(re,null,ve(((A=f(i).data)==null?void 0:A.data)||[],T=>(g(),v("tr",{key:T.id,class:"hover:bg-gray-50"},[n("td",l1e,[n("div",d1e,c(T.quotation_number),1)]),n("td",c1e,[n("div",u1e,c(T.customer_name),1),n("div",f1e,c(T.customer_email),1)]),n("td",m1e,c(_(T.quotation_date)),1),n("td",h1e,[n("span",{class:Q(w(T.valid_until)?"text-red-500":"")},c(_(T.valid_until)),3)]),n("td",p1e,c(T.currency)+" "+c(y(T.total_amount)),1),n("td",g1e,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",k(T.status)])},c(T.status.charAt(0).toUpperCase()+T.status.slice(1)),3)]),n("td",_1e,[n("div",v1e,[C(f(hn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:D=>u(T.id)},null,8,["onClick"]),C(f(Nc),{class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",onClick:D=>m(T.id)},null,8,["onClick"]),C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:D=>d(T)},null,8,["onClick"]),C(f(Vt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:D=>f(i).deleteIt(T.id)},null,8,["onClick"])])])]))),128))])]),C(ms,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),ne(ls,{key:1,size:"4xl",onClose:M[5]||(M[5]=T=>r.show=!1)},{default:q(()=>[C(Bb,{"model-value":r.model,onClose:M[4]||(M[4]=T=>r.show=!1),onSaved:p},null,8,["model-value"])]),_:1})):j("",!0)]))}}},b1e={key:0,class:"mt-8 flex justify-center"},x1e={key:1,class:"space-y-6"},w1e={class:"flex items-center justify-between"},k1e={class:"text-2xl font-bold text-gray-900"},$1e={class:"mt-1 text-sm text-gray-500"},C1e={class:"flex items-center gap-3"},S1e={class:"flex gap-2"},M1e={class:"flex gap-2"},T1e={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},A1e={class:"lg:col-span-2"},D1e={class:"overflow-hidden rounded-lg bg-white shadow"},E1e={class:"p-6"},P1e={class:"mb-6 flex justify-between"},j1e={class:"text-xl font-bold text-gray-900"},R1e={class:"text-sm text-gray-500"},I1e={class:"text-right"},O1e={key:0,class:"text-sm text-gray-500"},L1e={key:1,class:"text-sm text-gray-500"},F1e={class:"mb-6 grid grid-cols-2 gap-6 border-t border-gray-200 pt-6"},N1e={class:"mb-2 text-sm font-semibold text-gray-700"},z1e={class:"font-medium text-gray-900"},B1e={class:"text-sm text-gray-500"},U1e={key:0,class:"text-sm text-gray-500"},V1e={key:1,class:"text-sm text-gray-500"},H1e={class:"text-right"},q1e={class:"mb-2"},W1e={class:"text-sm text-gray-500"},K1e={class:"ml-2 font-medium"},Y1e={class:"mb-2"},G1e={class:"text-sm text-gray-500"},X1e={class:"mb-6 overflow-hidden rounded-lg border border-gray-200"},J1e={class:"min-w-full divide-y divide-gray-200"},Q1e={class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-white"},Z1e={class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-white"},eve={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},tve={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},sve={class:"divide-y divide-gray-200 bg-white"},nve={class:"px-4 py-3"},ove={class:"font-medium text-gray-900"},ive={key:0,class:"text-sm text-gray-500"},rve={class:"px-4 py-3 text-center text-gray-500"},ave={class:"px-4 py-3 text-right text-gray-500"},lve={class:"px-4 py-3 text-right font-medium text-gray-900"},dve={class:"flex justify-end"},cve={class:"w-64 space-y-2"},uve={class:"flex justify-between text-sm"},fve={class:"text-gray-500"},mve={class:"font-medium"},hve={key:0,class:"flex justify-between text-sm"},pve={class:"text-gray-500"},gve={class:"font-medium"},_ve={key:1,class:"flex justify-between text-sm"},vve={class:"text-gray-500"},yve={class:"font-medium text-red-500"},bve={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-bold"},xve={key:0,class:"mt-6 border-t border-gray-200 pt-6"},wve={key:0,class:"mb-4"},kve={class:"mb-2 text-sm font-semibold text-gray-700"},$ve={class:"whitespace-pre-line text-sm text-gray-500"},Cve={key:1},Sve={class:"mb-2 text-sm font-semibold text-gray-700"},Mve={class:"whitespace-pre-line text-sm text-gray-500"},Tve={class:"space-y-6"},Ave={class:"overflow-hidden rounded-lg bg-white shadow"},Dve={class:"border-b border-gray-200 px-4 py-3"},Eve={class:"text-sm font-semibold text-gray-900"},Pve={class:"p-4 space-y-3"},jve={class:"flex justify-between"},Rve={class:"text-sm text-gray-500"},Ive={class:"text-sm font-medium"},Ove={class:"flex justify-between"},Lve={class:"text-sm text-gray-500"},Fve={class:"text-sm font-medium"},Nve={class:"flex justify-between"},zve={class:"text-sm text-gray-500"},Bve={class:"text-sm font-medium"},Uve={class:"overflow-hidden rounded-lg bg-white shadow"},Vve={class:"border-b border-gray-200 px-4 py-3"},Hve={class:"text-sm font-semibold text-gray-900"},qve={class:"p-4"},Wve={class:"flow-root"},Kve={class:"-mb-4"},Yve={class:"relative pb-4"},Gve={class:"relative flex space-x-3"},Xve={class:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 ring-4 ring-white"},Jve={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},Qve={class:"text-sm text-gray-500"},Zve={class:"whitespace-nowrap text-right text-sm text-gray-500"},eye={__name:"Detail",setup(s){const e=Ec(),t=eo(),o=F(!0),i=F(null),r=F(!1),a=De(()=>{var k;return(k=i.value)!=null&&k.valid_until?new Date(i.value.valid_until)<new Date:!1}),l=async()=>{try{const k=await ae.get(`quotations/${e.params.id}`);i.value=k.data.data}catch{}finally{o.value=!1}},d=async()=>{try{const k=await ae.get(`quotations/${i.value.id}/pdf`,{responseType:"blob"}),b=window.URL.createObjectURL(new Blob([k.data])),M=document.createElement("a");M.href=b,M.setAttribute("download",`${i.value.quotation_number}.pdf`),document.body.appendChild(M),M.click(),M.remove()}catch{}},u=async k=>{try{await ae.post(`quotations/${i.value.id}/change-status`,{status:k}),i.value.status=k}catch{}},m=()=>{r.value=!0},p=()=>{r.value=!1,l()},h=k=>k?new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",_=k=>k?new Date(k).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",y=k=>parseFloat(k||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=k=>({"bg-gray-100 text-gray-800":k==="draft","bg-blue-100 text-blue-800":k==="sent","bg-green-100 text-green-800":k==="accepted","bg-red-100 text-red-800":k==="rejected","bg-yellow-100 text-yellow-800":k==="expired"})[k]||"bg-gray-100 text-gray-800",w=k=>({style_1:"Classic",style_2:"Modern",style_3:"Colorful Header",style_4:"Bordered",style_5:"Info Banner",style_6:"Minimal",style_7:"Split Header",style_8:"Elegant"})[k]||k;return Ye(()=>{l()}),(k,b)=>{var M;return o.value?(g(),v("div",b1e,[C(bt,{size:"40",color:"#5850ec"})])):i.value?(g(),v("div",x1e,[n("div",w1e,[n("div",null,[n("button",{class:"mb-2 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:b[0]||(b[0]=S=>f(t).push("/quotations"))},[C(f(jv),{class:"mr-1 h-4 w-4"}),K(" "+c(k.__("Back to Quotations")),1)]),n("h1",k1e,c(i.value.quotation_number),1),n("p",$1e,c(k.__("Created on"))+" "+c(h(i.value.created_at)),1)]),n("div",C1e,[n("span",{class:Q(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",x(i.value.status)])},c(i.value.status.charAt(0).toUpperCase()+i.value.status.slice(1)),3),n("div",S1e,[C(Se,{variant:"secondary",onClick:d},{default:q(()=>[C(f(Nc),{class:"mr-2 h-4 w-4"}),K(" "+c(k.__("Download PDF")),1)]),_:1}),C(Se,{onClick:m},{default:q(()=>[C(f(en),{class:"mr-2 h-4 w-4"}),K(" "+c(k.__("Edit")),1)]),_:1})])])]),n("div",M1e,[i.value.status==="draft"?(g(),ne(Se,{key:0,variant:"secondary",size:"sm",onClick:b[1]||(b[1]=S=>u("sent"))},{default:q(()=>[C(f(Bv),{class:"mr-1 h-4 w-4"}),K(" "+c(k.__("Mark as Sent")),1)]),_:1})):j("",!0),i.value.status==="sent"?(g(),ne(Se,{key:1,variant:"success",size:"sm",onClick:b[2]||(b[2]=S=>u("accepted"))},{default:q(()=>[C(f(i$),{class:"mr-1 h-4 w-4"}),K(" "+c(k.__("Mark as Accepted")),1)]),_:1})):j("",!0),i.value.status==="sent"?(g(),ne(Se,{key:2,variant:"danger",size:"sm",onClick:b[3]||(b[3]=S=>u("rejected"))},{default:q(()=>[C(f(Po),{class:"mr-1 h-4 w-4"}),K(" "+c(k.__("Mark as Rejected")),1)]),_:1})):j("",!0)]),n("div",T1e,[n("div",A1e,[n("div",D1e,[n("div",E1e,[n("div",P1e,[n("div",null,[n("h2",j1e,c(k.__("QUOTATION")),1),n("p",R1e,"# "+c(i.value.quotation_number),1)]),n("div",I1e,[n("div",{class:"text-lg font-bold",style:kt({color:i.value.color||"#2568ef"})},c(i.value.business_name||"Your Company"),5),i.value.business_address?(g(),v("p",O1e,c(i.value.business_address),1)):j("",!0),i.value.business_phone?(g(),v("p",L1e,c(i.value.business_phone),1)):j("",!0)])]),n("div",F1e,[n("div",null,[n("h3",N1e,c(k.__("Bill To")),1),n("p",z1e,c(i.value.customer_name),1),n("p",B1e,c(i.value.customer_email),1),i.value.customer_phone?(g(),v("p",U1e,c(i.value.customer_phone),1)):j("",!0),i.value.customer_address?(g(),v("p",V1e,c(i.value.customer_address),1)):j("",!0)]),n("div",H1e,[n("div",q1e,[n("span",W1e,c(k.__("Date"))+":",1),n("span",K1e,c(h(i.value.quotation_date)),1)]),n("div",Y1e,[n("span",G1e,c(k.__("Valid Until"))+":",1),n("span",{class:Q(["ml-2 font-medium",a.value?"text-red-500":""])},c(h(i.value.valid_until)),3)])])]),n("div",X1e,[n("table",J1e,[n("thead",null,[n("tr",{style:kt({backgroundColor:i.value.color||"#2568ef"})},[n("th",Q1e,c(k.__("Description")),1),n("th",Z1e,c(k.__("Qty")),1),n("th",eve,c(k.__("Price")),1),n("th",tve,c(k.__("Total")),1)],4)]),n("tbody",sve,[(g(!0),v(re,null,ve(i.value.items,S=>(g(),v("tr",{key:S.id},[n("td",nve,[n("div",ove,c(S.description),1),S.details?(g(),v("div",ive,c(S.details),1)):j("",!0)]),n("td",rve,c(S.quantity),1),n("td",ave,c(y(S.unit_price)),1),n("td",lve,c(y(S.total)),1)]))),128))])])]),n("div",dve,[n("div",cve,[n("div",uve,[n("span",fve,c(k.__("Subtotal"))+":",1),n("span",mve,c(i.value.currency)+" "+c(y(i.value.subtotal)),1)]),i.value.tax_rate>0?(g(),v("div",hve,[n("span",pve,c(k.__("Tax"))+" ("+c(i.value.tax_rate)+"%):",1),n("span",gve,c(i.value.currency)+" "+c(y(i.value.tax_amount)),1)])):j("",!0),i.value.discount_amount>0?(g(),v("div",_ve,[n("span",vve,c(k.__("Discount"))+":",1),n("span",yve,"-"+c(i.value.currency)+" "+c(y(i.value.discount_amount)),1)])):j("",!0),n("div",bve,[n("span",null,c(k.__("Total"))+":",1),n("span",{style:kt({color:i.value.color||"#2568ef"})},c(i.value.currency)+" "+c(y(i.value.total_amount)),5)])])]),i.value.notes||i.value.terms?(g(),v("div",xve,[i.value.notes?(g(),v("div",wve,[n("h4",kve,c(k.__("Notes")),1),n("p",$ve,c(i.value.notes),1)])):j("",!0),i.value.terms?(g(),v("div",Cve,[n("h4",Sve,c(k.__("Terms & Conditions")),1),n("p",Mve,c(i.value.terms),1)])):j("",!0)])):j("",!0)])])]),n("div",Tve,[n("div",Ave,[n("div",Dve,[n("h3",Eve,c(k.__("Quick Info")),1)]),n("div",Pve,[n("div",jve,[n("span",Rve,c(k.__("Created By"))+":",1),n("span",Ive,c(((M=i.value.user)==null?void 0:M.name)||"-"),1)]),n("div",Ove,[n("span",Lve,c(k.__("Template"))+":",1),n("span",Fve,c(w(i.value.template)),1)]),n("div",Nve,[n("span",zve,c(k.__("Currency"))+":",1),n("span",Bve,c(i.value.currency),1)])])]),n("div",Uve,[n("div",Vve,[n("h3",Hve,c(k.__("Timeline")),1)]),n("div",qve,[n("div",Wve,[n("ul",Kve,[n("li",Yve,[n("div",Gve,[n("div",null,[n("span",Xve,[C(f(zc),{class:"h-4 w-4 text-indigo-600"})])]),n("div",Jve,[n("div",null,[n("p",Qve,c(k.__("Quotation created")),1)]),n("div",Zve,c(_(i.value.created_at)),1)])])])])])])])])]),r.value?(g(),ne(ls,{key:0,size:"4xl",onSaved:p},{default:q(()=>[C(Bb,{"model-value":i.value,onClose:b[4]||(b[4]=S=>r.value=!1)},null,8,["model-value"])]),_:1})):j("",!0)])):j("",!0)}}},tye={class:"space-y-6"},sye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},oye={class:"mt-1 sm:col-span-2 sm:mt-0"},iye={class:"flex gap-2"},rye=["placeholder"],aye={key:0,class:"mt-2 text-sm text-red-600"},lye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},dye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},cye={class:"mt-1 sm:col-span-2 sm:mt-0"},uye={key:0,class:"mt-2 text-sm text-red-600"},fye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},mye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},hye={class:"mt-1 sm:col-span-2 sm:mt-0"},pye={class:"flex gap-2"},gye={value:""},_ye=["value"],vye=["placeholder"],yye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},bye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xye={class:"mt-1 sm:col-span-2 sm:mt-0"},wye=["placeholder"],kye={key:0,class:"mt-2 text-sm text-red-600"},$ye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Cye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Sye={class:"mt-1 sm:col-span-2 sm:mt-0"},Mye=["placeholder"],Tye={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Aye={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Dye={class:"mt-1 sm:col-span-2 sm:mt-0"},Eye={key:0,class:"mb-2 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-2"},Pye={class:"flex items-center"},jye={class:"text-sm text-gray-700"},Rye={class:"space-y-1 text-center"},Iye={class:"flex text-sm text-gray-600"},Oye={for:"receipt-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},Lye={class:"pl-1"},Fye={class:"text-xs text-gray-500"},Nye={key:1,class:"mt-2 flex items-center justify-between rounded-md border border-green-200 bg-green-50 p-2"},zye={class:"flex items-center"},Bye={class:"text-sm text-green-700"},Uye={class:"ml-2 text-xs text-green-600"},Vye={key:2,class:"mt-2 text-sm text-red-600"},Hye={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=F(null),r=F(!1),a=F(!1),l=F(null),d=["Travel","Meals & Entertainment","Office Supplies","Equipment","Software & Subscriptions","Professional Services","Utilities","Marketing","Training & Education","Transportation","Accommodation","Communication","Miscellaneous"],u=Kr("expenses",{amount:"",currency:"MWK",expense_date:new Date().toISOString().split("T")[0],category:"",description:"",notes:"",receipt:null}),m=()=>{a.value=!a.value,a.value||(u.category="")},p=b=>{const M=b.target.files[0];M&&_(M)},h=b=>{r.value=!1;const M=b.dataTransfer.files[0];M&&_(M)},_=b=>{if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(b.type)){alert("Please upload a PDF, JPG, JPEG, or PNG file.");return}if(b.size>5242880){alert("File size must be less than 5MB.");return}u.receipt=b,l.value=null},y=()=>{u.receipt=null,i.value&&(i.value.value="")},x=()=>{l.value=null},w=b=>b<1024?b+" B":b<1024*1024?(b/1024).toFixed(1)+" KB":(b/(1024*1024)).toFixed(1)+" MB",k=async()=>{var M,S,N;const b=new FormData;b.append("amount",u.amount),b.append("currency",u.currency),b.append("expense_date",u.expense_date),b.append("category",u.category||""),b.append("description",u.description),b.append("notes",u.notes||""),u.receipt&&b.append("receipt",u.receipt);try{u.processing=!0,u.errors={};let A;u.id?(b.append("_method","PUT"),A=await ae.post(`expenses/${u.id}`,b,{headers:{"Content-Type":"multipart/form-data"}})):A=await ae.post("expenses",b,{headers:{"Content-Type":"multipart/form-data"}}),o("close")}catch(A){((M=A.response)==null?void 0:M.status)===422?u.errors=A.response.data.errors||{}:alert(((N=(S=A.response)==null?void 0:S.data)==null?void 0:N.message)||"Failed to save expense")}finally{u.processing=!1}};return $t(()=>t.modelValue,b=>{var M;b?(u.id=b.id,u.amount=b.amount,u.currency=b.currency||"MWK",u.expense_date=((M=b.expense_date)==null?void 0:M.split("T")[0])||"",u.category=b.category||"",u.description=b.description||"",u.notes=b.notes||"",u.receipt=null,l.value=b.receipt_name||null,b.category&&!d.includes(b.category)&&(a.value=!0)):(u.reset(),u.currency="MWK",u.expense_date=new Date().toISOString().split("T")[0],l.value=null,a.value=!1)},{immediate:!0}),(b,M)=>(g(),ne(zo,{"external-form":f(u),onSubmit:k,onCancel:M[10]||(M[10]=S=>o("close"))},{title:q(()=>[K(c(f(u).id?b.__("Edit Expense"):b.__("Add Expense")),1)]),default:q(()=>[n("div",tye,[n("div",sye,[n("label",nye,[K(c(b.__("Amount"))+" ",1),M[11]||(M[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",oye,[n("div",iye,[z(n("select",{"onUpdate:modelValue":M[0]||(M[0]=S=>f(u).currency=S),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...M[12]||(M[12]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1),n("option",{value:"ZAR"},"ZAR",-1)])],512),[[Me,f(u).currency]]),z(n("input",{"onUpdate:modelValue":M[1]||(M[1]=S=>f(u).amount=S),type:"number",step:"0.01",min:"0",class:Q(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.amount}]),placeholder:b.__("Enter amount"),required:""},null,10,rye),[[J,f(u).amount]])]),f(u).errors.amount?(g(),v("p",aye,c(f(u).errors.amount),1)):j("",!0)])]),n("div",lye,[n("label",dye,[K(c(b.__("Expense Date"))+" ",1),M[13]||(M[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",cye,[z(n("input",{"onUpdate:modelValue":M[2]||(M[2]=S=>f(u).expense_date=S),type:"date",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.expense_date}]),required:""},null,2),[[J,f(u).expense_date]]),f(u).errors.expense_date?(g(),v("p",uye,c(f(u).errors.expense_date),1)):j("",!0)])]),n("div",fye,[n("label",mye,c(b.__("Category")),1),n("div",hye,[n("div",pye,[a.value?z((g(),v("input",{key:1,"onUpdate:modelValue":M[4]||(M[4]=S=>f(u).category=S),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Enter custom category")},null,8,vye)),[[J,f(u).category]]):z((g(),v("select",{key:0,"onUpdate:modelValue":M[3]||(M[3]=S=>f(u).category=S),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",gye,c(b.__("Select category")),1),(g(),v(re,null,ve(d,S=>n("option",{key:S,value:S},c(S),9,_ye)),64))],512)),[[Me,f(u).category]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:m},c(a.value?b.__("Select"):b.__("Custom")),1)])])]),n("div",yye,[n("label",bye,[K(c(b.__("Description"))+" ",1),M[14]||(M[14]=n("span",{class:"text-red-500"},"*",-1))]),n("div",xye,[z(n("input",{"onUpdate:modelValue":M[5]||(M[5]=S=>f(u).description=S),type:"text",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(u).errors.description}]),placeholder:b.__("Brief description of the expense"),required:""},null,10,wye),[[J,f(u).description]]),f(u).errors.description?(g(),v("p",kye,c(f(u).errors.description),1)):j("",!0)])]),n("div",$ye,[n("label",Cye,c(b.__("Notes")),1),n("div",Sye,[z(n("textarea",{"onUpdate:modelValue":M[6]||(M[6]=S=>f(u).notes=S),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Additional notes or details (optional)")},null,8,Mye),[[J,f(u).notes]])])]),n("div",Tye,[n("label",Aye,c(b.__("Receipt")),1),n("div",Dye,[l.value&&!f(u).receipt?(g(),v("div",Eye,[n("div",Pye,[C(f(Gd),{class:"mr-2 h-5 w-5 text-gray-400"}),n("span",jye,c(l.value),1)]),n("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:x},c(b.__("Remove")),1)])):j("",!0),n("div",{class:Q(["flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pb-6 pt-5",{"border-indigo-500 bg-indigo-50":r.value}]),onDragenter:M[7]||(M[7]=Ke(S=>r.value=!0,["prevent"])),onDragleave:M[8]||(M[8]=Ke(S=>r.value=!1,["prevent"])),onDragover:M[9]||(M[9]=Ke(()=>{},["prevent"])),onDrop:Ke(h,["prevent"])},[n("div",Rye,[C(f(Z4),{class:"mx-auto h-12 w-12 text-gray-400"}),n("div",Iye,[n("label",Oye,[n("span",null,c(b.__("Upload a file")),1),n("input",{id:"receipt-upload",ref_key:"fileInput",ref:i,type:"file",class:"sr-only",accept:".pdf,.jpg,.jpeg,.png",onChange:p},null,544)]),n("p",Lye,c(b.__("or drag and drop")),1)]),n("p",Fye,c(b.__("PDF, JPG, JPEG, PNG up to 5MB")),1)])],34),f(u).receipt?(g(),v("div",Nye,[n("div",zye,[C(f(Gd),{class:"mr-2 h-5 w-5 text-green-600"}),n("span",Bye,c(f(u).receipt.name),1),n("span",Uye,"("+c(w(f(u).receipt.size))+")",1)]),n("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:y},c(b.__("Remove")),1)])):j("",!0),f(u).errors.receipt?(g(),v("p",Vye,c(f(u).errors.receipt),1)):j("",!0)])])])]),_:1},8,["external-form"]))}},qye={key:0,class:"mt-8 flex justify-center"},Wye={key:1},Kye={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Yye={class:"overflow-hidden rounded-lg bg-white shadow"},Gye={class:"p-5"},Xye={class:"flex items-center"},Jye={class:"flex-shrink-0"},Qye={class:"ml-5 w-0 flex-1"},Zye={class:"truncate text-sm font-medium text-gray-500"},ebe={class:"text-lg font-semibold text-gray-900"},tbe={class:"overflow-hidden rounded-lg bg-white shadow"},sbe={class:"p-5"},nbe={class:"flex items-center"},obe={class:"flex-shrink-0"},ibe={class:"ml-5 w-0 flex-1"},rbe={class:"truncate text-sm font-medium text-gray-500"},abe={class:"text-lg font-semibold text-gray-900"},lbe={class:"overflow-hidden rounded-lg bg-white shadow"},dbe={class:"p-5"},cbe={class:"flex items-center"},ube={class:"flex-shrink-0"},fbe={class:"ml-5 w-0 flex-1"},mbe={class:"truncate text-sm font-medium text-gray-500"},hbe={class:"text-lg font-semibold text-gray-900"},pbe={class:"overflow-hidden rounded-lg bg-white shadow"},gbe={class:"p-5"},_be={class:"flex items-center"},vbe={class:"flex-shrink-0"},ybe={class:"ml-5 w-0 flex-1"},bbe={class:"truncate text-sm font-medium text-gray-500"},xbe={class:"text-lg font-semibold text-gray-900"},wbe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},kbe={class:"flex flex-1 flex-wrap gap-2"},$be={class:"relative w-64 rounded-md shadow-sm"},Cbe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Sbe=["placeholder"],Mbe={value:""},Tbe={value:"pending"},Abe={value:"approved"},Dbe={value:"rejected"},Ebe={value:""},Pbe=["value"],jbe={class:"ltr:ml-auto rtl:mr-auto"},Rbe={class:"flex flex-col"},Ibe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Obe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Lbe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Fbe={class:"min-w-full divide-y divide-gray-200"},Nbe={class:"divide-y divide-gray-200 bg-white"},zbe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Bbe={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},Ube={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Vbe={key:0,class:"inline-flex rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800"},Hbe={key:1,class:"text-gray-400"},qbe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Wbe={class:"whitespace-nowrap px-6 py-4 text-sm"},Kbe={class:"whitespace-nowrap px-6 py-4"},Ybe={class:"flex items-center"},Gbe={class:"h-8 w-8 flex-shrink-0"},Xbe={class:"ml-3"},Jbe={class:"text-sm font-medium text-gray-900"},Qbe={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Zbe=["href","title"],exe={key:0},txe={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},sxe={class:"p-6"},nxe={class:"flex items-center justify-between mb-4"},oxe={class:"text-lg font-semibold text-gray-900"},ixe={key:0,class:"space-y-4"},rxe={class:"grid grid-cols-2 gap-4"},axe={class:"block text-sm font-medium text-gray-700"},lxe={class:"mt-1 text-sm text-gray-900"},dxe={class:"block text-sm font-medium text-gray-700"},cxe={class:"mt-1 text-sm font-semibold text-gray-900"},uxe={class:"block text-sm font-medium text-gray-700"},fxe={class:"mt-1 text-sm text-gray-900"},mxe={class:"block text-sm font-medium text-gray-700"},hxe={class:"mt-1"},pxe={class:"block text-sm font-medium text-gray-700"},gxe={class:"mt-1 text-sm text-gray-900"},_xe={class:"block text-sm font-medium text-gray-700"},vxe={class:"mt-1 text-sm text-gray-900"},yxe={class:"block text-sm font-medium text-gray-700"},bxe={class:"mt-1 text-sm text-gray-900"},xxe={key:0},wxe={class:"block text-sm font-medium text-gray-700"},kxe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},$xe={key:1},Cxe={class:"block text-sm font-medium text-gray-700"},Sxe=["href"],Mxe={key:2},Txe={class:"block text-sm font-medium text-gray-700"},Axe={class:"mt-1 text-sm text-gray-900"},Dxe={class:"text-sm text-gray-500"},Exe={class:"mt-6 flex justify-end"},Pxe={class:"p-6"},jxe={class:"flex items-center justify-between mb-4"},Rxe={class:"text-lg font-semibold text-gray-900"},Ixe={class:"space-y-4"},Oxe={class:"text-sm text-gray-700"},Lxe={class:"rounded-md bg-gray-50 p-3"},Fxe={class:"text-sm font-medium text-gray-900"},Nxe={class:"text-sm text-gray-600"},zxe={class:"mt-6 flex justify-end space-x-3"},Bxe={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F([]),i=F(null),r=F(!1),a=Dn("expenses",{search:"",status:"",category:"",start_date:"",end_date:"",sort_by:"expense_date",sort_order:"desc",per_page:15}),l=Qe({show:!1,model:null}),d=Qe({show:!1,expense:null}),u=Qe({show:!1,action:null,expense:null});let m=null;const p=()=>{clearTimeout(m),m=setTimeout(()=>{a.get()},300)},h=(D=null)=>{l.model=D,l.show=!0},_=D=>{d.expense=D,d.show=!0},y=D=>{u.expense=D,u.action="approve",u.show=!0},x=D=>{u.expense=D,u.action="reject",u.show=!0},w=async()=>{var D,L;try{const I=u.action==="approve"?"approve":"reject";await ae.post(`expenses/${u.expense.id}/${I}`),u.show=!1,a.get(),b()}catch(I){alert(((L=(D=I.response)==null?void 0:D.data)==null?void 0:L.message)||"Failed to process expense")}},k=()=>{a.get(),b(),M()},b=async()=>{try{const D=await ae.get("expenses/statistics");t.value=D.data.data}catch{}},M=async()=>{try{const D=await ae.get("expenses/categories");o.value=D.data.data}catch{}},S=D=>D?new Date(D).toLocaleDateString():"-",N=D=>D?new Date(D).toLocaleString():"-",A=D=>D?parseFloat(D).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",T=D=>D?"MWK "+A(D):"MWK 0.00";return Ye(async()=>{var D,L;i.value=(D=ht.user)==null?void 0:D.id,r.value=((L=ht.user)==null?void 0:L.is_super_admin)||!1,await Promise.all([a.get(),b(),M()]),e.value=!1}),(D,L)=>e.value?(g(),v("div",qye,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",Wye,[t.value?(g(),v("div",Kye,[n("div",Yye,[n("div",Gye,[n("div",Xye,[n("div",Jye,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",Qye,[n("dl",null,[n("dt",Zye,c(D.__("Pending")),1),n("dd",ebe,c(t.value.pending),1)])])])])]),n("div",tbe,[n("div",sbe,[n("div",nbe,[n("div",obe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",ibe,[n("dl",null,[n("dt",rbe,c(D.__("Approved")),1),n("dd",abe,c(t.value.approved),1)])])])])]),n("div",lbe,[n("div",dbe,[n("div",cbe,[n("div",ube,[C(f(sr),{class:"h-6 w-6 text-blue-400"})]),n("div",fbe,[n("dl",null,[n("dt",mbe,c(D.__("This Month")),1),n("dd",hbe,c(T(t.value.this_month)),1)])])])])]),n("div",pbe,[n("div",gbe,[n("div",_be,[n("div",vbe,[C(f(Fc),{class:"h-6 w-6 text-purple-400"})]),n("div",ybe,[n("dl",null,[n("dt",bbe,c(D.__("Total Expenses")),1),n("dd",xbe,c(T(t.value.total_expenses)),1)])])])])])])):j("",!0),n("div",wbe,[n("div",kbe,[n("div",$be,[n("div",Cbe,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":L[0]||(L[0]=I=>f(a).params.search=I),type:"search",placeholder:D.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:p},null,40,Sbe),[[J,f(a).params.search]])]),z(n("select",{"onUpdate:modelValue":L[1]||(L[1]=I=>f(a).params.status=I),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[2]||(L[2]=I=>f(a).get())},[n("option",Mbe,c(D.__("All Statuses")),1),n("option",Tbe,c(D.__("Pending")),1),n("option",Abe,c(D.__("Approved")),1),n("option",Dbe,c(D.__("Rejected")),1)],544),[[Me,f(a).params.status]]),z(n("select",{"onUpdate:modelValue":L[3]||(L[3]=I=>f(a).params.category=I),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[4]||(L[4]=I=>f(a).get())},[n("option",Ebe,c(D.__("All Categories")),1),(g(!0),v(re,null,ve(o.value,I=>(g(),v("option",{key:I,value:I},c(I),9,Pbe))),128))],544),[[Me,f(a).params.category]]),z(n("input",{"onUpdate:modelValue":L[5]||(L[5]=I=>f(a).params.start_date=I),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[6]||(L[6]=I=>f(a).get())},null,544),[[J,f(a).params.start_date]]),z(n("input",{"onUpdate:modelValue":L[7]||(L[7]=I=>f(a).params.end_date=I),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:L[8]||(L[8]=I=>f(a).get())},null,544),[[J,f(a).params.end_date]])]),n("div",jbe,[C(Se,{size:"sm",onClick:L[9]||(L[9]=I=>h())},{default:q(()=>[K(c(D.__("Add Expense")),1)]),_:1})])]),n("section",null,[n("div",Rbe,[n("div",Ibe,[n("div",Obe,[n("div",Lbe,[n("table",Fbe,[n("thead",null,[n("tr",null,[C(je,{name:"expense",index:f(a),label:D.__("Date"),sort:"expense_date"},null,8,["index","label"]),C(je,{name:"expense",index:f(a),label:D.__("Description")},null,8,["index","label"]),C(je,{name:"expense",index:f(a),label:D.__("Category"),sort:"category"},null,8,["index","label"]),C(je,{name:"expense",index:f(a),label:D.__("Amount"),sort:"amount"},null,8,["index","label"]),C(je,{name:"expense",index:f(a),label:D.__("Status"),sort:"status"},null,8,["index","label"]),C(je,{name:"expense",index:f(a),label:D.__("Submitted By")},null,8,["index","label"]),L[15]||(L[15]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Nbe,[(g(!0),v(re,null,ve(f(a).data.data,I=>{var O;return g(),v("tr",{key:I.id,class:"hover:bg-gray-50"},[n("td",zbe,c(S(I.expense_date)),1),n("td",Bbe,c(I.description),1),n("td",Ube,[I.category?(g(),v("span",Vbe,c(I.category),1)):(g(),v("span",Hbe,"-"))]),n("td",qbe,c(I.currency)+" "+c(A(I.amount)),1),n("td",Wbe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":I.status==="pending","bg-green-100 text-green-800":I.status==="approved","bg-red-100 text-red-800":I.status==="rejected"}])},c(I.status.charAt(0).toUpperCase()+I.status.slice(1)),3)]),n("td",Kbe,[n("div",Ybe,[n("div",Gbe,[C(Xt,{user:I.user,size:"8"},null,8,["user"])]),n("div",Xbe,[n("div",Jbe,c((O=I.user)==null?void 0:O.name),1)])])]),n("td",Qbe,[I.status==="pending"&&r.value?(g(),v(re,{key:0},[C(Se,{size:"xs",variant:"success",onClick:P=>y(I)},{default:q(()=>[K(c(D.__("Approve")),1)]),_:1},8,["onClick"]),C(Se,{size:"xs",variant:"danger",class:"ml-2",onClick:P=>x(I)},{default:q(()=>[K(c(D.__("Reject")),1)]),_:1},8,["onClick"])],64)):j("",!0),I.receipt_path?(g(),v("a",{key:1,href:`/storage/${I.receipt_path}`,target:"_blank",class:"ml-2 text-gray-400 hover:text-gray-600",title:D.__("View Receipt")},[C(f(Gd),{class:"h-5 w-5"})],8,Zbe)):j("",!0),I.status==="pending"&&(I.user_id===i.value||r.value)?(g(),v(re,{key:2},[C(f(en),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>h(I)},null,8,["onClick"]),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>f(a).deleteIt(I.id)},null,8,["onClick"])],64)):j("",!0),C(f(hn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:P=>_(I)},null,8,["onClick"])])])}),128)),!f(a).data.data||f(a).data.data.length===0?(g(),v("tr",exe,[n("td",txe,c(D.__("No expenses found")),1)])):j("",!0)])]),C(ms,{index:f(a)},null,8,["index"])])])])])]),l.show?(g(),ne(ls,{key:1,size:"lg",onSaved:k},{default:q(()=>[C(Hye,{"model-value":l.model,onClose:L[10]||(L[10]=I=>l.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),d.show?(g(),ne(Tn,{key:2,width:"max-w-2xl"},{default:q(()=>{var I,O;return[n("div",sxe,[n("div",nxe,[n("h3",oxe,c(D.__("Expense Details")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:L[11]||(L[11]=P=>d.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),d.expense?(g(),v("div",ixe,[n("div",rxe,[n("div",null,[n("label",axe,c(D.__("Date")),1),n("p",lxe,c(S(d.expense.expense_date)),1)]),n("div",null,[n("label",dxe,c(D.__("Amount")),1),n("p",cxe,c(d.expense.currency)+" "+c(A(d.expense.amount)),1)]),n("div",null,[n("label",uxe,c(D.__("Category")),1),n("p",fxe,c(d.expense.category||"-"),1)]),n("div",null,[n("label",mxe,c(D.__("Status")),1),n("p",hxe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":d.expense.status==="pending","bg-green-100 text-green-800":d.expense.status==="approved","bg-red-100 text-red-800":d.expense.status==="rejected"}])},c(d.expense.status.charAt(0).toUpperCase()+d.expense.status.slice(1)),3)])]),n("div",null,[n("label",pxe,c(D.__("Submitted By")),1),n("p",gxe,c((I=d.expense.user)==null?void 0:I.name),1)]),n("div",null,[n("label",_xe,c(D.__("Submitted On")),1),n("p",vxe,c(N(d.expense.created_at)),1)])]),n("div",null,[n("label",yxe,c(D.__("Description")),1),n("p",bxe,c(d.expense.description),1)]),d.expense.notes?(g(),v("div",xxe,[n("label",wxe,c(D.__("Notes")),1),n("p",kxe,c(d.expense.notes),1)])):j("",!0),d.expense.receipt_path?(g(),v("div",$xe,[n("label",Cxe,c(D.__("Receipt")),1),n("a",{href:`/storage/${d.expense.receipt_path}`,target:"_blank",class:"mt-1 inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[C(f(Gd),{class:"mr-1 h-4 w-4"}),K(" "+c(d.expense.receipt_name||D.__("View Receipt")),1)],8,Sxe)])):j("",!0),d.expense.approver?(g(),v("div",Mxe,[n("label",Txe,c(d.expense.status==="approved"?D.__("Approved By"):D.__("Rejected By")),1),n("p",Axe,c((O=d.expense.approver)==null?void 0:O.name),1),n("p",Dxe,c(N(d.expense.approved_at)),1)])):j("",!0)])):j("",!0),n("div",Exe,[C(Se,{onClick:L[12]||(L[12]=P=>d.show=!1)},{default:q(()=>[K(c(D.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),u.show?(g(),ne(Tn,{key:3,width:"max-w-md"},{default:q(()=>{var I,O,P;return[n("div",Pxe,[n("div",jxe,[n("h3",Rxe,c(u.action==="approve"?D.__("Approve Expense"):D.__("Reject Expense")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:L[13]||(L[13]=B=>u.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),n("div",Ixe,[n("p",Oxe,c(u.action==="approve"?D.__("Are you sure you want to approve this expense?"):D.__("Are you sure you want to reject this expense?")),1),n("div",Lxe,[n("p",Fxe,c((I=u.expense)==null?void 0:I.description),1),n("p",Nxe,c((O=u.expense)==null?void 0:O.currency)+" "+c(A((P=u.expense)==null?void 0:P.amount)),1)])]),n("div",zxe,[C(Se,{white:"",onClick:L[14]||(L[14]=B=>u.show=!1)},{default:q(()=>[K(c(D.__("Cancel")),1)]),_:1}),C(Se,{class:Q(u.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:w},{default:q(()=>[K(c(u.action==="approve"?D.__("Approve"):D.__("Reject")),1)]),_:1},8,["class"])])])]}),_:1})):j("",!0)]))}},Uxe={class:"space-y-6"},Vxe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Hxe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qxe={class:"mt-1 sm:col-span-2 sm:mt-0"},Wxe={class:"flex gap-2"},Kxe=["placeholder"],Yxe={key:0,class:"mt-2 text-sm text-red-600"},Gxe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Xxe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Jxe={class:"mt-1 sm:col-span-2 sm:mt-0"},Qxe={key:0,class:"mt-2 text-sm text-red-600"},Zxe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},e2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},t2e={class:"mt-1 sm:col-span-2 sm:mt-0"},s2e={value:""},n2e={value:"sales"},o2e={value:"services"},i2e={value:"consulting"},r2e={value:"adsense"},a2e={value:"quotation"},l2e={value:"other"},d2e={key:0,class:"mt-2 text-sm text-red-600"},c2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},u2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},f2e={class:"mt-1 sm:col-span-2 sm:mt-0"},m2e={class:"flex gap-2"},h2e={value:""},p2e=["value"],g2e=["placeholder"],_2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},v2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},y2e={class:"mt-1 sm:col-span-2 sm:mt-0"},b2e=["placeholder"],x2e={key:0,class:"mt-2 text-sm text-red-600"},w2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},k2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$2e={class:"mt-1 sm:col-span-2 sm:mt-0"},C2e=["placeholder"],S2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},M2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},T2e={class:"mt-1 sm:col-span-2 sm:mt-0"},A2e=["placeholder"],D2e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},E2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},P2e={class:"mt-1 sm:col-span-2 sm:mt-0"},j2e={value:null},R2e=["value"],I2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},O2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},L2e={class:"mt-1 sm:col-span-2 sm:mt-0"},F2e={value:"pending"},N2e={value:"received"},z2e={value:"cancelled"},B2e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},U2e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},V2e={class:"mt-1 sm:col-span-2 sm:mt-0"},H2e=["placeholder"],q2e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,o=e,i=F(!1),r=F([]),a=["Product Sales","Service Revenue","Consulting Fees","Advertising Revenue","Subscription Income","Commission","Rental Income","Interest Income","Royalties","Miscellaneous"],l=Kr("income",{amount:"",currency:"MWK",income_date:new Date().toISOString().split("T")[0],source:"",category:"",description:"",invoice_number:"",client_name:"",quotation_id:null,status:"pending",notes:""}),d=()=>{i.value=!i.value,i.value||(l.category="")},u=h=>h?parseFloat(h).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",m=async()=>{try{const h=await ae.get("quotations",{params:{per_page:100}});r.value=h.data.data||[]}catch{}},p=async()=>{var h,_,y;try{l.processing=!0,l.errors={};const x={amount:l.amount,currency:l.currency,income_date:l.income_date,source:l.source,category:l.category||null,description:l.description,invoice_number:l.invoice_number||null,client_name:l.client_name||null,quotation_id:l.quotation_id||null,status:l.status,notes:l.notes||null};l.id?await ae.put(`income/${l.id}`,x):await ae.post("income",x),o("close")}catch(x){((h=x.response)==null?void 0:h.status)===422?l.errors=x.response.data.errors||{}:alert(((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Failed to save income")}finally{l.processing=!1}};return $t(()=>t.modelValue,h=>{var _;h?(l.id=h.id,l.amount=h.amount,l.currency=h.currency||"MWK",l.income_date=((_=h.income_date)==null?void 0:_.split("T")[0])||"",l.source=h.source||"",l.category=h.category||"",l.description=h.description||"",l.invoice_number=h.invoice_number||"",l.client_name=h.client_name||"",l.quotation_id=h.quotation_id||null,l.status=h.status||"pending",l.notes=h.notes||"",h.category&&!a.includes(h.category)&&(i.value=!0)):(l.reset(),l.currency="MWK",l.income_date=new Date().toISOString().split("T")[0],l.status="pending",i.value=!1)},{immediate:!0}),Ye(()=>{m()}),(h,_)=>(g(),ne(zo,{"external-form":f(l),onSubmit:p,onCancel:_[12]||(_[12]=y=>o("close"))},{title:q(()=>[K(c(f(l).id?h.__("Edit Income"):h.__("Add Income")),1)]),default:q(()=>[n("div",Uxe,[n("div",Vxe,[n("label",Hxe,[K(c(h.__("Amount"))+" ",1),_[13]||(_[13]=n("span",{class:"text-red-500"},"*",-1))]),n("div",qxe,[n("div",Wxe,[z(n("select",{"onUpdate:modelValue":_[0]||(_[0]=y=>f(l).currency=y),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[..._[14]||(_[14]=[n("option",{value:"MWK"},"MWK",-1),n("option",{value:"USD"},"USD",-1),n("option",{value:"EUR"},"EUR",-1),n("option",{value:"GBP"},"GBP",-1),n("option",{value:"ZAR"},"ZAR",-1)])],512),[[Me,f(l).currency]]),z(n("input",{"onUpdate:modelValue":_[1]||(_[1]=y=>f(l).amount=y),type:"number",step:"0.01",min:"0",class:Q(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.amount}]),placeholder:h.__("Enter amount"),required:""},null,10,Kxe),[[J,f(l).amount]])]),f(l).errors.amount?(g(),v("p",Yxe,c(f(l).errors.amount),1)):j("",!0)])]),n("div",Gxe,[n("label",Xxe,[K(c(h.__("Income Date"))+" ",1),_[15]||(_[15]=n("span",{class:"text-red-500"},"*",-1))]),n("div",Jxe,[z(n("input",{"onUpdate:modelValue":_[2]||(_[2]=y=>f(l).income_date=y),type:"date",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.income_date}]),required:""},null,2),[[J,f(l).income_date]]),f(l).errors.income_date?(g(),v("p",Qxe,c(f(l).errors.income_date),1)):j("",!0)])]),n("div",Zxe,[n("label",e2e,[K(c(h.__("Source"))+" ",1),_[16]||(_[16]=n("span",{class:"text-red-500"},"*",-1))]),n("div",t2e,[z(n("select",{"onUpdate:modelValue":_[3]||(_[3]=y=>f(l).source=y),class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.source}]),required:""},[n("option",s2e,c(h.__("Select source")),1),n("option",n2e,c(h.__("Sales")),1),n("option",o2e,c(h.__("Services")),1),n("option",i2e,c(h.__("Consulting")),1),n("option",r2e,c(h.__("AdSense")),1),n("option",a2e,c(h.__("Quotation")),1),n("option",l2e,c(h.__("Other")),1)],2),[[Me,f(l).source]]),f(l).errors.source?(g(),v("p",d2e,c(f(l).errors.source),1)):j("",!0)])]),n("div",c2e,[n("label",u2e,c(h.__("Category")),1),n("div",f2e,[n("div",m2e,[i.value?z((g(),v("input",{key:1,"onUpdate:modelValue":_[5]||(_[5]=y=>f(l).category=y),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Enter custom category")},null,8,g2e)),[[J,f(l).category]]):z((g(),v("select",{key:0,"onUpdate:modelValue":_[4]||(_[4]=y=>f(l).category=y),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",h2e,c(h.__("Select category")),1),(g(),v(re,null,ve(a,y=>n("option",{key:y,value:y},c(y),9,p2e)),64))],512)),[[Me,f(l).category]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:d},c(i.value?h.__("Select"):h.__("Custom")),1)])])]),n("div",_2e,[n("label",v2e,[K(c(h.__("Description"))+" ",1),_[17]||(_[17]=n("span",{class:"text-red-500"},"*",-1))]),n("div",y2e,[z(n("textarea",{"onUpdate:modelValue":_[6]||(_[6]=y=>f(l).description=y),rows:"3",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(l).errors.description}]),placeholder:h.__("Description of the income"),required:""},null,10,b2e),[[J,f(l).description]]),f(l).errors.description?(g(),v("p",x2e,c(f(l).errors.description),1)):j("",!0)])]),n("div",w2e,[n("label",k2e,c(h.__("Invoice Number")),1),n("div",$2e,[z(n("input",{"onUpdate:modelValue":_[7]||(_[7]=y=>f(l).invoice_number=y),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Invoice or reference number (optional)")},null,8,C2e),[[J,f(l).invoice_number]])])]),n("div",S2e,[n("label",M2e,c(h.__("Client Name")),1),n("div",T2e,[z(n("input",{"onUpdate:modelValue":_[8]||(_[8]=y=>f(l).client_name=y),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Client or payer name (optional)")},null,8,A2e),[[J,f(l).client_name]])])]),r.value.length>0?(g(),v("div",D2e,[n("label",E2e,c(h.__("Related Quotation")),1),n("div",P2e,[z(n("select",{"onUpdate:modelValue":_[9]||(_[9]=y=>f(l).quotation_id=y),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",j2e,c(h.__("None")),1),(g(!0),v(re,null,ve(r.value,y=>{var x;return g(),v("option",{key:y.id,value:y.id},c(y.quotation_number||`#${y.id}`)+" - "+c(((x=y.client)==null?void 0:x.name)||"N/A")+" ("+c(y.currency)+" "+c(u(y.total))+") ",9,R2e)}),128))],512),[[Me,f(l).quotation_id]])])])):j("",!0),n("div",I2e,[n("label",O2e,c(h.__("Status")),1),n("div",L2e,[z(n("select",{"onUpdate:modelValue":_[10]||(_[10]=y=>f(l).status=y),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",F2e,c(h.__("Pending")),1),n("option",N2e,c(h.__("Received")),1),n("option",z2e,c(h.__("Cancelled")),1)],512),[[Me,f(l).status]])])]),n("div",B2e,[n("label",U2e,c(h.__("Notes")),1),n("div",V2e,[z(n("textarea",{"onUpdate:modelValue":_[11]||(_[11]=y=>f(l).notes=y),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Additional notes (optional)")},null,8,H2e),[[J,f(l).notes]])])])])]),_:1},8,["external-form"]))}},W2e={key:0,class:"mt-8 flex justify-center"},K2e={key:1},Y2e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},G2e={class:"overflow-hidden rounded-lg bg-white shadow"},X2e={class:"p-5"},J2e={class:"flex items-center"},Q2e={class:"flex-shrink-0"},Z2e={class:"ml-5 w-0 flex-1"},ewe={class:"truncate text-sm font-medium text-gray-500"},twe={class:"text-lg font-semibold text-gray-900"},swe={class:"overflow-hidden rounded-lg bg-white shadow"},nwe={class:"p-5"},owe={class:"flex items-center"},iwe={class:"flex-shrink-0"},rwe={class:"ml-5 w-0 flex-1"},awe={class:"truncate text-sm font-medium text-gray-500"},lwe={class:"text-lg font-semibold text-gray-900"},dwe={class:"overflow-hidden rounded-lg bg-white shadow"},cwe={class:"p-5"},uwe={class:"flex items-center"},fwe={class:"flex-shrink-0"},mwe={class:"ml-5 w-0 flex-1"},hwe={class:"truncate text-sm font-medium text-gray-500"},pwe={class:"text-lg font-semibold text-gray-900"},gwe={class:"overflow-hidden rounded-lg bg-white shadow"},_we={class:"p-5"},vwe={class:"flex items-center"},ywe={class:"flex-shrink-0"},bwe={class:"ml-5 w-0 flex-1"},xwe={class:"truncate text-sm font-medium text-gray-500"},wwe={class:"text-lg font-semibold text-gray-900"},kwe={class:"overflow-hidden rounded-lg bg-white shadow"},$we={class:"p-5"},Cwe={class:"flex items-center"},Swe={class:"flex-shrink-0"},Mwe={class:"ml-5 w-0 flex-1"},Twe={class:"truncate text-sm font-medium text-gray-500"},Awe={class:"text-lg font-semibold text-gray-900"},Dwe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Ewe={class:"flex flex-1 flex-wrap gap-2"},Pwe={class:"relative w-64 rounded-md shadow-sm"},jwe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Rwe=["placeholder"],Iwe={value:""},Owe={value:"pending"},Lwe={value:"received"},Fwe={value:"cancelled"},Nwe={value:""},zwe={value:"sales"},Bwe={value:"services"},Uwe={value:"consulting"},Vwe={value:"adsense"},Hwe={value:"quotation"},qwe={value:"other"},Wwe={class:"ltr:ml-auto rtl:mr-auto"},Kwe={class:"flex flex-col"},Ywe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Gwe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Xwe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Jwe={class:"min-w-full divide-y divide-gray-200"},Qwe={class:"divide-y divide-gray-200 bg-white"},Zwe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},e5e={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},t5e={key:0,class:"text-xs text-gray-500"},s5e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},n5e={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},o5e={class:"whitespace-nowrap px-6 py-4 text-sm"},i5e={class:"whitespace-nowrap px-6 py-4"},r5e={class:"flex items-center"},a5e={class:"h-8 w-8 flex-shrink-0"},l5e={class:"ml-3"},d5e={class:"text-sm font-medium text-gray-900"},c5e={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},u5e={key:0},f5e={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},m5e={class:"p-6"},h5e={class:"flex items-center justify-between mb-4"},p5e={class:"text-lg font-semibold text-gray-900"},g5e={key:0,class:"space-y-4"},_5e={class:"grid grid-cols-2 gap-4"},v5e={class:"block text-sm font-medium text-gray-700"},y5e={class:"mt-1 text-sm text-gray-900"},b5e={class:"block text-sm font-medium text-gray-700"},x5e={class:"mt-1 text-sm font-semibold text-gray-900"},w5e={class:"block text-sm font-medium text-gray-700"},k5e={class:"mt-1"},$5e={class:"block text-sm font-medium text-gray-700"},C5e={class:"mt-1"},S5e={class:"block text-sm font-medium text-gray-700"},M5e={class:"mt-1 text-sm text-gray-900"},T5e={class:"block text-sm font-medium text-gray-700"},A5e={class:"mt-1 text-sm text-gray-900"},D5e={key:0},E5e={class:"block text-sm font-medium text-gray-700"},P5e={class:"mt-1 text-sm text-gray-900"},j5e={key:1},R5e={class:"block text-sm font-medium text-gray-700"},I5e={class:"mt-1 text-sm text-gray-900"},O5e={class:"block text-sm font-medium text-gray-700"},L5e={class:"mt-1 text-sm text-gray-900"},F5e={key:0},N5e={class:"block text-sm font-medium text-gray-700"},z5e={class:"mt-1 text-sm text-gray-900"},B5e={key:1},U5e={class:"block text-sm font-medium text-gray-700"},V5e={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},H5e={key:2},q5e={class:"block text-sm font-medium text-gray-700"},W5e={class:"mt-1 text-sm text-gray-900"},K5e={class:"text-sm text-gray-500"},Y5e={key:3},G5e={class:"block text-sm font-medium text-gray-700"},X5e={class:"mt-1 text-sm text-indigo-600"},J5e={class:"mt-6 flex justify-end"},Q5e={class:"p-6"},Z5e={class:"flex items-center justify-between mb-4"},eke={class:"text-lg font-semibold text-gray-900"},tke={class:"space-y-4"},ske={class:"text-sm text-gray-700"},nke={class:"rounded-md bg-gray-50 p-3"},oke={class:"text-sm font-medium text-gray-900"},ike={class:"text-sm text-gray-600"},rke={class:"mt-6 flex justify-end space-x-3"},ake={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F(null),i=F(!1),r=Dn("income",{search:"",status:"",source:"",start_date:"",end_date:"",sort_by:"income_date",sort_order:"desc",per_page:15}),a=Qe({show:!1,model:null}),l=Qe({show:!1,income:null}),d=Qe({show:!1,income:null});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{r.get()},300)},p=(T=null)=>{a.model=T,a.show=!0},h=T=>{l.income=T,l.show=!0},_=T=>{d.income=T,d.show=!0},y=async()=>{var T,D;try{await ae.post(`income/${d.income.id}/mark-as-received`),d.show=!1,r.get(),w()}catch(L){alert(((D=(T=L.response)==null?void 0:T.data)==null?void 0:D.message)||"Failed to mark income as received")}},x=()=>{r.get(),w()},w=async()=>{try{const T=await ae.get("income/statistics");t.value=T.data.data}catch{}},k=T=>T?new Date(T).toLocaleDateString():"-",b=T=>T?new Date(T).toLocaleString():"-",M=T=>T?parseFloat(T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",S=T=>T?"MWK "+M(T):"MWK 0.00",N=T=>({sales:"Sales",services:"Services",consulting:"Consulting",adsense:"AdSense",quotation:"Quotation",other:"Other"})[T]||T,A=T=>({sales:"bg-blue-100 text-blue-800",services:"bg-green-100 text-green-800",consulting:"bg-purple-100 text-purple-800",adsense:"bg-yellow-100 text-yellow-800",quotation:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"})[T]||"bg-gray-100 text-gray-800";return Ye(async()=>{var T,D;o.value=(T=ht.user)==null?void 0:T.id,i.value=((D=ht.user)==null?void 0:D.is_super_admin)||!1,await Promise.all([r.get(),w()]),e.value=!1}),(T,D)=>e.value?(g(),v("div",W2e,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",K2e,[t.value?(g(),v("div",Y2e,[n("div",G2e,[n("div",X2e,[n("div",J2e,[n("div",Q2e,[C(f(Fc),{class:"h-6 w-6 text-green-400"})]),n("div",Z2e,[n("dl",null,[n("dt",ewe,c(T.__("Total Income")),1),n("dd",twe,c(S(t.value.total_income)),1)])])])])]),n("div",swe,[n("div",nwe,[n("div",owe,[n("div",iwe,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",rwe,[n("dl",null,[n("dt",awe,c(T.__("Pending")),1),n("dd",lwe,c(t.value.pending),1)])])])])]),n("div",dwe,[n("div",cwe,[n("div",uwe,[n("div",fwe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",mwe,[n("dl",null,[n("dt",hwe,c(T.__("Received")),1),n("dd",pwe,c(t.value.received),1)])])])])]),n("div",gwe,[n("div",_we,[n("div",vwe,[n("div",ywe,[C(f(sr),{class:"h-6 w-6 text-blue-400"})]),n("div",bwe,[n("dl",null,[n("dt",xwe,c(T.__("This Month")),1),n("dd",wwe,c(S(t.value.this_month)),1)])])])])]),n("div",kwe,[n("div",$we,[n("div",Cwe,[n("div",Swe,[C(f(Rv),{class:"h-6 w-6 text-purple-400"})]),n("div",Mwe,[n("dl",null,[n("dt",Twe,c(T.__("Last Month")),1),n("dd",Awe,c(S(t.value.last_month)),1)])])])])])])):j("",!0),n("div",Dwe,[n("div",Ewe,[n("div",Pwe,[n("div",jwe,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":D[0]||(D[0]=L=>f(r).params.search=L),type:"search",placeholder:T.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,Rwe),[[J,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":D[1]||(D[1]=L=>f(r).params.status=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[2]||(D[2]=L=>f(r).get())},[n("option",Iwe,c(T.__("All Statuses")),1),n("option",Owe,c(T.__("Pending")),1),n("option",Lwe,c(T.__("Received")),1),n("option",Fwe,c(T.__("Cancelled")),1)],544),[[Me,f(r).params.status]]),z(n("select",{"onUpdate:modelValue":D[3]||(D[3]=L=>f(r).params.source=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[4]||(D[4]=L=>f(r).get())},[n("option",Nwe,c(T.__("All Sources")),1),n("option",zwe,c(T.__("Sales")),1),n("option",Bwe,c(T.__("Services")),1),n("option",Uwe,c(T.__("Consulting")),1),n("option",Vwe,c(T.__("AdSense")),1),n("option",Hwe,c(T.__("Quotation")),1),n("option",qwe,c(T.__("Other")),1)],544),[[Me,f(r).params.source]]),z(n("input",{"onUpdate:modelValue":D[5]||(D[5]=L=>f(r).params.start_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[6]||(D[6]=L=>f(r).get())},null,544),[[J,f(r).params.start_date]]),z(n("input",{"onUpdate:modelValue":D[7]||(D[7]=L=>f(r).params.end_date=L),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:D[8]||(D[8]=L=>f(r).get())},null,544),[[J,f(r).params.end_date]])]),n("div",Wwe,[C(Se,{size:"sm",onClick:D[9]||(D[9]=L=>p())},{default:q(()=>[K(c(T.__("Add Income")),1)]),_:1})])]),n("section",null,[n("div",Kwe,[n("div",Ywe,[n("div",Gwe,[n("div",Xwe,[n("table",Jwe,[n("thead",null,[n("tr",null,[C(je,{name:"income",index:f(r),label:T.__("Date"),sort:"income_date"},null,8,["index","label"]),C(je,{name:"income",index:f(r),label:T.__("Description")},null,8,["index","label"]),C(je,{name:"income",index:f(r),label:T.__("Source"),sort:"source"},null,8,["index","label"]),C(je,{name:"income",index:f(r),label:T.__("Amount"),sort:"amount"},null,8,["index","label"]),C(je,{name:"income",index:f(r),label:T.__("Status"),sort:"status"},null,8,["index","label"]),C(je,{name:"income",index:f(r),label:T.__("Created By")},null,8,["index","label"]),D[15]||(D[15]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",Qwe,[(g(!0),v(re,null,ve(f(r).data.data,L=>{var I;return g(),v("tr",{key:L.id,class:"hover:bg-gray-50"},[n("td",Zwe,c(k(L.income_date)),1),n("td",e5e,[n("div",null,c(L.description),1),L.client_name?(g(),v("div",t5e,c(L.client_name),1)):j("",!0)]),n("td",s5e,[n("span",{class:Q(["inline-flex rounded-full px-2 py-1 text-xs font-medium",A(L.source)])},c(N(L.source)),3)]),n("td",n5e,c(L.currency)+" "+c(M(L.amount)),1),n("td",o5e,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":L.status==="pending","bg-green-100 text-green-800":L.status==="received","bg-red-100 text-red-800":L.status==="cancelled"}])},c(L.status.charAt(0).toUpperCase()+L.status.slice(1)),3)]),n("td",i5e,[n("div",r5e,[n("div",a5e,[C(Xt,{user:L.user,size:"8"},null,8,["user"])]),n("div",l5e,[n("div",d5e,c((I=L.user)==null?void 0:I.name),1)])])]),n("td",c5e,[L.status==="pending"&&i.value?(g(),ne(Se,{key:0,size:"xs",variant:"success",onClick:O=>_(L)},{default:q(()=>[K(c(T.__("Mark Received")),1)]),_:1},8,["onClick"])):j("",!0),L.status==="pending"&&(L.user_id===o.value||i.value)?(g(),v(re,{key:1},[C(f(en),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>p(L)},null,8,["onClick"]),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>f(r).deleteIt(L.id)},null,8,["onClick"])],64)):j("",!0),C(f(hn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>h(L)},null,8,["onClick"])])])}),128)),!f(r).data.data||f(r).data.data.length===0?(g(),v("tr",u5e,[n("td",f5e,c(T.__("No income records found")),1)])):j("",!0)])]),C(ms,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),ne(ls,{key:1,size:"lg",onSaved:x},{default:q(()=>[C(q2e,{"model-value":a.model,onClose:D[10]||(D[10]=L=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(g(),ne(Tn,{key:2,width:"max-w-2xl"},{default:q(()=>{var L,I;return[n("div",m5e,[n("div",h5e,[n("h3",p5e,c(T.__("Income Details")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:D[11]||(D[11]=O=>l.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),l.income?(g(),v("div",g5e,[n("div",_5e,[n("div",null,[n("label",v5e,c(T.__("Date")),1),n("p",y5e,c(k(l.income.income_date)),1)]),n("div",null,[n("label",b5e,c(T.__("Amount")),1),n("p",x5e,c(l.income.currency)+" "+c(M(l.income.amount)),1)]),n("div",null,[n("label",w5e,c(T.__("Source")),1),n("p",k5e,[n("span",{class:Q(["inline-flex rounded-full px-2 py-1 text-xs font-medium",A(l.income.source)])},c(N(l.income.source)),3)])]),n("div",null,[n("label",$5e,c(T.__("Status")),1),n("p",C5e,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.income.status==="pending","bg-green-100 text-green-800":l.income.status==="received","bg-red-100 text-red-800":l.income.status==="cancelled"}])},c(l.income.status.charAt(0).toUpperCase()+l.income.status.slice(1)),3)])]),n("div",null,[n("label",S5e,c(T.__("Created By")),1),n("p",M5e,c((L=l.income.user)==null?void 0:L.name),1)]),n("div",null,[n("label",T5e,c(T.__("Created On")),1),n("p",A5e,c(b(l.income.created_at)),1)]),l.income.invoice_number?(g(),v("div",D5e,[n("label",E5e,c(T.__("Invoice Number")),1),n("p",P5e,c(l.income.invoice_number),1)])):j("",!0),l.income.client_name?(g(),v("div",j5e,[n("label",R5e,c(T.__("Client")),1),n("p",I5e,c(l.income.client_name),1)])):j("",!0)]),n("div",null,[n("label",O5e,c(T.__("Description")),1),n("p",L5e,c(l.income.description),1)]),l.income.category?(g(),v("div",F5e,[n("label",N5e,c(T.__("Category")),1),n("p",z5e,c(l.income.category),1)])):j("",!0),l.income.notes?(g(),v("div",B5e,[n("label",U5e,c(T.__("Notes")),1),n("p",V5e,c(l.income.notes),1)])):j("",!0),l.income.receiver?(g(),v("div",H5e,[n("label",q5e,c(T.__("Received By")),1),n("p",W5e,c((I=l.income.receiver)==null?void 0:I.name),1),n("p",K5e,c(b(l.income.received_at)),1)])):j("",!0),l.income.quotation?(g(),v("div",Y5e,[n("label",G5e,c(T.__("Related Quotation")),1),n("p",X5e,c(l.income.quotation.quotation_number||`#${l.income.quotation.id}`),1)])):j("",!0)])):j("",!0),n("div",J5e,[C(Se,{onClick:D[12]||(D[12]=O=>l.show=!1)},{default:q(()=>[K(c(T.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),d.show?(g(),ne(Tn,{key:3,width:"max-w-md"},{default:q(()=>{var L,I,O;return[n("div",Q5e,[n("div",Z5e,[n("h3",eke,c(T.__("Mark as Received")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:D[13]||(D[13]=P=>d.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),n("div",tke,[n("p",ske,c(T.__("Are you sure you want to mark this income as received?")),1),n("div",nke,[n("p",oke,c((L=d.income)==null?void 0:L.description),1),n("p",ike,c((I=d.income)==null?void 0:I.currency)+" "+c(M((O=d.income)==null?void 0:O.amount)),1)])]),n("div",rke,[C(Se,{white:"",onClick:D[14]||(D[14]=P=>d.show=!1)},{default:q(()=>[K(c(T.__("Cancel")),1)]),_:1}),C(Se,{onClick:y},{default:q(()=>[K(c(T.__("Mark Received")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},lke={key:0,class:"mt-8 flex justify-center"},dke={key:1},cke={class:"mb-6 flex items-center gap-4"},uke=["value"],fke=["value"],mke={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},hke={class:"overflow-hidden rounded-lg bg-white shadow"},pke={class:"p-5"},gke={class:"flex items-center"},_ke={class:"flex-shrink-0"},vke={class:"ml-5 w-0 flex-1"},yke={class:"text-lg font-semibold text-green-600"},bke={class:"overflow-hidden rounded-lg bg-white shadow"},xke={class:"p-5"},wke={class:"flex items-center"},kke={class:"flex-shrink-0"},$ke={class:"ml-5 w-0 flex-1"},Cke={class:"text-lg font-semibold text-red-600"},Ske={class:"overflow-hidden rounded-lg bg-white shadow"},Mke={class:"p-5"},Tke={class:"flex items-center"},Ake={class:"flex-shrink-0"},Dke={class:"ml-5 w-0 flex-1"},Eke={class:"p-5"},Pke={class:"flex items-center"},jke={class:"flex-shrink-0"},Rke={class:"ml-5 w-0 flex-1"},Ike={class:"truncate text-sm font-medium text-white/80"},Oke={class:"text-lg font-bold text-white"},Lke={key:1,class:"mb-6 overflow-hidden rounded-lg bg-white shadow"},Fke={class:"grid grid-cols-1 gap-4 p-6 md:grid-cols-3"},Nke={class:"text-center"},zke={key:0},Bke={class:"text-center"},Uke={key:0},Vke={class:"text-center"},Hke={key:0},qke={key:2,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Wke={class:"overflow-hidden rounded-lg bg-white shadow"},Kke={class:"p-6"},Yke={key:0,class:"space-y-4"},Gke={class:"text-sm text-gray-500 capitalize"},Xke={class:"text-sm font-medium text-gray-900"},Jke={class:"text-gray-400"},Qke={class:"flex justify-between border-t pt-4"},Zke={class:"text-sm font-bold text-green-600"},e4e={key:1,class:"text-sm text-gray-500"},t4e={class:"overflow-hidden rounded-lg bg-white shadow"},s4e={class:"p-6"},n4e={key:0,class:"space-y-4"},o4e={class:"text-sm text-gray-500 capitalize"},i4e={class:"text-sm font-medium text-gray-900"},r4e={class:"text-gray-400"},a4e={class:"flex justify-between border-t pt-4"},l4e={class:"text-sm font-bold text-red-600"},d4e={key:1,class:"text-sm text-gray-500"},c4e={class:"overflow-hidden rounded-lg bg-white shadow"},u4e={class:"p-6"},f4e={key:0,class:"space-y-4"},m4e={class:"text-sm text-gray-500 capitalize"},h4e={class:"text-sm font-medium text-gray-900"},p4e={class:"text-gray-400"},g4e={key:1,class:"text-sm text-gray-500"},_4e={class:"overflow-hidden rounded-lg bg-white shadow"},v4e={class:"p-6"},y4e={class:"space-y-4"},b4e={class:"flex justify-between"},x4e={class:"text-sm font-medium text-green-600"},w4e={class:"flex justify-between"},k4e={class:"text-sm font-medium text-red-600"},$4e={class:"flex justify-between border-t pt-4"},C4e={class:"text-sm font-medium text-gray-900"},S4e={class:"flex justify-between"},M4e={key:3,class:"mt-6 overflow-hidden rounded-lg bg-white shadow"},T4e={class:"min-w-full divide-y divide-gray-200"},A4e={class:"divide-y divide-gray-200 bg-white"},D4e={class:"whitespace-nowrap px-6 py-4"},E4e={class:"text-sm font-medium text-gray-900"},P4e={class:"whitespace-nowrap px-6 py-4 text-sm text-green-600"},j4e={class:"whitespace-nowrap px-6 py-4 text-sm text-red-600"},R4e={__name:"ProfitLoss",setup(s){const e=F(!0),t=F(null),o=new Date,i=F(o.getFullYear()),r=F(o.getMonth()+1),a=Array.from({length:5},(p,h)=>o.getFullYear()-h),l=["January","February","March","April","May","June","July","August","September","October","November","December"],d=p=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(p||0),u=p=>new Date(p).toLocaleDateString("en-MW",{month:"short",day:"numeric"}),m=async()=>{e.value=!0;try{const p=await tt.get("/api/profit-loss/monthly",{params:{year:i.value,month:r.value}});t.value=p.data.data}catch{}finally{e.value=!1}};return Ye(()=>m()),(p,h)=>{var _,y,x,w,k,b,M,S,N,A,T,D,L,I,O,P,B,be,le,de,ce,me,Z,ie,Te;return e.value?(g(),v("div",lke,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",dke,[h[20]||(h[20]=n("div",{class:"mb-6"},[n("h1",{class:"text-2xl font-bold text-gray-900"},"Profit & Loss Report"),n("p",{class:"text-sm text-gray-500"},"Analyze your financial performance based on income and expenses")],-1)),n("div",cke,[z(n("select",{"onUpdate:modelValue":h[0]||(h[0]=se=>i.value=se),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(!0),v(re,null,ve(f(a),se=>(g(),v("option",{key:se,value:se},c(se),9,uke))),128))],544),[[Me,i.value]]),z(n("select",{"onUpdate:modelValue":h[1]||(h[1]=se=>r.value=se),class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[(g(),v(re,null,ve(l,(se,ke)=>n("option",{key:ke,value:ke+1},c(se),9,fke)),64))],544),[[Me,r.value]])]),t.value?(g(),v("div",mke,[n("div",hke,[n("div",pke,[n("div",gke,[n("div",_ke,[C(f(Rv),{class:"h-6 w-6 text-green-400"})]),n("div",vke,[n("dl",null,[h[2]||(h[2]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Income",-1)),n("dd",yke,"MK "+c(d((_=t.value.summary)==null?void 0:_.total_income)),1)])])])])]),n("div",bke,[n("div",xke,[n("div",wke,[n("div",kke,[C(f(Q4),{class:"h-6 w-6 text-red-400"})]),n("div",$ke,[n("dl",null,[h[3]||(h[3]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Expenses",-1)),n("dd",Cke,"MK "+c(d((y=t.value.summary)==null?void 0:y.total_expenses)),1)])])])])]),n("div",Ske,[n("div",Mke,[n("div",Tke,[n("div",Ake,[C(f(gl),{class:"h-6 w-6 text-blue-400"})]),n("div",Dke,[n("dl",null,[h[4]||(h[4]=n("dt",{class:"truncate text-sm font-medium text-gray-500"},"Profit Margin",-1)),n("dd",{class:Q(["text-lg font-semibold",((x=t.value.summary)==null?void 0:x.profit_margin)>=0?"text-green-600":"text-red-600"])},c((k=(w=t.value.summary)==null?void 0:w.profit_margin)==null?void 0:k.toFixed(1))+"% ",3)])])])])]),n("div",{class:Q(["overflow-hidden rounded-lg shadow",(b=t.value.summary)!=null&&b.is_profit?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-rose-600"])},[n("div",Eke,[n("div",Pke,[n("div",jke,[C(f(sr),{class:"h-6 w-6 text-white"})]),n("div",Rke,[n("dl",null,[n("dt",Ike,c((M=t.value.summary)!=null&&M.is_profit?"Net Profit":"Net Loss"),1),n("dd",Oke,"MK "+c(d(Math.abs((S=t.value.summary)==null?void 0:S.net_profit_loss))),1)])])])])],2)])):j("",!0),(N=t.value)!=null&&N.comparison?(g(),v("div",Lke,[h[8]||(h[8]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Month-over-Month Comparison")],-1)),n("div",Fke,[n("div",Nke,[h[5]||(h[5]=n("p",{class:"text-sm text-gray-500"},"Income Change",-1)),n("p",{class:Q(["text-xl font-semibold",t.value.comparison.income_change>=0?"text-green-600":"text-red-600"])},[t.value.comparison.income_change>=0?(g(),v("span",zke,"+")):j("",!0),K(c(t.value.comparison.income_change)+"% ",1)],2)]),n("div",Bke,[h[6]||(h[6]=n("p",{class:"text-sm text-gray-500"},"Expense Change",-1)),n("p",{class:Q(["text-xl font-semibold",t.value.comparison.expense_change<=0?"text-green-600":"text-red-600"])},[t.value.comparison.expense_change>=0?(g(),v("span",Uke,"+")):j("",!0),K(c(t.value.comparison.expense_change)+"% ",1)],2)]),n("div",Vke,[h[7]||(h[7]=n("p",{class:"text-sm text-gray-500"},"Profit/Loss Change",-1)),n("p",{class:Q(["text-xl font-semibold",t.value.comparison.profit_change>=0?"text-green-600":"text-red-600"])},[t.value.comparison.profit_change>=0?(g(),v("span",Hke,"+")):j("",!0),K(c(t.value.comparison.profit_change)+"% ",1)],2)])])])):j("",!0),t.value?(g(),v("div",qke,[n("div",Wke,[h[10]||(h[10]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Income by Source")],-1)),n("div",Kke,[(T=(A=t.value.income)==null?void 0:A.by_source)!=null&&T.length?(g(),v("dl",Yke,[(g(!0),v(re,null,ve(t.value.income.by_source,se=>(g(),v("div",{key:se.source,class:"flex justify-between"},[n("dt",Gke,c(se.source||"Other"),1),n("dd",Xke,[K("MK "+c(d(se.amount))+" ",1),n("span",Jke,"("+c(se.count)+")",1)])]))),128)),n("div",Qke,[h[9]||(h[9]=n("dt",{class:"text-sm font-medium text-gray-900"},"Total Income",-1)),n("dd",Zke,"MK "+c(d(t.value.income.total)),1)])])):(g(),v("p",e4e,"No income recorded for this period."))])]),n("div",t4e,[h[12]||(h[12]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Expenses by Category")],-1)),n("div",s4e,[(L=(D=t.value.expenses)==null?void 0:D.by_category)!=null&&L.length?(g(),v("dl",n4e,[(g(!0),v(re,null,ve(t.value.expenses.by_category,se=>(g(),v("div",{key:se.category,class:"flex justify-between"},[n("dt",o4e,c(se.category),1),n("dd",i4e,[K("MK "+c(d(se.amount))+" ",1),n("span",r4e,"("+c(se.count)+")",1)])]))),128)),n("div",a4e,[h[11]||(h[11]=n("dt",{class:"text-sm font-medium text-gray-900"},"Total Expenses",-1)),n("dd",l4e,"MK "+c(d(t.value.expenses.total)),1)])])):(g(),v("p",d4e,"No expenses recorded for this period."))])]),n("div",c4e,[h[13]||(h[13]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Income by Category")],-1)),n("div",u4e,[(O=(I=t.value.income)==null?void 0:I.by_category)!=null&&O.length?(g(),v("dl",f4e,[(g(!0),v(re,null,ve(t.value.income.by_category,se=>(g(),v("div",{key:se.category,class:"flex justify-between"},[n("dt",m4e,c(se.category),1),n("dd",h4e,[K("MK "+c(d(se.amount))+" ",1),n("span",p4e,"("+c(se.count)+")",1)])]))),128))])):(g(),v("p",g4e,"No categorized income for this period."))])]),n("div",_4e,[h[17]||(h[17]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Profit & Loss Summary")],-1)),n("div",v4e,[n("dl",y4e,[n("div",b4e,[h[14]||(h[14]=n("dt",{class:"text-sm text-gray-500"},"Total Income",-1)),n("dd",x4e,"MK "+c(d((P=t.value.summary)==null?void 0:P.total_income)),1)]),n("div",w4e,[h[15]||(h[15]=n("dt",{class:"text-sm text-gray-500"},"Total Expenses",-1)),n("dd",k4e,"- MK "+c(d((B=t.value.summary)==null?void 0:B.total_expenses)),1)]),n("div",$4e,[n("dt",C4e,c((be=t.value.summary)!=null&&be.is_profit?"Net Profit":"Net Loss"),1),n("dd",{class:Q(["text-sm font-bold",(le=t.value.summary)!=null&&le.is_profit?"text-green-600":"text-red-600"])}," MK "+c(d((de=t.value.summary)==null?void 0:de.net_profit_loss)),3)]),n("div",S4e,[h[16]||(h[16]=n("dt",{class:"text-sm font-medium text-gray-900"},"Profit Margin",-1)),n("dd",{class:Q(["text-sm font-bold",((ce=t.value.summary)==null?void 0:ce.profit_margin)>=0?"text-green-600":"text-red-600"])},c((Z=(me=t.value.summary)==null?void 0:me.profit_margin)==null?void 0:Z.toFixed(1))+"% ",3)])])])])])):j("",!0),(Te=(ie=t.value)==null?void 0:ie.weekly_breakdown)!=null&&Te.length?(g(),v("div",M4e,[h[19]||(h[19]=n("div",{class:"border-b border-gray-200 bg-gray-50 px-6 py-4"},[n("h2",{class:"text-lg font-medium text-gray-900"},"Weekly Breakdown")],-1)),n("table",T4e,[h[18]||(h[18]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Week"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Income"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Expenses"),n("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Net")])],-1)),n("tbody",A4e,[(g(!0),v(re,null,ve(t.value.weekly_breakdown,(se,ke)=>(g(),v("tr",{key:ke,class:"hover:bg-gray-50"},[n("td",D4e,[n("div",E4e,c(u(se.week_start))+" - "+c(u(se.week_end)),1)]),n("td",P4e," MK "+c(d(se.income)),1),n("td",j4e," MK "+c(d(se.expenses)),1),n("td",{class:Q(["whitespace-nowrap px-6 py-4 text-sm font-medium",se.net>=0?"text-green-600":"text-red-600"])}," MK "+c(d(se.net)),3)]))),128))])])])):j("",!0)]))}}},I4e={key:0,class:"mt-8 flex justify-center"},O4e={key:1},L4e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},F4e={class:"overflow-hidden rounded-lg bg-white shadow"},N4e={class:"p-5"},z4e={class:"flex items-center"},B4e={class:"flex-shrink-0"},U4e={class:"ml-5 w-0 flex-1"},V4e={class:"truncate text-sm font-medium text-gray-500"},H4e={class:"text-lg font-semibold text-gray-900"},q4e={class:"overflow-hidden rounded-lg bg-white shadow"},W4e={class:"p-5"},K4e={class:"flex items-center"},Y4e={class:"flex-shrink-0"},G4e={class:"ml-5 w-0 flex-1"},X4e={class:"truncate text-sm font-medium text-gray-500"},J4e={class:"text-lg font-semibold text-gray-900"},Q4e={class:"overflow-hidden rounded-lg bg-white shadow"},Z4e={class:"p-5"},e$e={class:"flex items-center"},t$e={class:"flex-shrink-0"},s$e={class:"ml-5 w-0 flex-1"},n$e={class:"truncate text-sm font-medium text-gray-500"},o$e={class:"text-lg font-semibold text-gray-900"},i$e={class:"overflow-hidden rounded-lg bg-white shadow"},r$e={class:"p-5"},a$e={class:"flex items-center"},l$e={class:"flex-shrink-0"},d$e={class:"ml-5 w-0 flex-1"},c$e={class:"truncate text-sm font-medium text-gray-500"},u$e={class:"text-lg font-semibold text-gray-900"},f$e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},m$e={class:"flex flex-1 flex-wrap gap-2"},h$e={class:"relative w-64 rounded-md shadow-sm"},p$e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},g$e=["placeholder"],_$e={value:""},v$e={value:"created"},y$e={value:"updated"},b$e={value:"deleted"},x$e={value:""},w$e=["value"],k$e={value:""},$$e=["value"],C$e={class:"flex flex-col"},S$e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},M$e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},T$e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},A$e={class:"min-w-full divide-y divide-gray-200"},D$e={class:"divide-y divide-gray-200 bg-white"},E$e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},P$e={class:"whitespace-nowrap px-6 py-4"},j$e={key:0,class:"flex items-center"},R$e={class:"h-8 w-8 flex-shrink-0"},I$e={class:"ml-3"},O$e={class:"text-sm font-medium text-gray-900"},L$e={key:1,class:"text-sm text-gray-400"},F$e={class:"whitespace-nowrap px-6 py-4 text-sm"},N$e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},z$e={class:"inline-flex rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700"},B$e={class:"ml-1 text-gray-400"},U$e={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},V$e={key:0,class:"text-green-600"},H$e={key:1,class:"text-red-600"},q$e={key:2},W$e={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},K$e={key:0},Y$e={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},G$e={class:"p-6"},X$e={class:"flex items-center justify-between mb-4"},J$e={class:"text-lg font-semibold text-gray-900"},Q$e={key:0,class:"space-y-4"},Z$e={class:"grid grid-cols-2 gap-4 border-b pb-4"},e3e={class:"block text-sm font-medium text-gray-700"},t3e={class:"mt-1 text-sm text-gray-900"},s3e={class:"block text-sm font-medium text-gray-700"},n3e={class:"mt-1 text-sm text-gray-900"},o3e={class:"block text-sm font-medium text-gray-700"},i3e={class:"mt-1"},r3e={class:"block text-sm font-medium text-gray-700"},a3e={class:"mt-1 text-sm text-gray-900"},l3e={key:0},d3e={class:"block text-sm font-medium text-gray-700"},c3e={class:"mt-1 text-sm text-gray-900"},u3e={key:1},f3e={class:"block text-sm font-medium text-gray-700"},m3e=["title"],h3e={key:0,class:"space-y-4"},p3e={class:"text-sm font-semibold text-gray-700"},g3e={class:"grid grid-cols-2 gap-4"},_3e={class:"block text-sm font-medium text-red-600 mb-2"},v3e={class:"bg-red-50 rounded-md p-3 max-h-64 overflow-auto"},y3e={class:"text-xs text-gray-800 whitespace-pre-wrap"},b3e={class:"block text-sm font-medium text-green-600 mb-2"},x3e={class:"bg-green-50 rounded-md p-3 max-h-64 overflow-auto"},w3e={class:"text-xs text-gray-800 whitespace-pre-wrap"},k3e={key:1,class:"space-y-2"},$3e={class:"text-sm font-semibold text-gray-700"},C3e={class:"text-xs text-gray-800 whitespace-pre-wrap"},S3e={class:"mt-6 flex justify-end"},M3e={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F([]),i=F([]),r=Dn("audit-trails",{search:"",event:"",model_type:"",user_id:"",start_date:"",end_date:"",sort_by:"created_at",sort_order:"desc",per_page:20}),a=Qe({show:!1,audit:null});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},u=b=>{a.audit=b,a.show=!0},m=b=>({created:"bg-green-100 text-green-800",updated:"bg-blue-100 text-blue-800",deleted:"bg-red-100 text-red-800",restored:"bg-yellow-100 text-yellow-800"})[b]||"bg-gray-100 text-gray-800",p=b=>{if(!b)return"Unknown";const M=b.split("\\");return M[M.length-1]},h=(b,M)=>{if(!b)return"-";const S=Object.keys(b);return S.length===0?"-":M==="created"?`Created with ${S.length} field(s)`:M==="deleted"?"Deleted record":S.length<=2?S.join(", ")+" changed":`${S.length} field(s) changed`},_=b=>b?new Date(b).toLocaleString():"-",y=b=>{if(!b)return"-";try{return JSON.stringify(b,null,2)}catch{return String(b)}},x=async()=>{try{const b=await ae.get("audit-trails/statistics");t.value=b.data}catch{}},w=async()=>{try{const b=await ae.get("audit-trails/model-types");o.value=b.data}catch{}},k=async()=>{try{const b=await ae.get("users");i.value=b.data.data||b.data}catch{}};return Ye(async()=>{await Promise.all([r.get(),x(),w(),k()]),e.value=!1}),(b,M)=>e.value?(g(),v("div",I4e,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",O4e,[t.value?(g(),v("div",L4e,[n("div",F4e,[n("div",N4e,[n("div",z4e,[n("div",B4e,[C(f(Nv),{class:"h-6 w-6 text-blue-400"})]),n("div",U4e,[n("dl",null,[n("dt",V4e,c(b.__("Total Activities")),1),n("dd",H4e,c(t.value.total),1)])])])])]),n("div",q4e,[n("div",W4e,[n("div",K4e,[n("div",Y4e,[C(f(un),{class:"h-6 w-6 text-green-400"})]),n("div",G4e,[n("dl",null,[n("dt",X4e,c(b.__("Today")),1),n("dd",J4e,c(t.value.today),1)])])])])]),n("div",Q4e,[n("div",Z4e,[n("div",e$e,[n("div",t$e,[C(f(Qm),{class:"h-6 w-6 text-yellow-400"})]),n("div",s$e,[n("dl",null,[n("dt",n$e,c(b.__("This Week")),1),n("dd",o$e,c(t.value.this_week),1)])])])])]),n("div",i$e,[n("div",r$e,[n("div",a$e,[n("div",l$e,[C(f(gl),{class:"h-6 w-6 text-purple-400"})]),n("div",d$e,[n("dl",null,[n("dt",c$e,c(b.__("This Month")),1),n("dd",u$e,c(t.value.this_month),1)])])])])])])):j("",!0),n("div",f$e,[n("div",m$e,[n("div",h$e,[n("div",p$e,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":M[0]||(M[0]=S=>f(r).params.search=S),type:"search",placeholder:b.__("Search changes..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,g$e),[[J,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":M[1]||(M[1]=S=>f(r).params.event=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[2]||(M[2]=S=>f(r).get())},[n("option",_$e,c(b.__("All Events")),1),n("option",v$e,c(b.__("Created")),1),n("option",y$e,c(b.__("Updated")),1),n("option",b$e,c(b.__("Deleted")),1)],544),[[Me,f(r).params.event]]),z(n("select",{"onUpdate:modelValue":M[3]||(M[3]=S=>f(r).params.model_type=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[4]||(M[4]=S=>f(r).get())},[n("option",x$e,c(b.__("All Models")),1),(g(!0),v(re,null,ve(o.value,S=>(g(),v("option",{key:S.value,value:S.label},c(S.label),9,w$e))),128))],544),[[Me,f(r).params.model_type]]),z(n("select",{"onUpdate:modelValue":M[5]||(M[5]=S=>f(r).params.user_id=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[6]||(M[6]=S=>f(r).get())},[n("option",k$e,c(b.__("All Users")),1),(g(!0),v(re,null,ve(i.value,S=>(g(),v("option",{key:S.id,value:S.id},c(S.name),9,$$e))),128))],544),[[Me,f(r).params.user_id]]),z(n("input",{"onUpdate:modelValue":M[7]||(M[7]=S=>f(r).params.start_date=S),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[8]||(M[8]=S=>f(r).get())},null,544),[[J,f(r).params.start_date]]),z(n("input",{"onUpdate:modelValue":M[9]||(M[9]=S=>f(r).params.end_date=S),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:M[10]||(M[10]=S=>f(r).get())},null,544),[[J,f(r).params.end_date]])])]),n("section",null,[n("div",C$e,[n("div",S$e,[n("div",M$e,[n("div",T$e,[n("table",A$e,[n("thead",null,[n("tr",null,[C(je,{name:"audit",index:f(r),label:b.__("Date/Time"),sort:"created_at"},null,8,["index","label"]),C(je,{name:"audit",index:f(r),label:b.__("User")},null,8,["index","label"]),C(je,{name:"audit",index:f(r),label:b.__("Event"),sort:"event"},null,8,["index","label"]),C(je,{name:"audit",index:f(r),label:b.__("Model")},null,8,["index","label"]),C(je,{name:"audit",index:f(r),label:b.__("Changes")},null,8,["index","label"]),M[13]||(M[13]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",D$e,[(g(!0),v(re,null,ve(f(r).data.data,S=>(g(),v("tr",{key:S.id,class:"hover:bg-gray-50"},[n("td",E$e,c(_(S.created_at)),1),n("td",P$e,[S.user?(g(),v("div",j$e,[n("div",R$e,[C(Xt,{user:S.user,size:"8"},null,8,["user"])]),n("div",I$e,[n("div",O$e,c(S.user.name),1)])])):(g(),v("span",L$e,"System"))]),n("td",F$e,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",m(S.event)])},c(S.event.charAt(0).toUpperCase()+S.event.slice(1)),3)]),n("td",N$e,[n("span",z$e,c(p(S.auditable_type)),1),n("span",B$e,"#"+c(S.auditable_id),1)]),n("td",U$e,[S.event==="created"?(g(),v("div",V$e,c(h(S.new_values,"created")),1)):S.event==="deleted"?(g(),v("div",H$e,c(h(S.old_values,"deleted")),1)):(g(),v("div",q$e,c(h(S.new_values,"updated")),1))]),n("td",W$e,[C(f(hn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:N=>u(S)},null,8,["onClick"])])]))),128)),!f(r).data.data||f(r).data.data.length===0?(g(),v("tr",K$e,[n("td",Y$e,c(b.__("No audit trail records found")),1)])):j("",!0)])]),C(ms,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),ne(Tn,{key:1,width:"max-w-3xl"},{default:q(()=>{var S;return[n("div",G$e,[n("div",X$e,[n("h3",J$e,c(b.__("Audit Trail Details")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:M[11]||(M[11]=N=>a.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),a.audit?(g(),v("div",Q$e,[n("div",Z$e,[n("div",null,[n("label",e3e,c(b.__("Date/Time")),1),n("p",t3e,c(_(a.audit.created_at)),1)]),n("div",null,[n("label",s3e,c(b.__("User")),1),n("p",n3e,c(((S=a.audit.user)==null?void 0:S.name)||"System"),1)]),n("div",null,[n("label",o3e,c(b.__("Event")),1),n("p",i3e,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",m(a.audit.event)])},c(a.audit.event.charAt(0).toUpperCase()+a.audit.event.slice(1)),3)])]),n("div",null,[n("label",r3e,c(b.__("Model")),1),n("p",a3e,c(p(a.audit.auditable_type))+" #"+c(a.audit.auditable_id),1)]),a.audit.ip_address?(g(),v("div",l3e,[n("label",d3e,c(b.__("IP Address")),1),n("p",c3e,c(a.audit.ip_address),1)])):j("",!0),a.audit.url?(g(),v("div",u3e,[n("label",f3e,c(b.__("URL")),1),n("p",{class:"mt-1 text-sm text-gray-900 truncate",title:a.audit.url},c(a.audit.url),9,m3e)])):j("",!0)]),a.audit.event==="updated"?(g(),v("div",h3e,[n("h4",p3e,c(b.__("Changes")),1),n("div",g3e,[n("div",null,[n("label",_3e,c(b.__("Old Values")),1),n("div",v3e,[n("pre",y3e,c(y(a.audit.old_values)),1)])]),n("div",null,[n("label",b3e,c(b.__("New Values")),1),n("div",x3e,[n("pre",w3e,c(y(a.audit.new_values)),1)])])])])):(g(),v("div",k3e,[n("h4",$3e,c(a.audit.event==="created"?b.__("Created Values"):b.__("Deleted Values")),1),n("div",{class:Q(["rounded-md p-3 max-h-64 overflow-auto",a.audit.event==="created"?"bg-green-50":"bg-red-50"])},[n("pre",C3e,c(y(a.audit.event==="created"?a.audit.new_values:a.audit.old_values)),1)],2)]))])):j("",!0),n("div",S3e,[C(Se,{onClick:M[12]||(M[12]=N=>a.show=!1)},{default:q(()=>[K(c(b.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0)]))}},T3e={class:"space-y-6"},A3e={class:"flex items-center justify-between"},D3e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},E3e={class:"bg-white rounded-lg shadow p-4"},P3e={class:"mt-1 text-2xl font-semibold text-gray-900"},j3e={class:"bg-white rounded-lg shadow p-4"},R3e={class:"mt-1 text-2xl font-semibold text-green-600"},I3e={class:"bg-white rounded-lg shadow p-4"},O3e={class:"mt-1 text-2xl font-semibold text-yellow-600"},L3e={class:"bg-white rounded-lg shadow p-4"},F3e={class:"mt-1 text-2xl font-semibold text-red-600"},N3e={class:"bg-white rounded-lg shadow p-4"},z3e={class:"flex flex-wrap gap-4"},B3e={class:"flex-1 min-w-64"},U3e={class:"relative"},V3e={class:"bg-white rounded-lg shadow overflow-visible"},H3e={class:"min-w-full divide-y divide-gray-200"},q3e={class:"bg-white divide-y divide-gray-200"},W3e={key:0},K3e={key:1},Y3e=["onClick"],G3e={class:"px-6 py-4"},X3e={class:"font-medium text-gray-900"},J3e={class:"text-sm text-gray-500"},Q3e={class:"text-sm text-gray-500"},Z3e={class:"px-6 py-4"},e6e={class:"text-gray-900"},t6e={class:"text-sm text-gray-500"},s6e={class:"px-6 py-4 text-sm text-gray-500"},n6e={class:"w-full max-w-xs"},o6e={class:"flex justify-between text-xs text-gray-600 mb-1"},i6e={class:"w-full bg-gray-200 rounded-full h-2"},r6e={class:"text-xs text-gray-500 mt-1"},a6e={key:0,class:"mt-1 text-xs text-green-600"},l6e={key:1,class:"mt-1 text-xs text-yellow-600"},d6e={class:"py-1"},c6e=["onClick"],u6e=["onClick"],f6e=["onClick"],m6e=["onClick"],h6e=["onClick"],p6e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},g6e={class:"text-sm text-gray-500"},_6e={class:"flex space-x-2"},v6e=["onClick"],y6e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},b6e={class:"flex items-center justify-center min-h-screen px-4"},x6e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},w6e={class:"text-lg font-semibold text-gray-900 mb-4"},k6e={class:"mb-6"},$6e={class:"flex items-center justify-between"},C6e={class:"flex-1 h-1 mx-4 bg-gray-200"},S6e={class:"space-y-4"},M6e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T6e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},A6e={class:"block text-sm font-medium text-gray-700"},D6e=["required"],E6e={class:"space-y-4"},P6e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},j6e={class:"grid grid-cols-2 gap-4"},R6e={key:0},I6e={class:"grid grid-cols-2 gap-4"},O6e={key:1,class:"bg-gray-50 rounded-lg p-4 space-y-4"},L6e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F6e={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-4"},N6e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z6e={class:"md:col-span-2"},B6e={class:"flex justify-between pt-6 border-t mt-6"},U6e={class:"flex space-x-3"},V6e={key:1,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},H6e=ye({__name:"Index",setup(s){const e=eo(),t=F([]),o=F({total:0,active:0,pending:0,suspended:0}),i=F(!0),r=F(""),a=F(""),l=F({current_page:1,last_page:1,per_page:15,total:0}),d=F(!1),u=F(!1),m=F(null),p=F(1),h=F({name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""}),_=async(I=1)=>{i.value=!0;try{const O=new URLSearchParams;O.append("page",I.toString()),r.value&&O.append("search",r.value),a.value&&O.append("status",a.value);const P=await tt.get(`/api/service-providers?${O}`);t.value=P.data.data,l.value={current_page:P.data.current_page,last_page:P.data.last_page,per_page:P.data.per_page,total:P.data.total}}catch{}finally{i.value=!1}},y=async()=>{try{const I=await tt.get("/api/service-providers/statistics");o.value=I.data}catch{}},x=async()=>{try{await tt.post("/api/service-providers",h.value),d.value=!1,A(),await _(),await y()}catch{}},w=async()=>{if(m.value)try{const I={...h.value};I.password||delete I.password,await tt.put(`/api/service-providers/${m.value.id}`,I),u.value=!1,A(),await _()}catch{}},k=async I=>{try{await tt.post(`/api/service-providers/${I.id}/activate`),await _(),await y()}catch{}},b=async I=>{try{await tt.post(`/api/service-providers/${I.id}/suspend`),await _(),await y()}catch{}},M=async I=>{if(confirm("Are you sure you want to delete this service provider?"))try{await tt.delete(`/api/service-providers/${I.id}`),await _(),await y()}catch{}},S=I=>{e.push(`/service-providers/${I.id}`)},N=I=>{var O,P,B;m.value=I,h.value={name:I.name,email:I.email,phone:I.phone||"",national_id:I.national_id||"",address:I.address||"",specialty:I.specialty||"",qualification:I.qualification||"",bio:I.bio||"",hourly_rate:((O=I.hourly_rate)==null?void 0:O.toString())||"",total_agreed_amount:((P=I.total_agreed_amount)==null?void 0:P.toString())||"700000",payment_preference:I.payment_preference||"monthly",monthly_amount:((B=I.monthly_amount)==null?void 0:B.toString())||"",payment_method:I.payment_method||"bank",bank_name:I.bank_name||"",bank_account_number:I.bank_account_number||"",bank_account_name:I.bank_account_name||"",bank_branch:I.bank_branch||"",mobile_money_provider:I.mobile_money_provider||"",mobile_money_number:I.mobile_money_number||"",mobile_money_name:I.mobile_money_name||"",password:""},p.value=1,u.value=!0},A=()=>{h.value={name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""},m.value=null,p.value=1},T=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=I=>new Intl.NumberFormat("en-MW",{style:"decimal"}).format(I||0),L=I=>I.total_agreed_amount?Math.round(I.total_paid/I.total_agreed_amount*100):0;return Ye(()=>{_(),y()}),(I,O)=>(g(),v("div",T3e,[n("div",A3e,[O[39]||(O[39]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Service Providers (Teachers)"),n("p",{class:"mt-1 text-sm text-gray-500"},"Manage teachers and content providers")],-1)),n("button",{class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",onClick:O[0]||(O[0]=P=>d.value=!0)},[C(f(pn),{class:"w-5 h-5 mr-2"}),O[38]||(O[38]=K(" Add Teacher ",-1))])]),n("div",D3e,[n("div",E3e,[O[40]||(O[40]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Teachers",-1)),n("div",P3e,c(o.value.total),1)]),n("div",j3e,[O[41]||(O[41]=n("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),n("div",R3e,c(o.value.active),1)]),n("div",I3e,[O[42]||(O[42]=n("div",{class:"text-sm font-medium text-gray-500"},"Pending Approval",-1)),n("div",O3e,c(o.value.pending),1)]),n("div",L3e,[O[43]||(O[43]=n("div",{class:"text-sm font-medium text-gray-500"},"Suspended",-1)),n("div",F3e,c(o.value.suspended),1)])]),n("div",N3e,[n("div",z3e,[n("div",B3e,[n("div",U3e,[C(f($s),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":O[1]||(O[1]=P=>r.value=P),type:"text",placeholder:"Search by name, email, phone or ID...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onInput:O[2]||(O[2]=P=>_(1))},null,544),[[J,r.value]])])]),z(n("select",{"onUpdate:modelValue":O[3]||(O[3]=P=>a.value=P),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onChange:O[4]||(O[4]=P=>_(1))},[...O[44]||(O[44]=[n("option",{value:""},"All Statuses",-1),n("option",{value:"active"},"Active",-1),n("option",{value:"pending"},"Pending",-1),n("option",{value:"suspended"},"Suspended",-1)])],544),[[Me,a.value]])])]),n("div",V3e,[n("table",H3e,[O[48]||(O[48]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sessions"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payment Progress"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",q3e,[i.value?(g(),v("tr",W3e,[...O[45]||(O[45]=[n("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):t.value.length===0?(g(),v("tr",K3e,[...O[46]||(O[46]=[n("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"No teachers found",-1)])])):j("",!0),(g(!0),v(re,null,ve(t.value,P=>(g(),v("tr",{key:P.id,class:"hover:bg-gray-50 cursor-pointer",onClick:B=>S(P)},[n("td",G3e,[n("div",X3e,c(P.name),1),n("div",J3e,c(P.email),1),n("div",Q3e,c(P.phone),1)]),n("td",Z3e,[n("div",e6e,c(P.specialty||"-"),1),n("div",t6e,c(P.qualification||"-"),1)]),n("td",s6e,[n("div",null,c(P.recording_sessions_count||0)+" recordings",1),n("div",null,c(P.lesson_plans_count||0)+" lesson plans",1)]),n("td",{class:"px-6 py-4",onClick:O[5]||(O[5]=Ke(()=>{},["stop"]))},[n("div",n6e,[n("div",o6e,[n("span",null,"MK "+c(D(P.total_paid||0)),1),n("span",null,"MK "+c(D(P.total_agreed_amount||7e5)),1)]),n("div",i6e,[n("div",{class:"bg-indigo-600 h-2 rounded-full transition-all",style:kt({width:L(P)+"%"})},null,4)]),n("div",r6e,c(L(P))+"% paid | Balance: MK "+c(D(P.balance_remaining||P.total_agreed_amount||7e5)),1)])]),n("td",{class:"px-6 py-4",onClick:O[6]||(O[6]=Ke(()=>{},["stop"]))},[n("span",{class:Q(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",T(P.status)])},c(P.status),3),P.agreement_signed?(g(),v("div",a6e,"Agreement Signed")):(g(),v("div",l6e,"Agreement Pending"))]),n("td",{class:"px-6 py-4 text-right",onClick:O[7]||(O[7]=Ke(()=>{},["stop"]))},[C(f(Rc),{as:"div",class:"relative inline-block text-left"},{default:q(()=>[C(f(Ic),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:q(()=>[C(f(Bc),{class:"w-5 h-5"})]),_:1}),C(f(Oc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},{default:q(()=>[n("div",d6e,[C(f(an),null,{default:q(({active:B})=>[n("button",{class:Q([B?"bg-gray-100":"","flex items-center w-full text-left px-4 py-2 text-sm text-gray-700"]),onClick:be=>S(P)},[C(f(hn),{class:"w-4 h-4 mr-2"}),O[47]||(O[47]=K(" View Details ",-1))],10,c6e)]),_:2},1024),C(f(an),null,{default:q(({active:B})=>[n("button",{class:Q([B?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"]),onClick:be=>N(P)}," Edit ",10,u6e)]),_:2},1024),P.status!=="active"?(g(),ne(f(an),{key:0},{default:q(({active:B})=>[n("button",{class:Q([B?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"]),onClick:be=>k(P)}," Activate ",10,f6e)]),_:2},1024)):j("",!0),P.status==="active"?(g(),ne(f(an),{key:1},{default:q(({active:B})=>[n("button",{class:Q([B?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-yellow-700"]),onClick:be=>b(P)}," Suspend ",10,m6e)]),_:2},1024)):j("",!0),C(f(an),null,{default:q(({active:B})=>[n("button",{class:Q([B?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"]),onClick:be=>M(P)}," Delete ",10,h6e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])],8,Y3e))),128))])]),l.value.last_page>1?(g(),v("div",p6e,[n("div",g6e," Showing "+c((l.value.current_page-1)*l.value.per_page+1)+" to "+c(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+c(l.value.total),1),n("div",_6e,[(g(!0),v(re,null,ve(l.value.last_page,P=>(g(),v("button",{key:P,class:Q(["px-3 py-1 rounded",P===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:B=>_(P)},c(P),11,v6e))),128))])])):j("",!0)]),d.value||u.value?(g(),v("div",y6e,[n("div",b6e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:O[8]||(O[8]=P=>{d.value=!1,u.value=!1,A()})}),n("div",x6e,[n("h2",w6e,c(u.value?"Edit Teacher":"Add Teacher"),1),n("div",k6e,[n("div",$6e,[n("button",{class:Q(["flex items-center",p.value>=1?"text-indigo-600":"text-gray-400"]),onClick:O[9]||(O[9]=P=>p.value=1)},[n("span",{class:Q(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",p.value>=1?"bg-indigo-600 text-white":"bg-gray-200"])},"1",2),O[49]||(O[49]=n("span",{class:"hidden sm:inline"},"Personal Info",-1))],2),n("div",C6e,[n("div",{class:Q(["h-1 transition-all",p.value>=2?"bg-indigo-600":"bg-gray-200"]),style:kt({width:p.value>=2?"100%":"0%"})},null,6)]),n("button",{class:Q(["flex items-center",p.value>=2?"text-indigo-600":"text-gray-400"]),onClick:O[10]||(O[10]=P=>p.value=2)},[n("span",{class:Q(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",p.value>=2?"bg-indigo-600 text-white":"bg-gray-200"])},"2",2),O[50]||(O[50]=n("span",{class:"hidden sm:inline"},"Payment Details",-1))],2)])]),n("form",{onSubmit:O[37]||(O[37]=Ke(P=>u.value?w():x(),["prevent"]))},[z(n("div",S6e,[n("div",M6e,[n("div",null,[O[51]||(O[51]=n("label",{class:"block text-sm font-medium text-gray-700"},"Full Name *",-1)),z(n("input",{"onUpdate:modelValue":O[11]||(O[11]=P=>h.value.name=P),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.name]])]),n("div",null,[O[52]||(O[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Email *",-1)),z(n("input",{"onUpdate:modelValue":O[12]||(O[12]=P=>h.value.email=P),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.email]])]),n("div",null,[O[53]||(O[53]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),z(n("input",{"onUpdate:modelValue":O[13]||(O[13]=P=>h.value.phone=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.phone]])]),n("div",null,[O[54]||(O[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"National ID",-1)),z(n("input",{"onUpdate:modelValue":O[14]||(O[14]=P=>h.value.national_id=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.national_id]])])]),n("div",null,[O[55]||(O[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),z(n("input",{"onUpdate:modelValue":O[15]||(O[15]=P=>h.value.address=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.address]])]),n("div",T6e,[n("div",null,[O[56]||(O[56]=n("label",{class:"block text-sm font-medium text-gray-700"},"Subject/Specialty",-1)),z(n("input",{"onUpdate:modelValue":O[16]||(O[16]=P=>h.value.specialty=P),type:"text",placeholder:"e.g., Mathematics, English",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.specialty]])]),n("div",null,[O[57]||(O[57]=n("label",{class:"block text-sm font-medium text-gray-700"},"Qualification",-1)),z(n("input",{"onUpdate:modelValue":O[17]||(O[17]=P=>h.value.qualification=P),type:"text",placeholder:"e.g., Bachelor's Degree",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.qualification]])])]),n("div",null,[O[58]||(O[58]=n("label",{class:"block text-sm font-medium text-gray-700"},"Bio/About",-1)),z(n("textarea",{"onUpdate:modelValue":O[18]||(O[18]=P=>h.value.bio=P),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Brief description about the teacher..."},null,512),[[J,h.value.bio]])]),n("div",null,[n("label",A6e,c(u.value?"New Password (leave blank to keep current)":"Password *"),1),z(n("input",{"onUpdate:modelValue":O[19]||(O[19]=P=>h.value.password=P),type:"password",required:!u.value,class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,8,D6e),[[J,h.value.password]])])],512),[[zt,p.value===1]]),z(n("div",E6e,[O[84]||(O[84]=n("div",{class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},[n("h3",{class:"font-medium text-indigo-800 mb-2"},"Contract Payment Details"),n("p",{class:"text-sm text-indigo-600"},"Configure the payment terms for this teacher's contract.")],-1)),n("div",P6e,[n("div",null,[O[59]||(O[59]=n("label",{class:"block text-sm font-medium text-gray-700"},"Total Agreed Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":O[20]||(O[20]=P=>h.value.total_agreed_amount=P),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.total_agreed_amount]]),O[60]||(O[60]=n("p",{class:"text-xs text-gray-500 mt-1"},"Default: MK 700,000",-1))]),n("div",null,[O[61]||(O[61]=n("label",{class:"block text-sm font-medium text-gray-700"},"Hourly Rate (MK)",-1)),z(n("input",{"onUpdate:modelValue":O[21]||(O[21]=P=>h.value.hourly_rate=P),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.hourly_rate]])])]),n("div",null,[O[66]||(O[66]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Preference *",-1)),n("div",j6e,[n("label",{class:Q(["border rounded-lg p-4 cursor-pointer transition-all",h.value.payment_preference==="monthly"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{"onUpdate:modelValue":O[22]||(O[22]=P=>h.value.payment_preference=P),type:"radio",value:"monthly",class:"sr-only"},null,512),[[On,h.value.payment_preference]]),O[62]||(O[62]=n("div",{class:"font-medium"},"Monthly Payments",-1)),O[63]||(O[63]=n("div",{class:"text-sm text-gray-500"},"Paid each month during contract",-1))],2),n("label",{class:Q(["border rounded-lg p-4 cursor-pointer transition-all",h.value.payment_preference==="lump_sum"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{"onUpdate:modelValue":O[23]||(O[23]=P=>h.value.payment_preference=P),type:"radio",value:"lump_sum",class:"sr-only"},null,512),[[On,h.value.payment_preference]]),O[64]||(O[64]=n("div",{class:"font-medium"},"Lump Sum",-1)),O[65]||(O[65]=n("div",{class:"text-sm text-gray-500"},"Full payment after completion",-1))],2)])]),h.value.payment_preference==="monthly"?(g(),v("div",R6e,[O[67]||(O[67]=n("label",{class:"block text-sm font-medium text-gray-700"},"Monthly Payment Amount (MK)",-1)),z(n("input",{"onUpdate:modelValue":O[24]||(O[24]=P=>h.value.monthly_amount=P),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 100000"},null,512),[[J,h.value.monthly_amount]])])):j("",!0),n("div",null,[O[72]||(O[72]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Method *",-1)),n("div",I6e,[n("label",{class:Q(["border rounded-lg p-4 cursor-pointer transition-all",h.value.payment_method==="bank"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{"onUpdate:modelValue":O[25]||(O[25]=P=>h.value.payment_method=P),type:"radio",value:"bank",class:"sr-only"},null,512),[[On,h.value.payment_method]]),O[68]||(O[68]=n("div",{class:"font-medium"},"Bank Transfer",-1)),O[69]||(O[69]=n("div",{class:"text-sm text-gray-500"},"Direct bank deposit",-1))],2),n("label",{class:Q(["border rounded-lg p-4 cursor-pointer transition-all",h.value.payment_method==="mobile_money"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[z(n("input",{"onUpdate:modelValue":O[26]||(O[26]=P=>h.value.payment_method=P),type:"radio",value:"mobile_money",class:"sr-only"},null,512),[[On,h.value.payment_method]]),O[70]||(O[70]=n("div",{class:"font-medium"},"Mobile Money",-1)),O[71]||(O[71]=n("div",{class:"text-sm text-gray-500"},"Airtel Money / TNM Mpamba",-1))],2)])]),h.value.payment_method==="bank"?(g(),v("div",O6e,[O[78]||(O[78]=n("h4",{class:"font-medium text-gray-900"},"Bank Account Details",-1)),n("div",L6e,[n("div",null,[O[74]||(O[74]=n("label",{class:"block text-sm font-medium text-gray-700"},"Bank Name",-1)),z(n("select",{"onUpdate:modelValue":O[27]||(O[27]=P=>h.value.bank_name=P),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...O[73]||(O[73]=[_i('<option value="">Select Bank</option><option value="National Bank of Malawi">National Bank of Malawi</option><option value="Standard Bank">Standard Bank</option><option value="FDH Bank">FDH Bank</option><option value="NBS Bank">NBS Bank</option><option value="Ecobank">Ecobank</option><option value="First Capital Bank">First Capital Bank</option><option value="CDH Bank">CDH Bank</option><option value="MyBucks">MyBucks</option>',9)])],512),[[Me,h.value.bank_name]])]),n("div",null,[O[75]||(O[75]=n("label",{class:"block text-sm font-medium text-gray-700"},"Branch",-1)),z(n("input",{"onUpdate:modelValue":O[28]||(O[28]=P=>h.value.bank_branch=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.bank_branch]])]),n("div",null,[O[76]||(O[76]=n("label",{class:"block text-sm font-medium text-gray-700"},"Account Name",-1)),z(n("input",{"onUpdate:modelValue":O[29]||(O[29]=P=>h.value.bank_account_name=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.bank_account_name]])]),n("div",null,[O[77]||(O[77]=n("label",{class:"block text-sm font-medium text-gray-700"},"Account Number",-1)),z(n("input",{"onUpdate:modelValue":O[30]||(O[30]=P=>h.value.bank_account_number=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.bank_account_number]])])])])):j("",!0),h.value.payment_method==="mobile_money"?(g(),v("div",F6e,[O[83]||(O[83]=n("h4",{class:"font-medium text-gray-900"},"Mobile Money Details",-1)),n("div",N6e,[n("div",null,[O[80]||(O[80]=n("label",{class:"block text-sm font-medium text-gray-700"},"Provider",-1)),z(n("select",{"onUpdate:modelValue":O[31]||(O[31]=P=>h.value.mobile_money_provider=P),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...O[79]||(O[79]=[n("option",{value:""},"Select Provider",-1),n("option",{value:"Airtel Money"},"Airtel Money",-1),n("option",{value:"TNM Mpamba"},"TNM Mpamba",-1)])],512),[[Me,h.value.mobile_money_provider]])]),n("div",null,[O[81]||(O[81]=n("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),z(n("input",{"onUpdate:modelValue":O[32]||(O[32]=P=>h.value.mobile_money_number=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0999123456"},null,512),[[J,h.value.mobile_money_number]])]),n("div",z6e,[O[82]||(O[82]=n("label",{class:"block text-sm font-medium text-gray-700"},"Registered Name",-1)),z(n("input",{"onUpdate:modelValue":O[33]||(O[33]=P=>h.value.mobile_money_name=P),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[J,h.value.mobile_money_name]])])])])):j("",!0)],512),[[zt,p.value===2]]),n("div",B6e,[n("div",null,[p.value>1?(g(),v("button",{key:0,type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:O[34]||(O[34]=P=>p.value--)}," Back ")):j("",!0)]),n("div",U6e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:O[35]||(O[35]=P=>{d.value=!1,u.value=!1,A()})}," Cancel "),p.value<2?(g(),v("button",{key:0,type:"button",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",onClick:O[36]||(O[36]=P=>p.value++)}," Next ")):(g(),v("button",V6e,c(u.value?"Update":"Create")+" Teacher ",1))])])],32)])])])):j("",!0)]))}}),q6e={class:"space-y-6"},W6e={class:"flex items-center justify-between"},K6e={class:"flex items-center space-x-4"},Y6e={key:0},G6e={class:"text-2xl font-semibold text-gray-900"},X6e={class:"text-sm text-gray-500"},J6e={key:0,class:"flex space-x-3"},Q6e=["disabled"],Z6e={key:0,class:"text-center py-12 text-gray-500"},eCe={key:1},tCe={class:"bg-white rounded-lg shadow p-6"},sCe={class:"flex items-center justify-between mb-4"},nCe={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},oCe={class:"text-2xl font-bold text-gray-900"},iCe={class:"text-2xl font-bold text-green-600"},rCe={class:"text-2xl font-bold text-red-600"},aCe={class:"flex items-center space-x-3"},lCe={class:"flex-1 bg-gray-200 rounded-full h-3"},dCe={class:"text-lg font-bold text-gray-900"},cCe={class:"border-b border-gray-200"},uCe={class:"flex space-x-8"},fCe=["onClick"],mCe={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},hCe={class:"bg-white rounded-lg shadow p-6"},pCe={class:"space-y-3"},gCe={class:"flex justify-between"},_Ce={class:"text-gray-900 font-medium"},vCe={class:"flex justify-between"},yCe={class:"text-gray-900"},bCe={class:"flex justify-between"},xCe={class:"text-gray-900"},wCe={class:"flex justify-between"},kCe={class:"text-gray-900"},$Ce={class:"flex justify-between"},CCe={class:"text-gray-900"},SCe={class:"flex justify-between"},MCe={class:"text-gray-900"},TCe={class:"flex justify-between"},ACe={class:"text-gray-900"},DCe={class:"bg-white rounded-lg shadow p-6"},ECe={class:"space-y-3"},PCe={class:"flex justify-between"},jCe={class:"text-gray-900 capitalize"},RCe={class:"flex justify-between"},ICe={class:"text-gray-900"},OCe={class:"flex justify-between"},LCe={class:"text-gray-900 capitalize"},FCe={class:"flex justify-between"},NCe={class:"text-gray-900"},zCe={class:"flex justify-between"},BCe={class:"text-gray-900"},UCe={class:"flex justify-between"},VCe={class:"text-gray-900"},HCe={class:"flex justify-between"},qCe={class:"text-gray-900"},WCe={class:"flex justify-between"},KCe={class:"text-gray-900"},YCe={class:"flex justify-between"},GCe={class:"text-gray-900"},XCe={class:"flex justify-between"},JCe={class:"text-gray-900"},QCe={class:"bg-white rounded-lg shadow p-6"},ZCe={class:"flex items-center space-x-3"},e8e={class:"text-gray-900"},t8e={key:0,class:"mt-2 text-sm text-gray-500"},s8e={key:0,class:"bg-white rounded-lg shadow p-6"},n8e={class:"space-y-3"},o8e={class:"flex justify-between"},i8e={class:"text-gray-900 font-medium"},r8e={class:"flex justify-between"},a8e={class:"text-gray-900"},l8e={class:"flex justify-between"},d8e={class:"text-green-600"},c8e={class:"flex justify-between"},u8e={class:"text-yellow-600"},f8e={class:"flex justify-between"},m8e={class:"text-green-600"},h8e={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},p8e={class:"min-w-full divide-y divide-gray-200"},g8e={class:"bg-white divide-y divide-gray-200"},_8e={key:0},v8e={class:"px-6 py-4 text-sm font-medium text-gray-900"},y8e={class:"px-6 py-4 text-sm text-gray-500"},b8e={class:"px-6 py-4 text-sm text-gray-500"},x8e={class:"px-6 py-4 text-sm font-medium text-gray-900"},w8e={class:"px-6 py-4 text-sm text-gray-500 capitalize"},k8e={class:"px-6 py-4"},$8e={class:"px-6 py-4 text-right"},C8e=["onClick"],S8e={key:2,class:"text-gray-500 text-center py-8"},M8e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},T8e={class:"flex items-center justify-center min-h-screen px-4"},A8e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},D8e={class:"text-lg font-semibold text-gray-900 mb-4"},E8e={class:"grid grid-cols-2 gap-4"},P8e={class:"grid grid-cols-2 gap-4"},j8e={class:"grid grid-cols-2 gap-4"},R8e={class:"flex justify-end space-x-3 pt-4"},I8e=ye({__name:"Detail",setup(s){const e=Ec(),t=eo(),o=F(null),i=F([]),r=F(null),a=F(!0),l=F("overview"),d=F(!1);F(!1);const u=F({amount:"",payment_method:"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}),m=async()=>{a.value=!0;try{const A=await tt.get(`/api/service-providers/${e.params.id}`);o.value=A.data.data,r.value=A.data.stats}catch{}finally{a.value=!1}},p=async()=>{try{const A=await tt.get(`/api/service-providers/${e.params.id}/payments`);i.value=A.data.data}catch{}},h=async()=>{var A;try{await tt.post("/api/payments",{...u.value,service_provider_id:(A=o.value)==null?void 0:A.id}),d.value=!1,b(),await m(),await p()}catch{}},_=async A=>{window.open(`/api/payments/${A.id}/receipt`,"_blank")},y=()=>{var A;window.open(`/api/service-providers/${(A=o.value)==null?void 0:A.id}/download-agreement`,"_blank")},x=async()=>{var A;try{await tt.post(`/api/service-providers/${(A=o.value)==null?void 0:A.id}/sign-agreement`),await m()}catch{}},w=F(!1),k=async()=>{var A,T;if(confirm(`Are you sure you want to impersonate ${(A=o.value)==null?void 0:A.name}? You will be logged in as this service provider.`)){w.value=!0;try{const D=await tt.post(`/api/service-providers/${(T=o.value)==null?void 0:T.id}/impersonate`);D.data.success&&(window.location.href=D.data.redirect_url)}catch{alert("Failed to impersonate service provider")}finally{w.value=!1}}},b=()=>{var A,T,D;u.value={amount:((T=(A=o.value)==null?void 0:A.monthly_amount)==null?void 0:T.toString())||"",payment_method:((D=o.value)==null?void 0:D.payment_method)||"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}},M=A=>{switch(A){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=A=>"MK "+new Intl.NumberFormat().format(A),N=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return Ye(()=>{m(),p()}),(A,T)=>{var D,L,I;return g(),v("div",q6e,[n("div",W6e,[n("div",K6e,[n("button",{class:"p-2 hover:bg-gray-100 rounded-lg",onClick:T[0]||(T[0]=O=>f(t).push("/service-providers"))},[C(f(jv),{class:"w-5 h-5 text-gray-500"})]),o.value?(g(),v("div",Y6e,[n("h1",G6e,c(o.value.name),1),n("p",X6e,c(o.value.email)+" | "+c(o.value.phone),1)])):j("",!0)]),o.value?(g(),v("div",J6e,[n("button",{disabled:w.value,class:"inline-flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50",onClick:k},[C(f(hn),{class:"w-5 h-5 mr-2"}),K(" "+c(w.value?"Switching...":"View as Provider"),1)],8,Q6e),n("button",{class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:y},[C(f(Nc),{class:"w-5 h-5 mr-2"}),T[11]||(T[11]=K(" Download Agreement ",-1))]),o.value.agreement_signed?j("",!0):(g(),v("button",{key:0,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",onClick:x},[C(f(ps),{class:"w-5 h-5 mr-2"}),T[12]||(T[12]=K(" Mark Agreement Signed ",-1))])),n("button",{class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",onClick:T[1]||(T[1]=O=>{d.value=!0,b()})},[C(f(pn),{class:"w-5 h-5 mr-2"}),T[13]||(T[13]=K(" Record Payment ",-1))])])):j("",!0)]),a.value?(g(),v("div",Z6e,"Loading...")):o.value?(g(),v("div",eCe,[n("div",tCe,[n("div",sCe,[T[14]||(T[14]=n("h2",{class:"text-lg font-semibold text-gray-900"},"Payment Progress",-1)),n("span",{class:Q(["px-3 py-1 rounded-full text-sm font-medium",M(o.value.status)])},c(o.value.status),3)]),n("div",nCe,[n("div",null,[T[15]||(T[15]=n("div",{class:"text-sm text-gray-500"},"Total Agreed",-1)),n("div",oCe,c(S(o.value.total_agreed_amount)),1)]),n("div",null,[T[16]||(T[16]=n("div",{class:"text-sm text-gray-500"},"Total Paid",-1)),n("div",iCe,c(S(o.value.total_paid)),1)]),n("div",null,[T[17]||(T[17]=n("div",{class:"text-sm text-gray-500"},"Balance Remaining",-1)),n("div",rCe,c(S(o.value.balance_remaining)),1)]),n("div",null,[T[18]||(T[18]=n("div",{class:"text-sm text-gray-500"},"Progress",-1)),n("div",aCe,[n("div",lCe,[n("div",{class:"bg-indigo-600 h-3 rounded-full transition-all",style:kt({width:`${o.value.payment_progress_percent}%`})},null,4)]),n("span",dCe,c(o.value.payment_progress_percent)+"%",1)])])])]),n("div",cCe,[n("nav",uCe,[(g(),v(re,null,ve(["overview","payments","sessions"],O=>n("button",{key:O,class:Q(["py-4 px-1 border-b-2 font-medium text-sm capitalize",l.value===O?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),onClick:P=>l.value=O},c(O),11,fCe)),64))])]),l.value==="overview"?(g(),v("div",mCe,[n("div",hCe,[T[26]||(T[26]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Personal Information",-1)),n("dl",pCe,[n("div",gCe,[T[19]||(T[19]=n("dt",{class:"text-gray-500"},"Name",-1)),n("dd",_Ce,c(o.value.name),1)]),n("div",vCe,[T[20]||(T[20]=n("dt",{class:"text-gray-500"},"Email",-1)),n("dd",yCe,c(o.value.email),1)]),n("div",bCe,[T[21]||(T[21]=n("dt",{class:"text-gray-500"},"Phone",-1)),n("dd",xCe,c(o.value.phone||"-"),1)]),n("div",wCe,[T[22]||(T[22]=n("dt",{class:"text-gray-500"},"National ID",-1)),n("dd",kCe,c(o.value.national_id||"-"),1)]),n("div",$Ce,[T[23]||(T[23]=n("dt",{class:"text-gray-500"},"Address",-1)),n("dd",CCe,c(o.value.address||"-"),1)]),n("div",SCe,[T[24]||(T[24]=n("dt",{class:"text-gray-500"},"Specialty",-1)),n("dd",MCe,c(o.value.specialty||"-"),1)]),n("div",TCe,[T[25]||(T[25]=n("dt",{class:"text-gray-500"},"Qualification",-1)),n("dd",ACe,c(o.value.qualification||"-"),1)])])]),n("div",DCe,[T[37]||(T[37]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Payment Details",-1)),n("dl",ECe,[n("div",PCe,[T[27]||(T[27]=n("dt",{class:"text-gray-500"},"Payment Preference",-1)),n("dd",jCe,c(((D=o.value.payment_preference)==null?void 0:D.replace("_"," "))||"-"),1)]),n("div",RCe,[T[28]||(T[28]=n("dt",{class:"text-gray-500"},"Monthly Amount",-1)),n("dd",ICe,c(o.value.monthly_amount?S(o.value.monthly_amount):"-"),1)]),n("div",OCe,[T[29]||(T[29]=n("dt",{class:"text-gray-500"},"Payment Method",-1)),n("dd",LCe,c(((L=o.value.payment_method)==null?void 0:L.replace("_"," "))||"-"),1)]),o.value.payment_method==="bank"?(g(),v(re,{key:0},[n("div",FCe,[T[30]||(T[30]=n("dt",{class:"text-gray-500"},"Bank Name",-1)),n("dd",NCe,c(o.value.bank_name||"-"),1)]),n("div",zCe,[T[31]||(T[31]=n("dt",{class:"text-gray-500"},"Account Name",-1)),n("dd",BCe,c(o.value.bank_account_name||"-"),1)]),n("div",UCe,[T[32]||(T[32]=n("dt",{class:"text-gray-500"},"Account Number",-1)),n("dd",VCe,c(o.value.bank_account_number||"-"),1)]),n("div",HCe,[T[33]||(T[33]=n("dt",{class:"text-gray-500"},"Branch",-1)),n("dd",qCe,c(o.value.bank_branch||"-"),1)])],64)):o.value.payment_method==="mobile_money"?(g(),v(re,{key:1},[n("div",WCe,[T[34]||(T[34]=n("dt",{class:"text-gray-500"},"Provider",-1)),n("dd",KCe,c(o.value.mobile_money_provider||"-"),1)]),n("div",YCe,[T[35]||(T[35]=n("dt",{class:"text-gray-500"},"Name",-1)),n("dd",GCe,c(o.value.mobile_money_name||"-"),1)]),n("div",XCe,[T[36]||(T[36]=n("dt",{class:"text-gray-500"},"Number",-1)),n("dd",JCe,c(o.value.mobile_money_number||"-"),1)])],64)):j("",!0)])]),n("div",QCe,[T[38]||(T[38]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Agreement Status",-1)),n("div",ZCe,[n("div",{class:Q(["w-3 h-3 rounded-full",o.value.agreement_signed?"bg-green-500":"bg-yellow-500"])},null,2),n("span",e8e,c(o.value.agreement_signed?"Agreement Signed":"Agreement Pending"),1)]),o.value.agreement_signed_at?(g(),v("div",t8e," Signed on: "+c(N(o.value.agreement_signed_at)),1)):j("",!0)]),r.value?(g(),v("div",s8e,[T[44]||(T[44]=n("h3",{class:"font-semibold text-gray-900 mb-4"},"Work Statistics",-1)),n("dl",n8e,[n("div",o8e,[T[39]||(T[39]=n("dt",{class:"text-gray-500"},"Total Sessions",-1)),n("dd",i8e,c(r.value.total_sessions),1)]),n("div",r8e,[T[40]||(T[40]=n("dt",{class:"text-gray-500"},"Recording Minutes",-1)),n("dd",a8e,c(r.value.total_recording_minutes),1)]),n("div",l8e,[T[41]||(T[41]=n("dt",{class:"text-gray-500"},"Approved Sessions",-1)),n("dd",d8e,c(r.value.approved_sessions),1)]),n("div",c8e,[T[42]||(T[42]=n("dt",{class:"text-gray-500"},"Pending Sessions",-1)),n("dd",u8e,c(r.value.pending_sessions),1)]),n("div",f8e,[T[43]||(T[43]=n("dt",{class:"text-gray-500"},"Approved Lesson Plans",-1)),n("dd",m8e,c(r.value.approved_lesson_plans),1)])])])):j("",!0)])):j("",!0),l.value==="payments"?(g(),v("div",h8e,[n("table",p8e,[T[46]||(T[46]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Receipt #"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Month For"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Method"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",g8e,[i.value.length===0?(g(),v("tr",_8e,[...T[45]||(T[45]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No payments recorded yet",-1)])])):j("",!0),(g(!0),v(re,null,ve(i.value,O=>(g(),v("tr",{key:O.id},[n("td",v8e,c(O.receipt_number),1),n("td",y8e,c(N(O.payment_date)),1),n("td",b8e,c(O.month_for||"-"),1),n("td",x8e,c(S(O.amount)),1),n("td",w8e,c(O.payment_method.replace("_"," ")),1),n("td",k8e,[n("span",{class:Q(["px-2 py-1 text-xs rounded-full",M(O.status)])},c(O.status),3)]),n("td",$8e,[n("button",{class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",onClick:P=>_(O)}," Download Receipt ",8,C8e)])]))),128))])])])):j("",!0),l.value==="sessions"?(g(),v("div",S8e," Recording sessions will be displayed here. ")):j("",!0)])):j("",!0),d.value?(g(),v("div",M8e,[n("div",T8e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:T[2]||(T[2]=O=>d.value=!1)}),n("div",A8e,[n("h2",D8e,"Record Payment for "+c((I=o.value)==null?void 0:I.name),1),n("form",{class:"space-y-4",onSubmit:Ke(h,["prevent"])},[n("div",E8e,[n("div",null,[T[47]||(T[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),z(n("input",{"onUpdate:modelValue":T[3]||(T[3]=O=>u.value.amount=O),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,u.value.amount]])]),n("div",null,[T[48]||(T[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date *",-1)),z(n("input",{"onUpdate:modelValue":T[4]||(T[4]=O=>u.value.payment_date=O),type:"date",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,u.value.payment_date]])])]),n("div",P8e,[n("div",null,[T[50]||(T[50]=n("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method *",-1)),z(n("select",{"onUpdate:modelValue":T[5]||(T[5]=O=>u.value.payment_method=O),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[49]||(T[49]=[n("option",{value:"bank"},"Bank Transfer",-1),n("option",{value:"mobile_money"},"Mobile Money",-1),n("option",{value:"cash"},"Cash",-1),n("option",{value:"cheque"},"Cheque",-1)])],512),[[Me,u.value.payment_method]])]),n("div",null,[T[52]||(T[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),z(n("select",{"onUpdate:modelValue":T[6]||(T[6]=O=>u.value.status=O),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[51]||(T[51]=[n("option",{value:"completed"},"Completed",-1),n("option",{value:"pending"},"Pending",-1)])],512),[[Me,u.value.status]])])]),n("div",j8e,[n("div",null,[T[53]||(T[53]=n("label",{class:"block text-sm font-medium text-gray-700"},"Month For",-1)),z(n("input",{"onUpdate:modelValue":T[7]||(T[7]=O=>u.value.month_for=O),type:"text",placeholder:"e.g., January 2026",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,u.value.month_for]])]),n("div",null,[T[54]||(T[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),z(n("input",{"onUpdate:modelValue":T[8]||(T[8]=O=>u.value.reference_number=O),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,u.value.reference_number]])])]),n("div",null,[T[55]||(T[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),z(n("textarea",{"onUpdate:modelValue":T[9]||(T[9]=O=>u.value.notes=O),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,u.value.notes]])]),n("div",R8e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:T[10]||(T[10]=O=>d.value=!1)},"Cancel"),T[56]||(T[56]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Record Payment",-1))])],32)])])])):j("",!0)])}}}),O8e={class:"space-y-6"},L8e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},F8e={class:"bg-white rounded-lg shadow p-4"},N8e={class:"mt-1 text-2xl font-semibold text-gray-900"},z8e={class:"bg-white rounded-lg shadow p-4"},B8e={class:"mt-1 text-2xl font-semibold text-yellow-600"},U8e={class:"bg-white rounded-lg shadow p-4"},V8e={class:"mt-1 text-2xl font-semibold text-green-600"},H8e={class:"bg-white rounded-lg shadow p-4"},q8e={class:"mt-1 text-2xl font-semibold text-red-600"},W8e={class:"bg-white rounded-lg shadow p-4"},K8e={class:"mt-1 text-2xl font-semibold text-blue-600"},Y8e={class:"bg-white rounded-lg shadow p-4"},G8e={class:"mt-1 text-2xl font-semibold text-indigo-600"},X8e={class:"bg-white rounded-lg shadow p-4"},J8e={class:"flex flex-wrap gap-4"},Q8e={class:"flex-1 min-w-64"},Z8e={class:"relative"},e7e={class:"bg-white rounded-lg shadow overflow-hidden"},t7e={class:"min-w-full divide-y divide-gray-200"},s7e={class:"bg-white divide-y divide-gray-200"},n7e={key:0},o7e={key:1},i7e={class:"px-6 py-4"},r7e={class:"font-medium text-gray-900"},a7e={class:"text-sm text-gray-500"},l7e={class:"px-6 py-4"},d7e={class:"text-gray-900"},c7e={class:"text-sm text-gray-500"},u7e={class:"px-6 py-4 text-sm text-gray-500"},f7e={class:"px-6 py-4 text-sm"},m7e={class:"text-gray-900"},h7e={class:"text-gray-500"},p7e={class:"px-6 py-4"},g7e={class:"px-6 py-4 text-sm text-gray-900"},_7e={class:"px-6 py-4 text-right"},v7e={class:"py-1"},y7e=["onClick"],b7e=["onClick"],x7e=["href"],w7e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},k7e={class:"text-sm text-gray-500"},$7e={class:"flex space-x-2"},C7e=["onClick"],S7e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},M7e={class:"flex items-center justify-center min-h-screen px-4"},T7e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},A7e={class:"flex justify-end space-x-3 pt-4"},D7e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},E7e={class:"flex items-center justify-center min-h-screen px-4"},P7e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},j7e={class:"flex justify-end space-x-3 pt-4"},R7e=ye({__name:"RecordingSessions",setup(s){const e=F([]),t=F({total_sessions:0,pending_review:0,approved:0,rejected:0,in_progress:0,total_recording_minutes:0}),o=F(!0),i=F(""),r=F(""),a=F({current_page:1,last_page:1,per_page:15,total:0}),l=F(!1),d=F(!1),u=F(null),m=F({quality_rating:5,admin_notes:""}),p=F({admin_notes:""}),h=async(N=1)=>{o.value=!0;try{const A=new URLSearchParams;A.append("page",N.toString()),i.value&&A.append("search",i.value),r.value&&A.append("status",r.value);const T=await tt.get(`/api/recording-sessions?${A}`);e.value=T.data.data,a.value={current_page:T.data.current_page,last_page:T.data.last_page,per_page:T.data.per_page,total:T.data.total}}catch{}finally{o.value=!1}},_=async()=>{try{const N=await tt.get("/api/recording-sessions/statistics");t.value=N.data}catch{}},y=N=>{u.value=N,m.value={quality_rating:5,admin_notes:""},l.value=!0},x=N=>{u.value=N,p.value={admin_notes:""},d.value=!0},w=async()=>{if(u.value)try{await tt.post(`/api/recording-sessions/${u.value.id}/approve`,m.value),l.value=!1,await h(a.value.current_page),await _()}catch{}},k=async()=>{if(u.value)try{await tt.post(`/api/recording-sessions/${u.value.id}/reject`,p.value),d.value=!1,await h(a.value.current_page),await _()}catch{}},b=N=>{switch(N){case"approved":return"bg-green-100 text-green-800";case"pending_review":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},M=N=>{const A=Math.floor(N/60),T=N%60;return A>0?`${A}h ${T}m`:`${T}m`},S=N=>N?new Date(N).toLocaleString():"-";return Ye(()=>{h(),_()}),(N,A)=>(g(),v("div",O8e,[A[31]||(A[31]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Recording Sessions"),n("p",{class:"mt-1 text-sm text-gray-500"},"Track and manage all recording sessions by teachers")],-1)),n("div",L8e,[n("div",F8e,[A[11]||(A[11]=n("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),n("div",N8e,c(t.value.total_sessions),1)]),n("div",z8e,[A[12]||(A[12]=n("div",{class:"text-sm font-medium text-gray-500"},"Pending Review",-1)),n("div",B8e,c(t.value.pending_review),1)]),n("div",U8e,[A[13]||(A[13]=n("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),n("div",V8e,c(t.value.approved),1)]),n("div",H8e,[A[14]||(A[14]=n("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),n("div",q8e,c(t.value.rejected),1)]),n("div",W8e,[A[15]||(A[15]=n("div",{class:"text-sm font-medium text-gray-500"},"In Progress",-1)),n("div",K8e,c(t.value.in_progress),1)]),n("div",Y8e,[A[16]||(A[16]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Recording",-1)),n("div",G8e,c(M(t.value.total_recording_minutes)),1)])]),n("div",X8e,[n("div",J8e,[n("div",Q8e,[n("div",Z8e,[C(f($s),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":A[0]||(A[0]=T=>i.value=T),type:"text",placeholder:"Search by teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onInput:A[1]||(A[1]=T=>h(1))},null,544),[[J,i.value]])])]),z(n("select",{"onUpdate:modelValue":A[2]||(A[2]=T=>r.value=T),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onChange:A[3]||(A[3]=T=>h(1))},[...A[17]||(A[17]=[_i('<option value="">All Statuses</option><option value="draft">Draft</option><option value="in_progress">In Progress</option><option value="completed">Completed</option><option value="pending_review">Pending Review</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',7)])],544),[[Me,r.value]])])]),n("div",e7e,[n("table",t7e,[A[22]||(A[22]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Time"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Recording"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Rating"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",s7e,[o.value?(g(),v("tr",n7e,[...A[18]||(A[18]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(g(),v("tr",o7e,[...A[19]||(A[19]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No recording sessions found",-1)])])):j("",!0),(g(!0),v(re,null,ve(e.value,T=>{var D,L,I,O;return g(),v("tr",{key:T.id},[n("td",i7e,[n("div",r7e,c((D=T.service_provider)==null?void 0:D.name),1),n("div",a7e,c((L=T.service_provider)==null?void 0:L.email),1)]),n("td",l7e,[n("div",d7e,c(((I=T.subject)==null?void 0:I.name)||"-"),1),n("div",c7e,c(((O=T.topic)==null?void 0:O.name)||"-"),1)]),n("td",u7e,[n("div",null,"In: "+c(S(T.clock_in)),1),n("div",null,"Out: "+c(S(T.clock_out)),1)]),n("td",f7e,[n("div",m7e,c(M(T.recording_minutes)),1),n("div",h7e,"Total: "+c(M(T.total_minutes)),1)]),n("td",p7e,[n("span",{class:Q(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",b(T.status)])},c(T.status.replace("_"," ")),3)]),n("td",g7e,c(T.quality_rating?`${T.quality_rating}/5`:"-"),1),n("td",_7e,[C(f(Rc),{as:"div",class:"relative inline-block text-left"},{default:q(()=>[C(f(Ic),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:q(()=>[C(f(Bc),{class:"w-5 h-5"})]),_:1}),C(f(Oc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:q(()=>[n("div",v7e,[T.status==="pending_review"||T.status==="completed"?(g(),ne(f(an),{key:0},{default:q(({active:P})=>[n("button",{class:Q([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"]),onClick:B=>y(T)},[C(f(ps),{class:"w-4 h-4 inline mr-2"}),A[20]||(A[20]=K(" Approve ",-1))],10,y7e)]),_:2},1024)):j("",!0),T.status==="pending_review"||T.status==="completed"?(g(),ne(f(an),{key:1},{default:q(({active:P})=>[n("button",{class:Q([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"]),onClick:B=>x(T)},[C(f(ws),{class:"w-4 h-4 inline mr-2"}),A[21]||(A[21]=K(" Reject ",-1))],10,b7e)]),_:2},1024)):j("",!0),T.video_file?(g(),ne(f(an),{key:2},{default:q(({active:P})=>[n("a",{href:T.video_file,target:"_blank",class:Q([P?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," View Video ",10,x7e)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(g(),v("div",w7e,[n("div",k7e," Showing "+c((a.value.current_page-1)*a.value.per_page+1)+" to "+c(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+c(a.value.total),1),n("div",$7e,[(g(!0),v(re,null,ve(a.value.last_page,T=>(g(),v("button",{key:T,class:Q(["px-3 py-1 rounded",T===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:D=>h(T)},c(T),11,C7e))),128))])])):j("",!0)]),l.value?(g(),v("div",S7e,[n("div",M7e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:A[4]||(A[4]=T=>l.value=!1)}),n("div",T7e,[A[27]||(A[27]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Approve Recording Session",-1)),n("form",{class:"space-y-4",onSubmit:Ke(w,["prevent"])},[n("div",null,[A[24]||(A[24]=n("label",{class:"block text-sm font-medium text-gray-700"},"Quality Rating (1-5)",-1)),z(n("select",{"onUpdate:modelValue":A[5]||(A[5]=T=>m.value.quality_rating=T),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...A[23]||(A[23]=[n("option",{value:1},"1 - Poor",-1),n("option",{value:2},"2 - Fair",-1),n("option",{value:3},"3 - Good",-1),n("option",{value:4},"4 - Very Good",-1),n("option",{value:5},"5 - Excellent",-1)])],512),[[Me,m.value.quality_rating]])]),n("div",null,[A[25]||(A[25]=n("label",{class:"block text-sm font-medium text-gray-700"},"Notes (optional)",-1)),z(n("textarea",{"onUpdate:modelValue":A[6]||(A[6]=T=>m.value.admin_notes=T),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,m.value.admin_notes]])]),n("div",A7e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:A[7]||(A[7]=T=>l.value=!1)},"Cancel"),A[26]||(A[26]=n("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Approve",-1))])],32)])])])):j("",!0),d.value?(g(),v("div",D7e,[n("div",E7e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:A[8]||(A[8]=T=>d.value=!1)}),n("div",P7e,[A[30]||(A[30]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Recording Session",-1)),n("form",{class:"space-y-4",onSubmit:Ke(k,["prevent"])},[n("div",null,[A[28]||(A[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Reason for Rejection *",-1)),z(n("textarea",{"onUpdate:modelValue":A[9]||(A[9]=T=>p.value.admin_notes=T),rows:"3",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,p.value.admin_notes]])]),n("div",j7e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:A[10]||(A[10]=T=>d.value=!1)},"Cancel"),A[29]||(A[29]=n("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),I7e={class:"space-y-6"},O7e={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},L7e={class:"bg-white rounded-lg shadow p-4"},F7e={class:"mt-1 text-2xl font-semibold text-gray-900"},N7e={class:"bg-white rounded-lg shadow p-4"},z7e={class:"mt-1 text-2xl font-semibold text-gray-600"},B7e={class:"bg-white rounded-lg shadow p-4"},U7e={class:"mt-1 text-2xl font-semibold text-yellow-600"},V7e={class:"bg-white rounded-lg shadow p-4"},H7e={class:"mt-1 text-2xl font-semibold text-green-600"},q7e={class:"bg-white rounded-lg shadow p-4"},W7e={class:"mt-1 text-2xl font-semibold text-red-600"},K7e={class:"bg-white rounded-lg shadow p-4"},Y7e={class:"flex flex-wrap gap-4"},G7e={class:"flex-1 min-w-64"},X7e={class:"relative"},J7e={class:"bg-white rounded-lg shadow overflow-hidden"},Q7e={class:"min-w-full divide-y divide-gray-200"},Z7e={class:"bg-white divide-y divide-gray-200"},eSe={key:0},tSe={key:1},sSe={class:"px-6 py-4"},nSe={class:"font-medium text-gray-900"},oSe={class:"px-6 py-4"},iSe={class:"text-gray-900"},rSe={class:"text-sm text-gray-500"},aSe={class:"px-6 py-4"},lSe={class:"text-gray-900"},dSe={class:"text-sm text-gray-500"},cSe={class:"px-6 py-4 text-sm text-gray-500"},uSe={class:"px-6 py-4"},fSe={class:"px-6 py-4 text-sm text-gray-500"},mSe={class:"px-6 py-4 text-right"},hSe={class:"py-1"},pSe=["onClick"],gSe=["onClick"],_Se=["onClick"],vSe={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},ySe={class:"text-sm text-gray-500"},bSe={class:"flex space-x-2"},xSe=["onClick"],wSe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},kSe={class:"flex items-center justify-center min-h-screen px-4"},$Se={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},CSe={class:"text-lg font-semibold text-gray-900 mb-4"},SSe={class:"space-y-4"},MSe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},TSe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},ASe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},DSe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},ESe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},PSe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},jSe={class:"mt-1 text-gray-600 whitespace-pre-wrap"},RSe={class:"flex justify-end pt-4"},ISe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},OSe={class:"flex items-center justify-center min-h-screen px-4"},LSe={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},FSe={class:"flex justify-end space-x-3 pt-4"},NSe=ye({__name:"LessonPlans",setup(s){const e=F([]),t=F({total:0,draft:0,submitted:0,approved:0,rejected:0}),o=F(!0),i=F(""),r=F(""),a=F({current_page:1,last_page:1,per_page:15,total:0}),l=F(!1),d=F(!1),u=F(null),m=F({feedback:""}),p=async(M=1)=>{o.value=!0;try{const S=new URLSearchParams;S.append("page",M.toString()),i.value&&S.append("search",i.value),r.value&&S.append("status",r.value);const N=await tt.get(`/api/lesson-plans?${S}`);e.value=N.data.data,a.value={current_page:N.data.current_page,last_page:N.data.last_page,per_page:N.data.per_page,total:N.data.total}}catch{}finally{o.value=!1}},h=async()=>{try{const M=await tt.get("/api/lesson-plans/statistics");t.value=M.data}catch{}},_=async M=>{try{const S=await tt.get(`/api/lesson-plans/${M.id}`);u.value=S.data.data,l.value=!0}catch{}},y=async M=>{try{await tt.post(`/api/lesson-plans/${M.id}/approve`),await p(a.value.current_page),await h()}catch{}},x=M=>{u.value=M,m.value={feedback:""},d.value=!0},w=async()=>{if(u.value)try{await tt.post(`/api/lesson-plans/${u.value.id}/reject`,m.value),d.value=!1,await p(a.value.current_page),await h()}catch{}},k=M=>{switch(M){case"approved":return"bg-green-100 text-green-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},b=M=>new Date(M).toLocaleDateString();return Ye(()=>{p(),h()}),(M,S)=>(g(),v("div",I7e,[S[31]||(S[31]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Lesson Plans"),n("p",{class:"mt-1 text-sm text-gray-500"},"Review and approve lesson plans submitted by teachers")],-1)),n("div",O7e,[n("div",L7e,[S[9]||(S[9]=n("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),n("div",F7e,c(t.value.total),1)]),n("div",N7e,[S[10]||(S[10]=n("div",{class:"text-sm font-medium text-gray-500"},"Draft",-1)),n("div",z7e,c(t.value.draft),1)]),n("div",B7e,[S[11]||(S[11]=n("div",{class:"text-sm font-medium text-gray-500"},"Submitted",-1)),n("div",U7e,c(t.value.submitted),1)]),n("div",V7e,[S[12]||(S[12]=n("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),n("div",H7e,c(t.value.approved),1)]),n("div",q7e,[S[13]||(S[13]=n("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),n("div",W7e,c(t.value.rejected),1)])]),n("div",K7e,[n("div",Y7e,[n("div",G7e,[n("div",X7e,[C(f($s),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":S[0]||(S[0]=N=>i.value=N),type:"text",placeholder:"Search by title or teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onInput:S[1]||(S[1]=N=>p(1))},null,544),[[J,i.value]])])]),z(n("select",{"onUpdate:modelValue":S[2]||(S[2]=N=>r.value=N),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onChange:S[3]||(S[3]=N=>p(1))},[...S[14]||(S[14]=[_i('<option value="">All Statuses</option><option value="draft">Draft</option><option value="submitted">Submitted</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',5)])],544),[[Me,r.value]])])]),n("div",J7e,[n("table",Q7e,[S[20]||(S[20]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Title"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Duration"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),n("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),n("tbody",Z7e,[o.value?(g(),v("tr",eSe,[...S[15]||(S[15]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(g(),v("tr",tSe,[...S[16]||(S[16]=[n("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No lesson plans found",-1)])])):j("",!0),(g(!0),v(re,null,ve(e.value,N=>{var A,T,D,L,I;return g(),v("tr",{key:N.id},[n("td",sSe,[n("div",nSe,c(N.title),1)]),n("td",oSe,[n("div",iSe,c((A=N.service_provider)==null?void 0:A.name),1),n("div",rSe,c((T=N.service_provider)==null?void 0:T.email),1)]),n("td",aSe,[n("div",lSe,c(((L=(D=N.topic)==null?void 0:D.subject)==null?void 0:L.name)||"-"),1),n("div",dSe,c(((I=N.topic)==null?void 0:I.name)||"-"),1)]),n("td",cSe,c(N.duration_minutes?`${N.duration_minutes} min`:"-"),1),n("td",uSe,[n("span",{class:Q(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k(N.status)])},c(N.status),3)]),n("td",fSe,c(b(N.created_at)),1),n("td",mSe,[C(f(Rc),{as:"div",class:"relative inline-block text-left"},{default:q(()=>[C(f(Ic),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:q(()=>[C(f(Bc),{class:"w-5 h-5"})]),_:1}),C(f(Oc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:q(()=>[n("div",hSe,[C(f(an),null,{default:q(({active:O})=>[n("button",{class:Q([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"]),onClick:P=>_(N)},[C(f(hn),{class:"w-4 h-4 inline mr-2"}),S[17]||(S[17]=K(" View Details ",-1))],10,pSe)]),_:2},1024),N.status==="submitted"?(g(),ne(f(an),{key:0},{default:q(({active:O})=>[n("button",{class:Q([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"]),onClick:P=>y(N)},[C(f(ps),{class:"w-4 h-4 inline mr-2"}),S[18]||(S[18]=K(" Approve ",-1))],10,gSe)]),_:2},1024)):j("",!0),N.status==="submitted"?(g(),ne(f(an),{key:1},{default:q(({active:O})=>[n("button",{class:Q([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"]),onClick:P=>x(N)},[C(f(ws),{class:"w-4 h-4 inline mr-2"}),S[19]||(S[19]=K(" Reject ",-1))],10,_Se)]),_:2},1024)):j("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(g(),v("div",vSe,[n("div",ySe," Showing "+c((a.value.current_page-1)*a.value.per_page+1)+" to "+c(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+c(a.value.total),1),n("div",bSe,[(g(!0),v(re,null,ve(a.value.last_page,N=>(g(),v("button",{key:N,class:Q(["px-3 py-1 rounded",N===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:A=>p(N)},c(N),11,xSe))),128))])])):j("",!0)]),l.value&&u.value?(g(),v("div",wSe,[n("div",kSe,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:S[4]||(S[4]=N=>l.value=!1)}),n("div",$Se,[n("h2",CSe,c(u.value.title),1),n("div",SSe,[n("div",null,[S[21]||(S[21]=n("h3",{class:"font-medium text-gray-700"},"Objectives",-1)),n("p",MSe,c(u.value.objectives||"No objectives specified"),1)]),n("div",null,[S[22]||(S[22]=n("h3",{class:"font-medium text-gray-700"},"Introduction",-1)),n("p",TSe,c(u.value.introduction||"No introduction"),1)]),n("div",null,[S[23]||(S[23]=n("h3",{class:"font-medium text-gray-700"},"Main Content",-1)),n("p",ASe,c(u.value.main_content||"No main content"),1)]),n("div",null,[S[24]||(S[24]=n("h3",{class:"font-medium text-gray-700"},"Activities",-1)),n("p",DSe,c(u.value.activities||"No activities"),1)]),n("div",null,[S[25]||(S[25]=n("h3",{class:"font-medium text-gray-700"},"Assessment",-1)),n("p",ESe,c(u.value.assessment||"No assessment"),1)]),n("div",null,[S[26]||(S[26]=n("h3",{class:"font-medium text-gray-700"},"Conclusion",-1)),n("p",PSe,c(u.value.conclusion||"No conclusion"),1)]),n("div",null,[S[27]||(S[27]=n("h3",{class:"font-medium text-gray-700"},"Homework",-1)),n("p",jSe,c(u.value.homework||"No homework"),1)])]),n("div",RSe,[n("button",{class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:S[5]||(S[5]=N=>l.value=!1)},"Close")])])])])):j("",!0),d.value?(g(),v("div",ISe,[n("div",OSe,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:S[6]||(S[6]=N=>d.value=!1)}),n("div",LSe,[S[30]||(S[30]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Lesson Plan",-1)),n("form",{class:"space-y-4",onSubmit:Ke(w,["prevent"])},[n("div",null,[S[28]||(S[28]=n("label",{class:"block text-sm font-medium text-gray-700"},"Feedback / Reason for Rejection *",-1)),z(n("textarea",{"onUpdate:modelValue":S[7]||(S[7]=N=>m.value.feedback=N),rows:"4",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,m.value.feedback]])]),n("div",FSe,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:S[8]||(S[8]=N=>d.value=!1)},"Cancel"),S[29]||(S[29]=n("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):j("",!0)]))}}),zSe={class:"space-y-6"},BSe={class:"flex items-center justify-between"},USe={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},VSe={class:"bg-white rounded-lg shadow p-4"},HSe={class:"mt-1 text-2xl font-semibold text-gray-900"},qSe={class:"bg-white rounded-lg shadow p-4"},WSe={class:"mt-1 text-2xl font-semibold text-green-600"},KSe={class:"bg-white rounded-lg shadow p-4"},YSe={class:"mt-1 text-2xl font-semibold text-indigo-600"},GSe={class:"bg-white rounded-lg shadow p-4"},XSe={class:"mt-1 text-2xl font-semibold text-gray-900"},JSe={class:"bg-white rounded-lg shadow p-4"},QSe={class:"mt-1 text-2xl font-semibold text-gray-900"},ZSe={class:"bg-white rounded-lg shadow p-4"},e9e={class:"mt-1 text-2xl font-semibold text-gray-900"},t9e={class:"bg-white rounded-lg shadow p-4"},s9e={class:"flex flex-wrap gap-4"},n9e={class:"flex-1 min-w-64"},o9e={class:"relative"},i9e={class:"bg-white rounded-lg shadow overflow-hidden"},r9e={key:0,class:"px-6 py-8 text-center text-gray-500"},a9e={key:1,class:"px-6 py-8 text-center text-gray-500"},l9e={key:2,class:"divide-y divide-gray-200"},d9e=["onClick"],c9e={class:"flex items-center space-x-4"},u9e={class:"flex items-center space-x-2"},f9e={class:"font-medium text-gray-900"},m9e={class:"px-2 py-0.5 text-xs rounded bg-gray-100 text-gray-600"},h9e={class:"px-2 py-0.5 text-xs rounded bg-indigo-100 text-indigo-600"},p9e={key:0,class:"px-2 py-0.5 text-xs rounded bg-red-100 text-red-600"},g9e={class:"text-sm text-gray-500"},_9e={class:"py-1"},v9e=["onClick"],y9e=["onClick"],b9e=["onClick"],x9e={key:0,class:"bg-gray-50 px-6 py-4 pl-16"},w9e={key:0,class:"text-sm text-gray-500"},k9e={key:1,class:"space-y-2"},$9e={class:"font-medium text-gray-900"},C9e={class:"text-sm text-gray-500"},S9e={key:0},M9e=["onClick"],T9e={key:3,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},A9e={class:"text-sm text-gray-500"},D9e={class:"flex space-x-2"},E9e=["onClick"],P9e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},j9e={class:"flex items-center justify-center min-h-screen px-4"},R9e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},I9e={class:"grid grid-cols-2 gap-4"},O9e={class:"flex items-center"},L9e={class:"flex justify-end space-x-3 pt-4"},F9e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},N9e={class:"flex items-center justify-center min-h-screen px-4"},z9e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},B9e={class:"grid grid-cols-2 gap-4"},U9e={class:"flex items-center"},V9e={class:"flex justify-end space-x-3 pt-4"},H9e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},q9e={class:"flex items-center justify-center min-h-screen px-4"},W9e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},K9e={class:"text-lg font-semibold text-gray-900 mb-4"},Y9e={class:"grid grid-cols-3 gap-4"},G9e={class:"flex justify-end space-x-3 pt-4"},X9e=ye({__name:"Subjects",setup(s){const e=F([]),t=F({total_subjects:0,active_subjects:0,total_topics:0,subjects_by_form:{form_1:0,form_2:0,form_3:0,form_4:0}}),o=F(!0),i=F(""),r=F(""),a=F([]),l=F({current_page:1,last_page:1,per_page:15,total:0}),d=F(!1),u=F(!1),m=F(!1),p=F(null);F(null);const h=F({name:"",code:"",form:"1",description:"",is_active:!0}),_=F({name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}),y=async(P=1)=>{o.value=!0;try{const B=new URLSearchParams;B.append("page",P.toString()),i.value&&B.append("search",i.value),r.value&&B.append("form",r.value);const be=await tt.get(`/api/subjects?${B}`);e.value=be.data.data,l.value={current_page:be.data.current_page,last_page:be.data.last_page,per_page:be.data.per_page,total:be.data.total}}catch{}finally{o.value=!1}},x=async()=>{try{const P=await tt.get("/api/subjects/statistics");t.value=P.data}catch{}},w=async P=>{try{const B=await tt.get(`/api/subjects/${P.id}/topics`);P.topics=B.data}catch{}},k=async P=>{const B=a.value.indexOf(P.id);B===-1?(a.value.push(P.id),P.topics||await w(P)):a.value.splice(B,1)},b=P=>a.value.includes(P),M=async()=>{try{await tt.post("/api/subjects",h.value),d.value=!1,I(),await y(),await x()}catch{}},S=async()=>{if(p.value)try{await tt.put(`/api/subjects/${p.value.id}`,h.value),u.value=!1,I(),await y()}catch{}},N=async P=>{if(confirm("Are you sure you want to delete this subject?"))try{await tt.delete(`/api/subjects/${P.id}`),await y(),await x()}catch{}},A=P=>{p.value=P,h.value={name:P.name,code:P.code,form:P.form,description:P.description||"",is_active:P.is_active},u.value=!0},T=P=>{p.value=P,O(),m.value=!0},D=async()=>{if(p.value)try{await tt.post(`/api/subjects/${p.value.id}/topics`,_.value),m.value=!1,await w(p.value),await x()}catch{}},L=async(P,B)=>{if(confirm("Are you sure you want to delete this topic?"))try{await tt.delete(`/api/subjects/${P.id}/topics/${B.id}`),await w(P),await x()}catch{}},I=()=>{h.value={name:"",code:"",form:"1",description:"",is_active:!0},p.value=null},O=()=>{_.value={name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}};return Ye(()=>{y(),x()}),(P,B)=>{var be,le,de,ce,me;return g(),v("div",zSe,[n("div",BSe,[B[28]||(B[28]=n("div",null,[n("h1",{class:"text-2xl font-semibold text-gray-900"},"Subjects & Topics"),n("p",{class:"mt-1 text-sm text-gray-500"},"Manage the syllabus subjects and topics")],-1)),n("button",{class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",onClick:B[0]||(B[0]=Z=>d.value=!0)},[C(f(pn),{class:"w-5 h-5 mr-2"}),B[27]||(B[27]=K(" Add Subject ",-1))])]),n("div",USe,[n("div",VSe,[B[29]||(B[29]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Subjects",-1)),n("div",HSe,c(t.value.total_subjects),1)]),n("div",qSe,[B[30]||(B[30]=n("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),n("div",WSe,c(t.value.active_subjects),1)]),n("div",KSe,[B[31]||(B[31]=n("div",{class:"text-sm font-medium text-gray-500"},"Total Topics",-1)),n("div",YSe,c(t.value.total_topics),1)]),n("div",GSe,[B[32]||(B[32]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 1",-1)),n("div",XSe,c(((be=t.value.subjects_by_form)==null?void 0:be.form_1)||0),1)]),n("div",JSe,[B[33]||(B[33]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 2",-1)),n("div",QSe,c(((le=t.value.subjects_by_form)==null?void 0:le.form_2)||0),1)]),n("div",ZSe,[B[34]||(B[34]=n("div",{class:"text-sm font-medium text-gray-500"},"Form 3 & 4",-1)),n("div",e9e,c((((de=t.value.subjects_by_form)==null?void 0:de.form_3)||0)+(((ce=t.value.subjects_by_form)==null?void 0:ce.form_4)||0)),1)])]),n("div",t9e,[n("div",s9e,[n("div",n9e,[n("div",o9e,[C(f($s),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z(n("input",{"onUpdate:modelValue":B[1]||(B[1]=Z=>i.value=Z),type:"text",placeholder:"Search by name or code...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onInput:B[2]||(B[2]=Z=>y(1))},null,544),[[J,i.value]])])]),z(n("select",{"onUpdate:modelValue":B[3]||(B[3]=Z=>r.value=Z),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",onChange:B[4]||(B[4]=Z=>y(1))},[...B[35]||(B[35]=[_i('<option value="">All Forms</option><option value="1">Form 1</option><option value="2">Form 2</option><option value="3">Form 3</option><option value="4">Form 4</option>',5)])],544),[[Me,r.value]])])]),n("div",i9e,[o.value?(g(),v("div",r9e,"Loading...")):e.value.length===0?(g(),v("div",a9e,"No subjects found")):(g(),v("div",l9e,[(g(!0),v(re,null,ve(e.value,Z=>(g(),v("div",{key:Z.id},[n("div",{class:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:ie=>k(Z)},[n("div",c9e,[(g(),ne(mo(b(Z.id)?f(Lv):f(Fv)),{class:"w-5 h-5 text-gray-400"})),n("div",null,[n("div",u9e,[n("span",f9e,c(Z.name),1),n("span",m9e,c(Z.code),1),n("span",h9e,"Form "+c(Z.form),1),Z.is_active?j("",!0):(g(),v("span",p9e,"Inactive"))]),n("div",g9e,c(Z.topics_count)+" topics",1)])]),C(f(Rc),{as:"div",class:"relative",onClick:B[5]||(B[5]=Ke(()=>{},["stop"]))},{default:q(()=>[C(f(Ic),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:q(()=>[C(f(Bc),{class:"w-5 h-5"})]),_:1}),C(f(Oc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:q(()=>[n("div",_9e,[C(f(an),null,{default:q(({active:ie})=>[n("button",{class:Q([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"]),onClick:Te=>T(Z)}," Add Topic ",10,v9e)]),_:2},1024),C(f(an),null,{default:q(({active:ie})=>[n("button",{class:Q([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"]),onClick:Te=>A(Z)}," Edit Subject ",10,y9e)]),_:2},1024),C(f(an),null,{default:q(({active:ie})=>[n("button",{class:Q([ie?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"]),onClick:Te=>N(Z)}," Delete ",10,b9e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)],8,d9e),b(Z.id)&&Z.topics?(g(),v("div",x9e,[Z.topics.length===0?(g(),v("div",w9e,"No topics added yet")):(g(),v("div",k9e,[(g(!0),v(re,null,ve(Z.topics,ie=>(g(),v("div",{key:ie.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[n("div",null,[n("div",$9e,c(ie.name),1),n("div",C9e,[K(" Term "+c(ie.term)+", Week "+c(ie.week)+" ",1),ie.estimated_hours?(g(),v("span",S9e," | "+c(ie.estimated_hours)+"h",1)):j("",!0)])]),n("button",{class:"text-red-600 hover:text-red-800 text-sm",onClick:Te=>L(Z,ie)},"Delete",8,M9e)]))),128))]))])):j("",!0)]))),128))])),l.value.last_page>1?(g(),v("div",T9e,[n("div",A9e," Showing "+c((l.value.current_page-1)*l.value.per_page+1)+" to "+c(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+c(l.value.total),1),n("div",D9e,[(g(!0),v(re,null,ve(l.value.last_page,Z=>(g(),v("button",{key:Z,class:Q(["px-3 py-1 rounded",Z===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:ie=>y(Z)},c(Z),11,E9e))),128))])])):j("",!0)]),d.value?(g(),v("div",P9e,[n("div",j9e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:B[6]||(B[6]=Z=>d.value=!1)}),n("div",R9e,[B[43]||(B[43]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Add Subject",-1)),n("form",{class:"space-y-4",onSubmit:Ke(M,["prevent"])},[n("div",null,[B[36]||(B[36]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":B[7]||(B[7]=Z=>h.value.name=Z),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,h.value.name]])]),n("div",I9e,[n("div",null,[B[37]||(B[37]=n("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(n("input",{"onUpdate:modelValue":B[8]||(B[8]=Z=>h.value.code=Z),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., MATH_F1"},null,512),[[J,h.value.code]])]),n("div",null,[B[39]||(B[39]=n("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(n("select",{"onUpdate:modelValue":B[9]||(B[9]=Z=>h.value.form=Z),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...B[38]||(B[38]=[n("option",{value:"1"},"Form 1",-1),n("option",{value:"2"},"Form 2",-1),n("option",{value:"3"},"Form 3",-1),n("option",{value:"4"},"Form 4",-1)])],512),[[Me,h.value.form]])])]),n("div",null,[B[40]||(B[40]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":B[10]||(B[10]=Z=>h.value.description=Z),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,h.value.description]])]),n("div",O9e,[z(n("input",{"onUpdate:modelValue":B[11]||(B[11]=Z=>h.value.is_active=Z),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[os,h.value.is_active]]),B[41]||(B[41]=n("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),n("div",L9e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:B[12]||(B[12]=Z=>{d.value=!1,I()})},"Cancel"),B[42]||(B[42]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Create",-1))])],32)])])])):j("",!0),u.value?(g(),v("div",F9e,[n("div",N9e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:B[13]||(B[13]=Z=>u.value=!1)}),n("div",z9e,[B[51]||(B[51]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Edit Subject",-1)),n("form",{class:"space-y-4",onSubmit:Ke(S,["prevent"])},[n("div",null,[B[44]||(B[44]=n("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),z(n("input",{"onUpdate:modelValue":B[14]||(B[14]=Z=>h.value.name=Z),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,h.value.name]])]),n("div",B9e,[n("div",null,[B[45]||(B[45]=n("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),z(n("input",{"onUpdate:modelValue":B[15]||(B[15]=Z=>h.value.code=Z),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,h.value.code]])]),n("div",null,[B[47]||(B[47]=n("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),z(n("select",{"onUpdate:modelValue":B[16]||(B[16]=Z=>h.value.form=Z),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...B[46]||(B[46]=[n("option",{value:"1"},"Form 1",-1),n("option",{value:"2"},"Form 2",-1),n("option",{value:"3"},"Form 3",-1),n("option",{value:"4"},"Form 4",-1)])],512),[[Me,h.value.form]])])]),n("div",null,[B[48]||(B[48]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":B[17]||(B[17]=Z=>h.value.description=Z),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,h.value.description]])]),n("div",U9e,[z(n("input",{"onUpdate:modelValue":B[18]||(B[18]=Z=>h.value.is_active=Z),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[os,h.value.is_active]]),B[49]||(B[49]=n("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),n("div",V9e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:B[19]||(B[19]=Z=>{u.value=!1,I()})},"Cancel"),B[50]||(B[50]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Update",-1))])],32)])])])):j("",!0),m.value?(g(),v("div",H9e,[n("div",q9e,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:B[20]||(B[20]=Z=>m.value=!1)}),n("div",W9e,[n("h2",K9e,"Add Topic to "+c((me=p.value)==null?void 0:me.name),1),n("form",{class:"space-y-4",onSubmit:Ke(D,["prevent"])},[n("div",null,[B[52]||(B[52]=n("label",{class:"block text-sm font-medium text-gray-700"},"Topic Name *",-1)),z(n("input",{"onUpdate:modelValue":B[21]||(B[21]=Z=>_.value.name=Z),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,_.value.name]])]),n("div",Y9e,[n("div",null,[B[54]||(B[54]=n("label",{class:"block text-sm font-medium text-gray-700"},"Term *",-1)),z(n("select",{"onUpdate:modelValue":B[22]||(B[22]=Z=>_.value.term=Z),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...B[53]||(B[53]=[n("option",{value:1},"Term 1",-1),n("option",{value:2},"Term 2",-1),n("option",{value:3},"Term 3",-1)])],512),[[Me,_.value.term]])]),n("div",null,[B[55]||(B[55]=n("label",{class:"block text-sm font-medium text-gray-700"},"Week *",-1)),z(n("input",{"onUpdate:modelValue":B[23]||(B[23]=Z=>_.value.week=Z),type:"number",min:"1",max:"15",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,_.value.week]])]),n("div",null,[B[56]||(B[56]=n("label",{class:"block text-sm font-medium text-gray-700"},"Est. Hours",-1)),z(n("input",{"onUpdate:modelValue":B[24]||(B[24]=Z=>_.value.estimated_hours=Z),type:"number",min:"1",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,_.value.estimated_hours]])])]),n("div",null,[B[57]||(B[57]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),z(n("textarea",{"onUpdate:modelValue":B[25]||(B[25]=Z=>_.value.description=Z),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[J,_.value.description]])]),n("div",G9e,[n("button",{type:"button",class:"px-4 py-2 text-gray-700 hover:text-gray-900",onClick:B[26]||(B[26]=Z=>m.value=!1)},"Cancel"),B[58]||(B[58]=n("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Add Topic",-1))])],32)])])])):j("",!0)])}}}),J9e={class:"border-b border-gray-200 px-6 py-4"},Q9e={class:"text-lg font-semibold text-gray-900"},Z9e={class:"px-6 py-4"},eMe={class:"space-y-6"},tMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nMe={class:"mt-1 sm:col-span-2 sm:mt-0"},oMe=["disabled"],iMe={value:""},rMe=["value"],aMe={key:0,class:"mt-2 text-sm text-red-600"},lMe={class:"border-t border-gray-200 pt-6"},dMe={class:"text-lg font-medium leading-6 text-gray-900"},cMe={class:"mt-1 text-sm text-gray-500"},uMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},fMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},mMe={class:"mt-1 sm:col-span-2 sm:mt-0"},hMe={key:0,class:"mt-2 text-sm text-red-600"},pMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},gMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},_Me={class:"mt-1 sm:col-span-2 sm:mt-0"},vMe={key:0,class:"mt-2 text-sm text-red-600"},yMe={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},bMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xMe={class:"mt-1 sm:col-span-2 sm:mt-0"},wMe={class:"text-sm text-gray-900 pt-2"},kMe={class:"border-t border-gray-200 pt-6"},$Me={class:"text-lg font-medium leading-6 text-gray-900"},CMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},SMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},MMe={class:"mt-1 sm:col-span-2 sm:mt-0"},TMe={class:"flex gap-4"},AMe={class:"inline-flex items-center"},DMe={class:"ml-2 text-sm text-gray-700"},EMe={class:"inline-flex items-center"},PMe={class:"ml-2 text-sm text-gray-700"},jMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},RMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},IMe={class:"mt-1 sm:col-span-2 sm:mt-0"},OMe={key:0,class:"mt-2 text-sm text-red-600"},LMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},FMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},NMe={class:"mt-1 sm:col-span-2 sm:mt-0"},zMe={class:"mt-1 text-sm text-gray-500"},BMe={key:0,class:"mt-2 text-sm text-red-600"},UMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},VMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},HMe={class:"mt-1 sm:col-span-2 sm:mt-0"},qMe={class:"inline-flex items-center"},WMe={class:"ml-2 text-sm text-gray-700"},KMe={class:"border-t border-gray-200 pt-6"},YMe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},GMe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},XMe={class:"mt-1 sm:col-span-2 sm:mt-0"},JMe=["placeholder"],QMe={class:"mt-1 text-sm text-gray-500"},ZMe={key:0,class:"mt-2 text-sm text-red-600"},eTe={class:"rounded-md bg-blue-50 p-4"},tTe={class:"flex"},sTe={class:"ml-3"},nTe={class:"text-sm text-blue-700"},oTe={class:"flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},iTe=["disabled"],rTe=["disabled"],aTe={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},lTe={__name:"Form",props:{modelValue:{type:Object,default:null},users:{type:Array,default:()=>[]}},emits:["close","saved"],setup(s,{emit:e}){const t=Je("__"),o=s,i=e,r=F("permanent"),a=Kr("working-hours",{user_id:"",start_time:"07:30",end_time:"16:30",effective_from:"",effective_until:"",is_active:!0,reason:""}),l=De(()=>{if(!a.start_time||!a.end_time)return 0;const[u,m]=a.start_time.split(":").map(Number),[p,h]=a.end_time.split(":").map(Number),_=u*60+m;return((p*60+h-_)/60).toFixed(1)}),d=async()=>{r.value==="permanent"&&(a.effective_from=null,a.effective_until=null);try{await a.submit(),i("saved"),i("close")}catch{}};return $t(()=>o.modelValue,u=>{var m,p;u?(a.setData({...u,start_time:((m=u.start_time)==null?void 0:m.substring(0,5))||"07:30",end_time:((p=u.end_time)==null?void 0:p.substring(0,5))||"16:30",effective_from:u.effective_from?u.effective_from.split("T")[0]:"",effective_until:u.effective_until?u.effective_until.split("T")[0]:""}),r.value=!u.effective_from&&!u.effective_until?"permanent":"temporary"):(a.reset(),r.value="permanent")},{immediate:!0}),(u,m)=>{var p,h,_;return g(),v("div",null,[n("div",J9e,[n("h2",Q9e,c(f(a).id?f(t)("Edit Working Hours"):f(t)("Assign Working Hours")),1)]),n("div",Z9e,[n("div",eMe,[n("div",tMe,[n("label",sMe,[K(c(f(t)("Employee"))+" ",1),m[10]||(m[10]=n("span",{class:"text-red-500"},"*",-1))]),n("div",nMe,[z(n("select",{"onUpdate:modelValue":m[0]||(m[0]=y=>f(a).user_id=y),class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.user_id}]),disabled:!!f(a).id,required:""},[n("option",iMe,c(f(t)("Select an employee")),1),(g(!0),v(re,null,ve(s.users,y=>(g(),v("option",{key:y.id,value:y.id},c(y.name)+" ("+c(y.email)+") ",9,rMe))),128))],10,oMe),[[Me,f(a).user_id]]),f(a).errors.user_id?(g(),v("p",aMe,c(f(a).errors.user_id),1)):j("",!0)])]),n("div",lMe,[n("h3",dMe,c(f(t)("Working Hours")),1),n("p",cMe,c(f(t)("Default hours are 7:30 AM - 4:30 PM")),1)]),n("div",uMe,[n("label",fMe,[K(c(f(t)("Start Time"))+" ",1),m[11]||(m[11]=n("span",{class:"text-red-500"},"*",-1))]),n("div",mMe,[z(n("input",{"onUpdate:modelValue":m[1]||(m[1]=y=>f(a).start_time=y),type:"time",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.start_time}]),required:""},null,2),[[J,f(a).start_time]]),f(a).errors.start_time?(g(),v("p",hMe,c(f(a).errors.start_time),1)):j("",!0)])]),n("div",pMe,[n("label",gMe,[K(c(f(t)("End Time"))+" ",1),m[12]||(m[12]=n("span",{class:"text-red-500"},"*",-1))]),n("div",_Me,[z(n("input",{"onUpdate:modelValue":m[2]||(m[2]=y=>f(a).end_time=y),type:"time",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.end_time}]),required:""},null,2),[[J,f(a).end_time]]),f(a).errors.end_time?(g(),v("p",vMe,c(f(a).errors.end_time),1)):j("",!0)])]),f(a).start_time&&f(a).end_time?(g(),v("div",yMe,[n("label",bMe,c(f(t)("Duration")),1),n("div",xMe,[n("p",wMe,c(l.value)+" "+c(f(t)("hours")),1)])])):j("",!0),n("div",kMe,[n("h3",$Me,c(f(t)("Effective Period")),1)]),n("div",CMe,[n("label",SMe,c(f(t)("Schedule Type")),1),n("div",MMe,[n("div",TMe,[n("label",AMe,[z(n("input",{"onUpdate:modelValue":m[3]||(m[3]=y=>r.value=y),type:"radio",value:"permanent",class:"form-radio text-indigo-600"},null,512),[[On,r.value]]),n("span",DMe,c(f(t)("Permanent")),1)]),n("label",EMe,[z(n("input",{"onUpdate:modelValue":m[4]||(m[4]=y=>r.value=y),type:"radio",value:"temporary",class:"form-radio text-indigo-600"},null,512),[[On,r.value]]),n("span",PMe,c(f(t)("Temporary (Date Range)")),1)])])])]),r.value==="temporary"?(g(),v(re,{key:1},[n("div",jMe,[n("label",RMe,c(f(t)("Start Date")),1),n("div",IMe,[z(n("input",{"onUpdate:modelValue":m[5]||(m[5]=y=>f(a).effective_from=y),type:"date",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.effective_from}])},null,2),[[J,f(a).effective_from]]),f(a).errors.effective_from?(g(),v("p",OMe,c(f(a).errors.effective_from),1)):j("",!0)])]),n("div",LMe,[n("label",FMe,c(f(t)("End Date")),1),n("div",NMe,[z(n("input",{"onUpdate:modelValue":m[6]||(m[6]=y=>f(a).effective_until=y),type:"date",class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.effective_until}])},null,2),[[J,f(a).effective_until]]),n("p",zMe,c(f(t)("Leave empty for ongoing schedule")),1),f(a).errors.effective_until?(g(),v("p",BMe,c(f(a).errors.effective_until),1)):j("",!0)])])],64)):j("",!0),n("div",UMe,[n("label",VMe,c(f(t)("Status")),1),n("div",HMe,[n("label",qMe,[z(n("input",{"onUpdate:modelValue":m[7]||(m[7]=y=>f(a).is_active=y),type:"checkbox",class:"form-checkbox h-4 w-4 text-indigo-600 rounded"},null,512),[[os,f(a).is_active]]),n("span",WMe,c(f(t)("Active")),1)])])]),n("div",KMe,[n("div",YMe,[n("label",GMe,c(f(t)("Reason")),1),n("div",XMe,[z(n("textarea",{"onUpdate:modelValue":m[8]||(m[8]=y=>f(a).reason=y),rows:"3",placeholder:f(t)("Why is this employee being assigned custom working hours?"),class:Q(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":f(a).errors.reason}])},null,10,JMe),[[J,f(a).reason]]),n("p",QMe,c(f(t)("This will be included in the notification email to the employee.")),1),f(a).errors.reason?(g(),v("p",ZMe,c(f(a).errors.reason),1)):j("",!0)])])]),n("div",eTe,[n("div",tTe,[m[13]||(m[13]=n("div",{class:"flex-shrink-0"},[n("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),n("div",sTe,[n("p",nTe,c(f(t)("The employee will be notified via email and in-app notification about this schedule change.")),1)])])])])]),n("div",oTe,[n("button",{type:"button",class:"mr-3 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:(p=f(a).processing)==null?void 0:p.value,onClick:m[9]||(m[9]=y=>i("close"))},c(f(t)("Cancel")),9,iTe),n("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",disabled:(h=f(a).processing)==null?void 0:h.value,onClick:d},[(_=f(a).processing)!=null&&_.value?(g(),v("svg",aTe,[...m[14]||(m[14]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):j("",!0),K(" "+c(f(a).id?f(t)("Update"):f(t)("Assign")),1)],8,rTe)])])}}},dTe={key:0,class:"mt-8 flex justify-center"},cTe={key:1},uTe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},fTe={class:"overflow-hidden rounded-lg bg-white shadow"},mTe={class:"p-5"},hTe={class:"flex items-center"},pTe={class:"flex-shrink-0"},gTe={class:"ml-5 w-0 flex-1"},_Te={class:"truncate text-sm font-medium text-gray-500"},vTe={class:"text-lg font-semibold text-gray-900"},yTe={class:"overflow-hidden rounded-lg bg-white shadow"},bTe={class:"p-5"},xTe={class:"flex items-center"},wTe={class:"flex-shrink-0"},kTe={class:"ml-5 w-0 flex-1"},$Te={class:"truncate text-sm font-medium text-gray-500"},CTe={class:"text-lg font-semibold text-gray-900"},STe={class:"overflow-hidden rounded-lg bg-white shadow"},MTe={class:"p-5"},TTe={class:"flex items-center"},ATe={class:"flex-shrink-0"},DTe={class:"ml-5 w-0 flex-1"},ETe={class:"truncate text-sm font-medium text-gray-500"},PTe={class:"text-lg font-semibold text-gray-900"},jTe={class:"overflow-hidden rounded-lg bg-white shadow"},RTe={class:"p-5"},ITe={class:"flex items-center"},OTe={class:"flex-shrink-0"},LTe={class:"ml-5 w-0 flex-1"},FTe={class:"truncate text-sm font-medium text-gray-500"},NTe={class:"text-lg font-semibold text-gray-900"},zTe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},BTe={class:"flex flex-1 gap-2"},UTe={class:"relative w-64 rounded-md shadow-sm"},VTe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},HTe=["placeholder"],qTe={value:""},WTe={value:"current"},KTe={value:"active"},YTe={value:"expired"},GTe={value:""},XTe=["value"],JTe={class:"ltr:ml-auto rtl:mr-auto"},QTe={class:"flex flex-col"},ZTe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},eAe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},tAe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},sAe={class:"min-w-full divide-y divide-gray-200"},nAe={class:"divide-y divide-gray-200 bg-white"},oAe={class:"whitespace-nowrap px-6 py-4"},iAe={class:"flex items-center"},rAe={class:"h-10 w-10 flex-shrink-0"},aAe={class:"ml-4"},lAe={class:"text-sm font-medium text-gray-900"},dAe={class:"text-sm text-gray-500"},cAe={class:"whitespace-nowrap px-6 py-4"},uAe={class:"text-sm font-medium text-gray-900"},fAe={class:"text-sm text-gray-500"},mAe={class:"whitespace-nowrap px-6 py-4 text-sm"},hAe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},pAe={class:"whitespace-nowrap px-6 py-4 text-sm"},gAe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},_Ae={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},vAe={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F([]),i=Dn("working-hours",{search:"",status:"",user_id:"",per_page:15}),r=Qe({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{i.get()},300)},d=(k=null)=>{r.model=k,r.show=!0},u=()=>{r.show=!1,i.get(),m()},m=async()=>{try{const k=await ae.get("working-hours/statistics");t.value=k.data}catch{}},p=async()=>{try{const k=await ae.get("working-hours/users");o.value=k.data}catch{}},h=k=>{if(!k)return"-";const[b,M]=k.split(":"),S=parseInt(b),N=S>=12?"PM":"AM";return`${S%12||12}:${M} ${N}`},_=k=>k?new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null,y=(k,b)=>{if(!k||!b)return 0;const[M,S]=k.split(":").map(Number),[N,A]=b.split(":").map(Number),T=M*60+S;return((N*60+A-T)/60).toFixed(1)},x=k=>{if(!k.is_active)return"bg-gray-100 text-gray-800";const b=new Date;b.setHours(0,0,0,0);const M=k.effective_from?new Date(k.effective_from):null,S=k.effective_until?new Date(k.effective_until):null;return S&&S<b?"bg-red-100 text-red-800":M&&M>b?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"},w=k=>{if(!k.is_active)return"Inactive";const b=new Date;b.setHours(0,0,0,0);const M=k.effective_from?new Date(k.effective_from):null,S=k.effective_until?new Date(k.effective_until):null;return S&&S<b?"Expired":M&&M>b?"Scheduled":"Active"};return Ye(async()=>{try{await Promise.all([i.get(),m(),p()])}catch{}finally{e.value=!1}}),(k,b)=>{var M;return e.value?(g(),v("div",dTe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",cTe,[t.value?(g(),v("div",uTe,[n("div",fTe,[n("div",mTe,[n("div",hTe,[n("div",pTe,[C(f(Ws),{class:"h-6 w-6 text-gray-400"})]),n("div",gTe,[n("dl",null,[n("dt",_Te,c(k.__("Total Custom Schedules")),1),n("dd",vTe,c(t.value.total_custom),1)])])])])]),n("div",yTe,[n("div",bTe,[n("div",xTe,[n("div",wTe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",kTe,[n("dl",null,[n("dt",$Te,c(k.__("Currently Active")),1),n("dd",CTe,c(t.value.active),1)])])])])]),n("div",STe,[n("div",MTe,[n("div",TTe,[n("div",ATe,[C(f(un),{class:"h-6 w-6 text-blue-400"})]),n("div",DTe,[n("dl",null,[n("dt",ETe,c(k.__("Permanent Schedules")),1),n("dd",PTe,c(t.value.permanent),1)])])])])]),n("div",jTe,[n("div",RTe,[n("div",ITe,[n("div",OTe,[C(f(Zm),{class:"h-6 w-6 text-yellow-400"})]),n("div",LTe,[n("dl",null,[n("dt",FTe,c(k.__("Expiring Soon")),1),n("dd",NTe,c(t.value.expiring_soon),1)])])])])])])):j("",!0),n("div",zTe,[n("div",BTe,[n("div",UTe,[n("div",VTe,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":b[0]||(b[0]=S=>f(i).params.search=S),type:"search",placeholder:k.__("Search by name or email..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,HTe),[[J,f(i).params.search]])]),z(n("select",{"onUpdate:modelValue":b[1]||(b[1]=S=>f(i).params.status=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b[2]||(b[2]=S=>f(i).get())},[n("option",qTe,c(k.__("All Statuses")),1),n("option",WTe,c(k.__("Currently Active")),1),n("option",KTe,c(k.__("Active (Including Future)")),1),n("option",YTe,c(k.__("Expired")),1)],544),[[Me,f(i).params.status]]),z(n("select",{"onUpdate:modelValue":b[3]||(b[3]=S=>f(i).params.user_id=S),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:b[4]||(b[4]=S=>f(i).get())},[n("option",GTe,c(k.__("All Users")),1),(g(!0),v(re,null,ve(o.value,S=>(g(),v("option",{key:S.id,value:S.id},c(S.name),9,XTe))),128))],544),[[Me,f(i).params.user_id]])]),n("div",JTe,[C(Se,{size:"sm",onClick:b[5]||(b[5]=S=>d())},{default:q(()=>[K(c(k.__("Assign Working Hours")),1)]),_:1})])]),n("section",null,[n("div",QTe,[n("div",ZTe,[n("div",eAe,[n("div",tAe,[n("table",sAe,[n("thead",null,[n("tr",null,[C(je,{name:"working-hours",index:f(i),label:k.__("Employee")},null,8,["index","label"]),C(je,{name:"working-hours",index:f(i),label:k.__("Schedule")},null,8,["index","label"]),C(je,{name:"working-hours",index:f(i),label:k.__("Type")},null,8,["index","label"]),C(je,{name:"working-hours",index:f(i),label:k.__("Effective Period")},null,8,["index","label"]),C(je,{name:"working-hours",index:f(i),label:k.__("Status")},null,8,["index","label"]),C(je,{name:"working-hours",index:f(i),label:k.__("Assigned By")},null,8,["index","label"]),b[7]||(b[7]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",nAe,[(g(!0),v(re,null,ve(f(i).data.data,S=>{var N,A,T;return g(),v("tr",{key:S.id,class:"hover:bg-gray-50"},[n("td",oAe,[n("div",iAe,[n("div",rAe,[C(Xt,{user:S.user,size:"10"},null,8,["user"])]),n("div",aAe,[n("div",lAe,c((N=S.user)==null?void 0:N.name),1),n("div",dAe,c((A=S.user)==null?void 0:A.email),1)])])]),n("td",cAe,[n("div",uAe,c(h(S.start_time))+" - "+c(h(S.end_time)),1),n("div",fAe,c(y(S.start_time,S.end_time))+" hours ",1)]),n("td",mAe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-blue-100 text-blue-800":!S.effective_from&&!S.effective_until,"bg-purple-100 text-purple-800":S.effective_from||S.effective_until}])},c(!S.effective_from&&!S.effective_until?"Permanent":"Temporary"),3)]),n("td",hAe,[!S.effective_from&&!S.effective_until?(g(),v(re,{key:0},[K(c(k.__("Permanent")),1)],64)):(g(),v(re,{key:1},[K(c(_(S.effective_from))+" - "+c(_(S.effective_until)||"Ongoing"),1)],64))]),n("td",pAe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",x(S)])},c(w(S)),3)]),n("td",gAe,c(((T=S.assigned_by)==null?void 0:T.name)||"-"),1),n("td",_Ae,[C(f(en),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:D=>d(S)},null,8,["onClick"]),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:D=>f(i).deleteIt(S.id)},null,8,["onClick"])])])}),128))])]),(M=f(i).data.data)!=null&&M.length?j("",!0):(g(),ne(bl,{key:0})),C(ms,{index:f(i)},null,8,["index"])])])])])]),r.show?(g(),ne(ls,{key:1,size:"lg"},{default:q(()=>[C(lTe,{"model-value":r.model,users:o.value,onClose:b[6]||(b[6]=S=>r.show=!1),onSaved:u},null,8,["model-value","users"])]),_:1})):j("",!0)]))}}},yAe={key:0,class:"mt-8 flex justify-center"},bAe={key:1},xAe={class:"mb-6 flex items-start justify-between"},wAe={class:"text-2xl font-bold text-gray-900"},kAe={class:"mt-1 text-sm text-gray-500"},$Ae={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},CAe={class:"overflow-hidden rounded-lg bg-white shadow"},SAe={class:"p-5"},MAe={class:"flex items-center"},TAe={class:"flex-shrink-0"},AAe={class:"ml-5 w-0 flex-1"},DAe={class:"truncate text-sm font-medium text-gray-500"},EAe={class:"text-lg font-semibold text-gray-900"},PAe={class:"overflow-hidden rounded-lg bg-white shadow"},jAe={class:"p-5"},RAe={class:"flex items-center"},IAe={class:"flex-shrink-0"},OAe={class:"ml-5 w-0 flex-1"},LAe={class:"truncate text-sm font-medium text-gray-500"},FAe={class:"text-lg font-semibold text-gray-900"},NAe={class:"overflow-hidden rounded-lg bg-white shadow"},zAe={class:"p-5"},BAe={class:"flex items-center"},UAe={class:"flex-shrink-0"},VAe={class:"ml-5 w-0 flex-1"},HAe={class:"truncate text-sm font-medium text-gray-500"},qAe={class:"text-lg font-semibold text-gray-900"},WAe={class:"overflow-hidden rounded-lg bg-white shadow"},KAe={class:"p-5"},YAe={class:"flex items-center"},GAe={class:"flex-shrink-0"},XAe={class:"ml-5 w-0 flex-1"},JAe={class:"truncate text-sm font-medium text-gray-500"},QAe={class:"text-lg font-semibold text-gray-900"},ZAe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},eDe={class:"flex flex-1 flex-wrap gap-2"},tDe={value:""},sDe=["value"],nDe={value:""},oDe={value:"pending"},iDe={value:"acknowledged"},rDe={value:""},aDe={value:"same_page"},lDe={value:"computer_inactive"},dDe={value:"power_outage"},cDe={class:"overflow-hidden border-b border-gray-200 bg-white shadow sm:rounded-lg"},uDe={class:"min-w-full divide-y divide-gray-200"},fDe={class:"bg-gray-50"},mDe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},hDe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pDe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},gDe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},_De={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},vDe={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},yDe={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},bDe={class:"divide-y divide-gray-200 bg-white"},xDe={class:"whitespace-nowrap px-6 py-4"},wDe={class:"flex items-center"},kDe={class:"h-10 w-10 flex-shrink-0"},$De={class:"ml-4"},CDe={class:"text-sm font-medium text-gray-900"},SDe={class:"text-sm text-gray-500"},MDe={class:"whitespace-nowrap px-6 py-4"},TDe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},ADe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},DDe={class:"text-xs text-gray-400"},EDe={class:"whitespace-nowrap px-6 py-4"},PDe={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},jDe=["title"],RDe={key:1,class:"italic text-gray-400"},IDe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ODe={class:"flex items-center justify-end gap-2"},LDe=["title","onClick"],FDe=["title","onClick"],NDe=["title","onClick"],zDe={key:0},BDe={colspan:"7",class:"px-6 py-12 text-center text-gray-500"},UDe={key:0,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},VDe={class:"flex flex-1 justify-between sm:hidden"},HDe=["disabled"],qDe=["disabled"],WDe={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},KDe={class:"text-sm text-gray-700"},YDe={class:"font-medium"},GDe={class:"font-medium"},XDe={class:"font-medium"},JDe={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},QDe=["disabled"],ZDe=["disabled"],eEe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},tEe={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},sEe={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},nEe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},oEe={class:"flex items-start justify-between mb-4"},iEe={class:"text-lg font-medium text-gray-900"},rEe={key:0,class:"space-y-4"},aEe={class:"block text-sm font-medium text-gray-500"},lEe={class:"text-sm text-gray-900"},dEe={class:"block text-sm font-medium text-gray-500"},cEe={class:"block text-sm font-medium text-gray-500"},uEe={class:"text-sm text-gray-900"},fEe={class:"block text-sm font-medium text-gray-500"},mEe={class:"text-sm text-gray-900"},hEe={key:0},pEe={class:"block text-sm font-medium text-gray-500"},gEe={class:"text-sm text-gray-900"},_Ee={class:"block text-sm font-medium text-gray-500"},vEe={class:"block text-sm font-medium text-gray-500"},yEe={key:0,class:"mt-1 rounded-md bg-gray-50 p-3 text-sm text-gray-900 whitespace-pre-wrap"},bEe={key:1,class:"text-sm italic text-gray-400"},xEe={key:1},wEe={class:"block text-sm font-medium text-gray-500"},kEe={class:"text-sm text-gray-900"},$Ee={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},CEe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},SEe={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},MEe={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},TEe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},AEe={class:"flex items-start justify-between mb-4"},DEe={class:"text-lg font-medium text-gray-900"},EEe={key:0,class:"space-y-4"},PEe={class:"block text-sm font-medium text-gray-500"},jEe={class:"text-sm text-gray-900"},REe={class:"block text-sm font-medium text-gray-700"},IEe=["placeholder"],OEe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},LEe=["disabled"],FEe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},NEe={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},zEe={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},BEe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},UEe={class:"sm:flex sm:items-start"},VEe={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},HEe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},qEe={class:"text-lg font-medium leading-6 text-gray-900"},WEe={class:"mt-2"},KEe={class:"text-sm text-gray-500"},YEe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2"},GEe=["disabled"],XEe={__name:"Index",setup(s){const e=Je("__"),t=F(!0),o=F(null),i=F([]),r=F({data:[]}),a=F(!1),l=F(!1),d=F(!1),u=F(null),m=F(""),p=F(!1),h=F(!1),_=Qe({user_id:"",status:"",reason_type:"",date_from:"",date_to:"",page:1}),y=De(()=>_.user_id||_.status||_.reason_type||_.date_from||_.date_to),x=async()=>{try{const P=await ae.get("activity/statistics");o.value=P.data}catch{}},w=async()=>{try{const P=await ae.get("activity/users");i.value=P.data}catch{}},k=async()=>{try{const P=new URLSearchParams;_.user_id&&P.append("user_id",_.user_id),_.status&&P.append("status",_.status),_.reason_type&&P.append("reason_type",_.reason_type),_.date_from&&P.append("date_from",_.date_from),_.date_to&&P.append("date_to",_.date_to),P.append("page",_.page);const B=await ae.get(`activity/reports?${P.toString()}`);r.value=B.data}catch{}},b=()=>{_.user_id="",_.status="",_.reason_type="",_.date_from="",_.date_to="",_.page=1,k()},M=P=>{_.page=P,k()},S=P=>P?new Date(P).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"-",N=P=>{switch(P){case"same_page":return"bg-blue-100 text-blue-800";case"computer_inactive":return"bg-orange-100 text-orange-800";case"power_outage":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=P=>{switch(P){case"same_page":return e("Same Page");case"computer_inactive":return e("Inactive");case"power_outage":return e("Power Outage");default:return P}},T=P=>{u.value=P,a.value=!0},D=P=>{u.value=P,m.value=P.user_explanation||"",l.value=!0},L=P=>{u.value=P,d.value=!0},I=async()=>{if(u.value){p.value=!0;try{await ae.put(`activity/reports/${u.value.id}`,{user_explanation:m.value});const P=r.value.data.findIndex(B=>B.id===u.value.id);P!==-1&&(r.value.data[P].user_explanation=m.value),l.value=!1,u.value=null,m.value=""}catch{alert(e("Failed to save explanation"))}finally{p.value=!1}}},O=async()=>{if(u.value){h.value=!0;try{await ae.delete(`activity/reports/${u.value.id}`),r.value.data=r.value.data.filter(P=>P.id!==u.value.id),d.value=!1,u.value=null,x()}catch{alert(e("Failed to delete report"))}finally{h.value=!1}}};return Ye(async()=>{try{await Promise.all([x(),w(),k()])}catch{}finally{t.value=!1}}),(P,B)=>{var le,de,ce,me,Z;const be=fn("router-link");return t.value?(g(),v("div",yAe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",bAe,[n("div",xAe,[n("div",null,[n("h1",wAe,c(f(e)("Activity Reports")),1),n("p",kAe,c(f(e)("Monitor employee activity and view inactivity explanations")),1)]),C(be,{to:"/activity-reports/settings",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:q(()=>[C(f(d$),{class:"mr-2 h-4 w-4"}),K(" "+c(f(e)("Settings")),1)]),_:1})]),o.value?(g(),v("div",$Ae,[n("div",CAe,[n("div",SAe,[n("div",MAe,[n("div",TAe,[C(f(zc),{class:"h-6 w-6 text-gray-400"})]),n("div",AAe,[n("dl",null,[n("dt",DAe,c(f(e)("Reports Today")),1),n("dd",EAe,c(o.value.total_reports_today),1)])])])])]),n("div",PAe,[n("div",jAe,[n("div",RAe,[n("div",IAe,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",OAe,[n("dl",null,[n("dt",LAe,c(f(e)("Pending Responses")),1),n("dd",FAe,c(o.value.pending_reports),1)])])])])]),n("div",NAe,[n("div",zAe,[n("div",BAe,[n("div",UAe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",VAe,[n("dl",null,[n("dt",HAe,c(f(e)("Acknowledged Today")),1),n("dd",qAe,c(o.value.acknowledged_today),1)])])])])]),n("div",WAe,[n("div",KAe,[n("div",YAe,[n("div",GAe,[C(f(Jm),{class:"h-6 w-6 text-red-400"})]),n("div",XAe,[n("dl",null,[n("dt",JAe,c(f(e)("Power Outages Today")),1),n("dd",QAe,c(o.value.power_outages_today),1)])])])])])])):j("",!0),n("div",ZAe,[n("div",eDe,[z(n("select",{"onUpdate:modelValue":B[0]||(B[0]=ie=>_.user_id=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},[n("option",tDe,c(f(e)("All Employees")),1),(g(!0),v(re,null,ve(i.value,ie=>(g(),v("option",{key:ie.id,value:ie.id},c(ie.name),9,sDe))),128))],544),[[Me,_.user_id]]),z(n("select",{"onUpdate:modelValue":B[1]||(B[1]=ie=>_.status=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},[n("option",nDe,c(f(e)("All Statuses")),1),n("option",oDe,c(f(e)("Pending")),1),n("option",iDe,c(f(e)("Acknowledged")),1)],544),[[Me,_.status]]),z(n("select",{"onUpdate:modelValue":B[2]||(B[2]=ie=>_.reason_type=ie),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},[n("option",rDe,c(f(e)("All Types")),1),n("option",aDe,c(f(e)("Same Page")),1),n("option",lDe,c(f(e)("Computer Inactive")),1),n("option",dDe,c(f(e)("Power Outage")),1)],544),[[Me,_.reason_type]]),z(n("input",{"onUpdate:modelValue":B[3]||(B[3]=ie=>_.date_from=ie),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},null,544),[[J,_.date_from]]),z(n("input",{"onUpdate:modelValue":B[4]||(B[4]=ie=>_.date_to=ie),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:k},null,544),[[J,_.date_to]]),y.value?(g(),v("button",{key:0,type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:b},[C(f(Po),{class:"mr-1 h-4 w-4"}),K(" "+c(f(e)("Clear")),1)])):j("",!0)]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:k},[C(f(Pr),{class:"mr-2 h-4 w-4"}),K(" "+c(f(e)("Refresh")),1)])]),n("div",cDe,[n("table",uDe,[n("thead",fDe,[n("tr",null,[n("th",mDe,c(f(e)("Employee")),1),n("th",hDe,c(f(e)("Type")),1),n("th",pDe,c(f(e)("Duration")),1),n("th",gDe,c(f(e)("Time Period")),1),n("th",_De,c(f(e)("Status")),1),n("th",vDe,c(f(e)("Explanation")),1),n("th",yDe,c(f(e)("Actions")),1)])]),n("tbody",bDe,[(g(!0),v(re,null,ve(r.value.data,ie=>{var Te,se;return g(),v("tr",{key:ie.id,class:"hover:bg-gray-50"},[n("td",xDe,[n("div",wDe,[n("div",kDe,[C(Xt,{user:ie.user,size:"10"},null,8,["user"])]),n("div",$De,[n("div",CDe,c((Te=ie.user)==null?void 0:Te.name),1),n("div",SDe,c((se=ie.user)==null?void 0:se.email),1)])])]),n("td",MDe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",N(ie.reason_type)])},c(A(ie.reason_type)),3)]),n("td",TDe,c(ie.inactive_duration_minutes)+" "+c(f(e)("minutes")),1),n("td",ADe,[n("div",null,c(S(ie.inactive_from)),1),n("div",DDe,c(f(e)("to"))+" "+c(S(ie.inactive_until)),1)]),n("td",EDe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",ie.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},c(ie.is_pending?f(e)("Pending"):f(e)("Acknowledged")),3)]),n("td",PDe,[ie.user_explanation?(g(),v("div",{key:0,class:"truncate",title:ie.user_explanation},c(ie.user_explanation),9,jDe)):(g(),v("span",RDe,c(f(e)("Awaiting response...")),1))]),n("td",IDe,[n("div",ODe,[n("button",{type:"button",class:"text-indigo-600 hover:text-indigo-900",title:f(e)("View Details"),onClick:ke=>T(ie)},[C(f(hn),{class:"h-5 w-5"})],8,LDe),ie.user_explanation?(g(),v("button",{key:0,type:"button",class:"text-blue-600 hover:text-blue-900",title:f(e)("Edit Explanation"),onClick:ke=>D(ie)},[C(f(en),{class:"h-5 w-5"})],8,FDe)):j("",!0),n("button",{type:"button",class:"text-red-600 hover:text-red-900",title:f(e)("Delete Report"),onClick:ke=>L(ie)},[C(f(Vt),{class:"h-5 w-5"})],8,NDe)])])])}),128)),(le=r.value.data)!=null&&le.length?j("",!0):(g(),v("tr",zDe,[n("td",BDe,c(f(e)("No activity reports found")),1)]))])]),(de=r.value.data)!=null&&de.length?(g(),v("div",UDe,[n("div",VDe,[n("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:B[5]||(B[5]=ie=>M(r.value.current_page-1))},c(f(e)("Previous")),9,HDe),n("button",{disabled:!r.value.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:B[6]||(B[6]=ie=>M(r.value.current_page+1))},c(f(e)("Next")),9,qDe)]),n("div",WDe,[n("div",null,[n("p",KDe,[K(c(f(e)("Showing"))+" ",1),n("span",YDe,c(r.value.from),1),K(" "+c(f(e)("to"))+" ",1),n("span",GDe,c(r.value.to),1),K(" "+c(f(e)("of"))+" ",1),n("span",XDe,c(r.value.total),1),K(" "+c(f(e)("results")),1)])]),n("div",null,[n("nav",JDe,[n("button",{disabled:!r.value.prev_page_url,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:B[7]||(B[7]=ie=>M(r.value.current_page-1))},[C(f(r$),{class:"h-5 w-5"})],8,QDe),n("button",{disabled:!r.value.next_page_url,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:B[8]||(B[8]=ie=>M(r.value.current_page+1))},[C(f(Fv),{class:"h-5 w-5"})],8,ZDe)])])])])):j("",!0)]),(g(),ne(br,{to:"body"},[a.value?(g(),v("div",eEe,[n("div",tEe,[n("div",{class:"fixed inset-0 transition-opacity",onClick:B[9]||(B[9]=ie=>a.value=!1)},[...B[16]||(B[16]=[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])]),B[17]||(B[17]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",sEe,[n("div",nEe,[n("div",oEe,[n("h3",iEe,c(f(e)("Activity Report Details")),1),n("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:B[10]||(B[10]=ie=>a.value=!1)},[C(f(Po),{class:"h-6 w-6"})])]),u.value?(g(),v("div",rEe,[n("div",null,[n("label",aEe,c(f(e)("Employee")),1),n("p",lEe,c((ce=u.value.user)==null?void 0:ce.name)+" ("+c((me=u.value.user)==null?void 0:me.email)+")",1)]),n("div",null,[n("label",dEe,c(f(e)("Type")),1),n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",N(u.value.reason_type)])},c(A(u.value.reason_type)),3)]),n("div",null,[n("label",cEe,c(f(e)("Duration")),1),n("p",uEe,c(u.value.inactive_duration_minutes)+" "+c(f(e)("minutes")),1)]),n("div",null,[n("label",fEe,c(f(e)("Time Period")),1),n("p",mEe,c(S(u.value.inactive_from))+" - "+c(S(u.value.inactive_until)),1)]),u.value.page_url?(g(),v("div",hEe,[n("label",pEe,c(f(e)("Page")),1),n("p",gEe,c(u.value.page_title||u.value.page_url),1)])):j("",!0),n("div",null,[n("label",_Ee,c(f(e)("Status")),1),n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u.value.is_pending?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},c(u.value.is_pending?f(e)("Pending"):f(e)("Acknowledged")),3)]),n("div",null,[n("label",vEe,c(f(e)("Explanation")),1),u.value.user_explanation?(g(),v("div",yEe,c(u.value.user_explanation),1)):(g(),v("p",bEe,c(f(e)("No explanation provided yet")),1))]),u.value.acknowledged_at?(g(),v("div",xEe,[n("label",wEe,c(f(e)("Acknowledged At")),1),n("p",kEe,c(S(u.value.acknowledged_at)),1)])):j("",!0)])):j("",!0)]),n("div",$Ee,[n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:B[11]||(B[11]=ie=>a.value=!1)},c(f(e)("Close")),1)])])])])):j("",!0)])),(g(),ne(br,{to:"body"},[l.value?(g(),v("div",CEe,[n("div",SEe,[B[18]||(B[18]=n("div",{class:"fixed inset-0 transition-opacity"},[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),B[19]||(B[19]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",MEe,[n("div",TEe,[n("div",AEe,[n("h3",DEe,c(f(e)("Edit Explanation")),1),n("button",{type:"button",class:"text-gray-400 hover:text-gray-500",onClick:B[12]||(B[12]=ie=>l.value=!1)},[C(f(Po),{class:"h-6 w-6"})])]),u.value?(g(),v("div",EEe,[n("div",null,[n("label",PEe,c(f(e)("Employee")),1),n("p",jEe,c((Z=u.value.user)==null?void 0:Z.name),1)]),n("div",null,[n("label",REe,c(f(e)("Explanation")),1),z(n("textarea",{"onUpdate:modelValue":B[13]||(B[13]=ie=>m.value=ie),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(e)("Enter explanation...")},null,8,IEe),[[J,m.value]])])])):j("",!0)]),n("div",OEe,[n("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:p.value,onClick:I},c(p.value?f(e)("Saving..."):f(e)("Save")),9,LEe),n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:B[14]||(B[14]=ie=>l.value=!1)},c(f(e)("Cancel")),1)])])])])):j("",!0)])),(g(),ne(br,{to:"body"},[d.value?(g(),v("div",FEe,[n("div",NEe,[B[20]||(B[20]=n("div",{class:"fixed inset-0 transition-opacity"},[n("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),B[21]||(B[21]=n("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle"},null,-1)),n("div",zEe,[n("div",BEe,[n("div",UEe,[n("div",VEe,[C(f(Vt),{class:"h-6 w-6 text-red-600"})]),n("div",HEe,[n("h3",qEe,c(f(e)("Delete Report")),1),n("div",WEe,[n("p",KEe,c(f(e)("Are you sure you want to delete this activity report? This action cannot be undone.")),1)])])])]),n("div",YEe,[n("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",disabled:h.value,onClick:O},c(h.value?f(e)("Deleting..."):f(e)("Delete")),9,GEe),n("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:B[15]||(B[15]=ie=>d.value=!1)},c(f(e)("Cancel")),1)])])])])):j("",!0)]))]))}}},JEe={key:0,class:"mt-8 flex justify-center"},QEe={key:1},ZEe={class:"mb-6"},ePe={class:"text-2xl font-bold text-gray-900"},tPe={class:"mt-1 text-sm text-gray-500"},sPe={class:"overflow-hidden rounded-lg bg-white shadow"},nPe={class:"p-6"},oPe={class:"flex items-center justify-between"},iPe={class:"text-lg font-medium text-gray-900"},rPe={class:"mt-1 text-sm text-gray-500"},aPe=["aria-checked"],lPe={class:"overflow-hidden rounded-lg bg-white shadow"},dPe={class:"p-6"},cPe={class:"text-lg font-medium text-gray-900 mb-4"},uPe={class:"text-sm text-gray-500 mb-4"},fPe={class:"space-y-3"},mPe=["onUpdate:modelValue","placeholder"],hPe=["onClick"],pPe={class:"overflow-hidden rounded-lg bg-white shadow"},gPe={class:"p-6"},_Pe={class:"text-lg font-medium text-gray-900 mb-4"},vPe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},yPe={class:"block text-sm font-medium text-gray-700"},bPe={class:"mt-1 text-xs text-gray-500"},xPe={class:"block text-sm font-medium text-gray-700"},wPe={class:"mt-1 text-xs text-gray-500"},kPe={class:"block text-sm font-medium text-gray-700"},$Pe={class:"mt-1 text-xs text-gray-500"},CPe={class:"overflow-hidden rounded-lg bg-white shadow"},SPe={class:"p-6"},MPe={class:"text-lg font-medium text-gray-900 mb-4"},TPe={class:"text-sm text-gray-500 mb-4"},APe={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},DPe={class:"block text-sm font-medium text-gray-700"},EPe={class:"block text-sm font-medium text-gray-700"},PPe={class:"flex justify-end"},jPe=["disabled"],RPe={key:0,class:"mr-2"},IPe={__name:"Settings",setup(s){const e=Je("__"),t=F(!0),o=F(!1),i=Qe({enabled:!0,exception_urls:["https://nyasajob.com","https://studyseco.com","https://malawirents.com","https://emphxs.com","https://zoswa.com"],same_page_threshold:15,inactivity_threshold:10,heartbeat_interval:60,lunch_start:"12:00",lunch_end:"13:00"}),r=async()=>{try{const u=await ae.get("activity/settings");Object.assign(i,u.data),Array.isArray(i.exception_urls)||(i.exception_urls=[])}catch{}finally{t.value=!1}},a=async()=>{o.value=!0;try{const u={...i,exception_urls:i.exception_urls.filter(m=>m&&m.trim()!=="")};await ae.post("activity/settings",u),alert(e("Settings saved successfully"))}catch{alert(e("Failed to save settings"))}finally{o.value=!1}},l=()=>{i.exception_urls.push("")},d=u=>{i.exception_urls.splice(u,1)};return Ye(()=>{r()}),(u,m)=>t.value?(g(),v("div",JEe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",QEe,[n("div",ZEe,[n("h1",ePe,c(f(e)("Activity Monitoring Settings")),1),n("p",tPe,c(f(e)("Configure activity tracking behavior, exception URLs, and thresholds")),1)]),n("form",{class:"space-y-6",onSubmit:Ke(a,["prevent"])},[n("div",sPe,[n("div",nPe,[n("div",oPe,[n("div",null,[n("h3",iPe,c(f(e)("Activity Monitoring")),1),n("p",rPe,c(f(e)("Enable or disable activity monitoring for all employees")),1)]),n("button",{type:"button",role:"switch","aria-checked":i.enabled,class:Q([i.enabled?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"]),onClick:m[0]||(m[0]=p=>i.enabled=!i.enabled)},[n("span",{class:Q([i.enabled?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],10,aPe)])])]),n("div",lPe,[n("div",dPe,[n("h3",cPe,c(f(e)("Exception URLs (Company Pages)")),1),n("p",uPe,c(f(e)("Activity tracking will be skipped when users are browsing these domains. This is useful for company websites where employees may spend extended time.")),1),n("div",fPe,[(g(!0),v(re,null,ve(i.exception_urls,(p,h)=>(g(),v("div",{key:h,class:"flex gap-2"},[z(n("input",{"onUpdate:modelValue":_=>i.exception_urls[h]=_,type:"url",class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f(e)("https://example.com")},null,8,mPe),[[J,i.exception_urls[h]]]),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:_=>d(h)},[C(f(Vt),{class:"h-4 w-4 text-red-500"})],8,hPe)]))),128)),n("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:l},[C(f(pn),{class:"mr-2 h-4 w-4"}),K(" "+c(f(e)("Add URL")),1)])])])]),n("div",pPe,[n("div",gPe,[n("h3",_Pe,c(f(e)("Thresholds")),1),n("div",vPe,[n("div",null,[n("label",yPe,c(f(e)("Same Page Threshold (minutes)")),1),n("p",bPe,c(f(e)("Alert if user stays on the same page for this duration")),1),z(n("input",{"onUpdate:modelValue":m[1]||(m[1]=p=>i.same_page_threshold=p),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,i.same_page_threshold,void 0,{number:!0}]])]),n("div",null,[n("label",xPe,c(f(e)("Inactivity Threshold (minutes)")),1),n("p",wPe,c(f(e)("Alert if no mouse/keyboard activity for this duration")),1),z(n("input",{"onUpdate:modelValue":m[2]||(m[2]=p=>i.inactivity_threshold=p),type:"number",min:"5",max:"120",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,i.inactivity_threshold,void 0,{number:!0}]])]),n("div",null,[n("label",kPe,c(f(e)("Heartbeat Interval (seconds)")),1),n("p",$Pe,c(f(e)("How often to send activity updates to the server")),1),z(n("input",{"onUpdate:modelValue":m[3]||(m[3]=p=>i.heartbeat_interval=p),type:"number",min:"30",max:"300",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,i.heartbeat_interval,void 0,{number:!0}]])])])])]),n("div",CPe,[n("div",SPe,[n("h3",MPe,c(f(e)("Lunch Break (Skip Tracking)")),1),n("p",TPe,c(f(e)("Activity tracking will be paused during this time period")),1),n("div",APe,[n("div",null,[n("label",DPe,c(f(e)("Start Time")),1),z(n("input",{"onUpdate:modelValue":m[4]||(m[4]=p=>i.lunch_start=p),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,i.lunch_start]])]),n("div",null,[n("label",EPe,c(f(e)("End Time")),1),z(n("input",{"onUpdate:modelValue":m[5]||(m[5]=p=>i.lunch_end=p),type:"time",class:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,i.lunch_end]])])])])]),n("div",PPe,[n("button",{type:"submit",disabled:o.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[o.value?(g(),v("span",RPe,[...m[6]||(m[6]=[n("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):j("",!0),K(" "+c(o.value?f(e)("Saving..."):f(e)("Save Settings")),1)],8,jPe)])],32)]))}},OPe={class:"border-b border-gray-200 px-6 py-4"},LPe={class:"text-lg font-semibold text-gray-900"},FPe={class:"max-h-[70vh] space-y-6 overflow-y-auto px-6 py-4"},NPe={class:"mb-4 text-md font-medium text-gray-900"},zPe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},BPe={class:"block text-sm font-medium text-gray-700"},UPe={key:0,class:"mt-1 text-sm text-red-600"},VPe={class:"block text-sm font-medium text-gray-700"},HPe={class:"block text-sm font-medium text-gray-700"},qPe={key:0,class:"mt-1 text-sm text-red-600"},WPe={class:"block text-sm font-medium text-gray-700"},KPe={class:"block text-sm font-medium text-gray-700"},YPe={class:"block text-sm font-medium text-gray-700"},GPe={class:"block text-sm font-medium text-gray-700"},XPe={class:"block text-sm font-medium text-gray-700"},JPe={value:""},QPe={class:"border-t border-gray-200 pt-6"},ZPe={class:"mb-4 text-md font-medium text-gray-900"},eje={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},tje={class:"block text-sm font-medium text-gray-700"},sje=["value"],nje={key:0,class:"mt-1 text-sm text-red-600"},oje={class:"block text-sm font-medium text-gray-700"},ije={value:""},rje=["value"],aje={class:"block text-sm font-medium text-gray-700"},lje={value:""},dje=["value"],cje={class:"block text-sm font-medium text-gray-700"},uje=["value"],fje={class:"sm:col-span-2"},mje={class:"block text-sm font-medium text-gray-700"},hje=["placeholder"],pje={key:0,class:"border-t border-gray-200 pt-6"},gje={class:"mb-4 text-md font-medium text-gray-900"},_je={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},vje={class:"block text-sm font-medium text-gray-700"},yje=["value"],bje={class:"block text-sm font-medium text-gray-700"},xje=["value"],wje={class:"block text-sm font-medium text-gray-700"},kje={value:""},$je=["value"],Cje={class:"block text-sm font-medium text-gray-700"},Sje={key:0,class:"sm:col-span-2"},Mje={class:"block text-sm font-medium text-gray-700"},Tje=["placeholder"],Aje={class:"border-t border-gray-200 pt-6"},Dje={class:"block text-sm font-medium text-gray-700"},Eje=["placeholder"],Pje={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},jje={__name:"Form",props:{modelValue:{type:Object,default:null},options:{type:Object,default:()=>({})}},emits:["close","saved"],setup(s,{emit:e}){const t=s,o=e,i=F(!1),r=F({}),a=Qe({first_name:"",last_name:"",email:"",phone:"",company_name:"",job_title:"",website:"",country:"Malawi",city:"",service_interest:"web_development",project_description:"",budget_range:"",timeline:"",source:"website",status:"new",priority:"warm",assigned_to:"",next_follow_up_at:"",internal_notes:"",loss_reason:""}),l=async()=>{var u,m;i.value=!0,r.value={};const d=t.modelValue?`leads/${t.modelValue.id}`:"leads";try{t.modelValue?await ae.put(d,a):await ae.post(d,a),o("saved"),o("close")}catch(p){(m=(u=p.response)==null?void 0:u.data)!=null&&m.errors&&(r.value=p.response.data.errors)}finally{i.value=!1}};return $t(()=>t.modelValue,d=>{d&&Object.assign(a,{first_name:d.first_name||"",last_name:d.last_name||"",email:d.email||"",phone:d.phone||"",company_name:d.company_name||"",job_title:d.job_title||"",website:d.website||"",country:d.country||"Malawi",city:d.city||"",service_interest:d.service_interest||"web_development",project_description:d.project_description||"",budget_range:d.budget_range||"",timeline:d.timeline||"",source:d.source||"website",status:d.status||"new",priority:d.priority||"warm",assigned_to:d.assigned_to||"",next_follow_up_at:d.next_follow_up_at?d.next_follow_up_at.slice(0,16):"",internal_notes:d.internal_notes||"",loss_reason:d.loss_reason||""})},{immediate:!0}),(d,u)=>{var m,p,h,_,y,x,w;return g(),v("div",null,[n("div",OPe,[n("h2",LPe,c(s.modelValue?d.__("Edit Lead"):d.__("Add Lead")),1)]),n("div",FPe,[n("div",null,[n("h3",NPe,c(d.__("Contact Information")),1),n("div",zPe,[n("div",null,[n("label",BPe,[K(c(d.__("First Name"))+" ",1),u[20]||(u[20]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":u[0]||(u[0]=k=>a.first_name=k),type:"text",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.first_name}]),required:""},null,2),[[J,a.first_name]]),r.value.first_name?(g(),v("p",UPe,c(r.value.first_name[0]),1)):j("",!0)]),n("div",null,[n("label",VPe,c(d.__("Last Name")),1),z(n("input",{"onUpdate:modelValue":u[1]||(u[1]=k=>a.last_name=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,a.last_name]])]),n("div",null,[n("label",HPe,[K(c(d.__("Email"))+" ",1),u[21]||(u[21]=n("span",{class:"text-red-500"},"*",-1))]),z(n("input",{"onUpdate:modelValue":u[2]||(u[2]=k=>a.email=k),type:"email",class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),required:""},null,2),[[J,a.email]]),r.value.email?(g(),v("p",qPe,c(r.value.email[0]),1)):j("",!0)]),n("div",null,[n("label",WPe,c(d.__("Phone")),1),z(n("input",{"onUpdate:modelValue":u[3]||(u[3]=k=>a.phone=k),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,a.phone]])]),n("div",null,[n("label",KPe,c(d.__("Company")),1),z(n("input",{"onUpdate:modelValue":u[4]||(u[4]=k=>a.company_name=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,a.company_name]])]),n("div",null,[n("label",YPe,c(d.__("Job Title")),1),z(n("input",{"onUpdate:modelValue":u[5]||(u[5]=k=>a.job_title=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,a.job_title]])]),n("div",null,[n("label",GPe,c(d.__("Website")),1),z(n("input",{"onUpdate:modelValue":u[6]||(u[6]=k=>a.website=k),type:"url",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://"},null,512),[[J,a.website]])]),n("div",null,[n("label",XPe,c(d.__("Country")),1),z(n("select",{"onUpdate:modelValue":u[7]||(u[7]=k=>a.country=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",JPe,c(d.__("Select Country")),1),u[22]||(u[22]=_i('<option value="Malawi">Malawi</option><option value="Zambia">Zambia</option><option value="Tanzania">Tanzania</option><option value="Mozambique">Mozambique</option><option value="Zimbabwe">Zimbabwe</option><option value="South Africa">South Africa</option><option value="Kenya">Kenya</option><option value="United States">United States</option><option value="United Kingdom">United Kingdom</option><option value="Other">Other</option>',10))],512),[[Me,a.country]])])])]),n("div",QPe,[n("h3",ZPe,c(d.__("Project Details")),1),n("div",eje,[n("div",null,[n("label",tje,[K(c(d.__("Service Interest"))+" ",1),u[23]||(u[23]=n("span",{class:"text-red-500"},"*",-1))]),z(n("select",{"onUpdate:modelValue":u[8]||(u[8]=k=>a.service_interest=k),class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.service_interest}]),required:""},[(g(!0),v(re,null,ve((m=s.options)==null?void 0:m.service_interests,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,sje))),128))],2),[[Me,a.service_interest]]),r.value.service_interest?(g(),v("p",nje,c(r.value.service_interest[0]),1)):j("",!0)]),n("div",null,[n("label",oje,c(d.__("Budget Range")),1),z(n("select",{"onUpdate:modelValue":u[9]||(u[9]=k=>a.budget_range=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",ije,c(d.__("Not Specified")),1),(g(!0),v(re,null,ve((p=s.options)==null?void 0:p.budget_ranges,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,rje))),128))],512),[[Me,a.budget_range]])]),n("div",null,[n("label",aje,c(d.__("Timeline")),1),z(n("select",{"onUpdate:modelValue":u[10]||(u[10]=k=>a.timeline=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",lje,c(d.__("Not Specified")),1),(g(!0),v(re,null,ve((h=s.options)==null?void 0:h.timelines,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,dje))),128))],512),[[Me,a.timeline]])]),n("div",null,[n("label",cje,c(d.__("Source")),1),z(n("select",{"onUpdate:modelValue":u[11]||(u[11]=k=>a.source=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),v(re,null,ve((_=s.options)==null?void 0:_.sources,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,uje))),128))],512),[[Me,a.source]])]),n("div",fje,[n("label",mje,c(d.__("Project Description")),1),z(n("textarea",{"onUpdate:modelValue":u[12]||(u[12]=k=>a.project_description=k),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Describe the project requirements...")},null,8,hje),[[J,a.project_description]])])])]),s.modelValue?(g(),v("div",pje,[n("h3",gje,c(d.__("Lead Qualification")),1),n("div",_je,[n("div",null,[n("label",vje,c(d.__("Status")),1),z(n("select",{"onUpdate:modelValue":u[13]||(u[13]=k=>a.status=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),v(re,null,ve((y=s.options)==null?void 0:y.statuses,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,yje))),128))],512),[[Me,a.status]])]),n("div",null,[n("label",bje,c(d.__("Priority")),1),z(n("select",{"onUpdate:modelValue":u[14]||(u[14]=k=>a.priority=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),v(re,null,ve((x=s.options)==null?void 0:x.priorities,(k,b)=>(g(),v("option",{key:b,value:b},c(k),9,xje))),128))],512),[[Me,a.priority]])]),n("div",null,[n("label",wje,c(d.__("Assigned To")),1),z(n("select",{"onUpdate:modelValue":u[15]||(u[15]=k=>a.assigned_to=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[n("option",kje,c(d.__("Unassigned")),1),(g(!0),v(re,null,ve((w=s.options)==null?void 0:w.assignable_users,k=>(g(),v("option",{key:k.id,value:k.id},c(k.name),9,$je))),128))],512),[[Me,a.assigned_to]])]),n("div",null,[n("label",Cje,c(d.__("Next Follow-up")),1),z(n("input",{"onUpdate:modelValue":u[16]||(u[16]=k=>a.next_follow_up_at=k),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,a.next_follow_up_at]])]),a.status==="lost"?(g(),v("div",Sje,[n("label",Mje,c(d.__("Loss Reason")),1),z(n("input",{"onUpdate:modelValue":u[17]||(u[17]=k=>a.loss_reason=k),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Why was this lead lost?")},null,8,Tje),[[J,a.loss_reason]])])):j("",!0)])])):j("",!0),n("div",Aje,[n("label",Dje,c(d.__("Internal Notes")),1),z(n("textarea",{"onUpdate:modelValue":u[18]||(u[18]=k=>a.internal_notes=k),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.__("Private notes about this lead...")},null,8,Eje),[[J,a.internal_notes]])])]),n("div",Pje,[C(Se,{variant:"secondary",onClick:u[19]||(u[19]=k=>d.$emit("close"))},{default:q(()=>[K(c(d.__("Cancel")),1)]),_:1}),C(Se,{disabled:i.value,onClick:l},{default:q(()=>[K(c(s.modelValue?d.__("Update Lead"):d.__("Create Lead")),1)]),_:1},8,["disabled"])])])}}},Rje={key:0,class:"flex justify-center py-12"},Ije={key:1},Oje={class:"border-b border-gray-200 px-6 py-4"},Lje={class:"flex items-start justify-between"},Fje={class:"flex items-center"},Nje={class:"ml-4"},zje={class:"text-xl font-semibold text-gray-900"},Bje={class:"text-sm text-gray-500"},Uje={class:"mt-4 flex flex-wrap gap-2"},Vje={class:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-sm font-medium text-gray-700"},Hje={class:"max-h-[70vh] overflow-y-auto"},qje={class:"border-b border-gray-200 bg-gray-50 px-6 py-3"},Wje={class:"flex flex-wrap gap-2"},Kje={class:"grid grid-cols-1 gap-6 p-6 lg:grid-cols-3"},Yje={class:"lg:col-span-2 space-y-6"},Gje={class:"rounded-lg border border-gray-200 bg-white p-4"},Xje={class:"mb-4 font-semibold text-gray-900"},Jje={class:"grid grid-cols-2 gap-4 text-sm"},Qje={class:"text-gray-500"},Zje={class:"mt-1 font-medium text-gray-900"},eRe=["href"],tRe={class:"text-gray-500"},sRe={class:"mt-1 font-medium text-gray-900"},nRe=["href"],oRe={key:1,class:"text-gray-400"},iRe={class:"text-gray-500"},rRe={class:"mt-1 font-medium text-gray-900"},aRe={class:"text-gray-500"},lRe={class:"mt-1 font-medium text-gray-900"},dRe={class:"text-gray-500"},cRe={class:"mt-1 font-medium text-gray-900"},uRe={class:"text-gray-500"},fRe={class:"mt-1 font-medium text-gray-900"},mRe=["href"],hRe={key:1,class:"text-gray-400"},pRe={class:"rounded-lg border border-gray-200 bg-white p-4"},gRe={class:"mb-4 font-semibold text-gray-900"},_Re={class:"space-y-4 text-sm"},vRe={class:"grid grid-cols-3 gap-4"},yRe={class:"text-gray-500"},bRe={class:"mt-1 font-medium text-gray-900"},xRe={class:"text-gray-500"},wRe={class:"mt-1 font-medium text-gray-900"},kRe={class:"text-gray-500"},$Re={class:"mt-1 font-medium text-gray-900"},CRe={key:0},SRe={class:"text-gray-500"},MRe={class:"mt-1 whitespace-pre-wrap text-gray-900"},TRe={class:"rounded-lg border border-gray-200 bg-white p-4"},ARe={class:"mb-4 font-semibold text-gray-900"},DRe={key:0,class:"flow-root"},ERe={class:"-mb-8"},PRe={class:"relative pb-8"},jRe={key:0,class:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"},RRe={class:"relative flex space-x-3"},IRe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},ORe={class:"text-sm font-medium text-gray-900"},LRe={key:0,class:"mt-1 text-sm text-gray-500"},FRe={class:"whitespace-nowrap text-right text-sm text-gray-500"},NRe={key:0,class:"text-xs"},zRe={key:1,class:"text-center text-sm text-gray-500"},BRe={class:"space-y-6"},URe={class:"rounded-lg border border-gray-200 bg-white p-4"},VRe={class:"mb-4 font-semibold text-gray-900"},HRe={class:"space-y-3 text-sm"},qRe={class:"text-gray-500"},WRe={class:"mt-1 font-medium text-gray-900"},KRe={class:"text-gray-500"},YRe={class:"mt-1 font-medium text-gray-900"},GRe={class:"text-gray-500"},XRe={class:"mt-1 font-medium text-gray-900"},JRe={key:0},QRe={class:"text-gray-500"},ZRe={class:"mt-1 font-medium text-gray-900"},eIe={key:1},tIe={class:"text-gray-500"},sIe={key:0,class:"rounded-lg border border-gray-200 bg-white p-4"},nIe={class:"mb-4 font-semibold text-gray-900"},oIe={class:"space-y-2 text-sm"},iIe={key:0},rIe={class:"font-medium text-gray-900"},aIe={key:1},lIe={class:"font-medium text-gray-900"},dIe={key:2},cIe={class:"font-medium text-gray-900"},uIe={key:3},fIe=["title"],mIe={key:1,class:"rounded-lg border border-gray-200 bg-white p-4"},hIe={class:"mb-2 font-semibold text-gray-900"},pIe={class:"whitespace-pre-wrap text-sm text-gray-600"},gIe={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},_Ie={class:"w-full max-w-md rounded-lg bg-white p-6"},vIe={class:"mb-4 text-lg font-semibold"},yIe=["placeholder"],bIe={class:"flex justify-end gap-2"},xIe={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},wIe={class:"w-full max-w-md rounded-lg bg-white p-6"},kIe={class:"mb-4 text-lg font-semibold"},$Ie=["placeholder"],CIe={class:"flex justify-end gap-2"},SIe={key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},MIe={class:"w-full max-w-md rounded-lg bg-white p-6"},TIe={class:"mb-4 text-lg font-semibold"},AIe=["placeholder"],DIe=["placeholder"],EIe={class:"flex justify-end gap-2"},PIe={key:5,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},jIe={class:"w-full max-w-md rounded-lg bg-white p-6"},RIe={class:"mb-4 text-lg font-semibold"},IIe=["placeholder"],OIe={class:"flex justify-end gap-2"},LIe={__name:"Detail",props:{leadId:{type:[Number,String],required:!0}},emits:["close","updated"],setup(s,{emit:e}){const t=s,o=e,i=F(!0),r=F(null),a=F(!1),l=F(!1),d=F(!1),u=F(!1),m=Qe({status:"",loss_reason:""}),p=Qe({note:""}),h=Qe({type:"call_made",outcome:"",notes:""}),_=Qe({next_follow_up_at:"",note:""}),y=async()=>{i.value=!0;try{const P=await ae.get(`leads/${t.leadId}`);r.value=P.data.data,m.status=r.value.status}catch{}finally{i.value=!1}},x=async()=>{try{await ae.post(`leads/${t.leadId}/status`,m),a.value=!1,o("updated"),y()}catch{}},w=async()=>{try{await ae.post(`leads/${t.leadId}/note`,p),l.value=!1,p.note="",y()}catch{}},k=async()=>{try{await ae.post(`leads/${t.leadId}/log-call`,h),d.value=!1,Object.assign(h,{type:"call_made",outcome:"",notes:""}),o("updated"),y()}catch{}},b=async()=>{try{await ae.post(`leads/${t.leadId}/follow-up`,_),u.value=!1,Object.assign(_,{next_follow_up_at:"",note:""}),y()}catch{}},M=async()=>{if(confirm("Convert this lead to a client?"))try{await ae.post(`leads/${t.leadId}/convert`),o("updated"),o("close")}catch{}},S=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),N=P=>new Date(P)<new Date,A=P=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800",T=P=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[P]||"bg-gray-100 text-gray-800",D=P=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[P]||"bg-gray-100",L=P=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[P]||"text-gray-600",I=P=>({created:cp,email_sent:f$,call_made:Bu,call_received:Bu,note_added:dp,status_changed:Pr,follow_up_scheduled:un})[P]||cp,O=P=>({created:"bg-green-500",email_sent:"bg-blue-500",call_made:"bg-indigo-500",call_received:"bg-purple-500",note_added:"bg-yellow-500",status_changed:"bg-gray-500",follow_up_scheduled:"bg-orange-500"})[P]||"bg-gray-500";return Ye(y),(P,B)=>{var be,le;return g(),v("div",null,[i.value?(g(),v("div",Rje,[C(bt,{size:"40",color:"#5850ec"})])):r.value?(g(),v("div",Ije,[n("div",Oje,[n("div",Lje,[n("div",Fje,[n("div",{class:Q(["flex h-12 w-12 items-center justify-center rounded-full",D(r.value.priority)])},[n("span",{class:Q(["text-lg font-semibold",L(r.value.priority)])},c(r.value.first_name.charAt(0))+c(r.value.last_name?r.value.last_name.charAt(0):""),3)],2),n("div",Nje,[n("h2",zje,c(r.value.full_name),1),n("p",Bje,c(r.value.company_name||r.value.email),1)])]),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:B[0]||(B[0]=de=>P.$emit("close"))},[C(f(Po),{class:"h-6 w-6"})])]),n("div",Uje,[n("span",{class:Q([A(r.value.status),"inline-flex rounded-full px-3 py-1 text-sm font-medium"])},c(r.value.status_label),3),n("span",{class:Q([T(r.value.priority),"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium"])},[r.value.priority==="hot"?(g(),ne(f(Gf),{key:0,class:"mr-1 h-4 w-4"})):j("",!0),K(" "+c(r.value.priority.charAt(0).toUpperCase()+r.value.priority.slice(1))+" Priority ",1)],2),n("span",Vje," Score: "+c(r.value.score)+"/100 ",1)])]),n("div",Hje,[n("div",qje,[n("div",Wje,[n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:B[1]||(B[1]=de=>a.value=!0)},[C(f(Pr),{class:"mr-1.5 h-4 w-4"}),K(" "+c(P.__("Update Status")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:B[2]||(B[2]=de=>l.value=!0)},[C(f(dp),{class:"mr-1.5 h-4 w-4"}),K(" "+c(P.__("Add Note")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:B[3]||(B[3]=de=>d.value=!0)},[C(f(Bu),{class:"mr-1.5 h-4 w-4"}),K(" "+c(P.__("Log Call")),1)]),n("button",{class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:B[4]||(B[4]=de=>u.value=!0)},[C(f(un),{class:"mr-1.5 h-4 w-4"}),K(" "+c(P.__("Schedule Follow-up")),1)]),r.value.status!=="won"&&r.value.status!=="lost"?(g(),v("button",{key:0,class:"inline-flex items-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-green-700",onClick:M},[C(f(ps),{class:"mr-1.5 h-4 w-4"}),K(" "+c(P.__("Convert to Client")),1)])):j("",!0)])]),n("div",Kje,[n("div",Yje,[n("div",Gje,[n("h3",Xje,c(P.__("Contact Information")),1),n("dl",Jje,[n("div",null,[n("dt",Qje,c(P.__("Email")),1),n("dd",Zje,[n("a",{href:"mailto:"+r.value.email,class:"text-indigo-600 hover:underline"},c(r.value.email),9,eRe)])]),n("div",null,[n("dt",tRe,c(P.__("Phone")),1),n("dd",sRe,[r.value.phone?(g(),v("a",{key:0,href:"tel:"+r.value.phone,class:"text-indigo-600 hover:underline"},c(r.value.phone),9,nRe)):(g(),v("span",oRe,"-"))])]),n("div",null,[n("dt",iRe,c(P.__("Company")),1),n("dd",rRe,c(r.value.company_name||"-"),1)]),n("div",null,[n("dt",aRe,c(P.__("Job Title")),1),n("dd",lRe,c(r.value.job_title||"-"),1)]),n("div",null,[n("dt",dRe,c(P.__("Location")),1),n("dd",cRe,c([r.value.city,r.value.country].filter(Boolean).join(", ")||"-"),1)]),n("div",null,[n("dt",uRe,c(P.__("Website")),1),n("dd",fRe,[r.value.website?(g(),v("a",{key:0,href:r.value.website,target:"_blank",class:"text-indigo-600 hover:underline"},c(r.value.website),9,mRe)):(g(),v("span",hRe,"-"))])])])]),n("div",pRe,[n("h3",gRe,c(P.__("Project Details")),1),n("dl",_Re,[n("div",vRe,[n("div",null,[n("dt",yRe,c(P.__("Service Interest")),1),n("dd",bRe,c(r.value.service_interest_label),1)]),n("div",null,[n("dt",xRe,c(P.__("Budget")),1),n("dd",wRe,c(r.value.budget_range_label||"-"),1)]),n("div",null,[n("dt",kRe,c(P.__("Timeline")),1),n("dd",$Re,c(r.value.timeline||"-"),1)])]),r.value.project_description?(g(),v("div",CRe,[n("dt",SRe,c(P.__("Description")),1),n("dd",MRe,c(r.value.project_description),1)])):j("",!0)])]),n("div",TRe,[n("h3",ARe,c(P.__("Activity Timeline")),1),(be=r.value.activities)!=null&&be.length?(g(),v("div",DRe,[n("ul",ERe,[(g(!0),v(re,null,ve(r.value.activities,(de,ce)=>(g(),v("li",{key:de.id},[n("div",PRe,[ce!==r.value.activities.length-1?(g(),v("span",jRe)):j("",!0),n("div",RRe,[n("div",null,[n("span",{class:Q([O(de.type),"flex h-8 w-8 items-center justify-center rounded-full ring-8 ring-white"])},[(g(),ne(mo(I(de.type)),{class:"h-4 w-4 text-white"}))],2)]),n("div",IRe,[n("div",null,[n("p",ORe,c(de.type_label),1),de.description?(g(),v("p",LRe,c(de.description),1)):j("",!0)]),n("div",FRe,[n("time",null,c(S(de.created_at)),1),de.user?(g(),v("p",NRe,c(de.user.name),1)):j("",!0)])])])])]))),128))])])):(g(),v("p",zRe,c(P.__("No activities yet")),1))])]),n("div",BRe,[n("div",URe,[n("h3",VRe,c(P.__("Lead Info")),1),n("dl",HRe,[n("div",null,[n("dt",qRe,c(P.__("Source")),1),n("dd",WRe,c(r.value.source),1)]),n("div",null,[n("dt",KRe,c(P.__("Assigned To")),1),n("dd",YRe,c(((le=r.value.assigned_user)==null?void 0:le.name)||"Unassigned"),1)]),n("div",null,[n("dt",GRe,c(P.__("Created")),1),n("dd",XRe,c(S(r.value.created_at)),1)]),r.value.last_contacted_at?(g(),v("div",JRe,[n("dt",QRe,c(P.__("Last Contacted")),1),n("dd",ZRe,c(S(r.value.last_contacted_at)),1)])):j("",!0),r.value.next_follow_up_at?(g(),v("div",eIe,[n("dt",tIe,c(P.__("Next Follow-up")),1),n("dd",{class:Q(["mt-1 font-medium",N(r.value.next_follow_up_at)?"text-red-600":"text-gray-900"])},c(S(r.value.next_follow_up_at)),3)])):j("",!0)])]),r.value.utm_source||r.value.landing_page?(g(),v("div",sIe,[n("h3",nIe,c(P.__("Tracking Data")),1),n("dl",oIe,[r.value.utm_source?(g(),v("div",iIe,[B[17]||(B[17]=n("dt",{class:"text-gray-500"},"UTM Source",-1)),n("dd",rIe,c(r.value.utm_source),1)])):j("",!0),r.value.utm_medium?(g(),v("div",aIe,[B[18]||(B[18]=n("dt",{class:"text-gray-500"},"UTM Medium",-1)),n("dd",lIe,c(r.value.utm_medium),1)])):j("",!0),r.value.utm_campaign?(g(),v("div",dIe,[B[19]||(B[19]=n("dt",{class:"text-gray-500"},"UTM Campaign",-1)),n("dd",cIe,c(r.value.utm_campaign),1)])):j("",!0),r.value.landing_page?(g(),v("div",uIe,[B[20]||(B[20]=n("dt",{class:"text-gray-500"},"Landing Page",-1)),n("dd",{class:"truncate font-medium text-gray-900",title:r.value.landing_page},c(r.value.landing_page),9,fIe)])):j("",!0)])])):j("",!0),r.value.internal_notes?(g(),v("div",mIe,[n("h3",hIe,c(P.__("Internal Notes")),1),n("p",pIe,c(r.value.internal_notes),1)])):j("",!0)])])])])):j("",!0),a.value?(g(),v("div",gIe,[n("div",_Ie,[n("h3",vIe,c(P.__("Update Status")),1),z(n("select",{"onUpdate:modelValue":B[5]||(B[5]=de=>m.status=de),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...B[21]||(B[21]=[_i('<option value="new">New</option><option value="contacted">Contacted</option><option value="qualified">Qualified</option><option value="proposal_sent">Proposal Sent</option><option value="negotiation">Negotiation</option><option value="won">Won</option><option value="lost">Lost</option>',7)])],512),[[Me,m.status]]),m.status==="lost"?z((g(),v("input",{key:0,"onUpdate:modelValue":B[6]||(B[6]=de=>m.loss_reason=de),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Reason for loss")},null,8,yIe)),[[J,m.loss_reason]]):j("",!0),n("div",bIe,[C(Se,{variant:"secondary",onClick:B[7]||(B[7]=de=>a.value=!1)},{default:q(()=>[K(c(P.__("Cancel")),1)]),_:1}),C(Se,{onClick:x},{default:q(()=>[K(c(P.__("Update")),1)]),_:1})])])])):j("",!0),l.value?(g(),v("div",xIe,[n("div",wIe,[n("h3",kIe,c(P.__("Add Note")),1),z(n("textarea",{"onUpdate:modelValue":B[8]||(B[8]=de=>p.note=de),rows:"4",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:P.__("Enter your note...")},null,8,$Ie),[[J,p.note]]),n("div",CIe,[C(Se,{variant:"secondary",onClick:B[9]||(B[9]=de=>l.value=!1)},{default:q(()=>[K(c(P.__("Cancel")),1)]),_:1}),C(Se,{onClick:w},{default:q(()=>[K(c(P.__("Add Note")),1)]),_:1})])])])):j("",!0),d.value?(g(),v("div",SIe,[n("div",MIe,[n("h3",TIe,c(P.__("Log Call")),1),z(n("select",{"onUpdate:modelValue":B[10]||(B[10]=de=>h.type=de),class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...B[22]||(B[22]=[n("option",{value:"call_made"},"Call Made",-1),n("option",{value:"call_received"},"Call Received",-1)])],512),[[Me,h.type]]),z(n("input",{"onUpdate:modelValue":B[11]||(B[11]=de=>h.outcome=de),type:"text",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Call outcome")},null,8,AIe),[[J,h.outcome]]),z(n("textarea",{"onUpdate:modelValue":B[12]||(B[12]=de=>h.notes=de),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Call notes...")},null,8,DIe),[[J,h.notes]]),n("div",EIe,[C(Se,{variant:"secondary",onClick:B[13]||(B[13]=de=>d.value=!1)},{default:q(()=>[K(c(P.__("Cancel")),1)]),_:1}),C(Se,{onClick:k},{default:q(()=>[K(c(P.__("Log Call")),1)]),_:1})])])])):j("",!0),u.value?(g(),v("div",PIe,[n("div",jIe,[n("h3",RIe,c(P.__("Schedule Follow-up")),1),z(n("input",{"onUpdate:modelValue":B[14]||(B[14]=de=>_.next_follow_up_at=de),type:"datetime-local",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[J,_.next_follow_up_at]]),z(n("textarea",{"onUpdate:modelValue":B[15]||(B[15]=de=>_.note=de),rows:"3",class:"mb-4 block w-full rounded-md border-gray-300 shadow-sm",placeholder:P.__("Note about follow-up...")},null,8,IIe),[[J,_.note]]),n("div",OIe,[C(Se,{variant:"secondary",onClick:B[16]||(B[16]=de=>u.value=!1)},{default:q(()=>[K(c(P.__("Cancel")),1)]),_:1}),C(Se,{onClick:b},{default:q(()=>[K(c(P.__("Schedule")),1)]),_:1})])])])):j("",!0)])}}},FIe={key:0,class:"mt-8 flex justify-center"},NIe={key:1},zIe={class:"mb-6 flex items-center justify-between"},BIe={class:"text-2xl font-bold text-gray-900"},UIe={class:"mt-1 text-sm text-gray-500"},VIe={class:"flex gap-2"},HIe={key:0,class:"mb-6 grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-8"},qIe={class:"overflow-hidden rounded-lg bg-white p-4 shadow"},WIe={class:"text-sm font-medium text-gray-500"},KIe={class:"mt-1 text-2xl font-semibold text-gray-900"},YIe={class:"overflow-hidden rounded-lg bg-blue-50 p-4 shadow"},GIe={class:"text-sm font-medium text-blue-600"},XIe={class:"mt-1 text-2xl font-semibold text-blue-700"},JIe={class:"overflow-hidden rounded-lg bg-yellow-50 p-4 shadow"},QIe={class:"text-sm font-medium text-yellow-600"},ZIe={class:"mt-1 text-2xl font-semibold text-yellow-700"},eOe={class:"overflow-hidden rounded-lg bg-purple-50 p-4 shadow"},tOe={class:"text-sm font-medium text-purple-600"},sOe={class:"mt-1 text-2xl font-semibold text-purple-700"},nOe={class:"overflow-hidden rounded-lg bg-indigo-50 p-4 shadow"},oOe={class:"text-sm font-medium text-indigo-600"},iOe={class:"mt-1 text-2xl font-semibold text-indigo-700"},rOe={class:"overflow-hidden rounded-lg bg-orange-50 p-4 shadow"},aOe={class:"text-sm font-medium text-orange-600"},lOe={class:"mt-1 text-2xl font-semibold text-orange-700"},dOe={class:"overflow-hidden rounded-lg bg-green-50 p-4 shadow"},cOe={class:"text-sm font-medium text-green-600"},uOe={class:"mt-1 text-2xl font-semibold text-green-700"},fOe={class:"overflow-hidden rounded-lg bg-red-50 p-4 shadow"},mOe={class:"text-sm font-medium text-red-600"},hOe={class:"mt-1 text-2xl font-semibold text-red-700"},pOe={key:1,class:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-3"},gOe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-red-500 to-orange-500 p-4 text-white shadow"},_Oe={class:"flex items-center"},vOe={class:"ml-3"},yOe={class:"text-sm font-medium opacity-90"},bOe={class:"text-2xl font-bold"},xOe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 p-4 text-white shadow"},wOe={class:"flex items-center"},kOe={class:"ml-3"},$Oe={class:"text-sm font-medium opacity-90"},COe={class:"text-2xl font-bold"},SOe={class:"overflow-hidden rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 p-4 text-white shadow"},MOe={class:"flex items-center"},TOe={class:"ml-3"},AOe={class:"text-sm font-medium opacity-90"},DOe={class:"text-2xl font-bold"},EOe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},POe={class:"flex flex-1 flex-wrap gap-2"},jOe={class:"relative w-64 rounded-md shadow-sm"},ROe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},IOe=["placeholder"],OOe={value:""},LOe={value:"new"},FOe={value:"contacted"},NOe={value:"qualified"},zOe={value:"proposal_sent"},BOe={value:"negotiation"},UOe={value:"won"},VOe={value:"lost"},HOe={value:""},qOe={value:"hot"},WOe={value:"warm"},KOe={value:"cold"},YOe={value:""},GOe=["value"],XOe={class:"flex gap-2"},JOe={key:2},QOe={class:"flex flex-col"},ZOe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},eLe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},tLe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},sLe={class:"min-w-full divide-y divide-gray-200"},nLe={class:"divide-y divide-gray-200 bg-white"},oLe={key:0,class:"hover:bg-gray-50"},iLe={colspan:"9",class:"px-6 py-8 text-center text-gray-500"},rLe={class:"whitespace-nowrap px-6 py-4"},aLe={class:"flex items-center"},lLe={class:"ml-4"},dLe={class:"text-sm font-medium text-gray-900"},cLe={class:"text-sm text-gray-500"},uLe={key:0,class:"text-xs text-gray-400"},fLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},mLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},hLe={class:"whitespace-nowrap px-6 py-4"},pLe={class:"whitespace-nowrap px-6 py-4"},gLe={class:"whitespace-nowrap px-6 py-4 text-sm"},_Le={class:"flex items-center"},vLe={class:"h-2 w-16 rounded-full bg-gray-200"},yLe={class:"ml-2 text-gray-600"},bLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},xLe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},wLe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},kLe={class:"flex items-center justify-end gap-2"},$Le={key:3,class:"overflow-x-auto"},CLe={class:"flex min-w-max gap-4 pb-4"},SLe={class:"rounded-lg bg-gray-100 p-3"},MLe={class:"mb-3 flex items-center justify-between"},TLe={class:"font-semibold text-gray-700"},ALe={class:"rounded-full bg-gray-200 px-2 py-1 text-xs font-medium text-gray-600"},DLe={class:"space-y-2"},ELe=["onClick"],PLe={class:"flex items-start justify-between"},jLe={class:"flex-1"},RLe={class:"font-medium text-gray-900"},ILe={class:"text-sm text-gray-500"},OLe={class:"mt-2 flex items-center justify-between text-xs text-gray-400"},LLe={key:0,class:"py-4 text-center text-sm text-gray-400"},FLe={__name:"Index",setup(s){eo();const e=F(!0),t=F(null),o=F(null),i=F("table"),r=F({}),a=Dn("leads",{search:"",status:"",priority:"",source:"",sort_by:"created_at",sort_order:"desc",per_page:15}),l=Qe({show:!1,model:null}),d=Qe({show:!1,id:null});let u=null;const m=()=>{clearTimeout(u),u=setTimeout(()=>{a.get()},300)},p=(L=null)=>{l.model=L,l.show=!0},h=L=>{d.id=L,d.show=!0},_=()=>{a.get(),y(),i.value==="pipeline"&&w()},y=async()=>{try{const L=await ae.get("leads/statistics");t.value=L.data.data}catch{}},x=async()=>{try{const L=await ae.get("leads/options");o.value=L.data.data}catch{}},w=async()=>{try{const L=await ae.get("leads/pipeline");r.value=L.data.data}catch{}},k=async()=>{try{const L=new URLSearchParams(a.params).toString();window.open(`/admin/api/leads/export?${L}`,"_blank")}catch{}},b=async L=>{if(confirm("Convert this lead to a client?"))try{await ae.post(`leads/${L}/convert`),_()}catch{}},M=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),S=L=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-purple-100 text-purple-800",proposal_sent:"bg-indigo-100 text-indigo-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800",N=L=>({hot:"bg-red-100 text-red-800",warm:"bg-orange-100 text-orange-800",cold:"bg-blue-100 text-blue-800"})[L]||"bg-gray-100 text-gray-800",A=L=>({hot:"bg-red-100",warm:"bg-orange-100",cold:"bg-blue-100"})[L]||"bg-gray-100",T=L=>({hot:"text-red-600",warm:"text-orange-600",cold:"text-blue-600"})[L]||"text-gray-600",D=L=>({new:"New Leads",contacted:"Contacted",qualified:"Qualified",proposal_sent:"Proposal Sent",negotiation:"Negotiation"})[L]||L;return Ye(async()=>{try{await Promise.all([a.get(),y(),x()]),e.value=!1}catch{e.value=!1}}),(L,I)=>{var O,P,B,be;return e.value?(g(),v("div",FIe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",NIe,[n("div",zIe,[n("div",null,[n("h1",BIe,c(L.__("Lead Management")),1),n("p",UIe,c(L.__("Track and manage potential clients from emphxs.com")),1)]),n("div",VIe,[C(Se,{variant:"secondary",onClick:k},{default:q(()=>[C(f(Xm),{class:"mr-2 h-4 w-4"}),K(" "+c(L.__("Export")),1)]),_:1}),C(Se,{onClick:I[0]||(I[0]=le=>p())},{default:q(()=>[C(f(pn),{class:"mr-2 h-4 w-4"}),K(" "+c(L.__("Add Lead")),1)]),_:1})])]),t.value?(g(),v("div",HIe,[n("div",qIe,[n("div",WIe,c(L.__("Total")),1),n("div",KIe,c(t.value.total),1)]),n("div",YIe,[n("div",GIe,c(L.__("New")),1),n("div",XIe,c(t.value.new),1)]),n("div",JIe,[n("div",QIe,c(L.__("Contacted")),1),n("div",ZIe,c(t.value.contacted),1)]),n("div",eOe,[n("div",tOe,c(L.__("Qualified")),1),n("div",sOe,c(t.value.qualified),1)]),n("div",nOe,[n("div",oOe,c(L.__("Proposal")),1),n("div",iOe,c(t.value.proposal_sent),1)]),n("div",rOe,[n("div",aOe,c(L.__("Negotiation")),1),n("div",lOe,c(t.value.negotiation),1)]),n("div",dOe,[n("div",cOe,c(L.__("Won")),1),n("div",uOe,c(t.value.won),1)]),n("div",fOe,[n("div",mOe,c(L.__("Lost")),1),n("div",hOe,c(t.value.lost),1)])])):j("",!0),t.value?(g(),v("div",pOe,[n("div",gOe,[n("div",_Oe,[C(f(Gf),{class:"h-8 w-8"}),n("div",vOe,[n("div",yOe,c(L.__("Hot Leads")),1),n("div",bOe,c(t.value.hot),1)])])]),n("div",xOe,[n("div",wOe,[C(f(Ws),{class:"h-8 w-8"}),n("div",kOe,[n("div",$Oe,c(L.__("Needs Follow-up")),1),n("div",COe,c(t.value.needs_follow_up),1)])])]),n("div",SOe,[n("div",MOe,[C(f(gl),{class:"h-8 w-8"}),n("div",TOe,[n("div",AOe,c(L.__("Conversion Rate")),1),n("div",DOe,c(t.value.conversion_rate)+"%",1)])])])])):j("",!0),n("div",EOe,[n("div",POe,[n("div",jOe,[n("div",ROe,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":I[1]||(I[1]=le=>f(a).params.search=le),type:"search",placeholder:L.__("Search leads..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:m},null,40,IOe),[[J,f(a).params.search]])]),z(n("select",{"onUpdate:modelValue":I[2]||(I[2]=le=>f(a).params.status=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I[3]||(I[3]=le=>f(a).get())},[n("option",OOe,c(L.__("All Statuses")),1),n("option",LOe,c(L.__("New")),1),n("option",FOe,c(L.__("Contacted")),1),n("option",NOe,c(L.__("Qualified")),1),n("option",zOe,c(L.__("Proposal Sent")),1),n("option",BOe,c(L.__("Negotiation")),1),n("option",UOe,c(L.__("Won")),1),n("option",VOe,c(L.__("Lost")),1)],544),[[Me,f(a).params.status]]),z(n("select",{"onUpdate:modelValue":I[4]||(I[4]=le=>f(a).params.priority=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I[5]||(I[5]=le=>f(a).get())},[n("option",HOe,c(L.__("All Priorities")),1),n("option",qOe,c(L.__("Hot")),1),n("option",WOe,c(L.__("Warm")),1),n("option",KOe,c(L.__("Cold")),1)],544),[[Me,f(a).params.priority]]),z(n("select",{"onUpdate:modelValue":I[6]||(I[6]=le=>f(a).params.source=le),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:I[7]||(I[7]=le=>f(a).get())},[n("option",YOe,c(L.__("All Sources")),1),(g(!0),v(re,null,ve((O=o.value)==null?void 0:O.sources,(le,de)=>(g(),v("option",{key:de,value:de},c(le),9,GOe))),128))],544),[[Me,f(a).params.source]])]),n("div",XOe,[n("button",{class:Q([[i.value==="table"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:I[8]||(I[8]=le=>i.value="table")},[C(f(_$),{class:"h-5 w-5"})],2),n("button",{class:Q([[i.value==="pipeline"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"],"rounded-md p-2"]),onClick:I[9]||(I[9]=le=>{i.value="pipeline",w()})},[C(f(Uv),{class:"h-5 w-5"})],2)])]),i.value==="table"?(g(),v("section",JOe,[n("div",QOe,[n("div",ZOe,[n("div",eLe,[n("div",tLe,[n("table",sLe,[n("thead",null,[n("tr",null,[C(je,{name:"lead",index:f(a),label:L.__("Lead"),sort:"first_name"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Service"),sort:"service_interest"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Budget")},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Status"),sort:"status"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Priority"),sort:"priority"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Score"),sort:"score"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Source"),sort:"source"},null,8,["index","label"]),C(je,{name:"lead",index:f(a),label:L.__("Created"),sort:"created_at"},null,8,["index","label"]),I[12]||(I[12]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",nLe,[(B=(P=f(a).data)==null?void 0:P.data)!=null&&B.length?j("",!0):(g(),v("tr",oLe,[n("td",iLe,c(L.__("No leads found")),1)])),(g(!0),v(re,null,ve(((be=f(a).data)==null?void 0:be.data)||[],le=>{var de,ce,me,Z,ie,Te;return g(),v("tr",{key:le.id,class:"hover:bg-gray-50"},[n("td",rLe,[n("div",aLe,[n("div",{class:Q(["flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full",A(le.priority)])},[n("span",{class:Q(["text-sm font-medium",T(le.priority)])},c(le.first_name.charAt(0).toUpperCase())+c(le.last_name?le.last_name.charAt(0).toUpperCase():""),3)],2),n("div",lLe,[n("div",dLe,c(le.full_name),1),n("div",cLe,c(le.email),1),le.company_name?(g(),v("div",uLe,c(le.company_name),1)):j("",!0)])])]),n("td",fLe,c(((ce=(de=o.value)==null?void 0:de.service_interests)==null?void 0:ce[le.service_interest])||le.service_interest),1),n("td",mLe,c(((Z=(me=o.value)==null?void 0:me.budget_ranges)==null?void 0:Z[le.budget_range])||"-"),1),n("td",hLe,[n("span",{class:Q([S(le.status),"inline-flex rounded-full px-2 text-xs font-semibold leading-5"])},c(le.status_label),3)]),n("td",pLe,[n("span",{class:Q([N(le.priority),"inline-flex items-center rounded-full px-2 text-xs font-semibold leading-5"])},[le.priority==="hot"?(g(),ne(f(Gf),{key:0,class:"mr-1 h-3 w-3"})):j("",!0),K(" "+c(le.priority.charAt(0).toUpperCase()+le.priority.slice(1)),1)],2)]),n("td",gLe,[n("div",_Le,[n("div",vLe,[n("div",{style:kt({width:le.score+"%"}),class:"h-2 rounded-full bg-indigo-600"},null,4)]),n("span",yLe,c(le.score),1)])]),n("td",bLe,c(((Te=(ie=o.value)==null?void 0:ie.sources)==null?void 0:Te[le.source])||le.source),1),n("td",xLe,c(M(le.created_at)),1),n("td",wLe,[n("div",kLe,[C(f(hn),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:se=>h(le.id)},null,8,["onClick"]),C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:se=>p(le)},null,8,["onClick"]),le.status!=="won"?(g(),ne(f(Pr),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-green-600",title:"Convert to Client",onClick:se=>b(le.id)},null,8,["onClick"])):j("",!0),C(f(Vt),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:se=>f(a).deleteIt(le.id)},null,8,["onClick"])])])])}),128))])]),C(ms,{index:f(a)},null,8,["index"])])])])])])):j("",!0),i.value==="pipeline"?(g(),v("section",$Le,[n("div",CLe,[(g(!0),v(re,null,ve(r.value,(le,de)=>(g(),v("div",{key:de,class:"w-72 flex-shrink-0"},[n("div",SLe,[n("div",MLe,[n("h3",TLe,c(D(de)),1),n("span",ALe,c(le.length),1)]),n("div",DLe,[(g(!0),v(re,null,ve(le,ce=>{var me,Z;return g(),v("div",{key:ce.id,class:"cursor-pointer rounded-lg bg-white p-3 shadow hover:shadow-md",onClick:ie=>h(ce.id)},[n("div",PLe,[n("div",jLe,[n("div",RLe,c(ce.full_name),1),n("div",ILe,c(ce.company_name||ce.email),1)]),n("span",{class:Q([N(ce.priority),"rounded px-1.5 py-0.5 text-xs font-medium"])},c(ce.priority.charAt(0).toUpperCase()),3)]),n("div",OLe,[n("span",null,c((Z=(me=o.value)==null?void 0:me.service_interests)==null?void 0:Z[ce.service_interest]),1),n("span",null,"Score: "+c(ce.score),1)])],8,ELe)}),128)),le.length?j("",!0):(g(),v("div",LLe,c(L.__("No leads")),1))])])]))),128))])])):j("",!0),l.show?(g(),ne(ls,{key:4,size:"3xl",onSaved:_},{default:q(()=>[C(jje,{"model-value":l.model,options:o.value,onClose:I[10]||(I[10]=le=>l.show=!1)},null,8,["model-value","options"])]),_:1})):j("",!0),d.show?(g(),ne(ls,{key:5,size:"4xl"},{default:q(()=>[C(LIe,{"lead-id":d.id,onClose:I[11]||(I[11]=le=>d.show=!1),onUpdated:_},null,8,["lead-id"])]),_:1})):j("",!0)]))}}},NLe={class:"p-6"},zLe={class:"flex items-center justify-between mb-6"},BLe={class:"text-lg font-semibold text-gray-900"},ULe={class:"space-y-4"},VLe={for:"amount",class:"block text-sm font-medium text-gray-700"},HLe={class:"mt-1 relative rounded-md shadow-sm"},qLe={key:0,class:"mt-1 text-sm text-red-600"},WLe={for:"reason",class:"block text-sm font-medium text-gray-700"},KLe=["placeholder"],YLe={key:0,class:"mt-1 text-sm text-red-600"},GLe={for:"expected_deduction_date",class:"block text-sm font-medium text-gray-700"},XLe={class:"mt-1 text-xs text-gray-500"},JLe={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},QLe={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var u,m,p;const t=s,o=e,i=Je("__"),r=F(!1),a=F({}),l=Qe({amount:((u=t.modelValue)==null?void 0:u.amount)||"",reason:((m=t.modelValue)==null?void 0:m.reason)||"",expected_deduction_date:((p=t.modelValue)==null?void 0:p.expected_deduction_date)||""});$t(()=>t.modelValue,h=>{h&&(l.amount=h.amount||"",l.reason=h.reason||"",l.expected_deduction_date=h.expected_deduction_date||"")},{immediate:!0});const d=async()=>{var h,_,y;r.value=!0,a.value={};try{t.modelValue?await ae.put(`advance-requests/${t.modelValue.id}`,l):await ae.post("advance-requests",l),o("saved"),o("close")}catch(x){((h=x.response)==null?void 0:h.status)===422?a.value=x.response.data.errors||{}:alert(((y=(_=x.response)==null?void 0:_.data)==null?void 0:y.message)||"Failed to save advance request")}finally{r.value=!1}};return(h,_)=>(g(),v("form",{onSubmit:Ke(d,["prevent"])},[n("div",NLe,[n("div",zLe,[n("h3",BLe,c(s.modelValue?f(i)("Edit Advance Request"):f(i)("New Advance Request")),1),n("button",{type:"button",class:"text-gray-400 hover:text-gray-600",onClick:_[0]||(_[0]=y=>o("close"))},[C(f(ws),{class:"h-6 w-6"})])]),n("div",ULe,[n("div",null,[n("label",VLe,[K(c(f(i)("Amount"))+" ",1),_[5]||(_[5]=n("span",{class:"text-red-500"},"*",-1))]),n("div",HLe,[_[6]||(_[6]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("span",{class:"text-gray-500 sm:text-sm"},"MWK")],-1)),z(n("input",{id:"amount","onUpdate:modelValue":_[1]||(_[1]=y=>l.amount=y),type:"number",step:"0.01",min:"1",required:"",class:Q(["block w-full pl-14 pr-4 rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.amount}])},null,2),[[J,l.amount,void 0,{number:!0}]])]),a.value.amount?(g(),v("p",qLe,c(a.value.amount[0]),1)):j("",!0)]),n("div",null,[n("label",WLe,[K(c(f(i)("Reason"))+" ",1),_[7]||(_[7]=n("span",{class:"text-red-500"},"*",-1))]),z(n("textarea",{id:"reason","onUpdate:modelValue":_[2]||(_[2]=y=>l.reason=y),rows:"4",required:"",placeholder:f(i)("Please explain why you need this advance..."),class:Q(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.reason}])},null,10,KLe),[[J,l.reason]]),a.value.reason?(g(),v("p",YLe,c(a.value.reason[0]),1)):j("",!0)]),n("div",null,[n("label",GLe,c(f(i)("Expected Deduction Date")),1),z(n("input",{id:"expected_deduction_date","onUpdate:modelValue":_[3]||(_[3]=y=>l.expected_deduction_date=y),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[J,l.expected_deduction_date]]),n("p",XLe,c(f(i)("When do you expect this to be deducted from your salary?")),1)])])]),n("div",JLe,[C(Se,{type:"button",white:"",onClick:_[4]||(_[4]=y=>o("close"))},{default:q(()=>[K(c(f(i)("Cancel")),1)]),_:1}),C(Se,{type:"submit",disabled:r.value},{default:q(()=>[K(c(r.value?f(i)("Saving..."):s.modelValue?f(i)("Update"):f(i)("Submit Request")),1)]),_:1},8,["disabled"])])],32))}},ZLe={key:0,class:"mt-8 flex justify-center"},eFe={key:1},tFe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},sFe={class:"overflow-hidden rounded-lg bg-white shadow"},nFe={class:"p-5"},oFe={class:"flex items-center"},iFe={class:"flex-shrink-0"},rFe={class:"ml-5 w-0 flex-1"},aFe={class:"truncate text-sm font-medium text-gray-500"},lFe={class:"text-lg font-semibold text-gray-900"},dFe={class:"overflow-hidden rounded-lg bg-white shadow"},cFe={class:"p-5"},uFe={class:"flex items-center"},fFe={class:"flex-shrink-0"},mFe={class:"ml-5 w-0 flex-1"},hFe={class:"truncate text-sm font-medium text-gray-500"},pFe={class:"text-lg font-semibold text-gray-900"},gFe={class:"overflow-hidden rounded-lg bg-white shadow"},_Fe={class:"p-5"},vFe={class:"flex items-center"},yFe={class:"flex-shrink-0"},bFe={class:"ml-5 w-0 flex-1"},xFe={class:"truncate text-sm font-medium text-gray-500"},wFe={class:"text-lg font-semibold text-gray-900"},kFe={class:"overflow-hidden rounded-lg bg-white shadow"},$Fe={class:"p-5"},CFe={class:"flex items-center"},SFe={class:"flex-shrink-0"},MFe={class:"ml-5 w-0 flex-1"},TFe={class:"truncate text-sm font-medium text-gray-500"},AFe={class:"text-lg font-semibold text-gray-900"},DFe={class:"mb-6"},EFe={class:"border-b border-gray-200"},PFe={class:"-mb-px flex space-x-8"},jFe={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},RFe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},IFe={class:"flex flex-1 gap-2"},OFe={class:"relative w-64 rounded-md shadow-sm"},LFe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},FFe=["placeholder"],NFe={value:""},zFe={value:"pending"},BFe={value:"approved"},UFe={value:"rejected"},VFe={value:"deducted"},HFe={class:"ltr:ml-auto rtl:mr-auto"},qFe={class:"flex flex-col"},WFe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},KFe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},YFe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},GFe={class:"min-w-full divide-y divide-gray-200"},XFe={class:"divide-y divide-gray-200 bg-white"},JFe={key:0,class:"whitespace-nowrap px-6 py-4"},QFe={class:"flex items-center"},ZFe={class:"h-10 w-10 flex-shrink-0"},eNe={class:"ml-4"},tNe={class:"text-sm font-medium text-gray-900"},sNe={class:"text-sm text-gray-500"},nNe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},oNe={class:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate"},iNe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},rNe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},aNe={key:0,class:"text-orange-600 font-medium"},lNe={key:1},dNe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},cNe={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},uNe={class:"p-6"},fNe={class:"flex items-center justify-between mb-4"},mNe={class:"text-lg font-semibold text-gray-900"},hNe={key:0,class:"space-y-4"},pNe={class:"grid grid-cols-2 gap-4"},gNe={class:"block text-sm font-medium text-gray-700"},_Ne={class:"mt-1 text-sm text-gray-900"},vNe={class:"block text-sm font-medium text-gray-700"},yNe={class:"mt-1 text-sm text-gray-900 font-semibold"},bNe={class:"block text-sm font-medium text-gray-700"},xNe={class:"mt-1 text-sm text-gray-900"},wNe={class:"block text-sm font-medium text-gray-700"},kNe={class:"mt-1 text-sm text-orange-600 font-semibold"},$Ne={class:"block text-sm font-medium text-gray-700"},CNe={class:"mt-1"},SNe={class:"block text-sm font-medium text-gray-700"},MNe={class:"mt-1 text-sm text-gray-900"},TNe={class:"block text-sm font-medium text-gray-700"},ANe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},DNe={key:0},ENe={class:"block text-sm font-medium text-gray-700"},PNe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},jNe={key:1},RNe={class:"block text-sm font-medium text-gray-700"},INe={class:"mt-1 text-sm text-gray-900"},ONe={class:"text-sm text-gray-500"},LNe={class:"mt-6 flex justify-end"},FNe={class:"p-6"},NNe={class:"flex items-center justify-between mb-4"},zNe={class:"text-lg font-semibold text-gray-900"},BNe={class:"space-y-4"},UNe={class:"bg-gray-50 p-4 rounded-lg"},VNe={class:"text-sm text-gray-700"},HNe={class:"text-sm text-gray-700 mt-1"},qNe={class:"text-sm text-gray-700"},WNe={class:"block text-sm font-medium text-gray-700"},KNe=["required"],YNe={class:"mt-6 flex justify-end space-x-3"},GNe={class:"p-6"},XNe={class:"flex items-center justify-between mb-4"},JNe={class:"text-lg font-semibold text-gray-900"},QNe={class:"space-y-4"},ZNe={class:"bg-gray-50 p-4 rounded-lg"},eze={class:"text-sm text-gray-700"},tze={class:"text-sm text-gray-700 mt-1"},sze={class:"text-sm text-gray-700 mt-1"},nze={class:"text-sm text-orange-600 font-semibold mt-1"},oze={class:"block text-sm font-medium text-gray-700"},ize=["max"],rze={class:"mt-1 text-xs text-gray-500"},aze={class:"mt-6 flex justify-end space-x-3"},lze={__name:"Index",setup(s){const e=F(!0),t=F(null),o=F("my-requests"),i=F(null),r=Dn("advance-requests",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=Qe({show:!1,model:null}),l=Qe({show:!1,request:null}),d=Qe({show:!1,action:null,request:null,notes:""}),u=Qe({show:!1,request:null,amount:0,maxAmount:0}),m=(A,T="MWK")=>new Intl.NumberFormat("en-MW",{style:"currency",currency:T||"MWK",minimumFractionDigits:2}).format(A||0);let p=null;const h=()=>{clearTimeout(p),p=setTimeout(()=>{r.get()},300)},_=(A=null)=>{a.model=A,a.show=!0},y=A=>{l.request=A,l.show=!0},x=A=>{d.request=A,d.action="approve",d.notes="",d.show=!0},w=A=>{d.request=A,d.action="reject",d.notes="",d.show=!0},k=A=>{u.request=A,u.maxAmount=A.amount-A.amount_deducted,u.amount=u.maxAmount,u.show=!0},b=async()=>{var A,T;try{const D=d.action==="approve"?"approve":"reject";await ae.post(`advance-requests/${d.request.id}/${D}`,{admin_notes:d.notes}),d.show=!1,r.get(),S()}catch(D){alert(((T=(A=D.response)==null?void 0:A.data)==null?void 0:T.message)||"Failed to process advance request")}},M=async()=>{var A,T;try{await ae.post(`advance-requests/${u.request.id}/deduct`,{amount:u.amount}),u.show=!1,r.get(),S()}catch(D){alert(((T=(A=D.response)==null?void 0:A.data)==null?void 0:T.message)||"Failed to record deduction")}},S=async()=>{try{const A=await ae.get("advance-requests/statistics");t.value=A.data.data}catch{}},N=()=>{var A;i.value=(A=ht.user)==null?void 0:A.id};return $t(o,A=>{A==="my-requests"?(r.params.user_id=i.value,r.params.status=""):A==="pending-approvals"?(r.params.status="pending",r.params.user_id=""):(r.params.user_id="",r.params.status=""),r.get()}),Ye(async()=>{N(),r.params.user_id=i.value,await r.get(),await S(),e.value=!1}),(A,T)=>e.value?(g(),v("div",ZLe,[C(bt,{size:"40",color:"#5850ec"})])):(g(),v("div",eFe,[t.value?(g(),v("div",tFe,[n("div",sFe,[n("div",nFe,[n("div",oFe,[n("div",iFe,[C(f(Ws),{class:"h-6 w-6 text-yellow-400"})]),n("div",rFe,[n("dl",null,[n("dt",aFe,c(A.__("Pending")),1),n("dd",lFe,c(t.value.pending),1)])])])])]),n("div",dFe,[n("div",cFe,[n("div",uFe,[n("div",fFe,[C(f(ps),{class:"h-6 w-6 text-green-400"})]),n("div",mFe,[n("dl",null,[n("dt",hFe,c(A.__("Approved")),1),n("dd",pFe,c(t.value.approved),1)])])])])]),n("div",gFe,[n("div",_Fe,[n("div",vFe,[n("div",yFe,[C(f(sr),{class:"h-6 w-6 text-blue-400"})]),n("div",bFe,[n("dl",null,[n("dt",xFe,c(A.__("Outstanding")),1),n("dd",wFe,c(m(t.value.total_outstanding)),1)])])])])]),n("div",kFe,[n("div",$Fe,[n("div",CFe,[n("div",SFe,[C(f(Xm),{class:"h-6 w-6 text-purple-400"})]),n("div",MFe,[n("dl",null,[n("dt",TFe,c(A.__("Deducted")),1),n("dd",AFe,c(t.value.deducted),1)])])])])])])):j("",!0),n("div",DFe,[n("div",EFe,[n("nav",PFe,[n("button",{class:Q([o.value==="my-requests"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:T[0]||(T[0]=D=>o.value="my-requests")},c(A.__("My Requests")),3),f(fs)("advance_request:view-all")?(g(),v("button",{key:0,class:Q([o.value==="all-requests"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:T[1]||(T[1]=D=>o.value="all-requests")},c(A.__("All Requests")),3)):j("",!0),f(fs)("advance_request:approve")?(g(),v("button",{key:1,class:Q([o.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"]),onClick:T[2]||(T[2]=D=>o.value="pending-approvals")},[K(c(A.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(g(),v("span",jFe,c(t.value.pending),1)):j("",!0)],2)):j("",!0)])])]),n("div",RFe,[n("div",IFe,[n("div",OFe,[n("div",LFe,[C(f($s),{class:"h-5 w-5 text-gray-400"})]),z(n("input",{"onUpdate:modelValue":T[3]||(T[3]=D=>f(r).params.search=D),type:"search",placeholder:A.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:h},null,40,FFe),[[J,f(r).params.search]])]),z(n("select",{"onUpdate:modelValue":T[4]||(T[4]=D=>f(r).params.status=D),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:T[5]||(T[5]=D=>f(r).get())},[n("option",NFe,c(A.__("All Statuses")),1),n("option",zFe,c(A.__("Pending")),1),n("option",BFe,c(A.__("Approved")),1),n("option",UFe,c(A.__("Rejected")),1),n("option",VFe,c(A.__("Deducted")),1)],544),[[Me,f(r).params.status]])]),n("div",HFe,[f(fs)("advance_request:create")?(g(),ne(Se,{key:0,size:"sm",onClick:T[6]||(T[6]=D=>_())},{default:q(()=>[K(c(A.__("Request Advance")),1)]),_:1})):j("",!0)])]),n("section",null,[n("div",qFe,[n("div",WFe,[n("div",KFe,[n("div",YFe,[n("table",GFe,[n("thead",null,[n("tr",null,[o.value!=="my-requests"?(g(),ne(je,{key:0,name:"advance_request",index:f(r),label:A.__("Employee")},null,8,["index","label"])):j("",!0),C(je,{name:"advance_request",index:f(r),label:A.__("Amount"),sort:"amount"},null,8,["index","label"]),C(je,{name:"advance_request",index:f(r),label:A.__("Reason")},null,8,["index","label"]),C(je,{name:"advance_request",index:f(r),label:A.__("Status"),sort:"status"},null,8,["index","label"]),C(je,{name:"advance_request",index:f(r),label:A.__("Outstanding")},null,8,["index","label"]),C(je,{name:"advance_request",index:f(r),label:A.__("Requested"),sort:"created_at"},null,8,["index","label"]),T[17]||(T[17]=n("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),n("tbody",XFe,[(g(!0),v(re,null,ve(f(r).data.data,D=>(g(),v("tr",{key:D.id,class:"hover:bg-gray-50"},[o.value!=="my-requests"?(g(),v("td",JFe,[n("div",QFe,[n("div",ZFe,[C(Xt,{user:D.user,size:"10"},null,8,["user"])]),n("div",eNe,[n("div",tNe,c(D.user.name),1),n("div",sNe,c(D.user.email),1)])])])):j("",!0),n("td",nNe,c(m(D.amount,D.currency)),1),n("td",oNe,c(D.reason),1),n("td",iNe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":D.status==="pending","bg-green-100 text-green-800":D.status==="approved","bg-red-100 text-red-800":D.status==="rejected","bg-blue-100 text-blue-800":D.status==="deducted"}])},c(D.status.charAt(0).toUpperCase()+D.status.slice(1)),3)]),n("td",rNe,[D.status==="approved"?(g(),v("span",aNe,c(m(D.amount-D.amount_deducted,D.currency)),1)):(g(),v("span",lNe,"-"))]),n("td",dNe,c(new Date(D.created_at).toLocaleDateString()),1),n("td",cNe,[o.value==="pending-approvals"&&D.status==="pending"?(g(),v(re,{key:0},[C(Se,{size:"xs",variant:"success",onClick:L=>x(D)},{default:q(()=>[K(c(A.__("Approve")),1)]),_:1},8,["onClick"]),C(Se,{size:"xs",variant:"danger",class:"ml-2",onClick:L=>w(D)},{default:q(()=>[K(c(A.__("Reject")),1)]),_:1},8,["onClick"])],64)):j("",!0),f(fs)("advance_request:deduct")&&D.status==="approved"&&D.amount>D.amount_deducted?(g(),ne(Se,{key:1,size:"xs",variant:"primary",onClick:L=>k(D)},{default:q(()=>[K(c(A.__("Deduct")),1)]),_:1},8,["onClick"])):j("",!0),D.status==="pending"&&D.user_id===i.value?(g(),v(re,{key:2},[C(f(en),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800 ml-2",onClick:L=>_(D)},null,8,["onClick"]),C(f(Vt),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:L=>f(r).deleteIt(D.id)},null,8,["onClick"])],64)):j("",!0),C(f(hn),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:L=>y(D)},null,8,["onClick"])])]))),128))])]),C(ms,{index:f(r)},null,8,["index"])])])])])]),a.show?(g(),ne(ls,{key:1,size:"lg",onSaved:T[8]||(T[8]=D=>f(r).get())},{default:q(()=>[C(QLe,{"model-value":a.model,onClose:T[7]||(T[7]=D=>a.show=!1)},null,8,["model-value"])]),_:1})):j("",!0),l.show?(g(),ne(Tn,{key:2,width:"max-w-2xl"},{default:q(()=>{var D,L;return[n("div",uNe,[n("div",fNe,[n("h3",mNe,c(A.__("Advance Request Details")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:T[9]||(T[9]=I=>l.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),l.request?(g(),v("div",hNe,[n("div",pNe,[n("div",null,[n("label",gNe,c(A.__("Employee")),1),n("p",_Ne,c((D=l.request.user)==null?void 0:D.name),1)]),n("div",null,[n("label",vNe,c(A.__("Amount")),1),n("p",yNe,c(m(l.request.amount,l.request.currency)),1)]),n("div",null,[n("label",bNe,c(A.__("Amount Deducted")),1),n("p",xNe,c(m(l.request.amount_deducted,l.request.currency)),1)]),n("div",null,[n("label",wNe,c(A.__("Outstanding Balance")),1),n("p",kNe,c(m(l.request.amount-l.request.amount_deducted,l.request.currency)),1)]),n("div",null,[n("label",$Ne,c(A.__("Status")),1),n("p",CNe,[n("span",{class:Q(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.request.status==="pending","bg-green-100 text-green-800":l.request.status==="approved","bg-red-100 text-red-800":l.request.status==="rejected","bg-blue-100 text-blue-800":l.request.status==="deducted"}])},c(l.request.status.charAt(0).toUpperCase()+l.request.status.slice(1)),3)])]),n("div",null,[n("label",SNe,c(A.__("Requested Date")),1),n("p",MNe,c(new Date(l.request.created_at).toLocaleDateString()),1)])]),n("div",null,[n("label",TNe,c(A.__("Reason")),1),n("p",ANe,c(l.request.reason),1)]),l.request.admin_notes?(g(),v("div",DNe,[n("label",ENe,c(A.__("Admin Notes")),1),n("p",PNe,c(l.request.admin_notes),1)])):j("",!0),l.request.approved_by?(g(),v("div",jNe,[n("label",RNe,c(A.__("Approved/Rejected By")),1),n("p",INe,c((L=l.request.approved_by)==null?void 0:L.name),1),n("p",ONe,c(new Date(l.request.approved_at).toLocaleString()),1)])):j("",!0)])):j("",!0),n("div",LNe,[C(Se,{onClick:T[10]||(T[10]=I=>l.show=!1)},{default:q(()=>[K(c(A.__("Close")),1)]),_:1})])])]}),_:1})):j("",!0),d.show?(g(),ne(Tn,{key:3,width:"max-w-md"},{default:q(()=>{var D,L,I,O;return[n("div",FNe,[n("div",NNe,[n("h3",zNe,c(d.action==="approve"?A.__("Approve Advance Request"):A.__("Reject Advance Request")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:T[11]||(T[11]=P=>d.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),n("div",BNe,[n("div",UNe,[n("p",VNe,[n("strong",null,c(A.__("Employee"))+":",1),K(" "+c((L=(D=d.request)==null?void 0:D.user)==null?void 0:L.name),1)]),n("p",HNe,[n("strong",null,c(A.__("Amount"))+":",1),K(" "+c(m((I=d.request)==null?void 0:I.amount,(O=d.request)==null?void 0:O.currency)),1)])]),n("p",qNe,c(d.action==="approve"?A.__("Are you sure you want to approve this advance request?"):A.__("Please provide a reason for rejection:")),1),n("div",null,[n("label",WNe,c(d.action==="approve"?A.__("Admin Notes (Optional)"):A.__("Rejection Reason")),1),z(n("textarea",{"onUpdate:modelValue":T[12]||(T[12]=P=>d.notes=P),rows:"3",required:d.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,KNe),[[J,d.notes]])])]),n("div",YNe,[C(Se,{white:"",onClick:T[13]||(T[13]=P=>d.show=!1)},{default:q(()=>[K(c(A.__("Cancel")),1)]),_:1}),C(Se,{class:Q(d.action==="reject"?"bg-red-600 hover:bg-red-700":""),disabled:d.action==="reject"&&!d.notes,onClick:b},{default:q(()=>[K(c(d.action==="approve"?A.__("Approve"):A.__("Reject")),1)]),_:1},8,["class","disabled"])])])]}),_:1})):j("",!0),u.show?(g(),ne(Tn,{key:4,width:"max-w-md"},{default:q(()=>{var D,L,I,O,P,B,be,le;return[n("div",GNe,[n("div",XNe,[n("h3",JNe,c(A.__("Record Deduction")),1),n("button",{class:"text-gray-400 hover:text-gray-600",onClick:T[14]||(T[14]=de=>u.show=!1)},[C(f(ws),{class:"h-6 w-6"})])]),n("div",QNe,[n("div",ZNe,[n("p",eze,[n("strong",null,c(A.__("Employee"))+":",1),K(" "+c((L=(D=u.request)==null?void 0:D.user)==null?void 0:L.name),1)]),n("p",tze,[n("strong",null,c(A.__("Total Advance"))+":",1),K(" "+c(m((I=u.request)==null?void 0:I.amount,(O=u.request)==null?void 0:O.currency)),1)]),n("p",sze,[n("strong",null,c(A.__("Already Deducted"))+":",1),K(" "+c(m((P=u.request)==null?void 0:P.amount_deducted,(B=u.request)==null?void 0:B.currency)),1)]),n("p",nze,[n("strong",null,c(A.__("Outstanding"))+":",1),K(" "+c(m(u.maxAmount,(be=u.request)==null?void 0:be.currency)),1)])]),n("div",null,[n("label",oze,c(A.__("Deduction Amount")),1),z(n("input",{"onUpdate:modelValue":T[15]||(T[15]=de=>u.amount=de),type:"number",step:"0.01",min:.01,max:u.maxAmount,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,ize),[[J,u.amount,void 0,{number:!0}]]),n("p",rze,c(A.__("Maximum"))+": "+c(m(u.maxAmount,(le=u.request)==null?void 0:le.currency)),1)])]),n("div",aze,[C(Se,{white:"",onClick:T[16]||(T[16]=de=>u.show=!1)},{default:q(()=>[K(c(A.__("Cancel")),1)]),_:1}),C(Se,{disabled:!u.amount||u.amount<=0||u.amount>u.maxAmount,onClick:M},{default:q(()=>[K(c(A.__("Record Deduction")),1)]),_:1},8,["disabled"])])])]}),_:1})):j("",!0)]))}},dze=[{path:"/",component:rE},{path:"/profile",component:RE},{path:"/projects",name:"ProjectsIndex",component:oW},{path:"/projects/:id",name:"ProjectsDetail",component:k_},{path:"/projects/:id/tasks/:taskId",name:"ProjectsDetailTask",component:k_,props:!0},{path:"/users",name:"Users",component:Eq},{path:"/labels",name:"Labels",component:Vq},{path:"/roles",name:"Roles",component:XV},{path:"/tasks",name:"Tasks",component:EH},{path:"/attendance",name:"Attendance",component:nQ},{path:"/employees",name:"Employees",component:gne},{path:"/employees/:id",name:"EmployeeDetail",component:uie},{path:"/leaves",name:"Leaves",component:lle},{path:"/holidays",name:"Holidays",component:ode},{path:"/payrolls",name:"Payrolls",component:Nue},{path:"/clients",name:"Clients",component:Jme},{path:"/companies",name:"Companies",component:lpe},{path:"/quotations",name:"Quotations",component:y1e},{path:"/quotations/:id",name:"QuotationDetail",component:eye},{path:"/expenses",name:"Expenses",component:Bxe},{path:"/income",name:"Income",component:ake},{path:"/profit-loss",name:"ProfitLoss",component:R4e},{path:"/adsense-reports",name:"AdSenseReports",component:VG},{path:"/settings/general",component:XL},{path:"/settings/email",component:zL},{path:"/settings/adsense",component:LF},{path:"/settings/countries",component:Oz},{path:"/settings/user-assignments",component:wU},{path:"/settings/sidebar-features",component:jU},{path:"/video-enhancer",component:IV},{path:"/audit-trail",name:"AuditTrail",component:M3e},{path:"/service-providers",name:"ServiceProviders",component:H6e},{path:"/service-providers/:id",name:"ServiceProvidersDetail",component:I8e},{path:"/recording-sessions",name:"RecordingSessions",component:R7e},{path:"/lesson-plans",name:"LessonPlans",component:NSe},{path:"/subjects",name:"Subjects",component:X9e},{path:"/working-hours",name:"WorkingHours",component:vAe},{path:"/activity-reports",name:"ActivityReports",component:XEe},{path:"/activity-reports/settings",name:"ActivityReportsSettings",component:IPe},{path:"/leads",name:"Leads",component:FLe},{path:"/advance-requests",name:"AdvanceRequests",component:lze},{path:"/403",name:"Forbidden",component:bD},{path:"/:pathMatch(.*)*",name:"NotFound",component:yD}],ru=Vk({history:ik(ht.prefix),routes:dze});ru.beforeEach((s,e,t)=>{t()});ru.afterEach((s,e)=>{});ru.onError(s=>{});mb.config.errorHandler=(s,e,t)=>{};window.addEventListener("unhandledrejection",s=>{});try{mb.use(O5()).use(k6).use(ru).mount("#app")}catch(s){alert("Mount Error: "+(s instanceof Error?s.message:String(s)))}
