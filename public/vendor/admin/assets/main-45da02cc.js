var Cx=Object.defineProperty;var Sx=(s,e,t)=>e in s?Cx(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Fe=(s,e,t)=>(Sx(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gh(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const jt={},lr=[],En=()=>{},Xg=()=>!1,od=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Xh=s=>s.startsWith("onUpdate:"),ns=Object.assign,Jh=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},Mx=Object.prototype.hasOwnProperty,St=(s,e)=>Mx.call(s,e),Ye=Array.isArray,cr=s=>Ja(s)==="[object Map]",Mr=s=>Ja(s)==="[object Set]",Cp=s=>Ja(s)==="[object Date]",ot=s=>typeof s=="function",Gt=s=>typeof s=="string",Ln=s=>typeof s=="symbol",It=s=>s!==null&&typeof s=="object",Jg=s=>(It(s)||ot(s))&&ot(s.then)&&ot(s.catch),Qg=Object.prototype.toString,Ja=s=>Qg.call(s),Tx=s=>Ja(s).slice(8,-1),Zg=s=>Ja(s)==="[object Object]",Qh=s=>Gt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,ha=Gh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),id=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},Dx=/-\w/g,kn=id(s=>s.replace(Dx,e=>e.slice(1).toUpperCase())),Ax=/\B([A-Z])/g,ri=id(s=>s.replace(Ax,"-$1").toLowerCase()),rd=id(s=>s.charAt(0).toUpperCase()+s.slice(1)),ou=id(s=>s?`on${rd(s)}`:""),Xo=(s,e)=>!Object.is(s,e),Jl=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},e_=(s,e,t,n=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:n,value:t})},xc=s=>{const e=parseFloat(s);return isNaN(e)?s:e},Ex=s=>{const e=Gt(s)?Number(s):NaN;return isNaN(e)?s:e};let Sp;const ad=()=>Sp||(Sp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mt(s){if(Ye(s)){const e={};for(let t=0;t<s.length;t++){const n=s[t],o=Gt(n)?Lx(n):Mt(n);if(o)for(const r in o)e[r]=o[r]}return e}else if(Gt(s)||It(s))return s}const Px=/;(?![^(]*\))/g,Ox=/:([^]+)/,Rx=/\/\*[^]*?\*\//g;function Lx(s){const e={};return s.replace(Rx,"").split(Px).forEach(t=>{if(t){const n=t.split(Ox);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ae(s){let e="";if(Gt(s))e=s;else if(Ye(s))for(let t=0;t<s.length;t++){const n=ae(s[t]);n&&(e+=n+" ")}else if(It(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const Ix="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jx=Gh(Ix);function t_(s){return!!s||s===""}function Fx(s,e){if(s.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<s.length;n++)t=Bi(s[n],e[n]);return t}function Bi(s,e){if(s===e)return!0;let t=Cp(s),n=Cp(e);if(t||n)return t&&n?s.getTime()===e.getTime():!1;if(t=Ln(s),n=Ln(e),t||n)return s===e;if(t=Ye(s),n=Ye(e),t||n)return t&&n?Fx(s,e):!1;if(t=It(s),n=It(e),t||n){if(!t||!n)return!1;const o=Object.keys(s).length,r=Object.keys(e).length;if(o!==r)return!1;for(const a in s){const l=s.hasOwnProperty(a),c=e.hasOwnProperty(a);if(l&&!c||!l&&c||!Bi(s[a],e[a]))return!1}}return String(s)===String(e)}function Zh(s,e){return s.findIndex(t=>Bi(t,e))}const s_=s=>!!(s&&s.__v_isRef===!0),h=s=>Gt(s)?s:s==null?"":Ye(s)||It(s)&&(s.toString===Qg||!ot(s.toString))?s_(s)?h(s.value):JSON.stringify(s,n_,2):String(s),n_=(s,e)=>s_(e)?n_(s,e.value):cr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o],r)=>(t[iu(n,r)+" =>"]=o,t),{})}:Mr(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>iu(t))}:Ln(e)?iu(e):It(e)&&!Ye(e)&&!Zg(e)?String(e):e,iu=(s,e="")=>{var t;return Ln(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ms;class o_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ms,!e&&Ms&&(this.index=(Ms.scopes||(Ms.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ms;try{return Ms=this,e()}finally{Ms=t}}}on(){++this._on===1&&(this.prevScope=Ms,Ms=this)}off(){this._on>0&&--this._on===0&&(Ms=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function i_(s){return new o_(s)}function r_(){return Ms}function Nx(s,e=!1){Ms&&Ms.cleanups.push(s)}let Bt;const ru=new WeakSet;class a_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ms&&Ms.active&&Ms.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ru.has(this)&&(ru.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mp(this),d_(this);const e=Bt,t=Pn;Bt=this,Pn=!0;try{return this.fn()}finally{u_(this),Bt=e,Pn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sf(e);this.deps=this.depsTail=void 0,Mp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ru.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nh(this)&&this.run()}get dirty(){return nh(this)}}let l_=0,fa,pa;function c_(s,e=!1){if(s.flags|=8,e){s.next=pa,pa=s;return}s.next=fa,fa=s}function ef(){l_++}function tf(){if(--l_>0)return;if(pa){let e=pa;for(pa=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;fa;){let e=fa;for(fa=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){s||(s=n)}e=t}}if(s)throw s}function d_(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function u_(s){let e,t=s.depsTail,n=t;for(;n;){const o=n.prevDep;n.version===-1?(n===t&&(t=o),sf(n),zx(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}s.deps=e,s.depsTail=t}function nh(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function h_(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Oa)||(s.globalVersion=Oa,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!nh(s))))return;s.flags|=2;const e=s.dep,t=Bt,n=Pn;Bt=s,Pn=!0;try{d_(s);const o=s.fn(s._value);(e.version===0||Xo(o,s._value))&&(s.flags|=128,s._value=o,e.version++)}catch(o){throw e.version++,o}finally{Bt=t,Pn=n,u_(s),s.flags&=-3}}function sf(s,e=!1){const{dep:t,prevSub:n,nextSub:o}=s;if(n&&(n.nextSub=o,s.prevSub=void 0),o&&(o.prevSub=n,s.nextSub=void 0),t.subs===s&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)sf(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function zx(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let Pn=!0;const f_=[];function yo(){f_.push(Pn),Pn=!1}function bo(){const s=f_.pop();Pn=s===void 0?!0:s}function Mp(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=Bt;Bt=void 0;try{e()}finally{Bt=t}}}let Oa=0;class Bx{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Bt||!Pn||Bt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Bt)t=this.activeLink=new Bx(Bt,this),Bt.deps?(t.prevDep=Bt.depsTail,Bt.depsTail.nextDep=t,Bt.depsTail=t):Bt.deps=Bt.depsTail=t,p_(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Bt.depsTail,t.nextDep=void 0,Bt.depsTail.nextDep=t,Bt.depsTail=t,Bt.deps===t&&(Bt.deps=n)}return t}trigger(e){this.version++,Oa++,this.notify(e)}notify(e){ef();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{tf()}}}function p_(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)p_(n)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const wc=new WeakMap,Li=Symbol(""),oh=Symbol(""),Ra=Symbol("");function Es(s,e,t){if(Pn&&Bt){let n=wc.get(s);n||wc.set(s,n=new Map);let o=n.get(t);o||(n.set(t,o=new nf),o.map=n,o.key=t),o.track()}}function fo(s,e,t,n,o,r){const a=wc.get(s);if(!a){Oa++;return}const l=c=>{c&&c.trigger()};if(ef(),e==="clear")a.forEach(l);else{const c=Ye(s),d=c&&Qh(t);if(c&&t==="length"){const u=Number(n);a.forEach((f,m)=>{(m==="length"||m===Ra||!Ln(m)&&m>=u)&&l(f)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),d&&l(a.get(Ra)),e){case"add":c?d&&l(a.get("length")):(l(a.get(Li)),cr(s)&&l(a.get(oh)));break;case"delete":c||(l(a.get(Li)),cr(s)&&l(a.get(oh)));break;case"set":cr(s)&&l(a.get(Li));break}}tf()}function Ux(s,e){const t=wc.get(s);return t&&t.get(e)}function Ji(s){const e=yt(s);return e===s?e:(Es(e,"iterate",Ra),xn(s)?e:e.map(vs))}function ld(s){return Es(s=yt(s),"iterate",Ra),s}const Hx={__proto__:null,[Symbol.iterator](){return au(this,Symbol.iterator,vs)},concat(...s){return Ji(this).concat(...s.map(e=>Ye(e)?Ji(e):e))},entries(){return au(this,"entries",s=>(s[1]=vs(s[1]),s))},every(s,e){return oo(this,"every",s,e,void 0,arguments)},filter(s,e){return oo(this,"filter",s,e,t=>t.map(vs),arguments)},find(s,e){return oo(this,"find",s,e,vs,arguments)},findIndex(s,e){return oo(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return oo(this,"findLast",s,e,vs,arguments)},findLastIndex(s,e){return oo(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return oo(this,"forEach",s,e,void 0,arguments)},includes(...s){return lu(this,"includes",s)},indexOf(...s){return lu(this,"indexOf",s)},join(s){return Ji(this).join(s)},lastIndexOf(...s){return lu(this,"lastIndexOf",s)},map(s,e){return oo(this,"map",s,e,void 0,arguments)},pop(){return Br(this,"pop")},push(...s){return Br(this,"push",s)},reduce(s,...e){return Tp(this,"reduce",s,e)},reduceRight(s,...e){return Tp(this,"reduceRight",s,e)},shift(){return Br(this,"shift")},some(s,e){return oo(this,"some",s,e,void 0,arguments)},splice(...s){return Br(this,"splice",s)},toReversed(){return Ji(this).toReversed()},toSorted(s){return Ji(this).toSorted(s)},toSpliced(...s){return Ji(this).toSpliced(...s)},unshift(...s){return Br(this,"unshift",s)},values(){return au(this,"values",vs)}};function au(s,e,t){const n=ld(s),o=n[e]();return n!==s&&!xn(s)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=t(r.value)),r}),o}const Vx=Array.prototype;function oo(s,e,t,n,o,r){const a=ld(s),l=a!==s&&!xn(s),c=a[e];if(c!==Vx[e]){const f=c.apply(s,r);return l?vs(f):f}let d=t;a!==s&&(l?d=function(f,m){return t.call(this,vs(f),m,s)}:t.length>2&&(d=function(f,m){return t.call(this,f,m,s)}));const u=c.call(a,d,n);return l&&o?o(u):u}function Tp(s,e,t,n){const o=ld(s);let r=t;return o!==s&&(xn(s)?t.length>3&&(r=function(a,l,c){return t.call(this,a,l,c,s)}):r=function(a,l,c){return t.call(this,a,vs(l),c,s)}),o[e](r,...n)}function lu(s,e,t){const n=yt(s);Es(n,"iterate",Ra);const o=n[e](...t);return(o===-1||o===!1)&&af(t[0])?(t[0]=yt(t[0]),n[e](...t)):o}function Br(s,e,t=[]){yo(),ef();const n=yt(s)[e].apply(s,t);return tf(),bo(),n}const Wx=Gh("__proto__,__v_isRef,__isVue"),m_=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Ln));function qx(s){Ln(s)||(s=String(s));const e=yt(this);return Es(e,"has",s),e.hasOwnProperty(s)}class g_{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const o=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return r;if(t==="__v_raw")return n===(o?r?s2:b_:r?y_:v_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Ye(e);if(!o){let c;if(a&&(c=Hx[t]))return c;if(t==="hasOwnProperty")return qx}const l=Reflect.get(e,t,ss(e)?e:n);if((Ln(t)?m_.has(t):Wx(t))||(o||Es(e,"get",t),r))return l;if(ss(l)){const c=a&&Qh(t)?l:l.value;return o&&It(c)?rh(c):c}return It(l)?o?rh(l):mt(l):l}}class __ extends g_{constructor(e=!1){super(!1,e)}set(e,t,n,o){let r=e[t];if(!this._isShallow){const c=ei(r);if(!xn(n)&&!ei(n)&&(r=yt(r),n=yt(n)),!Ye(e)&&ss(r)&&!ss(n))return c||(r.value=n),!0}const a=Ye(e)&&Qh(t)?Number(t)<e.length:St(e,t),l=Reflect.set(e,t,n,ss(e)?e:o);return e===yt(o)&&(a?Xo(n,r)&&fo(e,"set",t,n):fo(e,"add",t,n)),l}deleteProperty(e,t){const n=St(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&fo(e,"delete",t,void 0),o}has(e,t){const n=Reflect.has(e,t);return(!Ln(t)||!m_.has(t))&&Es(e,"has",t),n}ownKeys(e){return Es(e,"iterate",Ye(e)?"length":Li),Reflect.ownKeys(e)}}class Kx extends g_{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Yx=new __,Gx=new Kx,Xx=new __(!0);const ih=s=>s,ml=s=>Reflect.getPrototypeOf(s);function Jx(s,e,t){return function(...n){const o=this.__v_raw,r=yt(o),a=cr(r),l=s==="entries"||s===Symbol.iterator&&a,c=s==="keys"&&a,d=o[s](...n),u=t?ih:e?kc:vs;return!e&&Es(r,"iterate",c?oh:Li),{next(){const{value:f,done:m}=d.next();return m?{value:f,done:m}:{value:l?[u(f[0]),u(f[1])]:u(f),done:m}},[Symbol.iterator](){return this}}}}function gl(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function Qx(s,e){const t={get(o){const r=this.__v_raw,a=yt(r),l=yt(o);s||(Xo(o,l)&&Es(a,"get",o),Es(a,"get",l));const{has:c}=ml(a),d=e?ih:s?kc:vs;if(c.call(a,o))return d(r.get(o));if(c.call(a,l))return d(r.get(l));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!s&&Es(yt(o),"iterate",Li),o.size},has(o){const r=this.__v_raw,a=yt(r),l=yt(o);return s||(Xo(o,l)&&Es(a,"has",o),Es(a,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const a=this,l=a.__v_raw,c=yt(l),d=e?ih:s?kc:vs;return!s&&Es(c,"iterate",Li),l.forEach((u,f)=>o.call(r,d(u),d(f),a))}};return ns(t,s?{add:gl("add"),set:gl("set"),delete:gl("delete"),clear:gl("clear")}:{add(o){!e&&!xn(o)&&!ei(o)&&(o=yt(o));const r=yt(this);return ml(r).has.call(r,o)||(r.add(o),fo(r,"add",o,o)),this},set(o,r){!e&&!xn(r)&&!ei(r)&&(r=yt(r));const a=yt(this),{has:l,get:c}=ml(a);let d=l.call(a,o);d||(o=yt(o),d=l.call(a,o));const u=c.call(a,o);return a.set(o,r),d?Xo(r,u)&&fo(a,"set",o,r):fo(a,"add",o,r),this},delete(o){const r=yt(this),{has:a,get:l}=ml(r);let c=a.call(r,o);c||(o=yt(o),c=a.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&fo(r,"delete",o,void 0),d},clear(){const o=yt(this),r=o.size!==0,a=o.clear();return r&&fo(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Jx(o,s,e)}),t}function of(s,e){const t=Qx(s,e);return(n,o,r)=>o==="__v_isReactive"?!s:o==="__v_isReadonly"?s:o==="__v_raw"?n:Reflect.get(St(t,o)&&o in n?t:n,o,r)}const Zx={get:of(!1,!1)},e2={get:of(!1,!0)},t2={get:of(!0,!1)};const v_=new WeakMap,y_=new WeakMap,b_=new WeakMap,s2=new WeakMap;function n2(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function o2(s){return s.__v_skip||!Object.isExtensible(s)?0:n2(Tx(s))}function mt(s){return ei(s)?s:rf(s,!1,Yx,Zx,v_)}function i2(s){return rf(s,!1,Xx,e2,y_)}function rh(s){return rf(s,!0,Gx,t2,b_)}function rf(s,e,t,n,o){if(!It(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=o2(s);if(r===0)return s;const a=o.get(s);if(a)return a;const l=new Proxy(s,r===2?n:t);return o.set(s,l),l}function Jo(s){return ei(s)?Jo(s.__v_raw):!!(s&&s.__v_isReactive)}function ei(s){return!!(s&&s.__v_isReadonly)}function xn(s){return!!(s&&s.__v_isShallow)}function af(s){return s?!!s.__v_raw:!1}function yt(s){const e=s&&s.__v_raw;return e?yt(e):s}function _r(s){return!St(s,"__v_skip")&&Object.isExtensible(s)&&e_(s,"__v_skip",!0),s}const vs=s=>It(s)?mt(s):s,kc=s=>It(s)?rh(s):s;function ss(s){return s?s.__v_isRef===!0:!1}function I(s){return w_(s,!1)}function x_(s){return w_(s,!0)}function w_(s,e){return ss(s)?s:new r2(s,e)}class r2{constructor(e,t){this.dep=new nf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:yt(e),this._value=t?e:vs(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||xn(e)||ei(e);e=n?e:yt(e),Xo(e,t)&&(this._rawValue=e,this._value=n?e:vs(e),this.dep.trigger())}}function p(s){return ss(s)?s.value:s}const a2={get:(s,e,t)=>e==="__v_raw"?s:p(Reflect.get(s,e,t)),set:(s,e,t,n)=>{const o=s[e];return ss(o)&&!ss(t)?(o.value=t,!0):Reflect.set(s,e,t,n)}};function k_(s){return Jo(s)?s:new Proxy(s,a2)}function l2(s){const e=Ye(s)?new Array(s.length):{};for(const t in s)e[t]=d2(s,t);return e}class c2{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Ux(yt(this._object),this._key)}}function d2(s,e,t){const n=s[e];return ss(n)?n:new c2(s,e,t)}class u2{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new nf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return c_(this,!0),!0}get value(){const e=this.dep.track();return h_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function h2(s,e,t=!1){let n,o;return ot(s)?n=s:(n=s.get,o=s.set),new u2(n,o,t)}const _l={},$c=new WeakMap;let Ci;function f2(s,e=!1,t=Ci){if(t){let n=$c.get(t);n||$c.set(t,n=[]),n.push(s)}}function p2(s,e,t=jt){const{immediate:n,deep:o,once:r,scheduler:a,augmentJob:l,call:c}=t,d=M=>o?M:xn(M)||o===!1||o===0?po(M,1):po(M);let u,f,m,g,_=!1,w=!1;if(ss(s)?(f=()=>s.value,_=xn(s)):Jo(s)?(f=()=>d(s),_=!0):Ye(s)?(w=!0,_=s.some(M=>Jo(M)||xn(M)),f=()=>s.map(M=>{if(ss(M))return M.value;if(Jo(M))return d(M);if(ot(M))return c?c(M,2):M()})):ot(s)?e?f=c?()=>c(s,2):s:f=()=>{if(m){yo();try{m()}finally{bo()}}const M=Ci;Ci=u;try{return c?c(s,3,[g]):s(g)}finally{Ci=M}}:f=En,e&&o){const M=f,E=o===!0?1/0:o;f=()=>po(M(),E)}const y=r_(),$=()=>{u.stop(),y&&y.active&&Jh(y.effects,u)};if(r&&e){const M=e;e=(...E)=>{M(...E),$()}}let b=w?new Array(s.length).fill(_l):_l;const S=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(e){const E=u.run();if(o||_||(w?E.some((H,N)=>Xo(H,b[N])):Xo(E,b))){m&&m();const H=Ci;Ci=u;try{const N=[E,b===_l?void 0:w&&b[0]===_l?[]:b,g];b=E,c?c(e,3,N):e(...N)}finally{Ci=H}}}else u.run()};return l&&l(S),u=new a_(f),u.scheduler=a?()=>a(S,!1):S,g=M=>f2(M,!1,u),m=u.onStop=()=>{const M=$c.get(u);if(M){if(c)c(M,4);else for(const E of M)E();$c.delete(u)}},e?n?S(!0):b=u.run():a?a(S.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function po(s,e=1/0,t){if(e<=0||!It(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,ss(s))po(s.value,e,t);else if(Ye(s))for(let n=0;n<s.length;n++)po(s[n],e,t);else if(Mr(s)||cr(s))s.forEach(n=>{po(n,e,t)});else if(Zg(s)){for(const n in s)po(s[n],e,t);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&po(s[n],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qa(s,e,t,n){try{return n?s(...n):s()}catch(o){cd(o,e,t)}}function In(s,e,t,n){if(ot(s)){const o=Qa(s,e,t,n);return o&&Jg(o)&&o.catch(r=>{cd(r,e,t)}),o}if(Ye(s)){const o=[];for(let r=0;r<s.length;r++)o.push(In(s[r],e,t,n));return o}}function cd(s,e,t,n=!0){const o=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||jt;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](s,c,d)===!1)return}l=l.parent}if(r){yo(),Qa(r,null,10,[s,c,d]),bo();return}}m2(s,t,o,n,a)}function m2(s,e,t,n=!0,o=!1){if(o)throw s}const Vs=[];let Vn=-1;const dr=[];let Io=null,or=0;const $_=Promise.resolve();let Cc=null;function Tr(s){const e=Cc||$_;return s?e.then(this?s.bind(this):s):e}function g2(s){let e=Vn+1,t=Vs.length;for(;e<t;){const n=e+t>>>1,o=Vs[n],r=La(o);r<s||r===s&&o.flags&2?e=n+1:t=n}return e}function lf(s){if(!(s.flags&1)){const e=La(s),t=Vs[Vs.length-1];!t||!(s.flags&2)&&e>=La(t)?Vs.push(s):Vs.splice(g2(e),0,s),s.flags|=1,C_()}}function C_(){Cc||(Cc=$_.then(M_))}function _2(s){Ye(s)?dr.push(...s):Io&&s.id===-1?Io.splice(or+1,0,s):s.flags&1||(dr.push(s),s.flags|=1),C_()}function Dp(s,e,t=Vn+1){for(;t<Vs.length;t++){const n=Vs[t];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;Vs.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function S_(s){if(dr.length){const e=[...new Set(dr)].sort((t,n)=>La(t)-La(n));if(dr.length=0,Io){Io.push(...e);return}for(Io=e,or=0;or<Io.length;or++){const t=Io[or];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Io=null,or=0}}const La=s=>s.id==null?s.flags&2?-1:1/0:s.id;function M_(s){const e=En;try{for(Vn=0;Vn<Vs.length;Vn++){const t=Vs[Vn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Qa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vn<Vs.length;Vn++){const t=Vs[Vn];t&&(t.flags&=-2)}Vn=-1,Vs.length=0,S_(),Cc=null,(Vs.length||dr.length)&&M_()}}let bs=null,T_=null;function Sc(s){const e=bs;return bs=s,T_=s&&s.type.__scopeId||null,e}function Y(s,e=bs,t){if(!e||s._n)return s;const n=(...o)=>{n._d&&Dc(-1);const r=Sc(e);let a;try{a=s(...o)}finally{Sc(r),n._d&&Dc(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function W(s,e){if(bs===null)return s;const t=pd(bs),n=s.dirs||(s.dirs=[]);for(let o=0;o<e.length;o++){let[r,a,l,c=jt]=e[o];r&&(ot(r)&&(r={mounted:r,updated:r}),r.deep&&po(a),n.push({dir:r,instance:t,value:a,oldValue:void 0,arg:l,modifiers:c}))}return s}function pi(s,e,t,n){const o=s.dirs,r=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];r&&(l.oldValue=r[a].value);let c=l.dir[n];c&&(yo(),In(c,t,8,[s.el,l,s,e]),bo())}}const D_=Symbol("_vte"),A_=s=>s.__isTeleport,ma=s=>s&&(s.disabled||s.disabled===""),Ap=s=>s&&(s.defer||s.defer===""),Ep=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Pp=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,ah=(s,e)=>{const t=s&&s.to;return Gt(t)?e?e(t):null:t},E_={name:"Teleport",__isTeleport:!0,process(s,e,t,n,o,r,a,l,c,d){const{mc:u,pc:f,pbc:m,o:{insert:g,querySelector:_,createText:w,createComment:y}}=d,$=ma(e.props);let{shapeFlag:b,children:S,dynamicChildren:M}=e;if(s==null){const E=e.el=w(""),H=e.anchor=w("");g(E,t,n),g(H,t,n);const N=(R,A)=>{b&16&&u(S,R,A,o,r,a,l,c)},F=()=>{const R=e.target=ah(e.props,_),A=P_(R,e,w,g);R&&(a!=="svg"&&Ep(R)?a="svg":a!=="mathml"&&Pp(R)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(R),$||(N(R,A),Ql(e,!1)))};$&&(N(t,H),Ql(e,!0)),Ap(e.props)?(e.el.__isMounted=!1,Hs(()=>{F(),delete e.el.__isMounted},r)):F()}else{if(Ap(e.props)&&s.el.__isMounted===!1){Hs(()=>{E_.process(s,e,t,n,o,r,a,l,c,d)},r);return}e.el=s.el,e.targetStart=s.targetStart;const E=e.anchor=s.anchor,H=e.target=s.target,N=e.targetAnchor=s.targetAnchor,F=ma(s.props),R=F?t:H,A=F?E:N;if(a==="svg"||Ep(H)?a="svg":(a==="mathml"||Pp(H))&&(a="mathml"),M?(m(s.dynamicChildren,M,R,o,r,a,l),gf(s,e,!0)):c||f(s,e,R,A,o,r,a,l,!1),$)F?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):vl(e,t,E,d,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const ee=e.target=ah(e.props,_);ee&&vl(e,ee,null,d,0)}else F&&vl(e,H,N,d,1);Ql(e,$)}},remove(s,e,t,{um:n,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetStart:d,targetAnchor:u,target:f,props:m}=s;if(f&&(o(d),o(u)),r&&o(c),a&16){const g=r||!ma(m);for(let _=0;_<l.length;_++){const w=l[_];n(w,e,t,g,!!w.dynamicChildren)}}},move:vl,hydrate:v2};function vl(s,e,t,{o:{insert:n},m:o},r=2){r===0&&n(s.targetAnchor,e,t);const{el:a,anchor:l,shapeFlag:c,children:d,props:u}=s,f=r===2;if(f&&n(a,e,t),(!f||ma(u))&&c&16)for(let m=0;m<d.length;m++)o(d[m],e,t,2);f&&n(l,e,t)}function v2(s,e,t,n,o,r,{o:{nextSibling:a,parentNode:l,querySelector:c,insert:d,createText:u}},f){function m(w,y,$,b){y.anchor=f(a(w),y,l(w),t,n,o,r),y.targetStart=$,y.targetAnchor=b}const g=e.target=ah(e.props,c),_=ma(e.props);if(g){const w=g._lpa||g.firstChild;if(e.shapeFlag&16)if(_)m(s,e,w,w&&a(w));else{e.anchor=a(s);let y=w;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,g._lpa=e.targetAnchor&&a(e.targetAnchor);break}}y=a(y)}e.targetAnchor||P_(g,e,u,d),f(w&&a(w),e,g,t,n,o,r)}Ql(e,_)}else _&&e.shapeFlag&16&&m(s,e,s,a(s));return e.anchor&&a(e.anchor)}const cf=E_;function Ql(s,e){const t=s.ctx;if(t&&t.ut){let n,o;for(e?(n=s.el,o=s.anchor):(n=s.targetStart,o=s.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function P_(s,e,t,n){const o=e.targetStart=t(""),r=e.targetAnchor=t("");return o[D_]=r,s&&(n(o,s),n(r,s)),r}const uo=Symbol("_leaveCb"),yl=Symbol("_enterCb");function O_(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{s.isMounted=!0}),uf(()=>{s.isUnmounting=!0}),s}const gn=[Function,Array],R_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gn,onEnter:gn,onAfterEnter:gn,onEnterCancelled:gn,onBeforeLeave:gn,onLeave:gn,onAfterLeave:gn,onLeaveCancelled:gn,onBeforeAppear:gn,onAppear:gn,onAfterAppear:gn,onAppearCancelled:gn},L_=s=>{const e=s.subTree;return e.component?L_(e.component):e},y2={name:"BaseTransition",props:R_,setup(s,{slots:e}){const t=Ar(),n=O_();return()=>{const o=e.default&&df(e.default(),!0);if(!o||!o.length)return;const r=I_(o),a=yt(s),{mode:l}=a;if(n.isLeaving)return cu(r);const c=Op(r);if(!c)return cu(r);let d=Ia(c,a,n,t,f=>d=f);c.type!==Ps&&Ui(c,d);let u=t.subTree&&Op(t.subTree);if(u&&u.type!==Ps&&!Di(u,c)&&L_(t).type!==Ps){let f=Ia(u,a,n,t);if(Ui(u,f),l==="out-in"&&c.type!==Ps)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,t.job.flags&8||t.update(),delete f.afterLeave,u=void 0},cu(r);l==="in-out"&&c.type!==Ps?f.delayLeave=(m,g,_)=>{const w=j_(n,u);w[String(u.key)]=u,m[uo]=()=>{g(),m[uo]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{_(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function I_(s){let e=s[0];if(s.length>1){for(const t of s)if(t.type!==Ps){e=t;break}}return e}const b2=y2;function j_(s,e){const{leavingVNodes:t}=s;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function Ia(s,e,t,n,o){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:g,onAfterLeave:_,onLeaveCancelled:w,onBeforeAppear:y,onAppear:$,onAfterAppear:b,onAppearCancelled:S}=e,M=String(s.key),E=j_(t,s),H=(R,A)=>{R&&In(R,n,9,A)},N=(R,A)=>{const ee=A[1];H(R,A),Ye(R)?R.every(q=>q.length<=1)&&ee():R.length<=1&&ee()},F={mode:a,persisted:l,beforeEnter(R){let A=c;if(!t.isMounted)if(r)A=y||c;else return;R[uo]&&R[uo](!0);const ee=E[M];ee&&Di(s,ee)&&ee.el[uo]&&ee.el[uo](),H(A,[R])},enter(R){let A=d,ee=u,q=f;if(!t.isMounted)if(r)A=$||d,ee=b||u,q=S||f;else return;let _e=!1;const $e=R[yl]=ve=>{_e||(_e=!0,ve?H(q,[R]):H(ee,[R]),F.delayedLeave&&F.delayedLeave(),R[yl]=void 0)};A?N(A,[R,$e]):$e()},leave(R,A){const ee=String(s.key);if(R[yl]&&R[yl](!0),t.isUnmounting)return A();H(m,[R]);let q=!1;const _e=R[uo]=$e=>{q||(q=!0,A(),$e?H(w,[R]):H(_,[R]),R[uo]=void 0,E[ee]===s&&delete E[ee])};E[ee]=s,g?N(g,[R,_e]):_e()},clone(R){const A=Ia(R,e,t,n,o);return o&&o(A),A}};return F}function cu(s){if(dd(s))return s=xo(s),s.children=null,s}function Op(s){if(!dd(s))return A_(s.type)&&s.children?I_(s.children):s;if(s.component)return s.component.subTree;const{shapeFlag:e,children:t}=s;if(t){if(e&16)return t[0];if(e&32&&ot(t.default))return t.default()}}function Ui(s,e){s.shapeFlag&6&&s.component?(s.transition=e,Ui(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function df(s,e=!1,t){let n=[],o=0;for(let r=0;r<s.length;r++){let a=s[r];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:r);a.type===he?(a.patchFlag&128&&o++,n=n.concat(df(a.children,e,l))):(e||a.type!==Ps)&&n.push(l!=null?xo(a,{key:l}):a)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function fe(s,e){return ot(s)?(()=>ns({name:s.name},e,{setup:s}))():s}function x2(){const s=Ar();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function F_(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Mc=new WeakMap;function ga(s,e,t,n,o=!1){if(Ye(s)){s.forEach((_,w)=>ga(_,e&&(Ye(e)?e[w]:e),t,n,o));return}if(ur(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ga(s,e,t,n.component.subTree);return}const r=n.shapeFlag&4?pd(n.component):n.el,a=o?null:r,{i:l,r:c}=s,d=e&&e.r,u=l.refs===jt?l.refs={}:l.refs,f=l.setupState,m=yt(f),g=f===jt?Xg:_=>St(m,_);if(d!=null&&d!==c){if(Rp(e),Gt(d))u[d]=null,g(d)&&(f[d]=null);else if(ss(d)){d.value=null;const _=e;_.k&&(u[_.k]=null)}}if(ot(c))Qa(c,l,12,[a,u]);else{const _=Gt(c),w=ss(c);if(_||w){const y=()=>{if(s.f){const $=_?g(c)?f[c]:u[c]:c.value;if(o)Ye($)&&Jh($,r);else if(Ye($))$.includes(r)||$.push(r);else if(_)u[c]=[r],g(c)&&(f[c]=u[c]);else{const b=[r];c.value=b,s.k&&(u[s.k]=b)}}else _?(u[c]=a,g(c)&&(f[c]=a)):w&&(c.value=a,s.k&&(u[s.k]=a))};if(a){const $=()=>{y(),Mc.delete(s)};$.id=-1,Mc.set(s,$),Hs($,t)}else Rp(s),y()}}}function Rp(s){const e=Mc.get(s);e&&(e.flags|=8,Mc.delete(s))}ad().requestIdleCallback;ad().cancelIdleCallback;const ur=s=>!!s.type.__asyncLoader,dd=s=>s.type.__isKeepAlive;function N_(s,e){B_(s,"a",e)}function z_(s,e){B_(s,"da",e)}function B_(s,e,t=Os){const n=s.__wdc||(s.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return s()});if(ud(e,n,t),t){let o=t.parent;for(;o&&o.parent;)dd(o.parent.vnode)&&w2(n,e,t,o),o=o.parent}}function w2(s,e,t,n){const o=ud(e,s,n,!0);en(()=>{Jh(n[e],o)},t)}function ud(s,e,t=Os,n=!1){if(t){const o=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...a)=>{yo();const l=Za(t),c=In(e,t,s,a);return l(),bo(),c});return n?o.unshift(r):o.push(r),r}}const ko=s=>(e,t=Os)=>{(!Na||s==="sp")&&ud(s,(...n)=>e(...n),t)},k2=ko("bm"),dt=ko("m"),$2=ko("bu"),Dr=ko("u"),uf=ko("bum"),en=ko("um"),C2=ko("sp"),S2=ko("rtg"),M2=ko("rtc");function T2(s,e=Os){ud("ec",s,e)}const hf="components";function pn(s,e){return H_(hf,s,!0,e)||s}const U_=Symbol.for("v-ndc");function Qo(s){return Gt(s)?H_(hf,s,!1)||s:s||U_}function H_(s,e,t=!0,n=!1){const o=bs||Os;if(o){const r=o.type;if(s===hf){const l=mw(r,!1);if(l&&(l===e||l===kn(e)||l===rd(kn(e))))return r}const a=Lp(o[s]||r[s],e)||Lp(o.appContext[s],e);return!a&&n?r:a}}function Lp(s,e){return s&&(s[e]||s[kn(e)]||s[rd(kn(e))])}function ke(s,e,t,n){let o;const r=t&&t[n],a=Ye(s);if(a||Gt(s)){const l=a&&Jo(s);let c=!1,d=!1;l&&(c=!xn(s),d=ei(s),s=ld(s)),o=new Array(s.length);for(let u=0,f=s.length;u<f;u++)o[u]=e(c?d?kc(vs(s[u])):vs(s[u]):s[u],u,void 0,r&&r[u])}else if(typeof s=="number"){o=new Array(s);for(let l=0;l<s;l++)o[l]=e(l+1,l,void 0,r&&r[l])}else if(It(s))if(s[Symbol.iterator])o=Array.from(s,(l,c)=>e(l,c,void 0,r&&r[c]));else{const l=Object.keys(s);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=e(s[u],u,c,r&&r[c])}}else o=[];return t&&(t[n]=o),o}function ws(s,e,t={},n,o){if(bs.ce||bs.parent&&ur(bs.parent)&&bs.parent.ce){const d=Object.keys(t).length>0;return e!=="default"&&(t.name=e),v(),se(he,null,[T("slot",t,n&&n())],d?-2:64)}let r=s[e];r&&r._c&&(r._d=!1),v();const a=r&&V_(r(t)),l=t.key||a&&a.key,c=se(he,{key:(l&&!Ln(l)?l:`_${e}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&s._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function V_(s){return s.some(e=>Fa(e)?!(e.type===Ps||e.type===he&&!V_(e.children)):!0)?s:null}const lh=s=>s?c1(s)?pd(s):lh(s.parent):null,_a=ns(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>lh(s.parent),$root:s=>lh(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>ff(s),$forceUpdate:s=>s.f||(s.f=()=>{lf(s.update)}),$nextTick:s=>s.n||(s.n=Tr.bind(s.proxy)),$watch:s=>X2.bind(s)}),du=(s,e)=>s!==jt&&!s.__isScriptSetup&&St(s,e),D2={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:o,props:r,accessCache:a,type:l,appContext:c}=s;let d;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return r[e]}else{if(du(n,e))return a[e]=1,n[e];if(o!==jt&&St(o,e))return a[e]=2,o[e];if((d=s.propsOptions[0])&&St(d,e))return a[e]=3,r[e];if(t!==jt&&St(t,e))return a[e]=4,t[e];ch&&(a[e]=0)}}const u=_a[e];let f,m;if(u)return e==="$attrs"&&Es(s.attrs,"get",""),u(s);if((f=l.__cssModules)&&(f=f[e]))return f;if(t!==jt&&St(t,e))return a[e]=4,t[e];if(m=c.config.globalProperties,St(m,e))return m[e]},set({_:s},e,t){const{data:n,setupState:o,ctx:r}=s;return du(o,e)?(o[e]=t,!0):n!==jt&&St(n,e)?(n[e]=t,!0):St(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:r,type:a}},l){let c,d;return!!(t[l]||s!==jt&&l[0]!=="$"&&St(s,l)||du(e,l)||(c=r[0])&&St(c,l)||St(n,l)||St(_a,l)||St(o.config.globalProperties,l)||(d=a.__cssModules)&&d[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:St(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Ip(s){return Ye(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let ch=!0;function A2(s){const e=ff(s),t=s.proxy,n=s.ctx;ch=!1,e.beforeCreate&&jp(e.beforeCreate,s,"bc");const{data:o,computed:r,methods:a,watch:l,provide:c,inject:d,created:u,beforeMount:f,mounted:m,beforeUpdate:g,updated:_,activated:w,deactivated:y,beforeDestroy:$,beforeUnmount:b,destroyed:S,unmounted:M,render:E,renderTracked:H,renderTriggered:N,errorCaptured:F,serverPrefetch:R,expose:A,inheritAttrs:ee,components:q,directives:_e,filters:$e}=e;if(d&&E2(d,n,null),a)for(const G in a){const Q=a[G];ot(Q)&&(n[G]=Q.bind(t))}if(o){const G=o.call(t,t);It(G)&&(s.data=mt(G))}if(ch=!0,r)for(const G in r){const Q=r[G],J=ot(Q)?Q.bind(t,t):ot(Q.get)?Q.get.bind(t,t):En,me=!ot(Q)&&ot(Q.set)?Q.set.bind(t):En,xe=Le({get:J,set:me});Object.defineProperty(n,G,{enumerable:!0,configurable:!0,get:()=>xe.value,set:Oe=>xe.value=Oe})}if(l)for(const G in l)W_(l[G],n,t,G);if(c){const G=ot(c)?c.call(t):c;Reflect.ownKeys(G).forEach(Q=>{Is(Q,G[Q])})}u&&jp(u,s,"c");function ge(G,Q){Ye(Q)?Q.forEach(J=>G(J.bind(t))):Q&&G(Q.bind(t))}if(ge(k2,f),ge(dt,m),ge($2,g),ge(Dr,_),ge(N_,w),ge(z_,y),ge(T2,F),ge(M2,H),ge(S2,N),ge(uf,b),ge(en,M),ge(C2,R),Ye(A))if(A.length){const G=s.exposed||(s.exposed={});A.forEach(Q=>{Object.defineProperty(G,Q,{get:()=>t[Q],set:J=>t[Q]=J,enumerable:!0})})}else s.exposed||(s.exposed={});E&&s.render===En&&(s.render=E),ee!=null&&(s.inheritAttrs=ee),q&&(s.components=q),_e&&(s.directives=_e),R&&F_(s)}function E2(s,e,t=En){Ye(s)&&(s=dh(s));for(const n in s){const o=s[n];let r;It(o)?"default"in o?r=tt(o.from||n,o.default,!0):r=tt(o.from||n):r=tt(o),ss(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[n]=r}}function jp(s,e,t){In(Ye(s)?s.map(n=>n.bind(e.proxy)):s.bind(e.proxy),e,t)}function W_(s,e,t,n){let o=n.includes(".")?s1(t,n):()=>t[n];if(Gt(s)){const r=e[s];ot(r)&&Ft(o,r)}else if(ot(s))Ft(o,s.bind(t));else if(It(s))if(Ye(s))s.forEach(r=>W_(r,e,t,n));else{const r=ot(s.handler)?s.handler.bind(t):e[s.handler];ot(r)&&Ft(o,r,s)}}function ff(s){const e=s.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,l=r.get(e);let c;return l?c=l:!o.length&&!t&&!n?c=e:(c={},o.length&&o.forEach(d=>Tc(c,d,a,!0)),Tc(c,e,a)),It(e)&&r.set(e,c),c}function Tc(s,e,t,n=!1){const{mixins:o,extends:r}=e;r&&Tc(s,r,t,!0),o&&o.forEach(a=>Tc(s,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const l=P2[a]||t&&t[a];s[a]=l?l(s[a],e[a]):e[a]}return s}const P2={data:Fp,props:Np,emits:Np,methods:ta,computed:ta,beforeCreate:Bs,created:Bs,beforeMount:Bs,mounted:Bs,beforeUpdate:Bs,updated:Bs,beforeDestroy:Bs,beforeUnmount:Bs,destroyed:Bs,unmounted:Bs,activated:Bs,deactivated:Bs,errorCaptured:Bs,serverPrefetch:Bs,components:ta,directives:ta,watch:R2,provide:Fp,inject:O2};function Fp(s,e){return e?s?function(){return ns(ot(s)?s.call(this,this):s,ot(e)?e.call(this,this):e)}:e:s}function O2(s,e){return ta(dh(s),dh(e))}function dh(s){if(Ye(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Bs(s,e){return s?[...new Set([].concat(s,e))]:e}function ta(s,e){return s?ns(Object.create(null),s,e):e}function Np(s,e){return s?Ye(s)&&Ye(e)?[...new Set([...s,...e])]:ns(Object.create(null),Ip(s),Ip(e??{})):e}function R2(s,e){if(!s)return e;if(!e)return s;const t=ns(Object.create(null),s);for(const n in e)t[n]=Bs(s[n],e[n]);return t}function q_(){return{app:null,config:{isNativeTag:Xg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L2=0;function I2(s,e){return function(n,o=null){ot(n)||(n=ns({},n)),o!=null&&!It(o)&&(o=null);const r=q_(),a=new WeakSet,l=[];let c=!1;const d=r.app={_uid:L2++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:_w,get config(){return r.config},set config(u){},use(u,...f){return a.has(u)||(u&&ot(u.install)?(a.add(u),u.install(d,...f)):ot(u)&&(a.add(u),u(d,...f))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,f){return f?(r.components[u]=f,d):r.components[u]},directive(u,f){return f?(r.directives[u]=f,d):r.directives[u]},mount(u,f,m){if(!c){const g=d._ceVNode||T(n,o);return g.appContext=r,m===!0?m="svg":m===!1&&(m=void 0),f&&e?e(g,u):s(g,u,m),c=!0,d._container=u,u.__vue_app__=d,pd(g.component)}},onUnmount(u){l.push(u)},unmount(){c&&(In(l,d._instance,16),s(null,d._container),delete d._container.__vue_app__)},provide(u,f){return r.provides[u]=f,d},runWithContext(u){const f=Ii;Ii=d;try{return u()}finally{Ii=f}}};return d}}let Ii=null;function Is(s,e){if(Os){let t=Os.provides;const n=Os.parent&&Os.parent.provides;n===t&&(t=Os.provides=Object.create(n)),t[s]=e}}function tt(s,e,t=!1){const n=Ar();if(n||Ii){let o=Ii?Ii._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&s in o)return o[s];if(arguments.length>1)return t&&ot(e)?e.call(n&&n.proxy):e}}function j2(){return!!(Ar()||Ii)}const K_={},Y_=()=>Object.create(K_),G_=s=>Object.getPrototypeOf(s)===K_;function F2(s,e,t,n=!1){const o={},r=Y_();s.propsDefaults=Object.create(null),X_(s,e,o,r);for(const a in s.propsOptions[0])a in o||(o[a]=void 0);t?s.props=n?o:i2(o):s.type.props?s.props=o:s.props=r,s.attrs=r}function N2(s,e,t,n){const{props:o,attrs:r,vnode:{patchFlag:a}}=s,l=yt(o),[c]=s.propsOptions;let d=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=s.vnode.dynamicProps;for(let f=0;f<u.length;f++){let m=u[f];if(hd(s.emitsOptions,m))continue;const g=e[m];if(c)if(St(r,m))g!==r[m]&&(r[m]=g,d=!0);else{const _=kn(m);o[_]=uh(c,l,_,g,s,!1)}else g!==r[m]&&(r[m]=g,d=!0)}}}else{X_(s,e,o,r)&&(d=!0);let u;for(const f in l)(!e||!St(e,f)&&((u=ri(f))===f||!St(e,u)))&&(c?t&&(t[f]!==void 0||t[u]!==void 0)&&(o[f]=uh(c,l,f,void 0,s,!0)):delete o[f]);if(r!==l)for(const f in r)(!e||!St(e,f))&&(delete r[f],d=!0)}d&&fo(s.attrs,"set","")}function X_(s,e,t,n){const[o,r]=s.propsOptions;let a=!1,l;if(e)for(let c in e){if(ha(c))continue;const d=e[c];let u;o&&St(o,u=kn(c))?!r||!r.includes(u)?t[u]=d:(l||(l={}))[u]=d:hd(s.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,a=!0)}if(r){const c=yt(t),d=l||jt;for(let u=0;u<r.length;u++){const f=r[u];t[f]=uh(o,c,f,d[f],s,!St(d,f))}}return a}function uh(s,e,t,n,o,r){const a=s[t];if(a!=null){const l=St(a,"default");if(l&&n===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ot(c)){const{propsDefaults:d}=o;if(t in d)n=d[t];else{const u=Za(o);n=d[t]=c.call(null,e),u()}}else n=c;o.ce&&o.ce._setProp(t,n)}a[0]&&(r&&!l?n=!1:a[1]&&(n===""||n===ri(t))&&(n=!0))}return n}const z2=new WeakMap;function J_(s,e,t=!1){const n=t?z2:e.propsCache,o=n.get(s);if(o)return o;const r=s.props,a={},l=[];let c=!1;if(!ot(s)){const u=f=>{c=!0;const[m,g]=J_(f,e,!0);ns(a,m),g&&l.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(u),s.extends&&u(s.extends),s.mixins&&s.mixins.forEach(u)}if(!r&&!c)return It(s)&&n.set(s,lr),lr;if(Ye(r))for(let u=0;u<r.length;u++){const f=kn(r[u]);zp(f)&&(a[f]=jt)}else if(r)for(const u in r){const f=kn(u);if(zp(f)){const m=r[u],g=a[f]=Ye(m)||ot(m)?{type:m}:ns({},m),_=g.type;let w=!1,y=!0;if(Ye(_))for(let $=0;$<_.length;++$){const b=_[$],S=ot(b)&&b.name;if(S==="Boolean"){w=!0;break}else S==="String"&&(y=!1)}else w=ot(_)&&_.name==="Boolean";g[0]=w,g[1]=y,(w||St(g,"default"))&&l.push(f)}}const d=[a,l];return It(s)&&n.set(s,d),d}function zp(s){return s[0]!=="$"&&!ha(s)}const pf=s=>s==="_"||s==="_ctx"||s==="$stable",mf=s=>Ye(s)?s.map(Kn):[Kn(s)],B2=(s,e,t)=>{if(e._n)return e;const n=Y((...o)=>mf(e(...o)),t);return n._c=!1,n},Q_=(s,e,t)=>{const n=s._ctx;for(const o in s){if(pf(o))continue;const r=s[o];if(ot(r))e[o]=B2(o,r,n);else if(r!=null){const a=mf(r);e[o]=()=>a}}},Z_=(s,e)=>{const t=mf(e);s.slots.default=()=>t},e1=(s,e,t)=>{for(const n in e)(t||!pf(n))&&(s[n]=e[n])},U2=(s,e,t)=>{const n=s.slots=Y_();if(s.vnode.shapeFlag&32){const o=e._;o?(e1(n,e,t),t&&e_(n,"_",o,!0)):Q_(e,n)}else e&&Z_(s,e)},H2=(s,e,t)=>{const{vnode:n,slots:o}=s;let r=!0,a=jt;if(n.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:e1(o,e,t):(r=!e.$stable,Q_(e,o)),a=e}else e&&(Z_(s,e),a={default:1});if(r)for(const l in o)!pf(l)&&a[l]==null&&delete o[l]},Hs=ow;function V2(s){return W2(s)}function W2(s,e){const t=ad();t.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:a,createText:l,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:m,setScopeId:g=En,insertStaticContent:_}=s,w=(O,B,V,K=null,X=null,le=null,Se=void 0,Me=null,Ce=!!B.dynamicChildren)=>{if(O===B)return;O&&!Di(O,B)&&(K=we(O),Oe(O,X,le,!0),O=null),B.patchFlag===-2&&(Ce=!1,B.dynamicChildren=null);const{type:be,ref:We,shapeFlag:Re}=B;switch(be){case fd:y(O,B,V,K);break;case Ps:$(O,B,V,K);break;case Zl:O==null&&b(B,V,K,Se);break;case he:q(O,B,V,K,X,le,Se,Me,Ce);break;default:Re&1?E(O,B,V,K,X,le,Se,Me,Ce):Re&6?_e(O,B,V,K,X,le,Se,Me,Ce):(Re&64||Re&128)&&be.process(O,B,V,K,X,le,Se,Me,Ce,Pe)}We!=null&&X?ga(We,O&&O.ref,le,B||O,!B):We==null&&O&&O.ref!=null&&ga(O.ref,null,le,O,!0)},y=(O,B,V,K)=>{if(O==null)n(B.el=l(B.children),V,K);else{const X=B.el=O.el;B.children!==O.children&&d(X,B.children)}},$=(O,B,V,K)=>{O==null?n(B.el=c(B.children||""),V,K):B.el=O.el},b=(O,B,V,K)=>{[O.el,O.anchor]=_(O.children,B,V,K,O.el,O.anchor)},S=({el:O,anchor:B},V,K)=>{let X;for(;O&&O!==B;)X=m(O),n(O,V,K),O=X;n(B,V,K)},M=({el:O,anchor:B})=>{let V;for(;O&&O!==B;)V=m(O),o(O),O=V;o(B)},E=(O,B,V,K,X,le,Se,Me,Ce)=>{B.type==="svg"?Se="svg":B.type==="math"&&(Se="mathml"),O==null?H(B,V,K,X,le,Se,Me,Ce):R(O,B,X,le,Se,Me,Ce)},H=(O,B,V,K,X,le,Se,Me)=>{let Ce,be;const{props:We,shapeFlag:Re,transition:De,dirs:Qe}=O;if(Ce=O.el=a(O.type,le,We&&We.is,We),Re&8?u(Ce,O.children):Re&16&&F(O.children,Ce,null,K,X,uu(O,le),Se,Me),Qe&&pi(O,null,K,"created"),N(Ce,O,O.scopeId,Se,K),We){for(const Ct in We)Ct!=="value"&&!ha(Ct)&&r(Ce,Ct,null,We[Ct],le,K);"value"in We&&r(Ce,"value",null,We.value,le),(be=We.onVnodeBeforeMount)&&zn(be,K,O)}Qe&&pi(O,null,K,"beforeMount");const pt=q2(X,De);pt&&De.beforeEnter(Ce),n(Ce,B,V),((be=We&&We.onVnodeMounted)||pt||Qe)&&Hs(()=>{be&&zn(be,K,O),pt&&De.enter(Ce),Qe&&pi(O,null,K,"mounted")},X)},N=(O,B,V,K,X)=>{if(V&&g(O,V),K)for(let le=0;le<K.length;le++)g(O,K[le]);if(X){let le=X.subTree;if(B===le||o1(le.type)&&(le.ssContent===B||le.ssFallback===B)){const Se=X.vnode;N(O,Se,Se.scopeId,Se.slotScopeIds,X.parent)}}},F=(O,B,V,K,X,le,Se,Me,Ce=0)=>{for(let be=Ce;be<O.length;be++){const We=O[be]=Me?jo(O[be]):Kn(O[be]);w(null,We,B,V,K,X,le,Se,Me)}},R=(O,B,V,K,X,le,Se)=>{const Me=B.el=O.el;let{patchFlag:Ce,dynamicChildren:be,dirs:We}=B;Ce|=O.patchFlag&16;const Re=O.props||jt,De=B.props||jt;let Qe;if(V&&mi(V,!1),(Qe=De.onVnodeBeforeUpdate)&&zn(Qe,V,B,O),We&&pi(B,O,V,"beforeUpdate"),V&&mi(V,!0),(Re.innerHTML&&De.innerHTML==null||Re.textContent&&De.textContent==null)&&u(Me,""),be?A(O.dynamicChildren,be,Me,V,K,uu(B,X),le):Se||Q(O,B,Me,null,V,K,uu(B,X),le,!1),Ce>0){if(Ce&16)ee(Me,Re,De,V,X);else if(Ce&2&&Re.class!==De.class&&r(Me,"class",null,De.class,X),Ce&4&&r(Me,"style",Re.style,De.style,X),Ce&8){const pt=B.dynamicProps;for(let Ct=0;Ct<pt.length;Ct++){const vt=pt[Ct],ms=Re[vt],os=De[vt];(os!==ms||vt==="value")&&r(Me,vt,ms,os,X,V)}}Ce&1&&O.children!==B.children&&u(Me,B.children)}else!Se&&be==null&&ee(Me,Re,De,V,X);((Qe=De.onVnodeUpdated)||We)&&Hs(()=>{Qe&&zn(Qe,V,B,O),We&&pi(B,O,V,"updated")},K)},A=(O,B,V,K,X,le,Se)=>{for(let Me=0;Me<B.length;Me++){const Ce=O[Me],be=B[Me],We=Ce.el&&(Ce.type===he||!Di(Ce,be)||Ce.shapeFlag&198)?f(Ce.el):V;w(Ce,be,We,null,K,X,le,Se,!0)}},ee=(O,B,V,K,X)=>{if(B!==V){if(B!==jt)for(const le in B)!ha(le)&&!(le in V)&&r(O,le,B[le],null,X,K);for(const le in V){if(ha(le))continue;const Se=V[le],Me=B[le];Se!==Me&&le!=="value"&&r(O,le,Me,Se,X,K)}"value"in V&&r(O,"value",B.value,V.value,X)}},q=(O,B,V,K,X,le,Se,Me,Ce)=>{const be=B.el=O?O.el:l(""),We=B.anchor=O?O.anchor:l("");let{patchFlag:Re,dynamicChildren:De,slotScopeIds:Qe}=B;Qe&&(Me=Me?Me.concat(Qe):Qe),O==null?(n(be,V,K),n(We,V,K),F(B.children||[],V,We,X,le,Se,Me,Ce)):Re>0&&Re&64&&De&&O.dynamicChildren?(A(O.dynamicChildren,De,V,X,le,Se,Me),(B.key!=null||X&&B===X.subTree)&&gf(O,B,!0)):Q(O,B,V,We,X,le,Se,Me,Ce)},_e=(O,B,V,K,X,le,Se,Me,Ce)=>{B.slotScopeIds=Me,O==null?B.shapeFlag&512?X.ctx.activate(B,V,K,Se,Ce):$e(B,V,K,X,le,Se,Ce):ve(O,B,Ce)},$e=(O,B,V,K,X,le,Se)=>{const Me=O.component=dw(O,K,X);if(dd(O)&&(Me.ctx.renderer=Pe),uw(Me,!1,Se),Me.asyncDep){if(X&&X.registerDep(Me,ge,Se),!O.el){const Ce=Me.subTree=T(Ps);$(null,Ce,B,V),O.placeholder=Ce.el}}else ge(Me,O,B,V,X,le,Se)},ve=(O,B,V)=>{const K=B.component=O.component;if(sw(O,B,V))if(K.asyncDep&&!K.asyncResolved){G(K,B,V);return}else K.next=B,K.update();else B.el=O.el,K.vnode=B},ge=(O,B,V,K,X,le,Se)=>{const Me=()=>{if(O.isMounted){let{next:Re,bu:De,u:Qe,parent:pt,vnode:Ct}=O;{const us=t1(O);if(us){Re&&(Re.el=Ct.el,G(O,Re,Se)),us.asyncDep.then(()=>{O.isUnmounted||Me()});return}}let vt=Re,ms;mi(O,!1),Re?(Re.el=Ct.el,G(O,Re,Se)):Re=Ct,De&&Jl(De),(ms=Re.props&&Re.props.onVnodeBeforeUpdate)&&zn(ms,pt,Re,Ct),mi(O,!0);const os=hu(O),$s=O.subTree;O.subTree=os,w($s,os,f($s.el),we($s),O,X,le),Re.el=os.el,vt===null&&nw(O,os.el),Qe&&Hs(Qe,X),(ms=Re.props&&Re.props.onVnodeUpdated)&&Hs(()=>zn(ms,pt,Re,Ct),X)}else{let Re;const{el:De,props:Qe}=B,{bm:pt,m:Ct,parent:vt,root:ms,type:os}=O,$s=ur(B);if(mi(O,!1),pt&&Jl(pt),!$s&&(Re=Qe&&Qe.onVnodeBeforeMount)&&zn(Re,vt,B),mi(O,!0),De&&oe){const us=()=>{O.subTree=hu(O),oe(De,O.subTree,O,X,null)};$s&&os.__asyncHydrate?os.__asyncHydrate(De,O,us):us()}else{ms.ce&&ms.ce._def.shadowRoot!==!1&&ms.ce._injectChildStyle(os);const us=O.subTree=hu(O);w(null,us,V,K,O,X,le),B.el=us.el}if(Ct&&Hs(Ct,X),!$s&&(Re=Qe&&Qe.onVnodeMounted)){const us=B;Hs(()=>zn(Re,vt,us),X)}(B.shapeFlag&256||vt&&ur(vt.vnode)&&vt.vnode.shapeFlag&256)&&O.a&&Hs(O.a,X),O.isMounted=!0,B=V=K=null}};O.scope.on();const Ce=O.effect=new a_(Me);O.scope.off();const be=O.update=Ce.run.bind(Ce),We=O.job=Ce.runIfDirty.bind(Ce);We.i=O,We.id=O.uid,Ce.scheduler=()=>lf(We),mi(O,!0),be()},G=(O,B,V)=>{B.component=O;const K=O.vnode.props;O.vnode=B,O.next=null,N2(O,B.props,K,V),H2(O,B.children,V),yo(),Dp(O),bo()},Q=(O,B,V,K,X,le,Se,Me,Ce=!1)=>{const be=O&&O.children,We=O?O.shapeFlag:0,Re=B.children,{patchFlag:De,shapeFlag:Qe}=B;if(De>0){if(De&128){me(be,Re,V,K,X,le,Se,Me,Ce);return}else if(De&256){J(be,Re,V,K,X,le,Se,Me,Ce);return}}Qe&8?(We&16&&ye(be,X,le),Re!==be&&u(V,Re)):We&16?Qe&16?me(be,Re,V,K,X,le,Se,Me,Ce):ye(be,X,le,!0):(We&8&&u(V,""),Qe&16&&F(Re,V,K,X,le,Se,Me,Ce))},J=(O,B,V,K,X,le,Se,Me,Ce)=>{O=O||lr,B=B||lr;const be=O.length,We=B.length,Re=Math.min(be,We);let De;for(De=0;De<Re;De++){const Qe=B[De]=Ce?jo(B[De]):Kn(B[De]);w(O[De],Qe,V,null,X,le,Se,Me,Ce)}be>We?ye(O,X,le,!0,!1,Re):F(B,V,K,X,le,Se,Me,Ce,Re)},me=(O,B,V,K,X,le,Se,Me,Ce)=>{let be=0;const We=B.length;let Re=O.length-1,De=We-1;for(;be<=Re&&be<=De;){const Qe=O[be],pt=B[be]=Ce?jo(B[be]):Kn(B[be]);if(Di(Qe,pt))w(Qe,pt,V,null,X,le,Se,Me,Ce);else break;be++}for(;be<=Re&&be<=De;){const Qe=O[Re],pt=B[De]=Ce?jo(B[De]):Kn(B[De]);if(Di(Qe,pt))w(Qe,pt,V,null,X,le,Se,Me,Ce);else break;Re--,De--}if(be>Re){if(be<=De){const Qe=De+1,pt=Qe<We?B[Qe].el:K;for(;be<=De;)w(null,B[be]=Ce?jo(B[be]):Kn(B[be]),V,pt,X,le,Se,Me,Ce),be++}}else if(be>De)for(;be<=Re;)Oe(O[be],X,le,!0),be++;else{const Qe=be,pt=be,Ct=new Map;for(be=pt;be<=De;be++){const hs=B[be]=Ce?jo(B[be]):Kn(B[be]);hs.key!=null&&Ct.set(hs.key,be)}let vt,ms=0;const os=De-pt+1;let $s=!1,us=0;const Cn=new Array(os);for(be=0;be<os;be++)Cn[be]=0;for(be=Qe;be<=Re;be++){const hs=O[be];if(ms>=os){Oe(hs,X,le,!0);continue}let Cs;if(hs.key!=null)Cs=Ct.get(hs.key);else for(vt=pt;vt<=De;vt++)if(Cn[vt-pt]===0&&Di(hs,B[vt])){Cs=vt;break}Cs===void 0?Oe(hs,X,le,!0):(Cn[Cs-pt]=be+1,Cs>=us?us=Cs:$s=!0,w(hs,B[Cs],V,null,X,le,Se,Me,Ce),ms++)}const Lt=$s?K2(Cn):lr;for(vt=Lt.length-1,be=os-1;be>=0;be--){const hs=pt+be,Cs=B[hs],Xi=B[hs+1],Sn=hs+1<We?Xi.el||Xi.placeholder:K;Cn[be]===0?w(null,Cs,V,Sn,X,le,Se,Me,Ce):$s&&(vt<0||be!==Lt[vt]?xe(Cs,V,Sn,2):vt--)}}},xe=(O,B,V,K,X=null)=>{const{el:le,type:Se,transition:Me,children:Ce,shapeFlag:be}=O;if(be&6){xe(O.component.subTree,B,V,K);return}if(be&128){O.suspense.move(B,V,K);return}if(be&64){Se.move(O,B,V,Pe);return}if(Se===he){n(le,B,V);for(let Re=0;Re<Ce.length;Re++)xe(Ce[Re],B,V,K);n(O.anchor,B,V);return}if(Se===Zl){S(O,B,V);return}if(K!==2&&be&1&&Me)if(K===0)Me.beforeEnter(le),n(le,B,V),Hs(()=>Me.enter(le),X);else{const{leave:Re,delayLeave:De,afterLeave:Qe}=Me,pt=()=>{O.ctx.isUnmounted?o(le):n(le,B,V)},Ct=()=>{le._isLeaving&&le[uo](!0),Re(le,()=>{pt(),Qe&&Qe()})};De?De(le,pt,Ct):Ct()}else n(le,B,V)},Oe=(O,B,V,K=!1,X=!1)=>{const{type:le,props:Se,ref:Me,children:Ce,dynamicChildren:be,shapeFlag:We,patchFlag:Re,dirs:De,cacheIndex:Qe}=O;if(Re===-2&&(X=!1),Me!=null&&(yo(),ga(Me,null,V,O,!0),bo()),Qe!=null&&(B.renderCache[Qe]=void 0),We&256){B.ctx.deactivate(O);return}const pt=We&1&&De,Ct=!ur(O);let vt;if(Ct&&(vt=Se&&Se.onVnodeBeforeUnmount)&&zn(vt,B,O),We&6)ie(O.component,V,K);else{if(We&128){O.suspense.unmount(V,K);return}pt&&pi(O,null,B,"beforeUnmount"),We&64?O.type.remove(O,B,V,Pe,K):be&&!be.hasOnce&&(le!==he||Re>0&&Re&64)?ye(be,B,V,!1,!0):(le===he&&Re&384||!X&&We&16)&&ye(Ce,B,V),K&&nt(O)}(Ct&&(vt=Se&&Se.onVnodeUnmounted)||pt)&&Hs(()=>{vt&&zn(vt,B,O),pt&&pi(O,null,B,"unmounted")},V)},nt=O=>{const{type:B,el:V,anchor:K,transition:X}=O;if(B===he){ut(V,K);return}if(B===Zl){M(O);return}const le=()=>{o(V),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(O.shapeFlag&1&&X&&!X.persisted){const{leave:Se,delayLeave:Me}=X,Ce=()=>Se(V,le);Me?Me(O.el,le,Ce):Ce()}else le()},ut=(O,B)=>{let V;for(;O!==B;)V=m(O),o(O),O=V;o(B)},ie=(O,B,V)=>{const{bum:K,scope:X,job:le,subTree:Se,um:Me,m:Ce,a:be}=O;Bp(Ce),Bp(be),K&&Jl(K),X.stop(),le&&(le.flags|=8,Oe(Se,O,B,V)),Me&&Hs(Me,B),Hs(()=>{O.isUnmounted=!0},B)},ye=(O,B,V,K=!1,X=!1,le=0)=>{for(let Se=le;Se<O.length;Se++)Oe(O[Se],B,V,K,X)},we=O=>{if(O.shapeFlag&6)return we(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const B=m(O.anchor||O.el),V=B&&B[D_];return V?m(V):B};let Ie=!1;const Xe=(O,B,V)=>{O==null?B._vnode&&Oe(B._vnode,null,null,!0):w(B._vnode||null,O,B,null,null,null,V),B._vnode=O,Ie||(Ie=!0,Dp(),S_(),Ie=!1)},Pe={p:w,um:Oe,m:xe,r:nt,mt:$e,mc:F,pc:Q,pbc:A,n:we,o:s};let ne,oe;return e&&([ne,oe]=e(Pe)),{render:Xe,hydrate:ne,createApp:I2(Xe,ne)}}function uu({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function mi({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function q2(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function gf(s,e,t=!1){const n=s.children,o=e.children;if(Ye(n)&&Ye(o))for(let r=0;r<n.length;r++){const a=n[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=jo(o[r]),l.el=a.el),!t&&l.patchFlag!==-2&&gf(a,l)),l.type===fd&&l.patchFlag!==-1&&(l.el=a.el),l.type===Ps&&!l.el&&(l.el=a.el)}}function K2(s){const e=s.slice(),t=[0];let n,o,r,a,l;const c=s.length;for(n=0;n<c;n++){const d=s[n];if(d!==0){if(o=t[t.length-1],s[o]<d){e[n]=o,t.push(n);continue}for(r=0,a=t.length-1;r<a;)l=r+a>>1,s[t[l]]<d?r=l+1:a=l;d<s[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,a=t[r-1];r-- >0;)t[r]=a,a=e[a];return t}function t1(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:t1(e)}function Bp(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const Y2=Symbol.for("v-scx"),G2=()=>tt(Y2);function jn(s,e){return _f(s,null,e)}function Ft(s,e,t){return _f(s,e,t)}function _f(s,e,t=jt){const{immediate:n,deep:o,flush:r,once:a}=t,l=ns({},t),c=e&&n||!e&&r!=="post";let d;if(Na){if(r==="sync"){const g=G2();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=En,g.resume=En,g.pause=En,g}}const u=Os;l.call=(g,_,w)=>In(g,u,_,w);let f=!1;r==="post"?l.scheduler=g=>{Hs(g,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(g,_)=>{_?g():lf(g)}),l.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=p2(s,e,l);return Na&&(d?d.push(m):c&&m()),m}function X2(s,e,t){const n=this.proxy,o=Gt(s)?s.includes(".")?s1(n,s):()=>n[s]:s.bind(n,n);let r;ot(e)?r=e:(r=e.handler,t=e);const a=Za(this),l=_f(o,r.bind(n),t);return a(),l}function s1(s,e){const t=e.split(".");return()=>{let n=s;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}const J2=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${kn(e)}Modifiers`]||s[`${ri(e)}Modifiers`];function Q2(s,e,...t){if(s.isUnmounted)return;const n=s.vnode.props||jt;let o=t;const r=e.startsWith("update:"),a=r&&J2(n,e.slice(7));a&&(a.trim&&(o=t.map(u=>Gt(u)?u.trim():u)),a.number&&(o=t.map(xc)));let l,c=n[l=ou(e)]||n[l=ou(kn(e))];!c&&r&&(c=n[l=ou(ri(e))]),c&&In(c,s,6,o);const d=n[l+"Once"];if(d){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,In(d,s,6,o)}}const Z2=new WeakMap;function n1(s,e,t=!1){const n=t?Z2:e.emitsCache,o=n.get(s);if(o!==void 0)return o;const r=s.emits;let a={},l=!1;if(!ot(s)){const c=d=>{const u=n1(d,e,!0);u&&(l=!0,ns(a,u))};!t&&e.mixins.length&&e.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}return!r&&!l?(It(s)&&n.set(s,null),null):(Ye(r)?r.forEach(c=>a[c]=null):ns(a,r),It(s)&&n.set(s,a),a)}function hd(s,e){return!s||!od(e)?!1:(e=e.slice(2).replace(/Once$/,""),St(s,e[0].toLowerCase()+e.slice(1))||St(s,ri(e))||St(s,e))}function hu(s){const{type:e,vnode:t,proxy:n,withProxy:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:u,props:f,data:m,setupState:g,ctx:_,inheritAttrs:w}=s,y=Sc(s);let $,b;try{if(t.shapeFlag&4){const M=o||n,E=M;$=Kn(d.call(E,M,u,f,g,m,_)),b=l}else{const M=e;$=Kn(M.length>1?M(f,{attrs:l,slots:a,emit:c}):M(f,null)),b=e.props?l:ew(l)}}catch(M){va.length=0,cd(M,s,1),$=T(Ps)}let S=$;if(b&&w!==!1){const M=Object.keys(b),{shapeFlag:E}=S;M.length&&E&7&&(r&&M.some(Xh)&&(b=tw(b,r)),S=xo(S,b,!1,!0))}return t.dirs&&(S=xo(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&Ui(S,t.transition),$=S,Sc(y),$}const ew=s=>{let e;for(const t in s)(t==="class"||t==="style"||od(t))&&((e||(e={}))[t]=s[t]);return e},tw=(s,e)=>{const t={};for(const n in s)(!Xh(n)||!(n.slice(9)in e))&&(t[n]=s[n]);return t};function sw(s,e,t){const{props:n,children:o,component:r}=s,{props:a,children:l,patchFlag:c}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return n?Up(n,a,d):!!a;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const m=u[f];if(a[m]!==n[m]&&!hd(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?Up(n,a,d):!0:!!a;return!1}function Up(s,e,t){const n=Object.keys(e);if(n.length!==Object.keys(s).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(e[r]!==s[r]&&!hd(t,r))return!0}return!1}function nw({vnode:s,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=e.vnode).el=t,e=e.parent;else break}}const o1=s=>s.__isSuspense;function ow(s,e){e&&e.pendingBranch?Ye(s)?e.effects.push(...s):e.effects.push(s):_2(s)}const he=Symbol.for("v-fgt"),fd=Symbol.for("v-txt"),Ps=Symbol.for("v-cmt"),Zl=Symbol.for("v-stc"),va=[];let fn=null;function v(s=!1){va.push(fn=s?null:[])}function iw(){va.pop(),fn=va[va.length-1]||null}let ja=1;function Dc(s,e=!1){ja+=s,s<0&&fn&&e&&(fn.hasOnce=!0)}function i1(s){return s.dynamicChildren=ja>0?fn||lr:null,iw(),ja>0&&fn&&fn.push(s),s}function k(s,e,t,n,o,r){return i1(i(s,e,t,n,o,r,!0))}function se(s,e,t,n,o){return i1(T(s,e,t,n,o,!0))}function Fa(s){return s?s.__v_isVNode===!0:!1}function Di(s,e){return s.type===e.type&&s.key===e.key}const r1=({key:s})=>s??null,ec=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?Gt(s)||ss(s)||ot(s)?{i:bs,r:s,k:e,f:!!t}:s:null);function i(s,e=null,t=null,n=0,o=null,r=s===he?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&r1(e),ref:e&&ec(e),scopeId:T_,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:bs};return l?(vf(c,t),r&128&&s.normalize(c)):t&&(c.shapeFlag|=Gt(t)?8:16),ja>0&&!a&&fn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&fn.push(c),c}const T=rw;function rw(s,e=null,t=null,n=0,o=null,r=!1){if((!s||s===U_)&&(s=Ps),Fa(s)){const l=xo(s,e,!0);return t&&vf(l,t),ja>0&&!r&&fn&&(l.shapeFlag&6?fn[fn.indexOf(s)]=l:fn.push(l)),l.patchFlag=-2,l}if(gw(s)&&(s=s.__vccOpts),e){e=aw(e);let{class:l,style:c}=e;l&&!Gt(l)&&(e.class=ae(l)),It(c)&&(af(c)&&!Ye(c)&&(c=ns({},c)),e.style=Mt(c))}const a=Gt(s)?1:o1(s)?128:A_(s)?64:It(s)?4:ot(s)?2:0;return i(s,e,t,n,o,a,r,!0)}function aw(s){return s?af(s)||G_(s)?ns({},s):s:null}function xo(s,e,t=!1,n=!1){const{props:o,ref:r,patchFlag:a,children:l,transition:c}=s,d=e?l1(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:s.type,props:d,key:d&&r1(d),ref:e&&e.ref?t&&r?Ye(r)?r.concat(ec(e)):[r,ec(e)]:ec(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==he?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:c,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&xo(s.ssContent),ssFallback:s.ssFallback&&xo(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return c&&n&&Ui(u,c.clone(u)),u}function te(s=" ",e=0){return T(fd,null,s,e)}function a1(s,e){const t=T(Zl,null,s);return t.staticCount=e,t}function P(s="",e=!1){return e?(v(),se(Ps,null,s)):T(Ps,null,s)}function Kn(s){return s==null||typeof s=="boolean"?T(Ps):Ye(s)?T(he,null,s.slice()):Fa(s)?jo(s):T(fd,null,String(s))}function jo(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:xo(s)}function vf(s,e){let t=0;const{shapeFlag:n}=s;if(e==null)e=null;else if(Ye(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),vf(s,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!G_(e)?e._ctx=bs:o===3&&bs&&(bs.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else ot(e)?(e={default:e,_ctx:bs},t=32):(e=String(e),n&64?(t=16,e=[te(e)]):t=8);s.children=e,s.shapeFlag|=t}function l1(...s){const e={};for(let t=0;t<s.length;t++){const n=s[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=ae([e.class,n.class]));else if(o==="style")e.style=Mt([e.style,n.style]);else if(od(o)){const r=e[o],a=n[o];a&&r!==a&&!(Ye(r)&&r.includes(a))&&(e[o]=r?[].concat(r,a):a)}else o!==""&&(e[o]=n[o])}return e}function zn(s,e,t,n=null){In(s,e,7,[t,n])}const lw=q_();let cw=0;function dw(s,e,t){const n=s.type,o=(e?e.appContext:s.appContext)||lw,r={uid:cw++,vnode:s,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new o_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:J_(n,o),emitsOptions:n1(n,o),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:n.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Q2.bind(null,r),s.ce&&s.ce(r),r}let Os=null;const Ar=()=>Os||bs;let Ac,hh;{const s=ad(),e=(t,n)=>{let o;return(o=s[t])||(o=s[t]=[]),o.push(n),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};Ac=e("__VUE_INSTANCE_SETTERS__",t=>Os=t),hh=e("__VUE_SSR_SETTERS__",t=>Na=t)}const Za=s=>{const e=Os;return Ac(s),s.scope.on(),()=>{s.scope.off(),Ac(e)}},Hp=()=>{Os&&Os.scope.off(),Ac(null)};function c1(s){return s.vnode.shapeFlag&4}let Na=!1;function uw(s,e=!1,t=!1){e&&hh(e);const{props:n,children:o}=s.vnode,r=c1(s);F2(s,n,r,e),U2(s,o,t||e);const a=r?hw(s,e):void 0;return e&&hh(!1),a}function hw(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,D2);const{setup:n}=t;if(n){yo();const o=s.setupContext=n.length>1?pw(s):null,r=Za(s),a=Qa(n,s,0,[s.props,o]),l=Jg(a);if(bo(),r(),(l||s.sp)&&!ur(s)&&F_(s),l){if(a.then(Hp,Hp),e)return a.then(c=>{Vp(s,c,e)}).catch(c=>{cd(c,s,0)});s.asyncDep=a}else Vp(s,a,e)}else d1(s,e)}function Vp(s,e,t){ot(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:It(e)&&(s.setupState=k_(e)),d1(s,t)}let Wp;function d1(s,e,t){const n=s.type;if(!s.render){if(!e&&Wp&&!n.render){const o=n.template||ff(s).template;if(o){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:l,compilerOptions:c}=n,d=ns(ns({isCustomElement:r,delimiters:l},a),c);n.render=Wp(o,d)}}s.render=n.render||En}{const o=Za(s);yo();try{A2(s)}finally{bo(),o()}}}const fw={get(s,e){return Es(s,"get",""),s[e]}};function pw(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,fw),slots:s.slots,emit:s.emit,expose:e}}function pd(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(k_(_r(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in _a)return _a[t](s)},has(e,t){return t in e||t in _a}})):s.proxy}function mw(s,e=!0){return ot(s)?s.displayName||s.name:s.name||e&&s.__name}function gw(s){return ot(s)&&"__vccOpts"in s}const Le=(s,e)=>h2(s,e,Na);function Pt(s,e,t){try{Dc(-1);const n=arguments.length;return n===2?It(e)&&!Ye(e)?Fa(e)?T(s,null,[e]):T(s,e):T(s,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Fa(t)&&(t=[t]),T(s,e,t))}finally{Dc(1)}}const _w="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fh;const qp=typeof window<"u"&&window.trustedTypes;if(qp)try{fh=qp.createPolicy("vue",{createHTML:s=>s})}catch{}const u1=fh?s=>fh.createHTML(s):s=>s,vw="http://www.w3.org/2000/svg",yw="http://www.w3.org/1998/Math/MathML",co=typeof document<"u"?document:null,Kp=co&&co.createElement("template"),bw={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,n)=>{const o=e==="svg"?co.createElementNS(vw,s):e==="mathml"?co.createElementNS(yw,s):t?co.createElement(s,{is:t}):co.createElement(s);return s==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:s=>co.createTextNode(s),createComment:s=>co.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>co.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,n,o,r){const a=t?t.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===r||!(o=o.nextSibling)););else{Kp.innerHTML=u1(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const l=Kp.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Po="transition",Ur="animation",vr=Symbol("_vtc"),h1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},f1=ns({},R_,h1),xw=s=>(s.displayName="Transition",s.props=f1,s),ww=xw((s,{slots:e})=>Pt(b2,p1(s),e)),gi=(s,e=[])=>{Ye(s)?s.forEach(t=>t(...e)):s&&s(...e)},Yp=s=>s?Ye(s)?s.some(e=>e.length>1):s.length>1:!1;function p1(s){const e={};for(const q in s)q in h1||(e[q]=s[q]);if(s.css===!1)return e;const{name:t="v",type:n,duration:o,enterFromClass:r=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:c=r,appearActiveClass:d=a,appearToClass:u=l,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:m=`${t}-leave-active`,leaveToClass:g=`${t}-leave-to`}=s,_=kw(o),w=_&&_[0],y=_&&_[1],{onBeforeEnter:$,onEnter:b,onEnterCancelled:S,onLeave:M,onLeaveCancelled:E,onBeforeAppear:H=$,onAppear:N=b,onAppearCancelled:F=S}=e,R=(q,_e,$e,ve)=>{q._enterCancelled=ve,Ro(q,_e?u:l),Ro(q,_e?d:a),$e&&$e()},A=(q,_e)=>{q._isLeaving=!1,Ro(q,f),Ro(q,g),Ro(q,m),_e&&_e()},ee=q=>(_e,$e)=>{const ve=q?N:b,ge=()=>R(_e,q,$e);gi(ve,[_e,ge]),Gp(()=>{Ro(_e,q?c:r),Un(_e,q?u:l),Yp(ve)||Xp(_e,n,w,ge)})};return ns(e,{onBeforeEnter(q){gi($,[q]),Un(q,r),Un(q,a)},onBeforeAppear(q){gi(H,[q]),Un(q,c),Un(q,d)},onEnter:ee(!1),onAppear:ee(!0),onLeave(q,_e){q._isLeaving=!0;const $e=()=>A(q,_e);Un(q,f),q._enterCancelled?(Un(q,m),ph(q)):(ph(q),Un(q,m)),Gp(()=>{q._isLeaving&&(Ro(q,f),Un(q,g),Yp(M)||Xp(q,n,y,$e))}),gi(M,[q,$e])},onEnterCancelled(q){R(q,!1,void 0,!0),gi(S,[q])},onAppearCancelled(q){R(q,!0,void 0,!0),gi(F,[q])},onLeaveCancelled(q){A(q),gi(E,[q])}})}function kw(s){if(s==null)return null;if(It(s))return[fu(s.enter),fu(s.leave)];{const e=fu(s);return[e,e]}}function fu(s){return Ex(s)}function Un(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[vr]||(s[vr]=new Set)).add(e)}function Ro(s,e){e.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const t=s[vr];t&&(t.delete(e),t.size||(s[vr]=void 0))}function Gp(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let $w=0;function Xp(s,e,t,n){const o=s._endId=++$w,r=()=>{o===s._endId&&n()};if(t!=null)return setTimeout(r,t);const{type:a,timeout:l,propCount:c}=m1(s,e);if(!a)return n();const d=a+"end";let u=0;const f=()=>{s.removeEventListener(d,m),r()},m=g=>{g.target===s&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),s.addEventListener(d,m)}function m1(s,e){const t=window.getComputedStyle(s),n=_=>(t[_]||"").split(", "),o=n(`${Po}Delay`),r=n(`${Po}Duration`),a=Jp(o,r),l=n(`${Ur}Delay`),c=n(`${Ur}Duration`),d=Jp(l,c);let u=null,f=0,m=0;e===Po?a>0&&(u=Po,f=a,m=r.length):e===Ur?d>0&&(u=Ur,f=d,m=c.length):(f=Math.max(a,d),u=f>0?a>d?Po:Ur:null,m=u?u===Po?r.length:c.length:0);const g=u===Po&&/\b(?:transform|all)(?:,|$)/.test(n(`${Po}Property`).toString());return{type:u,timeout:f,propCount:m,hasTransform:g}}function Jp(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,n)=>Qp(t)+Qp(s[n])))}function Qp(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function ph(s){return(s?s.ownerDocument:document).body.offsetHeight}function Cw(s,e,t){const n=s[vr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Ec=Symbol("_vod"),g1=Symbol("_vsh"),Ht={name:"show",beforeMount(s,{value:e},{transition:t}){s[Ec]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):Hr(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:n}){!e!=!t&&(n?e?(n.beforeEnter(s),Hr(s,!0),n.enter(s)):n.leave(s,()=>{Hr(s,!1)}):Hr(s,e))},beforeUnmount(s,{value:e}){Hr(s,e)}};function Hr(s,e){s.style.display=e?s[Ec]:"none",s[g1]=!e}const Sw=Symbol(""),Mw=/(?:^|;)\s*display\s*:/;function Tw(s,e,t){const n=s.style,o=Gt(t);let r=!1;if(t&&!o){if(e)if(Gt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&tc(n,l,"")}else for(const a in e)t[a]==null&&tc(n,a,"");for(const a in t)a==="display"&&(r=!0),tc(n,a,t[a])}else if(o){if(e!==t){const a=n[Sw];a&&(t+=";"+a),n.cssText=t,r=Mw.test(t)}}else e&&s.removeAttribute("style");Ec in s&&(s[Ec]=r?n.display:"",s[g1]&&(n.display="none"))}const Zp=/\s*!important$/;function tc(s,e,t){if(Ye(t))t.forEach(n=>tc(s,e,n));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const n=Dw(s,e);Zp.test(t)?s.setProperty(ri(n),t.replace(Zp,""),"important"):s[n]=t}}const em=["Webkit","Moz","ms"],pu={};function Dw(s,e){const t=pu[e];if(t)return t;let n=kn(e);if(n!=="filter"&&n in s)return pu[e]=n;n=rd(n);for(let o=0;o<em.length;o++){const r=em[o]+n;if(r in s)return pu[e]=r}return e}const tm="http://www.w3.org/1999/xlink";function sm(s,e,t,n,o,r=jx(e)){n&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(tm,e.slice(6,e.length)):s.setAttributeNS(tm,e,t):t==null||r&&!t_(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Ln(t)?String(t):t)}function nm(s,e,t,n,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?u1(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,c=t==null?s.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in s))&&(s.value=c),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=t_(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(o||e)}function mo(s,e,t,n){s.addEventListener(e,t,n)}function Aw(s,e,t,n){s.removeEventListener(e,t,n)}const om=Symbol("_vei");function Ew(s,e,t,n,o=null){const r=s[om]||(s[om]={}),a=r[e];if(n&&a)a.value=n;else{const[l,c]=Pw(e);if(n){const d=r[e]=Lw(n,o);mo(s,l,d,c)}else a&&(Aw(s,l,a,c),r[e]=void 0)}}const im=/(?:Once|Passive|Capture)$/;function Pw(s){let e;if(im.test(s)){e={};let n;for(;n=s.match(im);)s=s.slice(0,s.length-n[0].length),e[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):ri(s.slice(2)),e]}let mu=0;const Ow=Promise.resolve(),Rw=()=>mu||(Ow.then(()=>mu=0),mu=Date.now());function Lw(s,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;In(Iw(n,t.value),e,5,[n])};return t.value=s,t.attached=Rw(),t}function Iw(s,e){if(Ye(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const rm=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,jw=(s,e,t,n,o,r)=>{const a=o==="svg";e==="class"?Cw(s,n,a):e==="style"?Tw(s,t,n):od(e)?Xh(e)||Ew(s,e,t,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Fw(s,e,n,a))?(nm(s,e,n),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sm(s,e,n,a,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!Gt(n))?nm(s,kn(e),n,r,e):(e==="true-value"?s._trueValue=n:e==="false-value"&&(s._falseValue=n),sm(s,e,n,a))};function Fw(s,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in s&&rm(e)&&ot(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=s.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return rm(e)&&Gt(t)?!1:e in s}const _1=new WeakMap,v1=new WeakMap,Pc=Symbol("_moveCb"),am=Symbol("_enterCb"),Nw=s=>(delete s.props.mode,s),zw=Nw({name:"TransitionGroup",props:ns({},f1,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=Ar(),n=O_();let o,r;return Dr(()=>{if(!o.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!Ww(o[0].el,t.vnode.el,a)){o=[];return}o.forEach(Uw),o.forEach(Hw);const l=o.filter(Vw);ph(t.vnode.el),l.forEach(c=>{const d=c.el,u=d.style;Un(d,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Pc]=m=>{m&&m.target!==d||(!m||m.propertyName.endsWith("transform"))&&(d.removeEventListener("transitionend",f),d[Pc]=null,Ro(d,a))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const a=yt(s),l=p1(a);let c=a.tag||he;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),Ui(u,Ia(u,l,n,t)),_1.set(u,u.el.getBoundingClientRect()))}r=e.default?df(e.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&Ui(u,Ia(u,l,n,t))}return T(c,null,r)}}}),Bw=zw;function Uw(s){const e=s.el;e[Pc]&&e[Pc](),e[am]&&e[am]()}function Hw(s){v1.set(s,s.el.getBoundingClientRect())}function Vw(s){const e=_1.get(s),t=v1.get(s),n=e.left-t.left,o=e.top-t.top;if(n||o){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${o}px)`,r.transitionDuration="0s",s}}function Ww(s,e,t){const n=s.cloneNode(),o=s[vr];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),t.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(n);const{hasTransform:a}=m1(n);return r.removeChild(n),a}const ti=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Ye(e)?t=>Jl(e,t):e};function qw(s){s.target.composing=!0}function lm(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wn=Symbol("_assign"),de={created(s,{modifiers:{lazy:e,trim:t,number:n}},o){s[wn]=ti(o);const r=n||o.props&&o.props.type==="number";mo(s,e?"change":"input",a=>{if(a.target.composing)return;let l=s.value;t&&(l=l.trim()),r&&(l=xc(l)),s[wn](l)}),t&&mo(s,"change",()=>{s.value=s.value.trim()}),e||(mo(s,"compositionstart",qw),mo(s,"compositionend",lm),mo(s,"change",lm))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:n,trim:o,number:r}},a){if(s[wn]=ti(a),s.composing)return;const l=(r||s.type==="number")&&!/^0\d/.test(s.value)?xc(s.value):s.value,c=e??"";l!==c&&(document.activeElement===s&&s.type!=="range"&&(n&&e===t||o&&s.value.trim()===c)||(s.value=c))}},ys={deep:!0,created(s,e,t){s[wn]=ti(t),mo(s,"change",()=>{const n=s._modelValue,o=yr(s),r=s.checked,a=s[wn];if(Ye(n)){const l=Zh(n,o),c=l!==-1;if(r&&!c)a(n.concat(o));else if(!r&&c){const d=[...n];d.splice(l,1),a(d)}}else if(Mr(n)){const l=new Set(n);r?l.add(o):l.delete(o),a(l)}else a(y1(s,r))})},mounted:cm,beforeUpdate(s,e,t){s[wn]=ti(t),cm(s,e,t)}};function cm(s,{value:e,oldValue:t},n){s._modelValue=e;let o;if(Ye(e))o=Zh(e,n.props.value)>-1;else if(Mr(e))o=e.has(n.props.value);else{if(e===t)return;o=Bi(e,y1(s,!0))}s.checked!==o&&(s.checked=o)}const hr={created(s,{value:e},t){s.checked=Bi(e,t.props.value),s[wn]=ti(t),mo(s,"change",()=>{s[wn](yr(s))})},beforeUpdate(s,{value:e,oldValue:t},n){s[wn]=ti(n),e!==t&&(s.checked=Bi(e,n.props.value))}},qe={deep:!0,created(s,{value:e,modifiers:{number:t}},n){const o=Mr(e);mo(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>t?xc(yr(a)):yr(a));s[wn](s.multiple?o?new Set(r):r:r[0]),s._assigning=!0,Tr(()=>{s._assigning=!1})}),s[wn]=ti(n)},mounted(s,{value:e}){dm(s,e)},beforeUpdate(s,e,t){s[wn]=ti(t)},updated(s,{value:e}){s._assigning||dm(s,e)}};function dm(s,e){const t=s.multiple,n=Ye(e);if(!(t&&!n&&!Mr(e))){for(let o=0,r=s.options.length;o<r;o++){const a=s.options[o],l=yr(a);if(t)if(n){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(d=>String(d)===String(l)):a.selected=Zh(e,l)>-1}else a.selected=e.has(l);else if(Bi(yr(a),e)){s.selectedIndex!==o&&(s.selectedIndex=o);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function yr(s){return"_value"in s?s._value:s.value}function y1(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const Kw={created(s,e,t){bl(s,e,t,null,"created")},mounted(s,e,t){bl(s,e,t,null,"mounted")},beforeUpdate(s,e,t,n){bl(s,e,t,n,"beforeUpdate")},updated(s,e,t,n){bl(s,e,t,n,"updated")}};function Yw(s,e){switch(s){case"SELECT":return qe;case"TEXTAREA":return de;default:switch(e){case"checkbox":return ys;case"radio":return hr;default:return de}}}function bl(s,e,t,n,o){const a=Yw(s.tagName,t.props&&t.props.type)[o];a&&a(s,e,t,n)}const Gw=["ctrl","shift","alt","meta"],Xw={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>Gw.some(t=>s[`${t}Key`]&&!e.includes(t))},et=(s,e)=>{const t=s._withMods||(s._withMods={}),n=e.join(".");return t[n]||(t[n]=(o,...r)=>{for(let a=0;a<e.length;a++){const l=Xw[e[a]];if(l&&l(o,e))return}return s(o,...r)})},Jw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bn=(s,e)=>{const t=s._withKeys||(s._withKeys={}),n=e.join(".");return t[n]||(t[n]=o=>{if(!("key"in o))return;const r=ri(o.key);if(e.some(a=>a===r||Jw[a]===r))return s(o)})},Qw=ns({patchProp:jw},bw);let um;function Zw(){return um||(um=V2(Qw))}const e5=(...s)=>{const e=Zw().createApp(...s),{mount:t}=e;return e.mount=n=>{const o=s5(n);if(!o)return;const r=e._component;!ot(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=t(o,!1,t5(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function t5(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function s5(s){return Gt(s)?document.querySelector(s):s}var n5=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let b1;const md=s=>b1=s,x1=Symbol();function mh(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var ya;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(ya||(ya={}));function o5(){const s=i_(!0),e=s.run(()=>I({}));let t=[],n=[];const o=_r({install(r){md(o),o._a=r,r.provide(x1,o),r.config.globalProperties.$pinia=o,n.forEach(a=>t.push(a)),n=[]},use(r){return!this._a&&!n5?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const w1=()=>{};function hm(s,e,t,n=w1){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&r_()&&Nx(o),o}function Qi(s,...e){s.slice().forEach(t=>{t(...e)})}const i5=s=>s(),fm=Symbol(),gu=Symbol();function gh(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];mh(o)&&mh(n)&&s.hasOwnProperty(t)&&!ss(n)&&!Jo(n)?s[t]=gh(o,n):s[t]=n}return s}const r5=Symbol();function a5(s){return!mh(s)||!s.hasOwnProperty(r5)}const{assign:Lo}=Object;function l5(s){return!!(ss(s)&&s.effect)}function c5(s,e,t,n){const{state:o,actions:r,getters:a}=e,l=t.state.value[s];let c;function d(){l||(t.state.value[s]=o?o():{});const u=l2(t.state.value[s]);return Lo(u,r,Object.keys(a||{}).reduce((f,m)=>(f[m]=_r(Le(()=>{md(t);const g=t._s.get(s);return a[m].call(g,g)})),f),{}))}return c=k1(s,d,e,t,n,!0),c}function k1(s,e,t={},n,o,r){let a;const l=Lo({actions:{}},t),c={deep:!0};let d,u,f=[],m=[],g;const _=n.state.value[s];!r&&!_&&(n.state.value[s]={}),I({});let w;function y(F){let R;d=u=!1,typeof F=="function"?(F(n.state.value[s]),R={type:ya.patchFunction,storeId:s,events:g}):(gh(n.state.value[s],F),R={type:ya.patchObject,payload:F,storeId:s,events:g});const A=w=Symbol();Tr().then(()=>{w===A&&(d=!0)}),u=!0,Qi(f,R,n.state.value[s])}const $=r?function(){const{state:R}=t,A=R?R():{};this.$patch(ee=>{Lo(ee,A)})}:w1;function b(){a.stop(),f=[],m=[],n._s.delete(s)}const S=(F,R="")=>{if(fm in F)return F[gu]=R,F;const A=function(){md(n);const ee=Array.from(arguments),q=[],_e=[];function $e(G){q.push(G)}function ve(G){_e.push(G)}Qi(m,{args:ee,name:A[gu],store:E,after:$e,onError:ve});let ge;try{ge=F.apply(this&&this.$id===s?this:E,ee)}catch(G){throw Qi(_e,G),G}return ge instanceof Promise?ge.then(G=>(Qi(q,G),G)).catch(G=>(Qi(_e,G),Promise.reject(G))):(Qi(q,ge),ge)};return A[fm]=!0,A[gu]=R,A},M={_p:n,$id:s,$onAction:hm.bind(null,m),$patch:y,$reset:$,$subscribe(F,R={}){const A=hm(f,F,R.detached,()=>ee()),ee=a.run(()=>Ft(()=>n.state.value[s],q=>{(R.flush==="sync"?u:d)&&F({storeId:s,type:ya.direct,events:g},q)},Lo({},c,R)));return A},$dispose:b},E=mt(M);n._s.set(s,E);const N=(n._a&&n._a.runWithContext||i5)(()=>n._e.run(()=>(a=i_()).run(()=>e({action:S}))));for(const F in N){const R=N[F];if(ss(R)&&!l5(R)||Jo(R))r||(_&&a5(R)&&(ss(R)?R.value=_[F]:gh(R,_[F])),n.state.value[s][F]=R);else if(typeof R=="function"){const A=S(R,F);N[F]=A,l.actions[F]=R}}return Lo(E,N),Lo(yt(E),N),Object.defineProperty(E,"$state",{get:()=>n.state.value[s],set:F=>{y(R=>{Lo(R,F)})}}),n._p.forEach(F=>{Lo(E,a.run(()=>F({store:E,app:n._a,pinia:n,options:l})))}),_&&r&&t.hydrate&&t.hydrate(E.$state,_),d=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function tn(s,e,t){let n,o;const r=typeof e=="function";typeof s=="string"?(n=s,o=r?t:e):(o=s,n=s.id);function a(l,c){const d=j2();return l=l||(d?tt(x1,null):null),l&&md(l),l=b1,l._s.has(n)||(r?k1(n,e,o,l):c5(n,o,l)),l._s.get(n)}return a.$id=n,a}const gd=tn("main",()=>{const s=I(!1),e=I(!1);return{isBlankPage:s,isMobileSidebar:e}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ir=typeof window<"u";function d5(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const At=Object.assign;function _u(s,e){const t={};for(const n in e){const o=e[n];t[n]=Fn(o)?o.map(s):s(o)}return t}const ba=()=>{},Fn=Array.isArray,u5=/\/$/,h5=s=>s.replace(u5,"");function vu(s,e,t="/"){let n,o={},r="",a="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(n=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),o=s(r)),l>-1&&(n=n||e.slice(0,l),a=e.slice(l,e.length)),n=g5(n??e,t),{fullPath:n+(r&&"?")+r+a,path:n,query:o,hash:a}}function f5(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function pm(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function p5(s,e,t){const n=e.matched.length-1,o=t.matched.length-1;return n>-1&&n===o&&br(e.matched[n],t.matched[o])&&$1(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function br(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function $1(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!m5(s[t],e[t]))return!1;return!0}function m5(s,e){return Fn(s)?mm(s,e):Fn(e)?mm(e,s):s===e}function mm(s,e){return Fn(e)?s.length===e.length&&s.every((t,n)=>t===e[n]):s.length===1&&s[0]===e}function g5(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),n=s.split("/");let o=t.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var za;(function(s){s.pop="pop",s.push="push"})(za||(za={}));var xa;(function(s){s.back="back",s.forward="forward",s.unknown=""})(xa||(xa={}));function _5(s){if(!s)if(ir){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),h5(s)}const v5=/^[^#]+#/;function y5(s,e){return s.replace(v5,"#")+e}function b5(s,e){const t=document.documentElement.getBoundingClientRect(),n=s.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const _d=()=>({left:window.pageXOffset,top:window.pageYOffset});function x5(s){let e;if("el"in s){const t=s.el,n=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=b5(o,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function gm(s,e){return(history.state?history.state.position-e:-1)+s}const _h=new Map;function w5(s,e){_h.set(s,e)}function k5(s){const e=_h.get(s);return _h.delete(s),e}let $5=()=>location.protocol+"//"+location.host;function C1(s,e){const{pathname:t,search:n,hash:o}=e,r=s.indexOf("#");if(r>-1){let l=o.includes(s.slice(r))?s.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),pm(c,"")}return pm(t,s)+n+o}function C5(s,e,t,n){let o=[],r=[],a=null;const l=({state:m})=>{const g=C1(s,location),_=t.value,w=e.value;let y=0;if(m){if(t.value=g,e.value=m,a&&a===_){a=null;return}y=w?m.position-w.position:0}else n(g);o.forEach($=>{$(t.value,_,{delta:y,type:za.pop,direction:y?y>0?xa.forward:xa.back:xa.unknown})})};function c(){a=t.value}function d(m){o.push(m);const g=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return r.push(g),g}function u(){const{history:m}=window;m.state&&m.replaceState(At({},m.state,{scroll:_d()}),"")}function f(){for(const m of r)m();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:d,destroy:f}}function _m(s,e,t,n=!1,o=!1){return{back:s,current:e,forward:t,replaced:n,position:window.history.length,scroll:o?_d():null}}function S5(s){const{history:e,location:t}=window,n={value:C1(s,t)},o={value:e.state};o.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const f=s.indexOf("#"),m=f>-1?(t.host&&document.querySelector("base")?s:s.slice(f))+c:$5()+s+c;try{e[u?"replaceState":"pushState"](d,"",m),o.value=d}catch{t[u?"replace":"assign"](m)}}function a(c,d){const u=At({},e.state,_m(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),n.value=c}function l(c,d){const u=At({},o.value,e.state,{forward:c,scroll:_d()});r(u.current,u,!0);const f=At({},_m(n.value,c,null),{position:u.position+1},d);r(c,f,!1),n.value=c}return{location:n,state:o,push:l,replace:a}}function M5(s){s=_5(s);const e=S5(s),t=C5(s,e.state,e.location,e.replace);function n(r,a=!0){a||t.pauseListeners(),history.go(r)}const o=At({location:"",base:s,go:n,createHref:y5.bind(null,s)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function T5(s){return typeof s=="string"||s&&typeof s=="object"}function S1(s){return typeof s=="string"||typeof s=="symbol"}const Oo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},M1=Symbol("");var vm;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(vm||(vm={}));function xr(s,e){return At(new Error,{type:s,[M1]:!0},e)}function io(s,e){return s instanceof Error&&M1 in s&&(e==null||!!(s.type&e))}const ym="[^/]+?",D5={sensitive:!1,strict:!1,start:!0,end:!0},A5=/[.+*?^${}()[\]/\\]/g;function E5(s,e){const t=At({},D5,e),n=[];let o=t.start?"^":"";const r=[];for(const d of s){const u=d.length?[]:[90];t.strict&&!d.length&&(o+="/");for(let f=0;f<d.length;f++){const m=d[f];let g=40+(t.sensitive?.25:0);if(m.type===0)f||(o+="/"),o+=m.value.replace(A5,"\\$&"),g+=40;else if(m.type===1){const{value:_,repeatable:w,optional:y,regexp:$}=m;r.push({name:_,repeatable:w,optional:y});const b=$||ym;if(b!==ym){g+=10;try{new RegExp(`(${b})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+M.message)}}let S=w?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(S=y&&d.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),o+=S,g+=20,y&&(g+=-8),w&&(g+=-20),b===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(t.strict&&t.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const a=new RegExp(o,t.sensitive?"":"i");function l(d){const u=d.match(a),f={};if(!u)return null;for(let m=1;m<u.length;m++){const g=u[m]||"",_=r[m-1];f[_.name]=g&&_.repeatable?g.split("/"):g}return f}function c(d){let u="",f=!1;for(const m of s){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of m)if(g.type===0)u+=g.value;else if(g.type===1){const{value:_,repeatable:w,optional:y}=g,$=_ in d?d[_]:"";if(Fn($)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=Fn($)?$.join("/"):$;if(!b)if(y)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);u+=b}}return u||"/"}return{re:a,score:n,keys:r,parse:l,stringify:c}}function P5(s,e){let t=0;for(;t<s.length&&t<e.length;){const n=e[t]-s[t];if(n)return n;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function O5(s,e){let t=0;const n=s.score,o=e.score;for(;t<n.length&&t<o.length;){const r=P5(n[t],o[t]);if(r)return r;t++}if(Math.abs(o.length-n.length)===1){if(bm(n))return 1;if(bm(o))return-1}return o.length-n.length}function bm(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const R5={type:0,value:""},L5=/[a-zA-Z0-9_]/;function I5(s){if(!s)return[[]];if(s==="/")return[[R5]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(g){throw new Error(`ERR (${t})/"${d}": ${g}`)}let t=0,n=t;const o=[];let r;function a(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function f(){d&&(t===0?r.push({type:0,value:d}):t===1||t===2||t===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;l<s.length;){if(c=s[l++],c==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:c==="/"?(d&&f(),a()):c===":"?(f(),t=1):m();break;case 4:m(),t=n;break;case 1:c==="("?t=2:L5.test(c)?m():(f(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:t=3:u+=c;break;case 3:f(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),a(),o}function j5(s,e,t){const n=E5(I5(s.path),t),o=At(n,{record:s,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function F5(s,e){const t=[],n=new Map;e=km({strict:!1,end:!0,sensitive:!1},e);function o(u){return n.get(u)}function r(u,f,m){const g=!m,_=N5(u);_.aliasOf=m&&m.record;const w=km(e,u),y=[_];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const M of S)y.push(At({},_,{components:m?m.record.components:_.components,path:M,aliasOf:m?m.record:_}))}let $,b;for(const S of y){const{path:M}=S;if(f&&M[0]!=="/"){const E=f.record.path,H=E[E.length-1]==="/"?"":"/";S.path=f.record.path+(M&&H+M)}if($=j5(S,f,w),m?m.alias.push($):(b=b||$,b!==$&&b.alias.push($),g&&u.name&&!wm($)&&a(u.name)),_.children){const E=_.children;for(let H=0;H<E.length;H++)r(E[H],$,m&&m.children[H])}m=m||$,($.record.components&&Object.keys($.record.components).length||$.record.name||$.record.redirect)&&c($)}return b?()=>{a(b)}:ba}function a(u){if(S1(u)){const f=n.get(u);f&&(n.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function l(){return t}function c(u){let f=0;for(;f<t.length&&O5(u,t[f])>=0&&(u.record.path!==t[f].record.path||!T1(u,t[f]));)f++;t.splice(f,0,u),u.record.name&&!wm(u)&&n.set(u.record.name,u)}function d(u,f){let m,g={},_,w;if("name"in u&&u.name){if(m=n.get(u.name),!m)throw xr(1,{location:u});w=m.record.name,g=At(xm(f.params,m.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&xm(u.params,m.keys.map(b=>b.name))),_=m.stringify(g)}else if("path"in u)_=u.path,m=t.find(b=>b.re.test(_)),m&&(g=m.parse(_),w=m.record.name);else{if(m=f.name?n.get(f.name):t.find(b=>b.re.test(f.path)),!m)throw xr(1,{location:u,currentLocation:f});w=m.record.name,g=At({},f.params,u.params),_=m.stringify(g)}const y=[];let $=m;for(;$;)y.unshift($.record),$=$.parent;return{name:w,path:_,params:g,matched:y,meta:B5(y)}}return s.forEach(u=>r(u)),{addRoute:r,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function xm(s,e){const t={};for(const n of e)n in s&&(t[n]=s[n]);return t}function N5(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:z5(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function z5(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const n in s.components)e[n]=typeof t=="boolean"?t:t[n];return e}function wm(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function B5(s){return s.reduce((e,t)=>At(e,t.meta),{})}function km(s,e){const t={};for(const n in s)t[n]=n in e?e[n]:s[n];return t}function T1(s,e){return e.children.some(t=>t===s||T1(s,t))}const D1=/#/g,U5=/&/g,H5=/\//g,V5=/=/g,W5=/\?/g,A1=/\+/g,q5=/%5B/g,K5=/%5D/g,E1=/%5E/g,Y5=/%60/g,P1=/%7B/g,G5=/%7C/g,O1=/%7D/g,X5=/%20/g;function yf(s){return encodeURI(""+s).replace(G5,"|").replace(q5,"[").replace(K5,"]")}function J5(s){return yf(s).replace(P1,"{").replace(O1,"}").replace(E1,"^")}function vh(s){return yf(s).replace(A1,"%2B").replace(X5,"+").replace(D1,"%23").replace(U5,"%26").replace(Y5,"`").replace(P1,"{").replace(O1,"}").replace(E1,"^")}function Q5(s){return vh(s).replace(V5,"%3D")}function Z5(s){return yf(s).replace(D1,"%23").replace(W5,"%3F")}function ek(s){return s==null?"":Z5(s).replace(H5,"%2F")}function Oc(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function tk(s){const e={};if(s===""||s==="?")return e;const n=(s[0]==="?"?s.slice(1):s).split("&");for(let o=0;o<n.length;++o){const r=n[o].replace(A1," "),a=r.indexOf("="),l=Oc(a<0?r:r.slice(0,a)),c=a<0?null:Oc(r.slice(a+1));if(l in e){let d=e[l];Fn(d)||(d=e[l]=[d]),d.push(c)}else e[l]=c}return e}function $m(s){let e="";for(let t in s){const n=s[t];if(t=Q5(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Fn(n)?n.map(r=>r&&vh(r)):[n&&vh(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function sk(s){const e={};for(const t in s){const n=s[t];n!==void 0&&(e[t]=Fn(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const R1=Symbol(""),Cm=Symbol(""),vd=Symbol(""),bf=Symbol(""),yh=Symbol("");function Vr(){let s=[];function e(n){return s.push(n),()=>{const o=s.indexOf(n);o>-1&&s.splice(o,1)}}function t(){s=[]}return{add:e,list:()=>s,reset:t}}function nk(s,e,t){const n=()=>{s[e].delete(t)};en(n),z_(n),N_(()=>{s[e].add(t)}),s[e].add(t)}function ok(s){const e=tt(R1,{}).value;e&&nk(e,"updateGuards",s)}function Fo(s,e,t,n,o){const r=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(xr(4,{from:t,to:e})):f instanceof Error?l(f):T5(f)?l(xr(2,{from:e,to:f})):(r&&n.enterCallbacks[o]===r&&typeof f=="function"&&r.push(f),a())},d=s.call(n&&n.instances[o],e,t,c);let u=Promise.resolve(d);s.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function yu(s,e,t,n){const o=[];for(const r of s)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(ik(l)){const d=(l.__vccOpts||l)[e];d&&o.push(Fo(d,t,n,r,a))}else{let c=l();o.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const u=d5(d)?d.default:d;r.components[a]=u;const m=(u.__vccOpts||u)[e];return m&&Fo(m,t,n,r,a)()}))}}return o}function ik(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function Sm(s){const e=tt(vd),t=tt(bf),n=Le(()=>e.resolve(p(s.to))),o=Le(()=>{const{matched:c}=n.value,{length:d}=c,u=c[d-1],f=t.matched;if(!u||!f.length)return-1;const m=f.findIndex(br.bind(null,u));if(m>-1)return m;const g=Mm(c[d-2]);return d>1&&Mm(u)===g&&f[f.length-1].path!==g?f.findIndex(br.bind(null,c[d-2])):m}),r=Le(()=>o.value>-1&&ck(t.params,n.value.params)),a=Le(()=>o.value>-1&&o.value===t.matched.length-1&&$1(t.params,n.value.params));function l(c={}){return lk(c)?e[p(s.replace)?"replace":"push"](p(s.to)).catch(ba):Promise.resolve()}return{route:n,href:Le(()=>n.value.href),isActive:r,isExactActive:a,navigate:l}}const rk=fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sm,setup(s,{slots:e}){const t=mt(Sm(s)),{options:n}=tt(vd),o=Le(()=>({[Tm(s.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Tm(s.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return s.custom?r:Pt("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},r)}}}),ak=rk;function lk(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function ck(s,e){for(const t in e){const n=e[t],o=s[t];if(typeof n=="string"){if(n!==o)return!1}else if(!Fn(o)||o.length!==n.length||n.some((r,a)=>r!==o[a]))return!1}return!0}function Mm(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Tm=(s,e,t)=>s??e??t,dk=fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const n=tt(yh),o=Le(()=>s.route||n.value),r=tt(Cm,0),a=Le(()=>{let d=p(r);const{matched:u}=o.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),l=Le(()=>o.value.matched[a.value]);Is(Cm,Le(()=>a.value+1)),Is(R1,l),Is(yh,o);const c=I();return Ft(()=>[c.value,l.value,s.name],([d,u,f],[m,g,_])=>{u&&(u.instances[f]=d,g&&g!==u&&d&&d===m&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),d&&u&&(!g||!br(u,g)||!m)&&(u.enterCallbacks[f]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=o.value,u=s.name,f=l.value,m=f&&f.components[u];if(!m)return Dm(t.default,{Component:m,route:d});const g=f.props[u],_=g?g===!0?d.params:typeof g=="function"?g(d):g:null,y=Pt(m,At({},_,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Dm(t.default,{Component:y,route:d})||y}}});function Dm(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const xf=dk;function uk(s){const e=F5(s.routes,s),t=s.parseQuery||tk,n=s.stringifyQuery||$m,o=s.history,r=Vr(),a=Vr(),l=Vr(),c=x_(Oo);let d=Oo;ir&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_u.bind(null,ie=>""+ie),f=_u.bind(null,ek),m=_u.bind(null,Oc);function g(ie,ye){let we,Ie;return S1(ie)?(we=e.getRecordMatcher(ie),Ie=ye):Ie=ie,e.addRoute(Ie,we)}function _(ie){const ye=e.getRecordMatcher(ie);ye&&e.removeRoute(ye)}function w(){return e.getRoutes().map(ie=>ie.record)}function y(ie){return!!e.getRecordMatcher(ie)}function $(ie,ye){if(ye=At({},ye||c.value),typeof ie=="string"){const oe=vu(t,ie,ye.path),O=e.resolve({path:oe.path},ye),B=o.createHref(oe.fullPath);return At(oe,O,{params:m(O.params),hash:Oc(oe.hash),redirectedFrom:void 0,href:B})}let we;if("path"in ie)we=At({},ie,{path:vu(t,ie.path,ye.path).path});else{const oe=At({},ie.params);for(const O in oe)oe[O]==null&&delete oe[O];we=At({},ie,{params:f(ie.params)}),ye.params=f(ye.params)}const Ie=e.resolve(we,ye),Xe=ie.hash||"";Ie.params=u(m(Ie.params));const Pe=f5(n,At({},ie,{hash:J5(Xe),path:Ie.path})),ne=o.createHref(Pe);return At({fullPath:Pe,hash:Xe,query:n===$m?sk(ie.query):ie.query||{}},Ie,{redirectedFrom:void 0,href:ne})}function b(ie){return typeof ie=="string"?vu(t,ie,c.value.path):At({},ie)}function S(ie,ye){if(d!==ie)return xr(8,{from:ye,to:ie})}function M(ie){return N(ie)}function E(ie){return M(At(b(ie),{replace:!0}))}function H(ie){const ye=ie.matched[ie.matched.length-1];if(ye&&ye.redirect){const{redirect:we}=ye;let Ie=typeof we=="function"?we(ie):we;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=b(Ie):{path:Ie},Ie.params={}),At({query:ie.query,hash:ie.hash,params:"path"in Ie?{}:ie.params},Ie)}}function N(ie,ye){const we=d=$(ie),Ie=c.value,Xe=ie.state,Pe=ie.force,ne=ie.replace===!0,oe=H(we);if(oe)return N(At(b(oe),{state:typeof oe=="object"?At({},Xe,oe.state):Xe,force:Pe,replace:ne}),ye||we);const O=we;O.redirectedFrom=ye;let B;return!Pe&&p5(n,Ie,we)&&(B=xr(16,{to:O,from:Ie}),me(Ie,Ie,!0,!1)),(B?Promise.resolve(B):R(O,Ie)).catch(V=>io(V)?io(V,2)?V:J(V):G(V,O,Ie)).then(V=>{if(V){if(io(V,2))return N(At({replace:ne},b(V.to),{state:typeof V.to=="object"?At({},Xe,V.to.state):Xe,force:Pe}),ye||O)}else V=ee(O,Ie,!0,ne,Xe);return A(O,Ie,V),V})}function F(ie,ye){const we=S(ie,ye);return we?Promise.reject(we):Promise.resolve()}function R(ie,ye){let we;const[Ie,Xe,Pe]=hk(ie,ye);we=yu(Ie.reverse(),"beforeRouteLeave",ie,ye);for(const oe of Ie)oe.leaveGuards.forEach(O=>{we.push(Fo(O,ie,ye))});const ne=F.bind(null,ie,ye);return we.push(ne),Zi(we).then(()=>{we=[];for(const oe of r.list())we.push(Fo(oe,ie,ye));return we.push(ne),Zi(we)}).then(()=>{we=yu(Xe,"beforeRouteUpdate",ie,ye);for(const oe of Xe)oe.updateGuards.forEach(O=>{we.push(Fo(O,ie,ye))});return we.push(ne),Zi(we)}).then(()=>{we=[];for(const oe of ie.matched)if(oe.beforeEnter&&!ye.matched.includes(oe))if(Fn(oe.beforeEnter))for(const O of oe.beforeEnter)we.push(Fo(O,ie,ye));else we.push(Fo(oe.beforeEnter,ie,ye));return we.push(ne),Zi(we)}).then(()=>(ie.matched.forEach(oe=>oe.enterCallbacks={}),we=yu(Pe,"beforeRouteEnter",ie,ye),we.push(ne),Zi(we))).then(()=>{we=[];for(const oe of a.list())we.push(Fo(oe,ie,ye));return we.push(ne),Zi(we)}).catch(oe=>io(oe,8)?oe:Promise.reject(oe))}function A(ie,ye,we){for(const Ie of l.list())Ie(ie,ye,we)}function ee(ie,ye,we,Ie,Xe){const Pe=S(ie,ye);if(Pe)return Pe;const ne=ye===Oo,oe=ir?history.state:{};we&&(Ie||ne?o.replace(ie.fullPath,At({scroll:ne&&oe&&oe.scroll},Xe)):o.push(ie.fullPath,Xe)),c.value=ie,me(ie,ye,we,ne),J()}let q;function _e(){q||(q=o.listen((ie,ye,we)=>{if(!ut.listening)return;const Ie=$(ie),Xe=H(Ie);if(Xe){N(At(Xe,{replace:!0}),Ie).catch(ba);return}d=Ie;const Pe=c.value;ir&&w5(gm(Pe.fullPath,we.delta),_d()),R(Ie,Pe).catch(ne=>io(ne,12)?ne:io(ne,2)?(N(ne.to,Ie).then(oe=>{io(oe,20)&&!we.delta&&we.type===za.pop&&o.go(-1,!1)}).catch(ba),Promise.reject()):(we.delta&&o.go(-we.delta,!1),G(ne,Ie,Pe))).then(ne=>{ne=ne||ee(Ie,Pe,!1),ne&&(we.delta&&!io(ne,8)?o.go(-we.delta,!1):we.type===za.pop&&io(ne,20)&&o.go(-1,!1)),A(Ie,Pe,ne)}).catch(ba)}))}let $e=Vr(),ve=Vr(),ge;function G(ie,ye,we){J(ie);const Ie=ve.list();return Ie.length&&Ie.forEach(Xe=>Xe(ie,ye,we)),Promise.reject(ie)}function Q(){return ge&&c.value!==Oo?Promise.resolve():new Promise((ie,ye)=>{$e.add([ie,ye])})}function J(ie){return ge||(ge=!ie,_e(),$e.list().forEach(([ye,we])=>ie?we(ie):ye()),$e.reset()),ie}function me(ie,ye,we,Ie){const{scrollBehavior:Xe}=s;if(!ir||!Xe)return Promise.resolve();const Pe=!we&&k5(gm(ie.fullPath,0))||(Ie||!we)&&history.state&&history.state.scroll||null;return Tr().then(()=>Xe(ie,ye,Pe)).then(ne=>ne&&x5(ne)).catch(ne=>G(ne,ie,ye))}const xe=ie=>o.go(ie);let Oe;const nt=new Set,ut={currentRoute:c,listening:!0,addRoute:g,removeRoute:_,hasRoute:y,getRoutes:w,resolve:$,options:s,push:M,replace:E,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:ve.add,isReady:Q,install(ie){const ye=this;ie.component("RouterLink",ak),ie.component("RouterView",xf),ie.config.globalProperties.$router=ye,Object.defineProperty(ie.config.globalProperties,"$route",{enumerable:!0,get:()=>p(c)}),ir&&!Oe&&c.value===Oo&&(Oe=!0,M(o.location).catch(Xe=>{}));const we={};for(const Xe in Oo)we[Xe]=Le(()=>c.value[Xe]);ie.provide(vd,ye),ie.provide(bf,mt(we)),ie.provide(yh,c);const Ie=ie.unmount;nt.add(ie),ie.unmount=function(){nt.delete(ie),nt.size<1&&(d=Oo,q&&q(),q=null,c.value=Oo,Oe=!1,ge=!1),Ie()}}};return ut}function Zi(s){return s.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function hk(s,e){const t=[],n=[],o=[],r=Math.max(e.matched.length,s.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(s.matched.find(d=>br(d,l))?n.push(l):t.push(l));const c=s.matched[a];c&&(e.matched.find(d=>br(d,c))||o.push(c))}return[t,n,o]}function ai(){return tt(vd)}function wf(){return tt(bf)}function kf(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(e=>setTimeout(()=>{throw e}))}function el(){let s=[],e={addEventListener(t,n,o,r){return t.addEventListener(n,o,r),e.add(()=>t.removeEventListener(n,o,r))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);e.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return kf(()=>{n.current&&t[0]()}),e.add(()=>{n.current=!1})},style(t,n,o){let r=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:o}),this.add(()=>{Object.assign(t.style,{[n]:r})})},group(t){let n=el();return t(n),this.add(()=>n.dispose())},add(t){return s.push(t),()=>{let n=s.indexOf(t);if(n>=0)for(let o of s.splice(n,1))o()}},dispose(){for(let t of s.splice(0))t()}};return e}var Am;let fk=Symbol("headlessui.useid"),pk=0;const $f=(Am=x2)!=null?Am:function(){return tt(fk,()=>`${++pk}`)()};function as(s){var e;if(s==null||s.value==null)return null;let t=(e=s.value.$el)!=null?e:s.value;return t instanceof Node?t:null}function Jn(s,e,...t){if(s in e){let o=e[s];return typeof o=="function"?o(...t):o}let n=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jn),n}var mk=Object.defineProperty,gk=(s,e,t)=>e in s?mk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Em=(s,e,t)=>(gk(s,typeof e!="symbol"?e+"":e,t),t);let _k=class{constructor(){Em(this,"current",this.detect()),Em(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},tl=new _k;function Er(s){if(tl.isServer)return null;if(s instanceof Node)return s.ownerDocument;if(s!=null&&s.hasOwnProperty("value")){let e=as(s);if(e)return e.ownerDocument}return document}let bh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var zo=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(zo||{}),L1=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(L1||{}),vk=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(vk||{});function yk(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(bh)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var I1=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(I1||{});function bk(s,e=0){var t;return s===((t=Er(s))==null?void 0:t.body)?!1:Jn(e,{0(){return s.matches(bh)},1(){let n=s;for(;n!==null;){if(n.matches(bh))return!0;n=n.parentElement}return!1}})}var xk=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(xk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ji(s){s==null||s.focus({preventScroll:!0})}let wk=["textarea","input"].join(",");function kk(s){var e,t;return(t=(e=s==null?void 0:s.matches)==null?void 0:e.call(s,wk))!=null?t:!1}function $k(s,e=t=>t){return s.slice().sort((t,n)=>{let o=e(t),r=e(n);if(o===null||r===null)return 0;let a=o.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function sc(s,e,{sorted:t=!0,relativeTo:n=null,skipElements:o=[]}={}){var r;let a=(r=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s==null?void 0:s.ownerDocument)!=null?r:document,l=Array.isArray(s)?t?$k(s):s:yk(s);o.length>0&&l.length>1&&(l=l.filter(_=>!o.includes(_))),n=n??a.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(n))-1;if(e&4)return Math.max(0,l.indexOf(n))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},f=0,m=l.length,g;do{if(f>=m||f+m<=0)return 0;let _=d+f;if(e&16)_=(_+m)%m;else{if(_<0)return 3;if(_>=m)return 1}g=l[_],g==null||g.focus(u),f+=c}while(g!==a.activeElement);return e&6&&kk(g)&&g.select(),2}function j1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ck(){return/Android/gi.test(window.navigator.userAgent)}function Sk(){return j1()||Ck()}function xl(s,e,t){tl.isServer||jn(n=>{document.addEventListener(s,e,t),n(()=>document.removeEventListener(s,e,t))})}function F1(s,e,t){tl.isServer||jn(n=>{window.addEventListener(s,e,t),n(()=>window.removeEventListener(s,e,t))})}function Mk(s,e,t=Le(()=>!0)){function n(r,a){if(!t.value||r.defaultPrevented)return;let l=a(r);if(l===null||!l.getRootNode().contains(l))return;let c=function d(u){return typeof u=="function"?d(u()):Array.isArray(u)||u instanceof Set?u:[u]}(s);for(let d of c){if(d===null)continue;let u=d instanceof HTMLElement?d:as(d);if(u!=null&&u.contains(l)||r.composed&&r.composedPath().includes(u))return}return!bk(l,I1.Loose)&&l.tabIndex!==-1&&r.preventDefault(),e(r,l)}let o=I(null);xl("pointerdown",r=>{var a,l;t.value&&(o.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),xl("mousedown",r=>{var a,l;t.value&&(o.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),xl("click",r=>{Sk()||o.value&&(n(r,()=>o.value),o.value=null)},!0),xl("touchend",r=>n(r,()=>r.target instanceof HTMLElement?r.target:null),!0),F1("blur",r=>n(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Rc=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(Rc||{}),Uo=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(Uo||{});function $o({visible:s=!0,features:e=0,ourProps:t,theirProps:n,...o}){var r;let a=z1(n,t),l=Object.assign(o,{props:a});if(s||e&2&&a.static)return bu(l);if(e&1){let c=(r=a.unmount)==null||r?0:1;return Jn(c,{0(){return null},1(){return bu({...o,props:{...a,hidden:!0,style:{display:"none"}}})}})}return bu(l)}function bu({props:s,attrs:e,slots:t,slot:n,name:o}){var r,a;let{as:l,...c}=B1(s,["unmount","static"]),d=(r=t.default)==null?void 0:r.call(t,n),u={};if(n){let f=!1,m=[];for(let[g,_]of Object.entries(n))typeof _=="boolean"&&(f=!0),_===!0&&m.push(g);f&&(u["data-headlessui-state"]=m.join(" "))}if(l==="template"){if(d=N1(d??[]),Object.keys(c).length>0||Object.keys(e).length>0){let[f,...m]=d??[];if(!Tk(f)||m.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(e)).map(w=>w.trim()).filter((w,y,$)=>$.indexOf(w)===y).sort((w,y)=>w.localeCompare(y)).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let g=z1((a=f.props)!=null?a:{},c,u),_=xo(f,g,!0);for(let w in g)w.startsWith("on")&&(_.props||(_.props={}),_.props[w]=g[w]);return _}return Array.isArray(d)&&d.length===1?d[0]:d}return Pt(l,Object.assign({},c,u),{default:()=>d})}function N1(s){return s.flatMap(e=>e.type===he?N1(e.children):[e])}function z1(...s){if(s.length===0)return{};if(s.length===1)return s[0];let e={},t={};for(let n of s)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(t[o]!=null||(t[o]=[]),t[o].push(n[o])):e[o]=n[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(n=>[n,void 0])));for(let n in t)Object.assign(e,{[n](o,...r){let a=t[n];for(let l of a){if(o instanceof Event&&o.defaultPrevented)return;l(o,...r)}}});return e}function B1(s,e=[]){let t=Object.assign({},s);for(let n of e)n in t&&delete t[n];return t}function Tk(s){return s==null?!1:typeof s.type=="string"||typeof s.type=="object"||typeof s.type=="function"}var Lc=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(Lc||{});let xh=fe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(s,{slots:e,attrs:t}){return()=>{var n;let{features:o,...r}=s,a={"aria-hidden":(o&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return $o({ourProps:a,theirProps:r,slot:{},attrs:t,slots:e,name:"Hidden"})}}}),U1=Symbol("Context");var dn=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(dn||{});function Dk(){return Cf()!==null}function Cf(){return tt(U1,null)}function Ak(s){Is(U1,s)}var H1=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(H1||{});function Ek(s){function e(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ai=[];Ek(()=>{function s(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ai[0]!==e.target&&(Ai.unshift(e.target),Ai=Ai.filter(t=>t!=null&&t.isConnected),Ai.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function V1(s,e,t,n){tl.isServer||jn(o=>{s=s??window,s.addEventListener(e,t,n),o(()=>s.removeEventListener(e,t,n))})}var sa=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(sa||{});function Pk(){let s=I(0);return F1("keydown",e=>{e.key==="Tab"&&(s.value=e.shiftKey?1:0)}),s}function W1(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let e=new Set;for(let t of s.value){let n=as(t);n instanceof HTMLElement&&e.add(n)}return e}var q1=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(q1||{});let Wr=Object.assign(fe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:I(new Set)}},inheritAttrs:!1,setup(s,{attrs:e,slots:t,expose:n}){let o=I(null);n({el:o,$el:o});let r=Le(()=>Er(o)),a=I(!1);dt(()=>a.value=!0),en(()=>a.value=!1),Rk({ownerDocument:r},Le(()=>a.value&&!!(s.features&16)));let l=Lk({ownerDocument:r,container:o,initialFocus:Le(()=>s.initialFocus)},Le(()=>a.value&&!!(s.features&2)));Ik({ownerDocument:r,container:o,containers:s.containers,previousActiveElement:l},Le(()=>a.value&&!!(s.features&8)));let c=Pk();function d(g){let _=as(o);_&&(w=>w())(()=>{Jn(c.value,{[sa.Forwards]:()=>{sc(_,zo.First,{skipElements:[g.relatedTarget]})},[sa.Backwards]:()=>{sc(_,zo.Last,{skipElements:[g.relatedTarget]})}})})}let u=I(!1);function f(g){g.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function m(g){if(!a.value)return;let _=W1(s.containers);as(o)instanceof HTMLElement&&_.add(as(o));let w=g.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(K1(_,w)||(u.value?sc(as(o),Jn(c.value,{[sa.Forwards]:()=>zo.Next,[sa.Backwards]:()=>zo.Previous})|zo.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&ji(g.target)))}return()=>{let g={},_={ref:o,onKeydown:f,onFocusout:m},{features:w,initialFocus:y,containers:$,...b}=s;return Pt(he,[!!(w&4)&&Pt(xh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Lc.Focusable}),$o({ourProps:_,theirProps:{...e,...b},slot:g,attrs:e,slots:t,name:"FocusTrap"}),!!(w&4)&&Pt(xh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Lc.Focusable})])}}}),{features:q1});function Ok(s){let e=I(Ai.slice());return Ft([s],([t],[n])=>{n===!0&&t===!1?kf(()=>{e.value.splice(0)}):n===!1&&t===!0&&(e.value=Ai.slice())},{flush:"post"}),()=>{var t;return(t=e.value.find(n=>n!=null&&n.isConnected))!=null?t:null}}function Rk({ownerDocument:s},e){let t=Ok(e);dt(()=>{jn(()=>{var n,o;e.value||((n=s.value)==null?void 0:n.activeElement)===((o=s.value)==null?void 0:o.body)&&ji(t())},{flush:"post"})}),en(()=>{e.value&&ji(t())})}function Lk({ownerDocument:s,container:e,initialFocus:t},n){let o=I(null),r=I(!1);return dt(()=>r.value=!0),en(()=>r.value=!1),dt(()=>{Ft([e,t,n],(a,l)=>{if(a.every((d,u)=>(l==null?void 0:l[u])===d)||!n.value)return;let c=as(e);c&&kf(()=>{var d,u;if(!r.value)return;let f=as(t),m=(d=s.value)==null?void 0:d.activeElement;if(f){if(f===m){o.value=m;return}}else if(c.contains(m)){o.value=m;return}f?ji(f):(sc(c,zo.First|zo.NoScroll),L1.Error),o.value=(u=s.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),o}function Ik({ownerDocument:s,container:e,containers:t,previousActiveElement:n},o){var r;V1((r=s.value)==null?void 0:r.defaultView,"focus",a=>{if(!o.value)return;let l=W1(t);as(e)instanceof HTMLElement&&l.add(as(e));let c=n.value;if(!c)return;let d=a.target;d&&d instanceof HTMLElement?K1(l,d)?(n.value=d,ji(d)):(a.preventDefault(),a.stopPropagation(),ji(c)):ji(n.value)},!0)}function K1(s,e){for(let t of s)if(t.contains(e))return!0;return!1}function jk(s){let e=x_(s.getSnapshot());return en(s.subscribe(()=>{e.value=s.getSnapshot()})),e}function Fk(s,e){let t=s(),n=new Set;return{getSnapshot(){return t},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...r){let a=e[o].call(t,...r);a&&(t=a,n.forEach(l=>l()))}}}function Nk(){let s;return{before({doc:e}){var t;let n=e.documentElement;s=((t=e.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:e,d:t}){let n=e.documentElement,o=n.clientWidth-n.offsetWidth,r=s-o;t.style(n,"paddingRight",`${r}px`)}}}function zk(){return j1()?{before({doc:s,d:e,meta:t}){function n(o){return t.containers.flatMap(r=>r()).some(r=>r.contains(o))}e.microTask(()=>{var o;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let l=el();l.style(s.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;e.addEventListener(s,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),u=s.querySelector(d);u&&!n(u)&&(a=u)}catch{}},!0),e.addEventListener(s,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(s,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;r!==c&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Bk(){return{before({doc:s,d:e}){e.style(s.documentElement,"overflow","hidden")}}}function Uk(s){let e={};for(let t of s)Object.assign(e,t(e));return e}let Pi=Fk(()=>new Map,{PUSH(s,e){var t;let n=(t=this.get(s))!=null?t:{doc:s,count:0,d:el(),meta:new Set};return n.count++,n.meta.add(e),this.set(s,n),this},POP(s,e){let t=this.get(s);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:s,d:e,meta:t}){let n={doc:s,d:e,meta:Uk(t)},o=[zk(),Nk(),Bk()];o.forEach(({before:r})=>r==null?void 0:r(n)),o.forEach(({after:r})=>r==null?void 0:r(n))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});Pi.subscribe(()=>{let s=Pi.getSnapshot(),e=new Map;for(let[t]of s)e.set(t,t.documentElement.style.overflow);for(let t of s.values()){let n=e.get(t.doc)==="hidden",o=t.count!==0;(o&&!n||!o&&n)&&Pi.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Pi.dispatch("TEARDOWN",t)}});function Hk(s,e,t){let n=jk(Pi),o=Le(()=>{let r=s.value?n.value.get(s.value):void 0;return r?r.count>0:!1});return Ft([s,e],([r,a],[l],c)=>{if(!r||!a)return;Pi.dispatch("PUSH",r,t);let d=!1;c(()=>{d||(Pi.dispatch("POP",l??r,t),d=!0)})},{immediate:!0}),o}let xu=new Map,qr=new Map;function Pm(s,e=I(!0)){jn(t=>{var n;if(!e.value)return;let o=as(s);if(!o)return;t(function(){var a;if(!o)return;let l=(a=qr.get(o))!=null?a:1;if(l===1?qr.delete(o):qr.set(o,l-1),l!==1)return;let c=xu.get(o);c&&(c["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",c["aria-hidden"]),o.inert=c.inert,xu.delete(o))});let r=(n=qr.get(o))!=null?n:0;qr.set(o,r+1),r===0&&(xu.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}function Vk({defaultContainers:s=[],portals:e,mainTreeNodeRef:t}={}){let n=I(null),o=Er(n);function r(){var a,l,c;let d=[];for(let u of s)u!==null&&(u instanceof HTMLElement?d.push(u):"value"in u&&u.value instanceof HTMLElement&&d.push(u.value));if(e!=null&&e.value)for(let u of e.value)d.push(u);for(let u of(a=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(as(n))||u.contains((c=(l=as(n))==null?void 0:l.getRootNode())==null?void 0:c.host)||d.some(f=>u.contains(f))||d.push(u));return d}return{resolveContainers:r,contains(a){return r().some(l=>l.contains(a))},mainTreeNodeRef:n,MainTreeNode(){return t!=null?null:Pt(xh,{features:Lc.Hidden,ref:n})}}}let Y1=Symbol("ForcePortalRootContext");function Wk(){return tt(Y1,!1)}let Om=fe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(s,{slots:e,attrs:t}){return Is(Y1,s.force),()=>{let{force:n,...o}=s;return $o({theirProps:o,ourProps:{},slot:{},slots:e,attrs:t,name:"ForcePortalRoot"})}}}),G1=Symbol("StackContext");var wh=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(wh||{});function qk(){return tt(G1,()=>{})}function Kk({type:s,enabled:e,element:t,onUpdate:n}){let o=qk();function r(...a){n==null||n(...a),o(...a)}dt(()=>{Ft(e,(a,l)=>{a?r(0,s,t):l===!0&&r(1,s,t)},{immediate:!0,flush:"sync"})}),en(()=>{e.value&&r(1,s,t)}),Is(G1,r)}let Yk=Symbol("DescriptionContext");function Gk({slot:s=I({}),name:e="Description",props:t={}}={}){let n=I([]);function o(r){return n.value.push(r),()=>{let a=n.value.indexOf(r);a!==-1&&n.value.splice(a,1)}}return Is(Yk,{register:o,slot:s,name:e,props:t}),Le(()=>n.value.length>0?n.value.join(" "):void 0)}function Xk(s){let e=Er(s);if(!e){if(s===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${s}`)}let t=e.getElementById("headlessui-portal-root");if(t)return t;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const kh=new WeakMap;function Jk(s){var e;return(e=kh.get(s))!=null?e:0}function Rm(s,e){let t=e(Jk(s));return t<=0?kh.delete(s):kh.set(s,t),t}let Qk=fe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:e,attrs:t}){let n=I(null),o=Le(()=>Er(n)),r=Wk(),a=tt(X1,null),l=I(r===!0||a==null?Xk(n.value):a.resolveTarget());l.value&&Rm(l.value,m=>m+1);let c=I(!1);dt(()=>{c.value=!0}),jn(()=>{r||a!=null&&(l.value=a.resolveTarget())});let d=tt($h,null),u=!1,f=Ar();return Ft(n,()=>{if(u||!d)return;let m=as(n);m&&(en(d.register(m),f),u=!0)}),en(()=>{var m,g;let _=(m=o.value)==null?void 0:m.getElementById("headlessui-portal-root");!_||l.value!==_||Rm(l.value,w=>w-1)||l.value.children.length>0||(g=l.value.parentElement)==null||g.removeChild(l.value)}),()=>{if(!c.value||l.value===null)return null;let m={ref:n,"data-headlessui-portal":""};return Pt(cf,{to:l.value},$o({ourProps:m,theirProps:s,slot:{},attrs:t,slots:e,name:"Portal"}))}}}),$h=Symbol("PortalParentContext");function Zk(){let s=tt($h,null),e=I([]);function t(r){return e.value.push(r),s&&s.register(r),()=>n(r)}function n(r){let a=e.value.indexOf(r);a!==-1&&e.value.splice(a,1),s&&s.unregister(r)}let o={register:t,unregister:n,portals:e};return[e,fe({name:"PortalWrapper",setup(r,{slots:a}){return Is($h,o),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let X1=Symbol("PortalGroupContext"),e4=fe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(s,{attrs:e,slots:t}){let n=mt({resolveTarget(){return s.target}});return Is(X1,n),()=>{let{target:o,...r}=s;return $o({theirProps:r,ourProps:{},slot:{},attrs:e,slots:t,name:"PortalGroup"})}}});var t4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(t4||{});let Ch=Symbol("DialogContext");function J1(s){let e=tt(Ch,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,J1),t}return e}let wl="DC8F892D-2EBD-447C-A4C8-A03058436FF4",s4=fe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:wl},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:s=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:o}){var r,a;let l=(r=s.id)!=null?r:`headlessui-dialog-${$f()}`,c=I(!1);dt(()=>{c.value=!0});let d=!1,u=Le(()=>s.role==="dialog"||s.role==="alertdialog"?s.role:(d||(d=!0),"dialog")),f=I(0),m=Cf(),g=Le(()=>s.open===wl&&m!==null?(m.value&dn.Open)===dn.Open:s.open),_=I(null),w=Le(()=>Er(_));if(o({el:_,$el:_}),!(s.open!==wl||m!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof g.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${g.value===wl?void 0:s.open}`);let y=Le(()=>c.value&&g.value?0:1),$=Le(()=>y.value===0),b=Le(()=>f.value>1),S=tt(Ch,null)!==null,[M,E]=Zk(),{resolveContainers:H,mainTreeNodeRef:N,MainTreeNode:F}=Vk({portals:M,defaultContainers:[Le(()=>{var xe;return(xe=G.panelRef.value)!=null?xe:_.value})]}),R=Le(()=>b.value?"parent":"leaf"),A=Le(()=>m!==null?(m.value&dn.Closing)===dn.Closing:!1),ee=Le(()=>S||A.value?!1:$.value),q=Le(()=>{var xe,Oe,nt;return(nt=Array.from((Oe=(xe=w.value)==null?void 0:xe.querySelectorAll("body > *"))!=null?Oe:[]).find(ut=>ut.id==="headlessui-portal-root"?!1:ut.contains(as(N))&&ut instanceof HTMLElement))!=null?nt:null});Pm(q,ee);let _e=Le(()=>b.value?!0:$.value),$e=Le(()=>{var xe,Oe,nt;return(nt=Array.from((Oe=(xe=w.value)==null?void 0:xe.querySelectorAll("[data-headlessui-portal]"))!=null?Oe:[]).find(ut=>ut.contains(as(N))&&ut instanceof HTMLElement))!=null?nt:null});Pm($e,_e),Kk({type:"Dialog",enabled:Le(()=>y.value===0),element:_,onUpdate:(xe,Oe)=>{if(Oe==="Dialog")return Jn(xe,{[wh.Add]:()=>f.value+=1,[wh.Remove]:()=>f.value-=1})}});let ve=Gk({name:"DialogDescription",slot:Le(()=>({open:g.value}))}),ge=I(null),G={titleId:ge,panelRef:I(null),dialogState:y,setTitleId(xe){ge.value!==xe&&(ge.value=xe)},close(){e("close",!1)}};Is(Ch,G);let Q=Le(()=>!(!$.value||b.value));Mk(H,(xe,Oe)=>{xe.preventDefault(),G.close(),Tr(()=>Oe==null?void 0:Oe.focus())},Q);let J=Le(()=>!(b.value||y.value!==0));V1((a=w.value)==null?void 0:a.defaultView,"keydown",xe=>{J.value&&(xe.defaultPrevented||xe.key===H1.Escape&&(xe.preventDefault(),xe.stopPropagation(),G.close()))});let me=Le(()=>!(A.value||y.value!==0||S));return Hk(w,me,xe=>{var Oe;return{containers:[...(Oe=xe.containers)!=null?Oe:[],H]}}),jn(xe=>{if(y.value!==0)return;let Oe=as(_);if(!Oe)return;let nt=new ResizeObserver(ut=>{for(let ie of ut){let ye=ie.target.getBoundingClientRect();ye.x===0&&ye.y===0&&ye.width===0&&ye.height===0&&G.close()}});nt.observe(Oe),xe(()=>nt.disconnect())}),()=>{let{open:xe,initialFocus:Oe,...nt}=s,ut={...t,ref:_,id:l,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":ge.value,"aria-describedby":ve.value},ie={open:y.value===0};return Pt(Om,{force:!0},()=>[Pt(Qk,()=>Pt(e4,{target:_.value},()=>Pt(Om,{force:!1},()=>Pt(Wr,{initialFocus:Oe,containers:H,features:$.value?Jn(R.value,{parent:Wr.features.RestoreFocus,leaf:Wr.features.All&~Wr.features.FocusLock}):Wr.features.None},()=>Pt(E,{},()=>$o({ourProps:ut,theirProps:{...nt,...t},slot:ie,attrs:t,slots:n,visible:y.value===0,features:Rc.RenderStrategy|Rc.Static,name:"Dialog"})))))),Pt(F)])}}}),n4=fe({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t}){var n;let o=(n=s.id)!=null?n:`headlessui-dialog-overlay-${$f()}`,r=J1("DialogOverlay");function a(l){l.target===l.currentTarget&&(l.preventDefault(),l.stopPropagation(),r.close())}return()=>{let{...l}=s;return $o({ourProps:{id:o,"aria-hidden":!0,onClick:a},theirProps:l,slot:{open:r.dialogState.value===0},attrs:e,slots:t,name:"DialogOverlay"})}}});function o4(s){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,s(...t)}}function wu(s,...e){s&&e.length>0&&s.classList.add(...e)}function kl(s,...e){s&&e.length>0&&s.classList.remove(...e)}var Sh=(s=>(s.Finished="finished",s.Cancelled="cancelled",s))(Sh||{});function i4(s,e){let t=el();if(!s)return t.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(s),[r,a]=[n,o].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,u)=>u-d);return c});return r!==0?t.setTimeout(()=>e("finished"),r+a):e("finished"),t.add(()=>e("cancelled")),t.dispose}function Lm(s,e,t,n,o,r){let a=el(),l=r!==void 0?o4(r):()=>{};return kl(s,...o),wu(s,...e,...t),a.nextFrame(()=>{kl(s,...t),wu(s,...n),a.add(i4(s,c=>(kl(s,...n,...e),wu(s,...o),l(c))))}),a.add(()=>kl(s,...e,...t,...n,...o)),a.add(()=>l("cancelled")),a.dispose}function _i(s=""){return s.split(/\s+/).filter(e=>e.length>1)}let Sf=Symbol("TransitionContext");var r4=(s=>(s.Visible="visible",s.Hidden="hidden",s))(r4||{});function a4(){return tt(Sf,null)!==null}function l4(){let s=tt(Sf,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}function c4(){let s=tt(Mf,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}let Mf=Symbol("NestingContext");function yd(s){return"children"in s?yd(s.children):s.value.filter(({state:e})=>e==="visible").length>0}function Q1(s){let e=I([]),t=I(!1);dt(()=>t.value=!0),en(()=>t.value=!1);function n(r,a=Uo.Hidden){let l=e.value.findIndex(({id:c})=>c===r);l!==-1&&(Jn(a,{[Uo.Unmount](){e.value.splice(l,1)},[Uo.Hidden](){e.value[l].state="hidden"}}),!yd(e)&&t.value&&(s==null||s()))}function o(r){let a=e.value.find(({id:l})=>l===r);return a?a.state!=="visible"&&(a.state="visible"):e.value.push({id:r,state:"visible"}),()=>n(r,Uo.Unmount)}return{children:e,register:o,unregister:n}}let Z1=Rc.RenderStrategy,nc=fe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:o}){let r=I(0);function a(){r.value|=dn.Opening,e("beforeEnter")}function l(){r.value&=~dn.Opening,e("afterEnter")}function c(){r.value|=dn.Closing,e("beforeLeave")}function d(){r.value&=~dn.Closing,e("afterLeave")}if(!a4()&&Dk())return()=>Pt(ev,{...s,onBeforeEnter:a,onAfterEnter:l,onBeforeLeave:c,onAfterLeave:d},n);let u=I(null),f=Le(()=>s.unmount?Uo.Unmount:Uo.Hidden);o({el:u,$el:u});let{show:m,appear:g}=l4(),{register:_,unregister:w}=c4(),y=I(m.value?"visible":"hidden"),$={value:!0},b=$f(),S={value:!1},M=Q1(()=>{!S.value&&y.value!=="hidden"&&(y.value="hidden",w(b),d())});dt(()=>{let _e=_(b);en(_e)}),jn(()=>{if(f.value===Uo.Hidden&&b){if(m.value&&y.value!=="visible"){y.value="visible";return}Jn(y.value,{hidden:()=>w(b),visible:()=>_(b)})}});let E=_i(s.enter),H=_i(s.enterFrom),N=_i(s.enterTo),F=_i(s.entered),R=_i(s.leave),A=_i(s.leaveFrom),ee=_i(s.leaveTo);dt(()=>{jn(()=>{if(y.value==="visible"){let _e=as(u);if(_e instanceof Comment&&_e.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function q(_e){let $e=$.value&&!g.value,ve=as(u);!ve||!(ve instanceof HTMLElement)||$e||(S.value=!0,m.value&&a(),m.value||c(),_e(m.value?Lm(ve,E,H,N,F,ge=>{S.value=!1,ge===Sh.Finished&&l()}):Lm(ve,R,A,ee,F,ge=>{S.value=!1,ge===Sh.Finished&&(yd(M)||(y.value="hidden",w(b),d()))})))}return dt(()=>{Ft([m],(_e,$e,ve)=>{q(ve),$.value=!1},{immediate:!0})}),Is(Mf,M),Ak(Le(()=>Jn(y.value,{visible:dn.Open,hidden:dn.Closed})|r.value)),()=>{let{appear:_e,show:$e,enter:ve,enterFrom:ge,enterTo:G,entered:Q,leave:J,leaveFrom:me,leaveTo:xe,...Oe}=s,nt={ref:u},ut={...Oe,...g.value&&m.value&&tl.isServer?{class:ae([t.class,Oe.class,...E,...H])}:{}};return $o({theirProps:ut,ourProps:nt,slot:{},slots:n,attrs:t,features:Z1,visible:y.value==="visible",name:"TransitionChild"})}}}),d4=nc,ev=fe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n}){let o=Cf(),r=Le(()=>s.show===null&&o!==null?(o.value&dn.Open)===dn.Open:s.show);jn(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=I(r.value?"visible":"hidden"),l=Q1(()=>{a.value="hidden"}),c=I(!0),d={show:r,appear:Le(()=>s.appear||!c.value)};return dt(()=>{jn(()=>{c.value=!1,r.value?a.value="visible":yd(l)||(a.value="hidden")})}),Is(Mf,l),Is(Sf,d),()=>{let u=B1(s,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:s.unmount};return $o({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[Pt(d4,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...t,...f,...u},n.default)]},attrs:{},features:Z1,visible:a.value==="visible",name:"Transition"})}}});function u4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Im(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function h4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function f4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function tv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])}function p4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function m4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})])}function g4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})])}function Tf(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function sv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function _4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function nv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])}function v4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function ov(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})])}function Qn(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])}function Df(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function y4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})])}function $n(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function b4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function x4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function w4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})])}function iv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function k4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})])}function Co(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function $4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function bd(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Af(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Ef(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Ic(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function C4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function rv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function qi(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function S4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function M4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"})])}function av(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})])}function T4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})])}function D4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Pf(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})])}function A4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function to(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function lv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Pr(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}function So(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function xd(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})])}function li(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Or(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})])}function ls(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function cv(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}function wd(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function E4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})])}function P4(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})])}function On(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function kd(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const jm=[{label:"Home",uri:"/",icon:D4},{label:"My Tasks",uri:"/tasks",icon:Pf},{label:"Attendance",uri:"/attendance",icon:Qn},{label:"Employees",uri:"/employees",icon:v4,permission:"employee:view"},{label:"Leave Requests",uri:"/leaves",icon:w4,permission:"leave:view"},{label:"Holidays",uri:"/holidays",icon:ov},{label:"Financial",icon:P4,children:[{label:"Payroll",uri:"/payrolls",permission:"payroll:view"},{label:"Clients",uri:"/clients",permission:"client:view"},{label:"Quotations",uri:"/quotations",permission:"quotation:view"},{label:"Expenses",uri:"/expenses",permission:"expense:view"},{label:"Income",uri:"/income",permission:"income:view"}]},{label:"Team Members",uri:"/users",icon:wd,permission:"user:view"},{label:"AdSense Reports",uri:"/adsense-reports",icon:Df},{label:"Video Enhancer",uri:"/video-enhancer",icon:S4},{label:"Audit Trail",uri:"/audit-trail",icon:iv,permission:"audit:view"}],O4={class:"space-y-1"},R4={key:0},L4=["onClick"],I4={class:"flex-1 text-left"},j4={class:"mt-1 space-y-1 pl-4"},F4=["href","onClick"],N4={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},z4={class:"flex-1"},B4=["href","onClick"],U4={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},H4={class:"flex-1"},V4=["onClick"],dv=fe({__name:"SidebarNav",setup(s){const e=tt("can"),t=tt("__"),n=ai(),o=Le(()=>n.currentRoute.value.path),r=mt({});function a(f){return f==="/"||f=="/projects"?o.value===f:o.value.startsWith(f)}function l(f){return f.some(m=>a(m.uri))}function c(f){return f.some(m=>!m.permission||e(m.permission))}function d(f){r[f]=!r[f]}function u(f){n.push(f)}return dt(()=>{jm.forEach(f=>{f.children&&l(f.children)&&(r[f.label]=!0)})}),(f,m)=>{const g=pn("RouterLink");return v(),k("div",O4,[(v(!0),k(he,null,ke(p(jm),_=>(v(),k(he,{key:_.label},[_.children&&c(_.children)?(v(),k("div",R4,[i("button",{type:"button",class:ae([l(_.children)?"bg-gray-700/50 text-white":"text-gray-300 hover:bg-gray-700/70 hover:text-white","group relative flex w-full items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out border-l-4 border-transparent"]),onClick:w=>d(_.label)},[(v(),se(Qo(_.icon),{class:ae([l(_.children)?"text-indigo-300":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),i("span",I4,h(p(t)(_.label)),1),T(p(x4),{class:ae([r[_.label]?"rotate-180":"","h-4 w-4 text-gray-400 transition-transform duration-200"])},null,8,["class"])],10,L4),W(i("div",j4,[(v(!0),k(he,null,ke(_.children,w=>(v(),k(he,{key:w.label},[!w.permission||p(e)(w.permission)?(v(),se(g,{key:0,custom:"",to:w.uri},{default:Y(({href:y,navigate:$})=>[i("a",{href:y,class:ae([a(w.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:$},[a(w.uri)?(v(),k("div",N4)):P("",!0),i("span",z4,h(p(t)(w.label)),1)],10,F4)]),_:2},1032,["to"])):P("",!0)],64))),128))],512),[[Ht,r[_.label]]])])):_.uri&&(!_.permission||p(e)(_.permission))?(v(),se(g,{key:1,custom:"",to:_.uri},{default:Y(({href:w,navigate:y})=>[i("a",{href:w,class:ae([a(_.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:y},[a(_.uri)?(v(),k("div",U4)):P("",!0),(v(),se(Qo(_.icon),{class:ae([a(_.uri)?"text-white":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),i("span",H4,h(p(t)(_.label)),1),_.create&&p(e)(_.createPermission||"false")?(v(),k("span",{key:1,class:"ml-auto flex h-6 w-6 cursor-pointer items-center justify-center rounded-md bg-gray-700/50 text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500 hover:text-white group-hover:opacity-100",onClick:et($=>u(_.create||"/"),["prevent"])},[(v(),se(Qo(p(li)),{class:"h-3.5 w-3.5"}))],8,V4)):P("",!0)],10,B4)]),_:2},1032,["to"])):P("",!0)],64))),128))])}}}),gt=mt({...window.AppData}),W4=["src"],q4={key:1,class:"flex items-center"},K4={class:"relative"},Y4={class:"relative h-8 transition-all duration-200 group-hover:scale-110",style:{color:"#6875f5"},fill:"none",viewBox:"0 0 34 32",xmlns:"http://www.w3.org/2000/svg"},G4={class:"bg-gradient-to-r from-white to-gray-200 bg-clip-text text-[1.375rem] font-bold text-transparent ltr:ml-2.5 rtl:mr-2.5 transition-all duration-200 group-hover:from-indigo-200 group-hover:to-white"},uv=fe({__name:"SidebarLogo",setup(s){const e=gt.app_name,t=gt.app_logo;return(n,o)=>p(t)?(v(),k("img",{key:0,src:`/${p(t)}`,class:"h-8 object-contain transition-transform duration-200 group-hover:scale-105"},null,8,W4)):(v(),k("div",q4,[i("div",K4,[o[1]||(o[1]=i("div",{class:"absolute inset-0 rounded-lg bg-indigo-500/30 blur-md"},null,-1)),(v(),k("svg",Y4,[...o[0]||(o[0]=[i("path",{fill:"currentColor",d:"M15.258 26.865a4.043 4.043 0 01-1.133 2.917A4.006 4.006 0 0111.253 31a3.992 3.992 0 01-2.872-1.218 4.028 4.028 0 01-1.133-2.917c.009-.698.2-1.382.557-1.981.356-.6.863-1.094 1.47-1.433-.024.109.09-.055 0 0l1.86-1.652a8.495 8.495 0 002.304-5.793c0-2.926-1.711-5.901-4.17-7.457.094.055-.036-.094 0 0A3.952 3.952 0 017.8 7.116a3.975 3.975 0 01-.557-1.98 4.042 4.042 0 011.133-2.918A4.006 4.006 0 0111.247 1a3.99 3.99 0 012.872 1.218 4.025 4.025 0 011.133 2.917 8.521 8.521 0 002.347 5.832l.817.8c.326.285.668.551 1.024.798.621.33 1.142.826 1.504 1.431a3.902 3.902 0 01-1.504 5.442c.033-.067-.063.036 0 0a8.968 8.968 0 00-3.024 3.183 9.016 9.016 0 00-1.158 4.244zM19.741 5.123c0 .796.235 1.575.676 2.237a4.01 4.01 0 001.798 1.482 3.99 3.99 0 004.366-.873 4.042 4.042 0 00.869-4.386 4.02 4.02 0 00-1.476-1.806 3.994 3.994 0 00-5.058.501 4.038 4.038 0 00-1.175 2.845zM23.748 22.84c-.792 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.806 4.042 4.042 0 00.869 4.387 3.99 3.99 0 004.366.873A4.01 4.01 0 0027.08 29.1a4.039 4.039 0 00-.5-5.082 4 4 0 00-2.832-1.18zM34 15.994c0-.796-.235-1.574-.675-2.236a4.01 4.01 0 00-1.798-1.483 3.99 3.99 0 00-4.367.873 4.042 4.042 0 00-.869 4.387 4.02 4.02 0 001.476 1.806 3.993 3.993 0 002.226.678 4.003 4.003 0 002.832-1.18A4.04 4.04 0 0034 15.993z"},null,-1),i("path",{fill:"currentColor",d:"M5.007 11.969c-.793 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.807 4.042 4.042 0 00.869 4.386 4.001 4.001 0 004.366.873 4.011 4.011 0 001.798-1.483 4.038 4.038 0 00-.5-5.08 4.004 4.004 0 00-2.831-1.181z"},null,-1)])]))]),i("span",G4,h(p(e)),1)]))}}),X4={class:"relative flex w-full max-w-xs flex-1 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pt-5 pb-4 shadow-2xl"},J4={class:"absolute top-0 right-0 -mr-12 pt-2"},Q4=["href","onClick"],Z4={class:"mt-5 h-0 flex-1 space-y-1 overflow-y-auto px-3 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},e$=fe({__name:"SidebarMobile",setup(s){const e=gd();return(t,n)=>{const o=pn("RouterLink");return v(),se(p(ev),{as:"template",show:p(e).isMobileSidebar},{default:Y(()=>[T(p(s4),{as:"div",static:"",class:"fixed inset-0 z-40 flex md:hidden",open:p(e).isMobileSidebar,onClose:n[1]||(n[1]=r=>p(e).isMobileSidebar=!1)},{default:Y(()=>[T(p(nc),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[T(p(n4),{class:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm"})]),_:1}),T(p(nc),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:Y(()=>[i("div",X4,[T(p(nc),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[i("div",J4,[i("button",{class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm transition-all duration-200 hover:bg-indigo-500/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-400",onClick:n[0]||(n[0]=r=>p(e).isMobileSidebar=!1)},[n[2]||(n[2]=i("span",{class:"sr-only"},"Close sidebar",-1)),T(p(kd),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),T(o,{to:"/",custom:""},{default:Y(({href:r,navigate:a})=>[i("a",{href:r,class:"group flex flex-shrink-0 items-center border-b border-gray-700/50 px-4 pb-4 transition-all duration-200",onClick:a},[T(uv)],8,Q4)]),_:1}),i("div",Z4,[T(dv)])])]),_:1}),n[3]||(n[3]=i("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1))]),_:1},8,["open"])]),_:1},8,["show"])}}});function hv(s,e){return function(){return s.apply(e,arguments)}}const{toString:t$}=Object.prototype,{getPrototypeOf:Of}=Object,{iterator:$d,toStringTag:fv}=Symbol,Cd=(s=>e=>{const t=t$.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=s=>(s=s.toLowerCase(),e=>Cd(e)===s),Sd=s=>e=>typeof e===s,{isArray:Rr}=Array,wr=Sd("undefined");function sl(s){return s!==null&&!wr(s)&&s.constructor!==null&&!wr(s.constructor)&&Zs(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const pv=Nn("ArrayBuffer");function s$(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&pv(s.buffer),e}const n$=Sd("string"),Zs=Sd("function"),mv=Sd("number"),nl=s=>s!==null&&typeof s=="object",o$=s=>s===!0||s===!1,oc=s=>{if(Cd(s)!=="object")return!1;const e=Of(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fv in s)&&!($d in s)},i$=s=>{if(!nl(s)||sl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},r$=Nn("Date"),a$=Nn("File"),l$=Nn("Blob"),c$=Nn("FileList"),d$=s=>nl(s)&&Zs(s.pipe),u$=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||Zs(s.append)&&((e=Cd(s))==="formdata"||e==="object"&&Zs(s.toString)&&s.toString()==="[object FormData]"))},h$=Nn("URLSearchParams"),[f$,p$,m$,g$]=["ReadableStream","Request","Response","Headers"].map(Nn),_$=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ol(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,o;if(typeof s!="object"&&(s=[s]),Rr(s))for(n=0,o=s.length;n<o;n++)e.call(null,s[n],n,s);else{if(sl(s))return;const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(n=0;n<a;n++)l=r[n],e.call(null,s[l],l,s)}}function gv(s,e){if(sl(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,o;for(;n-- >0;)if(o=t[n],e===o.toLowerCase())return o;return null}const Oi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_v=s=>!wr(s)&&s!==Oi;function Mh(){const{caseless:s,skipUndefined:e}=_v(this)&&this||{},t={},n=(o,r)=>{const a=s&&gv(t,r)||r;oc(t[a])&&oc(o)?t[a]=Mh(t[a],o):oc(o)?t[a]=Mh({},o):Rr(o)?t[a]=o.slice():(!e||!wr(o))&&(t[a]=o)};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&ol(arguments[o],n);return t}const v$=(s,e,t,{allOwnKeys:n}={})=>(ol(e,(o,r)=>{t&&Zs(o)?s[r]=hv(o,t):s[r]=o},{allOwnKeys:n}),s),y$=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),b$=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},x$=(s,e,t,n)=>{let o,r,a;const l={};if(e=e||{},s==null)return e;do{for(o=Object.getOwnPropertyNames(s),r=o.length;r-- >0;)a=o[r],(!n||n(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&Of(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},w$=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},k$=s=>{if(!s)return null;if(Rr(s))return s;let e=s.length;if(!mv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},$$=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Of(Uint8Array)),C$=(s,e)=>{const n=(s&&s[$d]).call(s);let o;for(;(o=n.next())&&!o.done;){const r=o.value;e.call(s,r[0],r[1])}},S$=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},M$=Nn("HTMLFormElement"),T$=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,o){return n.toUpperCase()+o}),Fm=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),D$=Nn("RegExp"),vv=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};ol(t,(o,r)=>{let a;(a=e(o,r,s))!==!1&&(n[r]=a||o)}),Object.defineProperties(s,n)},A$=s=>{vv(s,(e,t)=>{if(Zs(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(Zs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},E$=(s,e)=>{const t={},n=o=>{o.forEach(r=>{t[r]=!0})};return Rr(s)?n(s):n(String(s).split(e)),t},P$=()=>{},O$=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function R$(s){return!!(s&&Zs(s.append)&&s[fv]==="FormData"&&s[$d])}const L$=s=>{const e=new Array(10),t=(n,o)=>{if(nl(n)){if(e.indexOf(n)>=0)return;if(sl(n))return n;if(!("toJSON"in n)){e[o]=n;const r=Rr(n)?[]:{};return ol(n,(a,l)=>{const c=t(a,o+1);!wr(c)&&(r[l]=c)}),e[o]=void 0,r}}return n};return t(s,0)},I$=Nn("AsyncFunction"),j$=s=>s&&(nl(s)||Zs(s))&&Zs(s.then)&&Zs(s.catch),yv=((s,e)=>s?setImmediate:e?((t,n)=>(Oi.addEventListener("message",({source:o,data:r})=>{o===Oi&&r===t&&n.length&&n.shift()()},!1),o=>{n.push(o),Oi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Zs(Oi.postMessage)),F$=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof process<"u"&&process.nextTick||yv,N$=s=>s!=null&&Zs(s[$d]),re={isArray:Rr,isArrayBuffer:pv,isBuffer:sl,isFormData:u$,isArrayBufferView:s$,isString:n$,isNumber:mv,isBoolean:o$,isObject:nl,isPlainObject:oc,isEmptyObject:i$,isReadableStream:f$,isRequest:p$,isResponse:m$,isHeaders:g$,isUndefined:wr,isDate:r$,isFile:a$,isBlob:l$,isRegExp:D$,isFunction:Zs,isStream:d$,isURLSearchParams:h$,isTypedArray:$$,isFileList:c$,forEach:ol,merge:Mh,extend:v$,trim:_$,stripBOM:y$,inherits:b$,toFlatObject:x$,kindOf:Cd,kindOfTest:Nn,endsWith:w$,toArray:k$,forEachEntry:C$,matchAll:S$,isHTMLForm:M$,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:vv,freezeMethods:A$,toObjectSet:E$,toCamelCase:T$,noop:P$,toFiniteNumber:O$,findKey:gv,global:Oi,isContextDefined:_v,isSpecCompliantForm:R$,toJSONObject:L$,isAsyncFn:I$,isThenable:j$,setImmediate:yv,asap:F$,isIterable:N$};function ct(s,e,t,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}re.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const bv=ct.prototype,xv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{xv[s]={value:s}});Object.defineProperties(ct,xv);Object.defineProperty(bv,"isAxiosError",{value:!0});ct.from=(s,e,t,n,o,r)=>{const a=Object.create(bv);re.toFlatObject(s,a,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=s&&s.message?s.message:"Error",c=e==null&&s?s.code:e;return ct.call(a,l,c,t,n,o),s&&a.cause==null&&Object.defineProperty(a,"cause",{value:s,configurable:!0}),a.name=s&&s.name||"Error",r&&Object.assign(a,r),a};const z$=null;function Th(s){return re.isPlainObject(s)||re.isArray(s)}function wv(s){return re.endsWith(s,"[]")?s.slice(0,-2):s}function Nm(s,e,t){return s?s.concat(e).map(function(o,r){return o=wv(o),!t&&r?"["+o+"]":o}).join(t?".":""):e}function B$(s){return re.isArray(s)&&!s.some(Th)}const U$=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Md(s,e,t){if(!re.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!re.isUndefined(y[w])});const n=t.metaTokens,o=t.visitor||u,r=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(o))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(re.isDate(_))return _.toISOString();if(re.isBoolean(_))return _.toString();if(!c&&re.isBlob(_))throw new ct("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(_)||re.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,w,y){let $=_;if(_&&!y&&typeof _=="object"){if(re.endsWith(w,"{}"))w=n?w:w.slice(0,-2),_=JSON.stringify(_);else if(re.isArray(_)&&B$(_)||(re.isFileList(_)||re.endsWith(w,"[]"))&&($=re.toArray(_)))return w=wv(w),$.forEach(function(S,M){!(re.isUndefined(S)||S===null)&&e.append(a===!0?Nm([w],M,r):a===null?w:w+"[]",d(S))}),!1}return Th(_)?!0:(e.append(Nm(y,w,r),d(_)),!1)}const f=[],m=Object.assign(U$,{defaultVisitor:u,convertValue:d,isVisitable:Th});function g(_,w){if(!re.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(_),re.forEach(_,function($,b){(!(re.isUndefined($)||$===null)&&o.call(e,$,re.isString(b)?b.trim():b,w,m))===!0&&g($,w?w.concat(b):[b])}),f.pop()}}if(!re.isObject(s))throw new TypeError("data must be an object");return g(s),e}function zm(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Rf(s,e){this._pairs=[],s&&Md(s,this,e)}const kv=Rf.prototype;kv.append=function(e,t){this._pairs.push([e,t])};kv.toString=function(e){const t=e?function(n){return e.call(this,n,zm)}:zm;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function H$(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $v(s,e,t){if(!e)return s;const n=t&&t.encode||H$;re.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let r;if(o?r=o(e,t):r=re.isURLSearchParams(e)?e.toString():new Rf(e,t).toString(n),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class V${constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Bm=V$,Cv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W$=typeof URLSearchParams<"u"?URLSearchParams:Rf,q$=typeof FormData<"u"?FormData:null,K$=typeof Blob<"u"?Blob:null,Y$={isBrowser:!0,classes:{URLSearchParams:W$,FormData:q$,Blob:K$},protocols:["http","https","file","blob","url","data"]},Lf=typeof window<"u"&&typeof document<"u",Dh=typeof navigator=="object"&&navigator||void 0,G$=Lf&&(!Dh||["ReactNative","NativeScript","NS"].indexOf(Dh.product)<0),X$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),J$=Lf&&window.location.href||"http://localhost",Q$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lf,hasStandardBrowserEnv:G$,hasStandardBrowserWebWorkerEnv:X$,navigator:Dh,origin:J$},Symbol.toStringTag,{value:"Module"})),Rs={...Q$,...Y$};function Z$(s,e){return Md(s,new Rs.classes.URLSearchParams,{visitor:function(t,n,o,r){return Rs.isNode&&re.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function e3(s){return re.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function t3(s){const e={},t=Object.keys(s);let n;const o=t.length;let r;for(n=0;n<o;n++)r=t[n],e[r]=s[r];return e}function Sv(s){function e(t,n,o,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=r>=t.length;return a=!a&&re.isArray(o)?o.length:a,c?(re.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!l):((!o[a]||!re.isObject(o[a]))&&(o[a]=[]),e(t,n,o[a],r)&&re.isArray(o[a])&&(o[a]=t3(o[a])),!l)}if(re.isFormData(s)&&re.isFunction(s.entries)){const t={};return re.forEachEntry(s,(n,o)=>{e(e3(n),o,t,0)}),t}return null}function s3(s,e,t){if(re.isString(s))try{return(e||JSON.parse)(s),re.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const If={transitional:Cv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,r=re.isObject(e);if(r&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return o?JSON.stringify(Sv(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Z$(e,this.formSerializer).toString();if((l=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Md(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),s3(e)):e}],transformResponse:[function(e){const t=this.transitional||If.transitional,n=t&&t.forcedJSONParsing,o=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(n&&!this.responseType||o)){const a=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ct.from(l,ct.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rs.classes.FormData,Blob:Rs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],s=>{If.headers[s]={}});const jf=If,n3=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o3=s=>{const e={};let t,n,o;return s&&s.split(`
`).forEach(function(a){o=a.indexOf(":"),t=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!t||e[t]&&n3[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Um=Symbol("internals");function Kr(s){return s&&String(s).trim().toLowerCase()}function ic(s){return s===!1||s==null?s:re.isArray(s)?s.map(ic):String(s)}function i3(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const r3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ku(s,e,t,n,o){if(re.isFunction(n))return n.call(this,e,t);if(o&&(e=t),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function a3(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function l3(s,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(o,r,a){return this[n].call(this,e,o,r,a)},configurable:!0})})}class Td{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function r(l,c,d){const u=Kr(c);if(!u)throw new Error("header name must be a non-empty string");const f=re.findKey(o,u);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||c]=ic(l))}const a=(l,c)=>re.forEach(l,(d,u)=>r(d,u,c));if(re.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(re.isString(e)&&(e=e.trim())&&!r3(e))a(o3(e),t);else if(re.isObject(e)&&re.isIterable(e)){let l={},c,d;for(const u of e){if(!re.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?re.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(l,t)}else e!=null&&r(t,e,n);return this}get(e,t){if(e=Kr(e),e){const n=re.findKey(this,e);if(n){const o=this[n];if(!t)return o;if(t===!0)return i3(o);if(re.isFunction(t))return t.call(this,o,n);if(re.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kr(e),e){const n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ku(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let o=!1;function r(a){if(a=Kr(a),a){const l=re.findKey(n,a);l&&(!t||ku(n,n[l],l,t))&&(delete n[l],o=!0)}}return re.isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const r=t[n];(!e||ku(this,this[r],r,e,!0))&&(delete this[r],o=!0)}return o}normalize(e){const t=this,n={};return re.forEach(this,(o,r)=>{const a=re.findKey(n,r);if(a){t[a]=ic(o),delete t[r];return}const l=e?a3(r):String(r).trim();l!==r&&delete t[r],t[l]=ic(o),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(n,o)=>{n!=null&&n!==!1&&(t[o]=e&&re.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[Um]=this[Um]={accessors:{}}).accessors,o=this.prototype;function r(a){const l=Kr(a);n[l]||(l3(o,a),n[l]=!0)}return re.isArray(e)?e.forEach(r):r(e),this}}Td.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Td.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});re.freezeMethods(Td);const Rn=Td;function $u(s,e){const t=this||jf,n=e||t,o=Rn.from(n.headers);let r=n.data;return re.forEach(s,function(l){r=l.call(t,r,o.normalize(),e?e.status:void 0)}),o.normalize(),r}function Mv(s){return!!(s&&s.__CANCEL__)}function Lr(s,e,t){ct.call(this,s??"canceled",ct.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Lr,ct,{__CANCEL__:!0});function Tv(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new ct("Request failed with status code "+t.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function c3(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function d3(s,e){s=s||10;const t=new Array(s),n=new Array(s);let o=0,r=0,a;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=n[r];a||(a=d),t[o]=c,n[o]=d;let f=r,m=0;for(;f!==o;)m+=t[f++],f=f%s;if(o=(o+1)%s,o===r&&(r=(r+1)%s),d-a<e)return;const g=u&&d-u;return g?Math.round(m*1e3/g):void 0}}function u3(s,e){let t=0,n=1e3/e,o,r;const a=(d,u=Date.now())=>{t=u,o=null,r&&(clearTimeout(r),r=null),s(...d)};return[(...d)=>{const u=Date.now(),f=u-t;f>=n?a(d,u):(o=d,r||(r=setTimeout(()=>{r=null,a(o)},n-f)))},()=>o&&a(o)]}const jc=(s,e,t=3)=>{let n=0;const o=d3(50,250);return u3(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,c=a-n,d=o(c),u=a<=l;n=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-a)/d:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(f)},t)},Hm=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},Vm=s=>(...e)=>re.asap(()=>s(...e)),h3=Rs.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,Rs.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(Rs.origin),Rs.navigator&&/(msie|trident)/i.test(Rs.navigator.userAgent)):()=>!0,f3=Rs.hasStandardBrowserEnv?{write(s,e,t,n,o,r){const a=[s+"="+encodeURIComponent(e)];re.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),re.isString(n)&&a.push("path="+n),re.isString(o)&&a.push("domain="+o),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function p3(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function m3(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function Dv(s,e,t){let n=!p3(e);return s&&(n||t==!1)?m3(s,e):e}const Wm=s=>s instanceof Rn?{...s}:s;function Hi(s,e){e=e||{};const t={};function n(d,u,f,m){return re.isPlainObject(d)&&re.isPlainObject(u)?re.merge.call({caseless:m},d,u):re.isPlainObject(u)?re.merge({},u):re.isArray(u)?u.slice():u}function o(d,u,f,m){if(re.isUndefined(u)){if(!re.isUndefined(d))return n(void 0,d,f,m)}else return n(d,u,f,m)}function r(d,u){if(!re.isUndefined(u))return n(void 0,u)}function a(d,u){if(re.isUndefined(u)){if(!re.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in e)return n(d,u);if(f in s)return n(void 0,d)}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,u,f)=>o(Wm(d),Wm(u),f,!0)};return re.forEach(Object.keys({...s,...e}),function(u){const f=c[u]||o,m=f(s[u],e[u],u);re.isUndefined(m)&&f!==l||(t[u]=m)}),t}const Av=s=>{const e=Hi({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:r,headers:a,auth:l}=e;if(e.headers=a=Rn.from(a),e.url=$v(Dv(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),re.isFormData(t)){if(Rs.hasStandardBrowserEnv||Rs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(re.isFunction(t.getHeaders)){const c=t.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&a.set(u,f)})}}if(Rs.hasStandardBrowserEnv&&(n&&re.isFunction(n)&&(n=n(e)),n||n!==!1&&h3(e.url))){const c=o&&r&&f3.read(r);c&&a.set(o,c)}return e},g3=typeof XMLHttpRequest<"u",_3=g3&&function(s){return new Promise(function(t,n){const o=Av(s);let r=o.data;const a=Rn.from(o.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=o,u,f,m,g,_;function w(){g&&g(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function $(){if(!y)return;const S=Rn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:s,request:y};Tv(function(N){t(N),w()},function(N){n(N),w()},E),y=null}"onloadend"in y?y.onloadend=$:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout($)},y.onabort=function(){y&&(n(new ct("Request aborted",ct.ECONNABORTED,s,y)),y=null)},y.onerror=function(M){const E=M&&M.message?M.message:"Network Error",H=new ct(E,ct.ERR_NETWORK,s,y);H.event=M||null,n(H),y=null},y.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||Cv;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),n(new ct(M,E.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,s,y)),y=null},r===void 0&&a.setContentType(null),"setRequestHeader"in y&&re.forEach(a.toJSON(),function(M,E){y.setRequestHeader(E,M)}),re.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),l&&l!=="json"&&(y.responseType=o.responseType),d&&([m,_]=jc(d,!0),y.addEventListener("progress",m)),c&&y.upload&&([f,g]=jc(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(u=S=>{y&&(n(!S||S.type?new Lr(null,s,y):S),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const b=c3(o.url);if(b&&Rs.protocols.indexOf(b)===-1){n(new ct("Unsupported protocol "+b+":",ct.ERR_BAD_REQUEST,s));return}y.send(r||null)})},v3=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,o;const r=function(d){if(!o){o=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ct?u:new Lr(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,r(new ct(`timeout ${e} of ms exceeded`,ct.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),s=null)};s.forEach(d=>d.addEventListener("abort",r));const{signal:c}=n;return c.unsubscribe=()=>re.asap(l),c}},y3=v3,b3=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let n=0,o;for(;n<t;)o=n+e,yield s.slice(n,o),n=o},x3=async function*(s,e){for await(const t of w3(s))yield*b3(t,e)},w3=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},qm=(s,e,t,n)=>{const o=x3(s,e);let r=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await o.next();if(d){l(),c.close();return}let f=u.byteLength;if(t){let m=r+=f;t(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},Km=64*1024,{isFunction:$l}=re,k3=(({Request:s,Response:e})=>({Request:s,Response:e}))(re.global),{ReadableStream:Ym,TextEncoder:Gm}=re.global,Xm=(s,...e)=>{try{return!!s(...e)}catch{return!1}},$3=s=>{s=re.merge.call({skipUndefined:!0},k3,s);const{fetch:e,Request:t,Response:n}=s,o=e?$l(e):typeof fetch=="function",r=$l(t),a=$l(n);if(!o)return!1;const l=o&&$l(Ym),c=o&&(typeof Gm=="function"?(_=>w=>_.encode(w))(new Gm):async _=>new Uint8Array(await new t(_).arrayBuffer())),d=r&&l&&Xm(()=>{let _=!1;const w=new t(Rs.origin,{body:new Ym,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!w}),u=a&&l&&Xm(()=>re.isReadableStream(new n("").body)),f={stream:u&&(_=>_.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!f[_]&&(f[_]=(w,y)=>{let $=w&&w[_];if($)return $.call(w);throw new ct(`Response type '${_}' is not supported`,ct.ERR_NOT_SUPPORT,y)})});const m=async _=>{if(_==null)return 0;if(re.isBlob(_))return _.size;if(re.isSpecCompliantForm(_))return(await new t(Rs.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(re.isArrayBufferView(_)||re.isArrayBuffer(_))return _.byteLength;if(re.isURLSearchParams(_)&&(_=_+""),re.isString(_))return(await c(_)).byteLength},g=async(_,w)=>{const y=re.toFiniteNumber(_.getContentLength());return y??m(w)};return async _=>{let{url:w,method:y,data:$,signal:b,cancelToken:S,timeout:M,onDownloadProgress:E,onUploadProgress:H,responseType:N,headers:F,withCredentials:R="same-origin",fetchOptions:A}=Av(_),ee=e||fetch;N=N?(N+"").toLowerCase():"text";let q=y3([b,S&&S.toAbortSignal()],M),_e=null;const $e=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let ve;try{if(H&&d&&y!=="get"&&y!=="head"&&(ve=await g(F,$))!==0){let xe=new t(w,{method:"POST",body:$,duplex:"half"}),Oe;if(re.isFormData($)&&(Oe=xe.headers.get("content-type"))&&F.setContentType(Oe),xe.body){const[nt,ut]=Hm(ve,jc(Vm(H)));$=qm(xe.body,Km,nt,ut)}}re.isString(R)||(R=R?"include":"omit");const ge=r&&"credentials"in t.prototype,G={...A,signal:q,method:y.toUpperCase(),headers:F.normalize().toJSON(),body:$,duplex:"half",credentials:ge?R:void 0};_e=r&&new t(w,G);let Q=await(r?ee(_e,A):ee(w,G));const J=u&&(N==="stream"||N==="response");if(u&&(E||J&&$e)){const xe={};["status","statusText","headers"].forEach(ie=>{xe[ie]=Q[ie]});const Oe=re.toFiniteNumber(Q.headers.get("content-length")),[nt,ut]=E&&Hm(Oe,jc(Vm(E),!0))||[];Q=new n(qm(Q.body,Km,nt,()=>{ut&&ut(),$e&&$e()}),xe)}N=N||"text";let me=await f[re.findKey(f,N)||"text"](Q,_);return!J&&$e&&$e(),await new Promise((xe,Oe)=>{Tv(xe,Oe,{data:me,headers:Rn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:_,request:_e})})}catch(ge){throw $e&&$e(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,_,_e),{cause:ge.cause||ge}):ct.from(ge,ge&&ge.code,_,_e)}}},C3=new Map,Ev=s=>{let e=s?s.env:{};const{fetch:t,Request:n,Response:o}=e,r=[n,o,t];let a=r.length,l=a,c,d,u=C3;for(;l--;)c=r[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:$3(e)),u=d;return d};Ev();const Ah={http:z$,xhr:_3,fetch:{get:Ev}};re.forEach(Ah,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Jm=s=>`- ${s}`,S3=s=>re.isFunction(s)||s===null||s===!1,Pv={getAdapter:(s,e)=>{s=re.isArray(s)?s:[s];const{length:t}=s;let n,o;const r={};for(let a=0;a<t;a++){n=s[a];let l;if(o=n,!S3(n)&&(o=Ah[(l=String(n)).toLowerCase()],o===void 0))throw new ct(`Unknown adapter '${l}'`);if(o&&(re.isFunction(o)||(o=o.get(e))))break;r[l||"#"+a]=o}if(!o){const a=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Jm).join(`
`):" "+Jm(a[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:Ah};function Cu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Lr(null,s)}function Qm(s){return Cu(s),s.headers=Rn.from(s.headers),s.data=$u.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Pv.getAdapter(s.adapter||jf.adapter,s)(s).then(function(n){return Cu(s),n.data=$u.call(s,s.transformResponse,n),n.headers=Rn.from(n.headers),n},function(n){return Mv(n)||(Cu(s),n&&n.response&&(n.response.data=$u.call(s,s.transformResponse,n.response),n.response.headers=Rn.from(n.response.headers))),Promise.reject(n)})}const Ov="1.12.2",Dd={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Dd[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const Zm={};Dd.transitional=function(e,t,n){function o(r,a){return"[Axios v"+Ov+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,l)=>{if(e===!1)throw new ct(o(a," has been removed"+(t?" in "+t:"")),ct.ERR_DEPRECATED);return t&&!Zm[a]&&(Zm[a]=!0),e?e(r,a,l):!0}};Dd.spelling=function(e){return(t,n)=>!0};function M3(s,e,t){if(typeof s!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let o=n.length;for(;o-- >0;){const r=n[o],a=e[r];if(a){const l=s[r],c=l===void 0||a(l,r,s);if(c!==!0)throw new ct("option "+r+" must be "+c,ct.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ct("Unknown option "+r,ct.ERR_BAD_OPTION)}}const rc={assertOptions:M3,validators:Dd},Bn=rc.validators;class Fc{constructor(e){this.defaults=e||{},this.interceptors={request:new Bm,response:new Bm}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Hi(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:r}=t;n!==void 0&&rc.assertOptions(n,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),o!=null&&(re.isFunction(o)?t.paramsSerializer={serialize:o}:rc.assertOptions(o,{encode:Bn.function,serialize:Bn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rc.assertOptions(t,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&re.merge(r.common,r[t.method]);r&&re.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),t.headers=Rn.concat(a,r);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let u,f=0,m;if(!c){const _=[Qm.bind(this),void 0];for(_.unshift(...l),_.push(...d),m=_.length,u=Promise.resolve(t);f<m;)u=u.then(_[f++],_[f++]);return u}m=l.length;let g=t;for(;f<m;){const _=l[f++],w=l[f++];try{g=_(g)}catch(y){w.call(this,y);break}}try{u=Qm.call(this,g)}catch(_){return Promise.reject(_)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=Hi(this.defaults,e);const t=Dv(e.baseURL,e.url,e.allowAbsoluteUrls);return $v(t,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){Fc.prototype[e]=function(t,n){return this.request(Hi(n||{},{method:e,url:t,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(n){return function(r,a,l){return this.request(Hi(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Fc.prototype[e]=t(),Fc.prototype[e+"Form"]=t(!0)});const ac=Fc;class Ff{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(o=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](o);n._listeners=null}),this.promise.then=o=>{let r;const a=new Promise(l=>{n.subscribe(l),r=l}).then(o);return a.cancel=function(){n.unsubscribe(r)},a},e(function(r,a,l){n.reason||(n.reason=new Lr(r,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ff(function(o){e=o}),cancel:e}}}const T3=Ff;function D3(s){return function(t){return s.apply(null,t)}}function A3(s){return re.isObject(s)&&s.isAxiosError===!0}const Eh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eh).forEach(([s,e])=>{Eh[e]=s});const E3=Eh;function Rv(s){const e=new ac(s),t=hv(ac.prototype.request,e);return re.extend(t,ac.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Rv(Hi(s,o))},t}const cs=Rv(jf);cs.Axios=ac;cs.CanceledError=Lr;cs.CancelToken=T3;cs.isCancel=Mv;cs.VERSION=Ov;cs.toFormData=Md;cs.AxiosError=ct;cs.Cancel=cs.CanceledError;cs.all=function(e){return Promise.all(e)};cs.spread=D3;cs.isAxiosError=A3;cs.mergeConfig=Hi;cs.AxiosHeaders=Rn;cs.formToJSON=s=>Sv(re.isHTMLForm(s)?new FormData(s):s);cs.getAdapter=Pv.getAdapter;cs.HttpStatusCode=E3;cs.default=cs;const Yt=cs,ue=Yt.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});ue.interceptors.response.use(s=>{const e=s.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):s},s=>{var t,n;((t=s.response)==null?void 0:t.status)===401&&(window.location.href="/login");const e=(n=s.response)==null?void 0:n.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):Promise.reject(s)});const ds=s=>tn(`form-${s}`,()=>{const e=mt({}),t=mt({}),n=mt({}),o=I(!1),r=I(!1),a=I(""),l=I("post"),c=I(null),d=I([]);async function u(b,S){a.value=b,c.value=S||null,S?(l.value="put",await m(S)):await f()}async function f(){r.value=!0;try{const b=await ue.get(`${a.value}/create`);Array.isArray(b.data)?b.data.forEach(S=>{S.name&&S.value!==void 0&&(e[S.name]=S.value),S.name&&S.options&&S.options.length>0&&(n[S.name]=S.options)}):(b.data.options&&Object.assign(n,b.data.options),b.data.data&&Object.assign(e,b.data.data))}catch{}finally{r.value=!1}}async function m(b){r.value=!0,w();try{const S=await ue.get(`${a.value}/${b}/edit`);Array.isArray(S.data)?S.data.forEach(M=>{M.name&&M.value!==void 0&&(e[M.name]=M.value),M.name&&M.options&&M.options.length>0&&(n[M.name]=M.options)}):(Object.assign(e,S.data.data||S.data),S.data.options&&Object.assign(n,S.data.options))}catch{}finally{r.value=!1}}async function g(){var b,S;o.value=!0,w();try{const M=c.value?`${a.value}/${c.value}`:a.value,E=await ue[l.value](M,e);return o.value=!1,d.value.forEach(H=>H(E)),E}catch(M){throw o.value=!1,(S=(b=M.response)==null?void 0:b.data)!=null&&S.errors&&Object.assign(t,M.response.data.errors),M}}function _(b){d.value.push(b)}function w(){Object.keys(t).forEach(b=>delete t[b])}function y(b,S){e[b]=S}function $(){Object.keys(e).forEach(b=>delete e[b]),w(),o.value=!1,r.value=!1}return{data:e,errors:t,options:n,submitting:o,fetching:r,init:u,fetch:m,submit:g,onSuccess:_,clearErrors:w,setData:y,reset:$}}),Rt=tn("modals",()=>{const s=I([]),e=I(new Map);function t(a,l={}){s.value.push({component:_r(a),payload:l})}function n(){const a=s.value.length-1,l=e.value.get(a);l&&(l(),e.value.delete(a)),s.value.pop()}function o(){s.value=[],e.value.clear()}function r(a){const l=s.value.length-1;e.value.set(l,a)}return{components:s,add:t,pop:n,clear:o,onHide:r}}),ks=s=>tn(`index-${s}`,()=>{const e=I([]),t=mt({}),n=mt({}),o=I(""),r=I("asc"),a=I(15),l=I(1),c=I(""),d=I(!1),u=mt({});function f(M,E){t[M]=E}function m(M){delete t[M]}function g(){Object.keys(t).forEach(M=>delete t[M])}function _(M,E="asc"){o.value=M,r.value=E}function w(M){o.value===M?r.value=r.value==="asc"?"desc":"asc":(o.value=M,r.value="asc")}function y(){g(),o.value="",r.value="asc",l.value=1}function $(M){Object.assign(u,M),M.uri&&(c.value=M.uri)}function b(){l.value=1,S()}async function S(){if(c.value){d.value=!0;try{const M={...t,...n,per_page:a.value,page:l.value};o.value&&(M.sort_by=o.value,M.sort_order=r.value);const E=await ue.get(c.value,{params:M});e.value=E.data}catch{}finally{d.value=!1}}}return{data:e,filters:t,params:n,sortBy:o,sortOrder:r,perPage:a,currentPage:l,uri:c,fetching:d,config:u,setFilter:f,clearFilter:m,clearAllFilters:g,setSort:_,toggleSort:w,reset:y,setConfig:$,onSearch:b,fetch:S}}),lc=tn("confirm",()=>{const s=I(!1),e=I("Confirm"),t=I(""),n=I("Confirm"),o=I("Cancel"),r=I(!1);let a=null,l=null;function c(m){e.value=m.title||"Confirm",t.value=m.message,n.value=m.confirmText||"Confirm",o.value=m.cancelText||"Cancel",a=m.onConfirm||null,l=m.onCancel||null,s.value=!0}async function d(){if(a){r.value=!0;try{await a()}finally{r.value=!1}}f()}function u(){l&&l(),f()}function f(){s.value=!1,a=null,l=null}return{isOpen:s,title:e,message:t,confirmText:n,cancelText:o,processing:r,show:c,confirm:d,cancel:u,close:f}}),An=tn("flash",()=>{const s=I([]);let e=0;function t(d,u="info",f=5e3){const m=e++,g={id:m,type:u,message:d,duration:f};return s.value.push(g),f>0&&setTimeout(()=>{l(m)},f),m}function n(d,u=5e3){return t(d,"success",u)}function o(d,u=5e3){return t(d,"error",u)}function r(d,u=5e3){return t(d,"warning",u)}function a(d,u=5e3){return t(d,"info",u)}function l(d){const u=s.value.findIndex(f=>f.id===d);u>-1&&s.value.splice(u,1)}function c(){s.value=[]}return{messages:s,add:t,success:n,error:o,warning:r,info:a,remove:l,clear:c}}),e0=tn("toast",()=>{const s=I([]);let e=0;function t(d,u="info",f=3e3){const m=e++,g={id:m,type:u,message:d,duration:f};return s.value.push(g),f>0&&setTimeout(()=>{l(m)},f),m}function n(d,u=3e3){return t(d,"success",u)}function o(d,u=3e3){return t(d,"error",u)}function r(d,u=3e3){return t(d,"warning",u)}function a(d,u=3e3){return t(d,"info",u)}function l(d){const u=s.value.findIndex(f=>f.id===d);u>-1&&s.value.splice(u,1)}function c(){s.value=[]}return{toasts:s,add:t,success:n,error:o,warning:r,info:a,remove:l,clear:c}}),P3=(s="tab")=>tn(`tab-${s}`,()=>{const e=I(0),t=I(0),n=I([]),o=Le(()=>{var u;const d=typeof e.value=="number"?e.value:parseInt(e.value);return(u=n.value[d])==null?void 0:u.component});function r(d){t.value=d,e.value=d}function a(d){e.value=d,t.value=d}function l(d){n.value=d}function c(){t.value=0,e.value=0}return{active:e,activeTab:t,tabsList:n,tab:o,setTab:r,select:a,tabs:l,reset:c}});function O3(s){s.config.globalProperties.__=n=>{var o;return((o=gt.translations)==null?void 0:o[n])||n};const e=n=>{var o;return!n||gt.is_super_admin?!0:((o=gt.permissions)==null?void 0:o.includes(n))||!1},t=n=>!e(n);s.config.globalProperties.can=e,s.config.globalProperties.cannot=t,s.provide("can",e),s.provide("cannot",t),s.provide("__",s.config.globalProperties.__),s.provide("user",{...gt.user,is_super_admin:gt.is_super_admin})}const R3={install:O3};let Cl;const Ir=tn("timer",{state:()=>({taskId:null,projectId:null,projectName:null,taskTitle:null,processing:!1,timers:[],isTimerRunning:!1,timerStartedAt:null,timerStoppedAt:null,currentTaskTimer:{h:0,m:0,s:0}}),actions:{start(s){this.stopPrev(),this.startTimer(),this.taskId=s.id,this.taskTitle=s.title,this.projectId=s.project_id,this.projectName=s.project.name,this.processing=!0,ue.post("time-logs",{taskId:this.taskId,projectId:this.projectId,start:!0,currentTime:this.timerStartedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1})},stop(){this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ue.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1}),this.taskId=null,this.projectId=null,this.projectName=null},stopPrev(){if(!this.taskId)return;this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,ue.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(({data:t})=>{}).catch(()=>{this.processing=!1})},fetch(){ue.get("time-logs").then(s=>{this.timers=s.data;const e=s.data.find(t=>t.user.id==gt.user.id);if(e){this.taskId=e.task.id,this.taskTitle=e.task.title,this.projectId=e.task.project_id,this.projectName=e.task.project.name;const t=new Date(e.started_at_raw),o=Math.floor((new Date().getTime()-t.getTime())/1e3);this.setTimer(o),this.startTimer()}})},startTimer(){Cl&&clearInterval(Cl),Cl=setInterval(()=>{this.currentTaskTimer.s++,this.currentTaskTimer.s>=60&&(this.currentTaskTimer.s=0,this.currentTaskTimer.m++,this.currentTaskTimer.m>=60&&(this.currentTaskTimer.m=0,this.currentTaskTimer.h++))},1e3),this.timerStartedAt=new Date,this.isTimerRunning=!0},stopTimer(){clearInterval(Cl),this.timerStoppedAt=new Date,this.isTimerRunning=!1},setTimer(s){this.currentTaskTimer.s=Math.floor(s%60),this.currentTaskTimer.m=Math.floor(s%3600/60),this.currentTaskTimer.h=Math.floor(s/3600)}}}),L3={key:0,class:"flex items-center"},I3=["aria-label"],j3=fe({__name:"TimerCurrentUser",setup(s){const e=Ir();return(t,n)=>p(e).isTimerRunning?(v(),k("div",L3,[i("span",{class:"block cursor-pointer",onClick:n[0]||(n[0]=et((...o)=>p(e).stop&&p(e).stop(...o),["stop"]))},[T(p(Or),{class:"h-[1.125rem] w-[1.125rem] text-red-600 hover:text-red-800"})]),i("p",{class:"ml-2 w-[4.500rem] text-base text-red-600","aria-label":`${p(e).taskTitle} (${p(e).projectName})`,"data-cooltipz-dir":"bottom"},h(p(e).currentTaskTimer.h.toString().padStart(2,"0"))+":"+h(p(e).currentTaskTimer.m.toString().padStart(2,"0"))+":"+h(p(e).currentTaskTimer.s.toString().padStart(2,"0")),9,I3)])):P("",!0)}}),F3={class:"w-full min-w-[18rem] max-w-sm rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-800"},N3={class:"flex items-center justify-between p-4 leading-8"},z3={class:"text-base font-medium text-gray-800 dark:text-gray-100"},B3={class:"grid grid-cols-7 px-2 pb-2"},U3=["onClick"],H3=fe({__name:"Calendar",props:{date:{}},emits:["selected"],setup(s){const e=s,t=e.date?new Date(e.date):new Date,n=I(t.getMonth()),o=I(t.getFullYear()),r=I(),a=I(t.getDate()),l=I(y()),c=I([]),d=["Su","Mo","Tu","We","Th","Fr","Sa"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];m();function m(){const b=[];r.value=null,a.value=null;for(let S=1;S<=w();S++)b.push(S),S===t.getDate()&&n.value===t.getMonth()&&o.value===t.getFullYear()&&(a.value=S);c.value=b,l.value=y()}function g(){o.value=n.value===11?o.value+1:o.value,n.value=(n.value+1)%12,m()}function _(){o.value=n.value===0?o.value-1:o.value,n.value=n.value===0?11:n.value-1,m()}function w(){return new Date(o.value,n.value+1,0).getDate()}function y(){return new Date(o.value,n.value).getDay()}function $(b){r.value=b}return(b,S)=>(v(),k("div",F3,[i("div",N3,[i("h1",z3,h(b.__(u[n.value]))+" "+h(o.value),1),i("div",{class:"flex items-center text-gray-800 dark:text-gray-100"},[i("span",{class:"cursor-pointer hover:text-gray-500",onClick:_},[...S[0]||(S[0]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i("polyline",{points:"15 6 9 12 15 18"})],-1)])]),i("span",{class:"cursor-pointer hover:text-gray-500",onClick:g},[...S[1]||(S[1]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-right ml-3",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i("polyline",{points:"9 6 15 12 9 18"})],-1)])])])]),i("ol",B3,[(v(),k(he,null,ke(d,M=>i("li",{key:M,class:"pb-2 text-center text-sm font-medium text-gray-800"},h(M),1)),64)),l.value?(v(),k("li",{key:0,class:"flex items-center justify-center py-1",style:Mt({gridColumnStart:l.value})},"  ",4)):P("",!0),(v(!0),k(he,null,ke(c.value,M=>(v(),k("li",{key:M,class:"flex items-center justify-center py-1"},[i("p",{class:ae(["flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-sm font-medium",{"bg-indigo-700 text-white":M==r.value,"text-gray-500 hover:bg-gray-200":M!=r.value,"bg-gray-200":M==a.value}]),onClick:E=>($(M),b.$emit("selected",{day:("0"+M).slice(-2),month:("0"+(n.value+1)).slice(-2),year:o.value,date:`${o.value}-${("0"+(n.value+1)).slice(-2)}-${("0"+M).slice(-2)}`,label:`${f[n.value]} ${M}, ${o.value}`}))},h(M),11,U3)]))),128))])]))}}),Nf=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},V3={},W3={class:"rounded-lg bg-white shadow"};function q3(s,e){return v(),k("div",W3,[ws(s.$slots,"default")])}const si=Nf(V3,[["render",q3]]),Ad=fe({__name:"Collapsible",props:{open:{type:Boolean}},setup(s){const e=s,t=I(!1);return e.open&&(t.value=!0),(n,o)=>(v(),k(he,null,[i("div",{onClick:o[0]||(o[0]=et(r=>t.value=!t.value,["prevent"]))},[ws(n.$slots,"trigger",{open:t.value})]),t.value?ws(n.$slots,"content",{key:0}):P("",!0)],64))}}),js=fe({__name:"Dropdown",props:{shouldClose:{type:Boolean},closeOutside:{type:Boolean},close:{type:Boolean}},emits:["toggle"],setup(s,{emit:e}){const t=s;Dr(()=>{t.shouldClose&&c()}),Ft(()=>t.close,f=>{f&&c()});const n=I(!1),o=I(null),r=I(null),a=e;function l(){n.value=!n.value}Ft(n,f=>{a("toggle",f),f?window.addEventListener("click",t.closeOutside?d:u,{capture:!0}):window.removeEventListener("click",t.closeOutside?d:u,{capture:!0})});function c(){n.value=!1}function d(f){const m=o.value;!m||m===f.target||f.composedPath().includes(m)||c()}function u(f){const m=o.value,g=r.value;(!g||g===f.target||f.composedPath().includes(g))&&c(),!(!m||m===f.target||f.composedPath().includes(m))&&c()}return(f,m)=>(v(),k("div",{ref_key:"target",ref:o,class:"relative"},[i("div",{onClick:et(l,["prevent"])},[ws(f.$slots,"trigger")]),T(ww,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Y(()=>[n.value?(v(),k("div",{key:0,ref_key:"content",ref:r},[ws(f.$slots,"content")],512)):P("",!0)]),_:3})],512))}});function K3(){const s=gd();s.isBlankPage=!0,uf(()=>s.isBlankPage=!1)}const Y3={class:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},G3={class:"mx-auto max-w-max"},X3={class:"sm:flex"},J3=["textContent"],Q3={class:"sm:ml-6"},Z3={class:"sm:border-l sm:border-gray-200 sm:pl-6"},eC=["textContent"],tC=["textContent"],Lv=fe({__name:"ErrorPage",props:{code:{},heading:{},description:{}},setup(s){return K3(),(e,t)=>(v(),k("div",Y3,[i("div",G3,[i("main",X3,[i("p",{class:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",textContent:h(s.code)},null,8,J3),i("div",Q3,[i("div",Z3,[i("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl",textContent:h(s.heading)},null,8,eC),i("p",{class:"mt-1 text-base text-gray-500",textContent:h(s.description)},null,8,tC)])])])])]))}}),Zn=fe({__name:"ModalBase",props:{width:{default:"max-w-2xl"}},emits:["close"],setup(s,{emit:e}){const t=e;function n(){t("close"),Rt().pop()}return(o,r)=>(v(),k("div",{class:"fixed inset-0 z-[250] flex min-h-screen items-center justify-center overflow-y-auto bg-gray-500 bg-opacity-75 p-4",onClick:n},[i("div",{class:ae(["modal-content relative w-full rounded-lg bg-white shadow-xl",[s.width]]),onClick:r[0]||(r[0]=et(()=>{},["stop"]))},[ws(o.$slots,"default")],2)]))}}),sC={},nC={class:"animate-pulse px-6"};function oC(s,e){return v(),k(he,null,[i("div",nC,[(v(),k(he,null,ke(2,t=>i("div",{key:t,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},[...e[0]||(e[0]=[i("label",{class:"mr-16 h-4 rounded bg-gray-200 sm:mt-px sm:pt-2"},null,-1),i("div",{class:"h-4 rounded bg-gray-200 sm:col-span-2"},"",-1)])])),64))]),e[1]||(e[1]=i("div",{class:"sticky bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},[i("span",{class:"h-4 w-32 rounded bg-gray-300"},"")],-1))],64)}const Iv=Nf(sC,[["render",oC]]),iC=["width","height"],rC=["stroke-width"],aC=["stroke-width"],Nt=fe({__name:"Loader",props:{size:{default:"40"},color:{default:"text-gray-800"},thick:{default:"4"}},setup(s){return(e,t)=>(v(),k("svg",{class:ae(["animate-spin stroke-current",s.color]),viewBox:"0 0 32 32",width:s.size,height:s.size},[i("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{opacity:"0.2"}},null,8,rC),i("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{"stroke-dasharray":"80","stroke-dashoffset":"60"}},null,8,aC)],10,iC))}}),lC=["href"],cC=["disabled"],Ue=fe({__name:"TheButton",props:{href:{default:""},processing:{type:Boolean},disabled:{type:Boolean},white:{type:Boolean},danger:{type:Boolean},size:{default:"md"}},setup(s){const e=s;let t="inline-flex items-center border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",n={xs:" px-2.5 py-1.5 text-xs rounded",sm:" px-3 py-2 text-sm leading-4 rounded-md",md:" px-4 py-2 text-sm rounded-md",lg:" px-4 py-2 text-base rounded-md",xl:" px-6 py-3 text-base rounded-md"},o={xs:"16",sm:"16",md:"20",lg:"20",xl:"22"},r=" text-gray-700 border-gray-300 bg-white hover:bg-gray-50 focus:ring-indigo-500",a=" text-white border-transparent bg-red-600 hover:bg-red-700 focus:ring-red-500",l=" text-white border-transparent bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",c=e.white?"":"text-white",d=o[e.size];return e.white?t=t.concat(r,n[e.size]):e.danger?t=t.concat(a,n[e.size]):t=t.concat(l,n[e.size]),(u,f)=>s.href?(v(),k("a",{key:0,href:s.href,class:ae([p(t)])},[ws(u.$slots,"default"),s.processing?(v(),se(Nt,{key:0,class:"ltr:ml-2 rtl:mr-2",size:p(d),color:p(c)},null,8,["size","color"])):P("",!0)],10,lC)):(v(),k("button",{key:1,class:ae([p(t)]),disabled:s.disabled||s.processing},[ws(u.$slots,"default"),s.processing?(v(),se(Nt,{key:0,class:"ltr:ml-2 rtl:mr-2",size:p(d),color:p(c)},null,8,["size","color"])):P("",!0)],10,cC))}}),dC={key:1},uC={class:"px-6 pt-6"},hC={class:"text-xl font-semibold text-gray-900","data-cy":"page-title"},fC={class:"px-6"},pC={class:"grid grid-cols-12 gap-6 pt-3 pb-6"},mC={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},Fs=fe({__name:"FormModal",props:{id:{},name:{},uri:{},title:{},size:{}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=Le(()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full"})[t.size||"lg"]||"max-w-2xl"),r=Le(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let c=0;c<l.length;c++)l[c]=l[c].charAt(0).toUpperCase()+l[c].slice(1);return l.join(" ")});t.name&&Is("form_name",t.name);let a;return t.name&&t.uri?(a=ds(t.name)(),a.init(t.uri,t.id)):a={fetching:!1,submitting:!1,submit:()=>{}},(l,c)=>(v(),se(Zn,{width:o.value,onClose:c[1]||(c[1]=d=>n("close"))},{default:Y(()=>[s.name&&s.uri?(v(),k(he,{key:0},[p(a).fetching?(v(),se(Iv,{key:0})):(v(),k("section",dC,[i("div",uC,[i("h1",hC,h(s.title||(s.id?l.__(`Edit ${r.value}`):l.__(`Create ${r.value}`))),1)]),i("div",fC,[i("div",pC,[ws(l.$slots,"default")])]),i("div",mC,[T(Ue,{class:"mr-3",white:"",disabled:p(a).submitting,onClick:c[0]||(c[0]=d=>p(Rt)().pop())},{default:Y(()=>[te(h(l.__("Cancel")),1)]),_:1},8,["disabled"]),T(Ue,{"data-cy":"submit-button",processing:p(a).submitting,onClick:p(a).submit},{default:Y(()=>[te(h(s.id?l.__(`Update ${r.value}`):l.__(`Create ${r.value}`)),1)]),_:1},8,["processing","onClick"])])]))],64)):ws(l.$slots,"default",{key:1})]),_:3},8,["width"]))}}),gC={key:1},_C={key:0,class:"border-b border-gray-200 px-6 py-4"},vC={class:"text-lg font-semibold text-gray-900"},yC={class:"px-6 py-4"},bC={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},xC={key:0},wC={key:1},Mo=fe({__name:"FormBase",props:{id:{},name:{},uri:{},title:{},saveOnly:{type:Boolean},buttonText:{},externalForm:{}},emits:["submit","cancel"],setup(s,{emit:e}){const t=s,n=e,o=Le(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let c=0;c<l.length;c++)l[c]=l[c].charAt(0).toUpperCase()+l[c].slice(1);return l.join(" ")});t.name&&Is("form_name",t.name);let r;t.externalForm?r=t.externalForm:t.name&&t.uri?(r=ds(t.name)(),r.init(t.uri)):r={fetching:!1,submitting:!1,submit:()=>n("submit")};const a=()=>{t.externalForm?n("cancel"):Rt().pop()};return(l,c)=>(v(),se(p(si),null,{default:Y(()=>[p(r).fetching?(v(),se(Iv,{key:0})):(v(),k("section",gC,[l.$slots.title?(v(),k("div",_C,[i("h2",vC,[ws(l.$slots,"title")])])):P("",!0),i("div",yC,[ws(l.$slots,"default")]),i("div",bC,[s.saveOnly?P("",!0):(v(),se(p(Ue),{key:0,class:"mr-3",white:"",disabled:p(r).submitting,onClick:a},{default:Y(()=>[te(h(l.__("Cancel")),1)]),_:1},8,["disabled"])),T(p(Ue),{"data-cy":"submit-button",processing:p(r).submitting,onClick:p(r).submit},{default:Y(()=>[s.saveOnly?(v(),k("span",xC,h(l.__("Save")),1)):(v(),k("span",wC,h(s.buttonText||(s.id?l.__("Update"):l.__("Create"))+" "+o.value),1))]),_:1},8,["processing","onClick"])])]))]),_:3}))}}),kC={class:"hidden sm:block"},$C={class:"text-sm text-gray-700"},CC={class:"font-medium text-gray-600"},SC={class:"font-medium text-gray-600"},MC={key:0,class:"flex flex-1 justify-between sm:justify-end"},qs=fe({__name:"IndexPagination",props:{index:{},classes:{default:"px-4 sm:px-6 border-t border-gray-200"}},setup(s){return(e,t)=>(v(),k("nav",{class:ae(["flex items-center justify-between bg-white py-3",[s.classes]]),"aria-label":"Pagination"},[i("div",kC,[i("p",$C,[te(h(e.__("Showing"))+" ",1),i("span",CC,h(s.index.data.from),1),te(" "+h(e.__("to"))+" ",1),i("span",SC,h(s.index.data.to),1)])]),s.index.data.next_page_url||s.index.data.prev_page_url?(v(),k("div",MC,[i("span",{class:ae(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",{"pointer-events-none opacity-50":!s.index.data.prev_page_url}]),onClick:t[0]||(t[0]=n=>s.index.prev())},h(e.__("Previous")),3),i("span",{class:ae(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ltr:ml-3 rtl:mr-3",{"pointer-events-none opacity-50":!s.index.data.next_page_url}]),onClick:t[1]||(t[1]=n=>s.index.next())},h(e.__("Next")),3)])):P("",!0)],2))}}),TC={key:0,class:"ml-2 font-bold text-white"},DC={class:"absolute z-30 mt-2 max-h-80 w-72 origin-top-left overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 shadow-lg ltr:left-0 rtl:right-0"},AC={class:"shadow-xs rounded-md bg-white",role:"menu","aria-orientation":"vertical","aria-labelledby":"filters"},EC=fe({__name:"IndexFilters",props:{name:{}},setup(s){const t=ks(s.name)();return(n,o)=>(v(),se(p(js),{name:"filter",class:"ltr:ml-4 rtl:mr-4","close-outside":""},{trigger:Y(()=>[i("button",{class:ae(["inline-flex justify-center rounded-md border border-gray-300 bg-white px-3.5 py-2 text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none",{"bg-gray-700 hover:bg-gray-700":p(t).appliedFilters.length}])},[T(p(T4),{class:ae(["w-5",p(t).appliedFilters.length?"text-white":"text-gray-400"])},null,8,["class"]),p(t).appliedFilters.length?(v(),k("span",TC,h(p(t).appliedFilters.length),1)):P("",!0)],2)]),content:Y(()=>[i("div",DC,[i("div",AC,[p(t).appliedFilters.length?(v(),k("div",{key:0,class:"cursor-pointer border-b border-gray-200 bg-gray-50 py-2 text-center text-sm font-medium uppercase text-gray-600 hover:text-gray-400",onClick:o[0]||(o[0]=(...r)=>p(t).resetFilters&&p(t).resetFilters(...r))},h(n.__("Reset Filters")),1)):P("",!0),(v(!0),k(he,null,ke(p(t).filters,r=>(v(),se(Qo(r==null?void 0:r.component),{key:r==null?void 0:r.name,filter:r,name:s.name},null,8,["filter","name"]))),128))])])]),_:1}))}}),PC={class:"mt-6 text-center text-gray-500"},Ed=fe({__name:"IndexNoData",props:{btnTo:{},btnText:{},noCreate:{type:Boolean}},setup(s){return(e,t)=>(v(),se(si,{class:"px-6 py-16"},{default:Y(()=>[t[0]||(t[0]=i("div",{class:"flex justify-center"},[i("svg",{width:"65",height:"51",viewBox:"0 0 65 51",class:"fill-current text-gray-400"},[i("path",{d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})])],-1)),i("p",PC,h(e.__("No record matched the given criteria.")),1)]),_:1}))}}),OC={class:"flex"},RC={key:0,class:"relative mb-4 w-64 rounded-md shadow-sm"},LC=["placeholder"],IC={key:0,class:"mt-8 flex justify-center"},jC=["data-cy"],zf=fe({__name:"IndexTable",props:{name:{},uri:{},filterUri:{default:""},shallowUri:{default:""},btnTo:{default:""},btnText:{default:""},noCreate:{type:Boolean},noFilters:{type:Boolean},noSearch:{type:Boolean},orderByDirection:{default:"desc"},searchColumn:{default:"name"}},setup(s){const e=s,t=ks(e.name)();return t.setConfig(e),t.fetch(),e.noFilters||t.getFilters(),(n,o)=>{var r;return v(),k(he,null,[i("div",OC,[s.noSearch?P("",!0):(v(),k("div",RC,[o[2]||(o[2]=i("div",{class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},[i("svg",{class:"h-5 w-5 text-gray-400","x-description":"Heroicon name: search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),W(i("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>p(t).params.search=a),type:"search",placeholder:n.__("Search"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:o[1]||(o[1]=(...a)=>p(t).onSearch&&p(t).onSearch(...a))},null,40,LC),[[de,p(t).params.search]])])),s.noFilters?P("",!0):(v(),se(EC,{key:1,name:s.name},null,8,["name"]))]),p(t).fetching?(v(),k("div",IC,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",{key:1,"data-cy":s.name?"index-"+s.name:"index"},[(r=p(t).data)!=null&&r.length?ws(n.$slots,"default",{key:1,index:p(t),items:p(t).data}):(v(),se(Ed,{key:0,"no-create":s.noCreate||n.cannot(`${s.name}:create`),"btn-text":s.btnText,"btn-to":s.btnTo},null,8,["no-create","btn-text","btn-to"]))],8,jC))],64)}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function il(s){return s+.5|0}const Ho=(s,e,t)=>Math.max(Math.min(s,t),e);function na(s){return Ho(il(s*2.55),0,255)}function Zo(s){return Ho(il(s*255),0,255)}function ho(s){return Ho(il(s/2.55)/100,0,1)}function t0(s){return Ho(il(s*100),0,100)}const _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ph=[..."0123456789ABCDEF"],FC=s=>Ph[s&15],NC=s=>Ph[(s&240)>>4]+Ph[s&15],Sl=s=>(s&240)>>4===(s&15),zC=s=>Sl(s.r)&&Sl(s.g)&&Sl(s.b)&&Sl(s.a);function BC(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&_n[s[1]]*17,g:255&_n[s[2]]*17,b:255&_n[s[3]]*17,a:e===5?_n[s[4]]*17:255}:(e===7||e===9)&&(t={r:_n[s[1]]<<4|_n[s[2]],g:_n[s[3]]<<4|_n[s[4]],b:_n[s[5]]<<4|_n[s[6]],a:e===9?_n[s[7]]<<4|_n[s[8]]:255})),t}const UC=(s,e)=>s<255?e(s):"";function HC(s){var e=zC(s)?FC:NC;return s?"#"+e(s.r)+e(s.g)+e(s.b)+UC(s.a,e):void 0}const VC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jv(s,e,t){const n=e*Math.min(t,1-t),o=(r,a=(r+s/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function WC(s,e,t){const n=(o,r=(o+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function qC(s,e,t){const n=jv(s,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)n[o]*=1-e-t,n[o]+=e;return n}function KC(s,e,t,n,o){return s===o?(e-t)/n+(e<t?6:0):e===o?(t-s)/n+2:(s-e)/n+4}function Bf(s){const t=s.r/255,n=s.g/255,o=s.b/255,r=Math.max(t,n,o),a=Math.min(t,n,o),l=(r+a)/2;let c,d,u;return r!==a&&(u=r-a,d=l>.5?u/(2-r-a):u/(r+a),c=KC(t,n,o,u,r),c=c*60+.5),[c|0,d||0,l]}function Uf(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(Zo)}function Hf(s,e,t){return Uf(jv,s,e,t)}function YC(s,e,t){return Uf(qC,s,e,t)}function GC(s,e,t){return Uf(WC,s,e,t)}function Fv(s){return(s%360+360)%360}function XC(s){const e=VC.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?na(+e[5]):Zo(+e[5]));const o=Fv(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=YC(o,r,a):e[1]==="hsv"?n=GC(o,r,a):n=Hf(o,r,a),{r:n[0],g:n[1],b:n[2],a:t}}function JC(s,e){var t=Bf(s);t[0]=Fv(t[0]+e),t=Hf(t),s.r=t[0],s.g=t[1],s.b=t[2]}function QC(s){if(!s)return;const e=Bf(s),t=e[0],n=t0(e[1]),o=t0(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${o}%, ${ho(s.a)})`:`hsl(${t}, ${n}%, ${o}%)`}const s0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},n0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZC(){const s={},e=Object.keys(n0),t=Object.keys(s0);let n,o,r,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],o=0;o<t.length;o++)r=t[o],l=l.replace(r,s0[r]);r=parseInt(n0[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Ml;function e6(s){Ml||(Ml=ZC(),Ml.transparent=[0,0,0,0]);const e=Ml[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const t6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s6(s){const e=t6.exec(s);let t=255,n,o,r;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?na(a):Ho(a*255,0,255)}return n=+e[1],o=+e[3],r=+e[5],n=255&(e[2]?na(n):Ho(n,0,255)),o=255&(e[4]?na(o):Ho(o,0,255)),r=255&(e[6]?na(r):Ho(r,0,255)),{r:n,g:o,b:r,a:t}}}function n6(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${ho(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Su=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,er=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function o6(s,e,t){const n=er(ho(s.r)),o=er(ho(s.g)),r=er(ho(s.b));return{r:Zo(Su(n+t*(er(ho(e.r))-n))),g:Zo(Su(o+t*(er(ho(e.g))-o))),b:Zo(Su(r+t*(er(ho(e.b))-r))),a:s.a+t*(e.a-s.a)}}function Tl(s,e,t){if(s){let n=Bf(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Hf(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function Nv(s,e){return s&&Object.assign(e||{},s)}function o0(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Zo(s[3]))):(e=Nv(s,{r:0,g:0,b:0,a:1}),e.a=Zo(e.a)),e}function i6(s){return s.charAt(0)==="r"?s6(s):XC(s)}class Ba{constructor(e){if(e instanceof Ba)return e;const t=typeof e;let n;t==="object"?n=o0(e):t==="string"&&(n=BC(e)||e6(e)||i6(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Nv(this._rgb);return e&&(e.a=ho(e.a)),e}set rgb(e){this._rgb=o0(e)}rgbString(){return this._valid?n6(this._rgb):void 0}hexString(){return this._valid?HC(this._rgb):void 0}hslString(){return this._valid?QC(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,o=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,c=n.a-o.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;r=1-d,n.r=255&d*n.r+r*o.r+.5,n.g=255&d*n.g+r*o.g+.5,n.b=255&d*n.b+r*o.b+.5,n.a=a*n.a+(1-a)*o.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=o6(this._rgb,e._rgb,t)),this}clone(){return new Ba(this.rgb)}alpha(e){return this._rgb.a=Zo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=il(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tl(this._rgb,2,e),this}darken(e){return Tl(this._rgb,2,-e),this}saturate(e){return Tl(this._rgb,1,e),this}desaturate(e){return Tl(this._rgb,1,-e),this}rotate(e){return JC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ro(){}const r6=(()=>{let s=0;return()=>s++})();function xt(s){return s==null}function qt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _t(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Jt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function cn(s,e){return Jt(s)?s:e}function ht(s,e){return typeof s>"u"?e:s}const a6=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,zv=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Ut(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Et(s,e,t,n){let o,r,a;if(qt(s))if(r=s.length,n)for(o=r-1;o>=0;o--)e.call(t,s[o],o);else for(o=0;o<r;o++)e.call(t,s[o],o);else if(_t(s))for(a=Object.keys(s),r=a.length,o=0;o<r;o++)e.call(t,s[a[o]],a[o])}function Nc(s,e){let t,n,o,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(o=s[t],r=e[t],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function zc(s){if(qt(s))return s.map(zc);if(_t(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let o=0;for(;o<n;++o)e[t[o]]=zc(s[t[o]]);return e}return s}function Bv(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function l6(s,e,t,n){if(!Bv(s))return;const o=e[s],r=t[s];_t(o)&&_t(r)?Ua(o,r,n):e[s]=zc(r)}function Ua(s,e,t){const n=qt(e)?e:[e],o=n.length;if(!_t(s))return s;t=t||{};const r=t.merger||l6;let a;for(let l=0;l<o;++l){if(a=n[l],!_t(a))continue;const c=Object.keys(a);for(let d=0,u=c.length;d<u;++d)r(c[d],s,a,t)}return s}function wa(s,e){return Ua(s,e,{merger:c6})}function c6(s,e,t){if(!Bv(s))return;const n=e[s],o=t[s];_t(n)&&_t(o)?wa(n,o):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=zc(o))}const i0={"":s=>s,x:s=>s.x,y:s=>s.y};function d6(s){const e=s.split("."),t=[];let n="";for(const o of e)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function u6(s){const e=d6(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Vi(s,e){return(i0[e]||(i0[e]=u6(e)))(s)}function Vf(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Ha=s=>typeof s<"u",ni=s=>typeof s=="function",r0=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function h6(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ot=Math.PI,Vt=2*Ot,f6=Vt+Ot,Bc=Number.POSITIVE_INFINITY,p6=Ot/180,ts=Ot/2,vi=Ot/4,a0=Ot*2/3,Vo=Math.log10,Gn=Math.sign;function ka(s,e,t){return Math.abs(s-e)<t}function l0(s){const e=Math.round(s);s=ka(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Vo(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function m6(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((o,r)=>o-r).pop(),e}function g6(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Va(s){return!g6(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function _6(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function Uv(s,e,t){let n,o,r;for(n=0,o=s.length;n<o;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Yn(s){return s*(Ot/180)}function Wf(s){return s*(180/Ot)}function c0(s){if(!Jt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function Hv(s,e){const t=e.x-s.x,n=e.y-s.y,o=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*Ot&&(r+=Vt),{angle:r,distance:o}}function Oh(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function v6(s,e){return(s-e+f6)%Vt-Ot}function As(s){return(s%Vt+Vt)%Vt}function Wa(s,e,t,n){const o=As(s),r=As(e),a=As(t),l=As(r-o),c=As(a-o),d=As(o-r),u=As(o-a);return o===r||o===a||n&&r===a||l>c&&d<u}function Ls(s,e,t){return Math.max(e,Math.min(t,s))}function y6(s){return Ls(s,-32768,32767)}function go(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function qf(s,e,t){t=t||(a=>s[a]<e);let n=s.length-1,o=0,r;for(;n-o>1;)r=o+n>>1,t(r)?o=r:n=r;return{lo:o,hi:n}}const Ri=(s,e,t,n)=>qf(s,t,n?o=>{const r=s[o][e];return r<t||r===t&&s[o+1][e]===t}:o=>s[o][e]<t),b6=(s,e,t)=>qf(s,t,n=>s[n][e]>=t);function x6(s,e,t){let n=0,o=s.length;for(;n<o&&s[n]<e;)n++;for(;o>n&&s[o-1]>t;)o--;return n>0||o<s.length?s.slice(n,o):s}const Vv=["push","pop","shift","splice","unshift"];function w6(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vv.forEach(t=>{const n="_onData"+Vf(t),o=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=o.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),a}})})}function d0(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,o=n.indexOf(e);o!==-1&&n.splice(o,1),!(n.length>0)&&(Vv.forEach(r=>{delete s[r]}),delete s._chartjs)}function Wv(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const qv=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Kv(s,e){let t=[],n=!1;return function(...o){t=o,n||(n=!0,qv.call(window,()=>{n=!1,s.apply(e,t)}))}}function k6(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const Yv=s=>s==="start"?"left":s==="end"?"right":"center",an=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,$6=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function C6(s,e,t){const n=e.length;let o=0,r=n;if(s._sorted){const{iScale:a,vScale:l,_parsed:c}=s,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,u=a.axis,{min:f,max:m,minDefined:g,maxDefined:_}=a.getUserBounds();if(g){if(o=Math.min(Ri(c,u,f).lo,t?n:Ri(e,u,a.getPixelForValue(f)).lo),d){const w=c.slice(0,o+1).reverse().findIndex(y=>!xt(y[l.axis]));o-=Math.max(0,w)}o=Ls(o,0,n-1)}if(_){let w=Math.max(Ri(c,a.axis,m,!0).hi+1,t?0:Ri(e,u,a.getPixelForValue(m),!0).hi+1);if(d){const y=c.slice(w-1).findIndex($=>!xt($[l.axis]));w+=Math.max(0,y)}r=Ls(w,o,n)-o}else r=n-o}return{start:o,count:r}}function S6(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=o,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,o),r}const Dl=s=>s===0||s===1,u0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Vt/t)),h0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Vt/t)+1,$a={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ts)+1,easeOutSine:s=>Math.sin(s*ts),easeInOutSine:s=>-.5*(Math.cos(Ot*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Dl(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Dl(s)?s:u0(s,.075,.3),easeOutElastic:s=>Dl(s)?s:h0(s,.075,.3),easeInOutElastic(s){return Dl(s)?s:s<.5?.5*u0(s*2,.1125,.45):.5+.5*h0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-$a.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?$a.easeInBounce(s*2)*.5:$a.easeOutBounce(s*2-1)*.5+.5};function Kf(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function f0(s){return Kf(s)?s:new Ba(s)}function Mu(s){return Kf(s)?s:new Ba(s).saturate(.5).darken(.1).hexString()}const M6=["x","y","borderWidth","radius","tension"],T6=["color","borderColor","backgroundColor"];function D6(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:T6},numbers:{type:"number",properties:M6}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function A6(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const p0=new Map;function E6(s,e){e=e||{};const t=s+JSON.stringify(e);let n=p0.get(t);return n||(n=new Intl.NumberFormat(s,e),p0.set(t,n)),n}function Pd(s,e,t){return E6(e,t).format(s)}const Gv={values(s){return qt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let o,r=s;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),r=P6(s,t)}const a=Vo(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Pd(s,n,c)},logarithmic(s,e,t){if(s===0)return"0";const n=t[e].significand||s/Math.pow(10,Math.floor(Vo(s)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?Gv.numeric.call(this,s,e,t):""}};function P6(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Od={formatters:Gv};function O6(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Od.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wi=Object.create(null),Rh=Object.create(null);function Ca(s,e){if(!e)return s;const t=e.split(".");for(let n=0,o=t.length;n<o;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function Tu(s,e,t){return typeof e=="string"?Ua(Ca(s,e),t):Ua(Ca(s,""),e)}class R6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>Mu(o.backgroundColor),this.hoverBorderColor=(n,o)=>Mu(o.borderColor),this.hoverColor=(n,o)=>Mu(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Tu(this,e,t)}get(e){return Ca(this,e)}describe(e,t){return Tu(Rh,e,t)}override(e,t){return Tu(Wi,e,t)}route(e,t,n,o){const r=Ca(this,e),a=Ca(this,n),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=a[o];return _t(c)?Object.assign({},d,c):ht(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Qt=new R6({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[D6,A6,O6]);function L6(s){return!s||xt(s.size)||xt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Uc(s,e,t,n,o){let r=e[o];return r||(r=e[o]=s.measureText(o).width,t.push(o)),r>n&&(n=r),n}function I6(s,e,t,n){n=n||{};let o=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},r=n.garbageCollect=[],n.font=e),s.save(),s.font=e;let a=0;const l=t.length;let c,d,u,f,m;for(c=0;c<l;c++)if(f=t[c],f!=null&&!qt(f))a=Uc(s,o,r,a,f);else if(qt(f))for(d=0,u=f.length;d<u;d++)m=f[d],m!=null&&!qt(m)&&(a=Uc(s,o,r,a,m));s.restore();const g=r.length/2;if(g>t.length){for(c=0;c<g;c++)delete o[r[c]];r.splice(0,g)}return a}function yi(s,e,t){const n=s.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*n)/n+o}function m0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Lh(s,e,t,n){Xv(s,e,t,n,null)}function Xv(s,e,t,n,o){let r,a,l,c,d,u,f,m;const g=e.pointStyle,_=e.rotation,w=e.radius;let y=(_||0)*p6;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(y),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(w)||w<=0)){switch(s.beginPath(),g){default:o?s.ellipse(t,n,o/2,w,0,0,Vt):s.arc(t,n,w,0,Vt),s.closePath();break;case"triangle":u=o?o/2:w,s.moveTo(t+Math.sin(y)*u,n-Math.cos(y)*w),y+=a0,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*w),y+=a0,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*w),s.closePath();break;case"rectRounded":d=w*.516,c=w-d,a=Math.cos(y+vi)*c,f=Math.cos(y+vi)*(o?o/2-d:c),l=Math.sin(y+vi)*c,m=Math.sin(y+vi)*(o?o/2-d:c),s.arc(t-f,n-l,d,y-Ot,y-ts),s.arc(t+m,n-a,d,y-ts,y),s.arc(t+f,n+l,d,y,y+ts),s.arc(t-m,n+a,d,y+ts,y+Ot),s.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*w,u=o?o/2:c,s.rect(t-u,n-c,2*u,2*c);break}y+=vi;case"rectRot":f=Math.cos(y)*(o?o/2:w),a=Math.cos(y)*w,l=Math.sin(y)*w,m=Math.sin(y)*(o?o/2:w),s.moveTo(t-f,n-l),s.lineTo(t+m,n-a),s.lineTo(t+f,n+l),s.lineTo(t-m,n+a),s.closePath();break;case"crossRot":y+=vi;case"cross":f=Math.cos(y)*(o?o/2:w),a=Math.cos(y)*w,l=Math.sin(y)*w,m=Math.sin(y)*(o?o/2:w),s.moveTo(t-f,n-l),s.lineTo(t+f,n+l),s.moveTo(t+m,n-a),s.lineTo(t-m,n+a);break;case"star":f=Math.cos(y)*(o?o/2:w),a=Math.cos(y)*w,l=Math.sin(y)*w,m=Math.sin(y)*(o?o/2:w),s.moveTo(t-f,n-l),s.lineTo(t+f,n+l),s.moveTo(t+m,n-a),s.lineTo(t-m,n+a),y+=vi,f=Math.cos(y)*(o?o/2:w),a=Math.cos(y)*w,l=Math.sin(y)*w,m=Math.sin(y)*(o?o/2:w),s.moveTo(t-f,n-l),s.lineTo(t+f,n+l),s.moveTo(t+m,n-a),s.lineTo(t-m,n+a);break;case"line":a=o?o/2:Math.cos(y)*w,l=Math.sin(y)*w,s.moveTo(t-a,n-l),s.lineTo(t+a,n+l);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(y)*(o?o/2:w),n+Math.sin(y)*w);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function _o(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Rd(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Ld(s){s.restore()}function j6(s,e,t,n,o){if(!e)return s.lineTo(t.x,t.y);if(o==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else o==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function F6(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function N6(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),xt(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function z6(s,e,t,n,o){if(o.strikethrough||o.underline){const r=s.measureText(n),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,c=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,u=o.strikethrough?(c+d)/2:d;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=o.decorationWidth||2,s.moveTo(a,u),s.lineTo(l,u),s.stroke()}}function B6(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function kr(s,e,t,n,o,r={}){const a=qt(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(s.save(),s.font=o.string,N6(s,r),c=0;c<a.length;++c)d=a[c],r.backdrop&&B6(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),xt(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(d,t,n,r.maxWidth)),s.fillText(d,t,n,r.maxWidth),z6(s,t,n,d,r),n+=Number(o.lineHeight);s.restore()}function qa(s,e){const{x:t,y:n,w:o,h:r,radius:a}=e;s.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Ot,Ot,!0),s.lineTo(t,n+r-a.bottomLeft),s.arc(t+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,Ot,ts,!0),s.lineTo(t+o-a.bottomRight,n+r),s.arc(t+o-a.bottomRight,n+r-a.bottomRight,a.bottomRight,ts,0,!0),s.lineTo(t+o,n+a.topRight),s.arc(t+o-a.topRight,n+a.topRight,a.topRight,0,-ts,!0),s.lineTo(t+a.topLeft,n)}const U6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,H6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function V6(s,e){const t=(""+s).match(U6);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const W6=s=>+s||0;function Yf(s,e){const t={},n=_t(e),o=n?Object.keys(e):e,r=_t(s)?n?a=>ht(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of o)t[a]=W6(r(a));return t}function Jv(s){return Yf(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Fi(s){return Yf(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ks(s){const e=Jv(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xs(s,e){s=s||{},e=e||Qt.font;let t=ht(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=ht(s.style,e.style);n&&!(""+n).match(H6)&&(n=void 0);const o={family:ht(s.family,e.family),lineHeight:V6(ht(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:ht(s.weight,e.weight),string:""};return o.string=L6(o),o}function Al(s,e,t,n){let o=!0,r,a,l;for(r=0,a=s.length;r<a;++r)if(l=s[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),o=!1),t!==void 0&&qt(l)&&(l=l[t%l.length],o=!1),l!==void 0))return n&&!o&&(n.cacheable=!1),l}function q6(s,e,t){const{min:n,max:o}=s,r=zv(e,(o-n)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(n,-Math.abs(r)),max:a(o,r)}}function ci(s,e){return Object.assign(Object.create(s),e)}function Gf(s,e=[""],t,n,o=()=>s[0]){const r=t||s;typeof n>"u"&&(n=ty("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:o,override:l=>Gf([l,...s],e,r,n)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return Zv(l,c,()=>eS(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return _0(l).includes(c)},ownKeys(l){return _0(l)},set(l,c,d){const u=l._storage||(l._storage=o());return l[c]=u[c]=d,delete l._keys,!0}})}function $r(s,e,t,n){const o={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Qv(s,n),setContext:r=>$r(s,r,t,n),override:r=>$r(s.override(r),e,t,n)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return Zv(r,a,()=>Y6(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function Qv(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:o=e.allKeys}=s;return{allKeys:o,scriptable:t,indexable:n,isScriptable:ni(t)?t:()=>t,isIndexable:ni(n)?n:()=>n}}const K6=(s,e)=>s?s+Vf(e):e,Xf=(s,e)=>_t(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Zv(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function Y6(s,e,t){const{_proxy:n,_context:o,_subProxy:r,_descriptors:a}=s;let l=n[e];return ni(l)&&a.isScriptable(e)&&(l=G6(e,l,s,t)),qt(l)&&l.length&&(l=X6(e,l,s,a.isIndexable)),Xf(e,l)&&(l=$r(l,o,r&&r[e],a)),l}function G6(s,e,t,n){const{_proxy:o,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(r,a||n);return l.delete(s),Xf(s,c)&&(c=Jf(o._scopes,o,s,c)),c}function X6(s,e,t,n){const{_proxy:o,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(_t(e[0])){const c=e,d=o._scopes.filter(u=>u!==c);e=[];for(const u of c){const f=Jf(d,o,s,u);e.push($r(f,r,a&&a[s],l))}}return e}function ey(s,e,t){return ni(s)?s(e,t):s}const J6=(s,e)=>s===!0?e:typeof s=="string"?Vi(e,s):void 0;function Q6(s,e,t,n,o){for(const r of e){const a=J6(t,r);if(a){s.add(a);const l=ey(a._fallback,t,o);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function Jf(s,e,t,n){const o=e._rootScopes,r=ey(e._fallback,t,n),a=[...s,...o],l=new Set;l.add(n);let c=g0(l,a,t,r||t,n);return c===null||typeof r<"u"&&r!==t&&(c=g0(l,a,r,c,n),c===null)?!1:Gf(Array.from(l),[""],o,r,()=>Z6(e,t,n))}function g0(s,e,t,n,o){for(;t;)t=Q6(s,e,t,n,o);return t}function Z6(s,e,t){const n=s._getTarget();e in n||(n[e]={});const o=n[e];return qt(o)&&_t(t)?t:o||{}}function eS(s,e,t,n){let o;for(const r of e)if(o=ty(K6(r,s),t),typeof o<"u")return Xf(s,o)?Jf(t,n,s,o):o}function ty(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function _0(s){let e=s._keys;return e||(e=s._keys=tS(s._scopes)),e}function tS(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(n);return Array.from(e)}const sS=Number.EPSILON||1e-14,Cr=(s,e)=>e<s.length&&!s[e].skip&&s[e],sy=s=>s==="x"?"y":"x";function nS(s,e,t,n){const o=s.skip?e:s,r=e,a=t.skip?e:t,l=Oh(r,o),c=Oh(a,r);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=n*d,m=n*u;return{previous:{x:r.x-f*(a.x-o.x),y:r.y-f*(a.y-o.y)},next:{x:r.x+m*(a.x-o.x),y:r.y+m*(a.y-o.y)}}}function oS(s,e,t){const n=s.length;let o,r,a,l,c,d=Cr(s,0);for(let u=0;u<n-1;++u)if(c=d,d=Cr(s,u+1),!(!c||!d)){if(ka(e[u],0,sS)){t[u]=t[u+1]=0;continue}o=t[u]/e[u],r=t[u+1]/e[u],l=Math.pow(o,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[u]=o*a*e[u],t[u+1]=r*a*e[u])}}function iS(s,e,t="x"){const n=sy(t),o=s.length;let r,a,l,c=Cr(s,0);for(let d=0;d<o;++d){if(a=l,l=c,c=Cr(s,d+1),!l)continue;const u=l[t],f=l[n];a&&(r=(u-a[t])/3,l[`cp1${t}`]=u-r,l[`cp1${n}`]=f-r*e[d]),c&&(r=(c[t]-u)/3,l[`cp2${t}`]=u+r,l[`cp2${n}`]=f+r*e[d])}}function rS(s,e="x"){const t=sy(e),n=s.length,o=Array(n).fill(0),r=Array(n);let a,l,c,d=Cr(s,0);for(a=0;a<n;++a)if(l=c,c=d,d=Cr(s,a+1),!!c){if(d){const u=d[e]-c[e];o[a]=u!==0?(d[t]-c[t])/u:0}r[a]=l?d?Gn(o[a-1])!==Gn(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}oS(s,o,r),iS(s,r,e)}function El(s,e,t){return Math.max(Math.min(s,t),e)}function aS(s,e){let t,n,o,r,a,l=_o(s[0],e);for(t=0,n=s.length;t<n;++t)a=r,r=l,l=t<n-1&&_o(s[t+1],e),r&&(o=s[t],a&&(o.cp1x=El(o.cp1x,e.left,e.right),o.cp1y=El(o.cp1y,e.top,e.bottom)),l&&(o.cp2x=El(o.cp2x,e.left,e.right),o.cp2y=El(o.cp2y,e.top,e.bottom)))}function lS(s,e,t,n,o){let r,a,l,c;if(e.spanGaps&&(s=s.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")rS(s,o);else{let d=n?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],c=nS(d,l,s[Math.min(r+1,a-(n?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&aS(s,t)}function Qf(){return typeof window<"u"&&typeof document<"u"}function Zf(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hc(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const Id=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function cS(s,e){return Id(s).getPropertyValue(e)}const dS=["top","right","bottom","left"];function Ni(s,e,t){const n={};t=t?"-"+t:"";for(let o=0;o<4;o++){const r=dS[o];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const uS=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function hS(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:o,offsetY:r}=n;let a=!1,l,c;if(uS(o,r,s.target))l=o,c=r;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,a=!0}return{x:l,y:c,box:a}}function Si(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,o=Id(t),r=o.boxSizing==="border-box",a=Ni(o,"padding"),l=Ni(o,"border","width"),{x:c,y:d,box:u}=hS(s,t),f=a.left+(u&&l.left),m=a.top+(u&&l.top);let{width:g,height:_}=e;return r&&(g-=a.width+l.width,_-=a.height+l.height),{x:Math.round((c-f)/g*t.width/n),y:Math.round((d-m)/_*t.height/n)}}function fS(s,e,t){let n,o;if(e===void 0||t===void 0){const r=s&&Zf(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=Id(r),c=Ni(l,"border","width"),d=Ni(l,"padding");e=a.width-d.width-c.width,t=a.height-d.height-c.height,n=Hc(l.maxWidth,r,"clientWidth"),o=Hc(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||Bc,maxHeight:o||Bc}}const Wo=s=>Math.round(s*10)/10;function pS(s,e,t,n){const o=Id(s),r=Ni(o,"margin"),a=Hc(o.maxWidth,s,"clientWidth")||Bc,l=Hc(o.maxHeight,s,"clientHeight")||Bc,c=fS(s,e,t);let{width:d,height:u}=c;if(o.boxSizing==="content-box"){const m=Ni(o,"border","width"),g=Ni(o,"padding");d-=g.width+m.width,u-=g.height+m.height}return d=Math.max(0,d-r.width),u=Math.max(0,n?d/n:u-r.height),d=Wo(Math.min(d,a,c.maxWidth)),u=Wo(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Wo(d/2)),(e!==void 0||t!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Wo(Math.floor(u*n))),{width:d,height:u}}function v0(s,e,t){const n=e||1,o=Wo(s.height*n),r=Wo(s.width*n);s.height=Wo(s.height),s.width=Wo(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||a.height!==o||a.width!==r?(s.currentDevicePixelRatio=n,a.height=o,a.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const mS=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};Qf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function y0(s,e){const t=cS(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Mi(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function gS(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function _S(s,e,t,n){const o={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=Mi(s,o,t),l=Mi(o,r,t),c=Mi(r,e,t),d=Mi(a,l,t),u=Mi(l,c,t);return Mi(d,u,t)}const vS=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},yS=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function fr(s,e,t){return s?vS(e,t):yS()}function ny(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function oy(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function iy(s){return s==="angle"?{between:Wa,compare:v6,normalize:As}:{between:go,compare:(e,t)=>e-t,normalize:e=>e}}function b0({start:s,end:e,count:t,loop:n,style:o}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:o}}function bS(s,e,t){const{property:n,start:o,end:r}=t,{between:a,normalize:l}=iy(n),c=e.length;let{start:d,end:u,loop:f}=s,m,g;if(f){for(d+=c,u+=c,m=0,g=c;m<g&&a(l(e[d%c][n]),o,r);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:s.style}}function ry(s,e,t){if(!t)return[s];const{property:n,start:o,end:r}=t,a=e.length,{compare:l,between:c,normalize:d}=iy(n),{start:u,end:f,loop:m,style:g}=bS(s,e,t),_=[];let w=!1,y=null,$,b,S;const M=()=>c(o,S,$)&&l(o,S)!==0,E=()=>l(r,$)===0||c(r,S,$),H=()=>w||M(),N=()=>!w||E();for(let F=u,R=u;F<=f;++F)b=e[F%a],!b.skip&&($=d(b[n]),$!==S&&(w=c($,o,r),y===null&&H()&&(y=l($,o)===0?F:R),y!==null&&N()&&(_.push(b0({start:y,end:F,loop:m,count:a,style:g})),y=null),R=F,S=$));return y!==null&&_.push(b0({start:y,end:f,loop:m,count:a,style:g})),_}function ay(s,e){const t=[],n=s.segments;for(let o=0;o<n.length;o++){const r=ry(n[o],s.points,e);r.length&&t.push(...r)}return t}function xS(s,e,t,n){let o=0,r=e-1;if(t&&!n)for(;o<e&&!s[o].skip;)o++;for(;o<e&&s[o].skip;)o++;for(o%=e,t&&(r+=o);r>o&&s[r%e].skip;)r--;return r%=e,{start:o,end:r}}function wS(s,e,t,n){const o=s.length,r=[];let a=e,l=s[e],c;for(c=e+1;c<=t;++c){const d=s[c%o];d.skip||d.stop?l.skip||(n=!1,r.push({start:e%o,end:(c-1)%o,loop:n}),e=a=d.stop?c:null):(a=c,l.skip&&(e=c)),l=d}return a!==null&&r.push({start:e%o,end:a%o,loop:n}),r}function kS(s,e){const t=s.points,n=s.options.spanGaps,o=t.length;if(!o)return[];const r=!!s._loop,{start:a,end:l}=xS(t,o,r,n);if(n===!0)return x0(s,[{start:a,end:l,loop:r}],t,e);const c=l<a?l+o:l,d=!!s._fullLoop&&a===0&&l===o-1;return x0(s,wS(t,a,c,d),t,e)}function x0(s,e,t,n){return!n||!n.setContext||!t?e:$S(s,e,t,n)}function $S(s,e,t,n){const o=s._chart.getContext(),r=w0(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,c=t.length,d=[];let u=r,f=e[0].start,m=f;function g(_,w,y,$){const b=l?-1:1;if(_!==w){for(_+=c;t[_%c].skip;)_-=b;for(;t[w%c].skip;)w+=b;_%c!==w%c&&(d.push({start:_%c,end:w%c,loop:y,style:$}),u=$,f=w%c)}}for(const _ of e){f=l?f:_.start;let w=t[f%c],y;for(m=f+1;m<=_.end;m++){const $=t[m%c];y=w0(n.setContext(ci(o,{type:"segment",p0:w,p1:$,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),CS(y,u)&&g(f,m-1,_.loop,u),w=$,u=y}f<m-1&&g(f,m-1,_.loop,u)}return d}function w0(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function CS(s,e){if(!e)return!1;const t=[],n=function(o,r){return Kf(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}function Pl(s,e,t){return s.options.clip?s[t]:e[t]}function SS(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:Pl(t,e,"left"),right:Pl(t,e,"right"),top:Pl(n,e,"top"),bottom:Pl(n,e,"bottom")}:e}function ly(s,e){const t=e._clip;if(t.disabled)return!1;const n=SS(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,o){const r=t.listeners[o],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=qv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,l=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(o.draw(),this._notify(o,n,e,"progress")),r.length||(n.running=!1,this._notify(o,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ao=new MS;const k0="transparent",TS={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=f0(s||k0),o=n.valid&&f0(e||k0);return o&&o.valid?o.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class DS{constructor(e,t,n,o){const r=t[n];o=Al([e.to,o,r,e.from]);const a=Al([e.from,r,o]);this._active=!0,this._fn=e.fn||TS[e.type||typeof a],this._easing=$a[e.easing]||$a.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const o=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Al([e.to,t,o,e.from]),this._from=Al([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,o=this._prop,r=this._from,a=this._loop,l=this._to;let c;if(this._active=r!==l&&(a||t<n),!this._active){this._target[o]=l,this._notify(!0);return}if(t<0){this._target[o]=r;return}c=t/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(r,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][t]()}}class cy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_t(e))return;const t=Object.keys(Qt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!_t(r))return;const a={};for(const l of t)a[l]=r[l];(qt(r.properties)&&r.properties||[o]).forEach(l=>{(l===o||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,t){const n=t.options,o=ES(e,n);if(!o)return[];const r=this._createAnimations(o,n);return n.$shared&&AS(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,o=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){o.push(...this._animateOptions(e,t));continue}const u=t[d];let f=r[d];const m=n.get(d);if(f)if(m&&f.active()){f.update(m,u,l);continue}else f.cancel();if(!m||!m.duration){e[d]=u;continue}r[d]=f=new DS(m,e,d,u),o.push(f)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return ao.add(this._chart,n),!0}}function AS(s,e){const t=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const r=s[n[o]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function ES(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function $0(s,e){const t=s&&s.options||{},n=t.reverse,o=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:o,end:n?o:r}}function PS(s,e,t){if(t===!1)return!1;const n=$0(s,t),o=$0(e,t);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function OS(s){let e,t,n,o;return _t(s)?(e=s.top,t=s.right,n=s.bottom,o=s.left):e=t=n=o=s,{top:e,right:t,bottom:n,left:o,disabled:s===!1}}function dy(s,e){const t=[],n=s._getSortedDatasetMetas(e);let o,r;for(o=0,r=n.length;o<r;++o)t.push(n[o].index);return t}function C0(s,e,t,n={}){const o=s.keys,r=n.mode==="single";let a,l,c,d;if(e===null)return;let u=!1;for(a=0,l=o.length;a<l;++a){if(c=+o[a],c===t){if(u=!0,n.all)continue;break}d=s.values[c],Jt(d)&&(r||e===0||Gn(e)===Gn(d))&&(e+=d)}return!u&&!n.all?0:e}function RS(s,e){const{iScale:t,vScale:n}=e,o=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let c,d,u;for(c=0,d=a.length;c<d;++c)u=a[c],l[c]={[o]:u,[r]:s[u]};return l}function Du(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function LS(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function IS(s){const{min:e,max:t,minDefined:n,maxDefined:o}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function jS(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function S0(s,e,t,n){for(const o of e.getMatchingVisibleMetas(n).reverse()){const r=s[o.index];if(t&&r>0||!t&&r<0)return o.index}return null}function M0(s,e){const{chart:t,_cachedMeta:n}=s,o=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=n,c=r.axis,d=a.axis,u=LS(r,a,n),f=e.length;let m;for(let g=0;g<f;++g){const _=e[g],{[c]:w,[d]:y}=_,$=_._stacks||(_._stacks={});m=$[d]=jS(o,u,w),m[l]=y,m._top=S0(m,a,!0,n.type),m._bottom=S0(m,a,!1,n.type);const b=m._visualValues||(m._visualValues={});b[l]=y}}function Au(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function FS(s,e){return ci(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NS(s,e,t){return ci(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Yr(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const o of e){const r=o._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const Eu=s=>s==="reset"||s==="none",T0=(s,e)=>e?s:Object.assign({},s),zS=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:dy(t,!0),values:null};class zi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Du(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&Yr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),o=(f,m,g,_)=>f==="x"?m:f==="r"?_:g,r=t.xAxisID=ht(n.xAxisID,Au(e,"x")),a=t.yAxisID=ht(n.yAxisID,Au(e,"y")),l=t.rAxisID=ht(n.rAxisID,Au(e,"r")),c=t.indexAxis,d=t.iAxisID=o(c,r,a,l),u=t.vAxisID=o(c,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&d0(this._data,this),e._stacked&&Yr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(_t(t)){const o=this._cachedMeta;this._data=RS(t,o)}else if(n!==t){if(n){d0(n,this);const o=this._cachedMeta;Yr(o),o._parsed=[]}t&&Object.isExtensible(t)&&w6(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const r=t._stacked;t._stacked=Du(t.vScale,t),t.stack!==n.stack&&(o=!0,Yr(t),t.stack=n.stack),this._resyncElements(e),(o||r!==t._stacked)&&(M0(this,t._parsed),t._stacked=Du(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:a}=n,l=r.axis;let c=e===0&&t===o.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,f,m;if(this._parsing===!1)n._parsed=o,n._sorted=!0,m=o;else{qt(o[e])?m=this.parseArrayData(n,o,e,t):_t(o[e])?m=this.parseObjectData(n,o,e,t):m=this.parsePrimitiveData(n,o,e,t);const g=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<t;++u)n._parsed[u+e]=f=m[u],c&&(g()&&(c=!1),d=f);n._sorted=c}a&&M0(this,m)}parsePrimitiveData(e,t,n,o){const{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,d=r.getLabels(),u=r===a,f=new Array(o);let m,g,_;for(m=0,g=o;m<g;++m)_=m+n,f[m]={[l]:u||r.parse(d[_],_),[c]:a.parse(t[_],_)};return f}parseArrayData(e,t,n,o){const{xScale:r,yScale:a}=e,l=new Array(o);let c,d,u,f;for(c=0,d=o;c<d;++c)u=c+n,f=t[u],l[c]={x:r.parse(f[0],u),y:a.parse(f[1],u)};return l}parseObjectData(e,t,n,o){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o);let u,f,m,g;for(u=0,f=o;u<f;++u)m=u+n,g=t[m],d[u]={x:r.parse(Vi(g,l),m),y:a.parse(Vi(g,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const o=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:dy(o,!0),values:t._stacks[e.axis]._visualValues};return C0(l,a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,o){const r=n[t.axis];let a=r===null?NaN:r;const l=o&&n._stacks[t.axis];o&&l&&(o.values=l,a=C0(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,o=n._parsed,r=n._sorted&&e===n.iScale,a=o.length,l=this._getOtherScale(e),c=zS(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=IS(l);let m,g;function _(){g=o[m];const w=g[l.axis];return!Jt(g[e.axis])||u>w||f<w}for(m=0;m<a&&!(!_()&&(this.updateRangeFromParsed(d,e,g,c),r));++m);if(r){for(m=a-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let o,r,a;for(o=0,r=t.length;o<r;++o)a=t[o][e.axis],Jt(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,o=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=OS(ht(this.options.clip,PS(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,o=n.data||[],r=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,l,c),u=l;u<l+c;++u){const f=o[u];f.hidden||(f.active&&d?a.push(f):f.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=NS(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=FS(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const o=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],c=this.enableOptionSharing&&Ha(n);if(l)return T0(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(Qt.elements[e]),_=()=>this.getContext(n,o,t),w=d.resolveNamedOptions(m,g,_,f);return w.$shared&&(w.$shared=c,r[a]=Object.freeze(T0(w,c))),w}_resolveAnimations(e,t,n){const o=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let c;if(o.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),m=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(m,this.getContext(e,n,t))}const d=new cy(o,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Eu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),o=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==o;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,o){Eu(o)?Object.assign(e,n):this._resolveAnimations(t,o).update(e,n)}updateSharedOptions(e,t,n){e&&!Eu(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,o){e.active=o;const r=this.getStyle(t,o);this._resolveAnimations(t,n,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const o=n.length,r=t.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,t,n=!0){const o=this._cachedMeta,r=o.data,a=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=a;l--)d[l]=d[l-t]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,o){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(e,t);n._stacked&&Yr(n,o)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,o]=e;this[t](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(zi,"defaults",{}),Fe(zi,"datasetElementType",null),Fe(zi,"dataElementType",null);function BS(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let o=0,r=t.length;o<r;o++)n=n.concat(t[o].controller.getAllParsedValues(s));s._cache.$bar=Wv(n.sort((o,r)=>o-r))}return s._cache.$bar}function US(s){const e=s.iScale,t=BS(e,s.type);let n=e._length,o,r,a,l;const c=()=>{a===32767||a===-32768||(Ha(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(o=0,r=t.length;o<r;++o)a=e.getPixelForValue(t[o]),c();for(l=void 0,o=0,r=e.ticks.length;o<r;++o)a=e.getPixelForTick(o),c();return n}function HS(s,e,t,n){const o=t.barThickness;let r,a;return xt(o)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=o*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[s]-r/2}}function VS(s,e,t,n){const o=e.pixels,r=o[s];let a=s>0?o[s-1]:null,l=s<o.length-1?o[s+1]:null;const c=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const d=r-(r-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/n,ratio:t.barPercentage,start:d}}function WS(s,e,t,n){const o=t.parse(s[0],n),r=t.parse(s[1],n),a=Math.min(o,r),l=Math.max(o,r);let c=a,d=l;Math.abs(a)>Math.abs(l)&&(c=l,d=a),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:o,end:r,min:a,max:l}}function uy(s,e,t,n){return qt(s)?WS(s,e,t,n):e[t.axis]=t.parse(s,n),e}function D0(s,e,t,n){const o=s.iScale,r=s.vScale,a=o.getLabels(),l=o===r,c=[];let d,u,f,m;for(d=t,u=t+n;d<u;++d)m=e[d],f={},f[o.axis]=l||o.parse(a[d],d),c.push(uy(m,f,r,d));return c}function Pu(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function qS(s,e,t){return s!==0?Gn(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function KS(s){let e,t,n,o,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(o="end",r="start"):(o="start",r="end"),{start:t,end:n,reverse:e,top:o,bottom:r}}function YS(s,e,t,n){let o=e.borderSkipped;const r={};if(!o){s.borderSkipped=r;return}if(o===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:d,bottom:u}=KS(s);o==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?o=d:(t._bottom||0)===n?o=u:(r[A0(u,a,l,c)]=!0,o=d)),r[A0(o,a,l,c)]=!0,s.borderSkipped=r}function A0(s,e,t,n){return n?(s=GS(s,e,t),s=E0(s,t,e)):s=E0(s,e,t),s}function GS(s,e,t){return s===e?t:s===t?e:s}function E0(s,e,t){return s==="start"?e:s==="end"?t:s}function XS(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class cc extends zi{parsePrimitiveData(e,t,n,o){return D0(e,t,n,o)}parseArrayData(e,t,n,o){return D0(e,t,n,o)}parseObjectData(e,t,n,o){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?l:c,u=a.axis==="x"?l:c,f=[];let m,g,_,w;for(m=n,g=n+o;m<g;++m)w=t[m],_={},_[r.axis]=r.parse(Vi(w,d),m),f.push(uy(Vi(w,u),_,a,m));return f}updateRangeFromParsed(e,t,n,o){super.updateRangeFromParsed(e,t,n,o);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:o}=t,r=this.getParsed(e),a=r._custom,l=Pu(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,o){const r=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,o);for(let g=t;g<t+n;g++){const _=this.getParsed(g),w=r||xt(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),y=this._calculateBarIndexPixels(g,u),$=(_._stacks||{})[l.axis],b={horizontal:d,base:w.base,enableBorderRadius:!$||Pu(_._custom)||a===$._top||a===$._bottom,x:d?w.head:y.center,y:d?y.center:w.head,height:d?y.size:Math.abs(w.size),width:d?Math.abs(w.size):y.size};m&&(b.options=f||this.resolveDataElementOptions(g,e[g].active?"active":o));const S=b.options||e[g].options;YS(b,S,$,a),XS(b,S,u.ratio),this.updateElement(e[g],g,b,o)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[n.axis],d=u=>{const f=u._parsed.find(g=>g[n.axis]===c),m=f&&f[u.vScale.axis];if(xt(m)||isNaN(m))return!0};for(const u of o)if(!(t!==void 0&&d(u))&&((r===!1||a.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[ht(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const o=this._getStacks(e,n),r=t!==void 0?o.indexOf(t):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,o=[];let r,a;for(r=0,a=t.data.length;r<a;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=e.barThickness;return{min:l||US(t),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:o},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),d=c._custom,u=Pu(d);let f=c[t.axis],m=0,g=n?this.applyStack(t,c,n):f,_,w;g!==f&&(m=g-f,g=f),u&&(f=d.barStart,g=d.barEnd-d.barStart,f!==0&&Gn(f)!==Gn(d.barEnd)&&(m=0),m+=f);const y=!xt(r)&&!u?r:m;let $=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(m+g):_=$,w=_-$,Math.abs(w)<a){w=qS(w,t,l)*a,f===l&&($-=w/2);const b=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),M=Math.min(b,S),E=Math.max(b,S);$=Math.max(Math.min($,E),M),_=$+w,n&&!u&&(c._stacks[t.axis]._visualValues[o]=t.getValueForPixel(_)-t.getValueForPixel($))}if($===t.getPixelForValue(l)){const b=Gn(w)*t.getLineWidthForValue(l)/2;$+=b,w-=b}return{size:w,base:$,head:_,center:_+w/2}}_calculateBarIndexPixels(e,t){const n=t.scale,o=this.options,r=o.skipNull,a=ht(o.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,f=o.barThickness==="flex"?VS(e,t,o,u*d):HS(e,t,o,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ht(m,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;l=f.start+f.chunk*_+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,o=n.length;let r=0;for(;r<o;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}Fe(cc,"id","bar"),Fe(cc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(cc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function JS(s,e,t){let n=1,o=1,r=0,a=0;if(e<Vt){const l=s,c=l+e,d=Math.cos(l),u=Math.sin(l),f=Math.cos(c),m=Math.sin(c),g=(S,M,E)=>Wa(S,l,c,!0)?1:Math.max(M,M*t,E,E*t),_=(S,M,E)=>Wa(S,l,c,!0)?-1:Math.min(M,M*t,E,E*t),w=g(0,d,f),y=g(ts,u,m),$=_(Ot,d,f),b=_(Ot+ts,u,m);n=(w-$)/2,o=(y-b)/2,r=-(w+$)/2,a=-(y+b)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:a}}class oa extends zi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let r=c=>+n[c];if(_t(n[e])){const{key:c="value"}=this._parsing;r=d=>+Vi(n[d],c)}let a,l;for(a=e,l=e+t;a<l;++a)o._parsed[a]=r(a)}}_getRotation(){return Yn(this.options.rotation-90)}_getCircumference(){return Yn(this.options.circumference)}_getRotationExtents(){let e=Vt,t=-Vt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),a=o._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,o=this._cachedMeta,r=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(a6(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:_,offsetY:w}=JS(f,u,c),y=(n.width-a)/m,$=(n.height-a)/g,b=Math.max(Math.min(y,$)/2,0),S=zv(this.options.radius,b),M=Math.max(S*c,0),E=(S-M)/this._getVisibleDatasetWeightTotal();this.offsetX=_*S,this.offsetY=w*S,o.total=this.calculateTotal(),this.outerRadius=S-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,o=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/Vt)}updateElements(e,t,n,o){const r=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=r&&d.animateScale,g=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:w,includeOptions:y}=this._getSharedOptions(t,o);let $=this._getRotation(),b;for(b=0;b<t;++b)$+=this._circumference(b,r);for(b=t;b<t+n;++b){const S=this._circumference(b,r),M=e[b],E={x:u+this.offsetX,y:f+this.offsetY,startAngle:$,endAngle:$+S,circumference:S,outerRadius:_,innerRadius:g};y&&(E.options=w||this.resolveDataElementOptions(b,M.active?"active":o)),$+=S,this.updateElement(M,b,E,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,o;for(o=0;o<t.length;o++){const r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Vt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Pd(t._parsed[e],n.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let o,r,a,l,c;if(!e){for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,o=e.length;n<o;++n){const r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ht(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe(oa,"id","doughnut"),Fe(oa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Fe(oa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Fe(oa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:o,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,d)=>{const f=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:f.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(d),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:n,borderRadius:a&&(l||f.borderRadius),index:d}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class dc extends zi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:c}=C6(t,o,a);this._drawStart=l,this._drawCount=c,S6(t)&&(l=0,c=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:d},e),this.updateElements(o,l,c,e)}updateElements(e,t,n,o){const r=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(t,o),m=a.axis,g=l.axis,{spanGaps:_,segment:w}=this.options,y=Va(_)?_:Number.POSITIVE_INFINITY,$=this.chart._animationsDisabled||r||o==="none",b=t+n,S=e.length;let M=t>0&&this.getParsed(t-1);for(let E=0;E<S;++E){const H=e[E],N=$?H:{};if(E<t||E>=b){N.skip=!0;continue}const F=this.getParsed(E),R=xt(F[g]),A=N[m]=a.getPixelForValue(F[m],E),ee=N[g]=r||R?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[g],E);N.skip=isNaN(A)||isNaN(ee)||R,N.stop=E>0&&Math.abs(F[m]-M[m])>y,w&&(N.parsed=F,N.raw=d.data[E]),f&&(N.options=u||this.resolveDataElementOptions(E,H.active?"active":o)),$||this.updateElement(H,E,N,o),M=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return n;const r=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Fe(dc,"id","line"),Fe(dc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Fe(dc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function bi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ep{constructor(e){Fe(this,"options");this.options=e||{}}static override(e){Object.assign(ep.prototype,e)}init(){}formats(){return bi()}parse(){return bi()}format(){return bi()}add(){return bi()}diff(){return bi()}startOf(){return bi()}endOf(){return bi()}}var QS={_date:ep};function ZS(s,e,t,n){const{controller:o,data:r,_sorted:a}=s,l=o._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const d=l._reversePixels?b6:Ri;if(n){if(o._sharedOptions){const u=r[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const m=d(r,e,t-f),g=d(r,e,t+f);return{lo:m.lo,hi:g.hi}}}}else{const u=d(r,e,t);if(c){const{vScale:f}=o._cachedMeta,{_parsed:m}=s,g=m.slice(0,u.lo+1).reverse().findIndex(w=>!xt(w[f.axis]));u.lo-=Math.max(0,g);const _=m.slice(u.hi).findIndex(w=>!xt(w[f.axis]));u.hi+=Math.max(0,_)}return u}}return{lo:0,hi:r.length-1}}function rl(s,e,t,n,o){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=r.length;l<c;++l){const{index:d,data:u}=r[l],{lo:f,hi:m}=ZS(r[l],e,a,o);for(let g=f;g<=m;++g){const _=u[g];_.skip||n(_,d,g)}}}function e8(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,o){const r=e?Math.abs(n.x-o.x):0,a=t?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ou(s,e,t,n,o){const r=[];return!o&&!s.isPointInArea(e)||rl(s,t,e,function(l,c,d){!o&&!_o(l,s.chartArea,0)||l.inRange(e.x,e.y,n)&&r.push({element:l,datasetIndex:c,index:d})},!0),r}function t8(s,e,t,n){let o=[];function r(a,l,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:f}=Hv(a,{x:e.x,y:e.y});Wa(f,d,u)&&o.push({element:a,datasetIndex:l,index:c})}return rl(s,t,e,r),o}function s8(s,e,t,n,o,r){let a=[];const l=e8(t);let c=Number.POSITIVE_INFINITY;function d(u,f,m){const g=u.inRange(e.x,e.y,o);if(n&&!g)return;const _=u.getCenterPoint(o);if(!(!!r||s.isPointInArea(_))&&!g)return;const y=l(e,_);y<c?(a=[{element:u,datasetIndex:f,index:m}],c=y):y===c&&a.push({element:u,datasetIndex:f,index:m})}return rl(s,t,e,d),a}function Ru(s,e,t,n,o,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?t8(s,e,t,o):s8(s,e,t,n,o,r)}function P0(s,e,t,n,o){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return rl(s,t,e,(c,d,u)=>{c[a]&&c[a](e[t],o)&&(r.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,o))}),n&&!l?[]:r}var n8={evaluateInteractionItems:rl,modes:{index(s,e,t,n){const o=Si(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Ou(s,o,r,n,a):Ru(s,o,r,!1,n,a),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(s,e,t,n){const o=Si(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Ou(s,o,r,n,a):Ru(s,o,r,!1,n,a);if(l.length>0){const c=l[0].datasetIndex,d=s.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(s,e,t,n){const o=Si(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ou(s,o,r,n,a)},nearest(s,e,t,n){const o=Si(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ru(s,o,r,t.intersect,n,a)},x(s,e,t,n){const o=Si(e,s);return P0(s,o,"x",t.intersect,n)},y(s,e,t,n){const o=Si(e,s);return P0(s,o,"y",t.intersect,n)}}};const hy=["left","top","right","bottom"];function Gr(s,e){return s.filter(t=>t.pos===e)}function O0(s,e){return s.filter(t=>hy.indexOf(t.pos)===-1&&t.box.axis===e)}function Xr(s,e){return s.sort((t,n)=>{const o=e?n:t,r=e?t:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function o8(s){const e=[];let t,n,o,r,a,l;for(t=0,n=(s||[]).length;t<n;++t)o=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=o,e.push({index:t,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:l});return e}function i8(s){const e={};for(const t of s){const{stack:n,pos:o,stackWeight:r}=t;if(!n||!hy.includes(o))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function r8(s,e){const t=i8(s),{vBoxMaxWidth:n,hBoxMaxHeight:o}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:c}=l.box,d=t[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=o):(l.width=n,l.height=u?u*o:c&&e.availableHeight)}return t}function a8(s){const e=o8(s),t=Xr(e.filter(d=>d.box.fullSize),!0),n=Xr(Gr(e,"left"),!0),o=Xr(Gr(e,"right")),r=Xr(Gr(e,"top"),!0),a=Xr(Gr(e,"bottom")),l=O0(e,"x"),c=O0(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:o.concat(c).concat(a).concat(l),chartArea:Gr(e,"chartArea"),vertical:n.concat(o).concat(c),horizontal:r.concat(a).concat(l)}}function R0(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function fy(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function l8(s,e,t,n){const{pos:o,box:r}=t,a=s.maxPadding;if(!_t(o)){t.size&&(s[o]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?r.height:r.width),t.size=f.size/f.count,s[o]+=t.size}r.getPadding&&fy(a,r.getPadding());const l=Math.max(0,e.outerWidth-R0(a,s,"left","right")),c=Math.max(0,e.outerHeight-R0(a,s,"top","bottom")),d=l!==s.w,u=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:d,other:u}:{same:u,other:d}}function c8(s){const e=s.maxPadding;function t(n){const o=Math.max(e[n]-s[n],0);return s[n]+=o,o}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function d8(s,e){const t=e.maxPadding;function n(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return n(s?["left","right"]:["top","bottom"])}function ia(s,e,t,n){const o=[];let r,a,l,c,d,u;for(r=0,a=s.length,d=0;r<a;++r){l=s[r],c=l.box,c.update(l.width||e.w,l.height||e.h,d8(l.horizontal,e));const{same:f,other:m}=l8(e,t,l,n);d|=f&&o.length,u=u||m,c.fullSize||o.push(l)}return d&&ia(o,e,t,n)||u}function Ol(s,e,t,n,o){s.top=t,s.left=e,s.right=e+n,s.bottom=t+o,s.width=n,s.height=o}function L0(s,e,t,n){const o=t.padding;let{x:r,y:a}=e;for(const l of s){const c=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const f=e.w*u,m=d.size||c.height;Ha(d.start)&&(a=d.start),c.fullSize?Ol(c,o.left,a,t.outerWidth-o.right-o.left,m):Ol(c,e.left+d.placed,a,f,m),d.start=a,d.placed+=f,a=c.bottom}else{const f=e.h*u,m=d.size||c.width;Ha(d.start)&&(r=d.start),c.fullSize?Ol(c,r,o.top,m,t.outerHeight-o.bottom-o.top):Ol(c,r,e.top+d.placed,m,f),d.start=r,d.placed+=f,r=c.right}}e.x=r,e.y=a}var qo={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const o=Ks(s.options.layout.padding),r=Math.max(e-o.width,0),a=Math.max(t-o.height,0),l=a8(s.boxes),c=l.vertical,d=l.horizontal;Et(s.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=c.reduce((w,y)=>y.box.options&&y.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),m=Object.assign({},o);fy(m,Ks(n));const g=Object.assign({maxPadding:m,w:r,h:a,x:o.left,y:o.top},o),_=r8(c.concat(d),f);ia(l.fullSize,g,f,_),ia(c,g,f,_),ia(d,g,f,_)&&ia(c,g,f,_),c8(g),L0(l.leftAndTop,g,f,_),g.x+=g.w,g.y+=g.h,L0(l.rightAndBottom,g,f,_),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Et(l.chartArea,w=>{const y=w.box;Object.assign(y,s.chartArea),y.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class py{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,o){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):n)}}isAttached(e){return!0}updateConfig(e){}}class u8 extends py{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uc="$chartjs",h8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},I0=s=>s===null||s==="";function f8(s,e){const t=s.style,n=s.getAttribute("height"),o=s.getAttribute("width");if(s[uc]={initial:{height:n,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",I0(o)){const r=y0(s,"width");r!==void 0&&(s.width=r)}if(I0(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=y0(s,"height");r!==void 0&&(s.height=r)}return s}const my=mS?{passive:!0}:!1;function p8(s,e,t){s&&s.addEventListener(e,t,my)}function m8(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,my)}function g8(s,e){const t=h8[s.type]||s.type,{x:n,y:o}=Si(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:o!==void 0?o:null}}function Vc(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function _8(s,e,t){const n=s.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Vc(l.addedNodes,n),a=a&&!Vc(l.removedNodes,n);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function v8(s,e,t){const n=s.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Vc(l.removedNodes,n),a=a&&!Vc(l.addedNodes,n);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ka=new Map;let j0=0;function gy(){const s=window.devicePixelRatio;s!==j0&&(j0=s,Ka.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function y8(s,e){Ka.size||window.addEventListener("resize",gy),Ka.set(s,e)}function b8(s){Ka.delete(s),Ka.size||window.removeEventListener("resize",gy)}function x8(s,e,t){const n=s.canvas,o=n&&Zf(n);if(!o)return;const r=Kv((l,c)=>{const d=o.clientWidth;t(l,c),d<o.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||r(d,u)});return a.observe(o),y8(s,r),a}function Lu(s,e,t){t&&t.disconnect(),e==="resize"&&b8(s)}function w8(s,e,t){const n=s.canvas,o=Kv(r=>{s.ctx!==null&&t(g8(r,s))},s);return p8(n,e,o),o}class k8 extends py{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(f8(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[uc])return!1;const n=t[uc].initial;["height","width"].forEach(r=>{const a=n[r];xt(a)?t.removeAttribute(r):t.setAttribute(r,a)});const o=n.style||{};return Object.keys(o).forEach(r=>{t.style[r]=o[r]}),t.width=t.width,delete t[uc],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),a={attach:_8,detach:v8,resize:x8}[t]||w8;o[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),o=n[t];if(!o)return;({attach:Lu,detach:Lu,resize:Lu}[t]||m8)(e,t,o),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,o){return pS(e,t,n,o)}isAttached(e){const t=e&&Zf(e);return!!(t&&t.isConnected)}}function $8(s){return!Qf()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?u8:k8}var Xl;let di=(Xl=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Va(this.x)&&Va(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const o={};return e.forEach(r=>{o[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),o}},Fe(Xl,"defaults",{}),Fe(Xl,"defaultRoutes"),Xl);function C8(s,e){const t=s.options.ticks,n=S8(s),o=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?T8(e):[],a=r.length,l=r[0],c=r[a-1],d=[];if(a>o)return D8(e,d,r,a/o),d;const u=M8(r,e,o);if(a>0){let f,m;const g=a>1?Math.round((c-l)/(a-1)):null;for(Rl(e,d,u,xt(g)?0:l-g,l),f=0,m=a-1;f<m;f++)Rl(e,d,u,r[f],r[f+1]);return Rl(e,d,u,c,xt(g)?e.length:c+g),d}return Rl(e,d,u),d}function S8(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),o=s._maxLength/t;return Math.floor(Math.min(n,o))}function M8(s,e,t){const n=A8(s),o=e.length/t;if(!n)return Math.max(o,1);const r=m6(n);for(let a=0,l=r.length-1;a<l;a++){const c=r[a];if(c>o)return c}return Math.max(o,1)}function T8(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function D8(s,e,t,n){let o=0,r=t[0],a;for(n=Math.ceil(n),a=0;a<s.length;a++)a===r&&(e.push(s[a]),o++,r=t[o*n])}function Rl(s,e,t,n,o){const r=ht(n,0),a=Math.min(ht(o,s.length),s.length);let l=0,c,d,u;for(t=Math.ceil(t),o&&(c=o-n,t=c/Math.floor(c/t)),u=r;u<0;)l++,u=Math.round(r+l*t);for(d=Math.max(r,0);d<a;d++)d===u&&(e.push(s[d]),l++,u=Math.round(r+l*t))}function A8(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const E8=s=>s==="left"?"right":s==="right"?"left":s,F0=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,N0=(s,e)=>Math.min(e||s,s);function z0(s,e){const t=[],n=s.length/e,o=s.length;let r=0;for(;r<o;r+=n)t.push(s[Math.floor(r)]);return t}function P8(s,e,t){const n=s.ticks.length,o=Math.min(e,n-1),r=s._startPixel,a=s._endPixel,l=1e-6;let c=s.getPixelForTick(o),d;if(!(t&&(n===1?d=Math.max(c-r,a-c):e===0?d=(s.getPixelForTick(1)-c)/2:d=(c-s.getPixelForTick(o-1))/2,c+=o<e?d:-d,c<r-l||c>a+l)))return c}function O8(s,e){Et(s,t=>{const n=t.gc,o=n.length/2;let r;if(o>e){for(r=0;r<o;++r)delete t.data[n[r]];n.splice(0,o)}})}function Jr(s){return s.drawTicks?s.tickLength:0}function B0(s,e){if(!s.display)return 0;const t=xs(s.font,e),n=Ks(s.padding);return(qt(s.text)?s.text.length:1)*t.lineHeight+n.height}function R8(s,e){return ci(s,{scale:e,type:"scale"})}function L8(s,e,t){return ci(s,{tick:t,index:e,type:"tick"})}function I8(s,e,t){let n=Yv(s);return(t&&e!=="right"||!t&&e==="right")&&(n=E8(n)),n}function j8(s,e,t,n){const{top:o,left:r,bottom:a,right:l,chart:c}=s,{chartArea:d,scales:u}=c;let f=0,m,g,_;const w=a-o,y=l-r;if(s.isHorizontal()){if(g=an(n,r,l),_t(t)){const $=Object.keys(t)[0],b=t[$];_=u[$].getPixelForValue(b)+w-e}else t==="center"?_=(d.bottom+d.top)/2+w-e:_=F0(s,t,e);m=l-r}else{if(_t(t)){const $=Object.keys(t)[0],b=t[$];g=u[$].getPixelForValue(b)-y+e}else t==="center"?g=(d.left+d.right)/2-y+e:g=F0(s,t,e);_=an(n,a,o),f=t==="left"?-ts:ts}return{titleX:g,titleY:_,maxWidth:m,rotation:f}}class Ki extends di{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:o}=this;return e=cn(e,Number.POSITIVE_INFINITY),t=cn(t,Number.NEGATIVE_INFINITY),n=cn(n,Number.POSITIVE_INFINITY),o=cn(o,Number.NEGATIVE_INFINITY),{min:cn(e,n),max:cn(t,o),minDefined:Jt(e),maxDefined:Jt(t)}}getMinMax(e){let{min:t,max:n,minDefined:o,maxDefined:r}=this.getUserBounds(),a;if(o&&r)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,e),o||(t=Math.min(t,a.min)),r||(n=Math.max(n,a.max));return t=r&&t>n?n:t,n=o&&t>n?t:n,{min:cn(t,cn(n,t)),max:cn(n,cn(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ut(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:o,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=q6(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?z0(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=C8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ut(this.options.afterUpdate,[this])}beforeSetDimensions(){Ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ut(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ut(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,o,r;for(n=0,o=e.length;n<o;n++)r=e[n],r.label=Ut(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=N0(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,r=t.maxRotation;let a=o,l,c,d;if(!this._isVisible()||!t.display||o>=r||n<=1||!this.isHorizontal()){this.labelRotation=o;return}const u=this._getLabelSizes(),f=u.widest.width,m=u.highest.height,g=Ls(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),f+6>l&&(l=g/(n-(e.offset?.5:1)),c=this.maxHeight-Jr(e.grid)-t.padding-B0(e.title,this.chart.options.font),d=Math.sqrt(f*f+m*m),a=Wf(Math.min(Math.asin(Ls((u.highest.height+6)/l,-1,1)),Math.asin(Ls(c/d,-1,1))-Math.asin(Ls(m/d,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ut(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:o,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=B0(o,t.options.font);if(l?(e.width=this.maxWidth,e.height=Jr(r)+c):(e.height=this.maxHeight,e.width=Jr(r)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:m}=this._getLabelSizes(),g=n.padding*2,_=Yn(this.labelRotation),w=Math.cos(_),y=Math.sin(_);if(l){const $=n.mirror?0:y*f.width+w*m.height;e.height=Math.min(this.maxHeight,e.height+$+g)}else{const $=n.mirror?0:w*f.width+y*m.height;e.width=Math.min(this.maxWidth,e.width+$+g)}this._calculatePadding(d,u,y,w)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,o){const{ticks:{align:r,padding:a},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?d?(m=o*e.width,g=n*t.height):(m=n*e.height,g=o*t.width):r==="start"?g=t.width:r==="end"?m=e.width:r!=="inner"&&(m=e.width/2,g=t.width/2),this.paddingLeft=Math.max((m-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let u=t.height/2,f=e.height/2;r==="start"?(u=0,f=e.height):r==="end"&&(u=t.height,f=0),this.paddingTop=u+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ut(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)xt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=z0(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:o,_longestTextCache:r}=this,a=[],l=[],c=Math.floor(t/N0(t,n));let d=0,u=0,f,m,g,_,w,y,$,b,S,M,E;for(f=0;f<t;f+=c){if(_=e[f].label,w=this._resolveTickFontOptions(f),o.font=y=w.string,$=r[y]=r[y]||{data:{},gc:[]},b=w.lineHeight,S=M=0,!xt(_)&&!qt(_))S=Uc(o,$.data,$.gc,S,_),M=b;else if(qt(_))for(m=0,g=_.length;m<g;++m)E=_[m],!xt(E)&&!qt(E)&&(S=Uc(o,$.data,$.gc,S,E),M+=b);a.push(S),l.push(M),d=Math.max(S,d),u=Math.max(M,u)}O8(r,t);const H=a.indexOf(d),N=l.indexOf(u),F=R=>({width:a[R]||0,height:l[R]||0});return{first:F(0),last:F(t-1),widest:F(H),highest:F(N),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return y6(this._alignToPixels?yi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=L8(this.getContext(),e,n))}return this.$context||(this.$context=R8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Yn(this.labelRotation),n=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*n>l*o?l/n:c/o:c*o<l*n?c/n:l/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,o=this.options,{grid:r,position:a,border:l}=o,c=r.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Jr(r),g=[],_=l.setContext(this.getContext()),w=_.display?_.width:0,y=w/2,$=function(ge){return yi(n,ge,w)};let b,S,M,E,H,N,F,R,A,ee,q,_e;if(a==="top")b=$(this.bottom),N=this.bottom-m,R=b-y,ee=$(e.top)+y,_e=e.bottom;else if(a==="bottom")b=$(this.top),ee=e.top,_e=$(e.bottom)-y,N=b+y,R=this.top+m;else if(a==="left")b=$(this.right),H=this.right-m,F=b-y,A=$(e.left)+y,q=e.right;else if(a==="right")b=$(this.left),A=e.left,q=$(e.right)-y,H=b+y,F=this.left+m;else if(t==="x"){if(a==="center")b=$((e.top+e.bottom)/2+.5);else if(_t(a)){const ge=Object.keys(a)[0],G=a[ge];b=$(this.chart.scales[ge].getPixelForValue(G))}ee=e.top,_e=e.bottom,N=b+y,R=N+m}else if(t==="y"){if(a==="center")b=$((e.left+e.right)/2);else if(_t(a)){const ge=Object.keys(a)[0],G=a[ge];b=$(this.chart.scales[ge].getPixelForValue(G))}H=b-y,F=H-m,A=e.left,q=e.right}const $e=ht(o.ticks.maxTicksLimit,f),ve=Math.max(1,Math.ceil(f/$e));for(S=0;S<f;S+=ve){const ge=this.getContext(S),G=r.setContext(ge),Q=l.setContext(ge),J=G.lineWidth,me=G.color,xe=Q.dash||[],Oe=Q.dashOffset,nt=G.tickWidth,ut=G.tickColor,ie=G.tickBorderDash||[],ye=G.tickBorderDashOffset;M=P8(this,S,c),M!==void 0&&(E=yi(n,M,J),d?H=F=A=q=E:N=R=ee=_e=E,g.push({tx1:H,ty1:N,tx2:F,ty2:R,x1:A,y1:ee,x2:q,y2:_e,width:J,color:me,borderDash:xe,borderDashOffset:Oe,tickWidth:nt,tickColor:ut,tickBorderDash:ie,tickBorderDashOffset:ye}))}return this._ticksLength=f,this._borderValue=b,g}_computeLabelItems(e){const t=this.axis,n=this.options,{position:o,ticks:r}=n,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=r,m=Jr(n.grid),g=m+u,_=f?-u:g,w=-Yn(this.labelRotation),y=[];let $,b,S,M,E,H,N,F,R,A,ee,q,_e="middle";if(o==="top")H=this.bottom-_,N=this._getXAxisLabelAlignment();else if(o==="bottom")H=this.top+_,N=this._getXAxisLabelAlignment();else if(o==="left"){const ve=this._getYAxisLabelAlignment(m);N=ve.textAlign,E=ve.x}else if(o==="right"){const ve=this._getYAxisLabelAlignment(m);N=ve.textAlign,E=ve.x}else if(t==="x"){if(o==="center")H=(e.top+e.bottom)/2+g;else if(_t(o)){const ve=Object.keys(o)[0],ge=o[ve];H=this.chart.scales[ve].getPixelForValue(ge)+g}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")E=(e.left+e.right)/2-g;else if(_t(o)){const ve=Object.keys(o)[0],ge=o[ve];E=this.chart.scales[ve].getPixelForValue(ge)}N=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?_e="top":c==="end"&&(_e="bottom"));const $e=this._getLabelSizes();for($=0,b=l.length;$<b;++$){S=l[$],M=S.label;const ve=r.setContext(this.getContext($));F=this.getPixelForTick($)+r.labelOffset,R=this._resolveTickFontOptions($),A=R.lineHeight,ee=qt(M)?M.length:1;const ge=ee/2,G=ve.color,Q=ve.textStrokeColor,J=ve.textStrokeWidth;let me=N;a?(E=F,N==="inner"&&($===b-1?me=this.options.reverse?"left":"right":$===0?me=this.options.reverse?"right":"left":me="center"),o==="top"?d==="near"||w!==0?q=-ee*A+A/2:d==="center"?q=-$e.highest.height/2-ge*A+A:q=-$e.highest.height+A/2:d==="near"||w!==0?q=A/2:d==="center"?q=$e.highest.height/2-ge*A:q=$e.highest.height-ee*A,f&&(q*=-1),w!==0&&!ve.showLabelBackdrop&&(E+=A/2*Math.sin(w))):(H=F,q=(1-ee)*A/2);let xe;if(ve.showLabelBackdrop){const Oe=Ks(ve.backdropPadding),nt=$e.heights[$],ut=$e.widths[$];let ie=q-Oe.top,ye=0-Oe.left;switch(_e){case"middle":ie-=nt/2;break;case"bottom":ie-=nt;break}switch(N){case"center":ye-=ut/2;break;case"right":ye-=ut;break;case"inner":$===b-1?ye-=ut:$>0&&(ye-=ut/2);break}xe={left:ye,top:ie,width:ut+Oe.width,height:nt+Oe.height,color:ve.backdropColor}}y.push({label:M,font:R,textOffset:q,options:{rotation:w,color:G,strokeColor:Q,strokeWidth:J,textAlign:me,textBaseline:_e,translation:[E,H],backdrop:xe}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Yn(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,c=a.widest.width;let d,u;return t==="left"?o?(u=this.right+r,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):t==="right"?o?(u=this.left+r,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:o,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,o,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=o.length;r<a;++r){const c=o[r];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:o}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const l=o.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,m;this.isHorizontal()?(d=yi(e,this.left,a)-a/2,u=yi(e,this.right,l)+l/2,f=m=c):(f=yi(e,this.top,a)-a/2,m=yi(e,this.bottom,l)+l/2,d=u=c),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,f),t.lineTo(u,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,o=this._computeLabelArea();o&&Rd(n,o);const r=this.getLabelItems(e);for(const a of r){const l=a.options,c=a.font,d=a.label,u=a.textOffset;kr(n,d,0,u,c,l)}o&&Ld(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:o}}=this;if(!n.display)return;const r=xs(n.font),a=Ks(n.padding),l=n.align;let c=r.lineHeight/2;t==="bottom"||t==="center"||_t(t)?(c+=a.bottom,qt(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:f,rotation:m}=j8(this,c,t,l);kr(e,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:m,textAlign:I8(l,t,o),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ht(e.grid&&e.grid.z,-1),o=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ki.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[n]===this.id&&(!e||l.type===e)&&o.push(l)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return xs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ll{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;z8(t)&&(n=this.register(t));const o=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,F8(e,a,n),this.override&&Qt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,o=this.scope;n in t&&delete t[n],o&&n in Qt[o]&&(delete Qt[o][n],this.override&&delete Wi[n])}}function F8(s,e,t){const n=Ua(Object.create(null),[t?Qt.get(t):{},Qt.get(e),s.defaults]);Qt.set(e,n),s.defaultRoutes&&N8(e,s.defaultRoutes),s.descriptors&&Qt.describe(e,s.descriptors)}function N8(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),o=n.pop(),r=[s].concat(n).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");Qt.route(r,o,c,l)})}function z8(s){return"id"in s&&"defaults"in s}class B8{constructor(){this.controllers=new Ll(zi,"datasets",!0),this.elements=new Ll(di,"elements"),this.plugins=new Ll(Object,"plugins"),this.scales=new Ll(Ki,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(o=>{const r=n||this._getRegistryForType(o);n||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):Et(o,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,n){const o=Vf(e);Ut(n["before"+o],[],n),t[e](n),Ut(n["after"+o],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return o}}var Wn=new B8;class U8{constructor(){this._init=void 0}notify(e,t,n,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,o){o=o||{};for(const r of e){const a=r.plugin,l=a[n],c=[t,o,r.options];if(Ut(l,c,a)===!1&&o.cancelable)return!1}return!0}invalidate(){xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,o=ht(n.options&&n.options.plugins,{}),r=H8(n);return o===!1&&!t?[]:W8(e,r,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,o=(r,a)=>r.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(o(t,n),e,"stop"),this._notify(o(n,t),e,"start")}}function H8(s){const e={},t=[],n=Object.keys(Wn.plugins.items);for(let r=0;r<n.length;r++)t.push(Wn.getPlugin(n[r]));const o=s.plugins||[];for(let r=0;r<o.length;r++){const a=o[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function V8(s,e){return!e&&s===!1?null:s===!0?{}:s}function W8(s,{plugins:e,localIds:t},n,o){const r=[],a=s.getContext();for(const l of e){const c=l.id,d=V8(n[c],o);d!==null&&r.push({plugin:l,options:q8(s.config,{plugin:l,local:t[c]},d,a)})}return r}function q8(s,{plugin:e,local:t},n,o){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(n,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ih(s,e){const t=Qt.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function K8(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function Y8(s,e){return s===e?"_index_":"_value_"}function U0(s){if(s==="x"||s==="y"||s==="r")return s}function G8(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function jh(s,...e){if(U0(s))return s;for(const t of e){const n=t.axis||G8(t.position)||s.length>1&&U0(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function H0(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function X8(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return H0(s,"x",t[0])||H0(s,"y",t[0])}return{}}function J8(s,e){const t=Wi[s.type]||{scales:{}},n=e.scales||{},o=Ih(s.type,e),r=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!_t(l)||l._proxy)return;const c=jh(a,l,X8(a,s),Qt.scales[l.type]),d=Y8(c,o),u=t.scales||{};r[a]=wa(Object.create(null),[{axis:c},l,u[c],u[d]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,c=a.indexAxis||Ih(l,e),u=(Wi[l]||{}).scales||{};Object.keys(u).forEach(f=>{const m=K8(f,c),g=a[m+"AxisID"]||m;r[g]=r[g]||Object.create(null),wa(r[g],[{axis:m},n[g],u[f]])})}),Object.keys(r).forEach(a=>{const l=r[a];wa(l,[Qt.scales[l.type],Qt.scale])}),r}function _y(s){const e=s.options||(s.options={});e.plugins=ht(e.plugins,{}),e.scales=J8(s,e)}function vy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Q8(s){return s=s||{},s.data=vy(s.data),_y(s),s}const V0=new Map,yy=new Set;function Il(s,e){let t=V0.get(s);return t||(t=e(),V0.set(s,t),yy.add(t)),t}const Qr=(s,e,t)=>{const n=Vi(e,t);n!==void 0&&s.add(n)};class Z8{constructor(e){this._config=Q8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_y(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Il(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Il(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Il(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Il(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let o=n.get(e);return(!o||t)&&(o=new Map,n.set(e,o)),o}getOptionScopes(e,t,n){const{options:o,type:r}=this,a=this._cachedScopes(e,n),l=a.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(f=>Qr(c,e,f))),u.forEach(f=>Qr(c,o,f)),u.forEach(f=>Qr(c,Wi[r]||{},f)),u.forEach(f=>Qr(c,Qt,f)),u.forEach(f=>Qr(c,Rh,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),yy.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Wi[t]||{},Qt.datasets[t]||{},{type:t},Qt,Rh]}resolveNamedOptions(e,t,n,o=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=W0(this._resolverCache,e,o);let c=a;if(t7(a,t)){r.$shared=!1,n=ni(n)?n():n;const d=this.createResolver(e,n,l);c=$r(a,n,d)}for(const d of t)r[d]=c[d];return r}createResolver(e,t,n=[""],o){const{resolver:r}=W0(this._resolverCache,e,n);return _t(t)?$r(r,t,void 0,o):r}}function W0(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const o=t.join();let r=n.get(o);return r||(r={resolver:Gf(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(o,r)),r}const e7=s=>_t(s)&&Object.getOwnPropertyNames(s).some(e=>ni(s[e]));function t7(s,e){const{isScriptable:t,isIndexable:n}=Qv(s);for(const o of e){const r=t(o),a=n(o),l=(a||r)&&s[o];if(r&&(ni(l)||e7(l))||a&&qt(l))return!0}return!1}var s7="4.5.1";const n7=["top","bottom","left","right","chartArea"];function q0(s,e){return s==="top"||s==="bottom"||n7.indexOf(s)===-1&&e==="x"}function K0(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function Y0(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ut(t&&t.onComplete,[s],e)}function o7(s){const e=s.chart,t=e.options.animation;Ut(t&&t.onProgress,[s],e)}function by(s){return Qf()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const hc={},G0=s=>{const e=by(s);return Object.values(hc).filter(t=>t.canvas===e).pop()};function i7(s,e,t){const n=Object.keys(s);for(const o of n){const r=+o;if(r>=e){const a=s[o];delete s[o],(t>0||r>e)&&(s[r+t]=a)}}}function r7(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}class un{static register(...e){Wn.add(...e),X0()}static unregister(...e){Wn.remove(...e),X0()}constructor(e,t){const n=this.config=new Z8(t),o=by(e),r=G0(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||$8(o)),this.platform.updateConfig(n);const l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;this.id=r6(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new U8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=k6(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],hc[this.id]=this,!(!l||!c)&&(ao.listen(this,"complete",Y0),ao.listen(this,"progress",o7),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:o,_aspectRatio:r}=this;return xt(e)?t&&r?r:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():v0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return m0(this.canvas,this.ctx),this}stop(){return ao.stop(this),this}resize(e,t){ao.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,t,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,v0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Ut(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Et(t,(n,o)=>{n.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],c=jh(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Et(r,a=>{const l=a.options,c=l.id,d=jh(c,l),u=ht(l.type,a.dtype);(l.position===void 0||q0(l.position,d)!==q0(a.dposition))&&(l.position=a.dposition),o[c]=!0;let f=null;if(c in n&&n[c].type===u)f=n[c];else{const m=Wn.getScale(u);f=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),Et(o,(a,l)=>{a||delete n[l]}),Et(n,a=>{qo.configure(this,a,a.options),qo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((o,r)=>o.index-r.index),n>t){for(let o=t;o<n;++o)this._destroyDatasetMeta(o);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(K0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,o)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=t.length;n<o;n++){const r=t[n];let a=this.getDatasetMeta(n);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||Ih(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=Wn.getController(l),{datasetElementType:d,dataElementType:u}=Qt.datasets[l];Object.assign(c,{dataElementType:Wn.getElement(u),datasetElementType:d&&Wn.getElement(d)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Et(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),m=!o&&r.indexOf(f)===-1;f.buildOrUpdateElements(m),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||Et(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(K0("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Et(this.scales,e=>{qo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!r0(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:r}of t){const a=n==="_removeElements"?-r:r;i7(e,o,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let r=1;r<t;r++)if(!r0(o,n(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qo.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Et(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ni(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),o={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ao.has(this)?this.attached&&!ao.running(this)&&ao.start(this):(this.draw(),Y0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let o,r;for(o=0,r=t.length;o<r;++o){const a=t[o];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},o=ly(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(o&&Rd(t,o),e.controller.draw(),o&&Ld(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return _o(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,o){const r=n8.modes[t];return typeof r=="function"?r(this,e,n,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let o=n.filter(r=>r&&r._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=ci(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const o=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,o);Ha(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ao.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),m0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete hc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Et(this.options.events,r=>n(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},o=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Et(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Et(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const o=n?"set":"remove";let r,a,l,c;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Nc(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const o=this.options.hover,r=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),a=r(t,e),l=n?e:r(e,t);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:o=[],options:r}=this,a=t,l=this._getActiveElements(e,o,n,a),c=h6(e),d=r7(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Ut(r.onHover,[e,l,this],this),c&&Ut(r.onClick,[e,l,this],this));const u=!Nc(l,o);return(u||t)&&(this._active=l,this._updateHoverStyles(l,o,t)),this._lastEvent=d,u}_getActiveElements(e,t,n,o){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}}Fe(un,"defaults",Qt),Fe(un,"instances",hc),Fe(un,"overrides",Wi),Fe(un,"registry",Wn),Fe(un,"version",s7),Fe(un,"getChart",G0);function X0(){return Et(un.instances,s=>s._plugins.invalidate())}function a7(s,e,t){const{startAngle:n,x:o,y:r,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/a,As(n-t));if(s.beginPath(),s.arc(o,r,a-d/2,n+f/2,t-f/2),l>0){const m=Math.min(d/l,As(n-t));s.arc(o,r,l+d/2,t-m/2,n+m/2,!0)}else{const m=Math.min(d/2,a*As(n-t));if(u==="round")s.arc(o,r,m,t-Ot/2,n+Ot/2,!0);else if(u==="bevel"){const g=2*m*m,_=-g*Math.cos(t+Ot/2)+o,w=-g*Math.sin(t+Ot/2)+r,y=g*Math.cos(n+Ot/2)+o,$=g*Math.sin(n+Ot/2)+r;s.lineTo(_,w),s.lineTo(y,$)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function l7(s,e,t){const{startAngle:n,pixelMargin:o,x:r,y:a,outerRadius:l,innerRadius:c}=e;let d=o/l;s.beginPath(),s.arc(r,a,l,n-d,t+d),c>o?(d=o/c,s.arc(r,a,c,t+d,n-d,!0)):s.arc(r,a,o,t+ts,n-ts),s.closePath(),s.clip()}function c7(s){return Yf(s,["outerStart","outerEnd","innerStart","innerEnd"])}function d7(s,e,t,n){const o=c7(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,n*e/2),l=c=>{const d=(t-Math.min(r,c))*n/2;return Ls(c,0,Math.min(r,d))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:Ls(o.innerStart,0,a),innerEnd:Ls(o.innerEnd,0,a)}}function tr(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function Wc(s,e,t,n,o,r){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,f=Math.max(e.outerRadius+n+t-d,0),m=u>0?u+n+t+d:0;let g=0;const _=o-c;if(n){const ve=u>0?u-n:0,ge=f>0?f-n:0,G=(ve+ge)/2,Q=G!==0?_*G/(G+n):_;g=(_-Q)/2}const w=Math.max(.001,_*f-t/Ot)/f,y=(_-w)/2,$=c+y+g,b=o-y-g,{outerStart:S,outerEnd:M,innerStart:E,innerEnd:H}=d7(e,m,f,b-$),N=f-S,F=f-M,R=$+S/N,A=b-M/F,ee=m+E,q=m+H,_e=$+E/ee,$e=b-H/q;if(s.beginPath(),r){const ve=(R+A)/2;if(s.arc(a,l,f,R,ve),s.arc(a,l,f,ve,A),M>0){const J=tr(F,A,a,l);s.arc(J.x,J.y,M,A,b+ts)}const ge=tr(q,b,a,l);if(s.lineTo(ge.x,ge.y),H>0){const J=tr(q,$e,a,l);s.arc(J.x,J.y,H,b+ts,$e+Math.PI)}const G=(b-H/m+($+E/m))/2;if(s.arc(a,l,m,b-H/m,G,!0),s.arc(a,l,m,G,$+E/m,!0),E>0){const J=tr(ee,_e,a,l);s.arc(J.x,J.y,E,_e+Math.PI,$-ts)}const Q=tr(N,$,a,l);if(s.lineTo(Q.x,Q.y),S>0){const J=tr(N,R,a,l);s.arc(J.x,J.y,S,$-ts,R)}}else{s.moveTo(a,l);const ve=Math.cos(R)*f+a,ge=Math.sin(R)*f+l;s.lineTo(ve,ge);const G=Math.cos(A)*f+a,Q=Math.sin(A)*f+l;s.lineTo(G,Q)}s.closePath()}function u7(s,e,t,n,o){const{fullCircles:r,startAngle:a,circumference:l}=e;let c=e.endAngle;if(r){Wc(s,e,t,n,c,o);for(let d=0;d<r;++d)s.fill();isNaN(l)||(c=a+(l%Vt||Vt))}return Wc(s,e,t,n,c,o),s.fill(),c}function h7(s,e,t,n,o){const{fullCircles:r,startAngle:a,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:m,borderRadius:g}=c,_=c.borderAlign==="inner";if(!d)return;s.setLineDash(f||[]),s.lineDashOffset=m,_?(s.lineWidth=d*2,s.lineJoin=u||"round"):(s.lineWidth=d,s.lineJoin=u||"bevel");let w=e.endAngle;if(r){Wc(s,e,t,n,w,o);for(let y=0;y<r;++y)s.stroke();isNaN(l)||(w=a+(l%Vt||Vt))}_&&l7(s,e,w),c.selfJoin&&w-a>=Ot&&g===0&&u!=="miter"&&a7(s,e,w),r||(Wc(s,e,t,n,w,o),s.stroke())}class ra extends di{constructor(t){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,o){const r=this.getProps(["x","y"],o),{angle:a,distance:l}=Hv(r,{x:t,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),g=(this.options.spacing+this.options.borderWidth)/2,_=ht(m,d-c),w=Wa(a,c,d)&&c!==d,y=_>=Vt||w,$=go(l,u+g,f+g);return y&&$}getCenterPoint(t){const{x:n,y:o,startAngle:r,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:u}=this.options,f=(r+a)/2,m=(l+c+u+d)/2;return{x:n+Math.cos(f)*m,y:o+Math.sin(f)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:o}=this,r=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=o>Vt?Math.floor(o/Vt):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*r,Math.sin(c)*r);const d=1-Math.sin(Math.min(Ot,o||0)),u=r*d;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,u7(t,this,u,a,l),h7(t,this,u,a,l),t.restore()}}Fe(ra,"id","arc"),Fe(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Fe(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(ra,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function xy(s,e,t=e){s.lineCap=ht(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ht(t.borderDash,e.borderDash)),s.lineDashOffset=ht(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ht(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ht(t.borderWidth,e.borderWidth),s.strokeStyle=ht(t.borderColor,e.borderColor)}function f7(s,e,t){s.lineTo(t.x,t.y)}function p7(s){return s.stepped?j6:s.tension||s.cubicInterpolationMode==="monotone"?F6:f7}function wy(s,e,t={}){const n=s.length,{start:o=0,end:r=n-1}=t,{start:a,end:l}=e,c=Math.max(o,a),d=Math.min(r,l),u=o<a&&r<a||o>l&&r>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function m7(s,e,t,n){const{points:o,options:r}=e,{count:a,start:l,loop:c,ilen:d}=wy(o,t,n),u=p7(r);let{move:f=!0,reverse:m}=n||{},g,_,w;for(g=0;g<=d;++g)_=o[(l+(m?d-g:g))%a],!_.skip&&(f?(s.moveTo(_.x,_.y),f=!1):u(s,w,_,m,r.stepped),w=_);return c&&(_=o[(l+(m?d:0))%a],u(s,w,_,m,r.stepped)),!!c}function g7(s,e,t,n){const o=e.points,{count:r,start:a,ilen:l}=wy(o,t,n),{move:c=!0,reverse:d}=n||{};let u=0,f=0,m,g,_,w,y,$;const b=M=>(a+(d?l-M:M))%r,S=()=>{w!==y&&(s.lineTo(u,y),s.lineTo(u,w),s.lineTo(u,$))};for(c&&(g=o[b(0)],s.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=o[b(m)],g.skip)continue;const M=g.x,E=g.y,H=M|0;H===_?(E<w?w=E:E>y&&(y=E),u=(f*u+M)/++f):(S(),s.lineTo(M,E),_=H,f=0,w=y=E),$=E}S()}function Fh(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?g7:m7}function _7(s){return s.stepped?gS:s.tension||s.cubicInterpolationMode==="monotone"?_S:Mi}function v7(s,e,t,n){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,n)&&o.closePath()),xy(s,e.options),s.stroke(o)}function y7(s,e,t,n){const{segments:o,options:r}=e,a=Fh(e);for(const l of o)xy(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const b7=typeof Path2D=="function";function x7(s,e,t,n){b7&&!e.options.segment?v7(s,e,t,n):y7(s,e,t,n)}class Ko extends di{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const o=n.spanGaps?this._loop:this._fullLoop;lS(this._points,n,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kS(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,o=e[t],r=this.points,a=ay(this,{property:t,start:o,end:o});if(!a.length)return;const l=[],c=_7(n);let d,u;for(d=0,u=a.length;d<u;++d){const{start:f,end:m}=a[d],g=r[f],_=r[m];if(g===_){l.push(g);continue}const w=Math.abs((o-g[t])/(_[t]-g[t])),y=c(g,_,w,n.stepped);y[t]=e[t],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,t,n){return Fh(this)(e,this,t,n)}path(e,t,n){const o=this.segments,r=Fh(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const l of o)a&=r(e,this,l,{start:t,end:t+n-1});return!!a}draw(e,t,n,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),x7(e,this,n,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Fe(Ko,"id","line"),Fe(Ko,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Fe(Ko,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Fe(Ko,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function J0(s,e,t,n){const o=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<o.radius+o.hitRadius}class fc extends di{constructor(t){super();Fe(this,"parsed");Fe(this,"skip");Fe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,o){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],o);return Math.pow(t-a,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return J0(this,t,"x",n)}inYRange(t,n){return J0(this,t,"y",n)}getCenterPoint(t){const{x:n,y:o}=this.getProps(["x","y"],t);return{x:n,y:o}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const o=n&&t.borderWidth||0;return(n+o)*2}draw(t,n){const o=this.options;this.skip||o.radius<.1||!_o(this,n,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,Lh(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Fe(fc,"id","point"),Fe(fc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Fe(fc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ky(s,e){const{x:t,y:n,base:o,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,c,d,u,f;return s.horizontal?(f=a/2,l=Math.min(t,o),c=Math.max(t,o),d=n-f,u=n+f):(f=r/2,l=t-f,c=t+f,d=Math.min(n,o),u=Math.max(n,o)),{left:l,top:d,right:c,bottom:u}}function Yo(s,e,t,n){return s?0:Ls(e,t,n)}function w7(s,e,t){const n=s.options.borderWidth,o=s.borderSkipped,r=Jv(n);return{t:Yo(o.top,r.top,0,t),r:Yo(o.right,r.right,0,e),b:Yo(o.bottom,r.bottom,0,t),l:Yo(o.left,r.left,0,e)}}function k7(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),o=s.options.borderRadius,r=Fi(o),a=Math.min(e,t),l=s.borderSkipped,c=n||_t(o);return{topLeft:Yo(!c||l.top||l.left,r.topLeft,0,a),topRight:Yo(!c||l.top||l.right,r.topRight,0,a),bottomLeft:Yo(!c||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:Yo(!c||l.bottom||l.right,r.bottomRight,0,a)}}function $7(s){const e=ky(s),t=e.right-e.left,n=e.bottom-e.top,o=w7(s,t/2,n/2),r=k7(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function Iu(s,e,t,n){const o=e===null,r=t===null,l=s&&!(o&&r)&&ky(s,n);return l&&(o||go(e,l.left,l.right))&&(r||go(t,l.top,l.bottom))}function C7(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function S7(s,e){s.rect(e.x,e.y,e.w,e.h)}function ju(s,e,t={}){const n=s.x!==t.x?-e:0,o=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,a=(s.y+s.h!==t.y+t.h?e:0)-o;return{x:s.x+n,y:s.y+o,w:s.w+r,h:s.h+a,radius:s.radius}}class pc extends di{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:o}}=this,{inner:r,outer:a}=$7(this),l=C7(a.radius)?qa:S7;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,ju(a,t,r)),e.clip(),l(e,ju(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,ju(r,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,n){return Iu(this,e,t,n)}inXRange(e,t){return Iu(this,e,null,t)}inYRange(e,t){return Iu(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+o)/2:t,y:r?n:(n+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Fe(pc,"id","bar"),Fe(pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function M7(s,e,t){const n=s.segments,o=s.points,r=e.points,a=[];for(const l of n){let{start:c,end:d}=l;d=jd(c,d,o);const u=Nh(t,o[c],o[d],l.loop);if(!e.segments){a.push({source:l,target:u,start:o[c],end:o[d]});continue}const f=ay(e,u);for(const m of f){const g=Nh(t,r[m.start],r[m.end],m.loop),_=ry(l,o,g);for(const w of _)a.push({source:w,target:m,start:{[t]:Q0(u,g,"start",Math.max)},end:{[t]:Q0(u,g,"end",Math.min)}})}}return a}function Nh(s,e,t,n){if(n)return;let o=e[s],r=t[s];return s==="angle"&&(o=As(o),r=As(r)),{property:s,start:o,end:r}}function T7(s,e){const{x:t=null,y:n=null}=s||{},o=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=jd(a,l,o);const c=o[a],d=o[l];n!==null?(r.push({x:c.x,y:n}),r.push({x:d.x,y:n})):t!==null&&(r.push({x:t,y:c.y}),r.push({x:t,y:d.y}))}),r}function jd(s,e,t){for(;e>s;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Q0(s,e,t,n){return s&&e?n(s[t],e[t]):s?s[t]:e?e[t]:0}function $y(s,e){let t=[],n=!1;return qt(s)?(n=!0,t=s):t=T7(s,e),t.length?new Ko({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Z0(s){return s&&s.fill!==!1}function D7(s,e,t){let o=s[e].fill;const r=[e];let a;if(!t)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!Jt(o))return o;if(a=s[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function A7(s,e,t){const n=R7(s);if(_t(n))return isNaN(n.value)?!1:n;let o=parseFloat(n);return Jt(o)&&Math.floor(o)===o?E7(n[0],e,o,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function E7(s,e,t,n){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function P7(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:_t(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function O7(s,e,t){let n;return s==="start"?n=t:s==="end"?n=e.options.reverse?e.min:e.max:_t(s)?n=s.value:n=e.getBaseValue(),n}function R7(s){const e=s.options,t=e.fill;let n=ht(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function L7(s){const{scale:e,index:t,line:n}=s,o=[],r=n.segments,a=n.points,l=I7(e,t);l.push($y({x:null,y:e.bottom},n));for(let c=0;c<r.length;c++){const d=r[c];for(let u=d.start;u<=d.end;u++)j7(o,a[u],l)}return new Ko({points:o,options:{}})}function I7(s,e){const t=[],n=s.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const r=n[o];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function j7(s,e,t){const n=[];for(let o=0;o<t.length;o++){const r=t[o],{first:a,last:l,point:c}=F7(r,e,"x");if(!(!c||a&&l)){if(a)n.unshift(c);else if(s.push(c),!l)break}}s.push(...n)}function F7(s,e,t){const n=s.interpolate(e,t);if(!n)return{};const o=n[t],r=s.segments,a=s.points;let l=!1,c=!1;for(let d=0;d<r.length;d++){const u=r[d],f=a[u.start][t],m=a[u.end][t];if(go(o,f,m)){l=o===f,c=o===m;break}}return{first:l,last:c,point:n}}class Cy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:o,y:r,radius:a}=this;return t=t||{start:0,end:Vt},e.arc(o,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:o}=this,r=e.angle;return{x:t+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}}function N7(s){const{chart:e,fill:t,line:n}=s;if(Jt(t))return z7(e,t);if(t==="stack")return L7(s);if(t==="shape")return!0;const o=B7(s);return o instanceof Cy?o:$y(o,n)}function z7(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function B7(s){return(s.scale||{}).getPointPositionForValue?H7(s):U7(s)}function U7(s){const{scale:e={},fill:t}=s,n=P7(t,e);if(Jt(n)){const o=e.isHorizontal();return{x:o?n:null,y:o?null:n}}return null}function H7(s){const{scale:e,fill:t}=s,n=e.options,o=e.getLabels().length,r=n.reverse?e.max:e.min,a=O7(t,e,r),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,r);return new Cy({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<o;++c)l.push(e.getPointPositionForValue(c,a));return l}function Fu(s,e,t){const n=N7(e),{chart:o,index:r,line:a,scale:l,axis:c}=e,d=a.options,u=d.fill,f=d.backgroundColor,{above:m=f,below:g=f}=u||{},_=o.getDatasetMeta(r),w=ly(o,_);n&&a.points.length&&(Rd(s,t),V7(s,{line:a,target:n,above:m,below:g,area:t,scale:l,axis:c,clip:w}),Ld(s))}function V7(s,e){const{line:t,target:n,above:o,below:r,area:a,scale:l,clip:c}=e,d=t._loop?"angle":e.axis;s.save();let u=r;r!==o&&(d==="x"?(eg(s,n,a.top),Nu(s,{line:t,target:n,color:o,scale:l,property:d,clip:c}),s.restore(),s.save(),eg(s,n,a.bottom)):d==="y"&&(tg(s,n,a.left),Nu(s,{line:t,target:n,color:r,scale:l,property:d,clip:c}),s.restore(),s.save(),tg(s,n,a.right),u=o)),Nu(s,{line:t,target:n,color:u,scale:l,property:d,clip:c}),s.restore()}function eg(s,e,t){const{segments:n,points:o}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:c,end:d}=l,u=o[c],f=o[jd(c,d,o)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(u.x,t),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(f.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function tg(s,e,t){const{segments:n,points:o}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:c,end:d}=l,u=o[c],f=o[jd(c,d,o)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(t,u.y),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(t,f.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function Nu(s,e){const{line:t,target:n,property:o,color:r,scale:a,clip:l}=e,c=M7(t,n,o);for(const{source:d,target:u,start:f,end:m}of c){const{style:{backgroundColor:g=r}={}}=d,_=n!==!0;s.save(),s.fillStyle=g,W7(s,a,l,_&&Nh(o,f,m)),s.beginPath();const w=!!t.pathSegment(s,d);let y;if(_){w?s.closePath():sg(s,n,m,o);const $=!!n.pathSegment(s,u,{move:w,reverse:!0});y=w&&$,y||sg(s,n,f,o)}s.closePath(),s.fill(y?"evenodd":"nonzero"),s.restore()}}function W7(s,e,t,n){const o=e.chart.chartArea,{property:r,start:a,end:l}=n||{};if(r==="x"||r==="y"){let c,d,u,f;r==="x"?(c=a,d=o.top,u=l,f=o.bottom):(c=o.left,d=a,u=o.right,f=l),s.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),d=Math.max(d,t.top),f=Math.min(f,t.bottom)),s.rect(c,d,u-c,f-d),s.clip()}}function sg(s,e,t,n){const o=e.interpolate(t,n);o&&s.lineTo(o.x,o.y)}var q7={id:"filler",afterDatasetsUpdate(s,e,t){const n=(s.data.datasets||[]).length,o=[];let r,a,l,c;for(a=0;a<n;++a)r=s.getDatasetMeta(a),l=r.dataset,c=null,l&&l.options&&l instanceof Ko&&(c={visible:s.isDatasetVisible(a),index:a,fill:A7(l,a,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,o.push(c);for(a=0;a<n;++a)c=o[a],!(!c||c.fill===!1)&&(c.fill=D7(o,a,t.propagate))},beforeDraw(s,e,t){const n=t.drawTime==="beforeDraw",o=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=o.length-1;a>=0;--a){const l=o[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&Fu(s.ctx,l,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const r=n[o].$filler;Z0(r)&&Fu(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const n=e.meta.$filler;!Z0(n)||t.drawTime!=="beforeDatasetDraw"||Fu(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ng=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},K7=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class og extends di{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ut(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,o)=>e.sort(n,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,o=xs(n.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=ng(n,r);let d,u;t.font=o.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,r,l,c)+10):(u=this.maxHeight,d=this._fitCols(a,o,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,o){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=o+l;let f=e;r.textAlign="left",r.textBaseline="middle";let m=-1,g=-u;return this.legendItems.forEach((_,w)=>{const y=n+t/2+r.measureText(_.text).width;(w===0||d[d.length-1]+y+2*l>a)&&(f+=u,d[d.length-(w>0?0:1)]=0,g+=u,m++),c[w]={left:0,top:g,row:m,width:y,height:o},d[d.length-1]+=y+l}),f}_fitCols(e,t,n,o){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-e;let f=l,m=0,g=0,_=0,w=0;return this.legendItems.forEach((y,$)=>{const{itemWidth:b,itemHeight:S}=Y7(n,t,r,y,o);$>0&&g+S+2*l>u&&(f+=m+l,d.push({width:m,height:g}),_+=m+l,w++,m=g=0),c[$]={left:_,top:g,col:w,width:b,height:S},m=Math.max(m,b),g+=S+l}),f+=m,d.push({width:m,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:o},rtl:r}}=this,a=fr(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=an(n,this.left+o,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=an(n,this.left+o,this.right-this.lineWidths[l])),d.top+=this.top+e+o,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+o}else{let l=0,c=an(n,this.top+e+o,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=an(n,this.top+e+o,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+o,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rd(e,this),this._draw(),Ld(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:o}=this,{align:r,labels:a}=e,l=Qt.color,c=fr(e.rtl,this.left,this.width),d=xs(a.font),{padding:u}=a,f=d.size,m=f/2;let g;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:_,boxHeight:w,itemHeight:y}=ng(a,f),$=function(H,N,F){if(isNaN(_)||_<=0||isNaN(w)||w<0)return;o.save();const R=ht(F.lineWidth,1);if(o.fillStyle=ht(F.fillStyle,l),o.lineCap=ht(F.lineCap,"butt"),o.lineDashOffset=ht(F.lineDashOffset,0),o.lineJoin=ht(F.lineJoin,"miter"),o.lineWidth=R,o.strokeStyle=ht(F.strokeStyle,l),o.setLineDash(ht(F.lineDash,[])),a.usePointStyle){const A={radius:w*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:R},ee=c.xPlus(H,_/2),q=N+m;Xv(o,A,ee,q,a.pointStyleWidth&&_)}else{const A=N+Math.max((f-w)/2,0),ee=c.leftForLtr(H,_),q=Fi(F.borderRadius);o.beginPath(),Object.values(q).some(_e=>_e!==0)?qa(o,{x:ee,y:A,w:_,h:w,radius:q}):o.rect(ee,A,_,w),o.fill(),R!==0&&o.stroke()}o.restore()},b=function(H,N,F){kr(o,F.text,H,N+y/2,d,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},S=this.isHorizontal(),M=this._computeTitleHeight();S?g={x:an(r,this.left+u,this.right-n[0]),y:this.top+u+M,line:0}:g={x:this.left+u,y:an(r,this.top+M+u,this.bottom-t[0].height),line:0},ny(this.ctx,e.textDirection);const E=y+u;this.legendItems.forEach((H,N)=>{o.strokeStyle=H.fontColor,o.fillStyle=H.fontColor;const F=o.measureText(H.text).width,R=c.textAlign(H.textAlign||(H.textAlign=a.textAlign)),A=_+m+F;let ee=g.x,q=g.y;c.setWidth(this.width),S?N>0&&ee+A+u>this.right&&(q=g.y+=E,g.line++,ee=g.x=an(r,this.left+u,this.right-n[g.line])):N>0&&q+E>this.bottom&&(ee=g.x=ee+t[g.line].width+u,g.line++,q=g.y=an(r,this.top+M+u,this.bottom-t[g.line].height));const _e=c.x(ee);if($(_e,q,H),ee=$6(R,ee+_+m,S?ee+A:this.right,e.rtl),b(c.x(ee),q,H),S)g.x+=A+u;else if(typeof H.text!="string"){const $e=d.lineHeight;g.y+=Sy(H,$e)+u}else g.y+=E}),oy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=xs(t.font),o=Ks(t.padding);if(!t.display)return;const r=fr(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=n.size/2,d=o.top+c;let u,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,f=an(e.align,f,this.right-m);else{const _=this.columnSizes.reduce((w,y)=>Math.max(w,y.height),0);u=d+an(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const g=an(l,f,f+m);a.textAlign=r.textAlign(Yv(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,kr(a,t.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,t=xs(e.font),n=Ks(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,o,r;if(go(e,this.left,this.right)&&go(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(o=r[n],go(e,o.left,o.left+o.width)&&go(t,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!J7(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=K7(o,n);o&&!r&&Ut(t.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!r&&Ut(t.onHover,[e,n,this],this)}else n&&Ut(t.onClick,[e,n,this],this)}}function Y7(s,e,t,n,o){const r=G7(n,s,e,t),a=X7(o,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function G7(s,e,t,n){let o=s.text;return o&&typeof o!="string"&&(o=o.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+n.measureText(o).width}function X7(s,e,t){let n=s;return typeof e.text!="string"&&(n=Sy(e,t)),n}function Sy(s,e){const t=s.text?s.text.length:0;return e*t}function J7(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var My={id:"legend",_element:og,start(s,e,t){const n=s.legend=new og({ctx:s.ctx,options:t,chart:s});qo.configure(s,n,t),qo.addBox(s,n)},stop(s){qo.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;qo.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,o=t.chart;o.isDatasetVisible(n)?(o.hide(n),e.hidden=!0):(o.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:o,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),u=Ks(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const aa={average(s){if(!s.length)return!1;let e,t,n=new Set,o=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),o+=c.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:o/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,o=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const c=s[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Oh(e,d);u<o&&(o=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function Hn(s,e){return e&&(qt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function lo(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Q7(s,e){const{element:t,datasetIndex:n,index:o}=e,r=s.getDatasetMeta(n).controller,{label:a,value:l}=r.getLabelAndValue(o);return{chart:s,label:a,parsed:r.getParsed(o),raw:s.data.datasets[n].data[o],formattedValue:l,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:t}}function ig(s,e){const t=s.chart.ctx,{body:n,footer:o,title:r}=s,{boxWidth:a,boxHeight:l}=e,c=xs(e.bodyFont),d=xs(e.titleFont),u=xs(e.footerFont),f=r.length,m=o.length,g=n.length,_=Ks(e.padding);let w=_.height,y=0,$=n.reduce((M,E)=>M+E.before.length+E.lines.length+E.after.length,0);if($+=s.beforeBody.length+s.afterBody.length,f&&(w+=f*d.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),$){const M=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;w+=g*M+($-g)*c.lineHeight+($-1)*e.bodySpacing}m&&(w+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let b=0;const S=function(M){y=Math.max(y,t.measureText(M).width+b)};return t.save(),t.font=d.string,Et(s.title,S),t.font=c.string,Et(s.beforeBody.concat(s.afterBody),S),b=e.displayColors?a+2+e.boxPadding:0,Et(n,M=>{Et(M.before,S),Et(M.lines,S),Et(M.after,S)}),b=0,t.font=u.string,Et(s.footer,S),t.restore(),y+=_.width,{width:y,height:w}}function Z7(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function eM(s,e,t,n){const{x:o,width:r}=n,a=t.caretSize+t.caretPadding;if(s==="left"&&o+r+a>e.width||s==="right"&&o-r-a<0)return!0}function tM(s,e,t,n){const{x:o,width:r}=t,{width:a,chartArea:{left:l,right:c}}=s;let d="center";return n==="center"?d=o<=(l+c)/2?"left":"right":o<=r/2?d="left":o>=a-r/2&&(d="right"),eM(d,s,e,t)&&(d="center"),d}function rg(s,e,t){const n=t.yAlign||e.yAlign||Z7(s,t);return{xAlign:t.xAlign||e.xAlign||tM(s,e,t,n),yAlign:n}}function sM(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function nM(s,e,t){let{y:n,height:o}=s;return e==="top"?n+=t:e==="bottom"?n-=o+t:n-=o/2,n}function ag(s,e,t,n){const{caretSize:o,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:c}=t,d=o+r,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:g}=Fi(a);let _=sM(e,l);const w=nM(e,c,d);return c==="center"?l==="left"?_+=d:l==="right"&&(_-=d):l==="left"?_-=Math.max(u,m)+o:l==="right"&&(_+=Math.max(f,g)+o),{x:Ls(_,0,n.width-e.width),y:Ls(w,0,n.height-e.height)}}function jl(s,e,t){const n=Ks(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function lg(s){return Hn([],lo(s))}function oM(s,e,t){return ci(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function cg(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Ty={beforeTitle:ro,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:ro,beforeBody:ro,beforeLabel:ro,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return xt(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ro,afterBody:ro,beforeFooter:ro,footer:ro,afterFooter:ro};function Gs(s,e,t,n){const o=s[e].call(t,n);return typeof o>"u"?Ty[e].call(t,n):o}class zh extends di{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&t.options.animation&&n.animations,r=new cy(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=oM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,o=Gs(n,"beforeTitle",this,e),r=Gs(n,"title",this,e),a=Gs(n,"afterTitle",this,e);let l=[];return l=Hn(l,lo(o)),l=Hn(l,lo(r)),l=Hn(l,lo(a)),l}getBeforeBody(e,t){return lg(Gs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,o=[];return Et(e,r=>{const a={before:[],lines:[],after:[]},l=cg(n,r);Hn(a.before,lo(Gs(l,"beforeLabel",this,r))),Hn(a.lines,Gs(l,"label",this,r)),Hn(a.after,lo(Gs(l,"afterLabel",this,r))),o.push(a)}),o}getAfterBody(e,t){return lg(Gs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,o=Gs(n,"beforeFooter",this,e),r=Gs(n,"footer",this,e),a=Gs(n,"afterFooter",this,e);let l=[];return l=Hn(l,lo(o)),l=Hn(l,lo(r)),l=Hn(l,lo(a)),l}_createItems(e){const t=this._active,n=this.chart.data,o=[],r=[],a=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(Q7(this.chart,t[c]));return e.filter&&(l=l.filter((u,f,m)=>e.filter(u,f,m,n))),e.itemSort&&(l=l.sort((u,f)=>e.itemSort(u,f,n))),Et(l,u=>{const f=cg(e.callbacks,u);o.push(Gs(f,"labelColor",this,u)),r.push(Gs(f,"labelPointStyle",this,u)),a.push(Gs(f,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),o=this._active;let r,a=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const l=aa[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=ig(this,n),d=Object.assign({},l,c),u=rg(this.chart,n,d),f=ag(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,o){const r=this.getCaretPosition(e,n,o);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:o,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Fi(l),{x:m,y:g}=e,{width:_,height:w}=t;let y,$,b,S,M,E;return r==="center"?(M=g+w/2,o==="left"?(y=m,$=y-a,S=M+a,E=M-a):(y=m+_,$=y+a,S=M-a,E=M+a),b=y):(o==="left"?$=m+Math.max(c,u)+a:o==="right"?$=m+_-Math.max(d,f)-a:$=this.caretX,r==="top"?(S=g,M=S-a,y=$-a,b=$+a):(S=g+w,M=S+a,y=$+a,b=$-a),E=S),{x1:y,x2:$,x3:b,y1:S,y2:M,y3:E}}drawTitle(e,t,n){const o=this.title,r=o.length;let a,l,c;if(r){const d=fr(n.rtl,this.x,this.width);for(e.x=jl(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",a=xs(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,c=0;c<r;++c)t.fillText(o[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,o,r){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=r,u=xs(r.bodyFont),f=jl(this,"left",r),m=o.x(f),g=c<u.lineHeight?(u.lineHeight-c)/2:0,_=t.y+g;if(r.usePointStyle){const w={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(m,d)+d/2,$=_+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Lh(e,w,y,$),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Lh(e,w,y,$)}else{e.lineWidth=_t(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=o.leftForLtr(m,d),y=o.leftForLtr(o.xPlus(m,1),d-2),$=Fi(a.borderRadius);Object.values($).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,qa(e,{x:w,y:_,w:d,h:c,radius:$}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),qa(e,{x:y,y:_+1,w:d-2,h:c-2,radius:$}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(w,_,d,c),e.strokeRect(w,_,d,c),e.fillStyle=a.backgroundColor,e.fillRect(y,_+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:o}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,f=xs(n.bodyFont);let m=f.lineHeight,g=0;const _=fr(n.rtl,this.x,this.width),w=function(F){t.fillText(F,_.x(e.x+g),e.y+m/2),e.y+=m+r},y=_.textAlign(a);let $,b,S,M,E,H,N;for(t.textAlign=a,t.textBaseline="middle",t.font=f.string,e.x=jl(this,y,n),t.fillStyle=n.bodyColor,Et(this.beforeBody,w),g=l&&y!=="right"?a==="center"?d/2+u:d+2+u:0,M=0,H=o.length;M<H;++M){for($=o[M],b=this.labelTextColors[M],t.fillStyle=b,Et($.before,w),S=$.lines,l&&S.length&&(this._drawColorBox(t,e,M,_,n),m=Math.max(f.lineHeight,c)),E=0,N=S.length;E<N;++E)w(S[E]),m=f.lineHeight;Et($.after,w)}g=0,m=f.lineHeight,Et(this.afterBody,w),e.y-=r}drawFooter(e,t,n){const o=this.footer,r=o.length;let a,l;if(r){const c=fr(n.rtl,this.x,this.width);for(e.x=jl(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",a=xs(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,o){const{xAlign:r,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:_}=Fi(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(l+f,c),a==="top"&&this.drawCaret(e,t,n,o),t.lineTo(l+d-m,c),t.quadraticCurveTo(l+d,c,l+d,c+m),a==="center"&&r==="right"&&this.drawCaret(e,t,n,o),t.lineTo(l+d,c+u-_),t.quadraticCurveTo(l+d,c+u,l+d-_,c+u),a==="bottom"&&this.drawCaret(e,t,n,o),t.lineTo(l+g,c+u),t.quadraticCurveTo(l,c+u,l,c+u-g),a==="center"&&r==="left"&&this.drawCaret(e,t,n,o),t.lineTo(l,c+f),t.quadraticCurveTo(l,c,l+f,c),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){const a=aa[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=ig(this,e),c=Object.assign({},a,this._size),d=rg(t,e,c),u=ag(e,c,d,t);(o._to!==u.x||r._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Ks(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,o,t),ny(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),oy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,o=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),r=!Nc(n,o),a=this._positionChanged(o,t);(r||a)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),l=this._positionChanged(a,e),c=t||!Nc(a,r)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,n,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:o,options:r}=this,a=aa[r.position].call(this,e,t);return a!==!1&&(n!==a.x||o!==a.y)}}Fe(zh,"positioners",aa);var tp={id:"tooltip",_element:zh,positioners:aa,afterInit(s,e,t){t&&(s.tooltip=new zh({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ty},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const iM=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function rM(s,e,t,n){const o=s.indexOf(e);if(o===-1)return iM(s,e,t,n);const r=s.lastIndexOf(e);return o!==r?t:o}const aM=(s,e)=>s===null?null:Ls(Math.round(s),0,e);function dg(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class Ya extends Ki{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:o,label:r}of t)n[o]===r&&n.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(xt(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:rM(n,e,ht(t,e),this._addedLabels),aM(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,o=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)o.push({value:a});return o}getLabelForValue(e){return dg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(Ya,"id","category"),Fe(Ya,"defaults",{ticks:{callback:dg}});function lM(s,e){const t=[],{bounds:o,step:r,min:a,max:l,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:m}=s,g=r||1,_=u-1,{min:w,max:y}=e,$=!xt(a),b=!xt(l),S=!xt(d),M=(y-w)/(f+1);let E=l0((y-w)/_/g)*g,H,N,F,R;if(E<1e-14&&!$&&!b)return[{value:w},{value:y}];R=Math.ceil(y/E)-Math.floor(w/E),R>_&&(E=l0(R*E/_/g)*g),xt(c)||(H=Math.pow(10,c),E=Math.ceil(E*H)/H),o==="ticks"?(N=Math.floor(w/E)*E,F=Math.ceil(y/E)*E):(N=w,F=y),$&&b&&r&&_6((l-a)/r,E/1e3)?(R=Math.round(Math.min((l-a)/E,u)),E=(l-a)/R,N=a,F=l):S?(N=$?a:N,F=b?l:F,R=d-1,E=(F-N)/R):(R=(F-N)/E,ka(R,Math.round(R),E/1e3)?R=Math.round(R):R=Math.ceil(R));const A=Math.max(c0(E),c0(N));H=Math.pow(10,xt(c)?A:c),N=Math.round(N*H)/H,F=Math.round(F*H)/H;let ee=0;for($&&(m&&N!==a?(t.push({value:a}),N<a&&ee++,ka(Math.round((N+ee*E)*H)/H,a,ug(a,M,s))&&ee++):N<a&&ee++);ee<R;++ee){const q=Math.round((N+ee*E)*H)/H;if(b&&q>l)break;t.push({value:q})}return b&&m&&F!==l?t.length&&ka(t[t.length-1].value,l,ug(l,M,s))?t[t.length-1].value=l:t.push({value:l}):(!b||F===l)&&t.push({value:F}),t}function ug(s,e,{horizontal:t,minRotation:n}){const o=Yn(n),r=(t?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class qc extends Ki{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return xt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:o,max:r}=this;const a=c=>o=t?o:c,l=c=>r=n?r:c;if(e){const c=Gn(o),d=Gn(r);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(o===r){let c=r===0?1:Math.abs(r*.05);l(r+c),e||a(o-c)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=lM(o,r);return e.bounds==="ticks"&&Uv(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const o=(n-t)/Math.max(e.length-1,1)/2;t-=o,n+=o}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Pd(e,this.chart.options.locale,this.options.ticks.format)}}class Kc extends qc{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Jt(e)?e:0,this.max=Jt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Yn(this.options.ticks.minRotation),o=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe(Kc,"id","linear"),Fe(Kc,"defaults",{ticks:{callback:Od.formatters.numeric}});const Ga=s=>Math.floor(Vo(s)),xi=(s,e)=>Math.pow(10,Ga(s)+e);function hg(s){return s/Math.pow(10,Ga(s))===1}function fg(s,e,t){const n=Math.pow(10,t),o=Math.floor(s/n);return Math.ceil(e/n)-o}function cM(s,e){const t=e-s;let n=Ga(t);for(;fg(s,e,n)>10;)n++;for(;fg(s,e,n)<10;)n--;return Math.min(n,Ga(s))}function dM(s,{min:e,max:t}){e=cn(s.min,e);const n=[],o=Ga(e);let r=cM(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),c=o>r?Math.pow(10,o):0,d=Math.round((e-c)*a)/a,u=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((d-u)/Math.pow(10,r)),m=cn(s.min,Math.round((c+u+f*Math.pow(10,r))*a)/a);for(;m<t;)n.push({value:m,major:hg(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,a=r>=0?1:a),m=Math.round((c+u+f*Math.pow(10,r))*a)/a;const g=cn(s.max,m);return n.push({value:g,major:hg(g),significand:f}),n}class pg extends Ki{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=qc.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Jt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Jt(e)?Math.max(0,e):null,this.max=Jt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Jt(this._userMin)&&(this.min=e===xi(this.min,0)?xi(this.min,-1):xi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,o=this.max;const r=l=>n=e?n:l,a=l=>o=t?o:l;n===o&&(n<=0?(r(1),a(10)):(r(xi(n,-1)),a(xi(o,1)))),n<=0&&r(xi(o,-1)),o<=0&&a(xi(n,1)),this.min=n,this.max=o}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=dM(t,this);return e.bounds==="ticks"&&Uv(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Pd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vo(e),this._valueRange=Vo(this.max)-Vo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Fe(pg,"id","logarithmic"),Fe(pg,"defaults",{ticks:{callback:Od.formatters.logarithmic,major:{enabled:!0}}});function Bh(s){const e=s.ticks;if(e.display&&s.display){const t=Ks(e.backdropPadding);return ht(e.font&&e.font.size,Qt.font.size)+t.height}return 0}function uM(s,e,t){return t=qt(t)?t:[t],{w:I6(s,e.string,t),h:t.length*e.lineHeight}}function mg(s,e,t,n,o){return s===n||s===o?{start:e-t/2,end:e+t/2}:s<n||s>o?{start:e-t,end:e}:{start:e,end:e+t}}function hM(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),n=[],o=[],r=s._pointLabels.length,a=s.options.pointLabels,l=a.centerPointLabels?Ot/r:0;for(let c=0;c<r;c++){const d=a.setContext(s.getPointLabelContext(c));o[c]=d.padding;const u=s.getPointPosition(c,s.drawingArea+o[c],l),f=xs(d.font),m=uM(s.ctx,f,s._pointLabels[c]);n[c]=m;const g=As(s.getIndexAngle(c)+l),_=Math.round(Wf(g)),w=mg(_,u.x,m.w,0,180),y=mg(_,u.y,m.h,90,270);fM(t,e,g,w,y)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=gM(s,n,o)}function fM(s,e,t,n,o){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/r,s.l=Math.min(s.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/r,s.r=Math.max(s.r,e.r+l)),o.start<e.t?(c=(e.t-o.start)/a,s.t=Math.min(s.t,e.t-c)):o.end>e.b&&(c=(o.end-e.b)/a,s.b=Math.max(s.b,e.b+c))}function pM(s,e,t){const n=s.drawingArea,{extra:o,additionalAngle:r,padding:a,size:l}=t,c=s.getPointPosition(e,n+o+a,r),d=Math.round(Wf(As(c.angle+ts))),u=yM(c.y,l.h,d),f=_M(d),m=vM(c.x,l.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:m,top:u,right:m+l.w,bottom:u+l.h}}function mM(s,e){if(!e)return!0;const{left:t,top:n,right:o,bottom:r}=s;return!(_o({x:t,y:n},e)||_o({x:t,y:r},e)||_o({x:o,y:n},e)||_o({x:o,y:r},e))}function gM(s,e,t){const n=[],o=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:l}=r.pointLabels,c={extra:Bh(r)/2,additionalAngle:a?Ot/o:0};let d;for(let u=0;u<o;u++){c.padding=t[u],c.size=e[u];const f=pM(s,u,c);n.push(f),l==="auto"&&(f.visible=mM(f,d),f.visible&&(d=f))}return n}function _M(s){return s===0||s===180?"center":s<180?"left":"right"}function vM(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function yM(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function bM(s,e,t){const{left:n,top:o,right:r,bottom:a}=t,{backdropColor:l}=e;if(!xt(l)){const c=Fi(e.borderRadius),d=Ks(e.backdropPadding);s.fillStyle=l;const u=n-d.left,f=o-d.top,m=r-n+d.width,g=a-o+d.height;Object.values(c).some(_=>_!==0)?(s.beginPath(),qa(s,{x:u,y:f,w:m,h:g,radius:c}),s.fill()):s.fillRect(u,f,m,g)}}function xM(s,e){const{ctx:t,options:{pointLabels:n}}=s;for(let o=e-1;o>=0;o--){const r=s._pointLabelItems[o];if(!r.visible)continue;const a=n.setContext(s.getPointLabelContext(o));bM(t,a,r);const l=xs(a.font),{x:c,y:d,textAlign:u}=r;kr(t,s._pointLabels[o],c,d+l.lineHeight/2,l,{color:a.color,textAlign:u,textBaseline:"middle"})}}function Dy(s,e,t,n){const{ctx:o}=s;if(t)o.arc(s.xCenter,s.yCenter,e,0,Vt);else{let r=s.getPointPosition(0,e);o.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=s.getPointPosition(a,e),o.lineTo(r.x,r.y)}}function wM(s,e,t,n,o){const r=s.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!n||!l||!c||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=c,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),Dy(s,t,a,n),r.closePath(),r.stroke(),r.restore())}function kM(s,e,t){return ci(s,{label:t,index:e,type:"pointLabel"})}class Fl extends qc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ks(Bh(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Jt(e)&&!isNaN(e)?e:0,this.max=Jt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bh(this.options))}generateTickLabels(e){qc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const o=Ut(this.options.pointLabels.callback,[t,n],this);return o||o===0?o:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?hM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,o))}getIndexAngle(e){const t=Vt/(this._pointLabels.length||1),n=this.options.startAngle||0;return As(e*t+Yn(n))}getDistanceFromCenterForValue(e){if(xt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(xt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return kM(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const o=this.getIndexAngle(e)-ts+n;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:o,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:o,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Dy(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:o,border:r}=t,a=this._pointLabels.length;let l,c,d;if(t.pointLabels.display&&xM(this,a),o.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(f),g=o.setContext(m),_=r.setContext(m);wM(this,g,c,a,_)}}),n.display){for(e.save(),l=a-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=u;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const o=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const d=n.setContext(this.getContext(c)),u=xs(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,a=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const f=Ks(d.backdropPadding);e.fillRect(-a/2-f.left,-r-u.size/2-f.top,a+f.width,u.size+f.height)}kr(e,l.label,0,-r,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}Fe(Fl,"id","radialLinear"),Fe(Fl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Od.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Fe(Fl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Fe(Fl,"descriptors",{angleLines:{_fallback:"grid"}});const Fd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qs=Object.keys(Fd);function gg(s,e){return s-e}function _g(s,e){if(xt(e))return null;const t=s._adapter,{parser:n,round:o,isoWeekday:r}=s._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Jt(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(o&&(a=o==="week"&&(Va(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,o)),+a)}function vg(s,e,t,n){const o=Qs.length;for(let r=Qs.indexOf(s);r<o-1;++r){const a=Fd[Qs[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=n)return Qs[r]}return Qs[o-1]}function $M(s,e,t,n,o){for(let r=Qs.length-1;r>=Qs.indexOf(t);r--){const a=Qs[r];if(Fd[a].common&&s._adapter.diff(o,n,a)>=e-1)return a}return Qs[t?Qs.indexOf(t):0]}function CM(s){for(let e=Qs.indexOf(s)+1,t=Qs.length;e<t;++e)if(Fd[Qs[e]].common)return Qs[e]}function yg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:o}=qf(t,e),r=t[n]>=e?t[n]:t[o];s[r]=!0}}function SM(s,e,t,n){const o=s._adapter,r=+o.startOf(e[0].value,n),a=e[e.length-1].value;let l,c;for(l=r;l<=a;l=+o.add(l,1,n))c=t[l],c>=0&&(e[c].major=!0);return e}function bg(s,e,t){const n=[],o={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],o[l]=a,n.push({value:l,major:!1});return r===0||!t?n:SM(s,n,o,t)}class Yc extends Ki{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),o=this._adapter=new QS._date(e.adapters.date);o.init(t),wa(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:_g(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:o,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Jt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),n),r=Jt(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,a=this.max,l=x6(o,r,a);return this._unit=t.unit||(n.autoSkip?vg(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):$M(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:CM(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),bg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Ls(t,0,a),n=Ls(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,o=this.options,r=o.time,a=r.unit||vg(r.minUnit,t,n,this._getLabelCapacity(t)),l=ht(o.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,d=Va(c)||c===!0,u={};let f=t,m,g;if(d&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,d?"day":a),e.diff(n,t,a)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+a);const _=o.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<n;m=+e.add(m,l,a),g++)yg(u,m,_);return(m===n||o.bounds==="ticks"||g===1)&&yg(u,m,_),Object.keys(u).sort(gg).map(w=>+w)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,r=this._unit,a=t||o[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,o){const r=this.options,a=r.ticks.callback;if(a)return Ut(a,[e,t,n],this);const l=r.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],m=n[t],g=d&&f&&m&&m.major;return this._adapter.format(e,o||(g?f:u))}generateTickLabels(e){let t,n,o;for(t=0,n=e.length;t<n;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,o=Yn(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,o=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,bg(this,[e],this._majorUnit),o),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,n=o.length;t<n;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const o=this.getLabels();for(t=0,n=o.length;t<n;++t)e.push(_g(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Wv(e.sort(gg))}}Fe(Yc,"id","time"),Fe(Yc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nl(s,e,t){let n=0,o=s.length-1,r,a,l,c;t?(e>=s[n].pos&&e<=s[o].pos&&({lo:n,hi:o}=Ri(s,"pos",e)),{pos:r,time:l}=s[n],{pos:a,time:c}=s[o]):(e>=s[n].time&&e<=s[o].time&&({lo:n,hi:o}=Ri(s,"time",e)),{time:r,pos:l}=s[n],{time:a,pos:c}=s[o]);const d=a-r;return d?l+(c-l)*(e-r)/d:l}class xg extends Yc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Nl(t,this.min),this._tableRange=Nl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,o=[],r=[];let a,l,c,d,u;for(a=0,l=e.length;a<l;++a)d=e[a],d>=t&&d<=n&&o.push(d);if(o.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,l=o.length;a<l;++a)u=o[a+1],c=o[a-1],d=o[a],Math.round((u+c)/2)!==d&&r.push({time:d,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Nl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Nl(this._table,n*this._tableRange+this._minPos,!0)}}Fe(xg,"id","timeseries"),Fe(xg,"defaults",Yc.defaults);const MM=["id"],Uh=fe({__name:"LineChart",props:{id:{},data:{},backgroundColor:{},borderColor:{},tooltipLabel:{}},setup(s){const e=s;un.register(Ko,fc,dc,Ya,Kc,q7,tp);let t={};dt(function(){const r=document.getElementById(e.id);t=new un(r,o)}),Dr(function(){t.data.datasets[0].data=e.data,t.update()});const o={type:"line",data:{datasets:[{label:e.tooltipLabel,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:4,pointBackgroundColor:"white",fill:!0,data:e.data}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},elements:{point:{pointStyle:"cross",backgroundColor:"blue",borderColor:"black"}},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(v(),k("canvas",{id:s.id},null,8,MM))}}),TM=["id"],DM=fe({__name:"BarChart",props:{id:{},data:{},labels:{},tooltipLabel:{}},setup(s){const e=s;un.register(pc,cc,Ya,Kc,tp,My);let t={};dt(function(){const r=document.getElementById(e.id);t=new un(r,o)}),Dr(function(){t.data&&(t.data.datasets=n.datasets,t.data.labels=e.labels||[],t.update())});const n={labels:e.labels||[],datasets:e.data||[]},o={type:"bar",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(v(),k("canvas",{id:s.id},null,8,TM))}}),AM=["id"],EM=fe({__name:"DoughnutChart",props:{id:{},data:{},labels:{},backgroundColors:{}},setup(s){const e=s;un.register(ra,oa,Ya,tp,My);let t={};const n=["rgba(99, 102, 241, 0.8)","rgba(236, 72, 153, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(249, 115, 22, 0.8)","rgba(14, 165, 233, 0.8)","rgba(217, 70, 239, 0.8)"];dt(function(){const a=document.getElementById(e.id);t=new un(a,r)}),Dr(function(){t.data&&(t.data.labels=e.labels,t.data.datasets[0].data=e.data,t.update())});const r={type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.backgroundColors||n,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{usePointStyle:!0}}}};return(a,l)=>(v(),k("canvas",{id:s.id},null,8,AM))}}),PM=fe({__name:"Modals",setup(s){const e=Rt();return(t,n)=>(v(),se(cf,{to:"body"},[T(Bw,{name:"modal"},{default:Y(()=>[(v(!0),k(he,null,ke(p(e).components,(o,r)=>(v(),se(Qo(o.component),l1({ref_for:!0},o.payload,{key:r}),null,16))),128))]),_:1})]))}}),OM=fe({__name:"FlashMessage",setup(s){const e=An();return(t,n)=>(v(),se(cf,{to:"body"},[p(e).message?(v(),k("div",{key:0,class:ae(["fixed h-10 px-4 rounded flex items-center text-white text-sm",{"bg-green-600":p(e).type=="success","bg-red-500":p(e).type=="danger"}]),style:{right:"2rem",bottom:"7%","touch-action":"pan-y","z-index":"2000"}},[te(h(p(e).message)+" ",1),T(p(kd),{class:"w-5 ml-2 cursor-pointer",onClick:p(e).hide},null,8,["onClick"])],2)):P("",!0)]))}}),RM={class:"inline-flex items-center"},LM={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",viewBox:"0 0 8 14",class:"flex-shrink-0 text-gray-400 ltr:ml-2 rtl:mr-2"},He=fe({__name:"TableTh",props:{name:{},index:{},sort:{default:""},label:{},align:{default:"left"}},setup(s){const t=ks(s.name)();return(n,o)=>(v(),k("th",{class:ae(["bg-gray-50 px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500",{"cursor-pointer":s.sort,"text-center":s.align=="center","ltr:text-left rtl:text-right":s.align!="center"}]),onClick:o[0]||(o[0]=r=>p(t).sort(s.sort))},[i("span",RM,[te(h(s.label)+" ",1),s.sort?(v(),k("svg",LM,[i("path",{class:ae(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="asc"&&s.index.params.orderBy==s.sort}]),d:"M1.70710678 4.70710678c-.39052429.39052429-1.02368927.39052429-1.41421356 0-.3905243-.39052429-.3905243-1.02368927 0-1.41421356l3-3c.39052429-.3905243 1.02368927-.3905243 1.41421356 0l3 3c.39052429.39052429.39052429 1.02368927 0 1.41421356-.39052429.39052429-1.02368927.39052429-1.41421356 0L4 2.41421356 1.70710678 4.70710678z"},null,2),i("path",{class:ae(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="desc"&&s.index.params.orderBy==s.sort}]),d:"M6.29289322 9.29289322c.39052429-.39052429 1.02368927-.39052429 1.41421356 0 .39052429.39052429.39052429 1.02368928 0 1.41421358l-3 3c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-3-3c-.3905243-.3905243-.3905243-1.02368929 0-1.41421358.3905243-.39052429 1.02368927-.39052429 1.41421356 0L4 11.5857864l2.29289322-2.29289318z"},null,2)])):P("",!0)])],2))}}),IM={class:"mb-4 flex"},jM={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},Gc=fe({__name:"PageTopbar",props:{title:{},btnTo:{},btnText:{},permission:{}},setup(s){return(e,t)=>{const n=pn("RouterLink");return v(),k("div",IM,[i("h1",jM,h(s.title),1),ws(e.$slots,"default"),s.btnText&&s.btnTo&&e.can(s.permission||"")?(v(),se(n,{key:0,to:s.btnTo,custom:""},{default:Y(({navigate:o})=>[T(Ue,{class:"ml-auto","data-cy":"topbar-create-button",onClick:o},{default:Y(()=>[te(h(s.btnText),1)]),_:1},8,["onClick"])]),_:1},8,["to"])):P("",!0)])}}}),FM={key:0,class:"block rounded-full"},NM=["src"],zM={key:1,class:"inline-block rounded-full bg-gray-100 text-gray-300"},ps=fe({__name:"UserAvatar",props:{avatar:{}},setup(s){return(e,t)=>s.avatar?(v(),k("span",FM,[i("img",{src:s.avatar,class:"h-full w-full rounded-full"},null,8,NM)])):(v(),k("span",zM,[...t[0]||(t[0]=[i("svg",{class:"rounded-full",fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])]))}}),BM=["for"],UM={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},sp=fe({__name:"FieldBase",props:{full:{type:Boolean},inline:{type:Boolean},label:{},lg:{type:Boolean},name:{}},setup(s){const e=tt("form_name",""),t=ds(e)();return(n,o)=>(v(),k("div",{class:ae({"grid grid-cols-3 border-b border-gray-200 py-5 last:border-b-0":s.inline})},[s.label?(v(),k("label",{key:0,for:p(e)+"-"+s.name,class:ae(["block text-sm font-medium text-gray-700",{"mt-px pt-2":s.inline}])},h(s.label),11,BM)):P("",!0),i("div",{class:ae(["sm:col-span-2",{"mt-1":!s.inline}])},[ws(n.$slots,"default"),p(t).errors[s.name]?(v(),k("div",UM,h(p(t).errors[s.name][0]),1)):P("",!0)],2)],2))}});function so(){return fe({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean},setup(s){const e=tt("form_name",""),t=ds(e)();return()=>T(sp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>[W(T("input",{"onUpdate:modelValue":n=>t.data[s.name]=n,type:s.type,id:e+"-"+s.name,placeholder:s.label,disabled:s.disabled,class:{"mt-1 block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!t.errors[s.name],"border-red-600":t.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline}},null),[[Kw,t.data[s.name]]])]})}})}function al(){return fe({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(s,{slots:e}){const t=tt("form_name",""),n=tt("__"),o=ds(t)(),r=null;return()=>T(sp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var a;return[T("div",{class:"flex flex-wrap"},[W(T("select",{required:!0,id:t+"-"+s.name,class:{"block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!o.errors[s.name],"border-red-600":o.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline},"onUpdate:modelValue":l=>o.data[s.name]=l},[T("option",{value:r,disabled:!0},[n("Choose"),te(" "),s.label]),(a=o.options[s.name])==null?void 0:a.map(l=>T("option",{value:l[s.valueKey]},[l[s.labelKey]]))]),[[qe,o.data[s.name]]]),e.default&&e.default()])]}})}})}function Ay(){return fe({props:{name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""}},setup(s){const e=tt("form_name",""),t=ds(e)();return()=>T(sp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var n;return[T("div",{class:"grid grid-cols-3 gap-2"},[(n=t.options[s.name])==null?void 0:n.map(o=>T("div",{class:"flex items-center"},[W(T("input",{id:`${e}-${s.name}-${o.value}`,type:"checkbox",value:o.value,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500","onUpdate:modelValue":r=>t.data[s.name]=r},null),[[ys,t.data[s.name]]]),T("label",{for:`${e}-${s.name}-${o.value}`,class:"ml-3 block whitespace-nowrap text-sm font-medium text-gray-700"},[o.label])]))])]}})}})}const HM=fe({__name:"TaskItemTimer",props:{task:{}},setup(s){const e=I(!1),t=Ir();return(n,o)=>(v(),k("div",{class:"cursor-pointer",onClick:o[1]||(o[1]=r=>e.value=!e.value)},[s.task.id==p(t).taskId?(v(),se(p(Or),{key:0,class:"w-5 text-red-500 hover:text-red-800",onClick:p(t).stop},null,8,["onClick"])):(v(),se(p(xd),{key:1,class:"w-5 text-gray-500 hover:text-gray-800",onClick:o[0]||(o[0]=r=>p(t).start(s.task))}))]))}}),VM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},WM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},qM={class:"absolute mt-2 w-64 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},KM={key:0,class:"py-4 text-center text-sm text-gray-700"},YM={key:1},GM={class:"divide-y divide-gray-100"},XM={key:0,class:"flex items-start justify-between text-gray-900"},JM={class:"mt-2 flex items-center text-xs text-gray-600"},QM={key:1,class:"mt-1.5 flex items-center"},ZM=["href","onClick"],eT=["href","onClick"],tT=fe({__name:"TimerDropdown",setup(s){const e=Ir();e.fetch();function t(n){return gt.user.id==n}return(n,o)=>{const r=pn("router-link");return v(),se(p(js),null,{trigger:Y(()=>[i("button",VM,[T(p(Co),{class:"h-6 w-6"}),p(e).timers.length?(v(),k("div",WM,h(p(e).timers.length>9?"9+":p(e).timers.length),1)):P("",!0)])]),content:Y(()=>[i("div",qM,[p(e).timers.length?(v(),k("div",YM,[i("ul",GM,[(v(!0),k(he,null,ke(p(e).timers,a=>(v(),k("li",{key:a.id,class:"px-4 py-2 text-sm hover:bg-gray-100"},[a.task?(v(),k("h3",XM,[te(h(a.task.title)+" ",1),t(a.user_id)?(v(),se(HM,{key:0,class:"ml-3",task:a.task},null,8,["task"])):P("",!0)])):P("",!0),i("h4",JM," Started at: "+h(a.started_at),1),a.task&&a.task.project?(v(),k("div",QM,[T(r,{custom:"",to:"/projects/"+a.task.project.id},{default:Y(({href:l,navigate:c})=>{var d;return[i("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:c},[i("span",{class:"mr-1.5 block h-2 w-2 rounded-full",style:Mt({backgroundColor:(d=a.task.project.meta)==null?void 0:d.color}),"aria-hidden":"true"},"",4),te(" "+h(a.task.project.name),1)],8,ZM)]}),_:2},1032,["to"]),o[0]||(o[0]=i("span",{class:"px-2"},"-",-1)),T(r,{custom:"",to:"/users/"+a.user.id},{default:Y(({href:l,navigate:c})=>[i("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:c},[T(p(ps),{class:"mr-1.5 h-4 w-4 text-[9px] font-semibold",avatar:a.user.avatar},null,8,["avatar"]),te(" "+h(a.user.name),1)],8,eT)]),_:2},1032,["to"])])):P("",!0)]))),128))])])):(v(),k("p",KM,h(n.__("No Timers!")),1))])]),_:1})}}}),sT={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},nT={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},oT={class:"absolute z-50 mt-2 w-80 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu"},iT={class:"border-b border-gray-200 bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},rT={class:"flex items-center justify-between"},aT={class:"p-4"},lT={class:"mb-4"},cT={class:"mb-1 flex items-center justify-between text-sm"},dT={class:"h-4 w-full overflow-hidden rounded-full bg-gray-200"},uT={class:"mt-1 text-right text-xs text-gray-500"},hT={key:0,class:"mb-4 rounded-md bg-red-50 p-2"},fT={class:"flex items-center text-xs text-red-700"},pT={class:"mb-4 flex gap-2"},mT=["disabled"],gT=["disabled"],_T={key:1,class:"mb-4 rounded-md border border-gray-200 bg-gray-50 p-3"},vT={class:"mb-2"},yT={class:"mb-2"},bT={class:"flex gap-2"},xT=["disabled"],wT={class:"border-t border-gray-200 pt-3"},kT={key:0,class:"max-h-32 space-y-1 overflow-y-auto"},$T={class:"text-gray-600"},CT={class:"text-gray-400"},ST={key:1,class:"text-xs text-gray-400"},MT=fe({__name:"GeneratorDropdown",setup(s){const e=I(0),t=I(12),n=I(2),o=I(!1),r=I([]),a=I(!1),l=I(!1),c=I(""),d=I(""),u=Le(()=>t.value<=0?0:Math.round(e.value/t.value*100)),f=Le(()=>e.value<=n.value),m=Le(()=>u.value<20?"bg-red-500":u.value<50?"bg-yellow-500":"bg-green-500"),g=b=>{if(!b)return"";const S=new Date(b),E=new Date().getTime()-S.getTime(),H=Math.floor(E/(1e3*60)),N=Math.floor(E/(1e3*60*60));return H<60?`${H}m ago`:N<24?`${N}h ago`:S.toLocaleDateString()},_=()=>{ue.get("generator/status").then(b=>{b.data.generator&&(e.value=Number(b.data.generator.current_level)||0,t.value=Number(b.data.generator.tank_capacity)||12,n.value=Number(b.data.generator.reserve_fuel)||2,o.value=!!b.data.generator.is_running)}).catch(()=>{}),ue.get("generator/logs",{params:{per_page:5}}).then(b=>{r.value=b.data.data||[]}).catch(()=>{})},w=()=>{a.value=!0,ue.post("generator/start").then(()=>{_()}).catch(b=>{var S,M;alert(((M=(S=b.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to start generator")}).finally(()=>{a.value=!1})},y=()=>{a.value=!0,ue.post("generator/stop").then(()=>{_()}).catch(b=>{var S,M;alert(((M=(S=b.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to stop generator")}).finally(()=>{a.value=!1})},$=()=>{c.value&&(a.value=!0,ue.post("generator/add-fuel",{amount:parseFloat(c.value),notes:d.value}).then(()=>{c.value="",d.value="",l.value=!1,_()}).catch(b=>{var S,M;alert(((M=(S=b.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to add fuel")}).finally(()=>{a.value=!1}))};return _(),(b,S)=>(v(),se(p(js),{"close-outside":!0},{trigger:Y(()=>[i("button",sT,[T(p(nv),{class:ae(["h-6 w-6",{"text-green-500":o.value}])},null,8,["class"]),f.value?(v(),k("div",nT," ! ")):P("",!0)])]),content:Y(()=>[i("div",oT,[i("div",iT,[i("div",rT,[S[6]||(S[6]=i("span",{class:"font-semibold text-white"},"Generator",-1)),i("span",{class:ae(["rounded-full px-2 py-0.5 text-xs font-medium",o.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},h(o.value?"Running":"Stopped"),3)])]),i("div",aT,[i("div",lT,[i("div",cT,[S[7]||(S[7]=i("span",{class:"text-gray-600"},"Fuel Level",-1)),i("span",{class:ae(["font-semibold",u.value<20?"text-red-600":"text-gray-900"])},h(e.value.toFixed(1))+" / "+h(t.value)+" L ",3)]),i("div",dT,[i("div",{class:ae(["h-full rounded-full transition-all duration-500",m.value]),style:Mt({width:u.value+"%"})},null,6)]),i("div",uT,h(u.value)+"%",1)]),f.value?(v(),k("div",hT,[i("p",fT,[T(p(rv),{class:"mr-1 h-4 w-4"}),S[8]||(S[8]=te(" Low fuel! Please refuel soon. ",-1))])])):P("",!0),i("div",pT,[o.value?(v(),k("button",{key:1,disabled:a.value,class:"flex flex-1 items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",onClick:et(y,["stop"])},[T(p(Or),{class:"mr-1 h-4 w-4"}),S[10]||(S[10]=te(" Stop ",-1))],8,gT)):(v(),k("button",{key:0,disabled:e.value<=0||a.value,class:"flex flex-1 items-center justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:et(w,["stop"])},[T(p(xd),{class:"mr-1 h-4 w-4"}),S[9]||(S[9]=te(" Start ",-1))],8,mT)),i("button",{class:"flex flex-1 items-center justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",onClick:S[0]||(S[0]=et(M=>l.value=!0,["stop"]))},[T(p(li),{class:"mr-1 h-4 w-4"}),S[11]||(S[11]=te(" Add Fuel ",-1))])]),l.value?(v(),k("div",_T,[i("div",vT,[S[12]||(S[12]=i("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Amount (Liters)",-1)),W(i("input",{"onUpdate:modelValue":S[1]||(S[1]=M=>c.value=M),type:"number",step:"0.5",min:"0.5",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"Enter amount",onClick:S[2]||(S[2]=et(()=>{},["stop"]))},null,512),[[de,c.value]])]),i("div",yT,[S[13]||(S[13]=i("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Notes (optional)",-1)),W(i("input",{"onUpdate:modelValue":S[3]||(S[3]=M=>d.value=M),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"e.g., Purchased from station",onClick:S[4]||(S[4]=et(()=>{},["stop"]))},null,512),[[de,d.value]])]),i("div",bT,[i("button",{class:"flex-1 rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300",onClick:S[5]||(S[5]=et(M=>l.value=!1,["stop"]))}," Cancel "),i("button",{disabled:!c.value||a.value,class:"flex-1 rounded-md bg-orange-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-orange-700 disabled:opacity-50",onClick:et($,["stop"])}," Add ",8,xT)])])):P("",!0),i("div",wT,[S[14]||(S[14]=i("h4",{class:"mb-2 text-xs font-semibold uppercase text-gray-500"},"Recent Activity",-1)),r.value.length?(v(),k("div",kT,[(v(!0),k(he,null,ke(r.value,M=>{var E;return v(),k("div",{key:M.id,class:"flex items-center justify-between text-xs"},[i("span",$T,[i("span",{class:ae(["mr-1 inline-block rounded px-1 py-0.5 text-xs font-medium",M.action==="refuel"?"bg-green-100 text-green-700":M.action==="start"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"])},h(M.action),3),te(" "+h(((E=M.user)==null?void 0:E.name)||"System"),1)]),i("span",CT,h(g(M.created_at)),1)])}),128))])):(v(),k("p",ST,"No recent activity"))])])])]),_:1}))}}),TT={class:"sm:col-span-12"},DT={class:"block text-sm font-medium text-gray-700"},AT=["value"],ET={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},Ey=fe({__name:"FieldColor",props:{name:{}},setup(s){const e=ds(tt("form_name",""))();return(t,n)=>(v(),k("div",TT,[i("label",DT,h(t.__("Color")),1),(v(!0),k(he,null,ke(p(e).options.color,o=>(v(),k("label",{key:o.value,class:"mt-1 inline-block h-6 w-6 cursor-pointer rounded ltr:mr-1 rtl:ml-1",style:Mt({"background-color":o.value,color:p(e).data.color==o.value?"#ffffff":o.value})},[n[1]||(n[1]=i("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)),W(i("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>p(e).data.color=r),type:"radio",value:o.value,class:"hidden"},null,8,AT),[[hr,p(e).data.color]])],4))),128)),p(e).errors.color?(v(),k("div",ET,h(p(e).errors.color[0]),1)):P("",!0)]))}}),PT={class:"sm:col-span-12"},OT={class:"mb-4 flex items-center text-sm"},RT={class:"block text-sm font-medium text-gray-700"},LT={class:"flex flex-1 items-center pl-4"},IT={role:"list",class:"divide-y divide-gray-200 overflow-y-auto rounded-md border border-gray-200",style:{"max-height":"228px"}},jT={class:"flex items-start"},FT={class:"text-sm ltr:ml-3 rtl:mr-3"},NT={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},zT={class:"block truncate text-sm leading-none text-gray-500"},BT={class:"ltr:ml-auto rtl:mr-auto"},UT=["value"],HT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},VT=fe({__name:"FieldChooseUsers",props:{name:{}},setup(s){const e=ds(tt("form_name",""))();function t(){e.data.users=e.options.users.map(o=>o.id)}function n(){e.data.users=[]}return(o,r)=>{var a;return v(),k("div",PT,[i("div",OT,[i("p",RT,h(o.__("Team Members"))+" ("+h((a=p(e).data.users)==null?void 0:a.length)+") ",1),i("div",LT,[i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:t},h(o.__("Select All")),1),r[1]||(r[1]=i("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:n},h(o.__("Deselect All")),1)])]),i("div",IT,[(v(!0),k(he,null,ke(p(e).options.users,l=>(v(),k("label",{key:l.id,class:"flex cursor-pointer items-center px-4 py-3"},[i("div",jT,[T(p(ps),{class:"h-6 w-6",avatar:l.avatar},null,8,["avatar"]),i("div",FT,[i("span",NT,h(l.name),1),i("span",zT,h(l.email),1)])]),i("div",BT,[W(i("input",{"onUpdate:modelValue":r[0]||(r[0]=c=>p(e).data.users=c),type:"checkbox",value:l.id,class:"h-5 w-5 cursor-pointer rounded-full border-gray-300 focus:outline-none focus:ring-0 focus:ring-offset-0"},null,8,UT),[[ys,p(e).data.users]])])]))),128))]),p(e).errors.users?(v(),k("div",HT,h(p(e).errors.users[0]),1)):P("",!0)])}}}),np=tn("project-index",()=>{const s=I([]),e=I(!1);n();function t(){Rt().add(Nd)}async function n(){e.value=!0;const{data:l}=await ue.get("projects");e.value=!1,s.value=l}function o(){}function r(){}function a(){}return{create:t,fetching:e,items:s,archive:o,favorite:r,edit:a}}),wg="project",Nd=fe({__name:"Form",setup(s){const e=ds(wg)(),t=np(),n=ks("projects")(),o=so();return e.onSuccess(r=>{!new URLSearchParams(window.location.search).has("archived")&&Array.isArray(n.data)&&n.data.push(r.model),t.items.push(r.model),Rt().pop()}),(r,a)=>(v(),se(p(Fs),{name:wg,uri:"projects"},{default:Y(()=>[T(p(o),{name:"name",label:"Name",class:"col-span-12"}),T(Ey,{name:"color"}),T(VT,{name:"users"})]),_:1}))}}),kg="invitation",Py=fe({__name:"InvitationForm",setup(s){const e=ds(kg)(),t=ks("invitation")(),n=so(),o=al();return e.onSuccess(function(){t.fetch(),Rt().pop()}),(r,a)=>(v(),se(p(Fs),{name:kg,uri:"invitations",title:"Invite Team Member"},{default:Y(()=>[T(p(n),{name:"email",label:"Email",class:"col-span-12"}),T(p(o),{name:"role",label:"Role",class:"col-span-12"})]),_:1}))}}),WT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},qT={class:"ltr:ml-2 rtl:mr-2"},KT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},YT={class:"py-1",role:"none"},GT=fe({__name:"_CreateDropdown",setup(s){function e(){Rt().add(Nd)}function t(){Rt().add(Py)}return(n,o)=>(v(),se(p(js),{name:"header-create"},{trigger:Y(()=>[i("button",WT,[T(p(li),{class:"h-4 w-4"}),i("span",qT,h(n.__("Create")),1)])]),content:Y(()=>[i("div",KT,[i("div",YT,[W(i("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:et(e,["prevent"])},h(n.__("Create Project")),513),[[Ht,n.can("project:create")]]),W(i("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o[0]||(o[0]=et(r=>t(),["prevent"]))},h(n.__("Invite Team Member")),513),[[Ht,n.can("user:create")]])])])]),_:1}))}});function XT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Oy={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(s,e){(function(n,o){s.exports=o()})(window,function(){return function(t){var n={};function o(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=n,o.d=function(r,a,l){o.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},o.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,a){if(a&1&&(r=o(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var c in r)o.d(l,c,(function(d){return r[d]}).bind(null,c));return l},o.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(a,"a",a),a},o.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},o.p="",o(o.s=2)}([function(t,n,o){var r=this&&this.__extends||function(){var w=function(y,$){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var M in S)S.hasOwnProperty(M)&&(b[M]=S[M])},w(y,$)};return function(y,$){w(y,$);function b(){this.constructor=y}y.prototype=$===null?Object.create($):(b.prototype=$.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=256,l=function(){function w(y){y===void 0&&(y="="),this._paddingCharacter=y}return w.prototype.encodedLength=function(y){return this._paddingCharacter?(y+2)/3*4|0:(y*8+5)/6|0},w.prototype.encode=function(y){for(var $="",b=0;b<y.length-2;b+=3){var S=y[b]<<16|y[b+1]<<8|y[b+2];$+=this._encodeByte(S>>>3*6&63),$+=this._encodeByte(S>>>2*6&63),$+=this._encodeByte(S>>>1*6&63),$+=this._encodeByte(S>>>0*6&63)}var M=y.length-b;if(M>0){var S=y[b]<<16|(M===2?y[b+1]<<8:0);$+=this._encodeByte(S>>>3*6&63),$+=this._encodeByte(S>>>2*6&63),M===2?$+=this._encodeByte(S>>>1*6&63):$+=this._paddingCharacter||"",$+=this._paddingCharacter||""}return $},w.prototype.maxDecodedLength=function(y){return this._paddingCharacter?y/4*3|0:(y*6+7)/8|0},w.prototype.decodedLength=function(y){return this.maxDecodedLength(y.length-this._getPaddingLength(y))},w.prototype.decode=function(y){if(y.length===0)return new Uint8Array(0);for(var $=this._getPaddingLength(y),b=y.length-$,S=new Uint8Array(this.maxDecodedLength(b)),M=0,E=0,H=0,N=0,F=0,R=0,A=0;E<b-4;E+=4)N=this._decodeChar(y.charCodeAt(E+0)),F=this._decodeChar(y.charCodeAt(E+1)),R=this._decodeChar(y.charCodeAt(E+2)),A=this._decodeChar(y.charCodeAt(E+3)),S[M++]=N<<2|F>>>4,S[M++]=F<<4|R>>>2,S[M++]=R<<6|A,H|=N&a,H|=F&a,H|=R&a,H|=A&a;if(E<b-1&&(N=this._decodeChar(y.charCodeAt(E)),F=this._decodeChar(y.charCodeAt(E+1)),S[M++]=N<<2|F>>>4,H|=N&a,H|=F&a),E<b-2&&(R=this._decodeChar(y.charCodeAt(E+2)),S[M++]=F<<4|R>>>2,H|=R&a),E<b-3&&(A=this._decodeChar(y.charCodeAt(E+3)),S[M++]=R<<6|A,H|=A&a),H!==0)throw new Error("Base64Coder: incorrect characters for decoding");return S},w.prototype._encodeByte=function(y){var $=y;return $+=65,$+=25-y>>>8&0-65-26+97,$+=51-y>>>8&26-97-52+48,$+=61-y>>>8&52-48-62+43,$+=62-y>>>8&62-43-63+47,String.fromCharCode($)},w.prototype._decodeChar=function(y){var $=a;return $+=(42-y&y-44)>>>8&-a+y-43+62,$+=(46-y&y-48)>>>8&-a+y-47+63,$+=(47-y&y-58)>>>8&-a+y-48+52,$+=(64-y&y-91)>>>8&-a+y-65+0,$+=(96-y&y-123)>>>8&-a+y-97+26,$},w.prototype._getPaddingLength=function(y){var $=0;if(this._paddingCharacter){for(var b=y.length-1;b>=0&&y[b]===this._paddingCharacter;b--)$++;if(y.length<4||$>2)throw new Error("Base64Coder: incorrect padding")}return $},w}();n.Coder=l;var c=new l;function d(w){return c.encode(w)}n.encode=d;function u(w){return c.decode(w)}n.decode=u;var f=function(w){r(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype._encodeByte=function($){var b=$;return b+=65,b+=25-$>>>8&0-65-26+97,b+=51-$>>>8&26-97-52+48,b+=61-$>>>8&52-48-62+45,b+=62-$>>>8&62-45-63+95,String.fromCharCode(b)},y.prototype._decodeChar=function($){var b=a;return b+=(44-$&$-46)>>>8&-a+$-45+62,b+=(94-$&$-96)>>>8&-a+$-95+63,b+=(47-$&$-58)>>>8&-a+$-48+52,b+=(64-$&$-91)>>>8&-a+$-65+0,b+=(96-$&$-123)>>>8&-a+$-97+26,b},y}(l);n.URLSafeCoder=f;var m=new f;function g(w){return m.encode(w)}n.encodeURLSafe=g;function _(w){return m.decode(w)}n.decodeURLSafe=_,n.encodedLength=function(w){return c.encodedLength(w)},n.maxDecodedLength=function(w){return c.maxDecodedLength(w)},n.decodedLength=function(w){return c.decodedLength(w)}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r="utf8: invalid string",a="utf8: invalid source encoding";function l(u){for(var f=new Uint8Array(c(u)),m=0,g=0;g<u.length;g++){var _=u.charCodeAt(g);_<128?f[m++]=_:_<2048?(f[m++]=192|_>>6,f[m++]=128|_&63):_<55296?(f[m++]=224|_>>12,f[m++]=128|_>>6&63,f[m++]=128|_&63):(g++,_=(_&1023)<<10,_|=u.charCodeAt(g)&1023,_+=65536,f[m++]=240|_>>18,f[m++]=128|_>>12&63,f[m++]=128|_>>6&63,f[m++]=128|_&63)}return f}n.encode=l;function c(u){for(var f=0,m=0;m<u.length;m++){var g=u.charCodeAt(m);if(g<128)f+=1;else if(g<2048)f+=2;else if(g<55296)f+=3;else if(g<=57343){if(m>=u.length-1)throw new Error(r);m++,f+=4}else throw new Error(r)}return f}n.encodedLength=c;function d(u){for(var f=[],m=0;m<u.length;m++){var g=u[m];if(g&128){var _=void 0;if(g<224){if(m>=u.length)throw new Error(a);var w=u[++m];if((w&192)!==128)throw new Error(a);g=(g&31)<<6|w&63,_=128}else if(g<240){if(m>=u.length-1)throw new Error(a);var w=u[++m],y=u[++m];if((w&192)!==128||(y&192)!==128)throw new Error(a);g=(g&15)<<12|(w&63)<<6|y&63,_=2048}else if(g<248){if(m>=u.length-2)throw new Error(a);var w=u[++m],y=u[++m],$=u[++m];if((w&192)!==128||(y&192)!==128||($&192)!==128)throw new Error(a);g=(g&15)<<18|(w&63)<<12|(y&63)<<6|$&63,_=65536}else throw new Error(a);if(g<_||g>=55296&&g<=57343)throw new Error(a);if(g>=65536){if(g>1114111)throw new Error(a);g-=65536,f.push(String.fromCharCode(55296|g>>10)),g=56320|g&1023}}f.push(String.fromCharCode(g))}return f.join("")}n.decode=d},function(t,n,o){t.exports=o(3).default},function(t,n,o){o.r(n);class r{constructor(x,C){this.lastId=0,this.prefix=x,this.name=C}create(x){this.lastId++;var C=this.lastId,j=this.prefix+C,U=this.name+"["+C+"]",pe=!1,Ae=function(){pe||(x.apply(null,arguments),pe=!0)};return this[C]=Ae,{number:C,id:j,name:U,callback:Ae}}remove(x){delete this[x.number]}}var a=new r("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class d{constructor(x){this.options=x,this.receivers=x.receivers||a,this.loading={}}load(x,C,j){var U=this;if(U.loading[x]&&U.loading[x].length>0)U.loading[x].push(j);else{U.loading[x]=[j];var pe=at.createScriptRequest(U.getPath(x,C)),Ae=U.receivers.create(function(Ve){if(U.receivers.remove(Ae),U.loading[x]){var rt=U.loading[x];delete U.loading[x];for(var wt=function(is){is||pe.cleanup()},Dt=0;Dt<rt.length;Dt++)rt[Dt](Ve,wt)}});pe.send(Ae)}}getRoot(x){var C,j=at.getDocument().location.protocol;return x&&x.useTLS||j==="https:"?C=this.options.cdn_https:C=this.options.cdn_http,C.replace(/\/*$/,"")+"/"+this.options.version}getPath(x,C){return this.getRoot(C)+"/"+x+this.options.suffix+".js"}}var u=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new d({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:u});const m={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var _={buildLogSuffix:function(D){const x="See:",C=m.urls[D];if(!C)return"";let j;return C.fullUrl?j=C.fullUrl:C.path&&(j=m.baseUrl+C.path),j?`${x} ${j}`:""}},w;(function(D){D.UserAuthentication="user-authentication",D.ChannelAuthorization="channel-authorization"})(w||(w={}));class y extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class $ extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(x){super(x),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(x,C){super(C),this.status=x,Object.setPrototypeOf(this,new.target.prototype)}}var A=function(D,x,C,j,U){const pe=at.createXHR();pe.open("POST",C.endpoint,!0),pe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Ae in C.headers)pe.setRequestHeader(Ae,C.headers[Ae]);if(C.headersProvider!=null){let Ve=C.headersProvider();for(var Ae in Ve)pe.setRequestHeader(Ae,Ve[Ae])}return pe.onreadystatechange=function(){if(pe.readyState===4)if(pe.status===200){let Ve,rt=!1;try{Ve=JSON.parse(pe.responseText),rt=!0}catch{U(new F(200,`JSON returned from ${j.toString()} endpoint was invalid, yet status code was 200. Data was: ${pe.responseText}`),null)}rt&&U(null,Ve)}else{let Ve="";switch(j){case w.UserAuthentication:Ve=_.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:Ve=`Clients must be authorized to join private or presence channels. ${_.buildLogSuffix("authorizationEndpoint")}`;break}U(new F(pe.status,`Unable to retrieve auth string from ${j.toString()} endpoint - received status: ${pe.status} from ${C.endpoint}. ${Ve}`),null)}},pe.send(x),pe};function ee(D){return G(ve(D))}var q=String.fromCharCode,_e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e=function(D){var x=D.charCodeAt(0);return x<128?D:x<2048?q(192|x>>>6)+q(128|x&63):q(224|x>>>12&15)+q(128|x>>>6&63)+q(128|x&63)},ve=function(D){return D.replace(/[^\x00-\x7F]/g,$e)},ge=function(D){var x=[0,2,1][D.length%3],C=D.charCodeAt(0)<<16|(D.length>1?D.charCodeAt(1):0)<<8|(D.length>2?D.charCodeAt(2):0),j=[_e.charAt(C>>>18),_e.charAt(C>>>12&63),x>=2?"=":_e.charAt(C>>>6&63),x>=1?"=":_e.charAt(C&63)];return j.join("")},G=window.btoa||function(D){return D.replace(/[\s\S]{1,3}/g,ge)};class Q{constructor(x,C,j,U){this.clear=C,this.timer=x(()=>{this.timer&&(this.timer=U(this.timer))},j)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var J=Q;function me(D){window.clearTimeout(D)}function xe(D){window.clearInterval(D)}class Oe extends J{constructor(x,C){super(setTimeout,me,x,function(j){return C(),null})}}class nt extends J{constructor(x,C){super(setInterval,xe,x,function(j){return C(),j})}}var ut={now(){return Date.now?Date.now():new Date().valueOf()},defer(D){return new Oe(0,D)},method(D,...x){var C=Array.prototype.slice.call(arguments,1);return function(j){return j[D].apply(j,C.concat(arguments))}}},ie=ut;function ye(D,...x){for(var C=0;C<x.length;C++){var j=x[C];for(var U in j)j[U]&&j[U].constructor&&j[U].constructor===Object?D[U]=ye(D[U]||{},j[U]):D[U]=j[U]}return D}function we(){for(var D=["Pusher"],x=0;x<arguments.length;x++)typeof arguments[x]=="string"?D.push(arguments[x]):D.push(We(arguments[x]));return D.join(" : ")}function Ie(D,x){var C=Array.prototype.indexOf;if(D===null)return-1;if(C&&D.indexOf===C)return D.indexOf(x);for(var j=0,U=D.length;j<U;j++)if(D[j]===x)return j;return-1}function Xe(D,x){for(var C in D)Object.prototype.hasOwnProperty.call(D,C)&&x(D[C],C,D)}function Pe(D){var x=[];return Xe(D,function(C,j){x.push(j)}),x}function ne(D){var x=[];return Xe(D,function(C){x.push(C)}),x}function oe(D,x,C){for(var j=0;j<D.length;j++)x.call(C||window,D[j],j,D)}function O(D,x){for(var C=[],j=0;j<D.length;j++)C.push(x(D[j],j,D,C));return C}function B(D,x){var C={};return Xe(D,function(j,U){C[U]=x(j)}),C}function V(D,x){x=x||function(U){return!!U};for(var C=[],j=0;j<D.length;j++)x(D[j],j,D,C)&&C.push(D[j]);return C}function K(D,x){var C={};return Xe(D,function(j,U){(x&&x(j,U,D,C)||j)&&(C[U]=j)}),C}function X(D){var x=[];return Xe(D,function(C,j){x.push([j,C])}),x}function le(D,x){for(var C=0;C<D.length;C++)if(x(D[C],C,D))return!0;return!1}function Se(D,x){for(var C=0;C<D.length;C++)if(!x(D[C],C,D))return!1;return!0}function Me(D){return B(D,function(x){return typeof x=="object"&&(x=We(x)),encodeURIComponent(ee(x.toString()))})}function Ce(D){var x=K(D,function(j){return j!==void 0}),C=O(X(Me(x)),ie.method("join","=")).join("&");return C}function be(D){var x=[],C=[];return function j(U,pe){var Ae,Ve,rt;switch(typeof U){case"object":if(!U)return null;for(Ae=0;Ae<x.length;Ae+=1)if(x[Ae]===U)return{$ref:C[Ae]};if(x.push(U),C.push(pe),Object.prototype.toString.apply(U)==="[object Array]")for(rt=[],Ae=0;Ae<U.length;Ae+=1)rt[Ae]=j(U[Ae],pe+"["+Ae+"]");else{rt={};for(Ve in U)Object.prototype.hasOwnProperty.call(U,Ve)&&(rt[Ve]=j(U[Ve],pe+"["+JSON.stringify(Ve)+"]"))}return rt;case"number":case"string":case"boolean":return U}}(D,"$")}function We(D){try{return JSON.stringify(D)}catch{return JSON.stringify(be(D))}}class Re{constructor(){this.globalLog=x=>{window.console&&window.console.log&&window.console.log(x)}}debug(...x){this.log(this.globalLog,x)}warn(...x){this.log(this.globalLogWarn,x)}error(...x){this.log(this.globalLogError,x)}globalLogWarn(x){window.console&&window.console.warn?window.console.warn(x):this.globalLog(x)}globalLogError(x){window.console&&window.console.error?window.console.error(x):this.globalLogWarn(x)}log(x,...C){var j=we.apply(this,arguments);tu.log?tu.log(j):tu.logToConsole&&x.bind(this)(j)}}var De=new Re,Qe=function(D,x,C,j,U){(C.headers!==void 0||C.headersProvider!=null)&&De.warn(`To send headers with the ${j.toString()} request, you must use AJAX, rather than JSONP.`);var pe=D.nextAuthCallbackID.toString();D.nextAuthCallbackID++;var Ae=D.getDocument(),Ve=Ae.createElement("script");D.auth_callbacks[pe]=function(Dt){U(null,Dt)};var rt="Pusher.auth_callbacks['"+pe+"']";Ve.src=C.endpoint+"?callback="+encodeURIComponent(rt)+"&"+x;var wt=Ae.getElementsByTagName("head")[0]||Ae.documentElement;wt.insertBefore(Ve,wt.firstChild)},pt=Qe;class Ct{constructor(x){this.src=x}send(x){var C=this,j="Error loading "+C.src;C.script=document.createElement("script"),C.script.id=x.id,C.script.src=C.src,C.script.type="text/javascript",C.script.charset="UTF-8",C.script.addEventListener?(C.script.onerror=function(){x.callback(j)},C.script.onload=function(){x.callback(null)}):C.script.onreadystatechange=function(){(C.script.readyState==="loaded"||C.script.readyState==="complete")&&x.callback(null)},C.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(C.errorScript=document.createElement("script"),C.errorScript.id=x.id+"_error",C.errorScript.text=x.name+"('"+j+"');",C.script.async=C.errorScript.async=!1):C.script.async=!0;var U=document.getElementsByTagName("head")[0];U.insertBefore(C.script,U.firstChild),C.errorScript&&U.insertBefore(C.errorScript,C.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class vt{constructor(x,C){this.url=x,this.data=C}send(x){if(!this.request){var C=Ce(this.data),j=this.url+"/"+x.number+"?"+C;this.request=at.createScriptRequest(j),this.request.send(x)}}cleanup(){this.request&&this.request.cleanup()}}var ms=function(D,x){return function(C,j){var U="http"+(x?"s":"")+"://",pe=U+(D.host||D.options.host)+D.options.path,Ae=at.createJSONPRequest(pe,C),Ve=at.ScriptReceivers.create(function(rt,wt){a.remove(Ve),Ae.cleanup(),wt&&wt.host&&(D.host=wt.host),j&&j(rt,wt)});Ae.send(Ve)}},os={name:"jsonp",getAgent:ms},$s=os;function us(D,x,C){var j=D+(x.useTLS?"s":""),U=x.useTLS?x.hostTLS:x.hostNonTLS;return j+"://"+U+C}function Cn(D,x){var C="/app/"+D,j="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(x?"&"+x:"");return C+j}var Lt={getInitial:function(D,x){var C=(x.httpPath||"")+Cn(D,"flash=false");return us("ws",x,C)}},hs={getInitial:function(D,x){var C=(x.httpPath||"/pusher")+Cn(D);return us("http",x,C)}},Cs={getInitial:function(D,x){return us("http",x,x.httpPath||"/pusher")},getPath:function(D,x){return Cn(D)}};class Xi{constructor(){this._callbacks={}}get(x){return this._callbacks[Sn(x)]}add(x,C,j){var U=Sn(x);this._callbacks[U]=this._callbacks[U]||[],this._callbacks[U].push({fn:C,context:j})}remove(x,C,j){if(!x&&!C&&!j){this._callbacks={};return}var U=x?[Sn(x)]:Pe(this._callbacks);C||j?this.removeCallback(U,C,j):this.removeAllCallbacks(U)}removeCallback(x,C,j){oe(x,function(U){this._callbacks[U]=V(this._callbacks[U]||[],function(pe){return C&&C!==pe.fn||j&&j!==pe.context}),this._callbacks[U].length===0&&delete this._callbacks[U]},this)}removeAllCallbacks(x){oe(x,function(C){delete this._callbacks[C]},this)}}function Sn(D){return"_"+D}class sn{constructor(x){this.callbacks=new Xi,this.global_callbacks=[],this.failThrough=x}bind(x,C,j){return this.callbacks.add(x,C,j),this}bind_global(x){return this.global_callbacks.push(x),this}unbind(x,C,j){return this.callbacks.remove(x,C,j),this}unbind_global(x){return x?(this.global_callbacks=V(this.global_callbacks||[],C=>C!==x),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(x,C,j){for(var U=0;U<this.global_callbacks.length;U++)this.global_callbacks[U](x,C);var pe=this.callbacks.get(x),Ae=[];if(j?Ae.push(C,j):C&&Ae.push(C),pe&&pe.length>0)for(var U=0;U<pe.length;U++)pe[U].fn.apply(pe[U].context||window,Ae);else this.failThrough&&this.failThrough(x,C);return this}}class Mn extends sn{constructor(x,C,j,U,pe){super(),this.initialize=at.transportConnectionInitializer,this.hooks=x,this.name=C,this.priority=j,this.key=U,this.options=pe,this.state="new",this.timeline=pe.timeline,this.activityTimeout=pe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var x=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(x,this.options)}catch(C){return ie.defer(()=>{this.onError(C),this.changeState("closed")}),!1}return this.bindListeners(),De.debug("Connecting",{transport:this.name,url:x}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(x){return this.state==="open"?(ie.defer(()=>{this.socket&&this.socket.send(x)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(x){this.emit("error",{type:"WebSocketError",error:x}),this.timeline.error(this.buildTimelineMessage({error:x.toString()}))}onClose(x){x?this.changeState("closed",{code:x.code,reason:x.reason,wasClean:x.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(x){this.emit("message",x)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=x=>{this.onError(x)},this.socket.onclose=x=>{this.onClose(x)},this.socket.onmessage=x=>{this.onMessage(x)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(x,C){this.state=x,this.timeline.info(this.buildTimelineMessage({state:x,params:C})),this.emit(x,C)}buildTimelineMessage(x){return ye({cid:this.id},x)}}class Ao{constructor(x){this.hooks=x}isSupported(x){return this.hooks.isSupported(x)}createConnection(x,C,j,U){return new Mn(this.hooks,x,C,j,U)}}var Hd=new Ao({urls:Lt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!at.getWebSocketAPI()},isSupported:function(){return!!at.getWebSocketAPI()},getSocket:function(D){return at.createWebSocket(D)}}),L={urls:hs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},z=ye({getSocket:function(D){return at.HTTPFactory.createStreamingSocket(D)}},L),Z=ye({getSocket:function(D){return at.HTTPFactory.createPollingSocket(D)}},L),ce={isSupported:function(){return at.isXHRSupported()}},Te=new Ao(ye({},z,ce)),je=new Ao(ye({},Z,ce)),it={ws:Hd,xhr_streaming:Te,xhr_polling:je},ze=it,ft=new Ao({file:"sockjs",urls:Cs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(D,x){return new window.SockJS(D,null,{js_path:f.getPath("sockjs",{useTLS:x.useTLS}),ignore_null_origin:x.ignoreNullOrigin})},beforeOpen:function(D,x){D.send(JSON.stringify({path:x}))}}),Be={isSupported:function(D){var x=at.isXDRSupported(D.useTLS);return x}},Ze=new Ao(ye({},z,Be)),Tt=new Ao(ye({},Z,Be));ze.xdr_streaming=Ze,ze.xdr_polling=Tt,ze.sockjs=ft;var mn=ze;class Ns extends sn{constructor(){super();var x=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){x.emit("online")},!1),window.addEventListener("offline",function(){x.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var ui=new Ns;class Eo{constructor(x,C,j){this.manager=x,this.transport=C,this.minPingDelay=j.minPingDelay,this.maxPingDelay=j.maxPingDelay,this.pingDelay=void 0}createConnection(x,C,j,U){U=ye({},U,{activityTimeout:this.pingDelay});var pe=this.transport.createConnection(x,C,j,U),Ae=null,Ve=function(){pe.unbind("open",Ve),pe.bind("closed",rt),Ae=ie.now()},rt=wt=>{if(pe.unbind("closed",rt),wt.code===1002||wt.code===1003)this.manager.reportDeath();else if(!wt.wasClean&&Ae){var Dt=ie.now()-Ae;Dt<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Dt/2,this.minPingDelay))}};return pe.bind("open",Ve),pe}isSupported(x){return this.manager.isAlive()&&this.transport.isSupported(x)}}const ul={decodeMessage:function(D){try{var x=JSON.parse(D.data),C=x.data;if(typeof C=="string")try{C=JSON.parse(x.data)}catch{}var j={event:x.event,channel:x.channel,data:C};return x.user_id&&(j.user_id=x.user_id),j}catch(U){throw{type:"MessageParseError",error:U,data:D.data}}},encodeMessage:function(D){return JSON.stringify(D)},processHandshake:function(D){var x=ul.decodeMessage(D);if(x.event==="pusher:connection_established"){if(!x.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:x.data.socket_id,activityTimeout:x.data.activity_timeout*1e3}}else{if(x.event==="pusher:error")return{action:this.getCloseAction(x.data),error:this.getCloseError(x.data)};throw"Invalid handshake"}},getCloseAction:function(D){return D.code<4e3?D.code>=1002&&D.code<=1004?"backoff":null:D.code===4e3?"tls_only":D.code<4100?"refused":D.code<4200?"backoff":D.code<4300?"retry":"refused"},getCloseError:function(D){return D.code!==1e3&&D.code!==1001?{type:"PusherError",data:{code:D.code,message:D.reason||D.message}}:null}};var Tn=ul;class Vd extends sn{constructor(x,C){super(),this.id=x,this.transport=C,this.activityTimeout=C.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(x){return this.transport.send(x)}send_event(x,C,j){var U={event:x,data:C};return j&&(U.channel=j),De.debug("Event sent",U),this.send(Tn.encodeMessage(U))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var x={message:j=>{var U;try{U=Tn.decodeMessage(j)}catch(pe){this.emit("error",{type:"MessageParseError",error:pe,data:j.data})}if(U!==void 0){switch(De.debug("Event recd",U),U.event){case"pusher:error":this.emit("error",{type:"PusherError",data:U.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",U)}},activity:()=>{this.emit("activity")},error:j=>{this.emit("error",j)},closed:j=>{C(),j&&j.code&&this.handleCloseEvent(j),this.transport=null,this.emit("closed")}},C=()=>{Xe(x,(j,U)=>{this.transport.unbind(U,j)})};Xe(x,(j,U)=>{this.transport.bind(U,j)})}handleCloseEvent(x){var C=Tn.getCloseAction(x),j=Tn.getCloseError(x);j&&this.emit("error",j),C&&this.emit(C,{action:C,error:j})}}class Wd{constructor(x,C){this.transport=x,this.callback=C,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=x=>{this.unbindListeners();var C;try{C=Tn.processHandshake(x)}catch(j){this.finish("error",{error:j}),this.transport.close();return}C.action==="connected"?this.finish("connected",{connection:new Vd(C.id,this.transport),activityTimeout:C.activityTimeout}):(this.finish(C.action,{error:C.error}),this.transport.close())},this.onClosed=x=>{this.unbindListeners();var C=Tn.getCloseAction(x)||"backoff",j=Tn.getCloseError(x);this.finish(C,{error:j})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(x,C){this.callback(ye({transport:this.transport,action:x},C))}}class qd{constructor(x,C){this.timeline=x,this.options=C||{}}send(x,C){this.timeline.isEmpty()||this.timeline.send(at.TimelineTransport.getAgent(this,x),C)}}class jr extends sn{constructor(x,C){super(function(j,U){De.debug("No callbacks on "+x+" for "+j)}),this.name=x,this.pusher=C,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(x,C){return C(null,{auth:""})}trigger(x,C){if(x.indexOf("client-")!==0)throw new y("Event '"+x+"' does not start with 'client-'");if(!this.subscribed){var j=_.buildLogSuffix("triggeringClientEvents");De.warn(`Client event triggered before channel 'subscription_succeeded' event . ${j}`)}return this.pusher.send_event(x,C,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(x){var C=x.event,j=x.data;if(C==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(x);else if(C==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(x);else if(C.indexOf("pusher_internal:")!==0){var U={};this.emit(C,j,U)}}handleSubscriptionSucceededEvent(x){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",x.data)}handleSubscriptionCountEvent(x){x.data.subscription_count&&(this.subscriptionCount=x.data.subscription_count),this.emit("pusher:subscription_count",x.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(x,C)=>{x?(this.subscriptionPending=!1,De.error(x.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:x.message},x instanceof F?{status:x.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:C.auth,channel_data:C.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Fr extends jr{authorize(x,C){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:x},C)}}class Kd{constructor(){this.reset()}get(x){return Object.prototype.hasOwnProperty.call(this.members,x)?{id:x,info:this.members[x]}:null}each(x){Xe(this.members,(C,j)=>{x(this.get(j))})}setMyID(x){this.myID=x}onSubscription(x){this.members=x.presence.hash,this.count=x.presence.count,this.me=this.get(this.myID)}addMember(x){return this.get(x.user_id)===null&&this.count++,this.members[x.user_id]=x.user_info,this.get(x.user_id)}removeMember(x){var C=this.get(x.user_id);return C&&(delete this.members[x.user_id],this.count--),C}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Yd=function(D,x,C,j){function U(pe){return pe instanceof C?pe:new C(function(Ae){Ae(pe)})}return new(C||(C=Promise))(function(pe,Ae){function Ve(Dt){try{wt(j.next(Dt))}catch(is){Ae(is)}}function rt(Dt){try{wt(j.throw(Dt))}catch(is){Ae(is)}}function wt(Dt){Dt.done?pe(Dt.value):U(Dt.value).then(Ve,rt)}wt((j=j.apply(D,x||[])).next())})};class Gd extends Fr{constructor(x,C){super(x,C),this.members=new Kd}authorize(x,C){super.authorize(x,(j,U)=>Yd(this,void 0,void 0,function*(){if(!j)if(U=U,U.channel_data!=null){var pe=JSON.parse(U.channel_data);this.members.setMyID(pe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Ae=_.buildLogSuffix("authorizationEndpoint");De.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Ae}, or the user should be signed in.`),C("Invalid auth response");return}C(j,U)}))}handleEvent(x){var C=x.event;if(C.indexOf("pusher_internal:")===0)this.handleInternalEvent(x);else{var j=x.data,U={};x.user_id&&(U.user_id=x.user_id),this.emit(C,j,U)}}handleInternalEvent(x){var C=x.event,j=x.data;switch(C){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(x);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(x);break;case"pusher_internal:member_added":var U=this.members.addMember(j);this.emit("pusher:member_added",U);break;case"pusher_internal:member_removed":var pe=this.members.removeMember(j);pe&&this.emit("pusher:member_removed",pe);break}}handleSubscriptionSucceededEvent(x){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(x.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var cb=o(1),Xd=o(0);class db extends Fr{constructor(x,C,j){super(x,C),this.key=null,this.nacl=j}authorize(x,C){super.authorize(x,(j,U)=>{if(j){C(j,U);return}let pe=U.shared_secret;if(!pe){C(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Xd.decode)(pe),delete U.shared_secret,C(null,U)})}trigger(x,C){throw new E("Client events are not currently supported for encrypted channels")}handleEvent(x){var C=x.event,j=x.data;if(C.indexOf("pusher_internal:")===0||C.indexOf("pusher:")===0){super.handleEvent(x);return}this.handleEncryptedEvent(C,j)}handleEncryptedEvent(x,C){if(!this.key){De.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!C.ciphertext||!C.nonce){De.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+C);return}let j=Object(Xd.decode)(C.ciphertext);if(j.length<this.nacl.secretbox.overheadLength){De.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${j.length}`);return}let U=Object(Xd.decode)(C.nonce);if(U.length<this.nacl.secretbox.nonceLength){De.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${U.length}`);return}let pe=this.nacl.secretbox.open(j,U,this.key);if(pe===null){De.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Ae,Ve)=>{if(Ae){De.error(`Failed to make a request to the authEndpoint: ${Ve}. Unable to fetch new key, so dropping encrypted event`);return}if(pe=this.nacl.secretbox.open(j,U,this.key),pe===null){De.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(x,this.getDataToEmit(pe))});return}this.emit(x,this.getDataToEmit(pe))}getDataToEmit(x){let C=Object(cb.decode)(x);try{return JSON.parse(C)}catch{return C}}}class ub extends sn{constructor(x,C){super(),this.state="initialized",this.connection=null,this.key=x,this.options=C,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var j=at.getNetwork();j.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),j.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(x){return this.connection?this.connection.send(x):!1}send_event(x,C,j){return this.connection?this.connection.send_event(x,C,j):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var x=(C,j)=>{C?this.runner=this.strategy.connect(0,x):j.action==="error"?(this.emit("error",{type:"HandshakeError",error:j.error}),this.timeline.error({handshakeError:j.error})):(this.abortConnecting(),this.handshakeCallbacks[j.action](j))};this.runner=this.strategy.connect(0,x)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var x=this.abandonConnection();x.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(x){this.timeline.info({action:"retry",delay:x}),x>0&&this.emit("connecting_in",Math.round(x/1e3)),this.retryTimer=new Oe(x||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Oe(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Oe(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Oe(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(x){return ye({},x,{message:C=>{this.resetActivityCheck(),this.emit("message",C)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:C=>{this.emit("error",C)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(x){return ye({},x,{connected:C=>{this.activityTimeout=Math.min(this.options.activityTimeout,C.activityTimeout,C.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(C.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let x=C=>j=>{j.error&&this.emit("error",{type:"WebSocketError",error:j.error}),C(j)};return{tls_only:x(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:x(()=>{this.disconnect()}),backoff:x(()=>{this.retryIn(1e3)}),retry:x(()=>{this.retryIn(0)})}}setConnection(x){this.connection=x;for(var C in this.connectionCallbacks)this.connection.bind(C,this.connectionCallbacks[C]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var x in this.connectionCallbacks)this.connection.unbind(x,this.connectionCallbacks[x]);var C=this.connection;return this.connection=null,C}}updateState(x,C){var j=this.state;if(this.state=x,j!==x){var U=x;U==="connected"&&(U+=" with new socket ID "+C.socket_id),De.debug("State changed",j+" -> "+U),this.timeline.info({state:x,params:C}),this.emit("state_change",{previous:j,current:x}),this.emit(x,C)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class hb{constructor(){this.channels={}}add(x,C){return this.channels[x]||(this.channels[x]=fb(x,C)),this.channels[x]}all(){return ne(this.channels)}find(x){return this.channels[x]}remove(x){var C=this.channels[x];return delete this.channels[x],C}disconnect(){Xe(this.channels,function(x){x.disconnect()})}}function fb(D,x){if(D.indexOf("private-encrypted-")===0){if(x.config.nacl)return no.createEncryptedChannel(D,x,x.config.nacl);let C="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",j=_.buildLogSuffix("encryptedChannelSupport");throw new E(`${C}. ${j}`)}else{if(D.indexOf("private-")===0)return no.createPrivateChannel(D,x);if(D.indexOf("presence-")===0)return no.createPresenceChannel(D,x);if(D.indexOf("#")===0)throw new $('Cannot create a channel with name "'+D+'".');return no.createChannel(D,x)}}var pb={createChannels(){return new hb},createConnectionManager(D,x){return new ub(D,x)},createChannel(D,x){return new jr(D,x)},createPrivateChannel(D,x){return new Fr(D,x)},createPresenceChannel(D,x){return new Gd(D,x)},createEncryptedChannel(D,x,C){return new db(D,x,C)},createTimelineSender(D,x){return new qd(D,x)},createHandshake(D,x){return new Wd(D,x)},createAssistantToTheTransportManager(D,x,C){return new Eo(D,x,C)}},no=pb;class up{constructor(x){this.options=x||{},this.livesLeft=this.options.lives||1/0}getAssistant(x){return no.createAssistantToTheTransportManager(this,x,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class hi{constructor(x,C){this.strategies=x,this.loop=!!C.loop,this.failFast=!!C.failFast,this.timeout=C.timeout,this.timeoutLimit=C.timeoutLimit}isSupported(){return le(this.strategies,ie.method("isSupported"))}connect(x,C){var j=this.strategies,U=0,pe=this.timeout,Ae=null,Ve=(rt,wt)=>{wt?C(null,wt):(U=U+1,this.loop&&(U=U%j.length),U<j.length?(pe&&(pe=pe*2,this.timeoutLimit&&(pe=Math.min(pe,this.timeoutLimit))),Ae=this.tryStrategy(j[U],x,{timeout:pe,failFast:this.failFast},Ve)):C(!0))};return Ae=this.tryStrategy(j[U],x,{timeout:pe,failFast:this.failFast},Ve),{abort:function(){Ae.abort()},forceMinPriority:function(rt){x=rt,Ae&&Ae.forceMinPriority(rt)}}}tryStrategy(x,C,j,U){var pe=null,Ae=null;return j.timeout>0&&(pe=new Oe(j.timeout,function(){Ae.abort(),U(!0)})),Ae=x.connect(C,function(Ve,rt){Ve&&pe&&pe.isRunning()&&!j.failFast||(pe&&pe.ensureAborted(),U(Ve,rt))}),{abort:function(){pe&&pe.ensureAborted(),Ae.abort()},forceMinPriority:function(Ve){Ae.forceMinPriority(Ve)}}}}class Jd{constructor(x){this.strategies=x}isSupported(){return le(this.strategies,ie.method("isSupported"))}connect(x,C){return mb(this.strategies,x,function(j,U){return function(pe,Ae){if(U[j].error=pe,pe){gb(U)&&C(!0);return}oe(U,function(Ve){Ve.forceMinPriority(Ae.transport.priority)}),C(null,Ae)}})}}function mb(D,x,C){var j=O(D,function(U,pe,Ae,Ve){return U.connect(x,C(pe,Ve))});return{abort:function(){oe(j,_b)},forceMinPriority:function(U){oe(j,function(pe){pe.forceMinPriority(U)})}}}function gb(D){return Se(D,function(x){return!!x.error})}function _b(D){!D.error&&!D.aborted&&(D.abort(),D.aborted=!0)}class vb{constructor(x,C,j){this.strategy=x,this.transports=C,this.ttl=j.ttl||1800*1e3,this.usingTLS=j.useTLS,this.timeline=j.timeline}isSupported(){return this.strategy.isSupported()}connect(x,C){var j=this.usingTLS,U=yb(j),pe=U&&U.cacheSkipCount?U.cacheSkipCount:0,Ae=[this.strategy];if(U&&U.timestamp+this.ttl>=ie.now()){var Ve=this.transports[U.transport];Ve&&(["ws","wss"].includes(U.transport)||pe>3?(this.timeline.info({cached:!0,transport:U.transport,latency:U.latency}),Ae.push(new hi([Ve],{timeout:U.latency*2+1e3,failFast:!0}))):pe++)}var rt=ie.now(),wt=Ae.pop().connect(x,function Dt(is,pl){is?(hp(j),Ae.length>0?(rt=ie.now(),wt=Ae.pop().connect(x,Dt)):C(is)):(bb(j,pl.transport.name,ie.now()-rt,pe),C(null,pl))});return{abort:function(){wt.abort()},forceMinPriority:function(Dt){x=Dt,wt&&wt.forceMinPriority(Dt)}}}}function Qd(D){return"pusherTransport"+(D?"TLS":"NonTLS")}function yb(D){var x=at.getLocalStorage();if(x)try{var C=x[Qd(D)];if(C)return JSON.parse(C)}catch{hp(D)}return null}function bb(D,x,C,j){var U=at.getLocalStorage();if(U)try{U[Qd(D)]=We({timestamp:ie.now(),transport:x,latency:C,cacheSkipCount:j})}catch{}}function hp(D){var x=at.getLocalStorage();if(x)try{delete x[Qd(D)]}catch{}}class hl{constructor(x,{delay:C}){this.strategy=x,this.options={delay:C}}isSupported(){return this.strategy.isSupported()}connect(x,C){var j=this.strategy,U,pe=new Oe(this.options.delay,function(){U=j.connect(x,C)});return{abort:function(){pe.ensureAborted(),U&&U.abort()},forceMinPriority:function(Ae){x=Ae,U&&U.forceMinPriority(Ae)}}}}class Nr{constructor(x,C,j){this.test=x,this.trueBranch=C,this.falseBranch=j}isSupported(){var x=this.test()?this.trueBranch:this.falseBranch;return x.isSupported()}connect(x,C){var j=this.test()?this.trueBranch:this.falseBranch;return j.connect(x,C)}}class xb{constructor(x){this.strategy=x}isSupported(){return this.strategy.isSupported()}connect(x,C){var j=this.strategy.connect(x,function(U,pe){pe&&j.abort(),C(U,pe)});return j}}function zr(D){return function(){return D.isSupported()}}var wb=function(D,x,C){var j={};function U(kp,xx,wx,kx,$x){var $p=C(D,kp,xx,wx,kx,$x);return j[kp]=$p,$p}var pe=Object.assign({},x,{hostNonTLS:D.wsHost+":"+D.wsPort,hostTLS:D.wsHost+":"+D.wssPort,httpPath:D.wsPath}),Ae=Object.assign({},pe,{useTLS:!0}),Ve=Object.assign({},x,{hostNonTLS:D.httpHost+":"+D.httpPort,hostTLS:D.httpHost+":"+D.httpsPort,httpPath:D.httpPath}),rt={loop:!0,timeout:15e3,timeoutLimit:6e4},wt=new up({minPingDelay:1e4,maxPingDelay:D.activityTimeout}),Dt=new up({lives:2,minPingDelay:1e4,maxPingDelay:D.activityTimeout}),is=U("ws","ws",3,pe,wt),pl=U("wss","ws",3,Ae,wt),gx=U("sockjs","sockjs",1,Ve),_p=U("xhr_streaming","xhr_streaming",1,Ve,Dt),_x=U("xdr_streaming","xdr_streaming",1,Ve,Dt),vp=U("xhr_polling","xhr_polling",1,Ve),vx=U("xdr_polling","xdr_polling",1,Ve),yp=new hi([is],rt),yx=new hi([pl],rt),bx=new hi([gx],rt),bp=new hi([new Nr(zr(_p),_p,_x)],rt),xp=new hi([new Nr(zr(vp),vp,vx)],rt),wp=new hi([new Nr(zr(bp),new Jd([bp,new hl(xp,{delay:4e3})]),xp)],rt),su=new Nr(zr(wp),wp,bx),nu;return x.useTLS?nu=new Jd([yp,new hl(su,{delay:2e3})]):nu=new Jd([yp,new hl(yx,{delay:2e3}),new hl(su,{delay:5e3})]),new vb(new xb(new Nr(zr(is),nu,su)),j,{ttl:18e5,timeline:x.timeline,useTLS:x.useTLS})},kb=wb,$b=function(){var D=this;D.timeline.info(D.buildTimelineMessage({transport:D.name+(D.options.useTLS?"s":"")})),D.hooks.isInitialized()?D.changeState("initialized"):D.hooks.file?(D.changeState("initializing"),f.load(D.hooks.file,{useTLS:D.options.useTLS},function(x,C){D.hooks.isInitialized()?(D.changeState("initialized"),C(!0)):(x&&D.onError(x),D.onClose(),C(!1))})):D.onClose()},Cb={getRequest:function(D){var x=new window.XDomainRequest;return x.ontimeout=function(){D.emit("error",new b),D.close()},x.onerror=function(C){D.emit("error",C),D.close()},x.onprogress=function(){x.responseText&&x.responseText.length>0&&D.onChunk(200,x.responseText)},x.onload=function(){x.responseText&&x.responseText.length>0&&D.onChunk(200,x.responseText),D.emit("finished",200),D.close()},x},abortRequest:function(D){D.ontimeout=D.onerror=D.onprogress=D.onload=null,D.abort()}},Sb=Cb;const Mb=256*1024;class Tb extends sn{constructor(x,C,j){super(),this.hooks=x,this.method=C,this.url=j}start(x){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},at.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(x)}close(){this.unloader&&(at.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(x,C){for(;;){var j=this.advanceBuffer(C);if(j)this.emit("chunk",{status:x,data:j});else break}this.isBufferTooLong(C)&&this.emit("buffer_too_long")}advanceBuffer(x){var C=x.slice(this.position),j=C.indexOf(`
`);return j!==-1?(this.position+=j+1,C.slice(0,j)):null}isBufferTooLong(x){return this.position===x.length&&x.length>Mb}}var Zd;(function(D){D[D.CONNECTING=0]="CONNECTING",D[D.OPEN=1]="OPEN",D[D.CLOSED=3]="CLOSED"})(Zd||(Zd={}));var fi=Zd,Db=1;class Ab{constructor(x,C){this.hooks=x,this.session=pp(1e3)+"/"+Rb(8),this.location=Eb(C),this.readyState=fi.CONNECTING,this.openStream()}send(x){return this.sendRaw(JSON.stringify([x]))}ping(){this.hooks.sendHeartbeat(this)}close(x,C){this.onClose(x,C,!0)}sendRaw(x){if(this.readyState===fi.OPEN)try{return at.createSocketRequest("POST",fp(Pb(this.location,this.session))).start(x),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(x,C,j){this.closeStream(),this.readyState=fi.CLOSED,this.onclose&&this.onclose({code:x,reason:C,wasClean:j})}onChunk(x){if(x.status===200){this.readyState===fi.OPEN&&this.onActivity();var C,j=x.data.slice(0,1);switch(j){case"o":C=JSON.parse(x.data.slice(1)||"{}"),this.onOpen(C);break;case"a":C=JSON.parse(x.data.slice(1)||"[]");for(var U=0;U<C.length;U++)this.onEvent(C[U]);break;case"m":C=JSON.parse(x.data.slice(1)||"null"),this.onEvent(C);break;case"h":this.hooks.onHeartbeat(this);break;case"c":C=JSON.parse(x.data.slice(1)||"[]"),this.onClose(C[0],C[1],!0);break}}}onOpen(x){this.readyState===fi.CONNECTING?(x&&x.hostname&&(this.location.base=Ob(this.location.base,x.hostname)),this.readyState=fi.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(x){this.readyState===fi.OPEN&&this.onmessage&&this.onmessage({data:x})}onActivity(){this.onactivity&&this.onactivity()}onError(x){this.onerror&&this.onerror(x)}openStream(){this.stream=at.createSocketRequest("POST",fp(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",x=>{this.onChunk(x)}),this.stream.bind("finished",x=>{this.hooks.onFinished(this,x)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(x){ie.defer(()=>{this.onError(x),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Eb(D){var x=/([^\?]*)\/*(\??.*)/.exec(D);return{base:x[1],queryString:x[2]}}function Pb(D,x){return D.base+"/"+x+"/xhr_send"}function fp(D){var x=D.indexOf("?")===-1?"?":"&";return D+x+"t="+ +new Date+"&n="+Db++}function Ob(D,x){var C=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(D);return C[1]+x+C[3]}function pp(D){return at.randomInt(D)}function Rb(D){for(var x=[],C=0;C<D;C++)x.push(pp(32).toString(32));return x.join("")}var Lb=Ab,Ib={getReceiveURL:function(D,x){return D.base+"/"+x+"/xhr_streaming"+D.queryString},onHeartbeat:function(D){D.sendRaw("[]")},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,x){D.onClose(1006,"Connection interrupted ("+x+")",!1)}},jb=Ib,Fb={getReceiveURL:function(D,x){return D.base+"/"+x+"/xhr"+D.queryString},onHeartbeat:function(){},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,x){x===200?D.reconnect():D.onClose(1006,"Connection interrupted ("+x+")",!1)}},Nb=Fb,zb={getRequest:function(D){var x=at.getXHRAPI(),C=new x;return C.onreadystatechange=C.onprogress=function(){switch(C.readyState){case 3:C.responseText&&C.responseText.length>0&&D.onChunk(C.status,C.responseText);break;case 4:C.responseText&&C.responseText.length>0&&D.onChunk(C.status,C.responseText),D.emit("finished",C.status),D.close();break}},C},abortRequest:function(D){D.onreadystatechange=null,D.abort()}},Bb=zb,Ub={createStreamingSocket(D){return this.createSocket(jb,D)},createPollingSocket(D){return this.createSocket(Nb,D)},createSocket(D,x){return new Lb(D,x)},createXHR(D,x){return this.createRequest(Bb,D,x)},createRequest(D,x,C){return new Tb(D,x,C)}},mp=Ub;mp.createXDR=function(D,x){return this.createRequest(Sb,D,x)};var Hb=mp,Vb={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:u,getDefaultStrategy:kb,Transports:mn,transportConnectionInitializer:$b,HTTPFactory:Hb,TimelineTransport:$s,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(D){window.Pusher=D;var x=()=>{this.onDocumentBody(D.ready)};window.JSON?x():f.load("json2",{},x)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:A,jsonp:pt}},onDocumentBody(D){document.body?D():setTimeout(()=>{this.onDocumentBody(D)},0)},createJSONPRequest(D,x){return new vt(D,x)},createScriptRequest(D){return new Ct(D)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var D=this.getXHRAPI();return new D},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return ui},createWebSocket(D){var x=this.getWebSocketAPI();return new x(D)},createSocketRequest(D,x){if(this.isXHRSupported())return this.HTTPFactory.createXHR(D,x);if(this.isXDRSupported(x.indexOf("https:")===0))return this.HTTPFactory.createXDR(D,x);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var D=this.getXHRAPI();return!!D&&new D().withCredentials!==void 0},isXDRSupported(D){var x=D?"https:":"http:",C=this.getProtocol();return!!window.XDomainRequest&&C===x},addUnloadListener(D){window.addEventListener!==void 0?window.addEventListener("unload",D,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",D)},removeUnloadListener(D){window.addEventListener!==void 0?window.removeEventListener("unload",D,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",D)},randomInt(D){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*D)}},at=Vb,eu;(function(D){D[D.ERROR=3]="ERROR",D[D.INFO=6]="INFO",D[D.DEBUG=7]="DEBUG"})(eu||(eu={}));var fl=eu;class Wb{constructor(x,C,j){this.key=x,this.session=C,this.events=[],this.options=j||{},this.sent=0,this.uniqueID=0}log(x,C){x<=this.options.level&&(this.events.push(ye({},C,{timestamp:ie.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(x){this.log(fl.ERROR,x)}info(x){this.log(fl.INFO,x)}debug(x){this.log(fl.DEBUG,x)}isEmpty(){return this.events.length===0}send(x,C){var j=ye({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],x(j,(U,pe)=>{U||this.sent++,C&&C(U,pe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class qb{constructor(x,C,j,U){this.name=x,this.priority=C,this.transport=j,this.options=U||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(x,C){if(this.isSupported()){if(this.priority<x)return gp(new S,C)}else return gp(new N,C);var j=!1,U=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),pe=null,Ae=function(){U.unbind("initialized",Ae),U.connect()},Ve=function(){pe=no.createHandshake(U,function(is){j=!0,Dt(),C(null,is)})},rt=function(is){Dt(),C(is)},wt=function(){Dt();var is;is=We(U),C(new M(is))},Dt=function(){U.unbind("initialized",Ae),U.unbind("open",Ve),U.unbind("error",rt),U.unbind("closed",wt)};return U.bind("initialized",Ae),U.bind("open",Ve),U.bind("error",rt),U.bind("closed",wt),U.initialize(),{abort:()=>{j||(Dt(),pe?pe.close():U.close())},forceMinPriority:is=>{j||this.priority<is&&(pe?pe.close():U.close())}}}}function gp(D,x){return ie.defer(function(){x(D)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Kb}=at;var Yb=function(D,x,C,j,U,pe){var Ae=Kb[C];if(!Ae)throw new H(C);var Ve=(!D.enabledTransports||Ie(D.enabledTransports,x)!==-1)&&(!D.disabledTransports||Ie(D.disabledTransports,x)===-1),rt;return Ve?(U=Object.assign({ignoreNullOrigin:D.ignoreNullOrigin},U),rt=new qb(x,j,pe?pe.getAssistant(Ae):Ae,U)):rt=Gb,rt},Gb={isSupported:function(){return!1},connect:function(D,x){var C=ie.defer(function(){x(new N)});return{abort:function(){C.ensureAborted()},forceMinPriority:function(){}}}};function Xb(D){if(D==null)throw"You must pass an options object";if(D.cluster==null)throw"Options object must provide a cluster";"disableStats"in D&&De.warn("The disableStats option is deprecated in favor of enableStats")}const Jb=(D,x)=>{var C="socket_id="+encodeURIComponent(D.socketId);for(var j in x.params)C+="&"+encodeURIComponent(j)+"="+encodeURIComponent(x.params[j]);if(x.paramsProvider!=null){let U=x.paramsProvider();for(var j in U)C+="&"+encodeURIComponent(j)+"="+encodeURIComponent(U[j])}return C};var Qb=D=>{if(typeof at.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return(x,C)=>{const j=Jb(x,D);at.getAuthorizers()[D.transport](at,j,D,w.UserAuthentication,C)}};const Zb=(D,x)=>{var C="socket_id="+encodeURIComponent(D.socketId);C+="&channel_name="+encodeURIComponent(D.channelName);for(var j in x.params)C+="&"+encodeURIComponent(j)+"="+encodeURIComponent(x.params[j]);if(x.paramsProvider!=null){let U=x.paramsProvider();for(var j in U)C+="&"+encodeURIComponent(j)+"="+encodeURIComponent(U[j])}return C};var ex=D=>{if(typeof at.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return(x,C)=>{const j=Zb(x,D);at.getAuthorizers()[D.transport](at,j,D,w.ChannelAuthorization,C)}};const tx=(D,x,C)=>{const j={authTransport:x.transport,authEndpoint:x.endpoint,auth:{params:x.params,headers:x.headers}};return(U,pe)=>{const Ae=D.channel(U.channelName);C(Ae,j).authorize(U.socketId,pe)}};function sx(D,x){let C={activityTimeout:D.activityTimeout||c.activityTimeout,cluster:D.cluster,httpPath:D.httpPath||c.httpPath,httpPort:D.httpPort||c.httpPort,httpsPort:D.httpsPort||c.httpsPort,pongTimeout:D.pongTimeout||c.pongTimeout,statsHost:D.statsHost||c.stats_host,unavailableTimeout:D.unavailableTimeout||c.unavailableTimeout,wsPath:D.wsPath||c.wsPath,wsPort:D.wsPort||c.wsPort,wssPort:D.wssPort||c.wssPort,enableStats:ax(D),httpHost:nx(D),useTLS:rx(D),wsHost:ox(D),userAuthenticator:lx(D),channelAuthorizer:dx(D,x)};return"disabledTransports"in D&&(C.disabledTransports=D.disabledTransports),"enabledTransports"in D&&(C.enabledTransports=D.enabledTransports),"ignoreNullOrigin"in D&&(C.ignoreNullOrigin=D.ignoreNullOrigin),"timelineParams"in D&&(C.timelineParams=D.timelineParams),"nacl"in D&&(C.nacl=D.nacl),C}function nx(D){return D.httpHost?D.httpHost:D.cluster?`sockjs-${D.cluster}.pusher.com`:c.httpHost}function ox(D){return D.wsHost?D.wsHost:ix(D.cluster)}function ix(D){return`ws-${D}.pusher.com`}function rx(D){return at.getProtocol()==="https:"?!0:D.forceTLS!==!1}function ax(D){return"enableStats"in D?D.enableStats:"disableStats"in D?!D.disableStats:!1}function lx(D){const x=Object.assign(Object.assign({},c.userAuthentication),D.userAuthentication);return"customHandler"in x&&x.customHandler!=null?x.customHandler:Qb(x)}function cx(D,x){let C;return"channelAuthorization"in D?C=Object.assign(Object.assign({},c.channelAuthorization),D.channelAuthorization):(C={transport:D.authTransport||c.authTransport,endpoint:D.authEndpoint||c.authEndpoint},"auth"in D&&("params"in D.auth&&(C.params=D.auth.params),"headers"in D.auth&&(C.headers=D.auth.headers)),"authorizer"in D&&(C.customHandler=tx(x,C,D.authorizer))),C}function dx(D,x){const C=cx(D,x);return"customHandler"in C&&C.customHandler!=null?C.customHandler:ex(C)}class ux extends sn{constructor(x){super(function(C,j){De.debug(`No callbacks on watchlist events for ${C}`)}),this.pusher=x,this.bindWatchlistInternalEvent()}handleEvent(x){x.data.events.forEach(C=>{this.emit(C.name,C)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",x=>{var C=x.event;C==="pusher_internal:watchlist_events"&&this.handleEvent(x)})}}function hx(){let D,x;return{promise:new Promise((j,U)=>{D=j,x=U}),resolve:D,reject:x}}var fx=hx;class px extends sn{constructor(x){super(function(C,j){De.debug("No callbacks on user for "+C)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(C,j)=>{if(C){De.warn(`Error during signin: ${C}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:j.auth,user_data:j.user_data})},this.pusher=x,this.pusher.connection.bind("state_change",({previous:C,current:j})=>{C!=="connected"&&j==="connected"&&this._signin(),C==="connected"&&j!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new ux(x),this.pusher.connection.bind("message",C=>{var j=C.event;j==="pusher:signin_success"&&this._onSigninSuccess(C.data),this.serverToUserChannel&&this.serverToUserChannel.name===C.channel&&this.serverToUserChannel.handleEvent(C)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(x){try{this.user_data=JSON.parse(x.user_data)}catch{De.error(`Failed parsing user data after signin: ${x.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){De.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const x=C=>{C.subscriptionPending&&C.subscriptionCancelled?C.reinstateSubscription():!C.subscriptionPending&&this.pusher.connection.state==="connected"&&C.subscribe()};this.serverToUserChannel=new jr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((C,j)=>{C.indexOf("pusher_internal:")===0||C.indexOf("pusher:")===0||this.emit(C,j)}),x(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:x,resolve:C,reject:j}=fx();x.done=!1;const U=()=>{x.done=!0};x.then(U).catch(U),this.signinDonePromise=x,this._signinDoneResolve=C}}class gs{static ready(){gs.isReady=!0;for(var x=0,C=gs.instances.length;x<C;x++)gs.instances[x].connect()}static getClientFeatures(){return Pe(K({ws:at.Transports.ws},function(x){return x.isSupported({})}))}constructor(x,C){mx(x),Xb(C),this.key=x,this.config=sx(C,this),this.channels=no.createChannels(),this.global_emitter=new sn,this.sessionID=at.randomInt(1e9),this.timeline=new Wb(this.key,this.sessionID,{cluster:this.config.cluster,features:gs.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:fl.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=no.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+at.TimelineTransport.name}));var j=U=>at.getDefaultStrategy(this.config,U,Yb);this.connection=no.createConnectionManager(this.key,{getStrategy:j,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",U=>{var pe=U.event,Ae=pe.indexOf("pusher_internal:")===0;if(U.channel){var Ve=this.channel(U.channel);Ve&&Ve.handleEvent(U)}Ae||this.global_emitter.emit(U.event,U.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",U=>{De.warn(U)}),gs.instances.push(this),this.timeline.info({instances:gs.instances.length}),this.user=new px(this),gs.isReady&&this.connect()}channel(x){return this.channels.find(x)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var x=this.connection.isUsingTLS(),C=this.timelineSender;this.timelineSenderTimer=new nt(6e4,function(){C.send(x)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(x,C,j){return this.global_emitter.bind(x,C,j),this}unbind(x,C,j){return this.global_emitter.unbind(x,C,j),this}bind_global(x){return this.global_emitter.bind_global(x),this}unbind_global(x){return this.global_emitter.unbind_global(x),this}unbind_all(x){return this.global_emitter.unbind_all(),this}subscribeAll(){var x;for(x in this.channels.channels)this.channels.channels.hasOwnProperty(x)&&this.subscribe(x)}subscribe(x){var C=this.channels.add(x,this);return C.subscriptionPending&&C.subscriptionCancelled?C.reinstateSubscription():!C.subscriptionPending&&this.connection.state==="connected"&&C.subscribe(),C}unsubscribe(x){var C=this.channels.find(x);C&&C.subscriptionPending?C.cancelSubscription():(C=this.channels.remove(x),C&&C.subscribed&&C.unsubscribe())}send_event(x,C,j){return this.connection.send_event(x,C,j)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}gs.instances=[],gs.isReady=!1,gs.logToConsole=!1,gs.Runtime=at,gs.ScriptReceivers=at.ScriptReceivers,gs.DependenciesReceivers=at.DependenciesReceivers,gs.auth_callbacks=at.auth_callbacks;var tu=n.default=gs;function mx(D){if(D==null)throw"You must pass your app key when you instantiate Pusher."}at.setup(gs)}])})})(Oy);var JT=Oy.exports;const QT=XT(JT);let Zr=null,Hh=!0;async function ZT(){if(Zr||(Zr=new(window.AudioContext||window.webkitAudioContext)),Zr.state==="suspended")try{await Zr.resume()}catch{}return Zr}async function e9(){const s=await ZT(),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.value=800,e.type="sine";const n=s.currentTime;t.gain.setValueAtTime(0,n),t.gain.linearRampToValueAtTime(.3*$g(),n+.01),t.gain.exponentialRampToValueAtTime(.01,n+.3),e.start(n),e.stop(n+.3),setTimeout(()=>{const o=s.createOscillator(),r=s.createGain();o.connect(r),r.connect(s.destination),o.frequency.value=1e3,o.type="sine";const a=s.currentTime;r.gain.setValueAtTime(0,a),r.gain.linearRampToValueAtTime(.3*$g(),a+.01),r.gain.exponentialRampToValueAtTime(.01,a+.3),o.start(a),o.stop(a+.3)},150)}async function t9(){if(Hh)try{await e9()}catch{}}function s9(){const s=localStorage.getItem("notification_sound_enabled");return s!==null&&(Hh=s==="true"),Hh}function $g(){const s=localStorage.getItem("notification_volume");return s?parseFloat(s):.5}typeof window<"u"&&s9();const n9={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Notifications"},o9={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},i9={class:"absolute mt-2 w-48 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},r9={key:0,class:"py-4 text-center text-sm text-gray-700"},a9={key:1},l9=["href","onClick"],c9=fe({__name:"_NotificationsDropdown",setup(s){const e=I([]),t=I();window.Pusher=QT;let n=null,o=0;function r(){ue.get("notifications").then(c=>{const d=c.data.new;d>o&&o>=0&&t9(),o=d,t.value=d,e.value=c.data.notifications})}r(),n=window.setInterval(()=>{document.hasFocus()&&r()},1e4),en(()=>{n&&clearInterval(n)});function a(c){c&&t.value&&ue.post("/notifications/read").then(d=>{d.data.success&&(t.value=0,o=0)})}function l(c){return{"App\\Notifications\\ProjectAssigned":"/projects/"+c.data.item_id,"App\\Notifications\\TaskAssigned":"/projects/"+c.data.project_id}[c.type]}return(c,d)=>{const u=pn("router-link");return v(),se(p(js),{onToggle:a},{trigger:Y(()=>[i("button",n9,[d[0]||(d[0]=i("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),t.value?(v(),k("div",o9,h(t.value>9?"9+":t.value),1)):P("",!0)])]),content:Y(()=>[i("div",i9,[e.value.length?(v(),k("div",a9,[(v(!0),k(he,null,ke(e.value,f=>(v(),se(u,{key:f.id,custom:"",to:l(f)},{default:Y(({href:m,navigate:g})=>[i("a",{href:m,class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",role:"menuitem",onClick:g},h(f.data.message),9,l9)]),_:2},1032,["to"]))),128))])):(v(),k("p",r9,h(c.__("No Notifications!")),1))])]),_:1})}}}),d9={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},u9={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},h9={class:"py-1",role:"none"},f9={class:"flex-1 font-medium ltr:ml-2 rtl:mr-2"},p9=fe({__name:"_RecentDropdown",setup(s){const e=I([]);return ue.get("recent-projects").then(t=>{e.value=t.data}),(t,n)=>{const o=pn("router-link");return v(),se(p(js),null,{trigger:Y(()=>[i("button",d9,[i("span",null,h(t.__("Recent")),1),n[0]||(n[0]=i("div",{class:"ltr:ml-1 rtl:mr-1"},[i("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:Y(()=>[i("div",u9,[W(i("p",{class:"px-4 py-4 text-sm text-gray-700"},h(t.__("There are no data")),513),[[Ht,!e.value.length]]),W(i("div",h9,[(v(!0),k(he,null,ke(e.value,r=>(v(),se(o,{key:r.name,class:"flex items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",to:"/projects/"+r.project_id},{default:Y(()=>[i("span",{class:"block h-2 w-2 rounded-full",style:Mt({"background-color":r.project.meta.color})},"",4),i("span",f9,h(r.project.name),1)]),_:2},1032,["to"]))),128))],512),[[Ht,e.value.length]])])]),_:1})}}}),m9={id:"logout-form",method:"POST",action:"/logout"},g9=["value"],_9={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},v9={class:"ltr:ml-2 rtl:mr-2"},y9={class:"absolute mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},b9={class:"divide-y divide-gray-100"},x9={class:"px-4 py-2.5"},w9={class:"block text-xs font-normal text-gray-500"},k9={class:"mt-0.5 block truncate text-sm font-normal text-gray-600",role:"none"},$9={class:"py-1",role:"none"},C9=fe({__name:"ProfileDropdown",setup(s){const e=gt.user,t=gt.csrf_token;function n(){document.querySelector("#logout-form").submit()}return(o,r)=>{const a=pn("RouterLink");return v(),se(p(js),null,{trigger:Y(()=>[i("form",m9,[i("input",{type:"hidden",name:"_token",value:p(t)},null,8,g9)]),i("button",_9,[T(p(ps),{avatar:p(e).avatar,class:"h-8 w-8"},null,8,["avatar"]),i("div",v9,h(p(e).name),1),r[0]||(r[0]=i("div",{class:"ltr:ml-1 rtl:mr-1"},[i("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:Y(()=>[i("div",y9,[i("div",b9,[i("p",x9,[i("span",w9,h(o.__("Signed in as")),1),i("span",k9,h(p(e).email),1)]),i("div",$9,[T(a,{to:"/profile",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:Y(()=>[te(h(o.__("Profile")),1)]),_:1}),o.can("setting:general")?(v(),se(a,{key:0,to:"/settings/general",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:Y(()=>[te(h(o.__("Settings")),1)]),_:1})):P("",!0),i("a",{href:"/logout",class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",onClick:et(n,["prevent"])},h(o.__("Logout")),1)])])])]),_:1})}}}),S9={key:0},M9={class:"flex items-center space-x-2"},T9={class:"flex flex-col leading-tight"},D9={class:"text-lg font-bold"},A9={class:"text-sm"},E9={class:"contract-tooltip"},P9={class:"mt-1 text-xs"},O9={key:0,class:"mt-0.5"},R9={class:"contract-modal-header"},L9={class:"contract-modal-body"},I9={class:"font-bold"},j9={class:"details-grid"},F9={class:"detail-item"},N9={class:"detail-value"},z9={class:"detail-item"},B9={class:"detail-value"},U9={class:"detail-item"},H9={class:"detail-value countdown-value"},V9={key:0,class:"urgency-message"},W9={class:"contract-modal-footer"},q9=fe({__name:"ContractCountdown",setup(s){const e=Le(()=>gt.contract_days_remaining),t=I(!1);function n(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}function o(l){return l?{"fixed-term":"Fixed Term",permanent:"Permanent",freelance:"Freelance"}[l]||l:"Fixed Term"}function r(){return e.value?e.value<=30?"Expiring Soon":e.value<=90?"Active (Reminder)":"Active":"Unknown"}function a(){return e.value?e.value<=30?"status-urgent":e.value<=90?"status-warning":"status-normal":""}return(l,c)=>e.value!==null&&p(gt).employment_type==="Contract"?(v(),k("div",S9,[i("div",{class:ae(["contract-countdown-badge",{"contract-urgent":e.value<=30,"contract-warning":e.value>30&&e.value<=90,"contract-normal":e.value>90}]),onClick:c[0]||(c[0]=d=>t.value=!0)},[i("div",M9,[c[6]||(c[6]=i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),i("div",T9,[c[5]||(c[5]=i("span",{class:"text-xs font-medium opacity-90"},"Contract Ends In",-1)),i("span",D9,[te(h(e.value)+" ",1),i("span",A9,h(e.value===1?"day":"days"),1)])])]),i("div",E9,[c[7]||(c[7]=i("div",{class:"text-xs font-semibold"},"Click for Details",-1)),i("div",P9,[i("div",null,"End Date: "+h(n(p(gt).user.contract_end_date)),1),p(gt).user.contract_type?(v(),k("div",O9," Type: "+h(o(p(gt).user.contract_type)),1)):P("",!0)])])],2),t.value?(v(),k("div",{key:0,class:"contract-modal-overlay",onClick:c[4]||(c[4]=d=>t.value=!1)},[i("div",{class:"contract-modal",onClick:c[3]||(c[3]=et(()=>{},["stop"]))},[i("div",R9,[c[9]||(c[9]=i("h3",{class:"text-xl font-bold text-gray-900"},"Contract Information",-1)),i("button",{class:"close-button",onClick:c[1]||(c[1]=d=>t.value=!1)},[...c[8]||(c[8]=[i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",L9,[i("div",{class:ae(["status-badge",a()])},[c[10]||(c[10]=i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",I9,"Status: "+h(r()),1)],2),i("div",j9,[i("div",F9,[c[11]||(c[11]=i("div",{class:"detail-label"},"Contract Type",-1)),i("div",N9,h(o(p(gt).user.contract_type)),1)]),i("div",z9,[c[12]||(c[12]=i("div",{class:"detail-label"},"End Date",-1)),i("div",B9,h(n(p(gt).user.contract_end_date)),1)]),i("div",U9,[c[13]||(c[13]=i("div",{class:"detail-label"},"Days Remaining",-1)),i("div",H9,h(e.value)+" "+h(e.value===1?"day":"days"),1)]),c[14]||(c[14]=a1('<div class="detail-item" data-v-881d3395><div class="detail-label" data-v-881d3395>Renewal Status</div><div class="detail-value renewal-status" data-v-881d3395><svg class="h-5 w-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-881d3395><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-881d3395></path></svg><span data-v-881d3395>Non-renewable</span></div></div>',1))]),e.value<=30?(v(),k("div",V9,[...c[15]||(c[15]=[i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),i("div",null,[i("div",{class:"font-bold"},"Urgent: Contract Expiring Soon"),i("div",{class:"text-sm"},"Please contact HR if you need assistance regarding your contract.")],-1)])])):P("",!0)]),i("div",W9,[i("button",{class:"modal-button",onClick:c[2]||(c[2]=d=>t.value=!1)}," Close ")])])])):P("",!0)])):P("",!0)}});const K9=Nf(q9,[["__scopeId","data-v-881d3395"]]),Y9={class:"relative z-10 flex h-16 flex-shrink-0 bg-white shadow"},G9={class:"flex flex-1 justify-between px-4"},X9={class:"flex flex-1 items-center px-4"},J9={class:"flex items-center ltr:ml-4 rtl:mr-4 ltr:md:ml-6 rtl:md:mr-6"},Q9=fe({__name:"Header",setup(s){const e=gd();return(t,n)=>(v(),k("div",Y9,[i("button",{class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:n[0]||(n[0]=o=>p(e).isMobileSidebar=!0)},[n[1]||(n[1]=i("span",{class:"sr-only"},"Open sidebar",-1)),T(p(sv),{class:"h-6 w-6","aria-hidden":"true"})]),i("div",G9,[i("div",X9,[T(p9),t.can("project:create")||t.can("user:create")?(v(),se(GT,{key:0,class:"ltr:ml-6 rtl:mr-6"})):P("",!0)]),i("div",J9,[T(MT),T(j3,{class:"ltr:ml-5 ltr:mr-5 rtl:ml-5 rtl:mr-5"}),T(tT),T(K9,{class:"ltr:ml-5 rtl:mr-5"}),T(c9,{class:"ltr:ml-5 rtl:mr-5"}),T(C9,{class:"ltr:ml-5 rtl:mr-5"})])])]))}}),op=tn("favorite",()=>{const s=I([]);async function e(){const{data:t}=await ue.get("favorites");s.value=t}return{items:s,fetch:e}}),Z9={class:"text-gray-400 hover:text-gray-200"},eD={class:"absolute bottom-6 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},tD={class:"py-1",role:"none"},sD=fe({__name:"ProjectMenu",props:{id:{},index:{},isFavorite:{}},emits:["toggleMenu"],setup(s,{emit:e}){const t=s,n=e,o=I(t.isFavorite);function r(d){n("toggleMenu",{state:d,index:t.index})}function a(){ue.patch("/projects/"+t.id+"/favorite").then(({data:d})=>{op().items=d.favorites.favorites,o.value=d.favorite})}function l(){ue.patch(`projects/${t.id}/archive`).then(()=>{window.location.href="/"})}function c(){Rt().add(Nd,{id:t.id})}return(d,u)=>(v(),se(p(js),{name:"sidebar-project-menu-"+s.id,onToggle:r},{trigger:Y(()=>[i("span",Z9,[T(p(C4),{class:"h-4 w-4"})])]),content:Y(()=>[i("div",eD,[i("div",tD,[i("button",{class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:et(a,["prevent"])},h(o.value?d.__("Remove favorite"):d.__("Add to favorite")),1),d.can("project:update")?(v(),k("button",{key:0,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:et(c,["prevent"])},h(d.__("Edit")),1)):P("",!0),d.can("project:delete")?(v(),k("button",{key:1,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:et(l,["prevent"])},h(d.__("Archive")),1)):P("",!0)])])]),_:1},8,["name"]))}}),nD={class:"mt-6"},oD={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},iD={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},rD={class:"ml-auto flex items-center gap-1"},aD=["href","onClick"],lD={class:"mt-2 space-y-0.5"},cD=["href","onClick"],dD={class:"flex-1 truncate"},uD=fe({__name:"Index",setup(s){const e=tt("can"),t=np(),n=ai(),o=Le(()=>n.currentRoute.value.path),r=I(null);function a(c){return o.value.startsWith(c)}function l(c){c.state?r.value=c.index:r.value==c.index&&(r.value=null)}return(c,d)=>{const u=pn("RouterLink");return v(),k("section",nD,[T(p(Ad),{open:""},{trigger:Y(({open:f})=>[i("div",oD,[(v(),k("svg",{viewBox:"0 0 16 16",class:ae(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!f,"rotate-0":f}])},[...d[1]||(d[1]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("h3",iD,h(c.__("Projects")),1),i("div",rD,[T(u,{to:"/projects",custom:""},{default:Y(({href:m,navigate:g})=>[i("a",{href:m,"data-cy":"projects-index-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:et(g,["stop"])},[T(p(M4),{class:"h-4 w-4"})],8,aD)]),_:1}),p(e)("project:create")?(v(),k("span",{key:0,"data-cy":"create-project-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:d[0]||(d[0]=et((...m)=>p(t).create&&p(t).create(...m),["stop"]))},[T(p(li),{class:"h-4 w-4"})])):P("",!0)])])]),content:Y(()=>[i("div",lD,[(v(!0),k(he,null,ke(p(t).items.filter(f=>f&&f.id),(f,m)=>(v(),se(u,{key:f.id||m,to:`/projects/${f.id}`,custom:""},{default:Y(({navigate:g,href:_,route:w})=>[i("a",{href:_,class:ae([a(w.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:g},[i("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:Mt({"background-color":f.meta.color,"box-shadow":`0 0 8px ${f.meta.color}40`})},null,4),i("span",dD,h(f.name),1),T(sD,{id:f.id,index:m,"is-favorite":f.is_favorite,class:ae(["group-hover:block",{hidden:r.value!=m}]),onToggleMenu:l},null,8,["id","index","is-favorite","class"])],10,cD)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),hD={class:"mt-6"},fD={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},pD={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},mD={class:"mt-2 space-y-0.5"},gD=["href","onClick"],_D={class:"flex-1 truncate"},vD=fe({__name:"Index",setup(s){const e=ai(),t=Le(()=>e.currentRoute.value.path),n=op();n.fetch();function o(r){return t.value.startsWith(r)}return(r,a)=>{const l=pn("RouterLink");return v(),k("section",hD,[T(p(Ad),{open:""},{trigger:Y(({open:c})=>[i("div",fD,[(v(),k("svg",{viewBox:"0 0 16 16",class:ae(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!c,"rotate-0":c}])},[...a[0]||(a[0]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("h3",pD,h(r.__("Favorites")),1)])]),content:Y(()=>[i("div",mD,[(v(!0),k(he,null,ke(p(n).items,c=>(v(),se(l,{key:c.project.name,to:`/projects/${c.project.id}`,custom:""},{default:Y(({navigate:d,href:u,route:f})=>[i("a",{href:u,class:ae([o(f.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:d},[i("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:Mt({"background-color":c.project.meta.color,"box-shadow":`0 0 8px ${c.project.meta.color}40`})},null,4),i("span",_D,h(c.project.name),1)],10,gD)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),yD={class:"hidden md:flex md:flex-shrink-0"},bD={class:"flex w-64 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 shadow-2xl"},xD={class:"flex h-0 flex-1 flex-col"},wD={class:"sidebar-nav flex flex-1 flex-col overflow-y-auto scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-600"},kD={class:"flex-1 space-y-1 px-3 py-4"},$D=fe({__name:"Sidebar",setup(s){return(e,t)=>{const n=pn("RouterLink");return v(),k("div",yD,[i("div",bD,[i("div",xD,[T(n,{to:"/",class:"group relative flex h-16 flex-shrink-0 items-center border-b border-gray-700/50 bg-gray-900/80 px-4 backdrop-blur-sm transition-all duration-200 hover:bg-gray-800/80"},{default:Y(()=>[t[0]||(t[0]=i("div",{class:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"},null,-1)),T(uv)]),_:1}),i("div",wD,[i("nav",kD,[T(dv),T(vD),T(uD)])])])])])}}}),CD={key:0,class:"fixed top-0 left-0 right-0 z-[300] flex items-center justify-center gap-4 bg-yellow-500 px-4 py-2 text-sm font-medium text-yellow-900"},SD={__name:"ImpersonationBanner",setup(s){const e=Le(()=>gt.is_impersonating),t=Le(()=>{var o;return((o=gt.user)==null?void 0:o.name)||"Unknown"}),n=async()=>{var o,r;try{const a=await ue.post("impersonate/stop");alert(a.data.message),window.location.href="/"}catch(a){alert(((r=(o=a.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to stop impersonating")}};return(o,r)=>e.value?(v(),k("div",CD,[i("span",null,[te(h(o.__("You are logged in as"))+" ",1),i("strong",null,h(t.value),1)]),i("button",{type:"button",class:"rounded-md bg-yellow-600 px-3 py-1 text-xs font-semibold text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",onClick:n},h(o.__("Return to your account")),1)])):P("",!0)}},MD=fe({setup(){return()=>T(he,null,[T(SD,null,null),T("div",{class:"flex h-screen overflow-hidden bg-gray-100"},[T(e$,null,null),T($D,null,null),T("div",{class:"flex w-0 flex-1 flex-col overflow-hidden"},[T(Q9,null,null),T("main",{class:"relative flex-1 overflow-y-auto px-8 py-6"},[T(xf,null,null)])]),T(PM,null,null),T(OM,null,null)])])}}),TD=fe({setup(){const s=gd();return()=>s.isBlankPage?T(xf,null,null):T(MD,null,null)}}),Ry=e5(TD),DD=fe({__name:"NotFound",setup(s){return(e,t)=>(v(),se(p(Lv),{code:"404",heading:"Page not found",description:"Please check the URL in the address bar and try again."}))}}),AD=fe({__name:"Forbidden",setup(s){return(e,t)=>(v(),se(p(Lv),{code:"403",heading:"Forbidden",description:"Unauthorized Access."}))}}),ip=tn("home",()=>{const s=I(!0),e=I(),t=I();n();async function n(){try{const[a,l]=await Promise.all([o(),r()]);e.value=a.data,t.value=l.data}catch{}finally{s.value=!1}}function o(){return ue.get("metrics")}function r(){return ue.get("charts")}return{charts:t,fetching:s,metrics:e}}),ED={class:"grid grid-cols-12 gap-6"},PD={class:"col-span-12 lg:col-span-6"},OD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},RD={class:"text-lg font-semibold text-gray-900"},LD={style:{height:"300px"}},ID={class:"col-span-12 lg:col-span-6"},jD={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},FD={class:"text-lg font-semibold text-gray-900"},ND={style:{height:"300px"}},zD=fe({__name:"_Charts",setup(s){const e=ip();return(t,n)=>(v(),k("section",ED,[i("div",PD,[T(p(si),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:Y(()=>{var o;return[i("div",OD,[i("div",null,[i("h3",RD,h(t.__("Completed in the last 7 days")),1),n[0]||(n[0]=i("p",{class:"mt-1 text-xs text-gray-500"}," Weekly task completion trend ",-1))]),n[1]||(n[1]=i("span",{class:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700"}," 7 Days ",-1))]),i("div",LD,[T(p(Uh),{id:"tasks-chart",data:(o=p(e).charts)==null?void 0:o.chart_tasks_weekly,"tooltip-label":"Tasks","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]}),_:1})]),i("div",ID,[T(p(si),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:Y(()=>{var o;return[i("div",jD,[i("div",null,[i("h3",FD,h(t.__("Most productive month")),1),n[2]||(n[2]=i("p",{class:"mt-1 text-xs text-gray-500"}," Yearly performance overview ",-1))]),n[3]||(n[3]=i("span",{class:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700"}," 12 Months ",-1))]),i("div",ND,[T(p(Uh),{id:"tasks-chart-yearly",data:(o=p(e).charts)==null?void 0:o.chart_tasks_yearly,"tooltip-label":"Tasks","background-color":"rgba(147, 51, 234, 0.1)","border-color":"#9333EA"},null,8,["data"])])]}),_:1})])]))}}),BD={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},UD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md"},HD={class:"flex items-center gap-3"},VD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100"},WD={class:"text-sm font-medium text-gray-600"},qD={class:"mt-4"},KD={class:"text-3xl font-bold text-gray-900"},YD={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-green-300 hover:shadow-md"},GD={class:"flex items-center gap-3"},XD={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100"},JD={class:"text-sm font-medium text-gray-600"},QD={class:"mt-4"},ZD={class:"text-3xl font-bold text-gray-900"},eA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-300 hover:shadow-md"},tA={class:"flex items-center gap-3"},sA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100"},nA={class:"text-sm font-medium text-gray-600"},oA={class:"mt-4"},iA={class:"text-3xl font-bold text-gray-900"},rA=fe({__name:"_Metrics",setup(s){const e=ip();return(t,n)=>{var o,r,a;return v(),k("section",null,[i("dl",BD,[i("div",UD,[i("dt",HD,[i("div",VD,[T(p(Pf),{class:"h-6 w-6 text-indigo-600"})]),i("p",WD,h(t.__("Open Tasks")),1)]),i("dd",qD,[i("p",KD,h((o=p(e).metrics)==null?void 0:o.open_tasks),1),n[0]||(n[0]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700"}," In Progress ")],-1))])]),i("div",YD,[i("dt",GD,[i("div",XD,[T(p($n),{class:"h-6 w-6 text-green-600"})]),i("p",JD,h(t.__("Completed Tasks")),1)]),i("dd",QD,[i("p",ZD,h((r=p(e).metrics)==null?void 0:r.completed_tasks),1),n[1]||(n[1]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-0.5 text-xs font-medium text-green-700"}," Finished ")],-1))])]),i("div",eA,[i("dt",tA,[i("div",sA,[T(p(Qn),{class:"h-6 w-6 text-purple-600"})]),i("p",nA,h(t.__("Total Projects")),1)]),i("dd",oA,[i("p",iA,h((a=p(e).metrics)==null?void 0:a.total_projects),1),n[2]||(n[2]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-purple-50 px-2.5 py-0.5 text-xs font-medium text-purple-700"}," Active ")],-1))])])])])}}}),aA={key:1,class:"space-y-8"},lA={class:"flex items-center justify-between border-b border-gray-200 pb-5"},cA={class:"text-3xl font-bold text-gray-900"},dA=fe({__name:"Home",setup(s){const e=tt("__"),t=ip();return(n,o)=>p(t).fetching?(v(),se(p(Nt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(v(),k("div",aA,[i("div",lA,[i("div",null,[i("h1",cA,h(p(e)("Dashboard")),1),o[0]||(o[0]=i("p",{class:"mt-1 text-sm text-gray-500"}," Welcome back! Here's what's happening with your tasks today. ",-1))])]),T(rA),T(zD)]))}}),uA={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},hA={class:"sm:col-span-2"},fA=["src"],pA={key:1,class:"inline-block h-24 w-24 overflow-hidden rounded-full bg-gray-200"},mA=fe({__name:"FieldAvatar",setup(s){const e=ds("profile")(),t=512,n=512,o=I();o.value=e.data.avatar;function r(a){if(!a.target.files.length)return;let l=a.target.files[0],c=a.target,d=new FileReader;d.readAsDataURL(l),d.onload=u=>{let f=new Image;f.src=u.target.result,f.onload=function(){if(f.width>t||f.height>n){alert("you can upload max "+t+" x "+n),c.value=null;return}o.value=u.target.result;const m=new FormData;m.append("avatar",l),ue.post("avatar",m)}}}return(a,l)=>(v(),k("div",uA,[l[2]||(l[2]=i("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"  ",-1)),i("div",hA,[o.value?(v(),k("img",{key:0,class:"h-24 w-24 rounded-full",src:o.value},null,8,fA)):(v(),k("span",pA,[...l[0]||(l[0]=[i("svg",{class:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])])),l[1]||(l[1]=i("label",{for:"avatar",class:"mt-2 block w-24 cursor-pointer text-center text-sm text-gray-600"}," Change ",-1)),i("input",{id:"avatar",type:"file",class:"hidden",accept:"image/*",name:"avatar",onChange:r},null,32)])]))}}),gA=fe({__name:"Profile",setup(s){const e=ds("profile")(),t=so();return e.onSuccess(()=>{e.submitting=!1,e.data.password=""}),(n,o)=>(v(),k(he,null,[T(p(Gc),{title:n.__("Profile")},null,8,["title"]),T(p(Mo),{name:"profile",uri:"profile","save-only":""},{default:Y(()=>[T(mA),T(p(t),{name:"name",label:n.__("Name"),inline:""},null,8,["label"]),T(p(t),{name:"email",label:n.__("Email"),inline:"",disabled:""},null,8,["label"]),T(p(t),{name:"password",label:n.__("New Password"),type:"password",inline:""},null,8,["label"])]),_:1})],64))}}),Ys=tn("project-detail",()=>{const s=I(!1),e=I({});async function t(n){s.value=!0;const{data:o}=await ue.get(`projects/${n}`);s.value=!1,e.value=o}return{fetch:t,fetching:s,data:e}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Cg(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),t.push.apply(t,n)}return t}function eo(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cg(Object(t),!0).forEach(function(n){_A(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function mc(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mc=function(e){return typeof e}:mc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(s)}function _A(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function wo(){return wo=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},wo.apply(this,arguments)}function vA(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function yA(s,e){if(s==null)return{};var t=vA(s,e),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}var bA="1.15.0";function vo(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var To=vo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ll=vo(/Edge/i),Sg=vo(/firefox/i),Sa=vo(/safari/i)&&!vo(/chrome/i)&&!vo(/android/i),Ly=vo(/iP(ad|od|hone)/i),Iy=vo(/chrome/i)&&vo(/android/i),jy={capture:!1,passive:!1};function $t(s,e,t){s.addEventListener(e,t,!To&&jy)}function bt(s,e,t){s.removeEventListener(e,t,!To&&jy)}function Xc(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function xA(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function qn(s,e,t,n){if(s){t=t||document;do{if(e!=null&&(e[0]===">"?s.parentNode===t&&Xc(s,e):Xc(s,e))||n&&s===t)return s;if(s===t)break}while(s=xA(s))}return null}var Mg=/\s+/g;function on(s,e,t){if(s&&e)if(s.classList)s.classList[t?"add":"remove"](e);else{var n=(" "+s.className+" ").replace(Mg," ").replace(" "+e+" "," ");s.className=(n+(t?" "+e:"")).replace(Mg," ")}}function st(s,e,t){var n=s&&s.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(t=s.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function pr(s,e){var t="";if(typeof s=="string")t=s;else do{var n=st(s,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(s=s.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Fy(s,e,t){if(s){var n=s.getElementsByTagName(e),o=0,r=n.length;if(t)for(;o<r;o++)t(n[o],o);return n}return[]}function Xn(){var s=document.scrollingElement;return s||document.documentElement}function fs(s,e,t,n,o){if(!(!s.getBoundingClientRect&&s!==window)){var r,a,l,c,d,u,f;if(s!==window&&s.parentNode&&s!==Xn()?(r=s.getBoundingClientRect(),a=r.top,l=r.left,c=r.bottom,d=r.right,u=r.height,f=r.width):(a=0,l=0,c=window.innerHeight,d=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(e||t)&&s!==window&&(o=o||s.parentNode,!To))do if(o&&o.getBoundingClientRect&&(st(o,"transform")!=="none"||t&&st(o,"position")!=="static")){var m=o.getBoundingClientRect();a-=m.top+parseInt(st(o,"border-top-width")),l-=m.left+parseInt(st(o,"border-left-width")),c=a+r.height,d=l+r.width;break}while(o=o.parentNode);if(n&&s!==window){var g=pr(o||s),_=g&&g.a,w=g&&g.d;g&&(a/=w,l/=_,f/=_,u/=w,c=a+u,d=l+f)}return{top:a,left:l,bottom:c,right:d,width:f,height:u}}}function Tg(s,e,t){for(var n=Go(s,!0),o=fs(s)[e];n;){var r=fs(n)[t],a=void 0;if(t==="top"||t==="left"?a=o>=r:a=o<=r,!a)return n;if(n===Xn())break;n=Go(n,!1)}return!1}function Sr(s,e,t,n){for(var o=0,r=0,a=s.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==Je.ghost&&(n||a[r]!==Je.dragged)&&qn(a[r],t.draggable,s,!1)){if(o===e)return a[r];o++}r++}return null}function rp(s,e){for(var t=s.lastElementChild;t&&(t===Je.ghost||st(t,"display")==="none"||e&&!Xc(t,e));)t=t.previousElementSibling;return t||null}function yn(s,e){var t=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==Je.clone&&(!e||Xc(s,e))&&t++;return t}function Dg(s){var e=0,t=0,n=Xn();if(s)do{var o=pr(s),r=o.a,a=o.d;e+=s.scrollLeft*r,t+=s.scrollTop*a}while(s!==n&&(s=s.parentNode));return[e,t]}function wA(s,e){for(var t in s)if(s.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===s[t][n])return Number(t)}return-1}function Go(s,e){if(!s||!s.getBoundingClientRect)return Xn();var t=s,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=st(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Xn();if(n||e)return t;n=!0}}while(t=t.parentNode);return Xn()}function kA(s,e){if(s&&e)for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function zu(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var Ma;function Ny(s,e){return function(){if(!Ma){var t=arguments,n=this;t.length===1?s.call(n,t[0]):s.apply(n,t),Ma=setTimeout(function(){Ma=void 0},e)}}}function $A(){clearTimeout(Ma),Ma=void 0}function zy(s,e,t){s.scrollLeft+=e,s.scrollTop+=t}function By(s){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):t?t(s).clone(!0)[0]:s.cloneNode(!0)}var hn="Sortable"+new Date().getTime();function CA(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(st(o,"display")==="none"||o===Je.ghost)){s.push({target:o,rect:fs(o)});var r=eo({},s[s.length-1].rect);if(o.thisAnimationDuration){var a=pr(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(n){s.push(n)},removeAnimationState:function(n){s.splice(wA(s,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;s.forEach(function(l){var c=0,d=l.target,u=d.fromRect,f=fs(d),m=d.prevFromRect,g=d.prevToRect,_=l.rect,w=pr(d,!0);w&&(f.top-=w.f,f.left-=w.e),d.toRect=f,d.thisAnimationDuration&&zu(m,f)&&!zu(u,f)&&(_.top-f.top)/(_.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(c=MA(_,m,g,o.options)),zu(f,u)||(d.prevFromRect=u,d.prevToRect=f,c||(c=o.options.animation),o.animate(d,_,f,c)),c&&(r=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),s=[]},animate:function(n,o,r,a){if(a){st(n,"transition",""),st(n,"transform","");var l=pr(this.el),c=l&&l.a,d=l&&l.d,u=(o.left-r.left)/(c||1),f=(o.top-r.top)/(d||1);n.animatingX=!!u,n.animatingY=!!f,st(n,"transform","translate3d("+u+"px,"+f+"px,0)"),this.forRepaintDummy=SA(n),st(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),st(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){st(n,"transition",""),st(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function SA(s){return s.offsetWidth}function MA(s,e,t,n){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var sr=[],Bu={initializeByDefault:!0},cl={mount:function(e){for(var t in Bu)Bu.hasOwnProperty(t)&&!(t in e)&&(e[t]=Bu[t]);sr.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),sr.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";sr.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](eo({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](eo({sortable:t},n)))})},initializePlugins:function(e,t,n,o){sr.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var d=new l(e,t,e.options);d.sortable=e,d.options=e.options,e[c]=d,wo(n,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return sr.forEach(function(o){typeof o.eventProperties=="function"&&wo(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return sr.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(o=r.optionListeners[t].call(e[r.pluginName],n))}),o}};function TA(s){var e=s.sortable,t=s.rootEl,n=s.name,o=s.targetEl,r=s.cloneEl,a=s.toEl,l=s.fromEl,c=s.oldIndex,d=s.newIndex,u=s.oldDraggableIndex,f=s.newDraggableIndex,m=s.originalEvent,g=s.putSortable,_=s.extraEventProperties;if(e=e||t&&t[hn],!!e){var w,y=e.options,$="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!To&&!ll?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=a||t,w.from=l||t,w.item=o||t,w.clone=r,w.oldIndex=c,w.newIndex=d,w.oldDraggableIndex=u,w.newDraggableIndex=f,w.originalEvent=m,w.pullMode=g?g.lastPutMode:void 0;var b=eo(eo({},_),cl.getEventProperties(n,e));for(var S in b)w[S]=b[S];t&&t.dispatchEvent(w),y[$]&&y[$].call(e,w)}}var DA=["evt"],Xs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=yA(n,DA);cl.pluginEvent.bind(Je)(e,t,eo({dragEl:Ee,parentEl:Xt,ghostEl:lt,rootEl:Wt,nextEl:Ti,lastDownEl:gc,cloneEl:Kt,cloneHidden:Bo,dragStarted:la,putSortable:_s,activeSortable:Je.active,originalEvent:o,oldIndex:ar,oldDraggableIndex:Ta,newIndex:ln,newDraggableIndex:No,hideGhostForTarget:Wy,unhideGhostForTarget:qy,cloneNowHidden:function(){Bo=!0},cloneNowShown:function(){Bo=!1},dispatchSortableEvent:function(l){Us({sortable:t,name:l,originalEvent:o})}},r))};function Us(s){TA(eo({putSortable:_s,cloneEl:Kt,targetEl:Ee,rootEl:Wt,oldIndex:ar,oldDraggableIndex:Ta,newIndex:ln,newDraggableIndex:No},s))}var Ee,Xt,lt,Wt,Ti,gc,Kt,Bo,ar,ln,Ta,No,zl,_s,rr=!1,Jc=!1,Qc=[],wi,Dn,Uu,Hu,Ag,Eg,la,nr,Da,Aa=!1,Bl=!1,_c,Ss,Vu=[],Vh=!1,Zc=[],zd=typeof document<"u",Ul=Ly,Pg=ll||To?"cssFloat":"float",AA=zd&&!Iy&&!Ly&&"draggable"in document.createElement("div"),Uy=function(){if(zd){if(To)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),Hy=function(e,t){var n=st(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Sr(e,0,t),a=Sr(e,1,t),l=r&&st(r),c=a&&st(a),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+fs(r).width,u=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+fs(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=o&&n[Pg]==="none"||a&&n[Pg]==="none"&&d+u>o)?"vertical":"horizontal"},EA=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,l=n?t.left:t.top,c=n?t.right:t.bottom,d=n?t.width:t.height;return o===l||r===c||o+a/2===l+d/2},PA=function(e,t){var n;return Qc.some(function(o){var r=o[hn].options.emptyInsertThreshold;if(!(!r||rp(o))){var a=fs(o),l=e>=a.left-r&&e<=a.right+r,c=t>=a.top-r&&t<=a.bottom+r;if(l&&c)return n=o}}),n},Vy=function(e){function t(r,a){return function(l,c,d,u){var f=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(a||f))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,c,d,u),a)(l,c,d,u);var m=(a?l:c).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var n={},o=e.group;(!o||mc(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Wy=function(){!Uy&&lt&&st(lt,"display","none")},qy=function(){!Uy&&lt&&st(lt,"display","")};zd&&!Iy&&document.addEventListener("click",function(s){if(Jc)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),Jc=!1,!1},!0);var ki=function(e){if(Ee){e=e.touches?e.touches[0]:e;var t=PA(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[hn]._onDragOver(n)}}},OA=function(e){Ee&&Ee.parentNode[hn]._isOutsideThisEl(e.target)};function Je(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=wo({},e),s[hn]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Hy(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Je.supportPointer!==!1&&"PointerEvent"in window&&!Sa,emptyInsertThreshold:5};cl.initializePlugins(this,s,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Vy(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:AA,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?$t(s,"pointerdown",this._onTapStart):($t(s,"mousedown",this._onTapStart),$t(s,"touchstart",this._onTapStart)),this.nativeDraggable&&($t(s,"dragover",this),$t(s,"dragenter",this)),Qc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),wo(this,CA())}Je.prototype={constructor:Je,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(nr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,u=o.filter;if(BA(n),!Ee&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Sa&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=qn(c,o.draggable,n,!1),!(c&&c.animated)&&gc!==c)){if(ar=yn(c),Ta=yn(c,o.draggable),typeof u=="function"){if(u.call(this,e,c,this)){Us({sortable:t,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),Xs("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=qn(d,f.trim(),n,!1),f)return Us({sortable:t,rootEl:f,name:"filter",targetEl:c,fromEl:n,toEl:n}),Xs("filter",t,{evt:e}),!0}),u)){r&&e.cancelable&&e.preventDefault();return}o.handle&&!qn(d,o.handle,n,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,n){var o=this,r=o.el,a=o.options,l=r.ownerDocument,c;if(n&&!Ee&&n.parentNode===r){var d=fs(n);if(Wt=r,Ee=n,Xt=Ee.parentNode,Ti=Ee.nextSibling,gc=n,zl=a.group,Je.dragged=Ee,wi={target:Ee,clientX:(t||e).clientX,clientY:(t||e).clientY},Ag=wi.clientX-d.left,Eg=wi.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ee.style["will-change"]="all",c=function(){if(Xs("delayEnded",o,{evt:e}),Je.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Sg&&o.nativeDraggable&&(Ee.draggable=!0),o._triggerDragStart(e,t),Us({sortable:o,name:"choose",originalEvent:e}),on(Ee,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){Fy(Ee,u.trim(),Wu)}),$t(l,"dragover",ki),$t(l,"mousemove",ki),$t(l,"touchmove",ki),$t(l,"mouseup",o._onDrop),$t(l,"touchend",o._onDrop),$t(l,"touchcancel",o._onDrop),Sg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),Xs("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ll||To))){if(Je.eventCanceled){this._onDrop();return}$t(l,"mouseup",o._disableDelayedDrag),$t(l,"touchend",o._disableDelayedDrag),$t(l,"touchcancel",o._disableDelayedDrag),$t(l,"mousemove",o._delayedDragTouchMoveHandler),$t(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&$t(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&Wu(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;bt(e,"mouseup",this._disableDelayedDrag),bt(e,"touchend",this._disableDelayedDrag),bt(e,"touchcancel",this._disableDelayedDrag),bt(e,"mousemove",this._delayedDragTouchMoveHandler),bt(e,"touchmove",this._delayedDragTouchMoveHandler),bt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?$t(document,"pointermove",this._onTouchMove):t?$t(document,"touchmove",this._onTouchMove):$t(document,"mousemove",this._onTouchMove):($t(Ee,"dragend",this),$t(Wt,"dragstart",this._onDragStart));try{document.selection?vc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(rr=!1,Wt&&Ee){Xs("dragStarted",this,{evt:t}),this.nativeDraggable&&$t(document,"dragover",OA);var n=this.options;!e&&on(Ee,n.dragClass,!1),on(Ee,n.ghostClass,!0),Je.active=this,e&&this._appendGhost(),Us({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Dn){this._lastX=Dn.clientX,this._lastY=Dn.clientY,Wy();for(var e=document.elementFromPoint(Dn.clientX,Dn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Dn.clientX,Dn.clientY),e!==t);)t=e;if(Ee.parentNode[hn]._isOutsideThisEl(e),t)do{if(t[hn]){var n=void 0;if(n=t[hn]._onDragOver({clientX:Dn.clientX,clientY:Dn.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);qy()}},_onTouchMove:function(e){if(wi){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=lt&&pr(lt,!0),l=lt&&a&&a.a,c=lt&&a&&a.d,d=Ul&&Ss&&Dg(Ss),u=(r.clientX-wi.clientX+o.x)/(l||1)+(d?d[0]-Vu[0]:0)/(l||1),f=(r.clientY-wi.clientY+o.y)/(c||1)+(d?d[1]-Vu[1]:0)/(c||1);if(!Je.active&&!rr){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(lt){a?(a.e+=u-(Uu||0),a.f+=f-(Hu||0)):a={a:1,b:0,c:0,d:1,e:u,f};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");st(lt,"webkitTransform",m),st(lt,"mozTransform",m),st(lt,"msTransform",m),st(lt,"transform",m),Uu=u,Hu=f,Dn=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!lt){var e=this.options.fallbackOnBody?document.body:Wt,t=fs(Ee,!0,Ul,!0,e),n=this.options;if(Ul){for(Ss=e;st(Ss,"position")==="static"&&st(Ss,"transform")==="none"&&Ss!==document;)Ss=Ss.parentNode;Ss!==document.body&&Ss!==document.documentElement?(Ss===document&&(Ss=Xn()),t.top+=Ss.scrollTop,t.left+=Ss.scrollLeft):Ss=Xn(),Vu=Dg(Ss)}lt=Ee.cloneNode(!0),on(lt,n.ghostClass,!1),on(lt,n.fallbackClass,!0),on(lt,n.dragClass,!0),st(lt,"transition",""),st(lt,"transform",""),st(lt,"box-sizing","border-box"),st(lt,"margin",0),st(lt,"top",t.top),st(lt,"left",t.left),st(lt,"width",t.width),st(lt,"height",t.height),st(lt,"opacity","0.8"),st(lt,"position",Ul?"absolute":"fixed"),st(lt,"zIndex","100000"),st(lt,"pointerEvents","none"),Je.ghost=lt,e.appendChild(lt),st(lt,"transform-origin",Ag/parseInt(lt.style.width)*100+"% "+Eg/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;if(Xs("dragStart",this,{evt:e}),Je.eventCanceled){this._onDrop();return}Xs("setupClone",this),Je.eventCanceled||(Kt=By(Ee),Kt.removeAttribute("id"),Kt.draggable=!1,Kt.style["will-change"]="",this._hideClone(),on(Kt,this.options.chosenClass,!1),Je.clone=Kt),n.cloneId=vc(function(){Xs("clone",n),!Je.eventCanceled&&(n.options.removeCloneOnHide||Wt.insertBefore(Kt,Ee),n._hideClone(),Us({sortable:n,name:"clone"}))}),!t&&on(Ee,r.dragClass,!0),t?(Jc=!0,n._loopId=setInterval(n._emulateDragOver,50)):(bt(document,"mouseup",n._onDrop),bt(document,"touchend",n._onDrop),bt(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,Ee)),$t(document,"drop",n),st(Ee,"transform","translateZ(0)")),rr=!0,n._dragStartId=vc(n._dragStarted.bind(n,t,e)),$t(document,"selectstart",n),la=!0,Sa&&st(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,r,a,l=this.options,c=l.group,d=Je.active,u=zl===c,f=l.sort,m=_s||d,g,_=this,w=!1;if(Vh)return;function y(Q,J){Xs(Q,_,eo({evt:e,isOwner:u,axis:g?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:f,fromSortable:m,target:n,completed:b,onMove:function(xe,Oe){return Hl(Wt,t,Ee,o,xe,fs(xe),e,Oe)},changed:S},J))}function $(){y("dragOverAnimationCapture"),_.captureAnimationState(),_!==m&&m.captureAnimationState()}function b(Q){return y("dragOverCompleted",{insertion:Q}),Q&&(u?d._hideClone():d._showClone(_),_!==m&&(on(Ee,_s?_s.options.ghostClass:d.options.ghostClass,!1),on(Ee,l.ghostClass,!0)),_s!==_&&_!==Je.active?_s=_:_===Je.active&&_s&&(_s=null),m===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){y("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===Ee&&!Ee.animated||n===t&&!n.animated)&&(nr=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(Ee.parentNode[hn]._isOutsideThisEl(e.target),!Q&&ki(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function S(){ln=yn(Ee),No=yn(Ee,l.draggable),Us({sortable:_,name:"change",toEl:t,newIndex:ln,newDraggableIndex:No,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=qn(n,l.draggable,t,!0),y("dragOver"),Je.eventCanceled)return w;if(Ee.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return b(!1);if(Jc=!1,d&&!l.disabled&&(u?f||(a=Xt!==Wt):_s===this||(this.lastPutMode=zl.checkPull(this,d,Ee,e))&&c.checkPut(this,d,Ee,e))){if(g=this._getDirection(e,n)==="vertical",o=fs(Ee),y("dragOverValid"),Je.eventCanceled)return w;if(a)return Xt=Wt,$(),this._hideClone(),y("revert"),Je.eventCanceled||(Ti?Wt.insertBefore(Ee,Ti):Wt.appendChild(Ee)),b(!0);var M=rp(t,l.draggable);if(!M||jA(e,g,this)&&!M.animated){if(M===Ee)return b(!1);if(M&&t===e.target&&(n=M),n&&(r=fs(n)),Hl(Wt,t,Ee,o,n,r,e,!!n)!==!1)return $(),M&&M.nextSibling?t.insertBefore(Ee,M.nextSibling):t.appendChild(Ee),Xt=t,S(),b(!0)}else if(M&&IA(e,g,this)){var E=Sr(t,0,l,!0);if(E===Ee)return b(!1);if(n=E,r=fs(n),Hl(Wt,t,Ee,o,n,r,e,!1)!==!1)return $(),t.insertBefore(Ee,E),Xt=t,S(),b(!0)}else if(n.parentNode===t){r=fs(n);var H=0,N,F=Ee.parentNode!==t,R=!EA(Ee.animated&&Ee.toRect||o,n.animated&&n.toRect||r,g),A=g?"top":"left",ee=Tg(n,"top","top")||Tg(Ee,"top","top"),q=ee?ee.scrollTop:void 0;nr!==n&&(N=r[A],Aa=!1,Bl=!R&&l.invertSwap||F),H=FA(e,n,r,g,R?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Bl,nr===n);var _e;if(H!==0){var $e=yn(Ee);do $e-=H,_e=Xt.children[$e];while(_e&&(st(_e,"display")==="none"||_e===lt))}if(H===0||_e===n)return b(!1);nr=n,Da=H;var ve=n.nextElementSibling,ge=!1;ge=H===1;var G=Hl(Wt,t,Ee,o,n,r,e,ge);if(G!==!1)return(G===1||G===-1)&&(ge=G===1),Vh=!0,setTimeout(LA,30),$(),ge&&!ve?t.appendChild(Ee):n.parentNode.insertBefore(Ee,ge?ve:n),ee&&zy(ee,0,q-ee.scrollTop),Xt=Ee.parentNode,N!==void 0&&!Bl&&(_c=Math.abs(N-fs(n)[A])),S(),b(!0)}if(t.contains(Ee))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){bt(document,"mousemove",this._onTouchMove),bt(document,"touchmove",this._onTouchMove),bt(document,"pointermove",this._onTouchMove),bt(document,"dragover",ki),bt(document,"mousemove",ki),bt(document,"touchmove",ki)},_offUpEvents:function(){var e=this.el.ownerDocument;bt(e,"mouseup",this._onDrop),bt(e,"touchend",this._onDrop),bt(e,"pointerup",this._onDrop),bt(e,"touchcancel",this._onDrop),bt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(ln=yn(Ee),No=yn(Ee,n.draggable),Xs("drop",this,{evt:e}),Xt=Ee&&Ee.parentNode,ln=yn(Ee),No=yn(Ee,n.draggable),Je.eventCanceled){this._nulling();return}rr=!1,Bl=!1,Aa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wh(this.cloneId),Wh(this._dragStartId),this.nativeDraggable&&(bt(document,"drop",this),bt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Sa&&st(document.body,"user-select",""),st(Ee,"transform",""),e&&(la&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(Wt===Xt||_s&&_s.lastPutMode!=="clone")&&Kt&&Kt.parentNode&&Kt.parentNode.removeChild(Kt),Ee&&(this.nativeDraggable&&bt(Ee,"dragend",this),Wu(Ee),Ee.style["will-change"]="",la&&!rr&&on(Ee,_s?_s.options.ghostClass:this.options.ghostClass,!1),on(Ee,this.options.chosenClass,!1),Us({sortable:this,name:"unchoose",toEl:Xt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Wt!==Xt?(ln>=0&&(Us({rootEl:Xt,name:"add",toEl:Xt,fromEl:Wt,originalEvent:e}),Us({sortable:this,name:"remove",toEl:Xt,originalEvent:e}),Us({rootEl:Xt,name:"sort",toEl:Xt,fromEl:Wt,originalEvent:e}),Us({sortable:this,name:"sort",toEl:Xt,originalEvent:e})),_s&&_s.save()):ln!==ar&&ln>=0&&(Us({sortable:this,name:"update",toEl:Xt,originalEvent:e}),Us({sortable:this,name:"sort",toEl:Xt,originalEvent:e})),Je.active&&((ln==null||ln===-1)&&(ln=ar,No=Ta),Us({sortable:this,name:"end",toEl:Xt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Xs("nulling",this),Wt=Ee=Xt=lt=Ti=Kt=gc=Bo=wi=Dn=la=ln=No=ar=Ta=nr=Da=_s=zl=Je.dragged=Je.ghost=Je.clone=Je.active=null,Zc.forEach(function(e){e.checked=!0}),Zc.length=Uu=Hu=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(e),RA(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)t=n[o],qn(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||zA(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(r,a){var l=o.children[a];qn(l,this.options.draggable,o,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return qn(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=cl.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&Vy(n)},destroy:function(){Xs("destroy",this);var e=this.el;e[hn]=null,bt(e,"mousedown",this._onTapStart),bt(e,"touchstart",this._onTapStart),bt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(bt(e,"dragover",this),bt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qc.splice(Qc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Bo){if(Xs("hideClone",this),Je.eventCanceled)return;st(Kt,"display","none"),this.options.removeCloneOnHide&&Kt.parentNode&&Kt.parentNode.removeChild(Kt),Bo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Bo){if(Xs("showClone",this),Je.eventCanceled)return;Ee.parentNode==Wt&&!this.options.group.revertClone?Wt.insertBefore(Kt,Ee):Ti?Wt.insertBefore(Kt,Ti):Wt.appendChild(Kt),this.options.group.revertClone&&this.animate(Ee,Kt),st(Kt,"display",""),Bo=!1}}};function RA(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function Hl(s,e,t,n,o,r,a,l){var c,d=s[hn],u=d.options.onMove,f;return window.CustomEvent&&!To&&!ll?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=s,c.dragged=t,c.draggedRect=n,c.related=o||e,c.relatedRect=r||fs(e),c.willInsertAfter=l,c.originalEvent=a,s.dispatchEvent(c),u&&(f=u.call(d,c,a)),f}function Wu(s){s.draggable=!1}function LA(){Vh=!1}function IA(s,e,t){var n=fs(Sr(t.el,0,t.options,!0)),o=10;return e?s.clientX<n.left-o||s.clientY<n.top&&s.clientX<n.right:s.clientY<n.top-o||s.clientY<n.bottom&&s.clientX<n.left}function jA(s,e,t){var n=fs(rp(t.el,t.options.draggable)),o=10;return e?s.clientX>n.right+o||s.clientX<=n.right&&s.clientY>n.bottom&&s.clientX>=n.left:s.clientX>n.right&&s.clientY>n.top||s.clientX<=n.right&&s.clientY>n.bottom+o}function FA(s,e,t,n,o,r,a,l){var c=n?s.clientY:s.clientX,d=n?t.height:t.width,u=n?t.top:t.left,f=n?t.bottom:t.right,m=!1;if(!a){if(l&&_c<d*o){if(!Aa&&(Da===1?c>u+d*r/2:c<f-d*r/2)&&(Aa=!0),Aa)m=!0;else if(Da===1?c<u+_c:c>f-_c)return-Da}else if(c>u+d*(1-o)/2&&c<f-d*(1-o)/2)return NA(e)}return m=m||a,m&&(c<u+d*r/2||c>f-d*r/2)?c>u+d/2?1:-1:0}function NA(s){return yn(Ee)<yn(s)?1:-1}function zA(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function BA(s){Zc.length=0;for(var e=s.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Zc.push(n)}}function vc(s){return setTimeout(s,0)}function Wh(s){return clearTimeout(s)}zd&&$t(document,"touchmove",function(s){(Je.active||rr)&&s.cancelable&&s.preventDefault()});Je.utils={on:$t,off:bt,css:st,find:Fy,is:function(e,t){return!!qn(e,t,e,!1)},extend:kA,throttle:Ny,closest:qn,toggleClass:on,clone:By,index:yn,nextTick:vc,cancelNextTick:Wh,detectDirection:Hy,getChild:Sr};Je.get=function(s){return s[hn]};Je.mount=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Je.utils=eo(eo({},Je.utils),n.utils)),cl.mount(n)})};Je.create=function(s,e){return new Je(s,e)};Je.version=bA;var rs=[],ca,qh,Kh=!1,qu,Ku,ed,da;function UA(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?$t(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$t(document,"pointermove",this._handleFallbackAutoScroll):n.touches?$t(document,"touchmove",this._handleFallbackAutoScroll):$t(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?bt(document,"dragover",this._handleAutoScroll):(bt(document,"pointermove",this._handleFallbackAutoScroll),bt(document,"touchmove",this._handleFallbackAutoScroll),bt(document,"mousemove",this._handleFallbackAutoScroll)),Og(),yc(),$A()},nulling:function(){ed=qh=ca=Kh=da=qu=Ku=null,rs.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(ed=t,n||this.options.forceAutoScrollFallback||ll||To||Sa){Yu(t,this.options,l,n);var c=Go(l,!0);Kh&&(!da||r!==qu||a!==Ku)&&(da&&Og(),da=setInterval(function(){var d=Go(document.elementFromPoint(r,a),!0);d!==c&&(c=d,yc()),Yu(t,o.options,d,n)},10),qu=r,Ku=a)}else{if(!this.options.bubbleScroll||Go(l,!0)===Xn()){yc();return}Yu(t,this.options,Go(l,!1),!1)}}},wo(s,{pluginName:"scroll",initializeByDefault:!0})}function yc(){rs.forEach(function(s){clearInterval(s.pid)}),rs=[]}function Og(){clearInterval(da)}var Yu=Ny(function(s,e,t,n){if(e.scroll){var o=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=Xn(),d=!1,u;qh!==t&&(qh=t,yc(),ca=e.scroll,u=e.scrollFn,ca===!0&&(ca=Go(t,!0)));var f=0,m=ca;do{var g=m,_=fs(g),w=_.top,y=_.bottom,$=_.left,b=_.right,S=_.width,M=_.height,E=void 0,H=void 0,N=g.scrollWidth,F=g.scrollHeight,R=st(g),A=g.scrollLeft,ee=g.scrollTop;g===c?(E=S<N&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),H=M<F&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(E=S<N&&(R.overflowX==="auto"||R.overflowX==="scroll"),H=M<F&&(R.overflowY==="auto"||R.overflowY==="scroll"));var q=E&&(Math.abs(b-o)<=a&&A+S<N)-(Math.abs($-o)<=a&&!!A),_e=H&&(Math.abs(y-r)<=a&&ee+M<F)-(Math.abs(w-r)<=a&&!!ee);if(!rs[f])for(var $e=0;$e<=f;$e++)rs[$e]||(rs[$e]={});(rs[f].vx!=q||rs[f].vy!=_e||rs[f].el!==g)&&(rs[f].el=g,rs[f].vx=q,rs[f].vy=_e,clearInterval(rs[f].pid),(q!=0||_e!=0)&&(d=!0,rs[f].pid=setInterval((function(){n&&this.layer===0&&Je.active._onTouchMove(ed);var ve=rs[this.layer].vy?rs[this.layer].vy*l:0,ge=rs[this.layer].vx?rs[this.layer].vx*l:0;typeof u=="function"&&u.call(Je.dragged.parentNode[hn],ge,ve,s,ed,rs[this.layer].el)!=="continue"||zy(rs[this.layer].el,ge,ve)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&m!==c&&(m=Go(m,!1)));Kh=d}},30),Ky=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var d=n||r;l();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,f=document.elementFromPoint(u.clientX,u.clientY);c(),d&&!d.el.contains(f)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function ap(){}ap.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Sr(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ky};wo(ap,{pluginName:"revertOnSpill"});function lp(){}lp.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Ky};wo(lp,{pluginName:"removeOnSpill"});Je.mount(new UA);Je.mount(lp,ap);function HA(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function VA(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function WA(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function qA(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function Yy(s,e){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})])}const KA={class:"cursor-pointer text-gray-600 hover:text-gray-700"},YA={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},GA={class:"py-1",role:"none"},XA=fe({__name:"SectionDropdown",props:{listId:{},listIndex:{}},emits:["listEdit"],setup(s){const e=s,t=Ys();function n(){lc().confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){ue.delete(`lists/${e.listId}`).then(()=>{lc().hide(),t.data.lists.splice(e.listIndex,1)}).catch(()=>{lc().hide()})}})}return(o,r)=>(v(),se(p(js),{"close-outside":""},{trigger:Y(()=>[i("span",KA,[T(p(WA),{class:"h-4 w-4"})])]),content:Y(()=>[i("div",YA,[i("div",GA,[i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r[0]||(r[0]=et(a=>o.$emit("listEdit"),["prevent"]))},h(o.__("Edit")),1),i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:n},h(o.__("Delete")),1)])])]),_:1}))}}),JA={class:"flex items-center py-2.5 px-2"},QA={key:0,class:"flex-1 ltr:pr-2 rtl:pl-2"},ZA=["textContent"],eE={key:2,class:"ltr:ml-auto rtl:mr-auto"},tE=fe({__name:"SectionHeader",props:{id:{},index:{},name:{}},setup(s){const e=s,t=I(!1),n=I(""),o=I(null),r=I(e.name);function a(d){d.target.closest("#list-edit-input")||(t.value=!1,document.removeEventListener("click",a))}function l(){t.value=!0,n.value=r.value,setTimeout(function(){var d;(d=o.value)==null||d.focus(),document.addEventListener("click",a)})}function c(){n.value&&ue.patch(`lists/${e.id}`,{name:n.value}).then(()=>{r.value=n.value,t.value=!1,n.value="",document.removeEventListener("click",a)})}return(d,u)=>(v(),k("div",JA,[t.value?(v(),k("div",QA,[W(i("input",{id:"list-edit-input",ref_key:"input",ref:o,"onUpdate:modelValue":u[0]||(u[0]=f=>n.value=f),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:bn(c,["enter"])},null,544),[[de,n.value]])])):P("",!0),t.value?P("",!0):(v(),k("div",{key:1,class:"px-2 py-[0.313rem] text-sm font-semibold leading-none text-gray-700",textContent:h(r.value)},null,8,ZA)),d.can("task-list:update")||d.can("task-list:delete")?(v(),k("div",eE,[T(XA,{"list-id":s.id,"list-index":s.index,onListEdit:l},null,8,["list-id","list-index"])])):P("",!0)]))}}),Zt=tn("task",()=>{const s=I(!0),e=I({}),t=I({}),n=I(!1),o=I(null),r=I(null),a=I(null),l=I(!1),c=I(!1);function d(u){typeof u=="number"?(s.value=u,ue.get("tasks/"+u).then(({data:f})=>{s.value=!1,t.value=f.options,e.value=f.task})):(s.value=u.loading,ue.get("tasks/"+u.id).then(({data:f})=>{s.value=!1,t.value=f.options,f.value=f.task}))}return{checklistItemForm:r,commentForm:a,data:e,fetch:d,isContentForm:n,loading:s,newChecklistItemForm:c,newSubtaskForm:l,options:t,subtaskForm:o}}),sE=fe({__name:"TaskCheckbox",setup(s){const e=ks("tasks")(),t=Ys(),n=Zt(),o=I(!1);function r(l){o.value||(o.value=!0,ue.patch(`tasks/${l}/complete`).then(({data:c})=>{var u;o.value=!1,n.data.completed_at=c.completed_at,a();const d=Rt().components.findIndex(f=>f.component.__name=="TaskModal");((u=Rt().components[d].payload)==null?void 0:u.page)=="tasks"&&e.fetch({loading:!1})}))}function a(){t.fetch(n.data.project_id)}return(l,c)=>(v(),k("span",{class:ae(["mt-0.5 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":o.value,"bg-blue-400":p(n).data.completed_at,"border border-gray-300":!p(n).data.completed_at}]),onClick:c[0]||(c[0]=d=>r(p(n).data.id))},[...c[1]||(c[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}});function Gy(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Yi=Gy();function nE(s){Yi=s}const Xy=/[&<>"']/,oE=new RegExp(Xy.source,"g"),Jy=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,iE=new RegExp(Jy.source,"g"),rE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rg=s=>rE[s];function Ts(s,e){if(e){if(Xy.test(s))return s.replace(oE,Rg)}else if(Jy.test(s))return s.replace(iE,Rg);return s}const aE=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Qy(s){return s.replace(aE,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const lE=/(^|[^\[])\^/g;function zt(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,o)=>(o=o.source||o,o=o.replace(lE,"$1"),s=s.replace(n,o),t),getRegex:()=>new RegExp(s,e)};return t}const cE=/[^\w:]/g,dE=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Lg(s,e,t){if(s){let n;try{n=decodeURIComponent(Qy(t)).replace(cE,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!dE.test(t)&&(t=pE(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Vl={},uE=/^[^:]+:\/*[^/]*$/,hE=/^([^:]+:)[\s\S]*$/,fE=/^([^:]+:\/*[^/]*)[\s\S]*$/;function pE(s,e){Vl[" "+s]||(uE.test(s)?Vl[" "+s]=s+"/":Vl[" "+s]=bc(s,"/",!0)),s=Vl[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(hE,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(fE,"$1")+e:s+e}const td={exec:function(){}};function Ig(s,e){const t=s.replace(/\|/g,(r,a,l)=>{let c=!1,d=a;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),n=t.split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function bc(s,e,t){const n=s.length;if(n===0)return"";let o=0;for(;o<n;){const r=s.charAt(n-o-1);if(r===e&&!t)o++;else if(r!==e&&t)o++;else break}return s.slice(0,n-o)}function mE(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let n=0,o=0;for(;o<t;o++)if(s[o]==="\\")o++;else if(s[o]===e[0])n++;else if(s[o]===e[1]&&(n--,n<0))return o;return-1}function gE(s){s&&s.sanitize&&s.silent}function jg(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function Fg(s,e,t,n){const o=e.href,r=e.title?Ts(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:o,title:r,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:o,title:r,text:Ts(a)}}function _E(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(o=>{const r=o.match(/^\s+/);if(r===null)return o;const[a]=r;return a.length>=n.length?o.slice(n.length):o}).join(`
`)}class cp{constructor(e){this.options=e||Yi}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:bc(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],o=_E(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const o=bc(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,r,a,l,c,d,u,f,m,g,_,w=t[1].trim();const y=w.length>1,$={type:"list",raw:"",ordered:y,start:y?+w.slice(0,-1):"",loose:!1,items:[]};w=y?`\\d{1,9}\\${w.slice(-1)}`:`\\${w}`,this.options.pedantic&&(w=y?w:"[*+-]");const b=new RegExp(`^( {0,3}${w})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(_=!1,!(!(t=b.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,M=>" ".repeat(3*M.length)),f=e.split(`
`,1)[0],this.options.pedantic?(a=2,g=u.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,g=u.slice(a),a+=t[1].length),c=!1,!u&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),_=!0),!_){const M=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),E=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),H=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),N=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(m=e.split(`
`,1)[0],f=m,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(H.test(f)||N.test(f)||M.test(f)||E.test(e)));){if(f.search(/[^ ]/)>=a||!f.trim())g+=`
`+f.slice(a);else{if(c||u.search(/[^ ]/)>=4||H.test(u)||N.test(u)||E.test(u))break;g+=`
`+f}!c&&!f.trim()&&(c=!0),n+=m+`
`,e=e.substring(m.length+1),u=f.slice(a)}}$.loose||(d?$.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(r=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!o,checked:r,loose:!1,text:g}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=g.trimRight(),$.raw=$.raw.trimRight();const S=$.items.length;for(l=0;l<S;l++)if(this.lexer.state.top=!1,$.items[l].tokens=this.lexer.blockTokens($.items[l].text,[]),!$.loose){const M=$.items[l].tokens.filter(H=>H.type==="space"),E=M.length>0&&M.some(H=>/\n.*\n/.test(H.raw));$.loose=E}if($.loose)for(l=0;l<S;l++)$.items[l].loose=!0;return $}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):Ts(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:o,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:Ig(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,r,a,l,c;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.rows.length,r=0;r<o;r++)n.rows[r]=Ig(n.rows[r],n.header.length).map(d=>({text:d}));for(o=n.header.length,a=0;a<o;a++)n.header[a].tokens=this.lexer.inline(n.header[a].text);for(o=n.rows.length,a=0;a<o;a++)for(c=n.rows[a],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ts(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ts(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=bc(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=mE(t[2],"()");if(a>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let o=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a&&(o=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),Fg(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Fg(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=o[1]||o[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const a=o[0].length-1;let l,c,d=a,u=0;const f=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+a);(o=f.exec(t))!=null;){if(l=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!l)continue;if(c=l.length,o[3]||o[4]){d+=c;continue}else if((o[5]||o[6])&&a%3&&!((a+c)%3)){u+=c;continue}if(d-=c,d>0)continue;c=Math.min(c,c+d+u);const m=e.slice(0,a+o.index+(o[0].length-l.length)+c);if(Math.min(a,c)%2){const _=m.slice(1,-1);return{type:"em",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const o=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return o&&r&&(n=n.substring(1,n.length-1)),n=Ts(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let o,r;return n[2]==="@"?(o=Ts(this.options.mangle?t(n[1]):n[1]),r="mailto:"+o):(o=Ts(n[1]),r=o),{type:"link",raw:n[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,r;if(n[2]==="@")o=Ts(this.options.mangle?t(n[0]):n[0]),r="mailto:"+o;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);o=Ts(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ts(n[0]):n[0]:o=Ts(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}}const Ge={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:td,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ge._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ge._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ge.def=zt(Ge.def).replace("label",Ge._label).replace("title",Ge._title).getRegex();Ge.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ge.listItemStart=zt(/^( *)(bull) */).replace("bull",Ge.bullet).getRegex();Ge.list=zt(Ge.list).replace(/bull/g,Ge.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ge.def.source+")").getRegex();Ge._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ge._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ge.html=zt(Ge.html,"i").replace("comment",Ge._comment).replace("tag",Ge._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ge.paragraph=zt(Ge._paragraph).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex();Ge.blockquote=zt(Ge.blockquote).replace("paragraph",Ge.paragraph).getRegex();Ge.normal={...Ge};Ge.gfm={...Ge.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ge.gfm.table=zt(Ge.gfm.table).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex();Ge.gfm.paragraph=zt(Ge._paragraph).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ge.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex();Ge.pedantic={...Ge.normal,html:zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ge._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:td,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zt(Ge.normal._paragraph).replace("hr",Ge.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ge.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ne={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:td,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:td,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ne._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Ne.punctuation=zt(Ne.punctuation).replace(/punctuation/g,Ne._punctuation).getRegex();Ne.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Ne.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Ne._comment=zt(Ge._comment).replace("(?:-->|$)","-->").getRegex();Ne.emStrong.lDelim=zt(Ne.emStrong.lDelim).replace(/punct/g,Ne._punctuation).getRegex();Ne.emStrong.rDelimAst=zt(Ne.emStrong.rDelimAst,"g").replace(/punct/g,Ne._punctuation).getRegex();Ne.emStrong.rDelimUnd=zt(Ne.emStrong.rDelimUnd,"g").replace(/punct/g,Ne._punctuation).getRegex();Ne._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Ne._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ne._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ne.autolink=zt(Ne.autolink).replace("scheme",Ne._scheme).replace("email",Ne._email).getRegex();Ne._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ne.tag=zt(Ne.tag).replace("comment",Ne._comment).replace("attribute",Ne._attribute).getRegex();Ne._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ne._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ne._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ne.link=zt(Ne.link).replace("label",Ne._label).replace("href",Ne._href).replace("title",Ne._title).getRegex();Ne.reflink=zt(Ne.reflink).replace("label",Ne._label).replace("ref",Ge._label).getRegex();Ne.nolink=zt(Ne.nolink).replace("ref",Ge._label).getRegex();Ne.reflinkSearch=zt(Ne.reflinkSearch,"g").replace("reflink",Ne.reflink).replace("nolink",Ne.nolink).getRegex();Ne.normal={...Ne};Ne.pedantic={...Ne.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:zt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ne._label).getRegex(),reflink:zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ne._label).getRegex()};Ne.gfm={...Ne.normal,escape:zt(Ne.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ne.gfm.url=zt(Ne.gfm.url,"i").replace("email",Ne.gfm._extended_email).getRegex();Ne.breaks={...Ne.gfm,br:zt(Ne.br).replace("{2,}","*").getRegex(),text:zt(Ne.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function vE(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Ng(s){let e="",t,n;const o=s.length;for(t=0;t<o;t++)n=s.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class oi{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yi,this.options.tokenizer=this.options.tokenizer||new cp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ge.normal,inline:Ne.normal};this.options.pedantic?(t.block=Ge.pedantic,t.inline=Ne.pedantic):this.options.gfm&&(t.block=Ge.gfm,this.options.breaks?t.inline=Ne.breaks:t.inline=Ne.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ge,inline:Ne}}static lex(e,t){return new oi(t).lex(e)}static lexInline(e,t){return new oi(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,d)=>c+"    ".repeat(d.length));let n,o,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+n.raw,o.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let d;this.options.extensions.startBlock.forEach(function(u){d=u.call({lexer:this},c),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){o=t[t.length-1],a&&o.type==="paragraph"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n),a=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,r,a=e,l,c,d;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+jg("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+jg("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(c||(d=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&n.type==="text"&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),o=t[t.length-1],o&&n.type==="text"&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,a,d)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Ng)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Ng))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let m;this.options.extensions.startInline.forEach(function(g){m=g.call({lexer:this},f),typeof m=="number"&&m>=0&&(u=Math.min(u,m))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(r,vE)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(d=n.raw.slice(-1)),c=!0,o=t[t.length-1],o&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(u)}}return t}}class dp{constructor(e){this.options=e||Yi}code(e,t,n){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,o);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Ts(o)+'">'+(n?e:Ts(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ts(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){const r=this.options.headerPrefix+o.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const o=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+o+r+`>
`+e+"</"+o+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=Lg(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=Lg(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class Zy{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class eb{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class ii{constructor(e){this.options=e||Yi,this.options.renderer=this.options.renderer||new dp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zy,this.slugger=new eb}static parse(e,t){return new ii(t).parse(e)}static parseInline(e,t){return new ii(t).parseInline(e)}parse(e,t=!0){let n="",o,r,a,l,c,d,u,f,m,g,_,w,y,$,b,S,M,E,H;const N=e.length;for(o=0;o<N;o++){if(g=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(H=this.options.extensions.renderers[g.type].call({parser:this},g),H!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type))){n+=H||"";continue}switch(g.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(g.tokens),g.depth,Qy(this.parseInline(g.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(g.text,g.lang,g.escaped);continue}case"table":{for(f="",u="",l=g.header.length,r=0;r<l;r++)u+=this.renderer.tablecell(this.parseInline(g.header[r].tokens),{header:!0,align:g.align[r]});for(f+=this.renderer.tablerow(u),m="",l=g.rows.length,r=0;r<l;r++){for(d=g.rows[r],u="",c=d.length,a=0;a<c;a++)u+=this.renderer.tablecell(this.parseInline(d[a].tokens),{header:!1,align:g.align[a]});m+=this.renderer.tablerow(u)}n+=this.renderer.table(f,m);continue}case"blockquote":{m=this.parse(g.tokens),n+=this.renderer.blockquote(m);continue}case"list":{for(_=g.ordered,w=g.start,y=g.loose,l=g.items.length,m="",r=0;r<l;r++)b=g.items[r],S=b.checked,M=b.task,$="",b.task&&(E=this.renderer.checkbox(S),y?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=E+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=E+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:E}):$+=E),$+=this.parse(b.tokens,y),m+=this.renderer.listitem($,M,S);n+=this.renderer.list(m,_,w);continue}case"html":{n+=this.renderer.html(g.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(g.tokens));continue}case"text":{for(m=g.tokens?this.parseInline(g.tokens):g.text;o+1<N&&e[o+1].type==="text";)g=e[++o],m+=`
`+(g.tokens?this.parseInline(g.tokens):g.text);n+=t?this.renderer.paragraph(m):m;continue}default:{const F='Token with "'+g.type+'" type was not found.';if(this.options.silent)return;throw new Error(F)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",o,r,a;const l=e.length;for(o=0;o<l;o++){if(r=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=a||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const c='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(c)}}}return n}}class sd{constructor(e){this.options=e||Yi}preprocess(e){return e}postprocess(e){return e}}Fe(sd,"passThroughHooks",new Set(["preprocess","postprocess"]));function yE(s,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const o="<p>An error occurred:</p><pre>"+Ts(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(o);if(t){t(null,o);return}return o}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function tb(s,e){return(t,n,o)=>{typeof n=="function"&&(o=n,n=null);const r={...n};n={...Ke.defaults,...r};const a=yE(n.silent,n.async,o);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(gE(n),n.hooks&&(n.hooks.options=n),o){const l=n.highlight;let c;try{n.hooks&&(t=n.hooks.preprocess(t)),c=s(t,n)}catch(f){return a(f)}const d=function(f){let m;if(!f)try{n.walkTokens&&Ke.walkTokens(c,n.walkTokens),m=e(c,n),n.hooks&&(m=n.hooks.postprocess(m))}catch(g){f=g}return n.highlight=l,f?a(f):o(null,m)};if(!l||l.length<3||(delete n.highlight,!c.length))return d();let u=0;Ke.walkTokens(c,function(f){f.type==="code"&&(u++,setTimeout(()=>{l(f.text,f.lang,function(m,g){if(m)return d(m);g!=null&&g!==f.text&&(f.text=g,f.escaped=!0),u--,u===0&&d()})},0))}),u===0&&d();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(l=>s(l,n)).then(l=>n.walkTokens?Promise.all(Ke.walkTokens(l,n.walkTokens)).then(()=>l):l).then(l=>e(l,n)).then(l=>n.hooks?n.hooks.postprocess(l):l).catch(a);try{n.hooks&&(t=n.hooks.preprocess(t));const l=s(t,n);n.walkTokens&&Ke.walkTokens(l,n.walkTokens);let c=e(l,n);return n.hooks&&(c=n.hooks.postprocess(c)),c}catch(l){return a(l)}}}function Ke(s,e,t){return tb(oi.lex,ii.parse)(s,e,t)}Ke.options=Ke.setOptions=function(s){return Ke.defaults={...Ke.defaults,...s},nE(Ke.defaults),Ke};Ke.getDefaults=Gy;Ke.defaults=Yi;Ke.use=function(...s){const e=Ke.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const n={...t};if(n.async=Ke.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const r=e.renderers[o.name];r?e.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),n.extensions=e),t.renderer){const o=Ke.defaults.renderer||new dp;for(const r in t.renderer){const a=o[r];o[r]=(...l)=>{let c=t.renderer[r].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}n.renderer=o}if(t.tokenizer){const o=Ke.defaults.tokenizer||new cp;for(const r in t.tokenizer){const a=o[r];o[r]=(...l)=>{let c=t.tokenizer[r].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}n.tokenizer=o}if(t.hooks){const o=Ke.defaults.hooks||new sd;for(const r in t.hooks){const a=o[r];sd.passThroughHooks.has(r)?o[r]=l=>{if(Ke.defaults.async)return Promise.resolve(t.hooks[r].call(o,l)).then(d=>a.call(o,d));const c=t.hooks[r].call(o,l);return a.call(o,c)}:o[r]=(...l)=>{let c=t.hooks[r].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}n.hooks=o}if(t.walkTokens){const o=Ke.defaults.walkTokens;n.walkTokens=function(r){let a=[];return a.push(t.walkTokens.call(this,r)),o&&(a=a.concat(o.call(this,r))),a}}Ke.setOptions(n)})};Ke.walkTokens=function(s,e){let t=[];for(const n of s)switch(t=t.concat(e.call(Ke,n)),n.type){case"table":{for(const o of n.header)t=t.concat(Ke.walkTokens(o.tokens,e));for(const o of n.rows)for(const r of o)t=t.concat(Ke.walkTokens(r.tokens,e));break}case"list":{t=t.concat(Ke.walkTokens(n.items,e));break}default:Ke.defaults.extensions&&Ke.defaults.extensions.childTokens&&Ke.defaults.extensions.childTokens[n.type]?Ke.defaults.extensions.childTokens[n.type].forEach(function(o){t=t.concat(Ke.walkTokens(n[o],e))}):n.tokens&&(t=t.concat(Ke.walkTokens(n.tokens,e)))}return t};Ke.parseInline=tb(oi.lexInline,ii.parseInline);Ke.Parser=ii;Ke.parser=ii.parse;Ke.Renderer=dp;Ke.TextRenderer=Zy;Ke.Lexer=oi;Ke.lexer=oi.lex;Ke.Tokenizer=cp;Ke.Slugger=eb;Ke.Hooks=sd;Ke.parse=Ke;Ke.options;Ke.setOptions;Ke.use;Ke.walkTokens;Ke.parseInline;ii.parse;oi.lex;const bE={class:"text-base font-semibold text-gray-800"},xE=["innerHTML"],wE={key:1,class:"mt-4 flex items-center text-sm font-light text-gray-500"},kE=fe({__name:"TaskContent",setup(s){const e=Zt(),t=new Ke.Renderer,n=t.link;return t.link=(o,r,a)=>n.call(t,o,r,a).replace(/^<a /,'<a onclick="event.stopPropagation()" target="_blank" rel="noreferrer noopener nofollow" '),(o,r)=>(v(),k("div",{onClick:r[0]||(r[0]=a=>o.can("task:update")?p(e).isContentForm=!0:!1)},[i("h2",bE,h(p(e).data.title),1),p(e).data.description?(v(),k("article",{key:0,class:"prose prose-sm mt-2 break-all text-sm text-gray-700",innerHTML:p(Ke).parse(p(e).data.description||"",{breaks:!0,renderer:p(t)})},null,8,xE)):(v(),k("p",wE,[T(p(sv),{class:"mr-2 h-4 w-4"}),te(" "+h(o.__("Description")),1)]))]))}});var $i,Wl,Ea=typeof Map=="function"?new Map:($i=[],Wl=[],{has:function(s){return $i.indexOf(s)>-1},get:function(s){return Wl[$i.indexOf(s)]},set:function(s,e){$i.indexOf(s)===-1&&($i.push(s),Wl.push(e))},delete:function(s){var e=$i.indexOf(s);e>-1&&($i.splice(e,1),Wl.splice(e,1))}}),sb=function(s){return new Event(s,{bubbles:!0})};try{new Event("test")}catch{sb=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function $E(s){var e=Ea.get(s);e&&e.destroy()}function CE(s){var e=Ea.get(s);e&&e.update()}var ua=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((ua=function(s){return s}).destroy=function(s){return s},ua.update=function(s){return s}):((ua=function(s,e){return s&&Array.prototype.forEach.call(s.length?s:[s],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!Ea.has(n)){var o,r=null,a=null,l=null,c=function(){n.clientWidth!==a&&m()},d=(function(g){window.removeEventListener("resize",c,!1),n.removeEventListener("input",m,!1),n.removeEventListener("keyup",m,!1),n.removeEventListener("autosize:destroy",d,!1),n.removeEventListener("autosize:update",m,!1),Object.keys(g).forEach(function(_){n.style[_]=g[_]}),Ea.delete(n)}).bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",d,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",m,!1),window.addEventListener("resize",c,!1),n.addEventListener("input",m,!1),n.addEventListener("autosize:update",m,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",Ea.set(n,{destroy:d,update:m}),(o=window.getComputedStyle(n,null)).resize==="vertical"?n.style.resize="none":o.resize==="both"&&(n.style.resize="horizontal"),r=o.boxSizing==="content-box"?-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)):parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),isNaN(r)&&(r=0),m()}function u(g){var _=n.style.width;n.style.width="0px",n.style.width=_,n.style.overflowY=g}function f(){if(n.scrollHeight!==0){var g=function(_){for(var w=[];_&&_.parentNode&&_.parentNode instanceof Element;)_.parentNode.scrollTop&&(_.parentNode.style.scrollBehavior="auto",w.push([_.parentNode,_.parentNode.scrollTop])),_=_.parentNode;return function(){return w.forEach(function(y){var $=y[0];$.scrollTop=y[1],$.style.scrollBehavior=null})}}(n);n.style.height="",n.style.height=n.scrollHeight+r+"px",a=n.clientWidth,g()}}function m(){f();var g=Math.round(parseFloat(n.style.height)),_=window.getComputedStyle(n,null),w=_.boxSizing==="content-box"?Math.round(parseFloat(_.height)):n.offsetHeight;if(w<g?_.overflowY==="hidden"&&(u("scroll"),f(),w=_.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):_.overflowY!=="hidden"&&(u("hidden"),f(),w=_.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),l!==w){l=w;var y=sb("autosize:resized");try{n.dispatchEvent(y)}catch{}}}}(t)}),s}).destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],$E),s},ua.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],CE),s});var nb=ua;const SE={class:"overflow-hidden rounded-md border"},ME=["onKeydown"],TE=["onKeydown"],DE={class:"mt-2"},AE=fe({__name:"TaskContentForm",setup(s){dt(()=>{document.querySelector(".task-title").focus(),nb(document.querySelectorAll(".autosize"))});const e=Zt(),t=I(!1),n=I(e.data.title),o=I(e.data.description);function r(){if(!t.value){if(e.data.title==n.value&&e.data.description==o.value){a();return}t.value=!0,ue.patch(`tasks/${e.data.id}`,{title:n.value,description:o.value}).then(()=>{t.value=!1,e.data.title=n.value,e.data.description=o.value,a()})}}function a(){n.value="",o.value="",e.isContentForm=!1}return(l,c)=>(v(),k("section",{class:ae({"opacity-50":t.value})},[i("div",SE,[W(i("textarea",{"onUpdate:modelValue":c[0]||(c[0]=d=>n.value=d),class:"autosize task-title block h-8 w-full resize-none border-0 px-2 pt-2 text-base font-semibold text-gray-800 placeholder:text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Task",onKeydown:[bn(et(r,["prevent"]),["enter"]),bn(a,["esc"])]},null,40,ME),[[de,n.value]]),W(i("textarea",{"onUpdate:modelValue":c[1]||(c[1]=d=>o.value=d),class:"autosize task-description block h-14 w-full resize-none border-0 px-2 py-2 text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Description",onKeydown:[bn(et(r,["ctrl"]),["enter"]),bn(a,["esc"])]},null,40,TE),[[de,o.value]])]),i("div",DE,[i("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r},h(l.__("Save")),1),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:a},h(l.__("Cancel")),1)])],2))}}),EE={class:"flex"},PE={class:"flex-1 pl-4"},OE=fe({__name:"TaskMain",setup(s){const e=Zt();return(t,n)=>(v(),k("div",EE,[T(sE),i("div",PE,[p(e).isContentForm?(v(),se(AE,{key:0})):(v(),se(kE,{key:1}))])]))}}),RE=fe({__name:"ChecklistItemCheckbox",props:{id:{},index:{},isCompleted:{}},setup(s){const e=s,t=Zt(),n=Ys(),o=I(!1);function r(){o.value||(o.value=!0,ue.patch(`checklist-item/${e.id}/complete`).then(({data:l})=>{o.value=!1,t.data.checklists[0].checklist_items[e.index].completed_at=l.completed_at,a()}))}function a(){n.fetch(t.data.project_id)}return(l,c)=>(v(),k("span",{class:ae(["mt-px mr-2 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":o.value,"bg-blue-400":s.isCompleted,"border border-gray-300":!s.isCompleted}]),onClick:r},[...c[0]||(c[0]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}}),LE={class:"group relative flex"},IE={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},jE=fe({__name:"ChecklistItem",props:{id:{},index:{},item:{},isCompleted:{}},setup(s){const e=s,t=Zt(),n=I(!1),o=I(!1),r=Ys();function a(){o.value||(o.value=!0,ue.delete(`checklist-item/${e.id}`).then(({data:c})=>{o.value=!1,c.success&&(t.data.checklists[0].checklist_items.splice(e.index,1),l())}))}function l(){r.fetch(t.data.project_id)}return(c,d)=>(v(),k("div",LE,[T(RE,{id:s.id,index:s.index,"is-completed":s.isCompleted||null},null,8,["id","index","is-completed"]),i("p",{class:"flex-1 text-sm text-gray-700",onClick:d[0]||(d[0]=u=>c.can("task:update")?p(t).checklistItemForm=s.index:!1)},h(s.item),1),n.value?(v(),k("div",{key:0,class:ae(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":o.value}])},[d[4]||(d[4]=i("span",{class:"mr-2 text-sm text-gray-600"},"Are you sure to delete?",-1)),T(p($n),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:a}),T(p(On),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:d[1]||(d[1]=u=>n.value=!1)})],2)):(v(),k("div",IE,[c.can("task:update")?(v(),k("span",{key:0,class:"mr-1",onClick:d[2]||(d[2]=u=>p(t).checklistItemForm=s.index)},[T(p(Pr),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900"})])):P("",!0),c.can("task:delete")?(v(),se(p(ls),{key:1,class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:d[3]||(d[3]=u=>n.value=!0)})):P("",!0)]))]))}}),zg=fe({__name:"ChecklistItemForm",props:{id:{},index:{},item:{}},setup(s){const e=s;dt(()=>{document.querySelector(".item-input").focus()});const t=Zt(),n=I(!1),o=I(e.item),r=Ys();function a(){t.checklistItemForm=null,t.newChecklistItemForm=!1}function l(){if(n.value||!o.value)return;if(e.item==o.value&&e.id){a();return}n.value=!0;const f=e.id?"patch":"post",m=e.id?`checklist-item/${e.id}`:"checklist-item";ue[f](m,{title:o.value,task_id:t.data.id}).then(({data:g})=>{n.value=!1,e.id?d(g):c(g),e.id?a():o.value="",u()})}function c(f){t.data.checklists.length==0&&(t.data.checklists=[{checklist_items:[]}]),t.data.checklists[0].checklist_items.push(f)}function d(f){t.data.checklists[0].checklist_items[e.index||0]=f}function u(){r.fetch(t.data.project_id)}return(f,m)=>(v(),k("div",{class:ae(["flex",{"opacity-50":n.value}])},[W(i("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),type:"text",class:"item-input block w-full flex-1 rounded-none border-gray-300 text-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50 ltr:rounded-l-md rtl:rounded-r-md",placeholder:"Enter checklist item",onKeyup:bn(l,["enter"]),onKeydown:bn(a,["esc"])},null,544),[[de,o.value]]),i("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px rtl:-mr-px rtl:space-x-reverse",onClick:a},[...m[1]||(m[1]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),i("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px ltr:rounded-r-md rtl:-mr-px rtl:space-x-reverse rtl:rounded-l-md",onClick:l},[...m[2]||(m[2]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])],2))}}),FE={id:"checklist",class:"mt-8"},NE={class:"flex"},zE={class:"flex-1 border-b pb-2"},BE={class:"text-sm font-medium text-gray-800"},UE={class:"ml-2 text-sm font-light text-gray-600"},HE={class:"pl-8 pt-4"},VE={class:"space-y-4"},WE={class:"pl-2 text-sm text-gray-600 group-hover:text-gray-800"},qE=fe({__name:"Checklist",setup(s){const e=Zt();e.checklistItemForm=null,e.newChecklistItemForm=!1;function t(){if(e.data.checklists.length)return e.data.checklists[0].checklist_items.filter(n=>n.completed_at).length+"/"+e.data.checklists[0].checklist_items.length}return(n,o)=>(v(),k("section",FE,[T(p(Ad),{open:!0},{trigger:Y(({open:r})=>[i("div",NE,[(v(),k("svg",{class:ae(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!r}]),viewBox:"0 0 16 16"},[...o[1]||(o[1]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("div",zE,[i("span",BE,h(n.__("Checklist")),1),i("span",UE,h(t()),1)])])]),content:Y(()=>[i("div",HE,[i("div",VE,[(v(!0),k(he,null,ke(p(e).data.checklists.length?p(e).data.checklists[0].checklist_items:[],(r,a)=>(v(),se(Qo(p(e).checklistItemForm==a?zg:jE),{key:r.id,id:r.id,index:a,item:r.title,"is-completed":r.completed_at||null},null,8,["id","index","item","is-completed"]))),128))]),!p(e).newChecklistItemForm&&n.can("task:update")?(v(),k("button",{key:0,class:ae(["group flex items-center",{"mt-6":(p(e).data.checklists.length?p(e).data.checklists[0].checklist_items.length:0)>0}]),onClick:o[0]||(o[0]=r=>p(e).newChecklistItemForm=!0)},[o[2]||(o[2]=i("svg",{class:"h-4 w-4 text-gray-600 group-hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),i("span",WE,h(n.__("Add item")),1)],2)):P("",!0),p(e).newChecklistItemForm?(v(),se(zg,{key:1,class:ae({"mt-6":(p(e).data.checklists.length?p(e).data.checklists[0].checklist_items.length:0)>0})},null,8,["class"])):P("",!0)])]),_:1})]))}}),KE={class:"cursor-pointer"},YE={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},GE={class:"px-6 py-4"},XE={class:"mb-2"},JE=["aria-label"],QE=fe({__name:"TaskShareDropdown",setup(s){const e=I(!1),t=I(window.location.href),n=I(null),o=I("Copy to Clipboard");function r(u){a(),u&&setTimeout(function(){l()})}function a(){navigator.clipboard?e.value=!0:e.value=!1}function l(){var u,f;(u=n.value)==null||u.focus(),(f=n.value)==null||f.select()}function c(){var u,f;navigator.clipboard.writeText(((u=n.value)==null?void 0:u.value)||""),o.value="Copied: "+((f=n.value)==null?void 0:f.value)}function d(){o.value="Copy to Clipboard"}return(u,f)=>(v(),se(p(js),{"close-outside":"",onToggle:r},{trigger:Y(()=>[i("span",KE,[T(p(p4),{class:"h-4 w-4 text-gray-600 hover:text-gray-800"})])]),content:Y(()=>[i("div",YE,[i("div",GE,[f[1]||(f[1]=i("h3",{class:"mb-4 text-sm font-medium text-gray-700"},"Share URL",-1)),i("section",XE,[i("div",{class:"flex w-full items-center rounded-md border border-gray-300 px-3 py-2",onClick:l},[W(i("input",{ref_key:"input",ref:n,"onUpdate:modelValue":f[0]||(f[0]=m=>t.value=m),type:"text",readonly:"",class:"flex-1 border-0 py-0 px-0 text-sm text-gray-600 focus:ring-0"},null,512),[[de,t.value]]),e.value?(v(),k("span",{key:0,class:"ml-2 block w-4 cursor-pointer text-gray-500 hover:text-gray-800","aria-label":o.value,"data-cooltipz-dir":"bottom",onClick:c,onMouseover:d},[T(p(k4),{class:"h-4 w-4"})],40,JE)):P("",!0)])])])])]),_:1}))}}),ZE={class:"py-3.5"},eP={class:"flex items-center px-2"},tP={class:"text-sm font-medium text-gray-600"},sP=fe({__name:"TaskShare",setup(s){return(e,t)=>(v(),k("section",ZE,[i("div",eP,[i("h2",tP,h(e.__("Share")),1),T(QE,{class:"ml-auto"})])]))}}),nP={class:"py-3"},oP={class:"px-2 text-sm font-medium text-gray-600"},iP={key:0,class:"mt-2 space-y-2 px-2"},rP=["disabled"],aP=["disabled"],lP={key:1,class:"mt-2 space-y-2 px-2"},cP=fe({__name:"TaskDelete",setup(s){const e=Zt(),t=Ys(),n=I(!1),o=I(!1);function r(){t.fetch(e.data.project_id)}function a(){n.value||(n.value=!0,ue.patch("tasks/"+e.data.id+"/archive").then(()=>{n.value=!1,r(),e.data.deleted_at="archived",l()}))}function l(){const c=`/projects/${e.data.project_id}`;history.replaceState(history.state,"",c),Rt().pop()}return(c,d)=>(v(),k("section",nP,[i("h2",oP,h(c.__("Delete")),1),o.value?(v(),k("div",iP,[i("button",{class:"flex w-full items-center rounded border border-transparent bg-red-500 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-600 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:a},[T(p(ls),{class:"mr-2 h-3.5 w-3.5"}),te(" "+h(c.__("Are you sure")),1)],8,rP),i("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:d[0]||(d[0]=u=>o.value=!1)},[T(p(HA),{class:"mr-2 h-3.5 w-3.5"}),te(" "+h(c.__("Cancel")),1)],8,aP)])):(v(),k("div",lP,[i("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0",onClick:d[1]||(d[1]=u=>o.value=!0)},[T(p(ls),{class:"mr-2 h-3.5 w-3.5"}),d[2]||(d[2]=te(" Delete ",-1))])]))]))}});var Gu=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],mr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(s){return typeof console<"u"&&void 0},getWeek:function(s){var e=new Date(s.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Xa={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(s){var e=s%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Js=function(s,e){return e===void 0&&(e=2),("000"+s).slice(e*-1)},vn=function(s){return s===!0?1:0};function Bg(s,e){var t;return function(){var n=this,o=arguments;clearTimeout(t),t=setTimeout(function(){return s.apply(n,o)},e)}}var Xu=function(s){return s instanceof Array?s:[s]};function zs(s,e,t){if(t===!0)return s.classList.add(e);s.classList.remove(e)}function kt(s,e,t){var n=window.document.createElement(s);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function ql(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ob(s,e){if(e(s))return s;if(s.parentNode)return ob(s.parentNode,e)}function Kl(s,e){var t=kt("div","numInputWrapper"),n=kt("input","numInput "+s),o=kt("span","arrowUp"),r=kt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var a in e)n.setAttribute(a,e[a]);return t.appendChild(n),t.appendChild(o),t.appendChild(r),t}function nn(s){try{if(typeof s.composedPath=="function"){var e=s.composedPath();return e[0]}return s.target}catch{return s.target}}var Ju=function(){},nd=function(s,e,t){return t.months[e?"shorthand":"longhand"][s]},dP={D:Ju,F:function(s,e,t){s.setMonth(t.months.longhand.indexOf(e))},G:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},H:function(s,e){s.setHours(parseFloat(e))},J:function(s,e){s.setDate(parseFloat(e))},K:function(s,e,t){s.setHours(s.getHours()%12+12*vn(new RegExp(t.amPM[1],"i").test(e)))},M:function(s,e,t){s.setMonth(t.months.shorthand.indexOf(e))},S:function(s,e){s.setSeconds(parseFloat(e))},U:function(s,e){return new Date(parseFloat(e)*1e3)},W:function(s,e,t){var n=parseInt(e),o=new Date(s.getFullYear(),0,2+(n-1)*7,0,0,0,0);return o.setDate(o.getDate()-o.getDay()+t.firstDayOfWeek),o},Y:function(s,e){s.setFullYear(parseFloat(e))},Z:function(s,e){return new Date(e)},d:function(s,e){s.setDate(parseFloat(e))},h:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},i:function(s,e){s.setMinutes(parseFloat(e))},j:function(s,e){s.setDate(parseFloat(e))},l:Ju,m:function(s,e){s.setMonth(parseFloat(e)-1)},n:function(s,e){s.setMonth(parseFloat(e)-1)},s:function(s,e){s.setSeconds(parseFloat(e))},u:function(s,e){return new Date(parseFloat(e))},w:Ju,y:function(s,e){s.setFullYear(2e3+parseFloat(e))}},Ei={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Pa={Z:function(s){return s.toISOString()},D:function(s,e,t){return e.weekdays.shorthand[Pa.w(s,e,t)]},F:function(s,e,t){return nd(Pa.n(s,e,t)-1,!1,e)},G:function(s,e,t){return Js(Pa.h(s,e,t))},H:function(s){return Js(s.getHours())},J:function(s,e){return e.ordinal!==void 0?s.getDate()+e.ordinal(s.getDate()):s.getDate()},K:function(s,e){return e.amPM[vn(s.getHours()>11)]},M:function(s,e){return nd(s.getMonth(),!0,e)},S:function(s){return Js(s.getSeconds())},U:function(s){return s.getTime()/1e3},W:function(s,e,t){return t.getWeek(s)},Y:function(s){return Js(s.getFullYear(),4)},d:function(s){return Js(s.getDate())},h:function(s){return s.getHours()%12?s.getHours()%12:12},i:function(s){return Js(s.getMinutes())},j:function(s){return s.getDate()},l:function(s,e){return e.weekdays.longhand[s.getDay()]},m:function(s){return Js(s.getMonth()+1)},n:function(s){return s.getMonth()+1},s:function(s){return s.getSeconds()},u:function(s){return s.getTime()},w:function(s){return s.getDay()},y:function(s){return String(s.getFullYear()).substring(2)}},ib=function(s){var e=s.config,t=e===void 0?mr:e,n=s.l10n,o=n===void 0?Xa:n,r=s.isMobile,a=r===void 0?!1:r;return function(l,c,d){var u=d||o;return t.formatDate!==void 0&&!a?t.formatDate(l,c,u):c.split("").map(function(f,m,g){return Pa[f]&&g[m-1]!=="\\"?Pa[f](l,u,t):f!=="\\"?f:""}).join("")}},Yh=function(s){var e=s.config,t=e===void 0?mr:e,n=s.l10n,o=n===void 0?Xa:n;return function(r,a,l,c){if(!(r!==0&&!r)){var d=c||o,u,f=r;if(r instanceof Date)u=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)u=new Date(r);else if(typeof r=="string"){var m=a||(t||mr).dateFormat,g=String(r).trim();if(g==="today")u=new Date,l=!0;else if(t&&t.parseDate)u=t.parseDate(r,m);else if(/Z$/.test(g)||/GMT$/.test(g))u=new Date(r);else{for(var _=void 0,w=[],y=0,$=0,b="";y<m.length;y++){var S=m[y],M=S==="\\",E=m[y-1]==="\\"||M;if(Ei[S]&&!E){b+=Ei[S];var H=new RegExp(b).exec(r);H&&(_=!0)&&w[S!=="Y"?"push":"unshift"]({fn:dP[S],val:H[++$]})}else M||(b+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(N){var F=N.fn,R=N.val;return u=F(u,R,d)||u}),u=_?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+f));return}return l===!0&&u.setHours(0,0,0,0),u}}};function rn(s,e,t){return t===void 0&&(t=!0),t!==!1?new Date(s.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):s.getTime()-e.getTime()}var uP=function(s,e,t){return s>Math.min(e,t)&&s<Math.max(e,t)},Qu=function(s,e,t){return s*3600+e*60+t},hP=function(s){var e=Math.floor(s/3600),t=(s-e*3600)/60;return[e,t,s-e*3600-t*60]},fP={DAY:864e5};function Zu(s){var e=s.defaultHour,t=s.defaultMinute,n=s.defaultSeconds;if(s.minDate!==void 0){var o=s.minDate.getHours(),r=s.minDate.getMinutes(),a=s.minDate.getSeconds();e<o&&(e=o),e===o&&t<r&&(t=r),e===o&&t===r&&n<a&&(n=s.minDate.getSeconds())}if(s.maxDate!==void 0){var l=s.maxDate.getHours(),c=s.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(c,t)),e===l&&t===c&&(n=s.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!s)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(c){return s[c]=l[c]})},o=0,r=e;o<r.length;o++){var a=r[o];n(a)}return s});var Ds=globalThis&&globalThis.__assign||function(){return Ds=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=e[o])}return s},Ds.apply(this,arguments)},Ug=globalThis&&globalThis.__spreadArrays||function(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var n=Array(s),o=0,e=0;e<t;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,o++)n[o]=r[a];return n},pP=300;function mP(s,e){var t={config:Ds(Ds({},mr),es.defaultConfig),l10n:Xa};t.parseDate=Yh({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=w,t._setHoursFromDate=m,t._positionCalendar=Se,t.changeMonth=xe,t.changeYear=we,t.clear=Oe,t.close=nt,t.onMouseOver=oe,t._createElement=kt,t.createDay=H,t.destroy=ut,t.isEnabled=Ie,t.jumpToDate=b,t.updateValue=Mn,t.open=B,t.redraw=be,t.set=Qe,t.setDate=Ct,t.toggle=Cn;function n(){t.utils={getDaysInMonth:function(L,z){return L===void 0&&(L=t.currentMonth),z===void 0&&(z=t.currentYear),L===1&&(z%4===0&&z%100!==0||z%400===0)?29:t.l10n.daysInMonth[L]}}}function o(){t.element=t.input=s,t.isOpen=!1,K(),le(),os(),ms(),n(),t.isMobile||E(),$(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),Mn(!1)),l();var L=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&L&&Se(),Lt("onReady")}function r(){var L;return((L=t.calendarContainer)===null||L===void 0?void 0:L.getRootNode()).activeElement||document.activeElement}function a(L){return L.bind(t)}function l(){var L=t.config;L.weekNumbers===!1&&L.showMonths===1||L.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var z=(t.days.offsetWidth+1)*L.showMonths;t.daysContainer.style.width=z+"px",t.calendarContainer.style.width=z+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(L){if(t.selectedDates.length===0){var z=t.config.minDate===void 0||rn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Z=Zu(t.config);z.setHours(Z.hours,Z.minutes,Z.seconds,z.getMilliseconds()),t.selectedDates=[z],t.latestSelectedDateObj=z}L!==void 0&&L.type!=="blur"&&Hd(L);var ce=t._input.value;f(),Mn(),t._input.value!==ce&&t._debouncedChange()}function d(L,z){return L%12+12*vn(z===t.l10n.amPM[1])}function u(L){switch(L%24){case 0:case 12:return 12;default:return L%12}}function f(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var L=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,z=(parseInt(t.minuteElement.value,10)||0)%60,Z=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(L=d(L,t.amPM.textContent));var ce=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&rn(t.latestSelectedDateObj,t.config.minDate,!0)===0,Te=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&rn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var je=Qu(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),it=Qu(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),ze=Qu(L,z,Z);if(ze>it&&ze<je){var ft=hP(je);L=ft[0],z=ft[1],Z=ft[2]}}else{if(Te){var Be=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;L=Math.min(L,Be.getHours()),L===Be.getHours()&&(z=Math.min(z,Be.getMinutes())),z===Be.getMinutes()&&(Z=Math.min(Z,Be.getSeconds()))}if(ce){var Ze=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;L=Math.max(L,Ze.getHours()),L===Ze.getHours()&&z<Ze.getMinutes()&&(z=Ze.getMinutes()),z===Ze.getMinutes()&&(Z=Math.max(Z,Ze.getSeconds()))}}g(L,z,Z)}}function m(L){var z=L||t.latestSelectedDateObj;z&&z instanceof Date&&g(z.getHours(),z.getMinutes(),z.getSeconds())}function g(L,z,Z){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(L%24,z,Z||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Js(t.config.time_24hr?L:(12+L)%12+12*vn(L%12===0)),t.minuteElement.value=Js(z),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[vn(L>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Js(Z)))}function _(L){var z=nn(L),Z=parseInt(z.value)+(L.delta||0);(Z/1e3>1||L.key==="Enter"&&!/[^\d]/.test(Z.toString()))&&we(Z)}function w(L,z,Z,ce){if(z instanceof Array)return z.forEach(function(Te){return w(L,Te,Z,ce)});if(L instanceof Array)return L.forEach(function(Te){return w(Te,z,Z,ce)});L.addEventListener(z,Z,ce),t._handlers.push({remove:function(){return L.removeEventListener(z,Z,ce)}})}function y(){Lt("onChange")}function $(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Z){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Z+"]"),function(ce){return w(ce,"click",t[Z])})}),t.isMobile){us();return}var L=Bg(O,50);if(t._debouncedChange=Bg(y,pP),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(t.daysContainer,"mouseover",function(Z){t.config.mode==="range"&&oe(nn(Z))}),w(t._input,"keydown",ne),t.calendarContainer!==void 0&&w(t.calendarContainer,"keydown",ne),!t.config.inline&&!t.config.static&&w(window,"resize",L),window.ontouchstart!==void 0?w(window.document,"touchstart",ye):w(window.document,"mousedown",ye),w(window.document,"focus",ye,{capture:!0}),t.config.clickOpens===!0&&(w(t._input,"focus",t.open),w(t._input,"click",t.open)),t.daysContainer!==void 0&&(w(t.monthNav,"click",Ao),w(t.monthNav,["keyup","increment"],_),w(t.daysContainer,"click",Re)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var z=function(Z){return nn(Z).select()};w(t.timeContainer,["increment"],c),w(t.timeContainer,"blur",c,{capture:!0}),w(t.timeContainer,"click",S),w([t.hourElement,t.minuteElement],["focus","click"],z),t.secondElement!==void 0&&w(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&w(t.amPM,"click",function(Z){c(Z)})}t.config.allowInput&&w(t._input,"blur",Pe)}function b(L,z){var Z=L!==void 0?t.parseDate(L):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ce=t.currentYear,Te=t.currentMonth;try{Z!==void 0&&(t.currentYear=Z.getFullYear(),t.currentMonth=Z.getMonth())}catch(je){je.message="Invalid date supplied: "+Z,t.config.errorHandler(je)}z&&t.currentYear!==ce&&(Lt("onYearChange"),_e()),z&&(t.currentYear!==ce||t.currentMonth!==Te)&&Lt("onMonthChange"),t.redraw()}function S(L){var z=nn(L);~z.className.indexOf("arrow")&&M(L,z.classList.contains("arrowUp")?1:-1)}function M(L,z,Z){var ce=L&&nn(L),Te=Z||ce&&ce.parentNode&&ce.parentNode.firstChild,je=hs("increment");je.delta=z,Te&&Te.dispatchEvent(je)}function E(){var L=window.document.createDocumentFragment();if(t.calendarContainer=kt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(L.appendChild(ge()),t.innerContainer=kt("div","flatpickr-innerContainer"),t.config.weekNumbers){var z=me(),Z=z.weekWrapper,ce=z.weekNumbers;t.innerContainer.appendChild(Z),t.weekNumbers=ce,t.weekWrapper=Z}t.rContainer=kt("div","flatpickr-rContainer"),t.rContainer.appendChild(Q()),t.daysContainer||(t.daysContainer=kt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),q(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),L.appendChild(t.innerContainer)}t.config.enableTime&&L.appendChild(G()),zs(t.calendarContainer,"rangeMode",t.config.mode==="range"),zs(t.calendarContainer,"animate",t.config.animate===!0),zs(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(L);var Te=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Te&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var je=kt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(je,t.element),je.appendChild(t.element),t.altInput&&je.appendChild(t.altInput),je.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function H(L,z,Z,ce){var Te=Ie(z,!0),je=kt("span",L,z.getDate().toString());return je.dateObj=z,je.$i=ce,je.setAttribute("aria-label",t.formatDate(z,t.config.ariaDateFormat)),L.indexOf("hidden")===-1&&rn(z,t.now)===0&&(t.todayDateElem=je,je.classList.add("today"),je.setAttribute("aria-current","date")),Te?(je.tabIndex=-1,Cs(z)&&(je.classList.add("selected"),t.selectedDateElem=je,t.config.mode==="range"&&(zs(je,"startRange",t.selectedDates[0]&&rn(z,t.selectedDates[0],!0)===0),zs(je,"endRange",t.selectedDates[1]&&rn(z,t.selectedDates[1],!0)===0),L==="nextMonthDay"&&je.classList.add("inRange")))):je.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Xi(z)&&!Cs(z)&&je.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&L!=="prevMonthDay"&&ce%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(z)+"</span>"),Lt("onDayCreate",je),je}function N(L){L.focus(),t.config.mode==="range"&&oe(L)}function F(L){for(var z=L>0?0:t.config.showMonths-1,Z=L>0?t.config.showMonths:-1,ce=z;ce!=Z;ce+=L)for(var Te=t.daysContainer.children[ce],je=L>0?0:Te.children.length-1,it=L>0?Te.children.length:-1,ze=je;ze!=it;ze+=L){var ft=Te.children[ze];if(ft.className.indexOf("hidden")===-1&&Ie(ft.dateObj))return ft}}function R(L,z){for(var Z=L.className.indexOf("Month")===-1?L.dateObj.getMonth():t.currentMonth,ce=z>0?t.config.showMonths:-1,Te=z>0?1:-1,je=Z-t.currentMonth;je!=ce;je+=Te)for(var it=t.daysContainer.children[je],ze=Z-t.currentMonth===je?L.$i+z:z<0?it.children.length-1:0,ft=it.children.length,Be=ze;Be>=0&&Be<ft&&Be!=(z>0?ft:-1);Be+=Te){var Ze=it.children[Be];if(Ze.className.indexOf("hidden")===-1&&Ie(Ze.dateObj)&&Math.abs(L.$i-Be)>=Math.abs(z))return N(Ze)}t.changeMonth(Te),A(F(Te),0)}function A(L,z){var Z=r(),ce=Xe(Z||document.body),Te=L!==void 0?L:ce?Z:t.selectedDateElem!==void 0&&Xe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Xe(t.todayDateElem)?t.todayDateElem:F(z>0?1:-1);Te===void 0?t._input.focus():ce?R(Te,z):N(Te)}function ee(L,z){for(var Z=(new Date(L,z,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ce=t.utils.getDaysInMonth((z-1+12)%12,L),Te=t.utils.getDaysInMonth(z,L),je=window.document.createDocumentFragment(),it=t.config.showMonths>1,ze=it?"prevMonthDay hidden":"prevMonthDay",ft=it?"nextMonthDay hidden":"nextMonthDay",Be=ce+1-Z,Ze=0;Be<=ce;Be++,Ze++)je.appendChild(H("flatpickr-day "+ze,new Date(L,z-1,Be),Be,Ze));for(Be=1;Be<=Te;Be++,Ze++)je.appendChild(H("flatpickr-day",new Date(L,z,Be),Be,Ze));for(var Tt=Te+1;Tt<=42-Z&&(t.config.showMonths===1||Ze%7!==0);Tt++,Ze++)je.appendChild(H("flatpickr-day "+ft,new Date(L,z+1,Tt%Te),Tt,Ze));var mn=kt("div","dayContainer");return mn.appendChild(je),mn}function q(){if(t.daysContainer!==void 0){ql(t.daysContainer),t.weekNumbers&&ql(t.weekNumbers);for(var L=document.createDocumentFragment(),z=0;z<t.config.showMonths;z++){var Z=new Date(t.currentYear,t.currentMonth,1);Z.setMonth(t.currentMonth+z),L.appendChild(ee(Z.getFullYear(),Z.getMonth()))}t.daysContainer.appendChild(L),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&oe()}}function _e(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var L=function(ce){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ce<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ce>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var z=0;z<12;z++)if(L(z)){var Z=kt("option","flatpickr-monthDropdown-month");Z.value=new Date(t.currentYear,z).getMonth().toString(),Z.textContent=nd(z,t.config.shorthandCurrentMonth,t.l10n),Z.tabIndex=-1,t.currentMonth===z&&(Z.selected=!0),t.monthsDropdownContainer.appendChild(Z)}}}function $e(){var L=kt("div","flatpickr-month"),z=window.document.createDocumentFragment(),Z;t.config.showMonths>1||t.config.monthSelectorType==="static"?Z=kt("span","cur-month"):(t.monthsDropdownContainer=kt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),w(t.monthsDropdownContainer,"change",function(it){var ze=nn(it),ft=parseInt(ze.value,10);t.changeMonth(ft-t.currentMonth),Lt("onMonthChange")}),_e(),Z=t.monthsDropdownContainer);var ce=Kl("cur-year",{tabindex:"-1"}),Te=ce.getElementsByTagName("input")[0];Te.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Te.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Te.setAttribute("max",t.config.maxDate.getFullYear().toString()),Te.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var je=kt("div","flatpickr-current-month");return je.appendChild(Z),je.appendChild(ce),z.appendChild(je),L.appendChild(z),{container:L,yearElement:Te,monthElement:Z}}function ve(){ql(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var L=t.config.showMonths;L--;){var z=$e();t.yearElements.push(z.yearElement),t.monthElements.push(z.monthElement),t.monthNav.appendChild(z.container)}t.monthNav.appendChild(t.nextMonthNav)}function ge(){return t.monthNav=kt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=kt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=kt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ve(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(L){t.__hidePrevMonthArrow!==L&&(zs(t.prevMonthNav,"flatpickr-disabled",L),t.__hidePrevMonthArrow=L)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(L){t.__hideNextMonthArrow!==L&&(zs(t.nextMonthNav,"flatpickr-disabled",L),t.__hideNextMonthArrow=L)}}),t.currentYearElement=t.yearElements[0],Sn(),t.monthNav}function G(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var L=Zu(t.config);t.timeContainer=kt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var z=kt("span","flatpickr-time-separator",":"),Z=Kl("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Z.getElementsByTagName("input")[0];var ce=Kl("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ce.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Js(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?L.hours:u(L.hours)),t.minuteElement.value=Js(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():L.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Z),t.timeContainer.appendChild(z),t.timeContainer.appendChild(ce),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Te=Kl("flatpickr-second");t.secondElement=Te.getElementsByTagName("input")[0],t.secondElement.value=Js(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():L.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(kt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Te)}return t.config.time_24hr||(t.amPM=kt("span","flatpickr-am-pm",t.l10n.amPM[vn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Q(){t.weekdayContainer?ql(t.weekdayContainer):t.weekdayContainer=kt("div","flatpickr-weekdays");for(var L=t.config.showMonths;L--;){var z=kt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(z)}return J(),t.weekdayContainer}function J(){if(t.weekdayContainer){var L=t.l10n.firstDayOfWeek,z=Ug(t.l10n.weekdays.shorthand);L>0&&L<z.length&&(z=Ug(z.splice(L,z.length),z.splice(0,L)));for(var Z=t.config.showMonths;Z--;)t.weekdayContainer.children[Z].innerHTML=`
      <span class='flatpickr-weekday'>
        `+z.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function me(){t.calendarContainer.classList.add("hasWeeks");var L=kt("div","flatpickr-weekwrapper");L.appendChild(kt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var z=kt("div","flatpickr-weeks");return L.appendChild(z),{weekWrapper:L,weekNumbers:z}}function xe(L,z){z===void 0&&(z=!0);var Z=z?L:L-t.currentMonth;Z<0&&t._hidePrevMonthArrow===!0||Z>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Z,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Lt("onYearChange"),_e()),q(),Lt("onMonthChange"),Sn())}function Oe(L,z){if(L===void 0&&(L=!0),z===void 0&&(z=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,z===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Z=Zu(t.config),ce=Z.hours,Te=Z.minutes,je=Z.seconds;g(ce,Te,je)}t.redraw(),L&&Lt("onChange")}function nt(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Lt("onClose")}function ut(){t.config!==void 0&&Lt("onDestroy");for(var L=t._handlers.length;L--;)t._handlers[L].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var z=t.calendarContainer.parentNode;if(z.lastChild&&z.removeChild(z.lastChild),z.parentNode){for(;z.firstChild;)z.parentNode.insertBefore(z.firstChild,z);z.parentNode.removeChild(z)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Z){try{delete t[Z]}catch{}})}function ie(L){return t.calendarContainer.contains(L)}function ye(L){if(t.isOpen&&!t.config.inline){var z=nn(L),Z=ie(z),ce=z===t.input||z===t.altInput||t.element.contains(z)||L.path&&L.path.indexOf&&(~L.path.indexOf(t.input)||~L.path.indexOf(t.altInput)),Te=!ce&&!Z&&!ie(L.relatedTarget),je=!t.config.ignoredFocusElements.some(function(it){return it.contains(z)});Te&&je&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function we(L){if(!(!L||t.config.minDate&&L<t.config.minDate.getFullYear()||t.config.maxDate&&L>t.config.maxDate.getFullYear())){var z=L,Z=t.currentYear!==z;t.currentYear=z||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Z&&(t.redraw(),Lt("onYearChange"),_e())}}function Ie(L,z){var Z;z===void 0&&(z=!0);var ce=t.parseDate(L,void 0,z);if(t.config.minDate&&ce&&rn(ce,t.config.minDate,z!==void 0?z:!t.minDateHasTime)<0||t.config.maxDate&&ce&&rn(ce,t.config.maxDate,z!==void 0?z:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ce===void 0)return!1;for(var Te=!!t.config.enable,je=(Z=t.config.enable)!==null&&Z!==void 0?Z:t.config.disable,it=0,ze=void 0;it<je.length;it++){if(ze=je[it],typeof ze=="function"&&ze(ce))return Te;if(ze instanceof Date&&ce!==void 0&&ze.getTime()===ce.getTime())return Te;if(typeof ze=="string"){var ft=t.parseDate(ze,void 0,!0);return ft&&ft.getTime()===ce.getTime()?Te:!Te}else if(typeof ze=="object"&&ce!==void 0&&ze.from&&ze.to&&ce.getTime()>=ze.from.getTime()&&ce.getTime()<=ze.to.getTime())return Te}return!Te}function Xe(L){return t.daysContainer!==void 0?L.className.indexOf("hidden")===-1&&L.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(L):!1}function Pe(L){var z=L.target===t._input,Z=t._input.value.trimEnd()!==sn();z&&Z&&!(L.relatedTarget&&ie(L.relatedTarget))&&t.setDate(t._input.value,!0,L.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ne(L){var z=nn(L),Z=t.config.wrap?s.contains(z):z===t._input,ce=t.config.allowInput,Te=t.isOpen&&(!ce||!Z),je=t.config.inline&&Z&&!ce;if(L.keyCode===13&&Z){if(ce)return t.setDate(t._input.value,!0,z===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),z.blur();t.open()}else if(ie(z)||Te||je){var it=!!t.timeContainer&&t.timeContainer.contains(z);switch(L.keyCode){case 13:it?(L.preventDefault(),c(),We()):Re(L);break;case 27:L.preventDefault(),We();break;case 8:case 46:Z&&!t.config.allowInput&&(L.preventDefault(),t.clear());break;case 37:case 39:if(!it&&!Z){L.preventDefault();var ze=r();if(t.daysContainer!==void 0&&(ce===!1||ze&&Xe(ze))){var ft=L.keyCode===39?1:-1;L.ctrlKey?(L.stopPropagation(),xe(ft),A(F(1),0)):A(void 0,ft)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:L.preventDefault();var Be=L.keyCode===40?1:-1;t.daysContainer&&z.$i!==void 0||z===t.input||z===t.altInput?L.ctrlKey?(L.stopPropagation(),we(t.currentYear-Be),A(F(1),0)):it||A(void 0,Be*7):z===t.currentYearElement?we(t.currentYear-Be):t.config.enableTime&&(!it&&t.hourElement&&t.hourElement.focus(),c(L),t._debouncedChange());break;case 9:if(it){var Ze=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ns){return Ns}),Tt=Ze.indexOf(z);if(Tt!==-1){var mn=Ze[Tt+(L.shiftKey?-1:1)];L.preventDefault(),(mn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(z)&&L.shiftKey&&(L.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&z===t.amPM)switch(L.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],f(),Mn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],f(),Mn();break}(Z||ie(z))&&Lt("onKeyDown",L)}function oe(L,z){if(z===void 0&&(z="flatpickr-day"),!(t.selectedDates.length!==1||L&&(!L.classList.contains(z)||L.classList.contains("flatpickr-disabled")))){for(var Z=L?L.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ce=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Te=Math.min(Z,t.selectedDates[0].getTime()),je=Math.max(Z,t.selectedDates[0].getTime()),it=!1,ze=0,ft=0,Be=Te;Be<je;Be+=fP.DAY)Ie(new Date(Be),!0)||(it=it||Be>Te&&Be<je,Be<ce&&(!ze||Be>ze)?ze=Be:Be>ce&&(!ft||Be<ft)&&(ft=Be));var Ze=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+z));Ze.forEach(function(Tt){var mn=Tt.dateObj,Ns=mn.getTime(),ui=ze>0&&Ns<ze||ft>0&&Ns>ft;if(ui){Tt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Eo){Tt.classList.remove(Eo)});return}else if(it&&!ui)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Eo){Tt.classList.remove(Eo)}),L!==void 0&&(L.classList.add(Z<=t.selectedDates[0].getTime()?"startRange":"endRange"),ce<Z&&Ns===ce?Tt.classList.add("startRange"):ce>Z&&Ns===ce&&Tt.classList.add("endRange"),Ns>=ze&&(ft===0||Ns<=ft)&&uP(Ns,ce,Z)&&Tt.classList.add("inRange"))})}}function O(){t.isOpen&&!t.config.static&&!t.config.inline&&Se()}function B(L,z){if(z===void 0&&(z=t._positionElement),t.isMobile===!0){if(L){L.preventDefault();var Z=nn(L);Z&&Z.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Lt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ce=t.isOpen;t.isOpen=!0,ce||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Lt("onOpen"),Se(z)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(L===void 0||!t.timeContainer.contains(L.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function V(L){return function(z){var Z=t.config["_"+L+"Date"]=t.parseDate(z,t.config.dateFormat),ce=t.config["_"+(L==="min"?"max":"min")+"Date"];Z!==void 0&&(t[L==="min"?"minDateHasTime":"maxDateHasTime"]=Z.getHours()>0||Z.getMinutes()>0||Z.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Te){return Ie(Te)}),!t.selectedDates.length&&L==="min"&&m(Z),Mn()),t.daysContainer&&(be(),Z!==void 0?t.currentYearElement[L]=Z.getFullYear().toString():t.currentYearElement.removeAttribute(L),t.currentYearElement.disabled=!!ce&&Z!==void 0&&ce.getFullYear()===Z.getFullYear())}}function K(){var L=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],z=Ds(Ds({},JSON.parse(JSON.stringify(s.dataset||{}))),e),Z={};t.config.parseDate=z.parseDate,t.config.formatDate=z.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ze){t.config._enable=vt(Ze)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ze){t.config._disable=vt(Ze)}});var ce=z.mode==="time";if(!z.dateFormat&&(z.enableTime||ce)){var Te=es.defaultConfig.dateFormat||mr.dateFormat;Z.dateFormat=z.noCalendar||ce?"H:i"+(z.enableSeconds?":S":""):Te+" H:i"+(z.enableSeconds?":S":"")}if(z.altInput&&(z.enableTime||ce)&&!z.altFormat){var je=es.defaultConfig.altFormat||mr.altFormat;Z.altFormat=z.noCalendar||ce?"h:i"+(z.enableSeconds?":S K":" K"):je+(" h:i"+(z.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:V("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:V("max")});var it=function(Ze){return function(Tt){t.config[Ze==="min"?"_minTime":"_maxTime"]=t.parseDate(Tt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:it("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:it("max")}),z.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Z,z);for(var ze=0;ze<L.length;ze++)t.config[L[ze]]=t.config[L[ze]]===!0||t.config[L[ze]]==="true";Gu.filter(function(Ze){return t.config[Ze]!==void 0}).forEach(function(Ze){t.config[Ze]=Xu(t.config[Ze]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ze=0;ze<t.config.plugins.length;ze++){var ft=t.config.plugins[ze](t)||{};for(var Be in ft)Gu.indexOf(Be)>-1?t.config[Be]=Xu(ft[Be]).map(a).concat(t.config[Be]):typeof z[Be]>"u"&&(t.config[Be]=ft[Be])}z.altInputClass||(t.config.altInputClass=X().className+" "+t.config.altInputClass),Lt("onParseConfig")}function X(){return t.config.wrap?s.querySelector("[data-input]"):s}function le(){typeof t.config.locale!="object"&&typeof es.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Ds(Ds({},es.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?es.l10ns[t.config.locale]:void 0),Ei.D="("+t.l10n.weekdays.shorthand.join("|")+")",Ei.l="("+t.l10n.weekdays.longhand.join("|")+")",Ei.M="("+t.l10n.months.shorthand.join("|")+")",Ei.F="("+t.l10n.months.longhand.join("|")+")",Ei.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var L=Ds(Ds({},e),JSON.parse(JSON.stringify(s.dataset||{})));L.time_24hr===void 0&&es.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=ib(t),t.parseDate=Yh({config:t.config,l10n:t.l10n})}function Se(L){if(typeof t.config.position=="function")return void t.config.position(t,L);if(t.calendarContainer!==void 0){Lt("onPreCalendarPosition");var z=L||t._positionElement,Z=Array.prototype.reduce.call(t.calendarContainer.children,function(Yd,Gd){return Yd+Gd.offsetHeight},0),ce=t.calendarContainer.offsetWidth,Te=t.config.position.split(" "),je=Te[0],it=Te.length>1?Te[1]:null,ze=z.getBoundingClientRect(),ft=window.innerHeight-ze.bottom,Be=je==="above"||je!=="below"&&ft<Z&&ze.top>Z,Ze=window.pageYOffset+ze.top+(Be?-Z-2:z.offsetHeight+2);if(zs(t.calendarContainer,"arrowTop",!Be),zs(t.calendarContainer,"arrowBottom",Be),!t.config.inline){var Tt=window.pageXOffset+ze.left,mn=!1,Ns=!1;it==="center"?(Tt-=(ce-ze.width)/2,mn=!0):it==="right"&&(Tt-=ce-ze.width,Ns=!0),zs(t.calendarContainer,"arrowLeft",!mn&&!Ns),zs(t.calendarContainer,"arrowCenter",mn),zs(t.calendarContainer,"arrowRight",Ns);var ui=window.document.body.offsetWidth-(window.pageXOffset+ze.right),Eo=Tt+ce>window.document.body.offsetWidth,ul=ui+ce>window.document.body.offsetWidth;if(zs(t.calendarContainer,"rightMost",Eo),!t.config.static)if(t.calendarContainer.style.top=Ze+"px",!Eo)t.calendarContainer.style.left=Tt+"px",t.calendarContainer.style.right="auto";else if(!ul)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=ui+"px";else{var Tn=Me();if(Tn===void 0)return;var Vd=window.document.body.offsetWidth,Wd=Math.max(0,Vd/2-ce/2),qd=".flatpickr-calendar.centerMost:before",jr=".flatpickr-calendar.centerMost:after",Fr=Tn.cssRules.length,Kd="{left:"+ze.left+"px;right:auto;}";zs(t.calendarContainer,"rightMost",!1),zs(t.calendarContainer,"centerMost",!0),Tn.insertRule(qd+","+jr+Kd,Fr),t.calendarContainer.style.left=Wd+"px",t.calendarContainer.style.right="auto"}}}}function Me(){for(var L=null,z=0;z<document.styleSheets.length;z++){var Z=document.styleSheets[z];if(Z.cssRules){try{Z.cssRules}catch{continue}L=Z;break}}return L??Ce()}function Ce(){var L=document.createElement("style");return document.head.appendChild(L),L.sheet}function be(){t.config.noCalendar||t.isMobile||(_e(),Sn(),q())}function We(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Re(L){L.preventDefault(),L.stopPropagation();var z=function(Ze){return Ze.classList&&Ze.classList.contains("flatpickr-day")&&!Ze.classList.contains("flatpickr-disabled")&&!Ze.classList.contains("notAllowed")},Z=ob(nn(L),z);if(Z!==void 0){var ce=Z,Te=t.latestSelectedDateObj=new Date(ce.dateObj.getTime()),je=(Te.getMonth()<t.currentMonth||Te.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ce,t.config.mode==="single")t.selectedDates=[Te];else if(t.config.mode==="multiple"){var it=Cs(Te);it?t.selectedDates.splice(parseInt(it),1):t.selectedDates.push(Te)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Te,t.selectedDates.push(Te),rn(Te,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ze,Tt){return Ze.getTime()-Tt.getTime()}));if(f(),je){var ze=t.currentYear!==Te.getFullYear();t.currentYear=Te.getFullYear(),t.currentMonth=Te.getMonth(),ze&&(Lt("onYearChange"),_e()),Lt("onMonthChange")}if(Sn(),q(),Mn(),!je&&t.config.mode!=="range"&&t.config.showMonths===1?N(ce):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var ft=t.config.mode==="single"&&!t.config.enableTime,Be=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(ft||Be)&&We()}y()}}var De={locale:[le,J],showMonths:[ve,l,Q],minDate:[b],maxDate:[b],positionElement:[$s],clickOpens:[function(){t.config.clickOpens===!0?(w(t._input,"focus",t.open),w(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Qe(L,z){if(L!==null&&typeof L=="object"){Object.assign(t.config,L);for(var Z in L)De[Z]!==void 0&&De[Z].forEach(function(ce){return ce()})}else t.config[L]=z,De[L]!==void 0?De[L].forEach(function(ce){return ce()}):Gu.indexOf(L)>-1&&(t.config[L]=Xu(z));t.redraw(),Mn(!0)}function pt(L,z){var Z=[];if(L instanceof Array)Z=L.map(function(ce){return t.parseDate(ce,z)});else if(L instanceof Date||typeof L=="number")Z=[t.parseDate(L,z)];else if(typeof L=="string")switch(t.config.mode){case"single":case"time":Z=[t.parseDate(L,z)];break;case"multiple":Z=L.split(t.config.conjunction).map(function(ce){return t.parseDate(ce,z)});break;case"range":Z=L.split(t.l10n.rangeSeparator).map(function(ce){return t.parseDate(ce,z)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(L)));t.selectedDates=t.config.allowInvalidPreload?Z:Z.filter(function(ce){return ce instanceof Date&&Ie(ce,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ce,Te){return ce.getTime()-Te.getTime()})}function Ct(L,z,Z){if(z===void 0&&(z=!1),Z===void 0&&(Z=t.config.dateFormat),L!==0&&!L||L instanceof Array&&L.length===0)return t.clear(z);pt(L,Z),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,z),m(),t.selectedDates.length===0&&t.clear(!1),Mn(z),z&&Lt("onChange")}function vt(L){return L.slice().map(function(z){return typeof z=="string"||typeof z=="number"||z instanceof Date?t.parseDate(z,void 0,!0):z&&typeof z=="object"&&z.from&&z.to?{from:t.parseDate(z.from,void 0),to:t.parseDate(z.to,void 0)}:z}).filter(function(z){return z})}function ms(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var L=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);L&&pt(L,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function os(){if(t.input=X(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=kt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),$s()}function $s(){t._positionElement=t.config.positionElement||t._input}function us(){var L=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=kt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=L,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=L==="datetime-local"?"Y-m-d\\TH:i:S":L==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}w(t.mobileInput,"change",function(z){t.setDate(nn(z).value,!1,t.mobileFormatStr),Lt("onChange"),Lt("onClose")})}function Cn(L){if(t.isOpen===!0)return t.close();t.open(L)}function Lt(L,z){if(t.config!==void 0){var Z=t.config[L];if(Z!==void 0&&Z.length>0)for(var ce=0;Z[ce]&&ce<Z.length;ce++)Z[ce](t.selectedDates,t.input.value,t,z);L==="onChange"&&(t.input.dispatchEvent(hs("change")),t.input.dispatchEvent(hs("input")))}}function hs(L){var z=document.createEvent("Event");return z.initEvent(L,!0,!0),z}function Cs(L){for(var z=0;z<t.selectedDates.length;z++){var Z=t.selectedDates[z];if(Z instanceof Date&&rn(Z,L)===0)return""+z}return!1}function Xi(L){return t.config.mode!=="range"||t.selectedDates.length<2?!1:rn(L,t.selectedDates[0])>=0&&rn(L,t.selectedDates[1])<=0}function Sn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(L,z){var Z=new Date(t.currentYear,t.currentMonth,1);Z.setMonth(t.currentMonth+z),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[z].textContent=nd(Z.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Z.getMonth().toString(),L.value=Z.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function sn(L){var z=L||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Z){return t.formatDate(Z,z)}).filter(function(Z,ce,Te){return t.config.mode!=="range"||t.config.enableTime||Te.indexOf(Z)===ce}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Mn(L){L===void 0&&(L=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=sn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=sn(t.config.altFormat)),L!==!1&&Lt("onValueUpdate")}function Ao(L){var z=nn(L),Z=t.prevMonthNav.contains(z),ce=t.nextMonthNav.contains(z);Z||ce?xe(Z?-1:1):t.yearElements.indexOf(z)>=0?z.select():z.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):z.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Hd(L){L.preventDefault();var z=L.type==="keydown",Z=nn(L),ce=Z;t.amPM!==void 0&&Z===t.amPM&&(t.amPM.textContent=t.l10n.amPM[vn(t.amPM.textContent===t.l10n.amPM[0])]);var Te=parseFloat(ce.getAttribute("min")),je=parseFloat(ce.getAttribute("max")),it=parseFloat(ce.getAttribute("step")),ze=parseInt(ce.value,10),ft=L.delta||(z?L.which===38?1:-1:0),Be=ze+it*ft;if(typeof ce.value<"u"&&ce.value.length===2){var Ze=ce===t.hourElement,Tt=ce===t.minuteElement;Be<Te?(Be=je+Be+vn(!Ze)+(vn(Ze)&&vn(!t.amPM)),Tt&&M(void 0,-1,t.hourElement)):Be>je&&(Be=ce===t.hourElement?Be-je-vn(!t.amPM):Te,Tt&&M(void 0,1,t.hourElement)),t.amPM&&Ze&&(it===1?Be+ze===23:Math.abs(Be-ze)>it)&&(t.amPM.textContent=t.l10n.amPM[vn(t.amPM.textContent===t.l10n.amPM[0])]),ce.value=Js(Be)}}return o(),t}function gr(s,e){for(var t=Array.prototype.slice.call(s).filter(function(a){return a instanceof HTMLElement}),n=[],o=0;o<t.length;o++){var r=t[o];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=mP(r,e||{}),n.push(r._flatpickr)}catch{}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(s){return gr(this,s)},HTMLElement.prototype.flatpickr=function(s){return gr([this],s)});var es=function(s,e){return typeof s=="string"?gr(window.document.querySelectorAll(s),e):s instanceof Node?gr([s],e):gr(s,e)};es.defaultConfig={};es.l10ns={en:Ds({},Xa),default:Ds({},Xa)};es.localize=function(s){es.l10ns.default=Ds(Ds({},es.l10ns.default),s)};es.setDefaults=function(s){es.defaultConfig=Ds(Ds({},es.defaultConfig),s)};es.parseDate=Yh({});es.formatDate=ib({});es.compareDates=rn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(s){return gr(this,s)});Date.prototype.fp_incr=function(s){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof s=="string"?parseInt(s,10):s))};typeof window<"u"&&(window.flatpickr=es);const rb=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],gP=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],Hg=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vg=s=>s instanceof Array?s:[s],Wg=s=>Object.assign({},s),qg=rb.concat(gP),_P=["locale","showMonths"],vP={name:"flat-pickr",render(){return Pt("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(qg.map(Hg)),props:{modelValue:{default:null,required:!0,validator(s){return s===null||s instanceof Date||typeof s=="string"||s instanceof String||s instanceof Array||typeof s=="number"}},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>rb},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){if(this.fp)return;const s=Wg(this.config);this.events.forEach(t=>{const n=es.defaultConfig[t]||[],o=(...r)=>{this.$emit(Hg(t),...r)};s[t]=Vg(s[t]||[]).concat(n,o)});const e=(...t)=>{this.onClose(...t)};s.onClose=Vg(s.onClose||[]).concat(e),s.defaultDate=this.modelValue||s.defaultDate,this.fp=new es(this.getElem(),s),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(s){const e=s.target;Tr().then(()=>{this.$emit("update:modelValue",e.value)})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(s){this.$emit("blur",s.target.value)},onClose(s,e){this.$emit("update:modelValue",e)},watchDisabled(s){s?this.fpInput().setAttribute("disabled",s):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(s){const e=Wg(s);qg.forEach(t=>{delete e[t]}),this.fp.set(e),_P.forEach(t=>{typeof e[t]<"u"&&this.fp.set(t,e[t])})}},modelValue(s){s!==this.$refs.root.value&&this.fp&&this.fp.setDate(s,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}},yP={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},bP={class:"px-6 py-4"},xP={class:"mb-6 text-sm font-medium text-gray-700"},wP={class:"flex items-center"},kP={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},$P={value:"daily"},CP={value:"weekly"},SP={value:"monthly"},MP={value:"yearly"},TP={key:0,class:"mt-6 flex items-center"},DP={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},AP=["value"],EP={key:1,class:"mt-6"},PP={class:"whitespace-nowrap text-sm text-gray-600"},OP={class:"mt-2.5 flex space-x-2"},RP=["onClick"],LP={key:2,class:"mt-6 flex items-center"},IP={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},jP=["value"],FP={value:"lastday"},NP={key:3,class:"mt-6 flex items-center"},zP={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},BP=["value"],UP=["value"],HP={value:"lastday"},VP={class:"mt-6"},WP={class:"mb-3 whitespace-nowrap text-sm text-gray-600"},qP={class:"space-y-1.5"},KP={class:"flex h-[1.875rem] items-center"},YP={for:"ends-never",class:"ml-3"},GP={class:"block text-sm text-gray-600"},XP={class:"flex items-center"},JP={class:"flex w-[9.375rem] items-center"},QP={for:"ends-on",class:"ml-3"},ZP={class:"block text-sm text-gray-600"},eO={class:"flex items-center"},tO={class:"flex w-[9.375rem] items-center"},sO={for:"ends-after",class:"ml-3"},nO={class:"block text-sm text-gray-600"},oO=["disabled"],iO={class:"pointer-events-none flex items-center pr-2.5"},rO={class:"text-xs text-gray-600"},aO={class:"mt-8"},lO={class:"flex items-center"},cO={for:"task-completion",class:"pl-3 text-sm text-gray-600"},dO={class:"mt-8 flex justify-start"},uO=fe({__name:"TaskRepeatDropdown",setup(s){const e=Zt(),t=I(!1),n=I(!1),o={type:"daily",every:1,hour_at:0,day_at:1,month_at:1,repeat_on:[],task_completion_required:!0,ends_at:null,repetitions:1,ends:"never"},r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],a=[{label:"M",value:"Mon"},{label:"T",value:"Tue"},{label:"W",value:"Wed"},{label:"T",value:"Thu"},{label:"F",value:"Fri"},{label:"S",value:"Sat"},{label:"S",value:"Sun"}],l=mt({...o});function c(_){l.repeat_on.includes(_)?l.repeat_on.splice(l.repeat_on.indexOf(_),1):l.repeat_on.push(_)}function d(){t.value=!0,ue.post(`tasks/${e.data.id}/recurring`,{...l}).then(({data:_})=>{t.value=!1,n.value=!0,Object.assign(e.data,_)}).catch(()=>{t.value=!1})}function u(){n.value=!0}function f(){var _;n.value=!1,(_=e.data.meta)!=null&&_.recurring?g():m()}function m(){Object.assign(l,o)}function g(){Object.assign(l,e.data.meta.recurring)}return(_,w)=>(v(),se(p(js),{name:"task-repeat",modal:!0,"close-outside":"",close:n.value,onToggle:f},{trigger:Y(()=>[...w[14]||(w[14]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:Y(()=>[i("div",yP,[i("div",bP,[i("h3",xP,h(_.__("Recurrence")),1),i("section",wP,[i("p",kP,h(_.__("Repeat every")),1),W(i("input",{"onUpdate:modelValue":w[0]||(w[0]=y=>l.every=y),type:"number",class:"mr-2 block w-16 rounded-md border-gray-300 px-2.5 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0",min:"1",max:"99",onChange:w[1]||(w[1]=y=>l.every=Math.max(Math.min(Math.round(l.every),99),1))},null,544),[[de,l.every]]),W(i("select",{"onUpdate:modelValue":w[2]||(w[2]=y=>l.type=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[i("option",$P,"Day"+h(l.every>1?"s":""),1),i("option",CP," Week"+h(l.every>1?"s":""),1),i("option",SP," Month"+h(l.every>1?"s":""),1),i("option",MP," Year"+h(l.every>1?"s":""),1)],512),[[qe,l.type]])]),l.type=="daily"?(v(),k("section",TP,[i("p",DP,h(_.__("Hour At")),1),W(i("select",{"onUpdate:modelValue":w[3]||(w[3]=y=>l.hour_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(v(),k(he,null,ke(24,(y,$)=>i("option",{key:y,value:$},h($.toString().padStart(2,"0"))+":00 ",9,AP)),64))],512),[[qe,l.hour_at]])])):P("",!0),l.type=="weekly"?(v(),k("section",EP,[i("p",PP,h(_.__("Repeat on")),1),i("div",OP,[(v(),k(he,null,ke(a,y=>i("span",{key:y.value,class:ae(["flex h-6 w-6 cursor-pointer items-center justify-center rounded text-xs",{"border border-gray-300 text-gray-500":!l.repeat_on.includes(y.value),"bg-indigo-600 text-white":l.repeat_on.includes(y.value)}]),onClick:$=>c(y.value)},h(y.label),11,RP)),64))])])):P("",!0),l.type=="monthly"?(v(),k("section",LP,[i("p",IP,h(_.__("Day")),1),W(i("select",{"onUpdate:modelValue":w[4]||(w[4]=y=>l.day_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(v(),k(he,null,ke(31,y=>i("option",{key:y,value:y},h(y.toString().padStart(2,"0")),9,jP)),64)),i("option",FP,h(_.__("Last Day")),1)],512),[[qe,l.day_at]])])):P("",!0),l.type=="yearly"?(v(),k("section",NP,[i("p",zP,h(_.__("Month"))+" / "+h(_.__("Day")),1),W(i("select",{"onUpdate:modelValue":w[5]||(w[5]=y=>l.month_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(v(),k(he,null,ke(r,y=>i("option",{key:y.label,value:y.value},h(y.label),9,BP)),64))],512),[[qe,l.month_at]]),W(i("select",{"onUpdate:modelValue":w[6]||(w[6]=y=>l.day_at=y),class:"ml-2 block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(v(),k(he,null,ke(31,y=>i("option",{key:y,value:y},h(y.toString().padStart(2,"0")),9,UP)),64)),i("option",HP,h(_.__("Last Day")),1)],512),[[qe,l.day_at]])])):P("",!0),i("section",VP,[i("p",WP,h(_.__("Ends")),1),i("div",qP,[i("div",KP,[W(i("input",{id:"ends-never","onUpdate:modelValue":w[7]||(w[7]=y=>l.ends=y),type:"radio",value:"never",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[hr,l.ends]]),i("label",YP,[i("span",GP,h(_.__("Never")),1)])]),i("div",XP,[i("div",JP,[W(i("input",{id:"ends-on","onUpdate:modelValue":w[8]||(w[8]=y=>l.ends=y),type:"radio",value:"on",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[hr,l.ends]]),i("label",QP,[i("span",ZP,h(_.__("On")),1)])]),i("div",null,[T(p(vP),{id:"ends-on-date",modelValue:l.ends_at,"onUpdate:modelValue":w[9]||(w[9]=y=>l.ends_at=y),disabled:l.ends!="on",class:"block rounded-md border-gray-300 px-2 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50"},null,8,["modelValue","disabled"])])]),i("div",eO,[i("div",tO,[W(i("input",{id:"ends-after","onUpdate:modelValue":w[10]||(w[10]=y=>l.ends=y),type:"radio",value:"after",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[hr,l.ends]]),i("label",sO,[i("span",nO,h(_.__("After")),1)])]),i("div",null,[i("div",{class:ae(["flex rounded-md border border-gray-300 shadow-sm",{"opacity-50":l.ends!="after"}])},[W(i("input",{"onUpdate:modelValue":w[11]||(w[11]=y=>l.repetitions=y),type:"number",placeholder:"1",class:"block w-20 rounded-md border-0 px-2.5 py-1.5 text-xs text-gray-800 focus:ring-0",disabled:l.ends!="after",onChange:w[12]||(w[12]=y=>l.repetitions=Math.max(Math.min(Math.round(l.repetitions),999),1))},null,40,oO),[[de,l.repetitions]]),i("div",iO,[i("span",rO,h(_.__("Occurences")),1)])],2)])])])]),i("section",aO,[i("div",lO,[W(i("input",{id:"task-completion","onUpdate:modelValue":w[13]||(w[13]=y=>l.task_completion_required=y),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,l.task_completion_required]]),i("label",cO,h(_.__("Only if last task was completed")),1)])]),i("section",dO,[T(p(Ue),{size:"xs",processing:t.value,onClick:d},{default:Y(()=>[te(h(_.__("Save")),1)]),_:1},8,["processing"]),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:u},h(_.__("Cancel")),1)])])])]),_:1},8,["close"]))}}),hO={class:"py-3.5"},fO={class:"flex items-center px-2"},pO={class:"text-sm font-medium text-gray-600"},mO=["aria-label"],gO={key:0,class:"flex items-center px-2 pt-3"},_O={"aria-label":"Next Recurring At","data-cooltipz-dir":"bottom"},vO={class:"ml-2 text-xs text-gray-600"},yO=fe({__name:"TaskRecurring",setup(s){const e=Zt();return(t,n)=>(v(),k("section",hO,[i("div",fO,[i("h2",pO,h(t.__("Repeat")),1),p(e).data.recurring_at?(v(),k("span",{key:0,class:"ml-2","aria-label":p(e).data.meta.recurring.phrase,"data-cooltipz-dir":"bottom"},[T(p(tv),{class:"h-3 w-3 text-gray-600"})],8,mO)):P("",!0),t.can("task:update")?(v(),se(uO,{key:1,class:"ml-auto"})):P("",!0)]),p(e).data.recurring_at?(v(),k("div",gO,[i("span",_O,[T(p(Co),{class:"h-4 w-4 text-gray-500"})]),i("p",vO,h(p(e).data.recurring_at),1)])):P("",!0)]))}}),bO={class:"group relative flex py-1"},xO={class:"h-6 w-6"},wO={class:"group flex-1 ltr:pl-4 rtl:pr-4"},kO={class:"flex"},$O={class:"flex text-sm font-medium leading-none text-gray-700"},CO={class:"text-xs font-normal text-gray-500 ltr:ml-3 rtl:mr-3"},SO=["innerHTML"],MO={key:0,class:"mt-4 mb-1 divide-y rounded-md border"},TO={class:"flex flex-1 items-center"},DO=["href"],AO=["href"],EO={class:"mr-2 text-sm text-gray-600"},PO={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},OO=fe({__name:"CommentItem",props:{id:{},index:{},comment:{}},setup(s){const e=s,t=new Ke.Renderer,n=t.link;t.link=(c,d,u)=>n.call(t,c,d,u).replace(/^<a /,'<a target="_blank" rel="noreferrer noopener nofollow" ');const o=Zt(),r=I(!1),a=I(!1);function l(){a.value||(a.value=!0,ue.delete(`comments/${e.id}`).then(({data:c})=>{var d;a.value=!1,c.success&&((d=o.data)==null||d.comments.splice(e.index,1))}))}return(c,d)=>(v(),k("div",bO,[i("div",xO,[T(p(ps),{class:"h-6 w-6",avatar:s.comment.user.avatar},null,8,["avatar"])]),i("div",wO,[i("div",kO,[i("h2",$O,[te(h(s.comment.user.name)+" ",1),i("span",CO,h(s.comment.updated_at),1)])]),i("p",{class:"prose prose-sm mt-1.5 break-all text-sm text-gray-600",innerHTML:p(Ke).parse(s.comment.text||"",{breaks:!0,renderer:p(t)})},null,8,SO),s.comment.attachments.length?(v(),k("ul",MO,[(v(!0),k(he,null,ke(s.comment.attachments,u=>(v(),k("li",{key:u.name,class:"flex items-center py-2 px-3"},[i("div",TO,[d[2]||(d[2]=i("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),i("a",{href:"/"+u.path,class:"block w-0 flex-1 truncate text-xs text-gray-700 hover:underline ltr:ml-2 ltr:pr-2 rtl:mr-2 rtl:pl-2",target:"blank"},h(u.name),9,DO)]),i("a",{href:"/"+u.path,class:"ltr:ml-auto rtl:mr-auto",target:"blank"},[T(p(h4),{class:"h-5 w-5 text-gray-400"})],8,AO)]))),128))])):P("",!0)]),r.value?(v(),k("div",{key:0,class:ae(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":a.value}])},[i("span",EO,h(c.__("Are you sure to delete?")),1),T(p($n),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:l}),T(p(On),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:d[0]||(d[0]=u=>r.value=!1)})],2)):(v(),k("div",PO,[s.comment.user_id==p(gt).user.id?(v(),se(p(ls),{key:0,class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-900",onClick:d[1]||(d[1]=u=>r.value=!0)})):P("",!0)]))]))}}),RO={class:"px-3 py-2 text-sm text-gray-500"},LO={class:"mt-1 mb-4 rounded-md border border-gray-300",enctype:"multipart/form-data"},IO=["placeholder","onKeydown"],jO={key:0,class:"mx-3 mt-1 mb-1 divide-y rounded-md border"},FO={class:"flex items-center"},NO={class:"w-0 flex-1 truncate text-sm ltr:ml-2 rtl:mr-2"},zO=["onClick"],BO={key:0,class:"mt-2 w-full rounded-md bg-green-100"},UO={class:"flex items-center px-3 pt-2 pb-3"},HO={class:"flex items-center"},VO={class:"ml-auto flex"},WO={class:"cursor-pointer"},Kg=fe({__name:"CommentForm",props:{id:{},index:{},comment:{}},setup(s){const e=s;dt(()=>{var b;nb(document.querySelectorAll(".autosize")),(b=r.value)==null||b.focus()});const t=Zt(),n=I(e.comment?e.comment.attachments:[]),o=I(e.comment?e.comment.comment:""),r=I(null),a=I(!e.id),l=I({}),c=I({}),d=I(!1),u=Ys();function f(){a.value=!0,o.value="",t.commentForm=null}function m(){a.value=!1,setTimeout(function(){var b;(b=r.value)==null||b.focus()})}function g(){u.fetch(t.data.project_id)}function _(b){b.preventDefault(),n.value=[...b.target.files];for(let S=0;S<n.value.length;S++)w(S)}function w(b){const S=n.value[b],M=new FileReader;M.readAsDataURL(S),M.onload=()=>{const E=new FormData;E.append("file",S),ue.post("file",E,{onUploadProgress:function(H){l.value[b]=Math.round(H.loaded*100/H.total)-5}}).then(({data:H})=>{c.value[b]={path:H,name:S.name},l.value[b]=100})}}function y(b){delete c.value[b],n.value.splice(b,1)}function $(){o.value&&(d.value=!0,ue.post("tasks/"+t.data.id+"/comments",{text:o.value,task_id:t.data.id,attachments:c.value}).then(({data:b})=>{t.data.comments.push(b),o.value="",n.value=[],c.value={},l.value={},d.value=!1,g()}))}return(b,S)=>(v(),k("div",null,[W(i("div",{class:"mt-1 mb-4 cursor-pointer rounded-md border border-gray-300 hover:shadow",onClick:m},[i("p",RO,h(b.__("Write a comment")),1)],512),[[Ht,a.value]]),W(i("form",LO,[W(i("textarea",{ref_key:"input",ref:r,"onUpdate:modelValue":S[0]||(S[0]=M=>o.value=M),class:"autosize comment-textarea block max-h-40 w-full resize-none rounded-md border-0 text-sm focus:ring-0",placeholder:b.__("Write a comment"),onKeydown:[bn(et($,["ctrl"]),["enter"]),bn(f,["esc"])]},null,40,IO),[[de,o.value]]),n.value.length?(v(),k("ul",jO,[(v(!0),k(he,null,ke(n.value,(M,E)=>(v(),k("li",{key:M.name,class:"block py-2 px-3"},[i("div",FO,[S[2]||(S[2]=i("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),i("span",NO,h(M.name),1),i("span",{class:"cursor-pointer ltr:ml-auto rtl:mr-auto",onClick:H=>y(E)},[...S[1]||(S[1]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,zO)]),l.value[E]?(v(),k("div",BO,[i("span",{class:"block h-1 rounded-md bg-green-400",style:Mt({width:l.value[E]+"%"})},null,4)])):P("",!0)]))),128))])):P("",!0),i("div",UO,[i("div",HO,[i("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:$},h(b.__("Save")),1),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:f},h(b.__("Cancel")),1)]),i("div",VO,[i("label",WO,[i("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/gif,.doc,.docx,.pdf,.txt",multiple:"",onChange:_},null,32),S[3]||(S[3]=i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1))])])])],512),[[Ht,!a.value]])]))}}),qO={id:"comments",class:"mt-8"},KO={class:"flex"},YO={class:"flex-1 border-b pb-2"},GO={class:"text-sm font-medium text-gray-800"},XO={class:"ml-2 text-sm font-light text-gray-600"},JO={class:"pl-8 pt-4"},QO={class:"space-y-4"},ZO=fe({__name:"TaskComments",setup(s){const e=Zt();return(t,n)=>(v(),k("section",qO,[T(p(Ad),{open:!0},{trigger:Y(({open:o})=>[i("div",KO,[(v(),k("svg",{class:ae(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!o}]),viewBox:"0 0 16 16"},[...n[0]||(n[0]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("div",YO,[i("span",GO,h(t.__("Comments")),1),i("span",XO,h(p(e).data.comments.length),1)])])]),content:Y(()=>[i("div",JO,[T(Kg),i("div",QO,[(v(!0),k(he,null,ke(p(e).data.comments,(o,r)=>(v(),se(Qo(p(e).commentForm==r?Kg:OO),{key:o.id,id:o.id,index:r,comment:o},null,8,["id","index","comment"]))),128))])])]),_:1})]))}}),eR={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},tR=["onClick"],sR={key:0,class:"inline-block h-5 w-5 rounded-full bg-blue-400 text-white"},nR={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},oR=fe({__name:"TaskAssign",setup(s){const e=Zt(),t=Ys(),n=tt("can");function o(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;let l=e.data.users.findIndex(c=>c.id==a.id);l>=0?e.data.users.splice(l,1):e.data.users.push({id:a.id,name:a.name}),ue.patch("tasks/"+e.data.id+"/assign",{user:a.id}).then(({data:c})=>{o()})}return(a,l)=>(v(),se(p(js),{name:"task-assign",modal:!0,"close-outside":""},{trigger:Y(()=>[...l[0]||(l[0]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:Y(()=>[i("div",eR,[(v(!0),k(he,null,ke(p(e).data.project.users,c=>(v(),k("div",{key:c.id,class:ae(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":p(n)("task:update")}]),onClick:d=>r(c)},[p(e).data.users.length&&p(e).data.users.find(d=>d.id==c.id)?(v(),k("span",sR,[...l[1]||(l[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])])):(v(),se(p(ps),{key:1,class:"h-5 w-5",avatar:c.avatar},null,8,["avatar"])),i("span",nR,h(c.name),1)],10,tR))),128))])]),_:1}))}}),iR={class:"py-3.5"},rR={class:"flex items-center px-2"},aR={class:"text-sm font-medium text-gray-600"},lR={key:0,class:"flex flex-wrap px-2 pt-2"},cR=fe({__name:"TaskAssignee",setup(s){const e=Zt();return(t,n)=>(v(),k("section",iR,[i("div",rR,[i("h2",aR,h(t.__("Assignee")),1),t.can("task:update")?(v(),se(oR,{key:0,class:"ml-auto"})):P("",!0)]),p(e).data.users.length?(v(),k("div",lR,[(v(!0),k(he,null,ke(p(e).data.users,o=>(v(),se(p(ps),{key:o.id,"data-cooltipz-dir":"top","aria-label":o.name,class:"mr-1 mb-1 h-6 w-6 border-2 border-white",avatar:o.avatar},null,8,["aria-label","avatar"]))),128))])):P("",!0)]))}}),dR={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},uR={key:0,class:"py-1.5 text-center text-xs text-gray-600"},hR=["onClick"],fR={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},pR=fe({__name:"TaskLabelsDropdown",setup(s){const e=Zt(),t=Ys(),n=tt("can");function o(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;const l=["not started","started","in progress","completed","stuck"],c=l.includes(a.name.toLowerCase());let d=e.data.labels.findIndex(u=>u.id==a.id);d>=0?e.data.labels.splice(d,1):(c&&(e.data.labels=e.data.labels.filter(u=>!l.includes(u.name.toLowerCase()))),e.data.labels.push({id:a.id,name:a.name,meta:{color:a.meta.color}})),ue.patch("tasks/"+e.data.id+"/label",{label:a.id}).then(({data:u})=>{u.completed_at!==void 0&&(e.data.completed_at=u.completed_at),o()})}return(a,l)=>(v(),se(p(js),{name:"task-labels",modal:!0,"close-outside":""},{trigger:Y(()=>[...l[0]||(l[0]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:Y(()=>[i("div",dR,[p(e).options.labels.length?P("",!0):(v(),k("p",uR," There are No Labels! ")),(v(!0),k(he,null,ke(p(e).options.labels,c=>(v(),k("div",{key:c.label,class:ae(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":p(n)("task:update")}]),onClick:d=>r(c)},[p(e).data.labels.length&&p(e).data.labels.find(d=>d.id==c.id)?(v(),se(p(VA),{key:0,class:"inline-block h-4 w-4",style:Mt({color:c.meta.color})},null,8,["style"])):(v(),se(p(Yy),{key:1,class:"inline-block h-4 w-4",style:Mt({color:c.meta.color})},null,8,["style"])),i("span",fR,h(c.name),1)],10,hR))),128))])]),_:1}))}}),mR={class:"py-3.5"},gR={class:"flex items-center px-2"},_R={class:"text-sm font-medium text-gray-600"},vR={key:0,class:"flex flex-wrap px-2 pt-2"},yR=fe({__name:"TaskLabels",setup(s){const e=Zt();return(t,n)=>(v(),k("section",mR,[i("div",gR,[i("h2",_R,h(t.__("Labels")),1),t.can("task:update")?(v(),se(pR,{key:0,class:"ml-auto"})):P("",!0)]),p(e).data.labels.length?(v(),k("div",vR,[(v(!0),k(he,null,ke(p(e).data.labels,o=>(v(),k("span",{key:o.id,class:"mb-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white ltr:mr-2 rtl:ml-2",style:Mt({"background-color":o.meta.color})},[n[0]||(n[0]=i("svg",{class:"-ml-0.5 mr-1.5 h-2 w-2 text-white",fill:"currentColor",viewBox:"0 0 8 8"},[i("circle",{cx:"4",cy:"4",r:"3"})],-1)),te(" "+h(o.name),1)],4))),128))])):P("",!0)]))}}),bR={class:"py-3"},xR={class:"px-2 text-sm font-medium text-gray-600"},wR={key:0,class:"mt-2 flex items-center px-2 py-1"},kR={class:"block text-xs leading-none text-gray-600"},$R={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},CR={class:"block h-3.5 text-xs leading-none text-gray-600"},SR={class:"absolute z-30 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},MR=["onClick"],TR=fe({__name:"TaskProjectList",setup(s){const e=Zt(),t=Ys();function n(){t.fetch(e.data.project_id)}function o(r){e.data.project_list.name=r.name,ue.patch(`tasks/${e.data.id}/list`,{project_list_id:r.id}).then(()=>{n()})}return(r,a)=>(v(),k("section",bR,[i("h2",xR,h(r.__("Project List")),1),r.can("task:update")?(v(),se(p(js),{key:1},{trigger:Y(()=>[i("div",$R,[i("span",CR,h(p(e).data.project_list.name),1),a[0]||(a[0]=i("svg",{class:"ml-auto hidden h-3.5 w-3.5 cursor-pointer text-gray-500 group-hover:block",viewBox:"0 0 16 16"},[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"})],-1))])]),content:Y(()=>[i("div",SR,[(v(!0),k(he,null,ke(p(e).options.project_lists,l=>(v(),k("span",{key:l.name,class:"block cursor-pointer px-4 py-2 text-xs text-gray-600 hover:bg-gray-200",onClick:c=>o(l)},h(l.name),9,MR))),128))])]),_:1})):(v(),k("div",wR,[i("span",kR,h(p(e).data.project_list.name),1)]))]))}}),DR={class:"pb-3"},AR={class:"px-2 text-sm font-medium text-gray-600"},ER={class:"mt-2 flex items-center px-2"},PR={key:0,class:"pr-4"},OR={key:1,class:"text-red-500"},RR={key:2,class:"text-gray-600"},LR=fe({__name:"TaskTimer",setup(s){const e=Zt(),t=Ir(),n=I(!1),o=I(!1);function r(){if(o.value)return`${t.currentTaskTimer.h.toString().padStart(2,"0")}:${t.currentTaskTimer.m.toString().padStart(2,"0")}:${t.currentTaskTimer.s.toString().padStart(2,"0")}`;let d=e.data.total_seconds,u=Math.floor((d||0)%60),f=Math.floor((d||0)%3600/60);return`${Math.floor((d||0)/3600).toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}function a(){o.value||(t.setTimer(e.data.total_seconds),o.value=!0),setTimeout(function(){t.start(e.data)})}function l(){t.stop()}function c(){if(e.data.users.length&&e.data.users.find(d=>d.id==gt.user.id))return n.value=!0;n.value=!1}return c(),(d,u)=>(v(),k("section",DR,[i("h2",AR,h(d.__("Time")),1),i("div",ER,[n.value?(v(),k("div",PR,[p(e).data.id==p(t).taskId?(v(),k("span",{key:0,onClick:et(l,["stop"])},[T(p(Or),{class:"h-4 w-4 cursor-pointer text-red-500 hover:text-red-700"})])):(v(),k("span",{key:1,onClick:et(a,["stop"])},[T(p(xd),{class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-700"})]))])):P("",!0),p(e).data.id==p(t).taskId?(v(),k("p",OR,h(p(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+h(p(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+h(p(t).currentTaskTimer.s.toString().padStart(2,"0")),1)):(v(),k("p",RR,h(r()),1))])]))}}),IR={class:"py-3"},jR={class:"px-2 text-sm font-medium text-gray-600"},FR={key:0,class:"mt-2 flex items-center px-2","data-cooltipz-dir":"top"},NR={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},zR={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},BR={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},UR={class:"absolute z-30 mt-2 ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},HR=fe({__name:"TaskDueDate",setup(s){const e=I(!1),t=Zt(),n=Ys();function o(){n.fetch(t.data.project_id)}const r=function(a){e.value=!0,t.data.due_at=a?a.date:null,t.data.human_due_date=a?a.label:null,ue.patch("tasks/"+t.data.id+"/due-date",{due_at:a?a.date:null}).then(({data:l})=>{o()})};return(a,l)=>(v(),k("section",IR,[i("h2",jR,h(a.__("Due Date")),1),a.can("task:update")?(v(),se(p(js),{key:1,"close-outside":"",close:e.value,modal:!0},{trigger:Y(()=>[i("div",zR,[T(p(Qn),{class:"h-4 w-4 text-gray-500"}),i("span",BR,h(p(t).data.due_at?p(t).data.human_due_date:a.__("No due date")),1),p(t).data.due_at?(v(),k("span",{key:0,class:"ml-auto flex h-4 w-4 items-center justify-center rounded-md hover:bg-gray-300",onClick:et(r,["stop"])},[T(p(kd),{class:"h-3.5 w-3.5 text-gray-600"})])):P("",!0)])]),content:Y(()=>{var c;return[i("div",UR,[T(p(H3),{date:((c=p(t).data)==null?void 0:c.due_at)||"",onSelected:r},null,8,["date"])])]}),_:1},8,["close"])):(v(),k("div",FR,[T(p(Qn),{class:"h-4 w-4 text-gray-500"}),i("span",NR,h(p(t).data.due_at?p(t).data.due_at:a.__("No due date")),1)]))]))}}),VR={key:0,class:"flex justify-center rounded-lg bg-gray-300 py-28"},WR={key:1},qR={class:"flex border-b border-gray-200 shadow-sm"},KR={class:"flex items-center px-6 text-sm text-gray-700"},YR={class:"flex"},GR={class:"flex-1 px-6 pt-6 pb-8"},XR={class:"w-60 divide-y divide-gray-200 rounded-br-lg bg-gray-50 px-6 py-6"},Bd=fe({__name:"TaskModal",props:{id:{}},setup(s){const e=s,t=Zt();t.fetch(e.id),Rt().onHide(function(){if(window.location.pathname.split("/")[1]=="projects"){const o=`/projects/${t.data.project_id}`;history.replaceState(history.state,"",o)}});function n(){Rt().pop()}return(o,r)=>(v(),se(p(Zn),{width:"max-w-3xl"},{default:Y(()=>[p(t).loading?(v(),k("div",VR,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",WR,[i("div",qR,[i("div",KR,[i("span",{class:"inline-block h-2.5 w-2.5 rounded-full ltr:mr-2 rtl:ml-2",style:Mt({"background-color":p(t).data.project.meta.color})},"  ",4),i("span",null,h(p(t).data.project.name),1),r[0]||(r[0]=i("span",{class:"px-2"},"/",-1)),i("span",null,h(p(t).data.project_list.name),1)]),i("div",{class:"ml-auto flex items-center"},[i("span",{class:"cursor-pointer px-4 py-4 text-gray-600 hover:text-gray-800",onClick:n},[...r[1]||(r[1]=[i("svg",{class:"h-6 w-6",viewBox:"0 0 21 21"},[i("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(5 5)"},[i("path",{d:"m10.5 10.5-10-10z"}),i("path",{d:"m10.5.5-10 10"})])],-1)])])])]),i("div",YR,[i("main",GR,[T(OE),T(qE),T(ZO)]),i("aside",XR,[T(LR),T(TR),T(cR),T(HR),T(yR),T(yO),o.can("task:delete")?(v(),se(cP,{key:0})):P("",!0),T(sP)])])]))]),_:1}))}}),JR=["data-id"],QR={class:"flex py-1.5"},ZR=["textContent"],eL={class:"flex items-center"},tL={class:"flex flex-1"},sL={key:0,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},nL=["aria-label"],oL={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},iL=["textContent"],rL={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},aL=["textContent"],lL={key:1,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},cL=["textContent"],dL={key:0,class:"flex items-center py-1 ltr:ml-auto rtl:mr-auto"},uL=["src","title"],hL=["title"],fL={key:0,class:"mt-1 flex flex-wrap"},pL={key:1,class:"mt-1.5 mb-1.5 flex items-center"},mL={class:"ml-1 text-xs text-red-600"},gL=fe({__name:"ListItem",props:{task:{}},setup(s){const e=s,t=Ir(),n=I(!1);function o(l=null){const c=`/projects/${e.task.project_id}/tasks/${l}`;history.replaceState(history.state,"",c),Rt().add(Bd,{id:l,width:"max-w-3xl"})}function r(l){return l[0].checklist_items.filter(c=>c.completed_at!=null).length+"/"+l[0].checklist_items.length}function a(){if(e.task.users.length&&e.task.users.find(l=>l.id==gt.user.id))return n.value=!0;n.value=!1}return a(),(l,c)=>(v(),k("div",{id:"list-item","data-id":s.task.id,class:"mb-2 block cursor-pointer rounded bg-white px-2.5 py-1 shadow-md",onClick:c[1]||(c[1]=d=>o(s.task.id))},[i("div",QR,[i("span",{class:ae(["block flex-1 text-sm",{"text-gray-500 line-through":s.task.completed_at,"text-gray-700":!s.task.completed_at}]),textContent:h(s.task.title)},null,10,ZR)]),i("div",eL,[i("div",tL,[s.task.recurring_at?(v(),k("div",sL,[i("span",{"aria-label":s.task.meta.recurring.phrase,"data-cooltipz-dir":"right","data-cooltipz-size":"medium"},[T(p(tv),{class:"h-4 w-4 text-gray-400"})],8,nL)])):P("",!0),W(i("div",oL,[T(p(Qn),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:h(s.task.human_due_date)},null,8,iL)],512),[[Ht,s.task.due_at]]),W(i("div",rL,[T(p(y4),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:h(s.task.comments.length)},null,8,aL)],512),[[Ht,s.task.comments.length]]),s.task.checklists.length&&s.task.checklists[0].checklist_items.length?(v(),k("div",lL,[T(p($n),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs tracking-widest text-gray-500 ltr:ml-0.5 rtl:mr-0.5",textContent:h(r(s.task.checklists))},null,8,cL)])):P("",!0)]),s.task.users.length?(v(),k("div",dL,[W(i("span",null,null,512),[[Ht,a()]]),W(i("img",{class:"h-4 w-4 rounded-full",src:s.task.users[0].avatar,alt:"avatar",title:s.task.users[0].name},null,8,uL),[[Ht,s.task.users[0].avatar]]),W(i("span",{title:s.task.users[0].name,class:"inline-block h-4 w-4 overflow-hidden rounded-full bg-gray-100 text-gray-300"},[...c[2]||(c[2]=[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])],8,hL),[[Ht,!s.task.users[0].avatar]]),W(i("span",{class:"text-[9px] text-gray-600 ltr:ml-px rtl:mr-px"},"+"+h(s.task.users.length-1),513),[[Ht,s.task.users.length>1]])])):P("",!0)]),s.task.labels.length?(v(),k("div",fL,[(v(!0),k(he,null,ke(s.task.labels,d=>(v(),k("span",{key:d.id,class:"mb-1 inline-flex items-center rounded-md px-1.5 py-1 text-[10px] font-semibold leading-none text-white ltr:mr-1 rtl:ml-1",style:Mt({"background-color":d.meta.color})},h(d.name),5))),128))])):P("",!0),s.task.id==p(t).taskId&&p(t).isTimerRunning?(v(),k("div",pL,[i("span",{onClick:c[0]||(c[0]=et((...d)=>p(t).stop&&p(t).stop(...d),["stop"]))},[T(p(Or),{class:"h-[0.875rem] w-[0.875rem] text-red-500 hover:text-red-800"})]),i("p",mL,h(p(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+h(p(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+h(p(t).currentTaskTimer.s.toString().padStart(2,"0")),1)])):P("",!0)],8,JR))}}),_L={class:"px-2"},vL={class:"block text-sm text-gray-500 group-hover:text-gray-700 ltr:ml-2 rtl:mr-2"},yL={class:"mb-2"},bL={class:"mt-2"},xL=fe({__name:"TaskFormQuick",props:{projectId:{},listId:{},listIndex:{}},setup(s){const e=s,t=I(!1),n=I(!1),o=I(""),r=I(null),a=Ys();function l(){t.value=!0,setTimeout(function(){var u;(u=r.value)==null||u.focus()})}function c(){t.value=!1,o.value=""}function d(){o.value&&(n.value=!0,ue.post("tasks",{task:o.value,project_id:e.projectId,list_id:e.listId}).then(u=>{a.data.lists[e.listIndex].tasks.push(u.data),o.value="",t.value=!1,n.value=!1}))}return(u,f)=>(v(),k("div",_L,[W(i("div",{class:"group mb-1.5 flex cursor-pointer items-center rounded py-2 hover:bg-gray-300 ltr:pl-2 rtl:pr-2",onClick:l},[f[1]||(f[1]=i("svg",{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),i("span",vL,h(u.__("Add task")),1)],512),[[Ht,!t.value]]),W(i("div",yL,[W(i("input",{ref_key:"taskinput",ref:r,"onUpdate:modelValue":f[0]||(f[0]=m=>o.value=m),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter a task",onKeyup:[bn(d,["enter"]),bn(c,["escape"])]},null,544),[[de,o.value]]),i("div",bL,[T(p(Ue),{size:"xs",processing:n.value,onClick:d},{default:Y(()=>[te(h(u.__("Add task")),1)]),_:1},8,["processing"]),T(p(Ue),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:n.value,onClick:c},{default:Y(()=>[te(h(u.__("Cancel")),1)]),_:1},8,["disabled"])])],512),[[Ht,t.value]])]))}}),wL={id:"kanban-wrapper",class:"relative flex-1"},kL={id:"container",class:"absolute inset-0 select-none overflow-x-auto overflow-y-hidden whitespace-nowrap text-[0] transition-opacity"},$L=["data-id"],CL={class:"box-border flex max-h-full flex-col whitespace-normal rounded bg-gray-200"},SL=["id","data-id"],ML={key:0,class:"box-border inline-block h-full w-72 whitespace-nowrap align-top text-base"},TL={class:"text-sm text-gray-700 ltr:ml-2 rtl:mr-2"},DL={class:"box-border max-h-full whitespace-normal rounded bg-gray-200"},AL={class:"py-2.5 px-2"},EL={class:"mt-1 flex"},PL=fe({__name:"TabBoard",setup(s){const e=Ys(),t=I(!1),n=I(""),o=I(null),r=I(!1);Ft(()=>e.data.lists,f=>{},{immediate:!0,deep:!0});function a(){t.value=!0,setTimeout(function(){var f;(f=o.value)==null||f.focus()})}function l(){const f=e.data.lists.length-1;setTimeout(function(){Je.create(document.getElementById(`list-${f}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(m){ue.patch(`tasks/${m.item.getAttribute("data-id")}/sort`,{id:m.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:m.oldIndex,newIndex:m.newIndex}).then(({data:g})=>{})},onAdd:function(m){const g=m.item.getAttribute("data-id");ue.patch(`tasks/${g}/move`,{projectId:e.data.id,fromList:m.from.getAttribute("data-id"),toList:m.to.getAttribute("data-id"),oldIndex:m.oldIndex,newIndex:m.newIndex}).then(({data:_})=>{})}})})}function c(){t.value=!1,n.value=""}function d(){n.value&&(r.value=!0,ue.post("projects/"+e.data.id+"/lists",{name:n.value}).then(f=>{t.value=!1,n.value="",e.data.lists.push(f.data),r.value=!1,l()}))}const u=tt("can");return dt(function(){const f=document.querySelector("#kanban-wrapper");if(f.style.height=window.innerHeight-(64+24+48+16+24)+"px",u("task-list:update")){Je.create(document.getElementById("container"),{draggable:"#section-draggable",onUpdate:function(m){ue.patch(`projects/${e.data.id}/list-sort`,{id:m.item.getAttribute("data-id"),oldIndex:m.oldIndex,newIndex:m.newIndex}).then(({data:g})=>{e.data.lists=g})}});for(let m=0;m<e.data.lists.length;m++)Je.create(document.getElementById(`list-${m}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(g){ue.patch(`tasks/${g.item.getAttribute("data-id")}/sort`,{id:g.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:_})=>{})},onAdd:function(g){const _=g.item.getAttribute("data-id");ue.patch(`tasks/${_}/move`,{projectId:e.data.id,fromList:g.from.getAttribute("data-id"),toList:g.to.getAttribute("data-id"),oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:w})=>{})}})}}),(f,m)=>(v(),k("div",wL,[i("div",kL,[(v(!0),k(he,null,ke(p(e).data.lists,(g,_)=>(v(),k("section",{id:"section-draggable",key:g.id,"data-id":g.id,class:"box-border inline-block h-full w-72 whitespace-nowrap rounded align-top text-base ltr:mr-4 rtl:ml-4"},[i("div",CL,[T(tE,{id:g.id,name:g.name,index:_},null,8,["id","name","index"]),i("div",{id:"list-"+_,"data-id":g.id,class:"min-h-0 overflow-y-auto px-2"},[(v(!0),k(he,null,ke(g.tasks,w=>(v(),se(gL,{key:w.id,task:w},null,8,["task"]))),128))],8,SL),T(xL,{"project-id":g.project_id,"list-id":g.id,"list-index":_},null,8,["project-id","list-id","list-index"])])],8,$L))),128)),p(u)("task-list:create")?(v(),k("section",ML,[W(i("div",{class:"flex cursor-pointer items-center rounded border-2 border-dashed border-gray-300 px-2 py-1.5 hover:border-gray-400",onClick:a},[m[1]||(m[1]=i("svg",{class:"h-6 w-6 text-gray-600",viewBox:"0 0 21 21",fill:"currentColor"},[i("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{d:"m5.5 10.5h10"}),i("path",{d:"m10.5 5.5v10"})])],-1)),i("span",TL,h(f.__("Add list")),1)],512),[[Ht,!t.value]]),W(i("div",DL,[i("div",AL,[W(i("input",{ref_key:"listinput",ref:o,"onUpdate:modelValue":m[0]||(m[0]=g=>n.value=g),type:"text",placeholder:"Enter list title...",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:bn(d,["enter"])},null,544),[[de,n.value]]),i("div",EL,[T(p(Ue),{size:"xs",processing:r.value,onClick:d},{default:Y(()=>[te(h(f.__("Add list")),1)]),_:1},8,["processing"]),T(p(Ue),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:r.value,onClick:c},{default:Y(()=>[te(h(f.__("Cancel")),1)]),_:1},8,["disabled"])])])],512),[[Ht,t.value]])])):P("",!0)])]))}}),OL={class:"cursor-pointer text-gray-600 hover:text-gray-700"},RL={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},LL={class:"py-1",role:"none"},IL=fe({__name:"DetailMenu",props:{projectId:{},isFavorite:{}},setup(s){const e=s,t=I(e.isFavorite);function n(){Rt().add(Nd,{id:e.projectId})}function o(){ue.patch("/projects/"+e.projectId+"/favorite").then(({data:a})=>{e0().flash(a.message),op().items=a.favorites.favorites,t.value=a.favorite})}function r(){ue.patch(`projects/${e.projectId}/archive`).then(({data:a})=>{e0().flash(a.message),window.location.href="/"})}return(a,l)=>(v(),se(p(js),{"close-outside":"",class:"inline-block ltr:ml-auto rtl:mr-auto"},{trigger:Y(()=>[i("span",OL,[T(p(qA),{class:"h-4 w-4"})])]),content:Y(()=>[i("div",RL,[i("div",LL,[i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o},h(t.value?a.__("Remove favorite"):a.__("Add to favorite")),1),a.can("project:update")?(v(),k("button",{key:0,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:et(n,["prevent"])},h(a.__("Edit")),1)):P("",!0),a.can("project:delete")?(v(),k("button",{key:1,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r},h(a.__("Archive")),1)):P("",!0)])])]),_:1}))}}),jL={class:"pb-8"},FL={class:"text-gray-700"},NL={class:"font-semibold text-gray-700 ltr:ml-2 rtl:mr-2"},zL=["href"],BL={class:"rounded-lg border-b border-gray-200 shadow"},UL={class:"min-w-full divide-y divide-gray-200"},HL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},VL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},WL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},qL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},KL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},YL={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},GL={class:"divide-y divide-gray-200 bg-white"},XL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},JL=["onClick"],QL={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},ZL={class:"flex items-center"},eI={class:"ltr:ml-2 rtl:mr-2"},tI={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},sI={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},nI={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},oI={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},iI=fe({__name:"TabTimeLogs",setup(s){const e=Ys(),t=I(!0),n=I("00:00:00");r();function o(a=null){Rt().add(Bd,{id:a,width:"max-w-3xl"})}function r(){ue.get("projects/"+e.data.id+"/total-time").then(({data:a})=>{const l=a,c=new Date(0,0);c.setSeconds(+l),n.value=c.toTimeString().slice(0,8),t.value=!1})}return(a,l)=>(v(),k("div",jL,[i("div",{class:ae(["mt-2 mb-6 flex items-center",{"opacity-50":t.value}])},[i("span",FL,h(a.__("Total logged time"))+":",1),i("span",NL,h(n.value),1),i("a",{href:`/api/projects/${p(e).data.id}/export-time-logs`,class:"inline-flex items-center rounded border border-transparent bg-indigo-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ltr:ml-auto rtl:mr-auto"},h(a.__("Export CSV")),9,zL)],2),T(p(zf),{name:"timelog",uri:`projects/${p(e).data.id}/time-logs`,"no-search":"","no-filters":""},{default:Y(({items:c,index:d})=>[i("div",BL,[i("table",UL,[i("thead",null,[i("tr",null,[i("th",HL,h(a.__("Task")),1),i("th",VL,h(a.__("Assignee")),1),i("th",WL,h(a.__("Start")),1),i("th",qL,h(a.__("Stop")),1),i("th",KL,h(a.__("Time")),1),i("th",YL,h(a.__("Description")),1),l[0]||(l[0]=i("th",{class:"px-6 py-3"},"",-1))])]),i("tbody",GL,[(v(!0),k(he,null,ke(c,u=>(v(),k("tr",{key:u.id},[i("td",XL,[i("p",{class:"cursor-pointer hover:text-gray-700",onClick:f=>o(u.task_id)},h(u.task.title),9,JL)]),i("td",QL,[i("div",ZL,[T(p(ps),{class:"h-6 w-6",avatar:u.user.avatar},null,8,["avatar"]),i("span",eI,h(u.user.name),1)])]),i("td",tI,h(u.started_at),1),i("td",sI,h(u.stopped_at),1),i("td",nI,[i("p",null,h(u.time),1),te(" "+h(u.is_manual?"(manual)":""),1)]),i("td",oI,h(u.description||""),1),l[1]||(l[1]=i("td",{class:"px-6 py-3 text-right"},"",-1))]))),128))])]),T(p(qs),{class:"rounded-b-lg",index:d},null,8,["index"])])]),_:1},8,["uri"])]))}}),rI={key:0,class:"mt-8 flex justify-center"},aI={key:1,class:"flex h-full flex-col"},lI={class:"flex items-center pb-4"},cI={class:"flex items-center"},dI={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},uI={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},hI={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},fI={class:"flex flex-shrink-0 -space-x-1 ltr:ml-8 rtl:mr-8"},Yg=fe({__name:"Detail",setup(s){const e=Ys(),t=wf();ok((r,a)=>{r.params.id!==a.params.id&&e.fetch(r.params.id)});const n=P3("project-detail")();n.tabs([{component:_r(PL),label:"Board"},{component:_r(iI),label:"Time Logs"}]),Ft(()=>e.fetching,r=>{!r&&e.data.id}),Ft(()=>n.tab,r=>{}),e.fetch(t.params.id);function o(r){Rt().add(Bd,{id:parseInt(r)})}if(t.params.taskId){const r=t.params.taskId;o(r)}return(r,a)=>p(e).fetching?(v(),k("div",rI,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",aI,[i("div",lI,[i("div",cI,[i("span",{class:"block h-2.5 w-2.5 rounded-full ltr:mr-3 rtl:ml-3",style:Mt({"background-color":p(e).data.meta.color})},null,4),i("h1",dI,h(p(e).data.name),1)]),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-8 rtl:mr-8",{"bg-gray-200 text-gray-800":p(n).active==0}]),onClick:a[0]||(a[0]=l=>p(n).select(0))},[T(p(E4),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",uI,h(r.__("Board")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-2 rtl:mr-2",{"bg-gray-200 text-gray-800":p(n).active==1}]),onClick:a[1]||(a[1]=l=>p(n).select(1))},[T(p(Co),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",hI,h(r.__("Time Logs")),1)],2),i("div",fI,[(v(!0),k(he,null,ke(p(e).data.users,l=>(v(),se(p(ps),{key:l.id,class:"h-6 w-6 max-w-none rounded-full ring-2 ring-white",avatar:l.avatar,"data-cooltipz-dir":"bottom","aria-label":l.name},null,8,["avatar","aria-label"]))),128))]),T(IL,{"project-id":p(e).data.id||0,"is-favorite":p(e).data.is_favorite},null,8,["project-id","is-favorite"])]),(v(),se(Qo(p(n).tab)))]))}}),pI=[{label:"General",uri:"/settings/general",permission:"setting:general"},{label:"Email",uri:"/settings/email",permission:"setting:email"},{label:"AdSense",uri:"/settings/adsense",permission:"setting:adsense"},{label:"Countries",uri:"/settings/countries",permission:"setting:general"},{label:"User Assignments",uri:"/settings/user-assignments",permission:"setting:general"},{label:"Labels",uri:"/labels",permission:"label:view"},{label:"Roles & Permissions",uri:"/roles",permission:"role:view"}],mI={class:"topbar flex justify-between"},gI={class:"mb-4 text-2xl font-semibold text-gray-900"},_I={class:"flex"},vI={class:"w-64"},yI={class:"py-1"},bI=["href","onClick"],xI={class:"flex-1 ltr:pl-6 rtl:pr-6"},Gi=fe({__name:"SettingsLayout",setup(s){const e=tt("can");return(t,n)=>{const o=pn("router-link");return v(),k(he,null,[i("div",mI,[i("h1",gI,h(t.__("Settings")),1),i("div",null,[ws(t.$slots,"topbar")])]),i("div",_I,[i("div",vI,[T(p(si),{class:"overflow-hidden"},{default:Y(()=>[i("nav",yI,[(v(!0),k(he,null,ke(p(pI),r=>(v(),k(he,{key:r.label},[!r.permission||p(e)(r.permission)?(v(),se(o,{key:0,to:r.uri,custom:""},{default:Y(({href:a,navigate:l,isActive:c})=>[i("a",{href:a,class:ae(["block px-4 py-2 text-sm",{"bg-gray-100 font-medium text-gray-900":c,"text-gray-700 hover:bg-gray-100 hover:text-gray-900":!c}]),onClick:l},h(t.__(r.label)),11,bI)]),_:2},1032,["to"])):P("",!0)],64))),128))])]),_:1})]),i("div",xI,[ws(t.$slots,"default")])])],64)}}}),wI=fe({__name:"Email",setup(s){const e=ds("setting-email")(),t=so(),n=al(),o=Ay();return e.onSuccess(()=>{An().success("Settings Saved Successfully!"),location.reload()}),(r,a)=>(v(),se(Gi,null,{default:Y(()=>[T(p(Mo),{name:"setting-email",uri:"settings/email",title:r.__("Email"),"save-only":""},{default:Y(()=>[T(p(n),{name:"mail_driver",label:r.__("Driver"),"input-class":"max-w-xs",inline:""},null,8,["label"]),T(p(t),{name:"mail_host",label:r.__("Host"),inline:""},null,8,["label"]),T(p(t),{name:"mail_port",label:r.__("Port"),inline:""},null,8,["label"]),T(p(t),{name:"mail_username",label:r.__("Username"),inline:""},null,8,["label"]),T(p(t),{name:"mail_password",label:r.__("Password"),inline:""},null,8,["label"]),T(p(n),{name:"mail_encryption",label:r.__("Encryption"),"input-class":"max-w-xs",inline:""},null,8,["label"]),T(p(o),{name:"mail_verify_peer",label:r.__("Verify Peer"),inline:""},null,8,["label"]),T(p(t),{name:"mail_from_address",label:r.__("From Address"),inline:""},null,8,["label"]),T(p(t),{name:"mail_from_name",label:r.__("From Name"),inline:""},null,8,["label"])]),_:1},8,["title"])]),_:1}))}}),kI={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},$I={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},CI={class:"sm:col-span-2"},SI={class:"flex"},MI={key:0,class:"mr-2 flex h-[2.125rem] items-center bg-gray-900 px-4"},TI=["src"],DI={class:"cursor-pointer rounded-md border border-gray-300 bg-white py-2 px-3 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},AI=fe({__name:"FieldLogo",setup(s){const e=ds("setting-general")(),t=200,n=32,o=I(null);o.value=e.data.app_logo?`/${e.data.app_logo}`:null;function r(){o.value=null,e.data.app_logo=null}function a(l){if(!l.target.files.length)return;let c=l.target.files[0],d=l.target,u=new FileReader;u.readAsDataURL(c),u.onload=f=>{let m=new Image;m.src=f.target.result,m.onload=function(){if(m.width>t||m.height>n){alert("you can upload max "+t+" x "+n),d.value=null;return}o.value=f.target.result;const g=new FormData;g.append("logo",c),ue.post("logo",g).then(({data:_})=>{e.data.app_logo=_})}}}return(l,c)=>(v(),k("div",kI,[i("label",$I,h(l.__("Logo")),1),i("div",CI,[i("div",SI,[o.value?(v(),k("span",MI,[i("img",{class:"block h-8",src:o.value},null,8,TI)])):P("",!0),i("label",DI,[te(h(l.__("Change"))+" ",1),i("input",{type:"file",class:"hidden",accept:"image/*",name:"logo",onChange:a},null,32)]),o.value?(v(),k("button",{key:1,type:"button",class:"ml-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:r},h(l.__("Remove")),1)):P("",!0)])])]))}}),EI={key:0,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},PI=fe({__name:"General",setup(s){const e=gt,t=ds("setting-general")(),n=so(),o=al();return t.onSuccess(()=>location.reload()),(r,a)=>(v(),se(Gi,null,{default:Y(()=>[T(p(Mo),{name:"setting-general",uri:"settings/general",title:"General","save-only":""},{default:Y(()=>[T(p(n),{name:"app_name",label:r.__("App Name"),inline:""},null,8,["label"]),T(p(n),{name:"app_url",label:r.__("App URL"),inline:""},null,8,["label"]),T(p(o),{name:"app_locale",label:r.__("Language"),translatable:"","input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),T(p(o),{name:"app_timezone",label:r.__("Timezone"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),T(p(o),{name:"app_direction",label:r.__("Direction"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),T(AI),p(e).options.is_standalone_demo?(v(),k("div",EI,[...a[0]||(a[0]=[i("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"",-1),i("div",{class:"py-2 text-sm text-red-600 sm:col-span-2"}," Note: Only language and direction will take effect in this demo! ",-1)])])):P("",!0)]),_:1})]),_:1}))}}),OI={class:"space-y-6"},RI={class:"border-t border-gray-200 pt-6"},LI={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},II={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},jI={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},FI={class:"mt-1 sm:col-span-2 sm:mt-0"},NI={key:0,class:"space-y-3"},zI=["disabled"],BI={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},UI={key:1,class:"mr-2 h-5 w-5",viewBox:"0 0 48 48"},HI={class:"text-sm text-gray-500"},VI={key:1,class:"flex items-center space-x-4"},WI={class:"flex items-center space-x-2"},qI={class:"text-sm font-medium text-gray-700"},KI=["disabled"],YI={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},GI={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},XI={class:"mt-1 sm:col-span-2 sm:mt-0"},JI=["disabled"],QI={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ZI={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ej={key:1,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},tj={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},sj={class:"mt-1 sm:col-span-2 sm:mt-0"},nj=["disabled"],oj={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ij={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},rj={key:2,class:"rounded-md bg-green-50 p-4"},aj={class:"flex"},lj={class:"ml-3"},cj={class:"text-sm font-medium text-green-800"},dj={class:"mt-2 text-sm text-green-700"},uj={class:"rounded-md bg-blue-50 p-4"},hj={class:"flex"},fj={class:"ml-3 flex-1"},pj={class:"mt-2 text-sm text-blue-700"},mj={class:"mb-3 font-medium"},gj={class:"list-decimal list-inside space-y-1 ml-2 mb-4"},_j={class:"mb-3 font-medium"},vj={class:"list-decimal list-inside space-y-1 ml-2"},yj=fe({__name:"AdSense",setup(s){const e=ds("setting-adsense")(),t=so(),n=I(!1),o=I(!1),r=I(!1),a=I(null),l=I(!1),c=I(null),d=async()=>{var g,_;n.value=!0;try{const y=(await Yt.get("/api/adsense/auth/url")).data.auth_url;window.location.href=y}catch(w){An().error(((_=(g=w.response)==null?void 0:g.data)==null?void 0:_.message)||"Failed to initiate Google connection"),n.value=!1}},u=async()=>{var g,_;if(confirm("Are you sure you want to disconnect your Google AdSense account?")){o.value=!0;try{await Yt.post("/api/adsense/disconnect"),An().success("AdSense disconnected successfully"),setTimeout(()=>{location.reload()},1e3)}catch(w){An().error(((_=(g=w.response)==null?void 0:g.data)==null?void 0:_.message)||"Failed to disconnect AdSense"),o.value=!1}}},f=async()=>{var g,_;r.value=!0,a.value=null;try{const w=await Yt.get("/api/adsense/test-connection");a.value={success:!0,message:w.data.message||"Connection successful!"},An().success("AdSense API connection successful!")}catch(w){a.value={success:!1,message:((_=(g=w.response)==null?void 0:g.data)==null?void 0:_.message)||"Connection failed. Please check your credentials."},An().error(a.value.message)}finally{r.value=!1}},m=async()=>{var g,_;l.value=!0,c.value=null;try{const w=await Yt.get("/api/adsense/test-analytics-connection");c.value={success:!0,message:w.data.message||"Analytics connection successful!"},An().success("Google Analytics API connection successful!")}catch(w){c.value={success:!1,message:((_=(g=w.response)==null?void 0:g.data)==null?void 0:_.message)||"Analytics connection failed. Please check your GA4 Property ID and service account permissions."},An().error(c.value.message)}finally{l.value=!1}};return e.onSuccess(()=>{An().success("AdSense Settings Saved Successfully!"),setTimeout(()=>{location.reload()},1e3)}),(g,_)=>(v(),se(Gi,null,{default:Y(()=>[T(p(Mo),{name:"setting-adsense",uri:"settings/adsense",title:g.__("AdSense Configuration"),"save-only":""},{default:Y(()=>[i("div",OI,[T(p(t),{name:"adsense_client_id",label:g.__("OAuth Client ID"),placeholder:"xxxxx.apps.googleusercontent.com",inline:"",required:""},null,8,["label"]),T(p(t),{name:"adsense_client_secret",label:g.__("OAuth Client Secret"),placeholder:"GOCSPX-xxxxx",type:"password",inline:"",required:""},null,8,["label"]),T(p(t),{name:"adsense_account_id",label:g.__("AdSense Account ID"),placeholder:"pub-XXXXXXXXXXXXXXXX",inline:""},null,8,["label"]),i("div",RI,[i("h3",LI,h(g.__("Google Analytics Configuration")),1)]),T(p(t),{name:"ga4_property_id",label:g.__("GA4 Property ID"),placeholder:"123456789",inline:"",help:g.__("Find this in Google Analytics Admin > Property Settings")},null,8,["label","help"]),i("div",II,[i("label",jI,h(g.__("Google Account")),1),i("div",FI,[p(e).data.adsense_configured?(v(),k("div",VI,[i("div",WI,[_[2]||(_[2]=i("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-green-100"},[i("svg",{class:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),i("span",qI,h(g.__("Connected")),1)]),i("button",{type:"button",onClick:u,disabled:o.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},h(o.value?g.__("Disconnecting..."):g.__("Disconnect")),9,KI)])):(v(),k("div",NI,[i("button",{type:"button",onClick:d,disabled:n.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(v(),k("svg",BI,[..._[0]||(_[0]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(v(),k("svg",UI,[..._[1]||(_[1]=[i("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"},null,-1),i("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"},null,-1),i("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"},null,-1),i("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"},null,-1)])])),te(" "+h(n.value?g.__("Connecting..."):g.__("Connect with Google")),1)],8,zI),i("p",HI,h(g.__("Click to authorize TaskHub to access your AdSense data")),1)]))])]),p(e).data.adsense_configured?(v(),k("div",YI,[i("label",GI,h(g.__("Test AdSense Connection")),1),i("div",XI,[i("button",{type:"button",onClick:f,disabled:r.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[r.value?(v(),k("svg",QI,[..._[3]||(_[3]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(v(),k("svg",ZI,[..._[4]||(_[4]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),te(" "+h(r.value?g.__("Testing..."):g.__("Test AdSense API")),1)],8,JI),a.value?(v(),k("p",{key:0,class:ae(["mt-2 text-sm",a.value.success?"text-green-600":"text-red-600"])},h(a.value.message),3)):P("",!0)])])):P("",!0),p(e).data.ga4_property_id?(v(),k("div",ej,[i("label",tj,h(g.__("Test Analytics Connection")),1),i("div",sj,[i("button",{type:"button",onClick:m,disabled:l.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[l.value?(v(),k("svg",oj,[..._[5]||(_[5]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(v(),k("svg",ij,[..._[6]||(_[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h-3a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3m-3-3l-6 6m0 0l6-6m-6 6h6V7"},null,-1)])])),te(" "+h(l.value?g.__("Testing..."):g.__("Test Analytics API")),1)],8,nj),c.value?(v(),k("p",{key:0,class:ae(["mt-2 text-sm",c.value.success?"text-green-600":"text-red-600"])},h(c.value.message),3)):P("",!0)])])):P("",!0),p(e).data.adsense_configured?(v(),k("div",rj,[i("div",aj,[_[7]||(_[7]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),i("div",lj,[i("h3",cj,h(g.__("AdSense is configured")),1),i("div",dj,[i("p",null,h(g.__("Your AdSense integration is active and ready to use.")),1)])])])])):P("",!0),i("div",uj,[i("div",hj,[_[9]||(_[9]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),i("div",fj,[_[8]||(_[8]=i("h3",{class:"text-sm font-medium text-blue-800"},"Setup Instructions",-1)),i("div",pj,[i("p",mj,h(g.__("AdSense Setup:")),1),i("ol",gj,[i("li",null,h(g.__("Create OAuth 2.0 credentials in Google Cloud Console")),1),i("li",null,h(g.__("Add your credentials to the .env file")),1),i("li",null,h(g.__('Click "Connect with Google" to authorize')),1),i("li",null,h(g.__("Enter your AdSense Account ID (e.g., pub-XXXXXXXXXXXXXXXX)")),1)]),i("p",_j,h(g.__("Google Analytics Setup:")),1),i("ol",vj,[i("li",null,h(g.__("Service account credentials are already configured at storage/app/credentials/google-analytics.json")),1),i("li",null,h(g.__("Go to Google Analytics Admin > Property Access Management")),1),i("li",null,h(g.__("Add service account: taskhub-service-account@taskhub-adsense-integration.iam.gserviceaccount.com")),1),i("li",null,h(g.__('Grant "Viewer" role')),1),i("li",null,h(g.__("Enter your GA4 Property ID from Google Analytics Admin > Property Settings")),1)])])])])])])]),_:1},8,["title"])]),_:1}))}}),bj={class:"text-lg font-medium leading-6 text-gray-900"},xj={class:"mt-1 text-sm text-gray-500"},wj={key:1,class:"space-y-6"},kj={key:0,class:"flex items-center justify-between"},$j={class:"text-sm text-gray-700"},Cj={class:"font-medium"},Sj={class:"font-medium"},Mj={class:"font-medium"},Tj={class:"flex items-center gap-2"},Dj={class:"text-sm text-gray-600"},Aj={class:"mb-6 flex items-center justify-between border-b pb-4"},Ej={class:"text-lg font-medium text-gray-900"},Pj={class:"text-sm text-gray-500"},Oj={class:"flex gap-3"},Rj=["onClick"],Lj=["onClick"],Ij={key:0,class:"space-y-4"},jj={class:"flex items-start justify-between"},Fj={class:"flex-1"},Nj={class:"flex items-center gap-2"},zj={class:"text-base font-medium text-gray-900"},Bj={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},Uj={key:0,class:"mt-1 text-xs text-gray-500"},Hj={key:0},Vj={key:1,class:"mt-3"},Wj={class:"space-y-1"},qj=["href"],Kj={class:"flex gap-2"},Yj=["onClick","title"],Gj=["onClick","title"],Xj=["onClick","title"],Jj={key:1,class:"text-center py-6 text-gray-500"},Qj={key:1,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow"},Zj={class:"flex flex-1 justify-between sm:hidden"},eF=["disabled"],tF=["disabled"],sF={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},nF={class:"text-sm text-gray-700"},oF={class:"font-medium"},iF={class:"font-medium"},rF={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},aF=["disabled"],lF={class:"sr-only"},cF=["disabled"],dF={class:"sr-only"},uF={class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300"},hF=["disabled"],fF={class:"sr-only"},pF=["disabled"],mF={class:"sr-only"},gF={class:"space-y-4"},_F={class:"block text-sm font-medium text-gray-700 mb-2"},vF={class:"relative mb-3"},yF=["placeholder"],bF={class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},xF={key:0,class:"space-y-2"},wF=["value"],kF={class:"ml-3 text-sm text-gray-900"},$F={class:"ml-2 text-xs text-gray-500"},CF={key:1,class:"text-center py-4 text-gray-500 text-sm"},SF={key:0,class:"mt-2 text-sm text-gray-600"},MF={class:"flex justify-end gap-3"},TF=["disabled"],DF={class:"space-y-4"},AF={key:1},EF={class:"text-sm text-gray-600 mb-3"},PF={key:0,class:"relative mb-3"},OF=["placeholder"],RF={key:1,class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},LF={key:0,class:"space-y-2"},IF=["value"],jF={class:"ml-3 flex-1"},FF={class:"text-sm font-medium text-gray-900"},NF={key:0,class:"text-xs text-gray-500"},zF={key:1,class:"text-center py-4 text-gray-500 text-sm"},BF={key:2,class:"text-center py-6 text-gray-500"},UF={key:3,class:"mt-2 text-sm text-gray-600"},HF={class:"flex justify-end gap-3"},VF=["disabled"],WF={class:"space-y-4"},qF={class:"text-sm text-gray-700 mb-4"},KF={class:"block text-sm font-medium text-gray-700 mb-2"},YF={class:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-3"},GF=["value"],XF={class:"ml-3"},JF={class:"text-sm font-medium text-gray-900"},QF={class:"text-xs text-gray-500"},ZF={class:"flex justify-end gap-3 pt-4 border-t"},eN=["disabled"],tN={class:"space-y-4"},sN={class:"text-sm text-gray-600"},nN={class:"grid grid-cols-2 gap-4"},oN={class:"block text-sm font-medium text-gray-700 mb-1"},iN={class:"mt-1 text-xs text-gray-500"},rN={class:"block text-sm font-medium text-gray-700 mb-1"},aN={class:"mt-1 text-xs text-gray-500"},lN={class:"block text-sm font-medium text-gray-700 mb-1"},cN={class:"mt-1 text-xs text-gray-500"},dN={class:"block text-sm font-medium text-gray-700 mb-1"},uN={class:"mt-1 text-xs text-gray-500"},hN={class:"block text-sm font-medium text-gray-700 mb-1"},fN={class:"mt-1 text-xs text-gray-500"},pN={class:"block text-sm font-medium text-gray-700 mb-1"},mN={class:"mt-1 text-xs text-gray-500"},gN={class:"flex justify-end gap-3 pt-4 border-t"},_N=["disabled"],Yl=fe({name:"Modal",emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var n,o;return Pt("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Pt("div",{class:"flex min-h-screen items-center justify-center px-4"},[Pt("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Pt("div",{class:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl"},[Pt("h3",{class:"text-lg font-medium text-gray-900 mb-4"},(n=e.title)==null?void 0:n.call(e)),Pt("div",{},(o=e.default)==null?void 0:o.call(e))])])])}}}),vN=fe({__name:"Countries",setup(s){const e=tt("__"),t=I(!1),n=I([]),o=I([]),r=I(5),a=I({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),l=I(!1),c=I(null),d=I([]),u=I(!1),f=I(""),m=I(!1),g=I(null),_=I([]),w=I([]),y=I(!1),$=I(!1),b=I(""),S=I(!1),M=I(null),E=I(null),H=I(null),N=I(!1),F=I(!1),R=I(null),A=I(!1),ee=I({daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}),q=Le(()=>{if(!f.value)return o.value;const Pe=f.value.toLowerCase();return o.value.filter(ne=>ne.name.toLowerCase().includes(Pe)||ne.code.toLowerCase().includes(Pe))}),_e=Le(()=>{if(!b.value)return _.value;const Pe=b.value.toLowerCase();return _.value.filter(ne=>ne.name.toLowerCase().includes(Pe)||ne.website&&ne.website.toLowerCase().includes(Pe))}),$e=Le(()=>E.value?n.value.filter(Pe=>Pe.id!==E.value.id):n.value),ve=async(Pe=1)=>{t.value=!0;try{const ne=await ue.get("settings/countries",{params:{page:Pe,per_page:r.value}}),oe=ne.data.data||ne.data;if(!oe||!oe.users)throw new Error("Invalid response from server");n.value=oe.users||[],o.value=oe.countries||[],oe.pagination&&(a.value=oe.pagination)}catch{alert("Failed to load data. Please check console for details.")}finally{t.value=!1}},ge=Pe=>{c.value=Pe,d.value=Pe.countries.map(ne=>ne.country_code),f.value="",l.value=!0},G=()=>{l.value=!1,c.value=null,d.value=[],f.value=""},Q=async()=>{if(d.value.length===0){alert("Please select at least one country");return}u.value=!0;try{const Pe=d.value.map(ne=>{const oe=o.value.find(O=>O.code===ne);return{country_code:ne,country_name:(oe==null?void 0:oe.name)||ne}});await ue.put(`settings/countries/users/${c.value.id}/countries`,{countries:Pe}),alert("Countries assigned successfully! User will receive a notification."),await ve(),G()}catch{alert("Failed to assign countries")}finally{u.value=!1}},J=async(Pe,ne)=>{c.value=Pe,g.value=ne,w.value=ne.websites.map(oe=>oe.company_id),b.value="",m.value=!0,y.value=!0;try{const oe=await ue.get(`settings/countries/companies/${ne.country_code}`);_.value=oe.data.data}catch{alert("Failed to load companies")}finally{y.value=!1}},me=()=>{m.value=!1,c.value=null,g.value=null,_.value=[],w.value=[],b.value=""},xe=async()=>{$.value=!0;try{const Pe=w.value.map(ne=>{const oe=_.value.find(O=>O.id===ne);return{company_id:ne,website_url:(oe==null?void 0:oe.website)||"",company_name:(oe==null?void 0:oe.name)||""}});await ue.post(`settings/countries/users/${c.value.id}/countries/${g.value.id}/websites`,{websites:Pe}),alert("Websites assigned successfully!"),await ve(),me()}catch{alert("Failed to assign websites")}finally{$.value=!1}},Oe=(Pe,ne)=>{E.value=Pe,M.value=ne,H.value=null,S.value=!0},nt=()=>{S.value=!1,E.value=null,M.value=null,H.value=null},ut=async()=>{if(!(!H.value||!E.value||!M.value)){N.value=!0;try{const Pe=E.value.countries.filter(oe=>oe.country_code!==M.value.country_code).map(oe=>({country_code:oe.country_code,country_name:oe.country_name}));await ue.put(`settings/countries/users/${E.value.id}/countries`,{countries:Pe});const ne=n.value.find(oe=>oe.id===H.value);if(ne){const oe=[...ne.countries.map(O=>({country_code:O.country_code,country_name:O.country_name})),{country_code:M.value.country_code,country_name:M.value.country_name}];await ue.put(`settings/countries/users/${H.value}/countries`,{countries:oe})}alert(`Country "${M.value.country_name}" reassigned successfully!`),await ve(),nt()}catch{alert("Failed to reassign country")}finally{N.value=!1}}},ie=async(Pe,ne)=>{if(confirm(`Are you sure you want to unassign "${ne.country_name}" from ${Pe.name}?`))try{const oe=Pe.countries.filter(O=>O.country_code!==ne.country_code).map(O=>({country_code:O.country_code,country_name:O.country_name}));await ue.put(`settings/countries/users/${Pe.id}/countries`,{countries:oe}),alert("Country unassigned successfully!"),await ve()}catch{alert("Failed to unassign country")}},ye=async Pe=>{R.value=Pe,F.value=!0;try{const ne=await ue.get(`settings/countries/users/${Pe.id}/targets`);ne.data.data&&(ee.value={...ne.data.data})}catch{}},we=()=>{F.value=!1,R.value=null,ee.value={daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}},Ie=async()=>{if(R.value){A.value=!0;try{await ue.put(`settings/countries/users/${R.value.id}/targets`,ee.value),alert("Performance targets updated successfully!"),we()}catch{alert("Failed to save performance targets")}finally{A.value=!1}}},Xe=Pe=>new Date(Pe).toLocaleDateString();return dt(()=>{ve()}),(Pe,ne)=>(v(),se(Gi,null,{topbar:Y(()=>[i("div",null,[i("h3",bj,h(p(e)("Countries & Websites Management")),1),i("p",xj,h(p(e)("Assign countries and websites to users for marketing and AdSense reporting")),1)])]),default:Y(()=>[t.value?(v(),se(p(Nt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(v(),k("div",wj,[a.value.total>0?(v(),k("div",kj,[i("p",$j,[te(h(p(e)("Showing"))+" ",1),i("span",Cj,h(a.value.from),1),te(" "+h(p(e)("to"))+" ",1),i("span",Sj,h(a.value.to),1),te(" "+h(p(e)("of"))+" ",1),i("span",Mj,h(a.value.total),1),te(" "+h(p(e)("users")),1)]),i("div",Tj,[i("label",Dj,h(p(e)("Per page:")),1),W(i("select",{"onUpdate:modelValue":ne[0]||(ne[0]=oe=>r.value=oe),onChange:ne[1]||(ne[1]=oe=>ve(1)),class:"rounded-md border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},[...ne[19]||(ne[19]=[i("option",{value:5},"5",-1),i("option",{value:10},"10",-1),i("option",{value:25},"25",-1),i("option",{value:50},"50",-1)])],544),[[qe,r.value]])])])):P("",!0),(v(!0),k(he,null,ke(n.value,oe=>(v(),k("div",{key:oe.id,class:"rounded-lg bg-white p-6 shadow"},[i("div",Aj,[i("div",null,[i("h4",Ej,h(oe.name),1),i("p",Pj,h(oe.email)+"  "+h(oe.role),1)]),i("div",Oj,[i("button",{onClick:O=>ye(oe),type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700"},[ne[20]||(ne[20]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),te(" "+h(p(e)("Set Targets")),1)],8,Rj),i("button",{onClick:O=>ge(oe),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[ne[21]||(ne[21]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),te(" "+h(p(e)("Assign Countries")),1)],8,Lj)])]),oe.countries.length>0?(v(),k("div",Ij,[(v(!0),k(he,null,ke(oe.countries,O=>(v(),k("div",{key:O.id,class:"rounded-lg border border-gray-200 p-4"},[i("div",jj,[i("div",Fj,[i("div",Nj,[i("h5",zj,h(O.country_name),1),i("span",Bj,h(O.country_code),1)]),O.assigned_at?(v(),k("p",Uj,[te(" Assigned "+h(Xe(O.assigned_at))+" ",1),O.assigned_by?(v(),k("span",Hj," by "+h(O.assigned_by),1)):P("",!0)])):P("",!0),O.websites.length>0?(v(),k("div",Vj,[ne[23]||(ne[23]=i("p",{class:"text-xs font-medium text-gray-700 mb-2"}," Assigned Websites: ",-1)),i("div",Wj,[(v(!0),k(he,null,ke(O.websites,B=>(v(),k("div",{key:B.id,class:"flex items-center gap-2 text-sm"},[ne[22]||(ne[22]=i("svg",{class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),i("a",{href:B.website_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},h(B.company_name),9,qj)]))),128))])])):P("",!0)]),i("div",Kj,[i("button",{onClick:B=>J(oe,O),class:"text-indigo-600 hover:text-indigo-900 text-sm",title:p(e)("Manage Websites")},[...ne[24]||(ne[24]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)])],8,Yj),i("button",{onClick:B=>Oe(oe,O),class:"text-blue-600 hover:text-blue-900 text-sm",title:p(e)("Reassign to Another User")},[...ne[25]||(ne[25]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,Gj),i("button",{onClick:B=>ie(oe,O),class:"text-red-600 hover:text-red-900 text-sm",title:p(e)("Unassign Country")},[...ne[26]||(ne[26]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Xj)])])]))),128))])):(v(),k("div",Jj,h(p(e)("No countries assigned yet")),1))]))),128)),a.value.total>0?(v(),k("div",Qj,[i("div",Zj,[i("button",{onClick:ne[2]||(ne[2]=oe=>ve(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},h(p(e)("Previous")),9,eF),i("button",{onClick:ne[3]||(ne[3]=oe=>ve(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},h(p(e)("Next")),9,tF)]),i("div",sF,[i("div",null,[i("p",nF,[te(h(p(e)("Page"))+" ",1),i("span",oF,h(a.value.current_page),1),te(" "+h(p(e)("of"))+" ",1),i("span",iF,h(a.value.last_page),1)])]),i("div",null,[i("nav",rF,[i("button",{onClick:ne[4]||(ne[4]=oe=>ve(1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",lF,h(p(e)("First")),1),ne[27]||(ne[27]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M15.79 14.77a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L11.832 10l3.938 3.71a.75.75 0 01.02 1.06zm-6 0a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L5.832 10l3.938 3.71a.75.75 0 01.02 1.06z","clip-rule":"evenodd"})],-1))],8,aF),i("button",{onClick:ne[5]||(ne[5]=oe=>ve(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",dF,h(p(e)("Previous")),1),ne[28]||(ne[28]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1))],8,cF),i("span",uF,h(a.value.current_page),1),i("button",{onClick:ne[6]||(ne[6]=oe=>ve(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",fF,h(p(e)("Next")),1),ne[29]||(ne[29]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))],8,hF),i("button",{onClick:ne[7]||(ne[7]=oe=>ve(a.value.last_page)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",mF,h(p(e)("Last")),1),ne[30]||(ne[30]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M4.21 5.23a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L8.168 10 4.23 6.29a.75.75 0 01-.02-1.06zm6 0a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L14.168 10l-3.938-3.71a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1))],8,pF)])])])])):P("",!0)])),l.value?(v(),se(p(Yl),{key:2,onClose:G},{title:Y(()=>{var oe;return[te(h(p(e)("Assign Countries to"))+" "+h((oe=c.value)==null?void 0:oe.name),1)]}),default:Y(()=>[i("div",gF,[i("div",null,[i("label",_F,h(p(e)("Select Countries")),1),i("div",vF,[ne[31]||(ne[31]=i("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),W(i("input",{"onUpdate:modelValue":ne[8]||(ne[8]=oe=>f.value=oe),type:"text",placeholder:p(e)("Search countries..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,yF),[[de,f.value]])]),i("div",bF,[q.value.length>0?(v(),k("div",xF,[(v(!0),k(he,null,ke(q.value,oe=>(v(),k("label",{key:oe.code,class:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"},[W(i("input",{"onUpdate:modelValue":ne[9]||(ne[9]=O=>d.value=O),value:oe.code,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,8,wF),[[ys,d.value]]),i("span",kF,h(oe.name),1),i("span",$F,"("+h(oe.code)+")",1)]))),128))])):(v(),k("div",CF,h(p(e)("No countries found matching your search")),1))]),d.value.length>0?(v(),k("p",SF,h(d.value.length)+" "+h(d.value.length===1?p(e)("country"):p(e)("countries"))+" selected ",1)):P("",!0)]),i("div",MF,[i("button",{onClick:G,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:Q,disabled:u.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},h(u.value?p(e)("Saving..."):p(e)("Save")),9,TF)])])]),_:1})):P("",!0),m.value?(v(),se(p(Yl),{key:3,onClose:me},{title:Y(()=>{var oe;return[te(h(p(e)("Manage Websites for"))+" "+h((oe=g.value)==null?void 0:oe.country_name),1)]}),default:Y(()=>{var oe;return[i("div",DF,[y.value?(v(),se(p(Nt),{key:0,size:"30",color:"#5850ec",class:"mx-auto"})):(v(),k("div",AF,[i("p",EF,h(p(e)("Select websites/companies from"))+" "+h((oe=g.value)==null?void 0:oe.country_name),1),_.value.length>0?(v(),k("div",PF,[ne[32]||(ne[32]=i("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),W(i("input",{"onUpdate:modelValue":ne[10]||(ne[10]=O=>b.value=O),type:"text",placeholder:p(e)("Search companies..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,OF),[[de,b.value]])])):P("",!0),_.value.length>0?(v(),k("div",RF,[_e.value.length>0?(v(),k("div",LF,[(v(!0),k(he,null,ke(_e.value,O=>(v(),k("label",{key:O.id,class:"flex items-start p-2 hover:bg-gray-50 rounded cursor-pointer"},[W(i("input",{"onUpdate:modelValue":ne[11]||(ne[11]=B=>w.value=B),value:O.id,type:"checkbox",class:"h-4 w-4 mt-0.5 rounded border-gray-300 text-indigo-600"},null,8,IF),[[ys,w.value]]),i("div",jF,[i("div",FF,h(O.name),1),O.website?(v(),k("div",NF,h(O.website),1)):P("",!0)])]))),128))])):(v(),k("div",zF,h(p(e)("No companies found matching your search")),1))])):(v(),k("div",BF,h(p(e)("No companies found with websites for this country")),1)),w.value.length>0?(v(),k("p",UF,h(w.value.length)+" "+h(w.value.length===1?p(e)("company"):p(e)("companies"))+" selected ",1)):P("",!0)])),i("div",HF,[i("button",{onClick:me,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:xe,disabled:$.value||y.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},h($.value?p(e)("Saving..."):p(e)("Save")),9,VF)])])]}),_:1})):P("",!0),S.value?(v(),se(p(Yl),{key:4,onClose:nt},{title:Y(()=>[te(h(p(e)("Reassign Country to Another User")),1)]),default:Y(()=>{var oe,O;return[i("div",WF,[i("div",null,[i("p",qF,[te(h(p(e)("Reassigning"))+": ",1),i("strong",null,h((oe=M.value)==null?void 0:oe.country_name),1),te(" "+h(p(e)("from"))+" ",1),i("strong",null,h((O=E.value)==null?void 0:O.name),1)]),i("label",KF,h(p(e)("Select New User")),1),i("div",YF,[(v(!0),k(he,null,ke($e.value,B=>(v(),k("label",{key:B.id,class:"flex items-center p-3 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-indigo-200"},[W(i("input",{"onUpdate:modelValue":ne[12]||(ne[12]=V=>H.value=V),value:B.id,type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600"},null,8,GF),[[hr,H.value]]),i("div",XF,[i("div",JF,h(B.name),1),i("div",QF,h(B.email)+"  "+h(B.role),1)])]))),128))])]),i("div",ZF,[i("button",{onClick:nt,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:ut,disabled:!H.value||N.value,type:"button",class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50"},h(N.value?p(e)("Reassigning..."):p(e)("Reassign Country")),9,eN)])])]}),_:1})):P("",!0),F.value?(v(),se(p(Yl),{key:5,onClose:we},{title:Y(()=>{var oe;return[te(h(p(e)("Set Performance Targets for"))+" "+h((oe=R.value)==null?void 0:oe.name),1)]}),default:Y(()=>[i("div",tN,[i("p",sN,h(p(e)("Set daily performance targets to help users focus their marketing efforts on the most profitable countries.")),1),i("div",nN,[i("div",null,[i("label",oN,h(p(e)("Daily Impressions Target")),1),W(i("input",{"onUpdate:modelValue":ne[13]||(ne[13]=oe=>ee.value.daily_impressions_target=oe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"2000"},null,512),[[de,ee.value.daily_impressions_target,void 0,{number:!0}]]),i("p",iN,h(p(e)("Total ad impressions per day")),1)]),i("div",null,[i("label",rN,h(p(e)("Daily Page Views Target")),1),W(i("input",{"onUpdate:modelValue":ne[14]||(ne[14]=oe=>ee.value.daily_page_views_target=oe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1500"},null,512),[[de,ee.value.daily_page_views_target,void 0,{number:!0}]]),i("p",aN,h(p(e)("Total page views per day")),1)]),i("div",null,[i("label",lN,h(p(e)("Daily Clicks Target")),1),W(i("input",{"onUpdate:modelValue":ne[15]||(ne[15]=oe=>ee.value.daily_clicks_target=oe),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20"},null,512),[[de,ee.value.daily_clicks_target,void 0,{number:!0}]]),i("p",cN,h(p(e)("Minimum ad clicks per day")),1)]),i("div",null,[i("label",dN,h(p(e)("Minimum CPC Target ($)")),1),W(i("input",{"onUpdate:modelValue":ne[16]||(ne[16]=oe=>ee.value.min_cpc_target=oe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.10"},null,512),[[de,ee.value.min_cpc_target,void 0,{number:!0}]]),i("p",uN,h(p(e)("Minimum cost per click")),1)]),i("div",null,[i("label",hN,h(p(e)("Minimum RPM Target ($)")),1),W(i("input",{"onUpdate:modelValue":ne[17]||(ne[17]=oe=>ee.value.min_rpm_target=oe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1.00"},null,512),[[de,ee.value.min_rpm_target,void 0,{number:!0}]]),i("p",fN,h(p(e)("Minimum revenue per thousand")),1)]),i("div",null,[i("label",pN,h(p(e)("Daily Earnings Target ($)")),1),W(i("input",{"onUpdate:modelValue":ne[18]||(ne[18]=oe=>ee.value.daily_earnings_target=oe),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20.00"},null,512),[[de,ee.value.daily_earnings_target,void 0,{number:!0}]]),i("p",mN,h(p(e)("Total daily earnings target")),1)])]),i("div",gN,[i("button",{onClick:we,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:Ie,disabled:A.value,type:"button",class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50"},h(A.value?p(e)("Saving..."):p(e)("Save Targets")),9,_N)])])]),_:1})):P("",!0)]),_:1}))}}),yN={class:"text-lg font-medium leading-6 text-gray-900"},bN={class:"mt-1 text-sm text-gray-500"},xN={key:1,class:"space-y-6"},wN={key:0,class:"rounded-lg bg-white p-6 shadow"},kN={class:"text-lg font-medium text-gray-900 mb-4"},$N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},CN={class:"border-l-4 border-blue-500 pl-4"},SN={class:"text-2xl font-bold text-gray-900"},MN={class:"text-xs text-gray-500"},TN={class:"border-l-4 border-green-500 pl-4"},DN={class:"text-2xl font-bold text-gray-900"},AN={class:"text-xs text-gray-500"},EN={class:"mb-6 flex items-center justify-between border-b pb-4"},PN={class:"text-lg font-medium text-gray-900"},ON={class:"text-sm text-gray-500"},RN={class:"mt-2 flex gap-2"},LN={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},IN={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},jN={class:"flex gap-3"},FN=["onClick"],NN=["onClick"],zN=["onClick"],BN={class:"p-6"},UN={class:"text-lg font-medium text-gray-900 mb-4"},HN={class:"text-sm text-gray-600 mb-6"},VN={class:"space-y-4"},WN={class:"flex items-start"},qN={class:"flex items-center h-5"},KN={class:"ml-3"},YN={class:"font-medium text-gray-700"},GN={class:"text-sm text-gray-500"},XN={class:"flex items-start"},JN={class:"flex items-center h-5"},QN={class:"ml-3"},ZN={class:"font-medium text-gray-700"},ez={class:"text-sm text-gray-500"},tz={key:0,class:"flex items-start pl-7"},sz={class:"flex items-center h-5"},nz={class:"ml-3"},oz={class:"text-sm font-medium text-gray-700"},iz={class:"text-xs text-gray-500"},rz={key:1,class:"flex items-start pl-7"},az={class:"flex items-center h-5"},lz={class:"ml-3"},cz={class:"text-sm font-medium text-gray-700"},dz={class:"text-xs text-gray-500"},uz={class:"mt-6 flex justify-end gap-3"},hz={class:"p-6"},fz={class:"text-lg font-medium text-gray-900 mb-4"},pz={class:"mb-4 flex gap-2"},mz={class:"mb-4"},gz={class:"max-h-96 overflow-y-auto border rounded-md"},_z={key:1,class:"p-8 text-center text-gray-500"},vz={key:2,class:"divide-y"},yz={class:"font-medium text-gray-900"},bz={class:"text-sm text-gray-500"},xz={class:"text-xs text-gray-400"},wz=["onClick"],kz={key:1,class:"text-sm"},$z={class:"text-gray-500"},Cz={class:"font-medium text-gray-900"},Sz={key:0,class:"mt-4 flex justify-between items-center"},Mz=["disabled"],Tz={class:"text-sm text-gray-600"},Dz=["disabled"],Az={class:"mt-6 flex justify-end"},Ez={class:"p-6"},Pz={class:"text-lg font-medium text-gray-900 mb-4"},Oz={key:1,class:"p-8 text-center text-gray-500"},Rz={key:2,class:"space-y-4 max-h-96 overflow-y-auto"},Lz={class:"flex items-start justify-between"},Iz={class:"flex-1"},jz={class:"flex items-center gap-2"},Fz={class:"text-base font-medium text-gray-900"},Nz={key:0,class:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},zz={class:"mt-1 text-sm text-gray-600"},Bz={class:"mt-1 text-xs text-gray-500"},Uz={key:0},Hz={key:0,class:"text-xs text-gray-500"},Vz={key:1,class:"mt-2 rounded bg-yellow-50 p-2"},Wz={class:"text-xs text-gray-700"},qz={class:"flex flex-col gap-2"},Kz=["href"],Yz=["onClick"],Gz=["onClick"],Xz={class:"mt-6 flex justify-end"},Jz={class:"p-6"},Qz={class:"text-lg font-medium text-gray-900 mb-4"},Zz={class:"space-y-4"},eB={class:"block text-sm font-medium text-gray-700 mb-2"},tB={class:"flex items-center"},sB={class:"ml-2 text-sm text-gray-700"},nB={class:"mt-6 flex justify-end gap-3"},Gl=fe({name:"Modal",props:{open:Boolean,size:{type:String,default:"lg"}},emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var o;if(!s.open)return null;const n=s.size==="xl"?"max-w-4xl":"max-w-2xl";return Pt("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Pt("div",{class:"flex min-h-screen items-center justify-center px-4"},[Pt("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Pt("div",{class:`relative w-full ${n} rounded-lg bg-white shadow-xl`},[(o=e.default)==null?void 0:o.call(e)])])])}}}),oB=fe({__name:"UserAssignments",setup(s){const e=tt("__"),t=I(!0),n=I([]),o=I(null),r=I(!1),a=I(null),l=I({works_with_job_seekers:!1,works_with_employers:!1,enable_auto_assign_job_seekers:!1,enable_auto_assign_employers:!1}),c=I(!1),d=I("job_seekers"),u=I([]),f=I(!1),m=I(""),g=I({current_page:1,last_page:1,per_page:20,total:0}),_=I(!1),w=I([]),y=I(!1),$=I(!1),b=I(null),S=I({notes:"",contacted:!1});let M=null;dt(async()=>{await E()});const E=async()=>{t.value=!0;try{const J=await ue.get("settings/user-assignments/"),me=await ue.get("settings/user-assignments/statistics");n.value=J.data.data,o.value=me.data.data}catch{alert("Failed to load user assignments.")}finally{t.value=!1}},H=J=>{var me,xe,Oe,nt;a.value=J,l.value={works_with_job_seekers:((me=J.focus)==null?void 0:me.works_with_job_seekers)||!1,works_with_employers:((xe=J.focus)==null?void 0:xe.works_with_employers)||!1,enable_auto_assign_job_seekers:((Oe=J.focus)==null?void 0:Oe.enable_auto_assign_job_seekers)||!1,enable_auto_assign_employers:((nt=J.focus)==null?void 0:nt.enable_auto_assign_employers)||!1},r.value=!0},N=async()=>{try{await ue.put(`settings/user-assignments/users/${a.value.id}/focus`,l.value),alert("User focus updated successfully!"),r.value=!1,await E()}catch{alert("Failed to save user focus")}},F=async J=>{a.value=J,d.value="job_seekers",m.value="",g.value.current_page=1,c.value=!0,await R()},R=async()=>{f.value=!0;try{const J=await ue.get("settings/user-assignments/available-users",{params:{type:d.value,page:g.value.current_page,per_page:g.value.per_page,search:m.value}});u.value=J.data.data,g.value=J.data.meta}catch{alert("Failed to load available users")}finally{f.value=!1}},A=()=>{M&&clearTimeout(M),M=setTimeout(()=>{g.value.current_page=1,R()},500)},ee=async J=>{var me,xe;try{await ue.post("settings/user-assignments/assign",{taskhub_user_id:a.value.id,v11_user_id:J.id,v11_user_type:J.user_type}),alert("User assigned successfully!"),await R(),await E()}catch(Oe){alert(((xe=(me=Oe.response)==null?void 0:me.data)==null?void 0:xe.message)||"Failed to assign user")}},q=async J=>{a.value=J,_.value=!0,y.value=!0;try{const me=await ue.get(`settings/user-assignments/users/${J.id}/assignments`);w.value=me.data.data}catch{alert("Failed to load user assignments")}finally{y.value=!1}},_e=async J=>{if(confirm("Are you sure you want to unassign this user?"))try{await ue.delete(`settings/user-assignments/assignments/${J.id}`),alert("User unassigned successfully!"),await q(a.value),await E()}catch{alert("Failed to unassign user")}},$e=J=>{b.value=J,S.value={notes:J.notes||"",contacted:!1},$.value=!0},ve=async()=>{try{await ue.put(`settings/user-assignments/assignments/${b.value.id}/notes`,S.value),alert("Notes saved successfully!"),$.value=!1,await q(a.value)}catch{alert("Failed to save notes")}},ge=()=>{g.value.current_page>1&&(g.value.current_page--,R())},G=()=>{g.value.current_page<g.value.last_page&&(g.value.current_page++,R())},Q=J=>J?new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Ft(d,()=>{g.value.current_page=1,R()}),(J,me)=>(v(),se(Gi,null,{topbar:Y(()=>[i("div",null,[i("h3",yN,h(p(e)("User Assignment Management")),1),i("p",bN,h(p(e)("Assign job seekers and employers from V11 database to TaskHub users")),1)])]),default:Y(()=>{var xe,Oe,nt,ut,ie,ye,we,Ie,Xe,Pe,ne,oe;return[t.value?(v(),se(p(Nt),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(v(),k("div",xN,[o.value?(v(),k("div",wN,[i("h4",kN,h(p(e)("Assignment Statistics")),1),i("div",$N,[i("div",CN,[me[17]||(me[17]=i("p",{class:"text-sm text-gray-600"},"Job Seekers",-1)),i("p",SN,h(((Oe=(xe=o.value)==null?void 0:xe.job_seekers)==null?void 0:Oe.assigned)||0)+" / "+h(((ut=(nt=o.value)==null?void 0:nt.job_seekers)==null?void 0:ut.total)||0),1),i("p",MN,h(((ye=(ie=o.value)==null?void 0:ie.job_seekers)==null?void 0:ye.unassigned)||0)+" unassigned ",1)]),i("div",TN,[me[18]||(me[18]=i("p",{class:"text-sm text-gray-600"},"Employers",-1)),i("p",DN,h(((Ie=(we=o.value)==null?void 0:we.employers)==null?void 0:Ie.assigned)||0)+" / "+h(((Pe=(Xe=o.value)==null?void 0:Xe.employers)==null?void 0:Pe.total)||0),1),i("p",AN,h(((oe=(ne=o.value)==null?void 0:ne.employers)==null?void 0:oe.unassigned)||0)+" unassigned ",1)])])])):P("",!0),(v(!0),k(he,null,ke(n.value||[],O=>{var B,V;return v(),k("div",{key:O.id,class:"rounded-lg bg-white p-6 shadow"},[i("div",EN,[i("div",null,[i("h4",PN,h(O.name),1),i("p",ON,h(O.email)+"  "+h(O.role),1),i("div",RN,[(B=O.focus)!=null&&B.works_with_job_seekers?(v(),k("span",LN," Job Seekers: "+h(O.job_seekers_count),1)):P("",!0),(V=O.focus)!=null&&V.works_with_employers?(v(),k("span",IN," Employers: "+h(O.employers_count),1)):P("",!0)])]),i("div",jN,[i("button",{onClick:K=>H(O),type:"button",class:"inline-flex items-center rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700"},[me[19]||(me[19]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),te(" "+h(p(e)("Configure Focus")),1)],8,FN),i("button",{onClick:K=>F(O),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[me[20]||(me[20]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),te(" "+h(p(e)("Assign Users")),1)],8,NN),i("button",{onClick:K=>q(O),type:"button",class:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700"},[me[21]||(me[21]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),te(" "+h(p(e)("View Assignments")),1)],8,zN)])])])}),128))])),T(p(Gl),{open:r.value,onClose:me[5]||(me[5]=O=>r.value=!1)},{default:Y(()=>[i("div",BN,[i("h3",UN,h(p(e)("Configure User Focus")),1),i("p",HN,h(p(e)("Select which types of users this person will work with")),1),i("div",VN,[i("div",WN,[i("div",qN,[W(i("input",{"onUpdate:modelValue":me[0]||(me[0]=O=>l.value.works_with_job_seekers=O),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,l.value.works_with_job_seekers]])]),i("div",KN,[i("label",YN,h(p(e)("Works with Job Seekers")),1),i("p",GN,h(p(e)("This user will be able to work with job seekers")),1)])]),i("div",XN,[i("div",JN,[W(i("input",{"onUpdate:modelValue":me[1]||(me[1]=O=>l.value.works_with_employers=O),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,l.value.works_with_employers]])]),i("div",QN,[i("label",ZN,h(p(e)("Works with Employers")),1),i("p",ez,h(p(e)("This user will be able to work with employers")),1)])]),l.value.works_with_job_seekers?(v(),k("div",tz,[i("div",sz,[W(i("input",{"onUpdate:modelValue":me[2]||(me[2]=O=>l.value.enable_auto_assign_job_seekers=O),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[ys,l.value.enable_auto_assign_job_seekers]])]),i("div",nz,[i("label",oz,h(p(e)("Enable Auto-Assignment")),1),i("p",iz,h(p(e)("Automatically assign new job seekers to this user")),1)])])):P("",!0),l.value.works_with_employers?(v(),k("div",rz,[i("div",az,[W(i("input",{"onUpdate:modelValue":me[3]||(me[3]=O=>l.value.enable_auto_assign_employers=O),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"},null,512),[[ys,l.value.enable_auto_assign_employers]])]),i("div",lz,[i("label",cz,h(p(e)("Enable Auto-Assignment")),1),i("p",dz,h(p(e)("Automatically assign new employers to this user")),1)])])):P("",!0)]),i("div",uz,[i("button",{onClick:me[4]||(me[4]=O=>r.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:N,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},h(p(e)("Save Focus")),1)])])]),_:1},8,["open"]),T(p(Gl),{open:c.value,onClose:me[10]||(me[10]=O=>c.value=!1),size:"xl"},{default:Y(()=>{var O;return[i("div",hz,[i("h3",fz,h(p(e)("Assign Users to"))+" "+h((O=a.value)==null?void 0:O.name),1),i("div",pz,[i("button",{onClick:me[6]||(me[6]=B=>d.value="job_seekers"),class:ae(["flex-1 rounded-md px-4 py-2 text-sm font-medium",d.value==="job_seekers"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},h(p(e)("Job Seekers")),3),i("button",{onClick:me[7]||(me[7]=B=>d.value="employers"),class:ae(["flex-1 rounded-md px-4 py-2 text-sm font-medium",d.value==="employers"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},h(p(e)("Employers")),3)]),i("div",mz,[W(i("input",{"onUpdate:modelValue":me[8]||(me[8]=B=>m.value=B),onInput:A,type:"text",placeholder:"Search by name or email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[de,m.value]])]),i("div",gz,[f.value?(v(),se(p(Nt),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):u.value.length===0?(v(),k("div",_z,h(p(e)("No available users found")),1)):(v(),k("div",vz,[(v(!0),k(he,null,ke(u.value,B=>(v(),k("div",{key:B.id,class:"p-4 hover:bg-gray-50 flex items-center justify-between"},[i("div",null,[i("p",yz,h(B.name),1),i("p",bz,h(B.email),1),i("p",xz,h(p(e)("Registered"))+": "+h(Q(B.created_at)),1)]),i("div",null,[B.is_assigned?(v(),k("div",kz,[i("span",$z,h(p(e)("Assigned to"))+":",1),i("span",Cz,h(B.assigned_to.name),1)])):(v(),k("button",{key:0,onClick:V=>ee(B),type:"button",class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"},h(p(e)("Assign")),9,wz))])]))),128))]))]),g.value.last_page>1?(v(),k("div",Sz,[i("button",{onClick:ge,disabled:g.value.current_page===1,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},h(p(e)("Previous")),9,Mz),i("span",Tz,h(p(e)("Page"))+" "+h(g.value.current_page)+" "+h(p(e)("of"))+" "+h(g.value.last_page),1),i("button",{onClick:G,disabled:g.value.current_page===g.value.last_page,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},h(p(e)("Next")),9,Dz)])):P("",!0),i("div",Az,[i("button",{onClick:me[9]||(me[9]=B=>c.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Close")),1)])])]}),_:1},8,["open"]),T(p(Gl),{open:_.value,onClose:me[12]||(me[12]=O=>_.value=!1),size:"xl"},{default:Y(()=>{var O;return[i("div",Ez,[i("h3",Pz,h(p(e)("Assignments for"))+" "+h((O=a.value)==null?void 0:O.name),1),y.value?(v(),se(p(Nt),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):w.value.length===0?(v(),k("div",Oz,h(p(e)("No assignments yet")),1)):(v(),k("div",Rz,[(v(!0),k(he,null,ke(w.value,B=>{var V;return v(),k("div",{key:B.id,class:"rounded-lg border border-gray-200 p-4"},[i("div",Lz,[i("div",Iz,[i("div",jz,[i("h5",Fz,h(B.v11_user_name),1),i("span",{class:ae(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",B.v11_user_type===2?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},h(B.user_type_name),3),B.auto_assigned?(v(),k("span",Nz,h(p(e)("Auto-assigned")),1)):P("",!0)]),i("p",zz,h(B.v11_user_email),1),i("p",Bz,[te(h(p(e)("Assigned"))+": "+h(Q(B.assigned_at))+" ",1),B.assigned_by?(v(),k("span",Uz,"  "+h(p(e)("By"))+": "+h(B.assigned_by),1)):P("",!0)]),B.last_contacted_at?(v(),k("p",Hz,h(p(e)("Last contacted"))+": "+h(Q(B.last_contacted_at)),1)):P("",!0),B.notes?(v(),k("div",Vz,[i("p",Wz,h(B.notes),1)])):P("",!0)]),i("div",qz,[B.task_id?(v(),k("a",{key:0,href:`/projects/${(V=B.task)==null?void 0:V.project_id}/tasks/${B.task_id}`,class:"rounded-md bg-indigo-100 px-3 py-1.5 text-sm font-medium text-indigo-700 hover:bg-indigo-200 text-center"},h(p(e)("View Task")),9,Kz)):P("",!0),i("button",{onClick:K=>$e(B),type:"button",class:"rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-200"},h(p(e)("Add Note")),9,Yz),i("button",{onClick:K=>_e(B),type:"button",class:"rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-200"},h(p(e)("Unassign")),9,Gz)])])])}),128))])),i("div",Xz,[i("button",{onClick:me[11]||(me[11]=B=>_.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Close")),1)])])]}),_:1},8,["open"]),T(p(Gl),{open:$.value,onClose:me[16]||(me[16]=O=>$.value=!1)},{default:Y(()=>[i("div",Jz,[i("h3",Qz,h(p(e)("Add Contact Note")),1),i("div",Zz,[i("div",null,[i("label",eB,h(p(e)("Notes")),1),W(i("textarea",{"onUpdate:modelValue":me[13]||(me[13]=O=>S.value.notes=O),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add notes about your contact with this user..."},null,512),[[de,S.value.notes]])]),i("div",tB,[W(i("input",{"onUpdate:modelValue":me[14]||(me[14]=O=>S.value.contacted=O),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,S.value.contacted]]),i("label",sB,h(p(e)("Mark as contacted today")),1)])]),i("div",nB,[i("button",{onClick:me[15]||(me[15]=O=>$.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},h(p(e)("Cancel")),1),i("button",{onClick:ve,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},h(p(e)("Save Note")),1)])])]),_:1},8,["open"])]}),_:1}))}}),iB={class:"space-y-6 p-6"},rB={key:0},aB={class:"mt-4"},lB={key:1,class:"space-y-3"},cB={class:"text-sm font-medium text-gray-700"},dB={class:"w-full bg-gray-200 rounded-full h-2.5"},uB={class:"text-sm text-gray-500"},hB={key:2,class:"space-y-3"},fB={class:"text-sm font-medium text-gray-700"},pB={class:"text-sm text-gray-500"},mB={key:0,class:"border border-gray-200 rounded-lg p-6 space-y-4"},gB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_B={class:"flex items-start"},vB={class:"flex items-center h-5"},yB={key:0},bB={class:"flex items-start"},xB={class:"flex items-center h-5"},wB={class:"flex items-start"},kB={class:"flex items-center h-5"},$B={class:"flex items-start"},CB={class:"flex items-center h-5"},SB={class:"space-y-2"},MB={class:"block text-sm font-medium text-gray-700"},TB={class:"space-y-2"},DB={class:"space-y-2"},AB={class:"space-y-2"},EB={key:0,class:"bg-gray-50 rounded-lg p-4"},PB={class:"grid grid-cols-2 gap-4 text-sm"},OB={class:"font-medium"},RB={class:"font-medium"},LB={class:"font-medium"},IB={class:"flex space-x-3"},jB=["disabled"],FB=["disabled"],NB={key:1,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-6"},zB={class:"flex items-center"},BB={class:"font-medium text-yellow-800"},UB={key:2,class:"border border-green-200 bg-green-50 rounded-lg p-6 space-y-4"},HB={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},VB={class:"font-medium"},WB={class:"font-medium"},qB={class:"font-medium text-green-600"},KB={class:"flex space-x-3"},YB=["href"],GB={key:3,class:"border border-red-200 bg-red-50 rounded-lg p-6"},XB={class:"flex items-center"},JB={class:"text-sm text-red-600"},QB={key:4,class:"space-y-4"},ZB={class:"space-y-2"},eU={class:"font-medium text-gray-900"},tU={class:"text-sm text-gray-500"},sU={key:0,class:"text-green-600"},nU={class:"flex items-center space-x-2"},oU=["onClick"],iU=["onClick"],rU=fe({__name:"VideoEnhancer",setup(s){const e=An(),t=I([]),n=I(null),o=I(null),r=I(!1),a=I(0),l=I(!1),c=I(!1),d=I(!1),u=I(null),f=I(null),m=I({upscale:!1,upscale_resolution:"1920:1080",enhance_quality:!1,noise_reduction:!0,normalize_audio:!0,compression_level:23,preset:"medium",format:"mp4",target_size:null});dt(()=>{g()}),en(()=>{f.value&&clearInterval(f.value)});const g=()=>{Yt.get("/api/video-enhancer").then(R=>{t.value=R.data.data;const A=t.value.find(ee=>ee.status==="pending"||ee.status==="processing");A&&(n.value=A,A.status==="processing"&&M())}).catch(()=>{e.error("Failed to load videos")})},_=R=>{var ee;l.value=!1;const A=(ee=R.dataTransfer)==null?void 0:ee.files;A&&A.length>0&&(o.value=A[0])},w=R=>{const A=R.target;A.files&&A.files.length>0&&(o.value=A.files[0])},y=R=>{const A=["B","KB","MB","GB"];let ee=R,q=0;for(;ee>=1024&&q<A.length-1;)ee/=1024,q++;return`${ee.toFixed(2)} ${A[q]}`},$=()=>{if(!o.value)return;r.value=!0,a.value=0;const R=new FormData;R.append("video",o.value),Yt.post("/api/video-enhancer/upload",R,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:A=>{a.value=Math.round(A.loaded*100/A.total)}}).then(A=>{e.success("Video uploaded successfully"),n.value=A.data.data,o.value=null,g()}).catch(A=>{var ee,q;e.error(((q=(ee=A.response)==null?void 0:ee.data)==null?void 0:q.message)||"Upload failed")}).finally(()=>{r.value=!1,a.value=0})},b=()=>{n.value&&(c.value=!0,Yt.post(`/api/video-enhancer/${n.value.id}/estimate`,m.value).then(R=>{u.value=R.data.data}).catch(R=>{var A,ee;e.error(((ee=(A=R.response)==null?void 0:A.data)==null?void 0:ee.message)||"Failed to estimate")}).finally(()=>{c.value=!1}))},S=()=>{n.value&&(d.value=!0,Yt.post(`/api/video-enhancer/${n.value.id}/process`,m.value).then(()=>{e.success("Processing started"),n.value&&(n.value.status="processing"),M()}).catch(R=>{var A,ee;e.error(((ee=(A=R.response)==null?void 0:A.data)==null?void 0:ee.message)||"Failed to start processing")}).finally(()=>{d.value=!1}))},M=()=>{f.value&&clearInterval(f.value),f.value=window.setInterval(()=>{n.value&&Yt.get(`/api/video-enhancer/${n.value.id}/status`).then(R=>{const A=R.data.data;n.value&&(n.value.status=A.status,n.value.processed_size=A.processed_size,n.value.processed_size_human=A.processed_size_human,n.value.compression_ratio=A.compression_ratio,n.value.error_message=A.error_message),(A.status==="completed"||A.status==="failed")&&(f.value&&(clearInterval(f.value),f.value=null),g(),A.status==="completed"&&e.success("Video processing completed!"))}).catch(()=>{})},3e3)},E=R=>{window.location.href=`/api/video-enhancer/${R}/download`},H=(R,A)=>{confirm(A?"Delete both original and processed video?":"Delete only the processed video? You can re-process later.")&&(A?N(R):F(R))},N=R=>{Yt.delete(`/api/video-enhancer/${R}`).then(()=>{var A;e.success("Video deleted"),((A=n.value)==null?void 0:A.id)===R&&(n.value=null),g()}).catch(A=>{var ee,q;e.error(((q=(ee=A.response)==null?void 0:ee.data)==null?void 0:q.message)||"Failed to delete")})},F=R=>{Yt.delete(`/api/video-enhancer/${R}/processed`).then(()=>{e.success("Processed video deleted"),g()}).catch(A=>{var ee,q;e.error(((q=(ee=A.response)==null?void 0:ee.data)==null?void 0:q.message)||"Failed to delete")})};return(R,A)=>(v(),k("div",null,[A[47]||(A[47]=i("div",{class:"mb-6"},[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Video Enhancer"),i("p",{class:"mt-1 text-sm text-gray-500"},"Upload videos to enhance quality, reduce noise, and compress. Max file size: 2GB")],-1)),T(p(si),null,{default:Y(()=>{var ee;return[i("div",iB,[i("div",{class:ae(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",{"border-indigo-500 bg-indigo-50":l.value}]),onDragover:A[2]||(A[2]=et(q=>l.value=!0,["prevent"])),onDragleave:A[3]||(A[3]=et(q=>l.value=!1,["prevent"])),onDrop:et(_,["prevent"])},[i("input",{ref:"fileInput",type:"file",accept:"video/*",class:"hidden",onChange:w},null,544),!r.value&&!o.value?(v(),k("div",rB,[A[16]||(A[16]=i("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[i("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),i("div",aB,[i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:A[0]||(A[0]=q=>R.$refs.fileInput.click())}," Select Video ")]),A[17]||(A[17]=i("p",{class:"mt-2 text-sm text-gray-500"},"or drag and drop",-1)),A[18]||(A[18]=i("p",{class:"text-xs text-gray-400 mt-1"},"MP4, MOV, AVI, WebM up to 2GB",-1))])):P("",!0),r.value?(v(),k("div",lB,[i("p",cB,"Uploading: "+h((ee=o.value)==null?void 0:ee.name),1),i("div",dB,[i("div",{class:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:Mt({width:a.value+"%"})},null,4)]),i("p",uB,h(a.value)+"%",1)])):P("",!0),o.value&&!r.value?(v(),k("div",hB,[i("p",fB,h(o.value.name),1),i("p",pB,h(y(o.value.size)),1),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:$}," Upload Video "),i("button",{type:"button",class:"ml-2 text-sm text-gray-500 hover:text-gray-700",onClick:A[1]||(A[1]=q=>o.value=null)}," Cancel ")])):P("",!0)],34),n.value&&n.value.status==="pending"?(v(),k("div",mB,[A[34]||(A[34]=i("h3",{class:"text-md font-medium text-gray-900"},"Enhancement Options",-1)),i("div",gB,[i("div",_B,[i("div",vB,[W(i("input",{id:"upscale","onUpdate:modelValue":A[4]||(A[4]=q=>m.value.upscale=q),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,m.value.upscale]])]),A[19]||(A[19]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"upscale",class:"font-medium text-gray-700"},"Upscale Resolution"),i("p",{class:"text-gray-500"},"Increase video resolution")],-1))]),m.value.upscale?(v(),k("div",yB,[W(i("select",{"onUpdate:modelValue":A[5]||(A[5]=q=>m.value.upscale_resolution=q),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...A[20]||(A[20]=[i("option",{value:"1920:1080"},"1080p (1920x1080)",-1),i("option",{value:"2560:1440"},"2K (2560x1440)",-1),i("option",{value:"3840:2160"},"4K (3840x2160)",-1)])],512),[[qe,m.value.upscale_resolution]])])):P("",!0),i("div",bB,[i("div",xB,[W(i("input",{id:"enhance_quality","onUpdate:modelValue":A[6]||(A[6]=q=>m.value.enhance_quality=q),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,m.value.enhance_quality]])]),A[21]||(A[21]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"enhance_quality",class:"font-medium text-gray-700"},"Enhance Quality"),i("p",{class:"text-gray-500"},"Sharpen and improve video clarity")],-1))]),i("div",wB,[i("div",kB,[W(i("input",{id:"noise_reduction","onUpdate:modelValue":A[7]||(A[7]=q=>m.value.noise_reduction=q),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,m.value.noise_reduction]])]),A[22]||(A[22]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"noise_reduction",class:"font-medium text-gray-700"},"Audio Noise Reduction"),i("p",{class:"text-gray-500"},"Remove background noise from audio")],-1))]),i("div",$B,[i("div",CB,[W(i("input",{id:"normalize_audio","onUpdate:modelValue":A[8]||(A[8]=q=>m.value.normalize_audio=q),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,m.value.normalize_audio]])]),A[23]||(A[23]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"normalize_audio",class:"font-medium text-gray-700"},"Normalize Audio"),i("p",{class:"text-gray-500"},"Balance audio levels")],-1))])]),i("div",SB,[i("label",MB,"Compression Level (CRF: "+h(m.value.compression_level)+")",1),W(i("input",{"onUpdate:modelValue":A[9]||(A[9]=q=>m.value.compression_level=q),type:"range",min:"18",max:"35",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[de,m.value.compression_level]]),A[24]||(A[24]=i("div",{class:"flex justify-between text-xs text-gray-500"},[i("span",null,"Best Quality (larger file)"),i("span",null,"Smaller File (lower quality)")],-1))]),i("div",TB,[A[26]||(A[26]=i("label",{class:"block text-sm font-medium text-gray-700"},"Encoding Speed",-1)),W(i("select",{"onUpdate:modelValue":A[10]||(A[10]=q=>m.value.preset=q),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...A[25]||(A[25]=[i("option",{value:"ultrafast"},"Ultra Fast (lowest quality)",-1),i("option",{value:"fast"},"Fast",-1),i("option",{value:"medium"},"Medium (recommended)",-1),i("option",{value:"slow"},"Slow (better quality)",-1),i("option",{value:"veryslow"},"Very Slow (best quality)",-1)])],512),[[qe,m.value.preset]])]),i("div",DB,[A[28]||(A[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"Output Format",-1)),W(i("select",{"onUpdate:modelValue":A[11]||(A[11]=q=>m.value.format=q),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...A[27]||(A[27]=[i("option",{value:"mp4"},"MP4 (H.264)",-1),i("option",{value:"webm"},"WebM (VP9)",-1),i("option",{value:"mkv"},"MKV",-1)])],512),[[qe,m.value.format]])]),i("div",AB,[A[29]||(A[29]=i("label",{class:"block text-sm font-medium text-gray-700"},"Target Size (MB) - Optional",-1)),W(i("input",{"onUpdate:modelValue":A[12]||(A[12]=q=>m.value.target_size=q),type:"number",min:"1",placeholder:"Leave empty for automatic",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,m.value.target_size]])]),u.value?(v(),k("div",EB,[A[33]||(A[33]=i("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Size Estimation",-1)),i("div",PB,[i("div",null,[A[30]||(A[30]=i("p",{class:"text-gray-500"},"Original Size",-1)),i("p",OB,h(u.value.original_size_human),1)]),i("div",null,[A[31]||(A[31]=i("p",{class:"text-gray-500"},"Estimated Output",-1)),i("p",RB,h(u.value.estimated_size_human),1)]),i("div",null,[A[32]||(A[32]=i("p",{class:"text-gray-500"},"Compression Ratio",-1)),i("p",LB,h(u.value.compression_ratio)+"%",1)]),i("div",null,[i("p",{class:ae(u.value.feasible?"text-green-600":"text-red-600")},h(u.value.feasibility_message),3)])])])):P("",!0),i("div",IB,[i("button",{type:"button",disabled:c.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:b},h(c.value?"Calculating...":"Estimate Size"),9,jB),i("button",{type:"button",disabled:d.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:S},h(d.value?"Starting...":"Start Processing"),9,FB)])])):P("",!0),n.value&&n.value.status==="processing"?(v(),k("div",NB,[i("div",zB,[A[36]||(A[36]=i("svg",{class:"animate-spin h-5 w-5 text-yellow-600 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),i("div",null,[i("p",BB,"Processing: "+h(n.value.original_filename),1),A[35]||(A[35]=i("p",{class:"text-sm text-yellow-600"},"This may take several minutes for large videos...",-1))])])])):P("",!0),n.value&&n.value.status==="completed"?(v(),k("div",UB,[A[41]||(A[41]=i("div",{class:"flex items-center"},[i("svg",{class:"h-5 w-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),i("p",{class:"font-medium text-green-800"},"Processing Complete!")],-1)),i("div",HB,[i("div",null,[A[37]||(A[37]=i("p",{class:"text-gray-500"},"Original",-1)),i("p",VB,h(n.value.original_size_human),1)]),i("div",null,[A[38]||(A[38]=i("p",{class:"text-gray-500"},"Processed",-1)),i("p",WB,h(n.value.processed_size_human),1)]),i("div",null,[A[39]||(A[39]=i("p",{class:"text-gray-500"},"Compression",-1)),i("p",qB,h(n.value.compression_ratio)+"% saved",1)])]),i("div",KB,[i("a",{href:"/api/video-enhancer/"+n.value.id+"/download",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"},[...A[40]||(A[40]=[i("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),te(" Download ",-1)])],8,YB),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:A[13]||(A[13]=q=>H(n.value.id,!1))}," Keep Original, Delete Processed "),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",onClick:A[14]||(A[14]=q=>H(n.value.id,!0))}," Delete All ")])])):P("",!0),n.value&&n.value.status==="failed"?(v(),k("div",GB,[i("div",XB,[A[43]||(A[43]=i("svg",{class:"h-5 w-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),i("div",null,[A[42]||(A[42]=i("p",{class:"font-medium text-red-800"},"Processing Failed",-1)),i("p",JB,h(n.value.error_message),1)])]),i("button",{type:"button",class:"mt-3 text-sm text-red-600 hover:text-red-800",onClick:A[15]||(A[15]=q=>N(n.value.id))}," Delete and try again ")])):P("",!0),t.value.length>0?(v(),k("div",QB,[A[46]||(A[46]=i("h3",{class:"text-md font-medium text-gray-900"},"Previous Videos",-1)),i("div",ZB,[(v(!0),k(he,null,ke(t.value,q=>(v(),k("div",{key:q.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[i("div",null,[i("p",eU,h(q.original_filename),1),i("p",tU,[te(h(q.original_size_human)+" ",1),q.status==="completed"?(v(),k("span",sU,"  "+h(q.processed_size_human)+" ("+h(q.compression_ratio)+"% saved) ",1)):P("",!0)])]),i("div",nU,[i("span",{class:ae([{"bg-yellow-100 text-yellow-800":q.status==="pending","bg-blue-100 text-blue-800":q.status==="processing","bg-green-100 text-green-800":q.status==="completed","bg-red-100 text-red-800":q.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},h(q.status),3),q.status==="completed"?(v(),k("button",{key:0,class:"text-indigo-600 hover:text-indigo-800",onClick:_e=>E(q.id)},[...A[44]||(A[44]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,oU)):P("",!0),i("button",{class:"text-red-600 hover:text-red-800",onClick:_e=>H(q.id,!0)},[...A[45]||(A[45]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,iU)])]))),128))])])):P("",!0)])]}),_:1})]))}}),aU={class:"col-span-12"},lU={class:"mb-4 flex items-center text-sm"},cU={class:"block text-sm font-medium text-gray-700"},eh="role",dU=fe({__name:"Form",props:{id:{}},setup(s){const e=ds(eh)(),t=ks(eh)(),n=so(),o=Ay();e.onSuccess(l=>{t.updateOrCreate(l.model),Rt().pop()});function r(){e.data.permissions=e.options.permissions.map(l=>l.value)}function a(){e.data.permissions=[]}return(l,c)=>(v(),se(p(Fs),{id:s.id,name:eh,uri:"roles"},{default:Y(()=>[T(p(n),{name:"name",label:"Name",class:"col-span-12"}),i("div",aU,[i("div",lU,[i("p",cU,h(l.__("Permissions")),1),i("span",{class:"block cursor-pointer pl-4 text-xs text-gray-700 hover:text-gray-900",onClick:r},h(l.__("Select All")),1),c[0]||(c[0]=i("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:a},h(l.__("Deselect All")),1)]),T(p(o),{name:"permissions",class:"col-span-12"})])]),_:1},8,["id"]))}}),uU={class:"flex flex-col"},hU={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},fU={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},pU={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},mU={class:"min-w-full divide-y divide-gray-200"},gU={class:"divide-y divide-gray-200 bg-white"},_U={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},vU={class:"whitespace-nowrap px-6 py-4 text-center text-sm font-medium text-gray-500"},yU={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},bU=["onClick"],xU=fe({__name:"Index",setup(s){function e(t=null){Rt().add(dU,{id:t})}return(t,n)=>(v(),se(Gi,null,{topbar:Y(()=>[t.can("role:create")?(v(),se(p(Ue),{key:0,class:"ml-auto",size:"sm","data-cy":"topbar-create-button",onClick:n[0]||(n[0]=o=>e())},{default:Y(()=>[te(h(t.__("Create Role")),1)]),_:1})):P("",!0)]),default:Y(()=>[T(p(zf),{name:"role",uri:"roles","no-filters":"","no-search":""},{default:Y(({items:o,index:r})=>[i("div",uU,[i("div",hU,[i("div",fU,[i("div",pU,[i("table",mU,[i("thead",null,[i("tr",null,[T(p(He),{name:"role",index:r,label:t.__("Role")},null,8,["index","label"]),T(p(He),{name:"role",index:r,label:t.__("Permissions"),align:"center"},null,8,["index","label"]),n[1]||(n[1]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",gU,[(v(!0),k(he,null,ke(o,a=>(v(),k("tr",{key:a.id},[i("td",_U,h(a.name),1),i("td",vU,h(a.permissions_count),1),i("td",yU,[t.can("role:update")?(v(),k("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[T(p(Pr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,bU)):P("",!0),t.can("role:delete")?(v(),se(p(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),T(p(qs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),wU={class:"border-b border-gray-200 px-6 py-4"},kU={class:"text-base font-medium leading-6 text-gray-900"},$U={class:"space-y-4 divide-y pb-4"},CU=["onClick"],SU={class:"-mt-1 ltr:pl-4 rtl:pr-4"},MU=["onClick"],TU={class:"mt-1.5 flex space-x-4 rtl:space-x-reverse"},DU={key:0,class:"flex items-center py-1"},AU={class:"text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},EU=["href","onClick"],PU={class:"truncate text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},OU=["onClick"],RU={class:"ltr:ml-auto rtl:mr-auto"},ea=fe({__name:"TasksList",props:{title:{},tasks:{default:()=>[]}},setup(s){const e=ks("tasks")(),t=I(null),n=Ir();function o(a){t.value=a,ue.patch(`tasks/${a}/complete`).then(()=>{e.fetch()})}function r(a){Rt().add(Bd,{id:a,page:"tasks"})}return(a,l)=>{const c=pn("router-link");return s.tasks.length?(v(),se(p(si),{key:1},{default:Y(()=>[i("div",wU,[i("h3",kU,h(a.__(s.title)),1)]),i("div",$U,[(v(!0),k(he,null,ke(s.tasks,d=>(v(),k("div",{key:d.id,class:"flex items-start px-6 pt-4"},[i("span",{class:ae(["inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":t.value==d.id,"bg-blue-400":d.completed_at,"border border-gray-300":!d.completed_at}]),onClick:u=>o(d.id)},[...l[1]||(l[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],10,CU),i("div",SU,[i("span",{class:"block cursor-pointer hover:underline",onClick:u=>r(d.id)},h(d.title),9,MU),i("div",TU,[d.due_at?(v(),k("div",DU,[T(p(Qn),{class:"h-4 w-4 text-gray-400"}),i("span",AU,h(d.due_at),1)])):P("",!0),T(c,{custom:"",to:"/projects/"+d.project_id},{default:Y(({href:u,navigate:f})=>[i("a",{href:u,class:"flex cursor-pointer items-center text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:f},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:Mt({"background-color":d.project.meta.color}),"aria-hidden":"true"},null,4),i("span",PU,h(d.project.name),1)],8,EU)]),_:2},1032,["to"]),d.id==p(n).taskId?(v(),k("span",{key:1,class:"flex cursor-pointer items-center",onClick:l[0]||(l[0]=et((...u)=>p(n).stop&&p(n).stop(...u),["stop"]))},[T(p(Or),{class:"h-4 w-4 text-red-500 hover:text-red-800"})])):(v(),k("span",{key:2,class:"flex cursor-pointer items-center",onClick:et(u=>p(n).start(d),["stop"])},[T(p(xd),{class:"h-4 w-4 text-gray-500 hover:text-gray-800"})],8,OU))])]),i("div",RU,[T(p(ps),{user:d.users[0],class:"h-6 w-6"},null,8,["user"])])]))),128))])]),_:1})):(v(),se(p(Ed),{key:0,"no-create":""}))}}}),LU={class:"mb-4 flex items-center"},IU={class:"text-2xl font-semibold text-gray-900"},jU={class:"flex ltr:ml-auto rtl:mr-auto"},FU={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},NU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},zU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},BU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},UU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},HU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},VU={class:"group relative ltr:ml-2 rtl:mr-2"},WU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},qU={key:1,class:"group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-600"},KU={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},YU={class:"absolute top-full hidden group-hover:block ltr:right-0 rtl:left-0"},GU={class:"min-w-[12rem] rounded-md bg-white ring-1 ring-black ring-opacity-5"},XU={class:"py-1",role:"none"},JU=["onClick"],QU={class:"truncate ltr:ml-2.5 rtl:mr-2.5"},ZU={key:0,class:"mt-8 flex justify-center"},eH={key:1},tH={key:1,class:"space-y-4"},sH=fe({__name:"Index",setup(s){const e=tt("__"),t=ks("tasks")(),n=I([]),o=I(null),r=I(""),a=I("");t.setConfig({uri:"tasks"}),t.fetch(),l();function l(){ue.get("projects/options").then(u=>{n.value=u.data})}function c(u=null){o.value=null,t.params.project=null,t.params.type=u,t.fetch()}function d(u,f,m){o.value=u,r.value=f,a.value=m,t.params.type=null,t.params.project=u,t.fetch()}return(u,f)=>{var m;return v(),k(he,null,[i("div",LU,[i("h1",IU,h(p(e)("Tasks")),1),i("div",jU,[i("nav",FU,[i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":((m=p(t).params)==null?void 0:m.type)==null&&o.value==null,"text-gray-600":p(t).params.type!=null||o.value!=null}]),onClick:f[0]||(f[0]=g=>c())},[T(p(Pf),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",NU,h(p(e)("Inbox")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":p(t).params.type=="today","text-gray-600":p(t).params.type!="today"}]),onClick:f[1]||(f[1]=g=>c("today"))},[T(p(Qn),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",zU,h(p(e)("Today")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":p(t).params.type=="upcoming","text-gray-600":p(t).params.type!="upcoming"}]),onClick:f[2]||(f[2]=g=>c("upcoming"))},[T(p(_4),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",BU,h(p(e)("Upcoming")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":p(t).params.type=="overdue","text-gray-600":p(t).params.type!="overdue"}]),onClick:f[3]||(f[3]=g=>c("overdue"))},[T(p(nv),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",UU,h(p(e)("Overdue")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":p(t).params.type=="completed","text-gray-600":p(t).params.type!="completed"}]),onClick:f[4]||(f[4]=g=>c("completed"))},[T(p($n),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",HU,h(p(e)("Completed")),1)],2)]),i("div",VU,[o.value?(v(),k("div",{key:0,class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":o.value,"text-gray-600":!o.value}])},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:Mt({"background-color":a.value})},null,4),i("span",WU,h(r.value),1)],2)):(v(),k("div",qU,[T(p(av),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",KU,h(p(e)("Projects")),1)])),i("div",YU,[f[5]||(f[5]=i("div",{class:"h-1.5"},"",-1)),i("div",GU,[i("div",XU,[(v(!0),k(he,null,ke(n.value,g=>(v(),k("p",{key:g.id,class:"flex cursor-pointer items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:_=>d(g.id,g.name,g.meta.color)},[i("span",{class:"block h-2.5 w-2.5 flex-shrink-0 rounded-full",style:Mt({"background-color":g.meta.color}),"aria-hidden":"true"},null,4),i("span",QU,h(g.name),1)],8,JU))),128)),W(i("p",{class:"flex items-center px-4 py-3 text-sm leading-5 text-gray-600"},h(p(e)("No projects")),513),[[Ht,!n.value.length]])])])])])])]),p(t).fetching?(v(),k("div",ZU,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",eH,[Array.isArray(p(t).data)?(v(),se(p(Ed),{key:0,"no-create":""})):(v(),k("div",tH,[p(t).data.today?(v(),se(ea,{key:0,title:"Today",tasks:p(t).data.today},null,8,["tasks"])):P("",!0),p(t).data.overdue?(v(),se(ea,{key:1,title:"Overdue",tasks:p(t).data.overdue},null,8,["tasks"])):P("",!0),p(t).data.upcoming?(v(),se(ea,{key:2,title:"Upcoming",tasks:p(t).data.upcoming},null,8,["tasks"])):P("",!0),p(t).data["no overdue"]?(v(),se(ea,{key:3,title:"No Overdue",tasks:p(t).data["no overdue"]},null,8,["tasks"])):P("",!0),p(t).data.completed?(v(),se(ea,{key:4,title:"Completed",tasks:p(t).data.completed},null,8,["tasks"])):P("",!0)]))]))],64)}}}),th="user",nH=fe({__name:"Form",props:{id:{}},setup(s){const e=ds(th)(),t=ks(th)(),n=so(),o=al();return e.onSuccess(()=>{t.fetch(),Rt().pop()}),(r,a)=>(v(),se(p(Fs),{id:s.id,name:th,uri:"users"},{default:Y(()=>[T(p(n),{name:"name",label:"Name",class:"col-span-12"}),T(p(n),{name:"email",label:"Email",class:"col-span-12"}),T(p(n),{name:"password",label:"Password",class:"col-span-12"}),T(p(o),{name:"role",label:"Role",class:"col-span-12"})]),_:1},8,["id"]))}}),oH={key:0,class:"mt-8 flex justify-center"},iH={key:1},rH={class:"mb-6"},aH={class:"relative w-64 rounded-md shadow-sm"},lH={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},cH=["placeholder"],dH={key:0,class:"mb-8"},uH={key:0,class:"ltr:ml-auto rtl:mr-auto"},hH={class:"flex flex-col"},fH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},mH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},gH={class:"min-w-full divide-y divide-gray-200"},_H={class:"divide-y divide-gray-200 bg-white"},vH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},yH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},bH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},xH={class:"ltr:ml-auto rtl:mr-auto"},wH={class:"flex flex-col"},kH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},$H={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},CH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},SH={class:"min-w-full divide-y divide-gray-200"},MH={class:"divide-y divide-gray-200 bg-white"},TH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},DH={class:"flex"},AH={class:"text-sm ltr:ml-3 rtl:mr-3"},EH={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},PH={class:"block text-sm font-normal text-gray-500"},OH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},RH={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},LH=["onClick"],IH=fe({__name:"Index",setup(s){const e=tt("can"),t=tt("__"),n=ks("user")(),o=ks("invitation")(),r=I(!0);a(),n.setConfig({uri:"users",orderByDirection:"desc"}),n.fetch(),(e("user:view")||e("user:create"))&&(o.setConfig({uri:"invitations",orderByDirection:"desc"}),o.fetch());function a(){setTimeout(function(){if(n.fetching||o.fetching){a();return}l()},150)}function l(){r.value=!1}function c(g=null){Rt().add(Py,{id:g})}function d(g=null){Rt().add(nH,{id:g})}function u(){r.value=!0,n.onSearch(),a()}function f(g){var _;return!(!gt.is_super_admin||g.id===((_=gt.user)==null?void 0:_.id))}async function m(g){var _,w;if(confirm(`Are you sure you want to login as ${g.name}?`))try{(await ue.post(`impersonate/${g.id}`)).data.success&&(alert(`You are now logged in as ${g.name}`),window.location.href="/")}catch(y){alert(((w=(_=y.response)==null?void 0:_.data)==null?void 0:w.message)||"Failed to impersonate user")}}return(g,_)=>{var w,y;return r.value?(v(),k("div",oH,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",iH,[i("div",rH,[i("div",aH,[i("div",lH,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":_[0]||(_[0]=$=>p(n).params.search=$),type:"search",placeholder:p(t)("Search users..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,cH),[[de,p(n).params.search]])])]),(y=(w=p(o).data)==null?void 0:w.data)!=null&&y.length?(v(),k("section",dH,[T(p(Gc),{title:p(t)("Pending Invitations")},{default:Y(()=>[p(e)("user:create")?(v(),k("div",uH,[T(p(Ue),{size:"sm","data-cy":"topbar-invitation-create-button",onClick:_[1]||(_[1]=$=>c())},{default:Y(()=>[te(h(p(t)("Invite Team Member")),1)]),_:1})])):P("",!0)]),_:1},8,["title"]),i("div",hH,[i("div",fH,[i("div",pH,[i("div",mH,[i("table",gH,[i("thead",null,[i("tr",null,[T(p(He),{name:"invitation",index:p(o),label:p(t)("Email"),sort:"email"},null,8,["index","label"]),T(p(He),{name:"invitation",index:p(o),label:p(t)("Role")},null,8,["index","label"]),_[3]||(_[3]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",_H,[(v(!0),k(he,null,ke(p(o).data.data,$=>(v(),k("tr",{key:$.id},[i("td",vH,h($.email),1),i("td",yH,h($.role.name),1),i("td",bH,[p(e)("user:delete")?(v(),se(p(ls),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et(b=>p(o).deleteIt($.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),T(p(qs),{index:p(o)},null,8,["index"])])])])])])):P("",!0),i("section",null,[T(p(Gc),{title:p(t)("Team Members")},{default:Y(()=>{var $;return[i("div",xH,[p(e)("user:create")&&!(($=p(o).data)!=null&&$.length)?(v(),se(p(Ue),{key:0,size:"sm","data-cy":"topbar-invitation-create-button",onClick:_[2]||(_[2]=b=>c())},{default:Y(()=>[te(h(p(t)("Invite Team Member")),1)]),_:1})):P("",!0),p(e)("user:create")?(v(),se(p(Ue),{key:1,class:"ltr:ml-2 rtl:mr-2",size:"sm","data-cy":"topbar-create-button",onClick:d},{default:Y(()=>[te(h(p(t)("Create Team Member")),1)]),_:1})):P("",!0)])]}),_:1},8,["title"]),i("div",wH,[i("div",kH,[i("div",$H,[i("div",CH,[i("table",SH,[i("thead",null,[i("tr",null,[T(p(He),{name:"user",index:p(n),label:p(t)("Name"),sort:"name"},null,8,["index","label"]),T(p(He),{name:"user",index:p(n),label:p(t)("Role")},null,8,["index","label"]),_[4]||(_[4]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",MH,[(v(!0),k(he,null,ke(p(n).data.data,$=>(v(),k("tr",{key:$.id},[i("td",TH,[i("div",DH,[T(p(ps),{class:"h-6 w-6",avatar:$.avatar},null,8,["avatar"]),i("div",AH,[i("span",EH,h($.name),1),i("span",PH,h($.email),1)])])]),i("td",OH,h($.roles[0].name),1),i("td",RH,[f($)?(v(),se(p(cv),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",title:p(t)("Login as this user"),onClick:et(b=>m($),["stop"])},null,8,["title","onClick"])):P("",!0),p(e)("user:update")?(v(),k("span",{key:1,class:"ml-2",onClick:b=>d($.id)},[T(p(Pr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,LH)):P("",!0),p(e)("user:delete")?(v(),se(p(ls),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et(b=>p(n).deleteIt($.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),T(p(qs),{index:p(n)},null,8,["index"])])])])])])]))}}}),Gg="label",jH=fe({__name:"Form",props:{id:{}},setup(s){const e=ds(Gg)(),t=so(),n=ks("label")();return e.onSuccess(o=>{n.updateOrCreate(o.model),Rt().pop()}),(o,r)=>(v(),se(p(Fs),{id:s.id,name:Gg,uri:"labels"},{default:Y(()=>[T(p(t),{name:"name",label:"Name",class:"col-span-12"}),T(Ey,{name:"color"})]),_:1},8,["id"]))}}),FH={class:"flex flex-col"},NH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},zH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},BH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},UH={class:"min-w-full divide-y divide-gray-200"},HH={class:"divide-y divide-gray-200 bg-white"},VH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},WH={class:"flex items-center"},qH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},KH=["onClick"],YH=fe({__name:"Index",setup(s){function e(t=null){Rt().add(jH,{id:t})}return(t,n)=>(v(),se(Gi,null,{topbar:Y(()=>[T(p(Ue),{size:"sm",onClick:e},{default:Y(()=>[te(h(t.__("Create Label")),1)]),_:1})]),default:Y(()=>[T(p(zf),{name:"label",uri:"labels","no-filters":"","no-search":""},{default:Y(({items:o,index:r})=>[i("div",FH,[i("div",NH,[i("div",zH,[i("div",BH,[i("table",UH,[i("tbody",HH,[(v(!0),k(he,null,ke(o,a=>(v(),k("tr",{key:a.id},[i("td",VH,[i("div",WH,[T(p(Yy),{class:"mr-2 inline-block h-4 w-4",style:Mt({color:a.meta.color})},null,8,["style"]),te(" "+h(a.name),1)])]),i("td",qH,[t.can("label:update")?(v(),k("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[T(p(Pr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,KH)):P("",!0),t.can("label:delete")?(v(),se(p(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),T(p(qs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),GH={class:"mb-4 flex"},XH={class:"text-2xl font-semibold text-gray-900"},JH={class:"flex items-center ltr:ml-auto rtl:mr-auto"},QH={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},ZH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},eV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},tV={key:0,class:"mt-8 flex justify-center"},sV={key:1},nV={class:"space-y-4 divide-y pb-6"},oV=["href","onClick"],iV={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},rV={key:1,class:"flex items-center leading-5 text-gray-700"},aV={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},lV={class:"ml-auto flex space-x-3"},cV=fe({__name:"Index",setup(s){const e=tt("can"),t=tt("__"),n=new URLSearchParams(window.location.search),o=I(!!n.has("archived")),r=ks("projects")(),a=np();n.has("archived")?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),r.fetch();function l(f=null){f=="archived"?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),f=="archived"?(o.value=!0,history.replaceState(history.state,"","?archived")):(o.value=!1,history.replaceState(history.state,"","/projects")),r.fetch()}function c(f,m){ue.patch(`projects/${f}/archive`).then(()=>{r.data.splice(m,1)})}function d(f,m){ue.patch(`projects/${f}/restore`).then(()=>{r.data.splice(m,1)})}function u(f,m){const g=lc();g.confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){const _=Array.isArray(f)?f:[f],w="projects";ue.delete(`${w}/null`,{data:{items:_}}).then(()=>{g.hide(),r.data.splice(m,1)}).catch(()=>{g.hide()})}})}return(f,m)=>{const g=pn("RouterLink");return v(),k(he,null,[i("div",GH,[i("h1",XH,h(p(t)("Projects")),1),i("div",JH,[i("nav",QH,[i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":!o.value,"text-gray-600":o.value}]),onClick:m[0]||(m[0]=_=>l())},[T(p(av),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",ZH,h(p(t)("Active")),1)],2),i("span",{class:ae(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":o.value,"text-gray-600":!o.value}]),onClick:m[1]||(m[1]=_=>l("archived"))},[T(p(Im),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",eV,h(p(t)("Archived")),1)],2)]),p(e)("project:create")?(v(),se(p(Ue),{key:0,class:"ml-6",size:"sm","data-cy":"topbar-create-button",onClick:et(p(a).create,["stop"])},{default:Y(()=>[te(h(p(t)("Create Project")),1)]),_:1},8,["onClick"])):P("",!0)])]),p(r).fetching?(v(),k("div",tV,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",sV,[p(r).data.length?(v(),se(p(si),{key:1},{default:Y(()=>[i("div",nV,[(v(!0),k(he,null,ke(p(r).data,(_,w)=>{var y;return v(),k("div",{key:_.id,class:"flex px-6 pt-6"},[o.value?P("",!0):(v(),se(g,{key:0,custom:"",to:"/projects/"+_.id},{default:Y(({href:$,navigate:b})=>{var S;return[i("a",{href:$,class:"flex cursor-pointer items-center leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:b},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:Mt({"background-color":((S=_.meta)==null?void 0:S.color)||"#ccc"}),"aria-hidden":"true"},null,4),i("span",iV,h(_.name),1)],8,oV)]}),_:2},1032,["to"])),o.value?(v(),k("p",rV,[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:Mt({"background-color":((y=_.meta)==null?void 0:y.color)||"#ccc"}),"aria-hidden":"true"},null,4),i("span",aV,h(_.name),1)])):P("",!0),i("div",lV,[W(T(p(Im),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>c(_.id,w)},null,8,["onClick"]),[[Ht,!o.value&&p(e)("project:delete")]]),W(T(p(u4),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>d(_.id,w)},null,8,["onClick"]),[[Ht,o.value&&p(e)("project:delete")]]),W(T(p(ls),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>u(_.id,w)},null,8,["onClick"]),[[Ht,o.value&&p(e)("project:delete")]])])])}),128))])]),_:1})):(v(),se(p(Ed),{key:0,"no-create":""}))]))],64)}}}),dV={class:"space-y-6"},uV={class:"flex items-center justify-between border-b border-gray-200 pb-5"},hV={class:"text-3xl font-bold text-gray-900"},fV={key:0,class:"mt-2 flex flex-wrap gap-2"},pV={key:0,class:"text-xs text-gray-600"},mV={key:1,class:"text-xs text-gray-600 ml-4"},gV=["disabled"],_V={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},vV={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},yV={key:0,class:"rounded-lg bg-white border-2 border-indigo-200 p-6 shadow-md"},bV={class:"flex items-center justify-between mb-4"},xV={class:"text-lg font-semibold text-gray-900"},wV={class:"text-xs text-gray-500"},kV={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$V={class:"bg-gray-50 rounded-lg p-4"},CV={class:"flex items-center justify-between mb-2"},SV={class:"text-sm font-medium text-gray-600"},MV={class:"text-2xl font-bold text-gray-900"},TV={class:"text-xs text-gray-500 mt-1"},DV={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},AV={class:"bg-gray-50 rounded-lg p-4"},EV={class:"flex items-center justify-between mb-2"},PV={class:"text-sm font-medium text-gray-600"},OV={class:"text-2xl font-bold text-gray-900"},RV={class:"text-xs text-gray-500 mt-1"},LV={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},IV={class:"bg-gray-50 rounded-lg p-4"},jV={class:"flex items-center justify-between mb-2"},FV={class:"text-sm font-medium text-gray-600"},NV={class:"text-xs text-gray-500 mt-1"},zV={class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},BV={class:"flex items-start"},UV={class:"flex-1"},HV={class:"text-sm font-medium text-blue-900"},VV={class:"text-sm text-blue-700 mt-1"},WV={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mx-1"},qV={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mx-1"},KV={key:1,class:"rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-6 shadow-lg"},YV={class:"text-xl font-semibold text-white mb-4"},GV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},XV={class:"flex items-center justify-between mb-3"},JV={class:"flex items-center space-x-2"},QV={class:"text-white font-medium text-sm truncate"},ZV={class:"space-y-2"},eW={key:0,class:"flex justify-between items-center"},tW={class:"text-white text-xs opacity-75"},sW={class:"text-white text-lg font-bold"},nW={class:"text-white text-xs opacity-75"},oW={class:"text-white text-sm font-semibold"},iW={class:"text-white text-xs opacity-75"},rW={class:"text-white text-sm font-semibold"},aW={class:"text-white text-xs opacity-75"},lW={class:"text-white text-sm font-semibold"},cW={class:"text-white text-xs opacity-75"},dW={class:"text-white text-sm font-semibold"},uW={key:1,class:"grid grid-cols-1 gap-2 pt-2"},hW={class:"text-white text-xs opacity-75"},fW={class:"text-white text-sm font-semibold"},pW={class:"mt-3 pt-2 border-t border-white border-opacity-20"},mW={class:"text-white text-xs opacity-75 mb-1"},gW={key:0,class:"flex flex-wrap gap-1"},_W=["title"],vW={key:1,class:"flex items-center gap-2"},yW={class:"text-white text-xs opacity-50"},bW={key:2,class:"mt-3 pt-2 border-t border-white border-opacity-20"},xW={class:"text-white text-xs opacity-75 mb-2"},wW={class:"space-y-1.5"},kW={class:"flex items-center gap-1.5 flex-1 min-w-0"},$W={class:"text-sm"},CW={class:"opacity-90 truncate"},SW={class:"flex gap-2 text-[10px] opacity-75 flex-shrink-0"},MW={class:"whitespace-nowrap"},TW={class:"whitespace-nowrap"},DW={class:"whitespace-nowrap"},AW={key:0,class:"mt-4 pt-4 border-t border-white border-opacity-30"},EW={class:"flex items-center justify-between"},PW={class:"text-white text-sm font-medium opacity-90"},OW={class:"text-white text-2xl font-bold"},RW={class:"rounded-lg bg-white p-4 shadow"},LW={class:"flex items-center space-x-4"},IW={class:"flex-1"},jW={class:"block text-sm font-medium text-gray-700"},FW={class:"flex-1"},NW={class:"block text-sm font-medium text-gray-700"},zW={class:"pt-6"},BW={key:0,class:"mt-3 text-sm text-gray-500"},UW={key:3,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},HW={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},VW={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},WW={class:"text-lg font-semibold text-gray-900"},qW={style:{height:"300px"}},KW={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},YW={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},GW={class:"text-lg font-semibold text-gray-900"},XW={style:{height:"300px"}},JW={key:0,class:"overflow-hidden rounded-lg bg-white p-6 shadow lg:col-span-2"},QW={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},ZW={class:"text-lg font-semibold text-gray-900"},eq={style:{height:"400px"}},tq={key:4,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},sq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},nq={class:"truncate text-sm font-medium text-gray-500"},oq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},iq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},rq={class:"truncate text-sm font-medium text-gray-500"},aq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},lq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},cq={class:"truncate text-sm font-medium text-gray-500"},dq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},uq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},hq={class:"truncate text-sm font-medium text-gray-500"},fq={class:"mt-1 text-3xl font-semibold tracking-tight text-indigo-600"},pq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},mq={class:"truncate text-sm font-medium text-gray-500"},gq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},_q={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},vq={class:"truncate text-sm font-medium text-gray-500"},yq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},bq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},xq={class:"truncate text-sm font-medium text-gray-500"},wq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},kq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},$q={class:"truncate text-sm font-medium text-gray-500"},Cq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Sq={key:5,class:"overflow-hidden rounded-lg bg-white shadow"},Mq={class:"flex items-center justify-between"},Tq={class:"text-md font-medium text-gray-900"},Dq={class:"mt-1 text-sm text-gray-500"},Aq={class:"overflow-x-auto"},Eq={class:"min-w-full divide-y divide-gray-200"},Pq={class:"bg-gray-50"},Oq={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Rq={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},Lq={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},Iq={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},jq={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},Fq={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},Nq={class:"divide-y divide-gray-200 bg-white"},zq={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Bq={class:"flex items-center"},Uq={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},Hq={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},Vq={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},Wq={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},qq={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},Kq={key:6,class:"overflow-hidden rounded-lg bg-white shadow"},Yq={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},Gq={class:"flex items-center justify-between"},Xq={class:"text-lg font-medium leading-6 text-gray-900"},Jq={class:"flex items-center space-x-4"},Qq={class:"relative"},Zq=["placeholder"],eK={class:"overflow-x-auto"},tK={class:"min-w-full divide-y divide-gray-200"},sK={class:"bg-gray-50"},nK={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},oK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},iK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},rK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},aK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},lK={class:"divide-y divide-gray-200 bg-white"},cK={class:"whitespace-nowrap px-6 py-4"},dK={class:"flex items-center justify-between"},uK={class:"flex items-center"},hK={class:"text-2xl mr-2"},fK={class:"text-sm font-medium text-gray-900"},pK={key:0,class:"mt-2"},mK={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},gK={class:"w-full bg-gray-200 rounded-full h-1.5"},_K={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},vK={class:"text-gray-900"},yK={key:0,class:"text-xs text-gray-500 mt-1"},bK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},xK={class:"text-gray-900"},wK={key:0,class:"text-xs text-gray-500 mt-1"},kK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},$K={class:"text-gray-900"},CK={key:0,class:"text-xs text-gray-500 mt-1"},SK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},MK={key:0,class:"text-xs text-gray-500 mt-1"},TK={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},DK={class:"flex items-center justify-between"},AK={class:"flex flex-1 justify-between sm:hidden"},EK=["disabled"],PK=["disabled"],OK={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},RK={class:"text-sm text-gray-700"},LK={class:"font-medium"},IK={class:"font-medium"},jK={class:"font-medium"},FK={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},NK=["disabled"],zK={class:"sr-only"},BK=["onClick"],UK=["disabled"],HK={class:"sr-only"},VK={key:7,class:"rounded-lg bg-white p-12 text-center shadow"},WK={class:"mt-2 text-sm font-medium text-gray-900"},qK={class:"mt-1 text-sm text-gray-500"},KK={class:"mt-6"},YK=fe({__name:"AdSenseReports",setup(s){const e=tt("__"),t=I(!1),n=I(!1),o=I([]),r=I([]),a=I(null),l=I(null),c=I([]),d=I(null),u=I([]),f=I(null),m=I(0),g=I(!1),_=I(null),w=Le(()=>{if(!d.value||!d.value.countries)return[];const V=[];return d.value.countries.forEach(K=>{K.websites&&Array.isArray(K.websites)&&K.websites.forEach(X=>{V.push({...X,country_code:K.country_code,country_name:K.country_name})})}),V}),y=(V,K)=>{if(!K||K===0)return"none";const X=V/K*100;return X>=100?"excellent":X>=70?"good":"poor"},$=(V,K)=>!K||K===0?0:Math.min(V/K*100,100),b=V=>{switch(V){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=V=>{switch(V){case"excellent":return" On Target";case"good":return" Close";case"poor":return" Below Target";default:return"No Target"}},M=I(!0),E=I(!0),H=I({current_page:1,per_page:10,last_page:1,total_countries:0,from:0,to:0}),N=I(10),F=I("");let R=null;const A=new Date,ee=new Date(A);ee.setDate(ee.getDate()-7);const q=I(ee.toISOString().split("T")[0]),_e=I(A.toISOString().split("T")[0]),$e=V=>V?new Intl.NumberFormat("en-US").format(V):"0",ve=V=>V?V>=1e6?(V/1e6).toFixed(1)+"M":V>=1e3?(V/1e3).toFixed(1)+"K":V.toString():"0",ge=V=>V?parseFloat(V).toFixed(2):"0.00",G=V=>V?parseFloat(V).toFixed(2):"0.00",Q=V=>V?new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",J=V=>{if(!V||V==="XX")return"";const K=V.toUpperCase().split("").map(X=>127397+X.charCodeAt(0));return String.fromCodePoint(...K)},me=V=>{const K=V.toLowerCase();return K.includes("google")?"":K.includes("bing")?"":K.includes("yahoo")?"":K.includes("facebook")?"":K.includes("twitter")||K.includes("x.com")?"":K.includes("linkedin")?"":K.includes("instagram")?"":K.includes("pinterest")?"":K.includes("reddit")?"":K.includes("social")?"":K.includes("referral")?"":K.includes("direct")?"":K.includes("email")?"":K.includes("paid")?"":""},xe=Le(()=>c.value.map(V=>new Date(V.report_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),Oe=Le(()=>c.value.map(V=>({x:V.report_date,y:parseFloat(V.total_earnings||0)}))),nt=Le(()=>[{label:"Impressions",data:c.value.map(V=>parseInt(V.total_impressions||0)),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"#6366F1",borderWidth:1},{label:"Clicks",data:c.value.map(V=>parseInt(V.total_clicks||0)),backgroundColor:"rgba(236, 72, 153, 0.8)",borderColor:"#EC4899",borderWidth:1}]),ut=Le(()=>o.value.slice(0,10).map(V=>V.country_name||V.country_code)),ie=Le(()=>o.value.slice(0,10).map(V=>parseFloat(V.total_earnings||0))),ye=Le(()=>{const V=[],K=H.value.current_page,X=H.value.last_page;V.push(1);for(let le=Math.max(2,K-1);le<=Math.min(X-1,K+1);le++)V.push(le);return X>1&&V.push(X),[...new Set(V)].sort((le,Se)=>le-Se)}),we=V=>{V>=1&&V<=H.value.last_page&&(H.value.current_page=V,Pe())},Ie=()=>{clearTimeout(R),R=setTimeout(()=>{H.value.current_page=1,Pe()},500)},Xe=async()=>{try{const V=new Date().toISOString().split("T")[0];f.value=V;const K=await Yt.get("/api/adsense/reports/by-website",{params:{start_date:V,end_date:V}});if(K.data.data&&K.data.data.length>0){u.value=K.data.data;try{const X=await Yt.get("/api/adsense/reports",{params:{start_date:V,end_date:V}});if(X.data.data){const le=X.data.data;u.value=u.value.map(Se=>{const Me=le.filter(Ce=>Ce.domain===Se.domain).sort((Ce,be)=>be.impressions-Ce.impressions).slice(0,5);return{...Se,topCountries:Me}})}}catch{}try{const X=await Yt.get("/api/adsense/traffic-sources",{params:{start_date:V,end_date:V}});if(X.data.success&&X.data.data){const le=X.data.data;u.value=u.value.map(Se=>{const Me=le[Se.domain]||[];return{...Se,trafficSources:Me.slice(0,5)}})}}catch{}m.value=u.value.reduce((X,le)=>X+parseFloat(le.total_earnings||0),0)}else u.value=[],m.value=0}catch{u.value=[],m.value=0}},Pe=async()=>{t.value=!0;try{const[V,K,X,le]=await Promise.all([Yt.get("/api/adsense/reports/summary",{params:{start_date:q.value,end_date:_e.value}}),Yt.get("/api/adsense/reports/by-country",{params:{start_date:q.value,end_date:_e.value,search:F.value,per_page:N.value,page:H.value.current_page}}),Yt.get("/api/adsense/reports/by-website",{params:{start_date:q.value,end_date:_e.value}}),Yt.get("/api/adsense/reports/daily-trend",{params:{start_date:q.value,end_date:_e.value}})]);a.value=V.data.data,o.value=K.data.data,r.value=X.data.data,c.value=le.data.data,K.data.meta&&(H.value={current_page:K.data.meta.current_page,per_page:K.data.meta.per_page,last_page:K.data.meta.last_page,total_countries:K.data.meta.total_countries,from:K.data.meta.from||0,to:K.data.meta.to||0}),await Xe()}catch{}finally{t.value=!1}},ne=async()=>{try{const V=await Yt.get("/api/adsense/reports/latest-date");l.value=V.data.data.latest_report_date}catch{}},oe=async()=>{try{const V=await Yt.get("/api/adsense/user-assignments");d.value=V.data.data,_.value=V.data.data.targets,await O()}catch{}},O=async()=>{try{const K=(await Yt.get("/api/user")).data;K&&K.roles&&(g.value=K.roles.some(X=>X.name==="Admin"))}catch{g.value=!1}},B=async()=>{n.value=!0;try{await Yt.post("/api/adsense/sync",{start_date:q.value,end_date:_e.value}),await Pe(),await ne()}catch{alert("Failed to sync data. Please check your AdSense API configuration.")}finally{n.value=!1}};return dt(async()=>{await oe(),await ne(),await Pe()}),(V,K)=>(v(),k("div",dV,[i("div",uV,[i("div",null,[i("h1",hV,h(p(e)("AdSense Reports")),1),K[10]||(K[10]=i("p",{class:"mt-1 text-sm text-gray-500"}," View your AdSense performance metrics by country ",-1)),d.value&&d.value.has_assignments?(v(),k("div",fV,[d.value.countries.length>0?(v(),k("span",pV,[i("strong",null,h(p(e)("Your Countries"))+":",1),(v(!0),k(he,null,ke(d.value.countries,(X,le)=>(v(),k("span",{key:X.country_code},h(J(X.country_code))+" "+h(X.country_name)+h(le<d.value.countries.length-1?", ":""),1))),128))])):P("",!0),w.value.length>0?(v(),k("span",mV,[i("strong",null,h(p(e)("Your Websites"))+":",1),(v(!0),k(he,null,ke(w.value,(X,le)=>(v(),k("span",{key:X.id},h(X.website_url)+h(le<w.value.length-1?", ":""),1))),128))])):P("",!0)])):P("",!0)]),i("button",{onClick:B,disabled:n.value,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(v(),k("svg",_V,[...K[11]||(K[11]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(v(),k("svg",vV,[...K[12]||(K[12]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),te(" "+h(n.value?p(e)("Syncing..."):p(e)("Sync Data")),1)],8,gV)]),_.value&&a.value?(v(),k("div",yV,[i("div",bV,[i("h3",xV,"  "+h(p(e)("Your Performance vs Targets")),1),i("span",wV,h(p(e)("For selected date range")),1)]),i("div",kV,[i("div",$V,[i("div",CV,[i("span",SV,h(p(e)("Impressions")),1),i("span",{class:ae([b(y(a.value.total_impressions,_.value.daily_impressions_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},h(Math.round($(a.value.total_impressions,_.value.daily_impressions_target)))+"% ",3)]),i("div",MV,h(ve(a.value.total_impressions)),1),i("div",TV,"Target: "+h(ve(_.value.daily_impressions_target))+"/day",1),i("div",DV,[i("div",{class:ae([{"bg-green-500":y(a.value.total_impressions,_.value.daily_impressions_target)==="excellent","bg-yellow-500":y(a.value.total_impressions,_.value.daily_impressions_target)==="good","bg-red-500":y(a.value.total_impressions,_.value.daily_impressions_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:Mt({width:$(a.value.total_impressions,_.value.daily_impressions_target)+"%"})},null,6)])]),i("div",AV,[i("div",EV,[i("span",PV,h(p(e)("Clicks")),1),i("span",{class:ae([b(y(a.value.total_clicks,_.value.daily_clicks_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},h(Math.round($(a.value.total_clicks,_.value.daily_clicks_target)))+"% ",3)]),i("div",OV,h(ve(a.value.total_clicks)),1),i("div",RV,"Target: "+h(ve(_.value.daily_clicks_target))+"/day",1),i("div",LV,[i("div",{class:ae([{"bg-green-500":y(a.value.total_clicks,_.value.daily_clicks_target)==="excellent","bg-yellow-500":y(a.value.total_clicks,_.value.daily_clicks_target)==="good","bg-red-500":y(a.value.total_clicks,_.value.daily_clicks_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:Mt({width:$(a.value.total_clicks,_.value.daily_clicks_target)+"%"})},null,6)])]),i("div",IV,[i("div",jV,[i("span",FV,h(p(e)("Average CPC")),1),i("span",{class:ae([{"bg-green-100 text-green-800":a.value.avg_cpc>=_.value.min_cpc_target,"bg-red-100 text-red-800":a.value.avg_cpc<_.value.min_cpc_target},"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},h(a.value.avg_cpc>=_.value.min_cpc_target?" Good":" Low"),3)]),i("div",{class:ae([{"text-green-600":a.value.avg_cpc>=_.value.min_cpc_target,"text-red-600":a.value.avg_cpc<_.value.min_cpc_target},"text-2xl font-bold"])}," $"+h(ge(a.value.avg_cpc)),3),i("div",NV,"Min Target: $"+h(ge(_.value.min_cpc_target)),1)])]),i("div",zV,[i("div",BV,[K[13]||(K[13]=i("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("div",UV,[i("p",HV,h(p(e)("Marketing Focus Tip")),1),i("p",VV,[te(h(p(e)("Check the country performance table below. Countries marked in"))+" ",1),i("span",WV,h(p(e)("red")),1),te(" "+h(p(e)("need more marketing effort, while"))+" ",1),i("span",qV,h(p(e)("green")),1),te(" "+h(p(e)("countries are performing well.")),1)])])])])])):P("",!0),!t.value&&u.value&&u.value.length>0?(v(),k("div",KV,[i("div",null,[i("h3",YV,h(p(e)("Today's Performance"))+" ("+h(Q(f.value))+") ",1),i("div",GV,[(v(!0),k(he,null,ke(u.value,X=>(v(),k("div",{key:X.domain,class:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all"},[i("div",XV,[i("div",JV,[K[14]||(K[14]=i("svg",{class:"h-5 w-5 text-white opacity-75",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),i("h4",QV,h(X.domain),1)])]),i("div",ZV,[g.value?(v(),k("div",eW,[i("span",tW,h(p(e)("Earnings")),1),i("span",sW,"$"+h(ge(X.total_earnings)),1)])):P("",!0),i("div",{class:ae(g.value?"grid grid-cols-4 gap-2 pt-2 border-t border-white border-opacity-20":"grid grid-cols-4 gap-2")},[i("div",null,[i("p",nW,h(p(e)("Page Views")),1),i("p",oW,h(ve(X.total_page_views)),1)]),i("div",null,[i("p",iW,h(p(e)("Impr")),1),i("p",rW,h(ve(X.total_impressions)),1)]),i("div",null,[i("p",aW,h(p(e)("Clicks")),1),i("p",lW,h(ve(X.total_clicks)),1)]),i("div",null,[i("p",cW,h(p(e)("CPC")),1),i("p",dW,"$"+h(ge(X.avg_cpc)),1)])],2),g.value?(v(),k("div",uW,[i("div",null,[i("p",hW,h(p(e)("RPM")),1),i("p",fW,"$"+h(ge(X.avg_page_rpm)),1)])])):P("",!0),i("div",pW,[i("p",mW,h(p(e)("Traffic Sources")),1),X.trafficSources&&X.trafficSources.length>0?(v(),k("div",gW,[(v(!0),k(he,null,ke(X.trafficSources,le=>(v(),k("span",{key:le.source+le.medium,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white bg-opacity-20 text-white",title:$e(le.sessions)+" sessions, "+$e(le.page_views)+" page views"},h(me(le.source))+" "+h(le.source),9,_W))),128))])):(v(),k("div",vW,[K[15]||(K[15]=i("svg",{class:"h-4 w-4 text-white opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",yW,h(p(e)("No traffic data available. Grant service account access in GA4.")),1)]))]),X.topCountries&&X.topCountries.length>0?(v(),k("div",bW,[i("p",xW,h(p(e)("Top 5 Countries")),1),i("div",wW,[(v(!0),k(he,null,ke(X.topCountries,le=>(v(),k("div",{key:le.country_code,class:"flex items-center justify-between text-white text-xs"},[i("div",kW,[i("span",$W,h(J(le.country_code)),1),i("span",CW,h(le.country_name),1)]),i("div",SW,[i("span",MW,h(ve(le.page_views))+" Views",1),i("span",TW,h(ve(le.impressions))+" Impr",1),i("span",DW,h(ve(le.clicks))+" Clicks",1)])]))),128))])])):P("",!0)])]))),128))]),g.value&&u.value.length>1?(v(),k("div",AW,[i("div",EW,[i("span",PW,h(p(e)("Total Earnings Today")),1),i("span",OW,"$"+h(ge(m.value)),1)])])):P("",!0)])])):P("",!0),i("div",RW,[i("div",LW,[i("div",IW,[i("label",jW,h(p(e)("Start Date")),1),W(i("input",{"onUpdate:modelValue":K[0]||(K[0]=X=>q.value=X),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Pe},null,544),[[de,q.value]])]),i("div",FW,[i("label",NW,h(p(e)("End Date")),1),W(i("input",{"onUpdate:modelValue":K[1]||(K[1]=X=>_e.value=X),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Pe},null,544),[[de,_e.value]])]),i("div",zW,[i("button",{onClick:Pe,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},h(p(e)("Apply")),1)])]),l.value?(v(),k("div",BW,h(p(e)("Latest available data: "))+" "+h(l.value),1)):P("",!0)]),t.value?(v(),se(p(Nt),{key:2,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):P("",!0),!t.value&&c.value.length>0?(v(),k("div",UW,[i("div",HW,[i("div",VW,[i("div",null,[i("h3",WW,h(p(e)("Earnings Trend")),1),K[16]||(K[16]=i("p",{class:"mt-1 text-xs text-gray-500"}," Daily earnings over selected period ",-1))])]),i("div",qW,[T(p(Uh),{id:"earnings-chart",data:Oe.value,"tooltip-label":"Earnings ($)","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]),i("div",KW,[i("div",YW,[i("div",null,[i("h3",GW,h(p(e)("Impressions & Clicks")),1),K[17]||(K[17]=i("p",{class:"mt-1 text-xs text-gray-500"}," Daily performance comparison ",-1))])]),i("div",XW,[T(p(DM),{id:"impressions-clicks-chart",data:nt.value,labels:xe.value},null,8,["data","labels"])])]),o.value.length>0?(v(),k("div",JW,[i("div",QW,[i("div",null,[i("h3",ZW,h(p(e)("Top 10 Countries by Earnings")),1),K[18]||(K[18]=i("p",{class:"mt-1 text-xs text-gray-500"}," Revenue distribution by country ",-1))])]),i("div",eq,[T(p(EM),{id:"countries-chart",data:ie.value,labels:ut.value},null,8,["data","labels"])])])):P("",!0)])):a.value?(v(),k("div",tq,[i("div",sq,[i("dt",nq,h(p(e)("Total Impressions")),1),i("dd",oq,h($e(a.value.total_impressions)),1)]),i("div",iq,[i("dt",rq,h(p(e)("Total Clicks")),1),i("dd",aq,h($e(a.value.total_clicks)),1)]),i("div",lq,[i("dt",cq,h(p(e)("Page Views")),1),i("dd",dq,h($e(a.value.total_page_views)),1)]),i("div",uq,[i("dt",hq,h(p(e)("Total Earnings")),1),i("dd",fq," $"+h(ge(a.value.total_earnings)),1)]),i("div",pq,[i("dt",mq,h(p(e)("Avg CPC")),1),i("dd",gq," $"+h(ge(a.value.avg_cpc)),1)]),i("div",_q,[i("dt",vq,h(p(e)("Page RPM")),1),i("dd",yq," $"+h(ge(a.value.avg_page_rpm)),1)]),i("div",bq,[i("dt",xq,h(p(e)("Page CTR")),1),i("dd",wq,h(G(a.value.avg_page_ctr))+"% ",1)]),i("div",kq,[i("dt",$q,h(p(e)("Countries")),1),i("dd",Cq,h(a.value.total_countries),1)])])):P("",!0),!t.value&&r.value.length>0?(v(),k("div",Sq,[i("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:K[2]||(K[2]=X=>M.value=!M.value)},[i("div",Mq,[i("div",null,[i("h4",Tq,h(p(e)("Performance by Website")),1),i("p",Dq,h(p(e)("See how each website is performing")),1)]),(v(),k("svg",{class:ae(["h-5 w-5 text-gray-500 transition-transform",M.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...K[19]||(K[19]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),W(i("div",Aq,[i("table",Eq,[i("thead",Pq,[i("tr",null,[i("th",Oq,h(p(e)("Website")),1),i("th",Rq,h(p(e)("Countries")),1),i("th",Lq,h(p(e)("Impressions")),1),i("th",Iq,h(p(e)("Clicks")),1),i("th",jq,h(p(e)("Page Views")),1),i("th",Fq,h(p(e)("CPC")),1)])]),i("tbody",Nq,[(v(!0),k(he,null,ke(r.value,X=>(v(),k("tr",{key:X.domain,class:"hover:bg-gray-50"},[i("td",zq,[i("div",Bq,[K[20]||(K[20]=i("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),te(" "+h(X.domain),1)])]),i("td",Uq,h(X.countries_count),1),i("td",Hq,h($e(X.total_impressions)),1),i("td",Vq,h($e(X.total_clicks)),1),i("td",Wq,h($e(X.total_page_views)),1),i("td",qq," $"+h(ge(X.avg_cpc)),1)]))),128))])])],512),[[Ht,M.value]])])):P("",!0),!t.value&&o.value.length>0?(v(),k("div",Kq,[i("div",Yq,[i("div",Gq,[i("div",{class:"flex items-center cursor-pointer",onClick:K[3]||(K[3]=X=>E.value=!E.value)},[i("h3",Xq,h(p(e)("Performance by Country")),1),(v(),k("svg",{class:ae(["ml-2 h-5 w-5 text-gray-500 transition-transform",E.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...K[21]||(K[21]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),W(i("div",Jq,[i("div",Qq,[W(i("input",{"onUpdate:modelValue":K[4]||(K[4]=X=>F.value=X),onInput:Ie,type:"text",placeholder:p(e)("Search countries..."),class:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10"},null,40,Zq),[[de,F.value]]),K[22]||(K[22]=i("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),W(i("select",{"onUpdate:modelValue":K[5]||(K[5]=X=>N.value=X),onChange:Pe,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...K[23]||(K[23]=[i("option",{value:10},"10 per page",-1),i("option",{value:25},"25 per page",-1),i("option",{value:50},"50 per page",-1),i("option",{value:100},"100 per page",-1)])],544),[[qe,N.value]])],512),[[Ht,E.value]])])]),W(i("div",eK,[i("table",tK,[i("thead",sK,[i("tr",null,[i("th",nK,h(p(e)("Country")),1),i("th",oK,h(p(e)("Impressions")),1),i("th",iK,h(p(e)("Clicks")),1),i("th",rK,h(p(e)("Page Views")),1),i("th",aK,h(p(e)("CPC")),1)])]),i("tbody",lK,[(v(!0),k(he,null,ke(o.value,X=>(v(),k("tr",{key:X.country_code,class:"hover:bg-gray-50"},[i("td",cK,[i("div",dK,[i("div",uK,[i("span",hK,h(J(X.country_code)),1),i("div",fK,h(X.country_name||X.country_code),1)]),_.value?(v(),k("span",{key:0,class:ae([b(y(X.total_impressions,_.value.daily_impressions_target)),"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},h(S(y(X.total_impressions,_.value.daily_impressions_target))),3)):P("",!0)]),_.value&&_.value.daily_impressions_target?(v(),k("div",pK,[i("div",mK,[i("span",null,h($e(X.total_impressions))+" / "+h($e(_.value.daily_impressions_target)),1),i("span",null,h(Math.round($(X.total_impressions,_.value.daily_impressions_target)))+"%",1)]),i("div",gK,[i("div",{class:ae([{"bg-green-500":y(X.total_impressions,_.value.daily_impressions_target)==="excellent","bg-yellow-500":y(X.total_impressions,_.value.daily_impressions_target)==="good","bg-red-500":y(X.total_impressions,_.value.daily_impressions_target)==="poor"},"h-1.5 rounded-full transition-all duration-500"]),style:Mt({width:$(X.total_impressions,_.value.daily_impressions_target)+"%"})},null,6)])])):P("",!0)]),i("td",_K,[i("div",vK,h($e(X.total_impressions)),1),_.value?(v(),k("div",yK," Target: "+h($e(_.value.daily_impressions_target)),1)):P("",!0)]),i("td",bK,[i("div",xK,h($e(X.total_clicks)),1),_.value?(v(),k("div",wK," Target: "+h($e(_.value.daily_clicks_target)),1)):P("",!0)]),i("td",kK,[i("div",$K,h($e(X.total_page_views)),1),_.value?(v(),k("div",CK," Target: "+h($e(_.value.daily_page_views_target)),1)):P("",!0)]),i("td",SK,[i("div",{class:ae({"text-green-600 font-semibold":_.value&&X.avg_cpc>=_.value.min_cpc_target,"text-red-600":_.value&&X.avg_cpc<_.value.min_cpc_target,"text-gray-900":!_.value})}," $"+h(ge(X.avg_cpc)),3),_.value?(v(),k("div",MK," Min: $"+h(ge(_.value.min_cpc_target)),1)):P("",!0)])]))),128))])])],512),[[Ht,E.value]]),H.value.last_page>1&&E.value?(v(),k("div",TK,[i("div",DK,[i("div",AK,[i("button",{onClick:K[6]||(K[6]=X=>we(H.value.current_page-1)),disabled:H.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},h(p(e)("Previous")),9,EK),i("button",{onClick:K[7]||(K[7]=X=>we(H.value.current_page+1)),disabled:H.value.current_page===H.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},h(p(e)("Next")),9,PK)]),i("div",OK,[i("div",null,[i("p",RK,[te(h(p(e)("Showing"))+" ",1),i("span",LK,h(H.value.from),1),te(" "+h(p(e)("to"))+" ",1),i("span",IK,h(H.value.to),1),te(" "+h(p(e)("of"))+" ",1),i("span",jK,h(H.value.total_countries),1),te(" "+h(p(e)("countries")),1)])]),i("div",null,[i("nav",FK,[i("button",{onClick:K[8]||(K[8]=X=>we(H.value.current_page-1)),disabled:H.value.current_page===1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",zK,h(p(e)("Previous")),1),K[24]||(K[24]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,NK),(v(!0),k(he,null,ke(ye.value,X=>(v(),k("button",{key:X,onClick:le=>we(X),class:ae([X===H.value.current_page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center border px-4 py-2 text-sm font-medium"])},h(X),11,BK))),128)),i("button",{onClick:K[9]||(K[9]=X=>we(H.value.current_page+1)),disabled:H.value.current_page===H.value.last_page,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",HK,h(p(e)("Next")),1),K[25]||(K[25]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,UK)])])])])])):P("",!0)])):!t.value&&o.value.length===0?(v(),k("div",VK,[K[27]||(K[27]=i("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),i("h3",WK,h(p(e)("No data available")),1),i("p",qK,h(p(e)("Try syncing data or selecting a different date range.")),1),i("div",KK,[i("button",{onClick:B,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[K[26]||(K[26]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),te(" "+h(p(e)("Sync Data")),1)])])])):P("",!0)]))}}),sh="attendance",GK=fe({__name:"Form",props:{id:{}},setup(s){const e=ds(sh)(),t=ks(sh)(),n=so(),o=al();return e.onSuccess(()=>{t.fetch(),Rt().pop()}),(r,a)=>(v(),se(p(Fs),{id:s.id,name:sh,uri:"attendance"},{default:Y(()=>[a[0]||(a[0]=i("input",{type:"hidden",name:"action",value:"manual"},null,-1)),T(p(o),{name:"user_id",label:"User",class:"col-span-12",disabled:!!s.id},null,8,["disabled"]),T(p(n),{name:"date",label:"Date",type:"date",class:"col-span-12"}),T(p(n),{name:"clock_in",label:"Clock In",type:"datetime-local",class:"col-span-6"}),T(p(n),{name:"clock_out",label:"Clock Out",type:"datetime-local",class:"col-span-6"}),T(p(n),{name:"notes",label:"Notes",class:"col-span-12"})]),_:1},8,["id"]))}}),XK={key:0,class:"mt-8 flex justify-center"},JK={key:1},QK={key:0,class:"mb-6 border-b border-gray-200"},ZK={class:"-mb-px flex space-x-8"},eY={class:"mb-6 overflow-hidden rounded-lg bg-white shadow-md"},tY={class:"border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},sY={class:"text-xl font-semibold text-white"},nY={class:"p-6"},oY={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-4"},iY={class:"rounded-lg border border-green-200 bg-green-50 p-4 shadow-sm"},rY={class:"mb-2 flex items-center"},aY={class:"text-sm font-medium text-green-800"},lY={class:"text-2xl font-bold text-green-900"},cY={class:"rounded-lg border border-red-200 bg-red-50 p-4 shadow-sm"},dY={class:"mb-2 flex items-center"},uY={class:"text-sm font-medium text-red-800"},hY={class:"text-2xl font-bold text-red-900"},fY={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-sm"},pY={class:"mb-2 flex items-center"},mY={class:"text-sm font-medium text-blue-800"},gY={class:"text-2xl font-bold text-blue-900"},_Y={class:"flex items-center justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm"},vY={key:1,class:"flex items-center justify-between"},yY={class:"flex items-center text-gray-500"},bY={class:"text-lg font-medium text-gray-700"},xY={class:"text-sm text-gray-500"},wY={key:0,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3"},kY={class:"relative rounded-md shadow-sm"},$Y=["placeholder"],CY={class:"relative rounded-md shadow-sm"},SY=["placeholder"],MY={class:"relative rounded-md shadow-sm"},TY={value:""},DY=["value"],AY={key:1,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2"},EY={class:"relative rounded-md shadow-sm"},PY=["placeholder"],OY={class:"relative rounded-md shadow-sm"},RY=["placeholder"],LY={key:0,class:"ltr:ml-auto rtl:mr-auto"},IY={class:"flex flex-col"},jY={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},FY={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},NY={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},zY={class:"min-w-full divide-y divide-gray-200"},BY={key:1,class:"bg-gray-50 px-6 py-3"},UY={class:"divide-y divide-gray-200 bg-white"},HY={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},VY={class:"flex items-center"},WY={class:"ltr:ml-2 rtl:mr-2"},qY={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},KY={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},YY={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},GY={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},XY={class:"px-6 py-4 text-sm text-gray-500"},JY={class:"max-w-xs truncate"},QY={key:1,class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},ZY=["onClick"],eG={key:1},tG={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},sG={class:"overflow-hidden rounded-lg bg-white shadow"},nG={class:"p-5"},oG={class:"flex items-center"},iG={class:"flex-shrink-0"},rG={class:"ml-5 w-0 flex-1"},aG={class:"truncate text-sm font-medium text-gray-500"},lG={class:"text-lg font-semibold text-gray-900"},cG={class:"overflow-hidden rounded-lg bg-white shadow"},dG={class:"p-5"},uG={class:"flex items-center"},hG={class:"flex-shrink-0"},fG={class:"ml-5 w-0 flex-1"},pG={class:"truncate text-sm font-medium text-gray-500"},mG={class:"text-lg font-semibold text-gray-900"},gG={class:"overflow-hidden rounded-lg bg-white shadow"},_G={class:"p-5"},vG={class:"flex items-center"},yG={class:"flex-shrink-0"},bG={class:"ml-5 w-0 flex-1"},xG={class:"truncate text-sm font-medium text-gray-500"},wG={class:"text-lg font-semibold text-gray-900"},kG={class:"overflow-hidden rounded-lg bg-white shadow"},$G={class:"p-5"},CG={class:"flex items-center"},SG={class:"flex-shrink-0"},MG={class:"ml-5 w-0 flex-1"},TG={class:"truncate text-sm font-medium text-gray-500"},DG={class:"text-lg font-semibold text-gray-900"},AG={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},EG={class:"flex flex-1 gap-2"},PG={value:""},OG=["value"],RG={class:"flex gap-2"},LG={class:"flex flex-col"},IG={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},jG={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},FG={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},NG={class:"min-w-full divide-y divide-gray-200"},zG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},BG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},UG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},HG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},VG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},WG={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},qG={class:"divide-y divide-gray-200 bg-white"},KG={class:"whitespace-nowrap px-6 py-4"},YG={class:"flex items-center"},GG={class:"ml-3"},XG={class:"text-sm font-medium text-gray-900"},JG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},QG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ZG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},eX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},tX={class:"px-6 py-4 text-sm text-gray-500"},sX={key:0},nX={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},oX={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},iX={class:"flex items-center justify-between"},rX={class:"text-sm text-gray-700"},aX={class:"flex gap-2"},lX=fe({__name:"IndexWorking",setup(s){const e=tt("__"),t=ks("attendance")(),n=I(!0),o=I([]),r=I(null),a=I(!1),l=I(!1),c=I(!1),d=Le(()=>gt.is_attendance_admin),u=I("attendance"),f=I(null),m=I([]),g=I({current_page:1,last_page:1,per_page:50,total:0}),_=I({start_date:"",end_date:"",user_id:""}),w=mt({userId:"",startDate:"",endDate:"",page:1});dt(()=>{d.value&&y(),$(),M()}),t.setConfig({uri:"attendance",orderByDirection:"desc",orderBy:"date"}),t.fetch();async function y(){try{const G=await ue.get("attendance/users");o.value=G.data}catch{}}async function $(){try{const G=await ue.get("attendance/status");r.value=G.data.attendance,a.value=G.data.is_clocked_in}catch{}}async function b(){var G,Q;l.value=!0;try{await ue.post("attendance",{action:"clock_in"}),await $(),t.fetch(),alert(e("Clocked in successfully!"))}catch(J){const me=((Q=(G=J.response)==null?void 0:G.data)==null?void 0:Q.message)||e("Error clocking in. Please try again.");alert(me)}finally{l.value=!1}}async function S(){var G,Q;if(!r.value){alert(e("No attendance record found for today"));return}c.value=!0;try{await ue.patch(`attendance/${r.value.id}`,{action:"clock_out"}),await $(),t.fetch(),alert(e("Clocked out successfully!"))}catch(J){const me=((Q=(G=J.response)==null?void 0:G.data)==null?void 0:Q.message)||e("Error clocking out. Please try again.");alert(me)}finally{c.value=!1}}function M(){setTimeout(function(){if(t.fetching){M();return}E()},150)}function E(){n.value=!1}function H(G=null){Rt().add(GK,{id:G})}async function N(G){if(confirm(e("Are you sure you want to delete this attendance record?")))try{await ue.delete(`attendance/${G}`),t.fetch(),alert(e("Attendance record deleted successfully!"))}catch{alert(e("Error deleting record. Please try again."))}}function F(){n.value=!0;const G={};_.value.start_date&&(G.start_date=_.value.start_date),_.value.end_date&&(G.end_date=_.value.end_date),_.value.user_id&&(G.user_id=_.value.user_id),t.params={...t.params,...G},t.fetch(),M()}async function R(){try{const G=await ue.get("attendance/report");f.value=G.data}catch{}A()}async function A(){try{const G=new URLSearchParams;w.userId&&G.append("user_id",w.userId),w.startDate&&G.append("start_date",w.startDate),w.endDate&&G.append("end_date",w.endDate),G.append("page",String(w.page)),G.append("per_page",String(g.value.per_page));const Q=await ue.get(`attendance?${G}`);m.value=Q.data.data,g.value={current_page:Q.data.current_page,last_page:Q.data.last_page,per_page:Q.data.per_page,total:Q.data.total}}catch{}}function ee(){w.userId="",w.startDate="",w.endDate="",w.page=1,A()}function q(G){w.page=G,A()}async function _e(){try{const G=new URLSearchParams;w.userId&&G.append("user_id",w.userId),w.startDate&&G.append("start_date",w.startDate),w.endDate&&G.append("end_date",w.endDate);const Q=await ue.get(`attendance/export?${G}`,{responseType:"blob"}),J=window.URL.createObjectURL(new Blob([Q.data])),me=document.createElement("a");me.href=J,me.setAttribute("download",`attendance_report_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(me),me.click(),document.body.removeChild(me),window.URL.revokeObjectURL(J)}catch{}}function $e(G){return G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function ve(G){return G?new Date(G).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-"}function ge(G){if(!G)return"-";const Q=Math.floor(G/60),J=G%60;return`${Q}h ${J}m`}return(G,Q)=>n.value?(v(),k("div",XK,[T(p(Nt),{size:"40",color:"#5850ec"})])):(v(),k("div",JK,[d.value?(v(),k("div",QK,[i("nav",ZK,[i("button",{class:ae([u.value==="attendance"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:Q[0]||(Q[0]=J=>u.value="attendance")},h(p(e)("Attendance")),3),i("button",{class:ae([u.value==="reports"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:Q[1]||(Q[1]=J=>{u.value="reports",R()})},h(p(e)("Reports")),3)])])):P("",!0),W(i("div",null,[i("div",eY,[i("div",tY,[i("h3",sY,h(p(e)("Today's Attendance")),1)]),i("div",nY,[r.value?(v(),k("div",oY,[i("div",iY,[i("div",rY,[Q[13]||(Q[13]=i("svg",{class:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",aY,h(p(e)("Clock In")),1)]),i("p",lY,h(ve(r.value.clock_in)),1)]),i("div",cY,[i("div",dY,[Q[14]||(Q[14]=i("svg",{class:"mr-2 h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",uY,h(p(e)("Clock Out")),1)]),i("p",hY,h(r.value.clock_out?ve(r.value.clock_out):"-"),1)]),i("div",fY,[i("div",pY,[Q[15]||(Q[15]=i("svg",{class:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),i("span",mY,h(p(e)("Total Hours")),1)]),i("p",gY,h(r.value.total_hours?ge(r.value.total_hours):"-"),1)]),i("div",_Y,[a.value?(v(),se(p(Ue),{key:1,size:"lg",color:"red",disabled:c.value,onClick:S,class:"w-full"},{default:Y(()=>[Q[17]||(Q[17]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),te(" "+h(c.value?p(e)("Clocking Out..."):p(e)("Clock Out")),1)]),_:1},8,["disabled"])):(v(),se(p(Ue),{key:0,size:"lg",disabled:l.value,onClick:b,class:"w-full"},{default:Y(()=>[Q[16]||(Q[16]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),te(" "+h(l.value?p(e)("Clocking In..."):p(e)("Clock In")),1)]),_:1},8,["disabled"]))])])):(v(),k("div",vY,[i("div",yY,[Q[18]||(Q[18]=i("svg",{class:"mr-3 h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("div",null,[i("p",bY,h(p(e)("You have not clocked in today")),1),i("p",xY,h(p(e)("Click the button to start your work day")),1)])]),T(p(Ue),{size:"lg",disabled:l.value,onClick:b},{default:Y(()=>[Q[19]||(Q[19]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),te(" "+h(l.value?p(e)("Clocking In..."):p(e)("Clock In")),1)]),_:1},8,["disabled"])]))])]),d.value?(v(),k("div",wY,[i("div",kY,[W(i("input",{"onUpdate:modelValue":Q[2]||(Q[2]=J=>_.value.start_date=J),type:"date",placeholder:p(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,$Y),[[de,_.value.start_date]])]),i("div",CY,[W(i("input",{"onUpdate:modelValue":Q[3]||(Q[3]=J=>_.value.end_date=J),type:"date",placeholder:p(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,SY),[[de,_.value.end_date]])]),i("div",MY,[W(i("select",{"onUpdate:modelValue":Q[4]||(Q[4]=J=>_.value.user_id=J),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},[i("option",TY,h(p(e)("All Users")),1),(v(!0),k(he,null,ke(o.value,J=>(v(),k("option",{key:J.id,value:J.id},h(J.name),9,DY))),128))],544),[[qe,_.value.user_id]])])])):(v(),k("div",AY,[i("div",EY,[W(i("input",{"onUpdate:modelValue":Q[5]||(Q[5]=J=>_.value.start_date=J),type:"date",placeholder:p(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,PY),[[de,_.value.start_date]])]),i("div",OY,[W(i("input",{"onUpdate:modelValue":Q[6]||(Q[6]=J=>_.value.end_date=J),type:"date",placeholder:p(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F},null,40,RY),[[de,_.value.end_date]])])])),i("section",null,[T(p(Gc),{title:d.value?p(e)("Attendance Records"):p(e)("My Attendance")},{default:Y(()=>[d.value?(v(),k("div",LY,[T(p(Ue),{size:"sm","data-cy":"topbar-create-button",onClick:Q[7]||(Q[7]=J=>H())},{default:Y(()=>[te(h(p(e)("Add Attendance")),1)]),_:1})])):P("",!0)]),_:1},8,["title"]),i("div",IY,[i("div",jY,[i("div",FY,[i("div",NY,[i("table",zY,[i("thead",null,[i("tr",null,[d.value?(v(),se(p(He),{key:0,name:"attendance",index:p(t),label:p(e)("User"),sort:"user_id"},null,8,["index","label"])):P("",!0),T(p(He),{name:"attendance",index:p(t),label:p(e)("Date"),sort:"date"},null,8,["index","label"]),T(p(He),{name:"attendance",index:p(t),label:p(e)("Clock In"),sort:"clock_in"},null,8,["index","label"]),T(p(He),{name:"attendance",index:p(t),label:p(e)("Clock Out"),sort:"clock_out"},null,8,["index","label"]),T(p(He),{name:"attendance",index:p(t),label:p(e)("Total Hours")},null,8,["index","label"]),T(p(He),{name:"attendance",index:p(t),label:p(e)("Notes")},null,8,["index","label"]),d.value?(v(),k("th",BY)):P("",!0)])]),i("tbody",UY,[(v(!0),k(he,null,ke(p(t).data.data,J=>{var me;return v(),k("tr",{key:J.id},[d.value?(v(),k("td",HY,[i("div",VY,[J.user?(v(),se(p(ps),{key:0,class:"h-6 w-6",avatar:J.user.avatar},null,8,["avatar"])):P("",!0),i("span",WY,h(((me=J.user)==null?void 0:me.name)||"N/A"),1)])])):P("",!0),i("td",qY,h($e(J.date)),1),i("td",KY,h(ve(J.clock_in)),1),i("td",YY,h(J.clock_out?ve(J.clock_out):"-"),1),i("td",GY,h(ge(J.total_hours)),1),i("td",XY,[i("div",JY,h(J.notes||"-"),1)]),d.value?(v(),k("td",QY,[i("span",{class:"ml-2 cursor-pointer",onClick:xe=>H(J.id)},[T(p(Pr),{class:"w-5 text-gray-400 hover:text-gray-800"})],8,ZY),T(p(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et(xe=>N(J.id),["prevent"])},null,8,["onClick"])])):P("",!0)])}),128))])]),T(p(qs),{index:p(t)},null,8,["index"])])])])])])],512),[[Ht,u.value==="attendance"]]),d.value?W((v(),k("div",eG,[f.value?(v(),k("div",tG,[i("div",sG,[i("div",nG,[i("div",oG,[i("div",iG,[T(p(wd),{class:"h-6 w-6 text-blue-400"})]),i("div",rG,[i("dl",null,[i("dt",aG,h(p(e)("Present Today")),1),i("dd",lG,h(f.value.present_today),1)])])])])]),i("div",cG,[i("div",dG,[i("div",uG,[i("div",hG,[T(p(Co),{class:"h-6 w-6 text-green-400"})]),i("div",fG,[i("dl",null,[i("dt",pG,h(p(e)("Avg Hours Today")),1),i("dd",mG,h(f.value.avg_hours_today)+"h ",1)])])])])]),i("div",gG,[i("div",_G,[i("div",vG,[i("div",yG,[T(p(Qn),{class:"h-6 w-6 text-purple-400"})]),i("div",bG,[i("dl",null,[i("dt",xG,h(p(e)("This Month")),1),i("dd",wG,h(f.value.total_this_month),1)])])])])]),i("div",kG,[i("div",$G,[i("div",CG,[i("div",SG,[T(p(Df),{class:"h-6 w-6 text-yellow-400"})]),i("div",MG,[i("dl",null,[i("dt",TG,h(p(e)("Avg Monthly Hours")),1),i("dd",DG,h(f.value.avg_hours_month)+"h ",1)])])])])])])):P("",!0),i("div",AG,[i("div",EG,[W(i("select",{"onUpdate:modelValue":Q[8]||(Q[8]=J=>w.userId=J),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:A},[i("option",PG,h(p(e)("All Employees")),1),(v(!0),k(he,null,ke(o.value,J=>(v(),k("option",{key:J.id,value:J.id},h(J.name),9,OG))),128))],544),[[qe,w.userId]]),W(i("input",{"onUpdate:modelValue":Q[9]||(Q[9]=J=>w.startDate=J),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:A},null,544),[[de,w.startDate]]),W(i("input",{"onUpdate:modelValue":Q[10]||(Q[10]=J=>w.endDate=J),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:A},null,544),[[de,w.endDate]]),T(p(Ue),{white:"",onClick:ee},{default:Y(()=>[te(h(p(e)("Reset")),1)]),_:1})]),i("div",RG,[T(p(Ue),{white:"",onClick:_e},{default:Y(()=>[T(p(Af),{class:"mr-2 h-4 w-4"}),te(" "+h(p(e)("Export")),1)]),_:1})])]),i("section",null,[i("div",LG,[i("div",IG,[i("div",jG,[i("div",FG,[i("table",NG,[i("thead",null,[i("tr",null,[i("th",zG,h(p(e)("Employee")),1),i("th",BG,h(p(e)("Date")),1),i("th",UG,h(p(e)("Clock In")),1),i("th",HG,h(p(e)("Clock Out")),1),i("th",VG,h(p(e)("Total Hours")),1),i("th",WG,h(p(e)("Notes")),1)])]),i("tbody",qG,[(v(!0),k(he,null,ke(m.value,J=>{var me;return v(),k("tr",{key:J.id,class:"hover:bg-gray-50"},[i("td",KG,[i("div",YG,[J.user?(v(),se(p(ps),{key:0,user:J.user,size:"8"},null,8,["user"])):P("",!0),i("div",GG,[i("div",XG,h((me=J.user)==null?void 0:me.name),1)])])]),i("td",JG,h($e(J.date)),1),i("td",QG,h(ve(J.clock_in)),1),i("td",ZG,h(J.clock_out?ve(J.clock_out):"-"),1),i("td",eX,h(J.total_hours?ge(J.total_hours):"-"),1),i("td",tX,h(J.notes||"-"),1)])}),128)),m.value.length===0?(v(),k("tr",sX,[i("td",nX,h(p(e)("No records found")),1)])):P("",!0)])]),g.value.last_page>1?(v(),k("div",oX,[i("div",iX,[i("div",rX,h(p(e)("Page"))+" "+h(g.value.current_page)+" "+h(p(e)("of"))+" "+h(g.value.last_page),1),i("div",aX,[T(p(Ue),{white:"",size:"sm",disabled:g.value.current_page===1,onClick:Q[11]||(Q[11]=J=>q(g.value.current_page-1))},{default:Y(()=>[te(h(p(e)("Previous")),1)]),_:1},8,["disabled"]),T(p(Ue),{white:"",size:"sm",disabled:g.value.current_page===g.value.last_page,onClick:Q[12]||(Q[12]=J=>q(g.value.current_page+1))},{default:Y(()=>[te(h(p(e)("Next")),1)]),_:1},8,["disabled"])])])])):P("",!0)])])])])])],512)),[[Ht,u.value==="reports"]]):P("",!0)]))}}),dl=(s,e={})=>{const t=mt({...e}),n=mt({}),o=I(!1);let r=null;const a=async d=>{var u,f;o.value=!0,Object.keys(n).forEach(m=>delete n[m]);try{const m=r?"put":"post",g=r?`${s}/${r}`:s,_=await ue[m](g,t);return d&&d(),_}catch(m){if((f=(u=m.response)==null?void 0:u.data)!=null&&f.errors){const g=m.response.data.errors;Object.keys(g).forEach(_=>{n[_]=Array.isArray(g[_])?g[_][0]:g[_]})}throw m}finally{o.value=!1}},l=d=>{d.id&&(r=d.id),Object.keys(d).forEach(u=>{(u in t||u==="id")&&(t[u]=d[u])})},c=()=>{r=null,Object.keys(e).forEach(d=>{t[d]=e[d]}),Object.keys(n).forEach(d=>delete n[d])};return new Proxy(t,{get(d,u){return u==="submit"?a:u==="setData"?l:u==="reset"?c:u==="errors"?n:u==="processing"?o:u==="id"?r:d[u]},set(d,u,f){return d[u]=f,!0}})},cX={class:"space-y-6"},dX={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},uX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},hX={class:"mt-1 sm:col-span-2 sm:mt-0"},fX={value:""},pX=["value"],mX={key:0,class:"mt-2 text-sm text-red-600"},gX={class:"border-t border-gray-200 pt-6"},_X={class:"text-lg font-medium leading-6 text-gray-900"},vX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bX={class:"mt-1 sm:col-span-2 sm:mt-0"},xX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kX={class:"mt-1 sm:col-span-2 sm:mt-0"},$X={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},CX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},SX={class:"mt-1 sm:col-span-2 sm:mt-0"},MX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},TX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},DX={class:"mt-1 sm:col-span-2 sm:mt-0"},AX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},EX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},PX={class:"mt-1 sm:col-span-2 sm:mt-0"},OX={value:""},RX={value:"Male"},LX={value:"Female"},IX={value:"Other"},jX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},FX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},NX={class:"mt-1 sm:col-span-2 sm:mt-0"},zX={value:""},BX={value:"Single"},UX={value:"Married"},HX={value:"Divorced"},VX={value:"Widowed"},WX={class:"border-t border-gray-200 pt-6"},qX={class:"text-lg font-medium leading-6 text-gray-900"},KX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},YX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},GX={class:"mt-1 sm:col-span-2 sm:mt-0"},XX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},JX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},QX={class:"mt-1 sm:col-span-2 sm:mt-0"},ZX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},eJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},tJ={class:"mt-1 sm:col-span-2 sm:mt-0"},sJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},oJ={class:"mt-1 sm:col-span-2 sm:mt-0"},iJ={class:"border-t border-gray-200 pt-6"},rJ={class:"text-lg font-medium leading-6 text-gray-900"},aJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},lJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},cJ={class:"mt-1 sm:col-span-2 sm:mt-0"},dJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},uJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},hJ={class:"mt-1 sm:col-span-2 sm:mt-0"},fJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},pJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},mJ={class:"mt-1 sm:col-span-2 sm:mt-0"},gJ={value:""},_J=["value"],vJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bJ={class:"mt-1 sm:col-span-2 sm:mt-0"},xJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kJ={class:"mt-1 sm:col-span-2 sm:mt-0"},$J={value:"Permanent"},CJ={value:"Contract"},SJ={value:"Probation"},MJ={value:"Casual"},TJ={value:"Internship"},DJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},AJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},EJ={class:"mt-1 sm:col-span-2 sm:mt-0"},PJ={value:"Active"},OJ={value:"Resigned"},RJ={value:"Terminated"},LJ={value:"Retired"},IJ={value:"Deceased"},jJ={value:"On Leave"},FJ={value:"Suspended"},NJ={key:1,class:"space-y-6 border-t border-gray-200 pt-6"},zJ={class:"text-base font-medium text-gray-900"},BJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},HJ={class:"mt-1 sm:col-span-2 sm:mt-0"},VJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qJ={class:"mt-1 sm:col-span-2 sm:mt-0"},KJ={key:2,class:"space-y-6 border-t border-gray-200 pt-6"},YJ={class:"text-base font-medium text-gray-900"},GJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},XJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},JJ={class:"mt-1 sm:col-span-2 sm:mt-0"},QJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ZJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},eQ={class:"mt-1 sm:col-span-2 sm:mt-0"},tQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nQ={class:"mt-1 sm:col-span-2 sm:mt-0"},oQ={class:"border-t border-gray-200 pt-6"},iQ={class:"text-lg font-medium leading-6 text-gray-900"},rQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},aQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lQ={class:"mt-1 sm:col-span-2 sm:mt-0"},cQ={class:"flex gap-2"},dQ={class:"border-t border-gray-200 pt-6"},uQ={class:"text-lg font-medium leading-6 text-gray-900"},hQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},fQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pQ={class:"mt-1 sm:col-span-2 sm:mt-0"},mQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},gQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},_Q={class:"mt-1 sm:col-span-2 sm:mt-0"},vQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},yQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},bQ={class:"mt-1 sm:col-span-2 sm:mt-0"},xQ={class:"border-t border-gray-200 pt-6"},wQ={class:"text-lg font-medium leading-6 text-gray-900"},kQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$Q={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},CQ={class:"mt-1 sm:col-span-2 sm:mt-0"},SQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},MQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},TQ={class:"mt-1 sm:col-span-2 sm:mt-0"},DQ={class:"border-t border-gray-200 pt-6"},AQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},EQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},PQ={class:"mt-1 sm:col-span-2 sm:mt-0"},ab={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=I([]),r=I([]),a=dl("employees",{user_id:"",national_id:"",phone_number:"",physical_address:"",date_of_birth:"",gender:"",marital_status:"",next_of_kin_name:"",next_of_kin_relationship:"",next_of_kin_phone:"",next_of_kin_address:"",employment_date:"",employment_type:"Probation",contract_start_date:"",contract_end_date:"",probation_period_months:3,probation_end_date:"",confirmation_date:"",position:"",department:"",reports_to:"",current_salary:"",salary_currency:"MWK",employment_status:"Active",annual_leave_days:18,sick_leave_days:30,maternity_leave_days:56,tax_identification_number:"",pension_number:"",notes:""}),l=()=>{a.submit(()=>{n("close")})},c=async()=>{try{const u=await ue.get("employees/available-users");o.value=u.data.data}catch{}},d=async()=>{try{const u=await ue.get("employees/supervisors");r.value=u.data.data}catch{}};return Ft(()=>t.modelValue,u=>{u?a.setData(u):a.reset()},{immediate:!0}),dt(()=>{c(),d()}),(u,f)=>(v(),se(Mo,{"external-form":p(a),onSubmit:l,onCancel:f[30]||(f[30]=m=>n("close"))},{title:Y(()=>[te(h(p(a).id?u.__("Edit Employee Record"):u.__("Create Employee Record")),1)]),default:Y(()=>[i("div",cX,[p(a).id?P("",!0):(v(),k("div",dX,[i("label",uX,[te(h(u.__("User"))+" ",1),f[31]||(f[31]=i("span",{class:"text-red-500"},"*",-1))]),i("div",hX,[W(i("select",{"onUpdate:modelValue":f[0]||(f[0]=m=>p(a).user_id=m),class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.user_id}]),required:""},[i("option",fX,h(u.__("Select a user")),1),(v(!0),k(he,null,ke(o.value,m=>(v(),k("option",{key:m.id,value:m.id},h(m.name)+" ("+h(m.email)+") ",9,pX))),128))],2),[[qe,p(a).user_id]]),p(a).errors.user_id?(v(),k("p",mX,h(p(a).errors.user_id),1)):P("",!0)])])),i("div",gX,[i("h3",_X,h(u.__("Personal Information")),1)]),i("div",vX,[i("label",yX,h(u.__("National ID")),1),i("div",bX,[W(i("input",{"onUpdate:modelValue":f[1]||(f[1]=m=>p(a).national_id=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).national_id]])])]),i("div",xX,[i("label",wX,h(u.__("Phone Number")),1),i("div",kX,[W(i("input",{"onUpdate:modelValue":f[2]||(f[2]=m=>p(a).phone_number=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).phone_number]])])]),i("div",$X,[i("label",CX,h(u.__("Physical Address")),1),i("div",SX,[W(i("textarea",{"onUpdate:modelValue":f[3]||(f[3]=m=>p(a).physical_address=m),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).physical_address]])])]),i("div",MX,[i("label",TX,h(u.__("Date of Birth")),1),i("div",DX,[W(i("input",{"onUpdate:modelValue":f[4]||(f[4]=m=>p(a).date_of_birth=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).date_of_birth]])])]),i("div",AX,[i("label",EX,h(u.__("Gender")),1),i("div",PX,[W(i("select",{"onUpdate:modelValue":f[5]||(f[5]=m=>p(a).gender=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",OX,h(u.__("Select gender")),1),i("option",RX,h(u.__("Male")),1),i("option",LX,h(u.__("Female")),1),i("option",IX,h(u.__("Other")),1)],512),[[qe,p(a).gender]])])]),i("div",jX,[i("label",FX,h(u.__("Marital Status")),1),i("div",NX,[W(i("select",{"onUpdate:modelValue":f[6]||(f[6]=m=>p(a).marital_status=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",zX,h(u.__("Select status")),1),i("option",BX,h(u.__("Single")),1),i("option",UX,h(u.__("Married")),1),i("option",HX,h(u.__("Divorced")),1),i("option",VX,h(u.__("Widowed")),1)],512),[[qe,p(a).marital_status]])])]),i("div",WX,[i("h3",qX,h(u.__("Next of Kin")),1)]),i("div",KX,[i("label",YX,h(u.__("Name")),1),i("div",GX,[W(i("input",{"onUpdate:modelValue":f[7]||(f[7]=m=>p(a).next_of_kin_name=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).next_of_kin_name]])])]),i("div",XX,[i("label",JX,h(u.__("Relationship")),1),i("div",QX,[W(i("input",{"onUpdate:modelValue":f[8]||(f[8]=m=>p(a).next_of_kin_relationship=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).next_of_kin_relationship]])])]),i("div",ZX,[i("label",eJ,h(u.__("Phone")),1),i("div",tJ,[W(i("input",{"onUpdate:modelValue":f[9]||(f[9]=m=>p(a).next_of_kin_phone=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).next_of_kin_phone]])])]),i("div",sJ,[i("label",nJ,h(u.__("Address")),1),i("div",oJ,[W(i("textarea",{"onUpdate:modelValue":f[10]||(f[10]=m=>p(a).next_of_kin_address=m),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).next_of_kin_address]])])]),i("div",iJ,[i("h3",rJ,h(u.__("Employment Information")),1)]),i("div",aJ,[i("label",lJ,h(u.__("Position")),1),i("div",cJ,[W(i("input",{"onUpdate:modelValue":f[11]||(f[11]=m=>p(a).position=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).position]])])]),i("div",dJ,[i("label",uJ,h(u.__("Department")),1),i("div",hJ,[W(i("input",{"onUpdate:modelValue":f[12]||(f[12]=m=>p(a).department=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).department]])])]),i("div",fJ,[i("label",pJ,h(u.__("Reports To")),1),i("div",mJ,[W(i("select",{"onUpdate:modelValue":f[13]||(f[13]=m=>p(a).reports_to=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",gJ,h(u.__("Select supervisor")),1),(v(!0),k(he,null,ke(r.value,m=>(v(),k("option",{key:m.id,value:m.id},h(m.name),9,_J))),128))],512),[[qe,p(a).reports_to]])])]),i("div",vJ,[i("label",yJ,h(u.__("Employment Date")),1),i("div",bJ,[W(i("input",{"onUpdate:modelValue":f[14]||(f[14]=m=>p(a).employment_date=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).employment_date]])])]),i("div",xJ,[i("label",wJ,[te(h(u.__("Employment Type"))+" ",1),f[32]||(f[32]=i("span",{class:"text-red-500"},"*",-1))]),i("div",kJ,[W(i("select",{"onUpdate:modelValue":f[15]||(f[15]=m=>p(a).employment_type=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",$J,h(u.__("Permanent")),1),i("option",CJ,h(u.__("Contract")),1),i("option",SJ,h(u.__("Probation")),1),i("option",MJ,h(u.__("Casual")),1),i("option",TJ,h(u.__("Internship")),1)],512),[[qe,p(a).employment_type]])])]),i("div",DJ,[i("label",AJ,[te(h(u.__("Employment Status"))+" ",1),f[33]||(f[33]=i("span",{class:"text-red-500"},"*",-1))]),i("div",EJ,[W(i("select",{"onUpdate:modelValue":f[16]||(f[16]=m=>p(a).employment_status=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",PJ,h(u.__("Active")),1),i("option",OJ,h(u.__("Resigned")),1),i("option",RJ,h(u.__("Terminated")),1),i("option",LJ,h(u.__("Retired")),1),i("option",IJ,h(u.__("Deceased")),1),i("option",jJ,h(u.__("On Leave")),1),i("option",FJ,h(u.__("Suspended")),1)],512),[[qe,p(a).employment_status]])])]),p(a).employment_type==="Contract"?(v(),k("div",NJ,[i("h4",zJ,h(u.__("Contract Details")),1),i("div",BJ,[i("label",UJ,h(u.__("Contract Start Date")),1),i("div",HJ,[W(i("input",{"onUpdate:modelValue":f[17]||(f[17]=m=>p(a).contract_start_date=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).contract_start_date]])])]),i("div",VJ,[i("label",WJ,h(u.__("Contract End Date")),1),i("div",qJ,[W(i("input",{"onUpdate:modelValue":f[18]||(f[18]=m=>p(a).contract_end_date=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).contract_end_date]])])])])):P("",!0),p(a).employment_type==="Probation"?(v(),k("div",KJ,[i("h4",YJ,h(u.__("Probation Details")),1),i("div",GJ,[i("label",XJ,h(u.__("Probation Period (months)")),1),i("div",JJ,[W(i("input",{"onUpdate:modelValue":f[19]||(f[19]=m=>p(a).probation_period_months=m),type:"number",min:"1",max:"12",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).probation_period_months]])])]),i("div",QJ,[i("label",ZJ,h(u.__("Probation End Date")),1),i("div",eQ,[W(i("input",{"onUpdate:modelValue":f[20]||(f[20]=m=>p(a).probation_end_date=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).probation_end_date]])])]),i("div",tQ,[i("label",sQ,h(u.__("Confirmation Date")),1),i("div",nQ,[W(i("input",{"onUpdate:modelValue":f[21]||(f[21]=m=>p(a).confirmation_date=m),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).confirmation_date]])])])])):P("",!0),i("div",oQ,[i("h3",iQ,h(u.__("Salary Information")),1)]),i("div",rQ,[i("label",aQ,h(u.__("Current Salary")),1),i("div",lQ,[i("div",cQ,[W(i("input",{"onUpdate:modelValue":f[22]||(f[22]=m=>p(a).current_salary=m),type:"number",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).current_salary]]),W(i("select",{"onUpdate:modelValue":f[23]||(f[23]=m=>p(a).salary_currency=m),class:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...f[34]||(f[34]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1)])],512),[[qe,p(a).salary_currency]])])])]),i("div",dQ,[i("h3",uQ,h(u.__("Leave Entitlement")),1)]),i("div",hQ,[i("label",fQ,h(u.__("Annual Leave Days")),1),i("div",pQ,[W(i("input",{"onUpdate:modelValue":f[24]||(f[24]=m=>p(a).annual_leave_days=m),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).annual_leave_days]])])]),i("div",mQ,[i("label",gQ,h(u.__("Sick Leave Days")),1),i("div",_Q,[W(i("input",{"onUpdate:modelValue":f[25]||(f[25]=m=>p(a).sick_leave_days=m),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).sick_leave_days]])])]),i("div",vQ,[i("label",yQ,h(u.__("Maternity Leave Days")),1),i("div",bQ,[W(i("input",{"onUpdate:modelValue":f[26]||(f[26]=m=>p(a).maternity_leave_days=m),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).maternity_leave_days]])])]),i("div",xQ,[i("h3",wQ,h(u.__("Tax & Pension")),1)]),i("div",kQ,[i("label",$Q,h(u.__("Tax Identification Number")),1),i("div",CQ,[W(i("input",{"onUpdate:modelValue":f[27]||(f[27]=m=>p(a).tax_identification_number=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).tax_identification_number]])])]),i("div",SQ,[i("label",MQ,h(u.__("Pension Number")),1),i("div",TQ,[W(i("input",{"onUpdate:modelValue":f[28]||(f[28]=m=>p(a).pension_number=m),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).pension_number]])])]),i("div",DQ,[i("div",AQ,[i("label",EQ,h(u.__("Notes")),1),i("div",PQ,[W(i("textarea",{"onUpdate:modelValue":f[29]||(f[29]=m=>p(a).notes=m),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,p(a).notes]])])])])])]),_:1},8,["external-form"]))}},Do=(s,e={})=>{const t=s.split("/").pop()||"resource",n=ks(t)();return n.uri=s,e&&Object.assign(n.params,e),n.get=async()=>n.fetch(),n.deleteIt=async o=>{if(!confirm("Are you sure you want to delete this item?"))return!1;try{return await ue.delete(`${s}/${o}`),await n.fetch(),!0}catch{return!1}},n.prev=async()=>{if(n.currentPage>1)return n.currentPage--,n.fetch()},n.next=async()=>(n.currentPage++,n.fetch()),n},Ws=s=>{var e;return!s||gt.is_super_admin?!0:((e=gt.permissions)==null?void 0:e.includes(s))||!1},OQ={key:0,class:"mt-8 flex justify-center"},RQ={key:1},LQ={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},IQ={class:"overflow-hidden rounded-lg bg-white shadow"},jQ={class:"p-5"},FQ={class:"flex items-center"},NQ={class:"flex-shrink-0"},zQ={class:"ml-5 w-0 flex-1"},BQ={class:"truncate text-sm font-medium text-gray-500"},UQ={class:"text-lg font-semibold text-gray-900"},HQ={class:"overflow-hidden rounded-lg bg-white shadow"},VQ={class:"p-5"},WQ={class:"flex items-center"},qQ={class:"flex-shrink-0"},KQ={class:"ml-5 w-0 flex-1"},YQ={class:"truncate text-sm font-medium text-gray-500"},GQ={class:"text-lg font-semibold text-gray-900"},XQ={class:"overflow-hidden rounded-lg bg-white shadow"},JQ={class:"p-5"},QQ={class:"flex items-center"},ZQ={class:"flex-shrink-0"},eZ={class:"ml-5 w-0 flex-1"},tZ={class:"truncate text-sm font-medium text-gray-500"},sZ={class:"text-lg font-semibold text-gray-900"},nZ={class:"overflow-hidden rounded-lg bg-white shadow"},oZ={class:"p-5"},iZ={class:"flex items-center"},rZ={class:"flex-shrink-0"},aZ={class:"ml-5 w-0 flex-1"},lZ={class:"truncate text-sm font-medium text-gray-500"},cZ={class:"text-lg font-semibold text-gray-900"},dZ={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},uZ={class:"flex flex-1 gap-2"},hZ={class:"relative w-64 rounded-md shadow-sm"},fZ={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},pZ=["placeholder"],mZ={value:""},gZ=["value"],_Z={value:""},vZ=["value"],yZ={value:""},bZ=["value"],xZ={class:"ltr:ml-auto rtl:mr-auto"},wZ={class:"flex flex-col"},kZ={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},$Z={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},CZ={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},SZ={class:"min-w-full divide-y divide-gray-200"},MZ={class:"divide-y divide-gray-200 bg-white"},TZ=["onClick"],DZ={class:"whitespace-nowrap px-6 py-4"},AZ={class:"flex items-center"},EZ={class:"h-10 w-10 flex-shrink-0"},PZ={class:"ml-4"},OZ={class:"text-sm font-medium text-gray-900"},RZ={class:"text-sm text-gray-500"},LZ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},IZ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},jZ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},FZ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},NZ={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},zZ={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},BZ={__name:"Index",setup(s){const e=ai(),t=I(!0),n=I(null),o=I({departments:[],employment_types:[],employment_statuses:[]}),r=Do("employees",{search:"",employment_status:"",employment_type:"",department:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=mt({show:!1,model:null});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},d=(_=null)=>{a.model=_,a.show=!0},u=_=>{e.push(`/employees/${_}`)},f=_=>{var w;return!(!gt.is_super_admin||_.user_id===((w=gt.user)==null?void 0:w.id))},m=async _=>{var w,y,$;if(confirm(`Are you sure you want to login as ${((w=_.user)==null?void 0:w.name)||"this user"}?`))try{const b=await ue.post(`impersonate/${_.user_id}`);alert(b.data.message),window.location.href="/"}catch(b){alert((($=(y=b.response)==null?void 0:y.data)==null?void 0:$.message)||"Failed to impersonate user")}},g=async()=>{try{const _=await ue.get("employees/statistics");n.value=_.data.data}catch{}};return dt(async()=>{try{await r.get(),await g(),r.data&&r.data.filters&&(o.value=r.data.filters),t.value=!1}catch{t.value=!1}}),(_,w)=>t.value?(v(),k("div",OQ,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",RQ,[n.value?(v(),k("div",LQ,[i("div",IQ,[i("div",jQ,[i("div",FQ,[i("div",NQ,[T(p(wd),{class:"h-6 w-6 text-gray-400"})]),i("div",zQ,[i("dl",null,[i("dt",BQ,h(_.__("Total Employees")),1),i("dd",UQ,h(n.value.total_employees),1)])])])])]),i("div",HQ,[i("div",VQ,[i("div",WQ,[i("div",qQ,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",KQ,[i("dl",null,[i("dt",YQ,h(_.__("Active")),1),i("dd",GQ,h(n.value.active_employees),1)])])])])]),i("div",XQ,[i("div",JQ,[i("div",QQ,[i("div",ZQ,[T(p(Co),{class:"h-6 w-6 text-yellow-400"})]),i("div",eZ,[i("dl",null,[i("dt",tZ,h(_.__("On Probation")),1),i("dd",sZ,h(n.value.on_probation),1)])])])])]),i("div",nZ,[i("div",oZ,[i("div",iZ,[i("div",rZ,[T(p(rv),{class:"h-6 w-6 text-red-400"})]),i("div",aZ,[i("dl",null,[i("dt",lZ,h(_.__("Contracts Expiring")),1),i("dd",cZ,h(n.value.contracts_expiring_soon),1)])])])])])])):P("",!0),i("div",dZ,[i("div",uZ,[i("div",hZ,[i("div",fZ,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":w[0]||(w[0]=y=>p(r).params.search=y),type:"search",placeholder:_.__("Search employees..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,pZ),[[de,p(r).params.search]])]),W(i("select",{"onUpdate:modelValue":w[1]||(w[1]=y=>p(r).params.employment_status=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w[2]||(w[2]=y=>p(r).get())},[i("option",mZ,h(_.__("All Statuses")),1),(v(!0),k(he,null,ke(o.value.employment_statuses,y=>(v(),k("option",{key:y,value:y},h(_.__(y)),9,gZ))),128))],544),[[qe,p(r).params.employment_status]]),W(i("select",{"onUpdate:modelValue":w[3]||(w[3]=y=>p(r).params.employment_type=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w[4]||(w[4]=y=>p(r).get())},[i("option",_Z,h(_.__("All Types")),1),(v(!0),k(he,null,ke(o.value.employment_types,y=>(v(),k("option",{key:y,value:y},h(_.__(y)),9,vZ))),128))],544),[[qe,p(r).params.employment_type]]),W(i("select",{"onUpdate:modelValue":w[5]||(w[5]=y=>p(r).params.department=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:w[6]||(w[6]=y=>p(r).get())},[i("option",yZ,h(_.__("All Departments")),1),(v(!0),k(he,null,ke(o.value.departments,y=>(v(),k("option",{key:y,value:y},h(y),9,bZ))),128))],544),[[qe,p(r).params.department]])]),i("div",xZ,[p(Ws)("employee:create")?(v(),se(Ue,{key:0,size:"sm",onClick:w[7]||(w[7]=y=>d())},{default:Y(()=>[te(h(_.__("Add Employee")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",wZ,[i("div",kZ,[i("div",$Z,[i("div",CZ,[i("table",SZ,[i("thead",null,[i("tr",null,[T(He,{name:"employee",index:p(r),label:_.__("Name"),sort:"name"},null,8,["index","label"]),T(He,{name:"employee",index:p(r),label:_.__("Position"),sort:"position"},null,8,["index","label"]),T(He,{name:"employee",index:p(r),label:_.__("Department"),sort:"department"},null,8,["index","label"]),T(He,{name:"employee",index:p(r),label:_.__("Employment Type"),sort:"employment_type"},null,8,["index","label"]),T(He,{name:"employee",index:p(r),label:_.__("Status"),sort:"employment_status"},null,8,["index","label"]),T(He,{name:"employee",index:p(r),label:_.__("Employment Date"),sort:"employment_date"},null,8,["index","label"]),w[10]||(w[10]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",MZ,[(v(!0),k(he,null,ke(p(r).data.data,y=>(v(),k("tr",{key:y.id,class:"cursor-pointer hover:bg-gray-50",onClick:$=>u(y.id)},[i("td",DZ,[i("div",AZ,[i("div",EZ,[T(ps,{user:y.user,size:"10"},null,8,["user"])]),i("div",PZ,[i("div",OZ,h(y.user.name),1),i("div",RZ,h(y.user.email),1)])])]),i("td",LZ,h(y.position||"-"),1),i("td",IZ,h(y.department||"-"),1),i("td",jZ,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":y.employment_type==="Permanent","bg-blue-100 text-blue-800":y.employment_type==="Contract","bg-yellow-100 text-yellow-800":y.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(y.employment_type)}])},h(y.employment_type),3)]),i("td",FZ,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":y.employment_status==="Active","bg-yellow-100 text-yellow-800":y.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(y.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(y.employment_status)}])},h(y.employment_status),3)]),i("td",NZ,h(y.employment_date?new Date(y.employment_date).toLocaleDateString():"-"),1),i("td",zZ,[f(y)?(v(),se(p(cv),{key:0,class:"w-5 cursor-pointer text-indigo-400 hover:text-indigo-600",title:_.__("Login as this user"),onClick:et($=>m(y),["stop"])},null,8,["title","onClick"])):P("",!0),p(Ws)("employee:update")?(v(),se(p(So),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et($=>d(y),["stop"])},null,8,["onClick"])):P("",!0),p(Ws)("employee:delete")?(v(),se(p(ls),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:et($=>p(r).deleteIt(y.id),["stop"])},null,8,["onClick"])):P("",!0)])],8,TZ))),128))])]),T(qs,{index:p(r)},null,8,["index"])])])])])]),a.show?(v(),se(Fs,{key:1,size:"2xl",onSaved:w[9]||(w[9]=y=>p(r).get())},{default:Y(()=>[T(ab,{"model-value":a.model,onClose:w[8]||(w[8]=y=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}},UZ={key:0,class:"mt-8 flex justify-center"},HZ={key:1,class:"space-y-6"},VZ={class:"flex items-center justify-between"},WZ={class:"flex items-center space-x-4"},qZ={class:"text-2xl font-bold text-gray-900"},KZ={class:"flex space-x-2"},YZ={class:"flex space-x-2"},GZ={class:"inline-flex rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800"},XZ={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},JZ={class:"lg:col-span-2 space-y-6"},QZ={class:"overflow-hidden bg-white shadow sm:rounded-lg"},ZZ={class:"px-4 py-5 sm:px-6"},eee={class:"text-lg font-medium leading-6 text-gray-900"},tee={class:"border-t border-gray-200"},see={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},nee={class:"text-sm font-medium text-gray-500"},oee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},iee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ree={class:"text-sm font-medium text-gray-500"},aee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},lee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},cee={class:"text-sm font-medium text-gray-500"},dee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},uee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},hee={class:"text-sm font-medium text-gray-500"},fee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},pee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},mee={class:"text-sm font-medium text-gray-500"},gee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},_ee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},vee={class:"text-sm font-medium text-gray-500"},yee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},bee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},xee={class:"text-sm font-medium text-gray-500"},wee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},kee={class:"overflow-hidden bg-white shadow sm:rounded-lg"},$ee={class:"px-4 py-5 sm:px-6"},Cee={class:"text-lg font-medium leading-6 text-gray-900"},See={class:"border-t border-gray-200"},Mee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Tee={class:"text-sm font-medium text-gray-500"},Dee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Aee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Eee={class:"text-sm font-medium text-gray-500"},Pee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Oee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ree={class:"text-sm font-medium text-gray-500"},Lee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Iee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},jee={class:"text-sm font-medium text-gray-500"},Fee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Nee={key:0,class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},zee={class:"text-sm font-medium text-gray-500"},Bee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Uee={key:1,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Hee={class:"text-sm font-medium text-gray-500"},Vee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Wee={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},qee={class:"px-4 py-5 sm:px-6"},Kee={class:"text-lg font-medium leading-6 text-gray-900"},Yee={class:"border-t border-gray-200"},Gee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Xee={class:"text-sm font-medium text-gray-500"},Jee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Qee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Zee={class:"text-sm font-medium text-gray-500"},ete={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},tte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ste={class:"text-sm font-medium text-gray-500"},nte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ote={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ite={class:"text-sm font-medium text-gray-500"},rte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ate={class:"space-y-6"},lte={class:"overflow-hidden bg-white shadow sm:rounded-lg"},cte={class:"px-4 py-5 sm:p-6"},dte={class:"mb-4 text-base font-medium text-gray-900"},ute={class:"space-y-3"},hte={class:"flex items-center justify-between"},fte={class:"text-sm text-gray-500"},pte={class:"text-sm font-semibold text-gray-900"},mte={class:"flex items-center justify-between"},gte={class:"text-sm text-gray-500"},_te={class:"text-sm font-semibold text-gray-900"},vte={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},yte={class:"px-4 py-5 sm:p-6"},bte={class:"mb-2 text-base font-medium text-gray-900"},xte={class:"text-2xl font-bold text-gray-900"},wte={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg"},kte={class:"px-4 py-5 sm:p-6"},$te={class:"mb-4 text-base font-medium text-gray-900"},Cte={class:"space-y-3"},Ste={key:0},Mte={class:"text-sm text-gray-500"},Tte={class:"text-sm font-semibold text-gray-900"},Dte={key:1},Ate={class:"text-sm text-gray-500"},Ete={class:"text-sm font-semibold text-gray-900"},Pte={key:2,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Ote={class:"px-4 py-5 sm:p-6"},Rte={class:"mb-2 text-base font-medium text-gray-900"},Lte={class:"text-sm text-gray-700 whitespace-pre-wrap"},Ite={__name:"Detail",setup(s){const e=wf(),t=I(!0),n=I(null),o=I(!1),r=async()=>{try{t.value=!0;const l=await ue.get(`employees/${e.params.id}`);n.value=l.data.data}catch{}finally{t.value=!1}},a=()=>{o.value=!0};return dt(()=>{r()}),(l,c)=>{var d;return t.value?(v(),k("div",UZ,[T(Nt,{size:"40",color:"#5850ec"})])):n.value?(v(),k("div",HZ,[i("div",VZ,[i("div",WZ,[i("button",{onClick:c[0]||(c[0]=u=>l.$router.back()),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},"  "+h(l.__("Back")),1),i("h1",qZ,h(n.value.user.name),1)]),i("div",KZ,[p(Ws)("employee:update")?(v(),se(Ue,{key:0,variant:"secondary",onClick:a},{default:Y(()=>[te(h(l.__("Edit")),1)]),_:1})):P("",!0)])]),i("div",YZ,[i("span",{class:ae(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",{"bg-green-100 text-green-800":n.value.employment_status==="Active","bg-red-100 text-red-800":["Resigned","Terminated"].includes(n.value.employment_status),"bg-gray-100 text-gray-800":!["Active","Resigned","Terminated"].includes(n.value.employment_status)}])},h(n.value.employment_status),3),i("span",GZ,h(n.value.employment_type),1)]),i("div",XZ,[i("div",JZ,[i("div",QZ,[i("div",ZZ,[i("h3",eee,h(l.__("Personal Information")),1)]),i("div",tee,[i("dl",null,[i("div",see,[i("dt",nee,h(l.__("Email")),1),i("dd",oee,h(n.value.user.email),1)]),i("div",iee,[i("dt",ree,h(l.__("National ID")),1),i("dd",aee,h(n.value.national_id||"-"),1)]),i("div",lee,[i("dt",cee,h(l.__("Phone")),1),i("dd",dee,h(n.value.phone_number||"-"),1)]),i("div",uee,[i("dt",hee,h(l.__("Address")),1),i("dd",fee,h(n.value.physical_address||"-"),1)]),i("div",pee,[i("dt",mee,h(l.__("Date of Birth")),1),i("dd",gee,h(n.value.date_of_birth?new Date(n.value.date_of_birth).toLocaleDateString():"-"),1)]),i("div",_ee,[i("dt",vee,h(l.__("Gender")),1),i("dd",yee,h(n.value.gender||"-"),1)]),i("div",bee,[i("dt",xee,h(l.__("Marital Status")),1),i("dd",wee,h(n.value.marital_status||"-"),1)])])])]),i("div",kee,[i("div",$ee,[i("h3",Cee,h(l.__("Employment Information")),1)]),i("div",See,[i("dl",null,[i("div",Mee,[i("dt",Tee,h(l.__("Position")),1),i("dd",Dee,h(n.value.position||"-"),1)]),i("div",Aee,[i("dt",Eee,h(l.__("Department")),1),i("dd",Pee,h(n.value.department||"-"),1)]),i("div",Oee,[i("dt",Ree,h(l.__("Reports To")),1),i("dd",Lee,h(((d=n.value.supervisor)==null?void 0:d.name)||"-"),1)]),i("div",Iee,[i("dt",jee,h(l.__("Employment Date")),1),i("dd",Fee,h(n.value.employment_date?new Date(n.value.employment_date).toLocaleDateString():"-"),1)]),n.value.contract_start_date?(v(),k("div",Nee,[i("dt",zee,h(l.__("Contract Period")),1),i("dd",Bee,h(new Date(n.value.contract_start_date).toLocaleDateString())+" - "+h(n.value.contract_end_date?new Date(n.value.contract_end_date).toLocaleDateString():"Ongoing"),1)])):P("",!0),n.value.probation_end_date?(v(),k("div",Uee,[i("dt",Hee,h(l.__("Probation End Date")),1),i("dd",Vee,h(new Date(n.value.probation_end_date).toLocaleDateString()),1)])):P("",!0)])])]),n.value.next_of_kin_name?(v(),k("div",Wee,[i("div",qee,[i("h3",Kee,h(l.__("Next of Kin")),1)]),i("div",Yee,[i("dl",null,[i("div",Gee,[i("dt",Xee,h(l.__("Name")),1),i("dd",Jee,h(n.value.next_of_kin_name),1)]),i("div",Qee,[i("dt",Zee,h(l.__("Relationship")),1),i("dd",ete,h(n.value.next_of_kin_relationship||"-"),1)]),i("div",tte,[i("dt",ste,h(l.__("Phone")),1),i("dd",nte,h(n.value.next_of_kin_phone||"-"),1)]),i("div",ote,[i("dt",ite,h(l.__("Address")),1),i("dd",rte,h(n.value.next_of_kin_address||"-"),1)])])])])):P("",!0)]),i("div",ate,[i("div",lte,[i("div",cte,[i("h3",dte,h(l.__("Leave Balance")),1),i("div",ute,[i("div",hte,[i("span",fte,h(l.__("Annual Leave")),1),i("span",pte,h(n.value.leave_balance_annual)+" / "+h(n.value.annual_leave_days)+" "+h(l.__("days")),1)]),i("div",mte,[i("span",gte,h(l.__("Sick Leave")),1),i("span",_te,h(n.value.leave_balance_sick)+" / "+h(n.value.sick_leave_days)+" "+h(l.__("days")),1)])])])]),n.value.current_salary?(v(),k("div",vte,[i("div",yte,[i("h3",bte,h(l.__("Current Salary")),1),i("p",xte,h(new Intl.NumberFormat().format(n.value.current_salary))+" "+h(n.value.salary_currency),1)])])):P("",!0),n.value.tax_identification_number||n.value.pension_number?(v(),k("div",wte,[i("div",kte,[i("h3",$te,h(l.__("Tax & Pension")),1),i("div",Cte,[n.value.tax_identification_number?(v(),k("div",Ste,[i("span",Mte,h(l.__("TIN")),1),i("p",Tte,h(n.value.tax_identification_number),1)])):P("",!0),n.value.pension_number?(v(),k("div",Dte,[i("span",Ate,h(l.__("Pension Number")),1),i("p",Ete,h(n.value.pension_number),1)])):P("",!0)])])])):P("",!0),n.value.notes?(v(),k("div",Pte,[i("div",Ote,[i("h3",Rte,h(l.__("Notes")),1),i("p",Lte,h(n.value.notes),1)])])):P("",!0)])]),T(Fs,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=u=>o.value=u),size:"2xl",onSaved:r},{default:Y(()=>[T(ab,{"model-value":n.value,onClose:c[1]||(c[1]=u=>o.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])])):P("",!0)}}},jte={class:"space-y-6"},Fte={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Nte={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},zte={class:"mt-1 sm:col-span-2 sm:mt-0"},Bte={value:""},Ute={value:"Annual Leave"},Hte={value:"Sick Leave"},Vte={value:"Maternity Leave"},Wte={value:"Paternity Leave"},qte={value:"Unpaid Leave"},Kte={value:"Compassionate Leave"},Yte={value:"Study Leave"},Gte={key:0,class:"mt-2 text-sm text-red-600"},Xte={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Jte={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Qte={class:"mt-1 sm:col-span-2 sm:mt-0"},Zte=["min"],ese={key:0,class:"mt-2 text-sm text-red-600"},tse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nse={class:"mt-1 sm:col-span-2 sm:mt-0"},ose=["min"],ise={key:0,class:"mt-2 text-sm text-red-600"},rse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ase={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lse={class:"mt-1 sm:col-span-2 sm:mt-0"},cse={key:0,class:"mt-2 text-sm text-red-600"},dse={class:"mt-1 text-sm text-gray-500"},use={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},fse={class:"mt-1 sm:col-span-2 sm:mt-0"},pse={class:"flex items-center"},mse={class:"ml-2 block text-sm text-gray-900"},gse={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_se={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vse={class:"mt-1 sm:col-span-2 sm:mt-0"},yse={value:""},bse={value:"morning"},xse={value:"afternoon"},wse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},kse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$se={class:"mt-1 sm:col-span-2 sm:mt-0"},Cse=["placeholder"],Sse={key:0,class:"mt-2 text-sm text-red-600"},Mse={key:1,class:"rounded-md bg-blue-50 p-4"},Tse={class:"flex"},Dse={class:"flex-shrink-0"},Ase={class:"ml-3 flex-1"},Ese={class:"text-sm font-medium text-blue-800"},Pse={class:"mt-2 text-sm text-blue-700"},Ose={key:0},Rse={key:1},Lse={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=I(null),r=Le(()=>new Date().toISOString().split("T")[0]),a=dl("leaves",{leave_type:"",start_date:"",end_date:"",days:1,is_half_day:!1,half_day_period:"",reason:""}),l=()=>{if(a.start_date&&a.end_date){const f=new Date(a.start_date),m=new Date(a.end_date),g=Math.abs(m-f),_=Math.ceil(g/(1e3*60*60*24))+1;a.is_half_day?a.days=.5:a.days=_}},c=()=>{a.is_half_day?(a.end_date=a.start_date,a.days=.5):(a.half_day_period="",l())},d=()=>{a.submit(()=>{n("close")})},u=async()=>{try{const f=await ue.get("profile/create");f.data.employee_record&&(o.value={annual:f.data.employee_record.leave_balance_annual??0,sick:f.data.employee_record.leave_balance_sick??0})}catch{}};return Ft(()=>t.modelValue,f=>{f?a.setData({...f,start_date:f.start_date.split("T")[0],end_date:f.end_date.split("T")[0]}):a.reset()},{immediate:!0}),dt(()=>{u()}),(f,m)=>(v(),se(Mo,{"external-form":p(a),onSubmit:d,onCancel:m[7]||(m[7]=g=>n("close"))},{title:Y(()=>[te(h(p(a).id?f.__("Edit Leave Request"):f.__("Request Leave")),1)]),default:Y(()=>[i("div",jte,[i("div",Fte,[i("label",Nte,[te(h(f.__("Leave Type"))+" ",1),m[8]||(m[8]=i("span",{class:"text-red-500"},"*",-1))]),i("div",zte,[W(i("select",{"onUpdate:modelValue":m[0]||(m[0]=g=>p(a).leave_type=g),class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.leave_type}]),required:""},[i("option",Bte,h(f.__("Select leave type")),1),i("option",Ute,h(f.__("Annual Leave")),1),i("option",Hte,h(f.__("Sick Leave")),1),i("option",Vte,h(f.__("Maternity Leave")),1),i("option",Wte,h(f.__("Paternity Leave")),1),i("option",qte,h(f.__("Unpaid Leave")),1),i("option",Kte,h(f.__("Compassionate Leave")),1),i("option",Yte,h(f.__("Study Leave")),1)],2),[[qe,p(a).leave_type]]),p(a).errors.leave_type?(v(),k("p",Gte,h(p(a).errors.leave_type),1)):P("",!0)])]),i("div",Xte,[i("label",Jte,[te(h(f.__("Start Date"))+" ",1),m[9]||(m[9]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Qte,[W(i("input",{"onUpdate:modelValue":m[1]||(m[1]=g=>p(a).start_date=g),type:"date",min:r.value,class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.start_date}]),required:"",onChange:l},null,42,Zte),[[de,p(a).start_date]]),p(a).errors.start_date?(v(),k("p",ese,h(p(a).errors.start_date),1)):P("",!0)])]),i("div",tse,[i("label",sse,[te(h(f.__("End Date"))+" ",1),m[10]||(m[10]=i("span",{class:"text-red-500"},"*",-1))]),i("div",nse,[W(i("input",{"onUpdate:modelValue":m[2]||(m[2]=g=>p(a).end_date=g),type:"date",min:p(a).start_date||r.value,class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.end_date}]),required:"",onChange:l},null,42,ose),[[de,p(a).end_date]]),p(a).errors.end_date?(v(),k("p",ise,h(p(a).errors.end_date),1)):P("",!0)])]),i("div",rse,[i("label",ase,[te(h(f.__("Number of Days"))+" ",1),m[11]||(m[11]=i("span",{class:"text-red-500"},"*",-1))]),i("div",lse,[W(i("input",{"onUpdate:modelValue":m[3]||(m[3]=g=>p(a).days=g),type:"number",step:"0.5",min:"0.5",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.days}]),required:"",readonly:""},null,2),[[de,p(a).days]]),p(a).errors.days?(v(),k("p",cse,h(p(a).errors.days),1)):P("",!0),i("p",dse,h(f.__("Automatically calculated based on start and end dates")),1)])]),i("div",use,[i("label",hse,h(f.__("Half Day")),1),i("div",fse,[i("div",pse,[W(i("input",{"onUpdate:modelValue":m[4]||(m[4]=g=>p(a).is_half_day=g),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:c},null,544),[[ys,p(a).is_half_day]]),i("label",mse,h(f.__("This is a half day leave")),1)])])]),p(a).is_half_day?(v(),k("div",gse,[i("label",_se,[te(h(f.__("Half Day Period"))+" ",1),m[12]||(m[12]=i("span",{class:"text-red-500"},"*",-1))]),i("div",vse,[W(i("select",{"onUpdate:modelValue":m[5]||(m[5]=g=>p(a).half_day_period=g),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",yse,h(f.__("Select period")),1),i("option",bse,h(f.__("Morning")),1),i("option",xse,h(f.__("Afternoon")),1)],512),[[qe,p(a).half_day_period]])])])):P("",!0),i("div",wse,[i("label",kse,[te(h(f.__("Reason"))+" ",1),m[13]||(m[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",$se,[W(i("textarea",{"onUpdate:modelValue":m[6]||(m[6]=g=>p(a).reason=g),rows:"4",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(a).errors.reason}]),placeholder:f.__("Please provide a detailed reason for your leave request"),required:""},null,10,Cse),[[de,p(a).reason]]),p(a).errors.reason?(v(),k("p",Sse,h(p(a).errors.reason),1)):P("",!0)])]),o.value?(v(),k("div",Mse,[i("div",Tse,[i("div",Dse,[T(p(A4),{class:"h-5 w-5 text-blue-400"})]),i("div",Ase,[i("h3",Ese,h(f.__("Your Leave Balance")),1),i("div",Pse,[p(a).leave_type==="Annual Leave"?(v(),k("p",Ose,h(f.__("Annual Leave Balance:"))+" "+h(o.value.annual)+" "+h(f.__("days")),1)):p(a).leave_type==="Sick Leave"?(v(),k("p",Rse,h(f.__("Sick Leave Balance:"))+" "+h(o.value.sick)+" "+h(f.__("days")),1)):P("",!0)])])])])):P("",!0)])]),_:1},8,["external-form"]))}},Ise={key:0,class:"mt-8 flex justify-center"},jse={key:1},Fse={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Nse={class:"overflow-hidden rounded-lg bg-white shadow"},zse={class:"p-5"},Bse={class:"flex items-center"},Use={class:"flex-shrink-0"},Hse={class:"ml-5 w-0 flex-1"},Vse={class:"truncate text-sm font-medium text-gray-500"},Wse={class:"text-lg font-semibold text-gray-900"},qse={class:"overflow-hidden rounded-lg bg-white shadow"},Kse={class:"p-5"},Yse={class:"flex items-center"},Gse={class:"flex-shrink-0"},Xse={class:"ml-5 w-0 flex-1"},Jse={class:"truncate text-sm font-medium text-gray-500"},Qse={class:"text-lg font-semibold text-gray-900"},Zse={class:"overflow-hidden rounded-lg bg-white shadow"},ene={class:"p-5"},tne={class:"flex items-center"},sne={class:"flex-shrink-0"},nne={class:"ml-5 w-0 flex-1"},one={class:"truncate text-sm font-medium text-gray-500"},ine={class:"text-lg font-semibold text-gray-900"},rne={class:"overflow-hidden rounded-lg bg-white shadow"},ane={class:"p-5"},lne={class:"flex items-center"},cne={class:"flex-shrink-0"},dne={class:"ml-5 w-0 flex-1"},une={class:"truncate text-sm font-medium text-gray-500"},hne={class:"text-lg font-semibold text-gray-900"},fne={class:"mb-6"},pne={class:"border-b border-gray-200"},mne={class:"-mb-px flex space-x-8"},gne={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},_ne={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},vne={class:"flex flex-1 gap-2"},yne={class:"relative w-64 rounded-md shadow-sm"},bne={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},xne=["placeholder"],wne={value:""},kne={value:"pending"},$ne={value:"approved"},Cne={value:"rejected"},Sne={value:""},Mne={value:"Annual Leave"},Tne={value:"Sick Leave"},Dne={value:"Maternity Leave"},Ane={value:"Paternity Leave"},Ene={value:"Unpaid Leave"},Pne={class:"ltr:ml-auto rtl:mr-auto"},One={class:"flex flex-col"},Rne={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Lne={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Ine={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},jne={class:"min-w-full divide-y divide-gray-200"},Fne={class:"divide-y divide-gray-200 bg-white"},Nne={key:0,class:"whitespace-nowrap px-6 py-4"},zne={class:"flex items-center"},Bne={class:"h-10 w-10 flex-shrink-0"},Une={class:"ml-4"},Hne={class:"text-sm font-medium text-gray-900"},Vne={class:"text-sm text-gray-500"},Wne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},qne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Kne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Yne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Gne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Xne={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Jne={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Qne={class:"p-6"},Zne={class:"flex items-center justify-between mb-4"},eoe={class:"text-lg font-semibold text-gray-900"},toe={key:0,class:"space-y-4"},soe={class:"grid grid-cols-2 gap-4"},noe={class:"block text-sm font-medium text-gray-700"},ooe={class:"mt-1 text-sm text-gray-900"},ioe={class:"block text-sm font-medium text-gray-700"},roe={class:"mt-1 text-sm text-gray-900"},aoe={class:"block text-sm font-medium text-gray-700"},loe={class:"mt-1 text-sm text-gray-900"},coe={class:"block text-sm font-medium text-gray-700"},doe={class:"mt-1 text-sm text-gray-900"},uoe={class:"block text-sm font-medium text-gray-700"},hoe={class:"mt-1 text-sm text-gray-900"},foe={class:"block text-sm font-medium text-gray-700"},poe={class:"mt-1"},moe={class:"block text-sm font-medium text-gray-700"},goe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},_oe={key:0},voe={class:"block text-sm font-medium text-gray-700"},yoe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},boe={key:1},xoe={class:"block text-sm font-medium text-gray-700"},woe={class:"mt-1 text-sm text-gray-900"},koe={class:"text-sm text-gray-500"},$oe={class:"mt-6 flex justify-end"},Coe={class:"p-6"},Soe={class:"flex items-center justify-between mb-4"},Moe={class:"text-lg font-semibold text-gray-900"},Toe={class:"space-y-4"},Doe={class:"text-sm text-gray-700"},Aoe={class:"block text-sm font-medium text-gray-700"},Eoe=["required"],Poe={class:"mt-6 flex justify-end space-x-3"},Ooe={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I("my-leaves"),o=I(null),r=Do("leaves",{search:"",status:"",leave_type:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=mt({show:!1,model:null}),l=mt({show:!1,leave:null}),c=mt({show:!1,action:null,leave:null,notes:""});let d=null;const u=()=>{clearTimeout(d),d=setTimeout(()=>{r.get()},300)},f=(b=null)=>{a.model=b,a.show=!0},m=b=>{l.leave=b,l.show=!0},g=b=>{c.leave=b,c.action="approve",c.notes="",c.show=!0},_=b=>{c.leave=b,c.action="reject",c.notes="",c.show=!0},w=async()=>{var b,S;try{const M=c.action==="approve"?"approve":"reject";await ue.post(`leaves/${c.leave.id}/${M}`,{admin_notes:c.notes}),c.show=!1,r.get(),y()}catch(M){alert(((S=(b=M.response)==null?void 0:b.data)==null?void 0:S.message)||"Failed to process leave request")}},y=async()=>{try{const b=await ue.get("leaves/statistics");t.value=b.data.data}catch{}},$=()=>{var b;o.value=(b=gt.user)==null?void 0:b.id};return Ft(n,b=>{b==="my-leaves"?r.params.user_id=o.value:(b==="pending-approvals"&&(r.params.status="pending"),r.params.user_id=""),r.get()}),dt(async()=>{$(),r.params.user_id=o.value,await r.get(),await y(),e.value=!1}),(b,S)=>e.value?(v(),k("div",Ise,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",jse,[t.value?(v(),k("div",Fse,[i("div",Nse,[i("div",zse,[i("div",Bse,[i("div",Use,[T(p(Co),{class:"h-6 w-6 text-yellow-400"})]),i("div",Hse,[i("dl",null,[i("dt",Vse,h(b.__("Pending")),1),i("dd",Wse,h(t.value.pending),1)])])])])]),i("div",qse,[i("div",Kse,[i("div",Yse,[i("div",Gse,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",Xse,[i("dl",null,[i("dt",Jse,h(b.__("Approved")),1),i("dd",Qse,h(t.value.approved),1)])])])])]),i("div",Zse,[i("div",ene,[i("div",tne,[i("div",sne,[T(p(On),{class:"h-6 w-6 text-red-400"})]),i("div",nne,[i("dl",null,[i("dt",one,h(b.__("Rejected")),1),i("dd",ine,h(t.value.rejected),1)])])])])]),i("div",rne,[i("div",ane,[i("div",lne,[i("div",cne,[T(p(Qn),{class:"h-6 w-6 text-blue-400"})]),i("div",dne,[i("dl",null,[i("dt",une,h(b.__("This Month")),1),i("dd",hne,h(t.value.this_month)+" "+h(b.__("days")),1)])])])])])])):P("",!0),i("div",fne,[i("div",pne,[i("nav",mne,[i("button",{onClick:S[0]||(S[0]=M=>n.value="my-leaves"),class:ae([n.value==="my-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},h(b.__("My Leave Requests")),3),p(Ws)("leave:view-all")?(v(),k("button",{key:0,onClick:S[1]||(S[1]=M=>n.value="all-leaves"),class:ae([n.value==="all-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},h(b.__("All Requests")),3)):P("",!0),p(Ws)("leave:approve")?(v(),k("button",{key:1,onClick:S[2]||(S[2]=M=>n.value="pending-approvals"),class:ae([n.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},[te(h(b.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(v(),k("span",gne,h(t.value.pending),1)):P("",!0)],2)):P("",!0)])])]),i("div",_ne,[i("div",vne,[i("div",yne,[i("div",bne,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":S[3]||(S[3]=M=>p(r).params.search=M),type:"search",placeholder:b.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,xne),[[de,p(r).params.search]])]),W(i("select",{"onUpdate:modelValue":S[4]||(S[4]=M=>p(r).params.status=M),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[5]||(S[5]=M=>p(r).get())},[i("option",wne,h(b.__("All Statuses")),1),i("option",kne,h(b.__("Pending")),1),i("option",$ne,h(b.__("Approved")),1),i("option",Cne,h(b.__("Rejected")),1)],544),[[qe,p(r).params.status]]),W(i("select",{"onUpdate:modelValue":S[6]||(S[6]=M=>p(r).params.leave_type=M),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[7]||(S[7]=M=>p(r).get())},[i("option",Sne,h(b.__("All Types")),1),i("option",Mne,h(b.__("Annual Leave")),1),i("option",Tne,h(b.__("Sick Leave")),1),i("option",Dne,h(b.__("Maternity Leave")),1),i("option",Ane,h(b.__("Paternity Leave")),1),i("option",Ene,h(b.__("Unpaid Leave")),1)],544),[[qe,p(r).params.leave_type]])]),i("div",Pne,[p(Ws)("leave:create")?(v(),se(Ue,{key:0,size:"sm",onClick:S[8]||(S[8]=M=>f())},{default:Y(()=>[te(h(b.__("Request Leave")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",One,[i("div",Rne,[i("div",Lne,[i("div",Ine,[i("table",jne,[i("thead",null,[i("tr",null,[n.value!=="my-leaves"?(v(),se(He,{key:0,name:"leave",index:p(r),label:b.__("Employee")},null,8,["index","label"])):P("",!0),T(He,{name:"leave",index:p(r),label:b.__("Leave Type"),sort:"leave_type"},null,8,["index","label"]),T(He,{name:"leave",index:p(r),label:b.__("Start Date"),sort:"start_date"},null,8,["index","label"]),T(He,{name:"leave",index:p(r),label:b.__("End Date"),sort:"end_date"},null,8,["index","label"]),T(He,{name:"leave",index:p(r),label:b.__("Days"),sort:"days"},null,8,["index","label"]),T(He,{name:"leave",index:p(r),label:b.__("Status"),sort:"status"},null,8,["index","label"]),T(He,{name:"leave",index:p(r),label:b.__("Requested"),sort:"created_at"},null,8,["index","label"]),S[16]||(S[16]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",Fne,[(v(!0),k(he,null,ke(p(r).data.data,M=>(v(),k("tr",{key:M.id,class:"hover:bg-gray-50"},[n.value!=="my-leaves"?(v(),k("td",Nne,[i("div",zne,[i("div",Bne,[T(ps,{user:M.user,size:"10"},null,8,["user"])]),i("div",Une,[i("div",Hne,h(M.user.name),1),i("div",Vne,h(M.user.email),1)])])])):P("",!0),i("td",Wne,h(M.leave_type),1),i("td",qne,h(new Date(M.start_date).toLocaleDateString()),1),i("td",Kne,h(new Date(M.end_date).toLocaleDateString()),1),i("td",Yne,h(M.days)+" "+h(M.is_half_day?"(Half Day)":""),1),i("td",Gne,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":M.status==="pending","bg-green-100 text-green-800":M.status==="approved","bg-red-100 text-red-800":M.status==="rejected"}])},h(M.status.charAt(0).toUpperCase()+M.status.slice(1)),3)]),i("td",Xne,h(new Date(M.created_at).toLocaleDateString()),1),i("td",Jne,[n.value==="pending-approvals"&&M.status==="pending"?(v(),k(he,{key:0},[T(Ue,{size:"xs",variant:"success",onClick:E=>g(M)},{default:Y(()=>[te(h(b.__("Approve")),1)]),_:1},8,["onClick"]),T(Ue,{size:"xs",variant:"danger",class:"ml-2",onClick:E=>_(M)},{default:Y(()=>[te(h(b.__("Reject")),1)]),_:1},8,["onClick"])],64)):M.status==="pending"&&M.user_id===o.value?(v(),k(he,{key:1},[T(p(So),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:E=>f(M)},null,8,["onClick"]),T(p(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:E=>p(r).deleteIt(M.id)},null,8,["onClick"])],64)):P("",!0),T(p(qi),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:E=>m(M)},null,8,["onClick"])])]))),128))])]),T(qs,{index:p(r)},null,8,["index"])])])])])]),a.show?(v(),se(Fs,{key:1,size:"lg",onSaved:S[10]||(S[10]=M=>p(r).get())},{default:Y(()=>[T(Lse,{"model-value":a.model,onClose:S[9]||(S[9]=M=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),l.show?(v(),se(Zn,{key:2,width:"max-w-2xl"},{default:Y(()=>{var M,E;return[i("div",Qne,[i("div",Zne,[i("h3",eoe,h(b.__("Leave Request Details")),1),i("button",{onClick:S[11]||(S[11]=H=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),l.leave?(v(),k("div",toe,[i("div",soe,[i("div",null,[i("label",noe,h(b.__("Employee")),1),i("p",ooe,h((M=l.leave.user)==null?void 0:M.name),1)]),i("div",null,[i("label",ioe,h(b.__("Leave Type")),1),i("p",roe,h(l.leave.leave_type),1)]),i("div",null,[i("label",aoe,h(b.__("Start Date")),1),i("p",loe,h(new Date(l.leave.start_date).toLocaleDateString()),1)]),i("div",null,[i("label",coe,h(b.__("End Date")),1),i("p",doe,h(new Date(l.leave.end_date).toLocaleDateString()),1)]),i("div",null,[i("label",uoe,h(b.__("Days")),1),i("p",hoe,h(l.leave.days),1)]),i("div",null,[i("label",foe,h(b.__("Status")),1),i("p",poe,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.leave.status==="pending","bg-green-100 text-green-800":l.leave.status==="approved","bg-red-100 text-red-800":l.leave.status==="rejected"}])},h(l.leave.status.charAt(0).toUpperCase()+l.leave.status.slice(1)),3)])])]),i("div",null,[i("label",moe,h(b.__("Reason")),1),i("p",goe,h(l.leave.reason),1)]),l.leave.admin_notes?(v(),k("div",_oe,[i("label",voe,h(b.__("Admin Notes")),1),i("p",yoe,h(l.leave.admin_notes),1)])):P("",!0),l.leave.approved_by?(v(),k("div",boe,[i("label",xoe,h(b.__("Approved/Rejected By")),1),i("p",woe,h((E=l.leave.approved_by)==null?void 0:E.name),1),i("p",koe,h(new Date(l.leave.approved_at).toLocaleString()),1)])):P("",!0)])):P("",!0),i("div",$oe,[T(Ue,{onClick:S[12]||(S[12]=H=>l.show=!1)},{default:Y(()=>[te(h(b.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),c.show?(v(),se(Zn,{key:3,width:"max-w-md"},{default:Y(()=>[i("div",Coe,[i("div",Soe,[i("h3",Moe,h(c.action==="approve"?b.__("Approve Leave"):b.__("Reject Leave")),1),i("button",{onClick:S[13]||(S[13]=M=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),i("div",Toe,[i("p",Doe,h(c.action==="approve"?b.__("Are you sure you want to approve this leave request?"):b.__("Please provide a reason for rejection:")),1),i("div",null,[i("label",Aoe,h(c.action==="approve"?b.__("Admin Notes (Optional)"):b.__("Rejection Reason")),1),W(i("textarea",{"onUpdate:modelValue":S[14]||(S[14]=M=>c.notes=M),rows:"3",required:c.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Eoe),[[de,c.notes]])])]),i("div",Poe,[T(Ue,{white:"",onClick:S[15]||(S[15]=M=>c.show=!1)},{default:Y(()=>[te(h(b.__("Cancel")),1)]),_:1}),T(Ue,{class:ae(c.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:w,disabled:c.action==="reject"&&!c.notes},{default:Y(()=>[te(h(c.action==="approve"?b.__("Approve"):b.__("Reject")),1)]),_:1},8,["class","disabled"])])])]),_:1})):P("",!0)]))}},Roe={class:"space-y-6"},Loe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Ioe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},joe={class:"mt-1 sm:col-span-2 sm:mt-0"},Foe=["placeholder"],Noe={key:0,class:"mt-2 text-sm text-red-600"},zoe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Boe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Uoe={class:"mt-1 sm:col-span-2 sm:mt-0"},Hoe={key:0,class:"mt-2 text-sm text-red-600"},Voe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Woe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qoe={class:"mt-1 sm:col-span-2 sm:mt-0"},Koe=["placeholder"],Yoe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Goe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Xoe={class:"mt-1 sm:col-span-2 sm:mt-0"},Joe={class:"flex items-center"},Qoe={class:"ml-2 block text-sm text-gray-900"},Zoe={class:"mt-1 text-sm text-gray-500"},eie={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=dl("holidays",{name:"",date:"",description:"",is_recurring:!1}),r=()=>{o.submit(()=>{n("close")})};return Ft(()=>t.modelValue,a=>{a?o.setData({...a,date:a.date.split("T")[0]}):o.reset()},{immediate:!0}),(a,l)=>(v(),se(Mo,{"external-form":p(o),onSubmit:r,onCancel:l[4]||(l[4]=c=>n("close"))},{title:Y(()=>[te(h(p(o).id?a.__("Edit Holiday"):a.__("Add Holiday")),1)]),default:Y(()=>[i("div",Roe,[i("div",Loe,[i("label",Ioe,[te(h(a.__("Holiday Name"))+" ",1),l[5]||(l[5]=i("span",{class:"text-red-500"},"*",-1))]),i("div",joe,[W(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>p(o).name=c),type:"text",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(o).errors.name}]),placeholder:a.__("e.g., New Year's Day"),required:""},null,10,Foe),[[de,p(o).name]]),p(o).errors.name?(v(),k("p",Noe,h(p(o).errors.name),1)):P("",!0)])]),i("div",zoe,[i("label",Boe,[te(h(a.__("Date"))+" ",1),l[6]||(l[6]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Uoe,[W(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>p(o).date=c),type:"date",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(o).errors.date}]),required:""},null,2),[[de,p(o).date]]),p(o).errors.date?(v(),k("p",Hoe,h(p(o).errors.date),1)):P("",!0)])]),i("div",Voe,[i("label",Woe,h(a.__("Description")),1),i("div",qoe,[W(i("textarea",{"onUpdate:modelValue":l[2]||(l[2]=c=>p(o).description=c),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:a.__("Optional description")},null,8,Koe),[[de,p(o).description]])])]),i("div",Yoe,[i("label",Goe,h(a.__("Recurring")),1),i("div",Xoe,[i("div",Joe,[W(i("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>p(o).is_recurring=c),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ys,p(o).is_recurring]]),i("label",Qoe,h(a.__("This holiday recurs annually")),1)]),i("p",Zoe,h(a.__("Check this if the holiday repeats every year on the same date")),1)])])])]),_:1},8,["external-form"]))}},tie={key:0,class:"mt-8 flex justify-center"},sie={key:1},nie={class:"mb-6 flex items-center justify-between"},oie={class:"text-2xl font-bold text-gray-900"},iie={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},rie={class:"flex flex-1 gap-2"},aie={class:"relative w-64 rounded-md shadow-sm"},lie={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},cie=["placeholder"],die=["value"],uie=["value"],hie=["value"],fie={value:""},pie={value:"upcoming"},mie={value:"past"},gie={class:"ltr:ml-auto rtl:mr-auto"},_ie={class:"flex flex-col"},vie={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},yie={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},bie={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},xie={class:"min-w-full divide-y divide-gray-200"},wie={class:"divide-y divide-gray-200 bg-white"},kie={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},$ie={key:0,class:"ml-2 inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},Cie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Sie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Mie={class:"px-6 py-4 text-sm text-gray-500"},Tie={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},Die={__name:"Index",setup(s){const e=I(!0),t=new Date().getFullYear(),n=Do("holidays",{search:"",year:t,filter:"",sort_by:"date",sort_order:"asc",per_page:50}),o=mt({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{n.get()},300)},l=(c=null)=>{o.model=c,o.show=!0};return dt(async()=>{await n.get(),e.value=!1}),(c,d)=>e.value?(v(),k("div",tie,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",sie,[i("div",nie,[i("h1",oie,h(c.__("Company Holidays")),1)]),i("div",iie,[i("div",rie,[i("div",aie,[i("div",lie,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":d[0]||(d[0]=u=>p(n).params.search=u),type:"search",placeholder:c.__("Search holidays..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,cie),[[de,p(n).params.search]])]),W(i("select",{"onUpdate:modelValue":d[1]||(d[1]=u=>p(n).params.year=u),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d[2]||(d[2]=u=>p(n).get())},[i("option",{value:p(t)-1},h(p(t)-1),9,die),i("option",{value:p(t)},h(p(t)),9,uie),i("option",{value:p(t)+1},h(p(t)+1),9,hie)],544),[[qe,p(n).params.year]]),W(i("select",{"onUpdate:modelValue":d[3]||(d[3]=u=>p(n).params.filter=u),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d[4]||(d[4]=u=>p(n).get())},[i("option",fie,h(c.__("All")),1),i("option",pie,h(c.__("Upcoming")),1),i("option",mie,h(c.__("Past")),1)],544),[[qe,p(n).params.filter]])]),i("div",gie,[p(Ws)("holiday:create")?(v(),se(Ue,{key:0,size:"sm",onClick:d[5]||(d[5]=u=>l())},{default:Y(()=>[te(h(c.__("Add Holiday")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",_ie,[i("div",vie,[i("div",yie,[i("div",bie,[i("table",xie,[i("thead",null,[i("tr",null,[T(He,{name:"holiday",index:p(n),label:c.__("Name"),sort:"name"},null,8,["index","label"]),T(He,{name:"holiday",index:p(n),label:c.__("Date"),sort:"date"},null,8,["index","label"]),T(He,{name:"holiday",index:p(n),label:c.__("Day")},null,8,["index","label"]),T(He,{name:"holiday",index:p(n),label:c.__("Description")},null,8,["index","label"]),d[8]||(d[8]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",wie,[(v(!0),k(he,null,ke(p(n).data.data,u=>(v(),k("tr",{key:u.id,class:"hover:bg-gray-50"},[i("td",kie,[te(h(u.name)+" ",1),u.is_recurring?(v(),k("span",$ie,h(c.__("Recurring")),1)):P("",!0)]),i("td",Cie,h(new Date(u.date).toLocaleDateString()),1),i("td",Sie,h(new Date(u.date).toLocaleDateString("en-US",{weekday:"long"})),1),i("td",Mie,h(u.description||"-"),1),i("td",Tie,[p(Ws)("holiday:update")?(v(),se(p(So),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:f=>l(u)},null,8,["onClick"])):P("",!0),p(Ws)("holiday:delete")?(v(),se(p(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:f=>p(n).deleteIt(u.id)},null,8,["onClick"])):P("",!0)])]))),128))])]),T(qs,{index:p(n)},null,8,["index"])])])])])]),o.show?(v(),se(Fs,{key:0,size:"md",onSaved:d[7]||(d[7]=u=>p(n).get())},{default:Y(()=>[T(eie,{"model-value":o.model,onClose:d[6]||(d[6]=u=>o.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}},Aie={class:"border-b border-gray-200 px-6 py-4"},Eie={class:"text-lg font-semibold text-gray-900"},Pie={class:"space-y-6 px-6 py-4"},Oie={key:0},Rie={class:"block text-sm font-medium text-gray-700"},Lie={value:""},Iie=["value"],jie={key:0,class:"mt-2 text-sm text-red-600"},Fie={key:1,class:"rounded-md bg-gray-50 p-4"},Nie={class:"flex items-center"},zie={class:"h-10 w-10 flex-shrink-0"},Bie={class:"ml-4"},Uie={class:"text-sm font-medium text-gray-900"},Hie={class:"text-sm text-gray-500"},Vie={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Wie={class:"block text-sm font-medium text-gray-700"},qie={key:0,class:"mt-2 text-sm text-red-600"},Kie={class:"block text-sm font-medium text-gray-700"},Yie={key:0,class:"mt-2 text-sm text-red-600"},Gie={class:"block text-sm font-medium text-gray-700"},Xie={key:0,class:"mt-2 text-sm text-red-600"},Jie={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Qie={class:"block text-sm font-medium text-gray-700"},Zie={key:0,class:"mt-2 text-sm text-red-600"},ere={class:"block text-sm font-medium text-gray-700"},tre={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},sre={class:"block text-sm font-medium text-gray-700"},nre={key:0,class:"mt-2 text-sm text-red-600"},ore={class:"block text-sm font-medium text-gray-700"},ire={key:0,class:"mt-2 text-sm text-red-600"},rre={class:"block text-sm font-medium text-gray-700"},are={key:0,class:"mt-2 text-sm text-red-600"},lre={class:"border-t border-gray-200 pt-6"},cre={class:"flex items-center justify-between mb-4"},dre={class:"text-lg font-medium text-gray-900"},ure={key:0,class:"text-center text-gray-500 py-4"},hre={key:1,class:"space-y-3"},fre={class:"flex-1 grid grid-cols-1 gap-3 sm:grid-cols-4"},pre=["onUpdate:modelValue"],mre={value:"allowance"},gre={value:"bonus"},_re={value:"deduction"},vre={class:"sm:col-span-2"},yre=["onUpdate:modelValue","placeholder"],bre=["onUpdate:modelValue","placeholder"],xre=["onClick"],wre={class:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-6"},kre={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},$re={class:"text-sm font-medium text-gray-500"},Cre={class:"mt-1 text-2xl font-bold text-gray-900"},Sre={class:"text-sm font-medium text-gray-500"},Mre={class:"mt-1 text-2xl font-bold text-red-600"},Tre={class:"text-sm font-medium text-gray-500"},Dre={class:"mt-1 text-2xl font-bold text-green-600"},Are={class:"block text-sm font-medium text-gray-700"},Ere=["placeholder"],Pre={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Ore={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var b,S,M,E,H,N,F,R,A,ee,q,_e,$e,ve,ge;const t=s,n=e,o=I([]),r=I(!1),a=I({}),l=()=>{const G=new Date;return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`},c=G=>{const[Q,J]=G.split("-").map(Number),me=new Date(Q,J-1,1),xe=new Date(Q,J,0);return{start:me.toISOString().split("T")[0],end:xe.toISOString().split("T")[0]}},d=mt({user_id:((b=t.modelValue)==null?void 0:b.user_id)||"",payroll_period:((S=t.modelValue)==null?void 0:S.payroll_period)||l(),period_start:((E=(M=t.modelValue)==null?void 0:M.period_start)==null?void 0:E.split("T")[0])||c(l()).start,period_end:((N=(H=t.modelValue)==null?void 0:H.period_end)==null?void 0:N.split("T")[0])||c(l()).end,basic_salary:((F=t.modelValue)==null?void 0:F.basic_salary)||0,allowances:((R=t.modelValue)==null?void 0:R.allowances)||0,bonuses:((A=t.modelValue)==null?void 0:A.bonuses)||0,deductions:((ee=t.modelValue)==null?void 0:ee.deductions)||0,gross_salary:((q=t.modelValue)==null?void 0:q.gross_salary)||0,net_salary:((_e=t.modelValue)==null?void 0:_e.net_salary)||0,currency:(($e=t.modelValue)==null?void 0:$e.currency)||"MWK",notes:((ve=t.modelValue)==null?void 0:ve.notes)||"",items:((ge=t.modelValue)==null?void 0:ge.items)||[]}),u=()=>{if(d.payroll_period){const{start:G,end:Q}=c(d.payroll_period);d.period_start=G,d.period_end=Q}},f=()=>{d.gross_salary=(d.basic_salary||0)+(d.allowances||0)+(d.bonuses||0),d.net_salary=d.gross_salary-(d.deductions||0)},m=()=>{let G=0,Q=0,J=0;d.items.forEach(me=>{const xe=parseFloat(me.amount)||0;me.item_type==="allowance"?G+=xe:me.item_type==="bonus"?Q+=xe:me.item_type==="deduction"&&(J+=xe)}),d.allowances=G,d.bonuses=Q,d.deductions=J,f()},g=()=>{d.items.push({item_type:"allowance",description:"",amount:0,category:""})},_=G=>{d.items.splice(G,1),m()},w=G=>new Intl.NumberFormat().format(G||0)+" "+d.currency,y=async()=>{try{const G=await ue.get("users");o.value=G.data.data}catch{}},$=async()=>{var J,me;r.value=!0,a.value={};const G=t.modelValue?`payrolls/${t.modelValue.id}`:"payrolls",Q={user_id:d.user_id,payroll_period:d.payroll_period,period_start:d.period_start,period_end:d.period_end,basic_salary:parseFloat(d.basic_salary)||0,allowances:parseFloat(d.allowances)||0,bonuses:parseFloat(d.bonuses)||0,deductions:parseFloat(d.deductions)||0,currency:d.currency,notes:d.notes,items:d.items.filter(xe=>xe.description&&xe.amount>0)};try{t.modelValue?await ue.put(G,Q):await ue.post(G,Q),n("saved"),n("close")}catch(xe){(me=(J=xe.response)==null?void 0:J.data)!=null&&me.errors&&(a.value=xe.response.data.errors)}finally{r.value=!1}};return dt(()=>{t.modelValue||y(),f()}),Ft(()=>t.modelValue,G=>{var Q,J;G&&(Object.assign(d,{user_id:G.user_id,payroll_period:G.payroll_period||l(),period_start:((Q=G.period_start)==null?void 0:Q.split("T")[0])||c(l()).start,period_end:((J=G.period_end)==null?void 0:J.split("T")[0])||c(l()).end,basic_salary:G.basic_salary||0,allowances:G.allowances||0,bonuses:G.bonuses||0,deductions:G.deductions||0,gross_salary:G.gross_salary||0,net_salary:G.net_salary||0,currency:G.currency||"MWK",notes:G.notes||"",items:G.items||[]}),f())},{immediate:!0}),(G,Q)=>(v(),k("div",null,[i("div",Aie,[i("h2",Eie,h(s.modelValue?G.__("Edit Payroll"):G.__("Create Payroll")),1)]),i("div",Pie,[s.modelValue?(v(),k("div",Fie,[i("div",Nie,[i("div",zie,[T(ps,{user:s.modelValue.user,size:"10"},null,8,["user"])]),i("div",Bie,[i("div",Uie,h(s.modelValue.user.name),1),i("div",Hie,h(s.modelValue.user.email),1)])])])):(v(),k("div",Oie,[i("label",Rie,[te(h(G.__("Employee"))+" ",1),Q[11]||(Q[11]=i("span",{class:"text-red-500"},"*",-1))]),W(i("select",{"onUpdate:modelValue":Q[0]||(Q[0]=J=>d.user_id=J),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",Lie,h(G.__("Select Employee")),1),(v(!0),k(he,null,ke(o.value,J=>(v(),k("option",{key:J.id,value:J.id},h(J.name),9,Iie))),128))],512),[[qe,d.user_id]]),a.value.user_id?(v(),k("p",jie,h(a.value.user_id[0]),1)):P("",!0)])),i("div",Vie,[i("div",null,[i("label",Wie,[te(h(G.__("Payroll Period"))+" ",1),Q[12]||(Q[12]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":Q[1]||(Q[1]=J=>d.payroll_period=J),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onChange:u},null,544),[[de,d.payroll_period]]),a.value.payroll_period?(v(),k("p",qie,h(a.value.payroll_period[0]),1)):P("",!0)]),i("div",null,[i("label",Kie,[te(h(G.__("Period Start"))+" ",1),Q[13]||(Q[13]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":Q[2]||(Q[2]=J=>d.period_start=J),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[de,d.period_start]]),a.value.period_start?(v(),k("p",Yie,h(a.value.period_start[0]),1)):P("",!0)]),i("div",null,[i("label",Gie,[te(h(G.__("Period End"))+" ",1),Q[14]||(Q[14]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":Q[3]||(Q[3]=J=>d.period_end=J),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[de,d.period_end]]),a.value.period_end?(v(),k("p",Xie,h(a.value.period_end[0]),1)):P("",!0)])]),i("div",Jie,[i("div",null,[i("label",Qie,[te(h(G.__("Basic Salary"))+" ",1),Q[15]||(Q[15]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":Q[4]||(Q[4]=J=>d.basic_salary=J),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:f},null,544),[[de,d.basic_salary,void 0,{number:!0}]]),a.value.basic_salary?(v(),k("p",Zie,h(a.value.basic_salary[0]),1)):P("",!0)]),i("div",null,[i("label",ere,h(G.__("Currency")),1),W(i("select",{"onUpdate:modelValue":Q[5]||(Q[5]=J=>d.currency=J),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...Q[16]||(Q[16]=[i("option",{value:"MWK"},"MWK (Malawian Kwacha)",-1),i("option",{value:"USD"},"USD (US Dollar)",-1),i("option",{value:"EUR"},"EUR (Euro)",-1),i("option",{value:"GBP"},"GBP (British Pound)",-1)])],512),[[qe,d.currency]])])]),i("div",tre,[i("div",null,[i("label",sre,h(G.__("Total Allowances")),1),W(i("input",{"onUpdate:modelValue":Q[6]||(Q[6]=J=>d.allowances=J),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:f},null,544),[[de,d.allowances,void 0,{number:!0}]]),a.value.allowances?(v(),k("p",nre,h(a.value.allowances[0]),1)):P("",!0)]),i("div",null,[i("label",ore,h(G.__("Total Bonuses")),1),W(i("input",{"onUpdate:modelValue":Q[7]||(Q[7]=J=>d.bonuses=J),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:f},null,544),[[de,d.bonuses,void 0,{number:!0}]]),a.value.bonuses?(v(),k("p",ire,h(a.value.bonuses[0]),1)):P("",!0)]),i("div",null,[i("label",rre,h(G.__("Total Deductions")),1),W(i("input",{"onUpdate:modelValue":Q[8]||(Q[8]=J=>d.deductions=J),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:f},null,544),[[de,d.deductions,void 0,{number:!0}]]),a.value.deductions?(v(),k("p",are,h(a.value.deductions[0]),1)):P("",!0)])]),i("div",lre,[i("div",cre,[i("h3",dre,h(G.__("Payroll Items")),1),T(Ue,{size:"sm",variant:"secondary",onClick:g},{default:Y(()=>[T(p(li),{class:"mr-1 h-4 w-4"}),te(" "+h(G.__("Add Item")),1)]),_:1})]),d.items.length===0?(v(),k("div",ure,h(G.__('No items added. Click "Add Item" to add allowances, bonuses, or deductions.')),1)):(v(),k("div",hre,[(v(!0),k(he,null,ke(d.items,(J,me)=>(v(),k("div",{key:me,class:"flex items-start gap-3 rounded-lg border border-gray-200 p-3"},[i("div",fre,[i("div",null,[W(i("select",{"onUpdate:modelValue":xe=>J.item_type=xe,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:m},[i("option",mre,h(G.__("Allowance")),1),i("option",gre,h(G.__("Bonus")),1),i("option",_re,h(G.__("Deduction")),1)],40,pre),[[qe,J.item_type]])]),i("div",vre,[W(i("input",{"onUpdate:modelValue":xe=>J.description=xe,type:"text",placeholder:G.__("Description"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,yre),[[de,J.description]])]),i("div",null,[W(i("input",{"onUpdate:modelValue":xe=>J.amount=xe,type:"number",step:"0.01",placeholder:G.__("Amount"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:m},null,40,bre),[[de,J.amount,void 0,{number:!0}]])])]),i("button",{type:"button",class:"text-red-500 hover:text-red-700",onClick:xe=>_(me)},[T(p(ls),{class:"h-5 w-5"})],8,xre)]))),128))]))]),i("div",wre,[i("div",kre,[i("div",null,[i("div",$re,h(G.__("Gross Salary")),1),i("div",Cre,h(w(d.gross_salary)),1)]),i("div",null,[i("div",Sre,h(G.__("Total Deductions")),1),i("div",Mre,h(w(d.deductions)),1)]),i("div",null,[i("div",Tre,h(G.__("Net Salary")),1),i("div",Dre,h(w(d.net_salary)),1)])])]),i("div",null,[i("label",Are,h(G.__("Notes")),1),W(i("textarea",{"onUpdate:modelValue":Q[9]||(Q[9]=J=>d.notes=J),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:G.__("Optional notes")},null,8,Ere),[[de,d.notes]])])]),i("div",Pre,[T(Ue,{variant:"secondary",onClick:Q[10]||(Q[10]=J=>G.$emit("close"))},{default:Y(()=>[te(h(G.__("Cancel")),1)]),_:1}),T(Ue,{disabled:r.value,onClick:$},{default:Y(()=>[te(h(s.modelValue?G.__("Update Payroll"):G.__("Create Payroll")),1)]),_:1},8,["disabled"])])]))}},Rre={key:0,class:"mt-8 flex justify-center"},Lre={key:1},Ire={class:"mb-6"},jre={class:"text-2xl font-bold text-gray-900"},Fre={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Nre={class:"overflow-hidden rounded-lg bg-white shadow"},zre={class:"p-5"},Bre={class:"flex items-center"},Ure={class:"flex-shrink-0"},Hre={class:"ml-5 w-0 flex-1"},Vre={class:"truncate text-sm font-medium text-gray-500"},Wre={class:"text-lg font-semibold text-gray-900"},qre={class:"overflow-hidden rounded-lg bg-white shadow"},Kre={class:"p-5"},Yre={class:"flex items-center"},Gre={class:"flex-shrink-0"},Xre={class:"ml-5 w-0 flex-1"},Jre={class:"truncate text-sm font-medium text-gray-500"},Qre={class:"text-lg font-semibold text-gray-900"},Zre={class:"overflow-hidden rounded-lg bg-white shadow"},eae={class:"p-5"},tae={class:"flex items-center"},sae={class:"flex-shrink-0"},nae={class:"ml-5 w-0 flex-1"},oae={class:"truncate text-sm font-medium text-gray-500"},iae={class:"text-lg font-semibold text-gray-900"},rae={class:"overflow-hidden rounded-lg bg-white shadow"},aae={class:"p-5"},lae={class:"flex items-center"},cae={class:"flex-shrink-0"},dae={class:"ml-5 w-0 flex-1"},uae={class:"truncate text-sm font-medium text-gray-500"},hae={class:"text-lg font-semibold text-gray-900"},fae={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},pae={class:"flex flex-1 gap-2"},mae={class:"relative w-64 rounded-md shadow-sm"},gae={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},_ae=["placeholder"],vae={value:""},yae={value:"draft"},bae={value:"approved"},xae={value:"paid"},wae={value:"sent"},kae={class:"flex gap-2"},$ae={class:"flex flex-col"},Cae={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Sae={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Mae={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Tae={class:"min-w-full divide-y divide-gray-200"},Dae={class:"divide-y divide-gray-200 bg-white"},Aae={key:0,class:"hover:bg-gray-50"},Eae={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},Pae={class:"whitespace-nowrap px-6 py-4"},Oae={class:"flex items-center"},Rae={class:"h-10 w-10 flex-shrink-0"},Lae={class:"ml-4"},Iae={class:"text-sm font-medium text-gray-900"},jae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Fae={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Nae={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold text-gray-900"},zae={class:"whitespace-nowrap px-6 py-4 text-sm"},Bae={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Uae={class:"flex items-center justify-end gap-2"},Hae={class:"border-b border-gray-200 px-6 py-4"},Vae={class:"text-lg font-semibold text-gray-900"},Wae={class:"space-y-4 px-6 py-4"},qae={class:"block text-sm font-medium text-gray-700"},Kae={class:"text-sm text-gray-600"},Yae={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Gae={__name:"Index",setup(s){const e=ai(),t=I(!0),n=I(null),o=Do("payrolls",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=mt({show:!1,model:null}),a=mt({show:!1,month:new Date().toISOString().slice(0,7)});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{o.get()},300)},d=(y=null)=>{r.model=y,r.show=!0},u=()=>{a.show=!0},f=async()=>{try{const y=await ue.post("payrolls/generate",{month:a.month});alert(y.data.message),a.show=!1,o.get()}catch{alert("Failed to generate payroll")}},m=async y=>{if(confirm("Are you sure you want to approve this payroll?"))try{await ue.post(`payrolls/${y}/approve`),o.get(),w()}catch{}},g=async y=>{if(confirm("Mark this payroll as paid?"))try{await ue.post(`payrolls/${y}/mark-as-paid`),o.get(),w()}catch{}},_=y=>{e.push(`/payrolls/${y}`)},w=async()=>{try{const y=await ue.get("payrolls/statistics");n.value=y.data.data}catch{}};return dt(async()=>{try{await o.get(),await w(),t.value=!1}catch{t.value=!1}}),(y,$)=>{var b,S,M;return t.value?(v(),k("div",Rre,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",Lre,[i("div",Ire,[i("h1",jre,h(y.__("Payroll Management")),1)]),n.value?(v(),k("div",Fre,[i("div",Nre,[i("div",zre,[i("div",Bre,[i("div",Ure,[T(p(Ef),{class:"h-6 w-6 text-gray-400"})]),i("div",Hre,[i("dl",null,[i("dt",Vre,h(y.__("Draft")),1),i("dd",Wre,h(n.value.draft),1)])])])])]),i("div",qre,[i("div",Kre,[i("div",Yre,[i("div",Gre,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",Xre,[i("dl",null,[i("dt",Jre,h(y.__("Approved")),1),i("dd",Qre,h(n.value.approved),1)])])])])]),i("div",Zre,[i("div",eae,[i("div",tae,[i("div",sae,[T(p(Tf),{class:"h-6 w-6 text-blue-400"})]),i("div",nae,[i("dl",null,[i("dt",oae,h(y.__("Paid")),1),i("dd",iae,h(n.value.paid),1)])])])])]),i("div",rae,[i("div",aae,[i("div",lae,[i("div",cae,[T(p(bd),{class:"h-6 w-6 text-yellow-400"})]),i("div",dae,[i("dl",null,[i("dt",uae,h(y.__("This Month")),1),i("dd",hae,h(new Intl.NumberFormat().format(n.value.this_month_total)),1)])])])])])])):P("",!0),i("div",fae,[i("div",pae,[i("div",mae,[i("div",gae,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":$[0]||($[0]=E=>p(o).params.search=E),type:"search",placeholder:y.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,_ae),[[de,p(o).params.search]])]),W(i("select",{"onUpdate:modelValue":$[1]||($[1]=E=>p(o).params.status=E),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:$[2]||($[2]=E=>p(o).get())},[i("option",vae,h(y.__("All Statuses")),1),i("option",yae,h(y.__("Draft")),1),i("option",bae,h(y.__("Approved")),1),i("option",xae,h(y.__("Paid")),1),i("option",wae,h(y.__("Sent")),1)],544),[[qe,p(o).params.status]])]),i("div",kae,[T(Ue,{variant:"secondary",onClick:u},{default:Y(()=>[T(p($4),{class:"mr-2 h-4 w-4"}),te(" "+h(y.__("Generate Payroll")),1)]),_:1}),p(Ws)("payroll:create")?(v(),se(Ue,{key:0,onClick:$[3]||($[3]=E=>d())},{default:Y(()=>[te(h(y.__("Create Payroll")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",$ae,[i("div",Cae,[i("div",Sae,[i("div",Mae,[i("table",Tae,[i("thead",null,[i("tr",null,[T(He,{name:"payroll",index:p(o),label:y.__("Employee")},null,8,["index","label"]),T(He,{name:"payroll",index:p(o),label:y.__("Period"),sort:"payroll_period"},null,8,["index","label"]),T(He,{name:"payroll",index:p(o),label:y.__("Basic Salary"),sort:"basic_salary"},null,8,["index","label"]),T(He,{name:"payroll",index:p(o),label:y.__("Net Salary"),sort:"net_salary"},null,8,["index","label"]),T(He,{name:"payroll",index:p(o),label:y.__("Status"),sort:"status"},null,8,["index","label"]),$[8]||($[8]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",Dae,[(S=(b=p(o).data)==null?void 0:b.data)!=null&&S.length?P("",!0):(v(),k("tr",Aae,[i("td",Eae,h(y.__("No payrolls found")),1)])),(v(!0),k(he,null,ke(((M=p(o).data)==null?void 0:M.data)||[],E=>(v(),k("tr",{key:E.id,class:"hover:bg-gray-50"},[i("td",Pae,[i("div",Oae,[i("div",Rae,[T(ps,{user:E.user,size:"10"},null,8,["user"])]),i("div",Lae,[i("div",Iae,h(E.user.name),1)])])]),i("td",jae,h(E.payroll_period),1),i("td",Fae,h(new Intl.NumberFormat().format(E.basic_salary))+" "+h(E.currency),1),i("td",Nae,h(new Intl.NumberFormat().format(E.net_salary))+" "+h(E.currency),1),i("td",zae,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-gray-100 text-gray-800":E.status==="draft","bg-green-100 text-green-800":E.status==="approved","bg-blue-100 text-blue-800":E.status==="paid","bg-purple-100 text-purple-800":E.status==="sent"}])},h(E.status.charAt(0).toUpperCase()+E.status.slice(1)),3)]),i("td",Bae,[i("div",Uae,[E.status==="draft"&&p(Ws)("payroll:approve")?(v(),se(Ue,{key:0,size:"xs",variant:"success",onClick:H=>m(E.id)},{default:Y(()=>[te(h(y.__("Approve")),1)]),_:1},8,["onClick"])):P("",!0),E.status==="approved"&&p(Ws)("payroll:pay")?(v(),se(Ue,{key:1,size:"xs",onClick:H=>g(E.id)},{default:Y(()=>[te(h(y.__("Mark Paid")),1)]),_:1},8,["onClick"])):P("",!0),T(p(qi),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:H=>_(E.id)},null,8,["onClick"]),E.status==="draft"&&p(Ws)("payroll:update")?(v(),se(p(So),{key:2,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:H=>d(E)},null,8,["onClick"])):P("",!0),E.status==="draft"&&p(Ws)("payroll:delete")?(v(),se(p(ls),{key:3,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:H=>p(o).deleteIt(E.id)},null,8,["onClick"])):P("",!0)])])]))),128))])]),T(qs,{index:p(o)},null,8,["index"])])])])])]),a.show?(v(),se(Zn,{key:1,width:"max-w-md"},{default:Y(()=>[i("div",Hae,[i("h2",Vae,h(y.__("Generate Payroll for Month")),1)]),i("div",Wae,[i("div",null,[i("label",qae,h(y.__("Month")),1),W(i("input",{"onUpdate:modelValue":$[4]||($[4]=E=>a.month=E),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[de,a.month]])]),i("p",Kae,h(y.__("This will generate draft payroll records for all active employees for the selected month.")),1)]),i("div",Yae,[T(Ue,{variant:"secondary",onClick:$[5]||($[5]=E=>a.show=!1)},{default:Y(()=>[te(h(y.__("Cancel")),1)]),_:1}),T(Ue,{onClick:f},{default:Y(()=>[te(h(y.__("Generate")),1)]),_:1})])]),_:1})):P("",!0),r.show?(v(),se(Fs,{key:2,size:"2xl",onSaved:$[7]||($[7]=E=>p(o).get())},{default:Y(()=>[T(Ore,{"model-value":r.model,onClose:$[6]||($[6]=E=>r.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}}},Xae={class:"border-b border-gray-200 px-6 py-4"},Jae={class:"text-lg font-semibold text-gray-900"},Qae={class:"space-y-6 px-6 py-4"},Zae={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ele={class:"block text-sm font-medium text-gray-700"},tle=["placeholder"],sle={key:0,class:"mt-2 text-sm text-red-600"},nle={class:"block text-sm font-medium text-gray-700"},ole=["placeholder"],ile={key:0,class:"mt-2 text-sm text-red-600"},rle={class:"block text-sm font-medium text-gray-700"},ale=["placeholder"],lle={key:0,class:"mt-2 text-sm text-red-600"},cle={class:"block text-sm font-medium text-gray-700"},dle=["placeholder"],ule={class:"border-t border-gray-200 pt-6"},hle={class:"mb-4 text-md font-medium text-gray-900"},fle={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ple={class:"block text-sm font-medium text-gray-700"},mle=["placeholder"],gle={class:"block text-sm font-medium text-gray-700"},_le=["placeholder"],vle={class:"block text-sm font-medium text-gray-700"},yle={key:0,class:"mt-2 text-sm text-red-600"},ble={class:"block text-sm font-medium text-gray-700"},xle={value:"prospect"},wle={value:"active"},kle={value:"inactive"},$le={key:0,class:"mt-2 text-sm text-red-600"},Cle={class:"border-t border-gray-200 pt-6"},Sle={class:"mb-4 text-md font-medium text-gray-900"},Mle={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Tle={class:"sm:col-span-2"},Dle={class:"block text-sm font-medium text-gray-700"},Ale=["placeholder"],Ele={class:"block text-sm font-medium text-gray-700"},Ple={value:""},Ole=["value"],Rle={class:"block text-sm font-medium text-gray-700"},Lle={value:""},Ile=["value"],jle=["placeholder"],Fle={class:"border-t border-gray-200 pt-6"},Nle={class:"block text-sm font-medium text-gray-700"},zle=["placeholder"],Ble={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Ule={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,o=I(!1),r=I({}),a=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],l={Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Kasungu","Mangochi","Karonga","Salima","Nkhotakota","Liwonde","Nsanje","Rumphi","Dedza","Ntcheu","Balaka","Mchinji","Mulanje","Thyolo","Chiradzulu","Phalombe","Chitipa","Nkhata Bay","Likoma","Ntchisi","Dowa","Mwanza","Neno","Chikwawa","Machinga","Monkey Bay","Cape Maclear","Chipoka","Dwangwa","Ekwendeni","Jenda","Luchenza","Lunzu","Migowi","Mponela","Mzimba","Nkaya","Songwe","Thekerani","Chilumba","Embangweni","Livingstonia","Makanjira","Malomo","Namitete"],Zambia:["Lusaka","Kitwe","Ndola","Kabwe","Chingola","Mufulira","Livingstone","Luanshya","Kasama","Chipata","Kalulushi","Mazabuka","Mongu","Solwezi","Choma","Kafue","Mansa","Mpika","Petauke","Senanga"],Tanzania:["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar City","Kigoma","Moshi","Tabora","Songea","Musoma","Shinyanga","Iringa","Sumbawanga","Mtwara","Lindi","Bukoba","Singida"],Mozambique:["Maputo","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Lichinga","Pemba","Xai-Xai","Maxixe","Inhambane","Cuamba","Montepuez","Chokwe","Dondo","Angoche","Mocuba","Guru","Matola"],Zimbabwe:["Harare","Bulawayo","Chitungwiza","Mutare","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Marondera","Norton","Chegutu","Bindura","Beitbridge","Victoria Falls","Hwange","Kariba","Rusape","Chiredzi","Zvishavane"],"South Africa":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Polokwane","Nelspruit","Kimberley","Rustenburg","Pietermaritzburg","Vanderbijlpark","Soweto","Benoni","Tembisa","Welkom","Midrand","Sandton","Centurion"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Malindi","Kitale","Garissa","Nyeri","Machakos","Meru","Lamu","Naivasha","Embu","Kakamega","Kericho","Bungoma","Migori","Kilifi"],Uganda:["Kampala","Gulu","Lira","Mbarara","Jinja","Mbale","Mukono","Masaka","Entebbe","Kasese","Hoima","Arua","Fort Portal","Soroti","Kabale","Tororo","Iganga","Mityana","Mubende","Masindi"],Botswana:["Gaborone","Francistown","Molepolole","Serowe","Selibe Phikwe","Maun","Kanye","Mahalapye","Mogoditshane","Mochudi","Lobatse","Palapye","Ramotswa","Thamaga","Jwaneng","Letlhakane","Orapa","Kasane","Nata","Ghanzi"],"United Kingdom":["London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Leicester","Coventry","Bradford","Cardiff","Belfast","Nottingham","Newcastle","Southampton","Brighton","Plymouth","Oxford"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington D.C.","Boston","Nashville","Detroit","Portland","Las Vegas","Miami","Atlanta"],China:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin","Suzhou","Chongqing","Qingdao","Dalian","Xiamen","Ningbo","Zhengzhou","Changsha","Dongguan","Shenyang"],India:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Ahmedabad","Pune","Surat","Jaipur","Lucknow","Kanpur","Nagpur","Patna","Indore","Thane","Bhopal","Visakhapatnam","Vadodara","Coimbatore"],Nigeria:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Abeokuta","Sokoto","Onitsha","Warri","Calabar","Uyo","Kaduna"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Tema","Cape Coast","Sekondi","Obuasi","Teshie","Koforidua","Sunyani","Ho","Wa","Bolgatanga","Techiman","Nungua","Madina","Kasoa","Aflao"],Ethiopia:["Addis Ababa","Dire Dawa","Mekelle","Gondar","Hawassa","Bahir Dar","Adama","Jimma","Dessie","Jijiga","Harar","Shashamane","Debre Birhan","Arba Minch","Hosaena","Dilla","Nekemte","Asella","Debre Markos","Kombolcha"],Rwanda:["Kigali","Butare","Gitarama","Ruhengeri","Gisenyi","Byumba","Cyangugu","Nyanza","Kibungo","Kibuye"],Burundi:["Bujumbura","Gitega","Muyinga","Ruyigi","Ngozi","Rutana","Bururi","Makamba","Kayanza","Muramvya"],"Democratic Republic of the Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Tshikapa","Kolwezi","Likasi","Goma"]},c=Le(()=>d.country&&l[d.country]?[...l[d.country]].sort():[]);Ft(()=>d.country,(f,m)=>{m&&f!==m&&((l[f]||[]).includes(d.city)||(d.city=""))});const d=mt({name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"}),u=async()=>{var m,g;o.value=!0,r.value={};const f=t.modelValue?`clients/${t.modelValue.id}`:"clients";try{t.modelValue?await ue.put(f,d):await ue.post(f,d),n("saved"),n("close")}catch(_){(g=(m=_.response)==null?void 0:m.data)!=null&&g.errors&&(r.value=_.response.data.errors)}finally{o.value=!1}};return Ft(()=>t.modelValue,f=>{f?Object.assign(d,{name:f.name||"",email:f.email||"",phone:f.phone||"",secondary_phone:f.secondary_phone||"",company_name:f.company_name||"",business_type:f.business_type||"",address:f.address||"",city:f.city||"",country:f.country||"",website:f.website||"",notes:f.notes||"",status:f.status||"prospect"}):Object.assign(d,{name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"})},{immediate:!0}),(f,m)=>(v(),k("div",null,[i("div",Xae,[i("h2",Jae,h(s.modelValue?f.__("Edit Client"):f.__("Add Client")),1)]),i("div",Qae,[i("div",Zae,[i("div",null,[i("label",ele,[te(h(f.__("Name"))+" ",1),m[14]||(m[14]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>d.name=g),type:"text",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.name}]),placeholder:f.__("Client name"),required:""},null,10,tle),[[de,d.name]]),r.value.name?(v(),k("p",sle,h(r.value.name[0]),1)):P("",!0)]),i("div",null,[i("label",nle,h(f.__("Email")),1),W(i("input",{"onUpdate:modelValue":m[1]||(m[1]=g=>d.email=g),type:"email",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),placeholder:f.__("email@example.com")},null,10,ole),[[de,d.email]]),r.value.email?(v(),k("p",ile,h(r.value.email[0]),1)):P("",!0)]),i("div",null,[i("label",rle,h(f.__("Phone")),1),W(i("input",{"onUpdate:modelValue":m[2]||(m[2]=g=>d.phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("Primary phone number")},null,8,ale),[[de,d.phone]]),r.value.phone?(v(),k("p",lle,h(r.value.phone[0]),1)):P("",!0)]),i("div",null,[i("label",cle,h(f.__("Secondary Phone")),1),W(i("input",{"onUpdate:modelValue":m[3]||(m[3]=g=>d.secondary_phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("Alternative phone number")},null,8,dle),[[de,d.secondary_phone]])])]),i("div",ule,[i("h3",hle,h(f.__("Company Information")),1),i("div",fle,[i("div",null,[i("label",ple,h(f.__("Company Name")),1),W(i("input",{"onUpdate:modelValue":m[4]||(m[4]=g=>d.company_name=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("Company or organization name")},null,8,mle),[[de,d.company_name]])]),i("div",null,[i("label",gle,h(f.__("Business Type")),1),W(i("input",{"onUpdate:modelValue":m[5]||(m[5]=g=>d.business_type=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("e.g., Retail, Technology, Healthcare")},null,8,_le),[[de,d.business_type]])]),i("div",null,[i("label",vle,h(f.__("Website")),1),W(i("input",{"onUpdate:modelValue":m[6]||(m[6]=g=>d.website=g),type:"url",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.website}]),placeholder:"https://example.com"},null,2),[[de,d.website]]),r.value.website?(v(),k("p",yle,h(r.value.website[0]),1)):P("",!0)]),i("div",null,[i("label",ble,[te(h(f.__("Status"))+" ",1),m[15]||(m[15]=i("span",{class:"text-red-500"},"*",-1))]),W(i("select",{"onUpdate:modelValue":m[7]||(m[7]=g=>d.status=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",xle,h(f.__("Prospect")),1),i("option",wle,h(f.__("Active")),1),i("option",kle,h(f.__("Inactive")),1)],512),[[qe,d.status]]),r.value.status?(v(),k("p",$le,h(r.value.status[0]),1)):P("",!0)])])]),i("div",Cle,[i("h3",Sle,h(f.__("Address")),1),i("div",Mle,[i("div",Tle,[i("label",Dle,h(f.__("Address")),1),W(i("textarea",{"onUpdate:modelValue":m[8]||(m[8]=g=>d.address=g),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("Street address")},null,8,Ale),[[de,d.address]])]),i("div",null,[i("label",Ele,h(f.__("Country")),1),W(i("select",{"onUpdate:modelValue":m[9]||(m[9]=g=>d.country=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Ple,h(f.__("Select Country")),1),(v(),k(he,null,ke(a,g=>i("option",{key:g,value:g},h(g),9,Ole)),64))],512),[[qe,d.country]])]),i("div",null,[i("label",Rle,h(f.__("City")),1),c.value.length>0?W((v(),k("select",{key:0,"onUpdate:modelValue":m[10]||(m[10]=g=>d.city=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Lle,h(f.__("Select City")),1),(v(!0),k(he,null,ke(c.value,g=>(v(),k("option",{key:g,value:g},h(g),9,Ile))),128))],512)),[[qe,d.city]]):W((v(),k("input",{key:1,"onUpdate:modelValue":m[11]||(m[11]=g=>d.city=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:d.country?f.__("Enter city name"):f.__("Select country first")},null,8,jle)),[[de,d.city]])])])]),i("div",Fle,[i("label",Nle,h(f.__("Notes")),1),W(i("textarea",{"onUpdate:modelValue":m[12]||(m[12]=g=>d.notes=g),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:f.__("Additional notes about this client")},null,8,zle),[[de,d.notes]])])]),i("div",Ble,[T(Ue,{variant:"secondary",onClick:m[13]||(m[13]=g=>f.$emit("close"))},{default:Y(()=>[te(h(f.__("Cancel")),1)]),_:1}),T(Ue,{disabled:o.value,onClick:u},{default:Y(()=>[te(h(s.modelValue?f.__("Update Client"):f.__("Create Client")),1)]),_:1},8,["disabled"])])]))}},Hle={key:0,class:"mt-8 flex justify-center"},Vle={key:1},Wle={class:"mb-6"},qle={class:"text-2xl font-bold text-gray-900"},Kle={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Yle={class:"overflow-hidden rounded-lg bg-white shadow"},Gle={class:"p-5"},Xle={class:"flex items-center"},Jle={class:"flex-shrink-0"},Qle={class:"ml-5 w-0 flex-1"},Zle={class:"truncate text-sm font-medium text-gray-500"},ece={class:"text-lg font-semibold text-gray-900"},tce={class:"overflow-hidden rounded-lg bg-white shadow"},sce={class:"p-5"},nce={class:"flex items-center"},oce={class:"flex-shrink-0"},ice={class:"ml-5 w-0 flex-1"},rce={class:"truncate text-sm font-medium text-gray-500"},ace={class:"text-lg font-semibold text-gray-900"},lce={class:"overflow-hidden rounded-lg bg-white shadow"},cce={class:"p-5"},dce={class:"flex items-center"},uce={class:"flex-shrink-0"},hce={class:"ml-5 w-0 flex-1"},fce={class:"truncate text-sm font-medium text-gray-500"},pce={class:"text-lg font-semibold text-gray-900"},mce={class:"overflow-hidden rounded-lg bg-white shadow"},gce={class:"p-5"},_ce={class:"flex items-center"},vce={class:"flex-shrink-0"},yce={class:"ml-5 w-0 flex-1"},bce={class:"truncate text-sm font-medium text-gray-500"},xce={class:"text-lg font-semibold text-gray-900"},wce={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},kce={class:"flex flex-1 gap-2"},$ce={class:"relative w-64 rounded-md shadow-sm"},Cce={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Sce=["placeholder"],Mce={value:""},Tce={value:"active"},Dce={value:"inactive"},Ace={value:"prospect"},Ece={class:"flex gap-2"},Pce={class:"flex flex-col"},Oce={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Rce={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Lce={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Ice={class:"min-w-full divide-y divide-gray-200"},jce={class:"divide-y divide-gray-200 bg-white"},Fce={key:0,class:"hover:bg-gray-50"},Nce={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},zce={class:"whitespace-nowrap px-6 py-4"},Bce={class:"flex items-center"},Uce={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},Hce={class:"text-sm font-medium text-indigo-600"},Vce={class:"ml-4"},Wce={class:"text-sm font-medium text-gray-900"},qce={key:0,class:"text-sm text-gray-500"},Kce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Yce={key:0},Gce={key:1,class:"text-xs text-gray-400"},Xce={key:2},Jce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Qce={key:0},Zce={key:1,class:"text-xs text-gray-400"},ede={key:2},tde={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},sde={key:0},nde={key:1},ode={class:"whitespace-nowrap px-6 py-4 text-sm"},ide={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},rde={class:"flex items-center justify-end gap-2"},ade={__name:"Index",setup(s){const e=ai(),t=I(!0),n=I(null),o=Do("clients",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=mt({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{o.get()},300)},c=(m=null)=>{r.model=m,r.show=!0},d=m=>{e.push(`/clients/${m}`)},u=()=>{o.get(),f()},f=async()=>{try{const m=await ue.get("clients/statistics");n.value=m.data.data}catch{}};return dt(async()=>{try{await o.get(),await f(),t.value=!1}catch{t.value=!1}}),(m,g)=>{var _,w,y;return t.value?(v(),k("div",Hle,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",Vle,[i("div",Wle,[i("h1",qle,h(m.__("Client Management")),1)]),n.value?(v(),k("div",Kle,[i("div",Yle,[i("div",Gle,[i("div",Xle,[i("div",Jle,[T(p(wd),{class:"h-6 w-6 text-gray-400"})]),i("div",Qle,[i("dl",null,[i("dt",Zle,h(m.__("Total Clients")),1),i("dd",ece,h(n.value.total),1)])])])])]),i("div",tce,[i("div",sce,[i("div",nce,[i("div",oce,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",ice,[i("dl",null,[i("dt",rce,h(m.__("Active")),1),i("dd",ace,h(n.value.active),1)])])])])]),i("div",lce,[i("div",cce,[i("div",dce,[i("div",uce,[T(p(Co),{class:"h-6 w-6 text-yellow-400"})]),i("div",hce,[i("dl",null,[i("dt",fce,h(m.__("Prospects")),1),i("dd",pce,h(n.value.prospect),1)])])])])]),i("div",mce,[i("div",gce,[i("div",_ce,[i("div",vce,[T(p(On),{class:"h-6 w-6 text-red-400"})]),i("div",yce,[i("dl",null,[i("dt",bce,h(m.__("Inactive")),1),i("dd",xce,h(n.value.inactive),1)])])])])])])):P("",!0),i("div",wce,[i("div",kce,[i("div",$ce,[i("div",Cce,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":g[0]||(g[0]=$=>p(o).params.search=$),type:"search",placeholder:m.__("Search clients..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Sce),[[de,p(o).params.search]])]),W(i("select",{"onUpdate:modelValue":g[1]||(g[1]=$=>p(o).params.status=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:g[2]||(g[2]=$=>p(o).get())},[i("option",Mce,h(m.__("All Statuses")),1),i("option",Tce,h(m.__("Active")),1),i("option",Dce,h(m.__("Inactive")),1),i("option",Ace,h(m.__("Prospect")),1)],544),[[qe,p(o).params.status]])]),i("div",Ece,[T(Ue,{onClick:g[3]||(g[3]=$=>c())},{default:Y(()=>[T(p(li),{class:"mr-2 h-4 w-4"}),te(" "+h(m.__("Add Client")),1)]),_:1})])]),i("section",null,[i("div",Pce,[i("div",Oce,[i("div",Rce,[i("div",Lce,[i("table",Ice,[i("thead",null,[i("tr",null,[T(He,{name:"client",index:p(o),label:m.__("Name"),sort:"name"},null,8,["index","label"]),T(He,{name:"client",index:p(o),label:m.__("Company"),sort:"company_name"},null,8,["index","label"]),T(He,{name:"client",index:p(o),label:m.__("Contact")},null,8,["index","label"]),T(He,{name:"client",index:p(o),label:m.__("Location")},null,8,["index","label"]),T(He,{name:"client",index:p(o),label:m.__("Status"),sort:"status"},null,8,["index","label"]),g[5]||(g[5]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",jce,[(w=(_=p(o).data)==null?void 0:_.data)!=null&&w.length?P("",!0):(v(),k("tr",Fce,[i("td",Nce,h(m.__("No clients found")),1)])),(v(!0),k(he,null,ke(((y=p(o).data)==null?void 0:y.data)||[],$=>(v(),k("tr",{key:$.id,class:"hover:bg-gray-50"},[i("td",zce,[i("div",Bce,[i("div",Uce,[i("span",Hce,h($.name.charAt(0).toUpperCase()),1)]),i("div",Vce,[i("div",Wce,h($.name),1),$.email?(v(),k("div",qce,h($.email),1)):P("",!0)])])]),i("td",Kce,[$.company_name?(v(),k("div",Yce,h($.company_name),1)):P("",!0),$.business_type?(v(),k("div",Gce,h($.business_type),1)):P("",!0),$.company_name?P("",!0):(v(),k("span",Xce,"-"))]),i("td",Jce,[$.phone?(v(),k("div",Qce,h($.phone),1)):P("",!0),$.secondary_phone?(v(),k("div",Zce,h($.secondary_phone),1)):P("",!0),$.phone?P("",!0):(v(),k("span",ede,"-"))]),i("td",tde,[$.city||$.country?(v(),k("div",sde,h([$.city,$.country].filter(Boolean).join(", ")),1)):(v(),k("span",nde,"-"))]),i("td",ode,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":$.status==="active","bg-gray-100 text-gray-800":$.status==="inactive","bg-yellow-100 text-yellow-800":$.status==="prospect"}])},h($.status.charAt(0).toUpperCase()+$.status.slice(1)),3)]),i("td",ide,[i("div",rde,[T(p(qi),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>d($.id)},null,8,["onClick"]),T(p(So),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>c($)},null,8,["onClick"]),T(p(ls),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:b=>p(o).deleteIt($.id)},null,8,["onClick"])])])]))),128))])]),T(qs,{index:p(o)},null,8,["index"])])])])])]),r.show?(v(),se(Fs,{key:1,size:"2xl",onSaved:u},{default:Y(()=>[T(Ule,{"model-value":r.model,onClose:g[4]||(g[4]=$=>r.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}}},lde={class:"border-b border-gray-200 px-6 py-4"},cde={class:"text-lg font-semibold text-gray-900"},dde={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},ude={class:"mb-6"},hde={class:"mb-4 text-md font-medium text-gray-900"},fde={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},pde={class:"block text-sm font-medium text-gray-700"},mde={key:0,class:"mt-1 text-sm text-red-600"},gde={class:"block text-sm font-medium text-gray-700"},_de={key:0,class:"mt-1 text-sm text-red-600"},vde={class:"block text-sm font-medium text-gray-700"},yde={class:"block text-sm font-medium text-gray-700"},bde={class:"mb-6 border-t border-gray-200 pt-6"},xde={class:"mb-4 text-md font-medium text-gray-900"},wde={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},kde={class:"block text-sm font-medium text-gray-700"},$de={key:0,class:"mt-1 text-sm text-red-600"},Cde={class:"block text-sm font-medium text-gray-700"},Sde={key:0,class:"mt-1 text-sm text-red-600"},Mde={class:"block text-sm font-medium text-gray-700"},Tde={class:"block text-sm font-medium text-gray-700"},Dde={value:"style_1"},Ade={value:"style_2"},Ede={value:"style_3"},Pde={value:"style_4"},Ode={value:"style_5"},Rde={value:"style_6"},Lde={value:"style_7"},Ide={value:"style_8"},jde={class:"mb-6 border-t border-gray-200 pt-6"},Fde={class:"mb-4 flex items-center justify-between"},Nde={class:"text-md font-medium text-gray-900"},zde={class:"overflow-hidden rounded-lg border border-gray-200"},Bde={class:"min-w-full divide-y divide-gray-200"},Ude={class:"bg-gray-50"},Hde={class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Vde={class:"w-24 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Wde={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},qde={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},Kde={class:"divide-y divide-gray-200 bg-white"},Yde={class:"px-4 py-2"},Gde=["onUpdate:modelValue","placeholder"],Xde={key:0,class:"mt-1 text-xs text-red-600"},Jde={class:"px-4 py-2"},Qde=["onUpdate:modelValue","onInput"],Zde={class:"px-4 py-2"},eue=["onUpdate:modelValue","onInput"],tue={class:"px-4 py-2 text-sm font-medium text-gray-900"},sue={class:"px-4 py-2"},nue=["onClick"],oue={key:0,class:"mt-2 text-sm text-red-600"},iue={class:"mb-6 flex justify-end"},rue={class:"w-80 space-y-2"},aue={class:"flex justify-between text-sm"},lue={class:"text-gray-600"},cue={class:"font-medium"},due={class:"flex items-center justify-between text-sm"},uue={class:"text-gray-600"},hue={class:"flex justify-between text-sm"},fue={class:"text-gray-600"},pue={class:"font-medium"},mue={class:"flex items-center justify-between text-sm"},gue={class:"text-gray-600"},_ue={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-semibold"},vue={class:"text-indigo-600"},yue={class:"border-t border-gray-200 pt-6"},bue={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},xue={class:"block text-sm font-medium text-gray-700"},wue=["placeholder"],kue={class:"block text-sm font-medium text-gray-700"},$ue=["placeholder"],Cue={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Sue={class:"block text-sm font-medium text-gray-700"},Mue={value:"draft"},Tue={value:"sent"},Due={value:"accepted"},Aue={value:"rejected"},Eue={value:"expired"},Pue={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},lb={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,o=I(!1),r=I({}),a=()=>({description:"",quantity:1,unit_price:0}),l=mt({customer_name:"",customer_email:"",customer_phone:"",customer_address:"",quotation_date:new Date().toISOString().split("T")[0],valid_until:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:"MWK",tax_rate:16.5,discount_amount:0,template:"style_1",notes:"",terms:`Payment is due within 14 days of acceptance.
Prices are valid for 30 days from quotation date.`,status:"draft",items:[a()]}),c=Le(()=>l.items.reduce((y,$)=>y+$.quantity*$.unit_price,0)),d=Le(()=>c.value*(l.tax_rate/100)),u=Le(()=>c.value+d.value-l.discount_amount),f=()=>{l.items.push(a())},m=y=>{l.items.length>1&&l.items.splice(y,1)},g=y=>{const $=l.items[y];$.total=$.quantity*$.unit_price},_=y=>parseFloat(y||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),w=async()=>{var $,b,S,M;o.value=!0,r.value={};const y=t.modelValue?`quotations/${t.modelValue.id}`:"quotations";try{t.modelValue?await ue.put(y,l):await ue.post(y,l),n("saved"),n("close")}catch(E){(b=($=E.response)==null?void 0:$.data)!=null&&b.errors?(r.value=E.response.data.errors,alert(`Validation errors:
`+Object.values(E.response.data.errors).flat().join(`
`))):(M=(S=E.response)==null?void 0:S.data)!=null&&M.error?alert(`Server error:
`+E.response.data.error+`
File: `+E.response.data.file+`
Line: `+E.response.data.line):alert("Error: "+(E.message||"Unknown error"))}finally{o.value=!1}};return Ft(()=>t.modelValue,y=>{var $;y&&Object.assign(l,{customer_name:y.customer_name||"",customer_email:y.customer_email||"",customer_phone:y.customer_phone||"",customer_address:y.customer_address||"",quotation_date:y.quotation_date?y.quotation_date.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:y.valid_until?y.valid_until.split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:y.currency||"MWK",tax_rate:parseFloat(y.tax_rate)||16.5,discount_amount:parseFloat(y.discount_amount)||0,template:y.template||"style_1",notes:y.notes||"",terms:y.terms||"",status:y.status||"draft",items:($=y.items)!=null&&$.length?y.items.map(b=>({description:b.description,quantity:b.quantity,unit_price:parseFloat(b.unit_price)})):[a()]})},{immediate:!0}),(y,$)=>(v(),k("div",null,[i("div",lde,[i("h2",cde,h(s.modelValue?y.__("Edit Quotation"):y.__("Create Quotation")),1)]),i("div",dde,[i("div",ude,[i("h3",hde,h(y.__("Customer Information")),1),i("div",fde,[i("div",null,[i("label",pde,[te(h(y.__("Customer Name"))+" ",1),$[14]||($[14]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":$[0]||($[0]=b=>l.customer_name=b),type:"text",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_name}])},null,2),[[de,l.customer_name]]),r.value.customer_name?(v(),k("p",mde,h(r.value.customer_name[0]),1)):P("",!0)]),i("div",null,[i("label",gde,[te(h(y.__("Email"))+" ",1),$[15]||($[15]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":$[1]||($[1]=b=>l.customer_email=b),type:"email",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_email}])},null,2),[[de,l.customer_email]]),r.value.customer_email?(v(),k("p",_de,h(r.value.customer_email[0]),1)):P("",!0)]),i("div",null,[i("label",vde,h(y.__("Phone")),1),W(i("input",{"onUpdate:modelValue":$[2]||($[2]=b=>l.customer_phone=b),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,l.customer_phone]])]),i("div",null,[i("label",yde,h(y.__("Address")),1),W(i("input",{"onUpdate:modelValue":$[3]||($[3]=b=>l.customer_address=b),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,l.customer_address]])])])]),i("div",bde,[i("h3",xde,h(y.__("Quotation Details")),1),i("div",wde,[i("div",null,[i("label",kde,[te(h(y.__("Quotation Date"))+" ",1),$[16]||($[16]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":$[4]||($[4]=b=>l.quotation_date=b),type:"date",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.quotation_date}])},null,2),[[de,l.quotation_date]]),r.value.quotation_date?(v(),k("p",$de,h(r.value.quotation_date[0]),1)):P("",!0)]),i("div",null,[i("label",Cde,[te(h(y.__("Valid Until"))+" ",1),$[17]||($[17]=i("span",{class:"text-red-500"},"*",-1))]),W(i("input",{"onUpdate:modelValue":$[5]||($[5]=b=>l.valid_until=b),type:"date",class:ae(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.valid_until}])},null,2),[[de,l.valid_until]]),r.value.valid_until?(v(),k("p",Sde,h(r.value.valid_until[0]),1)):P("",!0)]),i("div",null,[i("label",Mde,h(y.__("Currency")),1),W(i("select",{"onUpdate:modelValue":$[6]||($[6]=b=>l.currency=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...$[18]||($[18]=[a1('<option value="MWK">MWK - Malawian Kwacha</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ZAR">ZAR - South African Rand</option>',5)])],512),[[qe,l.currency]])]),i("div",null,[i("label",Tde,h(y.__("Template")),1),W(i("select",{"onUpdate:modelValue":$[7]||($[7]=b=>l.template=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Dde,h(y.__("Style 1 - Classic")),1),i("option",Ade,h(y.__("Style 2 - Modern")),1),i("option",Ede,h(y.__("Style 3 - Colorful Header")),1),i("option",Pde,h(y.__("Style 4 - Bordered")),1),i("option",Ode,h(y.__("Style 5 - Info Banner")),1),i("option",Rde,h(y.__("Style 6 - Minimal")),1),i("option",Lde,h(y.__("Style 7 - Split Header")),1),i("option",Ide,h(y.__("Style 8 - Elegant")),1)],512),[[qe,l.template]])])])]),i("div",jde,[i("div",Fde,[i("h3",Nde,h(y.__("Items")),1),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:f},[T(p(li),{class:"mr-1 h-4 w-4"}),te(" "+h(y.__("Add Item")),1)])]),i("div",zde,[i("table",Bde,[i("thead",Ude,[i("tr",null,[i("th",Hde,h(y.__("Description")),1),i("th",Vde,h(y.__("Qty")),1),i("th",Wde,h(y.__("Unit Price")),1),i("th",qde,h(y.__("Total")),1),$[19]||($[19]=i("th",{class:"w-16 px-4 py-3"},null,-1))])]),i("tbody",Kde,[(v(!0),k(he,null,ke(l.items,(b,S)=>(v(),k("tr",{key:S},[i("td",Yde,[W(i("input",{"onUpdate:modelValue":M=>b.description=M,type:"text",placeholder:y.__("Item description *"),class:ae(["block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",r.value[`items.${S}.description`]?"border-red-300 bg-red-50":"border-gray-300"])},null,10,Gde),[[de,b.description]]),r.value[`items.${S}.description`]?(v(),k("p",Xde,h(y.__("Description is required")),1)):P("",!0)]),i("td",Jde,[W(i("input",{"onUpdate:modelValue":M=>b.quantity=M,type:"number",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:M=>g(S)},null,40,Qde),[[de,b.quantity,void 0,{number:!0}]])]),i("td",Zde,[W(i("input",{"onUpdate:modelValue":M=>b.unit_price=M,type:"number",min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:M=>g(S)},null,40,eue),[[de,b.unit_price,void 0,{number:!0}]])]),i("td",tue,h(_(b.quantity*b.unit_price)),1),i("td",sue,[l.items.length>1?(v(),k("button",{key:0,type:"button",class:"text-red-500 hover:text-red-700",onClick:M=>m(S)},[T(p(ls),{class:"h-5 w-5"})],8,nue)):P("",!0)])]))),128))])])]),r.value.items?(v(),k("p",oue,h(r.value.items[0]),1)):P("",!0)]),i("div",iue,[i("div",rue,[i("div",aue,[i("span",lue,h(y.__("Subtotal"))+":",1),i("span",cue,h(l.currency)+" "+h(_(c.value)),1)]),i("div",due,[i("span",uue,h(y.__("Tax Rate"))+" (%):",1),W(i("input",{"onUpdate:modelValue":$[8]||($[8]=b=>l.tax_rate=b),type:"number",min:"0",max:"100",step:"0.5",class:"w-20 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,l.tax_rate,void 0,{number:!0}]])]),i("div",hue,[i("span",fue,h(y.__("Tax Amount"))+":",1),i("span",pue,h(l.currency)+" "+h(_(d.value)),1)]),i("div",mue,[i("span",gue,h(y.__("Discount"))+":",1),W(i("input",{"onUpdate:modelValue":$[9]||($[9]=b=>l.discount_amount=b),type:"number",min:"0",step:"0.01",class:"w-24 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[de,l.discount_amount,void 0,{number:!0}]])]),i("div",_ue,[i("span",null,h(y.__("Total"))+":",1),i("span",vue,h(l.currency)+" "+h(_(u.value)),1)])])]),i("div",yue,[i("div",bue,[i("div",null,[i("label",xue,h(y.__("Notes")),1),W(i("textarea",{"onUpdate:modelValue":$[10]||($[10]=b=>l.notes=b),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:y.__("Additional notes for the customer")},null,8,wue),[[de,l.notes]])]),i("div",null,[i("label",kue,h(y.__("Terms & Conditions")),1),W(i("textarea",{"onUpdate:modelValue":$[11]||($[11]=b=>l.terms=b),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:y.__("Terms and conditions")},null,8,$ue),[[de,l.terms]])])])]),s.modelValue?(v(),k("div",Cue,[i("label",Sue,h(y.__("Status")),1),W(i("select",{"onUpdate:modelValue":$[12]||($[12]=b=>l.status=b),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Mue,h(y.__("Draft")),1),i("option",Tue,h(y.__("Sent")),1),i("option",Due,h(y.__("Accepted")),1),i("option",Aue,h(y.__("Rejected")),1),i("option",Eue,h(y.__("Expired")),1)],512),[[qe,l.status]])])):P("",!0)]),i("div",Pue,[T(Ue,{variant:"secondary",onClick:$[13]||($[13]=b=>y.$emit("close"))},{default:Y(()=>[te(h(y.__("Cancel")),1)]),_:1}),T(Ue,{disabled:o.value,onClick:w},{default:Y(()=>[te(h(s.modelValue?y.__("Update Quotation"):y.__("Create Quotation")),1)]),_:1},8,["disabled"])])]))}},Oue={key:0,class:"mt-8 flex justify-center"},Rue={key:1},Lue={class:"mb-6"},Iue={class:"text-2xl font-bold text-gray-900"},jue={class:"mt-1 text-sm text-gray-500"},Fue={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},Nue={class:"overflow-hidden rounded-lg bg-white shadow"},zue={class:"p-5"},Bue={class:"flex items-center"},Uue={class:"flex-shrink-0"},Hue={class:"ml-5 w-0 flex-1"},Vue={class:"truncate text-sm font-medium text-gray-500"},Wue={class:"text-lg font-semibold text-gray-900"},que={class:"overflow-hidden rounded-lg bg-white shadow"},Kue={class:"p-5"},Yue={class:"flex items-center"},Gue={class:"flex-shrink-0"},Xue={class:"ml-5 w-0 flex-1"},Jue={class:"truncate text-sm font-medium text-gray-500"},Que={class:"text-lg font-semibold text-gray-900"},Zue={class:"overflow-hidden rounded-lg bg-white shadow"},ehe={class:"p-5"},the={class:"flex items-center"},she={class:"flex-shrink-0"},nhe={class:"ml-5 w-0 flex-1"},ohe={class:"truncate text-sm font-medium text-gray-500"},ihe={class:"text-lg font-semibold text-gray-900"},rhe={class:"overflow-hidden rounded-lg bg-white shadow"},ahe={class:"p-5"},lhe={class:"flex items-center"},che={class:"flex-shrink-0"},dhe={class:"ml-5 w-0 flex-1"},uhe={class:"truncate text-sm font-medium text-gray-500"},hhe={class:"text-lg font-semibold text-gray-900"},fhe={class:"overflow-hidden rounded-lg bg-white shadow"},phe={class:"p-5"},mhe={class:"flex items-center"},ghe={class:"flex-shrink-0"},_he={class:"ml-5 w-0 flex-1"},vhe={class:"truncate text-sm font-medium text-gray-500"},yhe={class:"text-lg font-semibold text-gray-900"},bhe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},xhe={class:"flex flex-1 gap-2"},whe={class:"relative w-64 rounded-md shadow-sm"},khe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},$he=["placeholder"],Che={value:""},She={value:"draft"},Mhe={value:"sent"},The={value:"accepted"},Dhe={value:"rejected"},Ahe={value:"expired"},Ehe={class:"flex gap-2"},Phe={class:"flex flex-col"},Ohe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Rhe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Lhe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Ihe={class:"min-w-full divide-y divide-gray-200"},jhe={class:"divide-y divide-gray-200 bg-white"},Fhe={key:0,class:"hover:bg-gray-50"},Nhe={colspan:"7",class:"px-6 py-8 text-center text-gray-500"},zhe={class:"whitespace-nowrap px-6 py-4"},Bhe={class:"text-sm font-medium text-indigo-600"},Uhe={class:"whitespace-nowrap px-6 py-4"},Hhe={class:"text-sm font-medium text-gray-900"},Vhe={class:"text-sm text-gray-500"},Whe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},qhe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Khe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Yhe={class:"whitespace-nowrap px-6 py-4 text-sm"},Ghe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Xhe={class:"flex items-center justify-end gap-2"},Jhe={__name:"Index",setup(s){const e=ai(),t=I(!0),n=I(null),o=Do("quotations",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=mt({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{o.get()},300)},c=(b=null)=>{r.model=b,r.show=!0},d=b=>{e.push(`/quotations/${b}`)},u=async b=>{try{const S=await ue.get(`quotations/${b}/pdf`,{responseType:"blob"}),M=window.URL.createObjectURL(new Blob([S.data])),E=document.createElement("a");E.href=M,E.setAttribute("download",`quotation-${b}.pdf`),document.body.appendChild(E),E.click(),E.remove()}catch{}},f=()=>{o.get(),m()},m=async()=>{try{const b=await ue.get("quotations/statistics");n.value=b.data.data}catch{}},g=b=>b?new Date(b).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",_=b=>parseFloat(b||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),w=b=>"MWK "+_(b),y=b=>b?new Date(b)<new Date:!1,$=b=>({"bg-gray-100 text-gray-800":b==="draft","bg-blue-100 text-blue-800":b==="sent","bg-green-100 text-green-800":b==="accepted","bg-red-100 text-red-800":b==="rejected","bg-yellow-100 text-yellow-800":b==="expired"});return dt(async()=>{try{await o.get(),await m(),t.value=!1}catch{t.value=!1}}),(b,S)=>{var M,E,H;return t.value?(v(),k("div",Oue,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",Rue,[i("div",Lue,[i("h1",Iue,h(b.__("Quotations")),1),i("p",jue,h(b.__("Manage your quotations and proposals")),1)]),n.value?(v(),k("div",Fue,[i("div",Nue,[i("div",zue,[i("div",Bue,[i("div",Uue,[T(p(Ef),{class:"h-6 w-6 text-gray-400"})]),i("div",Hue,[i("dl",null,[i("dt",Vue,h(b.__("Total")),1),i("dd",Wue,h(n.value.total),1)])])])])]),i("div",que,[i("div",Kue,[i("div",Yue,[i("div",Gue,[T(p(Pr),{class:"h-6 w-6 text-gray-400"})]),i("div",Xue,[i("dl",null,[i("dt",Jue,h(b.__("Draft")),1),i("dd",Que,h(n.value.draft),1)])])])])]),i("div",Zue,[i("div",ehe,[i("div",the,[i("div",she,[T(p(lv),{class:"h-6 w-6 text-blue-400"})]),i("div",nhe,[i("dl",null,[i("dt",ohe,h(b.__("Sent")),1),i("dd",ihe,h(n.value.sent),1)])])])])]),i("div",rhe,[i("div",ahe,[i("div",lhe,[i("div",che,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",dhe,[i("dl",null,[i("dt",uhe,h(b.__("Accepted")),1),i("dd",hhe,h(n.value.accepted),1)])])])])]),i("div",fhe,[i("div",phe,[i("div",mhe,[i("div",ghe,[T(p(bd),{class:"h-6 w-6 text-indigo-400"})]),i("div",_he,[i("dl",null,[i("dt",vhe,h(b.__("Total Value")),1),i("dd",yhe,h(w(n.value.total_value)),1)])])])])])])):P("",!0),i("div",bhe,[i("div",xhe,[i("div",whe,[i("div",khe,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":S[0]||(S[0]=N=>p(o).params.search=N),type:"search",placeholder:b.__("Search quotations..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,$he),[[de,p(o).params.search]])]),W(i("select",{"onUpdate:modelValue":S[1]||(S[1]=N=>p(o).params.status=N),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[2]||(S[2]=N=>p(o).get())},[i("option",Che,h(b.__("All Statuses")),1),i("option",She,h(b.__("Draft")),1),i("option",Mhe,h(b.__("Sent")),1),i("option",The,h(b.__("Accepted")),1),i("option",Dhe,h(b.__("Rejected")),1),i("option",Ahe,h(b.__("Expired")),1)],544),[[qe,p(o).params.status]])]),i("div",Ehe,[T(Ue,{onClick:S[3]||(S[3]=N=>c())},{default:Y(()=>[T(p(li),{class:"mr-2 h-4 w-4"}),te(" "+h(b.__("New Quotation")),1)]),_:1})])]),i("section",null,[i("div",Phe,[i("div",Ohe,[i("div",Rhe,[i("div",Lhe,[i("table",Ihe,[i("thead",null,[i("tr",null,[T(He,{name:"quotation",index:p(o),label:b.__("Quotation #"),sort:"quotation_number"},null,8,["index","label"]),T(He,{name:"quotation",index:p(o),label:b.__("Customer"),sort:"customer_name"},null,8,["index","label"]),T(He,{name:"quotation",index:p(o),label:b.__("Date"),sort:"quotation_date"},null,8,["index","label"]),T(He,{name:"quotation",index:p(o),label:b.__("Valid Until"),sort:"valid_until"},null,8,["index","label"]),T(He,{name:"quotation",index:p(o),label:b.__("Amount"),sort:"total_amount"},null,8,["index","label"]),T(He,{name:"quotation",index:p(o),label:b.__("Status"),sort:"status"},null,8,["index","label"]),S[6]||(S[6]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",jhe,[(E=(M=p(o).data)==null?void 0:M.data)!=null&&E.length?P("",!0):(v(),k("tr",Fhe,[i("td",Nhe,h(b.__("No quotations found")),1)])),(v(!0),k(he,null,ke(((H=p(o).data)==null?void 0:H.data)||[],N=>(v(),k("tr",{key:N.id,class:"hover:bg-gray-50"},[i("td",zhe,[i("div",Bhe,h(N.quotation_number),1)]),i("td",Uhe,[i("div",Hhe,h(N.customer_name),1),i("div",Vhe,h(N.customer_email),1)]),i("td",Whe,h(g(N.quotation_date)),1),i("td",qhe,[i("span",{class:ae(y(N.valid_until)?"text-red-500":"")},h(g(N.valid_until)),3)]),i("td",Khe,h(N.currency)+" "+h(_(N.total_amount)),1),i("td",Yhe,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",$(N.status)])},h(N.status.charAt(0).toUpperCase()+N.status.slice(1)),3)]),i("td",Ghe,[i("div",Xhe,[T(p(qi),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>d(N.id)},null,8,["onClick"]),T(p(Af),{class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",onClick:F=>u(N.id)},null,8,["onClick"]),T(p(So),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>c(N)},null,8,["onClick"]),T(p(ls),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:F=>p(o).deleteIt(N.id)},null,8,["onClick"])])])]))),128))])]),T(qs,{index:p(o)},null,8,["index"])])])])])]),r.show?(v(),se(Fs,{key:1,size:"4xl",onClose:S[5]||(S[5]=N=>r.show=!1)},{default:Y(()=>[T(lb,{"model-value":r.model,onClose:S[4]||(S[4]=N=>r.show=!1),onSaved:f},null,8,["model-value"])]),_:1})):P("",!0)]))}}},Qhe={key:0,class:"mt-8 flex justify-center"},Zhe={key:1,class:"space-y-6"},efe={class:"flex items-center justify-between"},tfe={class:"text-2xl font-bold text-gray-900"},sfe={class:"mt-1 text-sm text-gray-500"},nfe={class:"flex items-center gap-3"},ofe={class:"flex gap-2"},ife={class:"flex gap-2"},rfe={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},afe={class:"lg:col-span-2"},lfe={class:"overflow-hidden rounded-lg bg-white shadow"},cfe={class:"p-6"},dfe={class:"mb-6 flex justify-between"},ufe={class:"text-xl font-bold text-gray-900"},hfe={class:"text-sm text-gray-500"},ffe={class:"text-right"},pfe={key:0,class:"text-sm text-gray-500"},mfe={key:1,class:"text-sm text-gray-500"},gfe={class:"mb-6 grid grid-cols-2 gap-6 border-t border-gray-200 pt-6"},_fe={class:"mb-2 text-sm font-semibold text-gray-700"},vfe={class:"font-medium text-gray-900"},yfe={class:"text-sm text-gray-500"},bfe={key:0,class:"text-sm text-gray-500"},xfe={key:1,class:"text-sm text-gray-500"},wfe={class:"text-right"},kfe={class:"mb-2"},$fe={class:"text-sm text-gray-500"},Cfe={class:"ml-2 font-medium"},Sfe={class:"mb-2"},Mfe={class:"text-sm text-gray-500"},Tfe={class:"mb-6 overflow-hidden rounded-lg border border-gray-200"},Dfe={class:"min-w-full divide-y divide-gray-200"},Afe={class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-white"},Efe={class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-white"},Pfe={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},Ofe={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},Rfe={class:"divide-y divide-gray-200 bg-white"},Lfe={class:"px-4 py-3"},Ife={class:"font-medium text-gray-900"},jfe={key:0,class:"text-sm text-gray-500"},Ffe={class:"px-4 py-3 text-center text-gray-500"},Nfe={class:"px-4 py-3 text-right text-gray-500"},zfe={class:"px-4 py-3 text-right font-medium text-gray-900"},Bfe={class:"flex justify-end"},Ufe={class:"w-64 space-y-2"},Hfe={class:"flex justify-between text-sm"},Vfe={class:"text-gray-500"},Wfe={class:"font-medium"},qfe={key:0,class:"flex justify-between text-sm"},Kfe={class:"text-gray-500"},Yfe={class:"font-medium"},Gfe={key:1,class:"flex justify-between text-sm"},Xfe={class:"text-gray-500"},Jfe={class:"font-medium text-red-500"},Qfe={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-bold"},Zfe={key:0,class:"mt-6 border-t border-gray-200 pt-6"},epe={key:0,class:"mb-4"},tpe={class:"mb-2 text-sm font-semibold text-gray-700"},spe={class:"whitespace-pre-line text-sm text-gray-500"},npe={key:1},ope={class:"mb-2 text-sm font-semibold text-gray-700"},ipe={class:"whitespace-pre-line text-sm text-gray-500"},rpe={class:"space-y-6"},ape={class:"overflow-hidden rounded-lg bg-white shadow"},lpe={class:"border-b border-gray-200 px-4 py-3"},cpe={class:"text-sm font-semibold text-gray-900"},dpe={class:"p-4 space-y-3"},upe={class:"flex justify-between"},hpe={class:"text-sm text-gray-500"},fpe={class:"text-sm font-medium"},ppe={class:"flex justify-between"},mpe={class:"text-sm text-gray-500"},gpe={class:"text-sm font-medium"},_pe={class:"flex justify-between"},vpe={class:"text-sm text-gray-500"},ype={class:"text-sm font-medium"},bpe={class:"overflow-hidden rounded-lg bg-white shadow"},xpe={class:"border-b border-gray-200 px-4 py-3"},wpe={class:"text-sm font-semibold text-gray-900"},kpe={class:"p-4"},$pe={class:"flow-root"},Cpe={class:"-mb-4"},Spe={class:"relative pb-4"},Mpe={class:"relative flex space-x-3"},Tpe={class:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 ring-4 ring-white"},Dpe={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},Ape={class:"text-sm text-gray-500"},Epe={class:"whitespace-nowrap text-right text-sm text-gray-500"},Ppe={__name:"Detail",setup(s){const e=wf(),t=ai(),n=I(!0),o=I(null),r=I(!1),a=Le(()=>{var $;return($=o.value)!=null&&$.valid_until?new Date(o.value.valid_until)<new Date:!1}),l=async()=>{try{const $=await ue.get(`quotations/${e.params.id}`);o.value=$.data.data}catch{}finally{n.value=!1}},c=async()=>{try{const $=await ue.get(`quotations/${o.value.id}/pdf`,{responseType:"blob"}),b=window.URL.createObjectURL(new Blob([$.data])),S=document.createElement("a");S.href=b,S.setAttribute("download",`${o.value.quotation_number}.pdf`),document.body.appendChild(S),S.click(),S.remove()}catch{}},d=async $=>{try{await ue.post(`quotations/${o.value.id}/change-status`,{status:$}),o.value.status=$}catch{}},u=()=>{r.value=!0},f=()=>{r.value=!1,l()},m=$=>$?new Date($).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",g=$=>$?new Date($).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",_=$=>parseFloat($||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),w=$=>({"bg-gray-100 text-gray-800":$==="draft","bg-blue-100 text-blue-800":$==="sent","bg-green-100 text-green-800":$==="accepted","bg-red-100 text-red-800":$==="rejected","bg-yellow-100 text-yellow-800":$==="expired"})[$]||"bg-gray-100 text-gray-800",y=$=>({style_1:"Classic",style_2:"Modern",style_3:"Colorful Header",style_4:"Bordered",style_5:"Info Banner",style_6:"Minimal",style_7:"Split Header",style_8:"Elegant"})[$]||$;return dt(()=>{l()}),($,b)=>{var S;return n.value?(v(),k("div",Qhe,[T(Nt,{size:"40",color:"#5850ec"})])):o.value?(v(),k("div",Zhe,[i("div",efe,[i("div",null,[i("button",{class:"mb-2 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:b[0]||(b[0]=M=>p(t).push("/quotations"))},[T(p(f4),{class:"mr-1 h-4 w-4"}),te(" "+h($.__("Back to Quotations")),1)]),i("h1",tfe,h(o.value.quotation_number),1),i("p",sfe,h($.__("Created on"))+" "+h(m(o.value.created_at)),1)]),i("div",nfe,[i("span",{class:ae(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",w(o.value.status)])},h(o.value.status.charAt(0).toUpperCase()+o.value.status.slice(1)),3),i("div",ofe,[T(Ue,{variant:"secondary",onClick:c},{default:Y(()=>[T(p(Af),{class:"mr-2 h-4 w-4"}),te(" "+h($.__("Download PDF")),1)]),_:1}),T(Ue,{onClick:u},{default:Y(()=>[T(p(So),{class:"mr-2 h-4 w-4"}),te(" "+h($.__("Edit")),1)]),_:1})])])]),i("div",ife,[o.value.status==="draft"?(v(),se(Ue,{key:0,variant:"secondary",size:"sm",onClick:b[1]||(b[1]=M=>d("sent"))},{default:Y(()=>[T(p(lv),{class:"mr-1 h-4 w-4"}),te(" "+h($.__("Mark as Sent")),1)]),_:1})):P("",!0),o.value.status==="sent"?(v(),se(Ue,{key:1,variant:"success",size:"sm",onClick:b[2]||(b[2]=M=>d("accepted"))},{default:Y(()=>[T(p(b4),{class:"mr-1 h-4 w-4"}),te(" "+h($.__("Mark as Accepted")),1)]),_:1})):P("",!0),o.value.status==="sent"?(v(),se(Ue,{key:2,variant:"danger",size:"sm",onClick:b[3]||(b[3]=M=>d("rejected"))},{default:Y(()=>[T(p(kd),{class:"mr-1 h-4 w-4"}),te(" "+h($.__("Mark as Rejected")),1)]),_:1})):P("",!0)]),i("div",rfe,[i("div",afe,[i("div",lfe,[i("div",cfe,[i("div",dfe,[i("div",null,[i("h2",ufe,h($.__("QUOTATION")),1),i("p",hfe,"# "+h(o.value.quotation_number),1)]),i("div",ffe,[i("div",{class:"text-lg font-bold",style:Mt({color:o.value.color||"#2568ef"})},h(o.value.business_name||"Your Company"),5),o.value.business_address?(v(),k("p",pfe,h(o.value.business_address),1)):P("",!0),o.value.business_phone?(v(),k("p",mfe,h(o.value.business_phone),1)):P("",!0)])]),i("div",gfe,[i("div",null,[i("h3",_fe,h($.__("Bill To")),1),i("p",vfe,h(o.value.customer_name),1),i("p",yfe,h(o.value.customer_email),1),o.value.customer_phone?(v(),k("p",bfe,h(o.value.customer_phone),1)):P("",!0),o.value.customer_address?(v(),k("p",xfe,h(o.value.customer_address),1)):P("",!0)]),i("div",wfe,[i("div",kfe,[i("span",$fe,h($.__("Date"))+":",1),i("span",Cfe,h(m(o.value.quotation_date)),1)]),i("div",Sfe,[i("span",Mfe,h($.__("Valid Until"))+":",1),i("span",{class:ae(["ml-2 font-medium",a.value?"text-red-500":""])},h(m(o.value.valid_until)),3)])])]),i("div",Tfe,[i("table",Dfe,[i("thead",null,[i("tr",{style:Mt({backgroundColor:o.value.color||"#2568ef"})},[i("th",Afe,h($.__("Description")),1),i("th",Efe,h($.__("Qty")),1),i("th",Pfe,h($.__("Price")),1),i("th",Ofe,h($.__("Total")),1)],4)]),i("tbody",Rfe,[(v(!0),k(he,null,ke(o.value.items,M=>(v(),k("tr",{key:M.id},[i("td",Lfe,[i("div",Ife,h(M.description),1),M.details?(v(),k("div",jfe,h(M.details),1)):P("",!0)]),i("td",Ffe,h(M.quantity),1),i("td",Nfe,h(_(M.unit_price)),1),i("td",zfe,h(_(M.total)),1)]))),128))])])]),i("div",Bfe,[i("div",Ufe,[i("div",Hfe,[i("span",Vfe,h($.__("Subtotal"))+":",1),i("span",Wfe,h(o.value.currency)+" "+h(_(o.value.subtotal)),1)]),o.value.tax_rate>0?(v(),k("div",qfe,[i("span",Kfe,h($.__("Tax"))+" ("+h(o.value.tax_rate)+"%):",1),i("span",Yfe,h(o.value.currency)+" "+h(_(o.value.tax_amount)),1)])):P("",!0),o.value.discount_amount>0?(v(),k("div",Gfe,[i("span",Xfe,h($.__("Discount"))+":",1),i("span",Jfe,"-"+h(o.value.currency)+" "+h(_(o.value.discount_amount)),1)])):P("",!0),i("div",Qfe,[i("span",null,h($.__("Total"))+":",1),i("span",{style:Mt({color:o.value.color||"#2568ef"})},h(o.value.currency)+" "+h(_(o.value.total_amount)),5)])])]),o.value.notes||o.value.terms?(v(),k("div",Zfe,[o.value.notes?(v(),k("div",epe,[i("h4",tpe,h($.__("Notes")),1),i("p",spe,h(o.value.notes),1)])):P("",!0),o.value.terms?(v(),k("div",npe,[i("h4",ope,h($.__("Terms & Conditions")),1),i("p",ipe,h(o.value.terms),1)])):P("",!0)])):P("",!0)])])]),i("div",rpe,[i("div",ape,[i("div",lpe,[i("h3",cpe,h($.__("Quick Info")),1)]),i("div",dpe,[i("div",upe,[i("span",hpe,h($.__("Created By"))+":",1),i("span",fpe,h(((S=o.value.user)==null?void 0:S.name)||"-"),1)]),i("div",ppe,[i("span",mpe,h($.__("Template"))+":",1),i("span",gpe,h(y(o.value.template)),1)]),i("div",_pe,[i("span",vpe,h($.__("Currency"))+":",1),i("span",ype,h(o.value.currency),1)])])]),i("div",bpe,[i("div",xpe,[i("h3",wpe,h($.__("Timeline")),1)]),i("div",kpe,[i("div",$pe,[i("ul",Cpe,[i("li",Spe,[i("div",Mpe,[i("div",null,[i("span",Tpe,[T(p(Ef),{class:"h-4 w-4 text-indigo-600"})])]),i("div",Dpe,[i("div",null,[i("p",Ape,h($.__("Quotation created")),1)]),i("div",Epe,h(g(o.value.created_at)),1)])])])])])])])])]),r.value?(v(),se(Fs,{key:0,size:"4xl",onSaved:f},{default:Y(()=>[T(lb,{"model-value":o.value,onClose:b[4]||(b[4]=M=>r.value=!1)},null,8,["model-value"])]),_:1})):P("",!0)])):P("",!0)}}},Ope={class:"space-y-6"},Rpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Lpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ipe={class:"mt-1 sm:col-span-2 sm:mt-0"},jpe={class:"flex gap-2"},Fpe=["placeholder"],Npe={key:0,class:"mt-2 text-sm text-red-600"},zpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Bpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Upe={class:"mt-1 sm:col-span-2 sm:mt-0"},Hpe={key:0,class:"mt-2 text-sm text-red-600"},Vpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Wpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qpe={class:"mt-1 sm:col-span-2 sm:mt-0"},Kpe={class:"flex gap-2"},Ype={value:""},Gpe=["value"],Xpe=["placeholder"],Jpe={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Qpe={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Zpe={class:"mt-1 sm:col-span-2 sm:mt-0"},eme=["placeholder"],tme={key:0,class:"mt-2 text-sm text-red-600"},sme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nme={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ome={class:"mt-1 sm:col-span-2 sm:mt-0"},ime=["placeholder"],rme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ame={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lme={class:"mt-1 sm:col-span-2 sm:mt-0"},cme={key:0,class:"mb-2 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-2"},dme={class:"flex items-center"},ume={class:"text-sm text-gray-700"},hme={class:"space-y-1 text-center"},fme={class:"flex text-sm text-gray-600"},pme={for:"receipt-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},mme={class:"pl-1"},gme={class:"text-xs text-gray-500"},_me={key:1,class:"mt-2 flex items-center justify-between rounded-md border border-green-200 bg-green-50 p-2"},vme={class:"flex items-center"},yme={class:"text-sm text-green-700"},bme={class:"ml-2 text-xs text-green-600"},xme={key:2,class:"mt-2 text-sm text-red-600"},wme={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=I(null),r=I(!1),a=I(!1),l=I(null),c=["Travel","Meals & Entertainment","Office Supplies","Equipment","Software & Subscriptions","Professional Services","Utilities","Marketing","Training & Education","Transportation","Accommodation","Communication","Miscellaneous"],d=dl("expenses",{amount:"",currency:"MWK",expense_date:new Date().toISOString().split("T")[0],category:"",description:"",notes:"",receipt:null}),u=()=>{a.value=!a.value,a.value||(d.category="")},f=b=>{const S=b.target.files[0];S&&g(S)},m=b=>{r.value=!1;const S=b.dataTransfer.files[0];S&&g(S)},g=b=>{if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(b.type)){alert("Please upload a PDF, JPG, JPEG, or PNG file.");return}if(b.size>5242880){alert("File size must be less than 5MB.");return}d.receipt=b,l.value=null},_=()=>{d.receipt=null,o.value&&(o.value.value="")},w=()=>{l.value=null},y=b=>b<1024?b+" B":b<1024*1024?(b/1024).toFixed(1)+" KB":(b/(1024*1024)).toFixed(1)+" MB",$=async()=>{var S,M,E;const b=new FormData;b.append("amount",d.amount),b.append("currency",d.currency),b.append("expense_date",d.expense_date),b.append("category",d.category||""),b.append("description",d.description),b.append("notes",d.notes||""),d.receipt&&b.append("receipt",d.receipt);try{d.processing=!0,d.errors={};let H;d.id?(b.append("_method","PUT"),H=await ue.post(`expenses/${d.id}`,b,{headers:{"Content-Type":"multipart/form-data"}})):H=await ue.post("expenses",b,{headers:{"Content-Type":"multipart/form-data"}}),n("close")}catch(H){((S=H.response)==null?void 0:S.status)===422?d.errors=H.response.data.errors||{}:alert(((E=(M=H.response)==null?void 0:M.data)==null?void 0:E.message)||"Failed to save expense")}finally{d.processing=!1}};return Ft(()=>t.modelValue,b=>{var S;b?(d.id=b.id,d.amount=b.amount,d.currency=b.currency||"MWK",d.expense_date=((S=b.expense_date)==null?void 0:S.split("T")[0])||"",d.category=b.category||"",d.description=b.description||"",d.notes=b.notes||"",d.receipt=null,l.value=b.receipt_name||null,b.category&&!c.includes(b.category)&&(a.value=!0)):(d.reset(),d.currency="MWK",d.expense_date=new Date().toISOString().split("T")[0],l.value=null,a.value=!1)},{immediate:!0}),(b,S)=>(v(),se(Mo,{"external-form":p(d),onSubmit:$,onCancel:S[10]||(S[10]=M=>n("close"))},{title:Y(()=>[te(h(p(d).id?b.__("Edit Expense"):b.__("Add Expense")),1)]),default:Y(()=>[i("div",Ope,[i("div",Rpe,[i("label",Lpe,[te(h(b.__("Amount"))+" ",1),S[11]||(S[11]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Ipe,[i("div",jpe,[W(i("select",{"onUpdate:modelValue":S[0]||(S[0]=M=>p(d).currency=M),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...S[12]||(S[12]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1),i("option",{value:"ZAR"},"ZAR",-1)])],512),[[qe,p(d).currency]]),W(i("input",{"onUpdate:modelValue":S[1]||(S[1]=M=>p(d).amount=M),type:"number",step:"0.01",min:"0",class:ae(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(d).errors.amount}]),placeholder:b.__("Enter amount"),required:""},null,10,Fpe),[[de,p(d).amount]])]),p(d).errors.amount?(v(),k("p",Npe,h(p(d).errors.amount),1)):P("",!0)])]),i("div",zpe,[i("label",Bpe,[te(h(b.__("Expense Date"))+" ",1),S[13]||(S[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Upe,[W(i("input",{"onUpdate:modelValue":S[2]||(S[2]=M=>p(d).expense_date=M),type:"date",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(d).errors.expense_date}]),required:""},null,2),[[de,p(d).expense_date]]),p(d).errors.expense_date?(v(),k("p",Hpe,h(p(d).errors.expense_date),1)):P("",!0)])]),i("div",Vpe,[i("label",Wpe,h(b.__("Category")),1),i("div",qpe,[i("div",Kpe,[a.value?W((v(),k("input",{key:1,"onUpdate:modelValue":S[4]||(S[4]=M=>p(d).category=M),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Enter custom category")},null,8,Xpe)),[[de,p(d).category]]):W((v(),k("select",{key:0,"onUpdate:modelValue":S[3]||(S[3]=M=>p(d).category=M),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Ype,h(b.__("Select category")),1),(v(),k(he,null,ke(c,M=>i("option",{key:M,value:M},h(M),9,Gpe)),64))],512)),[[qe,p(d).category]]),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:u},h(a.value?b.__("Select"):b.__("Custom")),1)])])]),i("div",Jpe,[i("label",Qpe,[te(h(b.__("Description"))+" ",1),S[14]||(S[14]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Zpe,[W(i("input",{"onUpdate:modelValue":S[5]||(S[5]=M=>p(d).description=M),type:"text",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(d).errors.description}]),placeholder:b.__("Brief description of the expense"),required:""},null,10,eme),[[de,p(d).description]]),p(d).errors.description?(v(),k("p",tme,h(p(d).errors.description),1)):P("",!0)])]),i("div",sme,[i("label",nme,h(b.__("Notes")),1),i("div",ome,[W(i("textarea",{"onUpdate:modelValue":S[6]||(S[6]=M=>p(d).notes=M),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:b.__("Additional notes or details (optional)")},null,8,ime),[[de,p(d).notes]])])]),i("div",rme,[i("label",ame,h(b.__("Receipt")),1),i("div",lme,[l.value&&!p(d).receipt?(v(),k("div",cme,[i("div",dme,[T(p(Ic),{class:"mr-2 h-5 w-5 text-gray-400"}),i("span",ume,h(l.value),1)]),i("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:w},h(b.__("Remove")),1)])):P("",!0),i("div",{class:ae(["flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pb-6 pt-5",{"border-indigo-500 bg-indigo-50":r.value}]),onDragenter:S[7]||(S[7]=et(M=>r.value=!0,["prevent"])),onDragleave:S[8]||(S[8]=et(M=>r.value=!1,["prevent"])),onDragover:S[9]||(S[9]=et(()=>{},["prevent"])),onDrop:et(m,["prevent"])},[i("div",hme,[T(p(g4),{class:"mx-auto h-12 w-12 text-gray-400"}),i("div",fme,[i("label",pme,[i("span",null,h(b.__("Upload a file")),1),i("input",{id:"receipt-upload",ref_key:"fileInput",ref:o,type:"file",class:"sr-only",accept:".pdf,.jpg,.jpeg,.png",onChange:f},null,544)]),i("p",mme,h(b.__("or drag and drop")),1)]),i("p",gme,h(b.__("PDF, JPG, JPEG, PNG up to 5MB")),1)])],34),p(d).receipt?(v(),k("div",_me,[i("div",vme,[T(p(Ic),{class:"mr-2 h-5 w-5 text-green-600"}),i("span",yme,h(p(d).receipt.name),1),i("span",bme,"("+h(y(p(d).receipt.size))+")",1)]),i("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:_},h(b.__("Remove")),1)])):P("",!0),p(d).errors.receipt?(v(),k("p",xme,h(p(d).errors.receipt),1)):P("",!0)])])])]),_:1},8,["external-form"]))}},kme={key:0,class:"mt-8 flex justify-center"},$me={key:1},Cme={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Sme={class:"overflow-hidden rounded-lg bg-white shadow"},Mme={class:"p-5"},Tme={class:"flex items-center"},Dme={class:"flex-shrink-0"},Ame={class:"ml-5 w-0 flex-1"},Eme={class:"truncate text-sm font-medium text-gray-500"},Pme={class:"text-lg font-semibold text-gray-900"},Ome={class:"overflow-hidden rounded-lg bg-white shadow"},Rme={class:"p-5"},Lme={class:"flex items-center"},Ime={class:"flex-shrink-0"},jme={class:"ml-5 w-0 flex-1"},Fme={class:"truncate text-sm font-medium text-gray-500"},Nme={class:"text-lg font-semibold text-gray-900"},zme={class:"overflow-hidden rounded-lg bg-white shadow"},Bme={class:"p-5"},Ume={class:"flex items-center"},Hme={class:"flex-shrink-0"},Vme={class:"ml-5 w-0 flex-1"},Wme={class:"truncate text-sm font-medium text-gray-500"},qme={class:"text-lg font-semibold text-gray-900"},Kme={class:"overflow-hidden rounded-lg bg-white shadow"},Yme={class:"p-5"},Gme={class:"flex items-center"},Xme={class:"flex-shrink-0"},Jme={class:"ml-5 w-0 flex-1"},Qme={class:"truncate text-sm font-medium text-gray-500"},Zme={class:"text-lg font-semibold text-gray-900"},e0e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},t0e={class:"flex flex-1 flex-wrap gap-2"},s0e={class:"relative w-64 rounded-md shadow-sm"},n0e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},o0e=["placeholder"],i0e={value:""},r0e={value:"pending"},a0e={value:"approved"},l0e={value:"rejected"},c0e={value:""},d0e=["value"],u0e={class:"ltr:ml-auto rtl:mr-auto"},h0e={class:"flex flex-col"},f0e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},p0e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},m0e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},g0e={class:"min-w-full divide-y divide-gray-200"},_0e={class:"divide-y divide-gray-200 bg-white"},v0e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},y0e={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},b0e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},x0e={key:0,class:"inline-flex rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800"},w0e={key:1,class:"text-gray-400"},k0e={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},$0e={class:"whitespace-nowrap px-6 py-4 text-sm"},C0e={class:"whitespace-nowrap px-6 py-4"},S0e={class:"flex items-center"},M0e={class:"h-8 w-8 flex-shrink-0"},T0e={class:"ml-3"},D0e={class:"text-sm font-medium text-gray-900"},A0e={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},E0e=["href","title"],P0e={key:0},O0e={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},R0e={class:"p-6"},L0e={class:"flex items-center justify-between mb-4"},I0e={class:"text-lg font-semibold text-gray-900"},j0e={key:0,class:"space-y-4"},F0e={class:"grid grid-cols-2 gap-4"},N0e={class:"block text-sm font-medium text-gray-700"},z0e={class:"mt-1 text-sm text-gray-900"},B0e={class:"block text-sm font-medium text-gray-700"},U0e={class:"mt-1 text-sm font-semibold text-gray-900"},H0e={class:"block text-sm font-medium text-gray-700"},V0e={class:"mt-1 text-sm text-gray-900"},W0e={class:"block text-sm font-medium text-gray-700"},q0e={class:"mt-1"},K0e={class:"block text-sm font-medium text-gray-700"},Y0e={class:"mt-1 text-sm text-gray-900"},G0e={class:"block text-sm font-medium text-gray-700"},X0e={class:"mt-1 text-sm text-gray-900"},J0e={class:"block text-sm font-medium text-gray-700"},Q0e={class:"mt-1 text-sm text-gray-900"},Z0e={key:0},ege={class:"block text-sm font-medium text-gray-700"},tge={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},sge={key:1},nge={class:"block text-sm font-medium text-gray-700"},oge=["href"],ige={key:2},rge={class:"block text-sm font-medium text-gray-700"},age={class:"mt-1 text-sm text-gray-900"},lge={class:"text-sm text-gray-500"},cge={class:"mt-6 flex justify-end"},dge={class:"p-6"},uge={class:"flex items-center justify-between mb-4"},hge={class:"text-lg font-semibold text-gray-900"},fge={class:"space-y-4"},pge={class:"text-sm text-gray-700"},mge={class:"rounded-md bg-gray-50 p-3"},gge={class:"text-sm font-medium text-gray-900"},_ge={class:"text-sm text-gray-600"},vge={class:"mt-6 flex justify-end space-x-3"},yge={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I([]),o=I(null),r=I(!1),a=Do("expenses",{search:"",status:"",category:"",start_date:"",end_date:"",sort_by:"expense_date",sort_order:"desc",per_page:15}),l=mt({show:!1,model:null}),c=mt({show:!1,expense:null}),d=mt({show:!1,action:null,expense:null});let u=null;const f=()=>{clearTimeout(u),u=setTimeout(()=>{a.get()},300)},m=(F=null)=>{l.model=F,l.show=!0},g=F=>{c.expense=F,c.show=!0},_=F=>{d.expense=F,d.action="approve",d.show=!0},w=F=>{d.expense=F,d.action="reject",d.show=!0},y=async()=>{var F,R;try{const A=d.action==="approve"?"approve":"reject";await ue.post(`expenses/${d.expense.id}/${A}`),d.show=!1,a.get(),b()}catch(A){alert(((R=(F=A.response)==null?void 0:F.data)==null?void 0:R.message)||"Failed to process expense")}},$=()=>{a.get(),b(),S()},b=async()=>{try{const F=await ue.get("expenses/statistics");t.value=F.data.data}catch{}},S=async()=>{try{const F=await ue.get("expenses/categories");n.value=F.data.data}catch{}},M=F=>F?new Date(F).toLocaleDateString():"-",E=F=>F?new Date(F).toLocaleString():"-",H=F=>F?parseFloat(F).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",N=F=>F?"MWK "+H(F):"MWK 0.00";return dt(async()=>{var F,R;o.value=(F=gt.user)==null?void 0:F.id,r.value=((R=gt.user)==null?void 0:R.is_super_admin)||!1,await Promise.all([a.get(),b(),S()]),e.value=!1}),(F,R)=>e.value?(v(),k("div",kme,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",$me,[t.value?(v(),k("div",Cme,[i("div",Sme,[i("div",Mme,[i("div",Tme,[i("div",Dme,[T(p(Co),{class:"h-6 w-6 text-yellow-400"})]),i("div",Ame,[i("dl",null,[i("dt",Eme,h(F.__("Pending")),1),i("dd",Pme,h(t.value.pending),1)])])])])]),i("div",Ome,[i("div",Rme,[i("div",Lme,[i("div",Ime,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",jme,[i("dl",null,[i("dt",Fme,h(F.__("Approved")),1),i("dd",Nme,h(t.value.approved),1)])])])])]),i("div",zme,[i("div",Bme,[i("div",Ume,[i("div",Hme,[T(p(Tf),{class:"h-6 w-6 text-blue-400"})]),i("div",Vme,[i("dl",null,[i("dt",Wme,h(F.__("This Month")),1),i("dd",qme,h(N(t.value.this_month)),1)])])])])]),i("div",Kme,[i("div",Yme,[i("div",Gme,[i("div",Xme,[T(p(bd),{class:"h-6 w-6 text-purple-400"})]),i("div",Jme,[i("dl",null,[i("dt",Qme,h(F.__("Total Expenses")),1),i("dd",Zme,h(N(t.value.total_expenses)),1)])])])])])])):P("",!0),i("div",e0e,[i("div",t0e,[i("div",s0e,[i("div",n0e,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":R[0]||(R[0]=A=>p(a).params.search=A),type:"search",placeholder:F.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:f},null,40,o0e),[[de,p(a).params.search]])]),W(i("select",{"onUpdate:modelValue":R[1]||(R[1]=A=>p(a).params.status=A),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:R[2]||(R[2]=A=>p(a).get())},[i("option",i0e,h(F.__("All Statuses")),1),i("option",r0e,h(F.__("Pending")),1),i("option",a0e,h(F.__("Approved")),1),i("option",l0e,h(F.__("Rejected")),1)],544),[[qe,p(a).params.status]]),W(i("select",{"onUpdate:modelValue":R[3]||(R[3]=A=>p(a).params.category=A),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:R[4]||(R[4]=A=>p(a).get())},[i("option",c0e,h(F.__("All Categories")),1),(v(!0),k(he,null,ke(n.value,A=>(v(),k("option",{key:A,value:A},h(A),9,d0e))),128))],544),[[qe,p(a).params.category]]),W(i("input",{"onUpdate:modelValue":R[5]||(R[5]=A=>p(a).params.start_date=A),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:R[6]||(R[6]=A=>p(a).get())},null,544),[[de,p(a).params.start_date]]),W(i("input",{"onUpdate:modelValue":R[7]||(R[7]=A=>p(a).params.end_date=A),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:R[8]||(R[8]=A=>p(a).get())},null,544),[[de,p(a).params.end_date]])]),i("div",u0e,[T(Ue,{size:"sm",onClick:R[9]||(R[9]=A=>m())},{default:Y(()=>[te(h(F.__("Add Expense")),1)]),_:1})])]),i("section",null,[i("div",h0e,[i("div",f0e,[i("div",p0e,[i("div",m0e,[i("table",g0e,[i("thead",null,[i("tr",null,[T(He,{name:"expense",index:p(a),label:F.__("Date"),sort:"expense_date"},null,8,["index","label"]),T(He,{name:"expense",index:p(a),label:F.__("Description")},null,8,["index","label"]),T(He,{name:"expense",index:p(a),label:F.__("Category"),sort:"category"},null,8,["index","label"]),T(He,{name:"expense",index:p(a),label:F.__("Amount"),sort:"amount"},null,8,["index","label"]),T(He,{name:"expense",index:p(a),label:F.__("Status"),sort:"status"},null,8,["index","label"]),T(He,{name:"expense",index:p(a),label:F.__("Submitted By")},null,8,["index","label"]),R[15]||(R[15]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",_0e,[(v(!0),k(he,null,ke(p(a).data.data,A=>{var ee;return v(),k("tr",{key:A.id,class:"hover:bg-gray-50"},[i("td",v0e,h(M(A.expense_date)),1),i("td",y0e,h(A.description),1),i("td",b0e,[A.category?(v(),k("span",x0e,h(A.category),1)):(v(),k("span",w0e,"-"))]),i("td",k0e,h(A.currency)+" "+h(H(A.amount)),1),i("td",$0e,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":A.status==="pending","bg-green-100 text-green-800":A.status==="approved","bg-red-100 text-red-800":A.status==="rejected"}])},h(A.status.charAt(0).toUpperCase()+A.status.slice(1)),3)]),i("td",C0e,[i("div",S0e,[i("div",M0e,[T(ps,{user:A.user,size:"8"},null,8,["user"])]),i("div",T0e,[i("div",D0e,h((ee=A.user)==null?void 0:ee.name),1)])])]),i("td",A0e,[A.status==="pending"&&r.value?(v(),k(he,{key:0},[T(Ue,{size:"xs",variant:"success",onClick:q=>_(A)},{default:Y(()=>[te(h(F.__("Approve")),1)]),_:1},8,["onClick"]),T(Ue,{size:"xs",variant:"danger",class:"ml-2",onClick:q=>w(A)},{default:Y(()=>[te(h(F.__("Reject")),1)]),_:1},8,["onClick"])],64)):P("",!0),A.receipt_path?(v(),k("a",{key:1,href:`/storage/${A.receipt_path}`,target:"_blank",class:"ml-2 text-gray-400 hover:text-gray-600",title:F.__("View Receipt")},[T(p(Ic),{class:"h-5 w-5"})],8,E0e)):P("",!0),A.status==="pending"&&(A.user_id===o.value||r.value)?(v(),k(he,{key:2},[T(p(So),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:q=>m(A)},null,8,["onClick"]),T(p(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:q=>p(a).deleteIt(A.id)},null,8,["onClick"])],64)):P("",!0),T(p(qi),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:q=>g(A)},null,8,["onClick"])])])}),128)),!p(a).data.data||p(a).data.data.length===0?(v(),k("tr",P0e,[i("td",O0e,h(F.__("No expenses found")),1)])):P("",!0)])]),T(qs,{index:p(a)},null,8,["index"])])])])])]),l.show?(v(),se(Fs,{key:1,size:"lg",onSaved:$},{default:Y(()=>[T(wme,{"model-value":l.model,onClose:R[10]||(R[10]=A=>l.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),c.show?(v(),se(Zn,{key:2,width:"max-w-2xl"},{default:Y(()=>{var A,ee;return[i("div",R0e,[i("div",L0e,[i("h3",I0e,h(F.__("Expense Details")),1),i("button",{onClick:R[11]||(R[11]=q=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),c.expense?(v(),k("div",j0e,[i("div",F0e,[i("div",null,[i("label",N0e,h(F.__("Date")),1),i("p",z0e,h(M(c.expense.expense_date)),1)]),i("div",null,[i("label",B0e,h(F.__("Amount")),1),i("p",U0e,h(c.expense.currency)+" "+h(H(c.expense.amount)),1)]),i("div",null,[i("label",H0e,h(F.__("Category")),1),i("p",V0e,h(c.expense.category||"-"),1)]),i("div",null,[i("label",W0e,h(F.__("Status")),1),i("p",q0e,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":c.expense.status==="pending","bg-green-100 text-green-800":c.expense.status==="approved","bg-red-100 text-red-800":c.expense.status==="rejected"}])},h(c.expense.status.charAt(0).toUpperCase()+c.expense.status.slice(1)),3)])]),i("div",null,[i("label",K0e,h(F.__("Submitted By")),1),i("p",Y0e,h((A=c.expense.user)==null?void 0:A.name),1)]),i("div",null,[i("label",G0e,h(F.__("Submitted On")),1),i("p",X0e,h(E(c.expense.created_at)),1)])]),i("div",null,[i("label",J0e,h(F.__("Description")),1),i("p",Q0e,h(c.expense.description),1)]),c.expense.notes?(v(),k("div",Z0e,[i("label",ege,h(F.__("Notes")),1),i("p",tge,h(c.expense.notes),1)])):P("",!0),c.expense.receipt_path?(v(),k("div",sge,[i("label",nge,h(F.__("Receipt")),1),i("a",{href:`/storage/${c.expense.receipt_path}`,target:"_blank",class:"mt-1 inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[T(p(Ic),{class:"mr-1 h-4 w-4"}),te(" "+h(c.expense.receipt_name||F.__("View Receipt")),1)],8,oge)])):P("",!0),c.expense.approver?(v(),k("div",ige,[i("label",rge,h(c.expense.status==="approved"?F.__("Approved By"):F.__("Rejected By")),1),i("p",age,h((ee=c.expense.approver)==null?void 0:ee.name),1),i("p",lge,h(E(c.expense.approved_at)),1)])):P("",!0)])):P("",!0),i("div",cge,[T(Ue,{onClick:R[12]||(R[12]=q=>c.show=!1)},{default:Y(()=>[te(h(F.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),d.show?(v(),se(Zn,{key:3,width:"max-w-md"},{default:Y(()=>{var A,ee,q;return[i("div",dge,[i("div",uge,[i("h3",hge,h(d.action==="approve"?F.__("Approve Expense"):F.__("Reject Expense")),1),i("button",{onClick:R[13]||(R[13]=_e=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),i("div",fge,[i("p",pge,h(d.action==="approve"?F.__("Are you sure you want to approve this expense?"):F.__("Are you sure you want to reject this expense?")),1),i("div",mge,[i("p",gge,h((A=d.expense)==null?void 0:A.description),1),i("p",_ge,h((ee=d.expense)==null?void 0:ee.currency)+" "+h(H((q=d.expense)==null?void 0:q.amount)),1)])]),i("div",vge,[T(Ue,{white:"",onClick:R[14]||(R[14]=_e=>d.show=!1)},{default:Y(()=>[te(h(F.__("Cancel")),1)]),_:1}),T(Ue,{class:ae(d.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:y},{default:Y(()=>[te(h(d.action==="approve"?F.__("Approve"):F.__("Reject")),1)]),_:1},8,["class"])])])]}),_:1})):P("",!0)]))}},bge={class:"space-y-6"},xge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kge={class:"mt-1 sm:col-span-2 sm:mt-0"},$ge={class:"flex gap-2"},Cge=["placeholder"],Sge={key:0,class:"mt-2 text-sm text-red-600"},Mge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Tge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Dge={class:"mt-1 sm:col-span-2 sm:mt-0"},Age={key:0,class:"mt-2 text-sm text-red-600"},Ege={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Pge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Oge={class:"mt-1 sm:col-span-2 sm:mt-0"},Rge={value:""},Lge={value:"sales"},Ige={value:"services"},jge={value:"consulting"},Fge={value:"adsense"},Nge={value:"quotation"},zge={value:"other"},Bge={key:0,class:"mt-2 text-sm text-red-600"},Uge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Hge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Vge={class:"mt-1 sm:col-span-2 sm:mt-0"},Wge={class:"flex gap-2"},qge={value:""},Kge=["value"],Yge=["placeholder"],Gge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Xge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Jge={class:"mt-1 sm:col-span-2 sm:mt-0"},Qge=["placeholder"],Zge={key:0,class:"mt-2 text-sm text-red-600"},e_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},t_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},s_e={class:"mt-1 sm:col-span-2 sm:mt-0"},n_e=["placeholder"],o_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},i_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},r_e={class:"mt-1 sm:col-span-2 sm:mt-0"},a_e=["placeholder"],l_e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},c_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},d_e={class:"mt-1 sm:col-span-2 sm:mt-0"},u_e={value:null},h_e=["value"],f_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},p_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},m_e={class:"mt-1 sm:col-span-2 sm:mt-0"},g_e={value:"pending"},__e={value:"received"},v_e={value:"cancelled"},y_e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},b_e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},x_e={class:"mt-1 sm:col-span-2 sm:mt-0"},w_e=["placeholder"],k_e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=I(!1),r=I([]),a=["Product Sales","Service Revenue","Consulting Fees","Advertising Revenue","Subscription Income","Commission","Rental Income","Interest Income","Royalties","Miscellaneous"],l=dl("income",{amount:"",currency:"MWK",income_date:new Date().toISOString().split("T")[0],source:"",category:"",description:"",invoice_number:"",client_name:"",quotation_id:null,status:"pending",notes:""}),c=()=>{o.value=!o.value,o.value||(l.category="")},d=m=>m?parseFloat(m).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",u=async()=>{try{const m=await ue.get("quotations",{params:{per_page:100}});r.value=m.data.data||[]}catch{}},f=async()=>{var m,g,_;try{l.processing=!0,l.errors={};const w={amount:l.amount,currency:l.currency,income_date:l.income_date,source:l.source,category:l.category||null,description:l.description,invoice_number:l.invoice_number||null,client_name:l.client_name||null,quotation_id:l.quotation_id||null,status:l.status,notes:l.notes||null};l.id?await ue.put(`income/${l.id}`,w):await ue.post("income",w),n("close")}catch(w){((m=w.response)==null?void 0:m.status)===422?l.errors=w.response.data.errors||{}:alert(((_=(g=w.response)==null?void 0:g.data)==null?void 0:_.message)||"Failed to save income")}finally{l.processing=!1}};return Ft(()=>t.modelValue,m=>{var g;m?(l.id=m.id,l.amount=m.amount,l.currency=m.currency||"MWK",l.income_date=((g=m.income_date)==null?void 0:g.split("T")[0])||"",l.source=m.source||"",l.category=m.category||"",l.description=m.description||"",l.invoice_number=m.invoice_number||"",l.client_name=m.client_name||"",l.quotation_id=m.quotation_id||null,l.status=m.status||"pending",l.notes=m.notes||"",m.category&&!a.includes(m.category)&&(o.value=!0)):(l.reset(),l.currency="MWK",l.income_date=new Date().toISOString().split("T")[0],l.status="pending",o.value=!1)},{immediate:!0}),dt(()=>{u()}),(m,g)=>(v(),se(Mo,{"external-form":p(l),onSubmit:f,onCancel:g[12]||(g[12]=_=>n("close"))},{title:Y(()=>[te(h(p(l).id?m.__("Edit Income"):m.__("Add Income")),1)]),default:Y(()=>[i("div",bge,[i("div",xge,[i("label",wge,[te(h(m.__("Amount"))+" ",1),g[13]||(g[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",kge,[i("div",$ge,[W(i("select",{"onUpdate:modelValue":g[0]||(g[0]=_=>p(l).currency=_),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...g[14]||(g[14]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1),i("option",{value:"ZAR"},"ZAR",-1)])],512),[[qe,p(l).currency]]),W(i("input",{"onUpdate:modelValue":g[1]||(g[1]=_=>p(l).amount=_),type:"number",step:"0.01",min:"0",class:ae(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(l).errors.amount}]),placeholder:m.__("Enter amount"),required:""},null,10,Cge),[[de,p(l).amount]])]),p(l).errors.amount?(v(),k("p",Sge,h(p(l).errors.amount),1)):P("",!0)])]),i("div",Mge,[i("label",Tge,[te(h(m.__("Income Date"))+" ",1),g[15]||(g[15]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Dge,[W(i("input",{"onUpdate:modelValue":g[2]||(g[2]=_=>p(l).income_date=_),type:"date",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(l).errors.income_date}]),required:""},null,2),[[de,p(l).income_date]]),p(l).errors.income_date?(v(),k("p",Age,h(p(l).errors.income_date),1)):P("",!0)])]),i("div",Ege,[i("label",Pge,[te(h(m.__("Source"))+" ",1),g[16]||(g[16]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Oge,[W(i("select",{"onUpdate:modelValue":g[3]||(g[3]=_=>p(l).source=_),class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(l).errors.source}]),required:""},[i("option",Rge,h(m.__("Select source")),1),i("option",Lge,h(m.__("Sales")),1),i("option",Ige,h(m.__("Services")),1),i("option",jge,h(m.__("Consulting")),1),i("option",Fge,h(m.__("AdSense")),1),i("option",Nge,h(m.__("Quotation")),1),i("option",zge,h(m.__("Other")),1)],2),[[qe,p(l).source]]),p(l).errors.source?(v(),k("p",Bge,h(p(l).errors.source),1)):P("",!0)])]),i("div",Uge,[i("label",Hge,h(m.__("Category")),1),i("div",Vge,[i("div",Wge,[o.value?W((v(),k("input",{key:1,"onUpdate:modelValue":g[5]||(g[5]=_=>p(l).category=_),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Enter custom category")},null,8,Yge)),[[de,p(l).category]]):W((v(),k("select",{key:0,"onUpdate:modelValue":g[4]||(g[4]=_=>p(l).category=_),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",qge,h(m.__("Select category")),1),(v(),k(he,null,ke(a,_=>i("option",{key:_,value:_},h(_),9,Kge)),64))],512)),[[qe,p(l).category]]),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:c},h(o.value?m.__("Select"):m.__("Custom")),1)])])]),i("div",Gge,[i("label",Xge,[te(h(m.__("Description"))+" ",1),g[17]||(g[17]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Jge,[W(i("textarea",{"onUpdate:modelValue":g[6]||(g[6]=_=>p(l).description=_),rows:"3",class:ae(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":p(l).errors.description}]),placeholder:m.__("Description of the income"),required:""},null,10,Qge),[[de,p(l).description]]),p(l).errors.description?(v(),k("p",Zge,h(p(l).errors.description),1)):P("",!0)])]),i("div",e_e,[i("label",t_e,h(m.__("Invoice Number")),1),i("div",s_e,[W(i("input",{"onUpdate:modelValue":g[7]||(g[7]=_=>p(l).invoice_number=_),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Invoice or reference number (optional)")},null,8,n_e),[[de,p(l).invoice_number]])])]),i("div",o_e,[i("label",i_e,h(m.__("Client Name")),1),i("div",r_e,[W(i("input",{"onUpdate:modelValue":g[8]||(g[8]=_=>p(l).client_name=_),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Client or payer name (optional)")},null,8,a_e),[[de,p(l).client_name]])])]),r.value.length>0?(v(),k("div",l_e,[i("label",c_e,h(m.__("Related Quotation")),1),i("div",d_e,[W(i("select",{"onUpdate:modelValue":g[9]||(g[9]=_=>p(l).quotation_id=_),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",u_e,h(m.__("None")),1),(v(!0),k(he,null,ke(r.value,_=>{var w;return v(),k("option",{key:_.id,value:_.id},h(_.quotation_number||`#${_.id}`)+" - "+h(((w=_.client)==null?void 0:w.name)||"N/A")+" ("+h(_.currency)+" "+h(d(_.total))+") ",9,h_e)}),128))],512),[[qe,p(l).quotation_id]])])])):P("",!0),i("div",f_e,[i("label",p_e,h(m.__("Status")),1),i("div",m_e,[W(i("select",{"onUpdate:modelValue":g[10]||(g[10]=_=>p(l).status=_),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",g_e,h(m.__("Pending")),1),i("option",__e,h(m.__("Received")),1),i("option",v_e,h(m.__("Cancelled")),1)],512),[[qe,p(l).status]])])]),i("div",y_e,[i("label",b_e,h(m.__("Notes")),1),i("div",x_e,[W(i("textarea",{"onUpdate:modelValue":g[11]||(g[11]=_=>p(l).notes=_),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:m.__("Additional notes (optional)")},null,8,w_e),[[de,p(l).notes]])])])])]),_:1},8,["external-form"]))}},$_e={key:0,class:"mt-8 flex justify-center"},C_e={key:1},S_e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},M_e={class:"overflow-hidden rounded-lg bg-white shadow"},T_e={class:"p-5"},D_e={class:"flex items-center"},A_e={class:"flex-shrink-0"},E_e={class:"ml-5 w-0 flex-1"},P_e={class:"truncate text-sm font-medium text-gray-500"},O_e={class:"text-lg font-semibold text-gray-900"},R_e={class:"overflow-hidden rounded-lg bg-white shadow"},L_e={class:"p-5"},I_e={class:"flex items-center"},j_e={class:"flex-shrink-0"},F_e={class:"ml-5 w-0 flex-1"},N_e={class:"truncate text-sm font-medium text-gray-500"},z_e={class:"text-lg font-semibold text-gray-900"},B_e={class:"overflow-hidden rounded-lg bg-white shadow"},U_e={class:"p-5"},H_e={class:"flex items-center"},V_e={class:"flex-shrink-0"},W_e={class:"ml-5 w-0 flex-1"},q_e={class:"truncate text-sm font-medium text-gray-500"},K_e={class:"text-lg font-semibold text-gray-900"},Y_e={class:"overflow-hidden rounded-lg bg-white shadow"},G_e={class:"p-5"},X_e={class:"flex items-center"},J_e={class:"flex-shrink-0"},Q_e={class:"ml-5 w-0 flex-1"},Z_e={class:"truncate text-sm font-medium text-gray-500"},e1e={class:"text-lg font-semibold text-gray-900"},t1e={class:"overflow-hidden rounded-lg bg-white shadow"},s1e={class:"p-5"},n1e={class:"flex items-center"},o1e={class:"flex-shrink-0"},i1e={class:"ml-5 w-0 flex-1"},r1e={class:"truncate text-sm font-medium text-gray-500"},a1e={class:"text-lg font-semibold text-gray-900"},l1e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},c1e={class:"flex flex-1 flex-wrap gap-2"},d1e={class:"relative w-64 rounded-md shadow-sm"},u1e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},h1e=["placeholder"],f1e={value:""},p1e={value:"pending"},m1e={value:"received"},g1e={value:"cancelled"},_1e={value:""},v1e={value:"sales"},y1e={value:"services"},b1e={value:"consulting"},x1e={value:"adsense"},w1e={value:"quotation"},k1e={value:"other"},$1e={class:"ltr:ml-auto rtl:mr-auto"},C1e={class:"flex flex-col"},S1e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},M1e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},T1e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},D1e={class:"min-w-full divide-y divide-gray-200"},A1e={class:"divide-y divide-gray-200 bg-white"},E1e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},P1e={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},O1e={key:0,class:"text-xs text-gray-500"},R1e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},L1e={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},I1e={class:"whitespace-nowrap px-6 py-4 text-sm"},j1e={class:"whitespace-nowrap px-6 py-4"},F1e={class:"flex items-center"},N1e={class:"h-8 w-8 flex-shrink-0"},z1e={class:"ml-3"},B1e={class:"text-sm font-medium text-gray-900"},U1e={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},H1e={key:0},V1e={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},W1e={class:"p-6"},q1e={class:"flex items-center justify-between mb-4"},K1e={class:"text-lg font-semibold text-gray-900"},Y1e={key:0,class:"space-y-4"},G1e={class:"grid grid-cols-2 gap-4"},X1e={class:"block text-sm font-medium text-gray-700"},J1e={class:"mt-1 text-sm text-gray-900"},Q1e={class:"block text-sm font-medium text-gray-700"},Z1e={class:"mt-1 text-sm font-semibold text-gray-900"},eve={class:"block text-sm font-medium text-gray-700"},tve={class:"mt-1"},sve={class:"block text-sm font-medium text-gray-700"},nve={class:"mt-1"},ove={class:"block text-sm font-medium text-gray-700"},ive={class:"mt-1 text-sm text-gray-900"},rve={class:"block text-sm font-medium text-gray-700"},ave={class:"mt-1 text-sm text-gray-900"},lve={key:0},cve={class:"block text-sm font-medium text-gray-700"},dve={class:"mt-1 text-sm text-gray-900"},uve={key:1},hve={class:"block text-sm font-medium text-gray-700"},fve={class:"mt-1 text-sm text-gray-900"},pve={class:"block text-sm font-medium text-gray-700"},mve={class:"mt-1 text-sm text-gray-900"},gve={key:0},_ve={class:"block text-sm font-medium text-gray-700"},vve={class:"mt-1 text-sm text-gray-900"},yve={key:1},bve={class:"block text-sm font-medium text-gray-700"},xve={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},wve={key:2},kve={class:"block text-sm font-medium text-gray-700"},$ve={class:"mt-1 text-sm text-gray-900"},Cve={class:"text-sm text-gray-500"},Sve={key:3},Mve={class:"block text-sm font-medium text-gray-700"},Tve={class:"mt-1 text-sm text-indigo-600"},Dve={class:"mt-6 flex justify-end"},Ave={class:"p-6"},Eve={class:"flex items-center justify-between mb-4"},Pve={class:"text-lg font-semibold text-gray-900"},Ove={class:"space-y-4"},Rve={class:"text-sm text-gray-700"},Lve={class:"rounded-md bg-gray-50 p-3"},Ive={class:"text-sm font-medium text-gray-900"},jve={class:"text-sm text-gray-600"},Fve={class:"mt-6 flex justify-end space-x-3"},Nve={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I(null),o=I(!1),r=Do("income",{search:"",status:"",source:"",start_date:"",end_date:"",sort_by:"income_date",sort_order:"desc",per_page:15}),a=mt({show:!1,model:null}),l=mt({show:!1,income:null}),c=mt({show:!1,income:null});let d=null;const u=()=>{clearTimeout(d),d=setTimeout(()=>{r.get()},300)},f=(N=null)=>{a.model=N,a.show=!0},m=N=>{l.income=N,l.show=!0},g=N=>{c.income=N,c.show=!0},_=async()=>{var N,F;try{await ue.post(`income/${c.income.id}/mark-as-received`),c.show=!1,r.get(),y()}catch(R){alert(((F=(N=R.response)==null?void 0:N.data)==null?void 0:F.message)||"Failed to mark income as received")}},w=()=>{r.get(),y()},y=async()=>{try{const N=await ue.get("income/statistics");t.value=N.data.data}catch{}},$=N=>N?new Date(N).toLocaleDateString():"-",b=N=>N?new Date(N).toLocaleString():"-",S=N=>N?parseFloat(N).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",M=N=>N?"MWK "+S(N):"MWK 0.00",E=N=>({sales:"Sales",services:"Services",consulting:"Consulting",adsense:"AdSense",quotation:"Quotation",other:"Other"})[N]||N,H=N=>({sales:"bg-blue-100 text-blue-800",services:"bg-green-100 text-green-800",consulting:"bg-purple-100 text-purple-800",adsense:"bg-yellow-100 text-yellow-800",quotation:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"})[N]||"bg-gray-100 text-gray-800";return dt(async()=>{var N,F;n.value=(N=gt.user)==null?void 0:N.id,o.value=((F=gt.user)==null?void 0:F.is_super_admin)||!1,await Promise.all([r.get(),y()]),e.value=!1}),(N,F)=>e.value?(v(),k("div",$_e,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",C_e,[t.value?(v(),k("div",S_e,[i("div",M_e,[i("div",T_e,[i("div",D_e,[i("div",A_e,[T(p(bd),{class:"h-6 w-6 text-green-400"})]),i("div",E_e,[i("dl",null,[i("dt",P_e,h(N.__("Total Income")),1),i("dd",O_e,h(M(t.value.total_income)),1)])])])])]),i("div",R_e,[i("div",L_e,[i("div",I_e,[i("div",j_e,[T(p(Co),{class:"h-6 w-6 text-yellow-400"})]),i("div",F_e,[i("dl",null,[i("dt",N_e,h(N.__("Pending")),1),i("dd",z_e,h(t.value.pending),1)])])])])]),i("div",B_e,[i("div",U_e,[i("div",H_e,[i("div",V_e,[T(p($n),{class:"h-6 w-6 text-green-400"})]),i("div",W_e,[i("dl",null,[i("dt",q_e,h(N.__("Received")),1),i("dd",K_e,h(t.value.received),1)])])])])]),i("div",Y_e,[i("div",G_e,[i("div",X_e,[i("div",J_e,[T(p(Tf),{class:"h-6 w-6 text-blue-400"})]),i("div",Q_e,[i("dl",null,[i("dt",Z_e,h(N.__("This Month")),1),i("dd",e1e,h(M(t.value.this_month)),1)])])])])]),i("div",t1e,[i("div",s1e,[i("div",n1e,[i("div",o1e,[T(p(m4),{class:"h-6 w-6 text-purple-400"})]),i("div",i1e,[i("dl",null,[i("dt",r1e,h(N.__("Last Month")),1),i("dd",a1e,h(M(t.value.last_month)),1)])])])])])])):P("",!0),i("div",l1e,[i("div",c1e,[i("div",d1e,[i("div",u1e,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":F[0]||(F[0]=R=>p(r).params.search=R),type:"search",placeholder:N.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,h1e),[[de,p(r).params.search]])]),W(i("select",{"onUpdate:modelValue":F[1]||(F[1]=R=>p(r).params.status=R),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[2]||(F[2]=R=>p(r).get())},[i("option",f1e,h(N.__("All Statuses")),1),i("option",p1e,h(N.__("Pending")),1),i("option",m1e,h(N.__("Received")),1),i("option",g1e,h(N.__("Cancelled")),1)],544),[[qe,p(r).params.status]]),W(i("select",{"onUpdate:modelValue":F[3]||(F[3]=R=>p(r).params.source=R),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[4]||(F[4]=R=>p(r).get())},[i("option",_1e,h(N.__("All Sources")),1),i("option",v1e,h(N.__("Sales")),1),i("option",y1e,h(N.__("Services")),1),i("option",b1e,h(N.__("Consulting")),1),i("option",x1e,h(N.__("AdSense")),1),i("option",w1e,h(N.__("Quotation")),1),i("option",k1e,h(N.__("Other")),1)],544),[[qe,p(r).params.source]]),W(i("input",{"onUpdate:modelValue":F[5]||(F[5]=R=>p(r).params.start_date=R),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[6]||(F[6]=R=>p(r).get())},null,544),[[de,p(r).params.start_date]]),W(i("input",{"onUpdate:modelValue":F[7]||(F[7]=R=>p(r).params.end_date=R),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:F[8]||(F[8]=R=>p(r).get())},null,544),[[de,p(r).params.end_date]])]),i("div",$1e,[T(Ue,{size:"sm",onClick:F[9]||(F[9]=R=>f())},{default:Y(()=>[te(h(N.__("Add Income")),1)]),_:1})])]),i("section",null,[i("div",C1e,[i("div",S1e,[i("div",M1e,[i("div",T1e,[i("table",D1e,[i("thead",null,[i("tr",null,[T(He,{name:"income",index:p(r),label:N.__("Date"),sort:"income_date"},null,8,["index","label"]),T(He,{name:"income",index:p(r),label:N.__("Description")},null,8,["index","label"]),T(He,{name:"income",index:p(r),label:N.__("Source"),sort:"source"},null,8,["index","label"]),T(He,{name:"income",index:p(r),label:N.__("Amount"),sort:"amount"},null,8,["index","label"]),T(He,{name:"income",index:p(r),label:N.__("Status"),sort:"status"},null,8,["index","label"]),T(He,{name:"income",index:p(r),label:N.__("Created By")},null,8,["index","label"]),F[15]||(F[15]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",A1e,[(v(!0),k(he,null,ke(p(r).data.data,R=>{var A;return v(),k("tr",{key:R.id,class:"hover:bg-gray-50"},[i("td",E1e,h($(R.income_date)),1),i("td",P1e,[i("div",null,h(R.description),1),R.client_name?(v(),k("div",O1e,h(R.client_name),1)):P("",!0)]),i("td",R1e,[i("span",{class:ae(["inline-flex rounded-full px-2 py-1 text-xs font-medium",H(R.source)])},h(E(R.source)),3)]),i("td",L1e,h(R.currency)+" "+h(S(R.amount)),1),i("td",I1e,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":R.status==="pending","bg-green-100 text-green-800":R.status==="received","bg-red-100 text-red-800":R.status==="cancelled"}])},h(R.status.charAt(0).toUpperCase()+R.status.slice(1)),3)]),i("td",j1e,[i("div",F1e,[i("div",N1e,[T(ps,{user:R.user,size:"8"},null,8,["user"])]),i("div",z1e,[i("div",B1e,h((A=R.user)==null?void 0:A.name),1)])])]),i("td",U1e,[R.status==="pending"&&o.value?(v(),se(Ue,{key:0,size:"xs",variant:"success",onClick:ee=>g(R)},{default:Y(()=>[te(h(N.__("Mark Received")),1)]),_:1},8,["onClick"])):P("",!0),R.status==="pending"&&(R.user_id===n.value||o.value)?(v(),k(he,{key:1},[T(p(So),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:ee=>f(R)},null,8,["onClick"]),T(p(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:ee=>p(r).deleteIt(R.id)},null,8,["onClick"])],64)):P("",!0),T(p(qi),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:ee=>m(R)},null,8,["onClick"])])])}),128)),!p(r).data.data||p(r).data.data.length===0?(v(),k("tr",H1e,[i("td",V1e,h(N.__("No income records found")),1)])):P("",!0)])]),T(qs,{index:p(r)},null,8,["index"])])])])])]),a.show?(v(),se(Fs,{key:1,size:"lg",onSaved:w},{default:Y(()=>[T(k_e,{"model-value":a.model,onClose:F[10]||(F[10]=R=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),l.show?(v(),se(Zn,{key:2,width:"max-w-2xl"},{default:Y(()=>{var R,A;return[i("div",W1e,[i("div",q1e,[i("h3",K1e,h(N.__("Income Details")),1),i("button",{onClick:F[11]||(F[11]=ee=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),l.income?(v(),k("div",Y1e,[i("div",G1e,[i("div",null,[i("label",X1e,h(N.__("Date")),1),i("p",J1e,h($(l.income.income_date)),1)]),i("div",null,[i("label",Q1e,h(N.__("Amount")),1),i("p",Z1e,h(l.income.currency)+" "+h(S(l.income.amount)),1)]),i("div",null,[i("label",eve,h(N.__("Source")),1),i("p",tve,[i("span",{class:ae(["inline-flex rounded-full px-2 py-1 text-xs font-medium",H(l.income.source)])},h(E(l.income.source)),3)])]),i("div",null,[i("label",sve,h(N.__("Status")),1),i("p",nve,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.income.status==="pending","bg-green-100 text-green-800":l.income.status==="received","bg-red-100 text-red-800":l.income.status==="cancelled"}])},h(l.income.status.charAt(0).toUpperCase()+l.income.status.slice(1)),3)])]),i("div",null,[i("label",ove,h(N.__("Created By")),1),i("p",ive,h((R=l.income.user)==null?void 0:R.name),1)]),i("div",null,[i("label",rve,h(N.__("Created On")),1),i("p",ave,h(b(l.income.created_at)),1)]),l.income.invoice_number?(v(),k("div",lve,[i("label",cve,h(N.__("Invoice Number")),1),i("p",dve,h(l.income.invoice_number),1)])):P("",!0),l.income.client_name?(v(),k("div",uve,[i("label",hve,h(N.__("Client")),1),i("p",fve,h(l.income.client_name),1)])):P("",!0)]),i("div",null,[i("label",pve,h(N.__("Description")),1),i("p",mve,h(l.income.description),1)]),l.income.category?(v(),k("div",gve,[i("label",_ve,h(N.__("Category")),1),i("p",vve,h(l.income.category),1)])):P("",!0),l.income.notes?(v(),k("div",yve,[i("label",bve,h(N.__("Notes")),1),i("p",xve,h(l.income.notes),1)])):P("",!0),l.income.receiver?(v(),k("div",wve,[i("label",kve,h(N.__("Received By")),1),i("p",$ve,h((A=l.income.receiver)==null?void 0:A.name),1),i("p",Cve,h(b(l.income.received_at)),1)])):P("",!0),l.income.quotation?(v(),k("div",Sve,[i("label",Mve,h(N.__("Related Quotation")),1),i("p",Tve,h(l.income.quotation.quotation_number||`#${l.income.quotation.id}`),1)])):P("",!0)])):P("",!0),i("div",Dve,[T(Ue,{onClick:F[12]||(F[12]=ee=>l.show=!1)},{default:Y(()=>[te(h(N.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),c.show?(v(),se(Zn,{key:3,width:"max-w-md"},{default:Y(()=>{var R,A,ee;return[i("div",Ave,[i("div",Eve,[i("h3",Pve,h(N.__("Mark as Received")),1),i("button",{onClick:F[13]||(F[13]=q=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),i("div",Ove,[i("p",Rve,h(N.__("Are you sure you want to mark this income as received?")),1),i("div",Lve,[i("p",Ive,h((R=c.income)==null?void 0:R.description),1),i("p",jve,h((A=c.income)==null?void 0:A.currency)+" "+h(S((ee=c.income)==null?void 0:ee.amount)),1)])]),i("div",Fve,[T(Ue,{white:"",onClick:F[14]||(F[14]=q=>c.show=!1)},{default:Y(()=>[te(h(N.__("Cancel")),1)]),_:1}),T(Ue,{onClick:_},{default:Y(()=>[te(h(N.__("Mark Received")),1)]),_:1})])])]}),_:1})):P("",!0)]))}},zve={key:0,class:"mt-8 flex justify-center"},Bve={key:1},Uve={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Hve={class:"overflow-hidden rounded-lg bg-white shadow"},Vve={class:"p-5"},Wve={class:"flex items-center"},qve={class:"flex-shrink-0"},Kve={class:"ml-5 w-0 flex-1"},Yve={class:"truncate text-sm font-medium text-gray-500"},Gve={class:"text-lg font-semibold text-gray-900"},Xve={class:"overflow-hidden rounded-lg bg-white shadow"},Jve={class:"p-5"},Qve={class:"flex items-center"},Zve={class:"flex-shrink-0"},eye={class:"ml-5 w-0 flex-1"},tye={class:"truncate text-sm font-medium text-gray-500"},sye={class:"text-lg font-semibold text-gray-900"},nye={class:"overflow-hidden rounded-lg bg-white shadow"},oye={class:"p-5"},iye={class:"flex items-center"},rye={class:"flex-shrink-0"},aye={class:"ml-5 w-0 flex-1"},lye={class:"truncate text-sm font-medium text-gray-500"},cye={class:"text-lg font-semibold text-gray-900"},dye={class:"overflow-hidden rounded-lg bg-white shadow"},uye={class:"p-5"},hye={class:"flex items-center"},fye={class:"flex-shrink-0"},pye={class:"ml-5 w-0 flex-1"},mye={class:"truncate text-sm font-medium text-gray-500"},gye={class:"text-lg font-semibold text-gray-900"},_ye={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},vye={class:"flex flex-1 flex-wrap gap-2"},yye={class:"relative w-64 rounded-md shadow-sm"},bye={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},xye=["placeholder"],wye={value:""},kye={value:"created"},$ye={value:"updated"},Cye={value:"deleted"},Sye={value:""},Mye=["value"],Tye={value:""},Dye=["value"],Aye={class:"flex flex-col"},Eye={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Pye={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Oye={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Rye={class:"min-w-full divide-y divide-gray-200"},Lye={class:"divide-y divide-gray-200 bg-white"},Iye={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},jye={class:"whitespace-nowrap px-6 py-4"},Fye={key:0,class:"flex items-center"},Nye={class:"h-8 w-8 flex-shrink-0"},zye={class:"ml-3"},Bye={class:"text-sm font-medium text-gray-900"},Uye={key:1,class:"text-sm text-gray-400"},Hye={class:"whitespace-nowrap px-6 py-4 text-sm"},Vye={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Wye={class:"inline-flex rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700"},qye={class:"ml-1 text-gray-400"},Kye={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},Yye={key:0,class:"text-green-600"},Gye={key:1,class:"text-red-600"},Xye={key:2},Jye={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Qye={key:0},Zye={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},ebe={class:"p-6"},tbe={class:"flex items-center justify-between mb-4"},sbe={class:"text-lg font-semibold text-gray-900"},nbe={key:0,class:"space-y-4"},obe={class:"grid grid-cols-2 gap-4 border-b pb-4"},ibe={class:"block text-sm font-medium text-gray-700"},rbe={class:"mt-1 text-sm text-gray-900"},abe={class:"block text-sm font-medium text-gray-700"},lbe={class:"mt-1 text-sm text-gray-900"},cbe={class:"block text-sm font-medium text-gray-700"},dbe={class:"mt-1"},ube={class:"block text-sm font-medium text-gray-700"},hbe={class:"mt-1 text-sm text-gray-900"},fbe={key:0},pbe={class:"block text-sm font-medium text-gray-700"},mbe={class:"mt-1 text-sm text-gray-900"},gbe={key:1},_be={class:"block text-sm font-medium text-gray-700"},vbe=["title"],ybe={key:0,class:"space-y-4"},bbe={class:"text-sm font-semibold text-gray-700"},xbe={class:"grid grid-cols-2 gap-4"},wbe={class:"block text-sm font-medium text-red-600 mb-2"},kbe={class:"bg-red-50 rounded-md p-3 max-h-64 overflow-auto"},$be={class:"text-xs text-gray-800 whitespace-pre-wrap"},Cbe={class:"block text-sm font-medium text-green-600 mb-2"},Sbe={class:"bg-green-50 rounded-md p-3 max-h-64 overflow-auto"},Mbe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Tbe={key:1,class:"space-y-2"},Dbe={class:"text-sm font-semibold text-gray-700"},Abe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Ebe={class:"mt-6 flex justify-end"},Pbe={__name:"Index",setup(s){const e=I(!0),t=I(null),n=I([]),o=I([]),r=Do("audit-trails",{search:"",event:"",model_type:"",user_id:"",start_date:"",end_date:"",sort_by:"created_at",sort_order:"desc",per_page:20}),a=mt({show:!1,audit:null});let l=null;const c=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},d=b=>{a.audit=b,a.show=!0},u=b=>({created:"bg-green-100 text-green-800",updated:"bg-blue-100 text-blue-800",deleted:"bg-red-100 text-red-800",restored:"bg-yellow-100 text-yellow-800"})[b]||"bg-gray-100 text-gray-800",f=b=>{if(!b)return"Unknown";const S=b.split("\\");return S[S.length-1]},m=(b,S)=>{if(!b)return"-";const M=Object.keys(b);return M.length===0?"-":S==="created"?`Created with ${M.length} field(s)`:S==="deleted"?"Deleted record":M.length<=2?M.join(", ")+" changed":`${M.length} field(s) changed`},g=b=>b?new Date(b).toLocaleString():"-",_=b=>{if(!b)return"-";try{return JSON.stringify(b,null,2)}catch{return String(b)}},w=async()=>{try{const b=await ue.get("audit-trails/statistics");t.value=b.data}catch{}},y=async()=>{try{const b=await ue.get("audit-trails/model-types");n.value=b.data}catch{}},$=async()=>{try{const b=await ue.get("users");o.value=b.data.data||b.data}catch{}};return dt(async()=>{await Promise.all([r.get(),w(),y(),$()]),e.value=!1}),(b,S)=>e.value?(v(),k("div",zve,[T(Nt,{size:"40",color:"#5850ec"})])):(v(),k("div",Bve,[t.value?(v(),k("div",Uve,[i("div",Hve,[i("div",Vve,[i("div",Wve,[i("div",qve,[T(p(iv),{class:"h-6 w-6 text-blue-400"})]),i("div",Kve,[i("dl",null,[i("dt",Yve,h(b.__("Total Activities")),1),i("dd",Gve,h(t.value.total),1)])])])])]),i("div",Xve,[i("div",Jve,[i("div",Qve,[i("div",Zve,[T(p(Qn),{class:"h-6 w-6 text-green-400"})]),i("div",eye,[i("dl",null,[i("dt",tye,h(b.__("Today")),1),i("dd",sye,h(t.value.today),1)])])])])]),i("div",nye,[i("div",oye,[i("div",iye,[i("div",rye,[T(p(ov),{class:"h-6 w-6 text-yellow-400"})]),i("div",aye,[i("dl",null,[i("dt",lye,h(b.__("This Week")),1),i("dd",cye,h(t.value.this_week),1)])])])])]),i("div",dye,[i("div",uye,[i("div",hye,[i("div",fye,[T(p(Df),{class:"h-6 w-6 text-purple-400"})]),i("div",pye,[i("dl",null,[i("dt",mye,h(b.__("This Month")),1),i("dd",gye,h(t.value.this_month),1)])])])])])])):P("",!0),i("div",_ye,[i("div",vye,[i("div",yye,[i("div",bye,[T(p(to),{class:"h-5 w-5 text-gray-400"})]),W(i("input",{"onUpdate:modelValue":S[0]||(S[0]=M=>p(r).params.search=M),type:"search",placeholder:b.__("Search changes..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:c},null,40,xye),[[de,p(r).params.search]])]),W(i("select",{"onUpdate:modelValue":S[1]||(S[1]=M=>p(r).params.event=M),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[2]||(S[2]=M=>p(r).get())},[i("option",wye,h(b.__("All Events")),1),i("option",kye,h(b.__("Created")),1),i("option",$ye,h(b.__("Updated")),1),i("option",Cye,h(b.__("Deleted")),1)],544),[[qe,p(r).params.event]]),W(i("select",{"onUpdate:modelValue":S[3]||(S[3]=M=>p(r).params.model_type=M),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[4]||(S[4]=M=>p(r).get())},[i("option",Sye,h(b.__("All Models")),1),(v(!0),k(he,null,ke(n.value,M=>(v(),k("option",{key:M.value,value:M.label},h(M.label),9,Mye))),128))],544),[[qe,p(r).params.model_type]]),W(i("select",{"onUpdate:modelValue":S[5]||(S[5]=M=>p(r).params.user_id=M),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[6]||(S[6]=M=>p(r).get())},[i("option",Tye,h(b.__("All Users")),1),(v(!0),k(he,null,ke(o.value,M=>(v(),k("option",{key:M.id,value:M.id},h(M.name),9,Dye))),128))],544),[[qe,p(r).params.user_id]]),W(i("input",{"onUpdate:modelValue":S[7]||(S[7]=M=>p(r).params.start_date=M),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[8]||(S[8]=M=>p(r).get())},null,544),[[de,p(r).params.start_date]]),W(i("input",{"onUpdate:modelValue":S[9]||(S[9]=M=>p(r).params.end_date=M),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[10]||(S[10]=M=>p(r).get())},null,544),[[de,p(r).params.end_date]])])]),i("section",null,[i("div",Aye,[i("div",Eye,[i("div",Pye,[i("div",Oye,[i("table",Rye,[i("thead",null,[i("tr",null,[T(He,{name:"audit",index:p(r),label:b.__("Date/Time"),sort:"created_at"},null,8,["index","label"]),T(He,{name:"audit",index:p(r),label:b.__("User")},null,8,["index","label"]),T(He,{name:"audit",index:p(r),label:b.__("Event"),sort:"event"},null,8,["index","label"]),T(He,{name:"audit",index:p(r),label:b.__("Model")},null,8,["index","label"]),T(He,{name:"audit",index:p(r),label:b.__("Changes")},null,8,["index","label"]),S[13]||(S[13]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",Lye,[(v(!0),k(he,null,ke(p(r).data.data,M=>(v(),k("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",Iye,h(g(M.created_at)),1),i("td",jye,[M.user?(v(),k("div",Fye,[i("div",Nye,[T(ps,{user:M.user,size:"8"},null,8,["user"])]),i("div",zye,[i("div",Bye,h(M.user.name),1)])])):(v(),k("span",Uye,"System"))]),i("td",Hye,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u(M.event)])},h(M.event.charAt(0).toUpperCase()+M.event.slice(1)),3)]),i("td",Vye,[i("span",Wye,h(f(M.auditable_type)),1),i("span",qye,"#"+h(M.auditable_id),1)]),i("td",Kye,[M.event==="created"?(v(),k("div",Yye,h(m(M.new_values,"created")),1)):M.event==="deleted"?(v(),k("div",Gye,h(m(M.old_values,"deleted")),1)):(v(),k("div",Xye,h(m(M.new_values,"updated")),1))]),i("td",Jye,[T(p(qi),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:E=>d(M)},null,8,["onClick"])])]))),128)),!p(r).data.data||p(r).data.data.length===0?(v(),k("tr",Qye,[i("td",Zye,h(b.__("No audit trail records found")),1)])):P("",!0)])]),T(qs,{index:p(r)},null,8,["index"])])])])])]),a.show?(v(),se(Zn,{key:1,width:"max-w-3xl"},{default:Y(()=>{var M;return[i("div",ebe,[i("div",tbe,[i("h3",sbe,h(b.__("Audit Trail Details")),1),i("button",{onClick:S[11]||(S[11]=E=>a.show=!1),class:"text-gray-400 hover:text-gray-600"},[T(p(On),{class:"h-6 w-6"})])]),a.audit?(v(),k("div",nbe,[i("div",obe,[i("div",null,[i("label",ibe,h(b.__("Date/Time")),1),i("p",rbe,h(g(a.audit.created_at)),1)]),i("div",null,[i("label",abe,h(b.__("User")),1),i("p",lbe,h(((M=a.audit.user)==null?void 0:M.name)||"System"),1)]),i("div",null,[i("label",cbe,h(b.__("Event")),1),i("p",dbe,[i("span",{class:ae(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u(a.audit.event)])},h(a.audit.event.charAt(0).toUpperCase()+a.audit.event.slice(1)),3)])]),i("div",null,[i("label",ube,h(b.__("Model")),1),i("p",hbe,h(f(a.audit.auditable_type))+" #"+h(a.audit.auditable_id),1)]),a.audit.ip_address?(v(),k("div",fbe,[i("label",pbe,h(b.__("IP Address")),1),i("p",mbe,h(a.audit.ip_address),1)])):P("",!0),a.audit.url?(v(),k("div",gbe,[i("label",_be,h(b.__("URL")),1),i("p",{class:"mt-1 text-sm text-gray-900 truncate",title:a.audit.url},h(a.audit.url),9,vbe)])):P("",!0)]),a.audit.event==="updated"?(v(),k("div",ybe,[i("h4",bbe,h(b.__("Changes")),1),i("div",xbe,[i("div",null,[i("label",wbe,h(b.__("Old Values")),1),i("div",kbe,[i("pre",$be,h(_(a.audit.old_values)),1)])]),i("div",null,[i("label",Cbe,h(b.__("New Values")),1),i("div",Sbe,[i("pre",Mbe,h(_(a.audit.new_values)),1)])])])])):(v(),k("div",Tbe,[i("h4",Dbe,h(a.audit.event==="created"?b.__("Created Values"):b.__("Deleted Values")),1),i("div",{class:ae(["rounded-md p-3 max-h-64 overflow-auto",a.audit.event==="created"?"bg-green-50":"bg-red-50"])},[i("pre",Abe,h(_(a.audit.event==="created"?a.audit.new_values:a.audit.old_values)),1)],2)]))])):P("",!0),i("div",Ebe,[T(Ue,{onClick:S[12]||(S[12]=E=>a.show=!1)},{default:Y(()=>[te(h(b.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0)]))}},Obe=[{path:"/",component:dA},{path:"/profile",component:gA},{path:"/projects",name:"ProjectsIndex",component:cV},{path:"/projects/:id",name:"ProjectsDetail",component:Yg},{path:"/projects/:id/tasks/:taskId",name:"ProjectsDetailTask",component:Yg,props:!0},{path:"/users",name:"Users",component:IH},{path:"/labels",name:"Labels",component:YH},{path:"/roles",name:"Roles",component:xU},{path:"/tasks",name:"Tasks",component:sH},{path:"/attendance",name:"Attendance",component:lX},{path:"/employees",name:"Employees",component:BZ},{path:"/employees/:id",name:"EmployeeDetail",component:Ite},{path:"/leaves",name:"Leaves",component:Ooe},{path:"/holidays",name:"Holidays",component:Die},{path:"/payrolls",name:"Payrolls",component:Gae},{path:"/clients",name:"Clients",component:ade},{path:"/quotations",name:"Quotations",component:Jhe},{path:"/quotations/:id",name:"QuotationDetail",component:Ppe},{path:"/expenses",name:"Expenses",component:yge},{path:"/income",name:"Income",component:Nve},{path:"/adsense-reports",name:"AdSenseReports",component:YK},{path:"/settings/general",component:PI},{path:"/settings/email",component:wI},{path:"/settings/adsense",component:yj},{path:"/settings/countries",component:vN},{path:"/settings/user-assignments",component:oB},{path:"/video-enhancer",component:rU},{path:"/audit-trail",name:"AuditTrail",component:Pbe},{path:"/403",name:"Forbidden",component:AD},{path:"/:pathMatch(.*)*",name:"NotFound",component:DD}],Ud=uk({history:M5(gt.prefix),routes:Obe});Ud.beforeEach((s,e,t)=>{t()});Ud.afterEach((s,e)=>{});Ud.onError(s=>{});Ry.config.errorHandler=(s,e,t)=>{};window.addEventListener("unhandledrejection",s=>{});try{Ry.use(o5()).use(R3).use(Ud).mount("#app")}catch(s){alert("Mount Error: "+s.message)}
