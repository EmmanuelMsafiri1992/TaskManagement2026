var Wx=Object.defineProperty;var qx=(s,e,t)=>e in s?Wx(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Fe=(s,e,t)=>(qx(s,typeof e!="symbol"?e+"":e,t),t);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dh(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const zt={},pr=[],Nn=()=>{},u1=()=>!1,dc=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),ch=s=>s.startsWith("onUpdate:"),os=Object.assign,uh=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},Kx=Object.prototype.hasOwnProperty,Dt=(s,e)=>Kx.call(s,e),Ge=Array.isArray,mr=s=>ol(s)==="[object Map]",Rr=s=>ol(s)==="[object Set]",jp=s=>ol(s)==="[object Date]",rt=s=>typeof s=="function",Xt=s=>typeof s=="string",Un=s=>typeof s=="symbol",Nt=s=>s!==null&&typeof s=="object",f1=s=>(Nt(s)||rt(s))&&rt(s.then)&&rt(s.catch),h1=Object.prototype.toString,ol=s=>h1.call(s),Yx=s=>ol(s).slice(8,-1),p1=s=>ol(s)==="[object Object]",fh=s=>Xt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,va=dh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cc=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},Gx=/-\w/g,Pn=cc(s=>s.replace(Gx,e=>e.slice(1).toUpperCase())),Xx=/\B([A-Z])/g,mi=cc(s=>s.replace(Xx,"-$1").toLowerCase()),uc=cc(s=>s.charAt(0).toUpperCase()+s.slice(1)),_u=cc(s=>s?`on${uc(s)}`:""),ii=(s,e)=>!Object.is(s,e),od=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},m1=(s,e,t,n=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Md=s=>{const e=parseFloat(s);return isNaN(e)?s:e},Jx=s=>{const e=Xt(s)?Number(s):NaN;return isNaN(e)?s:e};let Lp;const fc=()=>Lp||(Lp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $t(s){if(Ge(s)){const e={};for(let t=0;t<s.length;t++){const n=s[t],o=Xt(n)?t2(n):$t(n);if(o)for(const r in o)e[r]=o[r]}return e}else if(Xt(s)||Nt(s))return s}const Qx=/;(?![^(]*\))/g,Zx=/:([^]+)/,e2=/\/\*[^]*?\*\//g;function t2(s){const e={};return s.replace(e2,"").split(Qx).forEach(t=>{if(t){const n=t.split(Zx);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ne(s){let e="";if(Xt(s))e=s;else if(Ge(s))for(let t=0;t<s.length;t++){const n=ne(s[t]);n&&(e+=n+" ")}else if(Nt(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const s2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",n2=dh(s2);function g1(s){return!!s||s===""}function o2(s,e){if(s.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<s.length;n++)t=Yi(s[n],e[n]);return t}function Yi(s,e){if(s===e)return!0;let t=jp(s),n=jp(e);if(t||n)return t&&n?s.getTime()===e.getTime():!1;if(t=Un(s),n=Un(e),t||n)return s===e;if(t=Ge(s),n=Ge(e),t||n)return t&&n?o2(s,e):!1;if(t=Nt(s),n=Nt(e),t||n){if(!t||!n)return!1;const o=Object.keys(s).length,r=Object.keys(e).length;if(o!==r)return!1;for(const a in s){const l=s.hasOwnProperty(a),d=e.hasOwnProperty(a);if(l&&!d||!l&&d||!Yi(s[a],e[a]))return!1}}return String(s)===String(e)}function hh(s,e){return s.findIndex(t=>Yi(t,e))}const _1=s=>!!(s&&s.__v_isRef===!0),f=s=>Xt(s)?s:s==null?"":Ge(s)||Nt(s)&&(s.toString===h1||!rt(s.toString))?_1(s)?f(s.value):JSON.stringify(s,v1,2):String(s),v1=(s,e)=>_1(e)?v1(s,e.value):mr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o],r)=>(t[vu(n,r)+" =>"]=o,t),{})}:Rr(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>vu(t))}:Un(e)?vu(e):Nt(e)&&!Ge(e)&&!p1(e)?String(e):e,vu=(s,e="")=>{var t;return Un(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let As;class y1{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=As,!e&&As&&(this.index=(As.scopes||(As.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=As;try{return As=this,e()}finally{As=t}}}on(){++this._on===1&&(this.prevScope=As,As=this)}off(){this._on>0&&--this._on===0&&(As=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function b1(s){return new y1(s)}function x1(){return As}function i2(s,e=!1){As&&As.cleanups.push(s)}let Ht;const yu=new WeakSet;class w1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,As&&As.active&&As.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yu.has(this)&&(yu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fp(this),C1(this);const e=Ht,t=zn;Ht=this,zn=!0;try{return this.fn()}finally{S1(this),Ht=e,zn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gh(e);this.deps=this.depsTail=void 0,Fp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_f(this)&&this.run()}get dirty(){return _f(this)}}let k1=0,ya,ba;function $1(s,e=!1){if(s.flags|=8,e){s.next=ba,ba=s;return}s.next=ya,ya=s}function ph(){k1++}function mh(){if(--k1>0)return;if(ba){let e=ba;for(ba=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;ya;){let e=ya;for(ya=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){s||(s=n)}e=t}}if(s)throw s}function C1(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function S1(s){let e,t=s.depsTail,n=t;for(;n;){const o=n.prevDep;n.version===-1?(n===t&&(t=o),gh(n),r2(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}s.deps=e,s.depsTail=t}function _f(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(M1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function M1(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===za)||(s.globalVersion=za,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!_f(s))))return;s.flags|=2;const e=s.dep,t=Ht,n=zn;Ht=s,zn=!0;try{C1(s);const o=s.fn(s._value);(e.version===0||ii(o,s._value))&&(s.flags|=128,s._value=o,e.version++)}catch(o){throw e.version++,o}finally{Ht=t,zn=n,S1(s),s.flags&=-3}}function gh(s,e=!1){const{dep:t,prevSub:n,nextSub:o}=s;if(n&&(n.nextSub=o,s.prevSub=void 0),o&&(o.prevSub=n,s.nextSub=void 0),t.subs===s&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)gh(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function r2(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let zn=!0;const T1=[];function Do(){T1.push(zn),zn=!1}function Ao(){const s=T1.pop();zn=s===void 0?!0:s}function Fp(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=Ht;Ht=void 0;try{e()}finally{Ht=t}}}let za=0;class a2{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _h{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ht||!zn||Ht===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ht)t=this.activeLink=new a2(Ht,this),Ht.deps?(t.prevDep=Ht.depsTail,Ht.depsTail.nextDep=t,Ht.depsTail=t):Ht.deps=Ht.depsTail=t,D1(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Ht.depsTail,t.nextDep=void 0,Ht.depsTail.nextDep=t,Ht.depsTail=t,Ht.deps===t&&(Ht.deps=n)}return t}trigger(e){this.version++,za++,this.notify(e)}notify(e){ph();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{mh()}}}function D1(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)D1(n)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Td=new WeakMap,Vi=Symbol(""),vf=Symbol(""),Ba=Symbol("");function Os(s,e,t){if(zn&&Ht){let n=Td.get(s);n||Td.set(s,n=new Map);let o=n.get(t);o||(n.set(t,o=new _h),o.map=n,o.key=t),o.track()}}function wo(s,e,t,n,o,r){const a=Td.get(s);if(!a){za++;return}const l=d=>{d&&d.trigger()};if(ph(),e==="clear")a.forEach(l);else{const d=Ge(s),c=d&&fh(t);if(d&&t==="length"){const u=Number(n);a.forEach((h,p)=>{(p==="length"||p===Ba||!Un(p)&&p>=u)&&l(h)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),c&&l(a.get(Ba)),e){case"add":d?c&&l(a.get("length")):(l(a.get(Vi)),mr(s)&&l(a.get(vf)));break;case"delete":d||(l(a.get(Vi)),mr(s)&&l(a.get(vf)));break;case"set":mr(s)&&l(a.get(Vi));break}}mh()}function l2(s,e){const t=Td.get(s);return t&&t.get(e)}function nr(s){const e=xt(s);return e===s?e:(Os(e,"iterate",Ba),An(s)?e:e.map(bs))}function hc(s){return Os(s=xt(s),"iterate",Ba),s}const d2={__proto__:null,[Symbol.iterator](){return bu(this,Symbol.iterator,bs)},concat(...s){return nr(this).concat(...s.map(e=>Ge(e)?nr(e):e))},entries(){return bu(this,"entries",s=>(s[1]=bs(s[1]),s))},every(s,e){return po(this,"every",s,e,void 0,arguments)},filter(s,e){return po(this,"filter",s,e,t=>t.map(bs),arguments)},find(s,e){return po(this,"find",s,e,bs,arguments)},findIndex(s,e){return po(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return po(this,"findLast",s,e,bs,arguments)},findLastIndex(s,e){return po(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return po(this,"forEach",s,e,void 0,arguments)},includes(...s){return xu(this,"includes",s)},indexOf(...s){return xu(this,"indexOf",s)},join(s){return nr(this).join(s)},lastIndexOf(...s){return xu(this,"lastIndexOf",s)},map(s,e){return po(this,"map",s,e,void 0,arguments)},pop(){return Kr(this,"pop")},push(...s){return Kr(this,"push",s)},reduce(s,...e){return Np(this,"reduce",s,e)},reduceRight(s,...e){return Np(this,"reduceRight",s,e)},shift(){return Kr(this,"shift")},some(s,e){return po(this,"some",s,e,void 0,arguments)},splice(...s){return Kr(this,"splice",s)},toReversed(){return nr(this).toReversed()},toSorted(s){return nr(this).toSorted(s)},toSpliced(...s){return nr(this).toSpliced(...s)},unshift(...s){return Kr(this,"unshift",s)},values(){return bu(this,"values",bs)}};function bu(s,e,t){const n=hc(s),o=n[e]();return n!==s&&!An(s)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=t(r.value)),r}),o}const c2=Array.prototype;function po(s,e,t,n,o,r){const a=hc(s),l=a!==s&&!An(s),d=a[e];if(d!==c2[e]){const h=d.apply(s,r);return l?bs(h):h}let c=t;a!==s&&(l?c=function(h,p){return t.call(this,bs(h),p,s)}:t.length>2&&(c=function(h,p){return t.call(this,h,p,s)}));const u=d.call(a,c,n);return l&&o?o(u):u}function Np(s,e,t,n){const o=hc(s);let r=t;return o!==s&&(An(s)?t.length>3&&(r=function(a,l,d){return t.call(this,a,l,d,s)}):r=function(a,l,d){return t.call(this,a,bs(l),d,s)}),o[e](r,...n)}function xu(s,e,t){const n=xt(s);Os(n,"iterate",Ba);const o=n[e](...t);return(o===-1||o===!1)&&bh(t[0])?(t[0]=xt(t[0]),n[e](...t)):o}function Kr(s,e,t=[]){Do(),ph();const n=xt(s)[e].apply(s,t);return mh(),Ao(),n}const u2=dh("__proto__,__v_isRef,__isVue"),A1=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Un));function f2(s){Un(s)||(s=String(s));const e=xt(this);return Os(e,"has",s),e.hasOwnProperty(s)}class E1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const o=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return r;if(t==="__v_raw")return n===(o?r?w2:I1:r?O1:R1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Ge(e);if(!o){let d;if(a&&(d=d2[t]))return d;if(t==="hasOwnProperty")return f2}const l=Reflect.get(e,t,ns(e)?e:n);if((Un(t)?A1.has(t):u2(t))||(o||Os(e,"get",t),r))return l;if(ns(l)){const d=a&&fh(t)?l:l.value;return o&&Nt(d)?bf(d):d}return Nt(l)?o?bf(l):_t(l):l}}class P1 extends E1{constructor(e=!1){super(!1,e)}set(e,t,n,o){let r=e[t];if(!this._isShallow){const d=di(r);if(!An(n)&&!di(n)&&(r=xt(r),n=xt(n)),!Ge(e)&&ns(r)&&!ns(n))return d||(r.value=n),!0}const a=Ge(e)&&fh(t)?Number(t)<e.length:Dt(e,t),l=Reflect.set(e,t,n,ns(e)?e:o);return e===xt(o)&&(a?ii(n,r)&&wo(e,"set",t,n):wo(e,"add",t,n)),l}deleteProperty(e,t){const n=Dt(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&wo(e,"delete",t,void 0),o}has(e,t){const n=Reflect.has(e,t);return(!Un(t)||!A1.has(t))&&Os(e,"has",t),n}ownKeys(e){return Os(e,"iterate",Ge(e)?"length":Vi),Reflect.ownKeys(e)}}class h2 extends E1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const p2=new P1,m2=new h2,g2=new P1(!0);const yf=s=>s,wl=s=>Reflect.getPrototypeOf(s);function _2(s,e,t){return function(...n){const o=this.__v_raw,r=xt(o),a=mr(r),l=s==="entries"||s===Symbol.iterator&&a,d=s==="keys"&&a,c=o[s](...n),u=t?yf:e?Dd:bs;return!e&&Os(r,"iterate",d?vf:Vi),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:l?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function kl(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function v2(s,e){const t={get(o){const r=this.__v_raw,a=xt(r),l=xt(o);s||(ii(o,l)&&Os(a,"get",o),Os(a,"get",l));const{has:d}=wl(a),c=e?yf:s?Dd:bs;if(d.call(a,o))return c(r.get(o));if(d.call(a,l))return c(r.get(l));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!s&&Os(xt(o),"iterate",Vi),o.size},has(o){const r=this.__v_raw,a=xt(r),l=xt(o);return s||(ii(o,l)&&Os(a,"has",o),Os(a,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const a=this,l=a.__v_raw,d=xt(l),c=e?yf:s?Dd:bs;return!s&&Os(d,"iterate",Vi),l.forEach((u,h)=>o.call(r,c(u),c(h),a))}};return os(t,s?{add:kl("add"),set:kl("set"),delete:kl("delete"),clear:kl("clear")}:{add(o){!e&&!An(o)&&!di(o)&&(o=xt(o));const r=xt(this);return wl(r).has.call(r,o)||(r.add(o),wo(r,"add",o,o)),this},set(o,r){!e&&!An(r)&&!di(r)&&(r=xt(r));const a=xt(this),{has:l,get:d}=wl(a);let c=l.call(a,o);c||(o=xt(o),c=l.call(a,o));const u=d.call(a,o);return a.set(o,r),c?ii(r,u)&&wo(a,"set",o,r):wo(a,"add",o,r),this},delete(o){const r=xt(this),{has:a,get:l}=wl(r);let d=a.call(r,o);d||(o=xt(o),d=a.call(r,o)),l&&l.call(r,o);const c=r.delete(o);return d&&wo(r,"delete",o,void 0),c},clear(){const o=xt(this),r=o.size!==0,a=o.clear();return r&&wo(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=_2(o,s,e)}),t}function vh(s,e){const t=v2(s,e);return(n,o,r)=>o==="__v_isReactive"?!s:o==="__v_isReadonly"?s:o==="__v_raw"?n:Reflect.get(Dt(t,o)&&o in n?t:n,o,r)}const y2={get:vh(!1,!1)},b2={get:vh(!1,!0)},x2={get:vh(!0,!1)};const R1=new WeakMap,O1=new WeakMap,I1=new WeakMap,w2=new WeakMap;function k2(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $2(s){return s.__v_skip||!Object.isExtensible(s)?0:k2(Yx(s))}function _t(s){return di(s)?s:yh(s,!1,p2,y2,R1)}function C2(s){return yh(s,!1,g2,b2,O1)}function bf(s){return yh(s,!0,m2,x2,I1)}function yh(s,e,t,n,o){if(!Nt(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=$2(s);if(r===0)return s;const a=o.get(s);if(a)return a;const l=new Proxy(s,r===2?n:t);return o.set(s,l),l}function ri(s){return di(s)?ri(s.__v_raw):!!(s&&s.__v_isReactive)}function di(s){return!!(s&&s.__v_isReadonly)}function An(s){return!!(s&&s.__v_isShallow)}function bh(s){return s?!!s.__v_raw:!1}function xt(s){const e=s&&s.__v_raw;return e?xt(e):s}function wr(s){return!Dt(s,"__v_skip")&&Object.isExtensible(s)&&m1(s,"__v_skip",!0),s}const bs=s=>Nt(s)?_t(s):s,Dd=s=>Nt(s)?bf(s):s;function ns(s){return s?s.__v_isRef===!0:!1}function R(s){return L1(s,!1)}function j1(s){return L1(s,!0)}function L1(s,e){return ns(s)?s:new S2(s,e)}class S2{constructor(e,t){this.dep=new _h,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xt(e),this._value=t?e:bs(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||An(e)||di(e);e=n?e:xt(e),ii(e,t)&&(this._rawValue=e,this._value=n?e:bs(e),this.dep.trigger())}}function m(s){return ns(s)?s.value:s}const M2={get:(s,e,t)=>e==="__v_raw"?s:m(Reflect.get(s,e,t)),set:(s,e,t,n)=>{const o=s[e];return ns(o)&&!ns(t)?(o.value=t,!0):Reflect.set(s,e,t,n)}};function F1(s){return ri(s)?s:new Proxy(s,M2)}function T2(s){const e=Ge(s)?new Array(s.length):{};for(const t in s)e[t]=A2(s,t);return e}class D2{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return l2(xt(this._object),this._key)}}function A2(s,e,t){const n=s[e];return ns(n)?n:new D2(s,e,t)}class E2{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new _h(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=za-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ht!==this)return $1(this,!0),!0}get value(){const e=this.dep.track();return M1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function P2(s,e,t=!1){let n,o;return rt(s)?n=s:(n=s.get,o=s.set),new E2(n,o,t)}const $l={},Ad=new WeakMap;let Ri;function R2(s,e=!1,t=Ri){if(t){let n=Ad.get(t);n||Ad.set(t,n=[]),n.push(s)}}function O2(s,e,t=zt){const{immediate:n,deep:o,once:r,scheduler:a,augmentJob:l,call:d}=t,c=C=>o?C:An(C)||o===!1||o===0?ko(C,1):ko(C);let u,h,p,g,v=!1,x=!1;if(ns(s)?(h=()=>s.value,v=An(s)):ri(s)?(h=()=>c(s),v=!0):Ge(s)?(x=!0,v=s.some(C=>ri(C)||An(C)),h=()=>s.map(C=>{if(ns(C))return C.value;if(ri(C))return c(C);if(rt(C))return d?d(C,2):C()})):rt(s)?e?h=d?()=>d(s,2):s:h=()=>{if(p){Do();try{p()}finally{Ao()}}const C=Ri;Ri=u;try{return d?d(s,3,[g]):s(g)}finally{Ri=C}}:h=Nn,e&&o){const C=h,T=o===!0?1/0:o;h=()=>ko(C(),T)}const y=x1(),$=()=>{u.stop(),y&&y.active&&uh(y.effects,u)};if(r&&e){const C=e;e=(...T)=>{C(...T),$()}}let w=x?new Array(s.length).fill($l):$l;const S=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(e){const T=u.run();if(o||v||(x?T.some((F,L)=>ii(F,w[L])):ii(T,w))){p&&p();const F=Ri;Ri=u;try{const L=[T,w===$l?void 0:x&&w[0]===$l?[]:w,g];w=T,d?d(e,3,L):e(...L)}finally{Ri=F}}}else u.run()};return l&&l(S),u=new w1(h),u.scheduler=a?()=>a(S,!1):S,g=C=>R2(C,!1,u),p=u.onStop=()=>{const C=Ad.get(u);if(C){if(d)d(C,4);else for(const T of C)T();Ad.delete(u)}},e?n?S(!0):w=u.run():a?a(S.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function ko(s,e=1/0,t){if(e<=0||!Nt(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,ns(s))ko(s.value,e,t);else if(Ge(s))for(let n=0;n<s.length;n++)ko(s[n],e,t);else if(Rr(s)||mr(s))s.forEach(n=>{ko(n,e,t)});else if(p1(s)){for(const n in s)ko(s[n],e,t);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&ko(s[n],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function il(s,e,t,n){try{return n?s(...n):s()}catch(o){pc(o,e,t)}}function Vn(s,e,t,n){if(rt(s)){const o=il(s,e,t,n);return o&&f1(o)&&o.catch(r=>{pc(r,e,t)}),o}if(Ge(s)){const o=[];for(let r=0;r<s.length;r++)o.push(Vn(s[r],e,t,n));return o}}function pc(s,e,t,n=!0){const o=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||zt;if(e){let l=e.parent;const d=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](s,d,c)===!1)return}l=l.parent}if(r){Do(),il(r,null,10,[s,d,c]),Ao();return}}I2(s,t,o,n,a)}function I2(s,e,t,n=!0,o=!1){if(o)throw s}const qs=[];let Qn=-1;const gr=[];let qo=null,cr=0;const N1=Promise.resolve();let Ed=null;function bn(s){const e=Ed||N1;return s?e.then(this?s.bind(this):s):e}function j2(s){let e=Qn+1,t=qs.length;for(;e<t;){const n=e+t>>>1,o=qs[n],r=Ua(o);r<s||r===s&&o.flags&2?e=n+1:t=n}return e}function xh(s){if(!(s.flags&1)){const e=Ua(s),t=qs[qs.length-1];!t||!(s.flags&2)&&e>=Ua(t)?qs.push(s):qs.splice(j2(e),0,s),s.flags|=1,z1()}}function z1(){Ed||(Ed=N1.then(U1))}function L2(s){Ge(s)?gr.push(...s):qo&&s.id===-1?qo.splice(cr+1,0,s):s.flags&1||(gr.push(s),s.flags|=1),z1()}function zp(s,e,t=Qn+1){for(;t<qs.length;t++){const n=qs[t];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;qs.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function B1(s){if(gr.length){const e=[...new Set(gr)].sort((t,n)=>Ua(t)-Ua(n));if(gr.length=0,qo){qo.push(...e);return}for(qo=e,cr=0;cr<qo.length;cr++){const t=qo[cr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}qo=null,cr=0}}const Ua=s=>s.id==null?s.flags&2?-1:1/0:s.id;function U1(s){const e=Nn;try{for(Qn=0;Qn<qs.length;Qn++){const t=qs[Qn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),il(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Qn<qs.length;Qn++){const t=qs[Qn];t&&(t.flags&=-2)}Qn=-1,qs.length=0,B1(),Ed=null,(qs.length||gr.length)&&U1()}}let ws=null,V1=null;function Pd(s){const e=ws;return ws=s,V1=s&&s.type.__scopeId||null,e}function X(s,e=ws,t){if(!e||s._n)return s;const n=(...o)=>{n._d&&Id(-1);const r=Pd(e);let a;try{a=s(...o)}finally{Pd(r),n._d&&Id(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function V(s,e){if(ws===null)return s;const t=yc(ws),n=s.dirs||(s.dirs=[]);for(let o=0;o<e.length;o++){let[r,a,l,d=zt]=e[o];r&&(rt(r)&&(r={mounted:r,updated:r}),r.deep&&ko(a),n.push({dir:r,instance:t,value:a,oldValue:void 0,arg:l,modifiers:d}))}return s}function wi(s,e,t,n){const o=s.dirs,r=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];r&&(l.oldValue=r[a].value);let d=l.dir[n];d&&(Do(),Vn(d,t,8,[s.el,l,s,e]),Ao())}}const H1=Symbol("_vte"),W1=s=>s.__isTeleport,xa=s=>s&&(s.disabled||s.disabled===""),Bp=s=>s&&(s.defer||s.defer===""),Up=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Vp=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,xf=(s,e)=>{const t=s&&s.to;return Xt(t)?e?e(t):null:t},q1={name:"Teleport",__isTeleport:!0,process(s,e,t,n,o,r,a,l,d,c){const{mc:u,pc:h,pbc:p,o:{insert:g,querySelector:v,createText:x,createComment:y}}=c,$=xa(e.props);let{shapeFlag:w,children:S,dynamicChildren:C}=e;if(s==null){const T=e.el=x(""),F=e.anchor=x("");g(T,t,n),g(F,t,n);const L=(j,E)=>{w&16&&u(S,j,E,o,r,a,l,d)},z=()=>{const j=e.target=xf(e.props,v),E=K1(j,e,x,g);j&&(a!=="svg"&&Up(j)?a="svg":a!=="mathml"&&Vp(j)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(j),$||(L(j,E),id(e,!1)))};$&&(L(t,F),id(e,!0)),Bp(e.props)?(e.el.__isMounted=!1,Ws(()=>{z(),delete e.el.__isMounted},r)):z()}else{if(Bp(e.props)&&s.el.__isMounted===!1){Ws(()=>{q1.process(s,e,t,n,o,r,a,l,d,c)},r);return}e.el=s.el,e.targetStart=s.targetStart;const T=e.anchor=s.anchor,F=e.target=s.target,L=e.targetAnchor=s.targetAnchor,z=xa(s.props),j=z?t:F,E=z?T:L;if(a==="svg"||Up(F)?a="svg":(a==="mathml"||Vp(F))&&(a="mathml"),C?(p(s.dynamicChildren,C,j,o,r,a,l),Dh(s,e,!0)):d||h(s,e,j,E,o,r,a,l,!1),$)z?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):Cl(e,t,T,c,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const O=e.target=xf(e.props,v);O&&Cl(e,O,null,c,0)}else z&&Cl(e,F,L,c,1);id(e,$)}},remove(s,e,t,{um:n,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:d,targetStart:c,targetAnchor:u,target:h,props:p}=s;if(h&&(o(c),o(u)),r&&o(d),a&16){const g=r||!xa(p);for(let v=0;v<l.length;v++){const x=l[v];n(x,e,t,g,!!x.dynamicChildren)}}},move:Cl,hydrate:F2};function Cl(s,e,t,{o:{insert:n},m:o},r=2){r===0&&n(s.targetAnchor,e,t);const{el:a,anchor:l,shapeFlag:d,children:c,props:u}=s,h=r===2;if(h&&n(a,e,t),(!h||xa(u))&&d&16)for(let p=0;p<c.length;p++)o(c[p],e,t,2);h&&n(l,e,t)}function F2(s,e,t,n,o,r,{o:{nextSibling:a,parentNode:l,querySelector:d,insert:c,createText:u}},h){function p(x,y,$,w){y.anchor=h(a(x),y,l(x),t,n,o,r),y.targetStart=$,y.targetAnchor=w}const g=e.target=xf(e.props,d),v=xa(e.props);if(g){const x=g._lpa||g.firstChild;if(e.shapeFlag&16)if(v)p(s,e,x,x&&a(x));else{e.anchor=a(s);let y=x;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,g._lpa=e.targetAnchor&&a(e.targetAnchor);break}}y=a(y)}e.targetAnchor||K1(g,e,u,c),h(x&&a(x),e,g,t,n,o,r)}id(e,v)}else v&&e.shapeFlag&16&&p(s,e,s,a(s));return e.anchor&&a(e.anchor)}const wh=q1;function id(s,e){const t=s.ctx;if(t&&t.ut){let n,o;for(e?(n=s.el,o=s.anchor):(n=s.targetStart,o=s.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function K1(s,e,t,n){const o=e.targetStart=t(""),r=e.targetAnchor=t("");return o[H1]=r,s&&(n(o,s),n(r,s)),r}const bo=Symbol("_leaveCb"),Sl=Symbol("_enterCb");function Y1(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nt(()=>{s.isMounted=!0}),$h(()=>{s.isUnmounting=!0}),s}const Cn=[Function,Array],G1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},X1=s=>{const e=s.subTree;return e.component?X1(e.component):e},N2={name:"BaseTransition",props:G1,setup(s,{slots:e}){const t=jr(),n=Y1();return()=>{const o=e.default&&kh(e.default(),!0);if(!o||!o.length)return;const r=J1(o),a=xt(s),{mode:l}=a;if(n.isLeaving)return wu(r);const d=Hp(r);if(!d)return wu(r);let c=Va(d,a,n,t,h=>c=h);d.type!==Is&&Gi(d,c);let u=t.subTree&&Hp(t.subTree);if(u&&u.type!==Is&&!Li(u,d)&&X1(t).type!==Is){let h=Va(u,a,n,t);if(Gi(u,h),l==="out-in"&&d.type!==Is)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,t.job.flags&8||t.update(),delete h.afterLeave,u=void 0},wu(r);l==="in-out"&&d.type!==Is?h.delayLeave=(p,g,v)=>{const x=Q1(n,u);x[String(u.key)]=u,p[bo]=()=>{g(),p[bo]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function J1(s){let e=s[0];if(s.length>1){for(const t of s)if(t.type!==Is){e=t;break}}return e}const z2=N2;function Q1(s,e){const{leavingVNodes:t}=s;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function Va(s,e,t,n,o){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:d,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:v,onLeaveCancelled:x,onBeforeAppear:y,onAppear:$,onAfterAppear:w,onAppearCancelled:S}=e,C=String(s.key),T=Q1(t,s),F=(j,E)=>{j&&Vn(j,n,9,E)},L=(j,E)=>{const O=E[1];F(j,E),Ge(j)?j.every(I=>I.length<=1)&&O():j.length<=1&&O()},z={mode:a,persisted:l,beforeEnter(j){let E=d;if(!t.isMounted)if(r)E=y||d;else return;j[bo]&&j[bo](!0);const O=T[C];O&&Li(s,O)&&O.el[bo]&&O.el[bo](),F(E,[j])},enter(j){let E=c,O=u,I=h;if(!t.isMounted)if(r)E=$||c,O=w||u,I=S||h;else return;let W=!1;const ye=j[Sl]=ve=>{W||(W=!0,ve?F(I,[j]):F(O,[j]),z.delayedLeave&&z.delayedLeave(),j[Sl]=void 0)};E?L(E,[j,ye]):ye()},leave(j,E){const O=String(s.key);if(j[Sl]&&j[Sl](!0),t.isUnmounting)return E();F(p,[j]);let I=!1;const W=j[bo]=ye=>{I||(I=!0,E(),ye?F(x,[j]):F(v,[j]),j[bo]=void 0,T[O]===s&&delete T[O])};T[O]=s,g?L(g,[j,W]):W()},clone(j){const E=Va(j,e,t,n,o);return o&&o(E),E}};return z}function wu(s){if(mc(s))return s=Eo(s),s.children=null,s}function Hp(s){if(!mc(s))return W1(s.type)&&s.children?J1(s.children):s;if(s.component)return s.component.subTree;const{shapeFlag:e,children:t}=s;if(t){if(e&16)return t[0];if(e&32&&rt(t.default))return t.default()}}function Gi(s,e){s.shapeFlag&6&&s.component?(s.transition=e,Gi(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function kh(s,e=!1,t){let n=[],o=0;for(let r=0;r<s.length;r++){let a=s[r];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:r);a.type===ue?(a.patchFlag&128&&o++,n=n.concat(kh(a.children,e,l))):(e||a.type!==Is)&&n.push(l!=null?Eo(a,{key:l}):a)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function pe(s,e){return rt(s)?(()=>os({name:s.name},e,{setup:s}))():s}function B2(){const s=jr();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function Z1(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Rd=new WeakMap;function wa(s,e,t,n,o=!1){if(Ge(s)){s.forEach((v,x)=>wa(v,e&&(Ge(e)?e[x]:e),t,n,o));return}if(_r(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&wa(s,e,t,n.component.subTree);return}const r=n.shapeFlag&4?yc(n.component):n.el,a=o?null:r,{i:l,r:d}=s,c=e&&e.r,u=l.refs===zt?l.refs={}:l.refs,h=l.setupState,p=xt(h),g=h===zt?u1:v=>Dt(p,v);if(c!=null&&c!==d){if(Wp(e),Xt(c))u[c]=null,g(c)&&(h[c]=null);else if(ns(c)){c.value=null;const v=e;v.k&&(u[v.k]=null)}}if(rt(d))il(d,l,12,[a,u]);else{const v=Xt(d),x=ns(d);if(v||x){const y=()=>{if(s.f){const $=v?g(d)?h[d]:u[d]:d.value;if(o)Ge($)&&uh($,r);else if(Ge($))$.includes(r)||$.push(r);else if(v)u[d]=[r],g(d)&&(h[d]=u[d]);else{const w=[r];d.value=w,s.k&&(u[s.k]=w)}}else v?(u[d]=a,g(d)&&(h[d]=a)):x&&(d.value=a,s.k&&(u[s.k]=a))};if(a){const $=()=>{y(),Rd.delete(s)};$.id=-1,Rd.set(s,$),Ws($,t)}else Wp(s),y()}}}function Wp(s){const e=Rd.get(s);e&&(e.flags|=8,Rd.delete(s))}fc().requestIdleCallback;fc().cancelIdleCallback;const _r=s=>!!s.type.__asyncLoader,mc=s=>s.type.__isKeepAlive;function e_(s,e){s_(s,"a",e)}function t_(s,e){s_(s,"da",e)}function s_(s,e,t=js){const n=s.__wdc||(s.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return s()});if(gc(e,n,t),t){let o=t.parent;for(;o&&o.parent;)mc(o.parent.vnode)&&U2(n,e,t,o),o=o.parent}}function U2(s,e,t,n){const o=gc(e,s,n,!0);Ys(()=>{uh(n[e],o)},t)}function gc(s,e,t=js,n=!1){if(t){const o=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...a)=>{Do();const l=rl(t),d=Vn(e,t,s,a);return l(),Ao(),d});return n?o.unshift(r):o.push(r),r}}const Ro=s=>(e,t=js)=>{(!qa||s==="sp")&&gc(s,(...n)=>e(...n),t)},V2=Ro("bm"),nt=Ro("m"),H2=Ro("bu"),Or=Ro("u"),$h=Ro("bum"),Ys=Ro("um"),W2=Ro("sp"),q2=Ro("rtg"),K2=Ro("rtc");function Y2(s,e=js){gc("ec",s,e)}const Ch="components";function wn(s,e){return o_(Ch,s,!0,e)||s}const n_=Symbol.for("v-ndc");function Mo(s){return Xt(s)?o_(Ch,s,!1)||s:s||n_}function o_(s,e,t=!0,n=!1){const o=ws||js;if(o){const r=o.type;if(s===Ch){const l=Iw(r,!1);if(l&&(l===e||l===Pn(e)||l===uc(Pn(e))))return r}const a=qp(o[s]||r[s],e)||qp(o.appContext[s],e);return!a&&n?r:a}}function qp(s,e){return s&&(s[e]||s[Pn(e)]||s[uc(Pn(e))])}function xe(s,e,t,n){let o;const r=t&&t[n],a=Ge(s);if(a||Xt(s)){const l=a&&ri(s);let d=!1,c=!1;l&&(d=!An(s),c=di(s),s=hc(s)),o=new Array(s.length);for(let u=0,h=s.length;u<h;u++)o[u]=e(d?c?Dd(bs(s[u])):bs(s[u]):s[u],u,void 0,r&&r[u])}else if(typeof s=="number"){o=new Array(s);for(let l=0;l<s;l++)o[l]=e(l+1,l,void 0,r&&r[l])}else if(Nt(s))if(s[Symbol.iterator])o=Array.from(s,(l,d)=>e(l,d,void 0,r&&r[d]));else{const l=Object.keys(s);o=new Array(l.length);for(let d=0,c=l.length;d<c;d++){const u=l[d];o[d]=e(s[u],u,d,r&&r[d])}}else o=[];return t&&(t[n]=o),o}function Cs(s,e,t={},n,o){if(ws.ce||ws.parent&&_r(ws.parent)&&ws.parent.ce){const c=Object.keys(t).length>0;return e!=="default"&&(t.name=e),_(),oe(ue,null,[M("slot",t,n&&n())],c?-2:64)}let r=s[e];r&&r._c&&(r._d=!1),_();const a=r&&i_(r(t)),l=t.key||a&&a.key,d=oe(ue,{key:(l&&!Un(l)?l:`_${e}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&s._===1?64:-2);return!o&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),r&&r._c&&(r._d=!0),d}function i_(s){return s.some(e=>Wa(e)?!(e.type===Is||e.type===ue&&!i_(e.children)):!0)?s:null}const wf=s=>s?k_(s)?yc(s):wf(s.parent):null,ka=os(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>wf(s.parent),$root:s=>wf(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Sh(s),$forceUpdate:s=>s.f||(s.f=()=>{xh(s.update)}),$nextTick:s=>s.n||(s.n=bn.bind(s.proxy)),$watch:s=>gw.bind(s)}),ku=(s,e)=>s!==zt&&!s.__isScriptSetup&&Dt(s,e),G2={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:o,props:r,accessCache:a,type:l,appContext:d}=s;let c;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return r[e]}else{if(ku(n,e))return a[e]=1,n[e];if(o!==zt&&Dt(o,e))return a[e]=2,o[e];if((c=s.propsOptions[0])&&Dt(c,e))return a[e]=3,r[e];if(t!==zt&&Dt(t,e))return a[e]=4,t[e];kf&&(a[e]=0)}}const u=ka[e];let h,p;if(u)return e==="$attrs"&&Os(s.attrs,"get",""),u(s);if((h=l.__cssModules)&&(h=h[e]))return h;if(t!==zt&&Dt(t,e))return a[e]=4,t[e];if(p=d.config.globalProperties,Dt(p,e))return p[e]},set({_:s},e,t){const{data:n,setupState:o,ctx:r}=s;return ku(o,e)?(o[e]=t,!0):n!==zt&&Dt(n,e)?(n[e]=t,!0):Dt(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:r,type:a}},l){let d,c;return!!(t[l]||s!==zt&&l[0]!=="$"&&Dt(s,l)||ku(e,l)||(d=r[0])&&Dt(d,l)||Dt(n,l)||Dt(ka,l)||Dt(o.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Dt(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Kp(s){return Ge(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let kf=!0;function X2(s){const e=Sh(s),t=s.proxy,n=s.ctx;kf=!1,e.beforeCreate&&Yp(e.beforeCreate,s,"bc");const{data:o,computed:r,methods:a,watch:l,provide:d,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:g,updated:v,activated:x,deactivated:y,beforeDestroy:$,beforeUnmount:w,destroyed:S,unmounted:C,render:T,renderTracked:F,renderTriggered:L,errorCaptured:z,serverPrefetch:j,expose:E,inheritAttrs:O,components:I,directives:W,filters:ye}=e;if(c&&J2(c,n,null),a)for(const Q in a){const ee=a[Q];rt(ee)&&(n[Q]=ee.bind(t))}if(o){const Q=o.call(t,t);Nt(Q)&&(s.data=_t(Q))}if(kf=!0,r)for(const Q in r){const ee=r[Q],q=rt(ee)?ee.bind(t,t):rt(ee.get)?ee.get.bind(t,t):Nn,he=!rt(ee)&&rt(ee.set)?ee.set.bind(t):Nn,we=Pe({get:q,set:he});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>we.value,set:Oe=>we.value=Oe})}if(l)for(const Q in l)r_(l[Q],n,t,Q);if(d){const Q=rt(d)?d.call(t):d;Reflect.ownKeys(Q).forEach(ee=>{$s(ee,Q[ee])})}u&&Yp(u,s,"c");function _e(Q,ee){Ge(ee)?ee.forEach(q=>Q(q.bind(t))):ee&&Q(ee.bind(t))}if(_e(V2,h),_e(nt,p),_e(H2,g),_e(Or,v),_e(e_,x),_e(t_,y),_e(Y2,z),_e(K2,F),_e(q2,L),_e($h,w),_e(Ys,C),_e(W2,j),Ge(E))if(E.length){const Q=s.exposed||(s.exposed={});E.forEach(ee=>{Object.defineProperty(Q,ee,{get:()=>t[ee],set:q=>t[ee]=q,enumerable:!0})})}else s.exposed||(s.exposed={});T&&s.render===Nn&&(s.render=T),O!=null&&(s.inheritAttrs=O),I&&(s.components=I),W&&(s.directives=W),j&&Z1(s)}function J2(s,e,t=Nn){Ge(s)&&(s=$f(s));for(const n in s){const o=s[n];let r;Nt(o)?"default"in o?r=et(o.from||n,o.default,!0):r=et(o.from||n):r=et(o),ns(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[n]=r}}function Yp(s,e,t){Vn(Ge(s)?s.map(n=>n.bind(e.proxy)):s.bind(e.proxy),e,t)}function r_(s,e,t,n){let o=n.includes(".")?__(t,n):()=>t[n];if(Xt(s)){const r=e[s];rt(r)&&Bt(o,r)}else if(rt(s))Bt(o,s.bind(t));else if(Nt(s))if(Ge(s))s.forEach(r=>r_(r,e,t,n));else{const r=rt(s.handler)?s.handler.bind(t):e[s.handler];rt(r)&&Bt(o,r,s)}}function Sh(s){const e=s.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,l=r.get(e);let d;return l?d=l:!o.length&&!t&&!n?d=e:(d={},o.length&&o.forEach(c=>Od(d,c,a,!0)),Od(d,e,a)),Nt(e)&&r.set(e,d),d}function Od(s,e,t,n=!1){const{mixins:o,extends:r}=e;r&&Od(s,r,t,!0),o&&o.forEach(a=>Od(s,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const l=Q2[a]||t&&t[a];s[a]=l?l(s[a],e[a]):e[a]}return s}const Q2={data:Gp,props:Xp,emits:Xp,methods:aa,computed:aa,beforeCreate:Vs,created:Vs,beforeMount:Vs,mounted:Vs,beforeUpdate:Vs,updated:Vs,beforeDestroy:Vs,beforeUnmount:Vs,destroyed:Vs,unmounted:Vs,activated:Vs,deactivated:Vs,errorCaptured:Vs,serverPrefetch:Vs,components:aa,directives:aa,watch:ew,provide:Gp,inject:Z2};function Gp(s,e){return e?s?function(){return os(rt(s)?s.call(this,this):s,rt(e)?e.call(this,this):e)}:e:s}function Z2(s,e){return aa($f(s),$f(e))}function $f(s){if(Ge(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Vs(s,e){return s?[...new Set([].concat(s,e))]:e}function aa(s,e){return s?os(Object.create(null),s,e):e}function Xp(s,e){return s?Ge(s)&&Ge(e)?[...new Set([...s,...e])]:os(Object.create(null),Kp(s),Kp(e??{})):e}function ew(s,e){if(!s)return e;if(!e)return s;const t=os(Object.create(null),s);for(const n in e)t[n]=Vs(s[n],e[n]);return t}function a_(){return{app:null,config:{isNativeTag:u1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tw=0;function sw(s,e){return function(n,o=null){rt(n)||(n=os({},n)),o!=null&&!Nt(o)&&(o=null);const r=a_(),a=new WeakSet,l=[];let d=!1;const c=r.app={_uid:tw++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:Lw,get config(){return r.config},set config(u){},use(u,...h){return a.has(u)||(u&&rt(u.install)?(a.add(u),u.install(c,...h)):rt(u)&&(a.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,p){if(!d){const g=c._ceVNode||M(n,o);return g.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(g,u):s(g,u,p),d=!0,c._container=u,u.__vue_app__=c,yc(g.component)}},onUnmount(u){l.push(u)},unmount(){d&&(Vn(l,c._instance,16),s(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Hi;Hi=c;try{return u()}finally{Hi=h}}};return c}}let Hi=null;function $s(s,e){if(js){let t=js.provides;const n=js.parent&&js.parent.provides;n===t&&(t=js.provides=Object.create(n)),t[s]=e}}function et(s,e,t=!1){const n=jr();if(n||Hi){let o=Hi?Hi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&s in o)return o[s];if(arguments.length>1)return t&&rt(e)?e.call(n&&n.proxy):e}}function nw(){return!!(jr()||Hi)}const l_={},d_=()=>Object.create(l_),c_=s=>Object.getPrototypeOf(s)===l_;function ow(s,e,t,n=!1){const o={},r=d_();s.propsDefaults=Object.create(null),u_(s,e,o,r);for(const a in s.propsOptions[0])a in o||(o[a]=void 0);t?s.props=n?o:C2(o):s.type.props?s.props=o:s.props=r,s.attrs=r}function iw(s,e,t,n){const{props:o,attrs:r,vnode:{patchFlag:a}}=s,l=xt(o),[d]=s.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=s.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(_c(s.emitsOptions,p))continue;const g=e[p];if(d)if(Dt(r,p))g!==r[p]&&(r[p]=g,c=!0);else{const v=Pn(p);o[v]=Cf(d,l,v,g,s,!1)}else g!==r[p]&&(r[p]=g,c=!0)}}}else{u_(s,e,o,r)&&(c=!0);let u;for(const h in l)(!e||!Dt(e,h)&&((u=mi(h))===h||!Dt(e,u)))&&(d?t&&(t[h]!==void 0||t[u]!==void 0)&&(o[h]=Cf(d,l,h,void 0,s,!0)):delete o[h]);if(r!==l)for(const h in r)(!e||!Dt(e,h))&&(delete r[h],c=!0)}c&&wo(s.attrs,"set","")}function u_(s,e,t,n){const[o,r]=s.propsOptions;let a=!1,l;if(e)for(let d in e){if(va(d))continue;const c=e[d];let u;o&&Dt(o,u=Pn(d))?!r||!r.includes(u)?t[u]=c:(l||(l={}))[u]=c:_c(s.emitsOptions,d)||(!(d in n)||c!==n[d])&&(n[d]=c,a=!0)}if(r){const d=xt(t),c=l||zt;for(let u=0;u<r.length;u++){const h=r[u];t[h]=Cf(o,d,h,c[h],s,!Dt(c,h))}}return a}function Cf(s,e,t,n,o,r){const a=s[t];if(a!=null){const l=Dt(a,"default");if(l&&n===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&rt(d)){const{propsDefaults:c}=o;if(t in c)n=c[t];else{const u=rl(o);n=c[t]=d.call(null,e),u()}}else n=d;o.ce&&o.ce._setProp(t,n)}a[0]&&(r&&!l?n=!1:a[1]&&(n===""||n===mi(t))&&(n=!0))}return n}const rw=new WeakMap;function f_(s,e,t=!1){const n=t?rw:e.propsCache,o=n.get(s);if(o)return o;const r=s.props,a={},l=[];let d=!1;if(!rt(s)){const u=h=>{d=!0;const[p,g]=f_(h,e,!0);os(a,p),g&&l.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(u),s.extends&&u(s.extends),s.mixins&&s.mixins.forEach(u)}if(!r&&!d)return Nt(s)&&n.set(s,pr),pr;if(Ge(r))for(let u=0;u<r.length;u++){const h=Pn(r[u]);Jp(h)&&(a[h]=zt)}else if(r)for(const u in r){const h=Pn(u);if(Jp(h)){const p=r[u],g=a[h]=Ge(p)||rt(p)?{type:p}:os({},p),v=g.type;let x=!1,y=!0;if(Ge(v))for(let $=0;$<v.length;++$){const w=v[$],S=rt(w)&&w.name;if(S==="Boolean"){x=!0;break}else S==="String"&&(y=!1)}else x=rt(v)&&v.name==="Boolean";g[0]=x,g[1]=y,(x||Dt(g,"default"))&&l.push(h)}}const c=[a,l];return Nt(s)&&n.set(s,c),c}function Jp(s){return s[0]!=="$"&&!va(s)}const Mh=s=>s==="_"||s==="_ctx"||s==="$stable",Th=s=>Ge(s)?s.map(to):[to(s)],aw=(s,e,t)=>{if(e._n)return e;const n=X((...o)=>Th(e(...o)),t);return n._c=!1,n},h_=(s,e,t)=>{const n=s._ctx;for(const o in s){if(Mh(o))continue;const r=s[o];if(rt(r))e[o]=aw(o,r,n);else if(r!=null){const a=Th(r);e[o]=()=>a}}},p_=(s,e)=>{const t=Th(e);s.slots.default=()=>t},m_=(s,e,t)=>{for(const n in e)(t||!Mh(n))&&(s[n]=e[n])},lw=(s,e,t)=>{const n=s.slots=d_();if(s.vnode.shapeFlag&32){const o=e._;o?(m_(n,e,t),t&&m1(n,"_",o,!0)):h_(e,n)}else e&&p_(s,e)},dw=(s,e,t)=>{const{vnode:n,slots:o}=s;let r=!0,a=zt;if(n.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:m_(o,e,t):(r=!e.$stable,h_(e,o)),a=e}else e&&(p_(s,e),a={default:1});if(r)for(const l in o)!Mh(l)&&a[l]==null&&delete o[l]},Ws=$w;function cw(s){return uw(s)}function uw(s,e){const t=fc();t.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:a,createText:l,createComment:d,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:g=Nn,insertStaticContent:v}=s,x=(N,K,G,J=null,Z=null,ce=null,Se=void 0,Me=null,Ce=!!K.dynamicChildren)=>{if(N===K)return;N&&!Li(N,K)&&(J=$e(N),Oe(N,Z,ce,!0),N=null),K.patchFlag===-2&&(Ce=!1,K.dynamicChildren=null);const{type:ke,ref:Ke,shapeFlag:Ie}=K;switch(ke){case vc:y(N,K,G,J);break;case Is:$(N,K,G,J);break;case rd:N==null&&w(K,G,J,Se);break;case ue:I(N,K,G,J,Z,ce,Se,Me,Ce);break;default:Ie&1?T(N,K,G,J,Z,ce,Se,Me,Ce):Ie&6?W(N,K,G,J,Z,ce,Se,Me,Ce):(Ie&64||Ie&128)&&ke.process(N,K,G,J,Z,ce,Se,Me,Ce,Re)}Ke!=null&&Z?wa(Ke,N&&N.ref,ce,K||N,!K):Ke==null&&N&&N.ref!=null&&wa(N.ref,null,ce,N,!0)},y=(N,K,G,J)=>{if(N==null)n(K.el=l(K.children),G,J);else{const Z=K.el=N.el;K.children!==N.children&&c(Z,K.children)}},$=(N,K,G,J)=>{N==null?n(K.el=d(K.children||""),G,J):K.el=N.el},w=(N,K,G,J)=>{[N.el,N.anchor]=v(N.children,K,G,J,N.el,N.anchor)},S=({el:N,anchor:K},G,J)=>{let Z;for(;N&&N!==K;)Z=p(N),n(N,G,J),N=Z;n(K,G,J)},C=({el:N,anchor:K})=>{let G;for(;N&&N!==K;)G=p(N),o(N),N=G;o(K)},T=(N,K,G,J,Z,ce,Se,Me,Ce)=>{K.type==="svg"?Se="svg":K.type==="math"&&(Se="mathml"),N==null?F(K,G,J,Z,ce,Se,Me,Ce):j(N,K,Z,ce,Se,Me,Ce)},F=(N,K,G,J,Z,ce,Se,Me)=>{let Ce,ke;const{props:Ke,shapeFlag:Ie,transition:De,dirs:tt}=N;if(Ce=N.el=a(N.type,ce,Ke&&Ke.is,Ke),Ie&8?u(Ce,N.children):Ie&16&&z(N.children,Ce,null,J,Z,$u(N,ce),Se,Me),tt&&wi(N,null,J,"created"),L(Ce,N,N.scopeId,Se,J),Ke){for(const Tt in Ke)Tt!=="value"&&!va(Tt)&&r(Ce,Tt,null,Ke[Tt],ce,J);"value"in Ke&&r(Ce,"value",null,Ke.value,ce),(ke=Ke.onVnodeBeforeMount)&&Yn(ke,J,N)}tt&&wi(N,null,J,"beforeMount");const mt=fw(Z,De);mt&&De.beforeEnter(Ce),n(Ce,K,G),((ke=Ke&&Ke.onVnodeMounted)||mt||tt)&&Ws(()=>{ke&&Yn(ke,J,N),mt&&De.enter(Ce),tt&&wi(N,null,J,"mounted")},Z)},L=(N,K,G,J,Z)=>{if(G&&g(N,G),J)for(let ce=0;ce<J.length;ce++)g(N,J[ce]);if(Z){let ce=Z.subTree;if(K===ce||y_(ce.type)&&(ce.ssContent===K||ce.ssFallback===K)){const Se=Z.vnode;L(N,Se,Se.scopeId,Se.slotScopeIds,Z.parent)}}},z=(N,K,G,J,Z,ce,Se,Me,Ce=0)=>{for(let ke=Ce;ke<N.length;ke++){const Ke=N[ke]=Me?Ko(N[ke]):to(N[ke]);x(null,Ke,K,G,J,Z,ce,Se,Me)}},j=(N,K,G,J,Z,ce,Se)=>{const Me=K.el=N.el;let{patchFlag:Ce,dynamicChildren:ke,dirs:Ke}=K;Ce|=N.patchFlag&16;const Ie=N.props||zt,De=K.props||zt;let tt;if(G&&ki(G,!1),(tt=De.onVnodeBeforeUpdate)&&Yn(tt,G,K,N),Ke&&wi(K,N,G,"beforeUpdate"),G&&ki(G,!0),(Ie.innerHTML&&De.innerHTML==null||Ie.textContent&&De.textContent==null)&&u(Me,""),ke?E(N.dynamicChildren,ke,Me,G,J,$u(K,Z),ce):Se||ee(N,K,Me,null,G,J,$u(K,Z),ce,!1),Ce>0){if(Ce&16)O(Me,Ie,De,G,Z);else if(Ce&2&&Ie.class!==De.class&&r(Me,"class",null,De.class,Z),Ce&4&&r(Me,"style",Ie.style,De.style,Z),Ce&8){const mt=K.dynamicProps;for(let Tt=0;Tt<mt.length;Tt++){const bt=mt[Tt],gs=Ie[bt],is=De[bt];(is!==gs||bt==="value")&&r(Me,bt,gs,is,Z,G)}}Ce&1&&N.children!==K.children&&u(Me,K.children)}else!Se&&ke==null&&O(Me,Ie,De,G,Z);((tt=De.onVnodeUpdated)||Ke)&&Ws(()=>{tt&&Yn(tt,G,K,N),Ke&&wi(K,N,G,"updated")},J)},E=(N,K,G,J,Z,ce,Se)=>{for(let Me=0;Me<K.length;Me++){const Ce=N[Me],ke=K[Me],Ke=Ce.el&&(Ce.type===ue||!Li(Ce,ke)||Ce.shapeFlag&198)?h(Ce.el):G;x(Ce,ke,Ke,null,J,Z,ce,Se,!0)}},O=(N,K,G,J,Z)=>{if(K!==G){if(K!==zt)for(const ce in K)!va(ce)&&!(ce in G)&&r(N,ce,K[ce],null,Z,J);for(const ce in G){if(va(ce))continue;const Se=G[ce],Me=K[ce];Se!==Me&&ce!=="value"&&r(N,ce,Me,Se,Z,J)}"value"in G&&r(N,"value",K.value,G.value,Z)}},I=(N,K,G,J,Z,ce,Se,Me,Ce)=>{const ke=K.el=N?N.el:l(""),Ke=K.anchor=N?N.anchor:l("");let{patchFlag:Ie,dynamicChildren:De,slotScopeIds:tt}=K;tt&&(Me=Me?Me.concat(tt):tt),N==null?(n(ke,G,J),n(Ke,G,J),z(K.children||[],G,Ke,Z,ce,Se,Me,Ce)):Ie>0&&Ie&64&&De&&N.dynamicChildren?(E(N.dynamicChildren,De,G,Z,ce,Se,Me),(K.key!=null||Z&&K===Z.subTree)&&Dh(N,K,!0)):ee(N,K,G,Ke,Z,ce,Se,Me,Ce)},W=(N,K,G,J,Z,ce,Se,Me,Ce)=>{K.slotScopeIds=Me,N==null?K.shapeFlag&512?Z.ctx.activate(K,G,J,Se,Ce):ye(K,G,J,Z,ce,Se,Ce):ve(N,K,Ce)},ye=(N,K,G,J,Z,ce,Se)=>{const Me=N.component=Aw(N,J,Z);if(mc(N)&&(Me.ctx.renderer=Re),Ew(Me,!1,Se),Me.asyncDep){if(Z&&Z.registerDep(Me,_e,Se),!N.el){const Ce=Me.subTree=M(Is);$(null,Ce,K,G),N.placeholder=Ce.el}}else _e(Me,N,K,G,Z,ce,Se)},ve=(N,K,G)=>{const J=K.component=N.component;if(ww(N,K,G))if(J.asyncDep&&!J.asyncResolved){Q(J,K,G);return}else J.next=K,J.update();else K.el=N.el,J.vnode=K},_e=(N,K,G,J,Z,ce,Se)=>{const Me=()=>{if(N.isMounted){let{next:Ie,bu:De,u:tt,parent:mt,vnode:Tt}=N;{const us=g_(N);if(us){Ie&&(Ie.el=Tt.el,Q(N,Ie,Se)),us.asyncDep.then(()=>{N.isUnmounted||Me()});return}}let bt=Ie,gs;ki(N,!1),Ie?(Ie.el=Tt.el,Q(N,Ie,Se)):Ie=Tt,De&&od(De),(gs=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Yn(gs,mt,Ie,Tt),ki(N,!0);const is=Cu(N),Ms=N.subTree;N.subTree=is,x(Ms,is,h(Ms.el),$e(Ms),N,Z,ce),Ie.el=is.el,bt===null&&kw(N,is.el),tt&&Ws(tt,Z),(gs=Ie.props&&Ie.props.onVnodeUpdated)&&Ws(()=>Yn(gs,mt,Ie,Tt),Z)}else{let Ie;const{el:De,props:tt}=K,{bm:mt,m:Tt,parent:bt,root:gs,type:is}=N,Ms=_r(K);if(ki(N,!1),mt&&od(mt),!Ms&&(Ie=tt&&tt.onVnodeBeforeMount)&&Yn(Ie,bt,K),ki(N,!0),De&&ae){const us=()=>{N.subTree=Cu(N),ae(De,N.subTree,N,Z,null)};Ms&&is.__asyncHydrate?is.__asyncHydrate(De,N,us):us()}else{gs.ce&&gs.ce._def.shadowRoot!==!1&&gs.ce._injectChildStyle(is);const us=N.subTree=Cu(N);x(null,us,G,J,N,Z,ce),K.el=us.el}if(Tt&&Ws(Tt,Z),!Ms&&(Ie=tt&&tt.onVnodeMounted)){const us=K;Ws(()=>Yn(Ie,bt,us),Z)}(K.shapeFlag&256||bt&&_r(bt.vnode)&&bt.vnode.shapeFlag&256)&&N.a&&Ws(N.a,Z),N.isMounted=!0,K=G=J=null}};N.scope.on();const Ce=N.effect=new w1(Me);N.scope.off();const ke=N.update=Ce.run.bind(Ce),Ke=N.job=Ce.runIfDirty.bind(Ce);Ke.i=N,Ke.id=N.uid,Ce.scheduler=()=>xh(Ke),ki(N,!0),ke()},Q=(N,K,G)=>{K.component=N;const J=N.vnode.props;N.vnode=K,N.next=null,iw(N,K.props,J,G),dw(N,K.children,G),Do(),zp(N),Ao()},ee=(N,K,G,J,Z,ce,Se,Me,Ce=!1)=>{const ke=N&&N.children,Ke=N?N.shapeFlag:0,Ie=K.children,{patchFlag:De,shapeFlag:tt}=K;if(De>0){if(De&128){he(ke,Ie,G,J,Z,ce,Se,Me,Ce);return}else if(De&256){q(ke,Ie,G,J,Z,ce,Se,Me,Ce);return}}tt&8?(Ke&16&&be(ke,Z,ce),Ie!==ke&&u(G,Ie)):Ke&16?tt&16?he(ke,Ie,G,J,Z,ce,Se,Me,Ce):be(ke,Z,ce,!0):(Ke&8&&u(G,""),tt&16&&z(Ie,G,J,Z,ce,Se,Me,Ce))},q=(N,K,G,J,Z,ce,Se,Me,Ce)=>{N=N||pr,K=K||pr;const ke=N.length,Ke=K.length,Ie=Math.min(ke,Ke);let De;for(De=0;De<Ie;De++){const tt=K[De]=Ce?Ko(K[De]):to(K[De]);x(N[De],tt,G,null,Z,ce,Se,Me,Ce)}ke>Ke?be(N,Z,ce,!0,!1,Ie):z(K,G,J,Z,ce,Se,Me,Ce,Ie)},he=(N,K,G,J,Z,ce,Se,Me,Ce)=>{let ke=0;const Ke=K.length;let Ie=N.length-1,De=Ke-1;for(;ke<=Ie&&ke<=De;){const tt=N[ke],mt=K[ke]=Ce?Ko(K[ke]):to(K[ke]);if(Li(tt,mt))x(tt,mt,G,null,Z,ce,Se,Me,Ce);else break;ke++}for(;ke<=Ie&&ke<=De;){const tt=N[Ie],mt=K[De]=Ce?Ko(K[De]):to(K[De]);if(Li(tt,mt))x(tt,mt,G,null,Z,ce,Se,Me,Ce);else break;Ie--,De--}if(ke>Ie){if(ke<=De){const tt=De+1,mt=tt<Ke?K[tt].el:J;for(;ke<=De;)x(null,K[ke]=Ce?Ko(K[ke]):to(K[ke]),G,mt,Z,ce,Se,Me,Ce),ke++}}else if(ke>De)for(;ke<=Ie;)Oe(N[ke],Z,ce,!0),ke++;else{const tt=ke,mt=ke,Tt=new Map;for(ke=mt;ke<=De;ke++){const fs=K[ke]=Ce?Ko(K[ke]):to(K[ke]);fs.key!=null&&Tt.set(fs.key,ke)}let bt,gs=0;const is=De-mt+1;let Ms=!1,us=0;const Rn=new Array(is);for(ke=0;ke<is;ke++)Rn[ke]=0;for(ke=tt;ke<=Ie;ke++){const fs=N[ke];if(gs>=is){Oe(fs,Z,ce,!0);continue}let Ts;if(fs.key!=null)Ts=Tt.get(fs.key);else for(bt=mt;bt<=De;bt++)if(Rn[bt-mt]===0&&Li(fs,K[bt])){Ts=bt;break}Ts===void 0?Oe(fs,Z,ce,!0):(Rn[Ts-mt]=ke+1,Ts>=us?us=Ts:Ms=!0,x(fs,K[Ts],G,null,Z,ce,Se,Me,Ce),gs++)}const Lt=Ms?hw(Rn):pr;for(bt=Lt.length-1,ke=is-1;ke>=0;ke--){const fs=mt+ke,Ts=K[fs],sr=K[fs+1],On=fs+1<Ke?sr.el||sr.placeholder:J;Rn[ke]===0?x(null,Ts,G,On,Z,ce,Se,Me,Ce):Ms&&(bt<0||ke!==Lt[bt]?we(Ts,G,On,2):bt--)}}},we=(N,K,G,J,Z=null)=>{const{el:ce,type:Se,transition:Me,children:Ce,shapeFlag:ke}=N;if(ke&6){we(N.component.subTree,K,G,J);return}if(ke&128){N.suspense.move(K,G,J);return}if(ke&64){Se.move(N,K,G,Re);return}if(Se===ue){n(ce,K,G);for(let Ie=0;Ie<Ce.length;Ie++)we(Ce[Ie],K,G,J);n(N.anchor,K,G);return}if(Se===rd){S(N,K,G);return}if(J!==2&&ke&1&&Me)if(J===0)Me.beforeEnter(ce),n(ce,K,G),Ws(()=>Me.enter(ce),Z);else{const{leave:Ie,delayLeave:De,afterLeave:tt}=Me,mt=()=>{N.ctx.isUnmounted?o(ce):n(ce,K,G)},Tt=()=>{ce._isLeaving&&ce[bo](!0),Ie(ce,()=>{mt(),tt&&tt()})};De?De(ce,mt,Tt):Tt()}else n(ce,K,G)},Oe=(N,K,G,J=!1,Z=!1)=>{const{type:ce,props:Se,ref:Me,children:Ce,dynamicChildren:ke,shapeFlag:Ke,patchFlag:Ie,dirs:De,cacheIndex:tt}=N;if(Ie===-2&&(Z=!1),Me!=null&&(Do(),wa(Me,null,G,N,!0),Ao()),tt!=null&&(K.renderCache[tt]=void 0),Ke&256){K.ctx.deactivate(N);return}const mt=Ke&1&&De,Tt=!_r(N);let bt;if(Tt&&(bt=Se&&Se.onVnodeBeforeUnmount)&&Yn(bt,K,N),Ke&6)le(N.component,G,J);else{if(Ke&128){N.suspense.unmount(G,J);return}mt&&wi(N,null,K,"beforeUnmount"),Ke&64?N.type.remove(N,K,G,Re,J):ke&&!ke.hasOnce&&(ce!==ue||Ie>0&&Ie&64)?be(ke,K,G,!1,!0):(ce===ue&&Ie&384||!Z&&Ke&16)&&be(Ce,K,G),J&&it(N)}(Tt&&(bt=Se&&Se.onVnodeUnmounted)||mt)&&Ws(()=>{bt&&Yn(bt,K,N),mt&&wi(N,null,K,"unmounted")},G)},it=N=>{const{type:K,el:G,anchor:J,transition:Z}=N;if(K===ue){ft(G,J);return}if(K===rd){C(N);return}const ce=()=>{o(G),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(N.shapeFlag&1&&Z&&!Z.persisted){const{leave:Se,delayLeave:Me}=Z,Ce=()=>Se(G,ce);Me?Me(N.el,ce,Ce):Ce()}else ce()},ft=(N,K)=>{let G;for(;N!==K;)G=p(N),o(N),N=G;o(K)},le=(N,K,G)=>{const{bum:J,scope:Z,job:ce,subTree:Se,um:Me,m:Ce,a:ke}=N;Qp(Ce),Qp(ke),J&&od(J),Z.stop(),ce&&(ce.flags|=8,Oe(Se,N,K,G)),Me&&Ws(Me,K),Ws(()=>{N.isUnmounted=!0},K)},be=(N,K,G,J=!1,Z=!1,ce=0)=>{for(let Se=ce;Se<N.length;Se++)Oe(N[Se],K,G,J,Z)},$e=N=>{if(N.shapeFlag&6)return $e(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const K=p(N.anchor||N.el),G=K&&K[H1];return G?p(G):K};let je=!1;const Je=(N,K,G)=>{N==null?K._vnode&&Oe(K._vnode,null,null,!0):x(K._vnode||null,N,K,null,null,null,G),K._vnode=N,je||(je=!0,zp(),B1(),je=!1)},Re={p:x,um:Oe,m:we,r:it,mt:ye,mc:z,pc:ee,pbc:E,n:$e,o:s};let re,ae;return e&&([re,ae]=e(Re)),{render:Je,hydrate:re,createApp:sw(Je,re)}}function $u({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ki({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function fw(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function Dh(s,e,t=!1){const n=s.children,o=e.children;if(Ge(n)&&Ge(o))for(let r=0;r<n.length;r++){const a=n[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=Ko(o[r]),l.el=a.el),!t&&l.patchFlag!==-2&&Dh(a,l)),l.type===vc&&l.patchFlag!==-1&&(l.el=a.el),l.type===Is&&!l.el&&(l.el=a.el)}}function hw(s){const e=s.slice(),t=[0];let n,o,r,a,l;const d=s.length;for(n=0;n<d;n++){const c=s[n];if(c!==0){if(o=t[t.length-1],s[o]<c){e[n]=o,t.push(n);continue}for(r=0,a=t.length-1;r<a;)l=r+a>>1,s[t[l]]<c?r=l+1:a=l;c<s[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,a=t[r-1];r-- >0;)t[r]=a,a=e[a];return t}function g_(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:g_(e)}function Qp(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const pw=Symbol.for("v-scx"),mw=()=>et(pw);function rn(s,e){return Ah(s,null,e)}function Bt(s,e,t){return Ah(s,e,t)}function Ah(s,e,t=zt){const{immediate:n,deep:o,flush:r,once:a}=t,l=os({},t),d=e&&n||!e&&r!=="post";let c;if(qa){if(r==="sync"){const g=mw();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!d){const g=()=>{};return g.stop=Nn,g.resume=Nn,g.pause=Nn,g}}const u=js;l.call=(g,v,x)=>Vn(g,u,v,x);let h=!1;r==="post"?l.scheduler=g=>{Ws(g,u&&u.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(g,v)=>{v?g():xh(g)}),l.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const p=O2(s,e,l);return qa&&(c?c.push(p):d&&p()),p}function gw(s,e,t){const n=this.proxy,o=Xt(s)?s.includes(".")?__(n,s):()=>n[s]:s.bind(n,n);let r;rt(e)?r=e:(r=e.handler,t=e);const a=rl(this),l=Ah(o,r.bind(n),t);return a(),l}function __(s,e){const t=e.split(".");return()=>{let n=s;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}const _w=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${Pn(e)}Modifiers`]||s[`${mi(e)}Modifiers`];function vw(s,e,...t){if(s.isUnmounted)return;const n=s.vnode.props||zt;let o=t;const r=e.startsWith("update:"),a=r&&_w(n,e.slice(7));a&&(a.trim&&(o=t.map(u=>Xt(u)?u.trim():u)),a.number&&(o=t.map(Md)));let l,d=n[l=_u(e)]||n[l=_u(Pn(e))];!d&&r&&(d=n[l=_u(mi(e))]),d&&Vn(d,s,6,o);const c=n[l+"Once"];if(c){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Vn(c,s,6,o)}}const yw=new WeakMap;function v_(s,e,t=!1){const n=t?yw:e.emitsCache,o=n.get(s);if(o!==void 0)return o;const r=s.emits;let a={},l=!1;if(!rt(s)){const d=c=>{const u=v_(c,e,!0);u&&(l=!0,os(a,u))};!t&&e.mixins.length&&e.mixins.forEach(d),s.extends&&d(s.extends),s.mixins&&s.mixins.forEach(d)}return!r&&!l?(Nt(s)&&n.set(s,null),null):(Ge(r)?r.forEach(d=>a[d]=null):os(a,r),Nt(s)&&n.set(s,a),a)}function _c(s,e){return!s||!dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(s,e[0].toLowerCase()+e.slice(1))||Dt(s,mi(e))||Dt(s,e))}function Cu(s){const{type:e,vnode:t,proxy:n,withProxy:o,propsOptions:[r],slots:a,attrs:l,emit:d,render:c,renderCache:u,props:h,data:p,setupState:g,ctx:v,inheritAttrs:x}=s,y=Pd(s);let $,w;try{if(t.shapeFlag&4){const C=o||n,T=C;$=to(c.call(T,C,u,h,g,p,v)),w=l}else{const C=e;$=to(C.length>1?C(h,{attrs:l,slots:a,emit:d}):C(h,null)),w=e.props?l:bw(l)}}catch(C){$a.length=0,pc(C,s,1),$=M(Is)}let S=$;if(w&&x!==!1){const C=Object.keys(w),{shapeFlag:T}=S;C.length&&T&7&&(r&&C.some(ch)&&(w=xw(w,r)),S=Eo(S,w,!1,!0))}return t.dirs&&(S=Eo(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&Gi(S,t.transition),$=S,Pd(y),$}const bw=s=>{let e;for(const t in s)(t==="class"||t==="style"||dc(t))&&((e||(e={}))[t]=s[t]);return e},xw=(s,e)=>{const t={};for(const n in s)(!ch(n)||!(n.slice(9)in e))&&(t[n]=s[n]);return t};function ww(s,e,t){const{props:n,children:o,component:r}=s,{props:a,children:l,patchFlag:d}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&d>=0){if(d&1024)return!0;if(d&16)return n?Zp(n,a,c):!!a;if(d&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(a[p]!==n[p]&&!_c(c,p))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?Zp(n,a,c):!0:!!a;return!1}function Zp(s,e,t){const n=Object.keys(e);if(n.length!==Object.keys(s).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(e[r]!==s[r]&&!_c(t,r))return!0}return!1}function kw({vnode:s,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=e.vnode).el=t,e=e.parent;else break}}const y_=s=>s.__isSuspense;function $w(s,e){e&&e.pendingBranch?Ge(s)?e.effects.push(...s):e.effects.push(s):L2(s)}const ue=Symbol.for("v-fgt"),vc=Symbol.for("v-txt"),Is=Symbol.for("v-cmt"),rd=Symbol.for("v-stc"),$a=[];let vn=null;function _(s=!1){$a.push(vn=s?null:[])}function Cw(){$a.pop(),vn=$a[$a.length-1]||null}let Ha=1;function Id(s,e=!1){Ha+=s,s<0&&vn&&e&&(vn.hasOnce=!0)}function b_(s){return s.dynamicChildren=Ha>0?vn||pr:null,Cw(),Ha>0&&vn&&vn.push(s),s}function b(s,e,t,n,o,r){return b_(i(s,e,t,n,o,r,!0))}function oe(s,e,t,n,o){return b_(M(s,e,t,n,o,!0))}function Wa(s){return s?s.__v_isVNode===!0:!1}function Li(s,e){return s.type===e.type&&s.key===e.key}const x_=({key:s})=>s??null,ad=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?Xt(s)||ns(s)||rt(s)?{i:ws,r:s,k:e,f:!!t}:s:null);function i(s,e=null,t=null,n=0,o=null,r=s===ue?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&x_(e),ref:e&&ad(e),scopeId:V1,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ws};return l?(Eh(d,t),r&128&&s.normalize(d)):t&&(d.shapeFlag|=Xt(t)?8:16),Ha>0&&!a&&vn&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&vn.push(d),d}const M=Sw;function Sw(s,e=null,t=null,n=0,o=null,r=!1){if((!s||s===n_)&&(s=Is),Wa(s)){const l=Eo(s,e,!0);return t&&Eh(l,t),Ha>0&&!r&&vn&&(l.shapeFlag&6?vn[vn.indexOf(s)]=l:vn.push(l)),l.patchFlag=-2,l}if(jw(s)&&(s=s.__vccOpts),e){e=Mw(e);let{class:l,style:d}=e;l&&!Xt(l)&&(e.class=ne(l)),Nt(d)&&(bh(d)&&!Ge(d)&&(d=os({},d)),e.style=$t(d))}const a=Xt(s)?1:y_(s)?128:W1(s)?64:Nt(s)?4:rt(s)?2:0;return i(s,e,t,n,o,a,r,!0)}function Mw(s){return s?bh(s)||c_(s)?os({},s):s:null}function Eo(s,e,t=!1,n=!1){const{props:o,ref:r,patchFlag:a,children:l,transition:d}=s,c=e?w_(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:s.type,props:c,key:c&&x_(c),ref:e&&e.ref?t&&r?Ge(r)?r.concat(ad(e)):[r,ad(e)]:ad(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==ue?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:d,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Eo(s.ssContent),ssFallback:s.ssFallback&&Eo(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return d&&n&&Gi(u,d.clone(u)),u}function se(s=" ",e=0){return M(vc,null,s,e)}function Ir(s,e){const t=M(rd,null,s);return t.staticCount=e,t}function P(s="",e=!1){return e?(_(),oe(Is,null,s)):M(Is,null,s)}function to(s){return s==null||typeof s=="boolean"?M(Is):Ge(s)?M(ue,null,s.slice()):Wa(s)?Ko(s):M(vc,null,String(s))}function Ko(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Eo(s)}function Eh(s,e){let t=0;const{shapeFlag:n}=s;if(e==null)e=null;else if(Ge(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),Eh(s,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!c_(e)?e._ctx=ws:o===3&&ws&&(ws.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else rt(e)?(e={default:e,_ctx:ws},t=32):(e=String(e),n&64?(t=16,e=[se(e)]):t=8);s.children=e,s.shapeFlag|=t}function w_(...s){const e={};for(let t=0;t<s.length;t++){const n=s[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=ne([e.class,n.class]));else if(o==="style")e.style=$t([e.style,n.style]);else if(dc(o)){const r=e[o],a=n[o];a&&r!==a&&!(Ge(r)&&r.includes(a))&&(e[o]=r?[].concat(r,a):a)}else o!==""&&(e[o]=n[o])}return e}function Yn(s,e,t,n=null){Vn(s,e,7,[t,n])}const Tw=a_();let Dw=0;function Aw(s,e,t){const n=s.type,o=(e?e.appContext:s.appContext)||Tw,r={uid:Dw++,vnode:s,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new y1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:f_(n,o),emitsOptions:v_(n,o),emit:null,emitted:null,propsDefaults:zt,inheritAttrs:n.inheritAttrs,ctx:zt,data:zt,props:zt,attrs:zt,slots:zt,refs:zt,setupState:zt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=vw.bind(null,r),s.ce&&s.ce(r),r}let js=null;const jr=()=>js||ws;let jd,Sf;{const s=fc(),e=(t,n)=>{let o;return(o=s[t])||(o=s[t]=[]),o.push(n),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};jd=e("__VUE_INSTANCE_SETTERS__",t=>js=t),Sf=e("__VUE_SSR_SETTERS__",t=>qa=t)}const rl=s=>{const e=js;return jd(s),s.scope.on(),()=>{s.scope.off(),jd(e)}},em=()=>{js&&js.scope.off(),jd(null)};function k_(s){return s.vnode.shapeFlag&4}let qa=!1;function Ew(s,e=!1,t=!1){e&&Sf(e);const{props:n,children:o}=s.vnode,r=k_(s);ow(s,n,r,e),lw(s,o,t||e);const a=r?Pw(s,e):void 0;return e&&Sf(!1),a}function Pw(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,G2);const{setup:n}=t;if(n){Do();const o=s.setupContext=n.length>1?Ow(s):null,r=rl(s),a=il(n,s,0,[s.props,o]),l=f1(a);if(Ao(),r(),(l||s.sp)&&!_r(s)&&Z1(s),l){if(a.then(em,em),e)return a.then(d=>{tm(s,d,e)}).catch(d=>{pc(d,s,0)});s.asyncDep=a}else tm(s,a,e)}else $_(s,e)}function tm(s,e,t){rt(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Nt(e)&&(s.setupState=F1(e)),$_(s,t)}let sm;function $_(s,e,t){const n=s.type;if(!s.render){if(!e&&sm&&!n.render){const o=n.template||Sh(s).template;if(o){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:l,compilerOptions:d}=n,c=os(os({isCustomElement:r,delimiters:l},a),d);n.render=sm(o,c)}}s.render=n.render||Nn}{const o=rl(s);Do();try{X2(s)}finally{Ao(),o()}}}const Rw={get(s,e){return Os(s,"get",""),s[e]}};function Ow(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,Rw),slots:s.slots,emit:s.emit,expose:e}}function yc(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(F1(wr(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in ka)return ka[t](s)},has(e,t){return t in e||t in ka}})):s.proxy}function Iw(s,e=!0){return rt(s)?s.displayName||s.name:s.name||e&&s.__name}function jw(s){return rt(s)&&"__vccOpts"in s}const Pe=(s,e)=>P2(s,e,qa);function Ot(s,e,t){try{Id(-1);const n=arguments.length;return n===2?Nt(e)&&!Ge(e)?Wa(e)?M(s,null,[e]):M(s,e):M(s,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Wa(t)&&(t=[t]),M(s,e,t))}finally{Id(1)}}const Lw="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mf;const nm=typeof window<"u"&&window.trustedTypes;if(nm)try{Mf=nm.createPolicy("vue",{createHTML:s=>s})}catch{}const C_=Mf?s=>Mf.createHTML(s):s=>s,Fw="http://www.w3.org/2000/svg",Nw="http://www.w3.org/1998/Math/MathML",yo=typeof document<"u"?document:null,om=yo&&yo.createElement("template"),zw={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,n)=>{const o=e==="svg"?yo.createElementNS(Fw,s):e==="mathml"?yo.createElementNS(Nw,s):t?yo.createElement(s,{is:t}):yo.createElement(s);return s==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:s=>yo.createTextNode(s),createComment:s=>yo.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>yo.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,n,o,r){const a=t?t.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===r||!(o=o.nextSibling)););else{om.innerHTML=C_(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const l=om.content;if(n==="svg"||n==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Uo="transition",Yr="animation",kr=Symbol("_vtc"),S_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},M_=os({},G1,S_),Bw=s=>(s.displayName="Transition",s.props=M_,s),Uw=Bw((s,{slots:e})=>Ot(z2,T_(s),e)),$i=(s,e=[])=>{Ge(s)?s.forEach(t=>t(...e)):s&&s(...e)},im=s=>s?Ge(s)?s.some(e=>e.length>1):s.length>1:!1;function T_(s){const e={};for(const I in s)I in S_||(e[I]=s[I]);if(s.css===!1)return e;const{name:t="v",type:n,duration:o,enterFromClass:r=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:d=r,appearActiveClass:c=a,appearToClass:u=l,leaveFromClass:h=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:g=`${t}-leave-to`}=s,v=Vw(o),x=v&&v[0],y=v&&v[1],{onBeforeEnter:$,onEnter:w,onEnterCancelled:S,onLeave:C,onLeaveCancelled:T,onBeforeAppear:F=$,onAppear:L=w,onAppearCancelled:z=S}=e,j=(I,W,ye,ve)=>{I._enterCancelled=ve,Ho(I,W?u:l),Ho(I,W?c:a),ye&&ye()},E=(I,W)=>{I._isLeaving=!1,Ho(I,h),Ho(I,g),Ho(I,p),W&&W()},O=I=>(W,ye)=>{const ve=I?L:w,_e=()=>j(W,I,ye);$i(ve,[W,_e]),rm(()=>{Ho(W,I?d:r),Xn(W,I?u:l),im(ve)||am(W,n,x,_e)})};return os(e,{onBeforeEnter(I){$i($,[I]),Xn(I,r),Xn(I,a)},onBeforeAppear(I){$i(F,[I]),Xn(I,d),Xn(I,c)},onEnter:O(!1),onAppear:O(!0),onLeave(I,W){I._isLeaving=!0;const ye=()=>E(I,W);Xn(I,h),I._enterCancelled?(Xn(I,p),Tf(I)):(Tf(I),Xn(I,p)),rm(()=>{I._isLeaving&&(Ho(I,h),Xn(I,g),im(C)||am(I,n,y,ye))}),$i(C,[I,ye])},onEnterCancelled(I){j(I,!1,void 0,!0),$i(S,[I])},onAppearCancelled(I){j(I,!0,void 0,!0),$i(z,[I])},onLeaveCancelled(I){E(I),$i(T,[I])}})}function Vw(s){if(s==null)return null;if(Nt(s))return[Su(s.enter),Su(s.leave)];{const e=Su(s);return[e,e]}}function Su(s){return Jx(s)}function Xn(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[kr]||(s[kr]=new Set)).add(e)}function Ho(s,e){e.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const t=s[kr];t&&(t.delete(e),t.size||(s[kr]=void 0))}function rm(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let Hw=0;function am(s,e,t,n){const o=s._endId=++Hw,r=()=>{o===s._endId&&n()};if(t!=null)return setTimeout(r,t);const{type:a,timeout:l,propCount:d}=D_(s,e);if(!a)return n();const c=a+"end";let u=0;const h=()=>{s.removeEventListener(c,p),r()},p=g=>{g.target===s&&++u>=d&&h()};setTimeout(()=>{u<d&&h()},l+1),s.addEventListener(c,p)}function D_(s,e){const t=window.getComputedStyle(s),n=v=>(t[v]||"").split(", "),o=n(`${Uo}Delay`),r=n(`${Uo}Duration`),a=lm(o,r),l=n(`${Yr}Delay`),d=n(`${Yr}Duration`),c=lm(l,d);let u=null,h=0,p=0;e===Uo?a>0&&(u=Uo,h=a,p=r.length):e===Yr?c>0&&(u=Yr,h=c,p=d.length):(h=Math.max(a,c),u=h>0?a>c?Uo:Yr:null,p=u?u===Uo?r.length:d.length:0);const g=u===Uo&&/\b(?:transform|all)(?:,|$)/.test(n(`${Uo}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:g}}function lm(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,n)=>dm(t)+dm(s[n])))}function dm(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Tf(s){return(s?s.ownerDocument:document).body.offsetHeight}function Ww(s,e,t){const n=s[kr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Ld=Symbol("_vod"),A_=Symbol("_vsh"),Ft={name:"show",beforeMount(s,{value:e},{transition:t}){s[Ld]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):Gr(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:n}){!e!=!t&&(n?e?(n.beforeEnter(s),Gr(s,!0),n.enter(s)):n.leave(s,()=>{Gr(s,!1)}):Gr(s,e))},beforeUnmount(s,{value:e}){Gr(s,e)}};function Gr(s,e){s.style.display=e?s[Ld]:"none",s[A_]=!e}const qw=Symbol(""),Kw=/(?:^|;)\s*display\s*:/;function Yw(s,e,t){const n=s.style,o=Xt(t);let r=!1;if(t&&!o){if(e)if(Xt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&ld(n,l,"")}else for(const a in e)t[a]==null&&ld(n,a,"");for(const a in t)a==="display"&&(r=!0),ld(n,a,t[a])}else if(o){if(e!==t){const a=n[qw];a&&(t+=";"+a),n.cssText=t,r=Kw.test(t)}}else e&&s.removeAttribute("style");Ld in s&&(s[Ld]=r?n.display:"",s[A_]&&(n.display="none"))}const cm=/\s*!important$/;function ld(s,e,t){if(Ge(t))t.forEach(n=>ld(s,e,n));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const n=Gw(s,e);cm.test(t)?s.setProperty(mi(n),t.replace(cm,""),"important"):s[n]=t}}const um=["Webkit","Moz","ms"],Mu={};function Gw(s,e){const t=Mu[e];if(t)return t;let n=Pn(e);if(n!=="filter"&&n in s)return Mu[e]=n;n=uc(n);for(let o=0;o<um.length;o++){const r=um[o]+n;if(r in s)return Mu[e]=r}return e}const fm="http://www.w3.org/1999/xlink";function hm(s,e,t,n,o,r=n2(e)){n&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(fm,e.slice(6,e.length)):s.setAttributeNS(fm,e,t):t==null||r&&!g1(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Un(t)?String(t):t)}function pm(s,e,t,n,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?C_(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,d=t==null?s.type==="checkbox"?"on":"":String(t);(l!==d||!("_value"in s))&&(s.value=d),t==null&&s.removeAttribute(e),s._value=t;return}let a=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=g1(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{s[e]=t}catch{}a&&s.removeAttribute(o||e)}function $o(s,e,t,n){s.addEventListener(e,t,n)}function Xw(s,e,t,n){s.removeEventListener(e,t,n)}const mm=Symbol("_vei");function Jw(s,e,t,n,o=null){const r=s[mm]||(s[mm]={}),a=r[e];if(n&&a)a.value=n;else{const[l,d]=Qw(e);if(n){const c=r[e]=t5(n,o);$o(s,l,c,d)}else a&&(Xw(s,l,a,d),r[e]=void 0)}}const gm=/(?:Once|Passive|Capture)$/;function Qw(s){let e;if(gm.test(s)){e={};let n;for(;n=s.match(gm);)s=s.slice(0,s.length-n[0].length),e[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):mi(s.slice(2)),e]}let Tu=0;const Zw=Promise.resolve(),e5=()=>Tu||(Zw.then(()=>Tu=0),Tu=Date.now());function t5(s,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Vn(s5(n,t.value),e,5,[n])};return t.value=s,t.attached=e5(),t}function s5(s,e){if(Ge(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const _m=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,n5=(s,e,t,n,o,r)=>{const a=o==="svg";e==="class"?Ww(s,n,a):e==="style"?Yw(s,t,n):dc(e)?ch(e)||Jw(s,e,t,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):o5(s,e,n,a))?(pm(s,e,n),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hm(s,e,n,a,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!Xt(n))?pm(s,Pn(e),n,r,e):(e==="true-value"?s._trueValue=n:e==="false-value"&&(s._falseValue=n),hm(s,e,n,a))};function o5(s,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in s&&_m(e)&&rt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=s.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return _m(e)&&Xt(t)?!1:e in s}const E_=new WeakMap,P_=new WeakMap,Fd=Symbol("_moveCb"),vm=Symbol("_enterCb"),i5=s=>(delete s.props.mode,s),r5=i5({name:"TransitionGroup",props:os({},M_,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=jr(),n=Y1();let o,r;return Or(()=>{if(!o.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!u5(o[0].el,t.vnode.el,a)){o=[];return}o.forEach(l5),o.forEach(d5);const l=o.filter(c5);Tf(t.vnode.el),l.forEach(d=>{const c=d.el,u=c.style;Xn(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[Fd]=p=>{p&&p.target!==c||(!p||p.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",h),c[Fd]=null,Ho(c,a))};c.addEventListener("transitionend",h)}),o=[]}),()=>{const a=xt(s),l=T_(a);let d=a.tag||ue;if(o=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(o.push(u),Gi(u,Va(u,l,n,t)),E_.set(u,u.el.getBoundingClientRect()))}r=e.default?kh(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Gi(u,Va(u,l,n,t))}return M(d,null,r)}}}),a5=r5;function l5(s){const e=s.el;e[Fd]&&e[Fd](),e[vm]&&e[vm]()}function d5(s){P_.set(s,s.el.getBoundingClientRect())}function c5(s){const e=E_.get(s),t=P_.get(s),n=e.left-t.left,o=e.top-t.top;if(n||o){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${o}px)`,r.transitionDuration="0s",s}}function u5(s,e,t){const n=s.cloneNode(),o=s[kr];o&&o.forEach(l=>{l.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),t.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(n);const{hasTransform:a}=D_(n);return r.removeChild(n),a}const ci=s=>{const e=s.props["onUpdate:modelValue"]||!1;return Ge(e)?t=>od(e,t):e};function f5(s){s.target.composing=!0}function ym(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const En=Symbol("_assign"),ie={created(s,{modifiers:{lazy:e,trim:t,number:n}},o){s[En]=ci(o);const r=n||o.props&&o.props.type==="number";$o(s,e?"change":"input",a=>{if(a.target.composing)return;let l=s.value;t&&(l=l.trim()),r&&(l=Md(l)),s[En](l)}),t&&$o(s,"change",()=>{s.value=s.value.trim()}),e||($o(s,"compositionstart",f5),$o(s,"compositionend",ym),$o(s,"change",ym))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:n,trim:o,number:r}},a){if(s[En]=ci(a),s.composing)return;const l=(r||s.type==="number")&&!/^0\d/.test(s.value)?Md(s.value):s.value,d=e??"";l!==d&&(document.activeElement===s&&s.type!=="range"&&(n&&e===t||o&&s.value.trim()===d)||(s.value=d))}},ps={deep:!0,created(s,e,t){s[En]=ci(t),$o(s,"change",()=>{const n=s._modelValue,o=$r(s),r=s.checked,a=s[En];if(Ge(n)){const l=hh(n,o),d=l!==-1;if(r&&!d)a(n.concat(o));else if(!r&&d){const c=[...n];c.splice(l,1),a(c)}}else if(Rr(n)){const l=new Set(n);r?l.add(o):l.delete(o),a(l)}else a(R_(s,r))})},mounted:bm,beforeUpdate(s,e,t){s[En]=ci(t),bm(s,e,t)}};function bm(s,{value:e,oldValue:t},n){s._modelValue=e;let o;if(Ge(e))o=hh(e,n.props.value)>-1;else if(Rr(e))o=e.has(n.props.value);else{if(e===t)return;o=Yi(e,R_(s,!0))}s.checked!==o&&(s.checked=o)}const no={created(s,{value:e},t){s.checked=Yi(e,t.props.value),s[En]=ci(t),$o(s,"change",()=>{s[En]($r(s))})},beforeUpdate(s,{value:e,oldValue:t},n){s[En]=ci(n),e!==t&&(s.checked=Yi(e,n.props.value))}},Ne={deep:!0,created(s,{value:e,modifiers:{number:t}},n){const o=Rr(e);$o(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>t?Md($r(a)):$r(a));s[En](s.multiple?o?new Set(r):r:r[0]),s._assigning=!0,bn(()=>{s._assigning=!1})}),s[En]=ci(n)},mounted(s,{value:e}){xm(s,e)},beforeUpdate(s,e,t){s[En]=ci(t)},updated(s,{value:e}){s._assigning||xm(s,e)}};function xm(s,e){const t=s.multiple,n=Ge(e);if(!(t&&!n&&!Rr(e))){for(let o=0,r=s.options.length;o<r;o++){const a=s.options[o],l=$r(a);if(t)if(n){const d=typeof l;d==="string"||d==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=hh(e,l)>-1}else a.selected=e.has(l);else if(Yi($r(a),e)){s.selectedIndex!==o&&(s.selectedIndex=o);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function $r(s){return"_value"in s?s._value:s.value}function R_(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const h5={created(s,e,t){Ml(s,e,t,null,"created")},mounted(s,e,t){Ml(s,e,t,null,"mounted")},beforeUpdate(s,e,t,n){Ml(s,e,t,n,"beforeUpdate")},updated(s,e,t,n){Ml(s,e,t,n,"updated")}};function p5(s,e){switch(s){case"SELECT":return Ne;case"TEXTAREA":return ie;default:switch(e){case"checkbox":return ps;case"radio":return no;default:return ie}}}function Ml(s,e,t,n,o){const a=p5(s.tagName,t.props&&t.props.type)[o];a&&a(s,e,t,n)}const m5=["ctrl","shift","alt","meta"],g5={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>m5.some(t=>s[`${t}Key`]&&!e.includes(t))},We=(s,e)=>{const t=s._withMods||(s._withMods={}),n=e.join(".");return t[n]||(t[n]=(o,...r)=>{for(let a=0;a<e.length;a++){const l=g5[e[a]];if(l&&l(o,e))return}return s(o,...r)})},_5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Dn=(s,e)=>{const t=s._withKeys||(s._withKeys={}),n=e.join(".");return t[n]||(t[n]=o=>{if(!("key"in o))return;const r=mi(o.key);if(e.some(a=>a===r||_5[a]===r))return s(o)})},v5=os({patchProp:n5},zw);let wm;function y5(){return wm||(wm=cw(v5))}const b5=(...s)=>{const e=y5().createApp(...s),{mount:t}=e;return e.mount=n=>{const o=w5(n);if(!o)return;const r=e._component;!rt(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=t(o,!1,x5(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function x5(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function w5(s){return Xt(s)?document.querySelector(s):s}var k5=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let O_;const bc=s=>O_=s,I_=Symbol();function Df(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Ca;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Ca||(Ca={}));function $5(){const s=b1(!0),e=s.run(()=>R({}));let t=[],n=[];const o=wr({install(r){bc(o),o._a=r,r.provide(I_,o),r.config.globalProperties.$pinia=o,n.forEach(a=>t.push(a)),n=[]},use(r){return!this._a&&!k5?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const j_=()=>{};function km(s,e,t,n=j_){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&x1()&&i2(o),o}function or(s,...e){s.slice().forEach(t=>{t(...e)})}const C5=s=>s(),$m=Symbol(),Du=Symbol();function Af(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];Df(o)&&Df(n)&&s.hasOwnProperty(t)&&!ns(n)&&!ri(n)?s[t]=Af(o,n):s[t]=n}return s}const S5=Symbol();function M5(s){return!Df(s)||!s.hasOwnProperty(S5)}const{assign:Wo}=Object;function T5(s){return!!(ns(s)&&s.effect)}function D5(s,e,t,n){const{state:o,actions:r,getters:a}=e,l=t.state.value[s];let d;function c(){l||(t.state.value[s]=o?o():{});const u=T2(t.state.value[s]);return Wo(u,r,Object.keys(a||{}).reduce((h,p)=>(h[p]=wr(Pe(()=>{bc(t);const g=t._s.get(s);return a[p].call(g,g)})),h),{}))}return d=L_(s,c,e,t,n,!0),d}function L_(s,e,t={},n,o,r){let a;const l=Wo({actions:{}},t),d={deep:!0};let c,u,h=[],p=[],g;const v=n.state.value[s];!r&&!v&&(n.state.value[s]={}),R({});let x;function y(z){let j;c=u=!1,typeof z=="function"?(z(n.state.value[s]),j={type:Ca.patchFunction,storeId:s,events:g}):(Af(n.state.value[s],z),j={type:Ca.patchObject,payload:z,storeId:s,events:g});const E=x=Symbol();bn().then(()=>{x===E&&(c=!0)}),u=!0,or(h,j,n.state.value[s])}const $=r?function(){const{state:j}=t,E=j?j():{};this.$patch(O=>{Wo(O,E)})}:j_;function w(){a.stop(),h=[],p=[],n._s.delete(s)}const S=(z,j="")=>{if($m in z)return z[Du]=j,z;const E=function(){bc(n);const O=Array.from(arguments),I=[],W=[];function ye(Q){I.push(Q)}function ve(Q){W.push(Q)}or(p,{args:O,name:E[Du],store:T,after:ye,onError:ve});let _e;try{_e=z.apply(this&&this.$id===s?this:T,O)}catch(Q){throw or(W,Q),Q}return _e instanceof Promise?_e.then(Q=>(or(I,Q),Q)).catch(Q=>(or(W,Q),Promise.reject(Q))):(or(I,_e),_e)};return E[$m]=!0,E[Du]=j,E},C={_p:n,$id:s,$onAction:km.bind(null,p),$patch:y,$reset:$,$subscribe(z,j={}){const E=km(h,z,j.detached,()=>O()),O=a.run(()=>Bt(()=>n.state.value[s],I=>{(j.flush==="sync"?u:c)&&z({storeId:s,type:Ca.direct,events:g},I)},Wo({},d,j)));return E},$dispose:w},T=_t(C);n._s.set(s,T);const L=(n._a&&n._a.runWithContext||C5)(()=>n._e.run(()=>(a=b1()).run(()=>e({action:S}))));for(const z in L){const j=L[z];if(ns(j)&&!T5(j)||ri(j))r||(v&&M5(j)&&(ns(j)?j.value=v[z]:Af(j,v[z])),n.state.value[s][z]=j);else if(typeof j=="function"){const E=S(j,z);L[z]=E,l.actions[z]=j}}return Wo(T,L),Wo(xt(T),L),Object.defineProperty(T,"$state",{get:()=>n.state.value[s],set:z=>{y(j=>{Wo(j,z)})}}),n._p.forEach(z=>{Wo(T,a.run(()=>z({store:T,app:n._a,pinia:n,options:l})))}),v&&r&&t.hydrate&&t.hydrate(T.$state,v),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function an(s,e,t){let n,o;const r=typeof e=="function";typeof s=="string"?(n=s,o=r?t:e):(o=s,n=s.id);function a(l,d){const c=nw();return l=l||(c?et(I_,null):null),l&&bc(l),l=O_,l._s.has(n)||(r?L_(n,e,o,l):D5(n,o,l)),l._s.get(n)}return a.$id=n,a}const xc=an("main",()=>{const s=R(!1),e=R(!1);return{isBlankPage:s,isMobileSidebar:e}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ur=typeof window<"u";function A5(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const Pt=Object.assign;function Au(s,e){const t={};for(const n in e){const o=e[n];t[n]=Hn(o)?o.map(s):s(o)}return t}const Sa=()=>{},Hn=Array.isArray,E5=/\/$/,P5=s=>s.replace(E5,"");function Eu(s,e,t="/"){let n,o={},r="",a="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(n=e.slice(0,d),r=e.slice(d+1,l>-1?l:e.length),o=s(r)),l>-1&&(n=n||e.slice(0,l),a=e.slice(l,e.length)),n=j5(n??e,t),{fullPath:n+(r&&"?")+r+a,path:n,query:o,hash:a}}function R5(s,e){const t=e.query?s(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Cm(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function O5(s,e,t){const n=e.matched.length-1,o=t.matched.length-1;return n>-1&&n===o&&Cr(e.matched[n],t.matched[o])&&F_(e.params,t.params)&&s(e.query)===s(t.query)&&e.hash===t.hash}function Cr(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function F_(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(!I5(s[t],e[t]))return!1;return!0}function I5(s,e){return Hn(s)?Sm(s,e):Hn(e)?Sm(e,s):s===e}function Sm(s,e){return Hn(e)?s.length===e.length&&s.every((t,n)=>t===e[n]):s.length===1&&s[0]===e}function j5(s,e){if(s.startsWith("/"))return s;if(!s)return e;const t=e.split("/"),n=s.split("/");let o=t.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var Ka;(function(s){s.pop="pop",s.push="push"})(Ka||(Ka={}));var Ma;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Ma||(Ma={}));function L5(s){if(!s)if(ur){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),P5(s)}const F5=/^[^#]+#/;function N5(s,e){return s.replace(F5,"#")+e}function z5(s,e){const t=document.documentElement.getBoundingClientRect(),n=s.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const wc=()=>({left:window.pageXOffset,top:window.pageYOffset});function B5(s){let e;if("el"in s){const t=s.el,n=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=z5(o,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Mm(s,e){return(history.state?history.state.position-e:-1)+s}const Ef=new Map;function U5(s,e){Ef.set(s,e)}function V5(s){const e=Ef.get(s);return Ef.delete(s),e}let H5=()=>location.protocol+"//"+location.host;function N_(s,e){const{pathname:t,search:n,hash:o}=e,r=s.indexOf("#");if(r>-1){let l=o.includes(s.slice(r))?s.slice(r).length:1,d=o.slice(l);return d[0]!=="/"&&(d="/"+d),Cm(d,"")}return Cm(t,s)+n+o}function W5(s,e,t,n){let o=[],r=[],a=null;const l=({state:p})=>{const g=N_(s,location),v=t.value,x=e.value;let y=0;if(p){if(t.value=g,e.value=p,a&&a===v){a=null;return}y=x?p.position-x.position:0}else n(g);o.forEach($=>{$(t.value,v,{delta:y,type:Ka.pop,direction:y?y>0?Ma.forward:Ma.back:Ma.unknown})})};function d(){a=t.value}function c(p){o.push(p);const g=()=>{const v=o.indexOf(p);v>-1&&o.splice(v,1)};return r.push(g),g}function u(){const{history:p}=window;p.state&&p.replaceState(Pt({},p.state,{scroll:wc()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:d,listen:c,destroy:h}}function Tm(s,e,t,n=!1,o=!1){return{back:s,current:e,forward:t,replaced:n,position:window.history.length,scroll:o?wc():null}}function q5(s){const{history:e,location:t}=window,n={value:N_(s,t)},o={value:e.state};o.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(d,c,u){const h=s.indexOf("#"),p=h>-1?(t.host&&document.querySelector("base")?s:s.slice(h))+d:H5()+s+d;try{e[u?"replaceState":"pushState"](c,"",p),o.value=c}catch{t[u?"replace":"assign"](p)}}function a(d,c){const u=Pt({},e.state,Tm(o.value.back,d,o.value.forward,!0),c,{position:o.value.position});r(d,u,!0),n.value=d}function l(d,c){const u=Pt({},o.value,e.state,{forward:d,scroll:wc()});r(u.current,u,!0);const h=Pt({},Tm(n.value,d,null),{position:u.position+1},c);r(d,h,!1),n.value=d}return{location:n,state:o,push:l,replace:a}}function K5(s){s=L5(s);const e=q5(s),t=W5(s,e.state,e.location,e.replace);function n(r,a=!0){a||t.pauseListeners(),history.go(r)}const o=Pt({location:"",base:s,go:n,createHref:N5.bind(null,s)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function Y5(s){return typeof s=="string"||s&&typeof s=="object"}function z_(s){return typeof s=="string"||typeof s=="symbol"}const Vo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},B_=Symbol("");var Dm;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(Dm||(Dm={}));function Sr(s,e){return Pt(new Error,{type:s,[B_]:!0},e)}function mo(s,e){return s instanceof Error&&B_ in s&&(e==null||!!(s.type&e))}const Am="[^/]+?",G5={sensitive:!1,strict:!1,start:!0,end:!0},X5=/[.+*?^${}()[\]/\\]/g;function J5(s,e){const t=Pt({},G5,e),n=[];let o=t.start?"^":"";const r=[];for(const c of s){const u=c.length?[]:[90];t.strict&&!c.length&&(o+="/");for(let h=0;h<c.length;h++){const p=c[h];let g=40+(t.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(X5,"\\$&"),g+=40;else if(p.type===1){const{value:v,repeatable:x,optional:y,regexp:$}=p;r.push({name:v,repeatable:x,optional:y});const w=$||Am;if(w!==Am){g+=10;try{new RegExp(`(${w})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${w}): `+C.message)}}let S=x?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(S=y&&c.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),o+=S,g+=20,y&&(g+=-8),x&&(g+=-20),w===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(t.strict&&t.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const a=new RegExp(o,t.sensitive?"":"i");function l(c){const u=c.match(a),h={};if(!u)return null;for(let p=1;p<u.length;p++){const g=u[p]||"",v=r[p-1];h[v.name]=g&&v.repeatable?g.split("/"):g}return h}function d(c){let u="",h=!1;for(const p of s){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of p)if(g.type===0)u+=g.value;else if(g.type===1){const{value:v,repeatable:x,optional:y}=g,$=v in c?c[v]:"";if(Hn($)&&!x)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const w=Hn($)?$.join("/"):$;if(!w)if(y)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=w}}return u||"/"}return{re:a,score:n,keys:r,parse:l,stringify:d}}function Q5(s,e){let t=0;for(;t<s.length&&t<e.length;){const n=e[t]-s[t];if(n)return n;t++}return s.length<e.length?s.length===1&&s[0]===40+40?-1:1:s.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Z5(s,e){let t=0;const n=s.score,o=e.score;for(;t<n.length&&t<o.length;){const r=Q5(n[t],o[t]);if(r)return r;t++}if(Math.abs(o.length-n.length)===1){if(Em(n))return 1;if(Em(o))return-1}return o.length-n.length}function Em(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const ek={type:0,value:""},tk=/[a-zA-Z0-9_]/;function sk(s){if(!s)return[[]];if(s==="/")return[[ek]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(g){throw new Error(`ERR (${t})/"${c}": ${g}`)}let t=0,n=t;const o=[];let r;function a(){r&&o.push(r),r=[]}let l=0,d,c="",u="";function h(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=d}for(;l<s.length;){if(d=s[l++],d==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:d==="/"?(c&&h(),a()):d===":"?(h(),t=1):p();break;case 4:p(),t=n;break;case 1:d==="("?t=2:tk.test(d)?p():(h(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+d:t=3:u+=d;break;case 3:h(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),a(),o}function nk(s,e,t){const n=J5(sk(s.path),t),o=Pt(n,{record:s,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function ok(s,e){const t=[],n=new Map;e=Om({strict:!1,end:!0,sensitive:!1},e);function o(u){return n.get(u)}function r(u,h,p){const g=!p,v=ik(u);v.aliasOf=p&&p.record;const x=Om(e,u),y=[v];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of S)y.push(Pt({},v,{components:p?p.record.components:v.components,path:C,aliasOf:p?p.record:v}))}let $,w;for(const S of y){const{path:C}=S;if(h&&C[0]!=="/"){const T=h.record.path,F=T[T.length-1]==="/"?"":"/";S.path=h.record.path+(C&&F+C)}if($=nk(S,h,x),p?p.alias.push($):(w=w||$,w!==$&&w.alias.push($),g&&u.name&&!Rm($)&&a(u.name)),v.children){const T=v.children;for(let F=0;F<T.length;F++)r(T[F],$,p&&p.children[F])}p=p||$,($.record.components&&Object.keys($.record.components).length||$.record.name||$.record.redirect)&&d($)}return w?()=>{a(w)}:Sa}function a(u){if(z_(u)){const h=n.get(u);h&&(n.delete(u),t.splice(t.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=t.indexOf(u);h>-1&&(t.splice(h,1),u.record.name&&n.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function l(){return t}function d(u){let h=0;for(;h<t.length&&Z5(u,t[h])>=0&&(u.record.path!==t[h].record.path||!U_(u,t[h]));)h++;t.splice(h,0,u),u.record.name&&!Rm(u)&&n.set(u.record.name,u)}function c(u,h){let p,g={},v,x;if("name"in u&&u.name){if(p=n.get(u.name),!p)throw Sr(1,{location:u});x=p.record.name,g=Pt(Pm(h.params,p.keys.filter(w=>!w.optional).map(w=>w.name)),u.params&&Pm(u.params,p.keys.map(w=>w.name))),v=p.stringify(g)}else if("path"in u)v=u.path,p=t.find(w=>w.re.test(v)),p&&(g=p.parse(v),x=p.record.name);else{if(p=h.name?n.get(h.name):t.find(w=>w.re.test(h.path)),!p)throw Sr(1,{location:u,currentLocation:h});x=p.record.name,g=Pt({},h.params,u.params),v=p.stringify(g)}const y=[];let $=p;for(;$;)y.unshift($.record),$=$.parent;return{name:x,path:v,params:g,matched:y,meta:ak(y)}}return s.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function Pm(s,e){const t={};for(const n of e)n in s&&(t[n]=s[n]);return t}function ik(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:rk(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function rk(s){const e={},t=s.props||!1;if("component"in s)e.default=t;else for(const n in s.components)e[n]=typeof t=="boolean"?t:t[n];return e}function Rm(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function ak(s){return s.reduce((e,t)=>Pt(e,t.meta),{})}function Om(s,e){const t={};for(const n in s)t[n]=n in e?e[n]:s[n];return t}function U_(s,e){return e.children.some(t=>t===s||U_(s,t))}const V_=/#/g,lk=/&/g,dk=/\//g,ck=/=/g,uk=/\?/g,H_=/\+/g,fk=/%5B/g,hk=/%5D/g,W_=/%5E/g,pk=/%60/g,q_=/%7B/g,mk=/%7C/g,K_=/%7D/g,gk=/%20/g;function Ph(s){return encodeURI(""+s).replace(mk,"|").replace(fk,"[").replace(hk,"]")}function _k(s){return Ph(s).replace(q_,"{").replace(K_,"}").replace(W_,"^")}function Pf(s){return Ph(s).replace(H_,"%2B").replace(gk,"+").replace(V_,"%23").replace(lk,"%26").replace(pk,"`").replace(q_,"{").replace(K_,"}").replace(W_,"^")}function vk(s){return Pf(s).replace(ck,"%3D")}function yk(s){return Ph(s).replace(V_,"%23").replace(uk,"%3F")}function bk(s){return s==null?"":yk(s).replace(dk,"%2F")}function Nd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function xk(s){const e={};if(s===""||s==="?")return e;const n=(s[0]==="?"?s.slice(1):s).split("&");for(let o=0;o<n.length;++o){const r=n[o].replace(H_," "),a=r.indexOf("="),l=Nd(a<0?r:r.slice(0,a)),d=a<0?null:Nd(r.slice(a+1));if(l in e){let c=e[l];Hn(c)||(c=e[l]=[c]),c.push(d)}else e[l]=d}return e}function Im(s){let e="";for(let t in s){const n=s[t];if(t=vk(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Hn(n)?n.map(r=>r&&Pf(r)):[n&&Pf(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function wk(s){const e={};for(const t in s){const n=s[t];n!==void 0&&(e[t]=Hn(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const Y_=Symbol(""),jm=Symbol(""),kc=Symbol(""),Rh=Symbol(""),Rf=Symbol("");function Xr(){let s=[];function e(n){return s.push(n),()=>{const o=s.indexOf(n);o>-1&&s.splice(o,1)}}function t(){s=[]}return{add:e,list:()=>s,reset:t}}function kk(s,e,t){const n=()=>{s[e].delete(t)};Ys(n),t_(n),e_(()=>{s[e].add(t)}),s[e].add(t)}function $k(s){const e=et(Y_,{}).value;e&&kk(e,"updateGuards",s)}function Yo(s,e,t,n,o){const r=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const d=h=>{h===!1?l(Sr(4,{from:t,to:e})):h instanceof Error?l(h):Y5(h)?l(Sr(2,{from:e,to:h})):(r&&n.enterCallbacks[o]===r&&typeof h=="function"&&r.push(h),a())},c=s.call(n&&n.instances[o],e,t,d);let u=Promise.resolve(c);s.length<3&&(u=u.then(d)),u.catch(h=>l(h))})}function Pu(s,e,t,n){const o=[];for(const r of s)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(Ck(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Yo(c,t,n,r,a))}else{let d=l();o.push(()=>d.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const u=A5(c)?c.default:c;r.components[a]=u;const p=(u.__vccOpts||u)[e];return p&&Yo(p,t,n,r,a)()}))}}return o}function Ck(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function Lm(s){const e=et(kc),t=et(Rh),n=Pe(()=>e.resolve(m(s.to))),o=Pe(()=>{const{matched:d}=n.value,{length:c}=d,u=d[c-1],h=t.matched;if(!u||!h.length)return-1;const p=h.findIndex(Cr.bind(null,u));if(p>-1)return p;const g=Fm(d[c-2]);return c>1&&Fm(u)===g&&h[h.length-1].path!==g?h.findIndex(Cr.bind(null,d[c-2])):p}),r=Pe(()=>o.value>-1&&Dk(t.params,n.value.params)),a=Pe(()=>o.value>-1&&o.value===t.matched.length-1&&F_(t.params,n.value.params));function l(d={}){return Tk(d)?e[m(s.replace)?"replace":"push"](m(s.to)).catch(Sa):Promise.resolve()}return{route:n,href:Pe(()=>n.value.href),isActive:r,isExactActive:a,navigate:l}}const Sk=pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Lm,setup(s,{slots:e}){const t=_t(Lm(s)),{options:n}=et(kc),o=Pe(()=>({[Nm(s.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Nm(s.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return s.custom?r:Ot("a",{"aria-current":t.isExactActive?s.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},r)}}}),Mk=Sk;function Tk(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function Dk(s,e){for(const t in e){const n=e[t],o=s[t];if(typeof n=="string"){if(n!==o)return!1}else if(!Hn(o)||o.length!==n.length||n.some((r,a)=>r!==o[a]))return!1}return!0}function Fm(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Nm=(s,e,t)=>s??e??t,Ak=pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:t}){const n=et(Rf),o=Pe(()=>s.route||n.value),r=et(jm,0),a=Pe(()=>{let c=m(r);const{matched:u}=o.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=Pe(()=>o.value.matched[a.value]);$s(jm,Pe(()=>a.value+1)),$s(Y_,l),$s(Rf,o);const d=R();return Bt(()=>[d.value,l.value,s.name],([c,u,h],[p,g,v])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Cr(u,g)||!p)&&(u.enterCallbacks[h]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=o.value,u=s.name,h=l.value,p=h&&h.components[u];if(!p)return zm(t.default,{Component:p,route:c});const g=h.props[u],v=g?g===!0?c.params:typeof g=="function"?g(c):g:null,y=Ot(p,Pt({},v,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(h.instances[u]=null)},ref:d}));return zm(t.default,{Component:y,route:c})||y}}});function zm(s,e){if(!s)return null;const t=s(e);return t.length===1?t[0]:t}const Oh=Ak;function Ek(s){const e=ok(s.routes,s),t=s.parseQuery||xk,n=s.stringifyQuery||Im,o=s.history,r=Xr(),a=Xr(),l=Xr(),d=j1(Vo);let c=Vo;ur&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Au.bind(null,le=>""+le),h=Au.bind(null,bk),p=Au.bind(null,Nd);function g(le,be){let $e,je;return z_(le)?($e=e.getRecordMatcher(le),je=be):je=le,e.addRoute(je,$e)}function v(le){const be=e.getRecordMatcher(le);be&&e.removeRoute(be)}function x(){return e.getRoutes().map(le=>le.record)}function y(le){return!!e.getRecordMatcher(le)}function $(le,be){if(be=Pt({},be||d.value),typeof le=="string"){const ae=Eu(t,le,be.path),N=e.resolve({path:ae.path},be),K=o.createHref(ae.fullPath);return Pt(ae,N,{params:p(N.params),hash:Nd(ae.hash),redirectedFrom:void 0,href:K})}let $e;if("path"in le)$e=Pt({},le,{path:Eu(t,le.path,be.path).path});else{const ae=Pt({},le.params);for(const N in ae)ae[N]==null&&delete ae[N];$e=Pt({},le,{params:h(le.params)}),be.params=h(be.params)}const je=e.resolve($e,be),Je=le.hash||"";je.params=u(p(je.params));const Re=R5(n,Pt({},le,{hash:_k(Je),path:je.path})),re=o.createHref(Re);return Pt({fullPath:Re,hash:Je,query:n===Im?wk(le.query):le.query||{}},je,{redirectedFrom:void 0,href:re})}function w(le){return typeof le=="string"?Eu(t,le,d.value.path):Pt({},le)}function S(le,be){if(c!==le)return Sr(8,{from:be,to:le})}function C(le){return L(le)}function T(le){return C(Pt(w(le),{replace:!0}))}function F(le){const be=le.matched[le.matched.length-1];if(be&&be.redirect){const{redirect:$e}=be;let je=typeof $e=="function"?$e(le):$e;return typeof je=="string"&&(je=je.includes("?")||je.includes("#")?je=w(je):{path:je},je.params={}),Pt({query:le.query,hash:le.hash,params:"path"in je?{}:le.params},je)}}function L(le,be){const $e=c=$(le),je=d.value,Je=le.state,Re=le.force,re=le.replace===!0,ae=F($e);if(ae)return L(Pt(w(ae),{state:typeof ae=="object"?Pt({},Je,ae.state):Je,force:Re,replace:re}),be||$e);const N=$e;N.redirectedFrom=be;let K;return!Re&&O5(n,je,$e)&&(K=Sr(16,{to:N,from:je}),he(je,je,!0,!1)),(K?Promise.resolve(K):j(N,je)).catch(G=>mo(G)?mo(G,2)?G:q(G):Q(G,N,je)).then(G=>{if(G){if(mo(G,2))return L(Pt({replace:re},w(G.to),{state:typeof G.to=="object"?Pt({},Je,G.to.state):Je,force:Re}),be||N)}else G=O(N,je,!0,re,Je);return E(N,je,G),G})}function z(le,be){const $e=S(le,be);return $e?Promise.reject($e):Promise.resolve()}function j(le,be){let $e;const[je,Je,Re]=Pk(le,be);$e=Pu(je.reverse(),"beforeRouteLeave",le,be);for(const ae of je)ae.leaveGuards.forEach(N=>{$e.push(Yo(N,le,be))});const re=z.bind(null,le,be);return $e.push(re),ir($e).then(()=>{$e=[];for(const ae of r.list())$e.push(Yo(ae,le,be));return $e.push(re),ir($e)}).then(()=>{$e=Pu(Je,"beforeRouteUpdate",le,be);for(const ae of Je)ae.updateGuards.forEach(N=>{$e.push(Yo(N,le,be))});return $e.push(re),ir($e)}).then(()=>{$e=[];for(const ae of le.matched)if(ae.beforeEnter&&!be.matched.includes(ae))if(Hn(ae.beforeEnter))for(const N of ae.beforeEnter)$e.push(Yo(N,le,be));else $e.push(Yo(ae.beforeEnter,le,be));return $e.push(re),ir($e)}).then(()=>(le.matched.forEach(ae=>ae.enterCallbacks={}),$e=Pu(Re,"beforeRouteEnter",le,be),$e.push(re),ir($e))).then(()=>{$e=[];for(const ae of a.list())$e.push(Yo(ae,le,be));return $e.push(re),ir($e)}).catch(ae=>mo(ae,8)?ae:Promise.reject(ae))}function E(le,be,$e){for(const je of l.list())je(le,be,$e)}function O(le,be,$e,je,Je){const Re=S(le,be);if(Re)return Re;const re=be===Vo,ae=ur?history.state:{};$e&&(je||re?o.replace(le.fullPath,Pt({scroll:re&&ae&&ae.scroll},Je)):o.push(le.fullPath,Je)),d.value=le,he(le,be,$e,re),q()}let I;function W(){I||(I=o.listen((le,be,$e)=>{if(!ft.listening)return;const je=$(le),Je=F(je);if(Je){L(Pt(Je,{replace:!0}),je).catch(Sa);return}c=je;const Re=d.value;ur&&U5(Mm(Re.fullPath,$e.delta),wc()),j(je,Re).catch(re=>mo(re,12)?re:mo(re,2)?(L(re.to,je).then(ae=>{mo(ae,20)&&!$e.delta&&$e.type===Ka.pop&&o.go(-1,!1)}).catch(Sa),Promise.reject()):($e.delta&&o.go(-$e.delta,!1),Q(re,je,Re))).then(re=>{re=re||O(je,Re,!1),re&&($e.delta&&!mo(re,8)?o.go(-$e.delta,!1):$e.type===Ka.pop&&mo(re,20)&&o.go(-1,!1)),E(je,Re,re)}).catch(Sa)}))}let ye=Xr(),ve=Xr(),_e;function Q(le,be,$e){q(le);const je=ve.list();return je.length&&je.forEach(Je=>Je(le,be,$e)),Promise.reject(le)}function ee(){return _e&&d.value!==Vo?Promise.resolve():new Promise((le,be)=>{ye.add([le,be])})}function q(le){return _e||(_e=!le,W(),ye.list().forEach(([be,$e])=>le?$e(le):be()),ye.reset()),le}function he(le,be,$e,je){const{scrollBehavior:Je}=s;if(!ur||!Je)return Promise.resolve();const Re=!$e&&V5(Mm(le.fullPath,0))||(je||!$e)&&history.state&&history.state.scroll||null;return bn().then(()=>Je(le,be,Re)).then(re=>re&&B5(re)).catch(re=>Q(re,le,be))}const we=le=>o.go(le);let Oe;const it=new Set,ft={currentRoute:d,listening:!0,addRoute:g,removeRoute:v,hasRoute:y,getRoutes:x,resolve:$,options:s,push:C,replace:T,go:we,back:()=>we(-1),forward:()=>we(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:ve.add,isReady:ee,install(le){const be=this;le.component("RouterLink",Mk),le.component("RouterView",Oh),le.config.globalProperties.$router=be,Object.defineProperty(le.config.globalProperties,"$route",{enumerable:!0,get:()=>m(d)}),ur&&!Oe&&d.value===Vo&&(Oe=!0,C(o.location).catch(Je=>{}));const $e={};for(const Je in Vo)$e[Je]=Pe(()=>d.value[Je]);le.provide(kc,be),le.provide(Rh,_t($e)),le.provide(Rf,d);const je=le.unmount;it.add(le),le.unmount=function(){it.delete(le),it.size<1&&(c=Vo,I&&I(),I=null,d.value=Vo,Oe=!1,_e=!1),je()}}};return ft}function ir(s){return s.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function Pk(s,e){const t=[],n=[],o=[],r=Math.max(e.matched.length,s.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(s.matched.find(c=>Cr(c,l))?n.push(l):t.push(l));const d=s.matched[a];d&&(e.matched.find(c=>Cr(c,d))||o.push(d))}return[t,n,o]}function uo(){return et(kc)}function $c(){return et(Rh)}function Ih(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(e=>setTimeout(()=>{throw e}))}function al(){let s=[],e={addEventListener(t,n,o,r){return t.addEventListener(n,o,r),e.add(()=>t.removeEventListener(n,o,r))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);e.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return Ih(()=>{n.current&&t[0]()}),e.add(()=>{n.current=!1})},style(t,n,o){let r=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:o}),this.add(()=>{Object.assign(t.style,{[n]:r})})},group(t){let n=al();return t(n),this.add(()=>n.dispose())},add(t){return s.push(t),()=>{let n=s.indexOf(t);if(n>=0)for(let o of s.splice(n,1))o()}},dispose(){for(let t of s.splice(0))t()}};return e}var Bm;let Rk=Symbol("headlessui.useid"),Ok=0;const Lr=(Bm=B2)!=null?Bm:function(){return et(Rk,()=>`${++Ok}`)()};function gt(s){var e;if(s==null||s.value==null)return null;let t=(e=s.value.$el)!=null?e:s.value;return t instanceof Node?t:null}function Wn(s,e,...t){if(s in e){let o=e[s];return typeof o=="function"?o(...t):o}let n=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wn),n}var Ik=Object.defineProperty,jk=(s,e,t)=>e in s?Ik(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Um=(s,e,t)=>(jk(s,typeof e!="symbol"?e+"":e,t),t);let Lk=class{constructor(){Um(this,"current",this.detect()),Um(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},ll=new Lk;function gi(s){if(ll.isServer)return null;if(s instanceof Node)return s.ownerDocument;if(s!=null&&s.hasOwnProperty("value")){let e=gt(s);if(e)return e.ownerDocument}return document}let Of=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var so=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(so||{}),G_=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(G_||{}),Fk=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(Fk||{});function X_(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(Of)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var jh=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(jh||{});function Lh(s,e=0){var t;return s===((t=gi(s))==null?void 0:t.body)?!1:Wn(e,{0(){return s.matches(Of)},1(){let n=s;for(;n!==null;){if(n.matches(Of))return!0;n=n.parentElement}return!1}})}function J_(s){let e=gi(s);bn(()=>{e&&!Lh(e.activeElement,0)&&ai(s)})}var Nk=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(Nk||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ai(s){s==null||s.focus({preventScroll:!0})}let zk=["textarea","input"].join(",");function Bk(s){var e,t;return(t=(e=s==null?void 0:s.matches)==null?void 0:e.call(s,zk))!=null?t:!1}function Q_(s,e=t=>t){return s.slice().sort((t,n)=>{let o=e(t),r=e(n);if(o===null||r===null)return 0;let a=o.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Uk(s,e){return Ta(X_(),e,{relativeTo:s})}function Ta(s,e,{sorted:t=!0,relativeTo:n=null,skipElements:o=[]}={}){var r;let a=(r=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s==null?void 0:s.ownerDocument)!=null?r:document,l=Array.isArray(s)?t?Q_(s):s:X_(s);o.length>0&&l.length>1&&(l=l.filter(v=>!o.includes(v))),n=n??a.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(n))-1;if(e&4)return Math.max(0,l.indexOf(n))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,p=l.length,g;do{if(h>=p||h+p<=0)return 0;let v=c+h;if(e&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}g=l[v],g==null||g.focus(u),h+=d}while(g!==a.activeElement);return e&6&&Bk(g)&&g.select(),2}function Z_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Vk(){return/Android/gi.test(window.navigator.userAgent)}function Hk(){return Z_()||Vk()}function Tl(s,e,t){ll.isServer||rn(n=>{document.addEventListener(s,e,t),n(()=>document.removeEventListener(s,e,t))})}function ev(s,e,t){ll.isServer||rn(n=>{window.addEventListener(s,e,t),n(()=>window.removeEventListener(s,e,t))})}function tv(s,e,t=Pe(()=>!0)){function n(r,a){if(!t.value||r.defaultPrevented)return;let l=a(r);if(l===null||!l.getRootNode().contains(l))return;let d=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(s);for(let c of d){if(c===null)continue;let u=c instanceof HTMLElement?c:gt(c);if(u!=null&&u.contains(l)||r.composed&&r.composedPath().includes(u))return}return!Lh(l,jh.Loose)&&l.tabIndex!==-1&&r.preventDefault(),e(r,l)}let o=R(null);Tl("pointerdown",r=>{var a,l;t.value&&(o.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Tl("mousedown",r=>{var a,l;t.value&&(o.value=((l=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:l[0])||r.target)},!0),Tl("click",r=>{Hk()||o.value&&(n(r,()=>o.value),o.value=null)},!0),Tl("touchend",r=>n(r,()=>r.target instanceof HTMLElement?r.target:null),!0),ev("blur",r=>n(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Vm(s,e){if(s)return s;let t=e??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Wk(s,e){let t=R(Vm(s.value.type,s.value.as));return nt(()=>{t.value=Vm(s.value.type,s.value.as)}),rn(()=>{var n;t.value||gt(e)&&gt(e)instanceof HTMLButtonElement&&!((n=gt(e))!=null&&n.hasAttribute("type"))&&(t.value="button")}),t}function Hm(s){return[s.screenX,s.screenY]}function qk(){let s=R([-1,-1]);return{wasMoved(e){let t=Hm(e);return s.value[0]===t[0]&&s.value[1]===t[1]?!1:(s.value=t,!0)},update(e){s.value=Hm(e)}}}function Kk({container:s,accept:e,walk:t,enabled:n}){rn(()=>{let o=s.value;if(!o||n!==void 0&&!n.value)return;let r=gi(s);if(!r)return;let a=Object.assign(d=>e(d),{acceptNode:e}),l=r.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)t(l.currentNode)})}var Mr=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(Mr||{}),Jo=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(Jo||{});function kn({visible:s=!0,features:e=0,ourProps:t,theirProps:n,...o}){var r;let a=nv(n,t),l=Object.assign(o,{props:a});if(s||e&2&&a.static)return Ru(l);if(e&1){let d=(r=a.unmount)==null||r?0:1;return Wn(d,{0(){return null},1(){return Ru({...o,props:{...a,hidden:!0,style:{display:"none"}}})}})}return Ru(l)}function Ru({props:s,attrs:e,slots:t,slot:n,name:o}){var r,a;let{as:l,...d}=ov(s,["unmount","static"]),c=(r=t.default)==null?void 0:r.call(t,n),u={};if(n){let h=!1,p=[];for(let[g,v]of Object.entries(n))typeof v=="boolean"&&(h=!0),v===!0&&p.push(g);h&&(u["data-headlessui-state"]=p.join(" "))}if(l==="template"){if(c=sv(c??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[h,...p]=c??[];if(!Yk(h)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(x=>x.trim()).filter((x,y,$)=>$.indexOf(x)===y).sort((x,y)=>x.localeCompare(y)).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let g=nv((a=h.props)!=null?a:{},d,u),v=Eo(h,g,!0);for(let x in g)x.startsWith("on")&&(v.props||(v.props={}),v.props[x]=g[x]);return v}return Array.isArray(c)&&c.length===1?c[0]:c}return Ot(l,Object.assign({},d,u),{default:()=>c})}function sv(s){return s.flatMap(e=>e.type===ue?sv(e.children):[e])}function nv(...s){if(s.length===0)return{};if(s.length===1)return s[0];let e={},t={};for(let n of s)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(t[o]!=null||(t[o]=[]),t[o].push(n[o])):e[o]=n[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(n=>[n,void 0])));for(let n in t)Object.assign(e,{[n](o,...r){let a=t[n];for(let l of a){if(o instanceof Event&&o.defaultPrevented)return;l(o,...r)}}});return e}function ov(s,e=[]){let t=Object.assign({},s);for(let n of e)n in t&&delete t[n];return t}function Yk(s){return s==null?!1:typeof s.type=="string"||typeof s.type=="object"||typeof s.type=="function"}var zd=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(zd||{});let If=pe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(s,{slots:e,attrs:t}){return()=>{var n;let{features:o,...r}=s,a={"aria-hidden":(o&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return kn({ourProps:a,theirProps:r,slot:{},attrs:t,slots:e,name:"Hidden"})}}}),iv=Symbol("Context");var xs=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(xs||{});function Gk(){return Cc()!==null}function Cc(){return et(iv,null)}function rv(s){$s(iv,s)}var _s=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(_s||{});function Xk(s){function e(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Fi=[];Xk(()=>{function s(e){e.target instanceof HTMLElement&&e.target!==document.body&&Fi[0]!==e.target&&(Fi.unshift(e.target),Fi=Fi.filter(t=>t!=null&&t.isConnected),Fi.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function Jk(s){throw new Error("Unexpected object: "+s)}var yn=(s=>(s[s.First=0]="First",s[s.Previous=1]="Previous",s[s.Next=2]="Next",s[s.Last=3]="Last",s[s.Specific=4]="Specific",s[s.Nothing=5]="Nothing",s))(yn||{});function Qk(s,e){let t=e.resolveItems();if(t.length<=0)return null;let n=e.resolveActiveIndex(),o=n??-1;switch(s.focus){case 0:{for(let r=0;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 1:{o===-1&&(o=t.length);for(let r=o-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 2:{for(let r=o+1;r<t.length;++r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 3:{for(let r=t.length-1;r>=0;--r)if(!e.resolveDisabled(t[r],r,t))return r;return n}case 4:{for(let r=0;r<t.length;++r)if(e.resolveId(t[r],r,t)===s.id)return r;return n}case 5:return null;default:Jk(s)}}function av(s,e,t,n){ll.isServer||rn(o=>{s=s??window,s.addEventListener(e,t,n),o(()=>s.removeEventListener(e,t,n))})}var la=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(la||{});function Zk(){let s=R(0);return ev("keydown",e=>{e.key==="Tab"&&(s.value=e.shiftKey?1:0)}),s}function lv(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let e=new Set;for(let t of s.value){let n=gt(t);n instanceof HTMLElement&&e.add(n)}return e}var dv=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(dv||{});let Jr=Object.assign(pe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:R(new Set)}},inheritAttrs:!1,setup(s,{attrs:e,slots:t,expose:n}){let o=R(null);n({el:o,$el:o});let r=Pe(()=>gi(o)),a=R(!1);nt(()=>a.value=!0),Ys(()=>a.value=!1),t4({ownerDocument:r},Pe(()=>a.value&&!!(s.features&16)));let l=s4({ownerDocument:r,container:o,initialFocus:Pe(()=>s.initialFocus)},Pe(()=>a.value&&!!(s.features&2)));n4({ownerDocument:r,container:o,containers:s.containers,previousActiveElement:l},Pe(()=>a.value&&!!(s.features&8)));let d=Zk();function c(g){let v=gt(o);v&&(x=>x())(()=>{Wn(d.value,{[la.Forwards]:()=>{Ta(v,so.First,{skipElements:[g.relatedTarget]})},[la.Backwards]:()=>{Ta(v,so.Last,{skipElements:[g.relatedTarget]})}})})}let u=R(!1);function h(g){g.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function p(g){if(!a.value)return;let v=lv(s.containers);gt(o)instanceof HTMLElement&&v.add(gt(o));let x=g.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(cv(v,x)||(u.value?Ta(gt(o),Wn(d.value,{[la.Forwards]:()=>so.Next,[la.Backwards]:()=>so.Previous})|so.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&ai(g.target)))}return()=>{let g={},v={ref:o,onKeydown:h,onFocusout:p},{features:x,initialFocus:y,containers:$,...w}=s;return Ot(ue,[!!(x&4)&&Ot(If,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:zd.Focusable}),kn({ourProps:v,theirProps:{...e,...w},slot:g,attrs:e,slots:t,name:"FocusTrap"}),!!(x&4)&&Ot(If,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:zd.Focusable})])}}}),{features:dv});function e4(s){let e=R(Fi.slice());return Bt([s],([t],[n])=>{n===!0&&t===!1?Ih(()=>{e.value.splice(0)}):n===!1&&t===!0&&(e.value=Fi.slice())},{flush:"post"}),()=>{var t;return(t=e.value.find(n=>n!=null&&n.isConnected))!=null?t:null}}function t4({ownerDocument:s},e){let t=e4(e);nt(()=>{rn(()=>{var n,o;e.value||((n=s.value)==null?void 0:n.activeElement)===((o=s.value)==null?void 0:o.body)&&ai(t())},{flush:"post"})}),Ys(()=>{e.value&&ai(t())})}function s4({ownerDocument:s,container:e,initialFocus:t},n){let o=R(null),r=R(!1);return nt(()=>r.value=!0),Ys(()=>r.value=!1),nt(()=>{Bt([e,t,n],(a,l)=>{if(a.every((c,u)=>(l==null?void 0:l[u])===c)||!n.value)return;let d=gt(e);d&&Ih(()=>{var c,u;if(!r.value)return;let h=gt(t),p=(c=s.value)==null?void 0:c.activeElement;if(h){if(h===p){o.value=p;return}}else if(d.contains(p)){o.value=p;return}h?ai(h):(Ta(d,so.First|so.NoScroll),G_.Error),o.value=(u=s.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),o}function n4({ownerDocument:s,container:e,containers:t,previousActiveElement:n},o){var r;av((r=s.value)==null?void 0:r.defaultView,"focus",a=>{if(!o.value)return;let l=lv(t);gt(e)instanceof HTMLElement&&l.add(gt(e));let d=n.value;if(!d)return;let c=a.target;c&&c instanceof HTMLElement?cv(l,c)?(n.value=c,ai(c)):(a.preventDefault(),a.stopPropagation(),ai(d)):ai(n.value)},!0)}function cv(s,e){for(let t of s)if(t.contains(e))return!0;return!1}function o4(s){let e=j1(s.getSnapshot());return Ys(s.subscribe(()=>{e.value=s.getSnapshot()})),e}function i4(s,e){let t=s(),n=new Set;return{getSnapshot(){return t},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...r){let a=e[o].call(t,...r);a&&(t=a,n.forEach(l=>l()))}}}function r4(){let s;return{before({doc:e}){var t;let n=e.documentElement;s=((t=e.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:e,d:t}){let n=e.documentElement,o=n.clientWidth-n.offsetWidth,r=s-o;t.style(n,"paddingRight",`${r}px`)}}}function a4(){return Z_()?{before({doc:s,d:e,meta:t}){function n(o){return t.containers.flatMap(r=>r()).some(r=>r.contains(o))}e.microTask(()=>{var o;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let l=al();l.style(s.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;e.addEventListener(s,"click",l=>{if(l.target instanceof HTMLElement)try{let d=l.target.closest("a");if(!d)return;let{hash:c}=new URL(d.href),u=s.querySelector(c);u&&!n(u)&&(a=u)}catch{}},!0),e.addEventListener(s,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let d=l.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;e.style(d,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(s,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(n(l.target)){let d=l.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let d=(l=window.scrollY)!=null?l:window.pageYOffset;r!==d&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function l4(){return{before({doc:s,d:e}){e.style(s.documentElement,"overflow","hidden")}}}function d4(s){let e={};for(let t of s)Object.assign(e,t(e));return e}let zi=i4(()=>new Map,{PUSH(s,e){var t;let n=(t=this.get(s))!=null?t:{doc:s,count:0,d:al(),meta:new Set};return n.count++,n.meta.add(e),this.set(s,n),this},POP(s,e){let t=this.get(s);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:s,d:e,meta:t}){let n={doc:s,d:e,meta:d4(t)},o=[a4(),r4(),l4()];o.forEach(({before:r})=>r==null?void 0:r(n)),o.forEach(({after:r})=>r==null?void 0:r(n))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});zi.subscribe(()=>{let s=zi.getSnapshot(),e=new Map;for(let[t]of s)e.set(t,t.documentElement.style.overflow);for(let t of s.values()){let n=e.get(t.doc)==="hidden",o=t.count!==0;(o&&!n||!o&&n)&&zi.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&zi.dispatch("TEARDOWN",t)}});function c4(s,e,t){let n=o4(zi),o=Pe(()=>{let r=s.value?n.value.get(s.value):void 0;return r?r.count>0:!1});return Bt([s,e],([r,a],[l],d)=>{if(!r||!a)return;zi.dispatch("PUSH",r,t);let c=!1;d(()=>{c||(zi.dispatch("POP",l??r,t),c=!0)})},{immediate:!0}),o}let Ou=new Map,Qr=new Map;function Wm(s,e=R(!0)){rn(t=>{var n;if(!e.value)return;let o=gt(s);if(!o)return;t(function(){var a;if(!o)return;let l=(a=Qr.get(o))!=null?a:1;if(l===1?Qr.delete(o):Qr.set(o,l-1),l!==1)return;let d=Ou.get(o);d&&(d["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",d["aria-hidden"]),o.inert=d.inert,Ou.delete(o))});let r=(n=Qr.get(o))!=null?n:0;Qr.set(o,r+1),r===0&&(Ou.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}function u4({defaultContainers:s=[],portals:e,mainTreeNodeRef:t}={}){let n=R(null),o=gi(n);function r(){var a,l,d;let c=[];for(let u of s)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(a=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(gt(n))||u.contains((d=(l=gt(n))==null?void 0:l.getRootNode())==null?void 0:d.host)||c.some(h=>u.contains(h))||c.push(u));return c}return{resolveContainers:r,contains(a){return r().some(l=>l.contains(a))},mainTreeNodeRef:n,MainTreeNode(){return t!=null?null:Ot(If,{features:zd.Hidden,ref:n})}}}let uv=Symbol("ForcePortalRootContext");function f4(){return et(uv,!1)}let qm=pe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(s,{slots:e,attrs:t}){return $s(uv,s.force),()=>{let{force:n,...o}=s;return kn({theirProps:o,ourProps:{},slot:{},slots:e,attrs:t,name:"ForcePortalRoot"})}}}),fv=Symbol("StackContext");var jf=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(jf||{});function h4(){return et(fv,()=>{})}function p4({type:s,enabled:e,element:t,onUpdate:n}){let o=h4();function r(...a){n==null||n(...a),o(...a)}nt(()=>{Bt(e,(a,l)=>{a?r(0,s,t):l===!0&&r(1,s,t)},{immediate:!0,flush:"sync"})}),Ys(()=>{e.value&&r(1,s,t)}),$s(fv,r)}let m4=Symbol("DescriptionContext");function g4({slot:s=R({}),name:e="Description",props:t={}}={}){let n=R([]);function o(r){return n.value.push(r),()=>{let a=n.value.indexOf(r);a!==-1&&n.value.splice(a,1)}}return $s(m4,{register:o,slot:s,name:e,props:t}),Pe(()=>n.value.length>0?n.value.join(" "):void 0)}function _4(s){let e=gi(s);if(!e){if(s===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${s}`)}let t=e.getElementById("headlessui-portal-root");if(t)return t;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const Lf=new WeakMap;function v4(s){var e;return(e=Lf.get(s))!=null?e:0}function Km(s,e){let t=e(v4(s));return t<=0?Lf.delete(s):Lf.set(s,t),t}let y4=pe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:e,attrs:t}){let n=R(null),o=Pe(()=>gi(n)),r=f4(),a=et(hv,null),l=R(r===!0||a==null?_4(n.value):a.resolveTarget());l.value&&Km(l.value,p=>p+1);let d=R(!1);nt(()=>{d.value=!0}),rn(()=>{r||a!=null&&(l.value=a.resolveTarget())});let c=et(Ff,null),u=!1,h=jr();return Bt(n,()=>{if(u||!c)return;let p=gt(n);p&&(Ys(c.register(p),h),u=!0)}),Ys(()=>{var p,g;let v=(p=o.value)==null?void 0:p.getElementById("headlessui-portal-root");!v||l.value!==v||Km(l.value,x=>x-1)||l.value.children.length>0||(g=l.value.parentElement)==null||g.removeChild(l.value)}),()=>{if(!d.value||l.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return Ot(wh,{to:l.value},kn({ourProps:p,theirProps:s,slot:{},attrs:t,slots:e,name:"Portal"}))}}}),Ff=Symbol("PortalParentContext");function b4(){let s=et(Ff,null),e=R([]);function t(r){return e.value.push(r),s&&s.register(r),()=>n(r)}function n(r){let a=e.value.indexOf(r);a!==-1&&e.value.splice(a,1),s&&s.unregister(r)}let o={register:t,unregister:n,portals:e};return[e,pe({name:"PortalWrapper",setup(r,{slots:a}){return $s(Ff,o),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let hv=Symbol("PortalGroupContext"),x4=pe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(s,{attrs:e,slots:t}){let n=_t({resolveTarget(){return s.target}});return $s(hv,n),()=>{let{target:o,...r}=s;return kn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:t,name:"PortalGroup"})}}});var w4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(w4||{});let Nf=Symbol("DialogContext");function pv(s){let e=et(Nf,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pv),t}return e}let Dl="DC8F892D-2EBD-447C-A4C8-A03058436FF4",k4=pe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Dl},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:s=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:o}){var r,a;let l=(r=s.id)!=null?r:`headlessui-dialog-${Lr()}`,d=R(!1);nt(()=>{d.value=!0});let c=!1,u=Pe(()=>s.role==="dialog"||s.role==="alertdialog"?s.role:(c||(c=!0),"dialog")),h=R(0),p=Cc(),g=Pe(()=>s.open===Dl&&p!==null?(p.value&xs.Open)===xs.Open:s.open),v=R(null),x=Pe(()=>gi(v));if(o({el:v,$el:v}),!(s.open!==Dl||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof g.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${g.value===Dl?void 0:s.open}`);let y=Pe(()=>d.value&&g.value?0:1),$=Pe(()=>y.value===0),w=Pe(()=>h.value>1),S=et(Nf,null)!==null,[C,T]=b4(),{resolveContainers:F,mainTreeNodeRef:L,MainTreeNode:z}=u4({portals:C,defaultContainers:[Pe(()=>{var we;return(we=Q.panelRef.value)!=null?we:v.value})]}),j=Pe(()=>w.value?"parent":"leaf"),E=Pe(()=>p!==null?(p.value&xs.Closing)===xs.Closing:!1),O=Pe(()=>S||E.value?!1:$.value),I=Pe(()=>{var we,Oe,it;return(it=Array.from((Oe=(we=x.value)==null?void 0:we.querySelectorAll("body > *"))!=null?Oe:[]).find(ft=>ft.id==="headlessui-portal-root"?!1:ft.contains(gt(L))&&ft instanceof HTMLElement))!=null?it:null});Wm(I,O);let W=Pe(()=>w.value?!0:$.value),ye=Pe(()=>{var we,Oe,it;return(it=Array.from((Oe=(we=x.value)==null?void 0:we.querySelectorAll("[data-headlessui-portal]"))!=null?Oe:[]).find(ft=>ft.contains(gt(L))&&ft instanceof HTMLElement))!=null?it:null});Wm(ye,W),p4({type:"Dialog",enabled:Pe(()=>y.value===0),element:v,onUpdate:(we,Oe)=>{if(Oe==="Dialog")return Wn(we,{[jf.Add]:()=>h.value+=1,[jf.Remove]:()=>h.value-=1})}});let ve=g4({name:"DialogDescription",slot:Pe(()=>({open:g.value}))}),_e=R(null),Q={titleId:_e,panelRef:R(null),dialogState:y,setTitleId(we){_e.value!==we&&(_e.value=we)},close(){e("close",!1)}};$s(Nf,Q);let ee=Pe(()=>!(!$.value||w.value));tv(F,(we,Oe)=>{we.preventDefault(),Q.close(),bn(()=>Oe==null?void 0:Oe.focus())},ee);let q=Pe(()=>!(w.value||y.value!==0));av((a=x.value)==null?void 0:a.defaultView,"keydown",we=>{q.value&&(we.defaultPrevented||we.key===_s.Escape&&(we.preventDefault(),we.stopPropagation(),Q.close()))});let he=Pe(()=>!(E.value||y.value!==0||S));return c4(x,he,we=>{var Oe;return{containers:[...(Oe=we.containers)!=null?Oe:[],F]}}),rn(we=>{if(y.value!==0)return;let Oe=gt(v);if(!Oe)return;let it=new ResizeObserver(ft=>{for(let le of ft){let be=le.target.getBoundingClientRect();be.x===0&&be.y===0&&be.width===0&&be.height===0&&Q.close()}});it.observe(Oe),we(()=>it.disconnect())}),()=>{let{open:we,initialFocus:Oe,...it}=s,ft={...t,ref:v,id:l,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":_e.value,"aria-describedby":ve.value},le={open:y.value===0};return Ot(qm,{force:!0},()=>[Ot(y4,()=>Ot(x4,{target:v.value},()=>Ot(qm,{force:!1},()=>Ot(Jr,{initialFocus:Oe,containers:F,features:$.value?Wn(j.value,{parent:Jr.features.RestoreFocus,leaf:Jr.features.All&~Jr.features.FocusLock}):Jr.features.None},()=>Ot(T,{},()=>kn({ourProps:ft,theirProps:{...it,...t},slot:le,attrs:t,slots:n,visible:y.value===0,features:Mr.RenderStrategy|Mr.Static,name:"Dialog"})))))),Ot(z)])}}}),$4=pe({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t}){var n;let o=(n=s.id)!=null?n:`headlessui-dialog-overlay-${Lr()}`,r=pv("DialogOverlay");function a(l){l.target===l.currentTarget&&(l.preventDefault(),l.stopPropagation(),r.close())}return()=>{let{...l}=s;return kn({ourProps:{id:o,"aria-hidden":!0,onClick:a},theirProps:l,slot:{open:r.dialogState.value===0},attrs:e,slots:t,name:"DialogOverlay"})}}}),Ym=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Gm(s){var e,t;let n=(e=s.innerText)!=null?e:"",o=s.cloneNode(!0);if(!(o instanceof HTMLElement))return n;let r=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),r=!0;let a=r?(t=o.innerText)!=null?t:"":n;return Ym.test(a)&&(a=a.replace(Ym,"")),a}function C4(s){let e=s.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=s.getAttribute("aria-labelledby");if(t){let n=t.split(" ").map(o=>{let r=document.getElementById(o);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():Gm(r).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Gm(s).trim()}function S4(s){let e=R(""),t=R("");return()=>{let n=gt(s);if(!n)return"";let o=n.innerText;if(e.value===o)return t.value;let r=C4(n).trim().toLowerCase();return e.value=o,t.value=r,r}}var M4=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(M4||{}),T4=(s=>(s[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s))(T4||{});function D4(s){requestAnimationFrame(()=>requestAnimationFrame(s))}let mv=Symbol("MenuContext");function Sc(s){let e=et(mv,null);if(e===null){let t=new Error(`<${s} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Sc),t}return e}let Mc=pe({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:e,attrs:t}){let n=R(1),o=R(null),r=R(null),a=R([]),l=R(""),d=R(null),c=R(1);function u(p=g=>g){let g=d.value!==null?a.value[d.value]:null,v=Q_(p(a.value.slice()),y=>gt(y.dataRef.domRef)),x=g?v.indexOf(g):null;return x===-1&&(x=null),{items:v,activeItemIndex:x}}let h={menuState:n,buttonRef:o,itemsRef:r,items:a,searchQuery:l,activeItemIndex:d,activationTrigger:c,closeMenu:()=>{n.value=1,d.value=null},openMenu:()=>n.value=0,goToItem(p,g,v){let x=u(),y=Qk(p===yn.Specific?{focus:yn.Specific,id:g}:{focus:p},{resolveItems:()=>x.items,resolveActiveIndex:()=>x.activeItemIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});l.value="",d.value=y,c.value=v??1,a.value=x.items},search(p){let g=l.value!==""?0:1;l.value+=p.toLowerCase();let v=(d.value!==null?a.value.slice(d.value+g).concat(a.value.slice(0,d.value+g)):a.value).find(y=>y.dataRef.textValue.startsWith(l.value)&&!y.dataRef.disabled),x=v?a.value.indexOf(v):-1;x===-1||x===d.value||(d.value=x,c.value=1)},clearSearch(){l.value=""},registerItem(p,g){let v=u(x=>[...x,{id:p,dataRef:g}]);a.value=v.items,d.value=v.activeItemIndex,c.value=1},unregisterItem(p){let g=u(v=>{let x=v.findIndex(y=>y.id===p);return x!==-1&&v.splice(x,1),v});a.value=g.items,d.value=g.activeItemIndex,c.value=1}};return tv([o,r],(p,g)=>{var v;h.closeMenu(),Lh(g,jh.Loose)||(p.preventDefault(),(v=gt(o))==null||v.focus())},Pe(()=>n.value===0)),$s(mv,h),rv(Pe(()=>Wn(n.value,{0:xs.Open,1:xs.Closed}))),()=>{let p={open:n.value===0,close:h.closeMenu};return kn({ourProps:{},theirProps:s,slot:p,slots:e,attrs:t,name:"Menu"})}}}),Tc=pe({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:n}){var o;let r=(o=s.id)!=null?o:`headlessui-menu-button-${Lr()}`,a=Sc("MenuButton");n({el:a.buttonRef,$el:a.buttonRef});function l(h){switch(h.key){case _s.Space:case _s.Enter:case _s.ArrowDown:h.preventDefault(),h.stopPropagation(),a.openMenu(),bn(()=>{var p;(p=gt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(yn.First)});break;case _s.ArrowUp:h.preventDefault(),h.stopPropagation(),a.openMenu(),bn(()=>{var p;(p=gt(a.itemsRef))==null||p.focus({preventScroll:!0}),a.goToItem(yn.Last)});break}}function d(h){switch(h.key){case _s.Space:h.preventDefault();break}}function c(h){s.disabled||(a.menuState.value===0?(a.closeMenu(),bn(()=>{var p;return(p=gt(a.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(h.preventDefault(),a.openMenu(),D4(()=>{var p;return(p=gt(a.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let u=Wk(Pe(()=>({as:s.as,type:e.type})),a.buttonRef);return()=>{var h;let p={open:a.menuState.value===0},{...g}=s,v={ref:a.buttonRef,id:r,type:u.value,"aria-haspopup":"menu","aria-controls":(h=gt(a.itemsRef))==null?void 0:h.id,"aria-expanded":a.menuState.value===0,onKeydown:l,onKeyup:d,onClick:c};return kn({ourProps:v,theirProps:g,slot:p,attrs:e,slots:t,name:"MenuButton"})}}}),Dc=pe({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:e,slots:t,expose:n}){var o;let r=(o=s.id)!=null?o:`headlessui-menu-items-${Lr()}`,a=Sc("MenuItems"),l=R(null);n({el:a.itemsRef,$el:a.itemsRef}),Kk({container:Pe(()=>gt(a.itemsRef)),enabled:Pe(()=>a.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function d(p){var g;switch(l.value&&clearTimeout(l.value),p.key){case _s.Space:if(a.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),a.search(p.key);case _s.Enter:if(p.preventDefault(),p.stopPropagation(),a.activeItemIndex.value!==null){let v=a.items.value[a.activeItemIndex.value];(g=gt(v.dataRef.domRef))==null||g.click()}a.closeMenu(),J_(gt(a.buttonRef));break;case _s.ArrowDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(yn.Next);case _s.ArrowUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(yn.Previous);case _s.Home:case _s.PageUp:return p.preventDefault(),p.stopPropagation(),a.goToItem(yn.First);case _s.End:case _s.PageDown:return p.preventDefault(),p.stopPropagation(),a.goToItem(yn.Last);case _s.Escape:p.preventDefault(),p.stopPropagation(),a.closeMenu(),bn(()=>{var v;return(v=gt(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case _s.Tab:p.preventDefault(),p.stopPropagation(),a.closeMenu(),bn(()=>Uk(gt(a.buttonRef),p.shiftKey?so.Previous:so.Next));break;default:p.key.length===1&&(a.search(p.key),l.value=setTimeout(()=>a.clearSearch(),350));break}}function c(p){switch(p.key){case _s.Space:p.preventDefault();break}}let u=Cc(),h=Pe(()=>u!==null?(u.value&xs.Open)===xs.Open:a.menuState.value===0);return()=>{var p,g;let v={open:a.menuState.value===0},{...x}=s,y={"aria-activedescendant":a.activeItemIndex.value===null||(p=a.items.value[a.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(g=gt(a.buttonRef))==null?void 0:g.id,id:r,onKeydown:d,onKeyup:c,role:"menu",tabIndex:0,ref:a.itemsRef};return kn({ourProps:y,theirProps:x,slot:v,attrs:e,slots:t,features:Mr.RenderStrategy|Mr.Static,visible:h.value,name:"MenuItems"})}}}),sn=pe({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(s,{slots:e,attrs:t,expose:n}){var o;let r=(o=s.id)!=null?o:`headlessui-menu-item-${Lr()}`,a=Sc("MenuItem"),l=R(null);n({el:l,$el:l});let d=Pe(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===r:!1),c=S4(l),u=Pe(()=>({disabled:s.disabled,get textValue(){return c()},domRef:l}));nt(()=>a.registerItem(r,u)),Ys(()=>a.unregisterItem(r)),rn(()=>{a.menuState.value===0&&d.value&&a.activationTrigger.value!==0&&bn(()=>{var $,w;return(w=($=gt(l))==null?void 0:$.scrollIntoView)==null?void 0:w.call($,{block:"nearest"})})});function h($){if(s.disabled)return $.preventDefault();a.closeMenu(),J_(gt(a.buttonRef))}function p(){if(s.disabled)return a.goToItem(yn.Nothing);a.goToItem(yn.Specific,r)}let g=qk();function v($){g.update($)}function x($){g.wasMoved($)&&(s.disabled||d.value||a.goToItem(yn.Specific,r,0))}function y($){g.wasMoved($)&&(s.disabled||d.value&&a.goToItem(yn.Nothing))}return()=>{let{disabled:$,...w}=s,S={active:d.value,disabled:$,close:a.closeMenu};return kn({ourProps:{id:r,ref:l,role:"menuitem",tabIndex:$===!0?void 0:-1,"aria-disabled":$===!0?!0:void 0,onClick:h,onFocus:p,onPointerenter:v,onMouseenter:v,onPointermove:x,onMousemove:x,onPointerleave:y,onMouseleave:y},theirProps:{...t,...w},slot:S,attrs:t,slots:e,name:"MenuItem"})}}});function A4(s){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,s(...t)}}function Iu(s,...e){s&&e.length>0&&s.classList.add(...e)}function Al(s,...e){s&&e.length>0&&s.classList.remove(...e)}var zf=(s=>(s.Finished="finished",s.Cancelled="cancelled",s))(zf||{});function E4(s,e){let t=al();if(!s)return t.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(s),[r,a]=[n,o].map(l=>{let[d=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return d});return r!==0?t.setTimeout(()=>e("finished"),r+a):e("finished"),t.add(()=>e("cancelled")),t.dispose}function Xm(s,e,t,n,o,r){let a=al(),l=r!==void 0?A4(r):()=>{};return Al(s,...o),Iu(s,...e,...t),a.nextFrame(()=>{Al(s,...t),Iu(s,...n),a.add(E4(s,d=>(Al(s,...n,...e),Iu(s,...o),l(d))))}),a.add(()=>Al(s,...e,...t,...n,...o)),a.add(()=>l("cancelled")),a.dispose}function Ci(s=""){return s.split(/\s+/).filter(e=>e.length>1)}let Fh=Symbol("TransitionContext");var P4=(s=>(s.Visible="visible",s.Hidden="hidden",s))(P4||{});function R4(){return et(Fh,null)!==null}function O4(){let s=et(Fh,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}function I4(){let s=et(Nh,null);if(s===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return s}let Nh=Symbol("NestingContext");function Ac(s){return"children"in s?Ac(s.children):s.value.filter(({state:e})=>e==="visible").length>0}function gv(s){let e=R([]),t=R(!1);nt(()=>t.value=!0),Ys(()=>t.value=!1);function n(r,a=Jo.Hidden){let l=e.value.findIndex(({id:d})=>d===r);l!==-1&&(Wn(a,{[Jo.Unmount](){e.value.splice(l,1)},[Jo.Hidden](){e.value[l].state="hidden"}}),!Ac(e)&&t.value&&(s==null||s()))}function o(r){let a=e.value.find(({id:l})=>l===r);return a?a.state!=="visible"&&(a.state="visible"):e.value.push({id:r,state:"visible"}),()=>n(r,Jo.Unmount)}return{children:e,register:o,unregister:n}}let _v=Mr.RenderStrategy,dd=pe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n,expose:o}){let r=R(0);function a(){r.value|=xs.Opening,e("beforeEnter")}function l(){r.value&=~xs.Opening,e("afterEnter")}function d(){r.value|=xs.Closing,e("beforeLeave")}function c(){r.value&=~xs.Closing,e("afterLeave")}if(!R4()&&Gk())return()=>Ot(vv,{...s,onBeforeEnter:a,onAfterEnter:l,onBeforeLeave:d,onAfterLeave:c},n);let u=R(null),h=Pe(()=>s.unmount?Jo.Unmount:Jo.Hidden);o({el:u,$el:u});let{show:p,appear:g}=O4(),{register:v,unregister:x}=I4(),y=R(p.value?"visible":"hidden"),$={value:!0},w=Lr(),S={value:!1},C=gv(()=>{!S.value&&y.value!=="hidden"&&(y.value="hidden",x(w),c())});nt(()=>{let W=v(w);Ys(W)}),rn(()=>{if(h.value===Jo.Hidden&&w){if(p.value&&y.value!=="visible"){y.value="visible";return}Wn(y.value,{hidden:()=>x(w),visible:()=>v(w)})}});let T=Ci(s.enter),F=Ci(s.enterFrom),L=Ci(s.enterTo),z=Ci(s.entered),j=Ci(s.leave),E=Ci(s.leaveFrom),O=Ci(s.leaveTo);nt(()=>{rn(()=>{if(y.value==="visible"){let W=gt(u);if(W instanceof Comment&&W.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function I(W){let ye=$.value&&!g.value,ve=gt(u);!ve||!(ve instanceof HTMLElement)||ye||(S.value=!0,p.value&&a(),p.value||d(),W(p.value?Xm(ve,T,F,L,z,_e=>{S.value=!1,_e===zf.Finished&&l()}):Xm(ve,j,E,O,z,_e=>{S.value=!1,_e===zf.Finished&&(Ac(C)||(y.value="hidden",x(w),c()))})))}return nt(()=>{Bt([p],(W,ye,ve)=>{I(ve),$.value=!1},{immediate:!0})}),$s(Nh,C),rv(Pe(()=>Wn(y.value,{visible:xs.Open,hidden:xs.Closed})|r.value)),()=>{let{appear:W,show:ye,enter:ve,enterFrom:_e,enterTo:Q,entered:ee,leave:q,leaveFrom:he,leaveTo:we,...Oe}=s,it={ref:u},ft={...Oe,...g.value&&p.value&&ll.isServer?{class:ne([t.class,Oe.class,...T,...F])}:{}};return kn({theirProps:ft,ourProps:it,slot:{},slots:n,attrs:t,features:_v,visible:y.value==="visible",name:"TransitionChild"})}}}),j4=dd,vv=pe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(s,{emit:e,attrs:t,slots:n}){let o=Cc(),r=Pe(()=>s.show===null&&o!==null?(o.value&xs.Open)===xs.Open:s.show);rn(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=R(r.value?"visible":"hidden"),l=gv(()=>{a.value="hidden"}),d=R(!0),c={show:r,appear:Pe(()=>s.appear||!d.value)};return nt(()=>{rn(()=>{d.value=!1,r.value?a.value="visible":Ac(l)||(a.value="hidden")})}),$s(Nh,l),$s(Fh,c),()=>{let u=ov(s,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),h={unmount:s.unmount};return kn({ourProps:{...h,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[Ot(j4,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...t,...h,...u},n.default)]},attrs:{},features:_v,visible:a.value==="visible",name:"Transition"})}}});function L4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})])}function F4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function Jm(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])}function N4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function yv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function bv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})])}function z4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function B4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})])}function U4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})])}function zh(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function xv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function V4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function wv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})])}function H4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function kv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})])}function ao(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])}function Bh(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function W4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})])}function Js(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function q4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function $v(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function K4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}function Y4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})])}function Cv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])}function G4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})])}function Oo(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}function X4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Ec(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Pc(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Uh(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function Bd(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})])}function J4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function Rc(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])}function Sv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Io(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function Q4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function Z4(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"})])}function Mv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})])}function e$(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})])}function t$(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Vh(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})])}function s$(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function ln(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function Tv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Fr(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}function jo(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function Oc(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})])}function qn(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Nr(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})])}function ls(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function Dv(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}function Ic(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function n$(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})])}function o$(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"})])}function xn(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function jc(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const Qm=[{label:"Home",uri:"/",icon:t$},{label:"My Tasks",uri:"/tasks",icon:Vh},{label:"Attendance",uri:"/attendance",icon:ao},{label:"Employees",uri:"/employees",icon:H4,permission:"employee:view"},{label:"Leave Requests",uri:"/leaves",icon:Y4,permission:"leave:view"},{label:"Holidays",uri:"/holidays",icon:kv},{label:"Financial",icon:o$,children:[{label:"Payroll",uri:"/payrolls",permission:"payroll:view"},{label:"Clients",uri:"/clients",permission:"client:view"},{label:"Quotations",uri:"/quotations",permission:"quotation:view"},{label:"Expenses",uri:"/expenses",permission:"expense:view"},{label:"Income",uri:"/income",permission:"income:view"}]},{label:"Team Members",uri:"/users",icon:Ic,permission:"user:view"},{label:"Service Providers",icon:L4,children:[{label:"All Providers",uri:"/service-providers",permission:"service_provider:view"},{label:"Recording Sessions",uri:"/recording-sessions",permission:"service_provider:view"},{label:"Lesson Plans",uri:"/lesson-plans",permission:"service_provider:view"},{label:"Subjects",uri:"/subjects",permission:"service_provider:view"}]},{label:"AdSense Reports",uri:"/adsense-reports",icon:Bh},{label:"Video Enhancer",uri:"/video-enhancer",icon:Q4},{label:"Audit Trail",uri:"/audit-trail",icon:Cv,permission:"audit:view"}],i$={class:"space-y-1"},r$={key:0},a$=["onClick"],l$={class:"flex-1 text-left"},d$={class:"mt-1 space-y-1 pl-4"},c$=["href","onClick"],u$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},f$={class:"flex-1"},h$=["href","onClick"],p$={key:0,class:"absolute inset-0 -z-10 rounded-lg bg-indigo-500/20 blur-xl"},m$={class:"flex-1"},g$=["onClick"],Av=pe({__name:"SidebarNav",setup(s){const e=et("can"),t=et("__"),n=uo(),o=Pe(()=>n.currentRoute.value.path),r=_t({});function a(h){return h==="/"||h=="/projects"?o.value===h:o.value.startsWith(h)}function l(h){return h.some(p=>a(p.uri))}function d(h){return h.some(p=>!p.permission||e(p.permission))}function c(h){r[h]=!r[h]}function u(h){n.push(h)}return nt(()=>{Qm.forEach(h=>{h.children&&l(h.children)&&(r[h.label]=!0)})}),(h,p)=>{const g=wn("RouterLink");return _(),b("div",i$,[(_(!0),b(ue,null,xe(m(Qm),v=>(_(),b(ue,{key:v.label},[v.children&&d(v.children)?(_(),b("div",r$,[i("button",{type:"button",class:ne([l(v.children)?"bg-gray-700/50 text-white":"text-gray-300 hover:bg-gray-700/70 hover:text-white","group relative flex w-full items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out border-l-4 border-transparent"]),onClick:x=>c(v.label)},[(_(),oe(Mo(v.icon),{class:ne([l(v.children)?"text-indigo-300":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),i("span",l$,f(m(t)(v.label)),1),M(m($v),{class:ne([r[v.label]?"rotate-180":"","h-4 w-4 text-gray-400 transition-transform duration-200"])},null,8,["class"])],10,a$),V(i("div",d$,[(_(!0),b(ue,null,xe(v.children,x=>(_(),b(ue,{key:x.label},[!x.permission||m(e)(x.permission)?(_(),oe(g,{key:0,custom:"",to:x.uri},{default:X(({href:y,navigate:$})=>[i("a",{href:y,class:ne([a(x.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:$},[a(x.uri)?(_(),b("div",u$)):P("",!0),i("span",f$,f(m(t)(x.label)),1)],10,c$)]),_:2},1032,["to"])):P("",!0)],64))),128))],512),[[Ft,r[v.label]]])])):v.uri&&(!v.permission||m(e)(v.permission))?(_(),oe(g,{key:1,custom:"",to:v.uri},{default:X(({href:x,navigate:y})=>[i("a",{href:x,class:ne([a(v.uri)?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg shadow-indigo-500/30 border-l-4 border-indigo-400":"text-gray-300 hover:bg-gray-700/70 hover:text-white hover:border-l-4 hover:border-gray-500/50 border-l-4 border-transparent","group relative flex items-center rounded-lg py-2.5 px-3 text-sm font-medium transition-all duration-200 ease-in-out"]),onClick:y},[a(v.uri)?(_(),b("div",p$)):P("",!0),(_(),oe(Mo(v.icon),{class:ne([a(v.uri)?"text-white":"text-gray-400 group-hover:text-indigo-300","h-5 w-5 flex-shrink-0 ltr:mr-3 rtl:ml-3 transition-colors duration-200"]),"aria-hidden":"true"},null,8,["class"])),i("span",m$,f(m(t)(v.label)),1),v.create&&m(e)(v.createPermission||"false")?(_(),b("span",{key:1,class:"ml-auto flex h-6 w-6 cursor-pointer items-center justify-center rounded-md bg-gray-700/50 text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500 hover:text-white group-hover:opacity-100",onClick:We($=>u(v.create||"/"),["prevent"])},[(_(),oe(Mo(m(qn)),{class:"h-3.5 w-3.5"}))],8,g$)):P("",!0)],10,h$)]),_:2},1032,["to"])):P("",!0)],64))),128))])}}}),vt=_t({...window.AppData}),_$=["src"],v$={key:1,class:"flex items-center"},y$={class:"relative"},b$={class:"relative h-8 transition-all duration-200 group-hover:scale-110",style:{color:"#6875f5"},fill:"none",viewBox:"0 0 34 32",xmlns:"http://www.w3.org/2000/svg"},x$={class:"bg-gradient-to-r from-white to-gray-200 bg-clip-text text-[1.375rem] font-bold text-transparent ltr:ml-2.5 rtl:mr-2.5 transition-all duration-200 group-hover:from-indigo-200 group-hover:to-white"},Ev=pe({__name:"SidebarLogo",setup(s){const e=vt.app_name,t=vt.app_logo;return(n,o)=>m(t)?(_(),b("img",{key:0,src:`/${m(t)}`,class:"h-8 object-contain transition-transform duration-200 group-hover:scale-105"},null,8,_$)):(_(),b("div",v$,[i("div",y$,[o[1]||(o[1]=i("div",{class:"absolute inset-0 rounded-lg bg-indigo-500/30 blur-md"},null,-1)),(_(),b("svg",b$,[...o[0]||(o[0]=[i("path",{fill:"currentColor",d:"M15.258 26.865a4.043 4.043 0 01-1.133 2.917A4.006 4.006 0 0111.253 31a3.992 3.992 0 01-2.872-1.218 4.028 4.028 0 01-1.133-2.917c.009-.698.2-1.382.557-1.981.356-.6.863-1.094 1.47-1.433-.024.109.09-.055 0 0l1.86-1.652a8.495 8.495 0 002.304-5.793c0-2.926-1.711-5.901-4.17-7.457.094.055-.036-.094 0 0A3.952 3.952 0 017.8 7.116a3.975 3.975 0 01-.557-1.98 4.042 4.042 0 011.133-2.918A4.006 4.006 0 0111.247 1a3.99 3.99 0 012.872 1.218 4.025 4.025 0 011.133 2.917 8.521 8.521 0 002.347 5.832l.817.8c.326.285.668.551 1.024.798.621.33 1.142.826 1.504 1.431a3.902 3.902 0 01-1.504 5.442c.033-.067-.063.036 0 0a8.968 8.968 0 00-3.024 3.183 9.016 9.016 0 00-1.158 4.244zM19.741 5.123c0 .796.235 1.575.676 2.237a4.01 4.01 0 001.798 1.482 3.99 3.99 0 004.366-.873 4.042 4.042 0 00.869-4.386 4.02 4.02 0 00-1.476-1.806 3.994 3.994 0 00-5.058.501 4.038 4.038 0 00-1.175 2.845zM23.748 22.84c-.792 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.806 4.042 4.042 0 00.869 4.387 3.99 3.99 0 004.366.873A4.01 4.01 0 0027.08 29.1a4.039 4.039 0 00-.5-5.082 4 4 0 00-2.832-1.18zM34 15.994c0-.796-.235-1.574-.675-2.236a4.01 4.01 0 00-1.798-1.483 3.99 3.99 0 00-4.367.873 4.042 4.042 0 00-.869 4.387 4.02 4.02 0 001.476 1.806 3.993 3.993 0 002.226.678 4.003 4.003 0 002.832-1.18A4.04 4.04 0 0034 15.993z"},null,-1),i("path",{fill:"currentColor",d:"M5.007 11.969c-.793 0-1.567.236-2.226.678a4.021 4.021 0 00-1.476 1.807 4.042 4.042 0 00.869 4.386 4.001 4.001 0 004.366.873 4.011 4.011 0 001.798-1.483 4.038 4.038 0 00-.5-5.08 4.004 4.004 0 00-2.831-1.181z"},null,-1)])]))]),i("span",x$,f(m(e)),1)]))}}),w$={class:"relative flex w-full max-w-xs flex-1 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pt-5 pb-4 shadow-2xl"},k$={class:"absolute top-0 right-0 -mr-12 pt-2"},$$=["href","onClick"],C$={class:"mt-5 h-0 flex-1 space-y-1 overflow-y-auto px-3 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},S$=pe({__name:"SidebarMobile",setup(s){const e=xc();return(t,n)=>{const o=wn("RouterLink");return _(),oe(m(vv),{as:"template",show:m(e).isMobileSidebar},{default:X(()=>[M(m(k4),{as:"div",static:"",class:"fixed inset-0 z-40 flex md:hidden",open:m(e).isMobileSidebar,onClose:n[1]||(n[1]=r=>m(e).isMobileSidebar=!1)},{default:X(()=>[M(m(dd),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:X(()=>[M(m($4),{class:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm"})]),_:1}),M(m(dd),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:X(()=>[i("div",w$,[M(m(dd),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:X(()=>[i("div",k$,[i("button",{class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-gray-800/50 backdrop-blur-sm transition-all duration-200 hover:bg-indigo-500/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-400",onClick:n[0]||(n[0]=r=>m(e).isMobileSidebar=!1)},[n[2]||(n[2]=i("span",{class:"sr-only"},"Close sidebar",-1)),M(m(jc),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),M(o,{to:"/",custom:""},{default:X(({href:r,navigate:a})=>[i("a",{href:r,class:"group flex flex-shrink-0 items-center border-b border-gray-700/50 px-4 pb-4 transition-all duration-200",onClick:a},[M(Ev)],8,$$)]),_:1}),i("div",C$,[M(Av)])])]),_:1}),n[3]||(n[3]=i("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1))]),_:1},8,["open"])]),_:1},8,["show"])}}});function Pv(s,e){return function(){return s.apply(e,arguments)}}const{toString:M$}=Object.prototype,{getPrototypeOf:Hh}=Object,{iterator:Lc,toStringTag:Rv}=Symbol,Fc=(s=>e=>{const t=M$.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=s=>(s=s.toLowerCase(),e=>Fc(e)===s),Nc=s=>e=>typeof e===s,{isArray:zr}=Array,Tr=Nc("undefined");function dl(s){return s!==null&&!Tr(s)&&s.constructor!==null&&!Tr(s.constructor)&&on(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Ov=Kn("ArrayBuffer");function T$(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Ov(s.buffer),e}const D$=Nc("string"),on=Nc("function"),Iv=Nc("number"),cl=s=>s!==null&&typeof s=="object",A$=s=>s===!0||s===!1,cd=s=>{if(Fc(s)!=="object")return!1;const e=Hh(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Rv in s)&&!(Lc in s)},E$=s=>{if(!cl(s)||dl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},P$=Kn("Date"),R$=Kn("File"),O$=Kn("Blob"),I$=Kn("FileList"),j$=s=>cl(s)&&on(s.pipe),L$=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||on(s.append)&&((e=Fc(s))==="formdata"||e==="object"&&on(s.toString)&&s.toString()==="[object FormData]"))},F$=Kn("URLSearchParams"),[N$,z$,B$,U$]=["ReadableStream","Request","Response","Headers"].map(Kn),V$=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ul(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,o;if(typeof s!="object"&&(s=[s]),zr(s))for(n=0,o=s.length;n<o;n++)e.call(null,s[n],n,s);else{if(dl(s))return;const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(n=0;n<a;n++)l=r[n],e.call(null,s[l],l,s)}}function jv(s,e){if(dl(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,o;for(;n-- >0;)if(o=t[n],e===o.toLowerCase())return o;return null}const Bi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lv=s=>!Tr(s)&&s!==Bi;function Bf(){const{caseless:s,skipUndefined:e}=Lv(this)&&this||{},t={},n=(o,r)=>{const a=s&&jv(t,r)||r;cd(t[a])&&cd(o)?t[a]=Bf(t[a],o):cd(o)?t[a]=Bf({},o):zr(o)?t[a]=o.slice():(!e||!Tr(o))&&(t[a]=o)};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&ul(arguments[o],n);return t}const H$=(s,e,t,{allOwnKeys:n}={})=>(ul(e,(o,r)=>{t&&on(o)?s[r]=Pv(o,t):s[r]=o},{allOwnKeys:n}),s),W$=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),q$=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},K$=(s,e,t,n)=>{let o,r,a;const l={};if(e=e||{},s==null)return e;do{for(o=Object.getOwnPropertyNames(s),r=o.length;r-- >0;)a=o[r],(!n||n(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&Hh(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},Y$=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},G$=s=>{if(!s)return null;if(zr(s))return s;let e=s.length;if(!Iv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},X$=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Hh(Uint8Array)),J$=(s,e)=>{const n=(s&&s[Lc]).call(s);let o;for(;(o=n.next())&&!o.done;){const r=o.value;e.call(s,r[0],r[1])}},Q$=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},Z$=Kn("HTMLFormElement"),e3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,o){return n.toUpperCase()+o}),Zm=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),t3=Kn("RegExp"),Fv=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};ul(t,(o,r)=>{let a;(a=e(o,r,s))!==!1&&(n[r]=a||o)}),Object.defineProperties(s,n)},s3=s=>{Fv(s,(e,t)=>{if(on(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(on(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},n3=(s,e)=>{const t={},n=o=>{o.forEach(r=>{t[r]=!0})};return zr(s)?n(s):n(String(s).split(e)),t},o3=()=>{},i3=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function r3(s){return!!(s&&on(s.append)&&s[Rv]==="FormData"&&s[Lc])}const a3=s=>{const e=new Array(10),t=(n,o)=>{if(cl(n)){if(e.indexOf(n)>=0)return;if(dl(n))return n;if(!("toJSON"in n)){e[o]=n;const r=zr(n)?[]:{};return ul(n,(a,l)=>{const d=t(a,o+1);!Tr(d)&&(r[l]=d)}),e[o]=void 0,r}}return n};return t(s,0)},l3=Kn("AsyncFunction"),d3=s=>s&&(cl(s)||on(s))&&on(s.then)&&on(s.catch),Nv=((s,e)=>s?setImmediate:e?((t,n)=>(Bi.addEventListener("message",({source:o,data:r})=>{o===Bi&&r===t&&n.length&&n.shift()()},!1),o=>{n.push(o),Bi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",on(Bi.postMessage)),c3=typeof queueMicrotask<"u"?queueMicrotask.bind(Bi):typeof process<"u"&&process.nextTick||Nv,u3=s=>s!=null&&on(s[Lc]),de={isArray:zr,isArrayBuffer:Ov,isBuffer:dl,isFormData:L$,isArrayBufferView:T$,isString:D$,isNumber:Iv,isBoolean:A$,isObject:cl,isPlainObject:cd,isEmptyObject:E$,isReadableStream:N$,isRequest:z$,isResponse:B$,isHeaders:U$,isUndefined:Tr,isDate:P$,isFile:R$,isBlob:O$,isRegExp:t3,isFunction:on,isStream:j$,isURLSearchParams:F$,isTypedArray:X$,isFileList:I$,forEach:ul,merge:Bf,extend:H$,trim:V$,stripBOM:W$,inherits:q$,toFlatObject:K$,kindOf:Fc,kindOfTest:Kn,endsWith:Y$,toArray:G$,forEachEntry:J$,matchAll:Q$,isHTMLForm:Z$,hasOwnProperty:Zm,hasOwnProp:Zm,reduceDescriptors:Fv,freezeMethods:s3,toObjectSet:n3,toCamelCase:e3,noop:o3,toFiniteNumber:i3,findKey:jv,global:Bi,isContextDefined:Lv,isSpecCompliantForm:r3,toJSONObject:a3,isAsyncFn:l3,isThenable:d3,setImmediate:Nv,asap:c3,isIterable:u3};function ut(s,e,t,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}de.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const zv=ut.prototype,Bv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Bv[s]={value:s}});Object.defineProperties(ut,Bv);Object.defineProperty(zv,"isAxiosError",{value:!0});ut.from=(s,e,t,n,o,r)=>{const a=Object.create(zv);de.toFlatObject(s,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=s&&s.message?s.message:"Error",d=e==null&&s?s.code:e;return ut.call(a,l,d,t,n,o),s&&a.cause==null&&Object.defineProperty(a,"cause",{value:s,configurable:!0}),a.name=s&&s.name||"Error",r&&Object.assign(a,r),a};const f3=null;function Uf(s){return de.isPlainObject(s)||de.isArray(s)}function Uv(s){return de.endsWith(s,"[]")?s.slice(0,-2):s}function e0(s,e,t){return s?s.concat(e).map(function(o,r){return o=Uv(o),!t&&r?"["+o+"]":o}).join(t?".":""):e}function h3(s){return de.isArray(s)&&!s.some(Uf)}const p3=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function zc(s,e,t){if(!de.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=de.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!de.isUndefined(y[x])});const n=t.metaTokens,o=t.visitor||u,r=t.dots,a=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(o))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(de.isDate(v))return v.toISOString();if(de.isBoolean(v))return v.toString();if(!d&&de.isBlob(v))throw new ut("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(v)||de.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,x,y){let $=v;if(v&&!y&&typeof v=="object"){if(de.endsWith(x,"{}"))x=n?x:x.slice(0,-2),v=JSON.stringify(v);else if(de.isArray(v)&&h3(v)||(de.isFileList(v)||de.endsWith(x,"[]"))&&($=de.toArray(v)))return x=Uv(x),$.forEach(function(S,C){!(de.isUndefined(S)||S===null)&&e.append(a===!0?e0([x],C,r):a===null?x:x+"[]",c(S))}),!1}return Uf(v)?!0:(e.append(e0(y,x,r),c(v)),!1)}const h=[],p=Object.assign(p3,{defaultVisitor:u,convertValue:c,isVisitable:Uf});function g(v,x){if(!de.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),de.forEach(v,function($,w){(!(de.isUndefined($)||$===null)&&o.call(e,$,de.isString(w)?w.trim():w,x,p))===!0&&g($,x?x.concat(w):[w])}),h.pop()}}if(!de.isObject(s))throw new TypeError("data must be an object");return g(s),e}function t0(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Wh(s,e){this._pairs=[],s&&zc(s,this,e)}const Vv=Wh.prototype;Vv.append=function(e,t){this._pairs.push([e,t])};Vv.toString=function(e){const t=e?function(n){return e.call(this,n,t0)}:t0;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function m3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hv(s,e,t){if(!e)return s;const n=t&&t.encode||m3;de.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let r;if(o?r=o(e,t):r=de.isURLSearchParams(e)?e.toString():new Wh(e,t).toString(n),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class g3{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(n){n!==null&&e(n)})}}const s0=g3,Wv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_3=typeof URLSearchParams<"u"?URLSearchParams:Wh,v3=typeof FormData<"u"?FormData:null,y3=typeof Blob<"u"?Blob:null,b3={isBrowser:!0,classes:{URLSearchParams:_3,FormData:v3,Blob:y3},protocols:["http","https","file","blob","url","data"]},qh=typeof window<"u"&&typeof document<"u",Vf=typeof navigator=="object"&&navigator||void 0,x3=qh&&(!Vf||["ReactNative","NativeScript","NS"].indexOf(Vf.product)<0),w3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),k3=qh&&window.location.href||"http://localhost",$3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qh,hasStandardBrowserEnv:x3,hasStandardBrowserWebWorkerEnv:w3,navigator:Vf,origin:k3},Symbol.toStringTag,{value:"Module"})),Ls={...$3,...b3};function C3(s,e){return zc(s,new Ls.classes.URLSearchParams,{visitor:function(t,n,o,r){return Ls.isNode&&de.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function S3(s){return de.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function M3(s){const e={},t=Object.keys(s);let n;const o=t.length;let r;for(n=0;n<o;n++)r=t[n],e[r]=s[r];return e}function qv(s){function e(t,n,o,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=r>=t.length;return a=!a&&de.isArray(o)?o.length:a,d?(de.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!l):((!o[a]||!de.isObject(o[a]))&&(o[a]=[]),e(t,n,o[a],r)&&de.isArray(o[a])&&(o[a]=M3(o[a])),!l)}if(de.isFormData(s)&&de.isFunction(s.entries)){const t={};return de.forEachEntry(s,(n,o)=>{e(S3(n),o,t,0)}),t}return null}function T3(s,e,t){if(de.isString(s))try{return(e||JSON.parse)(s),de.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const Kh={transitional:Wv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,r=de.isObject(e);if(r&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return o?JSON.stringify(qv(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return C3(e,this.formSerializer).toString();if((l=de.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zc(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),T3(e)):e}],transformResponse:[function(e){const t=this.transitional||Kh.transitional,n=t&&t.forcedJSONParsing,o=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(n&&!this.responseType||o)){const a=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ut.from(l,ut.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ls.classes.FormData,Blob:Ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],s=>{Kh.headers[s]={}});const Yh=Kh,D3=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A3=s=>{const e={};let t,n,o;return s&&s.split(`
`).forEach(function(a){o=a.indexOf(":"),t=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!t||e[t]&&D3[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},n0=Symbol("internals");function Zr(s){return s&&String(s).trim().toLowerCase()}function ud(s){return s===!1||s==null?s:de.isArray(s)?s.map(ud):String(s)}function E3(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const P3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ju(s,e,t,n,o){if(de.isFunction(n))return n.call(this,e,t);if(o&&(e=t),!!de.isString(e)){if(de.isString(n))return e.indexOf(n)!==-1;if(de.isRegExp(n))return n.test(e)}}function R3(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function O3(s,e){const t=de.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(o,r,a){return this[n].call(this,e,o,r,a)},configurable:!0})})}class Bc{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function r(l,d,c){const u=Zr(d);if(!u)throw new Error("header name must be a non-empty string");const h=de.findKey(o,u);(!h||o[h]===void 0||c===!0||c===void 0&&o[h]!==!1)&&(o[h||d]=ud(l))}const a=(l,d)=>de.forEach(l,(c,u)=>r(c,u,d));if(de.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(de.isString(e)&&(e=e.trim())&&!P3(e))a(A3(e),t);else if(de.isObject(e)&&de.isIterable(e)){let l={},d,c;for(const u of e){if(!de.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?de.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}a(l,t)}else e!=null&&r(t,e,n);return this}get(e,t){if(e=Zr(e),e){const n=de.findKey(this,e);if(n){const o=this[n];if(!t)return o;if(t===!0)return E3(o);if(de.isFunction(t))return t.call(this,o,n);if(de.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zr(e),e){const n=de.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ju(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let o=!1;function r(a){if(a=Zr(a),a){const l=de.findKey(n,a);l&&(!t||ju(n,n[l],l,t))&&(delete n[l],o=!0)}}return de.isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const r=t[n];(!e||ju(this,this[r],r,e,!0))&&(delete this[r],o=!0)}return o}normalize(e){const t=this,n={};return de.forEach(this,(o,r)=>{const a=de.findKey(n,r);if(a){t[a]=ud(o),delete t[r];return}const l=e?R3(r):String(r).trim();l!==r&&delete t[r],t[l]=ud(o),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return de.forEach(this,(n,o)=>{n!=null&&n!==!1&&(t[o]=e&&de.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[n0]=this[n0]={accessors:{}}).accessors,o=this.prototype;function r(a){const l=Zr(a);n[l]||(O3(o,a),n[l]=!0)}return de.isArray(e)?e.forEach(r):r(e),this}}Bc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Bc.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});de.freezeMethods(Bc);const Bn=Bc;function Lu(s,e){const t=this||Yh,n=e||t,o=Bn.from(n.headers);let r=n.data;return de.forEach(s,function(l){r=l.call(t,r,o.normalize(),e?e.status:void 0)}),o.normalize(),r}function Kv(s){return!!(s&&s.__CANCEL__)}function Br(s,e,t){ut.call(this,s??"canceled",ut.ERR_CANCELED,e,t),this.name="CanceledError"}de.inherits(Br,ut,{__CANCEL__:!0});function Yv(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new ut("Request failed with status code "+t.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function I3(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function j3(s,e){s=s||10;const t=new Array(s),n=new Array(s);let o=0,r=0,a;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),u=n[r];a||(a=c),t[o]=d,n[o]=c;let h=r,p=0;for(;h!==o;)p+=t[h++],h=h%s;if(o=(o+1)%s,o===r&&(r=(r+1)%s),c-a<e)return;const g=u&&c-u;return g?Math.round(p*1e3/g):void 0}}function L3(s,e){let t=0,n=1e3/e,o,r;const a=(c,u=Date.now())=>{t=u,o=null,r&&(clearTimeout(r),r=null),s(...c)};return[(...c)=>{const u=Date.now(),h=u-t;h>=n?a(c,u):(o=c,r||(r=setTimeout(()=>{r=null,a(o)},n-h)))},()=>o&&a(o)]}const Ud=(s,e,t=3)=>{let n=0;const o=j3(50,250);return L3(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,d=a-n,c=o(d),u=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-a)/c:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(h)},t)},o0=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},i0=s=>(...e)=>de.asap(()=>s(...e)),F3=Ls.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,Ls.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(Ls.origin),Ls.navigator&&/(msie|trident)/i.test(Ls.navigator.userAgent)):()=>!0,N3=Ls.hasStandardBrowserEnv?{write(s,e,t,n,o,r){const a=[s+"="+encodeURIComponent(e)];de.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),de.isString(n)&&a.push("path="+n),de.isString(o)&&a.push("domain="+o),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z3(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function B3(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function Gv(s,e,t){let n=!z3(e);return s&&(n||t==!1)?B3(s,e):e}const r0=s=>s instanceof Bn?{...s}:s;function Xi(s,e){e=e||{};const t={};function n(c,u,h,p){return de.isPlainObject(c)&&de.isPlainObject(u)?de.merge.call({caseless:p},c,u):de.isPlainObject(u)?de.merge({},u):de.isArray(u)?u.slice():u}function o(c,u,h,p){if(de.isUndefined(u)){if(!de.isUndefined(c))return n(void 0,c,h,p)}else return n(c,u,h,p)}function r(c,u){if(!de.isUndefined(u))return n(void 0,u)}function a(c,u){if(de.isUndefined(u)){if(!de.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,h){if(h in e)return n(c,u);if(h in s)return n(void 0,c)}const d={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,u,h)=>o(r0(c),r0(u),h,!0)};return de.forEach(Object.keys({...s,...e}),function(u){const h=d[u]||o,p=h(s[u],e[u],u);de.isUndefined(p)&&h!==l||(t[u]=p)}),t}const Xv=s=>{const e=Xi({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:r,headers:a,auth:l}=e;if(e.headers=a=Bn.from(a),e.url=Hv(Gv(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),de.isFormData(t)){if(Ls.hasStandardBrowserEnv||Ls.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(de.isFunction(t.getHeaders)){const d=t.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,h])=>{c.includes(u.toLowerCase())&&a.set(u,h)})}}if(Ls.hasStandardBrowserEnv&&(n&&de.isFunction(n)&&(n=n(e)),n||n!==!1&&F3(e.url))){const d=o&&r&&N3.read(r);d&&a.set(o,d)}return e},U3=typeof XMLHttpRequest<"u",V3=U3&&function(s){return new Promise(function(t,n){const o=Xv(s);let r=o.data;const a=Bn.from(o.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=o,u,h,p,g,v;function x(){g&&g(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function $(){if(!y)return;const S=Bn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:s,request:y};Yv(function(L){t(L),x()},function(L){n(L),x()},T),y=null}"onloadend"in y?y.onloadend=$:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout($)},y.onabort=function(){y&&(n(new ut("Request aborted",ut.ECONNABORTED,s,y)),y=null)},y.onerror=function(C){const T=C&&C.message?C.message:"Network Error",F=new ut(T,ut.ERR_NETWORK,s,y);F.event=C||null,n(F),y=null},y.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||Wv;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),n(new ut(C,T.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,s,y)),y=null},r===void 0&&a.setContentType(null),"setRequestHeader"in y&&de.forEach(a.toJSON(),function(C,T){y.setRequestHeader(T,C)}),de.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),l&&l!=="json"&&(y.responseType=o.responseType),c&&([p,v]=Ud(c,!0),y.addEventListener("progress",p)),d&&y.upload&&([h,g]=Ud(d),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(u=S=>{y&&(n(!S||S.type?new Br(null,s,y):S),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const w=I3(o.url);if(w&&Ls.protocols.indexOf(w)===-1){n(new ut("Unsupported protocol "+w+":",ut.ERR_BAD_REQUEST,s));return}y.send(r||null)})},H3=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,o;const r=function(c){if(!o){o=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof ut?u:new Br(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,r(new ut(`timeout ${e} of ms exceeded`,ut.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),s=null)};s.forEach(c=>c.addEventListener("abort",r));const{signal:d}=n;return d.unsubscribe=()=>de.asap(l),d}},W3=H3,q3=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let n=0,o;for(;n<t;)o=n+e,yield s.slice(n,o),n=o},K3=async function*(s,e){for await(const t of Y3(s))yield*q3(t,e)},Y3=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},a0=(s,e,t,n)=>{const o=K3(s,e);let r=0,a,l=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await o.next();if(c){l(),d.close();return}let h=u.byteLength;if(t){let p=r+=h;t(p)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),o.return()}},{highWaterMark:2})},l0=64*1024,{isFunction:El}=de,G3=(({Request:s,Response:e})=>({Request:s,Response:e}))(de.global),{ReadableStream:d0,TextEncoder:c0}=de.global,u0=(s,...e)=>{try{return!!s(...e)}catch{return!1}},X3=s=>{s=de.merge.call({skipUndefined:!0},G3,s);const{fetch:e,Request:t,Response:n}=s,o=e?El(e):typeof fetch=="function",r=El(t),a=El(n);if(!o)return!1;const l=o&&El(d0),d=o&&(typeof c0=="function"?(v=>x=>v.encode(x))(new c0):async v=>new Uint8Array(await new t(v).arrayBuffer())),c=r&&l&&u0(()=>{let v=!1;const x=new t(Ls.origin,{body:new d0,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),u=a&&l&&u0(()=>de.isReadableStream(new n("").body)),h={stream:u&&(v=>v.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(x,y)=>{let $=x&&x[v];if($)return $.call(x);throw new ut(`Response type '${v}' is not supported`,ut.ERR_NOT_SUPPORT,y)})});const p=async v=>{if(v==null)return 0;if(de.isBlob(v))return v.size;if(de.isSpecCompliantForm(v))return(await new t(Ls.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(de.isArrayBufferView(v)||de.isArrayBuffer(v))return v.byteLength;if(de.isURLSearchParams(v)&&(v=v+""),de.isString(v))return(await d(v)).byteLength},g=async(v,x)=>{const y=de.toFiniteNumber(v.getContentLength());return y??p(x)};return async v=>{let{url:x,method:y,data:$,signal:w,cancelToken:S,timeout:C,onDownloadProgress:T,onUploadProgress:F,responseType:L,headers:z,withCredentials:j="same-origin",fetchOptions:E}=Xv(v),O=e||fetch;L=L?(L+"").toLowerCase():"text";let I=W3([w,S&&S.toAbortSignal()],C),W=null;const ye=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let ve;try{if(F&&c&&y!=="get"&&y!=="head"&&(ve=await g(z,$))!==0){let we=new t(x,{method:"POST",body:$,duplex:"half"}),Oe;if(de.isFormData($)&&(Oe=we.headers.get("content-type"))&&z.setContentType(Oe),we.body){const[it,ft]=o0(ve,Ud(i0(F)));$=a0(we.body,l0,it,ft)}}de.isString(j)||(j=j?"include":"omit");const _e=r&&"credentials"in t.prototype,Q={...E,signal:I,method:y.toUpperCase(),headers:z.normalize().toJSON(),body:$,duplex:"half",credentials:_e?j:void 0};W=r&&new t(x,Q);let ee=await(r?O(W,E):O(x,Q));const q=u&&(L==="stream"||L==="response");if(u&&(T||q&&ye)){const we={};["status","statusText","headers"].forEach(le=>{we[le]=ee[le]});const Oe=de.toFiniteNumber(ee.headers.get("content-length")),[it,ft]=T&&o0(Oe,Ud(i0(T),!0))||[];ee=new n(a0(ee.body,l0,it,()=>{ft&&ft(),ye&&ye()}),we)}L=L||"text";let he=await h[de.findKey(h,L)||"text"](ee,v);return!q&&ye&&ye(),await new Promise((we,Oe)=>{Yv(we,Oe,{data:he,headers:Bn.from(ee.headers),status:ee.status,statusText:ee.statusText,config:v,request:W})})}catch(_e){throw ye&&ye(),_e&&_e.name==="TypeError"&&/Load failed|fetch/i.test(_e.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,v,W),{cause:_e.cause||_e}):ut.from(_e,_e&&_e.code,v,W)}}},J3=new Map,Jv=s=>{let e=s?s.env:{};const{fetch:t,Request:n,Response:o}=e,r=[n,o,t];let a=r.length,l=a,d,c,u=J3;for(;l--;)d=r[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:X3(e)),u=c;return c};Jv();const Hf={http:f3,xhr:V3,fetch:{get:Jv}};de.forEach(Hf,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const f0=s=>`- ${s}`,Q3=s=>de.isFunction(s)||s===null||s===!1,Qv={getAdapter:(s,e)=>{s=de.isArray(s)?s:[s];const{length:t}=s;let n,o;const r={};for(let a=0;a<t;a++){n=s[a];let l;if(o=n,!Q3(n)&&(o=Hf[(l=String(n)).toLowerCase()],o===void 0))throw new ut(`Unknown adapter '${l}'`);if(o&&(de.isFunction(o)||(o=o.get(e))))break;r[l||"#"+a]=o}if(!o){const a=Object.entries(r).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(f0).join(`
`):" "+f0(a[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:Hf};function Fu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Br(null,s)}function h0(s){return Fu(s),s.headers=Bn.from(s.headers),s.data=Lu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Qv.getAdapter(s.adapter||Yh.adapter,s)(s).then(function(n){return Fu(s),n.data=Lu.call(s,s.transformResponse,n),n.headers=Bn.from(n.headers),n},function(n){return Kv(n)||(Fu(s),n&&n.response&&(n.response.data=Lu.call(s,s.transformResponse,n.response),n.response.headers=Bn.from(n.response.headers))),Promise.reject(n)})}const Zv="1.12.2",Uc={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Uc[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const p0={};Uc.transitional=function(e,t,n){function o(r,a){return"[Axios v"+Zv+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,l)=>{if(e===!1)throw new ut(o(a," has been removed"+(t?" in "+t:"")),ut.ERR_DEPRECATED);return t&&!p0[a]&&(p0[a]=!0),e?e(r,a,l):!0}};Uc.spelling=function(e){return(t,n)=>!0};function Z3(s,e,t){if(typeof s!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let o=n.length;for(;o-- >0;){const r=n[o],a=e[r];if(a){const l=s[r],d=l===void 0||a(l,r,s);if(d!==!0)throw new ut("option "+r+" must be "+d,ut.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ut("Unknown option "+r,ut.ERR_BAD_OPTION)}}const fd={assertOptions:Z3,validators:Uc},Gn=fd.validators;class Vd{constructor(e){this.defaults=e||{},this.interceptors={request:new s0,response:new s0}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xi(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:r}=t;n!==void 0&&fd.assertOptions(n,{silentJSONParsing:Gn.transitional(Gn.boolean),forcedJSONParsing:Gn.transitional(Gn.boolean),clarifyTimeoutError:Gn.transitional(Gn.boolean)},!1),o!=null&&(de.isFunction(o)?t.paramsSerializer={serialize:o}:fd.assertOptions(o,{encode:Gn.function,serialize:Gn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fd.assertOptions(t,{baseUrl:Gn.spelling("baseURL"),withXsrfToken:Gn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&de.merge(r.common,r[t.method]);r&&de.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),t.headers=Bn.concat(a,r);const l=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(d=d&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,h=0,p;if(!d){const v=[h0.bind(this),void 0];for(v.unshift(...l),v.push(...c),p=v.length,u=Promise.resolve(t);h<p;)u=u.then(v[h++],v[h++]);return u}p=l.length;let g=t;for(;h<p;){const v=l[h++],x=l[h++];try{g=v(g)}catch(y){x.call(this,y);break}}try{u=h0.call(this,g)}catch(v){return Promise.reject(v)}for(h=0,p=c.length;h<p;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Xi(this.defaults,e);const t=Gv(e.baseURL,e.url,e.allowAbsoluteUrls);return Hv(t,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(e){Vd.prototype[e]=function(t,n){return this.request(Xi(n||{},{method:e,url:t,data:(n||{}).data}))}});de.forEach(["post","put","patch"],function(e){function t(n){return function(r,a,l){return this.request(Xi(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Vd.prototype[e]=t(),Vd.prototype[e+"Form"]=t(!0)});const hd=Vd;class Gh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(o=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](o);n._listeners=null}),this.promise.then=o=>{let r;const a=new Promise(l=>{n.subscribe(l),r=l}).then(o);return a.cancel=function(){n.unsubscribe(r)},a},e(function(r,a,l){n.reason||(n.reason=new Br(r,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Gh(function(o){e=o}),cancel:e}}}const e6=Gh;function t6(s){return function(t){return s.apply(null,t)}}function s6(s){return de.isObject(s)&&s.isAxiosError===!0}const Wf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wf).forEach(([s,e])=>{Wf[e]=s});const n6=Wf;function ey(s){const e=new hd(s),t=Pv(hd.prototype.request,e);return de.extend(t,hd.prototype,e,{allOwnKeys:!0}),de.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return ey(Xi(s,o))},t}const ds=ey(Yh);ds.Axios=hd;ds.CanceledError=Br;ds.CancelToken=e6;ds.isCancel=Kv;ds.VERSION=Zv;ds.toFormData=zc;ds.AxiosError=ut;ds.Cancel=ds.CanceledError;ds.all=function(e){return Promise.all(e)};ds.spread=t6;ds.isAxiosError=s6;ds.mergeConfig=Xi;ds.AxiosHeaders=Bn;ds.formToJSON=s=>qv(de.isHTMLForm(s)?new FormData(s):s);ds.getAdapter=Qv.getAdapter;ds.HttpStatusCode=n6;ds.default=ds;const Qe=ds,me=Qe.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});me.interceptors.response.use(s=>{const e=s.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):s},s=>{var t,n;((t=s.response)==null?void 0:t.status)===401&&(window.location.href="/login");const e=(n=s.response)==null?void 0:n.headers["content-type"];return e&&e.includes("text/html")?(window.location.href="/login",Promise.reject(new Error("Session expired"))):Promise.reject(s)});const cs=s=>an(`form-${s}`,()=>{const e=_t({}),t=_t({}),n=_t({}),o=R(!1),r=R(!1),a=R(""),l=R("post"),d=R(null),c=R([]);async function u(w,S){a.value=w,d.value=S||null,S?(l.value="put",await p(S)):await h()}async function h(){r.value=!0;try{const w=await me.get(`${a.value}/create`);Array.isArray(w.data)?w.data.forEach(S=>{S.name&&S.value!==void 0&&(e[S.name]=S.value),S.name&&S.options&&S.options.length>0&&(n[S.name]=S.options)}):(w.data.options&&Object.assign(n,w.data.options),w.data.data&&Object.assign(e,w.data.data))}catch{}finally{r.value=!1}}async function p(w){r.value=!0,x();try{const S=await me.get(`${a.value}/${w}/edit`);Array.isArray(S.data)?S.data.forEach(C=>{C.name&&C.value!==void 0&&(e[C.name]=C.value),C.name&&C.options&&C.options.length>0&&(n[C.name]=C.options)}):(Object.assign(e,S.data.data||S.data),S.data.options&&Object.assign(n,S.data.options))}catch{}finally{r.value=!1}}async function g(){var w,S;o.value=!0,x();try{const C=d.value?`${a.value}/${d.value}`:a.value,T=await me[l.value](C,e);return o.value=!1,c.value.forEach(F=>F(T)),T}catch(C){throw o.value=!1,(S=(w=C.response)==null?void 0:w.data)!=null&&S.errors&&Object.assign(t,C.response.data.errors),C}}function v(w){c.value.push(w)}function x(){Object.keys(t).forEach(w=>delete t[w])}function y(w,S){e[w]=S}function $(){Object.keys(e).forEach(w=>delete e[w]),x(),o.value=!1,r.value=!1}return{data:e,errors:t,options:n,submitting:o,fetching:r,init:u,fetch:p,submit:g,onSuccess:v,clearErrors:x,setData:y,reset:$}}),jt=an("modals",()=>{const s=R([]),e=R(new Map);function t(a,l={}){s.value.push({component:wr(a),payload:l})}function n(){const a=s.value.length-1,l=e.value.get(a);l&&(l(),e.value.delete(a)),s.value.pop()}function o(){s.value=[],e.value.clear()}function r(a){const l=s.value.length-1;e.value.set(l,a)}return{components:s,add:t,pop:n,clear:o,onHide:r}}),Ss=s=>an(`index-${s}`,()=>{const e=R([]),t=_t({}),n=_t({}),o=R(""),r=R("asc"),a=R(15),l=R(1),d=R(""),c=R(!1),u=_t({});function h(C,T){t[C]=T}function p(C){delete t[C]}function g(){Object.keys(t).forEach(C=>delete t[C])}function v(C,T="asc"){o.value=C,r.value=T}function x(C){o.value===C?r.value=r.value==="asc"?"desc":"asc":(o.value=C,r.value="asc")}function y(){g(),o.value="",r.value="asc",l.value=1}function $(C){Object.assign(u,C),C.uri&&(d.value=C.uri)}function w(){l.value=1,S()}async function S(){if(d.value){c.value=!0;try{const C={...t,...n,per_page:a.value,page:l.value};o.value&&(C.sort_by=o.value,C.sort_order=r.value);const T=await me.get(d.value,{params:C});e.value=T.data}catch{}finally{c.value=!1}}}return{data:e,filters:t,params:n,sortBy:o,sortOrder:r,perPage:a,currentPage:l,uri:d,fetching:c,config:u,setFilter:h,clearFilter:p,clearAllFilters:g,setSort:v,toggleSort:x,reset:y,setConfig:$,onSearch:w,fetch:S}}),pd=an("confirm",()=>{const s=R(!1),e=R("Confirm"),t=R(""),n=R("Confirm"),o=R("Cancel"),r=R(!1);let a=null,l=null;function d(p){e.value=p.title||"Confirm",t.value=p.message,n.value=p.confirmText||"Confirm",o.value=p.cancelText||"Cancel",a=p.onConfirm||null,l=p.onCancel||null,s.value=!0}async function c(){if(a){r.value=!0;try{await a()}finally{r.value=!1}}h()}function u(){l&&l(),h()}function h(){s.value=!1,a=null,l=null}return{isOpen:s,title:e,message:t,confirmText:n,cancelText:o,processing:r,show:d,confirm:c,cancel:u,close:h}}),Fn=an("flash",()=>{const s=R([]);let e=0;function t(c,u="info",h=5e3){const p=e++,g={id:p,type:u,message:c,duration:h};return s.value.push(g),h>0&&setTimeout(()=>{l(p)},h),p}function n(c,u=5e3){return t(c,"success",u)}function o(c,u=5e3){return t(c,"error",u)}function r(c,u=5e3){return t(c,"warning",u)}function a(c,u=5e3){return t(c,"info",u)}function l(c){const u=s.value.findIndex(h=>h.id===c);u>-1&&s.value.splice(u,1)}function d(){s.value=[]}return{messages:s,add:t,success:n,error:o,warning:r,info:a,remove:l,clear:d}}),m0=an("toast",()=>{const s=R([]);let e=0;function t(c,u="info",h=3e3){const p=e++,g={id:p,type:u,message:c,duration:h};return s.value.push(g),h>0&&setTimeout(()=>{l(p)},h),p}function n(c,u=3e3){return t(c,"success",u)}function o(c,u=3e3){return t(c,"error",u)}function r(c,u=3e3){return t(c,"warning",u)}function a(c,u=3e3){return t(c,"info",u)}function l(c){const u=s.value.findIndex(h=>h.id===c);u>-1&&s.value.splice(u,1)}function d(){s.value=[]}return{toasts:s,add:t,success:n,error:o,warning:r,info:a,remove:l,clear:d}}),o6=(s="tab")=>an(`tab-${s}`,()=>{const e=R(0),t=R(0),n=R([]),o=Pe(()=>{var u;const c=typeof e.value=="number"?e.value:parseInt(e.value);return(u=n.value[c])==null?void 0:u.component});function r(c){t.value=c,e.value=c}function a(c){e.value=c,t.value=c}function l(c){n.value=c}function d(){t.value=0,e.value=0}return{active:e,activeTab:t,tabsList:n,tab:o,setTab:r,select:a,tabs:l,reset:d}});function i6(s){s.config.globalProperties.__=n=>{var o;return((o=vt.translations)==null?void 0:o[n])||n};const e=n=>{var o;return!n||vt.is_super_admin?!0:((o=vt.permissions)==null?void 0:o.includes(n))||!1},t=n=>!e(n);s.config.globalProperties.can=e,s.config.globalProperties.cannot=t,s.provide("can",e),s.provide("cannot",t),s.provide("__",s.config.globalProperties.__),s.provide("user",{...vt.user,is_super_admin:vt.is_super_admin})}const r6={install:i6};let Pl;const Ur=an("timer",{state:()=>({taskId:null,projectId:null,projectName:null,taskTitle:null,processing:!1,timers:[],isTimerRunning:!1,timerStartedAt:null,timerStoppedAt:null,currentTaskTimer:{h:0,m:0,s:0}}),actions:{start(s){this.stopPrev(),this.startTimer(),this.taskId=s.id,this.taskTitle=s.title,this.projectId=s.project_id,this.projectName=s.project.name,this.processing=!0,me.post("time-logs",{taskId:this.taskId,projectId:this.projectId,start:!0,currentTime:this.timerStartedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1})},stop(){this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,me.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(()=>{this.processing=!1,this.fetch()}).catch(()=>{this.processing=!1}),this.taskId=null,this.projectId=null,this.projectName=null},stopPrev(){if(!this.taskId)return;this.stopTimer();const s=this.taskId,e=this.projectId;this.processing=!0,me.post("time-logs",{taskId:s,projectId:e,stop:!0,currentTime:this.timerStoppedAt}).then(({data:t})=>{}).catch(()=>{this.processing=!1})},fetch(){me.get("time-logs").then(s=>{this.timers=s.data;const e=s.data.find(t=>t.user.id==vt.user.id);if(e){this.taskId=e.task.id,this.taskTitle=e.task.title,this.projectId=e.task.project_id,this.projectName=e.task.project.name;const t=new Date(e.started_at_raw),o=Math.floor((new Date().getTime()-t.getTime())/1e3);this.setTimer(o),this.startTimer()}})},startTimer(){Pl&&clearInterval(Pl),Pl=setInterval(()=>{this.currentTaskTimer.s++,this.currentTaskTimer.s>=60&&(this.currentTaskTimer.s=0,this.currentTaskTimer.m++,this.currentTaskTimer.m>=60&&(this.currentTaskTimer.m=0,this.currentTaskTimer.h++))},1e3),this.timerStartedAt=new Date,this.isTimerRunning=!0},stopTimer(){clearInterval(Pl),this.timerStoppedAt=new Date,this.isTimerRunning=!1},setTimer(s){this.currentTaskTimer.s=Math.floor(s%60),this.currentTaskTimer.m=Math.floor(s%3600/60),this.currentTaskTimer.h=Math.floor(s/3600)}}}),a6={key:0,class:"flex items-center"},l6=["aria-label"],d6=pe({__name:"TimerCurrentUser",setup(s){const e=Ur();return(t,n)=>m(e).isTimerRunning?(_(),b("div",a6,[i("span",{class:"block cursor-pointer",onClick:n[0]||(n[0]=We((...o)=>m(e).stop&&m(e).stop(...o),["stop"]))},[M(m(Nr),{class:"h-[1.125rem] w-[1.125rem] text-red-600 hover:text-red-800"})]),i("p",{class:"ml-2 w-[4.500rem] text-base text-red-600","aria-label":`${m(e).taskTitle} (${m(e).projectName})`,"data-cooltipz-dir":"bottom"},f(m(e).currentTaskTimer.h.toString().padStart(2,"0"))+":"+f(m(e).currentTaskTimer.m.toString().padStart(2,"0"))+":"+f(m(e).currentTaskTimer.s.toString().padStart(2,"0")),9,l6)])):P("",!0)}}),c6={class:"w-full min-w-[18rem] max-w-sm rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-800"},u6={class:"flex items-center justify-between p-4 leading-8"},f6={class:"text-base font-medium text-gray-800 dark:text-gray-100"},h6={class:"grid grid-cols-7 px-2 pb-2"},p6=["onClick"],m6=pe({__name:"Calendar",props:{date:{}},emits:["selected"],setup(s){const e=s,t=e.date?new Date(e.date):new Date,n=R(t.getMonth()),o=R(t.getFullYear()),r=R(),a=R(t.getDate()),l=R(y()),d=R([]),c=["Su","Mo","Tu","We","Th","Fr","Sa"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];p();function p(){const w=[];r.value=null,a.value=null;for(let S=1;S<=x();S++)w.push(S),S===t.getDate()&&n.value===t.getMonth()&&o.value===t.getFullYear()&&(a.value=S);d.value=w,l.value=y()}function g(){o.value=n.value===11?o.value+1:o.value,n.value=(n.value+1)%12,p()}function v(){o.value=n.value===0?o.value-1:o.value,n.value=n.value===0?11:n.value-1,p()}function x(){return new Date(o.value,n.value+1,0).getDate()}function y(){return new Date(o.value,n.value).getDay()}function $(w){r.value=w}return(w,S)=>(_(),b("div",c6,[i("div",u6,[i("h1",f6,f(w.__(u[n.value]))+" "+f(o.value),1),i("div",{class:"flex items-center text-gray-800 dark:text-gray-100"},[i("span",{class:"cursor-pointer hover:text-gray-500",onClick:v},[...S[0]||(S[0]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i("polyline",{points:"15 6 9 12 15 18"})],-1)])]),i("span",{class:"cursor-pointer hover:text-gray-500",onClick:g},[...S[1]||(S[1]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-right ml-3",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i("polyline",{points:"9 6 15 12 9 18"})],-1)])])])]),i("ol",h6,[(_(),b(ue,null,xe(c,C=>i("li",{key:C,class:"pb-2 text-center text-sm font-medium text-gray-800"},f(C),1)),64)),l.value?(_(),b("li",{key:0,class:"flex items-center justify-center py-1",style:$t({gridColumnStart:l.value})},"  ",4)):P("",!0),(_(!0),b(ue,null,xe(d.value,C=>(_(),b("li",{key:C,class:"flex items-center justify-center py-1"},[i("p",{class:ne(["flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-sm font-medium",{"bg-indigo-700 text-white":C==r.value,"text-gray-500 hover:bg-gray-200":C!=r.value,"bg-gray-200":C==a.value}]),onClick:T=>($(C),w.$emit("selected",{day:("0"+C).slice(-2),month:("0"+(n.value+1)).slice(-2),year:o.value,date:`${o.value}-${("0"+(n.value+1)).slice(-2)}-${("0"+C).slice(-2)}`,label:`${h[n.value]} ${C}, ${o.value}`}))},f(C),11,p6)]))),128))])]))}}),Xh=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},g6={},_6={class:"rounded-lg bg-white shadow"};function v6(s,e){return _(),b("div",_6,[Cs(s.$slots,"default")])}const ui=Xh(g6,[["render",v6]]),Vc=pe({__name:"Collapsible",props:{open:{type:Boolean}},setup(s){const e=s,t=R(!1);return e.open&&(t.value=!0),(n,o)=>(_(),b(ue,null,[i("div",{onClick:o[0]||(o[0]=We(r=>t.value=!t.value,["prevent"]))},[Cs(n.$slots,"trigger",{open:t.value})]),t.value?Cs(n.$slots,"content",{key:0}):P("",!0)],64))}}),Ns=pe({__name:"Dropdown",props:{shouldClose:{type:Boolean},closeOutside:{type:Boolean},close:{type:Boolean}},emits:["toggle"],setup(s,{emit:e}){const t=s;Or(()=>{t.shouldClose&&d()}),Bt(()=>t.close,h=>{h&&d()});const n=R(!1),o=R(null),r=R(null),a=e;function l(){n.value=!n.value}Bt(n,h=>{a("toggle",h),h?window.addEventListener("click",t.closeOutside?c:u,{capture:!0}):window.removeEventListener("click",t.closeOutside?c:u,{capture:!0})});function d(){n.value=!1}function c(h){const p=o.value;!p||p===h.target||h.composedPath().includes(p)||d()}function u(h){const p=o.value,g=r.value;(!g||g===h.target||h.composedPath().includes(g))&&d(),!(!p||p===h.target||h.composedPath().includes(p))&&d()}return(h,p)=>(_(),b("div",{ref_key:"target",ref:o,class:"relative"},[i("div",{onClick:We(l,["prevent"])},[Cs(h.$slots,"trigger")]),M(Uw,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:X(()=>[n.value?(_(),b("div",{key:0,ref_key:"content",ref:r},[Cs(h.$slots,"content")],512)):P("",!0)]),_:3})],512))}});function y6(){const s=xc();s.isBlankPage=!0,$h(()=>s.isBlankPage=!1)}const b6={class:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},x6={class:"mx-auto max-w-max"},w6={class:"sm:flex"},k6=["textContent"],$6={class:"sm:ml-6"},C6={class:"sm:border-l sm:border-gray-200 sm:pl-6"},S6=["textContent"],M6=["textContent"],ty=pe({__name:"ErrorPage",props:{code:{},heading:{},description:{}},setup(s){return y6(),(e,t)=>(_(),b("div",b6,[i("div",x6,[i("main",w6,[i("p",{class:"text-4xl font-extrabold text-indigo-600 sm:text-5xl",textContent:f(s.code)},null,8,k6),i("div",$6,[i("div",C6,[i("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl",textContent:f(s.heading)},null,8,S6),i("p",{class:"mt-1 text-base text-gray-500",textContent:f(s.description)},null,8,M6)])])])])]))}}),lo=pe({__name:"ModalBase",props:{width:{default:"max-w-2xl"}},emits:["close"],setup(s,{emit:e}){const t=e;function n(){t("close"),jt().pop()}return(o,r)=>(_(),b("div",{class:"fixed inset-0 z-[250] flex min-h-screen items-center justify-center overflow-y-auto bg-gray-500 bg-opacity-75 p-4",onClick:n},[i("div",{class:ne(["modal-content relative w-full rounded-lg bg-white shadow-xl",[s.width]]),onClick:r[0]||(r[0]=We(()=>{},["stop"]))},[Cs(o.$slots,"default")],2)]))}}),T6={},D6={class:"animate-pulse px-6"};function A6(s,e){return _(),b(ue,null,[i("div",D6,[(_(),b(ue,null,xe(2,t=>i("div",{key:t,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},[...e[0]||(e[0]=[i("label",{class:"mr-16 h-4 rounded bg-gray-200 sm:mt-px sm:pt-2"},null,-1),i("div",{class:"h-4 rounded bg-gray-200 sm:col-span-2"},"",-1)])])),64))]),e[1]||(e[1]=i("div",{class:"sticky bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},[i("span",{class:"h-4 w-32 rounded bg-gray-300"},"")],-1))],64)}const sy=Xh(T6,[["render",A6]]),E6=["width","height"],P6=["stroke-width"],R6=["stroke-width"],Ut=pe({__name:"Loader",props:{size:{default:"40"},color:{default:"text-gray-800"},thick:{default:"4"}},setup(s){return(e,t)=>(_(),b("svg",{class:ne(["animate-spin stroke-current",s.color]),viewBox:"0 0 32 32",width:s.size,height:s.size},[i("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{opacity:"0.2"}},null,8,P6),i("circle",{cx:"16",cy:"16",fill:"none",r:"14","stroke-width":s.thick,style:{"stroke-dasharray":"80","stroke-dashoffset":"60"}},null,8,R6)],10,E6))}}),O6=["href"],I6=["disabled"],Ve=pe({__name:"TheButton",props:{href:{default:""},processing:{type:Boolean},disabled:{type:Boolean},white:{type:Boolean},danger:{type:Boolean},size:{default:"md"}},setup(s){const e=s;let t="inline-flex items-center border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",n={xs:" px-2.5 py-1.5 text-xs rounded",sm:" px-3 py-2 text-sm leading-4 rounded-md",md:" px-4 py-2 text-sm rounded-md",lg:" px-4 py-2 text-base rounded-md",xl:" px-6 py-3 text-base rounded-md"},o={xs:"16",sm:"16",md:"20",lg:"20",xl:"22"},r=" text-gray-700 border-gray-300 bg-white hover:bg-gray-50 focus:ring-indigo-500",a=" text-white border-transparent bg-red-600 hover:bg-red-700 focus:ring-red-500",l=" text-white border-transparent bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",d=e.white?"":"text-white",c=o[e.size];return e.white?t=t.concat(r,n[e.size]):e.danger?t=t.concat(a,n[e.size]):t=t.concat(l,n[e.size]),(u,h)=>s.href?(_(),b("a",{key:0,href:s.href,class:ne([m(t)])},[Cs(u.$slots,"default"),s.processing?(_(),oe(Ut,{key:0,class:"ltr:ml-2 rtl:mr-2",size:m(c),color:m(d)},null,8,["size","color"])):P("",!0)],10,O6)):(_(),b("button",{key:1,class:ne([m(t)]),disabled:s.disabled||s.processing},[Cs(u.$slots,"default"),s.processing?(_(),oe(Ut,{key:0,class:"ltr:ml-2 rtl:mr-2",size:m(c),color:m(d)},null,8,["size","color"])):P("",!0)],10,I6))}}),j6={key:1},L6={class:"px-6 pt-6"},F6={class:"text-xl font-semibold text-gray-900","data-cy":"page-title"},N6={class:"px-6"},z6={class:"grid grid-cols-12 gap-6 pt-3 pb-6"},B6={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},zs=pe({__name:"FormModal",props:{id:{},name:{},uri:{},title:{},size:{}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=Pe(()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full"})[t.size||"lg"]||"max-w-2xl"),r=Pe(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&$s("form_name",t.name);let a;return t.name&&t.uri?(a=cs(t.name)(),a.init(t.uri,t.id)):a={fetching:!1,submitting:!1,submit:()=>{}},(l,d)=>(_(),oe(lo,{width:o.value,onClose:d[1]||(d[1]=c=>n("close"))},{default:X(()=>[s.name&&s.uri?(_(),b(ue,{key:0},[m(a).fetching?(_(),oe(sy,{key:0})):(_(),b("section",j6,[i("div",L6,[i("h1",F6,f(s.title||(s.id?l.__(`Edit ${r.value}`):l.__(`Create ${r.value}`))),1)]),i("div",N6,[i("div",z6,[Cs(l.$slots,"default")])]),i("div",B6,[M(Ve,{class:"mr-3",white:"",disabled:m(a).submitting,onClick:d[0]||(d[0]=c=>m(jt)().pop())},{default:X(()=>[se(f(l.__("Cancel")),1)]),_:1},8,["disabled"]),M(Ve,{"data-cy":"submit-button",processing:m(a).submitting,onClick:m(a).submit},{default:X(()=>[se(f(s.id?l.__(`Update ${r.value}`):l.__(`Create ${r.value}`)),1)]),_:1},8,["processing","onClick"])])]))],64)):Cs(l.$slots,"default",{key:1})]),_:3},8,["width"]))}}),U6={key:1},V6={key:0,class:"border-b border-gray-200 px-6 py-4"},H6={class:"text-lg font-semibold text-gray-900"},W6={class:"px-6 py-4"},q6={class:"bottom-0 flex justify-end rounded-b-lg bg-gray-50 py-5 px-6"},K6={key:0},Y6={key:1},Lo=pe({__name:"FormBase",props:{id:{},name:{},uri:{},title:{},saveOnly:{type:Boolean},buttonText:{},externalForm:{}},emits:["submit","cancel"],setup(s,{emit:e}){const t=s,n=e,o=Pe(()=>{if(!t.name)return"";const l=t.name.split(" ");for(let d=0;d<l.length;d++)l[d]=l[d].charAt(0).toUpperCase()+l[d].slice(1);return l.join(" ")});t.name&&$s("form_name",t.name);let r;t.externalForm?r=t.externalForm:t.name&&t.uri?(r=cs(t.name)(),r.init(t.uri)):r={fetching:!1,submitting:!1,submit:()=>n("submit")};const a=()=>{t.externalForm?n("cancel"):jt().pop()};return(l,d)=>(_(),oe(m(ui),null,{default:X(()=>[m(r).fetching?(_(),oe(sy,{key:0})):(_(),b("section",U6,[l.$slots.title?(_(),b("div",V6,[i("h2",H6,[Cs(l.$slots,"title")])])):P("",!0),i("div",W6,[Cs(l.$slots,"default")]),i("div",q6,[s.saveOnly?P("",!0):(_(),oe(m(Ve),{key:0,class:"mr-3",white:"",disabled:m(r).submitting,onClick:a},{default:X(()=>[se(f(l.__("Cancel")),1)]),_:1},8,["disabled"])),M(m(Ve),{"data-cy":"submit-button",processing:m(r).submitting,onClick:m(r).submit},{default:X(()=>[s.saveOnly?(_(),b("span",K6,f(l.__("Save")),1)):(_(),b("span",Y6,f(s.buttonText||(s.id?l.__("Update"):l.__("Create"))+" "+o.value),1))]),_:1},8,["processing","onClick"])])]))]),_:3}))}}),G6={class:"hidden sm:block"},X6={class:"text-sm text-gray-700"},J6={class:"font-medium text-gray-600"},Q6={class:"font-medium text-gray-600"},Z6={key:0,class:"flex flex-1 justify-between sm:justify-end"},Gs=pe({__name:"IndexPagination",props:{index:{},classes:{default:"px-4 sm:px-6 border-t border-gray-200"}},setup(s){return(e,t)=>(_(),b("nav",{class:ne(["flex items-center justify-between bg-white py-3",[s.classes]]),"aria-label":"Pagination"},[i("div",G6,[i("p",X6,[se(f(e.__("Showing"))+" ",1),i("span",J6,f(s.index.data.from),1),se(" "+f(e.__("to"))+" ",1),i("span",Q6,f(s.index.data.to),1)])]),s.index.data.next_page_url||s.index.data.prev_page_url?(_(),b("div",Z6,[i("span",{class:ne(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",{"pointer-events-none opacity-50":!s.index.data.prev_page_url}]),onClick:t[0]||(t[0]=n=>s.index.prev())},f(e.__("Previous")),3),i("span",{class:ne(["relative inline-flex cursor-pointer items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ltr:ml-3 rtl:mr-3",{"pointer-events-none opacity-50":!s.index.data.next_page_url}]),onClick:t[1]||(t[1]=n=>s.index.next())},f(e.__("Next")),3)])):P("",!0)],2))}}),eC={key:0,class:"ml-2 font-bold text-white"},tC={class:"absolute z-30 mt-2 max-h-80 w-72 origin-top-left overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 shadow-lg ltr:left-0 rtl:right-0"},sC={class:"shadow-xs rounded-md bg-white",role:"menu","aria-orientation":"vertical","aria-labelledby":"filters"},nC=pe({__name:"IndexFilters",props:{name:{}},setup(s){const t=Ss(s.name)();return(n,o)=>(_(),oe(m(Ns),{name:"filter",class:"ltr:ml-4 rtl:mr-4","close-outside":""},{trigger:X(()=>[i("button",{class:ne(["inline-flex justify-center rounded-md border border-gray-300 bg-white px-3.5 py-2 text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none",{"bg-gray-700 hover:bg-gray-700":m(t).appliedFilters.length}])},[M(m(e$),{class:ne(["w-5",m(t).appliedFilters.length?"text-white":"text-gray-400"])},null,8,["class"]),m(t).appliedFilters.length?(_(),b("span",eC,f(m(t).appliedFilters.length),1)):P("",!0)],2)]),content:X(()=>[i("div",tC,[i("div",sC,[m(t).appliedFilters.length?(_(),b("div",{key:0,class:"cursor-pointer border-b border-gray-200 bg-gray-50 py-2 text-center text-sm font-medium uppercase text-gray-600 hover:text-gray-400",onClick:o[0]||(o[0]=(...r)=>m(t).resetFilters&&m(t).resetFilters(...r))},f(n.__("Reset Filters")),1)):P("",!0),(_(!0),b(ue,null,xe(m(t).filters,r=>(_(),oe(Mo(r==null?void 0:r.component),{key:r==null?void 0:r.name,filter:r,name:s.name},null,8,["filter","name"]))),128))])])]),_:1}))}}),oC={class:"mt-6 text-center text-gray-500"},Hc=pe({__name:"IndexNoData",props:{btnTo:{},btnText:{},noCreate:{type:Boolean}},setup(s){return(e,t)=>(_(),oe(ui,{class:"px-6 py-16"},{default:X(()=>[t[0]||(t[0]=i("div",{class:"flex justify-center"},[i("svg",{width:"65",height:"51",viewBox:"0 0 65 51",class:"fill-current text-gray-400"},[i("path",{d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})])],-1)),i("p",oC,f(e.__("No record matched the given criteria.")),1)]),_:1}))}}),iC={class:"flex"},rC={key:0,class:"relative mb-4 w-64 rounded-md shadow-sm"},aC=["placeholder"],lC={key:0,class:"mt-8 flex justify-center"},dC=["data-cy"],Jh=pe({__name:"IndexTable",props:{name:{},uri:{},filterUri:{default:""},shallowUri:{default:""},btnTo:{default:""},btnText:{default:""},noCreate:{type:Boolean},noFilters:{type:Boolean},noSearch:{type:Boolean},orderByDirection:{default:"desc"},searchColumn:{default:"name"}},setup(s){const e=s,t=Ss(e.name)();return t.setConfig(e),t.fetch(),e.noFilters||t.getFilters(),(n,o)=>{var r;return _(),b(ue,null,[i("div",iC,[s.noSearch?P("",!0):(_(),b("div",rC,[o[2]||(o[2]=i("div",{class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},[i("svg",{class:"h-5 w-5 text-gray-400","x-description":"Heroicon name: search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),V(i("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>m(t).params.search=a),type:"search",placeholder:n.__("Search"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:o[1]||(o[1]=(...a)=>m(t).onSearch&&m(t).onSearch(...a))},null,40,aC),[[ie,m(t).params.search]])])),s.noFilters?P("",!0):(_(),oe(nC,{key:1,name:s.name},null,8,["name"]))]),m(t).fetching?(_(),b("div",lC,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",{key:1,"data-cy":s.name?"index-"+s.name:"index"},[(r=m(t).data)!=null&&r.length?Cs(n.$slots,"default",{key:1,index:m(t),items:m(t).data}):(_(),oe(Hc,{key:0,"no-create":s.noCreate||n.cannot(`${s.name}:create`),"btn-text":s.btnText,"btn-to":s.btnTo},null,8,["no-create","btn-text","btn-to"]))],8,dC))],64)}}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fl(s){return s+.5|0}const Qo=(s,e,t)=>Math.max(Math.min(s,t),e);function da(s){return Qo(fl(s*2.55),0,255)}function li(s){return Qo(fl(s*255),0,255)}function xo(s){return Qo(fl(s/2.55)/100,0,1)}function g0(s){return Qo(fl(s*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qf=[..."0123456789ABCDEF"],cC=s=>qf[s&15],uC=s=>qf[(s&240)>>4]+qf[s&15],Rl=s=>(s&240)>>4===(s&15),fC=s=>Rl(s.r)&&Rl(s.g)&&Rl(s.b)&&Rl(s.a);function hC(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&Sn[s[1]]*17,g:255&Sn[s[2]]*17,b:255&Sn[s[3]]*17,a:e===5?Sn[s[4]]*17:255}:(e===7||e===9)&&(t={r:Sn[s[1]]<<4|Sn[s[2]],g:Sn[s[3]]<<4|Sn[s[4]],b:Sn[s[5]]<<4|Sn[s[6]],a:e===9?Sn[s[7]]<<4|Sn[s[8]]:255})),t}const pC=(s,e)=>s<255?e(s):"";function mC(s){var e=fC(s)?cC:uC;return s?"#"+e(s.r)+e(s.g)+e(s.b)+pC(s.a,e):void 0}const gC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ny(s,e,t){const n=e*Math.min(t,1-t),o=(r,a=(r+s/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function _C(s,e,t){const n=(o,r=(o+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function vC(s,e,t){const n=ny(s,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)n[o]*=1-e-t,n[o]+=e;return n}function yC(s,e,t,n,o){return s===o?(e-t)/n+(e<t?6:0):e===o?(t-s)/n+2:(s-e)/n+4}function Qh(s){const t=s.r/255,n=s.g/255,o=s.b/255,r=Math.max(t,n,o),a=Math.min(t,n,o),l=(r+a)/2;let d,c,u;return r!==a&&(u=r-a,c=l>.5?u/(2-r-a):u/(r+a),d=yC(t,n,o,u,r),d=d*60+.5),[d|0,c||0,l]}function Zh(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(li)}function ep(s,e,t){return Zh(ny,s,e,t)}function bC(s,e,t){return Zh(vC,s,e,t)}function xC(s,e,t){return Zh(_C,s,e,t)}function oy(s){return(s%360+360)%360}function wC(s){const e=gC.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?da(+e[5]):li(+e[5]));const o=oy(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=bC(o,r,a):e[1]==="hsv"?n=xC(o,r,a):n=ep(o,r,a),{r:n[0],g:n[1],b:n[2],a:t}}function kC(s,e){var t=Qh(s);t[0]=oy(t[0]+e),t=ep(t),s.r=t[0],s.g=t[1],s.b=t[2]}function $C(s){if(!s)return;const e=Qh(s),t=e[0],n=g0(e[1]),o=g0(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${o}%, ${xo(s.a)})`:`hsl(${t}, ${n}%, ${o}%)`}const _0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},v0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function CC(){const s={},e=Object.keys(v0),t=Object.keys(_0);let n,o,r,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],o=0;o<t.length;o++)r=t[o],l=l.replace(r,_0[r]);r=parseInt(v0[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Ol;function SC(s){Ol||(Ol=CC(),Ol.transparent=[0,0,0,0]);const e=Ol[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TC(s){const e=MC.exec(s);let t=255,n,o,r;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?da(a):Qo(a*255,0,255)}return n=+e[1],o=+e[3],r=+e[5],n=255&(e[2]?da(n):Qo(n,0,255)),o=255&(e[4]?da(o):Qo(o,0,255)),r=255&(e[6]?da(r):Qo(r,0,255)),{r:n,g:o,b:r,a:t}}}function DC(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${xo(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Nu=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,rr=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function AC(s,e,t){const n=rr(xo(s.r)),o=rr(xo(s.g)),r=rr(xo(s.b));return{r:li(Nu(n+t*(rr(xo(e.r))-n))),g:li(Nu(o+t*(rr(xo(e.g))-o))),b:li(Nu(r+t*(rr(xo(e.b))-r))),a:s.a+t*(e.a-s.a)}}function Il(s,e,t){if(s){let n=Qh(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=ep(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function iy(s,e){return s&&Object.assign(e||{},s)}function y0(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=li(s[3]))):(e=iy(s,{r:0,g:0,b:0,a:1}),e.a=li(e.a)),e}function EC(s){return s.charAt(0)==="r"?TC(s):wC(s)}class Ya{constructor(e){if(e instanceof Ya)return e;const t=typeof e;let n;t==="object"?n=y0(e):t==="string"&&(n=hC(e)||SC(e)||EC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=iy(this._rgb);return e&&(e.a=xo(e.a)),e}set rgb(e){this._rgb=y0(e)}rgbString(){return this._valid?DC(this._rgb):void 0}hexString(){return this._valid?mC(this._rgb):void 0}hslString(){return this._valid?$C(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,o=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,d=n.a-o.a,c=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;r=1-c,n.r=255&c*n.r+r*o.r+.5,n.g=255&c*n.g+r*o.g+.5,n.b=255&c*n.b+r*o.b+.5,n.a=a*n.a+(1-a)*o.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=AC(this._rgb,e._rgb,t)),this}clone(){return new Ya(this.rgb)}alpha(e){return this._rgb.a=li(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=fl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Il(this._rgb,2,e),this}darken(e){return Il(this._rgb,2,-e),this}saturate(e){return Il(this._rgb,1,e),this}desaturate(e){return Il(this._rgb,1,-e),this}rotate(e){return kC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function go(){}const PC=(()=>{let s=0;return()=>s++})();function kt(s){return s==null}function Yt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function yt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Qt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function mn(s,e){return Qt(s)?s:e}function ht(s,e){return typeof s>"u"?e:s}const RC=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,ry=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Wt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Rt(s,e,t,n){let o,r,a;if(Yt(s))if(r=s.length,n)for(o=r-1;o>=0;o--)e.call(t,s[o],o);else for(o=0;o<r;o++)e.call(t,s[o],o);else if(yt(s))for(a=Object.keys(s),r=a.length,o=0;o<r;o++)e.call(t,s[a[o]],a[o])}function Hd(s,e){let t,n,o,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(o=s[t],r=e[t],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Wd(s){if(Yt(s))return s.map(Wd);if(yt(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let o=0;for(;o<n;++o)e[t[o]]=Wd(s[t[o]]);return e}return s}function ay(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function OC(s,e,t,n){if(!ay(s))return;const o=e[s],r=t[s];yt(o)&&yt(r)?Ga(o,r,n):e[s]=Wd(r)}function Ga(s,e,t){const n=Yt(e)?e:[e],o=n.length;if(!yt(s))return s;t=t||{};const r=t.merger||OC;let a;for(let l=0;l<o;++l){if(a=n[l],!yt(a))continue;const d=Object.keys(a);for(let c=0,u=d.length;c<u;++c)r(d[c],s,a,t)}return s}function Da(s,e){return Ga(s,e,{merger:IC})}function IC(s,e,t){if(!ay(s))return;const n=e[s],o=t[s];yt(n)&&yt(o)?Da(n,o):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Wd(o))}const b0={"":s=>s,x:s=>s.x,y:s=>s.y};function jC(s){const e=s.split("."),t=[];let n="";for(const o of e)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function LC(s){const e=jC(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Ji(s,e){return(b0[e]||(b0[e]=LC(e)))(s)}function tp(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Xa=s=>typeof s<"u",fi=s=>typeof s=="function",x0=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function FC(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const It=Math.PI,qt=2*It,NC=qt+It,qd=Number.POSITIVE_INFINITY,zC=It/180,ss=It/2,Si=It/4,w0=It*2/3,Zo=Math.log10,io=Math.sign;function Aa(s,e,t){return Math.abs(s-e)<t}function k0(s){const e=Math.round(s);s=Aa(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Zo(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function BC(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((o,r)=>o-r).pop(),e}function UC(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Ja(s){return!UC(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function VC(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function ly(s,e,t){let n,o,r;for(n=0,o=s.length;n<o;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function oo(s){return s*(It/180)}function sp(s){return s*(180/It)}function $0(s){if(!Qt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function dy(s,e){const t=e.x-s.x,n=e.y-s.y,o=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*It&&(r+=qt),{angle:r,distance:o}}function Kf(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function HC(s,e){return(s-e+NC)%qt-It}function Rs(s){return(s%qt+qt)%qt}function Qa(s,e,t,n){const o=Rs(s),r=Rs(e),a=Rs(t),l=Rs(r-o),d=Rs(a-o),c=Rs(o-r),u=Rs(o-a);return o===r||o===a||n&&r===a||l>d&&c<u}function Fs(s,e,t){return Math.max(e,Math.min(t,s))}function WC(s){return Fs(s,-32768,32767)}function Co(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function np(s,e,t){t=t||(a=>s[a]<e);let n=s.length-1,o=0,r;for(;n-o>1;)r=o+n>>1,t(r)?o=r:n=r;return{lo:o,hi:n}}const Ui=(s,e,t,n)=>np(s,t,n?o=>{const r=s[o][e];return r<t||r===t&&s[o+1][e]===t}:o=>s[o][e]<t),qC=(s,e,t)=>np(s,t,n=>s[n][e]>=t);function KC(s,e,t){let n=0,o=s.length;for(;n<o&&s[n]<e;)n++;for(;o>n&&s[o-1]>t;)o--;return n>0||o<s.length?s.slice(n,o):s}const cy=["push","pop","shift","splice","unshift"];function YC(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cy.forEach(t=>{const n="_onData"+tp(t),o=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=o.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),a}})})}function C0(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,o=n.indexOf(e);o!==-1&&n.splice(o,1),!(n.length>0)&&(cy.forEach(r=>{delete s[r]}),delete s._chartjs)}function uy(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const fy=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function hy(s,e){let t=[],n=!1;return function(...o){t=o,n||(n=!0,fy.call(window,()=>{n=!1,s.apply(e,t)}))}}function GC(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const py=s=>s==="start"?"left":s==="end"?"right":"center",hn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,XC=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function JC(s,e,t){const n=e.length;let o=0,r=n;if(s._sorted){const{iScale:a,vScale:l,_parsed:d}=s,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,u=a.axis,{min:h,max:p,minDefined:g,maxDefined:v}=a.getUserBounds();if(g){if(o=Math.min(Ui(d,u,h).lo,t?n:Ui(e,u,a.getPixelForValue(h)).lo),c){const x=d.slice(0,o+1).reverse().findIndex(y=>!kt(y[l.axis]));o-=Math.max(0,x)}o=Fs(o,0,n-1)}if(v){let x=Math.max(Ui(d,a.axis,p,!0).hi+1,t?0:Ui(e,u,a.getPixelForValue(p),!0).hi+1);if(c){const y=d.slice(x-1).findIndex($=>!kt($[l.axis]));x+=Math.max(0,y)}r=Fs(x,o,n)-o}else r=n-o}return{start:o,count:r}}function QC(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=o,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,o),r}const jl=s=>s===0||s===1,S0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*qt/t)),M0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*qt/t)+1,Ea={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ss)+1,easeOutSine:s=>Math.sin(s*ss),easeInOutSine:s=>-.5*(Math.cos(It*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>jl(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>jl(s)?s:S0(s,.075,.3),easeOutElastic:s=>jl(s)?s:M0(s,.075,.3),easeInOutElastic(s){return jl(s)?s:s<.5?.5*S0(s*2,.1125,.45):.5+.5*M0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Ea.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Ea.easeInBounce(s*2)*.5:Ea.easeOutBounce(s*2-1)*.5+.5};function op(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function T0(s){return op(s)?s:new Ya(s)}function zu(s){return op(s)?s:new Ya(s).saturate(.5).darken(.1).hexString()}const ZC=["x","y","borderWidth","radius","tension"],e8=["color","borderColor","backgroundColor"];function t8(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:e8},numbers:{type:"number",properties:ZC}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function s8(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const D0=new Map;function n8(s,e){e=e||{};const t=s+JSON.stringify(e);let n=D0.get(t);return n||(n=new Intl.NumberFormat(s,e),D0.set(t,n)),n}function Wc(s,e,t){return n8(e,t).format(s)}const my={values(s){return Yt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let o,r=s;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),r=o8(s,t)}const a=Zo(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Wc(s,n,d)},logarithmic(s,e,t){if(s===0)return"0";const n=t[e].significand||s/Math.pow(10,Math.floor(Zo(s)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?my.numeric.call(this,s,e,t):""}};function o8(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var qc={formatters:my};function i8(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qi=Object.create(null),Yf=Object.create(null);function Pa(s,e){if(!e)return s;const t=e.split(".");for(let n=0,o=t.length;n<o;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function Bu(s,e,t){return typeof e=="string"?Ga(Pa(s,e),t):Ga(Pa(s,""),e)}class r8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>zu(o.backgroundColor),this.hoverBorderColor=(n,o)=>zu(o.borderColor),this.hoverColor=(n,o)=>zu(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Bu(this,e,t)}get(e){return Pa(this,e)}describe(e,t){return Bu(Yf,e,t)}override(e,t){return Bu(Qi,e,t)}route(e,t,n,o){const r=Pa(this,e),a=Pa(this,n),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[l],c=a[o];return yt(d)?Object.assign({},c,d):ht(d,c)},set(d){this[l]=d}}})}apply(e){e.forEach(t=>t(this))}}var Zt=new r8({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[t8,s8,i8]);function a8(s){return!s||kt(s.size)||kt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Kd(s,e,t,n,o){let r=e[o];return r||(r=e[o]=s.measureText(o).width,t.push(o)),r>n&&(n=r),n}function l8(s,e,t,n){n=n||{};let o=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},r=n.garbageCollect=[],n.font=e),s.save(),s.font=e;let a=0;const l=t.length;let d,c,u,h,p;for(d=0;d<l;d++)if(h=t[d],h!=null&&!Yt(h))a=Kd(s,o,r,a,h);else if(Yt(h))for(c=0,u=h.length;c<u;c++)p=h[c],p!=null&&!Yt(p)&&(a=Kd(s,o,r,a,p));s.restore();const g=r.length/2;if(g>t.length){for(d=0;d<g;d++)delete o[r[d]];r.splice(0,g)}return a}function Mi(s,e,t){const n=s.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*n)/n+o}function A0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Gf(s,e,t,n){gy(s,e,t,n,null)}function gy(s,e,t,n,o){let r,a,l,d,c,u,h,p;const g=e.pointStyle,v=e.rotation,x=e.radius;let y=(v||0)*zC;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(y),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(x)||x<=0)){switch(s.beginPath(),g){default:o?s.ellipse(t,n,o/2,x,0,0,qt):s.arc(t,n,x,0,qt),s.closePath();break;case"triangle":u=o?o/2:x,s.moveTo(t+Math.sin(y)*u,n-Math.cos(y)*x),y+=w0,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*x),y+=w0,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*x),s.closePath();break;case"rectRounded":c=x*.516,d=x-c,a=Math.cos(y+Si)*d,h=Math.cos(y+Si)*(o?o/2-c:d),l=Math.sin(y+Si)*d,p=Math.sin(y+Si)*(o?o/2-c:d),s.arc(t-h,n-l,c,y-It,y-ss),s.arc(t+p,n-a,c,y-ss,y),s.arc(t+h,n+l,c,y,y+ss),s.arc(t-p,n+a,c,y+ss,y+It),s.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*x,u=o?o/2:d,s.rect(t-u,n-d,2*u,2*d);break}y+=Si;case"rectRot":h=Math.cos(y)*(o?o/2:x),a=Math.cos(y)*x,l=Math.sin(y)*x,p=Math.sin(y)*(o?o/2:x),s.moveTo(t-h,n-l),s.lineTo(t+p,n-a),s.lineTo(t+h,n+l),s.lineTo(t-p,n+a),s.closePath();break;case"crossRot":y+=Si;case"cross":h=Math.cos(y)*(o?o/2:x),a=Math.cos(y)*x,l=Math.sin(y)*x,p=Math.sin(y)*(o?o/2:x),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"star":h=Math.cos(y)*(o?o/2:x),a=Math.cos(y)*x,l=Math.sin(y)*x,p=Math.sin(y)*(o?o/2:x),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a),y+=Si,h=Math.cos(y)*(o?o/2:x),a=Math.cos(y)*x,l=Math.sin(y)*x,p=Math.sin(y)*(o?o/2:x),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"line":a=o?o/2:Math.cos(y)*x,l=Math.sin(y)*x,s.moveTo(t-a,n-l),s.lineTo(t+a,n+l);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(y)*(o?o/2:x),n+Math.sin(y)*x);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function So(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Kc(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Yc(s){s.restore()}function d8(s,e,t,n,o){if(!e)return s.lineTo(t.x,t.y);if(o==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else o==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function c8(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function u8(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),kt(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function f8(s,e,t,n,o){if(o.strikethrough||o.underline){const r=s.measureText(n),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,d=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=o.strikethrough?(d+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=o.decorationWidth||2,s.moveTo(a,u),s.lineTo(l,u),s.stroke()}}function h8(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Dr(s,e,t,n,o,r={}){const a=Yt(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let d,c;for(s.save(),s.font=o.string,u8(s,r),d=0;d<a.length;++d)c=a[d],r.backdrop&&h8(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),kt(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(c,t,n,r.maxWidth)),s.fillText(c,t,n,r.maxWidth),f8(s,t,n,c,r),n+=Number(o.lineHeight);s.restore()}function Za(s,e){const{x:t,y:n,w:o,h:r,radius:a}=e;s.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*It,It,!0),s.lineTo(t,n+r-a.bottomLeft),s.arc(t+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,It,ss,!0),s.lineTo(t+o-a.bottomRight,n+r),s.arc(t+o-a.bottomRight,n+r-a.bottomRight,a.bottomRight,ss,0,!0),s.lineTo(t+o,n+a.topRight),s.arc(t+o-a.topRight,n+a.topRight,a.topRight,0,-ss,!0),s.lineTo(t+a.topLeft,n)}const p8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g8(s,e){const t=(""+s).match(p8);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const _8=s=>+s||0;function ip(s,e){const t={},n=yt(e),o=n?Object.keys(e):e,r=yt(s)?n?a=>ht(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of o)t[a]=_8(r(a));return t}function _y(s){return ip(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Wi(s){return ip(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Xs(s){const e=_y(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ks(s,e){s=s||{},e=e||Zt.font;let t=ht(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=ht(s.style,e.style);n&&!(""+n).match(m8)&&(n=void 0);const o={family:ht(s.family,e.family),lineHeight:g8(ht(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:ht(s.weight,e.weight),string:""};return o.string=a8(o),o}function Ll(s,e,t,n){let o=!0,r,a,l;for(r=0,a=s.length;r<a;++r)if(l=s[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),o=!1),t!==void 0&&Yt(l)&&(l=l[t%l.length],o=!1),l!==void 0))return n&&!o&&(n.cacheable=!1),l}function v8(s,e,t){const{min:n,max:o}=s,r=ry(e,(o-n)/2),a=(l,d)=>t&&l===0?0:l+d;return{min:a(n,-Math.abs(r)),max:a(o,r)}}function _i(s,e){return Object.assign(Object.create(s),e)}function rp(s,e=[""],t,n,o=()=>s[0]){const r=t||s;typeof n>"u"&&(n=xy("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:o,override:l=>rp([l,...s],e,r,n)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete s[0][d],!0},get(l,d){return yy(l,d,()=>S8(d,e,s,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,d){return P0(l).includes(d)},ownKeys(l){return P0(l)},set(l,d,c){const u=l._storage||(l._storage=o());return l[d]=u[d]=c,delete l._keys,!0}})}function Ar(s,e,t,n){const o={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:vy(s,n),setContext:r=>Ar(s,r,t,n),override:r=>Ar(s.override(r),e,t,n)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return yy(r,a,()=>b8(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function vy(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:o=e.allKeys}=s;return{allKeys:o,scriptable:t,indexable:n,isScriptable:fi(t)?t:()=>t,isIndexable:fi(n)?n:()=>n}}const y8=(s,e)=>s?s+tp(e):e,ap=(s,e)=>yt(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yy(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function b8(s,e,t){const{_proxy:n,_context:o,_subProxy:r,_descriptors:a}=s;let l=n[e];return fi(l)&&a.isScriptable(e)&&(l=x8(e,l,s,t)),Yt(l)&&l.length&&(l=w8(e,l,s,a.isIndexable)),ap(e,l)&&(l=Ar(l,o,r&&r[e],a)),l}function x8(s,e,t,n){const{_proxy:o,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let d=e(r,a||n);return l.delete(s),ap(s,d)&&(d=lp(o._scopes,o,s,d)),d}function w8(s,e,t,n){const{_proxy:o,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(yt(e[0])){const d=e,c=o._scopes.filter(u=>u!==d);e=[];for(const u of d){const h=lp(c,o,s,u);e.push(Ar(h,r,a&&a[s],l))}}return e}function by(s,e,t){return fi(s)?s(e,t):s}const k8=(s,e)=>s===!0?e:typeof s=="string"?Ji(e,s):void 0;function $8(s,e,t,n,o){for(const r of e){const a=k8(t,r);if(a){s.add(a);const l=by(a._fallback,t,o);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function lp(s,e,t,n){const o=e._rootScopes,r=by(e._fallback,t,n),a=[...s,...o],l=new Set;l.add(n);let d=E0(l,a,t,r||t,n);return d===null||typeof r<"u"&&r!==t&&(d=E0(l,a,r,d,n),d===null)?!1:rp(Array.from(l),[""],o,r,()=>C8(e,t,n))}function E0(s,e,t,n,o){for(;t;)t=$8(s,e,t,n,o);return t}function C8(s,e,t){const n=s._getTarget();e in n||(n[e]={});const o=n[e];return Yt(o)&&yt(t)?t:o||{}}function S8(s,e,t,n){let o;for(const r of e)if(o=xy(y8(r,s),t),typeof o<"u")return ap(s,o)?lp(t,n,s,o):o}function xy(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function P0(s){let e=s._keys;return e||(e=s._keys=M8(s._scopes)),e}function M8(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(n);return Array.from(e)}const T8=Number.EPSILON||1e-14,Er=(s,e)=>e<s.length&&!s[e].skip&&s[e],wy=s=>s==="x"?"y":"x";function D8(s,e,t,n){const o=s.skip?e:s,r=e,a=t.skip?e:t,l=Kf(r,o),d=Kf(a,r);let c=l/(l+d),u=d/(l+d);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,p=n*u;return{previous:{x:r.x-h*(a.x-o.x),y:r.y-h*(a.y-o.y)},next:{x:r.x+p*(a.x-o.x),y:r.y+p*(a.y-o.y)}}}function A8(s,e,t){const n=s.length;let o,r,a,l,d,c=Er(s,0);for(let u=0;u<n-1;++u)if(d=c,c=Er(s,u+1),!(!d||!c)){if(Aa(e[u],0,T8)){t[u]=t[u+1]=0;continue}o=t[u]/e[u],r=t[u+1]/e[u],l=Math.pow(o,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[u]=o*a*e[u],t[u+1]=r*a*e[u])}}function E8(s,e,t="x"){const n=wy(t),o=s.length;let r,a,l,d=Er(s,0);for(let c=0;c<o;++c){if(a=l,l=d,d=Er(s,c+1),!l)continue;const u=l[t],h=l[n];a&&(r=(u-a[t])/3,l[`cp1${t}`]=u-r,l[`cp1${n}`]=h-r*e[c]),d&&(r=(d[t]-u)/3,l[`cp2${t}`]=u+r,l[`cp2${n}`]=h+r*e[c])}}function P8(s,e="x"){const t=wy(e),n=s.length,o=Array(n).fill(0),r=Array(n);let a,l,d,c=Er(s,0);for(a=0;a<n;++a)if(l=d,d=c,c=Er(s,a+1),!!d){if(c){const u=c[e]-d[e];o[a]=u!==0?(c[t]-d[t])/u:0}r[a]=l?c?io(o[a-1])!==io(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}A8(s,o,r),E8(s,r,e)}function Fl(s,e,t){return Math.max(Math.min(s,t),e)}function R8(s,e){let t,n,o,r,a,l=So(s[0],e);for(t=0,n=s.length;t<n;++t)a=r,r=l,l=t<n-1&&So(s[t+1],e),r&&(o=s[t],a&&(o.cp1x=Fl(o.cp1x,e.left,e.right),o.cp1y=Fl(o.cp1y,e.top,e.bottom)),l&&(o.cp2x=Fl(o.cp2x,e.left,e.right),o.cp2y=Fl(o.cp2y,e.top,e.bottom)))}function O8(s,e,t,n,o){let r,a,l,d;if(e.spanGaps&&(s=s.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")P8(s,o);else{let c=n?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],d=D8(c,l,s[Math.min(r+1,a-(n?0:1))%a],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,c=l}e.capBezierPoints&&R8(s,t)}function dp(){return typeof window<"u"&&typeof document<"u"}function cp(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yd(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const Gc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function I8(s,e){return Gc(s).getPropertyValue(e)}const j8=["top","right","bottom","left"];function qi(s,e,t){const n={};t=t?"-"+t:"";for(let o=0;o<4;o++){const r=j8[o];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const L8=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function F8(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:o,offsetY:r}=n;let a=!1,l,d;if(L8(o,r,s.target))l=o,d=r;else{const c=e.getBoundingClientRect();l=n.clientX-c.left,d=n.clientY-c.top,a=!0}return{x:l,y:d,box:a}}function Oi(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,o=Gc(t),r=o.boxSizing==="border-box",a=qi(o,"padding"),l=qi(o,"border","width"),{x:d,y:c,box:u}=F8(s,t),h=a.left+(u&&l.left),p=a.top+(u&&l.top);let{width:g,height:v}=e;return r&&(g-=a.width+l.width,v-=a.height+l.height),{x:Math.round((d-h)/g*t.width/n),y:Math.round((c-p)/v*t.height/n)}}function N8(s,e,t){let n,o;if(e===void 0||t===void 0){const r=s&&cp(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=Gc(r),d=qi(l,"border","width"),c=qi(l,"padding");e=a.width-c.width-d.width,t=a.height-c.height-d.height,n=Yd(l.maxWidth,r,"clientWidth"),o=Yd(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||qd,maxHeight:o||qd}}const ei=s=>Math.round(s*10)/10;function z8(s,e,t,n){const o=Gc(s),r=qi(o,"margin"),a=Yd(o.maxWidth,s,"clientWidth")||qd,l=Yd(o.maxHeight,s,"clientHeight")||qd,d=N8(s,e,t);let{width:c,height:u}=d;if(o.boxSizing==="content-box"){const p=qi(o,"border","width"),g=qi(o,"padding");c-=g.width+p.width,u-=g.height+p.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=ei(Math.min(c,a,d.maxWidth)),u=ei(Math.min(u,l,d.maxHeight)),c&&!u&&(u=ei(c/2)),(e!==void 0||t!==void 0)&&n&&d.height&&u>d.height&&(u=d.height,c=ei(Math.floor(u*n))),{width:c,height:u}}function R0(s,e,t){const n=e||1,o=ei(s.height*n),r=ei(s.width*n);s.height=ei(s.height),s.width=ei(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||a.height!==o||a.width!==r?(s.currentDevicePixelRatio=n,a.height=o,a.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const B8=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};dp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function O0(s,e){const t=I8(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ii(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function U8(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function V8(s,e,t,n){const o={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=Ii(s,o,t),l=Ii(o,r,t),d=Ii(r,e,t),c=Ii(a,l,t),u=Ii(l,d,t);return Ii(c,u,t)}const H8=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},W8=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function vr(s,e,t){return s?H8(e,t):W8()}function ky(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function $y(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Cy(s){return s==="angle"?{between:Qa,compare:HC,normalize:Rs}:{between:Co,compare:(e,t)=>e-t,normalize:e=>e}}function I0({start:s,end:e,count:t,loop:n,style:o}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:o}}function q8(s,e,t){const{property:n,start:o,end:r}=t,{between:a,normalize:l}=Cy(n),d=e.length;let{start:c,end:u,loop:h}=s,p,g;if(h){for(c+=d,u+=d,p=0,g=d;p<g&&a(l(e[c%d][n]),o,r);++p)c--,u--;c%=d,u%=d}return u<c&&(u+=d),{start:c,end:u,loop:h,style:s.style}}function Sy(s,e,t){if(!t)return[s];const{property:n,start:o,end:r}=t,a=e.length,{compare:l,between:d,normalize:c}=Cy(n),{start:u,end:h,loop:p,style:g}=q8(s,e,t),v=[];let x=!1,y=null,$,w,S;const C=()=>d(o,S,$)&&l(o,S)!==0,T=()=>l(r,$)===0||d(r,S,$),F=()=>x||C(),L=()=>!x||T();for(let z=u,j=u;z<=h;++z)w=e[z%a],!w.skip&&($=c(w[n]),$!==S&&(x=d($,o,r),y===null&&F()&&(y=l($,o)===0?z:j),y!==null&&L()&&(v.push(I0({start:y,end:z,loop:p,count:a,style:g})),y=null),j=z,S=$));return y!==null&&v.push(I0({start:y,end:h,loop:p,count:a,style:g})),v}function My(s,e){const t=[],n=s.segments;for(let o=0;o<n.length;o++){const r=Sy(n[o],s.points,e);r.length&&t.push(...r)}return t}function K8(s,e,t,n){let o=0,r=e-1;if(t&&!n)for(;o<e&&!s[o].skip;)o++;for(;o<e&&s[o].skip;)o++;for(o%=e,t&&(r+=o);r>o&&s[r%e].skip;)r--;return r%=e,{start:o,end:r}}function Y8(s,e,t,n){const o=s.length,r=[];let a=e,l=s[e],d;for(d=e+1;d<=t;++d){const c=s[d%o];c.skip||c.stop?l.skip||(n=!1,r.push({start:e%o,end:(d-1)%o,loop:n}),e=a=c.stop?d:null):(a=d,l.skip&&(e=d)),l=c}return a!==null&&r.push({start:e%o,end:a%o,loop:n}),r}function G8(s,e){const t=s.points,n=s.options.spanGaps,o=t.length;if(!o)return[];const r=!!s._loop,{start:a,end:l}=K8(t,o,r,n);if(n===!0)return j0(s,[{start:a,end:l,loop:r}],t,e);const d=l<a?l+o:l,c=!!s._fullLoop&&a===0&&l===o-1;return j0(s,Y8(t,a,d,c),t,e)}function j0(s,e,t,n){return!n||!n.setContext||!t?e:X8(s,e,t,n)}function X8(s,e,t,n){const o=s._chart.getContext(),r=L0(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,d=t.length,c=[];let u=r,h=e[0].start,p=h;function g(v,x,y,$){const w=l?-1:1;if(v!==x){for(v+=d;t[v%d].skip;)v-=w;for(;t[x%d].skip;)x+=w;v%d!==x%d&&(c.push({start:v%d,end:x%d,loop:y,style:$}),u=$,h=x%d)}}for(const v of e){h=l?h:v.start;let x=t[h%d],y;for(p=h+1;p<=v.end;p++){const $=t[p%d];y=L0(n.setContext(_i(o,{type:"segment",p0:x,p1:$,p0DataIndex:(p-1)%d,p1DataIndex:p%d,datasetIndex:a}))),J8(y,u)&&g(h,p-1,v.loop,u),x=$,u=y}h<p-1&&g(h,p-1,v.loop,u)}return c}function L0(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function J8(s,e){if(!e)return!1;const t=[],n=function(o,r){return op(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}function Nl(s,e,t){return s.options.clip?s[t]:e[t]}function Q8(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:Nl(t,e,"left"),right:Nl(t,e,"right"),top:Nl(n,e,"top"),bottom:Nl(n,e,"bottom")}:e}function Ty(s,e){const t=e._clip;if(t.disabled)return!1;const n=Q8(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Z8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,o){const r=t.listeners[o],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=fy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,l=!1,d;for(;a>=0;--a)d=r[a],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(o.draw(),this._notify(o,n,e,"progress")),r.length||(n.running=!1,this._notify(o,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _o=new Z8;const F0="transparent",eS={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=T0(s||F0),o=n.valid&&T0(e||F0);return o&&o.valid?o.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class tS{constructor(e,t,n,o){const r=t[n];o=Ll([e.to,o,r,e.from]);const a=Ll([e.from,r,o]);this._active=!0,this._fn=e.fn||eS[e.type||typeof a],this._easing=Ea[e.easing]||Ea.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const o=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ll([e.to,t,o,e.from]),this._from=Ll([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,o=this._prop,r=this._from,a=this._loop,l=this._to;let d;if(this._active=r!==l&&(a||t<n),!this._active){this._target[o]=l,this._notify(!0);return}if(t<0){this._target[o]=r;return}d=t/n%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[o]=this._fn(r,l,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][t]()}}class Dy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!yt(e))return;const t=Object.keys(Zt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!yt(r))return;const a={};for(const l of t)a[l]=r[l];(Yt(r.properties)&&r.properties||[o]).forEach(l=>{(l===o||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,t){const n=t.options,o=nS(e,n);if(!o)return[];const r=this._createAnimations(o,n);return n.$shared&&sS(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,o=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const c=a[d];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(e,t));continue}const u=t[c];let h=r[c];const p=n.get(c);if(h)if(p&&h.active()){h.update(p,u,l);continue}else h.cancel();if(!p||!p.duration){e[c]=u;continue}r[c]=h=new tS(p,e,c,u),o.push(h)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return _o.add(this._chart,n),!0}}function sS(s,e){const t=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const r=s[n[o]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function nS(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function N0(s,e){const t=s&&s.options||{},n=t.reverse,o=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:o,end:n?o:r}}function oS(s,e,t){if(t===!1)return!1;const n=N0(s,t),o=N0(e,t);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function iS(s){let e,t,n,o;return yt(s)?(e=s.top,t=s.right,n=s.bottom,o=s.left):e=t=n=o=s,{top:e,right:t,bottom:n,left:o,disabled:s===!1}}function Ay(s,e){const t=[],n=s._getSortedDatasetMetas(e);let o,r;for(o=0,r=n.length;o<r;++o)t.push(n[o].index);return t}function z0(s,e,t,n={}){const o=s.keys,r=n.mode==="single";let a,l,d,c;if(e===null)return;let u=!1;for(a=0,l=o.length;a<l;++a){if(d=+o[a],d===t){if(u=!0,n.all)continue;break}c=s.values[d],Qt(c)&&(r||e===0||io(e)===io(c))&&(e+=c)}return!u&&!n.all?0:e}function rS(s,e){const{iScale:t,vScale:n}=e,o=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let d,c,u;for(d=0,c=a.length;d<c;++d)u=a[d],l[d]={[o]:u,[r]:s[u]};return l}function Uu(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function aS(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function lS(s){const{min:e,max:t,minDefined:n,maxDefined:o}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function dS(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function B0(s,e,t,n){for(const o of e.getMatchingVisibleMetas(n).reverse()){const r=s[o.index];if(t&&r>0||!t&&r<0)return o.index}return null}function U0(s,e){const{chart:t,_cachedMeta:n}=s,o=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=n,d=r.axis,c=a.axis,u=aS(r,a,n),h=e.length;let p;for(let g=0;g<h;++g){const v=e[g],{[d]:x,[c]:y}=v,$=v._stacks||(v._stacks={});p=$[c]=dS(o,u,x),p[l]=y,p._top=B0(p,a,!0,n.type),p._bottom=B0(p,a,!1,n.type);const w=p._visualValues||(p._visualValues={});w[l]=y}}function Vu(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function cS(s,e){return _i(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function uS(s,e,t){return _i(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ea(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const o of e){const r=o._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const Hu=s=>s==="reset"||s==="none",V0=(s,e)=>e?s:Object.assign({},s),fS=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Ay(t,!0),values:null};class Ki{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Uu(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&ea(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),o=(h,p,g,v)=>h==="x"?p:h==="r"?v:g,r=t.xAxisID=ht(n.xAxisID,Vu(e,"x")),a=t.yAxisID=ht(n.yAxisID,Vu(e,"y")),l=t.rAxisID=ht(n.rAxisID,Vu(e,"r")),d=t.indexAxis,c=t.iAxisID=o(d,r,a,l),u=t.vAxisID=o(d,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&C0(this._data,this),e._stacked&&ea(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(yt(t)){const o=this._cachedMeta;this._data=rS(t,o)}else if(n!==t){if(n){C0(n,this);const o=this._cachedMeta;ea(o),o._parsed=[]}t&&Object.isExtensible(t)&&YC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const r=t._stacked;t._stacked=Uu(t.vScale,t),t.stack!==n.stack&&(o=!0,ea(t),t.stack=n.stack),this._resyncElements(e),(o||r!==t._stacked)&&(U0(this,t._parsed),t._stacked=Uu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:a}=n,l=r.axis;let d=e===0&&t===o.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,p;if(this._parsing===!1)n._parsed=o,n._sorted=!0,p=o;else{Yt(o[e])?p=this.parseArrayData(n,o,e,t):yt(o[e])?p=this.parseObjectData(n,o,e,t):p=this.parsePrimitiveData(n,o,e,t);const g=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<t;++u)n._parsed[u+e]=h=p[u],d&&(g()&&(d=!1),c=h);n._sorted=d}a&&U0(this,p)}parsePrimitiveData(e,t,n,o){const{iScale:r,vScale:a}=e,l=r.axis,d=a.axis,c=r.getLabels(),u=r===a,h=new Array(o);let p,g,v;for(p=0,g=o;p<g;++p)v=p+n,h[p]={[l]:u||r.parse(c[v],v),[d]:a.parse(t[v],v)};return h}parseArrayData(e,t,n,o){const{xScale:r,yScale:a}=e,l=new Array(o);let d,c,u,h;for(d=0,c=o;d<c;++d)u=d+n,h=t[u],l[d]={x:r.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,t,n,o){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=new Array(o);let u,h,p,g;for(u=0,h=o;u<h;++u)p=u+n,g=t[p],c[u]={x:r.parse(Ji(g,l),p),y:a.parse(Ji(g,d),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const o=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:Ay(o,!0),values:t._stacks[e.axis]._visualValues};return z0(l,a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,o){const r=n[t.axis];let a=r===null?NaN:r;const l=o&&n._stacks[t.axis];o&&l&&(o.values=l,a=z0(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,o=n._parsed,r=n._sorted&&e===n.iScale,a=o.length,l=this._getOtherScale(e),d=fS(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=lS(l);let p,g;function v(){g=o[p];const x=g[l.axis];return!Qt(g[e.axis])||u>x||h<x}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(c,e,g,d),r));++p);if(r){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(c,e,g,d);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let o,r,a;for(o=0,r=t.length;o<r;++o)a=t[o][e.axis],Qt(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,o=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=iS(ht(this.options.clip,oS(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,o=n.data||[],r=t.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||o.length-l,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,l,d),u=l;u<l+d;++u){const h=o[u];h.hidden||(h.active&&c?a.push(h):h.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=uS(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=cS(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const o=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],d=this.enableOptionSharing&&Xa(n);if(l)return V0(l,d);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=o?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Zt.elements[e]),v=()=>this.getContext(n,o,t),x=c.resolveNamedOptions(p,g,v,h);return x.$shared&&(x.$shared=d,r[a]=Object.freeze(V0(x,d))),x}_resolveAnimations(e,t,n){const o=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let d;if(o.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),h);d=u.createResolver(p,this.getContext(e,n,t))}const c=new Dy(o,d&&d.animations);return d&&d._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Hu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),o=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==o;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,o){Hu(o)?Object.assign(e,n):this._resolveAnimations(t,o).update(e,n)}updateSharedOptions(e,t,n){e&&!Hu(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,o){e.active=o;const r=this.getStyle(t,o);this._resolveAnimations(t,n,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,d,c]of this._syncList)this[l](d,c);this._syncList=[];const o=n.length,r=t.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,t,n=!0){const o=this._cachedMeta,r=o.data,a=e+t;let l;const d=c=>{for(c.length+=t,l=c.length-1;l>=a;l--)c[l]=c[l-t]};for(d(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,o){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(e,t);n._stacked&&ea(n,o)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,o]=e;this[t](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(Ki,"defaults",{}),Fe(Ki,"datasetElementType",null),Fe(Ki,"dataElementType",null);function hS(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let o=0,r=t.length;o<r;o++)n=n.concat(t[o].controller.getAllParsedValues(s));s._cache.$bar=uy(n.sort((o,r)=>o-r))}return s._cache.$bar}function pS(s){const e=s.iScale,t=hS(e,s.type);let n=e._length,o,r,a,l;const d=()=>{a===32767||a===-32768||(Xa(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(o=0,r=t.length;o<r;++o)a=e.getPixelForValue(t[o]),d();for(l=void 0,o=0,r=e.ticks.length;o<r;++o)a=e.getPixelForTick(o),d();return n}function mS(s,e,t,n){const o=t.barThickness;let r,a;return kt(o)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=o*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[s]-r/2}}function gS(s,e,t,n){const o=e.pixels,r=o[s];let a=s>0?o[s-1]:null,l=s<o.length-1?o[s+1]:null;const d=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const c=r-(r-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/n,ratio:t.barPercentage,start:c}}function _S(s,e,t,n){const o=t.parse(s[0],n),r=t.parse(s[1],n),a=Math.min(o,r),l=Math.max(o,r);let d=a,c=l;Math.abs(a)>Math.abs(l)&&(d=l,c=a),e[t.axis]=c,e._custom={barStart:d,barEnd:c,start:o,end:r,min:a,max:l}}function Ey(s,e,t,n){return Yt(s)?_S(s,e,t,n):e[t.axis]=t.parse(s,n),e}function H0(s,e,t,n){const o=s.iScale,r=s.vScale,a=o.getLabels(),l=o===r,d=[];let c,u,h,p;for(c=t,u=t+n;c<u;++c)p=e[c],h={},h[o.axis]=l||o.parse(a[c],c),d.push(Ey(p,h,r,c));return d}function Wu(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function vS(s,e,t){return s!==0?io(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function yS(s){let e,t,n,o,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(o="end",r="start"):(o="start",r="end"),{start:t,end:n,reverse:e,top:o,bottom:r}}function bS(s,e,t,n){let o=e.borderSkipped;const r={};if(!o){s.borderSkipped=r;return}if(o===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:d,top:c,bottom:u}=yS(s);o==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?o=c:(t._bottom||0)===n?o=u:(r[W0(u,a,l,d)]=!0,o=c)),r[W0(o,a,l,d)]=!0,s.borderSkipped=r}function W0(s,e,t,n){return n?(s=xS(s,e,t),s=q0(s,t,e)):s=q0(s,e,t),s}function xS(s,e,t){return s===e?t:s===t?e:s}function q0(s,e,t){return s==="start"?e:s==="end"?t:s}function wS(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class md extends Ki{parsePrimitiveData(e,t,n,o){return H0(e,t,n,o)}parseArrayData(e,t,n,o){return H0(e,t,n,o)}parseObjectData(e,t,n,o){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=r.axis==="x"?l:d,u=a.axis==="x"?l:d,h=[];let p,g,v,x;for(p=n,g=n+o;p<g;++p)x=t[p],v={},v[r.axis]=r.parse(Ji(x,c),p),h.push(Ey(Ji(x,u),v,a,p));return h}updateRangeFromParsed(e,t,n,o){super.updateRangeFromParsed(e,t,n,o);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:o}=t,r=this.getParsed(e),a=r._custom,l=Wu(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,o){const r=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),c=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,o);for(let g=t;g<t+n;g++){const v=this.getParsed(g),x=r||kt(v[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),y=this._calculateBarIndexPixels(g,u),$=(v._stacks||{})[l.axis],w={horizontal:c,base:x.base,enableBorderRadius:!$||Wu(v._custom)||a===$._top||a===$._bottom,x:c?x.head:y.center,y:c?y.center:x.head,height:c?y.size:Math.abs(x.size),width:c?Math.abs(x.size):y.size};p&&(w.options=h||this.resolveDataElementOptions(g,e[g].active?"active":o));const S=w.options||e[g].options;bS(w,S,$,a),wS(w,S,u.ratio),this.updateElement(e[g],g,w,o)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),d=l&&l[n.axis],c=u=>{const h=u._parsed.find(g=>g[n.axis]===d),p=h&&h[u.vScale.axis];if(kt(p)||isNaN(p))return!0};for(const u of o)if(!(t!==void 0&&c(u))&&((r===!1||a.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[ht(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const o=this._getStacks(e,n),r=t!==void 0?o.indexOf(t):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,o=[];let r,a;for(r=0,a=t.data.length;r<a;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=e.barThickness;return{min:l||pS(t),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:o},options:{base:r,minBarLength:a}}=this,l=r||0,d=this.getParsed(e),c=d._custom,u=Wu(c);let h=d[t.axis],p=0,g=n?this.applyStack(t,d,n):h,v,x;g!==h&&(p=g-h,g=h),u&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&io(h)!==io(c.barEnd)&&(p=0),p+=h);const y=!kt(r)&&!u?r:p;let $=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(p+g):v=$,x=v-$,Math.abs(x)<a){x=vS(x,t,l)*a,h===l&&($-=x/2);const w=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),C=Math.min(w,S),T=Math.max(w,S);$=Math.max(Math.min($,T),C),v=$+x,n&&!u&&(d._stacks[t.axis]._visualValues[o]=t.getValueForPixel(v)-t.getValueForPixel($))}if($===t.getPixelForValue(l)){const w=io(x)*t.getLineWidthForValue(l)/2;$+=w,x-=w}return{size:x,base:$,head:v,center:v+x/2}}_calculateBarIndexPixels(e,t){const n=t.scale,o=this.options,r=o.skipNull,a=ht(o.maxBarThickness,1/0);let l,d;const c=this._getAxisCount();if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,h=o.barThickness==="flex"?gS(e,t,o,u*c):mS(e,t,o,u*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ht(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;l=h.start+h.chunk*v+h.chunk/2,d=Math.min(a,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(a,t.min*t.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,o=n.length;let r=0;for(;r<o;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}Fe(md,"id","bar"),Fe(md,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(md,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function kS(s,e,t){let n=1,o=1,r=0,a=0;if(e<qt){const l=s,d=l+e,c=Math.cos(l),u=Math.sin(l),h=Math.cos(d),p=Math.sin(d),g=(S,C,T)=>Qa(S,l,d,!0)?1:Math.max(C,C*t,T,T*t),v=(S,C,T)=>Qa(S,l,d,!0)?-1:Math.min(C,C*t,T,T*t),x=g(0,c,h),y=g(ss,u,p),$=v(It,c,h),w=v(It+ss,u,p);n=(x-$)/2,o=(y-w)/2,r=-(x+$)/2,a=-(y+w)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:a}}class ca extends Ki{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let r=d=>+n[d];if(yt(n[e])){const{key:d="value"}=this._parsing;r=c=>+Ji(n[c],d)}let a,l;for(a=e,l=e+t;a<l;++a)o._parsed[a]=r(a)}}_getRotation(){return oo(this.options.rotation-90)}_getCircumference(){return oo(this.options.circumference)}_getRotationExtents(){let e=qt,t=-qt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),a=o._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,o=this._cachedMeta,r=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),d=Math.min(RC(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:v,offsetY:x}=kS(h,u,d),y=(n.width-a)/p,$=(n.height-a)/g,w=Math.max(Math.min(y,$)/2,0),S=ry(this.options.radius,w),C=Math.max(S*d,0),T=(S-C)/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=x*S,o.total=this.calculateTotal(),this.outerRadius=S-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,o=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/qt)}updateElements(e,t,n,o){const r=o==="reset",a=this.chart,l=a.chartArea,c=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,p=r&&c.animateScale,g=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:x,includeOptions:y}=this._getSharedOptions(t,o);let $=this._getRotation(),w;for(w=0;w<t;++w)$+=this._circumference(w,r);for(w=t;w<t+n;++w){const S=this._circumference(w,r),C=e[w],T={x:u+this.offsetX,y:h+this.offsetY,startAngle:$,endAngle:$+S,circumference:S,outerRadius:v,innerRadius:g};y&&(T.options=x||this.resolveDataElementOptions(w,C.active?"active":o)),$+=S,this.updateElement(C,w,T,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,o;for(o=0;o<t.length;o++){const r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Wc(t._parsed[e],n.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let o,r,a,l,d;if(!e){for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)d=l.resolveDataElementOptions(o),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,o=e.length;n<o;++n){const r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ht(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe(ca,"id","doughnut"),Fe(ca,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Fe(ca,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Fe(ca,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:o,color:r,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:d,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:o,pointStyle:n,borderRadius:a&&(l||h.borderRadius),index:c}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class gd extends Ki{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:d}=JC(t,o,a);this._drawStart=l,this._drawCount=d,QC(t)&&(l=0,d=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(o,l,d,e)}updateElements(e,t,n,o){const r=o==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,o),p=a.axis,g=l.axis,{spanGaps:v,segment:x}=this.options,y=Ja(v)?v:Number.POSITIVE_INFINITY,$=this.chart._animationsDisabled||r||o==="none",w=t+n,S=e.length;let C=t>0&&this.getParsed(t-1);for(let T=0;T<S;++T){const F=e[T],L=$?F:{};if(T<t||T>=w){L.skip=!0;continue}const z=this.getParsed(T),j=kt(z[g]),E=L[p]=a.getPixelForValue(z[p],T),O=L[g]=r||j?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,z,d):z[g],T);L.skip=isNaN(E)||isNaN(O)||j,L.stop=T>0&&Math.abs(z[p]-C[p])>y,x&&(L.parsed=z,L.raw=c.data[T]),h&&(L.options=u||this.resolveDataElementOptions(T,F.active?"active":o)),$||this.updateElement(F,T,L,o),C=z}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return n;const r=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Fe(gd,"id","line"),Fe(gd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Fe(gd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ti(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class up{constructor(e){Fe(this,"options");this.options=e||{}}static override(e){Object.assign(up.prototype,e)}init(){}formats(){return Ti()}parse(){return Ti()}format(){return Ti()}add(){return Ti()}diff(){return Ti()}startOf(){return Ti()}endOf(){return Ti()}}var $S={_date:up};function CS(s,e,t,n){const{controller:o,data:r,_sorted:a}=s,l=o._cachedMeta.iScale,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const c=l._reversePixels?qC:Ui;if(n){if(o._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=c(r,e,t-h),g=c(r,e,t+h);return{lo:p.lo,hi:g.hi}}}}else{const u=c(r,e,t);if(d){const{vScale:h}=o._cachedMeta,{_parsed:p}=s,g=p.slice(0,u.lo+1).reverse().findIndex(x=>!kt(x[h.axis]));u.lo-=Math.max(0,g);const v=p.slice(u.hi).findIndex(x=>!kt(x[h.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:r.length-1}}function hl(s,e,t,n,o){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,d=r.length;l<d;++l){const{index:c,data:u}=r[l],{lo:h,hi:p}=CS(r[l],e,a,o);for(let g=h;g<=p;++g){const v=u[g];v.skip||n(v,c,g)}}}function SS(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,o){const r=e?Math.abs(n.x-o.x):0,a=t?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function qu(s,e,t,n,o){const r=[];return!o&&!s.isPointInArea(e)||hl(s,t,e,function(l,d,c){!o&&!So(l,s.chartArea,0)||l.inRange(e.x,e.y,n)&&r.push({element:l,datasetIndex:d,index:c})},!0),r}function MS(s,e,t,n){let o=[];function r(a,l,d){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=dy(a,{x:e.x,y:e.y});Qa(h,c,u)&&o.push({element:a,datasetIndex:l,index:d})}return hl(s,t,e,r),o}function TS(s,e,t,n,o,r){let a=[];const l=SS(t);let d=Number.POSITIVE_INFINITY;function c(u,h,p){const g=u.inRange(e.x,e.y,o);if(n&&!g)return;const v=u.getCenterPoint(o);if(!(!!r||s.isPointInArea(v))&&!g)return;const y=l(e,v);y<d?(a=[{element:u,datasetIndex:h,index:p}],d=y):y===d&&a.push({element:u,datasetIndex:h,index:p})}return hl(s,t,e,c),a}function Ku(s,e,t,n,o,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?MS(s,e,t,o):TS(s,e,t,n,o,r)}function K0(s,e,t,n,o){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return hl(s,t,e,(d,c,u)=>{d[a]&&d[a](e[t],o)&&(r.push({element:d,datasetIndex:c,index:u}),l=l||d.inRange(e.x,e.y,o))}),n&&!l?[]:r}var DS={evaluateInteractionItems:hl,modes:{index(s,e,t,n){const o=Oi(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?qu(s,o,r,n,a):Ku(s,o,r,!1,n,a),d=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&d.push({element:h,datasetIndex:c.index,index:u})}),d):[]},dataset(s,e,t,n){const o=Oi(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?qu(s,o,r,n,a):Ku(s,o,r,!1,n,a);if(l.length>0){const d=l[0].datasetIndex,c=s.getDatasetMeta(d).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:d,index:u})}return l},point(s,e,t,n){const o=Oi(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return qu(s,o,r,n,a)},nearest(s,e,t,n){const o=Oi(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ku(s,o,r,t.intersect,n,a)},x(s,e,t,n){const o=Oi(e,s);return K0(s,o,"x",t.intersect,n)},y(s,e,t,n){const o=Oi(e,s);return K0(s,o,"y",t.intersect,n)}}};const Py=["left","top","right","bottom"];function ta(s,e){return s.filter(t=>t.pos===e)}function Y0(s,e){return s.filter(t=>Py.indexOf(t.pos)===-1&&t.box.axis===e)}function sa(s,e){return s.sort((t,n)=>{const o=e?n:t,r=e?t:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function AS(s){const e=[];let t,n,o,r,a,l;for(t=0,n=(s||[]).length;t<n;++t)o=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=o,e.push({index:t,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:l});return e}function ES(s){const e={};for(const t of s){const{stack:n,pos:o,stackWeight:r}=t;if(!n||!Py.includes(o))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function PS(s,e){const t=ES(s),{vBoxMaxWidth:n,hBoxMaxHeight:o}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:d}=l.box,c=t[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*n:d&&e.availableWidth,l.height=o):(l.width=n,l.height=u?u*o:d&&e.availableHeight)}return t}function RS(s){const e=AS(s),t=sa(e.filter(c=>c.box.fullSize),!0),n=sa(ta(e,"left"),!0),o=sa(ta(e,"right")),r=sa(ta(e,"top"),!0),a=sa(ta(e,"bottom")),l=Y0(e,"x"),d=Y0(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:o.concat(d).concat(a).concat(l),chartArea:ta(e,"chartArea"),vertical:n.concat(o).concat(d),horizontal:r.concat(a).concat(l)}}function G0(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function Ry(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function OS(s,e,t,n){const{pos:o,box:r}=t,a=s.maxPadding;if(!yt(o)){t.size&&(s[o]-=t.size);const h=n[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,s[o]+=t.size}r.getPadding&&Ry(a,r.getPadding());const l=Math.max(0,e.outerWidth-G0(a,s,"left","right")),d=Math.max(0,e.outerHeight-G0(a,s,"top","bottom")),c=l!==s.w,u=d!==s.h;return s.w=l,s.h=d,t.horizontal?{same:c,other:u}:{same:u,other:c}}function IS(s){const e=s.maxPadding;function t(n){const o=Math.max(e[n]-s[n],0);return s[n]+=o,o}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function jS(s,e){const t=e.maxPadding;function n(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return n(s?["left","right"]:["top","bottom"])}function ua(s,e,t,n){const o=[];let r,a,l,d,c,u;for(r=0,a=s.length,c=0;r<a;++r){l=s[r],d=l.box,d.update(l.width||e.w,l.height||e.h,jS(l.horizontal,e));const{same:h,other:p}=OS(e,t,l,n);c|=h&&o.length,u=u||p,d.fullSize||o.push(l)}return c&&ua(o,e,t,n)||u}function zl(s,e,t,n,o){s.top=t,s.left=e,s.right=e+n,s.bottom=t+o,s.width=n,s.height=o}function X0(s,e,t,n){const o=t.padding;let{x:r,y:a}=e;for(const l of s){const d=l.box,c=n[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,p=c.size||d.height;Xa(c.start)&&(a=c.start),d.fullSize?zl(d,o.left,a,t.outerWidth-o.right-o.left,p):zl(d,e.left+c.placed,a,h,p),c.start=a,c.placed+=h,a=d.bottom}else{const h=e.h*u,p=c.size||d.width;Xa(c.start)&&(r=c.start),d.fullSize?zl(d,r,o.top,p,t.outerHeight-o.bottom-o.top):zl(d,r,e.top+c.placed,p,h),c.start=r,c.placed+=h,r=d.right}}e.x=r,e.y=a}var ti={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const o=Xs(s.options.layout.padding),r=Math.max(e-o.width,0),a=Math.max(t-o.height,0),l=RS(s.boxes),d=l.vertical,c=l.horizontal;Rt(s.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=d.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),p=Object.assign({},o);Ry(p,Xs(n));const g=Object.assign({maxPadding:p,w:r,h:a,x:o.left,y:o.top},o),v=PS(d.concat(c),h);ua(l.fullSize,g,h,v),ua(d,g,h,v),ua(c,g,h,v)&&ua(d,g,h,v),IS(g),X0(l.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,X0(l.rightAndBottom,g,h,v),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Rt(l.chartArea,x=>{const y=x.box;Object.assign(y,s.chartArea),y.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Oy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,o){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):n)}}isAttached(e){return!0}updateConfig(e){}}class LS extends Oy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _d="$chartjs",FS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J0=s=>s===null||s==="";function NS(s,e){const t=s.style,n=s.getAttribute("height"),o=s.getAttribute("width");if(s[_d]={initial:{height:n,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",J0(o)){const r=O0(s,"width");r!==void 0&&(s.width=r)}if(J0(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=O0(s,"height");r!==void 0&&(s.height=r)}return s}const Iy=B8?{passive:!0}:!1;function zS(s,e,t){s&&s.addEventListener(e,t,Iy)}function BS(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Iy)}function US(s,e){const t=FS[s.type]||s.type,{x:n,y:o}=Oi(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:o!==void 0?o:null}}function Gd(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function VS(s,e,t){const n=s.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Gd(l.addedNodes,n),a=a&&!Gd(l.removedNodes,n);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function HS(s,e,t){const n=s.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Gd(l.removedNodes,n),a=a&&!Gd(l.addedNodes,n);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const el=new Map;let Q0=0;function jy(){const s=window.devicePixelRatio;s!==Q0&&(Q0=s,el.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function WS(s,e){el.size||window.addEventListener("resize",jy),el.set(s,e)}function qS(s){el.delete(s),el.size||window.removeEventListener("resize",jy)}function KS(s,e,t){const n=s.canvas,o=n&&cp(n);if(!o)return;const r=hy((l,d)=>{const c=o.clientWidth;t(l,d),c<o.clientWidth&&t()},window),a=new ResizeObserver(l=>{const d=l[0],c=d.contentRect.width,u=d.contentRect.height;c===0&&u===0||r(c,u)});return a.observe(o),WS(s,r),a}function Yu(s,e,t){t&&t.disconnect(),e==="resize"&&qS(s)}function YS(s,e,t){const n=s.canvas,o=hy(r=>{s.ctx!==null&&t(US(r,s))},s);return zS(n,e,o),o}class GS extends Oy{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(NS(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[_d])return!1;const n=t[_d].initial;["height","width"].forEach(r=>{const a=n[r];kt(a)?t.removeAttribute(r):t.setAttribute(r,a)});const o=n.style||{};return Object.keys(o).forEach(r=>{t.style[r]=o[r]}),t.width=t.width,delete t[_d],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),a={attach:VS,detach:HS,resize:KS}[t]||YS;o[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),o=n[t];if(!o)return;({attach:Yu,detach:Yu,resize:Yu}[t]||BS)(e,t,o),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,o){return z8(e,t,n,o)}isAttached(e){const t=e&&cp(e);return!!(t&&t.isConnected)}}function XS(s){return!dp()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?LS:GS}var nd;let vi=(nd=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ja(this.x)&&Ja(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const o={};return e.forEach(r=>{o[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),o}},Fe(nd,"defaults",{}),Fe(nd,"defaultRoutes"),nd);function JS(s,e){const t=s.options.ticks,n=QS(s),o=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?e7(e):[],a=r.length,l=r[0],d=r[a-1],c=[];if(a>o)return t7(e,c,r,a/o),c;const u=ZS(r,e,o);if(a>0){let h,p;const g=a>1?Math.round((d-l)/(a-1)):null;for(Bl(e,c,u,kt(g)?0:l-g,l),h=0,p=a-1;h<p;h++)Bl(e,c,u,r[h],r[h+1]);return Bl(e,c,u,d,kt(g)?e.length:d+g),c}return Bl(e,c,u),c}function QS(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),o=s._maxLength/t;return Math.floor(Math.min(n,o))}function ZS(s,e,t){const n=s7(s),o=e.length/t;if(!n)return Math.max(o,1);const r=BC(n);for(let a=0,l=r.length-1;a<l;a++){const d=r[a];if(d>o)return d}return Math.max(o,1)}function e7(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function t7(s,e,t,n){let o=0,r=t[0],a;for(n=Math.ceil(n),a=0;a<s.length;a++)a===r&&(e.push(s[a]),o++,r=t[o*n])}function Bl(s,e,t,n,o){const r=ht(n,0),a=Math.min(ht(o,s.length),s.length);let l=0,d,c,u;for(t=Math.ceil(t),o&&(d=o-n,t=d/Math.floor(d/t)),u=r;u<0;)l++,u=Math.round(r+l*t);for(c=Math.max(r,0);c<a;c++)c===u&&(e.push(s[c]),l++,u=Math.round(r+l*t))}function s7(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const n7=s=>s==="left"?"right":s==="right"?"left":s,Z0=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,eg=(s,e)=>Math.min(e||s,s);function tg(s,e){const t=[],n=s.length/e,o=s.length;let r=0;for(;r<o;r+=n)t.push(s[Math.floor(r)]);return t}function o7(s,e,t){const n=s.ticks.length,o=Math.min(e,n-1),r=s._startPixel,a=s._endPixel,l=1e-6;let d=s.getPixelForTick(o),c;if(!(t&&(n===1?c=Math.max(d-r,a-d):e===0?c=(s.getPixelForTick(1)-d)/2:c=(d-s.getPixelForTick(o-1))/2,d+=o<e?c:-c,d<r-l||d>a+l)))return d}function i7(s,e){Rt(s,t=>{const n=t.gc,o=n.length/2;let r;if(o>e){for(r=0;r<o;++r)delete t.data[n[r]];n.splice(0,o)}})}function na(s){return s.drawTicks?s.tickLength:0}function sg(s,e){if(!s.display)return 0;const t=ks(s.font,e),n=Xs(s.padding);return(Yt(s.text)?s.text.length:1)*t.lineHeight+n.height}function r7(s,e){return _i(s,{scale:e,type:"scale"})}function a7(s,e,t){return _i(s,{tick:t,index:e,type:"tick"})}function l7(s,e,t){let n=py(s);return(t&&e!=="right"||!t&&e==="right")&&(n=n7(n)),n}function d7(s,e,t,n){const{top:o,left:r,bottom:a,right:l,chart:d}=s,{chartArea:c,scales:u}=d;let h=0,p,g,v;const x=a-o,y=l-r;if(s.isHorizontal()){if(g=hn(n,r,l),yt(t)){const $=Object.keys(t)[0],w=t[$];v=u[$].getPixelForValue(w)+x-e}else t==="center"?v=(c.bottom+c.top)/2+x-e:v=Z0(s,t,e);p=l-r}else{if(yt(t)){const $=Object.keys(t)[0],w=t[$];g=u[$].getPixelForValue(w)-y+e}else t==="center"?g=(c.left+c.right)/2-y+e:g=Z0(s,t,e);v=hn(n,a,o),h=t==="left"?-ss:ss}return{titleX:g,titleY:v,maxWidth:p,rotation:h}}class Zi extends vi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:o}=this;return e=mn(e,Number.POSITIVE_INFINITY),t=mn(t,Number.NEGATIVE_INFINITY),n=mn(n,Number.POSITIVE_INFINITY),o=mn(o,Number.NEGATIVE_INFINITY),{min:mn(e,n),max:mn(t,o),minDefined:Qt(e),maxDefined:Qt(t)}}getMinMax(e){let{min:t,max:n,minDefined:o,maxDefined:r}=this.getUserBounds(),a;if(o&&r)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let d=0,c=l.length;d<c;++d)a=l[d].controller.getMinMax(this,e),o||(t=Math.min(t,a.min)),r||(n=Math.max(n,a.max));return t=r&&t>n?n:t,n=o&&t>n?t:n,{min:mn(t,mn(n,t)),max:mn(n,mn(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:o,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v8(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?tg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=JS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,o,r;for(n=0,o=e.length;n<o;n++)r=e[n],r.label=Wt(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=eg(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,r=t.maxRotation;let a=o,l,d,c;if(!this._isVisible()||!t.display||o>=r||n<=1||!this.isHorizontal()){this.labelRotation=o;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,g=Fs(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),h+6>l&&(l=g/(n-(e.offset?.5:1)),d=this.maxHeight-na(e.grid)-t.padding-sg(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),a=sp(Math.min(Math.asin(Fs((u.highest.height+6)/l,-1,1)),Math.asin(Fs(d/c,-1,1))-Math.asin(Fs(p/c,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:o,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=sg(o,t.options.font);if(l?(e.width=this.maxWidth,e.height=na(r)+d):(e.height=this.maxHeight,e.width=na(r)+d),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:p}=this._getLabelSizes(),g=n.padding*2,v=oo(this.labelRotation),x=Math.cos(v),y=Math.sin(v);if(l){const $=n.mirror?0:y*h.width+x*p.height;e.height=Math.min(this.maxHeight,e.height+$+g)}else{const $=n.mirror?0:x*h.width+y*p.height;e.width=Math.min(this.maxWidth,e.width+$+g)}this._calculatePadding(c,u,y,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,o){const{ticks:{align:r,padding:a},position:l}=this.options,d=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;d?c?(p=o*e.width,g=n*t.height):(p=n*e.height,g=o*t.width):r==="start"?g=t.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,g=t.width/2),this.paddingLeft=Math.max((p-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+a)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)kt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=tg(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:o,_longestTextCache:r}=this,a=[],l=[],d=Math.floor(t/eg(t,n));let c=0,u=0,h,p,g,v,x,y,$,w,S,C,T;for(h=0;h<t;h+=d){if(v=e[h].label,x=this._resolveTickFontOptions(h),o.font=y=x.string,$=r[y]=r[y]||{data:{},gc:[]},w=x.lineHeight,S=C=0,!kt(v)&&!Yt(v))S=Kd(o,$.data,$.gc,S,v),C=w;else if(Yt(v))for(p=0,g=v.length;p<g;++p)T=v[p],!kt(T)&&!Yt(T)&&(S=Kd(o,$.data,$.gc,S,T),C+=w);a.push(S),l.push(C),c=Math.max(S,c),u=Math.max(C,u)}i7(r,t);const F=a.indexOf(c),L=l.indexOf(u),z=j=>({width:a[j]||0,height:l[j]||0});return{first:z(0),last:z(t-1),widest:z(F),highest:z(L),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return WC(this._alignToPixels?Mi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=a7(this.getContext(),e,n))}return this.$context||(this.$context=r7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=oo(this.labelRotation),n=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,d=r?r.highest.height+a:0;return this.isHorizontal()?d*n>l*o?l/n:d/o:d*o<l*n?d/n:l/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,o=this.options,{grid:r,position:a,border:l}=o,d=r.offset,c=this.isHorizontal(),h=this.ticks.length+(d?1:0),p=na(r),g=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,y=x/2,$=function(_e){return Mi(n,_e,x)};let w,S,C,T,F,L,z,j,E,O,I,W;if(a==="top")w=$(this.bottom),L=this.bottom-p,j=w-y,O=$(e.top)+y,W=e.bottom;else if(a==="bottom")w=$(this.top),O=e.top,W=$(e.bottom)-y,L=w+y,j=this.top+p;else if(a==="left")w=$(this.right),F=this.right-p,z=w-y,E=$(e.left)+y,I=e.right;else if(a==="right")w=$(this.left),E=e.left,I=$(e.right)-y,F=w+y,z=this.left+p;else if(t==="x"){if(a==="center")w=$((e.top+e.bottom)/2+.5);else if(yt(a)){const _e=Object.keys(a)[0],Q=a[_e];w=$(this.chart.scales[_e].getPixelForValue(Q))}O=e.top,W=e.bottom,L=w+y,j=L+p}else if(t==="y"){if(a==="center")w=$((e.left+e.right)/2);else if(yt(a)){const _e=Object.keys(a)[0],Q=a[_e];w=$(this.chart.scales[_e].getPixelForValue(Q))}F=w-y,z=F-p,E=e.left,I=e.right}const ye=ht(o.ticks.maxTicksLimit,h),ve=Math.max(1,Math.ceil(h/ye));for(S=0;S<h;S+=ve){const _e=this.getContext(S),Q=r.setContext(_e),ee=l.setContext(_e),q=Q.lineWidth,he=Q.color,we=ee.dash||[],Oe=ee.dashOffset,it=Q.tickWidth,ft=Q.tickColor,le=Q.tickBorderDash||[],be=Q.tickBorderDashOffset;C=o7(this,S,d),C!==void 0&&(T=Mi(n,C,q),c?F=z=E=I=T:L=j=O=W=T,g.push({tx1:F,ty1:L,tx2:z,ty2:j,x1:E,y1:O,x2:I,y2:W,width:q,color:he,borderDash:we,borderDashOffset:Oe,tickWidth:it,tickColor:ft,tickBorderDash:le,tickBorderDashOffset:be}))}return this._ticksLength=h,this._borderValue=w,g}_computeLabelItems(e){const t=this.axis,n=this.options,{position:o,ticks:r}=n,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:c,padding:u,mirror:h}=r,p=na(n.grid),g=p+u,v=h?-u:g,x=-oo(this.labelRotation),y=[];let $,w,S,C,T,F,L,z,j,E,O,I,W="middle";if(o==="top")F=this.bottom-v,L=this._getXAxisLabelAlignment();else if(o==="bottom")F=this.top+v,L=this._getXAxisLabelAlignment();else if(o==="left"){const ve=this._getYAxisLabelAlignment(p);L=ve.textAlign,T=ve.x}else if(o==="right"){const ve=this._getYAxisLabelAlignment(p);L=ve.textAlign,T=ve.x}else if(t==="x"){if(o==="center")F=(e.top+e.bottom)/2+g;else if(yt(o)){const ve=Object.keys(o)[0],_e=o[ve];F=this.chart.scales[ve].getPixelForValue(_e)+g}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")T=(e.left+e.right)/2-g;else if(yt(o)){const ve=Object.keys(o)[0],_e=o[ve];T=this.chart.scales[ve].getPixelForValue(_e)}L=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(d==="start"?W="top":d==="end"&&(W="bottom"));const ye=this._getLabelSizes();for($=0,w=l.length;$<w;++$){S=l[$],C=S.label;const ve=r.setContext(this.getContext($));z=this.getPixelForTick($)+r.labelOffset,j=this._resolveTickFontOptions($),E=j.lineHeight,O=Yt(C)?C.length:1;const _e=O/2,Q=ve.color,ee=ve.textStrokeColor,q=ve.textStrokeWidth;let he=L;a?(T=z,L==="inner"&&($===w-1?he=this.options.reverse?"left":"right":$===0?he=this.options.reverse?"right":"left":he="center"),o==="top"?c==="near"||x!==0?I=-O*E+E/2:c==="center"?I=-ye.highest.height/2-_e*E+E:I=-ye.highest.height+E/2:c==="near"||x!==0?I=E/2:c==="center"?I=ye.highest.height/2-_e*E:I=ye.highest.height-O*E,h&&(I*=-1),x!==0&&!ve.showLabelBackdrop&&(T+=E/2*Math.sin(x))):(F=z,I=(1-O)*E/2);let we;if(ve.showLabelBackdrop){const Oe=Xs(ve.backdropPadding),it=ye.heights[$],ft=ye.widths[$];let le=I-Oe.top,be=0-Oe.left;switch(W){case"middle":le-=it/2;break;case"bottom":le-=it;break}switch(L){case"center":be-=ft/2;break;case"right":be-=ft;break;case"inner":$===w-1?be-=ft:$>0&&(be-=ft/2);break}we={left:be,top:le,width:ft+Oe.width,height:it+Oe.height,color:ve.backdropColor}}y.push({label:C,font:j,textOffset:I,options:{rotation:x,color:Q,strokeColor:ee,strokeWidth:q,textAlign:he,textBaseline:W,translation:[T,F],backdrop:we}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oo(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,d=a.widest.width;let c,u;return t==="left"?o?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=d/2):(c="right",u+=d)):(u=this.right-l,n==="near"?c="right":n==="center"?(c="center",u-=d/2):(c="left",u=this.left)):t==="right"?o?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=d/2):(c="left",u-=d)):(u=this.left+l,n==="near"?c="left":n==="center"?(c="center",u+=d/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:o,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,o,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(d,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=o.length;r<a;++r){const d=o[r];t.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:o}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const l=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let c,u,h,p;this.isHorizontal()?(c=Mi(e,this.left,a)-a/2,u=Mi(e,this.right,l)+l/2,h=p=d):(h=Mi(e,this.top,a)-a/2,p=Mi(e,this.bottom,l)+l/2,c=u=d),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,o=this._computeLabelArea();o&&Kc(n,o);const r=this.getLabelItems(e);for(const a of r){const l=a.options,d=a.font,c=a.label,u=a.textOffset;Dr(n,c,0,u,d,l)}o&&Yc(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:o}}=this;if(!n.display)return;const r=ks(n.font),a=Xs(n.padding),l=n.align;let d=r.lineHeight/2;t==="bottom"||t==="center"||yt(t)?(d+=a.bottom,Yt(n.text)&&(d+=r.lineHeight*(n.text.length-1))):d+=a.top;const{titleX:c,titleY:u,maxWidth:h,rotation:p}=d7(this,d,t,l);Dr(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:p,textAlign:l7(l,t,o),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ht(e.grid&&e.grid.z,-1),o=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zi.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[n]===this.id&&(!e||l.type===e)&&o.push(l)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ks(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ul{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;f7(t)&&(n=this.register(t));const o=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,c7(e,a,n),this.override&&Zt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,o=this.scope;n in t&&delete t[n],o&&n in Zt[o]&&(delete Zt[o][n],this.override&&delete Qi[n])}}function c7(s,e,t){const n=Ga(Object.create(null),[t?Zt.get(t):{},Zt.get(e),s.defaults]);Zt.set(e,n),s.defaultRoutes&&u7(e,s.defaultRoutes),s.descriptors&&Zt.describe(e,s.descriptors)}function u7(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),o=n.pop(),r=[s].concat(n).join("."),a=e[t].split("."),l=a.pop(),d=a.join(".");Zt.route(r,o,d,l)})}function f7(s){return"id"in s&&"defaults"in s}class h7{constructor(){this.controllers=new Ul(Ki,"datasets",!0),this.elements=new Ul(vi,"elements"),this.plugins=new Ul(Object,"plugins"),this.scales=new Ul(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(o=>{const r=n||this._getRegistryForType(o);n||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):Rt(o,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,n){const o=tp(e);Wt(n["before"+o],[],n),t[e](n),Wt(n["after"+o],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return o}}var Zn=new h7;class p7{constructor(){this._init=void 0}notify(e,t,n,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,o){o=o||{};for(const r of e){const a=r.plugin,l=a[n],d=[t,o,r.options];if(Wt(l,d,a)===!1&&o.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,o=ht(n.options&&n.options.plugins,{}),r=m7(n);return o===!1&&!t?[]:_7(e,r,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,o=(r,a)=>r.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(o(t,n),e,"stop"),this._notify(o(n,t),e,"start")}}function m7(s){const e={},t=[],n=Object.keys(Zn.plugins.items);for(let r=0;r<n.length;r++)t.push(Zn.getPlugin(n[r]));const o=s.plugins||[];for(let r=0;r<o.length;r++){const a=o[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function g7(s,e){return!e&&s===!1?null:s===!0?{}:s}function _7(s,{plugins:e,localIds:t},n,o){const r=[],a=s.getContext();for(const l of e){const d=l.id,c=g7(n[d],o);c!==null&&r.push({plugin:l,options:v7(s.config,{plugin:l,local:t[d]},c,a)})}return r}function v7(s,{plugin:e,local:t},n,o){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(n,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xf(s,e){const t=Zt.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function y7(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function b7(s,e){return s===e?"_index_":"_value_"}function ng(s){if(s==="x"||s==="y"||s==="r")return s}function x7(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Jf(s,...e){if(ng(s))return s;for(const t of e){const n=t.axis||x7(t.position)||s.length>1&&ng(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function og(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function w7(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return og(s,"x",t[0])||og(s,"y",t[0])}return{}}function k7(s,e){const t=Qi[s.type]||{scales:{}},n=e.scales||{},o=Xf(s.type,e),r=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!yt(l)||l._proxy)return;const d=Jf(a,l,w7(a,s),Zt.scales[l.type]),c=b7(d,o),u=t.scales||{};r[a]=Da(Object.create(null),[{axis:d},l,u[d],u[c]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,d=a.indexAxis||Xf(l,e),u=(Qi[l]||{}).scales||{};Object.keys(u).forEach(h=>{const p=y7(h,d),g=a[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),Da(r[g],[{axis:p},n[g],u[h]])})}),Object.keys(r).forEach(a=>{const l=r[a];Da(l,[Zt.scales[l.type],Zt.scale])}),r}function Ly(s){const e=s.options||(s.options={});e.plugins=ht(e.plugins,{}),e.scales=k7(s,e)}function Fy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function $7(s){return s=s||{},s.data=Fy(s.data),Ly(s),s}const ig=new Map,Ny=new Set;function Vl(s,e){let t=ig.get(s);return t||(t=e(),ig.set(s,t),Ny.add(t)),t}const oa=(s,e,t)=>{const n=Ji(e,t);n!==void 0&&s.add(n)};class C7{constructor(e){this._config=$7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Fy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ly(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Vl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Vl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Vl(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let o=n.get(e);return(!o||t)&&(o=new Map,n.set(e,o)),o}getOptionScopes(e,t,n){const{options:o,type:r}=this,a=this._cachedScopes(e,n),l=a.get(t);if(l)return l;const d=new Set;t.forEach(u=>{e&&(d.add(e),u.forEach(h=>oa(d,e,h))),u.forEach(h=>oa(d,o,h)),u.forEach(h=>oa(d,Qi[r]||{},h)),u.forEach(h=>oa(d,Zt,h)),u.forEach(h=>oa(d,Yf,h))});const c=Array.from(d);return c.length===0&&c.push(Object.create(null)),Ny.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Qi[t]||{},Zt.datasets[t]||{},{type:t},Zt,Yf]}resolveNamedOptions(e,t,n,o=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=rg(this._resolverCache,e,o);let d=a;if(M7(a,t)){r.$shared=!1,n=fi(n)?n():n;const c=this.createResolver(e,n,l);d=Ar(a,n,c)}for(const c of t)r[c]=d[c];return r}createResolver(e,t,n=[""],o){const{resolver:r}=rg(this._resolverCache,e,n);return yt(t)?Ar(r,t,void 0,o):r}}function rg(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const o=t.join();let r=n.get(o);return r||(r={resolver:rp(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(o,r)),r}const S7=s=>yt(s)&&Object.getOwnPropertyNames(s).some(e=>fi(s[e]));function M7(s,e){const{isScriptable:t,isIndexable:n}=vy(s);for(const o of e){const r=t(o),a=n(o),l=(a||r)&&s[o];if(r&&(fi(l)||S7(l))||a&&Yt(l))return!0}return!1}var T7="4.5.1";const D7=["top","bottom","left","right","chartArea"];function ag(s,e){return s==="top"||s==="bottom"||D7.indexOf(s)===-1&&e==="x"}function lg(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function dg(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[s],e)}function A7(s){const e=s.chart,t=e.options.animation;Wt(t&&t.onProgress,[s],e)}function zy(s){return dp()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const vd={},cg=s=>{const e=zy(s);return Object.values(vd).filter(t=>t.canvas===e).pop()};function E7(s,e,t){const n=Object.keys(s);for(const o of n){const r=+o;if(r>=e){const a=s[o];delete s[o],(t>0||r>e)&&(s[r+t]=a)}}}function P7(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}class gn{static register(...e){Zn.add(...e),ug()}static unregister(...e){Zn.remove(...e),ug()}constructor(e,t){const n=this.config=new C7(t),o=zy(e),r=cg(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||XS(o)),this.platform.updateConfig(n);const l=this.platform.acquireContext(o,a.aspectRatio),d=l&&l.canvas,c=d&&d.height,u=d&&d.width;this.id=PC(),this.ctx=l,this.canvas=d,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GC(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],vd[this.id]=this,!(!l||!d)&&(_o.listen(this,"complete",dg),_o.listen(this,"progress",A7),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:o,_aspectRatio:r}=this;return kt(e)?t&&r?r:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():R0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return A0(this.canvas,this.ctx),this}stop(){return _o.stop(this),this}resize(e,t){_o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,t,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,R0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Wt(n.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Rt(t,(n,o)=>{n.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],d=Jf(a,l),c=d==="r",u=d==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Rt(r,a=>{const l=a.options,d=l.id,c=Jf(d,l),u=ht(l.type,a.dtype);(l.position===void 0||ag(l.position,c)!==ag(a.dposition))&&(l.position=a.dposition),o[d]=!0;let h=null;if(d in n&&n[d].type===u)h=n[d];else{const p=Zn.getScale(u);h=new p({id:d,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),Rt(o,(a,l)=>{a||delete n[l]}),Rt(n,a=>{ti.configure(this,a,a.options),ti.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((o,r)=>o.index-r.index),n>t){for(let o=t;o<n;++o)this._destroyDatasetMeta(o);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(lg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,o)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=t.length;n<o;n++){const r=t[n];let a=this.getDatasetMeta(n);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||Xf(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const d=Zn.getController(l),{datasetElementType:c,dataElementType:u}=Zt.datasets[l];Object.assign(d,{dataElementType:Zn.getElement(u),datasetElementType:c&&Zn.getElement(c)}),a.controller=new d(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Rt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),p=!o&&r.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||Rt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lg("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Rt(this.scales,e=>{ti.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!x0(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:r}of t){const a=n==="_removeElements"?-r:r;E7(e,o,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let r=1;r<t;r++)if(!x0(o,n(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Rt(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,fi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),o={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_o.has(this)?this.attached&&!_o.running(this)&&_o.start(this):(this.draw(),dg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let o,r;for(o=0,r=t.length;o<r;++o){const a=t[o];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},o=Ty(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(o&&Kc(t,o),e.controller.draw(),o&&Yc(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return So(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,o){const r=DS.modes[t];return typeof r=="function"?r(this,e,n,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let o=n.filter(r=>r&&r._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const o=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,o);Xa(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),A0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete vd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Rt(this.options.events,r=>n(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(d,c)=>{t.addEventListener(this,d,c),e[d]=c},o=(d,c)=>{e[d]&&(t.removeEventListener(this,d,c),delete e[d])},r=(d,c)=>{this.canvas&&this.resize(d,c)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Rt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Rt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const o=n?"set":"remove";let r,a,l,d;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Hd(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const o=this.options.hover,r=(d,c)=>d.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=r(t,e),l=n?e:r(e,t);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:o=[],options:r}=this,a=t,l=this._getActiveElements(e,o,n,a),d=FC(e),c=P7(e,this._lastEvent,n,d);n&&(this._lastEvent=null,Wt(r.onHover,[e,l,this],this),d&&Wt(r.onClick,[e,l,this],this));const u=!Hd(l,o);return(u||t)&&(this._active=l,this._updateHoverStyles(l,o,t)),this._lastEvent=c,u}_getActiveElements(e,t,n,o){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}}Fe(gn,"defaults",Zt),Fe(gn,"instances",vd),Fe(gn,"overrides",Qi),Fe(gn,"registry",Zn),Fe(gn,"version",T7),Fe(gn,"getChart",cg);function ug(){return Rt(gn.instances,s=>s._plugins.invalidate())}function R7(s,e,t){const{startAngle:n,x:o,y:r,outerRadius:a,innerRadius:l,options:d}=e,{borderWidth:c,borderJoinStyle:u}=d,h=Math.min(c/a,Rs(n-t));if(s.beginPath(),s.arc(o,r,a-c/2,n+h/2,t-h/2),l>0){const p=Math.min(c/l,Rs(n-t));s.arc(o,r,l+c/2,t-p/2,n+p/2,!0)}else{const p=Math.min(c/2,a*Rs(n-t));if(u==="round")s.arc(o,r,p,t-It/2,n+It/2,!0);else if(u==="bevel"){const g=2*p*p,v=-g*Math.cos(t+It/2)+o,x=-g*Math.sin(t+It/2)+r,y=g*Math.cos(n+It/2)+o,$=g*Math.sin(n+It/2)+r;s.lineTo(v,x),s.lineTo(y,$)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function O7(s,e,t){const{startAngle:n,pixelMargin:o,x:r,y:a,outerRadius:l,innerRadius:d}=e;let c=o/l;s.beginPath(),s.arc(r,a,l,n-c,t+c),d>o?(c=o/d,s.arc(r,a,d,t+c,n-c,!0)):s.arc(r,a,o,t+ss,n-ss),s.closePath(),s.clip()}function I7(s){return ip(s,["outerStart","outerEnd","innerStart","innerEnd"])}function j7(s,e,t,n){const o=I7(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,n*e/2),l=d=>{const c=(t-Math.min(r,d))*n/2;return Fs(d,0,Math.min(r,c))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:Fs(o.innerStart,0,a),innerEnd:Fs(o.innerEnd,0,a)}}function ar(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function Xd(s,e,t,n,o,r){const{x:a,y:l,startAngle:d,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+n+t-c,0),p=u>0?u+n+t+c:0;let g=0;const v=o-d;if(n){const ve=u>0?u-n:0,_e=h>0?h-n:0,Q=(ve+_e)/2,ee=Q!==0?v*Q/(Q+n):v;g=(v-ee)/2}const x=Math.max(.001,v*h-t/It)/h,y=(v-x)/2,$=d+y+g,w=o-y-g,{outerStart:S,outerEnd:C,innerStart:T,innerEnd:F}=j7(e,p,h,w-$),L=h-S,z=h-C,j=$+S/L,E=w-C/z,O=p+T,I=p+F,W=$+T/O,ye=w-F/I;if(s.beginPath(),r){const ve=(j+E)/2;if(s.arc(a,l,h,j,ve),s.arc(a,l,h,ve,E),C>0){const q=ar(z,E,a,l);s.arc(q.x,q.y,C,E,w+ss)}const _e=ar(I,w,a,l);if(s.lineTo(_e.x,_e.y),F>0){const q=ar(I,ye,a,l);s.arc(q.x,q.y,F,w+ss,ye+Math.PI)}const Q=(w-F/p+($+T/p))/2;if(s.arc(a,l,p,w-F/p,Q,!0),s.arc(a,l,p,Q,$+T/p,!0),T>0){const q=ar(O,W,a,l);s.arc(q.x,q.y,T,W+Math.PI,$-ss)}const ee=ar(L,$,a,l);if(s.lineTo(ee.x,ee.y),S>0){const q=ar(L,j,a,l);s.arc(q.x,q.y,S,$-ss,j)}}else{s.moveTo(a,l);const ve=Math.cos(j)*h+a,_e=Math.sin(j)*h+l;s.lineTo(ve,_e);const Q=Math.cos(E)*h+a,ee=Math.sin(E)*h+l;s.lineTo(Q,ee)}s.closePath()}function L7(s,e,t,n,o){const{fullCircles:r,startAngle:a,circumference:l}=e;let d=e.endAngle;if(r){Xd(s,e,t,n,d,o);for(let c=0;c<r;++c)s.fill();isNaN(l)||(d=a+(l%qt||qt))}return Xd(s,e,t,n,d,o),s.fill(),d}function F7(s,e,t,n,o){const{fullCircles:r,startAngle:a,circumference:l,options:d}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:p,borderRadius:g}=d,v=d.borderAlign==="inner";if(!c)return;s.setLineDash(h||[]),s.lineDashOffset=p,v?(s.lineWidth=c*2,s.lineJoin=u||"round"):(s.lineWidth=c,s.lineJoin=u||"bevel");let x=e.endAngle;if(r){Xd(s,e,t,n,x,o);for(let y=0;y<r;++y)s.stroke();isNaN(l)||(x=a+(l%qt||qt))}v&&O7(s,e,x),d.selfJoin&&x-a>=It&&g===0&&u!=="miter"&&R7(s,e,x),r||(Xd(s,e,t,n,x,o),s.stroke())}class fa extends vi{constructor(t){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,o){const r=this.getProps(["x","y"],o),{angle:a,distance:l}=dy(r,{x:t,y:n}),{startAngle:d,endAngle:c,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),g=(this.options.spacing+this.options.borderWidth)/2,v=ht(p,c-d),x=Qa(a,d,c)&&d!==c,y=v>=qt||x,$=Co(l,u+g,h+g);return y&&$}getCenterPoint(t){const{x:n,y:o,startAngle:r,endAngle:a,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,h=(r+a)/2,p=(l+d+u+c)/2;return{x:n+Math.cos(h)*p,y:o+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:o}=this,r=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=o>qt?Math.floor(o/qt):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);const c=1-Math.sin(Math.min(It,o||0)),u=r*c;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,L7(t,this,u,a,l),F7(t,this,u,a,l),t.restore()}}Fe(fa,"id","arc"),Fe(fa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Fe(fa,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(fa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function By(s,e,t=e){s.lineCap=ht(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ht(t.borderDash,e.borderDash)),s.lineDashOffset=ht(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ht(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ht(t.borderWidth,e.borderWidth),s.strokeStyle=ht(t.borderColor,e.borderColor)}function N7(s,e,t){s.lineTo(t.x,t.y)}function z7(s){return s.stepped?d8:s.tension||s.cubicInterpolationMode==="monotone"?c8:N7}function Uy(s,e,t={}){const n=s.length,{start:o=0,end:r=n-1}=t,{start:a,end:l}=e,d=Math.max(o,a),c=Math.min(r,l),u=o<a&&r<a||o>l&&r>l;return{count:n,start:d,loop:e.loop,ilen:c<d&&!u?n+c-d:c-d}}function B7(s,e,t,n){const{points:o,options:r}=e,{count:a,start:l,loop:d,ilen:c}=Uy(o,t,n),u=z7(r);let{move:h=!0,reverse:p}=n||{},g,v,x;for(g=0;g<=c;++g)v=o[(l+(p?c-g:g))%a],!v.skip&&(h?(s.moveTo(v.x,v.y),h=!1):u(s,x,v,p,r.stepped),x=v);return d&&(v=o[(l+(p?c:0))%a],u(s,x,v,p,r.stepped)),!!d}function U7(s,e,t,n){const o=e.points,{count:r,start:a,ilen:l}=Uy(o,t,n),{move:d=!0,reverse:c}=n||{};let u=0,h=0,p,g,v,x,y,$;const w=C=>(a+(c?l-C:C))%r,S=()=>{x!==y&&(s.lineTo(u,y),s.lineTo(u,x),s.lineTo(u,$))};for(d&&(g=o[w(0)],s.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=o[w(p)],g.skip)continue;const C=g.x,T=g.y,F=C|0;F===v?(T<x?x=T:T>y&&(y=T),u=(h*u+C)/++h):(S(),s.lineTo(C,T),v=F,h=0,x=y=T),$=T}S()}function Qf(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?U7:B7}function V7(s){return s.stepped?U8:s.tension||s.cubicInterpolationMode==="monotone"?V8:Ii}function H7(s,e,t,n){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,n)&&o.closePath()),By(s,e.options),s.stroke(o)}function W7(s,e,t,n){const{segments:o,options:r}=e,a=Qf(e);for(const l of o)By(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const q7=typeof Path2D=="function";function K7(s,e,t,n){q7&&!e.options.segment?H7(s,e,t,n):W7(s,e,t,n)}class si extends vi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const o=n.spanGaps?this._loop:this._fullLoop;O8(this._points,n,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,o=e[t],r=this.points,a=My(this,{property:t,start:o,end:o});if(!a.length)return;const l=[],d=V7(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:h,end:p}=a[c],g=r[h],v=r[p];if(g===v){l.push(g);continue}const x=Math.abs((o-g[t])/(v[t]-g[t])),y=d(g,v,x,n.stepped);y[t]=e[t],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,t,n){return Qf(this)(e,this,t,n)}path(e,t,n){const o=this.segments,r=Qf(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const l of o)a&=r(e,this,l,{start:t,end:t+n-1});return!!a}draw(e,t,n,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),K7(e,this,n,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Fe(si,"id","line"),Fe(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Fe(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Fe(si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function fg(s,e,t,n){const o=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<o.radius+o.hitRadius}class yd extends vi{constructor(t){super();Fe(this,"parsed");Fe(this,"skip");Fe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,o){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],o);return Math.pow(t-a,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return fg(this,t,"x",n)}inYRange(t,n){return fg(this,t,"y",n)}getCenterPoint(t){const{x:n,y:o}=this.getProps(["x","y"],t);return{x:n,y:o}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const o=n&&t.borderWidth||0;return(n+o)*2}draw(t,n){const o=this.options;this.skip||o.radius<.1||!So(this,n,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,Gf(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Fe(yd,"id","point"),Fe(yd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Fe(yd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Vy(s,e){const{x:t,y:n,base:o,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,d,c,u,h;return s.horizontal?(h=a/2,l=Math.min(t,o),d=Math.max(t,o),c=n-h,u=n+h):(h=r/2,l=t-h,d=t+h,c=Math.min(n,o),u=Math.max(n,o)),{left:l,top:c,right:d,bottom:u}}function ni(s,e,t,n){return s?0:Fs(e,t,n)}function Y7(s,e,t){const n=s.options.borderWidth,o=s.borderSkipped,r=_y(n);return{t:ni(o.top,r.top,0,t),r:ni(o.right,r.right,0,e),b:ni(o.bottom,r.bottom,0,t),l:ni(o.left,r.left,0,e)}}function G7(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),o=s.options.borderRadius,r=Wi(o),a=Math.min(e,t),l=s.borderSkipped,d=n||yt(o);return{topLeft:ni(!d||l.top||l.left,r.topLeft,0,a),topRight:ni(!d||l.top||l.right,r.topRight,0,a),bottomLeft:ni(!d||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:ni(!d||l.bottom||l.right,r.bottomRight,0,a)}}function X7(s){const e=Vy(s),t=e.right-e.left,n=e.bottom-e.top,o=Y7(s,t/2,n/2),r=G7(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function Gu(s,e,t,n){const o=e===null,r=t===null,l=s&&!(o&&r)&&Vy(s,n);return l&&(o||Co(e,l.left,l.right))&&(r||Co(t,l.top,l.bottom))}function J7(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function Q7(s,e){s.rect(e.x,e.y,e.w,e.h)}function Xu(s,e,t={}){const n=s.x!==t.x?-e:0,o=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,a=(s.y+s.h!==t.y+t.h?e:0)-o;return{x:s.x+n,y:s.y+o,w:s.w+r,h:s.h+a,radius:s.radius}}class bd extends vi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:o}}=this,{inner:r,outer:a}=X7(this),l=J7(a.radius)?Za:Q7;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,Xu(a,t,r)),e.clip(),l(e,Xu(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,Xu(r,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,n){return Gu(this,e,t,n)}inXRange(e,t){return Gu(this,e,null,t)}inYRange(e,t){return Gu(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+o)/2:t,y:r?n:(n+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Fe(bd,"id","bar"),Fe(bd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(bd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Z7(s,e,t){const n=s.segments,o=s.points,r=e.points,a=[];for(const l of n){let{start:d,end:c}=l;c=Xc(d,c,o);const u=Zf(t,o[d],o[c],l.loop);if(!e.segments){a.push({source:l,target:u,start:o[d],end:o[c]});continue}const h=My(e,u);for(const p of h){const g=Zf(t,r[p.start],r[p.end],p.loop),v=Sy(l,o,g);for(const x of v)a.push({source:x,target:p,start:{[t]:hg(u,g,"start",Math.max)},end:{[t]:hg(u,g,"end",Math.min)}})}}return a}function Zf(s,e,t,n){if(n)return;let o=e[s],r=t[s];return s==="angle"&&(o=Rs(o),r=Rs(r)),{property:s,start:o,end:r}}function e9(s,e){const{x:t=null,y:n=null}=s||{},o=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=Xc(a,l,o);const d=o[a],c=o[l];n!==null?(r.push({x:d.x,y:n}),r.push({x:c.x,y:n})):t!==null&&(r.push({x:t,y:d.y}),r.push({x:t,y:c.y}))}),r}function Xc(s,e,t){for(;e>s;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function hg(s,e,t,n){return s&&e?n(s[t],e[t]):s?s[t]:e?e[t]:0}function Hy(s,e){let t=[],n=!1;return Yt(s)?(n=!0,t=s):t=e9(s,e),t.length?new si({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function pg(s){return s&&s.fill!==!1}function t9(s,e,t){let o=s[e].fill;const r=[e];let a;if(!t)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!Qt(o))return o;if(a=s[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function s9(s,e,t){const n=r9(s);if(yt(n))return isNaN(n.value)?!1:n;let o=parseFloat(n);return Qt(o)&&Math.floor(o)===o?n9(n[0],e,o,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function n9(s,e,t,n){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function o9(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:yt(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function i9(s,e,t){let n;return s==="start"?n=t:s==="end"?n=e.options.reverse?e.min:e.max:yt(s)?n=s.value:n=e.getBaseValue(),n}function r9(s){const e=s.options,t=e.fill;let n=ht(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function a9(s){const{scale:e,index:t,line:n}=s,o=[],r=n.segments,a=n.points,l=l9(e,t);l.push(Hy({x:null,y:e.bottom},n));for(let d=0;d<r.length;d++){const c=r[d];for(let u=c.start;u<=c.end;u++)d9(o,a[u],l)}return new si({points:o,options:{}})}function l9(s,e){const t=[],n=s.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const r=n[o];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function d9(s,e,t){const n=[];for(let o=0;o<t.length;o++){const r=t[o],{first:a,last:l,point:d}=c9(r,e,"x");if(!(!d||a&&l)){if(a)n.unshift(d);else if(s.push(d),!l)break}}s.push(...n)}function c9(s,e,t){const n=s.interpolate(e,t);if(!n)return{};const o=n[t],r=s.segments,a=s.points;let l=!1,d=!1;for(let c=0;c<r.length;c++){const u=r[c],h=a[u.start][t],p=a[u.end][t];if(Co(o,h,p)){l=o===h,d=o===p;break}}return{first:l,last:d,point:n}}class Wy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:o,y:r,radius:a}=this;return t=t||{start:0,end:qt},e.arc(o,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:o}=this,r=e.angle;return{x:t+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}}function u9(s){const{chart:e,fill:t,line:n}=s;if(Qt(t))return f9(e,t);if(t==="stack")return a9(s);if(t==="shape")return!0;const o=h9(s);return o instanceof Wy?o:Hy(o,n)}function f9(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function h9(s){return(s.scale||{}).getPointPositionForValue?m9(s):p9(s)}function p9(s){const{scale:e={},fill:t}=s,n=o9(t,e);if(Qt(n)){const o=e.isHorizontal();return{x:o?n:null,y:o?null:n}}return null}function m9(s){const{scale:e,fill:t}=s,n=e.options,o=e.getLabels().length,r=n.reverse?e.max:e.min,a=i9(t,e,r),l=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,r);return new Wy({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<o;++d)l.push(e.getPointPositionForValue(d,a));return l}function Ju(s,e,t){const n=u9(e),{chart:o,index:r,line:a,scale:l,axis:d}=e,c=a.options,u=c.fill,h=c.backgroundColor,{above:p=h,below:g=h}=u||{},v=o.getDatasetMeta(r),x=Ty(o,v);n&&a.points.length&&(Kc(s,t),g9(s,{line:a,target:n,above:p,below:g,area:t,scale:l,axis:d,clip:x}),Yc(s))}function g9(s,e){const{line:t,target:n,above:o,below:r,area:a,scale:l,clip:d}=e,c=t._loop?"angle":e.axis;s.save();let u=r;r!==o&&(c==="x"?(mg(s,n,a.top),Qu(s,{line:t,target:n,color:o,scale:l,property:c,clip:d}),s.restore(),s.save(),mg(s,n,a.bottom)):c==="y"&&(gg(s,n,a.left),Qu(s,{line:t,target:n,color:r,scale:l,property:c,clip:d}),s.restore(),s.save(),gg(s,n,a.right),u=o)),Qu(s,{line:t,target:n,color:u,scale:l,property:c,clip:d}),s.restore()}function mg(s,e,t){const{segments:n,points:o}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:d,end:c}=l,u=o[d],h=o[Xc(d,c,o)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(u.x,t),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(h.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function gg(s,e,t){const{segments:n,points:o}=e;let r=!0,a=!1;s.beginPath();for(const l of n){const{start:d,end:c}=l,u=o[d],h=o[Xc(d,c,o)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(t,u.y),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,l,{move:a}),a?s.closePath():s.lineTo(t,h.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function Qu(s,e){const{line:t,target:n,property:o,color:r,scale:a,clip:l}=e,d=Z7(t,n,o);for(const{source:c,target:u,start:h,end:p}of d){const{style:{backgroundColor:g=r}={}}=c,v=n!==!0;s.save(),s.fillStyle=g,_9(s,a,l,v&&Zf(o,h,p)),s.beginPath();const x=!!t.pathSegment(s,c);let y;if(v){x?s.closePath():_g(s,n,p,o);const $=!!n.pathSegment(s,u,{move:x,reverse:!0});y=x&&$,y||_g(s,n,h,o)}s.closePath(),s.fill(y?"evenodd":"nonzero"),s.restore()}}function _9(s,e,t,n){const o=e.chart.chartArea,{property:r,start:a,end:l}=n||{};if(r==="x"||r==="y"){let d,c,u,h;r==="x"?(d=a,c=o.top,u=l,h=o.bottom):(d=o.left,c=a,u=o.right,h=l),s.beginPath(),t&&(d=Math.max(d,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),h=Math.min(h,t.bottom)),s.rect(d,c,u-d,h-c),s.clip()}}function _g(s,e,t,n){const o=e.interpolate(t,n);o&&s.lineTo(o.x,o.y)}var v9={id:"filler",afterDatasetsUpdate(s,e,t){const n=(s.data.datasets||[]).length,o=[];let r,a,l,d;for(a=0;a<n;++a)r=s.getDatasetMeta(a),l=r.dataset,d=null,l&&l.options&&l instanceof si&&(d={visible:s.isDatasetVisible(a),index:a,fill:s9(l,a,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=d,o.push(d);for(a=0;a<n;++a)d=o[a],!(!d||d.fill===!1)&&(d.fill=t9(o,a,t.propagate))},beforeDraw(s,e,t){const n=t.drawTime==="beforeDraw",o=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=o.length-1;a>=0;--a){const l=o[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&Ju(s.ctx,l,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const r=n[o].$filler;pg(r)&&Ju(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const n=e.meta.$filler;!pg(n)||t.drawTime!=="beforeDatasetDraw"||Ju(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vg=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},y9=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class yg extends vi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,o)=>e.sort(n,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,o=ks(n.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=vg(n,r);let c,u;t.font=o.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,r,l,d)+10):(u=this.maxHeight,c=this._fitCols(a,o,l,d)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,o){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.lineWidths=[0],u=o+l;let h=e;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-u;return this.legendItems.forEach((v,x)=>{const y=n+t/2+r.measureText(v.text).width;(x===0||c[c.length-1]+y+2*l>a)&&(h+=u,c[c.length-(x>0?0:1)]=0,g+=u,p++),d[x]={left:0,top:g,row:p,width:y,height:o},c[c.length-1]+=y+l}),h}_fitCols(e,t,n,o){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let h=l,p=0,g=0,v=0,x=0;return this.legendItems.forEach((y,$)=>{const{itemWidth:w,itemHeight:S}=b9(n,t,r,y,o);$>0&&g+S+2*l>u&&(h+=p+l,c.push({width:p,height:g}),v+=p+l,x++,p=g=0),d[$]={left:v,top:g,col:x,width:w,height:S},p=Math.max(p,w),g+=S+l}),h+=p,c.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:o},rtl:r}}=this,a=vr(r,this.left,this.width);if(this.isHorizontal()){let l=0,d=hn(n,this.left+o,this.right-this.lineWidths[l]);for(const c of t)l!==c.row&&(l=c.row,d=hn(n,this.left+o,this.right-this.lineWidths[l])),c.top+=this.top+e+o,c.left=a.leftForLtr(a.x(d),c.width),d+=c.width+o}else{let l=0,d=hn(n,this.top+e+o,this.bottom-this.columnSizes[l].height);for(const c of t)c.col!==l&&(l=c.col,d=hn(n,this.top+e+o,this.bottom-this.columnSizes[l].height)),c.top=d,c.left+=this.left+o,c.left=a.leftForLtr(a.x(c.left),c.width),d+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Kc(e,this),this._draw(),Yc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:o}=this,{align:r,labels:a}=e,l=Zt.color,d=vr(e.rtl,this.left,this.width),c=ks(a.font),{padding:u}=a,h=c.size,p=h/2;let g;this.drawTitle(),o.textAlign=d.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:v,boxHeight:x,itemHeight:y}=vg(a,h),$=function(F,L,z){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;o.save();const j=ht(z.lineWidth,1);if(o.fillStyle=ht(z.fillStyle,l),o.lineCap=ht(z.lineCap,"butt"),o.lineDashOffset=ht(z.lineDashOffset,0),o.lineJoin=ht(z.lineJoin,"miter"),o.lineWidth=j,o.strokeStyle=ht(z.strokeStyle,l),o.setLineDash(ht(z.lineDash,[])),a.usePointStyle){const E={radius:x*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:j},O=d.xPlus(F,v/2),I=L+p;gy(o,E,O,I,a.pointStyleWidth&&v)}else{const E=L+Math.max((h-x)/2,0),O=d.leftForLtr(F,v),I=Wi(z.borderRadius);o.beginPath(),Object.values(I).some(W=>W!==0)?Za(o,{x:O,y:E,w:v,h:x,radius:I}):o.rect(O,E,v,x),o.fill(),j!==0&&o.stroke()}o.restore()},w=function(F,L,z){Dr(o,z.text,F,L+y/2,c,{strikethrough:z.hidden,textAlign:d.textAlign(z.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?g={x:hn(r,this.left+u,this.right-n[0]),y:this.top+u+C,line:0}:g={x:this.left+u,y:hn(r,this.top+C+u,this.bottom-t[0].height),line:0},ky(this.ctx,e.textDirection);const T=y+u;this.legendItems.forEach((F,L)=>{o.strokeStyle=F.fontColor,o.fillStyle=F.fontColor;const z=o.measureText(F.text).width,j=d.textAlign(F.textAlign||(F.textAlign=a.textAlign)),E=v+p+z;let O=g.x,I=g.y;d.setWidth(this.width),S?L>0&&O+E+u>this.right&&(I=g.y+=T,g.line++,O=g.x=hn(r,this.left+u,this.right-n[g.line])):L>0&&I+T>this.bottom&&(O=g.x=O+t[g.line].width+u,g.line++,I=g.y=hn(r,this.top+C+u,this.bottom-t[g.line].height));const W=d.x(O);if($(W,I,F),O=XC(j,O+v+p,S?O+E:this.right,e.rtl),w(d.x(O),I,F),S)g.x+=E+u;else if(typeof F.text!="string"){const ye=c.lineHeight;g.y+=qy(F,ye)+u}else g.y+=T}),$y(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ks(t.font),o=Xs(t.padding);if(!t.display)return;const r=vr(e.rtl,this.left,this.width),a=this.ctx,l=t.position,d=n.size/2,c=o.top+d;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,h=hn(e.align,h,this.right-p);else{const v=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=c+hn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=hn(l,h,h+p);a.textAlign=r.textAlign(py(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Dr(a,t.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,t=ks(e.font),n=Xs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,o,r;if(Co(e,this.left,this.right)&&Co(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(o=r[n],Co(e,o.left,o.left+o.width)&&Co(t,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!k9(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=y9(o,n);o&&!r&&Wt(t.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!r&&Wt(t.onHover,[e,n,this],this)}else n&&Wt(t.onClick,[e,n,this],this)}}function b9(s,e,t,n,o){const r=x9(n,s,e,t),a=w9(o,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function x9(s,e,t,n){let o=s.text;return o&&typeof o!="string"&&(o=o.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+n.measureText(o).width}function w9(s,e,t){let n=s;return typeof e.text!="string"&&(n=qy(e,t)),n}function qy(s,e){const t=s.text?s.text.length:0;return e*t}function k9(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var Ky={id:"legend",_element:yg,start(s,e,t){const n=s.legend=new yg({ctx:s.ctx,options:t,chart:s});ti.configure(s,n,t),ti.addBox(s,n)},stop(s){ti.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;ti.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,o=t.chart;o.isDatasetVisible(n)?(o.hide(n),e.hidden=!0):(o.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:o,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(d=>{const c=d.controller.getStyle(t?0:void 0),u=Xs(c.borderWidth);return{text:e[d.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:a&&(l||c.borderRadius),datasetIndex:d.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const ha={average(s){if(!s.length)return!1;let e,t,n=new Set,o=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const d=l.tooltipPosition();n.add(d.x),o+=d.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:o/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,o=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const d=s[r].element;if(d&&d.hasValue()){const c=d.getCenterPoint(),u=Kf(e,c);u<o&&(o=u,l=d)}}if(l){const d=l.tooltipPosition();t=d.x,n=d.y}return{x:t,y:n}}};function Jn(s,e){return e&&(Yt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function vo(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function $9(s,e){const{element:t,datasetIndex:n,index:o}=e,r=s.getDatasetMeta(n).controller,{label:a,value:l}=r.getLabelAndValue(o);return{chart:s,label:a,parsed:r.getParsed(o),raw:s.data.datasets[n].data[o],formattedValue:l,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:t}}function bg(s,e){const t=s.chart.ctx,{body:n,footer:o,title:r}=s,{boxWidth:a,boxHeight:l}=e,d=ks(e.bodyFont),c=ks(e.titleFont),u=ks(e.footerFont),h=r.length,p=o.length,g=n.length,v=Xs(e.padding);let x=v.height,y=0,$=n.reduce((C,T)=>C+T.before.length+T.lines.length+T.after.length,0);if($+=s.beforeBody.length+s.afterBody.length,h&&(x+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),$){const C=e.displayColors?Math.max(l,d.lineHeight):d.lineHeight;x+=g*C+($-g)*d.lineHeight+($-1)*e.bodySpacing}p&&(x+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let w=0;const S=function(C){y=Math.max(y,t.measureText(C).width+w)};return t.save(),t.font=c.string,Rt(s.title,S),t.font=d.string,Rt(s.beforeBody.concat(s.afterBody),S),w=e.displayColors?a+2+e.boxPadding:0,Rt(n,C=>{Rt(C.before,S),Rt(C.lines,S),Rt(C.after,S)}),w=0,t.font=u.string,Rt(s.footer,S),t.restore(),y+=v.width,{width:y,height:x}}function C9(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function S9(s,e,t,n){const{x:o,width:r}=n,a=t.caretSize+t.caretPadding;if(s==="left"&&o+r+a>e.width||s==="right"&&o-r-a<0)return!0}function M9(s,e,t,n){const{x:o,width:r}=t,{width:a,chartArea:{left:l,right:d}}=s;let c="center";return n==="center"?c=o<=(l+d)/2?"left":"right":o<=r/2?c="left":o>=a-r/2&&(c="right"),S9(c,s,e,t)&&(c="center"),c}function xg(s,e,t){const n=t.yAlign||e.yAlign||C9(s,t);return{xAlign:t.xAlign||e.xAlign||M9(s,e,t,n),yAlign:n}}function T9(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function D9(s,e,t){let{y:n,height:o}=s;return e==="top"?n+=t:e==="bottom"?n-=o+t:n-=o/2,n}function wg(s,e,t,n){const{caretSize:o,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:d}=t,c=o+r,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=Wi(a);let v=T9(e,l);const x=D9(e,d,c);return d==="center"?l==="left"?v+=c:l==="right"&&(v-=c):l==="left"?v-=Math.max(u,p)+o:l==="right"&&(v+=Math.max(h,g)+o),{x:Fs(v,0,n.width-e.width),y:Fs(x,0,n.height-e.height)}}function Hl(s,e,t){const n=Xs(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function kg(s){return Jn([],vo(s))}function A9(s,e,t){return _i(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function $g(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Yy={beforeTitle:go,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:go,beforeBody:go,beforeLabel:go,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return kt(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:go,afterBody:go,beforeFooter:go,footer:go,afterFooter:go};function Zs(s,e,t,n){const o=s[e].call(t,n);return typeof o>"u"?Yy[e].call(t,n):o}class eh extends vi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&t.options.animation&&n.animations,r=new Dy(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=A9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,o=Zs(n,"beforeTitle",this,e),r=Zs(n,"title",this,e),a=Zs(n,"afterTitle",this,e);let l=[];return l=Jn(l,vo(o)),l=Jn(l,vo(r)),l=Jn(l,vo(a)),l}getBeforeBody(e,t){return kg(Zs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,o=[];return Rt(e,r=>{const a={before:[],lines:[],after:[]},l=$g(n,r);Jn(a.before,vo(Zs(l,"beforeLabel",this,r))),Jn(a.lines,Zs(l,"label",this,r)),Jn(a.after,vo(Zs(l,"afterLabel",this,r))),o.push(a)}),o}getAfterBody(e,t){return kg(Zs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,o=Zs(n,"beforeFooter",this,e),r=Zs(n,"footer",this,e),a=Zs(n,"afterFooter",this,e);let l=[];return l=Jn(l,vo(o)),l=Jn(l,vo(r)),l=Jn(l,vo(a)),l}_createItems(e){const t=this._active,n=this.chart.data,o=[],r=[],a=[];let l=[],d,c;for(d=0,c=t.length;d<c;++d)l.push($9(this.chart,t[d]));return e.filter&&(l=l.filter((u,h,p)=>e.filter(u,h,p,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),Rt(l,u=>{const h=$g(e.callbacks,u);o.push(Zs(h,"labelColor",this,u)),r.push(Zs(h,"labelPointStyle",this,u)),a.push(Zs(h,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),o=this._active;let r,a=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const l=ha[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const d=this._size=bg(this,n),c=Object.assign({},l,d),u=xg(this.chart,n,c),h=wg(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,o){const r=this.getCaretPosition(e,n,o);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:o,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:d,topRight:c,bottomLeft:u,bottomRight:h}=Wi(l),{x:p,y:g}=e,{width:v,height:x}=t;let y,$,w,S,C,T;return r==="center"?(C=g+x/2,o==="left"?(y=p,$=y-a,S=C+a,T=C-a):(y=p+v,$=y+a,S=C-a,T=C+a),w=y):(o==="left"?$=p+Math.max(d,u)+a:o==="right"?$=p+v-Math.max(c,h)-a:$=this.caretX,r==="top"?(S=g,C=S-a,y=$-a,w=$+a):(S=g+x,C=S+a,y=$+a,w=$-a),T=S),{x1:y,x2:$,x3:w,y1:S,y2:C,y3:T}}drawTitle(e,t,n){const o=this.title,r=o.length;let a,l,d;if(r){const c=vr(n.rtl,this.x,this.width);for(e.x=Hl(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",a=ks(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,d=0;d<r;++d)t.fillText(o[d],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,o,r){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:d,boxWidth:c}=r,u=ks(r.bodyFont),h=Hl(this,"left",r),p=o.x(h),g=d<u.lineHeight?(u.lineHeight-d)/2:0,v=t.y+g;if(r.usePointStyle){const x={radius:Math.min(c,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(p,c)+c/2,$=v+d/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Gf(e,x,y,$),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Gf(e,x,y,$)}else{e.lineWidth=yt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=o.leftForLtr(p,c),y=o.leftForLtr(o.xPlus(p,1),c-2),$=Wi(a.borderRadius);Object.values($).some(w=>w!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Za(e,{x,y:v,w:c,h:d,radius:$}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Za(e,{x:y,y:v+1,w:c-2,h:d-2,radius:$}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,v,c,d),e.strokeRect(x,v,c,d),e.fillStyle=a.backgroundColor,e.fillRect(y,v+1,c-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:o}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:c,boxPadding:u}=n,h=ks(n.bodyFont);let p=h.lineHeight,g=0;const v=vr(n.rtl,this.x,this.width),x=function(z){t.fillText(z,v.x(e.x+g),e.y+p/2),e.y+=p+r},y=v.textAlign(a);let $,w,S,C,T,F,L;for(t.textAlign=a,t.textBaseline="middle",t.font=h.string,e.x=Hl(this,y,n),t.fillStyle=n.bodyColor,Rt(this.beforeBody,x),g=l&&y!=="right"?a==="center"?c/2+u:c+2+u:0,C=0,F=o.length;C<F;++C){for($=o[C],w=this.labelTextColors[C],t.fillStyle=w,Rt($.before,x),S=$.lines,l&&S.length&&(this._drawColorBox(t,e,C,v,n),p=Math.max(h.lineHeight,d)),T=0,L=S.length;T<L;++T)x(S[T]),p=h.lineHeight;Rt($.after,x)}g=0,p=h.lineHeight,Rt(this.afterBody,x),e.y-=r}drawFooter(e,t,n){const o=this.footer,r=o.length;let a,l;if(r){const d=vr(n.rtl,this.x,this.width);for(e.x=Hl(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=d.textAlign(n.footerAlign),t.textBaseline="middle",a=ks(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(o[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,o){const{xAlign:r,yAlign:a}=this,{x:l,y:d}=e,{width:c,height:u}=n,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:v}=Wi(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(l+h,d),a==="top"&&this.drawCaret(e,t,n,o),t.lineTo(l+c-p,d),t.quadraticCurveTo(l+c,d,l+c,d+p),a==="center"&&r==="right"&&this.drawCaret(e,t,n,o),t.lineTo(l+c,d+u-v),t.quadraticCurveTo(l+c,d+u,l+c-v,d+u),a==="bottom"&&this.drawCaret(e,t,n,o),t.lineTo(l+g,d+u),t.quadraticCurveTo(l,d+u,l,d+u-g),a==="center"&&r==="left"&&this.drawCaret(e,t,n,o),t.lineTo(l,d+h),t.quadraticCurveTo(l,d,l+h,d),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){const a=ha[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=bg(this,e),d=Object.assign({},a,this._size),c=xg(t,e,d),u=wg(e,d,c,t);(o._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Xs(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,o,t),ky(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),$y(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,o=e.map(({datasetIndex:l,index:d})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[d],index:d}}),r=!Hd(n,o),a=this._positionChanged(o,t);(r||a)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),l=this._positionChanged(a,e),d=t||!Hd(a,r)||l;return d&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,n,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:o,options:r}=this,a=ha[r.position].call(this,e,t);return a!==!1&&(n!==a.x||o!==a.y)}}Fe(eh,"positioners",ha);var fp={id:"tooltip",_element:eh,positioners:ha,afterInit(s,e,t){t&&(s.tooltip=new eh({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const E9=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function P9(s,e,t,n){const o=s.indexOf(e);if(o===-1)return E9(s,e,t,n);const r=s.lastIndexOf(e);return o!==r?t:o}const R9=(s,e)=>s===null?null:Fs(Math.round(s),0,e);function Cg(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class tl extends Zi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:o,label:r}of t)n[o]===r&&n.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(kt(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:P9(n,e,ht(t,e),this._addedLabels),R9(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,o=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)o.push({value:a});return o}getLabelForValue(e){return Cg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(tl,"id","category"),Fe(tl,"defaults",{ticks:{callback:Cg}});function O9(s,e){const t=[],{bounds:o,step:r,min:a,max:l,precision:d,count:c,maxTicks:u,maxDigits:h,includeBounds:p}=s,g=r||1,v=u-1,{min:x,max:y}=e,$=!kt(a),w=!kt(l),S=!kt(c),C=(y-x)/(h+1);let T=k0((y-x)/v/g)*g,F,L,z,j;if(T<1e-14&&!$&&!w)return[{value:x},{value:y}];j=Math.ceil(y/T)-Math.floor(x/T),j>v&&(T=k0(j*T/v/g)*g),kt(d)||(F=Math.pow(10,d),T=Math.ceil(T*F)/F),o==="ticks"?(L=Math.floor(x/T)*T,z=Math.ceil(y/T)*T):(L=x,z=y),$&&w&&r&&VC((l-a)/r,T/1e3)?(j=Math.round(Math.min((l-a)/T,u)),T=(l-a)/j,L=a,z=l):S?(L=$?a:L,z=w?l:z,j=c-1,T=(z-L)/j):(j=(z-L)/T,Aa(j,Math.round(j),T/1e3)?j=Math.round(j):j=Math.ceil(j));const E=Math.max($0(T),$0(L));F=Math.pow(10,kt(d)?E:d),L=Math.round(L*F)/F,z=Math.round(z*F)/F;let O=0;for($&&(p&&L!==a?(t.push({value:a}),L<a&&O++,Aa(Math.round((L+O*T)*F)/F,a,Sg(a,C,s))&&O++):L<a&&O++);O<j;++O){const I=Math.round((L+O*T)*F)/F;if(w&&I>l)break;t.push({value:I})}return w&&p&&z!==l?t.length&&Aa(t[t.length-1].value,l,Sg(l,C,s))?t[t.length-1].value=l:t.push({value:l}):(!w||z===l)&&t.push({value:z}),t}function Sg(s,e,{horizontal:t,minRotation:n}){const o=oo(n),r=(t?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class Jd extends Zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:o,max:r}=this;const a=d=>o=t?o:d,l=d=>r=n?r:d;if(e){const d=io(o),c=io(r);d<0&&c<0?l(0):d>0&&c>0&&a(0)}if(o===r){let d=r===0?1:Math.abs(r*.05);l(r+d),e||a(o-d)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=O9(o,r);return e.bounds==="ticks"&&ly(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const o=(n-t)/Math.max(e.length-1,1)/2;t-=o,n+=o}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Wc(e,this.chart.options.locale,this.options.ticks.format)}}class Qd extends Jd{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qt(e)?e:0,this.max=Qt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=oo(this.options.ticks.minRotation),o=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe(Qd,"id","linear"),Fe(Qd,"defaults",{ticks:{callback:qc.formatters.numeric}});const sl=s=>Math.floor(Zo(s)),Di=(s,e)=>Math.pow(10,sl(s)+e);function Mg(s){return s/Math.pow(10,sl(s))===1}function Tg(s,e,t){const n=Math.pow(10,t),o=Math.floor(s/n);return Math.ceil(e/n)-o}function I9(s,e){const t=e-s;let n=sl(t);for(;Tg(s,e,n)>10;)n++;for(;Tg(s,e,n)<10;)n--;return Math.min(n,sl(s))}function j9(s,{min:e,max:t}){e=mn(s.min,e);const n=[],o=sl(e);let r=I9(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),d=o>r?Math.pow(10,o):0,c=Math.round((e-d)*a)/a,u=Math.floor((e-d)/l/10)*l*10;let h=Math.floor((c-u)/Math.pow(10,r)),p=mn(s.min,Math.round((d+u+h*Math.pow(10,r))*a)/a);for(;p<t;)n.push({value:p,major:Mg(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,a=r>=0?1:a),p=Math.round((d+u+h*Math.pow(10,r))*a)/a;const g=mn(s.max,p);return n.push({value:g,major:Mg(g),significand:h}),n}class Dg extends Zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Jd.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Qt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qt(e)?Math.max(0,e):null,this.max=Qt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qt(this._userMin)&&(this.min=e===Di(this.min,0)?Di(this.min,-1):Di(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,o=this.max;const r=l=>n=e?n:l,a=l=>o=t?o:l;n===o&&(n<=0?(r(1),a(10)):(r(Di(n,-1)),a(Di(o,1)))),n<=0&&r(Di(o,-1)),o<=0&&a(Di(n,1)),this.min=n,this.max=o}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=j9(t,this);return e.bounds==="ticks"&&ly(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Wc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zo(e),this._valueRange=Zo(this.max)-Zo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Fe(Dg,"id","logarithmic"),Fe(Dg,"defaults",{ticks:{callback:qc.formatters.logarithmic,major:{enabled:!0}}});function th(s){const e=s.ticks;if(e.display&&s.display){const t=Xs(e.backdropPadding);return ht(e.font&&e.font.size,Zt.font.size)+t.height}return 0}function L9(s,e,t){return t=Yt(t)?t:[t],{w:l8(s,e.string,t),h:t.length*e.lineHeight}}function Ag(s,e,t,n,o){return s===n||s===o?{start:e-t/2,end:e+t/2}:s<n||s>o?{start:e-t,end:e}:{start:e,end:e+t}}function F9(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),n=[],o=[],r=s._pointLabels.length,a=s.options.pointLabels,l=a.centerPointLabels?It/r:0;for(let d=0;d<r;d++){const c=a.setContext(s.getPointLabelContext(d));o[d]=c.padding;const u=s.getPointPosition(d,s.drawingArea+o[d],l),h=ks(c.font),p=L9(s.ctx,h,s._pointLabels[d]);n[d]=p;const g=Rs(s.getIndexAngle(d)+l),v=Math.round(sp(g)),x=Ag(v,u.x,p.w,0,180),y=Ag(v,u.y,p.h,90,270);N9(t,e,g,x,y)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=U9(s,n,o)}function N9(s,e,t,n,o){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,d=0;n.start<e.l?(l=(e.l-n.start)/r,s.l=Math.min(s.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/r,s.r=Math.max(s.r,e.r+l)),o.start<e.t?(d=(e.t-o.start)/a,s.t=Math.min(s.t,e.t-d)):o.end>e.b&&(d=(o.end-e.b)/a,s.b=Math.max(s.b,e.b+d))}function z9(s,e,t){const n=s.drawingArea,{extra:o,additionalAngle:r,padding:a,size:l}=t,d=s.getPointPosition(e,n+o+a,r),c=Math.round(sp(Rs(d.angle+ss))),u=W9(d.y,l.h,c),h=V9(c),p=H9(d.x,l.w,h);return{visible:!0,x:d.x,y:u,textAlign:h,left:p,top:u,right:p+l.w,bottom:u+l.h}}function B9(s,e){if(!e)return!0;const{left:t,top:n,right:o,bottom:r}=s;return!(So({x:t,y:n},e)||So({x:t,y:r},e)||So({x:o,y:n},e)||So({x:o,y:r},e))}function U9(s,e,t){const n=[],o=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:l}=r.pointLabels,d={extra:th(r)/2,additionalAngle:a?It/o:0};let c;for(let u=0;u<o;u++){d.padding=t[u],d.size=e[u];const h=z9(s,u,d);n.push(h),l==="auto"&&(h.visible=B9(h,c),h.visible&&(c=h))}return n}function V9(s){return s===0||s===180?"center":s<180?"left":"right"}function H9(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function W9(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function q9(s,e,t){const{left:n,top:o,right:r,bottom:a}=t,{backdropColor:l}=e;if(!kt(l)){const d=Wi(e.borderRadius),c=Xs(e.backdropPadding);s.fillStyle=l;const u=n-c.left,h=o-c.top,p=r-n+c.width,g=a-o+c.height;Object.values(d).some(v=>v!==0)?(s.beginPath(),Za(s,{x:u,y:h,w:p,h:g,radius:d}),s.fill()):s.fillRect(u,h,p,g)}}function K9(s,e){const{ctx:t,options:{pointLabels:n}}=s;for(let o=e-1;o>=0;o--){const r=s._pointLabelItems[o];if(!r.visible)continue;const a=n.setContext(s.getPointLabelContext(o));q9(t,a,r);const l=ks(a.font),{x:d,y:c,textAlign:u}=r;Dr(t,s._pointLabels[o],d,c+l.lineHeight/2,l,{color:a.color,textAlign:u,textBaseline:"middle"})}}function Gy(s,e,t,n){const{ctx:o}=s;if(t)o.arc(s.xCenter,s.yCenter,e,0,qt);else{let r=s.getPointPosition(0,e);o.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=s.getPointPosition(a,e),o.lineTo(r.x,r.y)}}function Y9(s,e,t,n,o){const r=s.ctx,a=e.circular,{color:l,lineWidth:d}=e;!a&&!n||!l||!d||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),Gy(s,t,a,n),r.closePath(),r.stroke(),r.restore())}function G9(s,e,t){return _i(s,{label:t,index:e,type:"pointLabel"})}class Wl extends Jd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xs(th(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Qt(e)&&!isNaN(e)?e:0,this.max=Qt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/th(this.options))}generateTickLabels(e){Jd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const o=Wt(this.options.pointLabels.callback,[t,n],this);return o||o===0?o:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?F9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,o))}getIndexAngle(e){const t=qt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Rs(e*t+oo(n))}getDistanceFromCenterForValue(e){if(kt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(kt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return G9(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const o=this.getIndexAngle(e)-ss+n;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:o,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:o,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Gy(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:o,border:r}=t,a=this._pointLabels.length;let l,d,c;if(t.pointLabels.display&&K9(this,a),o.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){d=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(h),g=o.setContext(p),v=r.setContext(p);Y9(this,g,d,a,v)}}),n.display){for(e.save(),l=a-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:p}=u;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(l,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const o=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const c=n.setContext(this.getContext(d)),u=ks(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(l.label).width,e.fillStyle=c.backdropColor;const h=Xs(c.backdropPadding);e.fillRect(-a/2-h.left,-r-u.size/2-h.top,a+h.width,u.size+h.height)}Dr(e,l.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Fe(Wl,"id","radialLinear"),Fe(Wl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Fe(Wl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Fe(Wl,"descriptors",{angleLines:{_fallback:"grid"}});const Jc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(Jc);function Eg(s,e){return s-e}function Pg(s,e){if(kt(e))return null;const t=s._adapter,{parser:n,round:o,isoWeekday:r}=s._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Qt(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(o&&(a=o==="week"&&(Ja(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,o)),+a)}function Rg(s,e,t,n){const o=nn.length;for(let r=nn.indexOf(s);r<o-1;++r){const a=Jc[nn[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=n)return nn[r]}return nn[o-1]}function X9(s,e,t,n,o){for(let r=nn.length-1;r>=nn.indexOf(t);r--){const a=nn[r];if(Jc[a].common&&s._adapter.diff(o,n,a)>=e-1)return a}return nn[t?nn.indexOf(t):0]}function J9(s){for(let e=nn.indexOf(s)+1,t=nn.length;e<t;++e)if(Jc[nn[e]].common)return nn[e]}function Og(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:o}=np(t,e),r=t[n]>=e?t[n]:t[o];s[r]=!0}}function Q9(s,e,t,n){const o=s._adapter,r=+o.startOf(e[0].value,n),a=e[e.length-1].value;let l,d;for(l=r;l<=a;l=+o.add(l,1,n))d=t[l],d>=0&&(e[d].major=!0);return e}function Ig(s,e,t){const n=[],o={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],o[l]=a,n.push({value:l,major:!1});return r===0||!t?n:Q9(s,n,o,t)}class Zd extends Zi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),o=this._adapter=new $S._date(e.adapters.date);o.init(t),Da(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Pg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:o,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function d(c){!a&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),o=Qt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),n),r=Qt(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,a=this.max,l=KC(o,r,a);return this._unit=t.unit||(n.autoSkip?Rg(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):X9(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:J9(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),Ig(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Fs(t,0,a),n=Fs(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,o=this.options,r=o.time,a=r.unit||Rg(r.minUnit,t,n,this._getLabelCapacity(t)),l=ht(o.ticks.stepSize,1),d=a==="week"?r.isoWeekday:!1,c=Ja(d)||d===!0,u={};let h=t,p,g;if(c&&(h=+e.startOf(h,"isoWeek",d)),h=+e.startOf(h,c?"day":a),e.diff(n,t,a)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+a);const v=o.ticks.source==="data"&&this.getDataTimestamps();for(p=h,g=0;p<n;p=+e.add(p,l,a),g++)Og(u,p,v);return(p===n||o.bounds==="ticks"||g===1)&&Og(u,p,v),Object.keys(u).sort(Eg).map(x=>+x)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,r=this._unit,a=t||o[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,o){const r=this.options,a=r.ticks.callback;if(a)return Wt(a,[e,t,n],this);const l=r.time.displayFormats,d=this._unit,c=this._majorUnit,u=d&&l[d],h=c&&l[c],p=n[t],g=c&&h&&p&&p.major;return this._adapter.format(e,o||(g?h:u))}generateTickLabels(e){let t,n,o;for(t=0,n=e.length;t<n;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,o=oo(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,o=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Ig(this,[e],this._majorUnit),o),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,n=o.length;t<n;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const o=this.getLabels();for(t=0,n=o.length;t<n;++t)e.push(Pg(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uy(e.sort(Eg))}}Fe(Zd,"id","time"),Fe(Zd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ql(s,e,t){let n=0,o=s.length-1,r,a,l,d;t?(e>=s[n].pos&&e<=s[o].pos&&({lo:n,hi:o}=Ui(s,"pos",e)),{pos:r,time:l}=s[n],{pos:a,time:d}=s[o]):(e>=s[n].time&&e<=s[o].time&&({lo:n,hi:o}=Ui(s,"time",e)),{time:r,pos:l}=s[n],{time:a,pos:d}=s[o]);const c=a-r;return c?l+(d-l)*(e-r)/c:l}class jg extends Zd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ql(t,this.min),this._tableRange=ql(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,o=[],r=[];let a,l,d,c,u;for(a=0,l=e.length;a<l;++a)c=e[a],c>=t&&c<=n&&o.push(c);if(o.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,l=o.length;a<l;++a)u=o[a+1],d=o[a-1],c=o[a],Math.round((u+d)/2)!==c&&r.push({time:c,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ql(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ql(this._table,n*this._tableRange+this._minPos,!0)}}Fe(jg,"id","timeseries"),Fe(jg,"defaults",Zd.defaults);const Z9=["id"],sh=pe({__name:"LineChart",props:{id:{},data:{},backgroundColor:{},borderColor:{},tooltipLabel:{}},setup(s){const e=s;gn.register(si,yd,gd,tl,Qd,v9,fp);let t={};nt(function(){const r=document.getElementById(e.id);t=new gn(r,o)}),Or(function(){t.data.datasets[0].data=e.data,t.update()});const o={type:"line",data:{datasets:[{label:e.tooltipLabel,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:4,pointBackgroundColor:"white",fill:!0,data:e.data}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},elements:{point:{pointStyle:"cross",backgroundColor:"blue",borderColor:"black"}},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(_(),b("canvas",{id:s.id},null,8,Z9))}}),eM=["id"],tM=pe({__name:"BarChart",props:{id:{},data:{},labels:{},tooltipLabel:{}},setup(s){const e=s;gn.register(bd,md,tl,Qd,fp,Ky);let t={};nt(function(){const r=document.getElementById(e.id);t=new gn(r,o)}),Or(function(){t.data&&(t.data.datasets=n.datasets,t.data.labels=e.labels||[],t.update())});const n={labels:e.labels||[],datasets:e.data||[]},o={type:"bar",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{usePointStyle:!0}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}};return(r,a)=>(_(),b("canvas",{id:s.id},null,8,eM))}}),sM=["id"],nM=pe({__name:"DoughnutChart",props:{id:{},data:{},labels:{},backgroundColors:{}},setup(s){const e=s;gn.register(fa,ca,tl,fp,Ky);let t={};const n=["rgba(99, 102, 241, 0.8)","rgba(236, 72, 153, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)","rgba(59, 130, 246, 0.8)","rgba(249, 115, 22, 0.8)","rgba(14, 165, 233, 0.8)","rgba(217, 70, 239, 0.8)"];nt(function(){const a=document.getElementById(e.id);t=new gn(a,r)}),Or(function(){t.data&&(t.data.labels=e.labels,t.data.datasets[0].data=e.data,t.update())});const r={type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.backgroundColors||n,borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{usePointStyle:!0}}}};return(a,l)=>(_(),b("canvas",{id:s.id},null,8,sM))}}),oM=pe({__name:"Modals",setup(s){const e=jt();return(t,n)=>(_(),oe(wh,{to:"body"},[M(a5,{name:"modal"},{default:X(()=>[(_(!0),b(ue,null,xe(m(e).components,(o,r)=>(_(),oe(Mo(o.component),w_({ref_for:!0},o.payload,{key:r}),null,16))),128))]),_:1})]))}}),iM=pe({__name:"FlashMessage",setup(s){const e=Fn();return(t,n)=>(_(),oe(wh,{to:"body"},[m(e).message?(_(),b("div",{key:0,class:ne(["fixed h-10 px-4 rounded flex items-center text-white text-sm",{"bg-green-600":m(e).type=="success","bg-red-500":m(e).type=="danger"}]),style:{right:"2rem",bottom:"7%","touch-action":"pan-y","z-index":"2000"}},[se(f(m(e).message)+" ",1),M(m(jc),{class:"w-5 ml-2 cursor-pointer",onClick:m(e).hide},null,8,["onClick"])],2)):P("",!0)]))}}),rM={class:"inline-flex items-center"},aM={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",viewBox:"0 0 8 14",class:"flex-shrink-0 text-gray-400 ltr:ml-2 rtl:mr-2"},He=pe({__name:"TableTh",props:{name:{},index:{},sort:{default:""},label:{},align:{default:"left"}},setup(s){const t=Ss(s.name)();return(n,o)=>(_(),b("th",{class:ne(["bg-gray-50 px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500",{"cursor-pointer":s.sort,"text-center":s.align=="center","ltr:text-left rtl:text-right":s.align!="center"}]),onClick:o[0]||(o[0]=r=>m(t).sort(s.sort))},[i("span",rM,[se(f(s.label)+" ",1),s.sort?(_(),b("svg",aM,[i("path",{class:ne(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="asc"&&s.index.params.orderBy==s.sort}]),d:"M1.70710678 4.70710678c-.39052429.39052429-1.02368927.39052429-1.41421356 0-.3905243-.39052429-.3905243-1.02368927 0-1.41421356l3-3c.39052429-.3905243 1.02368927-.3905243 1.41421356 0l3 3c.39052429.39052429.39052429 1.02368927 0 1.41421356-.39052429.39052429-1.02368927.39052429-1.41421356 0L4 2.41421356 1.70710678 4.70710678z"},null,2),i("path",{class:ne(["fill-current",{"text-gray-600":s.index.params.orderByDirection=="desc"&&s.index.params.orderBy==s.sort}]),d:"M6.29289322 9.29289322c.39052429-.39052429 1.02368927-.39052429 1.41421356 0 .39052429.39052429.39052429 1.02368928 0 1.41421358l-3 3c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-3-3c-.3905243-.3905243-.3905243-1.02368929 0-1.41421358.3905243-.39052429 1.02368927-.39052429 1.41421356 0L4 11.5857864l2.29289322-2.29289318z"},null,2)])):P("",!0)])],2))}}),lM={class:"mb-4 flex"},dM={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},ec=pe({__name:"PageTopbar",props:{title:{},btnTo:{},btnText:{},permission:{}},setup(s){return(e,t)=>{const n=wn("RouterLink");return _(),b("div",lM,[i("h1",dM,f(s.title),1),Cs(e.$slots,"default"),s.btnText&&s.btnTo&&e.can(s.permission||"")?(_(),oe(n,{key:0,to:s.btnTo,custom:""},{default:X(({navigate:o})=>[M(Ve,{class:"ml-auto","data-cy":"topbar-create-button",onClick:o},{default:X(()=>[se(f(s.btnText),1)]),_:1},8,["onClick"])]),_:1},8,["to"])):P("",!0)])}}}),cM={key:0,class:"block rounded-full"},uM=["src"],fM={key:1,class:"inline-block rounded-full bg-gray-100 text-gray-300"},ms=pe({__name:"UserAvatar",props:{avatar:{}},setup(s){return(e,t)=>s.avatar?(_(),b("span",cM,[i("img",{src:s.avatar,class:"h-full w-full rounded-full"},null,8,uM)])):(_(),b("span",fM,[...t[0]||(t[0]=[i("svg",{class:"rounded-full",fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])]))}}),hM=["for"],pM={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},hp=pe({__name:"FieldBase",props:{full:{type:Boolean},inline:{type:Boolean},label:{},lg:{type:Boolean},name:{}},setup(s){const e=et("form_name",""),t=cs(e)();return(n,o)=>(_(),b("div",{class:ne({"grid grid-cols-3 border-b border-gray-200 py-5 last:border-b-0":s.inline})},[s.label?(_(),b("label",{key:0,for:m(e)+"-"+s.name,class:ne(["block text-sm font-medium text-gray-700",{"mt-px pt-2":s.inline}])},f(s.label),11,hM)):P("",!0),i("div",{class:ne(["sm:col-span-2",{"mt-1":!s.inline}])},[Cs(n.$slots,"default"),m(t).errors[s.name]?(_(),b("div",pM,f(m(t).errors[s.name][0]),1)):P("",!0)],2)],2))}});function fo(){return pe({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean},setup(s){const e=et("form_name",""),t=cs(e)();return()=>M(hp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>[V(M("input",{"onUpdate:modelValue":n=>t.data[s.name]=n,type:s.type,id:e+"-"+s.name,placeholder:s.label,disabled:s.disabled,class:{"mt-1 block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!t.errors[s.name],"border-red-600":t.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline}},null),[[h5,t.data[s.name]]])]})}})}function pl(){return pe({props:{name:{type:String,required:!0},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(s,{slots:e}){const t=et("form_name",""),n=et("__"),o=cs(t)(),r=null;return()=>M(hp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var a;return[M("div",{class:"flex flex-wrap"},[V(M("select",{required:!0,id:t+"-"+s.name,class:{"block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm":!0,"border-gray-300":!o.errors[s.name],"border-red-600":o.errors[s.name],"sm:max-w-full":s.full,"sm:max-w-lg":s.lg,"max-w-lg sm:max-w-xs":s.inline},"onUpdate:modelValue":l=>o.data[s.name]=l},[M("option",{value:r,disabled:!0},[n("Choose"),se(" "),s.label]),(a=o.options[s.name])==null?void 0:a.map(l=>M("option",{value:l[s.valueKey]},[l[s.labelKey]]))]),[[Ne,o.data[s.name]]]),e.default&&e.default()])]}})}})}function Xy(){return pe({props:{name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:""},inline:Boolean,lg:Boolean,full:Boolean,disabled:Boolean,inputClass:{type:String,default:""}},setup(s){const e=et("form_name",""),t=cs(e)();return()=>M(hp,{inline:s.inline,label:s.label,name:s.name,lg:s.lg,full:s.full},{default:()=>{var n;return[M("div",{class:"grid grid-cols-3 gap-2"},[(n=t.options[s.name])==null?void 0:n.map(o=>M("div",{class:"flex items-center"},[V(M("input",{id:`${e}-${s.name}-${o.value}`,type:"checkbox",value:o.value,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500","onUpdate:modelValue":r=>t.data[s.name]=r},null),[[ps,t.data[s.name]]]),M("label",{for:`${e}-${s.name}-${o.value}`,class:"ml-3 block whitespace-nowrap text-sm font-medium text-gray-700"},[o.label])]))])]}})}})}const mM=pe({__name:"TaskItemTimer",props:{task:{}},setup(s){const e=R(!1),t=Ur();return(n,o)=>(_(),b("div",{class:"cursor-pointer",onClick:o[1]||(o[1]=r=>e.value=!e.value)},[s.task.id==m(t).taskId?(_(),oe(m(Nr),{key:0,class:"w-5 text-red-500 hover:text-red-800",onClick:m(t).stop},null,8,["onClick"])):(_(),oe(m(Oc),{key:1,class:"w-5 text-gray-500 hover:text-gray-800",onClick:o[0]||(o[0]=r=>m(t).start(s.task))}))]))}}),gM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},_M={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},vM={class:"absolute mt-2 w-64 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},yM={key:0,class:"py-4 text-center text-sm text-gray-700"},bM={key:1},xM={class:"divide-y divide-gray-100"},wM={key:0,class:"flex items-start justify-between text-gray-900"},kM={class:"mt-2 flex items-center text-xs text-gray-600"},$M={key:1,class:"mt-1.5 flex items-center"},CM=["href","onClick"],SM=["href","onClick"],MM=pe({__name:"TimerDropdown",setup(s){const e=Ur();e.fetch();function t(n){return vt.user.id==n}return(n,o)=>{const r=wn("router-link");return _(),oe(m(Ns),null,{trigger:X(()=>[i("button",gM,[M(m(Oo),{class:"h-6 w-6"}),m(e).timers.length?(_(),b("div",_M,f(m(e).timers.length>9?"9+":m(e).timers.length),1)):P("",!0)])]),content:X(()=>[i("div",vM,[m(e).timers.length?(_(),b("div",bM,[i("ul",xM,[(_(!0),b(ue,null,xe(m(e).timers,a=>(_(),b("li",{key:a.id,class:"px-4 py-2 text-sm hover:bg-gray-100"},[a.task?(_(),b("h3",wM,[se(f(a.task.title)+" ",1),t(a.user_id)?(_(),oe(mM,{key:0,class:"ml-3",task:a.task},null,8,["task"])):P("",!0)])):P("",!0),i("h4",kM," Started at: "+f(a.started_at),1),a.task&&a.task.project?(_(),b("div",$M,[M(r,{custom:"",to:"/projects/"+a.task.project.id},{default:X(({href:l,navigate:d})=>{var c;return[i("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[i("span",{class:"mr-1.5 block h-2 w-2 rounded-full",style:$t({backgroundColor:(c=a.task.project.meta)==null?void 0:c.color}),"aria-hidden":"true"},"",4),se(" "+f(a.task.project.name),1)],8,CM)]}),_:2},1032,["to"]),o[0]||(o[0]=i("span",{class:"px-2"},"-",-1)),M(r,{custom:"",to:"/users/"+a.user.id},{default:X(({href:l,navigate:d})=>[i("a",{href:l,class:"flex items-center text-xs text-gray-600 transition duration-150 ease-in-out hover:underline",role:"menuitem",onClick:d},[M(m(ms),{class:"mr-1.5 h-4 w-4 text-[9px] font-semibold",avatar:a.user.avatar},null,8,["avatar"]),se(" "+f(a.user.name),1)],8,SM)]),_:2},1032,["to"])])):P("",!0)]))),128))])])):(_(),b("p",yM,f(n.__("No Timers!")),1))])]),_:1})}}}),TM={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none"},DM={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},AM={class:"absolute z-50 mt-2 w-80 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu"},EM={class:"border-b border-gray-200 bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-3"},PM={class:"flex items-center justify-between"},RM={class:"p-4"},OM={class:"mb-4"},IM={class:"mb-1 flex items-center justify-between text-sm"},jM={class:"h-4 w-full overflow-hidden rounded-full bg-gray-200"},LM={class:"mt-1 text-right text-xs text-gray-500"},FM={key:0,class:"mb-4 rounded-md bg-red-50 p-2"},NM={class:"flex items-center text-xs text-red-700"},zM={class:"mb-4 flex gap-2"},BM=["disabled"],UM=["disabled"],VM={key:1,class:"mb-4 rounded-md border border-gray-200 bg-gray-50 p-3"},HM={class:"mb-2"},WM={class:"mb-2"},qM={class:"flex gap-2"},KM=["disabled"],YM={class:"border-t border-gray-200 pt-3"},GM={key:0,class:"max-h-32 space-y-1 overflow-y-auto"},XM={class:"text-gray-600"},JM={class:"text-gray-400"},QM={key:1,class:"text-xs text-gray-400"},ZM=pe({__name:"GeneratorDropdown",setup(s){const e=R(0),t=R(12),n=R(2),o=R(!1),r=R([]),a=R(!1),l=R(!1),d=R(""),c=R(""),u=Pe(()=>t.value<=0?0:Math.round(e.value/t.value*100)),h=Pe(()=>e.value<=n.value),p=Pe(()=>u.value<20?"bg-red-500":u.value<50?"bg-yellow-500":"bg-green-500"),g=w=>{if(!w)return"";const S=new Date(w),T=new Date().getTime()-S.getTime(),F=Math.floor(T/(1e3*60)),L=Math.floor(T/(1e3*60*60));return F<60?`${F}m ago`:L<24?`${L}h ago`:S.toLocaleDateString()},v=()=>{me.get("generator/status").then(w=>{w.data.generator&&(e.value=Number(w.data.generator.current_level)||0,t.value=Number(w.data.generator.tank_capacity)||12,n.value=Number(w.data.generator.reserve_fuel)||2,o.value=!!w.data.generator.is_running)}).catch(()=>{}),me.get("generator/logs",{params:{per_page:5}}).then(w=>{r.value=w.data.data||[]}).catch(()=>{})},x=()=>{a.value=!0,me.post("generator/start").then(()=>{v()}).catch(w=>{var S,C;alert(((C=(S=w.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to start generator")}).finally(()=>{a.value=!1})},y=()=>{a.value=!0,me.post("generator/stop").then(()=>{v()}).catch(w=>{var S,C;alert(((C=(S=w.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to stop generator")}).finally(()=>{a.value=!1})},$=()=>{d.value&&(a.value=!0,me.post("generator/add-fuel",{amount:parseFloat(d.value),notes:c.value}).then(()=>{d.value="",c.value="",l.value=!1,v()}).catch(w=>{var S,C;alert(((C=(S=w.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to add fuel")}).finally(()=>{a.value=!1}))};return v(),(w,S)=>(_(),oe(m(Ns),{"close-outside":!0},{trigger:X(()=>[i("button",TM,[M(m(wv),{class:ne(["h-6 w-6",{"text-green-500":o.value}])},null,8,["class"]),h.value?(_(),b("div",DM," ! ")):P("",!0)])]),content:X(()=>[i("div",AM,[i("div",EM,[i("div",PM,[S[6]||(S[6]=i("span",{class:"font-semibold text-white"},"Generator",-1)),i("span",{class:ne(["rounded-full px-2 py-0.5 text-xs font-medium",o.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},f(o.value?"Running":"Stopped"),3)])]),i("div",RM,[i("div",OM,[i("div",IM,[S[7]||(S[7]=i("span",{class:"text-gray-600"},"Fuel Level",-1)),i("span",{class:ne(["font-semibold",u.value<20?"text-red-600":"text-gray-900"])},f(e.value.toFixed(1))+" / "+f(t.value)+" L ",3)]),i("div",jM,[i("div",{class:ne(["h-full rounded-full transition-all duration-500",p.value]),style:$t({width:u.value+"%"})},null,6)]),i("div",LM,f(u.value)+"%",1)]),h.value?(_(),b("div",FM,[i("p",NM,[M(m(Sv),{class:"mr-1 h-4 w-4"}),S[8]||(S[8]=se(" Low fuel! Please refuel soon. ",-1))])])):P("",!0),i("div",zM,[o.value?(_(),b("button",{key:1,disabled:a.value,class:"flex flex-1 items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",onClick:We(y,["stop"])},[M(m(Nr),{class:"mr-1 h-4 w-4"}),S[10]||(S[10]=se(" Stop ",-1))],8,UM)):(_(),b("button",{key:0,disabled:e.value<=0||a.value,class:"flex flex-1 items-center justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",onClick:We(x,["stop"])},[M(m(Oc),{class:"mr-1 h-4 w-4"}),S[9]||(S[9]=se(" Start ",-1))],8,BM)),i("button",{class:"flex flex-1 items-center justify-center rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",onClick:S[0]||(S[0]=We(C=>l.value=!0,["stop"]))},[M(m(qn),{class:"mr-1 h-4 w-4"}),S[11]||(S[11]=se(" Add Fuel ",-1))])]),l.value?(_(),b("div",VM,[i("div",HM,[S[12]||(S[12]=i("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Amount (Liters)",-1)),V(i("input",{"onUpdate:modelValue":S[1]||(S[1]=C=>d.value=C),type:"number",step:"0.5",min:"0.5",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"Enter amount",onClick:S[2]||(S[2]=We(()=>{},["stop"]))},null,512),[[ie,d.value]])]),i("div",WM,[S[13]||(S[13]=i("label",{class:"mb-1 block text-xs font-medium text-gray-700"},"Notes (optional)",-1)),V(i("input",{"onUpdate:modelValue":S[3]||(S[3]=C=>c.value=C),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-orange-500 focus:ring-orange-500",placeholder:"e.g., Purchased from station",onClick:S[4]||(S[4]=We(()=>{},["stop"]))},null,512),[[ie,c.value]])]),i("div",qM,[i("button",{class:"flex-1 rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300",onClick:S[5]||(S[5]=We(C=>l.value=!1,["stop"]))}," Cancel "),i("button",{disabled:!d.value||a.value,class:"flex-1 rounded-md bg-orange-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-orange-700 disabled:opacity-50",onClick:We($,["stop"])}," Add ",8,KM)])])):P("",!0),i("div",YM,[S[14]||(S[14]=i("h4",{class:"mb-2 text-xs font-semibold uppercase text-gray-500"},"Recent Activity",-1)),r.value.length?(_(),b("div",GM,[(_(!0),b(ue,null,xe(r.value,C=>{var T;return _(),b("div",{key:C.id,class:"flex items-center justify-between text-xs"},[i("span",XM,[i("span",{class:ne(["mr-1 inline-block rounded px-1 py-0.5 text-xs font-medium",C.action==="refuel"?"bg-green-100 text-green-700":C.action==="start"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"])},f(C.action),3),se(" "+f(((T=C.user)==null?void 0:T.name)||"System"),1)]),i("span",JM,f(g(C.created_at)),1)])}),128))])):(_(),b("p",QM,"No recent activity"))])])])]),_:1}))}}),eT={class:"sm:col-span-12"},tT={class:"block text-sm font-medium text-gray-700"},sT=["value"],nT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},Jy=pe({__name:"FieldColor",props:{name:{}},setup(s){const e=cs(et("form_name",""))();return(t,n)=>(_(),b("div",eT,[i("label",tT,f(t.__("Color")),1),(_(!0),b(ue,null,xe(m(e).options.color,o=>(_(),b("label",{key:o.value,class:"mt-1 inline-block h-6 w-6 cursor-pointer rounded ltr:mr-1 rtl:ml-1",style:$t({"background-color":o.value,color:m(e).data.color==o.value?"#ffffff":o.value})},[n[1]||(n[1]=i("svg",{viewBox:"0 0 16 16",fill:"currentColor"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)),V(i("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>m(e).data.color=r),type:"radio",value:o.value,class:"hidden"},null,8,sT),[[no,m(e).data.color]])],4))),128)),m(e).errors.color?(_(),b("div",nT,f(m(e).errors.color[0]),1)):P("",!0)]))}}),oT={class:"sm:col-span-12"},iT={class:"mb-4 flex items-center text-sm"},rT={class:"block text-sm font-medium text-gray-700"},aT={class:"flex flex-1 items-center pl-4"},lT={role:"list",class:"divide-y divide-gray-200 overflow-y-auto rounded-md border border-gray-200",style:{"max-height":"228px"}},dT={class:"flex items-start"},cT={class:"text-sm ltr:ml-3 rtl:mr-3"},uT={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},fT={class:"block truncate text-sm leading-none text-gray-500"},hT={class:"ltr:ml-auto rtl:mr-auto"},pT=["value"],mT={key:0,class:"mt-2 text-xs italic leading-normal text-red-600"},gT=pe({__name:"FieldChooseUsers",props:{name:{}},setup(s){const e=cs(et("form_name",""))();function t(){e.data.users=e.options.users.map(o=>o.id)}function n(){e.data.users=[]}return(o,r)=>{var a;return _(),b("div",oT,[i("div",iT,[i("p",rT,f(o.__("Team Members"))+" ("+f((a=m(e).data.users)==null?void 0:a.length)+") ",1),i("div",aT,[i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:t},f(o.__("Select All")),1),r[1]||(r[1]=i("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:n},f(o.__("Deselect All")),1)])]),i("div",lT,[(_(!0),b(ue,null,xe(m(e).options.users,l=>(_(),b("label",{key:l.id,class:"flex cursor-pointer items-center px-4 py-3"},[i("div",dT,[M(m(ms),{class:"h-6 w-6",avatar:l.avatar},null,8,["avatar"]),i("div",cT,[i("span",uT,f(l.name),1),i("span",fT,f(l.email),1)])]),i("div",hT,[V(i("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>m(e).data.users=d),type:"checkbox",value:l.id,class:"h-5 w-5 cursor-pointer rounded-full border-gray-300 focus:outline-none focus:ring-0 focus:ring-offset-0"},null,8,pT),[[ps,m(e).data.users]])])]))),128))]),m(e).errors.users?(_(),b("div",mT,f(m(e).errors.users[0]),1)):P("",!0)])}}}),pp=an("project-index",()=>{const s=R([]),e=R(!1);n();function t(){jt().add(Qc)}async function n(){e.value=!0;const{data:l}=await me.get("projects");e.value=!1,s.value=l}function o(){}function r(){}function a(){}return{create:t,fetching:e,items:s,archive:o,favorite:r,edit:a}}),Lg="project",Qc=pe({__name:"Form",setup(s){const e=cs(Lg)(),t=pp(),n=Ss("projects")(),o=fo();return e.onSuccess(r=>{!new URLSearchParams(window.location.search).has("archived")&&Array.isArray(n.data)&&n.data.push(r.model),t.items.push(r.model),jt().pop()}),(r,a)=>(_(),oe(m(zs),{name:Lg,uri:"projects"},{default:X(()=>[M(m(o),{name:"name",label:"Name",class:"col-span-12"}),M(Jy,{name:"color"}),M(gT,{name:"users"})]),_:1}))}}),Fg="invitation",Qy=pe({__name:"InvitationForm",setup(s){const e=cs(Fg)(),t=Ss("invitation")(),n=fo(),o=pl();return e.onSuccess(function(){t.fetch(),jt().pop()}),(r,a)=>(_(),oe(m(zs),{name:Fg,uri:"invitations",title:"Invite Team Member"},{default:X(()=>[M(m(n),{name:"email",label:"Email",class:"col-span-12"}),M(m(o),{name:"role",label:"Role",class:"col-span-12"})]),_:1}))}}),_T={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},vT={class:"ltr:ml-2 rtl:mr-2"},yT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},bT={class:"py-1",role:"none"},xT=pe({__name:"_CreateDropdown",setup(s){function e(){jt().add(Qc)}function t(){jt().add(Qy)}return(n,o)=>(_(),oe(m(Ns),{name:"header-create"},{trigger:X(()=>[i("button",_T,[M(m(qn),{class:"h-4 w-4"}),i("span",vT,f(n.__("Create")),1)])]),content:X(()=>[i("div",yT,[i("div",bT,[V(i("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(e,["prevent"])},f(n.__("Create Project")),513),[[Ft,n.can("project:create")]]),V(i("a",{href:"#",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o[0]||(o[0]=We(r=>t(),["prevent"]))},f(n.__("Invite Team Member")),513),[[Ft,n.can("user:create")]])])])]),_:1}))}});function wT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Zy={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(s,e){(function(n,o){s.exports=o()})(window,function(){return function(t){var n={};function o(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=n,o.d=function(r,a,l){o.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},o.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,a){if(a&1&&(r=o(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var d in r)o.d(l,d,(function(c){return r[c]}).bind(null,d));return l},o.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(a,"a",a),a},o.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},o.p="",o(o.s=2)}([function(t,n,o){var r=this&&this.__extends||function(){var x=function(y,$){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var C in S)S.hasOwnProperty(C)&&(w[C]=S[C])},x(y,$)};return function(y,$){x(y,$);function w(){this.constructor=y}y.prototype=$===null?Object.create($):(w.prototype=$.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=256,l=function(){function x(y){y===void 0&&(y="="),this._paddingCharacter=y}return x.prototype.encodedLength=function(y){return this._paddingCharacter?(y+2)/3*4|0:(y*8+5)/6|0},x.prototype.encode=function(y){for(var $="",w=0;w<y.length-2;w+=3){var S=y[w]<<16|y[w+1]<<8|y[w+2];$+=this._encodeByte(S>>>3*6&63),$+=this._encodeByte(S>>>2*6&63),$+=this._encodeByte(S>>>1*6&63),$+=this._encodeByte(S>>>0*6&63)}var C=y.length-w;if(C>0){var S=y[w]<<16|(C===2?y[w+1]<<8:0);$+=this._encodeByte(S>>>3*6&63),$+=this._encodeByte(S>>>2*6&63),C===2?$+=this._encodeByte(S>>>1*6&63):$+=this._paddingCharacter||"",$+=this._paddingCharacter||""}return $},x.prototype.maxDecodedLength=function(y){return this._paddingCharacter?y/4*3|0:(y*6+7)/8|0},x.prototype.decodedLength=function(y){return this.maxDecodedLength(y.length-this._getPaddingLength(y))},x.prototype.decode=function(y){if(y.length===0)return new Uint8Array(0);for(var $=this._getPaddingLength(y),w=y.length-$,S=new Uint8Array(this.maxDecodedLength(w)),C=0,T=0,F=0,L=0,z=0,j=0,E=0;T<w-4;T+=4)L=this._decodeChar(y.charCodeAt(T+0)),z=this._decodeChar(y.charCodeAt(T+1)),j=this._decodeChar(y.charCodeAt(T+2)),E=this._decodeChar(y.charCodeAt(T+3)),S[C++]=L<<2|z>>>4,S[C++]=z<<4|j>>>2,S[C++]=j<<6|E,F|=L&a,F|=z&a,F|=j&a,F|=E&a;if(T<w-1&&(L=this._decodeChar(y.charCodeAt(T)),z=this._decodeChar(y.charCodeAt(T+1)),S[C++]=L<<2|z>>>4,F|=L&a,F|=z&a),T<w-2&&(j=this._decodeChar(y.charCodeAt(T+2)),S[C++]=z<<4|j>>>2,F|=j&a),T<w-3&&(E=this._decodeChar(y.charCodeAt(T+3)),S[C++]=j<<6|E,F|=E&a),F!==0)throw new Error("Base64Coder: incorrect characters for decoding");return S},x.prototype._encodeByte=function(y){var $=y;return $+=65,$+=25-y>>>8&0-65-26+97,$+=51-y>>>8&26-97-52+48,$+=61-y>>>8&52-48-62+43,$+=62-y>>>8&62-43-63+47,String.fromCharCode($)},x.prototype._decodeChar=function(y){var $=a;return $+=(42-y&y-44)>>>8&-a+y-43+62,$+=(46-y&y-48)>>>8&-a+y-47+63,$+=(47-y&y-58)>>>8&-a+y-48+52,$+=(64-y&y-91)>>>8&-a+y-65+0,$+=(96-y&y-123)>>>8&-a+y-97+26,$},x.prototype._getPaddingLength=function(y){var $=0;if(this._paddingCharacter){for(var w=y.length-1;w>=0&&y[w]===this._paddingCharacter;w--)$++;if(y.length<4||$>2)throw new Error("Base64Coder: incorrect padding")}return $},x}();n.Coder=l;var d=new l;function c(x){return d.encode(x)}n.encode=c;function u(x){return d.decode(x)}n.decode=u;var h=function(x){r(y,x);function y(){return x!==null&&x.apply(this,arguments)||this}return y.prototype._encodeByte=function($){var w=$;return w+=65,w+=25-$>>>8&0-65-26+97,w+=51-$>>>8&26-97-52+48,w+=61-$>>>8&52-48-62+45,w+=62-$>>>8&62-45-63+95,String.fromCharCode(w)},y.prototype._decodeChar=function($){var w=a;return w+=(44-$&$-46)>>>8&-a+$-45+62,w+=(94-$&$-96)>>>8&-a+$-95+63,w+=(47-$&$-58)>>>8&-a+$-48+52,w+=(64-$&$-91)>>>8&-a+$-65+0,w+=(96-$&$-123)>>>8&-a+$-97+26,w},y}(l);n.URLSafeCoder=h;var p=new h;function g(x){return p.encode(x)}n.encodeURLSafe=g;function v(x){return p.decode(x)}n.decodeURLSafe=v,n.encodedLength=function(x){return d.encodedLength(x)},n.maxDecodedLength=function(x){return d.maxDecodedLength(x)},n.decodedLength=function(x){return d.decodedLength(x)}},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var r="utf8: invalid string",a="utf8: invalid source encoding";function l(u){for(var h=new Uint8Array(d(u)),p=0,g=0;g<u.length;g++){var v=u.charCodeAt(g);v<128?h[p++]=v:v<2048?(h[p++]=192|v>>6,h[p++]=128|v&63):v<55296?(h[p++]=224|v>>12,h[p++]=128|v>>6&63,h[p++]=128|v&63):(g++,v=(v&1023)<<10,v|=u.charCodeAt(g)&1023,v+=65536,h[p++]=240|v>>18,h[p++]=128|v>>12&63,h[p++]=128|v>>6&63,h[p++]=128|v&63)}return h}n.encode=l;function d(u){for(var h=0,p=0;p<u.length;p++){var g=u.charCodeAt(p);if(g<128)h+=1;else if(g<2048)h+=2;else if(g<55296)h+=3;else if(g<=57343){if(p>=u.length-1)throw new Error(r);p++,h+=4}else throw new Error(r)}return h}n.encodedLength=d;function c(u){for(var h=[],p=0;p<u.length;p++){var g=u[p];if(g&128){var v=void 0;if(g<224){if(p>=u.length)throw new Error(a);var x=u[++p];if((x&192)!==128)throw new Error(a);g=(g&31)<<6|x&63,v=128}else if(g<240){if(p>=u.length-1)throw new Error(a);var x=u[++p],y=u[++p];if((x&192)!==128||(y&192)!==128)throw new Error(a);g=(g&15)<<12|(x&63)<<6|y&63,v=2048}else if(g<248){if(p>=u.length-2)throw new Error(a);var x=u[++p],y=u[++p],$=u[++p];if((x&192)!==128||(y&192)!==128||($&192)!==128)throw new Error(a);g=(g&15)<<18|(x&63)<<12|(y&63)<<6|$&63,v=65536}else throw new Error(a);if(g<v||g>=55296&&g<=57343)throw new Error(a);if(g>=65536){if(g>1114111)throw new Error(a);g-=65536,h.push(String.fromCharCode(55296|g>>10)),g=56320|g&1023}}h.push(String.fromCharCode(g))}return h.join("")}n.decode=c},function(t,n,o){t.exports=o(3).default},function(t,n,o){o.r(n);class r{constructor(k,D){this.lastId=0,this.prefix=k,this.name=D}create(k){this.lastId++;var D=this.lastId,U=this.prefix+D,Y=this.name+"["+D+"]",ge=!1,Ae=function(){ge||(k.apply(null,arguments),ge=!0)};return this[D]=Ae,{number:D,id:U,name:Y,callback:Ae}}remove(k){delete this[k.number]}}var a=new r("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=l;class c{constructor(k){this.options=k,this.receivers=k.receivers||a,this.loading={}}load(k,D,U){var Y=this;if(Y.loading[k]&&Y.loading[k].length>0)Y.loading[k].push(U);else{Y.loading[k]=[U];var ge=dt.createScriptRequest(Y.getPath(k,D)),Ae=Y.receivers.create(function(qe){if(Y.receivers.remove(Ae),Y.loading[k]){var lt=Y.loading[k];delete Y.loading[k];for(var Ct=function(rs){rs||ge.cleanup()},Et=0;Et<lt.length;Et++)lt[Et](qe,Ct)}});ge.send(Ae)}}getRoot(k){var D,U=dt.getDocument().location.protocol;return k&&k.useTLS||U==="https:"?D=this.options.cdn_https:D=this.options.cdn_http,D.replace(/\/*$/,"")+"/"+this.options.version}getPath(k,D){return this.getRoot(D)+"/"+k+this.options.suffix+".js"}}var u=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new c({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:u});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(A){const k="See:",D=p.urls[A];if(!D)return"";let U;return D.fullUrl?U=D.fullUrl:D.path&&(U=p.baseUrl+D.path),U?`${k} ${U}`:""}},x;(function(A){A.UserAuthentication="user-authentication",A.ChannelAuthorization="channel-authorization"})(x||(x={}));class y extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class $ extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class L extends Error{constructor(k){super(k),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(k,D){super(D),this.status=k,Object.setPrototypeOf(this,new.target.prototype)}}var E=function(A,k,D,U,Y){const ge=dt.createXHR();ge.open("POST",D.endpoint,!0),ge.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Ae in D.headers)ge.setRequestHeader(Ae,D.headers[Ae]);if(D.headersProvider!=null){let qe=D.headersProvider();for(var Ae in qe)ge.setRequestHeader(Ae,qe[Ae])}return ge.onreadystatechange=function(){if(ge.readyState===4)if(ge.status===200){let qe,lt=!1;try{qe=JSON.parse(ge.responseText),lt=!0}catch{Y(new z(200,`JSON returned from ${U.toString()} endpoint was invalid, yet status code was 200. Data was: ${ge.responseText}`),null)}lt&&Y(null,qe)}else{let qe="";switch(U){case x.UserAuthentication:qe=v.buildLogSuffix("authenticationEndpoint");break;case x.ChannelAuthorization:qe=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}Y(new z(ge.status,`Unable to retrieve auth string from ${U.toString()} endpoint - received status: ${ge.status} from ${D.endpoint}. ${qe}`),null)}},ge.send(k),ge};function O(A){return Q(ve(A))}var I=String.fromCharCode,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=function(A){var k=A.charCodeAt(0);return k<128?A:k<2048?I(192|k>>>6)+I(128|k&63):I(224|k>>>12&15)+I(128|k>>>6&63)+I(128|k&63)},ve=function(A){return A.replace(/[^\x00-\x7F]/g,ye)},_e=function(A){var k=[0,2,1][A.length%3],D=A.charCodeAt(0)<<16|(A.length>1?A.charCodeAt(1):0)<<8|(A.length>2?A.charCodeAt(2):0),U=[W.charAt(D>>>18),W.charAt(D>>>12&63),k>=2?"=":W.charAt(D>>>6&63),k>=1?"=":W.charAt(D&63)];return U.join("")},Q=window.btoa||function(A){return A.replace(/[\s\S]{1,3}/g,_e)};class ee{constructor(k,D,U,Y){this.clear=D,this.timer=k(()=>{this.timer&&(this.timer=Y(this.timer))},U)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var q=ee;function he(A){window.clearTimeout(A)}function we(A){window.clearInterval(A)}class Oe extends q{constructor(k,D){super(setTimeout,he,k,function(U){return D(),null})}}class it extends q{constructor(k,D){super(setInterval,we,k,function(U){return D(),U})}}var ft={now(){return Date.now?Date.now():new Date().valueOf()},defer(A){return new Oe(0,A)},method(A,...k){var D=Array.prototype.slice.call(arguments,1);return function(U){return U[A].apply(U,D.concat(arguments))}}},le=ft;function be(A,...k){for(var D=0;D<k.length;D++){var U=k[D];for(var Y in U)U[Y]&&U[Y].constructor&&U[Y].constructor===Object?A[Y]=be(A[Y]||{},U[Y]):A[Y]=U[Y]}return A}function $e(){for(var A=["Pusher"],k=0;k<arguments.length;k++)typeof arguments[k]=="string"?A.push(arguments[k]):A.push(Ke(arguments[k]));return A.join(" : ")}function je(A,k){var D=Array.prototype.indexOf;if(A===null)return-1;if(D&&A.indexOf===D)return A.indexOf(k);for(var U=0,Y=A.length;U<Y;U++)if(A[U]===k)return U;return-1}function Je(A,k){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&k(A[D],D,A)}function Re(A){var k=[];return Je(A,function(D,U){k.push(U)}),k}function re(A){var k=[];return Je(A,function(D){k.push(D)}),k}function ae(A,k,D){for(var U=0;U<A.length;U++)k.call(D||window,A[U],U,A)}function N(A,k){for(var D=[],U=0;U<A.length;U++)D.push(k(A[U],U,A,D));return D}function K(A,k){var D={};return Je(A,function(U,Y){D[Y]=k(U)}),D}function G(A,k){k=k||function(Y){return!!Y};for(var D=[],U=0;U<A.length;U++)k(A[U],U,A,D)&&D.push(A[U]);return D}function J(A,k){var D={};return Je(A,function(U,Y){(k&&k(U,Y,A,D)||U)&&(D[Y]=U)}),D}function Z(A){var k=[];return Je(A,function(D,U){k.push([U,D])}),k}function ce(A,k){for(var D=0;D<A.length;D++)if(k(A[D],D,A))return!0;return!1}function Se(A,k){for(var D=0;D<A.length;D++)if(!k(A[D],D,A))return!1;return!0}function Me(A){return K(A,function(k){return typeof k=="object"&&(k=Ke(k)),encodeURIComponent(O(k.toString()))})}function Ce(A){var k=J(A,function(U){return U!==void 0}),D=N(Z(Me(k)),le.method("join","=")).join("&");return D}function ke(A){var k=[],D=[];return function U(Y,ge){var Ae,qe,lt;switch(typeof Y){case"object":if(!Y)return null;for(Ae=0;Ae<k.length;Ae+=1)if(k[Ae]===Y)return{$ref:D[Ae]};if(k.push(Y),D.push(ge),Object.prototype.toString.apply(Y)==="[object Array]")for(lt=[],Ae=0;Ae<Y.length;Ae+=1)lt[Ae]=U(Y[Ae],ge+"["+Ae+"]");else{lt={};for(qe in Y)Object.prototype.hasOwnProperty.call(Y,qe)&&(lt[qe]=U(Y[qe],ge+"["+JSON.stringify(qe)+"]"))}return lt;case"number":case"string":case"boolean":return Y}}(A,"$")}function Ke(A){try{return JSON.stringify(A)}catch{return JSON.stringify(ke(A))}}class Ie{constructor(){this.globalLog=k=>{window.console&&window.console.log&&window.console.log(k)}}debug(...k){this.log(this.globalLog,k)}warn(...k){this.log(this.globalLogWarn,k)}error(...k){this.log(this.globalLogError,k)}globalLogWarn(k){window.console&&window.console.warn?window.console.warn(k):this.globalLog(k)}globalLogError(k){window.console&&window.console.error?window.console.error(k):this.globalLogWarn(k)}log(k,...D){var U=$e.apply(this,arguments);pu.log?pu.log(U):pu.logToConsole&&k.bind(this)(U)}}var De=new Ie,tt=function(A,k,D,U,Y){(D.headers!==void 0||D.headersProvider!=null)&&De.warn(`To send headers with the ${U.toString()} request, you must use AJAX, rather than JSONP.`);var ge=A.nextAuthCallbackID.toString();A.nextAuthCallbackID++;var Ae=A.getDocument(),qe=Ae.createElement("script");A.auth_callbacks[ge]=function(Et){Y(null,Et)};var lt="Pusher.auth_callbacks['"+ge+"']";qe.src=D.endpoint+"?callback="+encodeURIComponent(lt)+"&"+k;var Ct=Ae.getElementsByTagName("head")[0]||Ae.documentElement;Ct.insertBefore(qe,Ct.firstChild)},mt=tt;class Tt{constructor(k){this.src=k}send(k){var D=this,U="Error loading "+D.src;D.script=document.createElement("script"),D.script.id=k.id,D.script.src=D.src,D.script.type="text/javascript",D.script.charset="UTF-8",D.script.addEventListener?(D.script.onerror=function(){k.callback(U)},D.script.onload=function(){k.callback(null)}):D.script.onreadystatechange=function(){(D.script.readyState==="loaded"||D.script.readyState==="complete")&&k.callback(null)},D.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(D.errorScript=document.createElement("script"),D.errorScript.id=k.id+"_error",D.errorScript.text=k.name+"('"+U+"');",D.script.async=D.errorScript.async=!1):D.script.async=!0;var Y=document.getElementsByTagName("head")[0];Y.insertBefore(D.script,Y.firstChild),D.errorScript&&Y.insertBefore(D.errorScript,D.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class bt{constructor(k,D){this.url=k,this.data=D}send(k){if(!this.request){var D=Ce(this.data),U=this.url+"/"+k.number+"?"+D;this.request=dt.createScriptRequest(U),this.request.send(k)}}cleanup(){this.request&&this.request.cleanup()}}var gs=function(A,k){return function(D,U){var Y="http"+(k?"s":"")+"://",ge=Y+(A.host||A.options.host)+A.options.path,Ae=dt.createJSONPRequest(ge,D),qe=dt.ScriptReceivers.create(function(lt,Ct){a.remove(qe),Ae.cleanup(),Ct&&Ct.host&&(A.host=Ct.host),U&&U(lt,Ct)});Ae.send(qe)}},is={name:"jsonp",getAgent:gs},Ms=is;function us(A,k,D){var U=A+(k.useTLS?"s":""),Y=k.useTLS?k.hostTLS:k.hostNonTLS;return U+"://"+Y+D}function Rn(A,k){var D="/app/"+A,U="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(k?"&"+k:"");return D+U}var Lt={getInitial:function(A,k){var D=(k.httpPath||"")+Rn(A,"flash=false");return us("ws",k,D)}},fs={getInitial:function(A,k){var D=(k.httpPath||"/pusher")+Rn(A);return us("http",k,D)}},Ts={getInitial:function(A,k){return us("http",k,k.httpPath||"/pusher")},getPath:function(A,k){return Rn(A)}};class sr{constructor(){this._callbacks={}}get(k){return this._callbacks[On(k)]}add(k,D,U){var Y=On(k);this._callbacks[Y]=this._callbacks[Y]||[],this._callbacks[Y].push({fn:D,context:U})}remove(k,D,U){if(!k&&!D&&!U){this._callbacks={};return}var Y=k?[On(k)]:Re(this._callbacks);D||U?this.removeCallback(Y,D,U):this.removeAllCallbacks(Y)}removeCallback(k,D,U){ae(k,function(Y){this._callbacks[Y]=G(this._callbacks[Y]||[],function(ge){return D&&D!==ge.fn||U&&U!==ge.context}),this._callbacks[Y].length===0&&delete this._callbacks[Y]},this)}removeAllCallbacks(k){ae(k,function(D){delete this._callbacks[D]},this)}}function On(A){return"_"+A}class dn{constructor(k){this.callbacks=new sr,this.global_callbacks=[],this.failThrough=k}bind(k,D,U){return this.callbacks.add(k,D,U),this}bind_global(k){return this.global_callbacks.push(k),this}unbind(k,D,U){return this.callbacks.remove(k,D,U),this}unbind_global(k){return k?(this.global_callbacks=G(this.global_callbacks||[],D=>D!==k),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(k,D,U){for(var Y=0;Y<this.global_callbacks.length;Y++)this.global_callbacks[Y](k,D);var ge=this.callbacks.get(k),Ae=[];if(U?Ae.push(D,U):D&&Ae.push(D),ge&&ge.length>0)for(var Y=0;Y<ge.length;Y++)ge[Y].fn.apply(ge[Y].context||window,Ae);else this.failThrough&&this.failThrough(k,D);return this}}class In extends dn{constructor(k,D,U,Y,ge){super(),this.initialize=dt.transportConnectionInitializer,this.hooks=k,this.name=D,this.priority=U,this.key=Y,this.options=ge,this.state="new",this.timeline=ge.timeline,this.activityTimeout=ge.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var k=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(k,this.options)}catch(D){return le.defer(()=>{this.onError(D),this.changeState("closed")}),!1}return this.bindListeners(),De.debug("Connecting",{transport:this.name,url:k}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(k){return this.state==="open"?(le.defer(()=>{this.socket&&this.socket.send(k)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(k){this.emit("error",{type:"WebSocketError",error:k}),this.timeline.error(this.buildTimelineMessage({error:k.toString()}))}onClose(k){k?this.changeState("closed",{code:k.code,reason:k.reason,wasClean:k.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(k){this.emit("message",k)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=k=>{this.onError(k)},this.socket.onclose=k=>{this.onClose(k)},this.socket.onmessage=k=>{this.onMessage(k)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(k,D){this.state=k,this.timeline.info(this.buildTimelineMessage({state:k,params:D})),this.emit(k,D)}buildTimelineMessage(k){return be({cid:this.id},k)}}class zo{constructor(k){this.hooks=k}isSupported(k){return this.hooks.isSupported(k)}createConnection(k,D,U,Y){return new In(this.hooks,k,D,U,Y)}}var su=new zo({urls:Lt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!dt.getWebSocketAPI()},isSupported:function(){return!!dt.getWebSocketAPI()},getSocket:function(A){return dt.createWebSocket(A)}}),B={urls:fs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},H=be({getSocket:function(A){return dt.HTTPFactory.createStreamingSocket(A)}},B),te=be({getSocket:function(A){return dt.HTTPFactory.createPollingSocket(A)}},B),fe={isSupported:function(){return dt.isXHRSupported()}},Te=new zo(be({},H,fe)),Le=new zo(be({},te,fe)),at={ws:su,xhr_streaming:Te,xhr_polling:Le},Be=at,pt=new zo({file:"sockjs",urls:Ts,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(A,k){return new window.SockJS(A,null,{js_path:h.getPath("sockjs",{useTLS:k.useTLS}),ignore_null_origin:k.ignoreNullOrigin})},beforeOpen:function(A,k){A.send(JSON.stringify({path:k}))}}),Ue={isSupported:function(A){var k=dt.isXDRSupported(A.useTLS);return k}},st=new zo(be({},H,Ue)),At=new zo(be({},te,Ue));Be.xdr_streaming=st,Be.xdr_polling=At,Be.sockjs=pt;var $n=Be;class Bs extends dn{constructor(){super();var k=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){k.emit("online")},!1),window.addEventListener("offline",function(){k.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var yi=new Bs;class Bo{constructor(k,D,U){this.manager=k,this.transport=D,this.minPingDelay=U.minPingDelay,this.maxPingDelay=U.maxPingDelay,this.pingDelay=void 0}createConnection(k,D,U,Y){Y=be({},Y,{activityTimeout:this.pingDelay});var ge=this.transport.createConnection(k,D,U,Y),Ae=null,qe=function(){ge.unbind("open",qe),ge.bind("closed",lt),Ae=le.now()},lt=Ct=>{if(ge.unbind("closed",lt),Ct.code===1002||Ct.code===1003)this.manager.reportDeath();else if(!Ct.wasClean&&Ae){var Et=le.now()-Ae;Et<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Et/2,this.minPingDelay))}};return ge.bind("open",qe),ge}isSupported(k){return this.manager.isAlive()&&this.transport.isSupported(k)}}const vl={decodeMessage:function(A){try{var k=JSON.parse(A.data),D=k.data;if(typeof D=="string")try{D=JSON.parse(k.data)}catch{}var U={event:k.event,channel:k.channel,data:D};return k.user_id&&(U.user_id=k.user_id),U}catch(Y){throw{type:"MessageParseError",error:Y,data:A.data}}},encodeMessage:function(A){return JSON.stringify(A)},processHandshake:function(A){var k=vl.decodeMessage(A);if(k.event==="pusher:connection_established"){if(!k.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:k.data.socket_id,activityTimeout:k.data.activity_timeout*1e3}}else{if(k.event==="pusher:error")return{action:this.getCloseAction(k.data),error:this.getCloseError(k.data)};throw"Invalid handshake"}},getCloseAction:function(A){return A.code<4e3?A.code>=1002&&A.code<=1004?"backoff":null:A.code===4e3?"tls_only":A.code<4100?"refused":A.code<4200?"backoff":A.code<4300?"retry":"refused"},getCloseError:function(A){return A.code!==1e3&&A.code!==1001?{type:"PusherError",data:{code:A.code,message:A.reason||A.message}}:null}};var jn=vl;class nu extends dn{constructor(k,D){super(),this.id=k,this.transport=D,this.activityTimeout=D.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(k){return this.transport.send(k)}send_event(k,D,U){var Y={event:k,data:D};return U&&(Y.channel=U),De.debug("Event sent",Y),this.send(jn.encodeMessage(Y))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var k={message:U=>{var Y;try{Y=jn.decodeMessage(U)}catch(ge){this.emit("error",{type:"MessageParseError",error:ge,data:U.data})}if(Y!==void 0){switch(De.debug("Event recd",Y),Y.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Y.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Y)}},activity:()=>{this.emit("activity")},error:U=>{this.emit("error",U)},closed:U=>{D(),U&&U.code&&this.handleCloseEvent(U),this.transport=null,this.emit("closed")}},D=()=>{Je(k,(U,Y)=>{this.transport.unbind(Y,U)})};Je(k,(U,Y)=>{this.transport.bind(Y,U)})}handleCloseEvent(k){var D=jn.getCloseAction(k),U=jn.getCloseError(k);U&&this.emit("error",U),D&&this.emit(D,{action:D,error:U})}}class ou{constructor(k,D){this.transport=k,this.callback=D,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=k=>{this.unbindListeners();var D;try{D=jn.processHandshake(k)}catch(U){this.finish("error",{error:U}),this.transport.close();return}D.action==="connected"?this.finish("connected",{connection:new nu(D.id,this.transport),activityTimeout:D.activityTimeout}):(this.finish(D.action,{error:D.error}),this.transport.close())},this.onClosed=k=>{this.unbindListeners();var D=jn.getCloseAction(k)||"backoff",U=jn.getCloseError(k);this.finish(D,{error:U})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(k,D){this.callback(be({transport:this.transport,action:k},D))}}class iu{constructor(k,D){this.timeline=k,this.options=D||{}}send(k,D){this.timeline.isEmpty()||this.timeline.send(dt.TimelineTransport.getAgent(this,k),D)}}class Vr extends dn{constructor(k,D){super(function(U,Y){De.debug("No callbacks on "+k+" for "+U)}),this.name=k,this.pusher=D,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(k,D){return D(null,{auth:""})}trigger(k,D){if(k.indexOf("client-")!==0)throw new y("Event '"+k+"' does not start with 'client-'");if(!this.subscribed){var U=v.buildLogSuffix("triggeringClientEvents");De.warn(`Client event triggered before channel 'subscription_succeeded' event . ${U}`)}return this.pusher.send_event(k,D,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(k){var D=k.event,U=k.data;if(D==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(k);else if(D==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(k);else if(D.indexOf("pusher_internal:")!==0){var Y={};this.emit(D,U,Y)}}handleSubscriptionSucceededEvent(k){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",k.data)}handleSubscriptionCountEvent(k){k.data.subscription_count&&(this.subscriptionCount=k.data.subscription_count),this.emit("pusher:subscription_count",k.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(k,D)=>{k?(this.subscriptionPending=!1,De.error(k.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:k.message},k instanceof z?{status:k.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:D.auth,channel_data:D.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Hr extends Vr{authorize(k,D){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:k},D)}}class ru{constructor(){this.reset()}get(k){return Object.prototype.hasOwnProperty.call(this.members,k)?{id:k,info:this.members[k]}:null}each(k){Je(this.members,(D,U)=>{k(this.get(U))})}setMyID(k){this.myID=k}onSubscription(k){this.members=k.presence.hash,this.count=k.presence.count,this.me=this.get(this.myID)}addMember(k){return this.get(k.user_id)===null&&this.count++,this.members[k.user_id]=k.user_info,this.get(k.user_id)}removeMember(k){var D=this.get(k.user_id);return D&&(delete this.members[k.user_id],this.count--),D}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var au=function(A,k,D,U){function Y(ge){return ge instanceof D?ge:new D(function(Ae){Ae(ge)})}return new(D||(D=Promise))(function(ge,Ae){function qe(Et){try{Ct(U.next(Et))}catch(rs){Ae(rs)}}function lt(Et){try{Ct(U.throw(Et))}catch(rs){Ae(rs)}}function Ct(Et){Et.done?ge(Et.value):Y(Et.value).then(qe,lt)}Ct((U=U.apply(A,k||[])).next())})};class lu extends Hr{constructor(k,D){super(k,D),this.members=new ru}authorize(k,D){super.authorize(k,(U,Y)=>au(this,void 0,void 0,function*(){if(!U)if(Y=Y,Y.channel_data!=null){var ge=JSON.parse(Y.channel_data);this.members.setMyID(ge.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Ae=v.buildLogSuffix("authorizationEndpoint");De.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Ae}, or the user should be signed in.`),D("Invalid auth response");return}D(U,Y)}))}handleEvent(k){var D=k.event;if(D.indexOf("pusher_internal:")===0)this.handleInternalEvent(k);else{var U=k.data,Y={};k.user_id&&(Y.user_id=k.user_id),this.emit(D,U,Y)}}handleInternalEvent(k){var D=k.event,U=k.data;switch(D){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(k);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(k);break;case"pusher_internal:member_added":var Y=this.members.addMember(U);this.emit("pusher:member_added",Y);break;case"pusher_internal:member_removed":var ge=this.members.removeMember(U);ge&&this.emit("pusher:member_removed",ge);break}}handleSubscriptionSucceededEvent(k){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(k.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Db=o(1),du=o(0);class Ab extends Hr{constructor(k,D,U){super(k,D),this.key=null,this.nacl=U}authorize(k,D){super.authorize(k,(U,Y)=>{if(U){D(U,Y);return}let ge=Y.shared_secret;if(!ge){D(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(du.decode)(ge),delete Y.shared_secret,D(null,Y)})}trigger(k,D){throw new T("Client events are not currently supported for encrypted channels")}handleEvent(k){var D=k.event,U=k.data;if(D.indexOf("pusher_internal:")===0||D.indexOf("pusher:")===0){super.handleEvent(k);return}this.handleEncryptedEvent(D,U)}handleEncryptedEvent(k,D){if(!this.key){De.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!D.ciphertext||!D.nonce){De.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+D);return}let U=Object(du.decode)(D.ciphertext);if(U.length<this.nacl.secretbox.overheadLength){De.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${U.length}`);return}let Y=Object(du.decode)(D.nonce);if(Y.length<this.nacl.secretbox.nonceLength){De.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Y.length}`);return}let ge=this.nacl.secretbox.open(U,Y,this.key);if(ge===null){De.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Ae,qe)=>{if(Ae){De.error(`Failed to make a request to the authEndpoint: ${qe}. Unable to fetch new key, so dropping encrypted event`);return}if(ge=this.nacl.secretbox.open(U,Y,this.key),ge===null){De.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(k,this.getDataToEmit(ge))});return}this.emit(k,this.getDataToEmit(ge))}getDataToEmit(k){let D=Object(Db.decode)(k);try{return JSON.parse(D)}catch{return D}}}class Eb extends dn{constructor(k,D){super(),this.state="initialized",this.connection=null,this.key=k,this.options=D,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var U=dt.getNetwork();U.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),U.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(k){return this.connection?this.connection.send(k):!1}send_event(k,D,U){return this.connection?this.connection.send_event(k,D,U):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var k=(D,U)=>{D?this.runner=this.strategy.connect(0,k):U.action==="error"?(this.emit("error",{type:"HandshakeError",error:U.error}),this.timeline.error({handshakeError:U.error})):(this.abortConnecting(),this.handshakeCallbacks[U.action](U))};this.runner=this.strategy.connect(0,k)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var k=this.abandonConnection();k.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(k){this.timeline.info({action:"retry",delay:k}),k>0&&this.emit("connecting_in",Math.round(k/1e3)),this.retryTimer=new Oe(k||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Oe(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Oe(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Oe(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(k){return be({},k,{message:D=>{this.resetActivityCheck(),this.emit("message",D)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:D=>{this.emit("error",D)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(k){return be({},k,{connected:D=>{this.activityTimeout=Math.min(this.options.activityTimeout,D.activityTimeout,D.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(D.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let k=D=>U=>{U.error&&this.emit("error",{type:"WebSocketError",error:U.error}),D(U)};return{tls_only:k(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:k(()=>{this.disconnect()}),backoff:k(()=>{this.retryIn(1e3)}),retry:k(()=>{this.retryIn(0)})}}setConnection(k){this.connection=k;for(var D in this.connectionCallbacks)this.connection.bind(D,this.connectionCallbacks[D]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var k in this.connectionCallbacks)this.connection.unbind(k,this.connectionCallbacks[k]);var D=this.connection;return this.connection=null,D}}updateState(k,D){var U=this.state;if(this.state=k,U!==k){var Y=k;Y==="connected"&&(Y+=" with new socket ID "+D.socket_id),De.debug("State changed",U+" -> "+Y),this.timeline.info({state:k,params:D}),this.emit("state_change",{previous:U,current:k}),this.emit(k,D)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Pb{constructor(){this.channels={}}add(k,D){return this.channels[k]||(this.channels[k]=Rb(k,D)),this.channels[k]}all(){return re(this.channels)}find(k){return this.channels[k]}remove(k){var D=this.channels[k];return delete this.channels[k],D}disconnect(){Je(this.channels,function(k){k.disconnect()})}}function Rb(A,k){if(A.indexOf("private-encrypted-")===0){if(k.config.nacl)return ho.createEncryptedChannel(A,k,k.config.nacl);let D="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",U=v.buildLogSuffix("encryptedChannelSupport");throw new T(`${D}. ${U}`)}else{if(A.indexOf("private-")===0)return ho.createPrivateChannel(A,k);if(A.indexOf("presence-")===0)return ho.createPresenceChannel(A,k);if(A.indexOf("#")===0)throw new $('Cannot create a channel with name "'+A+'".');return ho.createChannel(A,k)}}var Ob={createChannels(){return new Pb},createConnectionManager(A,k){return new Eb(A,k)},createChannel(A,k){return new Vr(A,k)},createPrivateChannel(A,k){return new Hr(A,k)},createPresenceChannel(A,k){return new lu(A,k)},createEncryptedChannel(A,k,D){return new Ab(A,k,D)},createTimelineSender(A,k){return new iu(A,k)},createHandshake(A,k){return new ou(A,k)},createAssistantToTheTransportManager(A,k,D){return new Bo(A,k,D)}},ho=Ob;class wp{constructor(k){this.options=k||{},this.livesLeft=this.options.lives||1/0}getAssistant(k){return ho.createAssistantToTheTransportManager(this,k,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class bi{constructor(k,D){this.strategies=k,this.loop=!!D.loop,this.failFast=!!D.failFast,this.timeout=D.timeout,this.timeoutLimit=D.timeoutLimit}isSupported(){return ce(this.strategies,le.method("isSupported"))}connect(k,D){var U=this.strategies,Y=0,ge=this.timeout,Ae=null,qe=(lt,Ct)=>{Ct?D(null,Ct):(Y=Y+1,this.loop&&(Y=Y%U.length),Y<U.length?(ge&&(ge=ge*2,this.timeoutLimit&&(ge=Math.min(ge,this.timeoutLimit))),Ae=this.tryStrategy(U[Y],k,{timeout:ge,failFast:this.failFast},qe)):D(!0))};return Ae=this.tryStrategy(U[Y],k,{timeout:ge,failFast:this.failFast},qe),{abort:function(){Ae.abort()},forceMinPriority:function(lt){k=lt,Ae&&Ae.forceMinPriority(lt)}}}tryStrategy(k,D,U,Y){var ge=null,Ae=null;return U.timeout>0&&(ge=new Oe(U.timeout,function(){Ae.abort(),Y(!0)})),Ae=k.connect(D,function(qe,lt){qe&&ge&&ge.isRunning()&&!U.failFast||(ge&&ge.ensureAborted(),Y(qe,lt))}),{abort:function(){ge&&ge.ensureAborted(),Ae.abort()},forceMinPriority:function(qe){Ae.forceMinPriority(qe)}}}}class cu{constructor(k){this.strategies=k}isSupported(){return ce(this.strategies,le.method("isSupported"))}connect(k,D){return Ib(this.strategies,k,function(U,Y){return function(ge,Ae){if(Y[U].error=ge,ge){jb(Y)&&D(!0);return}ae(Y,function(qe){qe.forceMinPriority(Ae.transport.priority)}),D(null,Ae)}})}}function Ib(A,k,D){var U=N(A,function(Y,ge,Ae,qe){return Y.connect(k,D(ge,qe))});return{abort:function(){ae(U,Lb)},forceMinPriority:function(Y){ae(U,function(ge){ge.forceMinPriority(Y)})}}}function jb(A){return Se(A,function(k){return!!k.error})}function Lb(A){!A.error&&!A.aborted&&(A.abort(),A.aborted=!0)}class Fb{constructor(k,D,U){this.strategy=k,this.transports=D,this.ttl=U.ttl||1800*1e3,this.usingTLS=U.useTLS,this.timeline=U.timeline}isSupported(){return this.strategy.isSupported()}connect(k,D){var U=this.usingTLS,Y=Nb(U),ge=Y&&Y.cacheSkipCount?Y.cacheSkipCount:0,Ae=[this.strategy];if(Y&&Y.timestamp+this.ttl>=le.now()){var qe=this.transports[Y.transport];qe&&(["ws","wss"].includes(Y.transport)||ge>3?(this.timeline.info({cached:!0,transport:Y.transport,latency:Y.latency}),Ae.push(new bi([qe],{timeout:Y.latency*2+1e3,failFast:!0}))):ge++)}var lt=le.now(),Ct=Ae.pop().connect(k,function Et(rs,xl){rs?(kp(U),Ae.length>0?(lt=le.now(),Ct=Ae.pop().connect(k,Et)):D(rs)):(zb(U,xl.transport.name,le.now()-lt,ge),D(null,xl))});return{abort:function(){Ct.abort()},forceMinPriority:function(Et){k=Et,Ct&&Ct.forceMinPriority(Et)}}}}function uu(A){return"pusherTransport"+(A?"TLS":"NonTLS")}function Nb(A){var k=dt.getLocalStorage();if(k)try{var D=k[uu(A)];if(D)return JSON.parse(D)}catch{kp(A)}return null}function zb(A,k,D,U){var Y=dt.getLocalStorage();if(Y)try{Y[uu(A)]=Ke({timestamp:le.now(),transport:k,latency:D,cacheSkipCount:U})}catch{}}function kp(A){var k=dt.getLocalStorage();if(k)try{delete k[uu(A)]}catch{}}class yl{constructor(k,{delay:D}){this.strategy=k,this.options={delay:D}}isSupported(){return this.strategy.isSupported()}connect(k,D){var U=this.strategy,Y,ge=new Oe(this.options.delay,function(){Y=U.connect(k,D)});return{abort:function(){ge.ensureAborted(),Y&&Y.abort()},forceMinPriority:function(Ae){k=Ae,Y&&Y.forceMinPriority(Ae)}}}}class Wr{constructor(k,D,U){this.test=k,this.trueBranch=D,this.falseBranch=U}isSupported(){var k=this.test()?this.trueBranch:this.falseBranch;return k.isSupported()}connect(k,D){var U=this.test()?this.trueBranch:this.falseBranch;return U.connect(k,D)}}class Bb{constructor(k){this.strategy=k}isSupported(){return this.strategy.isSupported()}connect(k,D){var U=this.strategy.connect(k,function(Y,ge){ge&&U.abort(),D(Y,ge)});return U}}function qr(A){return function(){return A.isSupported()}}var Ub=function(A,k,D){var U={};function Y(Op,Bx,Ux,Vx,Hx){var Ip=D(A,Op,Bx,Ux,Vx,Hx);return U[Op]=Ip,Ip}var ge=Object.assign({},k,{hostNonTLS:A.wsHost+":"+A.wsPort,hostTLS:A.wsHost+":"+A.wssPort,httpPath:A.wsPath}),Ae=Object.assign({},ge,{useTLS:!0}),qe=Object.assign({},k,{hostNonTLS:A.httpHost+":"+A.httpPort,hostTLS:A.httpHost+":"+A.httpsPort,httpPath:A.httpPath}),lt={loop:!0,timeout:15e3,timeoutLimit:6e4},Ct=new wp({minPingDelay:1e4,maxPingDelay:A.activityTimeout}),Et=new wp({lives:2,minPingDelay:1e4,maxPingDelay:A.activityTimeout}),rs=Y("ws","ws",3,ge,Ct),xl=Y("wss","ws",3,Ae,Ct),jx=Y("sockjs","sockjs",1,qe),Tp=Y("xhr_streaming","xhr_streaming",1,qe,Et),Lx=Y("xdr_streaming","xdr_streaming",1,qe,Et),Dp=Y("xhr_polling","xhr_polling",1,qe),Fx=Y("xdr_polling","xdr_polling",1,qe),Ap=new bi([rs],lt),Nx=new bi([xl],lt),zx=new bi([jx],lt),Ep=new bi([new Wr(qr(Tp),Tp,Lx)],lt),Pp=new bi([new Wr(qr(Dp),Dp,Fx)],lt),Rp=new bi([new Wr(qr(Ep),new cu([Ep,new yl(Pp,{delay:4e3})]),Pp)],lt),mu=new Wr(qr(Rp),Rp,zx),gu;return k.useTLS?gu=new cu([Ap,new yl(mu,{delay:2e3})]):gu=new cu([Ap,new yl(Nx,{delay:2e3}),new yl(mu,{delay:5e3})]),new Fb(new Bb(new Wr(qr(rs),gu,mu)),U,{ttl:18e5,timeline:k.timeline,useTLS:k.useTLS})},Vb=Ub,Hb=function(){var A=this;A.timeline.info(A.buildTimelineMessage({transport:A.name+(A.options.useTLS?"s":"")})),A.hooks.isInitialized()?A.changeState("initialized"):A.hooks.file?(A.changeState("initializing"),h.load(A.hooks.file,{useTLS:A.options.useTLS},function(k,D){A.hooks.isInitialized()?(A.changeState("initialized"),D(!0)):(k&&A.onError(k),A.onClose(),D(!1))})):A.onClose()},Wb={getRequest:function(A){var k=new window.XDomainRequest;return k.ontimeout=function(){A.emit("error",new w),A.close()},k.onerror=function(D){A.emit("error",D),A.close()},k.onprogress=function(){k.responseText&&k.responseText.length>0&&A.onChunk(200,k.responseText)},k.onload=function(){k.responseText&&k.responseText.length>0&&A.onChunk(200,k.responseText),A.emit("finished",200),A.close()},k},abortRequest:function(A){A.ontimeout=A.onerror=A.onprogress=A.onload=null,A.abort()}},qb=Wb;const Kb=256*1024;class Yb extends dn{constructor(k,D,U){super(),this.hooks=k,this.method=D,this.url=U}start(k){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},dt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(k)}close(){this.unloader&&(dt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(k,D){for(;;){var U=this.advanceBuffer(D);if(U)this.emit("chunk",{status:k,data:U});else break}this.isBufferTooLong(D)&&this.emit("buffer_too_long")}advanceBuffer(k){var D=k.slice(this.position),U=D.indexOf(`
`);return U!==-1?(this.position+=U+1,D.slice(0,U)):null}isBufferTooLong(k){return this.position===k.length&&k.length>Kb}}var fu;(function(A){A[A.CONNECTING=0]="CONNECTING",A[A.OPEN=1]="OPEN",A[A.CLOSED=3]="CLOSED"})(fu||(fu={}));var xi=fu,Gb=1;class Xb{constructor(k,D){this.hooks=k,this.session=Cp(1e3)+"/"+ex(8),this.location=Jb(D),this.readyState=xi.CONNECTING,this.openStream()}send(k){return this.sendRaw(JSON.stringify([k]))}ping(){this.hooks.sendHeartbeat(this)}close(k,D){this.onClose(k,D,!0)}sendRaw(k){if(this.readyState===xi.OPEN)try{return dt.createSocketRequest("POST",$p(Qb(this.location,this.session))).start(k),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(k,D,U){this.closeStream(),this.readyState=xi.CLOSED,this.onclose&&this.onclose({code:k,reason:D,wasClean:U})}onChunk(k){if(k.status===200){this.readyState===xi.OPEN&&this.onActivity();var D,U=k.data.slice(0,1);switch(U){case"o":D=JSON.parse(k.data.slice(1)||"{}"),this.onOpen(D);break;case"a":D=JSON.parse(k.data.slice(1)||"[]");for(var Y=0;Y<D.length;Y++)this.onEvent(D[Y]);break;case"m":D=JSON.parse(k.data.slice(1)||"null"),this.onEvent(D);break;case"h":this.hooks.onHeartbeat(this);break;case"c":D=JSON.parse(k.data.slice(1)||"[]"),this.onClose(D[0],D[1],!0);break}}}onOpen(k){this.readyState===xi.CONNECTING?(k&&k.hostname&&(this.location.base=Zb(this.location.base,k.hostname)),this.readyState=xi.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(k){this.readyState===xi.OPEN&&this.onmessage&&this.onmessage({data:k})}onActivity(){this.onactivity&&this.onactivity()}onError(k){this.onerror&&this.onerror(k)}openStream(){this.stream=dt.createSocketRequest("POST",$p(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",k=>{this.onChunk(k)}),this.stream.bind("finished",k=>{this.hooks.onFinished(this,k)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(k){le.defer(()=>{this.onError(k),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Jb(A){var k=/([^\?]*)\/*(\??.*)/.exec(A);return{base:k[1],queryString:k[2]}}function Qb(A,k){return A.base+"/"+k+"/xhr_send"}function $p(A){var k=A.indexOf("?")===-1?"?":"&";return A+k+"t="+ +new Date+"&n="+Gb++}function Zb(A,k){var D=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(A);return D[1]+k+D[3]}function Cp(A){return dt.randomInt(A)}function ex(A){for(var k=[],D=0;D<A;D++)k.push(Cp(32).toString(32));return k.join("")}var tx=Xb,sx={getReceiveURL:function(A,k){return A.base+"/"+k+"/xhr_streaming"+A.queryString},onHeartbeat:function(A){A.sendRaw("[]")},sendHeartbeat:function(A){A.sendRaw("[]")},onFinished:function(A,k){A.onClose(1006,"Connection interrupted ("+k+")",!1)}},nx=sx,ox={getReceiveURL:function(A,k){return A.base+"/"+k+"/xhr"+A.queryString},onHeartbeat:function(){},sendHeartbeat:function(A){A.sendRaw("[]")},onFinished:function(A,k){k===200?A.reconnect():A.onClose(1006,"Connection interrupted ("+k+")",!1)}},ix=ox,rx={getRequest:function(A){var k=dt.getXHRAPI(),D=new k;return D.onreadystatechange=D.onprogress=function(){switch(D.readyState){case 3:D.responseText&&D.responseText.length>0&&A.onChunk(D.status,D.responseText);break;case 4:D.responseText&&D.responseText.length>0&&A.onChunk(D.status,D.responseText),A.emit("finished",D.status),A.close();break}},D},abortRequest:function(A){A.onreadystatechange=null,A.abort()}},ax=rx,lx={createStreamingSocket(A){return this.createSocket(nx,A)},createPollingSocket(A){return this.createSocket(ix,A)},createSocket(A,k){return new tx(A,k)},createXHR(A,k){return this.createRequest(ax,A,k)},createRequest(A,k,D){return new Yb(A,k,D)}},Sp=lx;Sp.createXDR=function(A,k){return this.createRequest(qb,A,k)};var dx=Sp,cx={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:u,getDefaultStrategy:Vb,Transports:$n,transportConnectionInitializer:Hb,HTTPFactory:dx,TimelineTransport:Ms,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(A){window.Pusher=A;var k=()=>{this.onDocumentBody(A.ready)};window.JSON?k():h.load("json2",{},k)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:E,jsonp:mt}},onDocumentBody(A){document.body?A():setTimeout(()=>{this.onDocumentBody(A)},0)},createJSONPRequest(A,k){return new bt(A,k)},createScriptRequest(A){return new Tt(A)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var A=this.getXHRAPI();return new A},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return yi},createWebSocket(A){var k=this.getWebSocketAPI();return new k(A)},createSocketRequest(A,k){if(this.isXHRSupported())return this.HTTPFactory.createXHR(A,k);if(this.isXDRSupported(k.indexOf("https:")===0))return this.HTTPFactory.createXDR(A,k);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var A=this.getXHRAPI();return!!A&&new A().withCredentials!==void 0},isXDRSupported(A){var k=A?"https:":"http:",D=this.getProtocol();return!!window.XDomainRequest&&D===k},addUnloadListener(A){window.addEventListener!==void 0?window.addEventListener("unload",A,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",A)},removeUnloadListener(A){window.addEventListener!==void 0?window.removeEventListener("unload",A,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",A)},randomInt(A){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*A)}},dt=cx,hu;(function(A){A[A.ERROR=3]="ERROR",A[A.INFO=6]="INFO",A[A.DEBUG=7]="DEBUG"})(hu||(hu={}));var bl=hu;class ux{constructor(k,D,U){this.key=k,this.session=D,this.events=[],this.options=U||{},this.sent=0,this.uniqueID=0}log(k,D){k<=this.options.level&&(this.events.push(be({},D,{timestamp:le.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(k){this.log(bl.ERROR,k)}info(k){this.log(bl.INFO,k)}debug(k){this.log(bl.DEBUG,k)}isEmpty(){return this.events.length===0}send(k,D){var U=be({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],k(U,(Y,ge)=>{Y||this.sent++,D&&D(Y,ge)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class fx{constructor(k,D,U,Y){this.name=k,this.priority=D,this.transport=U,this.options=Y||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(k,D){if(this.isSupported()){if(this.priority<k)return Mp(new S,D)}else return Mp(new L,D);var U=!1,Y=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),ge=null,Ae=function(){Y.unbind("initialized",Ae),Y.connect()},qe=function(){ge=ho.createHandshake(Y,function(rs){U=!0,Et(),D(null,rs)})},lt=function(rs){Et(),D(rs)},Ct=function(){Et();var rs;rs=Ke(Y),D(new C(rs))},Et=function(){Y.unbind("initialized",Ae),Y.unbind("open",qe),Y.unbind("error",lt),Y.unbind("closed",Ct)};return Y.bind("initialized",Ae),Y.bind("open",qe),Y.bind("error",lt),Y.bind("closed",Ct),Y.initialize(),{abort:()=>{U||(Et(),ge?ge.close():Y.close())},forceMinPriority:rs=>{U||this.priority<rs&&(ge?ge.close():Y.close())}}}}function Mp(A,k){return le.defer(function(){k(A)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:hx}=dt;var px=function(A,k,D,U,Y,ge){var Ae=hx[D];if(!Ae)throw new F(D);var qe=(!A.enabledTransports||je(A.enabledTransports,k)!==-1)&&(!A.disabledTransports||je(A.disabledTransports,k)===-1),lt;return qe?(Y=Object.assign({ignoreNullOrigin:A.ignoreNullOrigin},Y),lt=new fx(k,U,ge?ge.getAssistant(Ae):Ae,Y)):lt=mx,lt},mx={isSupported:function(){return!1},connect:function(A,k){var D=le.defer(function(){k(new L)});return{abort:function(){D.ensureAborted()},forceMinPriority:function(){}}}};function gx(A){if(A==null)throw"You must pass an options object";if(A.cluster==null)throw"Options object must provide a cluster";"disableStats"in A&&De.warn("The disableStats option is deprecated in favor of enableStats")}const _x=(A,k)=>{var D="socket_id="+encodeURIComponent(A.socketId);for(var U in k.params)D+="&"+encodeURIComponent(U)+"="+encodeURIComponent(k.params[U]);if(k.paramsProvider!=null){let Y=k.paramsProvider();for(var U in Y)D+="&"+encodeURIComponent(U)+"="+encodeURIComponent(Y[U])}return D};var vx=A=>{if(typeof dt.getAuthorizers()[A.transport]>"u")throw`'${A.transport}' is not a recognized auth transport`;return(k,D)=>{const U=_x(k,A);dt.getAuthorizers()[A.transport](dt,U,A,x.UserAuthentication,D)}};const yx=(A,k)=>{var D="socket_id="+encodeURIComponent(A.socketId);D+="&channel_name="+encodeURIComponent(A.channelName);for(var U in k.params)D+="&"+encodeURIComponent(U)+"="+encodeURIComponent(k.params[U]);if(k.paramsProvider!=null){let Y=k.paramsProvider();for(var U in Y)D+="&"+encodeURIComponent(U)+"="+encodeURIComponent(Y[U])}return D};var bx=A=>{if(typeof dt.getAuthorizers()[A.transport]>"u")throw`'${A.transport}' is not a recognized auth transport`;return(k,D)=>{const U=yx(k,A);dt.getAuthorizers()[A.transport](dt,U,A,x.ChannelAuthorization,D)}};const xx=(A,k,D)=>{const U={authTransport:k.transport,authEndpoint:k.endpoint,auth:{params:k.params,headers:k.headers}};return(Y,ge)=>{const Ae=A.channel(Y.channelName);D(Ae,U).authorize(Y.socketId,ge)}};function wx(A,k){let D={activityTimeout:A.activityTimeout||d.activityTimeout,cluster:A.cluster,httpPath:A.httpPath||d.httpPath,httpPort:A.httpPort||d.httpPort,httpsPort:A.httpsPort||d.httpsPort,pongTimeout:A.pongTimeout||d.pongTimeout,statsHost:A.statsHost||d.stats_host,unavailableTimeout:A.unavailableTimeout||d.unavailableTimeout,wsPath:A.wsPath||d.wsPath,wsPort:A.wsPort||d.wsPort,wssPort:A.wssPort||d.wssPort,enableStats:Mx(A),httpHost:kx(A),useTLS:Sx(A),wsHost:$x(A),userAuthenticator:Tx(A),channelAuthorizer:Ax(A,k)};return"disabledTransports"in A&&(D.disabledTransports=A.disabledTransports),"enabledTransports"in A&&(D.enabledTransports=A.enabledTransports),"ignoreNullOrigin"in A&&(D.ignoreNullOrigin=A.ignoreNullOrigin),"timelineParams"in A&&(D.timelineParams=A.timelineParams),"nacl"in A&&(D.nacl=A.nacl),D}function kx(A){return A.httpHost?A.httpHost:A.cluster?`sockjs-${A.cluster}.pusher.com`:d.httpHost}function $x(A){return A.wsHost?A.wsHost:Cx(A.cluster)}function Cx(A){return`ws-${A}.pusher.com`}function Sx(A){return dt.getProtocol()==="https:"?!0:A.forceTLS!==!1}function Mx(A){return"enableStats"in A?A.enableStats:"disableStats"in A?!A.disableStats:!1}function Tx(A){const k=Object.assign(Object.assign({},d.userAuthentication),A.userAuthentication);return"customHandler"in k&&k.customHandler!=null?k.customHandler:vx(k)}function Dx(A,k){let D;return"channelAuthorization"in A?D=Object.assign(Object.assign({},d.channelAuthorization),A.channelAuthorization):(D={transport:A.authTransport||d.authTransport,endpoint:A.authEndpoint||d.authEndpoint},"auth"in A&&("params"in A.auth&&(D.params=A.auth.params),"headers"in A.auth&&(D.headers=A.auth.headers)),"authorizer"in A&&(D.customHandler=xx(k,D,A.authorizer))),D}function Ax(A,k){const D=Dx(A,k);return"customHandler"in D&&D.customHandler!=null?D.customHandler:bx(D)}class Ex extends dn{constructor(k){super(function(D,U){De.debug(`No callbacks on watchlist events for ${D}`)}),this.pusher=k,this.bindWatchlistInternalEvent()}handleEvent(k){k.data.events.forEach(D=>{this.emit(D.name,D)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",k=>{var D=k.event;D==="pusher_internal:watchlist_events"&&this.handleEvent(k)})}}function Px(){let A,k;return{promise:new Promise((U,Y)=>{A=U,k=Y}),resolve:A,reject:k}}var Rx=Px;class Ox extends dn{constructor(k){super(function(D,U){De.debug("No callbacks on user for "+D)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(D,U)=>{if(D){De.warn(`Error during signin: ${D}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:U.auth,user_data:U.user_data})},this.pusher=k,this.pusher.connection.bind("state_change",({previous:D,current:U})=>{D!=="connected"&&U==="connected"&&this._signin(),D==="connected"&&U!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Ex(k),this.pusher.connection.bind("message",D=>{var U=D.event;U==="pusher:signin_success"&&this._onSigninSuccess(D.data),this.serverToUserChannel&&this.serverToUserChannel.name===D.channel&&this.serverToUserChannel.handleEvent(D)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(k){try{this.user_data=JSON.parse(k.user_data)}catch{De.error(`Failed parsing user data after signin: ${k.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){De.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const k=D=>{D.subscriptionPending&&D.subscriptionCancelled?D.reinstateSubscription():!D.subscriptionPending&&this.pusher.connection.state==="connected"&&D.subscribe()};this.serverToUserChannel=new Vr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((D,U)=>{D.indexOf("pusher_internal:")===0||D.indexOf("pusher:")===0||this.emit(D,U)}),k(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:k,resolve:D,reject:U}=Rx();k.done=!1;const Y=()=>{k.done=!0};k.then(Y).catch(Y),this.signinDonePromise=k,this._signinDoneResolve=D}}class vs{static ready(){vs.isReady=!0;for(var k=0,D=vs.instances.length;k<D;k++)vs.instances[k].connect()}static getClientFeatures(){return Re(J({ws:dt.Transports.ws},function(k){return k.isSupported({})}))}constructor(k,D){Ix(k),gx(D),this.key=k,this.config=wx(D,this),this.channels=ho.createChannels(),this.global_emitter=new dn,this.sessionID=dt.randomInt(1e9),this.timeline=new ux(this.key,this.sessionID,{cluster:this.config.cluster,features:vs.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:bl.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=ho.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+dt.TimelineTransport.name}));var U=Y=>dt.getDefaultStrategy(this.config,Y,px);this.connection=ho.createConnectionManager(this.key,{getStrategy:U,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Y=>{var ge=Y.event,Ae=ge.indexOf("pusher_internal:")===0;if(Y.channel){var qe=this.channel(Y.channel);qe&&qe.handleEvent(Y)}Ae||this.global_emitter.emit(Y.event,Y.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Y=>{De.warn(Y)}),vs.instances.push(this),this.timeline.info({instances:vs.instances.length}),this.user=new Ox(this),vs.isReady&&this.connect()}channel(k){return this.channels.find(k)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var k=this.connection.isUsingTLS(),D=this.timelineSender;this.timelineSenderTimer=new it(6e4,function(){D.send(k)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(k,D,U){return this.global_emitter.bind(k,D,U),this}unbind(k,D,U){return this.global_emitter.unbind(k,D,U),this}bind_global(k){return this.global_emitter.bind_global(k),this}unbind_global(k){return this.global_emitter.unbind_global(k),this}unbind_all(k){return this.global_emitter.unbind_all(),this}subscribeAll(){var k;for(k in this.channels.channels)this.channels.channels.hasOwnProperty(k)&&this.subscribe(k)}subscribe(k){var D=this.channels.add(k,this);return D.subscriptionPending&&D.subscriptionCancelled?D.reinstateSubscription():!D.subscriptionPending&&this.connection.state==="connected"&&D.subscribe(),D}unsubscribe(k){var D=this.channels.find(k);D&&D.subscriptionPending?D.cancelSubscription():(D=this.channels.remove(k),D&&D.subscribed&&D.unsubscribe())}send_event(k,D,U){return this.connection.send_event(k,D,U)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}vs.instances=[],vs.isReady=!1,vs.logToConsole=!1,vs.Runtime=dt,vs.ScriptReceivers=dt.ScriptReceivers,vs.DependenciesReceivers=dt.DependenciesReceivers,vs.auth_callbacks=dt.auth_callbacks;var pu=n.default=vs;function Ix(A){if(A==null)throw"You must pass your app key when you instantiate Pusher."}dt.setup(vs)}])})})(Zy);var kT=Zy.exports;const $T=wT(kT);let ia=null,nh=!0;async function CT(){if(ia||(ia=new(window.AudioContext||window.webkitAudioContext)),ia.state==="suspended")try{await ia.resume()}catch{}return ia}async function ST(){const s=await CT(),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.value=800,e.type="sine";const n=s.currentTime;t.gain.setValueAtTime(0,n),t.gain.linearRampToValueAtTime(.3*Ng(),n+.01),t.gain.exponentialRampToValueAtTime(.01,n+.3),e.start(n),e.stop(n+.3),setTimeout(()=>{const o=s.createOscillator(),r=s.createGain();o.connect(r),r.connect(s.destination),o.frequency.value=1e3,o.type="sine";const a=s.currentTime;r.gain.setValueAtTime(0,a),r.gain.linearRampToValueAtTime(.3*Ng(),a+.01),r.gain.exponentialRampToValueAtTime(.01,a+.3),o.start(a),o.stop(a+.3)},150)}async function MT(){if(nh)try{await ST()}catch{}}function TT(){const s=localStorage.getItem("notification_sound_enabled");return s!==null&&(nh=s==="true"),nh}function Ng(){const s=localStorage.getItem("notification_volume");return s?parseFloat(s):.5}typeof window<"u"&&TT();const DT={class:"relative bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Notifications"},AT={key:0,class:"absolute -top-0.5 z-40 flex h-[1.125rem] w-[1.125rem] items-center justify-center rounded-full bg-red-600 text-[0.65rem] text-white ltr:-right-0.5 rtl:-left-0.5"},ET={class:"absolute mt-2 w-48 origin-top-right overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},PT={key:0,class:"py-4 text-center text-sm text-gray-700"},RT={key:1},OT=["href","onClick"],IT=pe({__name:"_NotificationsDropdown",setup(s){const e=R([]),t=R();window.Pusher=$T;let n=null,o=0;function r(){me.get("notifications").then(d=>{const c=d.data.new;c>o&&o>=0&&MT(),o=c,t.value=c,e.value=d.data.notifications})}r(),n=window.setInterval(()=>{document.hasFocus()&&r()},1e4),Ys(()=>{n&&clearInterval(n)});function a(d){d&&t.value&&me.post("/notifications/read").then(c=>{c.data.success&&(t.value=0,o=0)})}function l(d){return{"App\\Notifications\\ProjectAssigned":"/projects/"+d.data.item_id,"App\\Notifications\\TaskAssigned":"/projects/"+d.data.project_id}[d.type]}return(d,c)=>{const u=wn("router-link");return _(),oe(m(Ns),{onToggle:a},{trigger:X(()=>[i("button",DT,[c[0]||(c[0]=i("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),t.value?(_(),b("div",AT,f(t.value>9?"9+":t.value),1)):P("",!0)])]),content:X(()=>[i("div",ET,[e.value.length?(_(),b("div",RT,[(_(!0),b(ue,null,xe(e.value,h=>(_(),oe(u,{key:h.id,custom:"",to:l(h)},{default:X(({href:p,navigate:g})=>[i("a",{href:p,class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",role:"menuitem",onClick:g},f(h.data.message),9,OT)]),_:2},1032,["to"]))),128))])):(_(),b("p",PT,f(d.__("No Notifications!")),1))])]),_:1})}}}),jT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},LT={class:"absolute mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 rtl:right-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},FT={class:"py-1",role:"none"},NT={class:"flex-1 font-medium ltr:ml-2 rtl:mr-2"},zT=pe({__name:"_RecentDropdown",setup(s){const e=R([]);return me.get("recent-projects").then(t=>{e.value=t.data}),(t,n)=>{const o=wn("router-link");return _(),oe(m(Ns),null,{trigger:X(()=>[i("button",jT,[i("span",null,f(t.__("Recent")),1),n[0]||(n[0]=i("div",{class:"ltr:ml-1 rtl:mr-1"},[i("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:X(()=>[i("div",LT,[V(i("p",{class:"px-4 py-4 text-sm text-gray-700"},f(t.__("There are no data")),513),[[Ft,!e.value.length]]),V(i("div",FT,[(_(!0),b(ue,null,xe(e.value,r=>(_(),oe(o,{key:r.name,class:"flex items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",to:"/projects/"+r.project_id},{default:X(()=>[i("span",{class:"block h-2 w-2 rounded-full",style:$t({"background-color":r.project.meta.color})},"",4),i("span",NT,f(r.project.name),1)]),_:2},1032,["to"]))),128))],512),[[Ft,e.value.length]])])]),_:1})}}}),BT={id:"logout-form",method:"POST",action:"/logout"},UT=["value"],VT={class:"flex items-center text-sm font-medium text-gray-500 transition duration-150 ease-in-out hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 focus:outline-none"},HT={class:"ltr:ml-2 rtl:mr-2"},WT={class:"absolute mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 rtl:left-0",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},qT={class:"divide-y divide-gray-100"},KT={class:"px-4 py-2.5"},YT={class:"block text-xs font-normal text-gray-500"},GT={class:"mt-0.5 block truncate text-sm font-normal text-gray-600",role:"none"},XT={class:"py-1",role:"none"},JT=pe({__name:"ProfileDropdown",setup(s){const e=vt.user,t=vt.csrf_token;function n(){document.querySelector("#logout-form").submit()}return(o,r)=>{const a=wn("RouterLink");return _(),oe(m(Ns),null,{trigger:X(()=>[i("form",BT,[i("input",{type:"hidden",name:"_token",value:m(t)},null,8,UT)]),i("button",VT,[M(m(ms),{avatar:m(e).avatar,class:"h-8 w-8"},null,8,["avatar"]),i("div",HT,f(m(e).name),1),r[0]||(r[0]=i("div",{class:"ltr:ml-1 rtl:mr-1"},[i("svg",{class:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),content:X(()=>[i("div",WT,[i("div",qT,[i("p",KT,[i("span",YT,f(o.__("Signed in as")),1),i("span",GT,f(m(e).email),1)]),i("div",XT,[M(a,{to:"/profile",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:X(()=>[se(f(o.__("Profile")),1)]),_:1}),o.can("setting:general")?(_(),oe(a,{key:0,to:"/settings/general",class:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:X(()=>[se(f(o.__("Settings")),1)]),_:1})):P("",!0),i("a",{href:"/logout",class:"block px-4 py-2 text-sm text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100",onClick:We(n,["prevent"])},f(o.__("Logout")),1)])])])]),_:1})}}}),QT={key:0},ZT={class:"flex items-center space-x-2"},eD={class:"flex flex-col leading-tight"},tD={class:"text-lg font-bold"},sD={class:"text-sm"},nD={class:"contract-tooltip"},oD={class:"mt-1 text-xs"},iD={key:0,class:"mt-0.5"},rD={class:"contract-modal-header"},aD={class:"contract-modal-body"},lD={class:"font-bold"},dD={class:"details-grid"},cD={class:"detail-item"},uD={class:"detail-value"},fD={class:"detail-item"},hD={class:"detail-value"},pD={class:"detail-item"},mD={class:"detail-value countdown-value"},gD={key:0,class:"urgency-message"},_D={class:"contract-modal-footer"},vD=pe({__name:"ContractCountdown",setup(s){const e=Pe(()=>vt.contract_days_remaining),t=R(!1);function n(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"}function o(l){return l?{"fixed-term":"Fixed Term",permanent:"Permanent",freelance:"Freelance"}[l]||l:"Fixed Term"}function r(){return e.value?e.value<=30?"Expiring Soon":e.value<=90?"Active (Reminder)":"Active":"Unknown"}function a(){return e.value?e.value<=30?"status-urgent":e.value<=90?"status-warning":"status-normal":""}return(l,d)=>e.value!==null&&m(vt).employment_type==="Contract"?(_(),b("div",QT,[i("div",{class:ne(["contract-countdown-badge",{"contract-urgent":e.value<=30,"contract-warning":e.value>30&&e.value<=90,"contract-normal":e.value>90}]),onClick:d[0]||(d[0]=c=>t.value=!0)},[i("div",ZT,[d[6]||(d[6]=i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),i("div",eD,[d[5]||(d[5]=i("span",{class:"text-xs font-medium opacity-90"},"Contract Ends In",-1)),i("span",tD,[se(f(e.value)+" ",1),i("span",sD,f(e.value===1?"day":"days"),1)])])]),i("div",nD,[d[7]||(d[7]=i("div",{class:"text-xs font-semibold"},"Click for Details",-1)),i("div",oD,[i("div",null,"End Date: "+f(n(m(vt).user.contract_end_date)),1),m(vt).user.contract_type?(_(),b("div",iD," Type: "+f(o(m(vt).user.contract_type)),1)):P("",!0)])])],2),t.value?(_(),b("div",{key:0,class:"contract-modal-overlay",onClick:d[4]||(d[4]=c=>t.value=!1)},[i("div",{class:"contract-modal",onClick:d[3]||(d[3]=We(()=>{},["stop"]))},[i("div",rD,[d[9]||(d[9]=i("h3",{class:"text-xl font-bold text-gray-900"},"Contract Information",-1)),i("button",{class:"close-button",onClick:d[1]||(d[1]=c=>t.value=!1)},[...d[8]||(d[8]=[i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",aD,[i("div",{class:ne(["status-badge",a()])},[d[10]||(d[10]=i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",lD,"Status: "+f(r()),1)],2),i("div",dD,[i("div",cD,[d[11]||(d[11]=i("div",{class:"detail-label"},"Contract Type",-1)),i("div",uD,f(o(m(vt).user.contract_type)),1)]),i("div",fD,[d[12]||(d[12]=i("div",{class:"detail-label"},"End Date",-1)),i("div",hD,f(n(m(vt).user.contract_end_date)),1)]),i("div",pD,[d[13]||(d[13]=i("div",{class:"detail-label"},"Days Remaining",-1)),i("div",mD,f(e.value)+" "+f(e.value===1?"day":"days"),1)]),d[14]||(d[14]=Ir('<div class="detail-item" data-v-881d3395><div class="detail-label" data-v-881d3395>Renewal Status</div><div class="detail-value renewal-status" data-v-881d3395><svg class="h-5 w-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-881d3395><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-881d3395></path></svg><span data-v-881d3395>Non-renewable</span></div></div>',1))]),e.value<=30?(_(),b("div",gD,[...d[15]||(d[15]=[i("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),i("div",null,[i("div",{class:"font-bold"},"Urgent: Contract Expiring Soon"),i("div",{class:"text-sm"},"Please contact HR if you need assistance regarding your contract.")],-1)])])):P("",!0)]),i("div",_D,[i("button",{class:"modal-button",onClick:d[2]||(d[2]=c=>t.value=!1)}," Close ")])])])):P("",!0)])):P("",!0)}});const yD=Xh(vD,[["__scopeId","data-v-881d3395"]]),bD={class:"relative z-10 flex h-16 flex-shrink-0 bg-white shadow"},xD={class:"flex flex-1 justify-between px-4"},wD={class:"flex flex-1 items-center px-4"},kD={class:"flex items-center ltr:ml-4 rtl:mr-4 ltr:md:ml-6 rtl:md:mr-6"},$D=pe({__name:"Header",setup(s){const e=xc();return(t,n)=>(_(),b("div",bD,[i("button",{class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:n[0]||(n[0]=o=>m(e).isMobileSidebar=!0)},[n[1]||(n[1]=i("span",{class:"sr-only"},"Open sidebar",-1)),M(m(xv),{class:"h-6 w-6","aria-hidden":"true"})]),i("div",xD,[i("div",wD,[M(zT),t.can("project:create")||t.can("user:create")?(_(),oe(xT,{key:0,class:"ltr:ml-6 rtl:mr-6"})):P("",!0)]),i("div",kD,[M(ZM),M(d6,{class:"ltr:ml-5 ltr:mr-5 rtl:ml-5 rtl:mr-5"}),M(MM),M(yD,{class:"ltr:ml-5 rtl:mr-5"}),M(IT,{class:"ltr:ml-5 rtl:mr-5"}),M(JT,{class:"ltr:ml-5 rtl:mr-5"})])])]))}}),mp=an("favorite",()=>{const s=R([]);async function e(){const{data:t}=await me.get("favorites");s.value=t}return{items:s,fetch:e}}),CD={class:"text-gray-400 hover:text-gray-200"},SD={class:"absolute bottom-6 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},MD={class:"py-1",role:"none"},TD=pe({__name:"ProjectMenu",props:{id:{},index:{},isFavorite:{}},emits:["toggleMenu"],setup(s,{emit:e}){const t=s,n=e,o=R(t.isFavorite);function r(c){n("toggleMenu",{state:c,index:t.index})}function a(){me.patch("/projects/"+t.id+"/favorite").then(({data:c})=>{mp().items=c.favorites.favorites,o.value=c.favorite})}function l(){me.patch(`projects/${t.id}/archive`).then(()=>{window.location.href="/"})}function d(){jt().add(Qc,{id:t.id})}return(c,u)=>(_(),oe(m(Ns),{name:"sidebar-project-menu-"+s.id,onToggle:r},{trigger:X(()=>[i("span",CD,[M(m(J4),{class:"h-4 w-4"})])]),content:X(()=>[i("div",SD,[i("div",MD,[i("button",{class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(a,["prevent"])},f(o.value?c.__("Remove favorite"):c.__("Add to favorite")),1),c.can("project:update")?(_(),b("button",{key:0,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(d,["prevent"])},f(c.__("Edit")),1)):P("",!0),c.can("project:delete")?(_(),b("button",{key:1,class:"w-full px-4 py-1.5 text-left text-xs font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(l,["prevent"])},f(c.__("Archive")),1)):P("",!0)])])]),_:1},8,["name"]))}}),DD={class:"mt-6"},AD={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},ED={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},PD={class:"ml-auto flex items-center gap-1"},RD=["href","onClick"],OD={class:"mt-2 space-y-0.5"},ID=["href","onClick"],jD={class:"flex-1 truncate"},LD=pe({__name:"Index",setup(s){const e=et("can"),t=pp(),n=uo(),o=Pe(()=>n.currentRoute.value.path),r=R(null);function a(d){return o.value.startsWith(d)}function l(d){d.state?r.value=d.index:r.value==d.index&&(r.value=null)}return(d,c)=>{const u=wn("RouterLink");return _(),b("section",DD,[M(m(Vc),{open:""},{trigger:X(({open:h})=>[i("div",AD,[(_(),b("svg",{viewBox:"0 0 16 16",class:ne(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!h,"rotate-0":h}])},[...c[1]||(c[1]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("h3",ED,f(d.__("Projects")),1),i("div",PD,[M(u,{to:"/projects",custom:""},{default:X(({href:p,navigate:g})=>[i("a",{href:p,"data-cy":"projects-index-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:We(g,["stop"])},[M(m(Z4),{class:"h-4 w-4"})],8,RD)]),_:1}),m(e)("project:create")?(_(),b("span",{key:0,"data-cy":"create-project-button-sidebar",class:"flex h-7 w-7 items-center justify-center rounded-md text-gray-400 opacity-0 transition-all duration-200 hover:bg-indigo-500/20 hover:text-indigo-300 group-hover:opacity-100",onClick:c[0]||(c[0]=We((...p)=>m(t).create&&m(t).create(...p),["stop"]))},[M(m(qn),{class:"h-4 w-4"})])):P("",!0)])])]),content:X(()=>[i("div",OD,[(_(!0),b(ue,null,xe(m(t).items.filter(h=>h&&h.id),(h,p)=>(_(),oe(u,{key:h.id||p,to:`/projects/${h.id}`,custom:""},{default:X(({navigate:g,href:v,route:x})=>[i("a",{href:v,class:ne([a(x.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:g},[i("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:$t({"background-color":h.meta.color,"box-shadow":`0 0 8px ${h.meta.color}40`})},null,4),i("span",jD,f(h.name),1),M(TD,{id:h.id,index:p,"is-favorite":h.is_favorite,class:ne(["group-hover:block",{hidden:r.value!=p}]),onToggleMenu:l},null,8,["id","index","is-favorite","class"])],10,ID)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),FD={class:"mt-6"},ND={class:"group flex cursor-pointer items-center rounded-lg px-3 py-2 transition-all duration-200 hover:bg-gray-700/50"},zD={class:"px-3 text-xs font-bold uppercase tracking-wider text-gray-400 transition-colors duration-200 group-hover:text-gray-200"},BD={class:"mt-2 space-y-0.5"},UD=["href","onClick"],VD={class:"flex-1 truncate"},HD=pe({__name:"Index",setup(s){const e=uo(),t=Pe(()=>e.currentRoute.value.path),n=mp();n.fetch();function o(r){return t.value.startsWith(r)}return(r,a)=>{const l=wn("RouterLink");return _(),b("section",FD,[M(m(Vc),{open:""},{trigger:X(({open:d})=>[i("div",ND,[(_(),b("svg",{viewBox:"0 0 16 16",class:ne(["h-4 w-4 text-gray-400 transition-all duration-200 group-hover:text-indigo-400",{"rotate-[270deg]":!d,"rotate-0":d}])},[...a[0]||(a[0]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("h3",zD,f(r.__("Favorites")),1)])]),content:X(()=>[i("div",BD,[(_(!0),b(ue,null,xe(m(n).items,d=>(_(),oe(l,{key:d.project.name,to:`/projects/${d.project.id}`,custom:""},{default:X(({navigate:c,href:u,route:h})=>[i("a",{href:u,class:ne([o(h.path)?"bg-gray-700/70 text-white border-l-2 border-indigo-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white border-l-2 border-transparent hover:border-gray-500/30","group flex items-center rounded-lg py-2 px-3 text-sm font-medium transition-all duration-200"]),onClick:c},[i("span",{class:"h-2.5 w-2.5 rounded-full shadow-lg transition-all duration-200 ltr:ml-1 ltr:mr-3 rtl:mr-1 rtl:ml-3 group-hover:scale-125","aria-hidden":"true",style:$t({"background-color":d.project.meta.color,"box-shadow":`0 0 8px ${d.project.meta.color}40`})},null,4),i("span",VD,f(d.project.name),1)],10,UD)]),_:2},1032,["to"]))),128))])]),_:1})])}}}),WD={class:"hidden md:flex md:flex-shrink-0"},qD={class:"flex w-64 flex-col border-r border-gray-700/50 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 shadow-2xl"},KD={class:"flex h-0 flex-1 flex-col"},YD={class:"sidebar-nav flex flex-1 flex-col overflow-y-auto scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700 hover:scrollbar-thumb-gray-600"},GD={class:"flex-1 space-y-1 px-3 py-4"},XD=pe({__name:"Sidebar",setup(s){return(e,t)=>{const n=wn("RouterLink");return _(),b("div",WD,[i("div",qD,[i("div",KD,[M(n,{to:"/",class:"group relative flex h-16 flex-shrink-0 items-center border-b border-gray-700/50 bg-gray-900/80 px-4 backdrop-blur-sm transition-all duration-200 hover:bg-gray-800/80"},{default:X(()=>[t[0]||(t[0]=i("div",{class:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"},null,-1)),M(Ev)]),_:1}),i("div",YD,[i("nav",GD,[M(Av),M(HD),M(LD)])])])])])}}}),JD={key:0,class:"fixed top-0 left-0 right-0 z-[300] flex items-center justify-center gap-4 bg-yellow-500 px-4 py-2 text-sm font-medium text-yellow-900"},QD={__name:"ImpersonationBanner",setup(s){const e=Pe(()=>vt.is_impersonating),t=Pe(()=>{var o;return((o=vt.user)==null?void 0:o.name)||"Unknown"}),n=async()=>{var o,r;try{const a=await me.post("impersonate/stop");alert(a.data.message),window.location.href="/"}catch(a){alert(((r=(o=a.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to stop impersonating")}};return(o,r)=>e.value?(_(),b("div",JD,[i("span",null,[se(f(o.__("You are logged in as"))+" ",1),i("strong",null,f(t.value),1)]),i("button",{type:"button",class:"rounded-md bg-yellow-600 px-3 py-1 text-xs font-semibold text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",onClick:n},f(o.__("Return to your account")),1)])):P("",!0)}},ZD=pe({setup(){return()=>M(ue,null,[M(QD,null,null),M("div",{class:"flex h-screen overflow-hidden bg-gray-100"},[M(S$,null,null),M(XD,null,null),M("div",{class:"flex w-0 flex-1 flex-col overflow-hidden"},[M($D,null,null),M("main",{class:"relative flex-1 overflow-y-auto px-8 py-6"},[M(Oh,null,null)])]),M(oM,null,null),M(iM,null,null)])])}}),eA=pe({setup(){const s=xc();return()=>s.isBlankPage?M(Oh,null,null):M(ZD,null,null)}}),eb=b5(eA),tA=pe({__name:"NotFound",setup(s){return(e,t)=>(_(),oe(m(ty),{code:"404",heading:"Page not found",description:"Please check the URL in the address bar and try again."}))}}),sA=pe({__name:"Forbidden",setup(s){return(e,t)=>(_(),oe(m(ty),{code:"403",heading:"Forbidden",description:"Unauthorized Access."}))}}),gp=an("home",()=>{const s=R(!0),e=R(),t=R();n();async function n(){try{const[a,l]=await Promise.all([o(),r()]);e.value=a.data,t.value=l.data}catch{}finally{s.value=!1}}function o(){return me.get("metrics")}function r(){return me.get("charts")}return{charts:t,fetching:s,metrics:e}}),nA={class:"grid grid-cols-12 gap-6"},oA={class:"col-span-12 lg:col-span-6"},iA={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},rA={class:"text-lg font-semibold text-gray-900"},aA={style:{height:"300px"}},lA={class:"col-span-12 lg:col-span-6"},dA={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},cA={class:"text-lg font-semibold text-gray-900"},uA={style:{height:"300px"}},fA=pe({__name:"_Charts",setup(s){const e=gp();return(t,n)=>(_(),b("section",nA,[i("div",oA,[M(m(ui),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:X(()=>{var o;return[i("div",iA,[i("div",null,[i("h3",rA,f(t.__("Completed in the last 7 days")),1),n[0]||(n[0]=i("p",{class:"mt-1 text-xs text-gray-500"}," Weekly task completion trend ",-1))]),n[1]||(n[1]=i("span",{class:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700"}," 7 Days ",-1))]),i("div",aA,[M(m(sh),{id:"tasks-chart",data:(o=m(e).charts)==null?void 0:o.chart_tasks_weekly,"tooltip-label":"Tasks","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]}),_:1})]),i("div",lA,[M(m(ui),{class:"overflow-hidden rounded-lg border border-gray-200 p-6 shadow-sm transition-shadow duration-200 hover:shadow-md"},{default:X(()=>{var o;return[i("div",dA,[i("div",null,[i("h3",cA,f(t.__("Most productive month")),1),n[2]||(n[2]=i("p",{class:"mt-1 text-xs text-gray-500"}," Yearly performance overview ",-1))]),n[3]||(n[3]=i("span",{class:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700"}," 12 Months ",-1))]),i("div",uA,[M(m(sh),{id:"tasks-chart-yearly",data:(o=m(e).charts)==null?void 0:o.chart_tasks_yearly,"tooltip-label":"Tasks","background-color":"rgba(147, 51, 234, 0.1)","border-color":"#9333EA"},null,8,["data"])])]}),_:1})])]))}}),hA={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},pA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md"},mA={class:"flex items-center gap-3"},gA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100"},_A={class:"text-sm font-medium text-gray-600"},vA={class:"mt-4"},yA={class:"text-3xl font-bold text-gray-900"},bA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-green-300 hover:shadow-md"},xA={class:"flex items-center gap-3"},wA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100"},kA={class:"text-sm font-medium text-gray-600"},$A={class:"mt-4"},CA={class:"text-3xl font-bold text-gray-900"},SA={class:"group relative overflow-hidden rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:border-purple-300 hover:shadow-md"},MA={class:"flex items-center gap-3"},TA={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100"},DA={class:"text-sm font-medium text-gray-600"},AA={class:"mt-4"},EA={class:"text-3xl font-bold text-gray-900"},PA=pe({__name:"_Metrics",setup(s){const e=gp();return(t,n)=>{var o,r,a;return _(),b("section",null,[i("dl",hA,[i("div",pA,[i("dt",mA,[i("div",gA,[M(m(Vh),{class:"h-6 w-6 text-indigo-600"})]),i("p",_A,f(t.__("Open Tasks")),1)]),i("dd",vA,[i("p",yA,f((o=m(e).metrics)==null?void 0:o.open_tasks),1),n[0]||(n[0]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700"}," In Progress ")],-1))])]),i("div",bA,[i("dt",xA,[i("div",wA,[M(m(Js),{class:"h-6 w-6 text-green-600"})]),i("p",kA,f(t.__("Completed Tasks")),1)]),i("dd",$A,[i("p",CA,f((r=m(e).metrics)==null?void 0:r.completed_tasks),1),n[1]||(n[1]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-green-50 px-2.5 py-0.5 text-xs font-medium text-green-700"}," Finished ")],-1))])]),i("div",SA,[i("dt",MA,[i("div",TA,[M(m(ao),{class:"h-6 w-6 text-purple-600"})]),i("p",DA,f(t.__("Total Projects")),1)]),i("dd",AA,[i("p",EA,f((a=m(e).metrics)==null?void 0:a.total_projects),1),n[2]||(n[2]=i("div",{class:"mt-3 flex items-center text-sm"},[i("span",{class:"inline-flex items-center rounded-full bg-purple-50 px-2.5 py-0.5 text-xs font-medium text-purple-700"}," Active ")],-1))])])])])}}}),RA={key:1,class:"space-y-8"},OA={class:"flex items-center justify-between border-b border-gray-200 pb-5"},IA={class:"text-3xl font-bold text-gray-900"},jA=pe({__name:"Home",setup(s){const e=et("__"),t=gp();return(n,o)=>m(t).fetching?(_(),oe(m(Ut),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),b("div",RA,[i("div",OA,[i("div",null,[i("h1",IA,f(m(e)("Dashboard")),1),o[0]||(o[0]=i("p",{class:"mt-1 text-sm text-gray-500"}," Welcome back! Here's what's happening with your tasks today. ",-1))])]),M(PA),M(fA)]))}}),LA={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},FA={class:"sm:col-span-2"},NA=["src"],zA={key:1,class:"inline-block h-24 w-24 overflow-hidden rounded-full bg-gray-200"},BA=pe({__name:"FieldAvatar",setup(s){const e=cs("profile")(),t=512,n=512,o=R();o.value=e.data.avatar;function r(a){if(!a.target.files.length)return;let l=a.target.files[0],d=a.target,c=new FileReader;c.readAsDataURL(l),c.onload=u=>{let h=new Image;h.src=u.target.result,h.onload=function(){if(h.width>t||h.height>n){alert("you can upload max "+t+" x "+n),d.value=null;return}o.value=u.target.result;const p=new FormData;p.append("avatar",l),me.post("avatar",p)}}}return(a,l)=>(_(),b("div",LA,[l[2]||(l[2]=i("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"  ",-1)),i("div",FA,[o.value?(_(),b("img",{key:0,class:"h-24 w-24 rounded-full",src:o.value},null,8,NA)):(_(),b("span",zA,[...l[0]||(l[0]=[i("svg",{class:"h-full w-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])])),l[1]||(l[1]=i("label",{for:"avatar",class:"mt-2 block w-24 cursor-pointer text-center text-sm text-gray-600"}," Change ",-1)),i("input",{id:"avatar",type:"file",class:"hidden",accept:"image/*",name:"avatar",onChange:r},null,32)])]))}}),UA=pe({__name:"Profile",setup(s){const e=cs("profile")(),t=fo();return e.onSuccess(()=>{e.submitting=!1,e.data.password=""}),(n,o)=>(_(),b(ue,null,[M(m(ec),{title:n.__("Profile")},null,8,["title"]),M(m(Lo),{name:"profile",uri:"profile","save-only":""},{default:X(()=>[M(BA),M(m(t),{name:"name",label:n.__("Name"),inline:""},null,8,["label"]),M(m(t),{name:"email",label:n.__("Email"),inline:"",disabled:""},null,8,["label"]),M(m(t),{name:"password",label:n.__("New Password"),type:"password",inline:""},null,8,["label"])]),_:1})],64))}}),Qs=an("project-detail",()=>{const s=R(!1),e=R({});async function t(n){s.value=!0;const{data:o}=await me.get(`projects/${n}`);s.value=!1,e.value=o}return{fetch:t,fetching:s,data:e}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zg(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),t.push.apply(t,n)}return t}function co(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zg(Object(t),!0).forEach(function(n){VA(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function xd(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xd=function(e){return typeof e}:xd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(s)}function VA(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Po(){return Po=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Po.apply(this,arguments)}function HA(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function WA(s,e){if(s==null)return{};var t=HA(s,e),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}var qA="1.15.0";function To(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var Fo=To(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ml=To(/Edge/i),Bg=To(/firefox/i),Ra=To(/safari/i)&&!To(/chrome/i)&&!To(/android/i),tb=To(/iP(ad|od|hone)/i),sb=To(/chrome/i)&&To(/android/i),nb={capture:!1,passive:!1};function Mt(s,e,t){s.addEventListener(e,t,!Fo&&nb)}function wt(s,e,t){s.removeEventListener(e,t,!Fo&&nb)}function tc(s,e){if(e){if(e[0]===">"&&(e=e.substring(1)),s)try{if(s.matches)return s.matches(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e)}catch{return!1}return!1}}function KA(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function eo(s,e,t,n){if(s){t=t||document;do{if(e!=null&&(e[0]===">"?s.parentNode===t&&tc(s,e):tc(s,e))||n&&s===t)return s;if(s===t)break}while(s=KA(s))}return null}var Ug=/\s+/g;function un(s,e,t){if(s&&e)if(s.classList)s.classList[t?"add":"remove"](e);else{var n=(" "+s.className+" ").replace(Ug," ").replace(" "+e+" "," ");s.className=(n+(t?" "+e:"")).replace(Ug," ")}}function ot(s,e,t){var n=s&&s.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(t=s.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function yr(s,e){var t="";if(typeof s=="string")t=s;else do{var n=ot(s,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(s=s.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function ob(s,e,t){if(s){var n=s.getElementsByTagName(e),o=0,r=n.length;if(t)for(;o<r;o++)t(n[o],o);return n}return[]}function ro(){var s=document.scrollingElement;return s||document.documentElement}function hs(s,e,t,n,o){if(!(!s.getBoundingClientRect&&s!==window)){var r,a,l,d,c,u,h;if(s!==window&&s.parentNode&&s!==ro()?(r=s.getBoundingClientRect(),a=r.top,l=r.left,d=r.bottom,c=r.right,u=r.height,h=r.width):(a=0,l=0,d=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||t)&&s!==window&&(o=o||s.parentNode,!Fo))do if(o&&o.getBoundingClientRect&&(ot(o,"transform")!=="none"||t&&ot(o,"position")!=="static")){var p=o.getBoundingClientRect();a-=p.top+parseInt(ot(o,"border-top-width")),l-=p.left+parseInt(ot(o,"border-left-width")),d=a+r.height,c=l+r.width;break}while(o=o.parentNode);if(n&&s!==window){var g=yr(o||s),v=g&&g.a,x=g&&g.d;g&&(a/=x,l/=v,h/=v,u/=x,d=a+u,c=l+h)}return{top:a,left:l,bottom:d,right:c,width:h,height:u}}}function Vg(s,e,t){for(var n=oi(s,!0),o=hs(s)[e];n;){var r=hs(n)[t],a=void 0;if(t==="top"||t==="left"?a=o>=r:a=o<=r,!a)return n;if(n===ro())break;n=oi(n,!1)}return!1}function Pr(s,e,t,n){for(var o=0,r=0,a=s.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==Ze.ghost&&(n||a[r]!==Ze.dragged)&&eo(a[r],t.draggable,s,!1)){if(o===e)return a[r];o++}r++}return null}function _p(s,e){for(var t=s.lastElementChild;t&&(t===Ze.ghost||ot(t,"display")==="none"||e&&!tc(t,e));)t=t.previousElementSibling;return t||null}function Tn(s,e){var t=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==Ze.clone&&(!e||tc(s,e))&&t++;return t}function Hg(s){var e=0,t=0,n=ro();if(s)do{var o=yr(s),r=o.a,a=o.d;e+=s.scrollLeft*r,t+=s.scrollTop*a}while(s!==n&&(s=s.parentNode));return[e,t]}function YA(s,e){for(var t in s)if(s.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===s[t][n])return Number(t)}return-1}function oi(s,e){if(!s||!s.getBoundingClientRect)return ro();var t=s,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=ot(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ro();if(n||e)return t;n=!0}}while(t=t.parentNode);return ro()}function GA(s,e){if(s&&e)for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function Zu(s,e){return Math.round(s.top)===Math.round(e.top)&&Math.round(s.left)===Math.round(e.left)&&Math.round(s.height)===Math.round(e.height)&&Math.round(s.width)===Math.round(e.width)}var Oa;function ib(s,e){return function(){if(!Oa){var t=arguments,n=this;t.length===1?s.call(n,t[0]):s.apply(n,t),Oa=setTimeout(function(){Oa=void 0},e)}}}function XA(){clearTimeout(Oa),Oa=void 0}function rb(s,e,t){s.scrollLeft+=e,s.scrollTop+=t}function ab(s){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(s).cloneNode(!0):t?t(s).clone(!0)[0]:s.cloneNode(!0)}var _n="Sortable"+new Date().getTime();function JA(){var s=[],e;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(ot(o,"display")==="none"||o===Ze.ghost)){s.push({target:o,rect:hs(o)});var r=co({},s[s.length-1].rect);if(o.thisAnimationDuration){var a=yr(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(n){s.push(n)},removeAnimationState:function(n){s.splice(YA(s,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;s.forEach(function(l){var d=0,c=l.target,u=c.fromRect,h=hs(c),p=c.prevFromRect,g=c.prevToRect,v=l.rect,x=yr(c,!0);x&&(h.top-=x.f,h.left-=x.e),c.toRect=h,c.thisAnimationDuration&&Zu(p,h)&&!Zu(u,h)&&(v.top-h.top)/(v.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(d=ZA(v,p,g,o.options)),Zu(h,u)||(c.prevFromRect=u,c.prevToRect=h,d||(d=o.options.animation),o.animate(c,v,h,d)),d&&(r=!0,a=Math.max(a,d),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},d),c.thisAnimationDuration=d)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),s=[]},animate:function(n,o,r,a){if(a){ot(n,"transition",""),ot(n,"transform","");var l=yr(this.el),d=l&&l.a,c=l&&l.d,u=(o.left-r.left)/(d||1),h=(o.top-r.top)/(c||1);n.animatingX=!!u,n.animatingY=!!h,ot(n,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=QA(n),ot(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ot(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ot(n,"transition",""),ot(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function QA(s){return s.offsetWidth}function ZA(s,e,t,n){return Math.sqrt(Math.pow(e.top-s.top,2)+Math.pow(e.left-s.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var lr=[],ef={initializeByDefault:!0},gl={mount:function(e){for(var t in ef)ef.hasOwnProperty(t)&&!(t in e)&&(e[t]=ef[t]);lr.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),lr.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";lr.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](co({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](co({sortable:t},n)))})},initializePlugins:function(e,t,n,o){lr.forEach(function(l){var d=l.pluginName;if(!(!e.options[d]&&!l.initializeByDefault)){var c=new l(e,t,e.options);c.sortable=e,c.options=e.options,e[d]=c,Po(n,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return lr.forEach(function(o){typeof o.eventProperties=="function"&&Po(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return lr.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(o=r.optionListeners[t].call(e[r.pluginName],n))}),o}};function eE(s){var e=s.sortable,t=s.rootEl,n=s.name,o=s.targetEl,r=s.cloneEl,a=s.toEl,l=s.fromEl,d=s.oldIndex,c=s.newIndex,u=s.oldDraggableIndex,h=s.newDraggableIndex,p=s.originalEvent,g=s.putSortable,v=s.extraEventProperties;if(e=e||t&&t[_n],!!e){var x,y=e.options,$="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Fo&&!ml?x=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(n,!0,!0)),x.to=a||t,x.from=l||t,x.item=o||t,x.clone=r,x.oldIndex=d,x.newIndex=c,x.oldDraggableIndex=u,x.newDraggableIndex=h,x.originalEvent=p,x.pullMode=g?g.lastPutMode:void 0;var w=co(co({},v),gl.getEventProperties(n,e));for(var S in w)x[S]=w[S];t&&t.dispatchEvent(x),y[$]&&y[$].call(e,x)}}var tE=["evt"],en=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=WA(n,tE);gl.pluginEvent.bind(Ze)(e,t,co({dragEl:Ee,parentEl:Jt,ghostEl:ct,rootEl:Kt,nextEl:ji,lastDownEl:wd,cloneEl:Gt,cloneHidden:Xo,dragStarted:pa,putSortable:ys,activeSortable:Ze.active,originalEvent:o,oldIndex:hr,oldDraggableIndex:Ia,newIndex:pn,newDraggableIndex:Go,hideGhostForTarget:ub,unhideGhostForTarget:fb,cloneNowHidden:function(){Xo=!0},cloneNowShown:function(){Xo=!1},dispatchSortableEvent:function(l){Hs({sortable:t,name:l,originalEvent:o})}},r))};function Hs(s){eE(co({putSortable:ys,cloneEl:Gt,targetEl:Ee,rootEl:Kt,oldIndex:hr,oldDraggableIndex:Ia,newIndex:pn,newDraggableIndex:Go},s))}var Ee,Jt,ct,Kt,ji,wd,Gt,Xo,hr,pn,Ia,Go,Kl,ys,fr=!1,sc=!1,nc=[],Ai,Ln,tf,sf,Wg,qg,pa,dr,ja,La=!1,Yl=!1,kd,Ds,nf=[],oh=!1,oc=[],Zc=typeof document<"u",Gl=tb,Kg=ml||Fo?"cssFloat":"float",sE=Zc&&!sb&&!tb&&"draggable"in document.createElement("div"),lb=function(){if(Zc){if(Fo)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),db=function(e,t){var n=ot(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Pr(e,0,t),a=Pr(e,1,t),l=r&&ot(r),d=a&&ot(a),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+hs(r).width,u=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+hs(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===h)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=o&&n[Kg]==="none"||a&&n[Kg]==="none"&&c+u>o)?"vertical":"horizontal"},nE=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,l=n?t.left:t.top,d=n?t.right:t.bottom,c=n?t.width:t.height;return o===l||r===d||o+a/2===l+c/2},oE=function(e,t){var n;return nc.some(function(o){var r=o[_n].options.emptyInsertThreshold;if(!(!r||_p(o))){var a=hs(o),l=e>=a.left-r&&e<=a.right+r,d=t>=a.top-r&&t<=a.bottom+r;if(l&&d)return n=o}}),n},cb=function(e){function t(r,a){return function(l,d,c,u){var h=l.options.group.name&&d.options.group.name&&l.options.group.name===d.options.group.name;if(r==null&&(a||h))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,d,c,u),a)(l,d,c,u);var p=(a?l:d).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var n={},o=e.group;(!o||xd(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},ub=function(){!lb&&ct&&ot(ct,"display","none")},fb=function(){!lb&&ct&&ot(ct,"display","")};Zc&&!sb&&document.addEventListener("click",function(s){if(sc)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),sc=!1,!1},!0);var Ei=function(e){if(Ee){e=e.touches?e.touches[0]:e;var t=oE(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[_n]._onDragOver(n)}}},iE=function(e){Ee&&Ee.parentNode[_n]._isOutsideThisEl(e.target)};function Ze(s,e){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=e=Po({},e),s[_n]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return db(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ze.supportPointer!==!1&&"PointerEvent"in window&&!Ra,emptyInsertThreshold:5};gl.initializePlugins(this,s,t);for(var n in t)!(n in e)&&(e[n]=t[n]);cb(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:sE,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mt(s,"pointerdown",this._onTapStart):(Mt(s,"mousedown",this._onTapStart),Mt(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mt(s,"dragover",this),Mt(s,"dragenter",this)),nc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Po(this,JA())}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(dr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,u=o.filter;if(hE(n),!Ee&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Ra&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=eo(d,o.draggable,n,!1),!(d&&d.animated)&&wd!==d)){if(hr=Tn(d),Ia=Tn(d,o.draggable),typeof u=="function"){if(u.call(this,e,d,this)){Hs({sortable:t,rootEl:c,name:"filter",targetEl:d,toEl:n,fromEl:n}),en("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=eo(c,h.trim(),n,!1),h)return Hs({sortable:t,rootEl:h,name:"filter",targetEl:d,fromEl:n,toEl:n}),en("filter",t,{evt:e}),!0}),u)){r&&e.cancelable&&e.preventDefault();return}o.handle&&!eo(c,o.handle,n,!1)||this._prepareDragStart(e,l,d)}}},_prepareDragStart:function(e,t,n){var o=this,r=o.el,a=o.options,l=r.ownerDocument,d;if(n&&!Ee&&n.parentNode===r){var c=hs(n);if(Kt=r,Ee=n,Jt=Ee.parentNode,ji=Ee.nextSibling,wd=n,Kl=a.group,Ze.dragged=Ee,Ai={target:Ee,clientX:(t||e).clientX,clientY:(t||e).clientY},Wg=Ai.clientX-c.left,qg=Ai.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ee.style["will-change"]="all",d=function(){if(en("delayEnded",o,{evt:e}),Ze.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Bg&&o.nativeDraggable&&(Ee.draggable=!0),o._triggerDragStart(e,t),Hs({sortable:o,name:"choose",originalEvent:e}),un(Ee,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){ob(Ee,u.trim(),of)}),Mt(l,"dragover",Ei),Mt(l,"mousemove",Ei),Mt(l,"touchmove",Ei),Mt(l,"mouseup",o._onDrop),Mt(l,"touchend",o._onDrop),Mt(l,"touchcancel",o._onDrop),Bg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),en("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ml||Fo))){if(Ze.eventCanceled){this._onDrop();return}Mt(l,"mouseup",o._disableDelayedDrag),Mt(l,"touchend",o._disableDelayedDrag),Mt(l,"touchcancel",o._disableDelayedDrag),Mt(l,"mousemove",o._delayedDragTouchMoveHandler),Mt(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Mt(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&of(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._disableDelayedDrag),wt(e,"touchend",this._disableDelayedDrag),wt(e,"touchcancel",this._disableDelayedDrag),wt(e,"mousemove",this._delayedDragTouchMoveHandler),wt(e,"touchmove",this._delayedDragTouchMoveHandler),wt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Mt(document,"pointermove",this._onTouchMove):t?Mt(document,"touchmove",this._onTouchMove):Mt(document,"mousemove",this._onTouchMove):(Mt(Ee,"dragend",this),Mt(Kt,"dragstart",this._onDragStart));try{document.selection?$d(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(fr=!1,Kt&&Ee){en("dragStarted",this,{evt:t}),this.nativeDraggable&&Mt(document,"dragover",iE);var n=this.options;!e&&un(Ee,n.dragClass,!1),un(Ee,n.ghostClass,!0),Ze.active=this,e&&this._appendGhost(),Hs({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ln){this._lastX=Ln.clientX,this._lastY=Ln.clientY,ub();for(var e=document.elementFromPoint(Ln.clientX,Ln.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ln.clientX,Ln.clientY),e!==t);)t=e;if(Ee.parentNode[_n]._isOutsideThisEl(e),t)do{if(t[_n]){var n=void 0;if(n=t[_n]._onDragOver({clientX:Ln.clientX,clientY:Ln.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);fb()}},_onTouchMove:function(e){if(Ai){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=ct&&yr(ct,!0),l=ct&&a&&a.a,d=ct&&a&&a.d,c=Gl&&Ds&&Hg(Ds),u=(r.clientX-Ai.clientX+o.x)/(l||1)+(c?c[0]-nf[0]:0)/(l||1),h=(r.clientY-Ai.clientY+o.y)/(d||1)+(c?c[1]-nf[1]:0)/(d||1);if(!Ze.active&&!fr){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ct){a?(a.e+=u-(tf||0),a.f+=h-(sf||0)):a={a:1,b:0,c:0,d:1,e:u,f:h};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ot(ct,"webkitTransform",p),ot(ct,"mozTransform",p),ot(ct,"msTransform",p),ot(ct,"transform",p),tf=u,sf=h,Ln=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ct){var e=this.options.fallbackOnBody?document.body:Kt,t=hs(Ee,!0,Gl,!0,e),n=this.options;if(Gl){for(Ds=e;ot(Ds,"position")==="static"&&ot(Ds,"transform")==="none"&&Ds!==document;)Ds=Ds.parentNode;Ds!==document.body&&Ds!==document.documentElement?(Ds===document&&(Ds=ro()),t.top+=Ds.scrollTop,t.left+=Ds.scrollLeft):Ds=ro(),nf=Hg(Ds)}ct=Ee.cloneNode(!0),un(ct,n.ghostClass,!1),un(ct,n.fallbackClass,!0),un(ct,n.dragClass,!0),ot(ct,"transition",""),ot(ct,"transform",""),ot(ct,"box-sizing","border-box"),ot(ct,"margin",0),ot(ct,"top",t.top),ot(ct,"left",t.left),ot(ct,"width",t.width),ot(ct,"height",t.height),ot(ct,"opacity","0.8"),ot(ct,"position",Gl?"absolute":"fixed"),ot(ct,"zIndex","100000"),ot(ct,"pointerEvents","none"),Ze.ghost=ct,e.appendChild(ct),ot(ct,"transform-origin",Wg/parseInt(ct.style.width)*100+"% "+qg/parseInt(ct.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;if(en("dragStart",this,{evt:e}),Ze.eventCanceled){this._onDrop();return}en("setupClone",this),Ze.eventCanceled||(Gt=ab(Ee),Gt.removeAttribute("id"),Gt.draggable=!1,Gt.style["will-change"]="",this._hideClone(),un(Gt,this.options.chosenClass,!1),Ze.clone=Gt),n.cloneId=$d(function(){en("clone",n),!Ze.eventCanceled&&(n.options.removeCloneOnHide||Kt.insertBefore(Gt,Ee),n._hideClone(),Hs({sortable:n,name:"clone"}))}),!t&&un(Ee,r.dragClass,!0),t?(sc=!0,n._loopId=setInterval(n._emulateDragOver,50)):(wt(document,"mouseup",n._onDrop),wt(document,"touchend",n._onDrop),wt(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,Ee)),Mt(document,"drop",n),ot(Ee,"transform","translateZ(0)")),fr=!0,n._dragStartId=$d(n._dragStarted.bind(n,t,e)),Mt(document,"selectstart",n),pa=!0,Ra&&ot(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,r,a,l=this.options,d=l.group,c=Ze.active,u=Kl===d,h=l.sort,p=ys||c,g,v=this,x=!1;if(oh)return;function y(ee,q){en(ee,v,co({evt:e,isOwner:u,axis:g?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:h,fromSortable:p,target:n,completed:w,onMove:function(we,Oe){return Xl(Kt,t,Ee,o,we,hs(we),e,Oe)},changed:S},q))}function $(){y("dragOverAnimationCapture"),v.captureAnimationState(),v!==p&&p.captureAnimationState()}function w(ee){return y("dragOverCompleted",{insertion:ee}),ee&&(u?c._hideClone():c._showClone(v),v!==p&&(un(Ee,ys?ys.options.ghostClass:c.options.ghostClass,!1),un(Ee,l.ghostClass,!0)),ys!==v&&v!==Ze.active?ys=v:v===Ze.active&&ys&&(ys=null),p===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){y("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===Ee&&!Ee.animated||n===t&&!n.animated)&&(dr=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(Ee.parentNode[_n]._isOutsideThisEl(e.target),!ee&&Ei(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function S(){pn=Tn(Ee),Go=Tn(Ee,l.draggable),Hs({sortable:v,name:"change",toEl:t,newIndex:pn,newDraggableIndex:Go,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=eo(n,l.draggable,t,!0),y("dragOver"),Ze.eventCanceled)return x;if(Ee.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return w(!1);if(sc=!1,c&&!l.disabled&&(u?h||(a=Jt!==Kt):ys===this||(this.lastPutMode=Kl.checkPull(this,c,Ee,e))&&d.checkPut(this,c,Ee,e))){if(g=this._getDirection(e,n)==="vertical",o=hs(Ee),y("dragOverValid"),Ze.eventCanceled)return x;if(a)return Jt=Kt,$(),this._hideClone(),y("revert"),Ze.eventCanceled||(ji?Kt.insertBefore(Ee,ji):Kt.appendChild(Ee)),w(!0);var C=_p(t,l.draggable);if(!C||dE(e,g,this)&&!C.animated){if(C===Ee)return w(!1);if(C&&t===e.target&&(n=C),n&&(r=hs(n)),Xl(Kt,t,Ee,o,n,r,e,!!n)!==!1)return $(),C&&C.nextSibling?t.insertBefore(Ee,C.nextSibling):t.appendChild(Ee),Jt=t,S(),w(!0)}else if(C&&lE(e,g,this)){var T=Pr(t,0,l,!0);if(T===Ee)return w(!1);if(n=T,r=hs(n),Xl(Kt,t,Ee,o,n,r,e,!1)!==!1)return $(),t.insertBefore(Ee,T),Jt=t,S(),w(!0)}else if(n.parentNode===t){r=hs(n);var F=0,L,z=Ee.parentNode!==t,j=!nE(Ee.animated&&Ee.toRect||o,n.animated&&n.toRect||r,g),E=g?"top":"left",O=Vg(n,"top","top")||Vg(Ee,"top","top"),I=O?O.scrollTop:void 0;dr!==n&&(L=r[E],La=!1,Yl=!j&&l.invertSwap||z),F=cE(e,n,r,g,j?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Yl,dr===n);var W;if(F!==0){var ye=Tn(Ee);do ye-=F,W=Jt.children[ye];while(W&&(ot(W,"display")==="none"||W===ct))}if(F===0||W===n)return w(!1);dr=n,ja=F;var ve=n.nextElementSibling,_e=!1;_e=F===1;var Q=Xl(Kt,t,Ee,o,n,r,e,_e);if(Q!==!1)return(Q===1||Q===-1)&&(_e=Q===1),oh=!0,setTimeout(aE,30),$(),_e&&!ve?t.appendChild(Ee):n.parentNode.insertBefore(Ee,_e?ve:n),O&&rb(O,0,I-O.scrollTop),Jt=Ee.parentNode,L!==void 0&&!Yl&&(kd=Math.abs(L-hs(n)[E])),S(),w(!0)}if(t.contains(Ee))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){wt(document,"mousemove",this._onTouchMove),wt(document,"touchmove",this._onTouchMove),wt(document,"pointermove",this._onTouchMove),wt(document,"dragover",Ei),wt(document,"mousemove",Ei),wt(document,"touchmove",Ei)},_offUpEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._onDrop),wt(e,"touchend",this._onDrop),wt(e,"pointerup",this._onDrop),wt(e,"touchcancel",this._onDrop),wt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(pn=Tn(Ee),Go=Tn(Ee,n.draggable),en("drop",this,{evt:e}),Jt=Ee&&Ee.parentNode,pn=Tn(Ee),Go=Tn(Ee,n.draggable),Ze.eventCanceled){this._nulling();return}fr=!1,Yl=!1,La=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ih(this.cloneId),ih(this._dragStartId),this.nativeDraggable&&(wt(document,"drop",this),wt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ra&&ot(document.body,"user-select",""),ot(Ee,"transform",""),e&&(pa&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ct&&ct.parentNode&&ct.parentNode.removeChild(ct),(Kt===Jt||ys&&ys.lastPutMode!=="clone")&&Gt&&Gt.parentNode&&Gt.parentNode.removeChild(Gt),Ee&&(this.nativeDraggable&&wt(Ee,"dragend",this),of(Ee),Ee.style["will-change"]="",pa&&!fr&&un(Ee,ys?ys.options.ghostClass:this.options.ghostClass,!1),un(Ee,this.options.chosenClass,!1),Hs({sortable:this,name:"unchoose",toEl:Jt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Kt!==Jt?(pn>=0&&(Hs({rootEl:Jt,name:"add",toEl:Jt,fromEl:Kt,originalEvent:e}),Hs({sortable:this,name:"remove",toEl:Jt,originalEvent:e}),Hs({rootEl:Jt,name:"sort",toEl:Jt,fromEl:Kt,originalEvent:e}),Hs({sortable:this,name:"sort",toEl:Jt,originalEvent:e})),ys&&ys.save()):pn!==hr&&pn>=0&&(Hs({sortable:this,name:"update",toEl:Jt,originalEvent:e}),Hs({sortable:this,name:"sort",toEl:Jt,originalEvent:e})),Ze.active&&((pn==null||pn===-1)&&(pn=hr,Go=Ia),Hs({sortable:this,name:"end",toEl:Jt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){en("nulling",this),Kt=Ee=Jt=ct=ji=Gt=wd=Xo=Ai=Ln=pa=pn=Go=hr=Ia=dr=ja=ys=Kl=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,oc.forEach(function(e){e.checked=!0}),oc.length=tf=sf=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(e),rE(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)t=n[o],eo(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||fE(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(r,a){var l=o.children[a];eo(l,this.options.draggable,o,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return eo(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=gl.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&cb(n)},destroy:function(){en("destroy",this);var e=this.el;e[_n]=null,wt(e,"mousedown",this._onTapStart),wt(e,"touchstart",this._onTapStart),wt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(wt(e,"dragover",this),wt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nc.splice(nc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Xo){if(en("hideClone",this),Ze.eventCanceled)return;ot(Gt,"display","none"),this.options.removeCloneOnHide&&Gt.parentNode&&Gt.parentNode.removeChild(Gt),Xo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Xo){if(en("showClone",this),Ze.eventCanceled)return;Ee.parentNode==Kt&&!this.options.group.revertClone?Kt.insertBefore(Gt,Ee):ji?Kt.insertBefore(Gt,ji):Kt.appendChild(Gt),this.options.group.revertClone&&this.animate(Ee,Gt),ot(Gt,"display",""),Xo=!1}}};function rE(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function Xl(s,e,t,n,o,r,a,l){var d,c=s[_n],u=c.options.onMove,h;return window.CustomEvent&&!Fo&&!ml?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=s,d.dragged=t,d.draggedRect=n,d.related=o||e,d.relatedRect=r||hs(e),d.willInsertAfter=l,d.originalEvent=a,s.dispatchEvent(d),u&&(h=u.call(c,d,a)),h}function of(s){s.draggable=!1}function aE(){oh=!1}function lE(s,e,t){var n=hs(Pr(t.el,0,t.options,!0)),o=10;return e?s.clientX<n.left-o||s.clientY<n.top&&s.clientX<n.right:s.clientY<n.top-o||s.clientY<n.bottom&&s.clientX<n.left}function dE(s,e,t){var n=hs(_p(t.el,t.options.draggable)),o=10;return e?s.clientX>n.right+o||s.clientX<=n.right&&s.clientY>n.bottom&&s.clientX>=n.left:s.clientX>n.right&&s.clientY>n.top||s.clientX<=n.right&&s.clientY>n.bottom+o}function cE(s,e,t,n,o,r,a,l){var d=n?s.clientY:s.clientX,c=n?t.height:t.width,u=n?t.top:t.left,h=n?t.bottom:t.right,p=!1;if(!a){if(l&&kd<c*o){if(!La&&(ja===1?d>u+c*r/2:d<h-c*r/2)&&(La=!0),La)p=!0;else if(ja===1?d<u+kd:d>h-kd)return-ja}else if(d>u+c*(1-o)/2&&d<h-c*(1-o)/2)return uE(e)}return p=p||a,p&&(d<u+c*r/2||d>h-c*r/2)?d>u+c/2?1:-1:0}function uE(s){return Tn(Ee)<Tn(s)?1:-1}function fE(s){for(var e=s.tagName+s.className+s.src+s.href+s.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function hE(s){oc.length=0;for(var e=s.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&oc.push(n)}}function $d(s){return setTimeout(s,0)}function ih(s){return clearTimeout(s)}Zc&&Mt(document,"touchmove",function(s){(Ze.active||fr)&&s.cancelable&&s.preventDefault()});Ze.utils={on:Mt,off:wt,css:ot,find:ob,is:function(e,t){return!!eo(e,t,e,!1)},extend:GA,throttle:ib,closest:eo,toggleClass:un,clone:ab,index:Tn,nextTick:$d,cancelNextTick:ih,detectDirection:db,getChild:Pr};Ze.get=function(s){return s[_n]};Ze.mount=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Ze.utils=co(co({},Ze.utils),n.utils)),gl.mount(n)})};Ze.create=function(s,e){return new Ze(s,e)};Ze.version=qA;var as=[],ma,rh,ah=!1,rf,af,ic,ga;function pE(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return s.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?Mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Mt(document,"touchmove",this._handleFallbackAutoScroll):Mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?wt(document,"dragover",this._handleAutoScroll):(wt(document,"pointermove",this._handleFallbackAutoScroll),wt(document,"touchmove",this._handleFallbackAutoScroll),wt(document,"mousemove",this._handleFallbackAutoScroll)),Yg(),Cd(),XA()},nulling:function(){ic=rh=ma=ah=ga=rf=af=null,as.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(ic=t,n||this.options.forceAutoScrollFallback||ml||Fo||Ra){lf(t,this.options,l,n);var d=oi(l,!0);ah&&(!ga||r!==rf||a!==af)&&(ga&&Yg(),ga=setInterval(function(){var c=oi(document.elementFromPoint(r,a),!0);c!==d&&(d=c,Cd()),lf(t,o.options,c,n)},10),rf=r,af=a)}else{if(!this.options.bubbleScroll||oi(l,!0)===ro()){Cd();return}lf(t,this.options,oi(l,!1),!1)}}},Po(s,{pluginName:"scroll",initializeByDefault:!0})}function Cd(){as.forEach(function(s){clearInterval(s.pid)}),as=[]}function Yg(){clearInterval(ga)}var lf=ib(function(s,e,t,n){if(e.scroll){var o=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,d=ro(),c=!1,u;rh!==t&&(rh=t,Cd(),ma=e.scroll,u=e.scrollFn,ma===!0&&(ma=oi(t,!0)));var h=0,p=ma;do{var g=p,v=hs(g),x=v.top,y=v.bottom,$=v.left,w=v.right,S=v.width,C=v.height,T=void 0,F=void 0,L=g.scrollWidth,z=g.scrollHeight,j=ot(g),E=g.scrollLeft,O=g.scrollTop;g===d?(T=S<L&&(j.overflowX==="auto"||j.overflowX==="scroll"||j.overflowX==="visible"),F=C<z&&(j.overflowY==="auto"||j.overflowY==="scroll"||j.overflowY==="visible")):(T=S<L&&(j.overflowX==="auto"||j.overflowX==="scroll"),F=C<z&&(j.overflowY==="auto"||j.overflowY==="scroll"));var I=T&&(Math.abs(w-o)<=a&&E+S<L)-(Math.abs($-o)<=a&&!!E),W=F&&(Math.abs(y-r)<=a&&O+C<z)-(Math.abs(x-r)<=a&&!!O);if(!as[h])for(var ye=0;ye<=h;ye++)as[ye]||(as[ye]={});(as[h].vx!=I||as[h].vy!=W||as[h].el!==g)&&(as[h].el=g,as[h].vx=I,as[h].vy=W,clearInterval(as[h].pid),(I!=0||W!=0)&&(c=!0,as[h].pid=setInterval((function(){n&&this.layer===0&&Ze.active._onTouchMove(ic);var ve=as[this.layer].vy?as[this.layer].vy*l:0,_e=as[this.layer].vx?as[this.layer].vx*l:0;typeof u=="function"&&u.call(Ze.dragged.parentNode[_n],_e,ve,s,ic,as[this.layer].el)!=="continue"||rb(as[this.layer].el,_e,ve)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==d&&(p=oi(p,!1)));ah=c}},30),hb=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(t){var c=n||r;l();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(u.clientX,u.clientY);d(),c&&!c.el.contains(h)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function vp(){}vp.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Pr(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:hb};Po(vp,{pluginName:"revertOnSpill"});function yp(){}yp.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:hb};Po(yp,{pluginName:"removeOnSpill"});Ze.mount(new pE);Ze.mount(yp,vp);function mE(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function gE(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function _E(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M4.5 12a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm6 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function vE(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function pb(s,e){return _(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})])}const yE={class:"cursor-pointer text-gray-600 hover:text-gray-700"},bE={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},xE={class:"py-1",role:"none"},wE=pe({__name:"SectionDropdown",props:{listId:{},listIndex:{}},emits:["listEdit"],setup(s){const e=s,t=Qs();function n(){pd().confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){me.delete(`lists/${e.listId}`).then(()=>{pd().hide(),t.data.lists.splice(e.listIndex,1)}).catch(()=>{pd().hide()})}})}return(o,r)=>(_(),oe(m(Ns),{"close-outside":""},{trigger:X(()=>[i("span",yE,[M(m(_E),{class:"h-4 w-4"})])]),content:X(()=>[i("div",bE,[i("div",xE,[i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r[0]||(r[0]=We(a=>o.$emit("listEdit"),["prevent"]))},f(o.__("Edit")),1),i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:n},f(o.__("Delete")),1)])])]),_:1}))}}),kE={class:"flex items-center py-2.5 px-2"},$E={key:0,class:"flex-1 ltr:pr-2 rtl:pl-2"},CE=["textContent"],SE={key:2,class:"ltr:ml-auto rtl:mr-auto"},ME=pe({__name:"SectionHeader",props:{id:{},index:{},name:{}},setup(s){const e=s,t=R(!1),n=R(""),o=R(null),r=R(e.name);function a(c){c.target.closest("#list-edit-input")||(t.value=!1,document.removeEventListener("click",a))}function l(){t.value=!0,n.value=r.value,setTimeout(function(){var c;(c=o.value)==null||c.focus(),document.addEventListener("click",a)})}function d(){n.value&&me.patch(`lists/${e.id}`,{name:n.value}).then(()=>{r.value=n.value,t.value=!1,n.value="",document.removeEventListener("click",a)})}return(c,u)=>(_(),b("div",kE,[t.value?(_(),b("div",$E,[V(i("input",{id:"list-edit-input",ref_key:"input",ref:o,"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Dn(d,["enter"])},null,544),[[ie,n.value]])])):P("",!0),t.value?P("",!0):(_(),b("div",{key:1,class:"px-2 py-[0.313rem] text-sm font-semibold leading-none text-gray-700",textContent:f(r.value)},null,8,CE)),c.can("task-list:update")||c.can("task-list:delete")?(_(),b("div",SE,[M(wE,{"list-id":s.id,"list-index":s.index,onListEdit:l},null,8,["list-id","list-index"])])):P("",!0)]))}}),es=an("task",()=>{const s=R(!0),e=R({}),t=R({}),n=R(!1),o=R(null),r=R(null),a=R(null),l=R(!1),d=R(!1);function c(u){typeof u=="number"?(s.value=u,me.get("tasks/"+u).then(({data:h})=>{s.value=!1,t.value=h.options,e.value=h.task})):(s.value=u.loading,me.get("tasks/"+u.id).then(({data:h})=>{s.value=!1,t.value=h.options,h.value=h.task}))}return{checklistItemForm:r,commentForm:a,data:e,fetch:c,isContentForm:n,loading:s,newChecklistItemForm:d,newSubtaskForm:l,options:t,subtaskForm:o}}),TE=pe({__name:"TaskCheckbox",setup(s){const e=Ss("tasks")(),t=Qs(),n=es(),o=R(!1);function r(l){o.value||(o.value=!0,me.patch(`tasks/${l}/complete`).then(({data:d})=>{var u;o.value=!1,n.data.completed_at=d.completed_at,a();const c=jt().components.findIndex(h=>h.component.__name=="TaskModal");((u=jt().components[c].payload)==null?void 0:u.page)=="tasks"&&e.fetch({loading:!1})}))}function a(){t.fetch(n.data.project_id)}return(l,d)=>(_(),b("span",{class:ne(["mt-0.5 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":o.value,"bg-blue-400":m(n).data.completed_at,"border border-gray-300":!m(n).data.completed_at}]),onClick:d[0]||(d[0]=c=>r(m(n).data.id))},[...d[1]||(d[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}});function mb(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let er=mb();function DE(s){er=s}const gb=/[&<>"']/,AE=new RegExp(gb.source,"g"),_b=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,EE=new RegExp(_b.source,"g"),PE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gg=s=>PE[s];function Es(s,e){if(e){if(gb.test(s))return s.replace(AE,Gg)}else if(_b.test(s))return s.replace(EE,Gg);return s}const RE=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function vb(s){return s.replace(RE,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const OE=/(^|[^\[])\^/g;function Vt(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,o)=>(o=o.source||o,o=o.replace(OE,"$1"),s=s.replace(n,o),t),getRegex:()=>new RegExp(s,e)};return t}const IE=/[^\w:]/g,jE=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Xg(s,e,t){if(s){let n;try{n=decodeURIComponent(vb(t)).replace(IE,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!jE.test(t)&&(t=zE(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Jl={},LE=/^[^:]+:\/*[^/]*$/,FE=/^([^:]+:)[\s\S]*$/,NE=/^([^:]+:\/*[^/]*)[\s\S]*$/;function zE(s,e){Jl[" "+s]||(LE.test(s)?Jl[" "+s]=s+"/":Jl[" "+s]=Sd(s,"/",!0)),s=Jl[" "+s];const t=s.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:s.replace(FE,"$1")+e:e.charAt(0)==="/"?t?e:s.replace(NE,"$1")+e:s+e}const rc={exec:function(){}};function Jg(s,e){const t=s.replace(/\|/g,(r,a,l)=>{let d=!1,c=a;for(;--c>=0&&l[c]==="\\";)d=!d;return d?"|":" |"}),n=t.split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function Sd(s,e,t){const n=s.length;if(n===0)return"";let o=0;for(;o<n;){const r=s.charAt(n-o-1);if(r===e&&!t)o++;else if(r!==e&&t)o++;else break}return s.slice(0,n-o)}function BE(s,e){if(s.indexOf(e[1])===-1)return-1;const t=s.length;let n=0,o=0;for(;o<t;o++)if(s[o]==="\\")o++;else if(s[o]===e[0])n++;else if(s[o]===e[1]&&(n--,n<0))return o;return-1}function UE(s){s&&s.sanitize&&s.silent}function Qg(s,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=s),e>>=1,s+=s;return t+s}function Zg(s,e,t,n){const o=e.href,r=e.title?Es(e.title):null,a=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:o,title:r,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:o,title:r,text:Es(a)}}function VE(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(o=>{const r=o.match(/^\s+/);if(r===null)return o;const[a]=r;return a.length>=n.length?o.slice(n.length):o}).join(`
`)}class bp{constructor(e){this.options=e||er}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Sd(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],o=VE(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const o=Sd(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:r,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,r,a,l,d,c,u,h,p,g,v,x=t[1].trim();const y=x.length>1,$={type:"list",raw:"",ordered:y,start:y?+x.slice(0,-1):"",loose:!1,items:[]};x=y?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=y?x:"[*+-]");const w=new RegExp(`^( {0,3}${x})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(t=w.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),h=e.split(`
`,1)[0],this.options.pedantic?(a=2,g=u.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,g=u.slice(a),a+=t[1].length),d=!1,!u&&/^ *$/.test(h)&&(n+=h+`
`,e=e.substring(h.length+1),v=!0),!v){const C=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),F=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(F.test(h)||L.test(h)||C.test(h)||T.test(e)));){if(h.search(/[^ ]/)>=a||!h.trim())g+=`
`+h.slice(a);else{if(d||u.search(/[^ ]/)>=4||F.test(u)||L.test(u)||T.test(u))break;g+=`
`+h}!d&&!h.trim()&&(d=!0),n+=p+`
`,e=e.substring(p.length+1),u=h.slice(a)}}$.loose||(c?$.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(r=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!o,checked:r,loose:!1,text:g}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=g.trimRight(),$.raw=$.raw.trimRight();const S=$.items.length;for(l=0;l<S;l++)if(this.lexer.state.top=!1,$.items[l].tokens=this.lexer.blockTokens($.items[l].text,[]),!$.loose){const C=$.items[l].tokens.filter(F=>F.type==="space"),T=C.length>0&&C.some(F=>/\n.*\n/.test(F.raw));$.loose=T}if($.loose)for(l=0;l<S;l++)$.items[l].loose=!0;return $}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):Es(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:o,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:Jg(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,r,a,l,d;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.rows.length,r=0;r<o;r++)n.rows[r]=Jg(n.rows[r],n.header.length).map(c=>({text:c}));for(o=n.header.length,a=0;a<o;a++)n.header[a].tokens=this.lexer.inline(n.header[a].text);for(o=n.rows.length,a=0;a<o;a++)for(d=n.rows[a],l=0;l<d.length;l++)d[l].tokens=this.lexer.inline(d[l].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Es(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Es(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=Sd(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=BE(t[2],"()");if(a>-1){const d=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,d).trim(),t[3]=""}}let o=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a&&(o=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),Zg(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Zg(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=o[1]||o[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const a=o[0].length-1;let l,d,c=a,u=0;const h=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+a);(o=h.exec(t))!=null;){if(l=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!l)continue;if(d=l.length,o[3]||o[4]){c+=d;continue}else if((o[5]||o[6])&&a%3&&!((a+d)%3)){u+=d;continue}if(c-=d,c>0)continue;d=Math.min(d,d+c+u);const p=e.slice(0,a+o.index+(o[0].length-l.length)+d);if(Math.min(a,d)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const g=p.slice(2,-2);return{type:"strong",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const o=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return o&&r&&(n=n.substring(1,n.length-1)),n=Es(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let o,r;return n[2]==="@"?(o=Es(this.options.mangle?t(n[1]):n[1]),r="mailto:"+o):(o=Es(n[1]),r=o),{type:"link",raw:n[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,r;if(n[2]==="@")o=Es(this.options.mangle?t(n[0]):n[0]),r="mailto:"+o;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);o=Es(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Es(n[0]):n[0]:o=Es(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}}const Xe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:rc,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Xe._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Xe._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Xe.def=Vt(Xe.def).replace("label",Xe._label).replace("title",Xe._title).getRegex();Xe.bullet=/(?:[*+-]|\d{1,9}[.)])/;Xe.listItemStart=Vt(/^( *)(bull) */).replace("bull",Xe.bullet).getRegex();Xe.list=Vt(Xe.list).replace(/bull/g,Xe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Xe.def.source+")").getRegex();Xe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Xe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Xe.html=Vt(Xe.html,"i").replace("comment",Xe._comment).replace("tag",Xe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Xe.paragraph=Vt(Xe._paragraph).replace("hr",Xe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xe._tag).getRegex();Xe.blockquote=Vt(Xe.blockquote).replace("paragraph",Xe.paragraph).getRegex();Xe.normal={...Xe};Xe.gfm={...Xe.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Xe.gfm.table=Vt(Xe.gfm.table).replace("hr",Xe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xe._tag).getRegex();Xe.gfm.paragraph=Vt(Xe._paragraph).replace("hr",Xe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Xe.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xe._tag).getRegex();Xe.pedantic={...Xe.normal,html:Vt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Vt(Xe.normal._paragraph).replace("hr",Xe.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:rc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:rc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ze.punctuation=Vt(ze.punctuation).replace(/punctuation/g,ze._punctuation).getRegex();ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ze.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;ze._comment=Vt(Xe._comment).replace("(?:-->|$)","-->").getRegex();ze.emStrong.lDelim=Vt(ze.emStrong.lDelim).replace(/punct/g,ze._punctuation).getRegex();ze.emStrong.rDelimAst=Vt(ze.emStrong.rDelimAst,"g").replace(/punct/g,ze._punctuation).getRegex();ze.emStrong.rDelimUnd=Vt(ze.emStrong.rDelimUnd,"g").replace(/punct/g,ze._punctuation).getRegex();ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ze.autolink=Vt(ze.autolink).replace("scheme",ze._scheme).replace("email",ze._email).getRegex();ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ze.tag=Vt(ze.tag).replace("comment",ze._comment).replace("attribute",ze._attribute).getRegex();ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ze.link=Vt(ze.link).replace("label",ze._label).replace("href",ze._href).replace("title",ze._title).getRegex();ze.reflink=Vt(ze.reflink).replace("label",ze._label).replace("ref",Xe._label).getRegex();ze.nolink=Vt(ze.nolink).replace("ref",Xe._label).getRegex();ze.reflinkSearch=Vt(ze.reflinkSearch,"g").replace("reflink",ze.reflink).replace("nolink",ze.nolink).getRegex();ze.normal={...ze};ze.pedantic={...ze.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vt(/^!?\[(label)\]\((.*?)\)/).replace("label",ze._label).getRegex(),reflink:Vt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze._label).getRegex()};ze.gfm={...ze.normal,escape:Vt(ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};ze.gfm.url=Vt(ze.gfm.url,"i").replace("email",ze.gfm._extended_email).getRegex();ze.breaks={...ze.gfm,br:Vt(ze.br).replace("{2,}","*").getRegex(),text:Vt(ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function HE(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function e1(s){let e="",t,n;const o=s.length;for(t=0;t<o;t++)n=s.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class hi{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||er,this.options.tokenizer=this.options.tokenizer||new bp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Xe.normal,inline:ze.normal};this.options.pedantic?(t.block=Xe.pedantic,t.inline=ze.pedantic):this.options.gfm&&(t.block=Xe.gfm,this.options.breaks?t.inline=ze.breaks:t.inline=ze.gfm),this.tokenizer.rules=t}static get rules(){return{block:Xe,inline:ze}}static lex(e,t){return new hi(t).lex(e)}static lexInline(e,t){return new hi(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,d,c)=>d+"    ".repeat(c.length));let n,o,r,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+n.raw,o.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const d=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},d),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){o=t[t.length-1],a&&o.type==="paragraph"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n),a=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,r,a=e,l,d,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+Qg("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+Qg("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(d||(c=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),o=t[t.length-1],o&&n.type==="text"&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),o=t[t.length-1],o&&n.type==="text"&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,a,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,e1)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,e1))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(function(g){p=g.call({lexer:this},h),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(r,HE)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),d=!0,o=t[t.length-1],o&&o.type==="text"?(o.raw+=n.raw,o.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(u)}}return t}}class xp{constructor(e){this.options=e||er}code(e,t,n){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,o);r!=null&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Es(o)+'">'+(n?e:Es(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Es(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){const r=this.options.headerPrefix+o.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const o=t?"ol":"ul",r=t&&n!==1?' start="'+n+'"':"";return"<"+o+r+`>
`+e+"</"+o+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=Xg(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=Xg(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class yb{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class bb{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class pi{constructor(e){this.options=e||er,this.options.renderer=this.options.renderer||new xp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new yb,this.slugger=new bb}static parse(e,t){return new pi(t).parse(e)}static parseInline(e,t){return new pi(t).parseInline(e)}parse(e,t=!0){let n="",o,r,a,l,d,c,u,h,p,g,v,x,y,$,w,S,C,T,F;const L=e.length;for(o=0;o<L;o++){if(g=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(F=this.options.extensions.renderers[g.type].call({parser:this},g),F!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type))){n+=F||"";continue}switch(g.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(g.tokens),g.depth,vb(this.parseInline(g.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(g.text,g.lang,g.escaped);continue}case"table":{for(h="",u="",l=g.header.length,r=0;r<l;r++)u+=this.renderer.tablecell(this.parseInline(g.header[r].tokens),{header:!0,align:g.align[r]});for(h+=this.renderer.tablerow(u),p="",l=g.rows.length,r=0;r<l;r++){for(c=g.rows[r],u="",d=c.length,a=0;a<d;a++)u+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:g.align[a]});p+=this.renderer.tablerow(u)}n+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(g.tokens),n+=this.renderer.blockquote(p);continue}case"list":{for(v=g.ordered,x=g.start,y=g.loose,l=g.items.length,p="",r=0;r<l;r++)w=g.items[r],S=w.checked,C=w.task,$="",w.task&&(T=this.renderer.checkbox(S),y?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=T+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=T+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:T}):$+=T),$+=this.parse(w.tokens,y),p+=this.renderer.listitem($,C,S);n+=this.renderer.list(p,v,x);continue}case"html":{n+=this.renderer.html(g.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(g.tokens));continue}case"text":{for(p=g.tokens?this.parseInline(g.tokens):g.text;o+1<L&&e[o+1].type==="text";)g=e[++o],p+=`
`+(g.tokens?this.parseInline(g.tokens):g.text);n+=t?this.renderer.paragraph(p):p;continue}default:{const z='Token with "'+g.type+'" type was not found.';if(this.options.silent)return;throw new Error(z)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",o,r,a;const l=e.length;for(o=0;o<l;o++){if(r=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(a=this.options.extensions.renderers[r.type].call({parser:this},r),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=a||"";continue}switch(r.type){case"escape":{n+=t.text(r.text);break}case"html":{n+=t.html(r.text);break}case"link":{n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{n+=t.image(r.href,r.title,r.text);break}case"strong":{n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(r.tokens,t));break}case"text":{n+=t.text(r.text);break}default:{const d='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(d)}}}return n}}class ac{constructor(e){this.options=e||er}preprocess(e){return e}postprocess(e){return e}}Fe(ac,"passThroughHooks",new Set(["preprocess","postprocess"]));function WE(s,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const o="<p>An error occurred:</p><pre>"+Es(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(o);if(t){t(null,o);return}return o}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function xb(s,e){return(t,n,o)=>{typeof n=="function"&&(o=n,n=null);const r={...n};n={...Ye.defaults,...r};const a=WE(n.silent,n.async,o);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(UE(n),n.hooks&&(n.hooks.options=n),o){const l=n.highlight;let d;try{n.hooks&&(t=n.hooks.preprocess(t)),d=s(t,n)}catch(h){return a(h)}const c=function(h){let p;if(!h)try{n.walkTokens&&Ye.walkTokens(d,n.walkTokens),p=e(d,n),n.hooks&&(p=n.hooks.postprocess(p))}catch(g){h=g}return n.highlight=l,h?a(h):o(null,p)};if(!l||l.length<3||(delete n.highlight,!d.length))return c();let u=0;Ye.walkTokens(d,function(h){h.type==="code"&&(u++,setTimeout(()=>{l(h.text,h.lang,function(p,g){if(p)return c(p);g!=null&&g!==h.text&&(h.text=g,h.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(l=>s(l,n)).then(l=>n.walkTokens?Promise.all(Ye.walkTokens(l,n.walkTokens)).then(()=>l):l).then(l=>e(l,n)).then(l=>n.hooks?n.hooks.postprocess(l):l).catch(a);try{n.hooks&&(t=n.hooks.preprocess(t));const l=s(t,n);n.walkTokens&&Ye.walkTokens(l,n.walkTokens);let d=e(l,n);return n.hooks&&(d=n.hooks.postprocess(d)),d}catch(l){return a(l)}}}function Ye(s,e,t){return xb(hi.lex,pi.parse)(s,e,t)}Ye.options=Ye.setOptions=function(s){return Ye.defaults={...Ye.defaults,...s},DE(Ye.defaults),Ye};Ye.getDefaults=mb;Ye.defaults=er;Ye.use=function(...s){const e=Ye.defaults.extensions||{renderers:{},childTokens:{}};s.forEach(t=>{const n={...t};if(n.async=Ye.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const r=e.renderers[o.name];r?e.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=r.apply(this,a)),l}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),n.extensions=e),t.renderer){const o=Ye.defaults.renderer||new xp;for(const r in t.renderer){const a=o[r];o[r]=(...l)=>{let d=t.renderer[r].apply(o,l);return d===!1&&(d=a.apply(o,l)),d}}n.renderer=o}if(t.tokenizer){const o=Ye.defaults.tokenizer||new bp;for(const r in t.tokenizer){const a=o[r];o[r]=(...l)=>{let d=t.tokenizer[r].apply(o,l);return d===!1&&(d=a.apply(o,l)),d}}n.tokenizer=o}if(t.hooks){const o=Ye.defaults.hooks||new ac;for(const r in t.hooks){const a=o[r];ac.passThroughHooks.has(r)?o[r]=l=>{if(Ye.defaults.async)return Promise.resolve(t.hooks[r].call(o,l)).then(c=>a.call(o,c));const d=t.hooks[r].call(o,l);return a.call(o,d)}:o[r]=(...l)=>{let d=t.hooks[r].apply(o,l);return d===!1&&(d=a.apply(o,l)),d}}n.hooks=o}if(t.walkTokens){const o=Ye.defaults.walkTokens;n.walkTokens=function(r){let a=[];return a.push(t.walkTokens.call(this,r)),o&&(a=a.concat(o.call(this,r))),a}}Ye.setOptions(n)})};Ye.walkTokens=function(s,e){let t=[];for(const n of s)switch(t=t.concat(e.call(Ye,n)),n.type){case"table":{for(const o of n.header)t=t.concat(Ye.walkTokens(o.tokens,e));for(const o of n.rows)for(const r of o)t=t.concat(Ye.walkTokens(r.tokens,e));break}case"list":{t=t.concat(Ye.walkTokens(n.items,e));break}default:Ye.defaults.extensions&&Ye.defaults.extensions.childTokens&&Ye.defaults.extensions.childTokens[n.type]?Ye.defaults.extensions.childTokens[n.type].forEach(function(o){t=t.concat(Ye.walkTokens(n[o],e))}):n.tokens&&(t=t.concat(Ye.walkTokens(n.tokens,e)))}return t};Ye.parseInline=xb(hi.lexInline,pi.parseInline);Ye.Parser=pi;Ye.parser=pi.parse;Ye.Renderer=xp;Ye.TextRenderer=yb;Ye.Lexer=hi;Ye.lexer=hi.lex;Ye.Tokenizer=bp;Ye.Slugger=bb;Ye.Hooks=ac;Ye.parse=Ye;Ye.options;Ye.setOptions;Ye.use;Ye.walkTokens;Ye.parseInline;pi.parse;hi.lex;const qE={class:"text-base font-semibold text-gray-800"},KE=["innerHTML"],YE={key:1,class:"mt-4 flex items-center text-sm font-light text-gray-500"},GE=pe({__name:"TaskContent",setup(s){const e=es(),t=new Ye.Renderer,n=t.link;return t.link=(o,r,a)=>n.call(t,o,r,a).replace(/^<a /,'<a onclick="event.stopPropagation()" target="_blank" rel="noreferrer noopener nofollow" '),(o,r)=>(_(),b("div",{onClick:r[0]||(r[0]=a=>o.can("task:update")?m(e).isContentForm=!0:!1)},[i("h2",qE,f(m(e).data.title),1),m(e).data.description?(_(),b("article",{key:0,class:"prose prose-sm mt-2 break-all text-sm text-gray-700",innerHTML:m(Ye).parse(m(e).data.description||"",{breaks:!0,renderer:m(t)})},null,8,KE)):(_(),b("p",YE,[M(m(xv),{class:"mr-2 h-4 w-4"}),se(" "+f(o.__("Description")),1)]))]))}});var Pi,Ql,Fa=typeof Map=="function"?new Map:(Pi=[],Ql=[],{has:function(s){return Pi.indexOf(s)>-1},get:function(s){return Ql[Pi.indexOf(s)]},set:function(s,e){Pi.indexOf(s)===-1&&(Pi.push(s),Ql.push(e))},delete:function(s){var e=Pi.indexOf(s);e>-1&&(Pi.splice(e,1),Ql.splice(e,1))}}),wb=function(s){return new Event(s,{bubbles:!0})};try{new Event("test")}catch{wb=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function XE(s){var e=Fa.get(s);e&&e.destroy()}function JE(s){var e=Fa.get(s);e&&e.update()}var _a=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((_a=function(s){return s}).destroy=function(s){return s},_a.update=function(s){return s}):((_a=function(s,e){return s&&Array.prototype.forEach.call(s.length?s:[s],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!Fa.has(n)){var o,r=null,a=null,l=null,d=function(){n.clientWidth!==a&&p()},c=(function(g){window.removeEventListener("resize",d,!1),n.removeEventListener("input",p,!1),n.removeEventListener("keyup",p,!1),n.removeEventListener("autosize:destroy",c,!1),n.removeEventListener("autosize:update",p,!1),Object.keys(g).forEach(function(v){n.style[v]=g[v]}),Fa.delete(n)}).bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",c,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",p,!1),window.addEventListener("resize",d,!1),n.addEventListener("input",p,!1),n.addEventListener("autosize:update",p,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",Fa.set(n,{destroy:c,update:p}),(o=window.getComputedStyle(n,null)).resize==="vertical"?n.style.resize="none":o.resize==="both"&&(n.style.resize="horizontal"),r=o.boxSizing==="content-box"?-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)):parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),isNaN(r)&&(r=0),p()}function u(g){var v=n.style.width;n.style.width="0px",n.style.width=v,n.style.overflowY=g}function h(){if(n.scrollHeight!==0){var g=function(v){for(var x=[];v&&v.parentNode&&v.parentNode instanceof Element;)v.parentNode.scrollTop&&(v.parentNode.style.scrollBehavior="auto",x.push([v.parentNode,v.parentNode.scrollTop])),v=v.parentNode;return function(){return x.forEach(function(y){var $=y[0];$.scrollTop=y[1],$.style.scrollBehavior=null})}}(n);n.style.height="",n.style.height=n.scrollHeight+r+"px",a=n.clientWidth,g()}}function p(){h();var g=Math.round(parseFloat(n.style.height)),v=window.getComputedStyle(n,null),x=v.boxSizing==="content-box"?Math.round(parseFloat(v.height)):n.offsetHeight;if(x<g?v.overflowY==="hidden"&&(u("scroll"),h(),x=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):v.overflowY!=="hidden"&&(u("hidden"),h(),x=v.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),l!==x){l=x;var y=wb("autosize:resized");try{n.dispatchEvent(y)}catch{}}}}(t)}),s}).destroy=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],XE),s},_a.update=function(s){return s&&Array.prototype.forEach.call(s.length?s:[s],JE),s});var kb=_a;const QE={class:"overflow-hidden rounded-md border"},ZE=["onKeydown"],eP=["onKeydown"],tP={class:"mt-2"},sP=pe({__name:"TaskContentForm",setup(s){nt(()=>{document.querySelector(".task-title").focus(),kb(document.querySelectorAll(".autosize"))});const e=es(),t=R(!1),n=R(e.data.title),o=R(e.data.description);function r(){if(!t.value){if(e.data.title==n.value&&e.data.description==o.value){a();return}t.value=!0,me.patch(`tasks/${e.data.id}`,{title:n.value,description:o.value}).then(()=>{t.value=!1,e.data.title=n.value,e.data.description=o.value,a()})}}function a(){n.value="",o.value="",e.isContentForm=!1}return(l,d)=>(_(),b("section",{class:ne({"opacity-50":t.value})},[i("div",QE,[V(i("textarea",{"onUpdate:modelValue":d[0]||(d[0]=c=>n.value=c),class:"autosize task-title block h-8 w-full resize-none border-0 px-2 pt-2 text-base font-semibold text-gray-800 placeholder:text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Task",onKeydown:[Dn(We(r,["prevent"]),["enter"]),Dn(a,["esc"])]},null,40,ZE),[[ie,n.value]]),V(i("textarea",{"onUpdate:modelValue":d[1]||(d[1]=c=>o.value=c),class:"autosize task-description block h-14 w-full resize-none border-0 px-2 py-2 text-sm placeholder:font-normal placeholder:text-gray-500 focus:ring-0",placeholder:"Description",onKeydown:[Dn(We(r,["ctrl"]),["enter"]),Dn(a,["esc"])]},null,40,eP),[[ie,o.value]])]),i("div",tP,[i("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:r},f(l.__("Save")),1),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:a},f(l.__("Cancel")),1)])],2))}}),nP={class:"flex"},oP={class:"flex-1 pl-4"},iP=pe({__name:"TaskMain",setup(s){const e=es();return(t,n)=>(_(),b("div",nP,[M(TE),i("div",oP,[m(e).isContentForm?(_(),oe(sP,{key:0})):(_(),oe(GE,{key:1}))])]))}}),rP=pe({__name:"ChecklistItemCheckbox",props:{id:{},index:{},isCompleted:{}},setup(s){const e=s,t=es(),n=Qs(),o=R(!1);function r(){o.value||(o.value=!0,me.patch(`checklist-item/${e.id}/complete`).then(({data:l})=>{o.value=!1,t.data.checklists[0].checklist_items[e.index].completed_at=l.completed_at,a()}))}function a(){n.fetch(t.data.project_id)}return(l,d)=>(_(),b("span",{class:ne(["mt-px mr-2 inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":o.value,"bg-blue-400":s.isCompleted,"border border-gray-300":!s.isCompleted}]),onClick:r},[...d[0]||(d[0]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],2))}}),aP={class:"group relative flex"},lP={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},dP=pe({__name:"ChecklistItem",props:{id:{},index:{},item:{},isCompleted:{}},setup(s){const e=s,t=es(),n=R(!1),o=R(!1),r=Qs();function a(){o.value||(o.value=!0,me.delete(`checklist-item/${e.id}`).then(({data:d})=>{o.value=!1,d.success&&(t.data.checklists[0].checklist_items.splice(e.index,1),l())}))}function l(){r.fetch(t.data.project_id)}return(d,c)=>(_(),b("div",aP,[M(rP,{id:s.id,index:s.index,"is-completed":s.isCompleted||null},null,8,["id","index","is-completed"]),i("p",{class:"flex-1 text-sm text-gray-700",onClick:c[0]||(c[0]=u=>d.can("task:update")?m(t).checklistItemForm=s.index:!1)},f(s.item),1),n.value?(_(),b("div",{key:0,class:ne(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":o.value}])},[c[4]||(c[4]=i("span",{class:"mr-2 text-sm text-gray-600"},"Are you sure to delete?",-1)),M(m(Js),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:a}),M(m(xn),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:c[1]||(c[1]=u=>n.value=!1)})],2)):(_(),b("div",lP,[d.can("task:update")?(_(),b("span",{key:0,class:"mr-1",onClick:c[2]||(c[2]=u=>m(t).checklistItemForm=s.index)},[M(m(Fr),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900"})])):P("",!0),d.can("task:delete")?(_(),oe(m(ls),{key:1,class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:c[3]||(c[3]=u=>n.value=!0)})):P("",!0)]))]))}}),t1=pe({__name:"ChecklistItemForm",props:{id:{},index:{},item:{}},setup(s){const e=s;nt(()=>{document.querySelector(".item-input").focus()});const t=es(),n=R(!1),o=R(e.item),r=Qs();function a(){t.checklistItemForm=null,t.newChecklistItemForm=!1}function l(){if(n.value||!o.value)return;if(e.item==o.value&&e.id){a();return}n.value=!0;const h=e.id?"patch":"post",p=e.id?`checklist-item/${e.id}`:"checklist-item";me[h](p,{title:o.value,task_id:t.data.id}).then(({data:g})=>{n.value=!1,e.id?c(g):d(g),e.id?a():o.value="",u()})}function d(h){t.data.checklists.length==0&&(t.data.checklists=[{checklist_items:[]}]),t.data.checklists[0].checklist_items.push(h)}function c(h){t.data.checklists[0].checklist_items[e.index||0]=h}function u(){r.fetch(t.data.project_id)}return(h,p)=>(_(),b("div",{class:ne(["flex",{"opacity-50":n.value}])},[V(i("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>o.value=g),type:"text",class:"item-input block w-full flex-1 rounded-none border-gray-300 text-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50 ltr:rounded-l-md rtl:rounded-r-md",placeholder:"Enter checklist item",onKeyup:Dn(l,["enter"]),onKeydown:Dn(a,["esc"])},null,544),[[ie,o.value]]),i("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px rtl:-mr-px rtl:space-x-reverse",onClick:a},[...p[1]||(p[1]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),i("button",{type:"button",class:"relative inline-flex items-center space-x-2 border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-gray-300 focus:outline-none focus:ring-0 disabled:opacity-50 ltr:-ml-px ltr:rounded-r-md rtl:-mr-px rtl:space-x-reverse rtl:rounded-l-md",onClick:l},[...p[2]||(p[2]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])],2))}}),cP={id:"checklist",class:"mt-8"},uP={class:"flex"},fP={class:"flex-1 border-b pb-2"},hP={class:"text-sm font-medium text-gray-800"},pP={class:"ml-2 text-sm font-light text-gray-600"},mP={class:"pl-8 pt-4"},gP={class:"space-y-4"},_P={class:"pl-2 text-sm text-gray-600 group-hover:text-gray-800"},vP=pe({__name:"Checklist",setup(s){const e=es();e.checklistItemForm=null,e.newChecklistItemForm=!1;function t(){if(e.data.checklists.length)return e.data.checklists[0].checklist_items.filter(n=>n.completed_at).length+"/"+e.data.checklists[0].checklist_items.length}return(n,o)=>(_(),b("section",cP,[M(m(Vc),{open:!0},{trigger:X(({open:r})=>[i("div",uP,[(_(),b("svg",{class:ne(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!r}]),viewBox:"0 0 16 16"},[...o[1]||(o[1]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("div",fP,[i("span",hP,f(n.__("Checklist")),1),i("span",pP,f(t()),1)])])]),content:X(()=>[i("div",mP,[i("div",gP,[(_(!0),b(ue,null,xe(m(e).data.checklists.length?m(e).data.checklists[0].checklist_items:[],(r,a)=>(_(),oe(Mo(m(e).checklistItemForm==a?t1:dP),{key:r.id,id:r.id,index:a,item:r.title,"is-completed":r.completed_at||null},null,8,["id","index","item","is-completed"]))),128))]),!m(e).newChecklistItemForm&&n.can("task:update")?(_(),b("button",{key:0,class:ne(["group flex items-center",{"mt-6":(m(e).data.checklists.length?m(e).data.checklists[0].checklist_items.length:0)>0}]),onClick:o[0]||(o[0]=r=>m(e).newChecklistItemForm=!0)},[o[2]||(o[2]=i("svg",{class:"h-4 w-4 text-gray-600 group-hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),i("span",_P,f(n.__("Add item")),1)],2)):P("",!0),m(e).newChecklistItemForm?(_(),oe(t1,{key:1,class:ne({"mt-6":(m(e).data.checklists.length?m(e).data.checklists[0].checklist_items.length:0)>0})},null,8,["class"])):P("",!0)])]),_:1})]))}}),yP={class:"cursor-pointer"},bP={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},xP={class:"px-6 py-4"},wP={class:"mb-2"},kP=["aria-label"],$P=pe({__name:"TaskShareDropdown",setup(s){const e=R(!1),t=R(window.location.href),n=R(null),o=R("Copy to Clipboard");function r(u){a(),u&&setTimeout(function(){l()})}function a(){navigator.clipboard?e.value=!0:e.value=!1}function l(){var u,h;(u=n.value)==null||u.focus(),(h=n.value)==null||h.select()}function d(){var u,h;navigator.clipboard.writeText(((u=n.value)==null?void 0:u.value)||""),o.value="Copied: "+((h=n.value)==null?void 0:h.value)}function c(){o.value="Copy to Clipboard"}return(u,h)=>(_(),oe(m(Ns),{"close-outside":"",onToggle:r},{trigger:X(()=>[i("span",yP,[M(m(z4),{class:"h-4 w-4 text-gray-600 hover:text-gray-800"})])]),content:X(()=>[i("div",bP,[i("div",xP,[h[1]||(h[1]=i("h3",{class:"mb-4 text-sm font-medium text-gray-700"},"Share URL",-1)),i("section",wP,[i("div",{class:"flex w-full items-center rounded-md border border-gray-300 px-3 py-2",onClick:l},[V(i("input",{ref_key:"input",ref:n,"onUpdate:modelValue":h[0]||(h[0]=p=>t.value=p),type:"text",readonly:"",class:"flex-1 border-0 py-0 px-0 text-sm text-gray-600 focus:ring-0"},null,512),[[ie,t.value]]),e.value?(_(),b("span",{key:0,class:"ml-2 block w-4 cursor-pointer text-gray-500 hover:text-gray-800","aria-label":o.value,"data-cooltipz-dir":"bottom",onClick:d,onMouseover:c},[M(m(G4),{class:"h-4 w-4"})],40,kP)):P("",!0)])])])])]),_:1}))}}),CP={class:"py-3.5"},SP={class:"flex items-center px-2"},MP={class:"text-sm font-medium text-gray-600"},TP=pe({__name:"TaskShare",setup(s){return(e,t)=>(_(),b("section",CP,[i("div",SP,[i("h2",MP,f(e.__("Share")),1),M($P,{class:"ml-auto"})])]))}}),DP={class:"py-3"},AP={class:"px-2 text-sm font-medium text-gray-600"},EP={key:0,class:"mt-2 space-y-2 px-2"},PP=["disabled"],RP=["disabled"],OP={key:1,class:"mt-2 space-y-2 px-2"},IP=pe({__name:"TaskDelete",setup(s){const e=es(),t=Qs(),n=R(!1),o=R(!1);function r(){t.fetch(e.data.project_id)}function a(){n.value||(n.value=!0,me.patch("tasks/"+e.data.id+"/archive").then(()=>{n.value=!1,r(),e.data.deleted_at="archived",l()}))}function l(){const d=`/projects/${e.data.project_id}`;history.replaceState(history.state,"",d),jt().pop()}return(d,c)=>(_(),b("section",DP,[i("h2",AP,f(d.__("Delete")),1),o.value?(_(),b("div",EP,[i("button",{class:"flex w-full items-center rounded border border-transparent bg-red-500 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-600 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:a},[M(m(ls),{class:"mr-2 h-3.5 w-3.5"}),se(" "+f(d.__("Are you sure")),1)],8,PP),i("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0 disabled:opacity-50",disabled:n.value,onClick:c[0]||(c[0]=u=>o.value=!1)},[M(m(mE),{class:"mr-2 h-3.5 w-3.5"}),se(" "+f(d.__("Cancel")),1)],8,RP)])):(_(),b("div",OP,[i("button",{class:"flex w-full items-center rounded border border-transparent bg-gray-200 px-2.5 py-1.5 text-xs font-medium text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-0",onClick:c[1]||(c[1]=u=>o.value=!0)},[M(m(ls),{class:"mr-2 h-3.5 w-3.5"}),c[2]||(c[2]=se(" Delete ",-1))])]))]))}});var df=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],br={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(s){return typeof console<"u"&&void 0},getWeek:function(s){var e=new Date(s.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},nl={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(s){var e=s%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},tn=function(s,e){return e===void 0&&(e=2),("000"+s).slice(e*-1)},Mn=function(s){return s===!0?1:0};function s1(s,e){var t;return function(){var n=this,o=arguments;clearTimeout(t),t=setTimeout(function(){return s.apply(n,o)},e)}}var cf=function(s){return s instanceof Array?s:[s]};function Us(s,e,t){if(t===!0)return s.classList.add(e);s.classList.remove(e)}function St(s,e,t){var n=window.document.createElement(s);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function Zl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function $b(s,e){if(e(s))return s;if(s.parentNode)return $b(s.parentNode,e)}function ed(s,e){var t=St("div","numInputWrapper"),n=St("input","numInput "+s),o=St("span","arrowUp"),r=St("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var a in e)n.setAttribute(a,e[a]);return t.appendChild(n),t.appendChild(o),t.appendChild(r),t}function cn(s){try{if(typeof s.composedPath=="function"){var e=s.composedPath();return e[0]}return s.target}catch{return s.target}}var uf=function(){},lc=function(s,e,t){return t.months[e?"shorthand":"longhand"][s]},jP={D:uf,F:function(s,e,t){s.setMonth(t.months.longhand.indexOf(e))},G:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},H:function(s,e){s.setHours(parseFloat(e))},J:function(s,e){s.setDate(parseFloat(e))},K:function(s,e,t){s.setHours(s.getHours()%12+12*Mn(new RegExp(t.amPM[1],"i").test(e)))},M:function(s,e,t){s.setMonth(t.months.shorthand.indexOf(e))},S:function(s,e){s.setSeconds(parseFloat(e))},U:function(s,e){return new Date(parseFloat(e)*1e3)},W:function(s,e,t){var n=parseInt(e),o=new Date(s.getFullYear(),0,2+(n-1)*7,0,0,0,0);return o.setDate(o.getDate()-o.getDay()+t.firstDayOfWeek),o},Y:function(s,e){s.setFullYear(parseFloat(e))},Z:function(s,e){return new Date(e)},d:function(s,e){s.setDate(parseFloat(e))},h:function(s,e){s.setHours((s.getHours()>=12?12:0)+parseFloat(e))},i:function(s,e){s.setMinutes(parseFloat(e))},j:function(s,e){s.setDate(parseFloat(e))},l:uf,m:function(s,e){s.setMonth(parseFloat(e)-1)},n:function(s,e){s.setMonth(parseFloat(e)-1)},s:function(s,e){s.setSeconds(parseFloat(e))},u:function(s,e){return new Date(parseFloat(e))},w:uf,y:function(s,e){s.setFullYear(2e3+parseFloat(e))}},Ni={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Na={Z:function(s){return s.toISOString()},D:function(s,e,t){return e.weekdays.shorthand[Na.w(s,e,t)]},F:function(s,e,t){return lc(Na.n(s,e,t)-1,!1,e)},G:function(s,e,t){return tn(Na.h(s,e,t))},H:function(s){return tn(s.getHours())},J:function(s,e){return e.ordinal!==void 0?s.getDate()+e.ordinal(s.getDate()):s.getDate()},K:function(s,e){return e.amPM[Mn(s.getHours()>11)]},M:function(s,e){return lc(s.getMonth(),!0,e)},S:function(s){return tn(s.getSeconds())},U:function(s){return s.getTime()/1e3},W:function(s,e,t){return t.getWeek(s)},Y:function(s){return tn(s.getFullYear(),4)},d:function(s){return tn(s.getDate())},h:function(s){return s.getHours()%12?s.getHours()%12:12},i:function(s){return tn(s.getMinutes())},j:function(s){return s.getDate()},l:function(s,e){return e.weekdays.longhand[s.getDay()]},m:function(s){return tn(s.getMonth()+1)},n:function(s){return s.getMonth()+1},s:function(s){return s.getSeconds()},u:function(s){return s.getTime()},w:function(s){return s.getDay()},y:function(s){return String(s.getFullYear()).substring(2)}},Cb=function(s){var e=s.config,t=e===void 0?br:e,n=s.l10n,o=n===void 0?nl:n,r=s.isMobile,a=r===void 0?!1:r;return function(l,d,c){var u=c||o;return t.formatDate!==void 0&&!a?t.formatDate(l,d,u):d.split("").map(function(h,p,g){return Na[h]&&g[p-1]!=="\\"?Na[h](l,u,t):h!=="\\"?h:""}).join("")}},lh=function(s){var e=s.config,t=e===void 0?br:e,n=s.l10n,o=n===void 0?nl:n;return function(r,a,l,d){if(!(r!==0&&!r)){var c=d||o,u,h=r;if(r instanceof Date)u=new Date(r.getTime());else if(typeof r!="string"&&r.toFixed!==void 0)u=new Date(r);else if(typeof r=="string"){var p=a||(t||br).dateFormat,g=String(r).trim();if(g==="today")u=new Date,l=!0;else if(t&&t.parseDate)u=t.parseDate(r,p);else if(/Z$/.test(g)||/GMT$/.test(g))u=new Date(r);else{for(var v=void 0,x=[],y=0,$=0,w="";y<p.length;y++){var S=p[y],C=S==="\\",T=p[y-1]==="\\"||C;if(Ni[S]&&!T){w+=Ni[S];var F=new RegExp(w).exec(r);F&&(v=!0)&&x[S!=="Y"?"push":"unshift"]({fn:jP[S],val:F[++$]})}else C||(w+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),x.forEach(function(L){var z=L.fn,j=L.val;return u=z(u,j,c)||u}),u=v?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+h));return}return l===!0&&u.setHours(0,0,0,0),u}}};function fn(s,e,t){return t===void 0&&(t=!0),t!==!1?new Date(s.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):s.getTime()-e.getTime()}var LP=function(s,e,t){return s>Math.min(e,t)&&s<Math.max(e,t)},ff=function(s,e,t){return s*3600+e*60+t},FP=function(s){var e=Math.floor(s/3600),t=(s-e*3600)/60;return[e,t,s-e*3600-t*60]},NP={DAY:864e5};function hf(s){var e=s.defaultHour,t=s.defaultMinute,n=s.defaultSeconds;if(s.minDate!==void 0){var o=s.minDate.getHours(),r=s.minDate.getMinutes(),a=s.minDate.getSeconds();e<o&&(e=o),e===o&&t<r&&(t=r),e===o&&t===r&&n<a&&(n=s.minDate.getSeconds())}if(s.maxDate!==void 0){var l=s.maxDate.getHours(),d=s.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(d,t)),e===l&&t===d&&(n=s.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!s)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(d){return s[d]=l[d]})},o=0,r=e;o<r.length;o++){var a=r[o];n(a)}return s});var Ps=globalThis&&globalThis.__assign||function(){return Ps=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=e[o])}return s},Ps.apply(this,arguments)},n1=globalThis&&globalThis.__spreadArrays||function(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var n=Array(s),o=0,e=0;e<t;e++)for(var r=arguments[e],a=0,l=r.length;a<l;a++,o++)n[o]=r[a];return n},zP=300;function BP(s,e){var t={config:Ps(Ps({},br),ts.defaultConfig),l10n:nl};t.parseDate=lh({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=x,t._setHoursFromDate=p,t._positionCalendar=Se,t.changeMonth=we,t.changeYear=$e,t.clear=Oe,t.close=it,t.onMouseOver=ae,t._createElement=St,t.createDay=F,t.destroy=ft,t.isEnabled=je,t.jumpToDate=w,t.updateValue=In,t.open=K,t.redraw=ke,t.set=tt,t.setDate=Tt,t.toggle=Rn;function n(){t.utils={getDaysInMonth:function(B,H){return B===void 0&&(B=t.currentMonth),H===void 0&&(H=t.currentYear),B===1&&(H%4===0&&H%100!==0||H%400===0)?29:t.l10n.daysInMonth[B]}}}function o(){t.element=t.input=s,t.isOpen=!1,J(),ce(),is(),gs(),n(),t.isMobile||T(),$(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&p(t.config.noCalendar?t.latestSelectedDateObj:void 0),In(!1)),l();var B=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&B&&Se(),Lt("onReady")}function r(){var B;return((B=t.calendarContainer)===null||B===void 0?void 0:B.getRootNode()).activeElement||document.activeElement}function a(B){return B.bind(t)}function l(){var B=t.config;B.weekNumbers===!1&&B.showMonths===1||B.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var H=(t.days.offsetWidth+1)*B.showMonths;t.daysContainer.style.width=H+"px",t.calendarContainer.style.width=H+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function d(B){if(t.selectedDates.length===0){var H=t.config.minDate===void 0||fn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),te=hf(t.config);H.setHours(te.hours,te.minutes,te.seconds,H.getMilliseconds()),t.selectedDates=[H],t.latestSelectedDateObj=H}B!==void 0&&B.type!=="blur"&&su(B);var fe=t._input.value;h(),In(),t._input.value!==fe&&t._debouncedChange()}function c(B,H){return B%12+12*Mn(H===t.l10n.amPM[1])}function u(B){switch(B%24){case 0:case 12:return 12;default:return B%12}}function h(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var B=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,H=(parseInt(t.minuteElement.value,10)||0)%60,te=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(B=c(B,t.amPM.textContent));var fe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&fn(t.latestSelectedDateObj,t.config.minDate,!0)===0,Te=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&fn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Le=ff(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),at=ff(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Be=ff(B,H,te);if(Be>at&&Be<Le){var pt=FP(Le);B=pt[0],H=pt[1],te=pt[2]}}else{if(Te){var Ue=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;B=Math.min(B,Ue.getHours()),B===Ue.getHours()&&(H=Math.min(H,Ue.getMinutes())),H===Ue.getMinutes()&&(te=Math.min(te,Ue.getSeconds()))}if(fe){var st=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;B=Math.max(B,st.getHours()),B===st.getHours()&&H<st.getMinutes()&&(H=st.getMinutes()),H===st.getMinutes()&&(te=Math.max(te,st.getSeconds()))}}g(B,H,te)}}function p(B){var H=B||t.latestSelectedDateObj;H&&H instanceof Date&&g(H.getHours(),H.getMinutes(),H.getSeconds())}function g(B,H,te){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(B%24,H,te||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=tn(t.config.time_24hr?B:(12+B)%12+12*Mn(B%12===0)),t.minuteElement.value=tn(H),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Mn(B>=12)]),t.secondElement!==void 0&&(t.secondElement.value=tn(te)))}function v(B){var H=cn(B),te=parseInt(H.value)+(B.delta||0);(te/1e3>1||B.key==="Enter"&&!/[^\d]/.test(te.toString()))&&$e(te)}function x(B,H,te,fe){if(H instanceof Array)return H.forEach(function(Te){return x(B,Te,te,fe)});if(B instanceof Array)return B.forEach(function(Te){return x(Te,H,te,fe)});B.addEventListener(H,te,fe),t._handlers.push({remove:function(){return B.removeEventListener(H,te,fe)}})}function y(){Lt("onChange")}function $(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(te){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+te+"]"),function(fe){return x(fe,"click",t[te])})}),t.isMobile){us();return}var B=s1(N,50);if(t._debouncedChange=s1(y,zP),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(t.daysContainer,"mouseover",function(te){t.config.mode==="range"&&ae(cn(te))}),x(t._input,"keydown",re),t.calendarContainer!==void 0&&x(t.calendarContainer,"keydown",re),!t.config.inline&&!t.config.static&&x(window,"resize",B),window.ontouchstart!==void 0?x(window.document,"touchstart",be):x(window.document,"mousedown",be),x(window.document,"focus",be,{capture:!0}),t.config.clickOpens===!0&&(x(t._input,"focus",t.open),x(t._input,"click",t.open)),t.daysContainer!==void 0&&(x(t.monthNav,"click",zo),x(t.monthNav,["keyup","increment"],v),x(t.daysContainer,"click",Ie)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var H=function(te){return cn(te).select()};x(t.timeContainer,["increment"],d),x(t.timeContainer,"blur",d,{capture:!0}),x(t.timeContainer,"click",S),x([t.hourElement,t.minuteElement],["focus","click"],H),t.secondElement!==void 0&&x(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&x(t.amPM,"click",function(te){d(te)})}t.config.allowInput&&x(t._input,"blur",Re)}function w(B,H){var te=B!==void 0?t.parseDate(B):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),fe=t.currentYear,Te=t.currentMonth;try{te!==void 0&&(t.currentYear=te.getFullYear(),t.currentMonth=te.getMonth())}catch(Le){Le.message="Invalid date supplied: "+te,t.config.errorHandler(Le)}H&&t.currentYear!==fe&&(Lt("onYearChange"),W()),H&&(t.currentYear!==fe||t.currentMonth!==Te)&&Lt("onMonthChange"),t.redraw()}function S(B){var H=cn(B);~H.className.indexOf("arrow")&&C(B,H.classList.contains("arrowUp")?1:-1)}function C(B,H,te){var fe=B&&cn(B),Te=te||fe&&fe.parentNode&&fe.parentNode.firstChild,Le=fs("increment");Le.delta=H,Te&&Te.dispatchEvent(Le)}function T(){var B=window.document.createDocumentFragment();if(t.calendarContainer=St("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(B.appendChild(_e()),t.innerContainer=St("div","flatpickr-innerContainer"),t.config.weekNumbers){var H=he(),te=H.weekWrapper,fe=H.weekNumbers;t.innerContainer.appendChild(te),t.weekNumbers=fe,t.weekWrapper=te}t.rContainer=St("div","flatpickr-rContainer"),t.rContainer.appendChild(ee()),t.daysContainer||(t.daysContainer=St("div","flatpickr-days"),t.daysContainer.tabIndex=-1),I(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),B.appendChild(t.innerContainer)}t.config.enableTime&&B.appendChild(Q()),Us(t.calendarContainer,"rangeMode",t.config.mode==="range"),Us(t.calendarContainer,"animate",t.config.animate===!0),Us(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(B);var Te=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Te&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Le=St("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Le,t.element),Le.appendChild(t.element),t.altInput&&Le.appendChild(t.altInput),Le.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function F(B,H,te,fe){var Te=je(H,!0),Le=St("span",B,H.getDate().toString());return Le.dateObj=H,Le.$i=fe,Le.setAttribute("aria-label",t.formatDate(H,t.config.ariaDateFormat)),B.indexOf("hidden")===-1&&fn(H,t.now)===0&&(t.todayDateElem=Le,Le.classList.add("today"),Le.setAttribute("aria-current","date")),Te?(Le.tabIndex=-1,Ts(H)&&(Le.classList.add("selected"),t.selectedDateElem=Le,t.config.mode==="range"&&(Us(Le,"startRange",t.selectedDates[0]&&fn(H,t.selectedDates[0],!0)===0),Us(Le,"endRange",t.selectedDates[1]&&fn(H,t.selectedDates[1],!0)===0),B==="nextMonthDay"&&Le.classList.add("inRange")))):Le.classList.add("flatpickr-disabled"),t.config.mode==="range"&&sr(H)&&!Ts(H)&&Le.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&B!=="prevMonthDay"&&fe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(H)+"</span>"),Lt("onDayCreate",Le),Le}function L(B){B.focus(),t.config.mode==="range"&&ae(B)}function z(B){for(var H=B>0?0:t.config.showMonths-1,te=B>0?t.config.showMonths:-1,fe=H;fe!=te;fe+=B)for(var Te=t.daysContainer.children[fe],Le=B>0?0:Te.children.length-1,at=B>0?Te.children.length:-1,Be=Le;Be!=at;Be+=B){var pt=Te.children[Be];if(pt.className.indexOf("hidden")===-1&&je(pt.dateObj))return pt}}function j(B,H){for(var te=B.className.indexOf("Month")===-1?B.dateObj.getMonth():t.currentMonth,fe=H>0?t.config.showMonths:-1,Te=H>0?1:-1,Le=te-t.currentMonth;Le!=fe;Le+=Te)for(var at=t.daysContainer.children[Le],Be=te-t.currentMonth===Le?B.$i+H:H<0?at.children.length-1:0,pt=at.children.length,Ue=Be;Ue>=0&&Ue<pt&&Ue!=(H>0?pt:-1);Ue+=Te){var st=at.children[Ue];if(st.className.indexOf("hidden")===-1&&je(st.dateObj)&&Math.abs(B.$i-Ue)>=Math.abs(H))return L(st)}t.changeMonth(Te),E(z(Te),0)}function E(B,H){var te=r(),fe=Je(te||document.body),Te=B!==void 0?B:fe?te:t.selectedDateElem!==void 0&&Je(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Je(t.todayDateElem)?t.todayDateElem:z(H>0?1:-1);Te===void 0?t._input.focus():fe?j(Te,H):L(Te)}function O(B,H){for(var te=(new Date(B,H,1).getDay()-t.l10n.firstDayOfWeek+7)%7,fe=t.utils.getDaysInMonth((H-1+12)%12,B),Te=t.utils.getDaysInMonth(H,B),Le=window.document.createDocumentFragment(),at=t.config.showMonths>1,Be=at?"prevMonthDay hidden":"prevMonthDay",pt=at?"nextMonthDay hidden":"nextMonthDay",Ue=fe+1-te,st=0;Ue<=fe;Ue++,st++)Le.appendChild(F("flatpickr-day "+Be,new Date(B,H-1,Ue),Ue,st));for(Ue=1;Ue<=Te;Ue++,st++)Le.appendChild(F("flatpickr-day",new Date(B,H,Ue),Ue,st));for(var At=Te+1;At<=42-te&&(t.config.showMonths===1||st%7!==0);At++,st++)Le.appendChild(F("flatpickr-day "+pt,new Date(B,H+1,At%Te),At,st));var $n=St("div","dayContainer");return $n.appendChild(Le),$n}function I(){if(t.daysContainer!==void 0){Zl(t.daysContainer),t.weekNumbers&&Zl(t.weekNumbers);for(var B=document.createDocumentFragment(),H=0;H<t.config.showMonths;H++){var te=new Date(t.currentYear,t.currentMonth,1);te.setMonth(t.currentMonth+H),B.appendChild(O(te.getFullYear(),te.getMonth()))}t.daysContainer.appendChild(B),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&ae()}}function W(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var B=function(fe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&fe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&fe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var H=0;H<12;H++)if(B(H)){var te=St("option","flatpickr-monthDropdown-month");te.value=new Date(t.currentYear,H).getMonth().toString(),te.textContent=lc(H,t.config.shorthandCurrentMonth,t.l10n),te.tabIndex=-1,t.currentMonth===H&&(te.selected=!0),t.monthsDropdownContainer.appendChild(te)}}}function ye(){var B=St("div","flatpickr-month"),H=window.document.createDocumentFragment(),te;t.config.showMonths>1||t.config.monthSelectorType==="static"?te=St("span","cur-month"):(t.monthsDropdownContainer=St("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),x(t.monthsDropdownContainer,"change",function(at){var Be=cn(at),pt=parseInt(Be.value,10);t.changeMonth(pt-t.currentMonth),Lt("onMonthChange")}),W(),te=t.monthsDropdownContainer);var fe=ed("cur-year",{tabindex:"-1"}),Te=fe.getElementsByTagName("input")[0];Te.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Te.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Te.setAttribute("max",t.config.maxDate.getFullYear().toString()),Te.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Le=St("div","flatpickr-current-month");return Le.appendChild(te),Le.appendChild(fe),H.appendChild(Le),B.appendChild(H),{container:B,yearElement:Te,monthElement:te}}function ve(){Zl(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var B=t.config.showMonths;B--;){var H=ye();t.yearElements.push(H.yearElement),t.monthElements.push(H.monthElement),t.monthNav.appendChild(H.container)}t.monthNav.appendChild(t.nextMonthNav)}function _e(){return t.monthNav=St("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=St("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=St("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ve(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(B){t.__hidePrevMonthArrow!==B&&(Us(t.prevMonthNav,"flatpickr-disabled",B),t.__hidePrevMonthArrow=B)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(B){t.__hideNextMonthArrow!==B&&(Us(t.nextMonthNav,"flatpickr-disabled",B),t.__hideNextMonthArrow=B)}}),t.currentYearElement=t.yearElements[0],On(),t.monthNav}function Q(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var B=hf(t.config);t.timeContainer=St("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var H=St("span","flatpickr-time-separator",":"),te=ed("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=te.getElementsByTagName("input")[0];var fe=ed("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=fe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=tn(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?B.hours:u(B.hours)),t.minuteElement.value=tn(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():B.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(te),t.timeContainer.appendChild(H),t.timeContainer.appendChild(fe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Te=ed("flatpickr-second");t.secondElement=Te.getElementsByTagName("input")[0],t.secondElement.value=tn(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():B.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(St("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Te)}return t.config.time_24hr||(t.amPM=St("span","flatpickr-am-pm",t.l10n.amPM[Mn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ee(){t.weekdayContainer?Zl(t.weekdayContainer):t.weekdayContainer=St("div","flatpickr-weekdays");for(var B=t.config.showMonths;B--;){var H=St("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(H)}return q(),t.weekdayContainer}function q(){if(t.weekdayContainer){var B=t.l10n.firstDayOfWeek,H=n1(t.l10n.weekdays.shorthand);B>0&&B<H.length&&(H=n1(H.splice(B,H.length),H.splice(0,B)));for(var te=t.config.showMonths;te--;)t.weekdayContainer.children[te].innerHTML=`
      <span class='flatpickr-weekday'>
        `+H.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function he(){t.calendarContainer.classList.add("hasWeeks");var B=St("div","flatpickr-weekwrapper");B.appendChild(St("span","flatpickr-weekday",t.l10n.weekAbbreviation));var H=St("div","flatpickr-weeks");return B.appendChild(H),{weekWrapper:B,weekNumbers:H}}function we(B,H){H===void 0&&(H=!0);var te=H?B:B-t.currentMonth;te<0&&t._hidePrevMonthArrow===!0||te>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=te,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Lt("onYearChange"),W()),I(),Lt("onMonthChange"),On())}function Oe(B,H){if(B===void 0&&(B=!0),H===void 0&&(H=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,H===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var te=hf(t.config),fe=te.hours,Te=te.minutes,Le=te.seconds;g(fe,Te,Le)}t.redraw(),B&&Lt("onChange")}function it(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Lt("onClose")}function ft(){t.config!==void 0&&Lt("onDestroy");for(var B=t._handlers.length;B--;)t._handlers[B].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var H=t.calendarContainer.parentNode;if(H.lastChild&&H.removeChild(H.lastChild),H.parentNode){for(;H.firstChild;)H.parentNode.insertBefore(H.firstChild,H);H.parentNode.removeChild(H)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(te){try{delete t[te]}catch{}})}function le(B){return t.calendarContainer.contains(B)}function be(B){if(t.isOpen&&!t.config.inline){var H=cn(B),te=le(H),fe=H===t.input||H===t.altInput||t.element.contains(H)||B.path&&B.path.indexOf&&(~B.path.indexOf(t.input)||~B.path.indexOf(t.altInput)),Te=!fe&&!te&&!le(B.relatedTarget),Le=!t.config.ignoredFocusElements.some(function(at){return at.contains(H)});Te&&Le&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&d(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function $e(B){if(!(!B||t.config.minDate&&B<t.config.minDate.getFullYear()||t.config.maxDate&&B>t.config.maxDate.getFullYear())){var H=B,te=t.currentYear!==H;t.currentYear=H||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),te&&(t.redraw(),Lt("onYearChange"),W())}}function je(B,H){var te;H===void 0&&(H=!0);var fe=t.parseDate(B,void 0,H);if(t.config.minDate&&fe&&fn(fe,t.config.minDate,H!==void 0?H:!t.minDateHasTime)<0||t.config.maxDate&&fe&&fn(fe,t.config.maxDate,H!==void 0?H:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(fe===void 0)return!1;for(var Te=!!t.config.enable,Le=(te=t.config.enable)!==null&&te!==void 0?te:t.config.disable,at=0,Be=void 0;at<Le.length;at++){if(Be=Le[at],typeof Be=="function"&&Be(fe))return Te;if(Be instanceof Date&&fe!==void 0&&Be.getTime()===fe.getTime())return Te;if(typeof Be=="string"){var pt=t.parseDate(Be,void 0,!0);return pt&&pt.getTime()===fe.getTime()?Te:!Te}else if(typeof Be=="object"&&fe!==void 0&&Be.from&&Be.to&&fe.getTime()>=Be.from.getTime()&&fe.getTime()<=Be.to.getTime())return Te}return!Te}function Je(B){return t.daysContainer!==void 0?B.className.indexOf("hidden")===-1&&B.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(B):!1}function Re(B){var H=B.target===t._input,te=t._input.value.trimEnd()!==dn();H&&te&&!(B.relatedTarget&&le(B.relatedTarget))&&t.setDate(t._input.value,!0,B.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function re(B){var H=cn(B),te=t.config.wrap?s.contains(H):H===t._input,fe=t.config.allowInput,Te=t.isOpen&&(!fe||!te),Le=t.config.inline&&te&&!fe;if(B.keyCode===13&&te){if(fe)return t.setDate(t._input.value,!0,H===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),H.blur();t.open()}else if(le(H)||Te||Le){var at=!!t.timeContainer&&t.timeContainer.contains(H);switch(B.keyCode){case 13:at?(B.preventDefault(),d(),Ke()):Ie(B);break;case 27:B.preventDefault(),Ke();break;case 8:case 46:te&&!t.config.allowInput&&(B.preventDefault(),t.clear());break;case 37:case 39:if(!at&&!te){B.preventDefault();var Be=r();if(t.daysContainer!==void 0&&(fe===!1||Be&&Je(Be))){var pt=B.keyCode===39?1:-1;B.ctrlKey?(B.stopPropagation(),we(pt),E(z(1),0)):E(void 0,pt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:B.preventDefault();var Ue=B.keyCode===40?1:-1;t.daysContainer&&H.$i!==void 0||H===t.input||H===t.altInput?B.ctrlKey?(B.stopPropagation(),$e(t.currentYear-Ue),E(z(1),0)):at||E(void 0,Ue*7):H===t.currentYearElement?$e(t.currentYear-Ue):t.config.enableTime&&(!at&&t.hourElement&&t.hourElement.focus(),d(B),t._debouncedChange());break;case 9:if(at){var st=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Bs){return Bs}),At=st.indexOf(H);if(At!==-1){var $n=st[At+(B.shiftKey?-1:1)];B.preventDefault(),($n||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(H)&&B.shiftKey&&(B.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&H===t.amPM)switch(B.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],h(),In();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],h(),In();break}(te||le(H))&&Lt("onKeyDown",B)}function ae(B,H){if(H===void 0&&(H="flatpickr-day"),!(t.selectedDates.length!==1||B&&(!B.classList.contains(H)||B.classList.contains("flatpickr-disabled")))){for(var te=B?B.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),fe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Te=Math.min(te,t.selectedDates[0].getTime()),Le=Math.max(te,t.selectedDates[0].getTime()),at=!1,Be=0,pt=0,Ue=Te;Ue<Le;Ue+=NP.DAY)je(new Date(Ue),!0)||(at=at||Ue>Te&&Ue<Le,Ue<fe&&(!Be||Ue>Be)?Be=Ue:Ue>fe&&(!pt||Ue<pt)&&(pt=Ue));var st=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+H));st.forEach(function(At){var $n=At.dateObj,Bs=$n.getTime(),yi=Be>0&&Bs<Be||pt>0&&Bs>pt;if(yi){At.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Bo){At.classList.remove(Bo)});return}else if(at&&!yi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Bo){At.classList.remove(Bo)}),B!==void 0&&(B.classList.add(te<=t.selectedDates[0].getTime()?"startRange":"endRange"),fe<te&&Bs===fe?At.classList.add("startRange"):fe>te&&Bs===fe&&At.classList.add("endRange"),Bs>=Be&&(pt===0||Bs<=pt)&&LP(Bs,fe,te)&&At.classList.add("inRange"))})}}function N(){t.isOpen&&!t.config.static&&!t.config.inline&&Se()}function K(B,H){if(H===void 0&&(H=t._positionElement),t.isMobile===!0){if(B){B.preventDefault();var te=cn(B);te&&te.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Lt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var fe=t.isOpen;t.isOpen=!0,fe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Lt("onOpen"),Se(H)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(B===void 0||!t.timeContainer.contains(B.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function G(B){return function(H){var te=t.config["_"+B+"Date"]=t.parseDate(H,t.config.dateFormat),fe=t.config["_"+(B==="min"?"max":"min")+"Date"];te!==void 0&&(t[B==="min"?"minDateHasTime":"maxDateHasTime"]=te.getHours()>0||te.getMinutes()>0||te.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Te){return je(Te)}),!t.selectedDates.length&&B==="min"&&p(te),In()),t.daysContainer&&(ke(),te!==void 0?t.currentYearElement[B]=te.getFullYear().toString():t.currentYearElement.removeAttribute(B),t.currentYearElement.disabled=!!fe&&te!==void 0&&fe.getFullYear()===te.getFullYear())}}function J(){var B=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],H=Ps(Ps({},JSON.parse(JSON.stringify(s.dataset||{}))),e),te={};t.config.parseDate=H.parseDate,t.config.formatDate=H.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(st){t.config._enable=bt(st)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(st){t.config._disable=bt(st)}});var fe=H.mode==="time";if(!H.dateFormat&&(H.enableTime||fe)){var Te=ts.defaultConfig.dateFormat||br.dateFormat;te.dateFormat=H.noCalendar||fe?"H:i"+(H.enableSeconds?":S":""):Te+" H:i"+(H.enableSeconds?":S":"")}if(H.altInput&&(H.enableTime||fe)&&!H.altFormat){var Le=ts.defaultConfig.altFormat||br.altFormat;te.altFormat=H.noCalendar||fe?"h:i"+(H.enableSeconds?":S K":" K"):Le+(" h:i"+(H.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:G("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:G("max")});var at=function(st){return function(At){t.config[st==="min"?"_minTime":"_maxTime"]=t.parseDate(At,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:at("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:at("max")}),H.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,te,H);for(var Be=0;Be<B.length;Be++)t.config[B[Be]]=t.config[B[Be]]===!0||t.config[B[Be]]==="true";df.filter(function(st){return t.config[st]!==void 0}).forEach(function(st){t.config[st]=cf(t.config[st]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Be=0;Be<t.config.plugins.length;Be++){var pt=t.config.plugins[Be](t)||{};for(var Ue in pt)df.indexOf(Ue)>-1?t.config[Ue]=cf(pt[Ue]).map(a).concat(t.config[Ue]):typeof H[Ue]>"u"&&(t.config[Ue]=pt[Ue])}H.altInputClass||(t.config.altInputClass=Z().className+" "+t.config.altInputClass),Lt("onParseConfig")}function Z(){return t.config.wrap?s.querySelector("[data-input]"):s}function ce(){typeof t.config.locale!="object"&&typeof ts.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Ps(Ps({},ts.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?ts.l10ns[t.config.locale]:void 0),Ni.D="("+t.l10n.weekdays.shorthand.join("|")+")",Ni.l="("+t.l10n.weekdays.longhand.join("|")+")",Ni.M="("+t.l10n.months.shorthand.join("|")+")",Ni.F="("+t.l10n.months.longhand.join("|")+")",Ni.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var B=Ps(Ps({},e),JSON.parse(JSON.stringify(s.dataset||{})));B.time_24hr===void 0&&ts.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Cb(t),t.parseDate=lh({config:t.config,l10n:t.l10n})}function Se(B){if(typeof t.config.position=="function")return void t.config.position(t,B);if(t.calendarContainer!==void 0){Lt("onPreCalendarPosition");var H=B||t._positionElement,te=Array.prototype.reduce.call(t.calendarContainer.children,function(au,lu){return au+lu.offsetHeight},0),fe=t.calendarContainer.offsetWidth,Te=t.config.position.split(" "),Le=Te[0],at=Te.length>1?Te[1]:null,Be=H.getBoundingClientRect(),pt=window.innerHeight-Be.bottom,Ue=Le==="above"||Le!=="below"&&pt<te&&Be.top>te,st=window.pageYOffset+Be.top+(Ue?-te-2:H.offsetHeight+2);if(Us(t.calendarContainer,"arrowTop",!Ue),Us(t.calendarContainer,"arrowBottom",Ue),!t.config.inline){var At=window.pageXOffset+Be.left,$n=!1,Bs=!1;at==="center"?(At-=(fe-Be.width)/2,$n=!0):at==="right"&&(At-=fe-Be.width,Bs=!0),Us(t.calendarContainer,"arrowLeft",!$n&&!Bs),Us(t.calendarContainer,"arrowCenter",$n),Us(t.calendarContainer,"arrowRight",Bs);var yi=window.document.body.offsetWidth-(window.pageXOffset+Be.right),Bo=At+fe>window.document.body.offsetWidth,vl=yi+fe>window.document.body.offsetWidth;if(Us(t.calendarContainer,"rightMost",Bo),!t.config.static)if(t.calendarContainer.style.top=st+"px",!Bo)t.calendarContainer.style.left=At+"px",t.calendarContainer.style.right="auto";else if(!vl)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=yi+"px";else{var jn=Me();if(jn===void 0)return;var nu=window.document.body.offsetWidth,ou=Math.max(0,nu/2-fe/2),iu=".flatpickr-calendar.centerMost:before",Vr=".flatpickr-calendar.centerMost:after",Hr=jn.cssRules.length,ru="{left:"+Be.left+"px;right:auto;}";Us(t.calendarContainer,"rightMost",!1),Us(t.calendarContainer,"centerMost",!0),jn.insertRule(iu+","+Vr+ru,Hr),t.calendarContainer.style.left=ou+"px",t.calendarContainer.style.right="auto"}}}}function Me(){for(var B=null,H=0;H<document.styleSheets.length;H++){var te=document.styleSheets[H];if(te.cssRules){try{te.cssRules}catch{continue}B=te;break}}return B??Ce()}function Ce(){var B=document.createElement("style");return document.head.appendChild(B),B.sheet}function ke(){t.config.noCalendar||t.isMobile||(W(),On(),I())}function Ke(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Ie(B){B.preventDefault(),B.stopPropagation();var H=function(st){return st.classList&&st.classList.contains("flatpickr-day")&&!st.classList.contains("flatpickr-disabled")&&!st.classList.contains("notAllowed")},te=$b(cn(B),H);if(te!==void 0){var fe=te,Te=t.latestSelectedDateObj=new Date(fe.dateObj.getTime()),Le=(Te.getMonth()<t.currentMonth||Te.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=fe,t.config.mode==="single")t.selectedDates=[Te];else if(t.config.mode==="multiple"){var at=Ts(Te);at?t.selectedDates.splice(parseInt(at),1):t.selectedDates.push(Te)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Te,t.selectedDates.push(Te),fn(Te,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(st,At){return st.getTime()-At.getTime()}));if(h(),Le){var Be=t.currentYear!==Te.getFullYear();t.currentYear=Te.getFullYear(),t.currentMonth=Te.getMonth(),Be&&(Lt("onYearChange"),W()),Lt("onMonthChange")}if(On(),I(),In(),!Le&&t.config.mode!=="range"&&t.config.showMonths===1?L(fe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var pt=t.config.mode==="single"&&!t.config.enableTime,Ue=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(pt||Ue)&&Ke()}y()}}var De={locale:[ce,q],showMonths:[ve,l,ee],minDate:[w],maxDate:[w],positionElement:[Ms],clickOpens:[function(){t.config.clickOpens===!0?(x(t._input,"focus",t.open),x(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function tt(B,H){if(B!==null&&typeof B=="object"){Object.assign(t.config,B);for(var te in B)De[te]!==void 0&&De[te].forEach(function(fe){return fe()})}else t.config[B]=H,De[B]!==void 0?De[B].forEach(function(fe){return fe()}):df.indexOf(B)>-1&&(t.config[B]=cf(H));t.redraw(),In(!0)}function mt(B,H){var te=[];if(B instanceof Array)te=B.map(function(fe){return t.parseDate(fe,H)});else if(B instanceof Date||typeof B=="number")te=[t.parseDate(B,H)];else if(typeof B=="string")switch(t.config.mode){case"single":case"time":te=[t.parseDate(B,H)];break;case"multiple":te=B.split(t.config.conjunction).map(function(fe){return t.parseDate(fe,H)});break;case"range":te=B.split(t.l10n.rangeSeparator).map(function(fe){return t.parseDate(fe,H)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(B)));t.selectedDates=t.config.allowInvalidPreload?te:te.filter(function(fe){return fe instanceof Date&&je(fe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(fe,Te){return fe.getTime()-Te.getTime()})}function Tt(B,H,te){if(H===void 0&&(H=!1),te===void 0&&(te=t.config.dateFormat),B!==0&&!B||B instanceof Array&&B.length===0)return t.clear(H);mt(B,te),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),w(void 0,H),p(),t.selectedDates.length===0&&t.clear(!1),In(H),H&&Lt("onChange")}function bt(B){return B.slice().map(function(H){return typeof H=="string"||typeof H=="number"||H instanceof Date?t.parseDate(H,void 0,!0):H&&typeof H=="object"&&H.from&&H.to?{from:t.parseDate(H.from,void 0),to:t.parseDate(H.to,void 0)}:H}).filter(function(H){return H})}function gs(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var B=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);B&&mt(B,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function is(){if(t.input=Z(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=St(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Ms()}function Ms(){t._positionElement=t.config.positionElement||t._input}function us(){var B=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=St("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=B,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=B==="datetime-local"?"Y-m-d\\TH:i:S":B==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}x(t.mobileInput,"change",function(H){t.setDate(cn(H).value,!1,t.mobileFormatStr),Lt("onChange"),Lt("onClose")})}function Rn(B){if(t.isOpen===!0)return t.close();t.open(B)}function Lt(B,H){if(t.config!==void 0){var te=t.config[B];if(te!==void 0&&te.length>0)for(var fe=0;te[fe]&&fe<te.length;fe++)te[fe](t.selectedDates,t.input.value,t,H);B==="onChange"&&(t.input.dispatchEvent(fs("change")),t.input.dispatchEvent(fs("input")))}}function fs(B){var H=document.createEvent("Event");return H.initEvent(B,!0,!0),H}function Ts(B){for(var H=0;H<t.selectedDates.length;H++){var te=t.selectedDates[H];if(te instanceof Date&&fn(te,B)===0)return""+H}return!1}function sr(B){return t.config.mode!=="range"||t.selectedDates.length<2?!1:fn(B,t.selectedDates[0])>=0&&fn(B,t.selectedDates[1])<=0}function On(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(B,H){var te=new Date(t.currentYear,t.currentMonth,1);te.setMonth(t.currentMonth+H),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[H].textContent=lc(te.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=te.getMonth().toString(),B.value=te.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function dn(B){var H=B||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(te){return t.formatDate(te,H)}).filter(function(te,fe,Te){return t.config.mode!=="range"||t.config.enableTime||Te.indexOf(te)===fe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function In(B){B===void 0&&(B=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=dn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=dn(t.config.altFormat)),B!==!1&&Lt("onValueUpdate")}function zo(B){var H=cn(B),te=t.prevMonthNav.contains(H),fe=t.nextMonthNav.contains(H);te||fe?we(te?-1:1):t.yearElements.indexOf(H)>=0?H.select():H.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):H.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function su(B){B.preventDefault();var H=B.type==="keydown",te=cn(B),fe=te;t.amPM!==void 0&&te===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Mn(t.amPM.textContent===t.l10n.amPM[0])]);var Te=parseFloat(fe.getAttribute("min")),Le=parseFloat(fe.getAttribute("max")),at=parseFloat(fe.getAttribute("step")),Be=parseInt(fe.value,10),pt=B.delta||(H?B.which===38?1:-1:0),Ue=Be+at*pt;if(typeof fe.value<"u"&&fe.value.length===2){var st=fe===t.hourElement,At=fe===t.minuteElement;Ue<Te?(Ue=Le+Ue+Mn(!st)+(Mn(st)&&Mn(!t.amPM)),At&&C(void 0,-1,t.hourElement)):Ue>Le&&(Ue=fe===t.hourElement?Ue-Le-Mn(!t.amPM):Te,At&&C(void 0,1,t.hourElement)),t.amPM&&st&&(at===1?Ue+Be===23:Math.abs(Ue-Be)>at)&&(t.amPM.textContent=t.l10n.amPM[Mn(t.amPM.textContent===t.l10n.amPM[0])]),fe.value=tn(Ue)}}return o(),t}function xr(s,e){for(var t=Array.prototype.slice.call(s).filter(function(a){return a instanceof HTMLElement}),n=[],o=0;o<t.length;o++){var r=t[o];try{if(r.getAttribute("data-fp-omit")!==null)continue;r._flatpickr!==void 0&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=BP(r,e||{}),n.push(r._flatpickr)}catch{}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(s){return xr(this,s)},HTMLElement.prototype.flatpickr=function(s){return xr([this],s)});var ts=function(s,e){return typeof s=="string"?xr(window.document.querySelectorAll(s),e):s instanceof Node?xr([s],e):xr(s,e)};ts.defaultConfig={};ts.l10ns={en:Ps({},nl),default:Ps({},nl)};ts.localize=function(s){ts.l10ns.default=Ps(Ps({},ts.l10ns.default),s)};ts.setDefaults=function(s){ts.defaultConfig=Ps(Ps({},ts.defaultConfig),s)};ts.parseDate=lh({});ts.formatDate=Cb({});ts.compareDates=fn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(s){return xr(this,s)});Date.prototype.fp_incr=function(s){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof s=="string"?parseInt(s,10):s))};typeof window<"u"&&(window.flatpickr=ts);const Sb=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],UP=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],o1=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i1=s=>s instanceof Array?s:[s],r1=s=>Object.assign({},s),a1=Sb.concat(UP),VP=["locale","showMonths"],HP={name:"flat-pickr",render(){return Ot("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(a1.map(o1)),props:{modelValue:{default:null,required:!0,validator(s){return s===null||s instanceof Date||typeof s=="string"||s instanceof String||s instanceof Array||typeof s=="number"}},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>Sb},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){if(this.fp)return;const s=r1(this.config);this.events.forEach(t=>{const n=ts.defaultConfig[t]||[],o=(...r)=>{this.$emit(o1(t),...r)};s[t]=i1(s[t]||[]).concat(n,o)});const e=(...t)=>{this.onClose(...t)};s.onClose=i1(s.onClose||[]).concat(e),s.defaultDate=this.modelValue||s.defaultDate,this.fp=new ts(this.getElem(),s),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(s){const e=s.target;bn().then(()=>{this.$emit("update:modelValue",e.value)})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(s){this.$emit("blur",s.target.value)},onClose(s,e){this.$emit("update:modelValue",e)},watchDisabled(s){s?this.fpInput().setAttribute("disabled",s):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(s){const e=r1(s);a1.forEach(t=>{delete e[t]}),this.fp.set(e),VP.forEach(t=>{typeof e[t]<"u"&&this.fp.set(t,e[t])})}},modelValue(s){s!==this.$refs.root.value&&this.fp&&this.fp.setDate(s,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}},WP={class:"absolute bottom-0 z-40 mb-6 w-96 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},qP={class:"px-6 py-4"},KP={class:"mb-6 text-sm font-medium text-gray-700"},YP={class:"flex items-center"},GP={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},XP={value:"daily"},JP={value:"weekly"},QP={value:"monthly"},ZP={value:"yearly"},eR={key:0,class:"mt-6 flex items-center"},tR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},sR=["value"],nR={key:1,class:"mt-6"},oR={class:"whitespace-nowrap text-sm text-gray-600"},iR={class:"mt-2.5 flex space-x-2"},rR=["onClick"],aR={key:2,class:"mt-6 flex items-center"},lR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},dR=["value"],cR={value:"lastday"},uR={key:3,class:"mt-6 flex items-center"},fR={class:"mr-6 whitespace-nowrap text-sm text-gray-600"},hR=["value"],pR=["value"],mR={value:"lastday"},gR={class:"mt-6"},_R={class:"mb-3 whitespace-nowrap text-sm text-gray-600"},vR={class:"space-y-1.5"},yR={class:"flex h-[1.875rem] items-center"},bR={for:"ends-never",class:"ml-3"},xR={class:"block text-sm text-gray-600"},wR={class:"flex items-center"},kR={class:"flex w-[9.375rem] items-center"},$R={for:"ends-on",class:"ml-3"},CR={class:"block text-sm text-gray-600"},SR={class:"flex items-center"},MR={class:"flex w-[9.375rem] items-center"},TR={for:"ends-after",class:"ml-3"},DR={class:"block text-sm text-gray-600"},AR=["disabled"],ER={class:"pointer-events-none flex items-center pr-2.5"},PR={class:"text-xs text-gray-600"},RR={class:"mt-8"},OR={class:"flex items-center"},IR={for:"task-completion",class:"pl-3 text-sm text-gray-600"},jR={class:"mt-8 flex justify-start"},LR=pe({__name:"TaskRepeatDropdown",setup(s){const e=es(),t=R(!1),n=R(!1),o={type:"daily",every:1,hour_at:0,day_at:1,month_at:1,repeat_on:[],task_completion_required:!0,ends_at:null,repetitions:1,ends:"never"},r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],a=[{label:"M",value:"Mon"},{label:"T",value:"Tue"},{label:"W",value:"Wed"},{label:"T",value:"Thu"},{label:"F",value:"Fri"},{label:"S",value:"Sat"},{label:"S",value:"Sun"}],l=_t({...o});function d(v){l.repeat_on.includes(v)?l.repeat_on.splice(l.repeat_on.indexOf(v),1):l.repeat_on.push(v)}function c(){t.value=!0,me.post(`tasks/${e.data.id}/recurring`,{...l}).then(({data:v})=>{t.value=!1,n.value=!0,Object.assign(e.data,v)}).catch(()=>{t.value=!1})}function u(){n.value=!0}function h(){var v;n.value=!1,(v=e.data.meta)!=null&&v.recurring?g():p()}function p(){Object.assign(l,o)}function g(){Object.assign(l,e.data.meta.recurring)}return(v,x)=>(_(),oe(m(Ns),{name:"task-repeat",modal:!0,"close-outside":"",close:n.value,onToggle:h},{trigger:X(()=>[...x[14]||(x[14]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:X(()=>[i("div",WP,[i("div",qP,[i("h3",KP,f(v.__("Recurrence")),1),i("section",YP,[i("p",GP,f(v.__("Repeat every")),1),V(i("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>l.every=y),type:"number",class:"mr-2 block w-16 rounded-md border-gray-300 px-2.5 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0",min:"1",max:"99",onChange:x[1]||(x[1]=y=>l.every=Math.max(Math.min(Math.round(l.every),99),1))},null,544),[[ie,l.every]]),V(i("select",{"onUpdate:modelValue":x[2]||(x[2]=y=>l.type=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[i("option",XP,"Day"+f(l.every>1?"s":""),1),i("option",JP," Week"+f(l.every>1?"s":""),1),i("option",QP," Month"+f(l.every>1?"s":""),1),i("option",ZP," Year"+f(l.every>1?"s":""),1)],512),[[Ne,l.type]])]),l.type=="daily"?(_(),b("section",eR,[i("p",tR,f(v.__("Hour At")),1),V(i("select",{"onUpdate:modelValue":x[3]||(x[3]=y=>l.hour_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),b(ue,null,xe(24,(y,$)=>i("option",{key:y,value:$},f($.toString().padStart(2,"0"))+":00 ",9,sR)),64))],512),[[Ne,l.hour_at]])])):P("",!0),l.type=="weekly"?(_(),b("section",nR,[i("p",oR,f(v.__("Repeat on")),1),i("div",iR,[(_(),b(ue,null,xe(a,y=>i("span",{key:y.value,class:ne(["flex h-6 w-6 cursor-pointer items-center justify-center rounded text-xs",{"border border-gray-300 text-gray-500":!l.repeat_on.includes(y.value),"bg-indigo-600 text-white":l.repeat_on.includes(y.value)}]),onClick:$=>d(y.value)},f(y.label),11,rR)),64))])])):P("",!0),l.type=="monthly"?(_(),b("section",aR,[i("p",lR,f(v.__("Day")),1),V(i("select",{"onUpdate:modelValue":x[4]||(x[4]=y=>l.day_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),b(ue,null,xe(31,y=>i("option",{key:y,value:y},f(y.toString().padStart(2,"0")),9,dR)),64)),i("option",cR,f(v.__("Last Day")),1)],512),[[Ne,l.day_at]])])):P("",!0),l.type=="yearly"?(_(),b("section",uR,[i("p",fR,f(v.__("Month"))+" / "+f(v.__("Day")),1),V(i("select",{"onUpdate:modelValue":x[5]||(x[5]=y=>l.month_at=y),class:"block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),b(ue,null,xe(r,y=>i("option",{key:y.label,value:y.value},f(y.label),9,hR)),64))],512),[[Ne,l.month_at]]),V(i("select",{"onUpdate:modelValue":x[6]||(x[6]=y=>l.day_at=y),class:"ml-2 block rounded-md border-gray-300 py-1.5 pl-2.5 text-xs text-gray-800 focus:border-gray-300 focus:outline-none focus:ring-0"},[(_(),b(ue,null,xe(31,y=>i("option",{key:y,value:y},f(y.toString().padStart(2,"0")),9,pR)),64)),i("option",mR,f(v.__("Last Day")),1)],512),[[Ne,l.day_at]])])):P("",!0),i("section",gR,[i("p",_R,f(v.__("Ends")),1),i("div",vR,[i("div",yR,[V(i("input",{id:"ends-never","onUpdate:modelValue":x[7]||(x[7]=y=>l.ends=y),type:"radio",value:"never",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[no,l.ends]]),i("label",bR,[i("span",xR,f(v.__("Never")),1)])]),i("div",wR,[i("div",kR,[V(i("input",{id:"ends-on","onUpdate:modelValue":x[8]||(x[8]=y=>l.ends=y),type:"radio",value:"on",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[no,l.ends]]),i("label",$R,[i("span",CR,f(v.__("On")),1)])]),i("div",null,[M(m(HP),{id:"ends-on-date",modelValue:l.ends_at,"onUpdate:modelValue":x[9]||(x[9]=y=>l.ends_at=y),disabled:l.ends!="on",class:"block rounded-md border-gray-300 px-2 py-1.5 text-xs text-gray-800 shadow-sm focus:border-gray-300 focus:ring-0 disabled:opacity-50"},null,8,["modelValue","disabled"])])]),i("div",SR,[i("div",MR,[V(i("input",{id:"ends-after","onUpdate:modelValue":x[10]||(x[10]=y=>l.ends=y),type:"radio",value:"after",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[no,l.ends]]),i("label",TR,[i("span",DR,f(v.__("After")),1)])]),i("div",null,[i("div",{class:ne(["flex rounded-md border border-gray-300 shadow-sm",{"opacity-50":l.ends!="after"}])},[V(i("input",{"onUpdate:modelValue":x[11]||(x[11]=y=>l.repetitions=y),type:"number",placeholder:"1",class:"block w-20 rounded-md border-0 px-2.5 py-1.5 text-xs text-gray-800 focus:ring-0",disabled:l.ends!="after",onChange:x[12]||(x[12]=y=>l.repetitions=Math.max(Math.min(Math.round(l.repetitions),999),1))},null,40,AR),[[ie,l.repetitions]]),i("div",ER,[i("span",PR,f(v.__("Occurences")),1)])],2)])])])]),i("section",RR,[i("div",OR,[V(i("input",{id:"task-completion","onUpdate:modelValue":x[13]||(x[13]=y=>l.task_completion_required=y),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,l.task_completion_required]]),i("label",IR,f(v.__("Only if last task was completed")),1)])]),i("section",jR,[M(m(Ve),{size:"xs",processing:t.value,onClick:c},{default:X(()=>[se(f(v.__("Save")),1)]),_:1},8,["processing"]),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:u},f(v.__("Cancel")),1)])])])]),_:1},8,["close"]))}}),FR={class:"py-3.5"},NR={class:"flex items-center px-2"},zR={class:"text-sm font-medium text-gray-600"},BR=["aria-label"],UR={key:0,class:"flex items-center px-2 pt-3"},VR={"aria-label":"Next Recurring At","data-cooltipz-dir":"bottom"},HR={class:"ml-2 text-xs text-gray-600"},WR=pe({__name:"TaskRecurring",setup(s){const e=es();return(t,n)=>(_(),b("section",FR,[i("div",NR,[i("h2",zR,f(t.__("Repeat")),1),m(e).data.recurring_at?(_(),b("span",{key:0,class:"ml-2","aria-label":m(e).data.meta.recurring.phrase,"data-cooltipz-dir":"bottom"},[M(m(bv),{class:"h-3 w-3 text-gray-600"})],8,BR)):P("",!0),t.can("task:update")?(_(),oe(LR,{key:1,class:"ml-auto"})):P("",!0)]),m(e).data.recurring_at?(_(),b("div",UR,[i("span",VR,[M(m(Oo),{class:"h-4 w-4 text-gray-500"})]),i("p",HR,f(m(e).data.recurring_at),1)])):P("",!0)]))}}),qR={class:"group relative flex py-1"},KR={class:"h-6 w-6"},YR={class:"group flex-1 ltr:pl-4 rtl:pr-4"},GR={class:"flex"},XR={class:"flex text-sm font-medium leading-none text-gray-700"},JR={class:"text-xs font-normal text-gray-500 ltr:ml-3 rtl:mr-3"},QR=["innerHTML"],ZR={key:0,class:"mt-4 mb-1 divide-y rounded-md border"},eO={class:"flex flex-1 items-center"},tO=["href"],sO=["href"],nO={class:"mr-2 text-sm text-gray-600"},oO={key:1,class:"absolute right-0 hidden bg-white pl-4 group-hover:flex"},iO=pe({__name:"CommentItem",props:{id:{},index:{},comment:{}},setup(s){const e=s,t=new Ye.Renderer,n=t.link;t.link=(d,c,u)=>n.call(t,d,c,u).replace(/^<a /,'<a target="_blank" rel="noreferrer noopener nofollow" ');const o=es(),r=R(!1),a=R(!1);function l(){a.value||(a.value=!0,me.delete(`comments/${e.id}`).then(({data:d})=>{var c;a.value=!1,d.success&&((c=o.data)==null||c.comments.splice(e.index,1))}))}return(d,c)=>(_(),b("div",qR,[i("div",KR,[M(m(ms),{class:"h-6 w-6",avatar:s.comment.user.avatar},null,8,["avatar"])]),i("div",YR,[i("div",GR,[i("h2",XR,[se(f(s.comment.user.name)+" ",1),i("span",JR,f(s.comment.updated_at),1)])]),i("p",{class:"prose prose-sm mt-1.5 break-all text-sm text-gray-600",innerHTML:m(Ye).parse(s.comment.text||"",{breaks:!0,renderer:m(t)})},null,8,QR),s.comment.attachments.length?(_(),b("ul",ZR,[(_(!0),b(ue,null,xe(s.comment.attachments,u=>(_(),b("li",{key:u.name,class:"flex items-center py-2 px-3"},[i("div",eO,[c[2]||(c[2]=i("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),i("a",{href:"/"+u.path,class:"block w-0 flex-1 truncate text-xs text-gray-700 hover:underline ltr:ml-2 ltr:pr-2 rtl:mr-2 rtl:pl-2",target:"blank"},f(u.name),9,tO)]),i("a",{href:"/"+u.path,class:"ltr:ml-auto rtl:mr-auto",target:"blank"},[M(m(N4),{class:"h-5 w-5 text-gray-400"})],8,sO)]))),128))])):P("",!0)]),r.value?(_(),b("div",{key:0,class:ne(["absolute right-0 flex items-center bg-white pl-4",{"opacity-50":a.value}])},[i("span",nO,f(d.__("Are you sure to delete?")),1),M(m(Js),{class:"mr-1 h-5 w-5 cursor-pointer text-green-600 hover:text-green-800",onClick:l}),M(m(xn),{class:"h-5 w-5 cursor-pointer text-red-600 hover:text-red-800",onClick:c[0]||(c[0]=u=>r.value=!1)})],2)):(_(),b("div",oO,[s.comment.user_id==m(vt).user.id?(_(),oe(m(ls),{key:0,class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-900",onClick:c[1]||(c[1]=u=>r.value=!0)})):P("",!0)]))]))}}),rO={class:"px-3 py-2 text-sm text-gray-500"},aO={class:"mt-1 mb-4 rounded-md border border-gray-300",enctype:"multipart/form-data"},lO=["placeholder","onKeydown"],dO={key:0,class:"mx-3 mt-1 mb-1 divide-y rounded-md border"},cO={class:"flex items-center"},uO={class:"w-0 flex-1 truncate text-sm ltr:ml-2 rtl:mr-2"},fO=["onClick"],hO={key:0,class:"mt-2 w-full rounded-md bg-green-100"},pO={class:"flex items-center px-3 pt-2 pb-3"},mO={class:"flex items-center"},gO={class:"ml-auto flex"},_O={class:"cursor-pointer"},l1=pe({__name:"CommentForm",props:{id:{},index:{},comment:{}},setup(s){const e=s;nt(()=>{var w;kb(document.querySelectorAll(".autosize")),(w=r.value)==null||w.focus()});const t=es(),n=R(e.comment?e.comment.attachments:[]),o=R(e.comment?e.comment.comment:""),r=R(null),a=R(!e.id),l=R({}),d=R({}),c=R(!1),u=Qs();function h(){a.value=!0,o.value="",t.commentForm=null}function p(){a.value=!1,setTimeout(function(){var w;(w=r.value)==null||w.focus()})}function g(){u.fetch(t.data.project_id)}function v(w){w.preventDefault(),n.value=[...w.target.files];for(let S=0;S<n.value.length;S++)x(S)}function x(w){const S=n.value[w],C=new FileReader;C.readAsDataURL(S),C.onload=()=>{const T=new FormData;T.append("file",S),me.post("file",T,{onUploadProgress:function(F){l.value[w]=Math.round(F.loaded*100/F.total)-5}}).then(({data:F})=>{d.value[w]={path:F,name:S.name},l.value[w]=100})}}function y(w){delete d.value[w],n.value.splice(w,1)}function $(){o.value&&(c.value=!0,me.post("tasks/"+t.data.id+"/comments",{text:o.value,task_id:t.data.id,attachments:d.value}).then(({data:w})=>{t.data.comments.push(w),o.value="",n.value=[],d.value={},l.value={},c.value=!1,g()}))}return(w,S)=>(_(),b("div",null,[V(i("div",{class:"mt-1 mb-4 cursor-pointer rounded-md border border-gray-300 hover:shadow",onClick:p},[i("p",rO,f(w.__("Write a comment")),1)],512),[[Ft,a.value]]),V(i("form",aO,[V(i("textarea",{ref_key:"input",ref:r,"onUpdate:modelValue":S[0]||(S[0]=C=>o.value=C),class:"autosize comment-textarea block max-h-40 w-full resize-none rounded-md border-0 text-sm focus:ring-0",placeholder:w.__("Write a comment"),onKeydown:[Dn(We($,["ctrl"]),["enter"]),Dn(h,["esc"])]},null,40,lO),[[ie,o.value]]),n.value.length?(_(),b("ul",dO,[(_(!0),b(ue,null,xe(n.value,(C,T)=>(_(),b("li",{key:C.name,class:"block py-2 px-3"},[i("div",cO,[S[2]||(S[2]=i("svg",{class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1)),i("span",uO,f(C.name),1),i("span",{class:"cursor-pointer ltr:ml-auto rtl:mr-auto",onClick:F=>y(T)},[...S[1]||(S[1]=[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,fO)]),l.value[T]?(_(),b("div",hO,[i("span",{class:"block h-1 rounded-md bg-green-400",style:$t({width:l.value[T]+"%"})},null,4)])):P("",!0)]))),128))])):P("",!0),i("div",pO,[i("div",mO,[i("button",{type:"button",class:"inline-flex items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:$},f(w.__("Save")),1),i("button",{type:"button",class:"inline-flex items-center rounded border border-transparent bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-0 ltr:ml-1 rtl:mr-1",onClick:h},f(w.__("Cancel")),1)]),i("div",gO,[i("label",_O,[i("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/gif,.doc,.docx,.pdf,.txt",multiple:"",onChange:v},null,32),S[3]||(S[3]=i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1))])])])],512),[[Ft,!a.value]])]))}}),vO={id:"comments",class:"mt-8"},yO={class:"flex"},bO={class:"flex-1 border-b pb-2"},xO={class:"text-sm font-medium text-gray-800"},wO={class:"ml-2 text-sm font-light text-gray-600"},kO={class:"pl-8 pt-4"},$O={class:"space-y-4"},CO=pe({__name:"TaskComments",setup(s){const e=es();return(t,n)=>(_(),b("section",vO,[M(m(Vc),{open:!0},{trigger:X(({open:o})=>[i("div",yO,[(_(),b("svg",{class:ne(["mr-4 mt-1 h-4 w-4 cursor-pointer text-gray-500",{"rotate-[270deg]":!o}]),viewBox:"0 0 16 16"},[...n[0]||(n[0]=[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"},null,-1)])],2)),i("div",bO,[i("span",xO,f(t.__("Comments")),1),i("span",wO,f(m(e).data.comments.length),1)])])]),content:X(()=>[i("div",kO,[M(l1),i("div",$O,[(_(!0),b(ue,null,xe(m(e).data.comments,(o,r)=>(_(),oe(Mo(m(e).commentForm==r?l1:iO),{key:o.id,id:o.id,index:r,comment:o},null,8,["id","index","comment"]))),128))])])]),_:1})]))}}),SO={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},MO=["onClick"],TO={key:0,class:"inline-block h-5 w-5 rounded-full bg-blue-400 text-white"},DO={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},AO=pe({__name:"TaskAssign",setup(s){const e=es(),t=Qs(),n=et("can");function o(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;let l=e.data.users.findIndex(d=>d.id==a.id);l>=0?e.data.users.splice(l,1):e.data.users.push({id:a.id,name:a.name}),me.patch("tasks/"+e.data.id+"/assign",{user:a.id}).then(({data:d})=>{o()})}return(a,l)=>(_(),oe(m(Ns),{name:"task-assign",modal:!0,"close-outside":""},{trigger:X(()=>[...l[0]||(l[0]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:X(()=>[i("div",SO,[(_(!0),b(ue,null,xe(m(e).data.project.users,d=>(_(),b("div",{key:d.id,class:ne(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":m(n)("task:update")}]),onClick:c=>r(d)},[m(e).data.users.length&&m(e).data.users.find(c=>c.id==d.id)?(_(),b("span",TO,[...l[1]||(l[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])])):(_(),oe(m(ms),{key:1,class:"h-5 w-5",avatar:d.avatar},null,8,["avatar"])),i("span",DO,f(d.name),1)],10,MO))),128))])]),_:1}))}}),EO={class:"py-3.5"},PO={class:"flex items-center px-2"},RO={class:"text-sm font-medium text-gray-600"},OO={key:0,class:"flex flex-wrap px-2 pt-2"},IO=pe({__name:"TaskAssignee",setup(s){const e=es();return(t,n)=>(_(),b("section",EO,[i("div",PO,[i("h2",RO,f(t.__("Assignee")),1),t.can("task:update")?(_(),oe(AO,{key:0,class:"ml-auto"})):P("",!0)]),m(e).data.users.length?(_(),b("div",OO,[(_(!0),b(ue,null,xe(m(e).data.users,o=>(_(),oe(m(ms),{key:o.id,"data-cooltipz-dir":"top","aria-label":o.name,class:"mr-1 mb-1 h-6 w-6 border-2 border-white",avatar:o.avatar},null,8,["aria-label","avatar"]))),128))])):P("",!0)]))}}),jO={class:"absolute z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},LO={key:0,class:"py-1.5 text-center text-xs text-gray-600"},FO=["onClick"],NO={class:"block text-gray-600 ltr:ml-2 rtl:mr-2"},zO=pe({__name:"TaskLabelsDropdown",setup(s){const e=es(),t=Qs(),n=et("can");function o(){t.fetch(e.data.project_id)}function r(a){if(!n("task:update"))return;const l=["not started","started","in progress","completed","stuck"],d=l.includes(a.name.toLowerCase());let c=e.data.labels.findIndex(u=>u.id==a.id);c>=0?e.data.labels.splice(c,1):(d&&(e.data.labels=e.data.labels.filter(u=>!l.includes(u.name.toLowerCase()))),e.data.labels.push({id:a.id,name:a.name,meta:{color:a.meta.color}})),me.patch("tasks/"+e.data.id+"/label",{label:a.id}).then(({data:u})=>{u.completed_at!==void 0&&(e.data.completed_at=u.completed_at),o()})}return(a,l)=>(_(),oe(m(Ns),{name:"task-labels",modal:!0,"close-outside":""},{trigger:X(()=>[...l[0]||(l[0]=[i("span",{class:"cursor-pointer"},[i("svg",{class:"h-4 w-4 text-gray-600 hover:text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)])]),content:X(()=>[i("div",jO,[m(e).options.labels.length?P("",!0):(_(),b("p",LO," There are No Labels! ")),(_(!0),b(ue,null,xe(m(e).options.labels,d=>(_(),b("div",{key:d.label,class:ne(["flex items-center px-4 py-2 text-sm hover:bg-gray-200",{"cursor-pointer":m(n)("task:update")}]),onClick:c=>r(d)},[m(e).data.labels.length&&m(e).data.labels.find(c=>c.id==d.id)?(_(),oe(m(gE),{key:0,class:"inline-block h-4 w-4",style:$t({color:d.meta.color})},null,8,["style"])):(_(),oe(m(pb),{key:1,class:"inline-block h-4 w-4",style:$t({color:d.meta.color})},null,8,["style"])),i("span",NO,f(d.name),1)],10,FO))),128))])]),_:1}))}}),BO={class:"py-3.5"},UO={class:"flex items-center px-2"},VO={class:"text-sm font-medium text-gray-600"},HO={key:0,class:"flex flex-wrap px-2 pt-2"},WO=pe({__name:"TaskLabels",setup(s){const e=es();return(t,n)=>(_(),b("section",BO,[i("div",UO,[i("h2",VO,f(t.__("Labels")),1),t.can("task:update")?(_(),oe(zO,{key:0,class:"ml-auto"})):P("",!0)]),m(e).data.labels.length?(_(),b("div",HO,[(_(!0),b(ue,null,xe(m(e).data.labels,o=>(_(),b("span",{key:o.id,class:"mb-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white ltr:mr-2 rtl:ml-2",style:$t({"background-color":o.meta.color})},[n[0]||(n[0]=i("svg",{class:"-ml-0.5 mr-1.5 h-2 w-2 text-white",fill:"currentColor",viewBox:"0 0 8 8"},[i("circle",{cx:"4",cy:"4",r:"3"})],-1)),se(" "+f(o.name),1)],4))),128))])):P("",!0)]))}}),qO={class:"py-3"},KO={class:"px-2 text-sm font-medium text-gray-600"},YO={key:0,class:"mt-2 flex items-center px-2 py-1"},GO={class:"block text-xs leading-none text-gray-600"},XO={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},JO={class:"block h-3.5 text-xs leading-none text-gray-600"},QO={class:"absolute z-30 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},ZO=["onClick"],eI=pe({__name:"TaskProjectList",setup(s){const e=es(),t=Qs();function n(){t.fetch(e.data.project_id)}function o(r){e.data.project_list.name=r.name,me.patch(`tasks/${e.data.id}/list`,{project_list_id:r.id}).then(()=>{n()})}return(r,a)=>(_(),b("section",qO,[i("h2",KO,f(r.__("Project List")),1),r.can("task:update")?(_(),oe(m(Ns),{key:1},{trigger:X(()=>[i("div",XO,[i("span",JO,f(m(e).data.project_list.name),1),a[0]||(a[0]=i("svg",{class:"ml-auto hidden h-3.5 w-3.5 cursor-pointer text-gray-500 group-hover:block",viewBox:"0 0 16 16"},[i("path",{d:"M14 5.758L13.156 5 7.992 9.506l-.55-.48.002.002-4.588-4.003L2 5.77 7.992 11 14 5.758",fill:"currentColor"})],-1))])]),content:X(()=>[i("div",QO,[(_(!0),b(ue,null,xe(m(e).options.project_lists,l=>(_(),b("span",{key:l.name,class:"block cursor-pointer px-4 py-2 text-xs text-gray-600 hover:bg-gray-200",onClick:d=>o(l)},f(l.name),9,ZO))),128))])]),_:1})):(_(),b("div",YO,[i("span",GO,f(m(e).data.project_list.name),1)]))]))}}),tI={class:"pb-3"},sI={class:"px-2 text-sm font-medium text-gray-600"},nI={class:"mt-2 flex items-center px-2"},oI={key:0,class:"pr-4"},iI={key:1,class:"text-red-500"},rI={key:2,class:"text-gray-600"},aI=pe({__name:"TaskTimer",setup(s){const e=es(),t=Ur(),n=R(!1),o=R(!1);function r(){if(o.value)return`${t.currentTaskTimer.h.toString().padStart(2,"0")}:${t.currentTaskTimer.m.toString().padStart(2,"0")}:${t.currentTaskTimer.s.toString().padStart(2,"0")}`;let c=e.data.total_seconds,u=Math.floor((c||0)%60),h=Math.floor((c||0)%3600/60);return`${Math.floor((c||0)/3600).toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}function a(){o.value||(t.setTimer(e.data.total_seconds),o.value=!0),setTimeout(function(){t.start(e.data)})}function l(){t.stop()}function d(){if(e.data.users.length&&e.data.users.find(c=>c.id==vt.user.id))return n.value=!0;n.value=!1}return d(),(c,u)=>(_(),b("section",tI,[i("h2",sI,f(c.__("Time")),1),i("div",nI,[n.value?(_(),b("div",oI,[m(e).data.id==m(t).taskId?(_(),b("span",{key:0,onClick:We(l,["stop"])},[M(m(Nr),{class:"h-4 w-4 cursor-pointer text-red-500 hover:text-red-700"})])):(_(),b("span",{key:1,onClick:We(a,["stop"])},[M(m(Oc),{class:"h-4 w-4 cursor-pointer text-gray-500 hover:text-gray-700"})]))])):P("",!0),m(e).data.id==m(t).taskId?(_(),b("p",iI,f(m(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+f(m(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+f(m(t).currentTaskTimer.s.toString().padStart(2,"0")),1)):(_(),b("p",rI,f(r()),1))])]))}}),lI={class:"py-3"},dI={class:"px-2 text-sm font-medium text-gray-600"},cI={key:0,class:"mt-2 flex items-center px-2","data-cooltipz-dir":"top"},uI={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},fI={class:"group mt-2 flex cursor-pointer items-center rounded-md px-2 py-1.5 hover:bg-gray-200"},hI={class:"block text-xs leading-none text-gray-600 ltr:ml-1.5 rtl:mr-1.5"},pI={class:"absolute z-30 mt-2 ltr:left-0 ltr:origin-top-left rtl:right-0 rtl:origin-top-right",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},mI=pe({__name:"TaskDueDate",setup(s){const e=R(!1),t=es(),n=Qs();function o(){n.fetch(t.data.project_id)}const r=function(a){e.value=!0,t.data.due_at=a?a.date:null,t.data.human_due_date=a?a.label:null,me.patch("tasks/"+t.data.id+"/due-date",{due_at:a?a.date:null}).then(({data:l})=>{o()})};return(a,l)=>(_(),b("section",lI,[i("h2",dI,f(a.__("Due Date")),1),a.can("task:update")?(_(),oe(m(Ns),{key:1,"close-outside":"",close:e.value,modal:!0},{trigger:X(()=>[i("div",fI,[M(m(ao),{class:"h-4 w-4 text-gray-500"}),i("span",hI,f(m(t).data.due_at?m(t).data.human_due_date:a.__("No due date")),1),m(t).data.due_at?(_(),b("span",{key:0,class:"ml-auto flex h-4 w-4 items-center justify-center rounded-md hover:bg-gray-300",onClick:We(r,["stop"])},[M(m(jc),{class:"h-3.5 w-3.5 text-gray-600"})])):P("",!0)])]),content:X(()=>{var d;return[i("div",pI,[M(m(m6),{date:((d=m(t).data)==null?void 0:d.due_at)||"",onSelected:r},null,8,["date"])])]}),_:1},8,["close"])):(_(),b("div",cI,[M(m(ao),{class:"h-4 w-4 text-gray-500"}),i("span",uI,f(m(t).data.due_at?m(t).data.due_at:a.__("No due date")),1)]))]))}}),gI={key:0,class:"flex justify-center rounded-lg bg-gray-300 py-28"},_I={key:1},vI={class:"flex border-b border-gray-200 shadow-sm"},yI={class:"flex items-center px-6 text-sm text-gray-700"},bI={class:"flex"},xI={class:"flex-1 px-6 pt-6 pb-8"},wI={class:"w-60 divide-y divide-gray-200 rounded-br-lg bg-gray-50 px-6 py-6"},eu=pe({__name:"TaskModal",props:{id:{}},setup(s){const e=s,t=es();t.fetch(e.id),jt().onHide(function(){if(window.location.pathname.split("/")[1]=="projects"){const o=`/projects/${t.data.project_id}`;history.replaceState(history.state,"",o)}});function n(){jt().pop()}return(o,r)=>(_(),oe(m(lo),{width:"max-w-3xl"},{default:X(()=>[m(t).loading?(_(),b("div",gI,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",_I,[i("div",vI,[i("div",yI,[i("span",{class:"inline-block h-2.5 w-2.5 rounded-full ltr:mr-2 rtl:ml-2",style:$t({"background-color":m(t).data.project.meta.color})},"  ",4),i("span",null,f(m(t).data.project.name),1),r[0]||(r[0]=i("span",{class:"px-2"},"/",-1)),i("span",null,f(m(t).data.project_list.name),1)]),i("div",{class:"ml-auto flex items-center"},[i("span",{class:"cursor-pointer px-4 py-4 text-gray-600 hover:text-gray-800",onClick:n},[...r[1]||(r[1]=[i("svg",{class:"h-6 w-6",viewBox:"0 0 21 21"},[i("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(5 5)"},[i("path",{d:"m10.5 10.5-10-10z"}),i("path",{d:"m10.5.5-10 10"})])],-1)])])])]),i("div",bI,[i("main",xI,[M(iP),M(vP),M(CO)]),i("aside",wI,[M(aI),M(eI),M(IO),M(mI),M(WO),M(WR),o.can("task:delete")?(_(),oe(IP,{key:0})):P("",!0),M(TP)])])]))]),_:1}))}}),kI=["data-id"],$I={class:"flex py-1.5"},CI=["textContent"],SI={class:"flex items-center"},MI={class:"flex flex-1"},TI={key:0,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},DI=["aria-label"],AI={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},EI=["textContent"],PI={class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},RI=["textContent"],OI={key:1,class:"flex items-center py-1 ltr:mr-2.5 rtl:ml-2.5"},II=["textContent"],jI={key:0,class:"flex items-center py-1 ltr:ml-auto rtl:mr-auto"},LI=["src","title"],FI=["title"],NI={key:0,class:"mt-1 flex flex-wrap"},zI={key:1,class:"mt-1.5 mb-1.5 flex items-center"},BI={class:"ml-1 text-xs text-red-600"},UI=pe({__name:"ListItem",props:{task:{}},setup(s){const e=s,t=Ur(),n=R(!1);function o(l=null){const d=`/projects/${e.task.project_id}/tasks/${l}`;history.replaceState(history.state,"",d),jt().add(eu,{id:l,width:"max-w-3xl"})}function r(l){return l[0].checklist_items.filter(d=>d.completed_at!=null).length+"/"+l[0].checklist_items.length}function a(){if(e.task.users.length&&e.task.users.find(l=>l.id==vt.user.id))return n.value=!0;n.value=!1}return a(),(l,d)=>(_(),b("div",{id:"list-item","data-id":s.task.id,class:"mb-2 block cursor-pointer rounded bg-white px-2.5 py-1 shadow-md",onClick:d[1]||(d[1]=c=>o(s.task.id))},[i("div",$I,[i("span",{class:ne(["block flex-1 text-sm",{"text-gray-500 line-through":s.task.completed_at,"text-gray-700":!s.task.completed_at}]),textContent:f(s.task.title)},null,10,CI)]),i("div",SI,[i("div",MI,[s.task.recurring_at?(_(),b("div",TI,[i("span",{"aria-label":s.task.meta.recurring.phrase,"data-cooltipz-dir":"right","data-cooltipz-size":"medium"},[M(m(bv),{class:"h-4 w-4 text-gray-400"})],8,DI)])):P("",!0),V(i("div",AI,[M(m(ao),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:f(s.task.human_due_date)},null,8,EI)],512),[[Ft,s.task.due_at]]),V(i("div",PI,[M(m(W4),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs text-gray-500 ltr:ml-1 rtl:mr-1",textContent:f(s.task.comments.length)},null,8,RI)],512),[[Ft,s.task.comments.length]]),s.task.checklists.length&&s.task.checklists[0].checklist_items.length?(_(),b("div",OI,[M(m(Js),{class:"h-4 w-4 text-gray-400"}),i("span",{class:"text-xs tracking-widest text-gray-500 ltr:ml-0.5 rtl:mr-0.5",textContent:f(r(s.task.checklists))},null,8,II)])):P("",!0)]),s.task.users.length?(_(),b("div",jI,[V(i("span",null,null,512),[[Ft,a()]]),V(i("img",{class:"h-4 w-4 rounded-full",src:s.task.users[0].avatar,alt:"avatar",title:s.task.users[0].name},null,8,LI),[[Ft,s.task.users[0].avatar]]),V(i("span",{title:s.task.users[0].name,class:"inline-block h-4 w-4 overflow-hidden rounded-full bg-gray-100 text-gray-300"},[...d[2]||(d[2]=[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})],-1)])],8,FI),[[Ft,!s.task.users[0].avatar]]),V(i("span",{class:"text-[9px] text-gray-600 ltr:ml-px rtl:mr-px"},"+"+f(s.task.users.length-1),513),[[Ft,s.task.users.length>1]])])):P("",!0)]),s.task.labels.length?(_(),b("div",NI,[(_(!0),b(ue,null,xe(s.task.labels,c=>(_(),b("span",{key:c.id,class:"mb-1 inline-flex items-center rounded-md px-1.5 py-1 text-[10px] font-semibold leading-none text-white ltr:mr-1 rtl:ml-1",style:$t({"background-color":c.meta.color})},f(c.name),5))),128))])):P("",!0),s.task.id==m(t).taskId&&m(t).isTimerRunning?(_(),b("div",zI,[i("span",{onClick:d[0]||(d[0]=We((...c)=>m(t).stop&&m(t).stop(...c),["stop"]))},[M(m(Nr),{class:"h-[0.875rem] w-[0.875rem] text-red-500 hover:text-red-800"})]),i("p",BI,f(m(t).currentTaskTimer.h.toString().padStart(2,"0"))+":"+f(m(t).currentTaskTimer.m.toString().padStart(2,"0"))+":"+f(m(t).currentTaskTimer.s.toString().padStart(2,"0")),1)])):P("",!0)],8,kI))}}),VI={class:"px-2"},HI={class:"block text-sm text-gray-500 group-hover:text-gray-700 ltr:ml-2 rtl:mr-2"},WI={class:"mb-2"},qI={class:"mt-2"},KI=pe({__name:"TaskFormQuick",props:{projectId:{},listId:{},listIndex:{}},setup(s){const e=s,t=R(!1),n=R(!1),o=R(""),r=R(null),a=Qs();function l(){t.value=!0,setTimeout(function(){var u;(u=r.value)==null||u.focus()})}function d(){t.value=!1,o.value=""}function c(){o.value&&(n.value=!0,me.post("tasks",{task:o.value,project_id:e.projectId,list_id:e.listId}).then(u=>{a.data.lists[e.listIndex].tasks.push(u.data),o.value="",t.value=!1,n.value=!1}))}return(u,h)=>(_(),b("div",VI,[V(i("div",{class:"group mb-1.5 flex cursor-pointer items-center rounded py-2 hover:bg-gray-300 ltr:pl-2 rtl:pr-2",onClick:l},[h[1]||(h[1]=i("svg",{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),i("span",HI,f(u.__("Add task")),1)],512),[[Ft,!t.value]]),V(i("div",WI,[V(i("input",{ref_key:"taskinput",ref:r,"onUpdate:modelValue":h[0]||(h[0]=p=>o.value=p),type:"text",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter a task",onKeyup:[Dn(c,["enter"]),Dn(d,["escape"])]},null,544),[[ie,o.value]]),i("div",qI,[M(m(Ve),{size:"xs",processing:n.value,onClick:c},{default:X(()=>[se(f(u.__("Add task")),1)]),_:1},8,["processing"]),M(m(Ve),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:n.value,onClick:d},{default:X(()=>[se(f(u.__("Cancel")),1)]),_:1},8,["disabled"])])],512),[[Ft,t.value]])]))}}),YI={id:"kanban-wrapper",class:"relative flex-1"},GI={id:"container",class:"absolute inset-0 select-none overflow-x-auto overflow-y-hidden whitespace-nowrap text-[0] transition-opacity"},XI=["data-id"],JI={class:"box-border flex max-h-full flex-col whitespace-normal rounded bg-gray-200"},QI=["id","data-id"],ZI={key:0,class:"box-border inline-block h-full w-72 whitespace-nowrap align-top text-base"},ej={class:"text-sm text-gray-700 ltr:ml-2 rtl:mr-2"},tj={class:"box-border max-h-full whitespace-normal rounded bg-gray-200"},sj={class:"py-2.5 px-2"},nj={class:"mt-1 flex"},oj=pe({__name:"TabBoard",setup(s){const e=Qs(),t=R(!1),n=R(""),o=R(null),r=R(!1);Bt(()=>e.data.lists,h=>{},{immediate:!0,deep:!0});function a(){t.value=!0,setTimeout(function(){var h;(h=o.value)==null||h.focus()})}function l(){const h=e.data.lists.length-1;setTimeout(function(){Ze.create(document.getElementById(`list-${h}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(p){me.patch(`tasks/${p.item.getAttribute("data-id")}/sort`,{id:p.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:g})=>{})},onAdd:function(p){const g=p.item.getAttribute("data-id");me.patch(`tasks/${g}/move`,{projectId:e.data.id,fromList:p.from.getAttribute("data-id"),toList:p.to.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:v})=>{})}})})}function d(){t.value=!1,n.value=""}function c(){n.value&&(r.value=!0,me.post("projects/"+e.data.id+"/lists",{name:n.value}).then(h=>{t.value=!1,n.value="",e.data.lists.push(h.data),r.value=!1,l()}))}const u=et("can");return nt(function(){const h=document.querySelector("#kanban-wrapper");if(h.style.height=window.innerHeight-(64+24+48+16+24)+"px",u("task-list:update")){Ze.create(document.getElementById("container"),{draggable:"#section-draggable",onUpdate:function(p){me.patch(`projects/${e.data.id}/list-sort`,{id:p.item.getAttribute("data-id"),oldIndex:p.oldIndex,newIndex:p.newIndex}).then(({data:g})=>{e.data.lists=g})}});for(let p=0;p<e.data.lists.length;p++)Ze.create(document.getElementById(`list-${p}`),{group:"shared",delay:300,delayOnTouchOnly:!0,touchStartThreshold:100,onUpdate:function(g){me.patch(`tasks/${g.item.getAttribute("data-id")}/sort`,{id:g.item.getAttribute("data-id"),projectId:e.data.id,oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:v})=>{})},onAdd:function(g){const v=g.item.getAttribute("data-id");me.patch(`tasks/${v}/move`,{projectId:e.data.id,fromList:g.from.getAttribute("data-id"),toList:g.to.getAttribute("data-id"),oldIndex:g.oldIndex,newIndex:g.newIndex}).then(({data:x})=>{})}})}}),(h,p)=>(_(),b("div",YI,[i("div",GI,[(_(!0),b(ue,null,xe(m(e).data.lists,(g,v)=>(_(),b("section",{id:"section-draggable",key:g.id,"data-id":g.id,class:"box-border inline-block h-full w-72 whitespace-nowrap rounded align-top text-base ltr:mr-4 rtl:ml-4"},[i("div",JI,[M(ME,{id:g.id,name:g.name,index:v},null,8,["id","name","index"]),i("div",{id:"list-"+v,"data-id":g.id,class:"min-h-0 overflow-y-auto px-2"},[(_(!0),b(ue,null,xe(g.tasks,x=>(_(),oe(UI,{key:x.id,task:x},null,8,["task"]))),128))],8,QI),M(KI,{"project-id":g.project_id,"list-id":g.id,"list-index":v},null,8,["project-id","list-id","list-index"])])],8,XI))),128)),m(u)("task-list:create")?(_(),b("section",ZI,[V(i("div",{class:"flex cursor-pointer items-center rounded border-2 border-dashed border-gray-300 px-2 py-1.5 hover:border-gray-400",onClick:a},[p[1]||(p[1]=i("svg",{class:"h-6 w-6 text-gray-600",viewBox:"0 0 21 21",fill:"currentColor"},[i("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{d:"m5.5 10.5h10"}),i("path",{d:"m10.5 5.5v10"})])],-1)),i("span",ej,f(h.__("Add list")),1)],512),[[Ft,!t.value]]),V(i("div",tj,[i("div",sj,[V(i("input",{ref_key:"listinput",ref:o,"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),type:"text",placeholder:"Enter list title...",class:"block w-full rounded-md border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:Dn(c,["enter"])},null,544),[[ie,n.value]]),i("div",nj,[M(m(Ve),{size:"xs",processing:r.value,onClick:c},{default:X(()=>[se(f(h.__("Add list")),1)]),_:1},8,["processing"]),M(m(Ve),{class:"ltr:ml-1 rtl:mr-1",white:"",size:"xs",disabled:r.value,onClick:d},{default:X(()=>[se(f(h.__("Cancel")),1)]),_:1},8,["disabled"])])])],512),[[Ft,t.value]])])):P("",!0)])]))}}),ij={class:"cursor-pointer text-gray-600 hover:text-gray-700"},rj={class:"absolute top-4 z-40 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none ltr:right-0 ltr:origin-bottom-right rtl:left-0 rtl:origin-bottom-left",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},aj={class:"py-1",role:"none"},lj=pe({__name:"DetailMenu",props:{projectId:{},isFavorite:{}},setup(s){const e=s,t=R(e.isFavorite);function n(){jt().add(Qc,{id:e.projectId})}function o(){me.patch("/projects/"+e.projectId+"/favorite").then(({data:a})=>{m0().flash(a.message),mp().items=a.favorites.favorites,t.value=a.favorite})}function r(){me.patch(`projects/${e.projectId}/archive`).then(({data:a})=>{m0().flash(a.message),window.location.href="/"})}return(a,l)=>(_(),oe(m(Ns),{"close-outside":"",class:"inline-block ltr:ml-auto rtl:mr-auto"},{trigger:X(()=>[i("span",ij,[M(m(vE),{class:"h-4 w-4"})])]),content:X(()=>[i("div",rj,[i("div",aj,[i("button",{class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:o},f(t.value?a.__("Remove favorite"):a.__("Add to favorite")),1),a.can("project:update")?(_(),b("button",{key:0,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:We(n,["prevent"])},f(a.__("Edit")),1)):P("",!0),a.can("project:delete")?(_(),b("button",{key:1,class:"w-full px-4 py-1.5 text-left text-sm font-normal leading-5 text-gray-600 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:r},f(a.__("Archive")),1)):P("",!0)])])]),_:1}))}}),dj={class:"pb-8"},cj={class:"text-gray-700"},uj={class:"font-semibold text-gray-700 ltr:ml-2 rtl:mr-2"},fj=["href"],hj={class:"rounded-lg border-b border-gray-200 shadow"},pj={class:"min-w-full divide-y divide-gray-200"},mj={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},gj={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},_j={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},vj={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},yj={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},bj={class:"px-6 py-3 text-xs font-medium uppercase leading-4 tracking-wider text-gray-500 ltr:text-left rtl:text-right"},xj={class:"divide-y divide-gray-200 bg-white"},wj={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},kj=["onClick"],$j={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},Cj={class:"flex items-center"},Sj={class:"ltr:ml-2 rtl:mr-2"},Mj={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},Tj={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},Dj={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},Aj={class:"whitespace-nowrap px-6 py-4 align-top text-sm font-medium text-gray-500"},Ej=pe({__name:"TabTimeLogs",setup(s){const e=Qs(),t=R(!0),n=R("00:00:00");r();function o(a=null){jt().add(eu,{id:a,width:"max-w-3xl"})}function r(){me.get("projects/"+e.data.id+"/total-time").then(({data:a})=>{const l=a,d=new Date(0,0);d.setSeconds(+l),n.value=d.toTimeString().slice(0,8),t.value=!1})}return(a,l)=>(_(),b("div",dj,[i("div",{class:ne(["mt-2 mb-6 flex items-center",{"opacity-50":t.value}])},[i("span",cj,f(a.__("Total logged time"))+":",1),i("span",uj,f(n.value),1),i("a",{href:`/api/projects/${m(e).data.id}/export-time-logs`,class:"inline-flex items-center rounded border border-transparent bg-indigo-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ltr:ml-auto rtl:mr-auto"},f(a.__("Export CSV")),9,fj)],2),M(m(Jh),{name:"timelog",uri:`projects/${m(e).data.id}/time-logs`,"no-search":"","no-filters":""},{default:X(({items:d,index:c})=>[i("div",hj,[i("table",pj,[i("thead",null,[i("tr",null,[i("th",mj,f(a.__("Task")),1),i("th",gj,f(a.__("Assignee")),1),i("th",_j,f(a.__("Start")),1),i("th",vj,f(a.__("Stop")),1),i("th",yj,f(a.__("Time")),1),i("th",bj,f(a.__("Description")),1),l[0]||(l[0]=i("th",{class:"px-6 py-3"},"",-1))])]),i("tbody",xj,[(_(!0),b(ue,null,xe(d,u=>(_(),b("tr",{key:u.id},[i("td",wj,[i("p",{class:"cursor-pointer hover:text-gray-700",onClick:h=>o(u.task_id)},f(u.task.title),9,kj)]),i("td",$j,[i("div",Cj,[M(m(ms),{class:"h-6 w-6",avatar:u.user.avatar},null,8,["avatar"]),i("span",Sj,f(u.user.name),1)])]),i("td",Mj,f(u.started_at),1),i("td",Tj,f(u.stopped_at),1),i("td",Dj,[i("p",null,f(u.time),1),se(" "+f(u.is_manual?"(manual)":""),1)]),i("td",Aj,f(u.description||""),1),l[1]||(l[1]=i("td",{class:"px-6 py-3 text-right"},"",-1))]))),128))])]),M(m(Gs),{class:"rounded-b-lg",index:c},null,8,["index"])])]),_:1},8,["uri"])]))}}),Pj={key:0,class:"mt-8 flex justify-center"},Rj={key:1,class:"flex h-full flex-col"},Oj={class:"flex items-center pb-4"},Ij={class:"flex items-center"},jj={class:"text-2xl font-semibold text-gray-900","data-cy":"page-title"},Lj={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},Fj={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},Nj={class:"flex flex-shrink-0 -space-x-1 ltr:ml-8 rtl:mr-8"},d1=pe({__name:"Detail",setup(s){const e=Qs(),t=$c();$k((r,a)=>{r.params.id!==a.params.id&&e.fetch(r.params.id)});const n=o6("project-detail")();n.tabs([{component:wr(oj),label:"Board"},{component:wr(Ej),label:"Time Logs"}]),Bt(()=>e.fetching,r=>{!r&&e.data.id}),Bt(()=>n.tab,r=>{}),e.fetch(t.params.id);function o(r){jt().add(eu,{id:parseInt(r)})}if(t.params.taskId){const r=t.params.taskId;o(r)}return(r,a)=>m(e).fetching?(_(),b("div",Pj,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",Rj,[i("div",Oj,[i("div",Ij,[i("span",{class:"block h-2.5 w-2.5 rounded-full ltr:mr-3 rtl:ml-3",style:$t({"background-color":m(e).data.meta.color})},null,4),i("h1",jj,f(m(e).data.name),1)]),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-8 rtl:mr-8",{"bg-gray-200 text-gray-800":m(n).active==0}]),onClick:a[0]||(a[0]=l=>m(n).select(0))},[M(m(n$),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",Lj,f(r.__("Board")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-700 ltr:ml-2 rtl:mr-2",{"bg-gray-200 text-gray-800":m(n).active==1}]),onClick:a[1]||(a[1]=l=>m(n).select(1))},[M(m(Oo),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",Fj,f(r.__("Time Logs")),1)],2),i("div",Nj,[(_(!0),b(ue,null,xe(m(e).data.users,l=>(_(),oe(m(ms),{key:l.id,class:"h-6 w-6 max-w-none rounded-full ring-2 ring-white",avatar:l.avatar,"data-cooltipz-dir":"bottom","aria-label":l.name},null,8,["avatar","aria-label"]))),128))]),M(lj,{"project-id":m(e).data.id||0,"is-favorite":m(e).data.is_favorite},null,8,["project-id","is-favorite"])]),(_(),oe(Mo(m(n).tab)))]))}}),zj=[{label:"General",uri:"/settings/general",permission:"setting:general"},{label:"Email",uri:"/settings/email",permission:"setting:email"},{label:"AdSense",uri:"/settings/adsense",permission:"setting:adsense"},{label:"Countries",uri:"/settings/countries",permission:"setting:general"},{label:"User Assignments",uri:"/settings/user-assignments",permission:"setting:general"},{label:"Labels",uri:"/labels",permission:"label:view"},{label:"Roles & Permissions",uri:"/roles",permission:"role:view"}],Bj={class:"topbar flex justify-between"},Uj={class:"mb-4 text-2xl font-semibold text-gray-900"},Vj={class:"flex"},Hj={class:"w-64"},Wj={class:"py-1"},qj=["href","onClick"],Kj={class:"flex-1 ltr:pl-6 rtl:pr-6"},tr=pe({__name:"SettingsLayout",setup(s){const e=et("can");return(t,n)=>{const o=wn("router-link");return _(),b(ue,null,[i("div",Bj,[i("h1",Uj,f(t.__("Settings")),1),i("div",null,[Cs(t.$slots,"topbar")])]),i("div",Vj,[i("div",Hj,[M(m(ui),{class:"overflow-hidden"},{default:X(()=>[i("nav",Wj,[(_(!0),b(ue,null,xe(m(zj),r=>(_(),b(ue,{key:r.label},[!r.permission||m(e)(r.permission)?(_(),oe(o,{key:0,to:r.uri,custom:""},{default:X(({href:a,navigate:l,isActive:d})=>[i("a",{href:a,class:ne(["block px-4 py-2 text-sm",{"bg-gray-100 font-medium text-gray-900":d,"text-gray-700 hover:bg-gray-100 hover:text-gray-900":!d}]),onClick:l},f(t.__(r.label)),11,qj)]),_:2},1032,["to"])):P("",!0)],64))),128))])]),_:1})]),i("div",Kj,[Cs(t.$slots,"default")])])],64)}}}),Yj=pe({__name:"Email",setup(s){const e=cs("setting-email")(),t=fo(),n=pl(),o=Xy();return e.onSuccess(()=>{Fn().success("Settings Saved Successfully!"),location.reload()}),(r,a)=>(_(),oe(tr,null,{default:X(()=>[M(m(Lo),{name:"setting-email",uri:"settings/email",title:r.__("Email"),"save-only":""},{default:X(()=>[M(m(n),{name:"mail_driver",label:r.__("Driver"),"input-class":"max-w-xs",inline:""},null,8,["label"]),M(m(t),{name:"mail_host",label:r.__("Host"),inline:""},null,8,["label"]),M(m(t),{name:"mail_port",label:r.__("Port"),inline:""},null,8,["label"]),M(m(t),{name:"mail_username",label:r.__("Username"),inline:""},null,8,["label"]),M(m(t),{name:"mail_password",label:r.__("Password"),inline:""},null,8,["label"]),M(m(n),{name:"mail_encryption",label:r.__("Encryption"),"input-class":"max-w-xs",inline:""},null,8,["label"]),M(m(o),{name:"mail_verify_peer",label:r.__("Verify Peer"),inline:""},null,8,["label"]),M(m(t),{name:"mail_from_address",label:r.__("From Address"),inline:""},null,8,["label"]),M(m(t),{name:"mail_from_name",label:r.__("From Name"),inline:""},null,8,["label"])]),_:1},8,["title"])]),_:1}))}}),Gj={class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},Xj={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Jj={class:"sm:col-span-2"},Qj={class:"flex"},Zj={key:0,class:"mr-2 flex h-[2.125rem] items-center bg-gray-900 px-4"},eL=["src"],tL={class:"cursor-pointer rounded-md border border-gray-300 bg-white py-2 px-3 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},sL=pe({__name:"FieldLogo",setup(s){const e=cs("setting-general")(),t=200,n=32,o=R(null);o.value=e.data.app_logo?`/${e.data.app_logo}`:null;function r(){o.value=null,e.data.app_logo=null}function a(l){if(!l.target.files.length)return;let d=l.target.files[0],c=l.target,u=new FileReader;u.readAsDataURL(d),u.onload=h=>{let p=new Image;p.src=h.target.result,p.onload=function(){if(p.width>t||p.height>n){alert("you can upload max "+t+" x "+n),c.value=null;return}o.value=h.target.result;const g=new FormData;g.append("logo",d),me.post("logo",g).then(({data:v})=>{e.data.app_logo=v})}}}return(l,d)=>(_(),b("div",Gj,[i("label",Xj,f(l.__("Logo")),1),i("div",Jj,[i("div",Qj,[o.value?(_(),b("span",Zj,[i("img",{class:"block h-8",src:o.value},null,8,eL)])):P("",!0),i("label",tL,[se(f(l.__("Change"))+" ",1),i("input",{type:"file",class:"hidden",accept:"image/*",name:"logo",onChange:a},null,32)]),o.value?(_(),b("button",{key:1,type:"button",class:"ml-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",onClick:r},f(l.__("Remove")),1)):P("",!0)])])]))}}),nL={key:0,class:"grid border-b border-gray-200 py-5 last:border-b-0 sm:grid-cols-3"},oL=pe({__name:"General",setup(s){const e=vt,t=cs("setting-general")(),n=fo(),o=pl();return t.onSuccess(()=>location.reload()),(r,a)=>(_(),oe(tr,null,{default:X(()=>[M(m(Lo),{name:"setting-general",uri:"settings/general",title:"General","save-only":""},{default:X(()=>[M(m(n),{name:"app_name",label:r.__("App Name"),inline:""},null,8,["label"]),M(m(n),{name:"app_url",label:r.__("App URL"),inline:""},null,8,["label"]),M(m(o),{name:"app_locale",label:r.__("Language"),translatable:"","input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),M(m(o),{name:"app_timezone",label:r.__("Timezone"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),M(m(o),{name:"app_direction",label:r.__("Direction"),"input-class":"max-w-lg sm:max-w-xs",inline:""},null,8,["label"]),M(sL),m(e).options.is_standalone_demo?(_(),b("div",nL,[...a[0]||(a[0]=[i("label",{class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},"",-1),i("div",{class:"py-2 text-sm text-red-600 sm:col-span-2"}," Note: Only language and direction will take effect in this demo! ",-1)])])):P("",!0)]),_:1})]),_:1}))}}),iL={class:"space-y-6"},rL={class:"border-t border-gray-200 pt-6"},aL={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},lL={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},dL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},cL={class:"mt-1 sm:col-span-2 sm:mt-0"},uL={key:0,class:"space-y-3"},fL=["disabled"],hL={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},pL={key:1,class:"mr-2 h-5 w-5",viewBox:"0 0 48 48"},mL={class:"text-sm text-gray-500"},gL={key:1,class:"flex items-center space-x-4"},_L={class:"flex items-center space-x-2"},vL={class:"text-sm font-medium text-gray-700"},yL=["disabled"],bL={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},xL={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},wL={class:"mt-1 sm:col-span-2 sm:mt-0"},kL=["disabled"],$L={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},CL={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},SL={key:1,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5"},ML={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},TL={class:"mt-1 sm:col-span-2 sm:mt-0"},DL=["disabled"],AL={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},EL={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},PL={key:2,class:"rounded-md bg-green-50 p-4"},RL={class:"flex"},OL={class:"ml-3"},IL={class:"text-sm font-medium text-green-800"},jL={class:"mt-2 text-sm text-green-700"},LL={class:"rounded-md bg-blue-50 p-4"},FL={class:"flex"},NL={class:"ml-3 flex-1"},zL={class:"mt-2 text-sm text-blue-700"},BL={class:"mb-3 font-medium"},UL={class:"list-decimal list-inside space-y-1 ml-2 mb-4"},VL={class:"mb-3 font-medium"},HL={class:"list-decimal list-inside space-y-1 ml-2"},WL=pe({__name:"AdSense",setup(s){const e=cs("setting-adsense")(),t=fo(),n=R(!1),o=R(!1),r=R(!1),a=R(null),l=R(!1),d=R(null),c=async()=>{var g,v;n.value=!0;try{const y=(await Qe.get("/api/adsense/auth/url")).data.auth_url;window.location.href=y}catch(x){Fn().error(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to initiate Google connection"),n.value=!1}},u=async()=>{var g,v;if(confirm("Are you sure you want to disconnect your Google AdSense account?")){o.value=!0;try{await Qe.post("/api/adsense/disconnect"),Fn().success("AdSense disconnected successfully"),setTimeout(()=>{location.reload()},1e3)}catch(x){Fn().error(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to disconnect AdSense"),o.value=!1}}},h=async()=>{var g,v;r.value=!0,a.value=null;try{const x=await Qe.get("/api/adsense/test-connection");a.value={success:!0,message:x.data.message||"Connection successful!"},Fn().success("AdSense API connection successful!")}catch(x){a.value={success:!1,message:((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.message)||"Connection failed. Please check your credentials."},Fn().error(a.value.message)}finally{r.value=!1}},p=async()=>{var g,v;l.value=!0,d.value=null;try{const x=await Qe.get("/api/adsense/test-analytics-connection");d.value={success:!0,message:x.data.message||"Analytics connection successful!"},Fn().success("Google Analytics API connection successful!")}catch(x){d.value={success:!1,message:((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.message)||"Analytics connection failed. Please check your GA4 Property ID and service account permissions."},Fn().error(d.value.message)}finally{l.value=!1}};return e.onSuccess(()=>{Fn().success("AdSense Settings Saved Successfully!"),setTimeout(()=>{location.reload()},1e3)}),(g,v)=>(_(),oe(tr,null,{default:X(()=>[M(m(Lo),{name:"setting-adsense",uri:"settings/adsense",title:g.__("AdSense Configuration"),"save-only":""},{default:X(()=>[i("div",iL,[M(m(t),{name:"adsense_client_id",label:g.__("OAuth Client ID"),placeholder:"xxxxx.apps.googleusercontent.com",inline:"",required:""},null,8,["label"]),M(m(t),{name:"adsense_client_secret",label:g.__("OAuth Client Secret"),placeholder:"GOCSPX-xxxxx",type:"password",inline:"",required:""},null,8,["label"]),M(m(t),{name:"adsense_account_id",label:g.__("AdSense Account ID"),placeholder:"pub-XXXXXXXXXXXXXXXX",inline:""},null,8,["label"]),i("div",rL,[i("h3",aL,f(g.__("Google Analytics Configuration")),1)]),M(m(t),{name:"ga4_property_id",label:g.__("GA4 Property ID"),placeholder:"123456789",inline:"",help:g.__("Find this in Google Analytics Admin > Property Settings")},null,8,["label","help"]),i("div",lL,[i("label",dL,f(g.__("Google Account")),1),i("div",cL,[m(e).data.adsense_configured?(_(),b("div",gL,[i("div",_L,[v[2]||(v[2]=i("span",{class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-green-100"},[i("svg",{class:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),i("span",vL,f(g.__("Connected")),1)]),i("button",{type:"button",onClick:u,disabled:o.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},f(o.value?g.__("Disconnecting..."):g.__("Disconnect")),9,yL)])):(_(),b("div",uL,[i("button",{type:"button",onClick:c,disabled:n.value,class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(_(),b("svg",hL,[...v[0]||(v[0]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),b("svg",pL,[...v[1]||(v[1]=[i("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"},null,-1),i("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"},null,-1),i("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"},null,-1),i("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"},null,-1)])])),se(" "+f(n.value?g.__("Connecting..."):g.__("Connect with Google")),1)],8,fL),i("p",mL,f(g.__("Click to authorize TaskHub to access your AdSense data")),1)]))])]),m(e).data.adsense_configured?(_(),b("div",bL,[i("label",xL,f(g.__("Test AdSense Connection")),1),i("div",wL,[i("button",{type:"button",onClick:h,disabled:r.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[r.value?(_(),b("svg",$L,[...v[3]||(v[3]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),b("svg",CL,[...v[4]||(v[4]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),se(" "+f(r.value?g.__("Testing..."):g.__("Test AdSense API")),1)],8,kL),a.value?(_(),b("p",{key:0,class:ne(["mt-2 text-sm",a.value.success?"text-green-600":"text-red-600"])},f(a.value.message),3)):P("",!0)])])):P("",!0),m(e).data.ga4_property_id?(_(),b("div",SL,[i("label",ML,f(g.__("Test Analytics Connection")),1),i("div",TL,[i("button",{type:"button",onClick:p,disabled:l.value,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[l.value?(_(),b("svg",AL,[...v[5]||(v[5]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),b("svg",EL,[...v[6]||(v[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h-3a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3m-3-3l-6 6m0 0l6-6m-6 6h6V7"},null,-1)])])),se(" "+f(l.value?g.__("Testing..."):g.__("Test Analytics API")),1)],8,DL),d.value?(_(),b("p",{key:0,class:ne(["mt-2 text-sm",d.value.success?"text-green-600":"text-red-600"])},f(d.value.message),3)):P("",!0)])])):P("",!0),m(e).data.adsense_configured?(_(),b("div",PL,[i("div",RL,[v[7]||(v[7]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),i("div",OL,[i("h3",IL,f(g.__("AdSense is configured")),1),i("div",jL,[i("p",null,f(g.__("Your AdSense integration is active and ready to use.")),1)])])])])):P("",!0),i("div",LL,[i("div",FL,[v[9]||(v[9]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),i("div",NL,[v[8]||(v[8]=i("h3",{class:"text-sm font-medium text-blue-800"},"Setup Instructions",-1)),i("div",zL,[i("p",BL,f(g.__("AdSense Setup:")),1),i("ol",UL,[i("li",null,f(g.__("Create OAuth 2.0 credentials in Google Cloud Console")),1),i("li",null,f(g.__("Add your credentials to the .env file")),1),i("li",null,f(g.__('Click "Connect with Google" to authorize')),1),i("li",null,f(g.__("Enter your AdSense Account ID (e.g., pub-XXXXXXXXXXXXXXXX)")),1)]),i("p",VL,f(g.__("Google Analytics Setup:")),1),i("ol",HL,[i("li",null,f(g.__("Service account credentials are already configured at storage/app/credentials/google-analytics.json")),1),i("li",null,f(g.__("Go to Google Analytics Admin > Property Access Management")),1),i("li",null,f(g.__("Add service account: taskhub-service-account@taskhub-adsense-integration.iam.gserviceaccount.com")),1),i("li",null,f(g.__('Grant "Viewer" role')),1),i("li",null,f(g.__("Enter your GA4 Property ID from Google Analytics Admin > Property Settings")),1)])])])])])])]),_:1},8,["title"])]),_:1}))}}),qL={class:"text-lg font-medium leading-6 text-gray-900"},KL={class:"mt-1 text-sm text-gray-500"},YL={key:1,class:"space-y-6"},GL={key:0,class:"flex items-center justify-between"},XL={class:"text-sm text-gray-700"},JL={class:"font-medium"},QL={class:"font-medium"},ZL={class:"font-medium"},eF={class:"flex items-center gap-2"},tF={class:"text-sm text-gray-600"},sF={class:"mb-6 flex items-center justify-between border-b pb-4"},nF={class:"text-lg font-medium text-gray-900"},oF={class:"text-sm text-gray-500"},iF={class:"flex gap-3"},rF=["onClick"],aF=["onClick"],lF={key:0,class:"space-y-4"},dF={class:"flex items-start justify-between"},cF={class:"flex-1"},uF={class:"flex items-center gap-2"},fF={class:"text-base font-medium text-gray-900"},hF={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},pF={key:0,class:"mt-1 text-xs text-gray-500"},mF={key:0},gF={key:1,class:"mt-3"},_F={class:"space-y-1"},vF=["href"],yF={class:"flex gap-2"},bF=["onClick","title"],xF=["onClick","title"],wF=["onClick","title"],kF={key:1,class:"text-center py-6 text-gray-500"},$F={key:1,class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow"},CF={class:"flex flex-1 justify-between sm:hidden"},SF=["disabled"],MF=["disabled"],TF={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},DF={class:"text-sm text-gray-700"},AF={class:"font-medium"},EF={class:"font-medium"},PF={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},RF=["disabled"],OF={class:"sr-only"},IF=["disabled"],jF={class:"sr-only"},LF={class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300"},FF=["disabled"],NF={class:"sr-only"},zF=["disabled"],BF={class:"sr-only"},UF={class:"space-y-4"},VF={class:"block text-sm font-medium text-gray-700 mb-2"},HF={class:"relative mb-3"},WF=["placeholder"],qF={class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},KF={key:0,class:"space-y-2"},YF=["value"],GF={class:"ml-3 text-sm text-gray-900"},XF={class:"ml-2 text-xs text-gray-500"},JF={key:1,class:"text-center py-4 text-gray-500 text-sm"},QF={key:0,class:"mt-2 text-sm text-gray-600"},ZF={class:"flex justify-end gap-3"},eN=["disabled"],tN={class:"space-y-4"},sN={key:1},nN={class:"text-sm text-gray-600 mb-3"},oN={key:0,class:"relative mb-3"},iN=["placeholder"],rN={key:1,class:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-3"},aN={key:0,class:"space-y-2"},lN=["value"],dN={class:"ml-3 flex-1"},cN={class:"text-sm font-medium text-gray-900"},uN={key:0,class:"text-xs text-gray-500"},fN={key:1,class:"text-center py-4 text-gray-500 text-sm"},hN={key:2,class:"text-center py-6 text-gray-500"},pN={key:3,class:"mt-2 text-sm text-gray-600"},mN={class:"flex justify-end gap-3"},gN=["disabled"],_N={class:"space-y-4"},vN={class:"text-sm text-gray-700 mb-4"},yN={class:"block text-sm font-medium text-gray-700 mb-2"},bN={class:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-md p-3"},xN=["value"],wN={class:"ml-3"},kN={class:"text-sm font-medium text-gray-900"},$N={class:"text-xs text-gray-500"},CN={class:"flex justify-end gap-3 pt-4 border-t"},SN=["disabled"],MN={class:"space-y-4"},TN={class:"text-sm text-gray-600"},DN={class:"grid grid-cols-2 gap-4"},AN={class:"block text-sm font-medium text-gray-700 mb-1"},EN={class:"mt-1 text-xs text-gray-500"},PN={class:"block text-sm font-medium text-gray-700 mb-1"},RN={class:"mt-1 text-xs text-gray-500"},ON={class:"block text-sm font-medium text-gray-700 mb-1"},IN={class:"mt-1 text-xs text-gray-500"},jN={class:"block text-sm font-medium text-gray-700 mb-1"},LN={class:"mt-1 text-xs text-gray-500"},FN={class:"block text-sm font-medium text-gray-700 mb-1"},NN={class:"mt-1 text-xs text-gray-500"},zN={class:"block text-sm font-medium text-gray-700 mb-1"},BN={class:"mt-1 text-xs text-gray-500"},UN={class:"flex justify-end gap-3 pt-4 border-t"},VN=["disabled"],td=pe({name:"Modal",emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var n,o;return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl"},[Ot("h3",{class:"text-lg font-medium text-gray-900 mb-4"},(n=e.title)==null?void 0:n.call(e)),Ot("div",{},(o=e.default)==null?void 0:o.call(e))])])])}}}),HN=pe({__name:"Countries",setup(s){const e=et("__"),t=R(!1),n=R([]),o=R([]),r=R(5),a=R({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),l=R(!1),d=R(null),c=R([]),u=R(!1),h=R(""),p=R(!1),g=R(null),v=R([]),x=R([]),y=R(!1),$=R(!1),w=R(""),S=R(!1),C=R(null),T=R(null),F=R(null),L=R(!1),z=R(!1),j=R(null),E=R(!1),O=R({daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}),I=Pe(()=>{if(!h.value)return o.value;const Re=h.value.toLowerCase();return o.value.filter(re=>re.name.toLowerCase().includes(Re)||re.code.toLowerCase().includes(Re))}),W=Pe(()=>{if(!w.value)return v.value;const Re=w.value.toLowerCase();return v.value.filter(re=>re.name.toLowerCase().includes(Re)||re.website&&re.website.toLowerCase().includes(Re))}),ye=Pe(()=>T.value?n.value.filter(Re=>Re.id!==T.value.id):n.value),ve=async(Re=1)=>{t.value=!0;try{const re=await me.get("settings/countries",{params:{page:Re,per_page:r.value}}),ae=re.data.data||re.data;if(!ae||!ae.users)throw new Error("Invalid response from server");n.value=ae.users||[],o.value=ae.countries||[],ae.pagination&&(a.value=ae.pagination)}catch{alert("Failed to load data. Please check console for details.")}finally{t.value=!1}},_e=Re=>{d.value=Re,c.value=Re.countries.map(re=>re.country_code),h.value="",l.value=!0},Q=()=>{l.value=!1,d.value=null,c.value=[],h.value=""},ee=async()=>{if(c.value.length===0){alert("Please select at least one country");return}u.value=!0;try{const Re=c.value.map(re=>{const ae=o.value.find(N=>N.code===re);return{country_code:re,country_name:(ae==null?void 0:ae.name)||re}});await me.put(`settings/countries/users/${d.value.id}/countries`,{countries:Re}),alert("Countries assigned successfully! User will receive a notification."),await ve(),Q()}catch{alert("Failed to assign countries")}finally{u.value=!1}},q=async(Re,re)=>{d.value=Re,g.value=re,x.value=re.websites.map(ae=>ae.company_id),w.value="",p.value=!0,y.value=!0;try{const ae=await me.get(`settings/countries/companies/${re.country_code}`);v.value=ae.data.data}catch{alert("Failed to load companies")}finally{y.value=!1}},he=()=>{p.value=!1,d.value=null,g.value=null,v.value=[],x.value=[],w.value=""},we=async()=>{$.value=!0;try{const Re=x.value.map(re=>{const ae=v.value.find(N=>N.id===re);return{company_id:re,website_url:(ae==null?void 0:ae.website)||"",company_name:(ae==null?void 0:ae.name)||""}});await me.post(`settings/countries/users/${d.value.id}/countries/${g.value.id}/websites`,{websites:Re}),alert("Websites assigned successfully!"),await ve(),he()}catch{alert("Failed to assign websites")}finally{$.value=!1}},Oe=(Re,re)=>{T.value=Re,C.value=re,F.value=null,S.value=!0},it=()=>{S.value=!1,T.value=null,C.value=null,F.value=null},ft=async()=>{if(!(!F.value||!T.value||!C.value)){L.value=!0;try{const Re=T.value.countries.filter(ae=>ae.country_code!==C.value.country_code).map(ae=>({country_code:ae.country_code,country_name:ae.country_name}));await me.put(`settings/countries/users/${T.value.id}/countries`,{countries:Re});const re=n.value.find(ae=>ae.id===F.value);if(re){const ae=[...re.countries.map(N=>({country_code:N.country_code,country_name:N.country_name})),{country_code:C.value.country_code,country_name:C.value.country_name}];await me.put(`settings/countries/users/${F.value}/countries`,{countries:ae})}alert(`Country "${C.value.country_name}" reassigned successfully!`),await ve(),it()}catch{alert("Failed to reassign country")}finally{L.value=!1}}},le=async(Re,re)=>{if(confirm(`Are you sure you want to unassign "${re.country_name}" from ${Re.name}?`))try{const ae=Re.countries.filter(N=>N.country_code!==re.country_code).map(N=>({country_code:N.country_code,country_name:N.country_name}));await me.put(`settings/countries/users/${Re.id}/countries`,{countries:ae}),alert("Country unassigned successfully!"),await ve()}catch{alert("Failed to unassign country")}},be=async Re=>{j.value=Re,z.value=!0;try{const re=await me.get(`settings/countries/users/${Re.id}/targets`);re.data.data&&(O.value={...re.data.data})}catch{}},$e=()=>{z.value=!1,j.value=null,O.value={daily_impressions_target:2e3,daily_page_views_target:1500,daily_clicks_target:20,min_cpc_target:.1,min_rpm_target:1,daily_earnings_target:20}},je=async()=>{if(j.value){E.value=!0;try{await me.put(`settings/countries/users/${j.value.id}/targets`,O.value),alert("Performance targets updated successfully!"),$e()}catch{alert("Failed to save performance targets")}finally{E.value=!1}}},Je=Re=>new Date(Re).toLocaleDateString();return nt(()=>{ve()}),(Re,re)=>(_(),oe(tr,null,{topbar:X(()=>[i("div",null,[i("h3",qL,f(m(e)("Countries & Websites Management")),1),i("p",KL,f(m(e)("Assign countries and websites to users for marketing and AdSense reporting")),1)])]),default:X(()=>[t.value?(_(),oe(m(Ut),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),b("div",YL,[a.value.total>0?(_(),b("div",GL,[i("p",XL,[se(f(m(e)("Showing"))+" ",1),i("span",JL,f(a.value.from),1),se(" "+f(m(e)("to"))+" ",1),i("span",QL,f(a.value.to),1),se(" "+f(m(e)("of"))+" ",1),i("span",ZL,f(a.value.total),1),se(" "+f(m(e)("users")),1)]),i("div",eF,[i("label",tF,f(m(e)("Per page:")),1),V(i("select",{"onUpdate:modelValue":re[0]||(re[0]=ae=>r.value=ae),onChange:re[1]||(re[1]=ae=>ve(1)),class:"rounded-md border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},[...re[19]||(re[19]=[i("option",{value:5},"5",-1),i("option",{value:10},"10",-1),i("option",{value:25},"25",-1),i("option",{value:50},"50",-1)])],544),[[Ne,r.value]])])])):P("",!0),(_(!0),b(ue,null,xe(n.value,ae=>(_(),b("div",{key:ae.id,class:"rounded-lg bg-white p-6 shadow"},[i("div",sF,[i("div",null,[i("h4",nF,f(ae.name),1),i("p",oF,f(ae.email)+"  "+f(ae.role),1)]),i("div",iF,[i("button",{onClick:N=>be(ae),type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700"},[re[20]||(re[20]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),se(" "+f(m(e)("Set Targets")),1)],8,rF),i("button",{onClick:N=>_e(ae),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[re[21]||(re[21]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),se(" "+f(m(e)("Assign Countries")),1)],8,aF)])]),ae.countries.length>0?(_(),b("div",lF,[(_(!0),b(ue,null,xe(ae.countries,N=>(_(),b("div",{key:N.id,class:"rounded-lg border border-gray-200 p-4"},[i("div",dF,[i("div",cF,[i("div",uF,[i("h5",fF,f(N.country_name),1),i("span",hF,f(N.country_code),1)]),N.assigned_at?(_(),b("p",pF,[se(" Assigned "+f(Je(N.assigned_at))+" ",1),N.assigned_by?(_(),b("span",mF," by "+f(N.assigned_by),1)):P("",!0)])):P("",!0),N.websites.length>0?(_(),b("div",gF,[re[23]||(re[23]=i("p",{class:"text-xs font-medium text-gray-700 mb-2"}," Assigned Websites: ",-1)),i("div",_F,[(_(!0),b(ue,null,xe(N.websites,K=>(_(),b("div",{key:K.id,class:"flex items-center gap-2 text-sm"},[re[22]||(re[22]=i("svg",{class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),i("a",{href:K.website_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-900"},f(K.company_name),9,vF)]))),128))])])):P("",!0)]),i("div",yF,[i("button",{onClick:K=>q(ae,N),class:"text-indigo-600 hover:text-indigo-900 text-sm",title:m(e)("Manage Websites")},[...re[24]||(re[24]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)])],8,bF),i("button",{onClick:K=>Oe(ae,N),class:"text-blue-600 hover:text-blue-900 text-sm",title:m(e)("Reassign to Another User")},[...re[25]||(re[25]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,xF),i("button",{onClick:K=>le(ae,N),class:"text-red-600 hover:text-red-900 text-sm",title:m(e)("Unassign Country")},[...re[26]||(re[26]=[i("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wF)])])]))),128))])):(_(),b("div",kF,f(m(e)("No countries assigned yet")),1))]))),128)),a.value.total>0?(_(),b("div",$F,[i("div",CF,[i("button",{onClick:re[2]||(re[2]=ae=>ve(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},f(m(e)("Previous")),9,SF),i("button",{onClick:re[3]||(re[3]=ae=>ve(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},f(m(e)("Next")),9,MF)]),i("div",TF,[i("div",null,[i("p",DF,[se(f(m(e)("Page"))+" ",1),i("span",AF,f(a.value.current_page),1),se(" "+f(m(e)("of"))+" ",1),i("span",EF,f(a.value.last_page),1)])]),i("div",null,[i("nav",PF,[i("button",{onClick:re[4]||(re[4]=ae=>ve(1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",OF,f(m(e)("First")),1),re[27]||(re[27]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M15.79 14.77a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L11.832 10l3.938 3.71a.75.75 0 01.02 1.06zm-6 0a.75.75 0 01-1.06.02l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 111.04 1.08L5.832 10l3.938 3.71a.75.75 0 01.02 1.06z","clip-rule":"evenodd"})],-1))],8,RF),i("button",{onClick:re[5]||(re[5]=ae=>ve(a.value.current_page-1)),disabled:a.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",jF,f(m(e)("Previous")),1),re[28]||(re[28]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1))],8,IF),i("span",LF,f(a.value.current_page),1),i("button",{onClick:re[6]||(re[6]=ae=>ve(a.value.current_page+1)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",NF,f(m(e)("Next")),1),re[29]||(re[29]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))],8,FF),i("button",{onClick:re[7]||(re[7]=ae=>ve(a.value.last_page)),disabled:a.value.current_page===a.value.last_page,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",BF,f(m(e)("Last")),1),re[30]||(re[30]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M4.21 5.23a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L8.168 10 4.23 6.29a.75.75 0 01-.02-1.06zm6 0a.75.75 0 011.06.02l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.04-1.08L14.168 10l-3.938-3.71a.75.75 0 01-.02-1.06z","clip-rule":"evenodd"})],-1))],8,zF)])])])])):P("",!0)])),l.value?(_(),oe(m(td),{key:2,onClose:Q},{title:X(()=>{var ae;return[se(f(m(e)("Assign Countries to"))+" "+f((ae=d.value)==null?void 0:ae.name),1)]}),default:X(()=>[i("div",UF,[i("div",null,[i("label",VF,f(m(e)("Select Countries")),1),i("div",HF,[re[31]||(re[31]=i("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),V(i("input",{"onUpdate:modelValue":re[8]||(re[8]=ae=>h.value=ae),type:"text",placeholder:m(e)("Search countries..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,WF),[[ie,h.value]])]),i("div",qF,[I.value.length>0?(_(),b("div",KF,[(_(!0),b(ue,null,xe(I.value,ae=>(_(),b("label",{key:ae.code,class:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"},[V(i("input",{"onUpdate:modelValue":re[9]||(re[9]=N=>c.value=N),value:ae.code,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600"},null,8,YF),[[ps,c.value]]),i("span",GF,f(ae.name),1),i("span",XF,"("+f(ae.code)+")",1)]))),128))])):(_(),b("div",JF,f(m(e)("No countries found matching your search")),1))]),c.value.length>0?(_(),b("p",QF,f(c.value.length)+" "+f(c.value.length===1?m(e)("country"):m(e)("countries"))+" selected ",1)):P("",!0)]),i("div",ZF,[i("button",{onClick:Q,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:ee,disabled:u.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},f(u.value?m(e)("Saving..."):m(e)("Save")),9,eN)])])]),_:1})):P("",!0),p.value?(_(),oe(m(td),{key:3,onClose:he},{title:X(()=>{var ae;return[se(f(m(e)("Manage Websites for"))+" "+f((ae=g.value)==null?void 0:ae.country_name),1)]}),default:X(()=>{var ae;return[i("div",tN,[y.value?(_(),oe(m(Ut),{key:0,size:"30",color:"#5850ec",class:"mx-auto"})):(_(),b("div",sN,[i("p",nN,f(m(e)("Select websites/companies from"))+" "+f((ae=g.value)==null?void 0:ae.country_name),1),v.value.length>0?(_(),b("div",oN,[re[32]||(re[32]=i("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),V(i("input",{"onUpdate:modelValue":re[10]||(re[10]=N=>w.value=N),type:"text",placeholder:m(e)("Search companies..."),class:"block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,iN),[[ie,w.value]])])):P("",!0),v.value.length>0?(_(),b("div",rN,[W.value.length>0?(_(),b("div",aN,[(_(!0),b(ue,null,xe(W.value,N=>(_(),b("label",{key:N.id,class:"flex items-start p-2 hover:bg-gray-50 rounded cursor-pointer"},[V(i("input",{"onUpdate:modelValue":re[11]||(re[11]=K=>x.value=K),value:N.id,type:"checkbox",class:"h-4 w-4 mt-0.5 rounded border-gray-300 text-indigo-600"},null,8,lN),[[ps,x.value]]),i("div",dN,[i("div",cN,f(N.name),1),N.website?(_(),b("div",uN,f(N.website),1)):P("",!0)])]))),128))])):(_(),b("div",fN,f(m(e)("No companies found matching your search")),1))])):(_(),b("div",hN,f(m(e)("No companies found with websites for this country")),1)),x.value.length>0?(_(),b("p",pN,f(x.value.length)+" "+f(x.value.length===1?m(e)("company"):m(e)("companies"))+" selected ",1)):P("",!0)])),i("div",mN,[i("button",{onClick:he,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:we,disabled:$.value||y.value,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50"},f($.value?m(e)("Saving..."):m(e)("Save")),9,gN)])])]}),_:1})):P("",!0),S.value?(_(),oe(m(td),{key:4,onClose:it},{title:X(()=>[se(f(m(e)("Reassign Country to Another User")),1)]),default:X(()=>{var ae,N;return[i("div",_N,[i("div",null,[i("p",vN,[se(f(m(e)("Reassigning"))+": ",1),i("strong",null,f((ae=C.value)==null?void 0:ae.country_name),1),se(" "+f(m(e)("from"))+" ",1),i("strong",null,f((N=T.value)==null?void 0:N.name),1)]),i("label",yN,f(m(e)("Select New User")),1),i("div",bN,[(_(!0),b(ue,null,xe(ye.value,K=>(_(),b("label",{key:K.id,class:"flex items-center p-3 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-indigo-200"},[V(i("input",{"onUpdate:modelValue":re[12]||(re[12]=G=>F.value=G),value:K.id,type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600"},null,8,xN),[[no,F.value]]),i("div",wN,[i("div",kN,f(K.name),1),i("div",$N,f(K.email)+"  "+f(K.role),1)])]))),128))])]),i("div",CN,[i("button",{onClick:it,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:ft,disabled:!F.value||L.value,type:"button",class:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50"},f(L.value?m(e)("Reassigning..."):m(e)("Reassign Country")),9,SN)])])]}),_:1})):P("",!0),z.value?(_(),oe(m(td),{key:5,onClose:$e},{title:X(()=>{var ae;return[se(f(m(e)("Set Performance Targets for"))+" "+f((ae=j.value)==null?void 0:ae.name),1)]}),default:X(()=>[i("div",MN,[i("p",TN,f(m(e)("Set daily performance targets to help users focus their marketing efforts on the most profitable countries.")),1),i("div",DN,[i("div",null,[i("label",AN,f(m(e)("Daily Impressions Target")),1),V(i("input",{"onUpdate:modelValue":re[13]||(re[13]=ae=>O.value.daily_impressions_target=ae),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"2000"},null,512),[[ie,O.value.daily_impressions_target,void 0,{number:!0}]]),i("p",EN,f(m(e)("Total ad impressions per day")),1)]),i("div",null,[i("label",PN,f(m(e)("Daily Page Views Target")),1),V(i("input",{"onUpdate:modelValue":re[14]||(re[14]=ae=>O.value.daily_page_views_target=ae),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1500"},null,512),[[ie,O.value.daily_page_views_target,void 0,{number:!0}]]),i("p",RN,f(m(e)("Total page views per day")),1)]),i("div",null,[i("label",ON,f(m(e)("Daily Clicks Target")),1),V(i("input",{"onUpdate:modelValue":re[15]||(re[15]=ae=>O.value.daily_clicks_target=ae),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20"},null,512),[[ie,O.value.daily_clicks_target,void 0,{number:!0}]]),i("p",IN,f(m(e)("Minimum ad clicks per day")),1)]),i("div",null,[i("label",jN,f(m(e)("Minimum CPC Target ($)")),1),V(i("input",{"onUpdate:modelValue":re[16]||(re[16]=ae=>O.value.min_cpc_target=ae),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"0.10"},null,512),[[ie,O.value.min_cpc_target,void 0,{number:!0}]]),i("p",LN,f(m(e)("Minimum cost per click")),1)]),i("div",null,[i("label",FN,f(m(e)("Minimum RPM Target ($)")),1),V(i("input",{"onUpdate:modelValue":re[17]||(re[17]=ae=>O.value.min_rpm_target=ae),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"1.00"},null,512),[[ie,O.value.min_rpm_target,void 0,{number:!0}]]),i("p",NN,f(m(e)("Minimum revenue per thousand")),1)]),i("div",null,[i("label",zN,f(m(e)("Daily Earnings Target ($)")),1),V(i("input",{"onUpdate:modelValue":re[18]||(re[18]=ae=>O.value.daily_earnings_target=ae),type:"number",step:"0.01",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"20.00"},null,512),[[ie,O.value.daily_earnings_target,void 0,{number:!0}]]),i("p",BN,f(m(e)("Total daily earnings target")),1)])]),i("div",UN,[i("button",{onClick:$e,type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:je,disabled:E.value,type:"button",class:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50"},f(E.value?m(e)("Saving..."):m(e)("Save Targets")),9,VN)])])]),_:1})):P("",!0)]),_:1}))}}),WN={class:"text-lg font-medium leading-6 text-gray-900"},qN={class:"mt-1 text-sm text-gray-500"},KN={key:1,class:"space-y-6"},YN={key:0,class:"rounded-lg bg-white p-6 shadow"},GN={class:"text-lg font-medium text-gray-900 mb-4"},XN={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},JN={class:"border-l-4 border-blue-500 pl-4"},QN={class:"text-2xl font-bold text-gray-900"},ZN={class:"text-xs text-gray-500"},ez={class:"border-l-4 border-green-500 pl-4"},tz={class:"text-2xl font-bold text-gray-900"},sz={class:"text-xs text-gray-500"},nz={class:"mb-6 flex items-center justify-between border-b pb-4"},oz={class:"text-lg font-medium text-gray-900"},iz={class:"text-sm text-gray-500"},rz={class:"mt-2 flex gap-2"},az={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},lz={key:1,class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},dz={class:"flex gap-3"},cz=["onClick"],uz=["onClick"],fz=["onClick"],hz={class:"p-6"},pz={class:"text-lg font-medium text-gray-900 mb-4"},mz={class:"text-sm text-gray-600 mb-6"},gz={class:"space-y-4"},_z={class:"flex items-start"},vz={class:"flex items-center h-5"},yz={class:"ml-3"},bz={class:"font-medium text-gray-700"},xz={class:"text-sm text-gray-500"},wz={class:"flex items-start"},kz={class:"flex items-center h-5"},$z={class:"ml-3"},Cz={class:"font-medium text-gray-700"},Sz={class:"text-sm text-gray-500"},Mz={key:0,class:"flex items-start pl-7"},Tz={class:"flex items-center h-5"},Dz={class:"ml-3"},Az={class:"text-sm font-medium text-gray-700"},Ez={class:"text-xs text-gray-500"},Pz={key:1,class:"flex items-start pl-7"},Rz={class:"flex items-center h-5"},Oz={class:"ml-3"},Iz={class:"text-sm font-medium text-gray-700"},jz={class:"text-xs text-gray-500"},Lz={class:"mt-6 flex justify-end gap-3"},Fz={class:"p-6"},Nz={class:"text-lg font-medium text-gray-900 mb-4"},zz={class:"mb-4 flex gap-2"},Bz={class:"mb-4"},Uz={class:"max-h-96 overflow-y-auto border rounded-md"},Vz={key:1,class:"p-8 text-center text-gray-500"},Hz={key:2,class:"divide-y"},Wz={class:"font-medium text-gray-900"},qz={class:"text-sm text-gray-500"},Kz={class:"text-xs text-gray-400"},Yz=["onClick"],Gz={key:1,class:"text-sm"},Xz={class:"text-gray-500"},Jz={class:"font-medium text-gray-900"},Qz={key:0,class:"mt-4 flex justify-between items-center"},Zz=["disabled"],eB={class:"text-sm text-gray-600"},tB=["disabled"],sB={class:"mt-6 flex justify-end"},nB={class:"p-6"},oB={class:"text-lg font-medium text-gray-900 mb-4"},iB={key:1,class:"p-8 text-center text-gray-500"},rB={key:2,class:"space-y-4 max-h-96 overflow-y-auto"},aB={class:"flex items-start justify-between"},lB={class:"flex-1"},dB={class:"flex items-center gap-2"},cB={class:"text-base font-medium text-gray-900"},uB={key:0,class:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},fB={class:"mt-1 text-sm text-gray-600"},hB={class:"mt-1 text-xs text-gray-500"},pB={key:0},mB={key:0,class:"text-xs text-gray-500"},gB={key:1,class:"mt-2 rounded bg-yellow-50 p-2"},_B={class:"text-xs text-gray-700"},vB={class:"flex flex-col gap-2"},yB=["href"],bB=["onClick"],xB=["onClick"],wB={class:"mt-6 flex justify-end"},kB={class:"p-6"},$B={class:"text-lg font-medium text-gray-900 mb-4"},CB={class:"space-y-4"},SB={class:"block text-sm font-medium text-gray-700 mb-2"},MB={class:"flex items-center"},TB={class:"ml-2 text-sm text-gray-700"},DB={class:"mt-6 flex justify-end gap-3"},sd=pe({name:"Modal",props:{open:Boolean,size:{type:String,default:"lg"}},emits:["close"],setup(s,{slots:e,emit:t}){return()=>{var o;if(!s.open)return null;const n=s.size==="xl"?"max-w-4xl":"max-w-2xl";return Ot("div",{class:"fixed inset-0 z-50 overflow-y-auto"},[Ot("div",{class:"flex min-h-screen items-center justify-center px-4"},[Ot("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>t("close")}),Ot("div",{class:`relative w-full ${n} rounded-lg bg-white shadow-xl`},[(o=e.default)==null?void 0:o.call(e)])])])}}}),AB=pe({__name:"UserAssignments",setup(s){const e=et("__"),t=R(!0),n=R([]),o=R(null),r=R(!1),a=R(null),l=R({works_with_job_seekers:!1,works_with_employers:!1,enable_auto_assign_job_seekers:!1,enable_auto_assign_employers:!1}),d=R(!1),c=R("job_seekers"),u=R([]),h=R(!1),p=R(""),g=R({current_page:1,last_page:1,per_page:20,total:0}),v=R(!1),x=R([]),y=R(!1),$=R(!1),w=R(null),S=R({notes:"",contacted:!1});let C=null;nt(async()=>{await T()});const T=async()=>{t.value=!0;try{const q=await me.get("settings/user-assignments/"),he=await me.get("settings/user-assignments/statistics");n.value=q.data.data,o.value=he.data.data}catch{alert("Failed to load user assignments.")}finally{t.value=!1}},F=q=>{var he,we,Oe,it;a.value=q,l.value={works_with_job_seekers:((he=q.focus)==null?void 0:he.works_with_job_seekers)||!1,works_with_employers:((we=q.focus)==null?void 0:we.works_with_employers)||!1,enable_auto_assign_job_seekers:((Oe=q.focus)==null?void 0:Oe.enable_auto_assign_job_seekers)||!1,enable_auto_assign_employers:((it=q.focus)==null?void 0:it.enable_auto_assign_employers)||!1},r.value=!0},L=async()=>{try{await me.put(`settings/user-assignments/users/${a.value.id}/focus`,l.value),alert("User focus updated successfully!"),r.value=!1,await T()}catch{alert("Failed to save user focus")}},z=async q=>{a.value=q,c.value="job_seekers",p.value="",g.value.current_page=1,d.value=!0,await j()},j=async()=>{h.value=!0;try{const q=await me.get("settings/user-assignments/available-users",{params:{type:c.value,page:g.value.current_page,per_page:g.value.per_page,search:p.value}});u.value=q.data.data,g.value=q.data.meta}catch{alert("Failed to load available users")}finally{h.value=!1}},E=()=>{C&&clearTimeout(C),C=setTimeout(()=>{g.value.current_page=1,j()},500)},O=async q=>{var he,we;try{await me.post("settings/user-assignments/assign",{taskhub_user_id:a.value.id,v11_user_id:q.id,v11_user_type:q.user_type}),alert("User assigned successfully!"),await j(),await T()}catch(Oe){alert(((we=(he=Oe.response)==null?void 0:he.data)==null?void 0:we.message)||"Failed to assign user")}},I=async q=>{a.value=q,v.value=!0,y.value=!0;try{const he=await me.get(`settings/user-assignments/users/${q.id}/assignments`);x.value=he.data.data}catch{alert("Failed to load user assignments")}finally{y.value=!1}},W=async q=>{if(confirm("Are you sure you want to unassign this user?"))try{await me.delete(`settings/user-assignments/assignments/${q.id}`),alert("User unassigned successfully!"),await I(a.value),await T()}catch{alert("Failed to unassign user")}},ye=q=>{w.value=q,S.value={notes:q.notes||"",contacted:!1},$.value=!0},ve=async()=>{try{await me.put(`settings/user-assignments/assignments/${w.value.id}/notes`,S.value),alert("Notes saved successfully!"),$.value=!1,await I(a.value)}catch{alert("Failed to save notes")}},_e=()=>{g.value.current_page>1&&(g.value.current_page--,j())},Q=()=>{g.value.current_page<g.value.last_page&&(g.value.current_page++,j())},ee=q=>q?new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Bt(c,()=>{g.value.current_page=1,j()}),(q,he)=>(_(),oe(tr,null,{topbar:X(()=>[i("div",null,[i("h3",WN,f(m(e)("User Assignment Management")),1),i("p",qN,f(m(e)("Assign job seekers and employers from V11 database to TaskHub users")),1)])]),default:X(()=>{var we,Oe,it,ft,le,be,$e,je,Je,Re,re,ae;return[t.value?(_(),oe(m(Ut),{key:0,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):(_(),b("div",KN,[o.value?(_(),b("div",YN,[i("h4",GN,f(m(e)("Assignment Statistics")),1),i("div",XN,[i("div",JN,[he[17]||(he[17]=i("p",{class:"text-sm text-gray-600"},"Job Seekers",-1)),i("p",QN,f(((Oe=(we=o.value)==null?void 0:we.job_seekers)==null?void 0:Oe.assigned)||0)+" / "+f(((ft=(it=o.value)==null?void 0:it.job_seekers)==null?void 0:ft.total)||0),1),i("p",ZN,f(((be=(le=o.value)==null?void 0:le.job_seekers)==null?void 0:be.unassigned)||0)+" unassigned ",1)]),i("div",ez,[he[18]||(he[18]=i("p",{class:"text-sm text-gray-600"},"Employers",-1)),i("p",tz,f(((je=($e=o.value)==null?void 0:$e.employers)==null?void 0:je.assigned)||0)+" / "+f(((Re=(Je=o.value)==null?void 0:Je.employers)==null?void 0:Re.total)||0),1),i("p",sz,f(((ae=(re=o.value)==null?void 0:re.employers)==null?void 0:ae.unassigned)||0)+" unassigned ",1)])])])):P("",!0),(_(!0),b(ue,null,xe(n.value||[],N=>{var K,G;return _(),b("div",{key:N.id,class:"rounded-lg bg-white p-6 shadow"},[i("div",nz,[i("div",null,[i("h4",oz,f(N.name),1),i("p",iz,f(N.email)+"  "+f(N.role),1),i("div",rz,[(K=N.focus)!=null&&K.works_with_job_seekers?(_(),b("span",az," Job Seekers: "+f(N.job_seekers_count),1)):P("",!0),(G=N.focus)!=null&&G.works_with_employers?(_(),b("span",lz," Employers: "+f(N.employers_count),1)):P("",!0)])]),i("div",dz,[i("button",{onClick:J=>F(N),type:"button",class:"inline-flex items-center rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700"},[he[19]||(he[19]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),se(" "+f(m(e)("Configure Focus")),1)],8,cz),i("button",{onClick:J=>z(N),type:"button",class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},[he[20]||(he[20]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),se(" "+f(m(e)("Assign Users")),1)],8,uz),i("button",{onClick:J=>I(N),type:"button",class:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700"},[he[21]||(he[21]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),se(" "+f(m(e)("View Assignments")),1)],8,fz)])])])}),128))])),M(m(sd),{open:r.value,onClose:he[5]||(he[5]=N=>r.value=!1)},{default:X(()=>[i("div",hz,[i("h3",pz,f(m(e)("Configure User Focus")),1),i("p",mz,f(m(e)("Select which types of users this person will work with")),1),i("div",gz,[i("div",_z,[i("div",vz,[V(i("input",{"onUpdate:modelValue":he[0]||(he[0]=N=>l.value.works_with_job_seekers=N),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,l.value.works_with_job_seekers]])]),i("div",yz,[i("label",bz,f(m(e)("Works with Job Seekers")),1),i("p",xz,f(m(e)("This user will be able to work with job seekers")),1)])]),i("div",wz,[i("div",kz,[V(i("input",{"onUpdate:modelValue":he[1]||(he[1]=N=>l.value.works_with_employers=N),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,l.value.works_with_employers]])]),i("div",$z,[i("label",Cz,f(m(e)("Works with Employers")),1),i("p",Sz,f(m(e)("This user will be able to work with employers")),1)])]),l.value.works_with_job_seekers?(_(),b("div",Mz,[i("div",Tz,[V(i("input",{"onUpdate:modelValue":he[2]||(he[2]=N=>l.value.enable_auto_assign_job_seekers=N),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[ps,l.value.enable_auto_assign_job_seekers]])]),i("div",Dz,[i("label",Az,f(m(e)("Enable Auto-Assignment")),1),i("p",Ez,f(m(e)("Automatically assign new job seekers to this user")),1)])])):P("",!0),l.value.works_with_employers?(_(),b("div",Pz,[i("div",Rz,[V(i("input",{"onUpdate:modelValue":he[3]||(he[3]=N=>l.value.enable_auto_assign_employers=N),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"},null,512),[[ps,l.value.enable_auto_assign_employers]])]),i("div",Oz,[i("label",Iz,f(m(e)("Enable Auto-Assignment")),1),i("p",jz,f(m(e)("Automatically assign new employers to this user")),1)])])):P("",!0)]),i("div",Lz,[i("button",{onClick:he[4]||(he[4]=N=>r.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:L,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},f(m(e)("Save Focus")),1)])])]),_:1},8,["open"]),M(m(sd),{open:d.value,onClose:he[10]||(he[10]=N=>d.value=!1),size:"xl"},{default:X(()=>{var N;return[i("div",Fz,[i("h3",Nz,f(m(e)("Assign Users to"))+" "+f((N=a.value)==null?void 0:N.name),1),i("div",zz,[i("button",{onClick:he[6]||(he[6]=K=>c.value="job_seekers"),class:ne(["flex-1 rounded-md px-4 py-2 text-sm font-medium",c.value==="job_seekers"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(m(e)("Job Seekers")),3),i("button",{onClick:he[7]||(he[7]=K=>c.value="employers"),class:ne(["flex-1 rounded-md px-4 py-2 text-sm font-medium",c.value==="employers"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(m(e)("Employers")),3)]),i("div",Bz,[V(i("input",{"onUpdate:modelValue":he[8]||(he[8]=K=>p.value=K),onInput:E,type:"text",placeholder:"Search by name or email...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,544),[[ie,p.value]])]),i("div",Uz,[h.value?(_(),oe(m(Ut),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):u.value.length===0?(_(),b("div",Vz,f(m(e)("No available users found")),1)):(_(),b("div",Hz,[(_(!0),b(ue,null,xe(u.value,K=>(_(),b("div",{key:K.id,class:"p-4 hover:bg-gray-50 flex items-center justify-between"},[i("div",null,[i("p",Wz,f(K.name),1),i("p",qz,f(K.email),1),i("p",Kz,f(m(e)("Registered"))+": "+f(ee(K.created_at)),1)]),i("div",null,[K.is_assigned?(_(),b("div",Gz,[i("span",Xz,f(m(e)("Assigned to"))+":",1),i("span",Jz,f(K.assigned_to.name),1)])):(_(),b("button",{key:0,onClick:G=>O(K),type:"button",class:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700"},f(m(e)("Assign")),9,Yz))])]))),128))]))]),g.value.last_page>1?(_(),b("div",Qz,[i("button",{onClick:_e,disabled:g.value.current_page===1,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},f(m(e)("Previous")),9,Zz),i("span",eB,f(m(e)("Page"))+" "+f(g.value.current_page)+" "+f(m(e)("of"))+" "+f(g.value.last_page),1),i("button",{onClick:Q,disabled:g.value.current_page===g.value.last_page,class:"rounded-md bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-300 disabled:opacity-50"},f(m(e)("Next")),9,tB)])):P("",!0),i("div",sB,[i("button",{onClick:he[9]||(he[9]=K=>d.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Close")),1)])])]}),_:1},8,["open"]),M(m(sd),{open:v.value,onClose:he[12]||(he[12]=N=>v.value=!1),size:"xl"},{default:X(()=>{var N;return[i("div",nB,[i("h3",oB,f(m(e)("Assignments for"))+" "+f((N=a.value)==null?void 0:N.name),1),y.value?(_(),oe(m(Ut),{key:0,size:"30",color:"#5850ec",class:"mx-auto my-8"})):x.value.length===0?(_(),b("div",iB,f(m(e)("No assignments yet")),1)):(_(),b("div",rB,[(_(!0),b(ue,null,xe(x.value,K=>{var G;return _(),b("div",{key:K.id,class:"rounded-lg border border-gray-200 p-4"},[i("div",aB,[i("div",lB,[i("div",dB,[i("h5",cB,f(K.v11_user_name),1),i("span",{class:ne(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",K.v11_user_type===2?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},f(K.user_type_name),3),K.auto_assigned?(_(),b("span",uB,f(m(e)("Auto-assigned")),1)):P("",!0)]),i("p",fB,f(K.v11_user_email),1),i("p",hB,[se(f(m(e)("Assigned"))+": "+f(ee(K.assigned_at))+" ",1),K.assigned_by?(_(),b("span",pB,"  "+f(m(e)("By"))+": "+f(K.assigned_by),1)):P("",!0)]),K.last_contacted_at?(_(),b("p",mB,f(m(e)("Last contacted"))+": "+f(ee(K.last_contacted_at)),1)):P("",!0),K.notes?(_(),b("div",gB,[i("p",_B,f(K.notes),1)])):P("",!0)]),i("div",vB,[K.task_id?(_(),b("a",{key:0,href:`/projects/${(G=K.task)==null?void 0:G.project_id}/tasks/${K.task_id}`,class:"rounded-md bg-indigo-100 px-3 py-1.5 text-sm font-medium text-indigo-700 hover:bg-indigo-200 text-center"},f(m(e)("View Task")),9,yB)):P("",!0),i("button",{onClick:J=>ye(K),type:"button",class:"rounded-md bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-200"},f(m(e)("Add Note")),9,bB),i("button",{onClick:J=>W(K),type:"button",class:"rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-200"},f(m(e)("Unassign")),9,xB)])])])}),128))])),i("div",wB,[i("button",{onClick:he[11]||(he[11]=K=>v.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Close")),1)])])]}),_:1},8,["open"]),M(m(sd),{open:$.value,onClose:he[16]||(he[16]=N=>$.value=!1)},{default:X(()=>[i("div",kB,[i("h3",$B,f(m(e)("Add Contact Note")),1),i("div",CB,[i("div",null,[i("label",SB,f(m(e)("Notes")),1),V(i("textarea",{"onUpdate:modelValue":he[13]||(he[13]=N=>S.value.notes=N),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add notes about your contact with this user..."},null,512),[[ie,S.value.notes]])]),i("div",MB,[V(i("input",{"onUpdate:modelValue":he[14]||(he[14]=N=>S.value.contacted=N),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,S.value.contacted]]),i("label",TB,f(m(e)("Mark as contacted today")),1)])]),i("div",DB,[i("button",{onClick:he[15]||(he[15]=N=>$.value=!1),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},f(m(e)("Cancel")),1),i("button",{onClick:ve,type:"button",class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700"},f(m(e)("Save Note")),1)])])]),_:1},8,["open"])]}),_:1}))}}),EB={class:"space-y-6 p-6"},PB={key:0},RB={class:"mt-4"},OB={key:1,class:"space-y-3"},IB={class:"text-sm font-medium text-gray-700"},jB={class:"w-full bg-gray-200 rounded-full h-2.5"},LB={class:"text-sm text-gray-500"},FB={key:2,class:"space-y-3"},NB={class:"text-sm font-medium text-gray-700"},zB={class:"text-sm text-gray-500"},BB={key:0,class:"border border-gray-200 rounded-lg p-6 space-y-4"},UB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},VB={class:"flex items-start"},HB={class:"flex items-center h-5"},WB={key:0},qB={class:"flex items-start"},KB={class:"flex items-center h-5"},YB={class:"flex items-start"},GB={class:"flex items-center h-5"},XB={class:"flex items-start"},JB={class:"flex items-center h-5"},QB={class:"space-y-2"},ZB={class:"block text-sm font-medium text-gray-700"},eU={class:"space-y-2"},tU={class:"space-y-2"},sU={class:"space-y-2"},nU={key:0,class:"bg-gray-50 rounded-lg p-4"},oU={class:"grid grid-cols-2 gap-4 text-sm"},iU={class:"font-medium"},rU={class:"font-medium"},aU={class:"font-medium"},lU={class:"flex space-x-3"},dU=["disabled"],cU=["disabled"],uU={key:1,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-6"},fU={class:"flex items-center"},hU={class:"font-medium text-yellow-800"},pU={key:2,class:"border border-green-200 bg-green-50 rounded-lg p-6 space-y-4"},mU={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},gU={class:"font-medium"},_U={class:"font-medium"},vU={class:"font-medium text-green-600"},yU={class:"flex space-x-3"},bU=["href"],xU={key:3,class:"border border-red-200 bg-red-50 rounded-lg p-6"},wU={class:"flex items-center"},kU={class:"text-sm text-red-600"},$U={key:4,class:"space-y-4"},CU={class:"space-y-2"},SU={class:"font-medium text-gray-900"},MU={class:"text-sm text-gray-500"},TU={key:0,class:"text-green-600"},DU={class:"flex items-center space-x-2"},AU=["onClick"],EU=["onClick"],PU=pe({__name:"VideoEnhancer",setup(s){const e=Fn(),t=R([]),n=R(null),o=R(null),r=R(!1),a=R(0),l=R(!1),d=R(!1),c=R(!1),u=R(null),h=R(null),p=R({upscale:!1,upscale_resolution:"1920:1080",enhance_quality:!1,noise_reduction:!0,normalize_audio:!0,compression_level:23,preset:"medium",format:"mp4",target_size:null});nt(()=>{g()}),Ys(()=>{h.value&&clearInterval(h.value)});const g=()=>{Qe.get("/api/video-enhancer").then(j=>{t.value=j.data.data;const E=t.value.find(O=>O.status==="pending"||O.status==="processing");E&&(n.value=E,E.status==="processing"&&C())}).catch(()=>{e.error("Failed to load videos")})},v=j=>{var O;l.value=!1;const E=(O=j.dataTransfer)==null?void 0:O.files;E&&E.length>0&&(o.value=E[0])},x=j=>{const E=j.target;E.files&&E.files.length>0&&(o.value=E.files[0])},y=j=>{const E=["B","KB","MB","GB"];let O=j,I=0;for(;O>=1024&&I<E.length-1;)O/=1024,I++;return`${O.toFixed(2)} ${E[I]}`},$=()=>{if(!o.value)return;r.value=!0,a.value=0;const j=new FormData;j.append("video",o.value),Qe.post("/api/video-enhancer/upload",j,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:E=>{a.value=Math.round(E.loaded*100/E.total)}}).then(E=>{e.success("Video uploaded successfully"),n.value=E.data.data,o.value=null,g()}).catch(E=>{var O,I;e.error(((I=(O=E.response)==null?void 0:O.data)==null?void 0:I.message)||"Upload failed")}).finally(()=>{r.value=!1,a.value=0})},w=()=>{n.value&&(d.value=!0,Qe.post(`/api/video-enhancer/${n.value.id}/estimate`,p.value).then(j=>{u.value=j.data.data}).catch(j=>{var E,O;e.error(((O=(E=j.response)==null?void 0:E.data)==null?void 0:O.message)||"Failed to estimate")}).finally(()=>{d.value=!1}))},S=()=>{n.value&&(c.value=!0,Qe.post(`/api/video-enhancer/${n.value.id}/process`,p.value).then(()=>{e.success("Processing started"),n.value&&(n.value.status="processing"),C()}).catch(j=>{var E,O;e.error(((O=(E=j.response)==null?void 0:E.data)==null?void 0:O.message)||"Failed to start processing")}).finally(()=>{c.value=!1}))},C=()=>{h.value&&clearInterval(h.value),h.value=window.setInterval(()=>{n.value&&Qe.get(`/api/video-enhancer/${n.value.id}/status`).then(j=>{const E=j.data.data;n.value&&(n.value.status=E.status,n.value.processed_size=E.processed_size,n.value.processed_size_human=E.processed_size_human,n.value.compression_ratio=E.compression_ratio,n.value.error_message=E.error_message),(E.status==="completed"||E.status==="failed")&&(h.value&&(clearInterval(h.value),h.value=null),g(),E.status==="completed"&&e.success("Video processing completed!"))}).catch(()=>{})},3e3)},T=j=>{window.location.href=`/api/video-enhancer/${j}/download`},F=(j,E)=>{confirm(E?"Delete both original and processed video?":"Delete only the processed video? You can re-process later.")&&(E?L(j):z(j))},L=j=>{Qe.delete(`/api/video-enhancer/${j}`).then(()=>{var E;e.success("Video deleted"),((E=n.value)==null?void 0:E.id)===j&&(n.value=null),g()}).catch(E=>{var O,I;e.error(((I=(O=E.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to delete")})},z=j=>{Qe.delete(`/api/video-enhancer/${j}/processed`).then(()=>{e.success("Processed video deleted"),g()}).catch(E=>{var O,I;e.error(((I=(O=E.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to delete")})};return(j,E)=>(_(),b("div",null,[E[47]||(E[47]=i("div",{class:"mb-6"},[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Video Enhancer"),i("p",{class:"mt-1 text-sm text-gray-500"},"Upload videos to enhance quality, reduce noise, and compress. Max file size: 2GB")],-1)),M(m(ui),null,{default:X(()=>{var O;return[i("div",EB,[i("div",{class:ne(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",{"border-indigo-500 bg-indigo-50":l.value}]),onDragover:E[2]||(E[2]=We(I=>l.value=!0,["prevent"])),onDragleave:E[3]||(E[3]=We(I=>l.value=!1,["prevent"])),onDrop:We(v,["prevent"])},[i("input",{ref:"fileInput",type:"file",accept:"video/*",class:"hidden",onChange:x},null,544),!r.value&&!o.value?(_(),b("div",PB,[E[16]||(E[16]=i("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[i("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),i("div",RB,[i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:E[0]||(E[0]=I=>j.$refs.fileInput.click())}," Select Video ")]),E[17]||(E[17]=i("p",{class:"mt-2 text-sm text-gray-500"},"or drag and drop",-1)),E[18]||(E[18]=i("p",{class:"text-xs text-gray-400 mt-1"},"MP4, MOV, AVI, WebM up to 2GB",-1))])):P("",!0),r.value?(_(),b("div",OB,[i("p",IB,"Uploading: "+f((O=o.value)==null?void 0:O.name),1),i("div",jB,[i("div",{class:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:$t({width:a.value+"%"})},null,4)]),i("p",LB,f(a.value)+"%",1)])):P("",!0),o.value&&!r.value?(_(),b("div",FB,[i("p",NB,f(o.value.name),1),i("p",zB,f(y(o.value.size)),1),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:$}," Upload Video "),i("button",{type:"button",class:"ml-2 text-sm text-gray-500 hover:text-gray-700",onClick:E[1]||(E[1]=I=>o.value=null)}," Cancel ")])):P("",!0)],34),n.value&&n.value.status==="pending"?(_(),b("div",BB,[E[34]||(E[34]=i("h3",{class:"text-md font-medium text-gray-900"},"Enhancement Options",-1)),i("div",UB,[i("div",VB,[i("div",HB,[V(i("input",{id:"upscale","onUpdate:modelValue":E[4]||(E[4]=I=>p.value.upscale=I),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,p.value.upscale]])]),E[19]||(E[19]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"upscale",class:"font-medium text-gray-700"},"Upscale Resolution"),i("p",{class:"text-gray-500"},"Increase video resolution")],-1))]),p.value.upscale?(_(),b("div",WB,[V(i("select",{"onUpdate:modelValue":E[5]||(E[5]=I=>p.value.upscale_resolution=I),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...E[20]||(E[20]=[i("option",{value:"1920:1080"},"1080p (1920x1080)",-1),i("option",{value:"2560:1440"},"2K (2560x1440)",-1),i("option",{value:"3840:2160"},"4K (3840x2160)",-1)])],512),[[Ne,p.value.upscale_resolution]])])):P("",!0),i("div",qB,[i("div",KB,[V(i("input",{id:"enhance_quality","onUpdate:modelValue":E[6]||(E[6]=I=>p.value.enhance_quality=I),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,p.value.enhance_quality]])]),E[21]||(E[21]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"enhance_quality",class:"font-medium text-gray-700"},"Enhance Quality"),i("p",{class:"text-gray-500"},"Sharpen and improve video clarity")],-1))]),i("div",YB,[i("div",GB,[V(i("input",{id:"noise_reduction","onUpdate:modelValue":E[7]||(E[7]=I=>p.value.noise_reduction=I),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,p.value.noise_reduction]])]),E[22]||(E[22]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"noise_reduction",class:"font-medium text-gray-700"},"Audio Noise Reduction"),i("p",{class:"text-gray-500"},"Remove background noise from audio")],-1))]),i("div",XB,[i("div",JB,[V(i("input",{id:"normalize_audio","onUpdate:modelValue":E[8]||(E[8]=I=>p.value.normalize_audio=I),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,p.value.normalize_audio]])]),E[23]||(E[23]=i("div",{class:"ml-3 text-sm"},[i("label",{for:"normalize_audio",class:"font-medium text-gray-700"},"Normalize Audio"),i("p",{class:"text-gray-500"},"Balance audio levels")],-1))])]),i("div",QB,[i("label",ZB,"Compression Level (CRF: "+f(p.value.compression_level)+")",1),V(i("input",{"onUpdate:modelValue":E[9]||(E[9]=I=>p.value.compression_level=I),type:"range",min:"18",max:"35",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[ie,p.value.compression_level]]),E[24]||(E[24]=i("div",{class:"flex justify-between text-xs text-gray-500"},[i("span",null,"Best Quality (larger file)"),i("span",null,"Smaller File (lower quality)")],-1))]),i("div",eU,[E[26]||(E[26]=i("label",{class:"block text-sm font-medium text-gray-700"},"Encoding Speed",-1)),V(i("select",{"onUpdate:modelValue":E[10]||(E[10]=I=>p.value.preset=I),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...E[25]||(E[25]=[i("option",{value:"ultrafast"},"Ultra Fast (lowest quality)",-1),i("option",{value:"fast"},"Fast",-1),i("option",{value:"medium"},"Medium (recommended)",-1),i("option",{value:"slow"},"Slow (better quality)",-1),i("option",{value:"veryslow"},"Very Slow (best quality)",-1)])],512),[[Ne,p.value.preset]])]),i("div",tU,[E[28]||(E[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"Output Format",-1)),V(i("select",{"onUpdate:modelValue":E[11]||(E[11]=I=>p.value.format=I),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...E[27]||(E[27]=[i("option",{value:"mp4"},"MP4 (H.264)",-1),i("option",{value:"webm"},"WebM (VP9)",-1),i("option",{value:"mkv"},"MKV",-1)])],512),[[Ne,p.value.format]])]),i("div",sU,[E[29]||(E[29]=i("label",{class:"block text-sm font-medium text-gray-700"},"Target Size (MB) - Optional",-1)),V(i("input",{"onUpdate:modelValue":E[12]||(E[12]=I=>p.value.target_size=I),type:"number",min:"1",placeholder:"Leave empty for automatic",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,p.value.target_size]])]),u.value?(_(),b("div",nU,[E[33]||(E[33]=i("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Size Estimation",-1)),i("div",oU,[i("div",null,[E[30]||(E[30]=i("p",{class:"text-gray-500"},"Original Size",-1)),i("p",iU,f(u.value.original_size_human),1)]),i("div",null,[E[31]||(E[31]=i("p",{class:"text-gray-500"},"Estimated Output",-1)),i("p",rU,f(u.value.estimated_size_human),1)]),i("div",null,[E[32]||(E[32]=i("p",{class:"text-gray-500"},"Compression Ratio",-1)),i("p",aU,f(u.value.compression_ratio)+"%",1)]),i("div",null,[i("p",{class:ne(u.value.feasible?"text-green-600":"text-red-600")},f(u.value.feasibility_message),3)])])])):P("",!0),i("div",lU,[i("button",{type:"button",disabled:d.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:w},f(d.value?"Calculating...":"Estimate Size"),9,dU),i("button",{type:"button",disabled:c.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",onClick:S},f(c.value?"Starting...":"Start Processing"),9,cU)])])):P("",!0),n.value&&n.value.status==="processing"?(_(),b("div",uU,[i("div",fU,[E[36]||(E[36]=i("svg",{class:"animate-spin h-5 w-5 text-yellow-600 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),i("div",null,[i("p",hU,"Processing: "+f(n.value.original_filename),1),E[35]||(E[35]=i("p",{class:"text-sm text-yellow-600"},"This may take several minutes for large videos...",-1))])])])):P("",!0),n.value&&n.value.status==="completed"?(_(),b("div",pU,[E[41]||(E[41]=i("div",{class:"flex items-center"},[i("svg",{class:"h-5 w-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),i("p",{class:"font-medium text-green-800"},"Processing Complete!")],-1)),i("div",mU,[i("div",null,[E[37]||(E[37]=i("p",{class:"text-gray-500"},"Original",-1)),i("p",gU,f(n.value.original_size_human),1)]),i("div",null,[E[38]||(E[38]=i("p",{class:"text-gray-500"},"Processed",-1)),i("p",_U,f(n.value.processed_size_human),1)]),i("div",null,[E[39]||(E[39]=i("p",{class:"text-gray-500"},"Compression",-1)),i("p",vU,f(n.value.compression_ratio)+"% saved",1)])]),i("div",yU,[i("a",{href:"/api/video-enhancer/"+n.value.id+"/download",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"},[...E[40]||(E[40]=[i("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),se(" Download ",-1)])],8,bU),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:E[13]||(E[13]=I=>F(n.value.id,!1))}," Keep Original, Delete Processed "),i("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",onClick:E[14]||(E[14]=I=>F(n.value.id,!0))}," Delete All ")])])):P("",!0),n.value&&n.value.status==="failed"?(_(),b("div",xU,[i("div",wU,[E[43]||(E[43]=i("svg",{class:"h-5 w-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),i("div",null,[E[42]||(E[42]=i("p",{class:"font-medium text-red-800"},"Processing Failed",-1)),i("p",kU,f(n.value.error_message),1)])]),i("button",{type:"button",class:"mt-3 text-sm text-red-600 hover:text-red-800",onClick:E[15]||(E[15]=I=>L(n.value.id))}," Delete and try again ")])):P("",!0),t.value.length>0?(_(),b("div",$U,[E[46]||(E[46]=i("h3",{class:"text-md font-medium text-gray-900"},"Previous Videos",-1)),i("div",CU,[(_(!0),b(ue,null,xe(t.value,I=>(_(),b("div",{key:I.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[i("div",null,[i("p",SU,f(I.original_filename),1),i("p",MU,[se(f(I.original_size_human)+" ",1),I.status==="completed"?(_(),b("span",TU,"  "+f(I.processed_size_human)+" ("+f(I.compression_ratio)+"% saved) ",1)):P("",!0)])]),i("div",DU,[i("span",{class:ne([{"bg-yellow-100 text-yellow-800":I.status==="pending","bg-blue-100 text-blue-800":I.status==="processing","bg-green-100 text-green-800":I.status==="completed","bg-red-100 text-red-800":I.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},f(I.status),3),I.status==="completed"?(_(),b("button",{key:0,class:"text-indigo-600 hover:text-indigo-800",onClick:W=>T(I.id)},[...E[44]||(E[44]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,AU)):P("",!0),i("button",{class:"text-red-600 hover:text-red-800",onClick:W=>F(I.id,!0)},[...E[45]||(E[45]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,EU)])]))),128))])])):P("",!0)])]}),_:1})]))}}),RU={class:"col-span-12"},OU={class:"mb-4 flex items-center text-sm"},IU={class:"block text-sm font-medium text-gray-700"},pf="role",jU=pe({__name:"Form",props:{id:{}},setup(s){const e=cs(pf)(),t=Ss(pf)(),n=fo(),o=Xy();e.onSuccess(l=>{t.updateOrCreate(l.model),jt().pop()});function r(){e.data.permissions=e.options.permissions.map(l=>l.value)}function a(){e.data.permissions=[]}return(l,d)=>(_(),oe(m(zs),{id:s.id,name:pf,uri:"roles"},{default:X(()=>[M(m(n),{name:"name",label:"Name",class:"col-span-12"}),i("div",RU,[i("div",OU,[i("p",IU,f(l.__("Permissions")),1),i("span",{class:"block cursor-pointer pl-4 text-xs text-gray-700 hover:text-gray-900",onClick:r},f(l.__("Select All")),1),d[0]||(d[0]=i("span",{class:"block px-1 text-xs text-gray-700"},"/",-1)),i("span",{class:"block cursor-pointer text-xs text-gray-700 hover:text-gray-900",onClick:a},f(l.__("Deselect All")),1)]),M(m(o),{name:"permissions",class:"col-span-12"})])]),_:1},8,["id"]))}}),LU={class:"flex flex-col"},FU={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},NU={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},zU={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},BU={class:"min-w-full divide-y divide-gray-200"},UU={class:"divide-y divide-gray-200 bg-white"},VU={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},HU={class:"whitespace-nowrap px-6 py-4 text-center text-sm font-medium text-gray-500"},WU={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},qU=["onClick"],KU=pe({__name:"Index",setup(s){function e(t=null){jt().add(jU,{id:t})}return(t,n)=>(_(),oe(tr,null,{topbar:X(()=>[t.can("role:create")?(_(),oe(m(Ve),{key:0,class:"ml-auto",size:"sm","data-cy":"topbar-create-button",onClick:n[0]||(n[0]=o=>e())},{default:X(()=>[se(f(t.__("Create Role")),1)]),_:1})):P("",!0)]),default:X(()=>[M(m(Jh),{name:"role",uri:"roles","no-filters":"","no-search":""},{default:X(({items:o,index:r})=>[i("div",LU,[i("div",FU,[i("div",NU,[i("div",zU,[i("table",BU,[i("thead",null,[i("tr",null,[M(m(He),{name:"role",index:r,label:t.__("Role")},null,8,["index","label"]),M(m(He),{name:"role",index:r,label:t.__("Permissions"),align:"center"},null,8,["index","label"]),n[1]||(n[1]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",UU,[(_(!0),b(ue,null,xe(o,a=>(_(),b("tr",{key:a.id},[i("td",VU,f(a.name),1),i("td",HU,f(a.permissions_count),1),i("td",WU,[t.can("role:update")?(_(),b("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[M(m(Fr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,qU)):P("",!0),t.can("role:delete")?(_(),oe(m(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),M(m(Gs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),YU={class:"border-b border-gray-200 px-6 py-4"},GU={class:"text-base font-medium leading-6 text-gray-900"},XU={class:"space-y-4 divide-y pb-4"},JU=["onClick"],QU={class:"-mt-1 ltr:pl-4 rtl:pr-4"},ZU=["onClick"],eV={class:"mt-1.5 flex space-x-4 rtl:space-x-reverse"},tV={key:0,class:"flex items-center py-1"},sV={class:"text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},nV=["href","onClick"],oV={class:"truncate text-xs text-gray-500 ltr:ml-2 rtl:mr-2"},iV=["onClick"],rV={class:"ltr:ml-auto rtl:mr-auto"},ra=pe({__name:"TasksList",props:{title:{},tasks:{default:()=>[]}},setup(s){const e=Ss("tasks")(),t=R(null),n=Ur();function o(a){t.value=a,me.patch(`tasks/${a}/complete`).then(()=>{e.fetch()})}function r(a){jt().add(eu,{id:a,page:"tasks"})}return(a,l)=>{const d=wn("router-link");return s.tasks.length?(_(),oe(m(ui),{key:1},{default:X(()=>[i("div",YU,[i("h3",GU,f(a.__(s.title)),1)]),i("div",XU,[(_(!0),b(ue,null,xe(s.tasks,c=>(_(),b("div",{key:c.id,class:"flex items-start px-6 pt-4"},[i("span",{class:ne(["inline-block h-5 w-5 cursor-pointer rounded-full bg-white text-white",{"opacity-50":t.value==c.id,"bg-blue-400":c.completed_at,"border border-gray-300":!c.completed_at}]),onClick:u=>o(c.id)},[...l[1]||(l[1]=[i("svg",{viewBox:"0 0 16 16",fill:"white"},[i("path",{d:"M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"})],-1)])],10,JU),i("div",QU,[i("span",{class:"block cursor-pointer hover:underline",onClick:u=>r(c.id)},f(c.title),9,ZU),i("div",eV,[c.due_at?(_(),b("div",tV,[M(m(ao),{class:"h-4 w-4 text-gray-400"}),i("span",sV,f(c.due_at),1)])):P("",!0),M(d,{custom:"",to:"/projects/"+c.project_id},{default:X(({href:u,navigate:h})=>[i("a",{href:u,class:"flex cursor-pointer items-center text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:h},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:$t({"background-color":c.project.meta.color}),"aria-hidden":"true"},null,4),i("span",oV,f(c.project.name),1)],8,nV)]),_:2},1032,["to"]),c.id==m(n).taskId?(_(),b("span",{key:1,class:"flex cursor-pointer items-center",onClick:l[0]||(l[0]=We((...u)=>m(n).stop&&m(n).stop(...u),["stop"]))},[M(m(Nr),{class:"h-4 w-4 text-red-500 hover:text-red-800"})])):(_(),b("span",{key:2,class:"flex cursor-pointer items-center",onClick:We(u=>m(n).start(c),["stop"])},[M(m(Oc),{class:"h-4 w-4 text-gray-500 hover:text-gray-800"})],8,iV))])]),i("div",rV,[M(m(ms),{user:c.users[0],class:"h-6 w-6"},null,8,["user"])])]))),128))])]),_:1})):(_(),oe(m(Hc),{key:0,"no-create":""}))}}}),aV={class:"mb-4 flex items-center"},lV={class:"text-2xl font-semibold text-gray-900"},dV={class:"flex ltr:ml-auto rtl:mr-auto"},cV={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},uV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},fV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},hV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},pV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},mV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},gV={class:"group relative ltr:ml-2 rtl:mr-2"},_V={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},vV={key:1,class:"group flex cursor-pointer items-center rounded-md px-3 py-2 text-gray-600"},yV={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},bV={class:"absolute top-full hidden group-hover:block ltr:right-0 rtl:left-0"},xV={class:"min-w-[12rem] rounded-md bg-white ring-1 ring-black ring-opacity-5"},wV={class:"py-1",role:"none"},kV=["onClick"],$V={class:"truncate ltr:ml-2.5 rtl:mr-2.5"},CV={key:0,class:"mt-8 flex justify-center"},SV={key:1},MV={key:1,class:"space-y-4"},TV=pe({__name:"Index",setup(s){const e=et("__"),t=Ss("tasks")(),n=R([]),o=R(null),r=R(""),a=R("");t.setConfig({uri:"tasks"}),t.fetch(),l();function l(){me.get("projects/options").then(u=>{n.value=u.data})}function d(u=null){o.value=null,t.params.project=null,t.params.type=u,t.fetch()}function c(u,h,p){o.value=u,r.value=h,a.value=p,t.params.type=null,t.params.project=u,t.fetch()}return(u,h)=>{var p;return _(),b(ue,null,[i("div",aV,[i("h1",lV,f(m(e)("Tasks")),1),i("div",dV,[i("nav",cV,[i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":((p=m(t).params)==null?void 0:p.type)==null&&o.value==null,"text-gray-600":m(t).params.type!=null||o.value!=null}]),onClick:h[0]||(h[0]=g=>d())},[M(m(Vh),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",uV,f(m(e)("Inbox")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":m(t).params.type=="today","text-gray-600":m(t).params.type!="today"}]),onClick:h[1]||(h[1]=g=>d("today"))},[M(m(ao),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",fV,f(m(e)("Today")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":m(t).params.type=="upcoming","text-gray-600":m(t).params.type!="upcoming"}]),onClick:h[2]||(h[2]=g=>d("upcoming"))},[M(m(V4),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",hV,f(m(e)("Upcoming")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":m(t).params.type=="overdue","text-gray-600":m(t).params.type!="overdue"}]),onClick:h[3]||(h[3]=g=>d("overdue"))},[M(m(wv),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",pV,f(m(e)("Overdue")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":m(t).params.type=="completed","text-gray-600":m(t).params.type!="completed"}]),onClick:h[4]||(h[4]=g=>d("completed"))},[M(m(Js),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",mV,f(m(e)("Completed")),1)],2)]),i("div",gV,[o.value?(_(),b("div",{key:0,class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":o.value,"text-gray-600":!o.value}])},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:$t({"background-color":a.value})},null,4),i("span",_V,f(r.value),1)],2)):(_(),b("div",vV,[M(m(Mv),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",yV,f(m(e)("Projects")),1)])),i("div",bV,[h[5]||(h[5]=i("div",{class:"h-1.5"},"",-1)),i("div",xV,[i("div",wV,[(_(!0),b(ue,null,xe(n.value,g=>(_(),b("p",{key:g.id,class:"flex cursor-pointer items-center px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:v=>c(g.id,g.name,g.meta.color)},[i("span",{class:"block h-2.5 w-2.5 flex-shrink-0 rounded-full",style:$t({"background-color":g.meta.color}),"aria-hidden":"true"},null,4),i("span",$V,f(g.name),1)],8,kV))),128)),V(i("p",{class:"flex items-center px-4 py-3 text-sm leading-5 text-gray-600"},f(m(e)("No projects")),513),[[Ft,!n.value.length]])])])])])])]),m(t).fetching?(_(),b("div",CV,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",SV,[Array.isArray(m(t).data)?(_(),oe(m(Hc),{key:0,"no-create":""})):(_(),b("div",MV,[m(t).data.today?(_(),oe(ra,{key:0,title:"Today",tasks:m(t).data.today},null,8,["tasks"])):P("",!0),m(t).data.overdue?(_(),oe(ra,{key:1,title:"Overdue",tasks:m(t).data.overdue},null,8,["tasks"])):P("",!0),m(t).data.upcoming?(_(),oe(ra,{key:2,title:"Upcoming",tasks:m(t).data.upcoming},null,8,["tasks"])):P("",!0),m(t).data["no overdue"]?(_(),oe(ra,{key:3,title:"No Overdue",tasks:m(t).data["no overdue"]},null,8,["tasks"])):P("",!0),m(t).data.completed?(_(),oe(ra,{key:4,title:"Completed",tasks:m(t).data.completed},null,8,["tasks"])):P("",!0)]))]))],64)}}}),mf="user",DV=pe({__name:"Form",props:{id:{}},setup(s){const e=cs(mf)(),t=Ss(mf)(),n=fo(),o=pl();return e.onSuccess(()=>{t.fetch(),jt().pop()}),(r,a)=>(_(),oe(m(zs),{id:s.id,name:mf,uri:"users"},{default:X(()=>[M(m(n),{name:"name",label:"Name",class:"col-span-12"}),M(m(n),{name:"email",label:"Email",class:"col-span-12"}),M(m(n),{name:"password",label:"Password",class:"col-span-12"}),M(m(o),{name:"role",label:"Role",class:"col-span-12"})]),_:1},8,["id"]))}}),AV={key:0,class:"mt-8 flex justify-center"},EV={key:1},PV={class:"mb-6"},RV={class:"relative w-64 rounded-md shadow-sm"},OV={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},IV=["placeholder"],jV={key:0,class:"mb-8"},LV={key:0,class:"ltr:ml-auto rtl:mr-auto"},FV={class:"flex flex-col"},NV={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},zV={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},BV={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},UV={class:"min-w-full divide-y divide-gray-200"},VV={class:"divide-y divide-gray-200 bg-white"},HV={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},WV={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},qV={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},KV={class:"ltr:ml-auto rtl:mr-auto"},YV={class:"flex flex-col"},GV={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},XV={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},JV={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},QV={class:"min-w-full divide-y divide-gray-200"},ZV={class:"divide-y divide-gray-200 bg-white"},eH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},tH={class:"flex"},sH={class:"text-sm ltr:ml-3 rtl:mr-3"},nH={class:"mb-1 block truncate text-sm font-medium leading-none text-gray-900"},oH={class:"block text-sm font-normal text-gray-500"},iH={class:"whitespace-no-wrap px-6 py-4 text-sm font-medium text-gray-500"},rH={class:"whitespace-no-wrap flex items-center justify-end px-6 py-4 text-right text-sm font-medium leading-5"},aH=["onClick"],lH=pe({__name:"Index",setup(s){const e=et("can"),t=et("__"),n=Ss("user")(),o=Ss("invitation")(),r=R(!0);a(),n.setConfig({uri:"users",orderByDirection:"desc"}),n.fetch(),(e("user:view")||e("user:create"))&&(o.setConfig({uri:"invitations",orderByDirection:"desc"}),o.fetch());function a(){setTimeout(function(){if(n.fetching||o.fetching){a();return}l()},150)}function l(){r.value=!1}function d(g=null){jt().add(Qy,{id:g})}function c(g=null){jt().add(DV,{id:g})}function u(){r.value=!0,n.onSearch(),a()}function h(g){var v;return!(!vt.is_super_admin||g.id===((v=vt.user)==null?void 0:v.id))}async function p(g){var v,x;if(confirm(`Are you sure you want to login as ${g.name}?`))try{(await me.post(`impersonate/${g.id}`)).data.success&&(alert(`You are now logged in as ${g.name}`),window.location.href="/")}catch(y){alert(((x=(v=y.response)==null?void 0:v.data)==null?void 0:x.message)||"Failed to impersonate user")}}return(g,v)=>{var x,y;return r.value?(_(),b("div",AV,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",EV,[i("div",PV,[i("div",RV,[i("div",OV,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":v[0]||(v[0]=$=>m(n).params.search=$),type:"search",placeholder:m(t)("Search users..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,IV),[[ie,m(n).params.search]])])]),(y=(x=m(o).data)==null?void 0:x.data)!=null&&y.length?(_(),b("section",jV,[M(m(ec),{title:m(t)("Pending Invitations")},{default:X(()=>[m(e)("user:create")?(_(),b("div",LV,[M(m(Ve),{size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[1]||(v[1]=$=>d())},{default:X(()=>[se(f(m(t)("Invite Team Member")),1)]),_:1})])):P("",!0)]),_:1},8,["title"]),i("div",FV,[i("div",NV,[i("div",zV,[i("div",BV,[i("table",UV,[i("thead",null,[i("tr",null,[M(m(He),{name:"invitation",index:m(o),label:m(t)("Email"),sort:"email"},null,8,["index","label"]),M(m(He),{name:"invitation",index:m(o),label:m(t)("Role")},null,8,["index","label"]),v[3]||(v[3]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",VV,[(_(!0),b(ue,null,xe(m(o).data.data,$=>(_(),b("tr",{key:$.id},[i("td",HV,f($.email),1),i("td",WV,f($.role.name),1),i("td",qV,[m(e)("user:delete")?(_(),oe(m(ls),{key:0,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(w=>m(o).deleteIt($.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),M(m(Gs),{index:m(o)},null,8,["index"])])])])])])):P("",!0),i("section",null,[M(m(ec),{title:m(t)("Team Members")},{default:X(()=>{var $;return[i("div",KV,[m(e)("user:create")&&!(($=m(o).data)!=null&&$.length)?(_(),oe(m(Ve),{key:0,size:"sm","data-cy":"topbar-invitation-create-button",onClick:v[2]||(v[2]=w=>d())},{default:X(()=>[se(f(m(t)("Invite Team Member")),1)]),_:1})):P("",!0),m(e)("user:create")?(_(),oe(m(Ve),{key:1,class:"ltr:ml-2 rtl:mr-2",size:"sm","data-cy":"topbar-create-button",onClick:c},{default:X(()=>[se(f(m(t)("Create Team Member")),1)]),_:1})):P("",!0)])]}),_:1},8,["title"]),i("div",YV,[i("div",GV,[i("div",XV,[i("div",JV,[i("table",QV,[i("thead",null,[i("tr",null,[M(m(He),{name:"user",index:m(n),label:m(t)("Name"),sort:"name"},null,8,["index","label"]),M(m(He),{name:"user",index:m(n),label:m(t)("Role")},null,8,["index","label"]),v[4]||(v[4]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",ZV,[(_(!0),b(ue,null,xe(m(n).data.data,$=>(_(),b("tr",{key:$.id},[i("td",eH,[i("div",tH,[M(m(ms),{class:"h-6 w-6",avatar:$.avatar},null,8,["avatar"]),i("div",sH,[i("span",nH,f($.name),1),i("span",oH,f($.email),1)])])]),i("td",iH,f($.roles[0].name),1),i("td",rH,[h($)?(_(),oe(m(Dv),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",title:m(t)("Login as this user"),onClick:We(w=>p($),["stop"])},null,8,["title","onClick"])):P("",!0),m(e)("user:update")?(_(),b("span",{key:1,class:"ml-2",onClick:w=>c($.id)},[M(m(Fr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,aH)):P("",!0),m(e)("user:delete")?(_(),oe(m(ls),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(w=>m(n).deleteIt($.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),M(m(Gs),{index:m(n)},null,8,["index"])])])])])])]))}}}),c1="label",dH=pe({__name:"Form",props:{id:{}},setup(s){const e=cs(c1)(),t=fo(),n=Ss("label")();return e.onSuccess(o=>{n.updateOrCreate(o.model),jt().pop()}),(o,r)=>(_(),oe(m(zs),{id:s.id,name:c1,uri:"labels"},{default:X(()=>[M(m(t),{name:"name",label:"Name",class:"col-span-12"}),M(Jy,{name:"color"})]),_:1},8,["id"]))}}),cH={class:"flex flex-col"},uH={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},fH={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},hH={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},pH={class:"min-w-full divide-y divide-gray-200"},mH={class:"divide-y divide-gray-200 bg-white"},gH={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-500"},_H={class:"flex items-center"},vH={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},yH=["onClick"],bH=pe({__name:"Index",setup(s){function e(t=null){jt().add(dH,{id:t})}return(t,n)=>(_(),oe(tr,null,{topbar:X(()=>[M(m(Ve),{size:"sm",onClick:e},{default:X(()=>[se(f(t.__("Create Label")),1)]),_:1})]),default:X(()=>[M(m(Jh),{name:"label",uri:"labels","no-filters":"","no-search":""},{default:X(({items:o,index:r})=>[i("div",cH,[i("div",uH,[i("div",fH,[i("div",hH,[i("table",pH,[i("tbody",mH,[(_(!0),b(ue,null,xe(o,a=>(_(),b("tr",{key:a.id},[i("td",gH,[i("div",_H,[M(m(pb),{class:"mr-2 inline-block h-4 w-4",style:$t({color:a.meta.color})},null,8,["style"]),se(" "+f(a.name),1)])]),i("td",vH,[t.can("label:update")?(_(),b("span",{key:0,class:"ml-2",onClick:l=>e(a.id)},[M(m(Fr),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800"})],8,yH)):P("",!0),t.can("label:delete")?(_(),oe(m(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(l=>r.deleteIt(a.id),["prevent"])},null,8,["onClick"])):P("",!0)])]))),128))])]),M(m(Gs),{index:r},null,8,["index"])])])])])]),_:1})]),_:1}))}}),xH={class:"mb-4 flex"},wH={class:"text-2xl font-semibold text-gray-900"},kH={class:"flex items-center ltr:ml-auto rtl:mr-auto"},$H={class:"flex space-x-2 rounded-md","aria-label":"Tabs"},CH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},SH={class:"text-sm font-medium group-hover:text-gray-800 ltr:ml-2 rtl:mr-2"},MH={key:0,class:"mt-8 flex justify-center"},TH={key:1},DH={class:"space-y-4 divide-y pb-6"},AH=["href","onClick"],EH={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},PH={key:1,class:"flex items-center leading-5 text-gray-700"},RH={class:"truncate text-gray-500 ltr:ml-2 rtl:mr-2"},OH={class:"ml-auto flex space-x-3"},IH=pe({__name:"Index",setup(s){const e=et("can"),t=et("__"),n=new URLSearchParams(window.location.search),o=R(!!n.has("archived")),r=Ss("projects")(),a=pp();n.has("archived")?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),r.fetch();function l(h=null){h=="archived"?r.setConfig({uri:"projects?archived"}):r.setConfig({uri:"projects"}),h=="archived"?(o.value=!0,history.replaceState(history.state,"","?archived")):(o.value=!1,history.replaceState(history.state,"","/projects")),r.fetch()}function d(h,p){me.patch(`projects/${h}/archive`).then(()=>{r.data.splice(p,1)})}function c(h,p){me.patch(`projects/${h}/restore`).then(()=>{r.data.splice(p,1)})}function u(h,p){const g=pd();g.confirm({title:"Delete Resource",description:"Are you sure you want to delete this resource?",button:"Delete",danger:!0,onProceed(){const v=Array.isArray(h)?h:[h],x="projects";me.delete(`${x}/null`,{data:{items:v}}).then(()=>{g.hide(),r.data.splice(p,1)}).catch(()=>{g.hide()})}})}return(h,p)=>{const g=wn("RouterLink");return _(),b(ue,null,[i("div",xH,[i("h1",wH,f(m(t)("Projects")),1),i("div",kH,[i("nav",$H,[i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":!o.value,"text-gray-600":o.value}]),onClick:p[0]||(p[0]=v=>l())},[M(m(Mv),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",CH,f(m(t)("Active")),1)],2),i("span",{class:ne(["group flex cursor-pointer items-center rounded-md px-3 py-2",{"bg-gray-200 text-gray-800":o.value,"text-gray-600":!o.value}]),onClick:p[1]||(p[1]=v=>l("archived"))},[M(m(Jm),{class:"h-4 w-4 group-hover:text-gray-800"}),i("span",SH,f(m(t)("Archived")),1)],2)]),m(e)("project:create")?(_(),oe(m(Ve),{key:0,class:"ml-6",size:"sm","data-cy":"topbar-create-button",onClick:We(m(a).create,["stop"])},{default:X(()=>[se(f(m(t)("Create Project")),1)]),_:1},8,["onClick"])):P("",!0)])]),m(r).fetching?(_(),b("div",MH,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",TH,[m(r).data.length?(_(),oe(m(ui),{key:1},{default:X(()=>[i("div",DH,[(_(!0),b(ue,null,xe(m(r).data,(v,x)=>{var y;return _(),b("div",{key:v.id,class:"flex px-6 pt-6"},[o.value?P("",!0):(_(),oe(g,{key:0,custom:"",to:"/projects/"+v.id},{default:X(({href:$,navigate:w})=>{var S;return[i("a",{href:$,class:"flex cursor-pointer items-center leading-5 text-gray-700 transition duration-150 ease-in-out hover:underline",onClick:w},[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:$t({"background-color":((S=v.meta)==null?void 0:S.color)||"#ccc"}),"aria-hidden":"true"},null,4),i("span",EH,f(v.name),1)],8,AH)]}),_:2},1032,["to"])),o.value?(_(),b("p",PH,[i("span",{class:"block h-2 w-2 flex-shrink-0 rounded-full",style:$t({"background-color":((y=v.meta)==null?void 0:y.color)||"#ccc"}),"aria-hidden":"true"},null,4),i("span",RH,f(v.name),1)])):P("",!0),i("div",OH,[V(M(m(Jm),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>d(v.id,x)},null,8,["onClick"]),[[Ft,!o.value&&m(e)("project:delete")]]),V(M(m(F4),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>c(v.id,x)},null,8,["onClick"]),[[Ft,o.value&&m(e)("project:delete")]]),V(M(m(ls),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:$=>u(v.id,x)},null,8,["onClick"]),[[Ft,o.value&&m(e)("project:delete")]])])])}),128))])]),_:1})):(_(),oe(m(Hc),{key:0,"no-create":""}))]))],64)}}}),jH={class:"space-y-6"},LH={class:"flex items-center justify-between border-b border-gray-200 pb-5"},FH={class:"text-3xl font-bold text-gray-900"},NH={key:0,class:"mt-2 flex flex-wrap gap-2"},zH={key:0,class:"text-xs text-gray-600"},BH={key:1,class:"text-xs text-gray-600 ml-4"},UH=["disabled"],VH={key:0,class:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},HH={key:1,class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},WH={key:0,class:"rounded-lg bg-white border-2 border-indigo-200 p-6 shadow-md"},qH={class:"flex items-center justify-between mb-4"},KH={class:"text-lg font-semibold text-gray-900"},YH={class:"text-xs text-gray-500"},GH={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},XH={class:"bg-gray-50 rounded-lg p-4"},JH={class:"flex items-center justify-between mb-2"},QH={class:"text-sm font-medium text-gray-600"},ZH={class:"text-2xl font-bold text-gray-900"},eW={class:"text-xs text-gray-500 mt-1"},tW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},sW={class:"bg-gray-50 rounded-lg p-4"},nW={class:"flex items-center justify-between mb-2"},oW={class:"text-sm font-medium text-gray-600"},iW={class:"text-2xl font-bold text-gray-900"},rW={class:"text-xs text-gray-500 mt-1"},aW={class:"mt-2 w-full bg-gray-200 rounded-full h-2"},lW={class:"bg-gray-50 rounded-lg p-4"},dW={class:"flex items-center justify-between mb-2"},cW={class:"text-sm font-medium text-gray-600"},uW={class:"text-xs text-gray-500 mt-1"},fW={class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},hW={class:"flex items-start"},pW={class:"flex-1"},mW={class:"text-sm font-medium text-blue-900"},gW={class:"text-sm text-blue-700 mt-1"},_W={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mx-1"},vW={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mx-1"},yW={key:1,class:"rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 p-6 shadow-lg"},bW={class:"text-xl font-semibold text-white mb-4"},xW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},wW={class:"flex items-center justify-between mb-3"},kW={class:"flex items-center space-x-2"},$W={class:"text-white font-medium text-sm truncate"},CW={class:"space-y-2"},SW={key:0,class:"flex justify-between items-center"},MW={class:"text-white text-xs opacity-75"},TW={class:"text-white text-lg font-bold"},DW={class:"text-white text-xs opacity-75"},AW={class:"text-white text-sm font-semibold"},EW={class:"text-white text-xs opacity-75"},PW={class:"text-white text-sm font-semibold"},RW={class:"text-white text-xs opacity-75"},OW={class:"text-white text-sm font-semibold"},IW={class:"text-white text-xs opacity-75"},jW={class:"text-white text-sm font-semibold"},LW={key:1,class:"grid grid-cols-1 gap-2 pt-2"},FW={class:"text-white text-xs opacity-75"},NW={class:"text-white text-sm font-semibold"},zW={class:"mt-3 pt-2 border-t border-white border-opacity-20"},BW={class:"text-white text-xs opacity-75 mb-1"},UW={key:0,class:"flex flex-wrap gap-1"},VW=["title"],HW={key:1,class:"flex items-center gap-2"},WW={class:"text-white text-xs opacity-50"},qW={key:2,class:"mt-3 pt-2 border-t border-white border-opacity-20"},KW={class:"text-white text-xs opacity-75 mb-2"},YW={class:"space-y-1.5"},GW={class:"flex items-center gap-1.5 flex-1 min-w-0"},XW={class:"text-sm"},JW={class:"opacity-90 truncate"},QW={class:"flex gap-2 text-[10px] opacity-75 flex-shrink-0"},ZW={class:"whitespace-nowrap"},eq={class:"whitespace-nowrap"},tq={class:"whitespace-nowrap"},sq={key:0,class:"mt-4 pt-4 border-t border-white border-opacity-30"},nq={class:"flex items-center justify-between"},oq={class:"text-white text-sm font-medium opacity-90"},iq={class:"text-white text-2xl font-bold"},rq={class:"rounded-lg bg-white p-4 shadow"},aq={class:"flex items-center space-x-4"},lq={class:"flex-1"},dq={class:"block text-sm font-medium text-gray-700"},cq={class:"flex-1"},uq={class:"block text-sm font-medium text-gray-700"},fq={class:"pt-6"},hq={key:0,class:"mt-3 text-sm text-gray-500"},pq={key:3,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},mq={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},gq={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},_q={class:"text-lg font-semibold text-gray-900"},vq={style:{height:"300px"}},yq={class:"overflow-hidden rounded-lg bg-white p-6 shadow"},bq={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},xq={class:"text-lg font-semibold text-gray-900"},wq={style:{height:"300px"}},kq={key:0,class:"overflow-hidden rounded-lg bg-white p-6 shadow lg:col-span-2"},$q={class:"mb-4 flex items-center justify-between border-b border-gray-100 pb-4"},Cq={class:"text-lg font-semibold text-gray-900"},Sq={style:{height:"400px"}},Mq={key:4,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Tq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Dq={class:"truncate text-sm font-medium text-gray-500"},Aq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Eq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Pq={class:"truncate text-sm font-medium text-gray-500"},Rq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Oq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Iq={class:"truncate text-sm font-medium text-gray-500"},jq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Lq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Fq={class:"truncate text-sm font-medium text-gray-500"},Nq={class:"mt-1 text-3xl font-semibold tracking-tight text-indigo-600"},zq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Bq={class:"truncate text-sm font-medium text-gray-500"},Uq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Vq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Hq={class:"truncate text-sm font-medium text-gray-500"},Wq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},qq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Kq={class:"truncate text-sm font-medium text-gray-500"},Yq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Gq={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},Xq={class:"truncate text-sm font-medium text-gray-500"},Jq={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Qq={key:5,class:"overflow-hidden rounded-lg bg-white shadow"},Zq={class:"flex items-center justify-between"},eK={class:"text-md font-medium text-gray-900"},tK={class:"mt-1 text-sm text-gray-500"},sK={class:"overflow-x-auto"},nK={class:"min-w-full divide-y divide-gray-200"},oK={class:"bg-gray-50"},iK={class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},rK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},aK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},lK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},dK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},cK={class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},uK={class:"divide-y divide-gray-200 bg-white"},fK={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},hK={class:"flex items-center"},pK={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},mK={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},gK={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},_K={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},vK={class:"whitespace-nowrap px-6 py-4 text-right text-sm text-gray-900"},yK={key:6,class:"overflow-hidden rounded-lg bg-white shadow"},bK={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},xK={class:"flex items-center justify-between"},wK={class:"text-lg font-medium leading-6 text-gray-900"},kK={class:"flex items-center space-x-4"},$K={class:"relative"},CK=["placeholder"],SK={class:"overflow-x-auto"},MK={class:"min-w-full divide-y divide-gray-200"},TK={class:"bg-gray-50"},DK={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},AK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},EK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},PK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},RK={scope:"col",class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500"},OK={class:"divide-y divide-gray-200 bg-white"},IK={class:"whitespace-nowrap px-6 py-4"},jK={class:"flex items-center justify-between"},LK={class:"flex items-center"},FK={class:"text-2xl mr-2"},NK={class:"text-sm font-medium text-gray-900"},zK={key:0,class:"mt-2"},BK={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},UK={class:"w-full bg-gray-200 rounded-full h-1.5"},VK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},HK={class:"text-gray-900"},WK={key:0,class:"text-xs text-gray-500 mt-1"},qK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},KK={class:"text-gray-900"},YK={key:0,class:"text-xs text-gray-500 mt-1"},GK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},XK={class:"text-gray-900"},JK={key:0,class:"text-xs text-gray-500 mt-1"},QK={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},ZK={key:0,class:"text-xs text-gray-500 mt-1"},eY={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},tY={class:"flex items-center justify-between"},sY={class:"flex flex-1 justify-between sm:hidden"},nY=["disabled"],oY=["disabled"],iY={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},rY={class:"text-sm text-gray-700"},aY={class:"font-medium"},lY={class:"font-medium"},dY={class:"font-medium"},cY={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},uY=["disabled"],fY={class:"sr-only"},hY=["onClick"],pY=["disabled"],mY={class:"sr-only"},gY={key:7,class:"rounded-lg bg-white p-12 text-center shadow"},_Y={class:"mt-2 text-sm font-medium text-gray-900"},vY={class:"mt-1 text-sm text-gray-500"},yY={class:"mt-6"},bY=pe({__name:"AdSenseReports",setup(s){const e=et("__"),t=R(!1),n=R(!1),o=R([]),r=R([]),a=R(null),l=R(null),d=R([]),c=R(null),u=R([]),h=R(null),p=R(0),g=R(!1),v=R(null),x=Pe(()=>{if(!c.value||!c.value.countries)return[];const G=[];return c.value.countries.forEach(J=>{J.websites&&Array.isArray(J.websites)&&J.websites.forEach(Z=>{G.push({...Z,country_code:J.country_code,country_name:J.country_name})})}),G}),y=(G,J)=>{if(!J||J===0)return"none";const Z=G/J*100;return Z>=100?"excellent":Z>=70?"good":"poor"},$=(G,J)=>!J||J===0?0:Math.min(G/J*100,100),w=G=>{switch(G){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=G=>{switch(G){case"excellent":return" On Target";case"good":return" Close";case"poor":return" Below Target";default:return"No Target"}},C=R(!0),T=R(!0),F=R({current_page:1,per_page:10,last_page:1,total_countries:0,from:0,to:0}),L=R(10),z=R("");let j=null;const E=new Date,O=new Date(E);O.setDate(O.getDate()-7);const I=R(O.toISOString().split("T")[0]),W=R(E.toISOString().split("T")[0]),ye=G=>G?new Intl.NumberFormat("en-US").format(G):"0",ve=G=>G?G>=1e6?(G/1e6).toFixed(1)+"M":G>=1e3?(G/1e3).toFixed(1)+"K":G.toString():"0",_e=G=>G?parseFloat(G).toFixed(2):"0.00",Q=G=>G?parseFloat(G).toFixed(2):"0.00",ee=G=>G?new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",q=G=>{if(!G||G==="XX")return"";const J=G.toUpperCase().split("").map(Z=>127397+Z.charCodeAt(0));return String.fromCodePoint(...J)},he=G=>{const J=G.toLowerCase();return J.includes("google")?"":J.includes("bing")?"":J.includes("yahoo")?"":J.includes("facebook")?"":J.includes("twitter")||J.includes("x.com")?"":J.includes("linkedin")?"":J.includes("instagram")?"":J.includes("pinterest")?"":J.includes("reddit")?"":J.includes("social")?"":J.includes("referral")?"":J.includes("direct")?"":J.includes("email")?"":J.includes("paid")?"":""},we=Pe(()=>d.value.map(G=>new Date(G.report_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),Oe=Pe(()=>d.value.map(G=>({x:G.report_date,y:parseFloat(G.total_earnings||0)}))),it=Pe(()=>[{label:"Impressions",data:d.value.map(G=>parseInt(G.total_impressions||0)),backgroundColor:"rgba(99, 102, 241, 0.8)",borderColor:"#6366F1",borderWidth:1},{label:"Clicks",data:d.value.map(G=>parseInt(G.total_clicks||0)),backgroundColor:"rgba(236, 72, 153, 0.8)",borderColor:"#EC4899",borderWidth:1}]),ft=Pe(()=>o.value.slice(0,10).map(G=>G.country_name||G.country_code)),le=Pe(()=>o.value.slice(0,10).map(G=>parseFloat(G.total_earnings||0))),be=Pe(()=>{const G=[],J=F.value.current_page,Z=F.value.last_page;G.push(1);for(let ce=Math.max(2,J-1);ce<=Math.min(Z-1,J+1);ce++)G.push(ce);return Z>1&&G.push(Z),[...new Set(G)].sort((ce,Se)=>ce-Se)}),$e=G=>{G>=1&&G<=F.value.last_page&&(F.value.current_page=G,Re())},je=()=>{clearTimeout(j),j=setTimeout(()=>{F.value.current_page=1,Re()},500)},Je=async()=>{try{const G=new Date().toISOString().split("T")[0];h.value=G;const J=await Qe.get("/api/adsense/reports/by-website",{params:{start_date:G,end_date:G}});if(J.data.data&&J.data.data.length>0){u.value=J.data.data;try{const Z=await Qe.get("/api/adsense/reports",{params:{start_date:G,end_date:G}});if(Z.data.data){const ce=Z.data.data;u.value=u.value.map(Se=>{const Me=ce.filter(Ce=>Ce.domain===Se.domain).sort((Ce,ke)=>ke.impressions-Ce.impressions).slice(0,5);return{...Se,topCountries:Me}})}}catch{}try{const Z=await Qe.get("/api/adsense/traffic-sources",{params:{start_date:G,end_date:G}});if(Z.data.success&&Z.data.data){const ce=Z.data.data;u.value=u.value.map(Se=>{const Me=ce[Se.domain]||[];return{...Se,trafficSources:Me.slice(0,5)}})}}catch{}p.value=u.value.reduce((Z,ce)=>Z+parseFloat(ce.total_earnings||0),0)}else u.value=[],p.value=0}catch{u.value=[],p.value=0}},Re=async()=>{t.value=!0;try{const[G,J,Z,ce]=await Promise.all([Qe.get("/api/adsense/reports/summary",{params:{start_date:I.value,end_date:W.value}}),Qe.get("/api/adsense/reports/by-country",{params:{start_date:I.value,end_date:W.value,search:z.value,per_page:L.value,page:F.value.current_page}}),Qe.get("/api/adsense/reports/by-website",{params:{start_date:I.value,end_date:W.value}}),Qe.get("/api/adsense/reports/daily-trend",{params:{start_date:I.value,end_date:W.value}})]);a.value=G.data.data,o.value=J.data.data,r.value=Z.data.data,d.value=ce.data.data,J.data.meta&&(F.value={current_page:J.data.meta.current_page,per_page:J.data.meta.per_page,last_page:J.data.meta.last_page,total_countries:J.data.meta.total_countries,from:J.data.meta.from||0,to:J.data.meta.to||0}),await Je()}catch{}finally{t.value=!1}},re=async()=>{try{const G=await Qe.get("/api/adsense/reports/latest-date");l.value=G.data.data.latest_report_date}catch{}},ae=async()=>{try{const G=await Qe.get("/api/adsense/user-assignments");c.value=G.data.data,v.value=G.data.data.targets,await N()}catch{}},N=async()=>{try{const J=(await Qe.get("/api/user")).data;J&&J.roles&&(g.value=J.roles.some(Z=>Z.name==="Admin"))}catch{g.value=!1}},K=async()=>{n.value=!0;try{await Qe.post("/api/adsense/sync",{start_date:I.value,end_date:W.value}),await Re(),await re()}catch{alert("Failed to sync data. Please check your AdSense API configuration.")}finally{n.value=!1}};return nt(async()=>{await ae(),await re(),await Re()}),(G,J)=>(_(),b("div",jH,[i("div",LH,[i("div",null,[i("h1",FH,f(m(e)("AdSense Reports")),1),J[10]||(J[10]=i("p",{class:"mt-1 text-sm text-gray-500"}," View your AdSense performance metrics by country ",-1)),c.value&&c.value.has_assignments?(_(),b("div",NH,[c.value.countries.length>0?(_(),b("span",zH,[i("strong",null,f(m(e)("Your Countries"))+":",1),(_(!0),b(ue,null,xe(c.value.countries,(Z,ce)=>(_(),b("span",{key:Z.country_code},f(q(Z.country_code))+" "+f(Z.country_name)+f(ce<c.value.countries.length-1?", ":""),1))),128))])):P("",!0),x.value.length>0?(_(),b("span",BH,[i("strong",null,f(m(e)("Your Websites"))+":",1),(_(!0),b(ue,null,xe(x.value,(Z,ce)=>(_(),b("span",{key:Z.id},f(Z.website_url)+f(ce<x.value.length-1?", ":""),1))),128))])):P("",!0)])):P("",!0)]),i("button",{onClick:K,disabled:n.value,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50"},[n.value?(_(),b("svg",VH,[...J[11]||(J[11]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(_(),b("svg",HH,[...J[12]||(J[12]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),se(" "+f(n.value?m(e)("Syncing..."):m(e)("Sync Data")),1)],8,UH)]),v.value&&a.value?(_(),b("div",WH,[i("div",qH,[i("h3",KH,"  "+f(m(e)("Your Performance vs Targets")),1),i("span",YH,f(m(e)("For selected date range")),1)]),i("div",GH,[i("div",XH,[i("div",JH,[i("span",QH,f(m(e)("Impressions")),1),i("span",{class:ne([w(y(a.value.total_impressions,v.value.daily_impressions_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},f(Math.round($(a.value.total_impressions,v.value.daily_impressions_target)))+"% ",3)]),i("div",ZH,f(ve(a.value.total_impressions)),1),i("div",eW,"Target: "+f(ve(v.value.daily_impressions_target))+"/day",1),i("div",tW,[i("div",{class:ne([{"bg-green-500":y(a.value.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":y(a.value.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":y(a.value.total_impressions,v.value.daily_impressions_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:$t({width:$(a.value.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])]),i("div",sW,[i("div",nW,[i("span",oW,f(m(e)("Clicks")),1),i("span",{class:ne([w(y(a.value.total_clicks,v.value.daily_clicks_target)),"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},f(Math.round($(a.value.total_clicks,v.value.daily_clicks_target)))+"% ",3)]),i("div",iW,f(ve(a.value.total_clicks)),1),i("div",rW,"Target: "+f(ve(v.value.daily_clicks_target))+"/day",1),i("div",aW,[i("div",{class:ne([{"bg-green-500":y(a.value.total_clicks,v.value.daily_clicks_target)==="excellent","bg-yellow-500":y(a.value.total_clicks,v.value.daily_clicks_target)==="good","bg-red-500":y(a.value.total_clicks,v.value.daily_clicks_target)==="poor"},"h-2 rounded-full transition-all duration-500"]),style:$t({width:$(a.value.total_clicks,v.value.daily_clicks_target)+"%"})},null,6)])]),i("div",lW,[i("div",dW,[i("span",cW,f(m(e)("Average CPC")),1),i("span",{class:ne([{"bg-green-100 text-green-800":a.value.avg_cpc>=v.value.min_cpc_target,"bg-red-100 text-red-800":a.value.avg_cpc<v.value.min_cpc_target},"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"])},f(a.value.avg_cpc>=v.value.min_cpc_target?" Good":" Low"),3)]),i("div",{class:ne([{"text-green-600":a.value.avg_cpc>=v.value.min_cpc_target,"text-red-600":a.value.avg_cpc<v.value.min_cpc_target},"text-2xl font-bold"])}," $"+f(_e(a.value.avg_cpc)),3),i("div",uW,"Min Target: $"+f(_e(v.value.min_cpc_target)),1)])]),i("div",fW,[i("div",hW,[J[13]||(J[13]=i("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("div",pW,[i("p",mW,f(m(e)("Marketing Focus Tip")),1),i("p",gW,[se(f(m(e)("Check the country performance table below. Countries marked in"))+" ",1),i("span",_W,f(m(e)("red")),1),se(" "+f(m(e)("need more marketing effort, while"))+" ",1),i("span",vW,f(m(e)("green")),1),se(" "+f(m(e)("countries are performing well.")),1)])])])])])):P("",!0),!t.value&&u.value&&u.value.length>0?(_(),b("div",yW,[i("div",null,[i("h3",bW,f(m(e)("Today's Performance"))+" ("+f(ee(h.value))+") ",1),i("div",xW,[(_(!0),b(ue,null,xe(u.value,Z=>(_(),b("div",{key:Z.domain,class:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all"},[i("div",wW,[i("div",kW,[J[14]||(J[14]=i("svg",{class:"h-5 w-5 text-white opacity-75",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),i("h4",$W,f(Z.domain),1)])]),i("div",CW,[g.value?(_(),b("div",SW,[i("span",MW,f(m(e)("Earnings")),1),i("span",TW,"$"+f(_e(Z.total_earnings)),1)])):P("",!0),i("div",{class:ne(g.value?"grid grid-cols-4 gap-2 pt-2 border-t border-white border-opacity-20":"grid grid-cols-4 gap-2")},[i("div",null,[i("p",DW,f(m(e)("Page Views")),1),i("p",AW,f(ve(Z.total_page_views)),1)]),i("div",null,[i("p",EW,f(m(e)("Impr")),1),i("p",PW,f(ve(Z.total_impressions)),1)]),i("div",null,[i("p",RW,f(m(e)("Clicks")),1),i("p",OW,f(ve(Z.total_clicks)),1)]),i("div",null,[i("p",IW,f(m(e)("CPC")),1),i("p",jW,"$"+f(_e(Z.avg_cpc)),1)])],2),g.value?(_(),b("div",LW,[i("div",null,[i("p",FW,f(m(e)("RPM")),1),i("p",NW,"$"+f(_e(Z.avg_page_rpm)),1)])])):P("",!0),i("div",zW,[i("p",BW,f(m(e)("Traffic Sources")),1),Z.trafficSources&&Z.trafficSources.length>0?(_(),b("div",UW,[(_(!0),b(ue,null,xe(Z.trafficSources,ce=>(_(),b("span",{key:ce.source+ce.medium,class:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white bg-opacity-20 text-white",title:ye(ce.sessions)+" sessions, "+ye(ce.page_views)+" page views"},f(he(ce.source))+" "+f(ce.source),9,VW))),128))])):(_(),b("div",HW,[J[15]||(J[15]=i("svg",{class:"h-4 w-4 text-white opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",WW,f(m(e)("No traffic data available. Grant service account access in GA4.")),1)]))]),Z.topCountries&&Z.topCountries.length>0?(_(),b("div",qW,[i("p",KW,f(m(e)("Top 5 Countries")),1),i("div",YW,[(_(!0),b(ue,null,xe(Z.topCountries,ce=>(_(),b("div",{key:ce.country_code,class:"flex items-center justify-between text-white text-xs"},[i("div",GW,[i("span",XW,f(q(ce.country_code)),1),i("span",JW,f(ce.country_name),1)]),i("div",QW,[i("span",ZW,f(ve(ce.page_views))+" Views",1),i("span",eq,f(ve(ce.impressions))+" Impr",1),i("span",tq,f(ve(ce.clicks))+" Clicks",1)])]))),128))])])):P("",!0)])]))),128))]),g.value&&u.value.length>1?(_(),b("div",sq,[i("div",nq,[i("span",oq,f(m(e)("Total Earnings Today")),1),i("span",iq,"$"+f(_e(p.value)),1)])])):P("",!0)])])):P("",!0),i("div",rq,[i("div",aq,[i("div",lq,[i("label",dq,f(m(e)("Start Date")),1),V(i("input",{"onUpdate:modelValue":J[0]||(J[0]=Z=>I.value=Z),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Re},null,544),[[ie,I.value]])]),i("div",cq,[i("label",uq,f(m(e)("End Date")),1),V(i("input",{"onUpdate:modelValue":J[1]||(J[1]=Z=>W.value=Z),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:Re},null,544),[[ie,W.value]])]),i("div",fq,[i("button",{onClick:Re,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},f(m(e)("Apply")),1)])]),l.value?(_(),b("div",hq,f(m(e)("Latest available data: "))+" "+f(l.value),1)):P("",!0)]),t.value?(_(),oe(m(Ut),{key:2,size:"40",color:"#5850ec",class:"mx-auto mt-8"})):P("",!0),!t.value&&d.value.length>0?(_(),b("div",pq,[i("div",mq,[i("div",gq,[i("div",null,[i("h3",_q,f(m(e)("Earnings Trend")),1),J[16]||(J[16]=i("p",{class:"mt-1 text-xs text-gray-500"}," Daily earnings over selected period ",-1))])]),i("div",vq,[M(m(sh),{id:"earnings-chart",data:Oe.value,"tooltip-label":"Earnings ($)","background-color":"rgba(99, 102, 241, 0.1)","border-color":"#6366F1"},null,8,["data"])])]),i("div",yq,[i("div",bq,[i("div",null,[i("h3",xq,f(m(e)("Impressions & Clicks")),1),J[17]||(J[17]=i("p",{class:"mt-1 text-xs text-gray-500"}," Daily performance comparison ",-1))])]),i("div",wq,[M(m(tM),{id:"impressions-clicks-chart",data:it.value,labels:we.value},null,8,["data","labels"])])]),o.value.length>0?(_(),b("div",kq,[i("div",$q,[i("div",null,[i("h3",Cq,f(m(e)("Top 10 Countries by Earnings")),1),J[18]||(J[18]=i("p",{class:"mt-1 text-xs text-gray-500"}," Revenue distribution by country ",-1))])]),i("div",Sq,[M(m(nM),{id:"countries-chart",data:le.value,labels:ft.value},null,8,["data","labels"])])])):P("",!0)])):a.value?(_(),b("div",Mq,[i("div",Tq,[i("dt",Dq,f(m(e)("Total Impressions")),1),i("dd",Aq,f(ye(a.value.total_impressions)),1)]),i("div",Eq,[i("dt",Pq,f(m(e)("Total Clicks")),1),i("dd",Rq,f(ye(a.value.total_clicks)),1)]),i("div",Oq,[i("dt",Iq,f(m(e)("Page Views")),1),i("dd",jq,f(ye(a.value.total_page_views)),1)]),i("div",Lq,[i("dt",Fq,f(m(e)("Total Earnings")),1),i("dd",Nq," $"+f(_e(a.value.total_earnings)),1)]),i("div",zq,[i("dt",Bq,f(m(e)("Avg CPC")),1),i("dd",Uq," $"+f(_e(a.value.avg_cpc)),1)]),i("div",Vq,[i("dt",Hq,f(m(e)("Page RPM")),1),i("dd",Wq," $"+f(_e(a.value.avg_page_rpm)),1)]),i("div",qq,[i("dt",Kq,f(m(e)("Page CTR")),1),i("dd",Yq,f(Q(a.value.avg_page_ctr))+"% ",1)]),i("div",Gq,[i("dt",Xq,f(m(e)("Countries")),1),i("dd",Jq,f(a.value.total_countries),1)])])):P("",!0),!t.value&&r.value.length>0?(_(),b("div",Qq,[i("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:J[2]||(J[2]=Z=>C.value=!C.value)},[i("div",Zq,[i("div",null,[i("h4",eK,f(m(e)("Performance by Website")),1),i("p",tK,f(m(e)("See how each website is performing")),1)]),(_(),b("svg",{class:ne(["h-5 w-5 text-gray-500 transition-transform",C.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...J[19]||(J[19]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),V(i("div",sK,[i("table",nK,[i("thead",oK,[i("tr",null,[i("th",iK,f(m(e)("Website")),1),i("th",rK,f(m(e)("Countries")),1),i("th",aK,f(m(e)("Impressions")),1),i("th",lK,f(m(e)("Clicks")),1),i("th",dK,f(m(e)("Page Views")),1),i("th",cK,f(m(e)("CPC")),1)])]),i("tbody",uK,[(_(!0),b(ue,null,xe(r.value,Z=>(_(),b("tr",{key:Z.domain,class:"hover:bg-gray-50"},[i("td",fK,[i("div",hK,[J[20]||(J[20]=i("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),se(" "+f(Z.domain),1)])]),i("td",pK,f(Z.countries_count),1),i("td",mK,f(ye(Z.total_impressions)),1),i("td",gK,f(ye(Z.total_clicks)),1),i("td",_K,f(ye(Z.total_page_views)),1),i("td",vK," $"+f(_e(Z.avg_cpc)),1)]))),128))])])],512),[[Ft,C.value]])])):P("",!0),!t.value&&o.value.length>0?(_(),b("div",yK,[i("div",bK,[i("div",xK,[i("div",{class:"flex items-center cursor-pointer",onClick:J[3]||(J[3]=Z=>T.value=!T.value)},[i("h3",wK,f(m(e)("Performance by Country")),1),(_(),b("svg",{class:ne(["ml-2 h-5 w-5 text-gray-500 transition-transform",T.value?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...J[21]||(J[21]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),V(i("div",kK,[i("div",$K,[V(i("input",{"onUpdate:modelValue":J[4]||(J[4]=Z=>z.value=Z),onInput:je,type:"text",placeholder:m(e)("Search countries..."),class:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10"},null,40,CK),[[ie,z.value]]),J[22]||(J[22]=i("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),V(i("select",{"onUpdate:modelValue":J[5]||(J[5]=Z=>L.value=Z),onChange:Re,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...J[23]||(J[23]=[i("option",{value:10},"10 per page",-1),i("option",{value:25},"25 per page",-1),i("option",{value:50},"50 per page",-1),i("option",{value:100},"100 per page",-1)])],544),[[Ne,L.value]])],512),[[Ft,T.value]])])]),V(i("div",SK,[i("table",MK,[i("thead",TK,[i("tr",null,[i("th",DK,f(m(e)("Country")),1),i("th",AK,f(m(e)("Impressions")),1),i("th",EK,f(m(e)("Clicks")),1),i("th",PK,f(m(e)("Page Views")),1),i("th",RK,f(m(e)("CPC")),1)])]),i("tbody",OK,[(_(!0),b(ue,null,xe(o.value,Z=>(_(),b("tr",{key:Z.country_code,class:"hover:bg-gray-50"},[i("td",IK,[i("div",jK,[i("div",LK,[i("span",FK,f(q(Z.country_code)),1),i("div",NK,f(Z.country_name||Z.country_code),1)]),v.value?(_(),b("span",{key:0,class:ne([w(y(Z.total_impressions,v.value.daily_impressions_target)),"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},f(S(y(Z.total_impressions,v.value.daily_impressions_target))),3)):P("",!0)]),v.value&&v.value.daily_impressions_target?(_(),b("div",zK,[i("div",BK,[i("span",null,f(ye(Z.total_impressions))+" / "+f(ye(v.value.daily_impressions_target)),1),i("span",null,f(Math.round($(Z.total_impressions,v.value.daily_impressions_target)))+"%",1)]),i("div",UK,[i("div",{class:ne([{"bg-green-500":y(Z.total_impressions,v.value.daily_impressions_target)==="excellent","bg-yellow-500":y(Z.total_impressions,v.value.daily_impressions_target)==="good","bg-red-500":y(Z.total_impressions,v.value.daily_impressions_target)==="poor"},"h-1.5 rounded-full transition-all duration-500"]),style:$t({width:$(Z.total_impressions,v.value.daily_impressions_target)+"%"})},null,6)])])):P("",!0)]),i("td",VK,[i("div",HK,f(ye(Z.total_impressions)),1),v.value?(_(),b("div",WK," Target: "+f(ye(v.value.daily_impressions_target)),1)):P("",!0)]),i("td",qK,[i("div",KK,f(ye(Z.total_clicks)),1),v.value?(_(),b("div",YK," Target: "+f(ye(v.value.daily_clicks_target)),1)):P("",!0)]),i("td",GK,[i("div",XK,f(ye(Z.total_page_views)),1),v.value?(_(),b("div",JK," Target: "+f(ye(v.value.daily_page_views_target)),1)):P("",!0)]),i("td",QK,[i("div",{class:ne({"text-green-600 font-semibold":v.value&&Z.avg_cpc>=v.value.min_cpc_target,"text-red-600":v.value&&Z.avg_cpc<v.value.min_cpc_target,"text-gray-900":!v.value})}," $"+f(_e(Z.avg_cpc)),3),v.value?(_(),b("div",ZK," Min: $"+f(_e(v.value.min_cpc_target)),1)):P("",!0)])]))),128))])])],512),[[Ft,T.value]]),F.value.last_page>1&&T.value?(_(),b("div",eY,[i("div",tY,[i("div",sY,[i("button",{onClick:J[6]||(J[6]=Z=>$e(F.value.current_page-1)),disabled:F.value.current_page===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},f(m(e)("Previous")),9,nY),i("button",{onClick:J[7]||(J[7]=Z=>$e(F.value.current_page+1)),disabled:F.value.current_page===F.value.last_page,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},f(m(e)("Next")),9,oY)]),i("div",iY,[i("div",null,[i("p",rY,[se(f(m(e)("Showing"))+" ",1),i("span",aY,f(F.value.from),1),se(" "+f(m(e)("to"))+" ",1),i("span",lY,f(F.value.to),1),se(" "+f(m(e)("of"))+" ",1),i("span",dY,f(F.value.total_countries),1),se(" "+f(m(e)("countries")),1)])]),i("div",null,[i("nav",cY,[i("button",{onClick:J[8]||(J[8]=Z=>$e(F.value.current_page-1)),disabled:F.value.current_page===1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",fY,f(m(e)("Previous")),1),J[24]||(J[24]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,uY),(_(!0),b(ue,null,xe(be.value,Z=>(_(),b("button",{key:Z,onClick:ce=>$e(Z),class:ne([Z===F.value.current_page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center border px-4 py-2 text-sm font-medium"])},f(Z),11,hY))),128)),i("button",{onClick:J[9]||(J[9]=Z=>$e(F.value.current_page+1)),disabled:F.value.current_page===F.value.last_page,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[i("span",mY,f(m(e)("Next")),1),J[25]||(J[25]=i("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,pY)])])])])])):P("",!0)])):!t.value&&o.value.length===0?(_(),b("div",gY,[J[27]||(J[27]=i("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),i("h3",_Y,f(m(e)("No data available")),1),i("p",vY,f(m(e)("Try syncing data or selecting a different date range.")),1),i("div",yY,[i("button",{onClick:K,type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[J[26]||(J[26]=i("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),se(" "+f(m(e)("Sync Data")),1)])])])):P("",!0)]))}}),gf="attendance",xY=pe({__name:"Form",props:{id:{}},setup(s){const e=cs(gf)(),t=Ss(gf)(),n=fo(),o=pl();return e.onSuccess(()=>{t.fetch(),jt().pop()}),(r,a)=>(_(),oe(m(zs),{id:s.id,name:gf,uri:"attendance"},{default:X(()=>[a[0]||(a[0]=i("input",{type:"hidden",name:"action",value:"manual"},null,-1)),M(m(o),{name:"user_id",label:"User",class:"col-span-12",disabled:!!s.id},null,8,["disabled"]),M(m(n),{name:"date",label:"Date",type:"date",class:"col-span-12"}),M(m(n),{name:"clock_in",label:"Clock In",type:"datetime-local",class:"col-span-6"}),M(m(n),{name:"clock_out",label:"Clock Out",type:"datetime-local",class:"col-span-6"}),M(m(n),{name:"notes",label:"Notes",class:"col-span-12"})]),_:1},8,["id"]))}}),wY={key:0,class:"mt-8 flex justify-center"},kY={key:1},$Y={key:0,class:"mb-6 border-b border-gray-200"},CY={class:"-mb-px flex space-x-8"},SY={class:"mb-6 overflow-hidden rounded-lg bg-white shadow-md"},MY={class:"border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},TY={class:"text-xl font-semibold text-white"},DY={class:"p-6"},AY={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-4"},EY={class:"rounded-lg border border-green-200 bg-green-50 p-4 shadow-sm"},PY={class:"mb-2 flex items-center"},RY={class:"text-sm font-medium text-green-800"},OY={class:"text-2xl font-bold text-green-900"},IY={class:"rounded-lg border border-red-200 bg-red-50 p-4 shadow-sm"},jY={class:"mb-2 flex items-center"},LY={class:"text-sm font-medium text-red-800"},FY={class:"text-2xl font-bold text-red-900"},NY={class:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-sm"},zY={class:"mb-2 flex items-center"},BY={class:"text-sm font-medium text-blue-800"},UY={class:"text-2xl font-bold text-blue-900"},VY={class:"flex items-center justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm"},HY={key:1,class:"flex items-center justify-between"},WY={class:"flex items-center text-gray-500"},qY={class:"text-lg font-medium text-gray-700"},KY={class:"text-sm text-gray-500"},YY={key:0,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3"},GY={class:"relative rounded-md shadow-sm"},XY=["placeholder"],JY={class:"relative rounded-md shadow-sm"},QY=["placeholder"],ZY={class:"relative rounded-md shadow-sm"},eG={value:""},tG=["value"],sG={key:1,class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2"},nG={class:"relative rounded-md shadow-sm"},oG=["placeholder"],iG={class:"relative rounded-md shadow-sm"},rG=["placeholder"],aG={key:0,class:"ltr:ml-auto rtl:mr-auto"},lG={class:"flex flex-col"},dG={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},cG={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},uG={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},fG={class:"min-w-full divide-y divide-gray-200"},hG={key:1,class:"bg-gray-50 px-6 py-3"},pG={class:"divide-y divide-gray-200 bg-white"},mG={key:0,class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},gG={class:"flex items-center"},_G={class:"ltr:ml-2 rtl:mr-2"},vG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},yG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},bG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},xG={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},wG={class:"px-6 py-4 text-sm text-gray-500"},kG={class:"max-w-xs truncate"},$G={key:1,class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},CG=["onClick"],SG={key:1},MG={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},TG={class:"overflow-hidden rounded-lg bg-white shadow"},DG={class:"p-5"},AG={class:"flex items-center"},EG={class:"flex-shrink-0"},PG={class:"ml-5 w-0 flex-1"},RG={class:"truncate text-sm font-medium text-gray-500"},OG={class:"text-lg font-semibold text-gray-900"},IG={class:"overflow-hidden rounded-lg bg-white shadow"},jG={class:"p-5"},LG={class:"flex items-center"},FG={class:"flex-shrink-0"},NG={class:"ml-5 w-0 flex-1"},zG={class:"truncate text-sm font-medium text-gray-500"},BG={class:"text-lg font-semibold text-gray-900"},UG={class:"overflow-hidden rounded-lg bg-white shadow"},VG={class:"p-5"},HG={class:"flex items-center"},WG={class:"flex-shrink-0"},qG={class:"ml-5 w-0 flex-1"},KG={class:"truncate text-sm font-medium text-gray-500"},YG={class:"text-lg font-semibold text-gray-900"},GG={class:"overflow-hidden rounded-lg bg-white shadow"},XG={class:"p-5"},JG={class:"flex items-center"},QG={class:"flex-shrink-0"},ZG={class:"ml-5 w-0 flex-1"},eX={class:"truncate text-sm font-medium text-gray-500"},tX={class:"text-lg font-semibold text-gray-900"},sX={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center"},nX={class:"flex flex-1 gap-2"},oX={value:""},iX=["value"],rX={class:"flex gap-2"},aX={class:"flex flex-col"},lX={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},dX={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},cX={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},uX={class:"min-w-full divide-y divide-gray-200"},fX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},hX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},pX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},mX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},gX={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},_X={class:"bg-gray-50 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},vX={class:"divide-y divide-gray-200 bg-white"},yX={class:"whitespace-nowrap px-6 py-4"},bX={class:"flex items-center"},xX={class:"ml-3"},wX={class:"text-sm font-medium text-gray-900"},kX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},$X={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},CX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},SX={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},MX={class:"px-6 py-4 text-sm text-gray-500"},TX={key:0},DX={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},AX={key:0,class:"border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},EX={class:"flex items-center justify-between"},PX={class:"text-sm text-gray-700"},RX={class:"flex gap-2"},OX=pe({__name:"IndexWorking",setup(s){const e=et("__"),t=Ss("attendance")(),n=R(!0),o=R([]),r=R(null),a=R(!1),l=R(!1),d=R(!1),c=Pe(()=>vt.is_attendance_admin),u=R("attendance"),h=R(null),p=R([]),g=R({current_page:1,last_page:1,per_page:50,total:0}),v=R({start_date:"",end_date:"",user_id:""}),x=_t({userId:"",startDate:"",endDate:"",page:1});nt(()=>{c.value&&y(),$(),C()}),t.setConfig({uri:"attendance",orderByDirection:"desc",orderBy:"date"}),t.fetch();async function y(){try{const Q=await me.get("attendance/users");o.value=Q.data}catch{}}async function $(){try{const Q=await me.get("attendance/status");r.value=Q.data.attendance,a.value=Q.data.is_clocked_in}catch{}}async function w(){var Q,ee;l.value=!0;try{await me.post("attendance",{action:"clock_in"}),await $(),t.fetch(),alert(e("Clocked in successfully!"))}catch(q){const he=((ee=(Q=q.response)==null?void 0:Q.data)==null?void 0:ee.message)||e("Error clocking in. Please try again.");alert(he)}finally{l.value=!1}}async function S(){var Q,ee;if(!r.value){alert(e("No attendance record found for today"));return}d.value=!0;try{await me.patch(`attendance/${r.value.id}`,{action:"clock_out"}),await $(),t.fetch(),alert(e("Clocked out successfully!"))}catch(q){const he=((ee=(Q=q.response)==null?void 0:Q.data)==null?void 0:ee.message)||e("Error clocking out. Please try again.");alert(he)}finally{d.value=!1}}function C(){setTimeout(function(){if(t.fetching){C();return}T()},150)}function T(){n.value=!1}function F(Q=null){jt().add(xY,{id:Q})}async function L(Q){if(confirm(e("Are you sure you want to delete this attendance record?")))try{await me.delete(`attendance/${Q}`),t.fetch(),alert(e("Attendance record deleted successfully!"))}catch{alert(e("Error deleting record. Please try again."))}}function z(){n.value=!0;const Q={};v.value.start_date&&(Q.start_date=v.value.start_date),v.value.end_date&&(Q.end_date=v.value.end_date),v.value.user_id&&(Q.user_id=v.value.user_id),t.params={...t.params,...Q},t.fetch(),C()}async function j(){try{const Q=await me.get("attendance/report");h.value=Q.data}catch{}E()}async function E(){try{const Q=new URLSearchParams;x.userId&&Q.append("user_id",x.userId),x.startDate&&Q.append("start_date",x.startDate),x.endDate&&Q.append("end_date",x.endDate),Q.append("page",String(x.page)),Q.append("per_page",String(g.value.per_page));const ee=await me.get(`attendance?${Q}`);p.value=ee.data.data,g.value={current_page:ee.data.current_page,last_page:ee.data.last_page,per_page:ee.data.per_page,total:ee.data.total}}catch{}}function O(){x.userId="",x.startDate="",x.endDate="",x.page=1,E()}function I(Q){x.page=Q,E()}async function W(){try{const Q=new URLSearchParams;x.userId&&Q.append("user_id",x.userId),x.startDate&&Q.append("start_date",x.startDate),x.endDate&&Q.append("end_date",x.endDate);const ee=await me.get(`attendance/export?${Q}`,{responseType:"blob"}),q=window.URL.createObjectURL(new Blob([ee.data])),he=document.createElement("a");he.href=q,he.setAttribute("download",`attendance_report_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(he),he.click(),document.body.removeChild(he),window.URL.revokeObjectURL(q)}catch{}}function ye(Q){return Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function ve(Q){return Q?new Date(Q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-"}function _e(Q){if(!Q)return"-";const ee=Math.floor(Q/60),q=Q%60;return`${ee}h ${q}m`}return(Q,ee)=>n.value?(_(),b("div",wY,[M(m(Ut),{size:"40",color:"#5850ec"})])):(_(),b("div",kY,[c.value?(_(),b("div",$Y,[i("nav",CY,[i("button",{class:ne([u.value==="attendance"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ee[0]||(ee[0]=q=>u.value="attendance")},f(m(e)("Attendance")),3),i("button",{class:ne([u.value==="reports"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"]),onClick:ee[1]||(ee[1]=q=>{u.value="reports",j()})},f(m(e)("Reports")),3)])])):P("",!0),V(i("div",null,[i("div",SY,[i("div",MY,[i("h3",TY,f(m(e)("Today's Attendance")),1)]),i("div",DY,[r.value?(_(),b("div",AY,[i("div",EY,[i("div",PY,[ee[13]||(ee[13]=i("svg",{class:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",RY,f(m(e)("Clock In")),1)]),i("p",OY,f(ve(r.value.clock_in)),1)]),i("div",IY,[i("div",jY,[ee[14]||(ee[14]=i("svg",{class:"mr-2 h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",LY,f(m(e)("Clock Out")),1)]),i("p",FY,f(r.value.clock_out?ve(r.value.clock_out):"-"),1)]),i("div",NY,[i("div",zY,[ee[15]||(ee[15]=i("svg",{class:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),i("span",BY,f(m(e)("Total Hours")),1)]),i("p",UY,f(r.value.total_hours?_e(r.value.total_hours):"-"),1)]),i("div",VY,[a.value?(_(),oe(m(Ve),{key:1,size:"lg",color:"red",disabled:d.value,onClick:S,class:"w-full"},{default:X(()=>[ee[17]||(ee[17]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),se(" "+f(d.value?m(e)("Clocking Out..."):m(e)("Clock Out")),1)]),_:1},8,["disabled"])):(_(),oe(m(Ve),{key:0,size:"lg",disabled:l.value,onClick:w,class:"w-full"},{default:X(()=>[ee[16]||(ee[16]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),se(" "+f(l.value?m(e)("Clocking In..."):m(e)("Clock In")),1)]),_:1},8,["disabled"]))])])):(_(),b("div",HY,[i("div",WY,[ee[18]||(ee[18]=i("svg",{class:"mr-3 h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("div",null,[i("p",qY,f(m(e)("You have not clocked in today")),1),i("p",KY,f(m(e)("Click the button to start your work day")),1)])]),M(m(Ve),{size:"lg",disabled:l.value,onClick:w},{default:X(()=>[ee[19]||(ee[19]=i("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),se(" "+f(l.value?m(e)("Clocking In..."):m(e)("Clock In")),1)]),_:1},8,["disabled"])]))])]),c.value?(_(),b("div",YY,[i("div",GY,[V(i("input",{"onUpdate:modelValue":ee[2]||(ee[2]=q=>v.value.start_date=q),type:"date",placeholder:m(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z},null,40,XY),[[ie,v.value.start_date]])]),i("div",JY,[V(i("input",{"onUpdate:modelValue":ee[3]||(ee[3]=q=>v.value.end_date=q),type:"date",placeholder:m(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z},null,40,QY),[[ie,v.value.end_date]])]),i("div",ZY,[V(i("select",{"onUpdate:modelValue":ee[4]||(ee[4]=q=>v.value.user_id=q),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z},[i("option",eG,f(m(e)("All Users")),1),(_(!0),b(ue,null,xe(o.value,q=>(_(),b("option",{key:q.id,value:q.id},f(q.name),9,tG))),128))],544),[[Ne,v.value.user_id]])])])):(_(),b("div",sG,[i("div",nG,[V(i("input",{"onUpdate:modelValue":ee[5]||(ee[5]=q=>v.value.start_date=q),type:"date",placeholder:m(e)("Start Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z},null,40,oG),[[ie,v.value.start_date]])]),i("div",iG,[V(i("input",{"onUpdate:modelValue":ee[6]||(ee[6]=q=>v.value.end_date=q),type:"date",placeholder:m(e)("End Date"),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z},null,40,rG),[[ie,v.value.end_date]])])])),i("section",null,[M(m(ec),{title:c.value?m(e)("Attendance Records"):m(e)("My Attendance")},{default:X(()=>[c.value?(_(),b("div",aG,[M(m(Ve),{size:"sm","data-cy":"topbar-create-button",onClick:ee[7]||(ee[7]=q=>F())},{default:X(()=>[se(f(m(e)("Add Attendance")),1)]),_:1})])):P("",!0)]),_:1},8,["title"]),i("div",lG,[i("div",dG,[i("div",cG,[i("div",uG,[i("table",fG,[i("thead",null,[i("tr",null,[c.value?(_(),oe(m(He),{key:0,name:"attendance",index:m(t),label:m(e)("User"),sort:"user_id"},null,8,["index","label"])):P("",!0),M(m(He),{name:"attendance",index:m(t),label:m(e)("Date"),sort:"date"},null,8,["index","label"]),M(m(He),{name:"attendance",index:m(t),label:m(e)("Clock In"),sort:"clock_in"},null,8,["index","label"]),M(m(He),{name:"attendance",index:m(t),label:m(e)("Clock Out"),sort:"clock_out"},null,8,["index","label"]),M(m(He),{name:"attendance",index:m(t),label:m(e)("Total Hours")},null,8,["index","label"]),M(m(He),{name:"attendance",index:m(t),label:m(e)("Notes")},null,8,["index","label"]),c.value?(_(),b("th",hG)):P("",!0)])]),i("tbody",pG,[(_(!0),b(ue,null,xe(m(t).data.data,q=>{var he;return _(),b("tr",{key:q.id},[c.value?(_(),b("td",mG,[i("div",gG,[q.user?(_(),oe(m(ms),{key:0,class:"h-6 w-6",avatar:q.user.avatar},null,8,["avatar"])):P("",!0),i("span",_G,f(((he=q.user)==null?void 0:he.name)||"N/A"),1)])])):P("",!0),i("td",vG,f(ye(q.date)),1),i("td",yG,f(ve(q.clock_in)),1),i("td",bG,f(q.clock_out?ve(q.clock_out):"-"),1),i("td",xG,f(_e(q.total_hours)),1),i("td",wG,[i("div",kG,f(q.notes||"-"),1)]),c.value?(_(),b("td",$G,[i("span",{class:"ml-2 cursor-pointer",onClick:we=>F(q.id)},[M(m(Fr),{class:"w-5 text-gray-400 hover:text-gray-800"})],8,CG),M(m(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We(we=>L(q.id),["prevent"])},null,8,["onClick"])])):P("",!0)])}),128))])]),M(m(Gs),{index:m(t)},null,8,["index"])])])])])])],512),[[Ft,u.value==="attendance"]]),c.value?V((_(),b("div",SG,[h.value?(_(),b("div",MG,[i("div",TG,[i("div",DG,[i("div",AG,[i("div",EG,[M(m(Ic),{class:"h-6 w-6 text-blue-400"})]),i("div",PG,[i("dl",null,[i("dt",RG,f(m(e)("Present Today")),1),i("dd",OG,f(h.value.present_today),1)])])])])]),i("div",IG,[i("div",jG,[i("div",LG,[i("div",FG,[M(m(Oo),{class:"h-6 w-6 text-green-400"})]),i("div",NG,[i("dl",null,[i("dt",zG,f(m(e)("Avg Hours Today")),1),i("dd",BG,f(h.value.avg_hours_today)+"h ",1)])])])])]),i("div",UG,[i("div",VG,[i("div",HG,[i("div",WG,[M(m(ao),{class:"h-6 w-6 text-purple-400"})]),i("div",qG,[i("dl",null,[i("dt",KG,f(m(e)("This Month")),1),i("dd",YG,f(h.value.total_this_month),1)])])])])]),i("div",GG,[i("div",XG,[i("div",JG,[i("div",QG,[M(m(Bh),{class:"h-6 w-6 text-yellow-400"})]),i("div",ZG,[i("dl",null,[i("dt",eX,f(m(e)("Avg Monthly Hours")),1),i("dd",tX,f(h.value.avg_hours_month)+"h ",1)])])])])])])):P("",!0),i("div",sX,[i("div",nX,[V(i("select",{"onUpdate:modelValue":ee[8]||(ee[8]=q=>x.userId=q),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:E},[i("option",oX,f(m(e)("All Employees")),1),(_(!0),b(ue,null,xe(o.value,q=>(_(),b("option",{key:q.id,value:q.id},f(q.name),9,iX))),128))],544),[[Ne,x.userId]]),V(i("input",{"onUpdate:modelValue":ee[9]||(ee[9]=q=>x.startDate=q),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:E},null,544),[[ie,x.startDate]]),V(i("input",{"onUpdate:modelValue":ee[10]||(ee[10]=q=>x.endDate=q),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:E},null,544),[[ie,x.endDate]]),M(m(Ve),{white:"",onClick:O},{default:X(()=>[se(f(m(e)("Reset")),1)]),_:1})]),i("div",rX,[M(m(Ve),{white:"",onClick:W},{default:X(()=>[M(m(Pc),{class:"mr-2 h-4 w-4"}),se(" "+f(m(e)("Export")),1)]),_:1})])]),i("section",null,[i("div",aX,[i("div",lX,[i("div",dX,[i("div",cX,[i("table",uX,[i("thead",null,[i("tr",null,[i("th",fX,f(m(e)("Employee")),1),i("th",hX,f(m(e)("Date")),1),i("th",pX,f(m(e)("Clock In")),1),i("th",mX,f(m(e)("Clock Out")),1),i("th",gX,f(m(e)("Total Hours")),1),i("th",_X,f(m(e)("Notes")),1)])]),i("tbody",vX,[(_(!0),b(ue,null,xe(p.value,q=>{var he;return _(),b("tr",{key:q.id,class:"hover:bg-gray-50"},[i("td",yX,[i("div",bX,[q.user?(_(),oe(m(ms),{key:0,user:q.user,size:"8"},null,8,["user"])):P("",!0),i("div",xX,[i("div",wX,f((he=q.user)==null?void 0:he.name),1)])])]),i("td",kX,f(ye(q.date)),1),i("td",$X,f(ve(q.clock_in)),1),i("td",CX,f(q.clock_out?ve(q.clock_out):"-"),1),i("td",SX,f(q.total_hours?_e(q.total_hours):"-"),1),i("td",MX,f(q.notes||"-"),1)])}),128)),p.value.length===0?(_(),b("tr",TX,[i("td",DX,f(m(e)("No records found")),1)])):P("",!0)])]),g.value.last_page>1?(_(),b("div",AX,[i("div",EX,[i("div",PX,f(m(e)("Page"))+" "+f(g.value.current_page)+" "+f(m(e)("of"))+" "+f(g.value.last_page),1),i("div",RX,[M(m(Ve),{white:"",size:"sm",disabled:g.value.current_page===1,onClick:ee[11]||(ee[11]=q=>I(g.value.current_page-1))},{default:X(()=>[se(f(m(e)("Previous")),1)]),_:1},8,["disabled"]),M(m(Ve),{white:"",size:"sm",disabled:g.value.current_page===g.value.last_page,onClick:ee[12]||(ee[12]=q=>I(g.value.current_page+1))},{default:X(()=>[se(f(m(e)("Next")),1)]),_:1},8,["disabled"])])])])):P("",!0)])])])])])],512)),[[Ft,u.value==="reports"]]):P("",!0)]))}}),_l=(s,e={})=>{const t=_t({...e}),n=_t({}),o=R(!1);let r=null;const a=async c=>{var u,h;o.value=!0,Object.keys(n).forEach(p=>delete n[p]);try{const p=r?"put":"post",g=r?`${s}/${r}`:s,v=await me[p](g,t);return c&&c(),v}catch(p){if((h=(u=p.response)==null?void 0:u.data)!=null&&h.errors){const g=p.response.data.errors;Object.keys(g).forEach(v=>{n[v]=Array.isArray(g[v])?g[v][0]:g[v]})}throw p}finally{o.value=!1}},l=c=>{c.id&&(r=c.id),Object.keys(c).forEach(u=>{(u in t||u==="id")&&(t[u]=c[u])})},d=()=>{r=null,Object.keys(e).forEach(c=>{t[c]=e[c]}),Object.keys(n).forEach(c=>delete n[c])};return new Proxy(t,{get(c,u){return u==="submit"?a:u==="setData"?l:u==="reset"?d:u==="errors"?n:u==="processing"?o:u==="id"?r:c[u]},set(c,u,h){return c[u]=h,!0}})},IX={class:"space-y-6"},jX={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},LX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},FX={class:"mt-1 sm:col-span-2 sm:mt-0"},NX={value:""},zX=["value"],BX={key:0,class:"mt-2 text-sm text-red-600"},UX={class:"border-t border-gray-200 pt-6"},VX={class:"text-lg font-medium leading-6 text-gray-900"},HX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qX={class:"mt-1 sm:col-span-2 sm:mt-0"},KX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},YX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},GX={class:"mt-1 sm:col-span-2 sm:mt-0"},XX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},JX={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},QX={class:"mt-1 sm:col-span-2 sm:mt-0"},ZX={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},eJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},tJ={class:"mt-1 sm:col-span-2 sm:mt-0"},sJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},oJ={class:"mt-1 sm:col-span-2 sm:mt-0"},iJ={value:""},rJ={value:"Male"},aJ={value:"Female"},lJ={value:"Other"},dJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},cJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},uJ={class:"mt-1 sm:col-span-2 sm:mt-0"},fJ={value:""},hJ={value:"Single"},pJ={value:"Married"},mJ={value:"Divorced"},gJ={value:"Widowed"},_J={class:"border-t border-gray-200 pt-6"},vJ={class:"text-lg font-medium leading-6 text-gray-900"},yJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},bJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},xJ={class:"mt-1 sm:col-span-2 sm:mt-0"},wJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},kJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$J={class:"mt-1 sm:col-span-2 sm:mt-0"},CJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},SJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},MJ={class:"mt-1 sm:col-span-2 sm:mt-0"},TJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},DJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},AJ={class:"mt-1 sm:col-span-2 sm:mt-0"},EJ={class:"border-t border-gray-200 pt-6"},PJ={class:"text-lg font-medium leading-6 text-gray-900"},RJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},OJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},IJ={class:"mt-1 sm:col-span-2 sm:mt-0"},jJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},LJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},FJ={class:"mt-1 sm:col-span-2 sm:mt-0"},NJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},zJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},BJ={class:"mt-1 sm:col-span-2 sm:mt-0"},UJ={value:""},VJ=["value"],HJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qJ={class:"mt-1 sm:col-span-2 sm:mt-0"},KJ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},YJ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},GJ={class:"mt-1 sm:col-span-2 sm:mt-0"},XJ={value:"Permanent"},JJ={value:"Contract"},QJ={value:"Probation"},ZJ={value:"Casual"},eQ={value:"Internship"},tQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},sQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},nQ={class:"mt-1 sm:col-span-2 sm:mt-0"},oQ={value:"Active"},iQ={value:"Resigned"},rQ={value:"Terminated"},aQ={value:"Retired"},lQ={value:"Deceased"},dQ={value:"On Leave"},cQ={value:"Suspended"},uQ={key:1,class:"space-y-6 border-t border-gray-200 pt-6"},fQ={class:"text-base font-medium text-gray-900"},hQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},pQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},mQ={class:"mt-1 sm:col-span-2 sm:mt-0"},gQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_Q={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vQ={class:"mt-1 sm:col-span-2 sm:mt-0"},yQ={key:2,class:"space-y-6 border-t border-gray-200 pt-6"},bQ={class:"text-base font-medium text-gray-900"},xQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},wQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},kQ={class:"mt-1 sm:col-span-2 sm:mt-0"},$Q={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},CQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},SQ={class:"mt-1 sm:col-span-2 sm:mt-0"},MQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},TQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},DQ={class:"mt-1 sm:col-span-2 sm:mt-0"},AQ={class:"border-t border-gray-200 pt-6"},EQ={class:"text-lg font-medium leading-6 text-gray-900"},PQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},RQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},OQ={class:"mt-1 sm:col-span-2 sm:mt-0"},IQ={class:"flex gap-2"},jQ={class:"border-t border-gray-200 pt-6"},LQ={class:"text-lg font-medium leading-6 text-gray-900"},FQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},NQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},zQ={class:"mt-1 sm:col-span-2 sm:mt-0"},BQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},UQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},VQ={class:"mt-1 sm:col-span-2 sm:mt-0"},HQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},WQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},qQ={class:"mt-1 sm:col-span-2 sm:mt-0"},KQ={class:"border-t border-gray-200 pt-6"},YQ={class:"text-lg font-medium leading-6 text-gray-900"},GQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},XQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},JQ={class:"mt-1 sm:col-span-2 sm:mt-0"},QQ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ZQ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},eZ={class:"mt-1 sm:col-span-2 sm:mt-0"},tZ={class:"border-t border-gray-200 pt-6"},sZ={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},nZ={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},oZ={class:"mt-1 sm:col-span-2 sm:mt-0"},Mb={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=R([]),r=R([]),a=_l("employees",{user_id:"",national_id:"",phone_number:"",physical_address:"",date_of_birth:"",gender:"",marital_status:"",next_of_kin_name:"",next_of_kin_relationship:"",next_of_kin_phone:"",next_of_kin_address:"",employment_date:"",employment_type:"Probation",contract_start_date:"",contract_end_date:"",probation_period_months:3,probation_end_date:"",confirmation_date:"",position:"",department:"",reports_to:"",current_salary:"",salary_currency:"MWK",employment_status:"Active",annual_leave_days:18,sick_leave_days:30,maternity_leave_days:56,tax_identification_number:"",pension_number:"",notes:""}),l=()=>{a.submit(()=>{n("close")})},d=async()=>{try{const u=await me.get("employees/available-users");o.value=u.data.data}catch{}},c=async()=>{try{const u=await me.get("employees/supervisors");r.value=u.data.data}catch{}};return Bt(()=>t.modelValue,u=>{u?a.setData(u):a.reset()},{immediate:!0}),nt(()=>{d(),c()}),(u,h)=>(_(),oe(Lo,{"external-form":m(a),onSubmit:l,onCancel:h[30]||(h[30]=p=>n("close"))},{title:X(()=>[se(f(m(a).id?u.__("Edit Employee Record"):u.__("Create Employee Record")),1)]),default:X(()=>[i("div",IX,[m(a).id?P("",!0):(_(),b("div",jX,[i("label",LX,[se(f(u.__("User"))+" ",1),h[31]||(h[31]=i("span",{class:"text-red-500"},"*",-1))]),i("div",FX,[V(i("select",{"onUpdate:modelValue":h[0]||(h[0]=p=>m(a).user_id=p),class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.user_id}]),required:""},[i("option",NX,f(u.__("Select a user")),1),(_(!0),b(ue,null,xe(o.value,p=>(_(),b("option",{key:p.id,value:p.id},f(p.name)+" ("+f(p.email)+") ",9,zX))),128))],2),[[Ne,m(a).user_id]]),m(a).errors.user_id?(_(),b("p",BX,f(m(a).errors.user_id),1)):P("",!0)])])),i("div",UX,[i("h3",VX,f(u.__("Personal Information")),1)]),i("div",HX,[i("label",WX,f(u.__("National ID")),1),i("div",qX,[V(i("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>m(a).national_id=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).national_id]])])]),i("div",KX,[i("label",YX,f(u.__("Phone Number")),1),i("div",GX,[V(i("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>m(a).phone_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).phone_number]])])]),i("div",XX,[i("label",JX,f(u.__("Physical Address")),1),i("div",QX,[V(i("textarea",{"onUpdate:modelValue":h[3]||(h[3]=p=>m(a).physical_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).physical_address]])])]),i("div",ZX,[i("label",eJ,f(u.__("Date of Birth")),1),i("div",tJ,[V(i("input",{"onUpdate:modelValue":h[4]||(h[4]=p=>m(a).date_of_birth=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).date_of_birth]])])]),i("div",sJ,[i("label",nJ,f(u.__("Gender")),1),i("div",oJ,[V(i("select",{"onUpdate:modelValue":h[5]||(h[5]=p=>m(a).gender=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",iJ,f(u.__("Select gender")),1),i("option",rJ,f(u.__("Male")),1),i("option",aJ,f(u.__("Female")),1),i("option",lJ,f(u.__("Other")),1)],512),[[Ne,m(a).gender]])])]),i("div",dJ,[i("label",cJ,f(u.__("Marital Status")),1),i("div",uJ,[V(i("select",{"onUpdate:modelValue":h[6]||(h[6]=p=>m(a).marital_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",fJ,f(u.__("Select status")),1),i("option",hJ,f(u.__("Single")),1),i("option",pJ,f(u.__("Married")),1),i("option",mJ,f(u.__("Divorced")),1),i("option",gJ,f(u.__("Widowed")),1)],512),[[Ne,m(a).marital_status]])])]),i("div",_J,[i("h3",vJ,f(u.__("Next of Kin")),1)]),i("div",yJ,[i("label",bJ,f(u.__("Name")),1),i("div",xJ,[V(i("input",{"onUpdate:modelValue":h[7]||(h[7]=p=>m(a).next_of_kin_name=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).next_of_kin_name]])])]),i("div",wJ,[i("label",kJ,f(u.__("Relationship")),1),i("div",$J,[V(i("input",{"onUpdate:modelValue":h[8]||(h[8]=p=>m(a).next_of_kin_relationship=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).next_of_kin_relationship]])])]),i("div",CJ,[i("label",SJ,f(u.__("Phone")),1),i("div",MJ,[V(i("input",{"onUpdate:modelValue":h[9]||(h[9]=p=>m(a).next_of_kin_phone=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).next_of_kin_phone]])])]),i("div",TJ,[i("label",DJ,f(u.__("Address")),1),i("div",AJ,[V(i("textarea",{"onUpdate:modelValue":h[10]||(h[10]=p=>m(a).next_of_kin_address=p),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).next_of_kin_address]])])]),i("div",EJ,[i("h3",PJ,f(u.__("Employment Information")),1)]),i("div",RJ,[i("label",OJ,f(u.__("Position")),1),i("div",IJ,[V(i("input",{"onUpdate:modelValue":h[11]||(h[11]=p=>m(a).position=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).position]])])]),i("div",jJ,[i("label",LJ,f(u.__("Department")),1),i("div",FJ,[V(i("input",{"onUpdate:modelValue":h[12]||(h[12]=p=>m(a).department=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).department]])])]),i("div",NJ,[i("label",zJ,f(u.__("Reports To")),1),i("div",BJ,[V(i("select",{"onUpdate:modelValue":h[13]||(h[13]=p=>m(a).reports_to=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",UJ,f(u.__("Select supervisor")),1),(_(!0),b(ue,null,xe(r.value,p=>(_(),b("option",{key:p.id,value:p.id},f(p.name),9,VJ))),128))],512),[[Ne,m(a).reports_to]])])]),i("div",HJ,[i("label",WJ,f(u.__("Employment Date")),1),i("div",qJ,[V(i("input",{"onUpdate:modelValue":h[14]||(h[14]=p=>m(a).employment_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).employment_date]])])]),i("div",KJ,[i("label",YJ,[se(f(u.__("Employment Type"))+" ",1),h[32]||(h[32]=i("span",{class:"text-red-500"},"*",-1))]),i("div",GJ,[V(i("select",{"onUpdate:modelValue":h[15]||(h[15]=p=>m(a).employment_type=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",XJ,f(u.__("Permanent")),1),i("option",JJ,f(u.__("Contract")),1),i("option",QJ,f(u.__("Probation")),1),i("option",ZJ,f(u.__("Casual")),1),i("option",eQ,f(u.__("Internship")),1)],512),[[Ne,m(a).employment_type]])])]),i("div",tQ,[i("label",sQ,[se(f(u.__("Employment Status"))+" ",1),h[33]||(h[33]=i("span",{class:"text-red-500"},"*",-1))]),i("div",nQ,[V(i("select",{"onUpdate:modelValue":h[16]||(h[16]=p=>m(a).employment_status=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",oQ,f(u.__("Active")),1),i("option",iQ,f(u.__("Resigned")),1),i("option",rQ,f(u.__("Terminated")),1),i("option",aQ,f(u.__("Retired")),1),i("option",lQ,f(u.__("Deceased")),1),i("option",dQ,f(u.__("On Leave")),1),i("option",cQ,f(u.__("Suspended")),1)],512),[[Ne,m(a).employment_status]])])]),m(a).employment_type==="Contract"?(_(),b("div",uQ,[i("h4",fQ,f(u.__("Contract Details")),1),i("div",hQ,[i("label",pQ,f(u.__("Contract Start Date")),1),i("div",mQ,[V(i("input",{"onUpdate:modelValue":h[17]||(h[17]=p=>m(a).contract_start_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).contract_start_date]])])]),i("div",gQ,[i("label",_Q,f(u.__("Contract End Date")),1),i("div",vQ,[V(i("input",{"onUpdate:modelValue":h[18]||(h[18]=p=>m(a).contract_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).contract_end_date]])])])])):P("",!0),m(a).employment_type==="Probation"?(_(),b("div",yQ,[i("h4",bQ,f(u.__("Probation Details")),1),i("div",xQ,[i("label",wQ,f(u.__("Probation Period (months)")),1),i("div",kQ,[V(i("input",{"onUpdate:modelValue":h[19]||(h[19]=p=>m(a).probation_period_months=p),type:"number",min:"1",max:"12",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).probation_period_months]])])]),i("div",$Q,[i("label",CQ,f(u.__("Probation End Date")),1),i("div",SQ,[V(i("input",{"onUpdate:modelValue":h[20]||(h[20]=p=>m(a).probation_end_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).probation_end_date]])])]),i("div",MQ,[i("label",TQ,f(u.__("Confirmation Date")),1),i("div",DQ,[V(i("input",{"onUpdate:modelValue":h[21]||(h[21]=p=>m(a).confirmation_date=p),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).confirmation_date]])])])])):P("",!0),i("div",AQ,[i("h3",EQ,f(u.__("Salary Information")),1)]),i("div",PQ,[i("label",RQ,f(u.__("Current Salary")),1),i("div",OQ,[i("div",IQ,[V(i("input",{"onUpdate:modelValue":h[22]||(h[22]=p=>m(a).current_salary=p),type:"number",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).current_salary]]),V(i("select",{"onUpdate:modelValue":h[23]||(h[23]=p=>m(a).salary_currency=p),class:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...h[34]||(h[34]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1)])],512),[[Ne,m(a).salary_currency]])])])]),i("div",jQ,[i("h3",LQ,f(u.__("Leave Entitlement")),1)]),i("div",FQ,[i("label",NQ,f(u.__("Annual Leave Days")),1),i("div",zQ,[V(i("input",{"onUpdate:modelValue":h[24]||(h[24]=p=>m(a).annual_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).annual_leave_days]])])]),i("div",BQ,[i("label",UQ,f(u.__("Sick Leave Days")),1),i("div",VQ,[V(i("input",{"onUpdate:modelValue":h[25]||(h[25]=p=>m(a).sick_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).sick_leave_days]])])]),i("div",HQ,[i("label",WQ,f(u.__("Maternity Leave Days")),1),i("div",qQ,[V(i("input",{"onUpdate:modelValue":h[26]||(h[26]=p=>m(a).maternity_leave_days=p),type:"number",min:"0",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).maternity_leave_days]])])]),i("div",KQ,[i("h3",YQ,f(u.__("Tax & Pension")),1)]),i("div",GQ,[i("label",XQ,f(u.__("Tax Identification Number")),1),i("div",JQ,[V(i("input",{"onUpdate:modelValue":h[27]||(h[27]=p=>m(a).tax_identification_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).tax_identification_number]])])]),i("div",QQ,[i("label",ZQ,f(u.__("Pension Number")),1),i("div",eZ,[V(i("input",{"onUpdate:modelValue":h[28]||(h[28]=p=>m(a).pension_number=p),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).pension_number]])])]),i("div",tZ,[i("div",sZ,[i("label",nZ,f(u.__("Notes")),1),i("div",oZ,[V(i("textarea",{"onUpdate:modelValue":h[29]||(h[29]=p=>m(a).notes=p),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,m(a).notes]])])])])])]),_:1},8,["external-form"]))}},No=(s,e={})=>{const t=s.split("/").pop()||"resource",n=Ss(t)();return n.uri=s,e&&Object.assign(n.params,e),n.get=async()=>n.fetch(),n.deleteIt=async o=>{if(!confirm("Are you sure you want to delete this item?"))return!1;try{return await me.delete(`${s}/${o}`),await n.fetch(),!0}catch{return!1}},n.prev=async()=>{if(n.currentPage>1)return n.currentPage--,n.fetch()},n.next=async()=>(n.currentPage++,n.fetch()),n},Ks=s=>{var e;return!s||vt.is_super_admin?!0:((e=vt.permissions)==null?void 0:e.includes(s))||!1},iZ={key:0,class:"mt-8 flex justify-center"},rZ={key:1},aZ={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},lZ={class:"overflow-hidden rounded-lg bg-white shadow"},dZ={class:"p-5"},cZ={class:"flex items-center"},uZ={class:"flex-shrink-0"},fZ={class:"ml-5 w-0 flex-1"},hZ={class:"truncate text-sm font-medium text-gray-500"},pZ={class:"text-lg font-semibold text-gray-900"},mZ={class:"overflow-hidden rounded-lg bg-white shadow"},gZ={class:"p-5"},_Z={class:"flex items-center"},vZ={class:"flex-shrink-0"},yZ={class:"ml-5 w-0 flex-1"},bZ={class:"truncate text-sm font-medium text-gray-500"},xZ={class:"text-lg font-semibold text-gray-900"},wZ={class:"overflow-hidden rounded-lg bg-white shadow"},kZ={class:"p-5"},$Z={class:"flex items-center"},CZ={class:"flex-shrink-0"},SZ={class:"ml-5 w-0 flex-1"},MZ={class:"truncate text-sm font-medium text-gray-500"},TZ={class:"text-lg font-semibold text-gray-900"},DZ={class:"overflow-hidden rounded-lg bg-white shadow"},AZ={class:"p-5"},EZ={class:"flex items-center"},PZ={class:"flex-shrink-0"},RZ={class:"ml-5 w-0 flex-1"},OZ={class:"truncate text-sm font-medium text-gray-500"},IZ={class:"text-lg font-semibold text-gray-900"},jZ={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},LZ={class:"flex flex-1 gap-2"},FZ={class:"relative w-64 rounded-md shadow-sm"},NZ={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},zZ=["placeholder"],BZ={value:""},UZ=["value"],VZ={value:""},HZ=["value"],WZ={value:""},qZ=["value"],KZ={class:"ltr:ml-auto rtl:mr-auto"},YZ={class:"flex flex-col"},GZ={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},XZ={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},JZ={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},QZ={class:"min-w-full divide-y divide-gray-200"},ZZ={class:"divide-y divide-gray-200 bg-white"},eee=["onClick"],tee={class:"whitespace-nowrap px-6 py-4"},see={class:"flex items-center"},nee={class:"h-10 w-10 flex-shrink-0"},oee={class:"ml-4"},iee={class:"text-sm font-medium text-gray-900"},ree={class:"text-sm text-gray-500"},aee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},lee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},dee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},cee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},uee={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},fee={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},hee={__name:"Index",setup(s){const e=uo(),t=R(!0),n=R(null),o=R({departments:[],employment_types:[],employment_statuses:[]}),r=No("employees",{search:"",employment_status:"",employment_type:"",department:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=_t({show:!1,model:null});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},c=(v=null)=>{a.model=v,a.show=!0},u=v=>{e.push(`/employees/${v}`)},h=v=>{var x;return!(!vt.is_super_admin||v.user_id===((x=vt.user)==null?void 0:x.id))},p=async v=>{var x,y,$;if(confirm(`Are you sure you want to login as ${((x=v.user)==null?void 0:x.name)||"this user"}?`))try{const w=await me.post(`impersonate/${v.user_id}`);alert(w.data.message),window.location.href="/"}catch(w){alert((($=(y=w.response)==null?void 0:y.data)==null?void 0:$.message)||"Failed to impersonate user")}},g=async()=>{try{const v=await me.get("employees/statistics");n.value=v.data.data}catch{}};return nt(async()=>{try{await r.get(),await g(),r.data&&r.data.filters&&(o.value=r.data.filters),t.value=!1}catch{t.value=!1}}),(v,x)=>t.value?(_(),b("div",iZ,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",rZ,[n.value?(_(),b("div",aZ,[i("div",lZ,[i("div",dZ,[i("div",cZ,[i("div",uZ,[M(m(Ic),{class:"h-6 w-6 text-gray-400"})]),i("div",fZ,[i("dl",null,[i("dt",hZ,f(v.__("Total Employees")),1),i("dd",pZ,f(n.value.total_employees),1)])])])])]),i("div",mZ,[i("div",gZ,[i("div",_Z,[i("div",vZ,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",yZ,[i("dl",null,[i("dt",bZ,f(v.__("Active")),1),i("dd",xZ,f(n.value.active_employees),1)])])])])]),i("div",wZ,[i("div",kZ,[i("div",$Z,[i("div",CZ,[M(m(Oo),{class:"h-6 w-6 text-yellow-400"})]),i("div",SZ,[i("dl",null,[i("dt",MZ,f(v.__("On Probation")),1),i("dd",TZ,f(n.value.on_probation),1)])])])])]),i("div",DZ,[i("div",AZ,[i("div",EZ,[i("div",PZ,[M(m(Sv),{class:"h-6 w-6 text-red-400"})]),i("div",RZ,[i("dl",null,[i("dt",OZ,f(v.__("Contracts Expiring")),1),i("dd",IZ,f(n.value.contracts_expiring_soon),1)])])])])])])):P("",!0),i("div",jZ,[i("div",LZ,[i("div",FZ,[i("div",NZ,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>m(r).params.search=y),type:"search",placeholder:v.__("Search employees..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,zZ),[[ie,m(r).params.search]])]),V(i("select",{"onUpdate:modelValue":x[1]||(x[1]=y=>m(r).params.employment_status=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[2]||(x[2]=y=>m(r).get())},[i("option",BZ,f(v.__("All Statuses")),1),(_(!0),b(ue,null,xe(o.value.employment_statuses,y=>(_(),b("option",{key:y,value:y},f(v.__(y)),9,UZ))),128))],544),[[Ne,m(r).params.employment_status]]),V(i("select",{"onUpdate:modelValue":x[3]||(x[3]=y=>m(r).params.employment_type=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[4]||(x[4]=y=>m(r).get())},[i("option",VZ,f(v.__("All Types")),1),(_(!0),b(ue,null,xe(o.value.employment_types,y=>(_(),b("option",{key:y,value:y},f(v.__(y)),9,HZ))),128))],544),[[Ne,m(r).params.employment_type]]),V(i("select",{"onUpdate:modelValue":x[5]||(x[5]=y=>m(r).params.department=y),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:x[6]||(x[6]=y=>m(r).get())},[i("option",WZ,f(v.__("All Departments")),1),(_(!0),b(ue,null,xe(o.value.departments,y=>(_(),b("option",{key:y,value:y},f(y),9,qZ))),128))],544),[[Ne,m(r).params.department]])]),i("div",KZ,[m(Ks)("employee:create")?(_(),oe(Ve,{key:0,size:"sm",onClick:x[7]||(x[7]=y=>c())},{default:X(()=>[se(f(v.__("Add Employee")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",YZ,[i("div",GZ,[i("div",XZ,[i("div",JZ,[i("table",QZ,[i("thead",null,[i("tr",null,[M(He,{name:"employee",index:m(r),label:v.__("Name"),sort:"name"},null,8,["index","label"]),M(He,{name:"employee",index:m(r),label:v.__("Position"),sort:"position"},null,8,["index","label"]),M(He,{name:"employee",index:m(r),label:v.__("Department"),sort:"department"},null,8,["index","label"]),M(He,{name:"employee",index:m(r),label:v.__("Employment Type"),sort:"employment_type"},null,8,["index","label"]),M(He,{name:"employee",index:m(r),label:v.__("Status"),sort:"employment_status"},null,8,["index","label"]),M(He,{name:"employee",index:m(r),label:v.__("Employment Date"),sort:"employment_date"},null,8,["index","label"]),x[10]||(x[10]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",ZZ,[(_(!0),b(ue,null,xe(m(r).data.data,y=>(_(),b("tr",{key:y.id,class:"cursor-pointer hover:bg-gray-50",onClick:$=>u(y.id)},[i("td",tee,[i("div",see,[i("div",nee,[M(ms,{user:y.user,size:"10"},null,8,["user"])]),i("div",oee,[i("div",iee,f(y.user.name),1),i("div",ree,f(y.user.email),1)])])]),i("td",aee,f(y.position||"-"),1),i("td",lee,f(y.department||"-"),1),i("td",dee,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":y.employment_type==="Permanent","bg-blue-100 text-blue-800":y.employment_type==="Contract","bg-yellow-100 text-yellow-800":y.employment_type==="Probation","bg-gray-100 text-gray-800":["Casual","Internship"].includes(y.employment_type)}])},f(y.employment_type),3)]),i("td",cee,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":y.employment_status==="Active","bg-yellow-100 text-yellow-800":y.employment_status==="On Leave","bg-red-100 text-red-800":["Resigned","Terminated"].includes(y.employment_status),"bg-gray-100 text-gray-800":["Retired","Deceased","Suspended"].includes(y.employment_status)}])},f(y.employment_status),3)]),i("td",uee,f(y.employment_date?new Date(y.employment_date).toLocaleDateString():"-"),1),i("td",fee,[h(y)?(_(),oe(m(Dv),{key:0,class:"w-5 cursor-pointer text-indigo-400 hover:text-indigo-600",title:v.__("Login as this user"),onClick:We($=>p(y),["stop"])},null,8,["title","onClick"])):P("",!0),m(Ks)("employee:update")?(_(),oe(m(jo),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We($=>c(y),["stop"])},null,8,["onClick"])):P("",!0),m(Ks)("employee:delete")?(_(),oe(m(ls),{key:2,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:We($=>m(r).deleteIt(y.id),["stop"])},null,8,["onClick"])):P("",!0)])],8,eee))),128))])]),M(Gs,{index:m(r)},null,8,["index"])])])])])]),a.show?(_(),oe(zs,{key:1,size:"2xl",onSaved:x[9]||(x[9]=y=>m(r).get())},{default:X(()=>[M(Mb,{"model-value":a.model,onClose:x[8]||(x[8]=y=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}},pee={key:0,class:"mt-8 flex justify-center"},mee={key:1,class:"space-y-6"},gee={class:"flex items-center justify-between"},_ee={class:"flex items-center space-x-4"},vee={class:"text-2xl font-bold text-gray-900"},yee={class:"flex space-x-2"},bee={class:"flex space-x-2"},xee={class:"inline-flex rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800"},wee={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},kee={class:"lg:col-span-2 space-y-6"},$ee={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Cee={class:"px-4 py-5 sm:px-6"},See={class:"text-lg font-medium leading-6 text-gray-900"},Mee={class:"border-t border-gray-200"},Tee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Dee={class:"text-sm font-medium text-gray-500"},Aee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Eee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pee={class:"text-sm font-medium text-gray-500"},Ree={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Oee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Iee={class:"text-sm font-medium text-gray-500"},jee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Lee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Fee={class:"text-sm font-medium text-gray-500"},Nee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},zee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Bee={class:"text-sm font-medium text-gray-500"},Uee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Vee={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Hee={class:"text-sm font-medium text-gray-500"},Wee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},qee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Kee={class:"text-sm font-medium text-gray-500"},Yee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Gee={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Xee={class:"px-4 py-5 sm:px-6"},Jee={class:"text-lg font-medium leading-6 text-gray-900"},Qee={class:"border-t border-gray-200"},Zee={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ete={class:"text-sm font-medium text-gray-500"},tte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ste={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},nte={class:"text-sm font-medium text-gray-500"},ote={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ite={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},rte={class:"text-sm font-medium text-gray-500"},ate={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},lte={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},dte={class:"text-sm font-medium text-gray-500"},cte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ute={key:0,class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},fte={class:"text-sm font-medium text-gray-500"},hte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},pte={key:1,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},mte={class:"text-sm font-medium text-gray-500"},gte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},_te={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},vte={class:"px-4 py-5 sm:px-6"},yte={class:"text-lg font-medium leading-6 text-gray-900"},bte={class:"border-t border-gray-200"},xte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},wte={class:"text-sm font-medium text-gray-500"},kte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},$te={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Cte={class:"text-sm font-medium text-gray-500"},Ste={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Mte={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Tte={class:"text-sm font-medium text-gray-500"},Dte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ate={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ete={class:"text-sm font-medium text-gray-500"},Pte={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Rte={class:"space-y-6"},Ote={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Ite={class:"px-4 py-5 sm:p-6"},jte={class:"mb-4 text-base font-medium text-gray-900"},Lte={class:"space-y-3"},Fte={class:"flex items-center justify-between"},Nte={class:"text-sm text-gray-500"},zte={class:"text-sm font-semibold text-gray-900"},Bte={class:"flex items-center justify-between"},Ute={class:"text-sm text-gray-500"},Vte={class:"text-sm font-semibold text-gray-900"},Hte={key:0,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Wte={class:"px-4 py-5 sm:p-6"},qte={class:"mb-2 text-base font-medium text-gray-900"},Kte={class:"text-2xl font-bold text-gray-900"},Yte={key:1,class:"overflow-hidden bg-white shadow sm:rounded-lg"},Gte={class:"px-4 py-5 sm:p-6"},Xte={class:"mb-4 text-base font-medium text-gray-900"},Jte={class:"space-y-3"},Qte={key:0},Zte={class:"text-sm text-gray-500"},ese={class:"text-sm font-semibold text-gray-900"},tse={key:1},sse={class:"text-sm text-gray-500"},nse={class:"text-sm font-semibold text-gray-900"},ose={key:2,class:"overflow-hidden bg-white shadow sm:rounded-lg"},ise={class:"px-4 py-5 sm:p-6"},rse={class:"mb-2 text-base font-medium text-gray-900"},ase={class:"text-sm text-gray-700 whitespace-pre-wrap"},lse={__name:"Detail",setup(s){const e=$c(),t=R(!0),n=R(null),o=R(!1),r=async()=>{try{t.value=!0;const l=await me.get(`employees/${e.params.id}`);n.value=l.data.data}catch{}finally{t.value=!1}},a=()=>{o.value=!0};return nt(()=>{r()}),(l,d)=>{var c;return t.value?(_(),b("div",pee,[M(Ut,{size:"40",color:"#5850ec"})])):n.value?(_(),b("div",mee,[i("div",gee,[i("div",_ee,[i("button",{onClick:d[0]||(d[0]=u=>l.$router.back()),class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},"  "+f(l.__("Back")),1),i("h1",vee,f(n.value.user.name),1)]),i("div",yee,[m(Ks)("employee:update")?(_(),oe(Ve,{key:0,variant:"secondary",onClick:a},{default:X(()=>[se(f(l.__("Edit")),1)]),_:1})):P("",!0)])]),i("div",bee,[i("span",{class:ne(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",{"bg-green-100 text-green-800":n.value.employment_status==="Active","bg-red-100 text-red-800":["Resigned","Terminated"].includes(n.value.employment_status),"bg-gray-100 text-gray-800":!["Active","Resigned","Terminated"].includes(n.value.employment_status)}])},f(n.value.employment_status),3),i("span",xee,f(n.value.employment_type),1)]),i("div",wee,[i("div",kee,[i("div",$ee,[i("div",Cee,[i("h3",See,f(l.__("Personal Information")),1)]),i("div",Mee,[i("dl",null,[i("div",Tee,[i("dt",Dee,f(l.__("Email")),1),i("dd",Aee,f(n.value.user.email),1)]),i("div",Eee,[i("dt",Pee,f(l.__("National ID")),1),i("dd",Ree,f(n.value.national_id||"-"),1)]),i("div",Oee,[i("dt",Iee,f(l.__("Phone")),1),i("dd",jee,f(n.value.phone_number||"-"),1)]),i("div",Lee,[i("dt",Fee,f(l.__("Address")),1),i("dd",Nee,f(n.value.physical_address||"-"),1)]),i("div",zee,[i("dt",Bee,f(l.__("Date of Birth")),1),i("dd",Uee,f(n.value.date_of_birth?new Date(n.value.date_of_birth).toLocaleDateString():"-"),1)]),i("div",Vee,[i("dt",Hee,f(l.__("Gender")),1),i("dd",Wee,f(n.value.gender||"-"),1)]),i("div",qee,[i("dt",Kee,f(l.__("Marital Status")),1),i("dd",Yee,f(n.value.marital_status||"-"),1)])])])]),i("div",Gee,[i("div",Xee,[i("h3",Jee,f(l.__("Employment Information")),1)]),i("div",Qee,[i("dl",null,[i("div",Zee,[i("dt",ete,f(l.__("Position")),1),i("dd",tte,f(n.value.position||"-"),1)]),i("div",ste,[i("dt",nte,f(l.__("Department")),1),i("dd",ote,f(n.value.department||"-"),1)]),i("div",ite,[i("dt",rte,f(l.__("Reports To")),1),i("dd",ate,f(((c=n.value.supervisor)==null?void 0:c.name)||"-"),1)]),i("div",lte,[i("dt",dte,f(l.__("Employment Date")),1),i("dd",cte,f(n.value.employment_date?new Date(n.value.employment_date).toLocaleDateString():"-"),1)]),n.value.contract_start_date?(_(),b("div",ute,[i("dt",fte,f(l.__("Contract Period")),1),i("dd",hte,f(new Date(n.value.contract_start_date).toLocaleDateString())+" - "+f(n.value.contract_end_date?new Date(n.value.contract_end_date).toLocaleDateString():"Ongoing"),1)])):P("",!0),n.value.probation_end_date?(_(),b("div",pte,[i("dt",mte,f(l.__("Probation End Date")),1),i("dd",gte,f(new Date(n.value.probation_end_date).toLocaleDateString()),1)])):P("",!0)])])]),n.value.next_of_kin_name?(_(),b("div",_te,[i("div",vte,[i("h3",yte,f(l.__("Next of Kin")),1)]),i("div",bte,[i("dl",null,[i("div",xte,[i("dt",wte,f(l.__("Name")),1),i("dd",kte,f(n.value.next_of_kin_name),1)]),i("div",$te,[i("dt",Cte,f(l.__("Relationship")),1),i("dd",Ste,f(n.value.next_of_kin_relationship||"-"),1)]),i("div",Mte,[i("dt",Tte,f(l.__("Phone")),1),i("dd",Dte,f(n.value.next_of_kin_phone||"-"),1)]),i("div",Ate,[i("dt",Ete,f(l.__("Address")),1),i("dd",Pte,f(n.value.next_of_kin_address||"-"),1)])])])])):P("",!0)]),i("div",Rte,[i("div",Ote,[i("div",Ite,[i("h3",jte,f(l.__("Leave Balance")),1),i("div",Lte,[i("div",Fte,[i("span",Nte,f(l.__("Annual Leave")),1),i("span",zte,f(n.value.leave_balance_annual)+" / "+f(n.value.annual_leave_days)+" "+f(l.__("days")),1)]),i("div",Bte,[i("span",Ute,f(l.__("Sick Leave")),1),i("span",Vte,f(n.value.leave_balance_sick)+" / "+f(n.value.sick_leave_days)+" "+f(l.__("days")),1)])])])]),n.value.current_salary?(_(),b("div",Hte,[i("div",Wte,[i("h3",qte,f(l.__("Current Salary")),1),i("p",Kte,f(new Intl.NumberFormat().format(n.value.current_salary))+" "+f(n.value.salary_currency),1)])])):P("",!0),n.value.tax_identification_number||n.value.pension_number?(_(),b("div",Yte,[i("div",Gte,[i("h3",Xte,f(l.__("Tax & Pension")),1),i("div",Jte,[n.value.tax_identification_number?(_(),b("div",Qte,[i("span",Zte,f(l.__("TIN")),1),i("p",ese,f(n.value.tax_identification_number),1)])):P("",!0),n.value.pension_number?(_(),b("div",tse,[i("span",sse,f(l.__("Pension Number")),1),i("p",nse,f(n.value.pension_number),1)])):P("",!0)])])])):P("",!0),n.value.notes?(_(),b("div",ose,[i("div",ise,[i("h3",rse,f(l.__("Notes")),1),i("p",ase,f(n.value.notes),1)])])):P("",!0)])]),M(zs,{modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=u=>o.value=u),size:"2xl",onSaved:r},{default:X(()=>[M(Mb,{"model-value":n.value,onClose:d[1]||(d[1]=u=>o.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])])):P("",!0)}}},dse={class:"space-y-6"},cse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},use={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},fse={class:"mt-1 sm:col-span-2 sm:mt-0"},hse={value:""},pse={value:"Annual Leave"},mse={value:"Sick Leave"},gse={value:"Maternity Leave"},_se={value:"Paternity Leave"},vse={value:"Unpaid Leave"},yse={value:"Compassionate Leave"},bse={value:"Study Leave"},xse={key:0,class:"mt-2 text-sm text-red-600"},wse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},kse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},$se={class:"mt-1 sm:col-span-2 sm:mt-0"},Cse=["min"],Sse={key:0,class:"mt-2 text-sm text-red-600"},Mse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Tse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Dse={class:"mt-1 sm:col-span-2 sm:mt-0"},Ase=["min"],Ese={key:0,class:"mt-2 text-sm text-red-600"},Pse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Rse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ose={class:"mt-1 sm:col-span-2 sm:mt-0"},Ise={key:0,class:"mt-2 text-sm text-red-600"},jse={class:"mt-1 text-sm text-gray-500"},Lse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Fse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Nse={class:"mt-1 sm:col-span-2 sm:mt-0"},zse={class:"flex items-center"},Bse={class:"ml-2 block text-sm text-gray-900"},Use={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Vse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Hse={class:"mt-1 sm:col-span-2 sm:mt-0"},Wse={value:""},qse={value:"morning"},Kse={value:"afternoon"},Yse={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Gse={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Xse={class:"mt-1 sm:col-span-2 sm:mt-0"},Jse=["placeholder"],Qse={key:0,class:"mt-2 text-sm text-red-600"},Zse={key:1,class:"rounded-md bg-blue-50 p-4"},ene={class:"flex"},tne={class:"flex-shrink-0"},sne={class:"ml-3 flex-1"},nne={class:"text-sm font-medium text-blue-800"},one={class:"mt-2 text-sm text-blue-700"},ine={key:0},rne={key:1},ane={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=R(null),r=Pe(()=>new Date().toISOString().split("T")[0]),a=_l("leaves",{leave_type:"",start_date:"",end_date:"",days:1,is_half_day:!1,half_day_period:"",reason:""}),l=()=>{if(a.start_date&&a.end_date){const h=new Date(a.start_date),p=new Date(a.end_date),g=Math.abs(p-h),v=Math.ceil(g/(1e3*60*60*24))+1;a.is_half_day?a.days=.5:a.days=v}},d=()=>{a.is_half_day?(a.end_date=a.start_date,a.days=.5):(a.half_day_period="",l())},c=()=>{a.submit(()=>{n("close")})},u=async()=>{try{const h=await me.get("profile/create");h.data.employee_record&&(o.value={annual:h.data.employee_record.leave_balance_annual??0,sick:h.data.employee_record.leave_balance_sick??0})}catch{}};return Bt(()=>t.modelValue,h=>{h?a.setData({...h,start_date:h.start_date.split("T")[0],end_date:h.end_date.split("T")[0]}):a.reset()},{immediate:!0}),nt(()=>{u()}),(h,p)=>(_(),oe(Lo,{"external-form":m(a),onSubmit:c,onCancel:p[7]||(p[7]=g=>n("close"))},{title:X(()=>[se(f(m(a).id?h.__("Edit Leave Request"):h.__("Request Leave")),1)]),default:X(()=>[i("div",dse,[i("div",cse,[i("label",use,[se(f(h.__("Leave Type"))+" ",1),p[8]||(p[8]=i("span",{class:"text-red-500"},"*",-1))]),i("div",fse,[V(i("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>m(a).leave_type=g),class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.leave_type}]),required:""},[i("option",hse,f(h.__("Select leave type")),1),i("option",pse,f(h.__("Annual Leave")),1),i("option",mse,f(h.__("Sick Leave")),1),i("option",gse,f(h.__("Maternity Leave")),1),i("option",_se,f(h.__("Paternity Leave")),1),i("option",vse,f(h.__("Unpaid Leave")),1),i("option",yse,f(h.__("Compassionate Leave")),1),i("option",bse,f(h.__("Study Leave")),1)],2),[[Ne,m(a).leave_type]]),m(a).errors.leave_type?(_(),b("p",xse,f(m(a).errors.leave_type),1)):P("",!0)])]),i("div",wse,[i("label",kse,[se(f(h.__("Start Date"))+" ",1),p[9]||(p[9]=i("span",{class:"text-red-500"},"*",-1))]),i("div",$se,[V(i("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>m(a).start_date=g),type:"date",min:r.value,class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.start_date}]),required:"",onChange:l},null,42,Cse),[[ie,m(a).start_date]]),m(a).errors.start_date?(_(),b("p",Sse,f(m(a).errors.start_date),1)):P("",!0)])]),i("div",Mse,[i("label",Tse,[se(f(h.__("End Date"))+" ",1),p[10]||(p[10]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Dse,[V(i("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>m(a).end_date=g),type:"date",min:m(a).start_date||r.value,class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.end_date}]),required:"",onChange:l},null,42,Ase),[[ie,m(a).end_date]]),m(a).errors.end_date?(_(),b("p",Ese,f(m(a).errors.end_date),1)):P("",!0)])]),i("div",Pse,[i("label",Rse,[se(f(h.__("Number of Days"))+" ",1),p[11]||(p[11]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Ose,[V(i("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>m(a).days=g),type:"number",step:"0.5",min:"0.5",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.days}]),required:"",readonly:""},null,2),[[ie,m(a).days]]),m(a).errors.days?(_(),b("p",Ise,f(m(a).errors.days),1)):P("",!0),i("p",jse,f(h.__("Automatically calculated based on start and end dates")),1)])]),i("div",Lse,[i("label",Fse,f(h.__("Half Day")),1),i("div",Nse,[i("div",zse,[V(i("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>m(a).is_half_day=g),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:d},null,544),[[ps,m(a).is_half_day]]),i("label",Bse,f(h.__("This is a half day leave")),1)])])]),m(a).is_half_day?(_(),b("div",Use,[i("label",Vse,[se(f(h.__("Half Day Period"))+" ",1),p[12]||(p[12]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Hse,[V(i("select",{"onUpdate:modelValue":p[5]||(p[5]=g=>m(a).half_day_period=g),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",Wse,f(h.__("Select period")),1),i("option",qse,f(h.__("Morning")),1),i("option",Kse,f(h.__("Afternoon")),1)],512),[[Ne,m(a).half_day_period]])])])):P("",!0),i("div",Yse,[i("label",Gse,[se(f(h.__("Reason"))+" ",1),p[13]||(p[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Xse,[V(i("textarea",{"onUpdate:modelValue":p[6]||(p[6]=g=>m(a).reason=g),rows:"4",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(a).errors.reason}]),placeholder:h.__("Please provide a detailed reason for your leave request"),required:""},null,10,Jse),[[ie,m(a).reason]]),m(a).errors.reason?(_(),b("p",Qse,f(m(a).errors.reason),1)):P("",!0)])]),o.value?(_(),b("div",Zse,[i("div",ene,[i("div",tne,[M(m(s$),{class:"h-5 w-5 text-blue-400"})]),i("div",sne,[i("h3",nne,f(h.__("Your Leave Balance")),1),i("div",one,[m(a).leave_type==="Annual Leave"?(_(),b("p",ine,f(h.__("Annual Leave Balance:"))+" "+f(o.value.annual)+" "+f(h.__("days")),1)):m(a).leave_type==="Sick Leave"?(_(),b("p",rne,f(h.__("Sick Leave Balance:"))+" "+f(o.value.sick)+" "+f(h.__("days")),1)):P("",!0)])])])])):P("",!0)])]),_:1},8,["external-form"]))}},lne={key:0,class:"mt-8 flex justify-center"},dne={key:1},cne={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},une={class:"overflow-hidden rounded-lg bg-white shadow"},fne={class:"p-5"},hne={class:"flex items-center"},pne={class:"flex-shrink-0"},mne={class:"ml-5 w-0 flex-1"},gne={class:"truncate text-sm font-medium text-gray-500"},_ne={class:"text-lg font-semibold text-gray-900"},vne={class:"overflow-hidden rounded-lg bg-white shadow"},yne={class:"p-5"},bne={class:"flex items-center"},xne={class:"flex-shrink-0"},wne={class:"ml-5 w-0 flex-1"},kne={class:"truncate text-sm font-medium text-gray-500"},$ne={class:"text-lg font-semibold text-gray-900"},Cne={class:"overflow-hidden rounded-lg bg-white shadow"},Sne={class:"p-5"},Mne={class:"flex items-center"},Tne={class:"flex-shrink-0"},Dne={class:"ml-5 w-0 flex-1"},Ane={class:"truncate text-sm font-medium text-gray-500"},Ene={class:"text-lg font-semibold text-gray-900"},Pne={class:"overflow-hidden rounded-lg bg-white shadow"},Rne={class:"p-5"},One={class:"flex items-center"},Ine={class:"flex-shrink-0"},jne={class:"ml-5 w-0 flex-1"},Lne={class:"truncate text-sm font-medium text-gray-500"},Fne={class:"text-lg font-semibold text-gray-900"},Nne={class:"mb-6"},zne={class:"border-b border-gray-200"},Bne={class:"-mb-px flex space-x-8"},Une={key:0,class:"ml-2 inline-flex items-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800"},Vne={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Hne={class:"flex flex-1 gap-2"},Wne={class:"relative w-64 rounded-md shadow-sm"},qne={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Kne=["placeholder"],Yne={value:""},Gne={value:"pending"},Xne={value:"approved"},Jne={value:"rejected"},Qne={value:""},Zne={value:"Annual Leave"},eoe={value:"Sick Leave"},toe={value:"Maternity Leave"},soe={value:"Paternity Leave"},noe={value:"Unpaid Leave"},ooe={class:"ltr:ml-auto rtl:mr-auto"},ioe={class:"flex flex-col"},roe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},aoe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},loe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},doe={class:"min-w-full divide-y divide-gray-200"},coe={class:"divide-y divide-gray-200 bg-white"},uoe={key:0,class:"whitespace-nowrap px-6 py-4"},foe={class:"flex items-center"},hoe={class:"h-10 w-10 flex-shrink-0"},poe={class:"ml-4"},moe={class:"text-sm font-medium text-gray-900"},goe={class:"text-sm text-gray-500"},_oe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},voe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},yoe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},boe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},xoe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},woe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},koe={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},$oe={class:"p-6"},Coe={class:"flex items-center justify-between mb-4"},Soe={class:"text-lg font-semibold text-gray-900"},Moe={key:0,class:"space-y-4"},Toe={class:"grid grid-cols-2 gap-4"},Doe={class:"block text-sm font-medium text-gray-700"},Aoe={class:"mt-1 text-sm text-gray-900"},Eoe={class:"block text-sm font-medium text-gray-700"},Poe={class:"mt-1 text-sm text-gray-900"},Roe={class:"block text-sm font-medium text-gray-700"},Ooe={class:"mt-1 text-sm text-gray-900"},Ioe={class:"block text-sm font-medium text-gray-700"},joe={class:"mt-1 text-sm text-gray-900"},Loe={class:"block text-sm font-medium text-gray-700"},Foe={class:"mt-1 text-sm text-gray-900"},Noe={class:"block text-sm font-medium text-gray-700"},zoe={class:"mt-1"},Boe={class:"block text-sm font-medium text-gray-700"},Uoe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Voe={key:0},Hoe={class:"block text-sm font-medium text-gray-700"},Woe={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},qoe={key:1},Koe={class:"block text-sm font-medium text-gray-700"},Yoe={class:"mt-1 text-sm text-gray-900"},Goe={class:"text-sm text-gray-500"},Xoe={class:"mt-6 flex justify-end"},Joe={class:"p-6"},Qoe={class:"flex items-center justify-between mb-4"},Zoe={class:"text-lg font-semibold text-gray-900"},eie={class:"space-y-4"},tie={class:"text-sm text-gray-700"},sie={class:"block text-sm font-medium text-gray-700"},nie=["required"],oie={class:"mt-6 flex justify-end space-x-3"},iie={__name:"Index",setup(s){const e=R(!0),t=R(null),n=R("my-leaves"),o=R(null),r=No("leaves",{search:"",status:"",leave_type:"",sort_by:"created_at",sort_order:"desc",per_page:15}),a=_t({show:!1,model:null}),l=_t({show:!1,leave:null}),d=_t({show:!1,action:null,leave:null,notes:""});let c=null;const u=()=>{clearTimeout(c),c=setTimeout(()=>{r.get()},300)},h=(w=null)=>{a.model=w,a.show=!0},p=w=>{l.leave=w,l.show=!0},g=w=>{d.leave=w,d.action="approve",d.notes="",d.show=!0},v=w=>{d.leave=w,d.action="reject",d.notes="",d.show=!0},x=async()=>{var w,S;try{const C=d.action==="approve"?"approve":"reject";await me.post(`leaves/${d.leave.id}/${C}`,{admin_notes:d.notes}),d.show=!1,r.get(),y()}catch(C){alert(((S=(w=C.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to process leave request")}},y=async()=>{try{const w=await me.get("leaves/statistics");t.value=w.data.data}catch{}},$=()=>{var w;o.value=(w=vt.user)==null?void 0:w.id};return Bt(n,w=>{w==="my-leaves"?r.params.user_id=o.value:(w==="pending-approvals"&&(r.params.status="pending"),r.params.user_id=""),r.get()}),nt(async()=>{$(),r.params.user_id=o.value,await r.get(),await y(),e.value=!1}),(w,S)=>e.value?(_(),b("div",lne,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",dne,[t.value?(_(),b("div",cne,[i("div",une,[i("div",fne,[i("div",hne,[i("div",pne,[M(m(Oo),{class:"h-6 w-6 text-yellow-400"})]),i("div",mne,[i("dl",null,[i("dt",gne,f(w.__("Pending")),1),i("dd",_ne,f(t.value.pending),1)])])])])]),i("div",vne,[i("div",yne,[i("div",bne,[i("div",xne,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",wne,[i("dl",null,[i("dt",kne,f(w.__("Approved")),1),i("dd",$ne,f(t.value.approved),1)])])])])]),i("div",Cne,[i("div",Sne,[i("div",Mne,[i("div",Tne,[M(m(xn),{class:"h-6 w-6 text-red-400"})]),i("div",Dne,[i("dl",null,[i("dt",Ane,f(w.__("Rejected")),1),i("dd",Ene,f(t.value.rejected),1)])])])])]),i("div",Pne,[i("div",Rne,[i("div",One,[i("div",Ine,[M(m(ao),{class:"h-6 w-6 text-blue-400"})]),i("div",jne,[i("dl",null,[i("dt",Lne,f(w.__("This Month")),1),i("dd",Fne,f(t.value.this_month)+" "+f(w.__("days")),1)])])])])])])):P("",!0),i("div",Nne,[i("div",zne,[i("nav",Bne,[i("button",{onClick:S[0]||(S[0]=C=>n.value="my-leaves"),class:ne([n.value==="my-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},f(w.__("My Leave Requests")),3),m(Ks)("leave:view-all")?(_(),b("button",{key:0,onClick:S[1]||(S[1]=C=>n.value="all-leaves"),class:ne([n.value==="all-leaves"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},f(w.__("All Requests")),3)):P("",!0),m(Ks)("leave:approve")?(_(),b("button",{key:1,onClick:S[2]||(S[2]=C=>n.value="pending-approvals"),class:ne([n.value==="pending-approvals"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"])},[se(f(w.__("Pending Approvals"))+" ",1),t.value&&t.value.pending>0?(_(),b("span",Une,f(t.value.pending),1)):P("",!0)],2)):P("",!0)])])]),i("div",Vne,[i("div",Hne,[i("div",Wne,[i("div",qne,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":S[3]||(S[3]=C=>m(r).params.search=C),type:"search",placeholder:w.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,Kne),[[ie,m(r).params.search]])]),V(i("select",{"onUpdate:modelValue":S[4]||(S[4]=C=>m(r).params.status=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[5]||(S[5]=C=>m(r).get())},[i("option",Yne,f(w.__("All Statuses")),1),i("option",Gne,f(w.__("Pending")),1),i("option",Xne,f(w.__("Approved")),1),i("option",Jne,f(w.__("Rejected")),1)],544),[[Ne,m(r).params.status]]),V(i("select",{"onUpdate:modelValue":S[6]||(S[6]=C=>m(r).params.leave_type=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[7]||(S[7]=C=>m(r).get())},[i("option",Qne,f(w.__("All Types")),1),i("option",Zne,f(w.__("Annual Leave")),1),i("option",eoe,f(w.__("Sick Leave")),1),i("option",toe,f(w.__("Maternity Leave")),1),i("option",soe,f(w.__("Paternity Leave")),1),i("option",noe,f(w.__("Unpaid Leave")),1)],544),[[Ne,m(r).params.leave_type]])]),i("div",ooe,[m(Ks)("leave:create")?(_(),oe(Ve,{key:0,size:"sm",onClick:S[8]||(S[8]=C=>h())},{default:X(()=>[se(f(w.__("Request Leave")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",ioe,[i("div",roe,[i("div",aoe,[i("div",loe,[i("table",doe,[i("thead",null,[i("tr",null,[n.value!=="my-leaves"?(_(),oe(He,{key:0,name:"leave",index:m(r),label:w.__("Employee")},null,8,["index","label"])):P("",!0),M(He,{name:"leave",index:m(r),label:w.__("Leave Type"),sort:"leave_type"},null,8,["index","label"]),M(He,{name:"leave",index:m(r),label:w.__("Start Date"),sort:"start_date"},null,8,["index","label"]),M(He,{name:"leave",index:m(r),label:w.__("End Date"),sort:"end_date"},null,8,["index","label"]),M(He,{name:"leave",index:m(r),label:w.__("Days"),sort:"days"},null,8,["index","label"]),M(He,{name:"leave",index:m(r),label:w.__("Status"),sort:"status"},null,8,["index","label"]),M(He,{name:"leave",index:m(r),label:w.__("Requested"),sort:"created_at"},null,8,["index","label"]),S[16]||(S[16]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",coe,[(_(!0),b(ue,null,xe(m(r).data.data,C=>(_(),b("tr",{key:C.id,class:"hover:bg-gray-50"},[n.value!=="my-leaves"?(_(),b("td",uoe,[i("div",foe,[i("div",hoe,[M(ms,{user:C.user,size:"10"},null,8,["user"])]),i("div",poe,[i("div",moe,f(C.user.name),1),i("div",goe,f(C.user.email),1)])])])):P("",!0),i("td",_oe,f(C.leave_type),1),i("td",voe,f(new Date(C.start_date).toLocaleDateString()),1),i("td",yoe,f(new Date(C.end_date).toLocaleDateString()),1),i("td",boe,f(C.days)+" "+f(C.is_half_day?"(Half Day)":""),1),i("td",xoe,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":C.status==="pending","bg-green-100 text-green-800":C.status==="approved","bg-red-100 text-red-800":C.status==="rejected"}])},f(C.status.charAt(0).toUpperCase()+C.status.slice(1)),3)]),i("td",woe,f(new Date(C.created_at).toLocaleDateString()),1),i("td",koe,[n.value==="pending-approvals"&&C.status==="pending"?(_(),b(ue,{key:0},[M(Ve,{size:"xs",variant:"success",onClick:T=>g(C)},{default:X(()=>[se(f(w.__("Approve")),1)]),_:1},8,["onClick"]),M(Ve,{size:"xs",variant:"danger",class:"ml-2",onClick:T=>v(C)},{default:X(()=>[se(f(w.__("Reject")),1)]),_:1},8,["onClick"])],64)):C.status==="pending"&&C.user_id===o.value?(_(),b(ue,{key:1},[M(m(jo),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:T=>h(C)},null,8,["onClick"]),M(m(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:T=>m(r).deleteIt(C.id)},null,8,["onClick"])],64)):P("",!0),M(m(Io),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:T=>p(C)},null,8,["onClick"])])]))),128))])]),M(Gs,{index:m(r)},null,8,["index"])])])])])]),a.show?(_(),oe(zs,{key:1,size:"lg",onSaved:S[10]||(S[10]=C=>m(r).get())},{default:X(()=>[M(ane,{"model-value":a.model,onClose:S[9]||(S[9]=C=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),l.show?(_(),oe(lo,{key:2,width:"max-w-2xl"},{default:X(()=>{var C,T;return[i("div",$oe,[i("div",Coe,[i("h3",Soe,f(w.__("Leave Request Details")),1),i("button",{onClick:S[11]||(S[11]=F=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),l.leave?(_(),b("div",Moe,[i("div",Toe,[i("div",null,[i("label",Doe,f(w.__("Employee")),1),i("p",Aoe,f((C=l.leave.user)==null?void 0:C.name),1)]),i("div",null,[i("label",Eoe,f(w.__("Leave Type")),1),i("p",Poe,f(l.leave.leave_type),1)]),i("div",null,[i("label",Roe,f(w.__("Start Date")),1),i("p",Ooe,f(new Date(l.leave.start_date).toLocaleDateString()),1)]),i("div",null,[i("label",Ioe,f(w.__("End Date")),1),i("p",joe,f(new Date(l.leave.end_date).toLocaleDateString()),1)]),i("div",null,[i("label",Loe,f(w.__("Days")),1),i("p",Foe,f(l.leave.days),1)]),i("div",null,[i("label",Noe,f(w.__("Status")),1),i("p",zoe,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.leave.status==="pending","bg-green-100 text-green-800":l.leave.status==="approved","bg-red-100 text-red-800":l.leave.status==="rejected"}])},f(l.leave.status.charAt(0).toUpperCase()+l.leave.status.slice(1)),3)])])]),i("div",null,[i("label",Boe,f(w.__("Reason")),1),i("p",Uoe,f(l.leave.reason),1)]),l.leave.admin_notes?(_(),b("div",Voe,[i("label",Hoe,f(w.__("Admin Notes")),1),i("p",Woe,f(l.leave.admin_notes),1)])):P("",!0),l.leave.approved_by?(_(),b("div",qoe,[i("label",Koe,f(w.__("Approved/Rejected By")),1),i("p",Yoe,f((T=l.leave.approved_by)==null?void 0:T.name),1),i("p",Goe,f(new Date(l.leave.approved_at).toLocaleString()),1)])):P("",!0)])):P("",!0),i("div",Xoe,[M(Ve,{onClick:S[12]||(S[12]=F=>l.show=!1)},{default:X(()=>[se(f(w.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),d.show?(_(),oe(lo,{key:3,width:"max-w-md"},{default:X(()=>[i("div",Joe,[i("div",Qoe,[i("h3",Zoe,f(d.action==="approve"?w.__("Approve Leave"):w.__("Reject Leave")),1),i("button",{onClick:S[13]||(S[13]=C=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),i("div",eie,[i("p",tie,f(d.action==="approve"?w.__("Are you sure you want to approve this leave request?"):w.__("Please provide a reason for rejection:")),1),i("div",null,[i("label",sie,f(d.action==="approve"?w.__("Admin Notes (Optional)"):w.__("Rejection Reason")),1),V(i("textarea",{"onUpdate:modelValue":S[14]||(S[14]=C=>d.notes=C),rows:"3",required:d.action==="reject",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,nie),[[ie,d.notes]])])]),i("div",oie,[M(Ve,{white:"",onClick:S[15]||(S[15]=C=>d.show=!1)},{default:X(()=>[se(f(w.__("Cancel")),1)]),_:1}),M(Ve,{class:ne(d.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:x,disabled:d.action==="reject"&&!d.notes},{default:X(()=>[se(f(d.action==="approve"?w.__("Approve"):w.__("Reject")),1)]),_:1},8,["class","disabled"])])])]),_:1})):P("",!0)]))}},rie={class:"space-y-6"},aie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},lie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},die={class:"mt-1 sm:col-span-2 sm:mt-0"},cie=["placeholder"],uie={key:0,class:"mt-2 text-sm text-red-600"},fie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pie={class:"mt-1 sm:col-span-2 sm:mt-0"},mie={key:0,class:"mt-2 text-sm text-red-600"},gie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_ie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vie={class:"mt-1 sm:col-span-2 sm:mt-0"},yie=["placeholder"],bie={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},xie={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},wie={class:"mt-1 sm:col-span-2 sm:mt-0"},kie={class:"flex items-center"},$ie={class:"ml-2 block text-sm text-gray-900"},Cie={class:"mt-1 text-sm text-gray-500"},Sie={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=_l("holidays",{name:"",date:"",description:"",is_recurring:!1}),r=()=>{o.submit(()=>{n("close")})};return Bt(()=>t.modelValue,a=>{a?o.setData({...a,date:a.date.split("T")[0]}):o.reset()},{immediate:!0}),(a,l)=>(_(),oe(Lo,{"external-form":m(o),onSubmit:r,onCancel:l[4]||(l[4]=d=>n("close"))},{title:X(()=>[se(f(m(o).id?a.__("Edit Holiday"):a.__("Add Holiday")),1)]),default:X(()=>[i("div",rie,[i("div",aie,[i("label",lie,[se(f(a.__("Holiday Name"))+" ",1),l[5]||(l[5]=i("span",{class:"text-red-500"},"*",-1))]),i("div",die,[V(i("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>m(o).name=d),type:"text",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(o).errors.name}]),placeholder:a.__("e.g., New Year's Day"),required:""},null,10,cie),[[ie,m(o).name]]),m(o).errors.name?(_(),b("p",uie,f(m(o).errors.name),1)):P("",!0)])]),i("div",fie,[i("label",hie,[se(f(a.__("Date"))+" ",1),l[6]||(l[6]=i("span",{class:"text-red-500"},"*",-1))]),i("div",pie,[V(i("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>m(o).date=d),type:"date",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(o).errors.date}]),required:""},null,2),[[ie,m(o).date]]),m(o).errors.date?(_(),b("p",mie,f(m(o).errors.date),1)):P("",!0)])]),i("div",gie,[i("label",_ie,f(a.__("Description")),1),i("div",vie,[V(i("textarea",{"onUpdate:modelValue":l[2]||(l[2]=d=>m(o).description=d),rows:"2",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:a.__("Optional description")},null,8,yie),[[ie,m(o).description]])])]),i("div",bie,[i("label",xie,f(a.__("Recurring")),1),i("div",wie,[i("div",kie,[V(i("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>m(o).is_recurring=d),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ps,m(o).is_recurring]]),i("label",$ie,f(a.__("This holiday recurs annually")),1)]),i("p",Cie,f(a.__("Check this if the holiday repeats every year on the same date")),1)])])])]),_:1},8,["external-form"]))}},Mie={key:0,class:"mt-8 flex justify-center"},Tie={key:1},Die={class:"mb-6 flex items-center justify-between"},Aie={class:"text-2xl font-bold text-gray-900"},Eie={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Pie={class:"flex flex-1 gap-2"},Rie={class:"relative w-64 rounded-md shadow-sm"},Oie={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Iie=["placeholder"],jie=["value"],Lie=["value"],Fie=["value"],Nie={value:""},zie={value:"upcoming"},Bie={value:"past"},Uie={class:"ltr:ml-auto rtl:mr-auto"},Vie={class:"flex flex-col"},Hie={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Wie={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},qie={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},Kie={class:"min-w-full divide-y divide-gray-200"},Yie={class:"divide-y divide-gray-200 bg-white"},Gie={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},Xie={key:0,class:"ml-2 inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"},Jie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Qie={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Zie={class:"px-6 py-4 text-sm text-gray-500"},ere={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},tre={__name:"Index",setup(s){const e=R(!0),t=new Date().getFullYear(),n=No("holidays",{search:"",year:t,filter:"",sort_by:"date",sort_order:"asc",per_page:50}),o=_t({show:!1,model:null});let r=null;const a=()=>{clearTimeout(r),r=setTimeout(()=>{n.get()},300)},l=(d=null)=>{o.model=d,o.show=!0};return nt(async()=>{await n.get(),e.value=!1}),(d,c)=>e.value?(_(),b("div",Mie,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",Tie,[i("div",Die,[i("h1",Aie,f(d.__("Company Holidays")),1)]),i("div",Eie,[i("div",Pie,[i("div",Rie,[i("div",Oie,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>m(n).params.search=u),type:"search",placeholder:d.__("Search holidays..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:a},null,40,Iie),[[ie,m(n).params.search]])]),V(i("select",{"onUpdate:modelValue":c[1]||(c[1]=u=>m(n).params.year=u),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:c[2]||(c[2]=u=>m(n).get())},[i("option",{value:m(t)-1},f(m(t)-1),9,jie),i("option",{value:m(t)},f(m(t)),9,Lie),i("option",{value:m(t)+1},f(m(t)+1),9,Fie)],544),[[Ne,m(n).params.year]]),V(i("select",{"onUpdate:modelValue":c[3]||(c[3]=u=>m(n).params.filter=u),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:c[4]||(c[4]=u=>m(n).get())},[i("option",Nie,f(d.__("All")),1),i("option",zie,f(d.__("Upcoming")),1),i("option",Bie,f(d.__("Past")),1)],544),[[Ne,m(n).params.filter]])]),i("div",Uie,[m(Ks)("holiday:create")?(_(),oe(Ve,{key:0,size:"sm",onClick:c[5]||(c[5]=u=>l())},{default:X(()=>[se(f(d.__("Add Holiday")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",Vie,[i("div",Hie,[i("div",Wie,[i("div",qie,[i("table",Kie,[i("thead",null,[i("tr",null,[M(He,{name:"holiday",index:m(n),label:d.__("Name"),sort:"name"},null,8,["index","label"]),M(He,{name:"holiday",index:m(n),label:d.__("Date"),sort:"date"},null,8,["index","label"]),M(He,{name:"holiday",index:m(n),label:d.__("Day")},null,8,["index","label"]),M(He,{name:"holiday",index:m(n),label:d.__("Description")},null,8,["index","label"]),c[8]||(c[8]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",Yie,[(_(!0),b(ue,null,xe(m(n).data.data,u=>(_(),b("tr",{key:u.id,class:"hover:bg-gray-50"},[i("td",Gie,[se(f(u.name)+" ",1),u.is_recurring?(_(),b("span",Xie,f(d.__("Recurring")),1)):P("",!0)]),i("td",Jie,f(new Date(u.date).toLocaleDateString()),1),i("td",Qie,f(new Date(u.date).toLocaleDateString("en-US",{weekday:"long"})),1),i("td",Zie,f(u.description||"-"),1),i("td",ere,[m(Ks)("holiday:update")?(_(),oe(m(jo),{key:0,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:h=>l(u)},null,8,["onClick"])):P("",!0),m(Ks)("holiday:delete")?(_(),oe(m(ls),{key:1,class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:h=>m(n).deleteIt(u.id)},null,8,["onClick"])):P("",!0)])]))),128))])]),M(Gs,{index:m(n)},null,8,["index"])])])])])]),o.show?(_(),oe(zs,{key:0,size:"md",onSaved:c[7]||(c[7]=u=>m(n).get())},{default:X(()=>[M(Sie,{"model-value":o.model,onClose:c[6]||(c[6]=u=>o.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}},sre={class:"border-b border-gray-200 px-6 py-4"},nre={class:"text-lg font-semibold text-gray-900"},ore={class:"space-y-6 px-6 py-4"},ire={key:0},rre={class:"block text-sm font-medium text-gray-700"},are={value:""},lre=["value"],dre={key:0,class:"mt-2 text-sm text-red-600"},cre={key:1,class:"rounded-md bg-gray-50 p-4"},ure={class:"flex items-center"},fre={class:"h-10 w-10 flex-shrink-0"},hre={class:"ml-4"},pre={class:"text-sm font-medium text-gray-900"},mre={class:"text-sm text-gray-500"},gre={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},_re={class:"block text-sm font-medium text-gray-700"},vre={key:0,class:"mt-2 text-sm text-red-600"},yre={class:"block text-sm font-medium text-gray-700"},bre={key:0,class:"mt-2 text-sm text-red-600"},xre={class:"block text-sm font-medium text-gray-700"},wre={key:0,class:"mt-2 text-sm text-red-600"},kre={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},$re={class:"block text-sm font-medium text-gray-700"},Cre={key:0,class:"mt-2 text-sm text-red-600"},Sre={class:"block text-sm font-medium text-gray-700"},Mre={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Tre={class:"block text-sm font-medium text-gray-700"},Dre={key:0,class:"mt-2 text-sm text-red-600"},Are={class:"block text-sm font-medium text-gray-700"},Ere={key:0,class:"mt-2 text-sm text-red-600"},Pre={class:"block text-sm font-medium text-gray-700"},Rre={key:0,class:"mt-2 text-sm text-red-600"},Ore={class:"border-t border-gray-200 pt-6"},Ire={class:"flex items-center justify-between mb-4"},jre={class:"text-lg font-medium text-gray-900"},Lre={key:0,class:"text-center text-gray-500 py-4"},Fre={key:1,class:"space-y-3"},Nre={class:"flex-1 grid grid-cols-1 gap-3 sm:grid-cols-4"},zre=["onUpdate:modelValue"],Bre={value:"allowance"},Ure={value:"bonus"},Vre={value:"deduction"},Hre={class:"sm:col-span-2"},Wre=["onUpdate:modelValue","placeholder"],qre=["onUpdate:modelValue","placeholder"],Kre=["onClick"],Yre={class:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-6"},Gre={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Xre={class:"text-sm font-medium text-gray-500"},Jre={class:"mt-1 text-2xl font-bold text-gray-900"},Qre={class:"text-sm font-medium text-gray-500"},Zre={class:"mt-1 text-2xl font-bold text-red-600"},eae={class:"text-sm font-medium text-gray-500"},tae={class:"mt-1 text-2xl font-bold text-green-600"},sae={class:"block text-sm font-medium text-gray-700"},nae=["placeholder"],oae={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},iae={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){var w,S,C,T,F,L,z,j,E,O,I,W,ye,ve,_e;const t=s,n=e,o=R([]),r=R(!1),a=R({}),l=()=>{const Q=new Date;return`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`},d=Q=>{const[ee,q]=Q.split("-").map(Number),he=new Date(ee,q-1,1),we=new Date(ee,q,0);return{start:he.toISOString().split("T")[0],end:we.toISOString().split("T")[0]}},c=_t({user_id:((w=t.modelValue)==null?void 0:w.user_id)||"",payroll_period:((S=t.modelValue)==null?void 0:S.payroll_period)||l(),period_start:((T=(C=t.modelValue)==null?void 0:C.period_start)==null?void 0:T.split("T")[0])||d(l()).start,period_end:((L=(F=t.modelValue)==null?void 0:F.period_end)==null?void 0:L.split("T")[0])||d(l()).end,basic_salary:((z=t.modelValue)==null?void 0:z.basic_salary)||0,allowances:((j=t.modelValue)==null?void 0:j.allowances)||0,bonuses:((E=t.modelValue)==null?void 0:E.bonuses)||0,deductions:((O=t.modelValue)==null?void 0:O.deductions)||0,gross_salary:((I=t.modelValue)==null?void 0:I.gross_salary)||0,net_salary:((W=t.modelValue)==null?void 0:W.net_salary)||0,currency:((ye=t.modelValue)==null?void 0:ye.currency)||"MWK",notes:((ve=t.modelValue)==null?void 0:ve.notes)||"",items:((_e=t.modelValue)==null?void 0:_e.items)||[]}),u=()=>{if(c.payroll_period){const{start:Q,end:ee}=d(c.payroll_period);c.period_start=Q,c.period_end=ee}},h=()=>{c.gross_salary=(c.basic_salary||0)+(c.allowances||0)+(c.bonuses||0),c.net_salary=c.gross_salary-(c.deductions||0)},p=()=>{let Q=0,ee=0,q=0;c.items.forEach(he=>{const we=parseFloat(he.amount)||0;he.item_type==="allowance"?Q+=we:he.item_type==="bonus"?ee+=we:he.item_type==="deduction"&&(q+=we)}),c.allowances=Q,c.bonuses=ee,c.deductions=q,h()},g=()=>{c.items.push({item_type:"allowance",description:"",amount:0,category:""})},v=Q=>{c.items.splice(Q,1),p()},x=Q=>new Intl.NumberFormat().format(Q||0)+" "+c.currency,y=async()=>{try{const Q=await me.get("users");o.value=Q.data.data}catch{}},$=async()=>{var q,he;r.value=!0,a.value={};const Q=t.modelValue?`payrolls/${t.modelValue.id}`:"payrolls",ee={user_id:c.user_id,payroll_period:c.payroll_period,period_start:c.period_start,period_end:c.period_end,basic_salary:parseFloat(c.basic_salary)||0,allowances:parseFloat(c.allowances)||0,bonuses:parseFloat(c.bonuses)||0,deductions:parseFloat(c.deductions)||0,currency:c.currency,notes:c.notes,items:c.items.filter(we=>we.description&&we.amount>0)};try{t.modelValue?await me.put(Q,ee):await me.post(Q,ee),n("saved"),n("close")}catch(we){(he=(q=we.response)==null?void 0:q.data)!=null&&he.errors&&(a.value=we.response.data.errors)}finally{r.value=!1}};return nt(()=>{t.modelValue||y(),h()}),Bt(()=>t.modelValue,Q=>{var ee,q;Q&&(Object.assign(c,{user_id:Q.user_id,payroll_period:Q.payroll_period||l(),period_start:((ee=Q.period_start)==null?void 0:ee.split("T")[0])||d(l()).start,period_end:((q=Q.period_end)==null?void 0:q.split("T")[0])||d(l()).end,basic_salary:Q.basic_salary||0,allowances:Q.allowances||0,bonuses:Q.bonuses||0,deductions:Q.deductions||0,gross_salary:Q.gross_salary||0,net_salary:Q.net_salary||0,currency:Q.currency||"MWK",notes:Q.notes||"",items:Q.items||[]}),h())},{immediate:!0}),(Q,ee)=>(_(),b("div",null,[i("div",sre,[i("h2",nre,f(s.modelValue?Q.__("Edit Payroll"):Q.__("Create Payroll")),1)]),i("div",ore,[s.modelValue?(_(),b("div",cre,[i("div",ure,[i("div",fre,[M(ms,{user:s.modelValue.user,size:"10"},null,8,["user"])]),i("div",hre,[i("div",pre,f(s.modelValue.user.name),1),i("div",mre,f(s.modelValue.user.email),1)])])])):(_(),b("div",ire,[i("label",rre,[se(f(Q.__("Employee"))+" ",1),ee[11]||(ee[11]=i("span",{class:"text-red-500"},"*",-1))]),V(i("select",{"onUpdate:modelValue":ee[0]||(ee[0]=q=>c.user_id=q),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",are,f(Q.__("Select Employee")),1),(_(!0),b(ue,null,xe(o.value,q=>(_(),b("option",{key:q.id,value:q.id},f(q.name),9,lre))),128))],512),[[Ne,c.user_id]]),a.value.user_id?(_(),b("p",dre,f(a.value.user_id[0]),1)):P("",!0)])),i("div",gre,[i("div",null,[i("label",_re,[se(f(Q.__("Payroll Period"))+" ",1),ee[12]||(ee[12]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":ee[1]||(ee[1]=q=>c.payroll_period=q),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onChange:u},null,544),[[ie,c.payroll_period]]),a.value.payroll_period?(_(),b("p",vre,f(a.value.payroll_period[0]),1)):P("",!0)]),i("div",null,[i("label",yre,[se(f(Q.__("Period Start"))+" ",1),ee[13]||(ee[13]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":ee[2]||(ee[2]=q=>c.period_start=q),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[ie,c.period_start]]),a.value.period_start?(_(),b("p",bre,f(a.value.period_start[0]),1)):P("",!0)]),i("div",null,[i("label",xre,[se(f(Q.__("Period End"))+" ",1),ee[14]||(ee[14]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":ee[3]||(ee[3]=q=>c.period_end=q),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[ie,c.period_end]]),a.value.period_end?(_(),b("p",wre,f(a.value.period_end[0]),1)):P("",!0)])]),i("div",kre,[i("div",null,[i("label",$re,[se(f(Q.__("Basic Salary"))+" ",1),ee[15]||(ee[15]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":ee[4]||(ee[4]=q=>c.basic_salary=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:"",onInput:h},null,544),[[ie,c.basic_salary,void 0,{number:!0}]]),a.value.basic_salary?(_(),b("p",Cre,f(a.value.basic_salary[0]),1)):P("",!0)]),i("div",null,[i("label",Sre,f(Q.__("Currency")),1),V(i("select",{"onUpdate:modelValue":ee[5]||(ee[5]=q=>c.currency=q),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...ee[16]||(ee[16]=[i("option",{value:"MWK"},"MWK (Malawian Kwacha)",-1),i("option",{value:"USD"},"USD (US Dollar)",-1),i("option",{value:"EUR"},"EUR (Euro)",-1),i("option",{value:"GBP"},"GBP (British Pound)",-1)])],512),[[Ne,c.currency]])])]),i("div",Mre,[i("div",null,[i("label",Tre,f(Q.__("Total Allowances")),1),V(i("input",{"onUpdate:modelValue":ee[6]||(ee[6]=q=>c.allowances=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[ie,c.allowances,void 0,{number:!0}]]),a.value.allowances?(_(),b("p",Dre,f(a.value.allowances[0]),1)):P("",!0)]),i("div",null,[i("label",Are,f(Q.__("Total Bonuses")),1),V(i("input",{"onUpdate:modelValue":ee[7]||(ee[7]=q=>c.bonuses=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[ie,c.bonuses,void 0,{number:!0}]]),a.value.bonuses?(_(),b("p",Ere,f(a.value.bonuses[0]),1)):P("",!0)]),i("div",null,[i("label",Pre,f(Q.__("Total Deductions")),1),V(i("input",{"onUpdate:modelValue":ee[8]||(ee[8]=q=>c.deductions=q),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:h},null,544),[[ie,c.deductions,void 0,{number:!0}]]),a.value.deductions?(_(),b("p",Rre,f(a.value.deductions[0]),1)):P("",!0)])]),i("div",Ore,[i("div",Ire,[i("h3",jre,f(Q.__("Payroll Items")),1),M(Ve,{size:"sm",variant:"secondary",onClick:g},{default:X(()=>[M(m(qn),{class:"mr-1 h-4 w-4"}),se(" "+f(Q.__("Add Item")),1)]),_:1})]),c.items.length===0?(_(),b("div",Lre,f(Q.__('No items added. Click "Add Item" to add allowances, bonuses, or deductions.')),1)):(_(),b("div",Fre,[(_(!0),b(ue,null,xe(c.items,(q,he)=>(_(),b("div",{key:he,class:"flex items-start gap-3 rounded-lg border border-gray-200 p-3"},[i("div",Nre,[i("div",null,[V(i("select",{"onUpdate:modelValue":we=>q.item_type=we,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:p},[i("option",Bre,f(Q.__("Allowance")),1),i("option",Ure,f(Q.__("Bonus")),1),i("option",Vre,f(Q.__("Deduction")),1)],40,zre),[[Ne,q.item_type]])]),i("div",Hre,[V(i("input",{"onUpdate:modelValue":we=>q.description=we,type:"text",placeholder:Q.__("Description"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,8,Wre),[[ie,q.description]])]),i("div",null,[V(i("input",{"onUpdate:modelValue":we=>q.amount=we,type:"number",step:"0.01",placeholder:Q.__("Amount"),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:p},null,40,qre),[[ie,q.amount,void 0,{number:!0}]])])]),i("button",{type:"button",class:"text-red-500 hover:text-red-700",onClick:we=>v(he)},[M(m(ls),{class:"h-5 w-5"})],8,Kre)]))),128))]))]),i("div",Yre,[i("div",Gre,[i("div",null,[i("div",Xre,f(Q.__("Gross Salary")),1),i("div",Jre,f(x(c.gross_salary)),1)]),i("div",null,[i("div",Qre,f(Q.__("Total Deductions")),1),i("div",Zre,f(x(c.deductions)),1)]),i("div",null,[i("div",eae,f(Q.__("Net Salary")),1),i("div",tae,f(x(c.net_salary)),1)])])]),i("div",null,[i("label",sae,f(Q.__("Notes")),1),V(i("textarea",{"onUpdate:modelValue":ee[9]||(ee[9]=q=>c.notes=q),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:Q.__("Optional notes")},null,8,nae),[[ie,c.notes]])])]),i("div",oae,[M(Ve,{variant:"secondary",onClick:ee[10]||(ee[10]=q=>Q.$emit("close"))},{default:X(()=>[se(f(Q.__("Cancel")),1)]),_:1}),M(Ve,{disabled:r.value,onClick:$},{default:X(()=>[se(f(s.modelValue?Q.__("Update Payroll"):Q.__("Create Payroll")),1)]),_:1},8,["disabled"])])]))}},rae={key:0,class:"mt-8 flex justify-center"},aae={key:1},lae={class:"mb-6"},dae={class:"text-2xl font-bold text-gray-900"},cae={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},uae={class:"overflow-hidden rounded-lg bg-white shadow"},fae={class:"p-5"},hae={class:"flex items-center"},pae={class:"flex-shrink-0"},mae={class:"ml-5 w-0 flex-1"},gae={class:"truncate text-sm font-medium text-gray-500"},_ae={class:"text-lg font-semibold text-gray-900"},vae={class:"overflow-hidden rounded-lg bg-white shadow"},yae={class:"p-5"},bae={class:"flex items-center"},xae={class:"flex-shrink-0"},wae={class:"ml-5 w-0 flex-1"},kae={class:"truncate text-sm font-medium text-gray-500"},$ae={class:"text-lg font-semibold text-gray-900"},Cae={class:"overflow-hidden rounded-lg bg-white shadow"},Sae={class:"p-5"},Mae={class:"flex items-center"},Tae={class:"flex-shrink-0"},Dae={class:"ml-5 w-0 flex-1"},Aae={class:"truncate text-sm font-medium text-gray-500"},Eae={class:"text-lg font-semibold text-gray-900"},Pae={class:"overflow-hidden rounded-lg bg-white shadow"},Rae={class:"p-5"},Oae={class:"flex items-center"},Iae={class:"flex-shrink-0"},jae={class:"ml-5 w-0 flex-1"},Lae={class:"truncate text-sm font-medium text-gray-500"},Fae={class:"text-lg font-semibold text-gray-900"},Nae={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},zae={class:"flex flex-1 gap-2"},Bae={class:"relative w-64 rounded-md shadow-sm"},Uae={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Vae=["placeholder"],Hae={value:""},Wae={value:"draft"},qae={value:"approved"},Kae={value:"paid"},Yae={value:"sent"},Gae={class:"flex gap-2"},Xae={class:"flex flex-col"},Jae={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Qae={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Zae={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},ele={class:"min-w-full divide-y divide-gray-200"},tle={class:"divide-y divide-gray-200 bg-white"},sle={key:0,class:"hover:bg-gray-50"},nle={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},ole={class:"whitespace-nowrap px-6 py-4"},ile={class:"flex items-center"},rle={class:"h-10 w-10 flex-shrink-0"},ale={class:"ml-4"},lle={class:"text-sm font-medium text-gray-900"},dle={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},cle={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ule={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold text-gray-900"},fle={class:"whitespace-nowrap px-6 py-4 text-sm"},hle={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ple={class:"flex items-center justify-end gap-2"},mle={class:"border-b border-gray-200 px-6 py-4"},gle={class:"text-lg font-semibold text-gray-900"},_le={class:"space-y-4 px-6 py-4"},vle={class:"block text-sm font-medium text-gray-700"},yle={class:"text-sm text-gray-600"},ble={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},xle={__name:"Index",setup(s){const e=uo(),t=R(!0),n=R(null),o=No("payrolls",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=_t({show:!1,model:null}),a=_t({show:!1,month:new Date().toISOString().slice(0,7)});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{o.get()},300)},c=(y=null)=>{r.model=y,r.show=!0},u=()=>{a.show=!0},h=async()=>{try{const y=await me.post("payrolls/generate",{month:a.month});alert(y.data.message),a.show=!1,o.get()}catch{alert("Failed to generate payroll")}},p=async y=>{if(confirm("Are you sure you want to approve this payroll?"))try{await me.post(`payrolls/${y}/approve`),o.get(),x()}catch{}},g=async y=>{if(confirm("Mark this payroll as paid?"))try{await me.post(`payrolls/${y}/mark-as-paid`),o.get(),x()}catch{}},v=y=>{e.push(`/payrolls/${y}`)},x=async()=>{try{const y=await me.get("payrolls/statistics");n.value=y.data.data}catch{}};return nt(async()=>{try{await o.get(),await x(),t.value=!1}catch{t.value=!1}}),(y,$)=>{var w,S,C;return t.value?(_(),b("div",rae,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",aae,[i("div",lae,[i("h1",dae,f(y.__("Payroll Management")),1)]),n.value?(_(),b("div",cae,[i("div",uae,[i("div",fae,[i("div",hae,[i("div",pae,[M(m(Uh),{class:"h-6 w-6 text-gray-400"})]),i("div",mae,[i("dl",null,[i("dt",gae,f(y.__("Draft")),1),i("dd",_ae,f(n.value.draft),1)])])])])]),i("div",vae,[i("div",yae,[i("div",bae,[i("div",xae,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",wae,[i("dl",null,[i("dt",kae,f(y.__("Approved")),1),i("dd",$ae,f(n.value.approved),1)])])])])]),i("div",Cae,[i("div",Sae,[i("div",Mae,[i("div",Tae,[M(m(zh),{class:"h-6 w-6 text-blue-400"})]),i("div",Dae,[i("dl",null,[i("dt",Aae,f(y.__("Paid")),1),i("dd",Eae,f(n.value.paid),1)])])])])]),i("div",Pae,[i("div",Rae,[i("div",Oae,[i("div",Iae,[M(m(Ec),{class:"h-6 w-6 text-yellow-400"})]),i("div",jae,[i("dl",null,[i("dt",Lae,f(y.__("This Month")),1),i("dd",Fae,f(new Intl.NumberFormat().format(n.value.this_month_total)),1)])])])])])])):P("",!0),i("div",Nae,[i("div",zae,[i("div",Bae,[i("div",Uae,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":$[0]||($[0]=T=>m(o).params.search=T),type:"search",placeholder:y.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,Vae),[[ie,m(o).params.search]])]),V(i("select",{"onUpdate:modelValue":$[1]||($[1]=T=>m(o).params.status=T),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:$[2]||($[2]=T=>m(o).get())},[i("option",Hae,f(y.__("All Statuses")),1),i("option",Wae,f(y.__("Draft")),1),i("option",qae,f(y.__("Approved")),1),i("option",Kae,f(y.__("Paid")),1),i("option",Yae,f(y.__("Sent")),1)],544),[[Ne,m(o).params.status]])]),i("div",Gae,[M(Ve,{variant:"secondary",onClick:u},{default:X(()=>[M(m(X4),{class:"mr-2 h-4 w-4"}),se(" "+f(y.__("Generate Payroll")),1)]),_:1}),m(Ks)("payroll:create")?(_(),oe(Ve,{key:0,onClick:$[3]||($[3]=T=>c())},{default:X(()=>[se(f(y.__("Create Payroll")),1)]),_:1})):P("",!0)])]),i("section",null,[i("div",Xae,[i("div",Jae,[i("div",Qae,[i("div",Zae,[i("table",ele,[i("thead",null,[i("tr",null,[M(He,{name:"payroll",index:m(o),label:y.__("Employee")},null,8,["index","label"]),M(He,{name:"payroll",index:m(o),label:y.__("Period"),sort:"payroll_period"},null,8,["index","label"]),M(He,{name:"payroll",index:m(o),label:y.__("Basic Salary"),sort:"basic_salary"},null,8,["index","label"]),M(He,{name:"payroll",index:m(o),label:y.__("Net Salary"),sort:"net_salary"},null,8,["index","label"]),M(He,{name:"payroll",index:m(o),label:y.__("Status"),sort:"status"},null,8,["index","label"]),$[8]||($[8]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",tle,[(S=(w=m(o).data)==null?void 0:w.data)!=null&&S.length?P("",!0):(_(),b("tr",sle,[i("td",nle,f(y.__("No payrolls found")),1)])),(_(!0),b(ue,null,xe(((C=m(o).data)==null?void 0:C.data)||[],T=>(_(),b("tr",{key:T.id,class:"hover:bg-gray-50"},[i("td",ole,[i("div",ile,[i("div",rle,[M(ms,{user:T.user,size:"10"},null,8,["user"])]),i("div",ale,[i("div",lle,f(T.user.name),1)])])]),i("td",dle,f(T.payroll_period),1),i("td",cle,f(new Intl.NumberFormat().format(T.basic_salary))+" "+f(T.currency),1),i("td",ule,f(new Intl.NumberFormat().format(T.net_salary))+" "+f(T.currency),1),i("td",fle,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-gray-100 text-gray-800":T.status==="draft","bg-green-100 text-green-800":T.status==="approved","bg-blue-100 text-blue-800":T.status==="paid","bg-purple-100 text-purple-800":T.status==="sent"}])},f(T.status.charAt(0).toUpperCase()+T.status.slice(1)),3)]),i("td",hle,[i("div",ple,[T.status==="draft"&&m(Ks)("payroll:approve")?(_(),oe(Ve,{key:0,size:"xs",variant:"success",onClick:F=>p(T.id)},{default:X(()=>[se(f(y.__("Approve")),1)]),_:1},8,["onClick"])):P("",!0),T.status==="approved"&&m(Ks)("payroll:pay")?(_(),oe(Ve,{key:1,size:"xs",onClick:F=>g(T.id)},{default:X(()=>[se(f(y.__("Mark Paid")),1)]),_:1},8,["onClick"])):P("",!0),M(m(Io),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>v(T.id)},null,8,["onClick"]),T.status==="draft"&&m(Ks)("payroll:update")?(_(),oe(m(jo),{key:2,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>c(T)},null,8,["onClick"])):P("",!0),T.status==="draft"&&m(Ks)("payroll:delete")?(_(),oe(m(ls),{key:3,class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:F=>m(o).deleteIt(T.id)},null,8,["onClick"])):P("",!0)])])]))),128))])]),M(Gs,{index:m(o)},null,8,["index"])])])])])]),a.show?(_(),oe(lo,{key:1,width:"max-w-md"},{default:X(()=>[i("div",mle,[i("h2",gle,f(y.__("Generate Payroll for Month")),1)]),i("div",_le,[i("div",null,[i("label",vle,f(y.__("Month")),1),V(i("input",{"onUpdate:modelValue":$[4]||($[4]=T=>a.month=T),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[ie,a.month]])]),i("p",yle,f(y.__("This will generate draft payroll records for all active employees for the selected month.")),1)]),i("div",ble,[M(Ve,{variant:"secondary",onClick:$[5]||($[5]=T=>a.show=!1)},{default:X(()=>[se(f(y.__("Cancel")),1)]),_:1}),M(Ve,{onClick:h},{default:X(()=>[se(f(y.__("Generate")),1)]),_:1})])]),_:1})):P("",!0),r.show?(_(),oe(zs,{key:2,size:"2xl",onSaved:$[7]||($[7]=T=>m(o).get())},{default:X(()=>[M(iae,{"model-value":r.model,onClose:$[6]||($[6]=T=>r.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}}},wle={class:"border-b border-gray-200 px-6 py-4"},kle={class:"text-lg font-semibold text-gray-900"},$le={class:"space-y-6 px-6 py-4"},Cle={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Sle={class:"block text-sm font-medium text-gray-700"},Mle=["placeholder"],Tle={key:0,class:"mt-2 text-sm text-red-600"},Dle={class:"block text-sm font-medium text-gray-700"},Ale=["placeholder"],Ele={key:0,class:"mt-2 text-sm text-red-600"},Ple={class:"block text-sm font-medium text-gray-700"},Rle=["placeholder"],Ole={key:0,class:"mt-2 text-sm text-red-600"},Ile={class:"block text-sm font-medium text-gray-700"},jle=["placeholder"],Lle={class:"border-t border-gray-200 pt-6"},Fle={class:"mb-4 text-md font-medium text-gray-900"},Nle={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},zle={class:"block text-sm font-medium text-gray-700"},Ble=["placeholder"],Ule={class:"block text-sm font-medium text-gray-700"},Vle=["placeholder"],Hle={class:"block text-sm font-medium text-gray-700"},Wle={key:0,class:"mt-2 text-sm text-red-600"},qle={class:"block text-sm font-medium text-gray-700"},Kle={value:"prospect"},Yle={value:"active"},Gle={value:"inactive"},Xle={key:0,class:"mt-2 text-sm text-red-600"},Jle={class:"border-t border-gray-200 pt-6"},Qle={class:"mb-4 text-md font-medium text-gray-900"},Zle={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ede={class:"sm:col-span-2"},tde={class:"block text-sm font-medium text-gray-700"},sde=["placeholder"],nde={class:"block text-sm font-medium text-gray-700"},ode={value:""},ide=["value"],rde={class:"block text-sm font-medium text-gray-700"},ade={value:""},lde=["value"],dde=["placeholder"],cde={class:"border-t border-gray-200 pt-6"},ude={class:"block text-sm font-medium text-gray-700"},fde=["placeholder"],hde={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},pde={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,o=R(!1),r=R({}),a=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],l={Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Kasungu","Mangochi","Karonga","Salima","Nkhotakota","Liwonde","Nsanje","Rumphi","Dedza","Ntcheu","Balaka","Mchinji","Mulanje","Thyolo","Chiradzulu","Phalombe","Chitipa","Nkhata Bay","Likoma","Ntchisi","Dowa","Mwanza","Neno","Chikwawa","Machinga","Monkey Bay","Cape Maclear","Chipoka","Dwangwa","Ekwendeni","Jenda","Luchenza","Lunzu","Migowi","Mponela","Mzimba","Nkaya","Songwe","Thekerani","Chilumba","Embangweni","Livingstonia","Makanjira","Malomo","Namitete"],Zambia:["Lusaka","Kitwe","Ndola","Kabwe","Chingola","Mufulira","Livingstone","Luanshya","Kasama","Chipata","Kalulushi","Mazabuka","Mongu","Solwezi","Choma","Kafue","Mansa","Mpika","Petauke","Senanga"],Tanzania:["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar City","Kigoma","Moshi","Tabora","Songea","Musoma","Shinyanga","Iringa","Sumbawanga","Mtwara","Lindi","Bukoba","Singida"],Mozambique:["Maputo","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Lichinga","Pemba","Xai-Xai","Maxixe","Inhambane","Cuamba","Montepuez","Chokwe","Dondo","Angoche","Mocuba","Guru","Matola"],Zimbabwe:["Harare","Bulawayo","Chitungwiza","Mutare","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Marondera","Norton","Chegutu","Bindura","Beitbridge","Victoria Falls","Hwange","Kariba","Rusape","Chiredzi","Zvishavane"],"South Africa":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Polokwane","Nelspruit","Kimberley","Rustenburg","Pietermaritzburg","Vanderbijlpark","Soweto","Benoni","Tembisa","Welkom","Midrand","Sandton","Centurion"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Malindi","Kitale","Garissa","Nyeri","Machakos","Meru","Lamu","Naivasha","Embu","Kakamega","Kericho","Bungoma","Migori","Kilifi"],Uganda:["Kampala","Gulu","Lira","Mbarara","Jinja","Mbale","Mukono","Masaka","Entebbe","Kasese","Hoima","Arua","Fort Portal","Soroti","Kabale","Tororo","Iganga","Mityana","Mubende","Masindi"],Botswana:["Gaborone","Francistown","Molepolole","Serowe","Selibe Phikwe","Maun","Kanye","Mahalapye","Mogoditshane","Mochudi","Lobatse","Palapye","Ramotswa","Thamaga","Jwaneng","Letlhakane","Orapa","Kasane","Nata","Ghanzi"],"United Kingdom":["London","Birmingham","Manchester","Glasgow","Liverpool","Leeds","Sheffield","Edinburgh","Bristol","Leicester","Coventry","Bradford","Cardiff","Belfast","Nottingham","Newcastle","Southampton","Brighton","Plymouth","Oxford"],"United States":["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington D.C.","Boston","Nashville","Detroit","Portland","Las Vegas","Miami","Atlanta"],China:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin","Suzhou","Chongqing","Qingdao","Dalian","Xiamen","Ningbo","Zhengzhou","Changsha","Dongguan","Shenyang"],India:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Ahmedabad","Pune","Surat","Jaipur","Lucknow","Kanpur","Nagpur","Patna","Indore","Thane","Bhopal","Visakhapatnam","Vadodara","Coimbatore"],Nigeria:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Abeokuta","Sokoto","Onitsha","Warri","Calabar","Uyo","Kaduna"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Tema","Cape Coast","Sekondi","Obuasi","Teshie","Koforidua","Sunyani","Ho","Wa","Bolgatanga","Techiman","Nungua","Madina","Kasoa","Aflao"],Ethiopia:["Addis Ababa","Dire Dawa","Mekelle","Gondar","Hawassa","Bahir Dar","Adama","Jimma","Dessie","Jijiga","Harar","Shashamane","Debre Birhan","Arba Minch","Hosaena","Dilla","Nekemte","Asella","Debre Markos","Kombolcha"],Rwanda:["Kigali","Butare","Gitarama","Ruhengeri","Gisenyi","Byumba","Cyangugu","Nyanza","Kibungo","Kibuye"],Burundi:["Bujumbura","Gitega","Muyinga","Ruyigi","Ngozi","Rutana","Bururi","Makamba","Kayanza","Muramvya"],"Democratic Republic of the Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Tshikapa","Kolwezi","Likasi","Goma"]},d=Pe(()=>c.country&&l[c.country]?[...l[c.country]].sort():[]);Bt(()=>c.country,(h,p)=>{p&&h!==p&&((l[h]||[]).includes(c.city)||(c.city=""))});const c=_t({name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"}),u=async()=>{var p,g;o.value=!0,r.value={};const h=t.modelValue?`clients/${t.modelValue.id}`:"clients";try{t.modelValue?await me.put(h,c):await me.post(h,c),n("saved"),n("close")}catch(v){(g=(p=v.response)==null?void 0:p.data)!=null&&g.errors&&(r.value=v.response.data.errors)}finally{o.value=!1}};return Bt(()=>t.modelValue,h=>{h?Object.assign(c,{name:h.name||"",email:h.email||"",phone:h.phone||"",secondary_phone:h.secondary_phone||"",company_name:h.company_name||"",business_type:h.business_type||"",address:h.address||"",city:h.city||"",country:h.country||"",website:h.website||"",notes:h.notes||"",status:h.status||"prospect"}):Object.assign(c,{name:"",email:"",phone:"",secondary_phone:"",company_name:"",business_type:"",address:"",city:"",country:"",website:"",notes:"",status:"prospect"})},{immediate:!0}),(h,p)=>(_(),b("div",null,[i("div",wle,[i("h2",kle,f(s.modelValue?h.__("Edit Client"):h.__("Add Client")),1)]),i("div",$le,[i("div",Cle,[i("div",null,[i("label",Sle,[se(f(h.__("Name"))+" ",1),p[14]||(p[14]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>c.name=g),type:"text",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.name}]),placeholder:h.__("Client name"),required:""},null,10,Mle),[[ie,c.name]]),r.value.name?(_(),b("p",Tle,f(r.value.name[0]),1)):P("",!0)]),i("div",null,[i("label",Dle,f(h.__("Email")),1),V(i("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>c.email=g),type:"email",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.email}]),placeholder:h.__("email@example.com")},null,10,Ale),[[ie,c.email]]),r.value.email?(_(),b("p",Ele,f(r.value.email[0]),1)):P("",!0)]),i("div",null,[i("label",Ple,f(h.__("Phone")),1),V(i("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>c.phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Primary phone number")},null,8,Rle),[[ie,c.phone]]),r.value.phone?(_(),b("p",Ole,f(r.value.phone[0]),1)):P("",!0)]),i("div",null,[i("label",Ile,f(h.__("Secondary Phone")),1),V(i("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>c.secondary_phone=g),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Alternative phone number")},null,8,jle),[[ie,c.secondary_phone]])])]),i("div",Lle,[i("h3",Fle,f(h.__("Company Information")),1),i("div",Nle,[i("div",null,[i("label",zle,f(h.__("Company Name")),1),V(i("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>c.company_name=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Company or organization name")},null,8,Ble),[[ie,c.company_name]])]),i("div",null,[i("label",Ule,f(h.__("Business Type")),1),V(i("input",{"onUpdate:modelValue":p[5]||(p[5]=g=>c.business_type=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("e.g., Retail, Technology, Healthcare")},null,8,Vle),[[ie,c.business_type]])]),i("div",null,[i("label",Hle,f(h.__("Website")),1),V(i("input",{"onUpdate:modelValue":p[6]||(p[6]=g=>c.website=g),type:"url",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.website}]),placeholder:"https://example.com"},null,2),[[ie,c.website]]),r.value.website?(_(),b("p",Wle,f(r.value.website[0]),1)):P("",!0)]),i("div",null,[i("label",qle,[se(f(h.__("Status"))+" ",1),p[15]||(p[15]=i("span",{class:"text-red-500"},"*",-1))]),V(i("select",{"onUpdate:modelValue":p[7]||(p[7]=g=>c.status=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[i("option",Kle,f(h.__("Prospect")),1),i("option",Yle,f(h.__("Active")),1),i("option",Gle,f(h.__("Inactive")),1)],512),[[Ne,c.status]]),r.value.status?(_(),b("p",Xle,f(r.value.status[0]),1)):P("",!0)])])]),i("div",Jle,[i("h3",Qle,f(h.__("Address")),1),i("div",Zle,[i("div",ede,[i("label",tde,f(h.__("Address")),1),V(i("textarea",{"onUpdate:modelValue":p[8]||(p[8]=g=>c.address=g),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Street address")},null,8,sde),[[ie,c.address]])]),i("div",null,[i("label",nde,f(h.__("Country")),1),V(i("select",{"onUpdate:modelValue":p[9]||(p[9]=g=>c.country=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",ode,f(h.__("Select Country")),1),(_(),b(ue,null,xe(a,g=>i("option",{key:g,value:g},f(g),9,ide)),64))],512),[[Ne,c.country]])]),i("div",null,[i("label",rde,f(h.__("City")),1),d.value.length>0?V((_(),b("select",{key:0,"onUpdate:modelValue":p[10]||(p[10]=g=>c.city=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",ade,f(h.__("Select City")),1),(_(!0),b(ue,null,xe(d.value,g=>(_(),b("option",{key:g,value:g},f(g),9,lde))),128))],512)),[[Ne,c.city]]):V((_(),b("input",{key:1,"onUpdate:modelValue":p[11]||(p[11]=g=>c.city=g),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.country?h.__("Enter city name"):h.__("Select country first")},null,8,dde)),[[ie,c.city]])])])]),i("div",cde,[i("label",ude,f(h.__("Notes")),1),V(i("textarea",{"onUpdate:modelValue":p[12]||(p[12]=g=>c.notes=g),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:h.__("Additional notes about this client")},null,8,fde),[[ie,c.notes]])])]),i("div",hde,[M(Ve,{variant:"secondary",onClick:p[13]||(p[13]=g=>h.$emit("close"))},{default:X(()=>[se(f(h.__("Cancel")),1)]),_:1}),M(Ve,{disabled:o.value,onClick:u},{default:X(()=>[se(f(s.modelValue?h.__("Update Client"):h.__("Create Client")),1)]),_:1},8,["disabled"])])]))}},mde={key:0,class:"mt-8 flex justify-center"},gde={key:1},_de={class:"mb-6"},vde={class:"text-2xl font-bold text-gray-900"},yde={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},bde={class:"overflow-hidden rounded-lg bg-white shadow"},xde={class:"p-5"},wde={class:"flex items-center"},kde={class:"flex-shrink-0"},$de={class:"ml-5 w-0 flex-1"},Cde={class:"truncate text-sm font-medium text-gray-500"},Sde={class:"text-lg font-semibold text-gray-900"},Mde={class:"overflow-hidden rounded-lg bg-white shadow"},Tde={class:"p-5"},Dde={class:"flex items-center"},Ade={class:"flex-shrink-0"},Ede={class:"ml-5 w-0 flex-1"},Pde={class:"truncate text-sm font-medium text-gray-500"},Rde={class:"text-lg font-semibold text-gray-900"},Ode={class:"overflow-hidden rounded-lg bg-white shadow"},Ide={class:"p-5"},jde={class:"flex items-center"},Lde={class:"flex-shrink-0"},Fde={class:"ml-5 w-0 flex-1"},Nde={class:"truncate text-sm font-medium text-gray-500"},zde={class:"text-lg font-semibold text-gray-900"},Bde={class:"overflow-hidden rounded-lg bg-white shadow"},Ude={class:"p-5"},Vde={class:"flex items-center"},Hde={class:"flex-shrink-0"},Wde={class:"ml-5 w-0 flex-1"},qde={class:"truncate text-sm font-medium text-gray-500"},Kde={class:"text-lg font-semibold text-gray-900"},Yde={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Gde={class:"flex flex-1 gap-2"},Xde={class:"relative w-64 rounded-md shadow-sm"},Jde={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Qde=["placeholder"],Zde={value:""},ece={value:"active"},tce={value:"inactive"},sce={value:"prospect"},nce={class:"flex gap-2"},oce={class:"flex flex-col"},ice={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},rce={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ace={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},lce={class:"min-w-full divide-y divide-gray-200"},dce={class:"divide-y divide-gray-200 bg-white"},cce={key:0,class:"hover:bg-gray-50"},uce={colspan:"6",class:"px-6 py-8 text-center text-gray-500"},fce={class:"whitespace-nowrap px-6 py-4"},hce={class:"flex items-center"},pce={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100"},mce={class:"text-sm font-medium text-indigo-600"},gce={class:"ml-4"},_ce={class:"text-sm font-medium text-gray-900"},vce={key:0,class:"text-sm text-gray-500"},yce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},bce={key:0},xce={key:1,class:"text-xs text-gray-400"},wce={key:2},kce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},$ce={key:0},Cce={key:1,class:"text-xs text-gray-400"},Sce={key:2},Mce={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},Tce={key:0},Dce={key:1},Ace={class:"whitespace-nowrap px-6 py-4 text-sm"},Ece={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},Pce={class:"flex items-center justify-end gap-2"},Rce={__name:"Index",setup(s){const e=uo(),t=R(!0),n=R(null),o=No("clients",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=_t({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{o.get()},300)},d=(p=null)=>{r.model=p,r.show=!0},c=p=>{e.push(`/clients/${p}`)},u=()=>{o.get(),h()},h=async()=>{try{const p=await me.get("clients/statistics");n.value=p.data.data}catch{}};return nt(async()=>{try{await o.get(),await h(),t.value=!1}catch{t.value=!1}}),(p,g)=>{var v,x,y;return t.value?(_(),b("div",mde,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",gde,[i("div",_de,[i("h1",vde,f(p.__("Client Management")),1)]),n.value?(_(),b("div",yde,[i("div",bde,[i("div",xde,[i("div",wde,[i("div",kde,[M(m(Ic),{class:"h-6 w-6 text-gray-400"})]),i("div",$de,[i("dl",null,[i("dt",Cde,f(p.__("Total Clients")),1),i("dd",Sde,f(n.value.total),1)])])])])]),i("div",Mde,[i("div",Tde,[i("div",Dde,[i("div",Ade,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",Ede,[i("dl",null,[i("dt",Pde,f(p.__("Active")),1),i("dd",Rde,f(n.value.active),1)])])])])]),i("div",Ode,[i("div",Ide,[i("div",jde,[i("div",Lde,[M(m(Oo),{class:"h-6 w-6 text-yellow-400"})]),i("div",Fde,[i("dl",null,[i("dt",Nde,f(p.__("Prospects")),1),i("dd",zde,f(n.value.prospect),1)])])])])]),i("div",Bde,[i("div",Ude,[i("div",Vde,[i("div",Hde,[M(m(xn),{class:"h-6 w-6 text-red-400"})]),i("div",Wde,[i("dl",null,[i("dt",qde,f(p.__("Inactive")),1),i("dd",Kde,f(n.value.inactive),1)])])])])])])):P("",!0),i("div",Yde,[i("div",Gde,[i("div",Xde,[i("div",Jde,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":g[0]||(g[0]=$=>m(o).params.search=$),type:"search",placeholder:p.__("Search clients..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Qde),[[ie,m(o).params.search]])]),V(i("select",{"onUpdate:modelValue":g[1]||(g[1]=$=>m(o).params.status=$),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:g[2]||(g[2]=$=>m(o).get())},[i("option",Zde,f(p.__("All Statuses")),1),i("option",ece,f(p.__("Active")),1),i("option",tce,f(p.__("Inactive")),1),i("option",sce,f(p.__("Prospect")),1)],544),[[Ne,m(o).params.status]])]),i("div",nce,[M(Ve,{onClick:g[3]||(g[3]=$=>d())},{default:X(()=>[M(m(qn),{class:"mr-2 h-4 w-4"}),se(" "+f(p.__("Add Client")),1)]),_:1})])]),i("section",null,[i("div",oce,[i("div",ice,[i("div",rce,[i("div",ace,[i("table",lce,[i("thead",null,[i("tr",null,[M(He,{name:"client",index:m(o),label:p.__("Name"),sort:"name"},null,8,["index","label"]),M(He,{name:"client",index:m(o),label:p.__("Company"),sort:"company_name"},null,8,["index","label"]),M(He,{name:"client",index:m(o),label:p.__("Contact")},null,8,["index","label"]),M(He,{name:"client",index:m(o),label:p.__("Location")},null,8,["index","label"]),M(He,{name:"client",index:m(o),label:p.__("Status"),sort:"status"},null,8,["index","label"]),g[5]||(g[5]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",dce,[(x=(v=m(o).data)==null?void 0:v.data)!=null&&x.length?P("",!0):(_(),b("tr",cce,[i("td",uce,f(p.__("No clients found")),1)])),(_(!0),b(ue,null,xe(((y=m(o).data)==null?void 0:y.data)||[],$=>(_(),b("tr",{key:$.id,class:"hover:bg-gray-50"},[i("td",fce,[i("div",hce,[i("div",pce,[i("span",mce,f($.name.charAt(0).toUpperCase()),1)]),i("div",gce,[i("div",_ce,f($.name),1),$.email?(_(),b("div",vce,f($.email),1)):P("",!0)])])]),i("td",yce,[$.company_name?(_(),b("div",bce,f($.company_name),1)):P("",!0),$.business_type?(_(),b("div",xce,f($.business_type),1)):P("",!0),$.company_name?P("",!0):(_(),b("span",wce,"-"))]),i("td",kce,[$.phone?(_(),b("div",$ce,f($.phone),1)):P("",!0),$.secondary_phone?(_(),b("div",Cce,f($.secondary_phone),1)):P("",!0),$.phone?P("",!0):(_(),b("span",Sce,"-"))]),i("td",Mce,[$.city||$.country?(_(),b("div",Tce,f([$.city,$.country].filter(Boolean).join(", ")),1)):(_(),b("span",Dce,"-"))]),i("td",Ace,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-green-100 text-green-800":$.status==="active","bg-gray-100 text-gray-800":$.status==="inactive","bg-yellow-100 text-yellow-800":$.status==="prospect"}])},f($.status.charAt(0).toUpperCase()+$.status.slice(1)),3)]),i("td",Ece,[i("div",Pce,[M(m(Io),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:w=>c($.id)},null,8,["onClick"]),M(m(jo),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:w=>d($)},null,8,["onClick"]),M(m(ls),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:w=>m(o).deleteIt($.id)},null,8,["onClick"])])])]))),128))])]),M(Gs,{index:m(o)},null,8,["index"])])])])])]),r.show?(_(),oe(zs,{key:1,size:"2xl",onSaved:u},{default:X(()=>[M(pde,{"model-value":r.model,onClose:g[4]||(g[4]=$=>r.show=!1)},null,8,["model-value"])]),_:1})):P("",!0)]))}}},Oce={class:"border-b border-gray-200 px-6 py-4"},Ice={class:"text-lg font-semibold text-gray-900"},jce={class:"max-h-[70vh] overflow-y-auto px-6 py-4"},Lce={class:"mb-6"},Fce={class:"mb-4 text-md font-medium text-gray-900"},Nce={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},zce={class:"block text-sm font-medium text-gray-700"},Bce={key:0,class:"mt-1 text-sm text-red-600"},Uce={class:"block text-sm font-medium text-gray-700"},Vce={key:0,class:"mt-1 text-sm text-red-600"},Hce={class:"block text-sm font-medium text-gray-700"},Wce={class:"block text-sm font-medium text-gray-700"},qce={class:"mb-6 border-t border-gray-200 pt-6"},Kce={class:"mb-4 text-md font-medium text-gray-900"},Yce={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},Gce={class:"block text-sm font-medium text-gray-700"},Xce={key:0,class:"mt-1 text-sm text-red-600"},Jce={class:"block text-sm font-medium text-gray-700"},Qce={key:0,class:"mt-1 text-sm text-red-600"},Zce={class:"block text-sm font-medium text-gray-700"},eue={class:"block text-sm font-medium text-gray-700"},tue={value:"style_1"},sue={value:"style_2"},nue={value:"style_3"},oue={value:"style_4"},iue={value:"style_5"},rue={value:"style_6"},aue={value:"style_7"},lue={value:"style_8"},due={class:"mb-6 border-t border-gray-200 pt-6"},cue={class:"mb-4 flex items-center justify-between"},uue={class:"text-md font-medium text-gray-900"},fue={class:"overflow-hidden rounded-lg border border-gray-200"},hue={class:"min-w-full divide-y divide-gray-200"},pue={class:"bg-gray-50"},mue={class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},gue={class:"w-24 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},_ue={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},vue={class:"w-32 px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},yue={class:"divide-y divide-gray-200 bg-white"},bue={class:"px-4 py-2"},xue=["onUpdate:modelValue","placeholder"],wue={key:0,class:"mt-1 text-xs text-red-600"},kue={class:"px-4 py-2"},$ue=["onUpdate:modelValue","onInput"],Cue={class:"px-4 py-2"},Sue=["onUpdate:modelValue","onInput"],Mue={class:"px-4 py-2 text-sm font-medium text-gray-900"},Tue={class:"px-4 py-2"},Due=["onClick"],Aue={key:0,class:"mt-2 text-sm text-red-600"},Eue={class:"mb-6 flex justify-end"},Pue={class:"w-80 space-y-2"},Rue={class:"flex justify-between text-sm"},Oue={class:"text-gray-600"},Iue={class:"font-medium"},jue={class:"flex items-center justify-between text-sm"},Lue={class:"text-gray-600"},Fue={class:"flex justify-between text-sm"},Nue={class:"text-gray-600"},zue={class:"font-medium"},Bue={class:"flex items-center justify-between text-sm"},Uue={class:"text-gray-600"},Vue={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-semibold"},Hue={class:"text-indigo-600"},Wue={class:"border-t border-gray-200 pt-6"},que={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Kue={class:"block text-sm font-medium text-gray-700"},Yue=["placeholder"],Gue={class:"block text-sm font-medium text-gray-700"},Xue=["placeholder"],Jue={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Que={class:"block text-sm font-medium text-gray-700"},Zue={value:"draft"},efe={value:"sent"},tfe={value:"accepted"},sfe={value:"rejected"},nfe={value:"expired"},ofe={class:"flex justify-end gap-3 bg-gray-50 px-6 py-4"},Tb={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close","saved"],setup(s,{emit:e}){const t=s,n=e,o=R(!1),r=R({}),a=()=>({description:"",quantity:1,unit_price:0}),l=_t({customer_name:"",customer_email:"",customer_phone:"",customer_address:"",quotation_date:new Date().toISOString().split("T")[0],valid_until:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:"MWK",tax_rate:16.5,discount_amount:0,template:"style_1",notes:"",terms:`Payment is due within 14 days of acceptance.
Prices are valid for 30 days from quotation date.`,status:"draft",items:[a()]}),d=Pe(()=>l.items.reduce((y,$)=>y+$.quantity*$.unit_price,0)),c=Pe(()=>d.value*(l.tax_rate/100)),u=Pe(()=>d.value+c.value-l.discount_amount),h=()=>{l.items.push(a())},p=y=>{l.items.length>1&&l.items.splice(y,1)},g=y=>{const $=l.items[y];$.total=$.quantity*$.unit_price},v=y=>parseFloat(y||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=async()=>{var $,w,S,C;o.value=!0,r.value={};const y=t.modelValue?`quotations/${t.modelValue.id}`:"quotations";try{t.modelValue?await me.put(y,l):await me.post(y,l),n("saved"),n("close")}catch(T){(w=($=T.response)==null?void 0:$.data)!=null&&w.errors?(r.value=T.response.data.errors,alert(`Validation errors:
`+Object.values(T.response.data.errors).flat().join(`
`))):(C=(S=T.response)==null?void 0:S.data)!=null&&C.error?alert(`Server error:
`+T.response.data.error+`
File: `+T.response.data.file+`
Line: `+T.response.data.line):alert("Error: "+(T.message||"Unknown error"))}finally{o.value=!1}};return Bt(()=>t.modelValue,y=>{var $;y&&Object.assign(l,{customer_name:y.customer_name||"",customer_email:y.customer_email||"",customer_phone:y.customer_phone||"",customer_address:y.customer_address||"",quotation_date:y.quotation_date?y.quotation_date.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:y.valid_until?y.valid_until.split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],currency:y.currency||"MWK",tax_rate:parseFloat(y.tax_rate)||16.5,discount_amount:parseFloat(y.discount_amount)||0,template:y.template||"style_1",notes:y.notes||"",terms:y.terms||"",status:y.status||"draft",items:($=y.items)!=null&&$.length?y.items.map(w=>({description:w.description,quantity:w.quantity,unit_price:parseFloat(w.unit_price)})):[a()]})},{immediate:!0}),(y,$)=>(_(),b("div",null,[i("div",Oce,[i("h2",Ice,f(s.modelValue?y.__("Edit Quotation"):y.__("Create Quotation")),1)]),i("div",jce,[i("div",Lce,[i("h3",Fce,f(y.__("Customer Information")),1),i("div",Nce,[i("div",null,[i("label",zce,[se(f(y.__("Customer Name"))+" ",1),$[14]||($[14]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":$[0]||($[0]=w=>l.customer_name=w),type:"text",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_name}])},null,2),[[ie,l.customer_name]]),r.value.customer_name?(_(),b("p",Bce,f(r.value.customer_name[0]),1)):P("",!0)]),i("div",null,[i("label",Uce,[se(f(y.__("Email"))+" ",1),$[15]||($[15]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":$[1]||($[1]=w=>l.customer_email=w),type:"email",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.customer_email}])},null,2),[[ie,l.customer_email]]),r.value.customer_email?(_(),b("p",Vce,f(r.value.customer_email[0]),1)):P("",!0)]),i("div",null,[i("label",Hce,f(y.__("Phone")),1),V(i("input",{"onUpdate:modelValue":$[2]||($[2]=w=>l.customer_phone=w),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,l.customer_phone]])]),i("div",null,[i("label",Wce,f(y.__("Address")),1),V(i("input",{"onUpdate:modelValue":$[3]||($[3]=w=>l.customer_address=w),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,l.customer_address]])])])]),i("div",qce,[i("h3",Kce,f(y.__("Quotation Details")),1),i("div",Yce,[i("div",null,[i("label",Gce,[se(f(y.__("Quotation Date"))+" ",1),$[16]||($[16]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":$[4]||($[4]=w=>l.quotation_date=w),type:"date",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.quotation_date}])},null,2),[[ie,l.quotation_date]]),r.value.quotation_date?(_(),b("p",Xce,f(r.value.quotation_date[0]),1)):P("",!0)]),i("div",null,[i("label",Jce,[se(f(y.__("Valid Until"))+" ",1),$[17]||($[17]=i("span",{class:"text-red-500"},"*",-1))]),V(i("input",{"onUpdate:modelValue":$[5]||($[5]=w=>l.valid_until=w),type:"date",class:ne(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":r.value.valid_until}])},null,2),[[ie,l.valid_until]]),r.value.valid_until?(_(),b("p",Qce,f(r.value.valid_until[0]),1)):P("",!0)]),i("div",null,[i("label",Zce,f(y.__("Currency")),1),V(i("select",{"onUpdate:modelValue":$[6]||($[6]=w=>l.currency=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...$[18]||($[18]=[Ir('<option value="MWK">MWK - Malawian Kwacha</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="ZAR">ZAR - South African Rand</option>',5)])],512),[[Ne,l.currency]])]),i("div",null,[i("label",eue,f(y.__("Template")),1),V(i("select",{"onUpdate:modelValue":$[7]||($[7]=w=>l.template=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",tue,f(y.__("Style 1 - Classic")),1),i("option",sue,f(y.__("Style 2 - Modern")),1),i("option",nue,f(y.__("Style 3 - Colorful Header")),1),i("option",oue,f(y.__("Style 4 - Bordered")),1),i("option",iue,f(y.__("Style 5 - Info Banner")),1),i("option",rue,f(y.__("Style 6 - Minimal")),1),i("option",aue,f(y.__("Style 7 - Split Header")),1),i("option",lue,f(y.__("Style 8 - Elegant")),1)],512),[[Ne,l.template]])])])]),i("div",due,[i("div",cue,[i("h3",uue,f(y.__("Items")),1),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:h},[M(m(qn),{class:"mr-1 h-4 w-4"}),se(" "+f(y.__("Add Item")),1)])]),i("div",fue,[i("table",hue,[i("thead",pue,[i("tr",null,[i("th",mue,f(y.__("Description")),1),i("th",gue,f(y.__("Qty")),1),i("th",_ue,f(y.__("Unit Price")),1),i("th",vue,f(y.__("Total")),1),$[19]||($[19]=i("th",{class:"w-16 px-4 py-3"},null,-1))])]),i("tbody",yue,[(_(!0),b(ue,null,xe(l.items,(w,S)=>(_(),b("tr",{key:S},[i("td",bue,[V(i("input",{"onUpdate:modelValue":C=>w.description=C,type:"text",placeholder:y.__("Item description *"),class:ne(["block w-full rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",r.value[`items.${S}.description`]?"border-red-300 bg-red-50":"border-gray-300"])},null,10,xue),[[ie,w.description]]),r.value[`items.${S}.description`]?(_(),b("p",wue,f(y.__("Description is required")),1)):P("",!0)]),i("td",kue,[V(i("input",{"onUpdate:modelValue":C=>w.quantity=C,type:"number",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:C=>g(S)},null,40,$ue),[[ie,w.quantity,void 0,{number:!0}]])]),i("td",Cue,[V(i("input",{"onUpdate:modelValue":C=>w.unit_price=C,type:"number",min:"0",step:"0.01",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onInput:C=>g(S)},null,40,Sue),[[ie,w.unit_price,void 0,{number:!0}]])]),i("td",Mue,f(v(w.quantity*w.unit_price)),1),i("td",Tue,[l.items.length>1?(_(),b("button",{key:0,type:"button",class:"text-red-500 hover:text-red-700",onClick:C=>p(S)},[M(m(ls),{class:"h-5 w-5"})],8,Due)):P("",!0)])]))),128))])])]),r.value.items?(_(),b("p",Aue,f(r.value.items[0]),1)):P("",!0)]),i("div",Eue,[i("div",Pue,[i("div",Rue,[i("span",Oue,f(y.__("Subtotal"))+":",1),i("span",Iue,f(l.currency)+" "+f(v(d.value)),1)]),i("div",jue,[i("span",Lue,f(y.__("Tax Rate"))+" (%):",1),V(i("input",{"onUpdate:modelValue":$[8]||($[8]=w=>l.tax_rate=w),type:"number",min:"0",max:"100",step:"0.5",class:"w-20 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,l.tax_rate,void 0,{number:!0}]])]),i("div",Fue,[i("span",Nue,f(y.__("Tax Amount"))+":",1),i("span",zue,f(l.currency)+" "+f(v(c.value)),1)]),i("div",Bue,[i("span",Uue,f(y.__("Discount"))+":",1),V(i("input",{"onUpdate:modelValue":$[9]||($[9]=w=>l.discount_amount=w),type:"number",min:"0",step:"0.01",class:"w-24 rounded-md border-gray-300 text-right shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[ie,l.discount_amount,void 0,{number:!0}]])]),i("div",Vue,[i("span",null,f(y.__("Total"))+":",1),i("span",Hue,f(l.currency)+" "+f(v(u.value)),1)])])]),i("div",Wue,[i("div",que,[i("div",null,[i("label",Kue,f(y.__("Notes")),1),V(i("textarea",{"onUpdate:modelValue":$[10]||($[10]=w=>l.notes=w),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:y.__("Additional notes for the customer")},null,8,Yue),[[ie,l.notes]])]),i("div",null,[i("label",Gue,f(y.__("Terms & Conditions")),1),V(i("textarea",{"onUpdate:modelValue":$[11]||($[11]=w=>l.terms=w),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:y.__("Terms and conditions")},null,8,Xue),[[ie,l.terms]])])])]),s.modelValue?(_(),b("div",Jue,[i("label",Que,f(y.__("Status")),1),V(i("select",{"onUpdate:modelValue":$[12]||($[12]=w=>l.status=w),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",Zue,f(y.__("Draft")),1),i("option",efe,f(y.__("Sent")),1),i("option",tfe,f(y.__("Accepted")),1),i("option",sfe,f(y.__("Rejected")),1),i("option",nfe,f(y.__("Expired")),1)],512),[[Ne,l.status]])])):P("",!0)]),i("div",ofe,[M(Ve,{variant:"secondary",onClick:$[13]||($[13]=w=>y.$emit("close"))},{default:X(()=>[se(f(y.__("Cancel")),1)]),_:1}),M(Ve,{disabled:o.value,onClick:x},{default:X(()=>[se(f(s.modelValue?y.__("Update Quotation"):y.__("Create Quotation")),1)]),_:1},8,["disabled"])])]))}},ife={key:0,class:"mt-8 flex justify-center"},rfe={key:1},afe={class:"mb-6"},lfe={class:"text-2xl font-bold text-gray-900"},dfe={class:"mt-1 text-sm text-gray-500"},cfe={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},ufe={class:"overflow-hidden rounded-lg bg-white shadow"},ffe={class:"p-5"},hfe={class:"flex items-center"},pfe={class:"flex-shrink-0"},mfe={class:"ml-5 w-0 flex-1"},gfe={class:"truncate text-sm font-medium text-gray-500"},_fe={class:"text-lg font-semibold text-gray-900"},vfe={class:"overflow-hidden rounded-lg bg-white shadow"},yfe={class:"p-5"},bfe={class:"flex items-center"},xfe={class:"flex-shrink-0"},wfe={class:"ml-5 w-0 flex-1"},kfe={class:"truncate text-sm font-medium text-gray-500"},$fe={class:"text-lg font-semibold text-gray-900"},Cfe={class:"overflow-hidden rounded-lg bg-white shadow"},Sfe={class:"p-5"},Mfe={class:"flex items-center"},Tfe={class:"flex-shrink-0"},Dfe={class:"ml-5 w-0 flex-1"},Afe={class:"truncate text-sm font-medium text-gray-500"},Efe={class:"text-lg font-semibold text-gray-900"},Pfe={class:"overflow-hidden rounded-lg bg-white shadow"},Rfe={class:"p-5"},Ofe={class:"flex items-center"},Ife={class:"flex-shrink-0"},jfe={class:"ml-5 w-0 flex-1"},Lfe={class:"truncate text-sm font-medium text-gray-500"},Ffe={class:"text-lg font-semibold text-gray-900"},Nfe={class:"overflow-hidden rounded-lg bg-white shadow"},zfe={class:"p-5"},Bfe={class:"flex items-center"},Ufe={class:"flex-shrink-0"},Vfe={class:"ml-5 w-0 flex-1"},Hfe={class:"truncate text-sm font-medium text-gray-500"},Wfe={class:"text-lg font-semibold text-gray-900"},qfe={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Kfe={class:"flex flex-1 gap-2"},Yfe={class:"relative w-64 rounded-md shadow-sm"},Gfe={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Xfe=["placeholder"],Jfe={value:""},Qfe={value:"draft"},Zfe={value:"sent"},ehe={value:"accepted"},the={value:"rejected"},she={value:"expired"},nhe={class:"flex gap-2"},ohe={class:"flex flex-col"},ihe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},rhe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ahe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},lhe={class:"min-w-full divide-y divide-gray-200"},dhe={class:"divide-y divide-gray-200 bg-white"},che={key:0,class:"hover:bg-gray-50"},uhe={colspan:"7",class:"px-6 py-8 text-center text-gray-500"},fhe={class:"whitespace-nowrap px-6 py-4"},hhe={class:"text-sm font-medium text-indigo-600"},phe={class:"whitespace-nowrap px-6 py-4"},mhe={class:"text-sm font-medium text-gray-900"},ghe={class:"text-sm text-gray-500"},_he={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},vhe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},yhe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},bhe={class:"whitespace-nowrap px-6 py-4 text-sm"},xhe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},whe={class:"flex items-center justify-end gap-2"},khe={__name:"Index",setup(s){const e=uo(),t=R(!0),n=R(null),o=No("quotations",{search:"",status:"",sort_by:"created_at",sort_order:"desc",per_page:15}),r=_t({show:!1,model:null});let a=null;const l=()=>{clearTimeout(a),a=setTimeout(()=>{o.get()},300)},d=(w=null)=>{r.model=w,r.show=!0},c=w=>{e.push(`/quotations/${w}`)},u=async w=>{try{const S=await me.get(`quotations/${w}/pdf`,{responseType:"blob"}),C=window.URL.createObjectURL(new Blob([S.data])),T=document.createElement("a");T.href=C,T.setAttribute("download",`quotation-${w}.pdf`),document.body.appendChild(T),T.click(),T.remove()}catch{}},h=()=>{o.get(),p()},p=async()=>{try{const w=await me.get("quotations/statistics");n.value=w.data.data}catch{}},g=w=>w?new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",v=w=>parseFloat(w||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=w=>"MWK "+v(w),y=w=>w?new Date(w)<new Date:!1,$=w=>({"bg-gray-100 text-gray-800":w==="draft","bg-blue-100 text-blue-800":w==="sent","bg-green-100 text-green-800":w==="accepted","bg-red-100 text-red-800":w==="rejected","bg-yellow-100 text-yellow-800":w==="expired"});return nt(async()=>{try{await o.get(),await p(),t.value=!1}catch{t.value=!1}}),(w,S)=>{var C,T,F;return t.value?(_(),b("div",ife,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",rfe,[i("div",afe,[i("h1",lfe,f(w.__("Quotations")),1),i("p",dfe,f(w.__("Manage your quotations and proposals")),1)]),n.value?(_(),b("div",cfe,[i("div",ufe,[i("div",ffe,[i("div",hfe,[i("div",pfe,[M(m(Uh),{class:"h-6 w-6 text-gray-400"})]),i("div",mfe,[i("dl",null,[i("dt",gfe,f(w.__("Total")),1),i("dd",_fe,f(n.value.total),1)])])])])]),i("div",vfe,[i("div",yfe,[i("div",bfe,[i("div",xfe,[M(m(Fr),{class:"h-6 w-6 text-gray-400"})]),i("div",wfe,[i("dl",null,[i("dt",kfe,f(w.__("Draft")),1),i("dd",$fe,f(n.value.draft),1)])])])])]),i("div",Cfe,[i("div",Sfe,[i("div",Mfe,[i("div",Tfe,[M(m(Tv),{class:"h-6 w-6 text-blue-400"})]),i("div",Dfe,[i("dl",null,[i("dt",Afe,f(w.__("Sent")),1),i("dd",Efe,f(n.value.sent),1)])])])])]),i("div",Pfe,[i("div",Rfe,[i("div",Ofe,[i("div",Ife,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",jfe,[i("dl",null,[i("dt",Lfe,f(w.__("Accepted")),1),i("dd",Ffe,f(n.value.accepted),1)])])])])]),i("div",Nfe,[i("div",zfe,[i("div",Bfe,[i("div",Ufe,[M(m(Ec),{class:"h-6 w-6 text-indigo-400"})]),i("div",Vfe,[i("dl",null,[i("dt",Hfe,f(w.__("Total Value")),1),i("dd",Wfe,f(x(n.value.total_value)),1)])])])])])])):P("",!0),i("div",qfe,[i("div",Kfe,[i("div",Yfe,[i("div",Gfe,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":S[0]||(S[0]=L=>m(o).params.search=L),type:"search",placeholder:w.__("Search quotations..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:l},null,40,Xfe),[[ie,m(o).params.search]])]),V(i("select",{"onUpdate:modelValue":S[1]||(S[1]=L=>m(o).params.status=L),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[2]||(S[2]=L=>m(o).get())},[i("option",Jfe,f(w.__("All Statuses")),1),i("option",Qfe,f(w.__("Draft")),1),i("option",Zfe,f(w.__("Sent")),1),i("option",ehe,f(w.__("Accepted")),1),i("option",the,f(w.__("Rejected")),1),i("option",she,f(w.__("Expired")),1)],544),[[Ne,m(o).params.status]])]),i("div",nhe,[M(Ve,{onClick:S[3]||(S[3]=L=>d())},{default:X(()=>[M(m(qn),{class:"mr-2 h-4 w-4"}),se(" "+f(w.__("New Quotation")),1)]),_:1})])]),i("section",null,[i("div",ohe,[i("div",ihe,[i("div",rhe,[i("div",ahe,[i("table",lhe,[i("thead",null,[i("tr",null,[M(He,{name:"quotation",index:m(o),label:w.__("Quotation #"),sort:"quotation_number"},null,8,["index","label"]),M(He,{name:"quotation",index:m(o),label:w.__("Customer"),sort:"customer_name"},null,8,["index","label"]),M(He,{name:"quotation",index:m(o),label:w.__("Date"),sort:"quotation_date"},null,8,["index","label"]),M(He,{name:"quotation",index:m(o),label:w.__("Valid Until"),sort:"valid_until"},null,8,["index","label"]),M(He,{name:"quotation",index:m(o),label:w.__("Amount"),sort:"total_amount"},null,8,["index","label"]),M(He,{name:"quotation",index:m(o),label:w.__("Status"),sort:"status"},null,8,["index","label"]),S[6]||(S[6]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",dhe,[(T=(C=m(o).data)==null?void 0:C.data)!=null&&T.length?P("",!0):(_(),b("tr",che,[i("td",uhe,f(w.__("No quotations found")),1)])),(_(!0),b(ue,null,xe(((F=m(o).data)==null?void 0:F.data)||[],L=>(_(),b("tr",{key:L.id,class:"hover:bg-gray-50"},[i("td",fhe,[i("div",hhe,f(L.quotation_number),1)]),i("td",phe,[i("div",mhe,f(L.customer_name),1),i("div",ghe,f(L.customer_email),1)]),i("td",_he,f(g(L.quotation_date)),1),i("td",vhe,[i("span",{class:ne(y(L.valid_until)?"text-red-500":"")},f(g(L.valid_until)),3)]),i("td",yhe,f(L.currency)+" "+f(v(L.total_amount)),1),i("td",bhe,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",$(L.status)])},f(L.status.charAt(0).toUpperCase()+L.status.slice(1)),3)]),i("td",xhe,[i("div",whe,[M(m(Io),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:z=>c(L.id)},null,8,["onClick"]),M(m(Pc),{class:"w-5 cursor-pointer text-gray-400 hover:text-indigo-600",onClick:z=>u(L.id)},null,8,["onClick"]),M(m(jo),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:z=>d(L)},null,8,["onClick"]),M(m(ls),{class:"w-5 cursor-pointer text-gray-400 hover:text-red-600",onClick:z=>m(o).deleteIt(L.id)},null,8,["onClick"])])])]))),128))])]),M(Gs,{index:m(o)},null,8,["index"])])])])])]),r.show?(_(),oe(zs,{key:1,size:"4xl",onClose:S[5]||(S[5]=L=>r.show=!1)},{default:X(()=>[M(Tb,{"model-value":r.model,onClose:S[4]||(S[4]=L=>r.show=!1),onSaved:h},null,8,["model-value"])]),_:1})):P("",!0)]))}}},$he={key:0,class:"mt-8 flex justify-center"},Che={key:1,class:"space-y-6"},She={class:"flex items-center justify-between"},Mhe={class:"text-2xl font-bold text-gray-900"},The={class:"mt-1 text-sm text-gray-500"},Dhe={class:"flex items-center gap-3"},Ahe={class:"flex gap-2"},Ehe={class:"flex gap-2"},Phe={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Rhe={class:"lg:col-span-2"},Ohe={class:"overflow-hidden rounded-lg bg-white shadow"},Ihe={class:"p-6"},jhe={class:"mb-6 flex justify-between"},Lhe={class:"text-xl font-bold text-gray-900"},Fhe={class:"text-sm text-gray-500"},Nhe={class:"text-right"},zhe={key:0,class:"text-sm text-gray-500"},Bhe={key:1,class:"text-sm text-gray-500"},Uhe={class:"mb-6 grid grid-cols-2 gap-6 border-t border-gray-200 pt-6"},Vhe={class:"mb-2 text-sm font-semibold text-gray-700"},Hhe={class:"font-medium text-gray-900"},Whe={class:"text-sm text-gray-500"},qhe={key:0,class:"text-sm text-gray-500"},Khe={key:1,class:"text-sm text-gray-500"},Yhe={class:"text-right"},Ghe={class:"mb-2"},Xhe={class:"text-sm text-gray-500"},Jhe={class:"ml-2 font-medium"},Qhe={class:"mb-2"},Zhe={class:"text-sm text-gray-500"},epe={class:"mb-6 overflow-hidden rounded-lg border border-gray-200"},tpe={class:"min-w-full divide-y divide-gray-200"},spe={class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-white"},npe={class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-white"},ope={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},ipe={class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-white"},rpe={class:"divide-y divide-gray-200 bg-white"},ape={class:"px-4 py-3"},lpe={class:"font-medium text-gray-900"},dpe={key:0,class:"text-sm text-gray-500"},cpe={class:"px-4 py-3 text-center text-gray-500"},upe={class:"px-4 py-3 text-right text-gray-500"},fpe={class:"px-4 py-3 text-right font-medium text-gray-900"},hpe={class:"flex justify-end"},ppe={class:"w-64 space-y-2"},mpe={class:"flex justify-between text-sm"},gpe={class:"text-gray-500"},_pe={class:"font-medium"},vpe={key:0,class:"flex justify-between text-sm"},ype={class:"text-gray-500"},bpe={class:"font-medium"},xpe={key:1,class:"flex justify-between text-sm"},wpe={class:"text-gray-500"},kpe={class:"font-medium text-red-500"},$pe={class:"flex justify-between border-t border-gray-200 pt-2 text-lg font-bold"},Cpe={key:0,class:"mt-6 border-t border-gray-200 pt-6"},Spe={key:0,class:"mb-4"},Mpe={class:"mb-2 text-sm font-semibold text-gray-700"},Tpe={class:"whitespace-pre-line text-sm text-gray-500"},Dpe={key:1},Ape={class:"mb-2 text-sm font-semibold text-gray-700"},Epe={class:"whitespace-pre-line text-sm text-gray-500"},Ppe={class:"space-y-6"},Rpe={class:"overflow-hidden rounded-lg bg-white shadow"},Ope={class:"border-b border-gray-200 px-4 py-3"},Ipe={class:"text-sm font-semibold text-gray-900"},jpe={class:"p-4 space-y-3"},Lpe={class:"flex justify-between"},Fpe={class:"text-sm text-gray-500"},Npe={class:"text-sm font-medium"},zpe={class:"flex justify-between"},Bpe={class:"text-sm text-gray-500"},Upe={class:"text-sm font-medium"},Vpe={class:"flex justify-between"},Hpe={class:"text-sm text-gray-500"},Wpe={class:"text-sm font-medium"},qpe={class:"overflow-hidden rounded-lg bg-white shadow"},Kpe={class:"border-b border-gray-200 px-4 py-3"},Ype={class:"text-sm font-semibold text-gray-900"},Gpe={class:"p-4"},Xpe={class:"flow-root"},Jpe={class:"-mb-4"},Qpe={class:"relative pb-4"},Zpe={class:"relative flex space-x-3"},eme={class:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 ring-4 ring-white"},tme={class:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5"},sme={class:"text-sm text-gray-500"},nme={class:"whitespace-nowrap text-right text-sm text-gray-500"},ome={__name:"Detail",setup(s){const e=$c(),t=uo(),n=R(!0),o=R(null),r=R(!1),a=Pe(()=>{var $;return($=o.value)!=null&&$.valid_until?new Date(o.value.valid_until)<new Date:!1}),l=async()=>{try{const $=await me.get(`quotations/${e.params.id}`);o.value=$.data.data}catch{}finally{n.value=!1}},d=async()=>{try{const $=await me.get(`quotations/${o.value.id}/pdf`,{responseType:"blob"}),w=window.URL.createObjectURL(new Blob([$.data])),S=document.createElement("a");S.href=w,S.setAttribute("download",`${o.value.quotation_number}.pdf`),document.body.appendChild(S),S.click(),S.remove()}catch{}},c=async $=>{try{await me.post(`quotations/${o.value.id}/change-status`,{status:$}),o.value.status=$}catch{}},u=()=>{r.value=!0},h=()=>{r.value=!1,l()},p=$=>$?new Date($).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",g=$=>$?new Date($).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",v=$=>parseFloat($||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=$=>({"bg-gray-100 text-gray-800":$==="draft","bg-blue-100 text-blue-800":$==="sent","bg-green-100 text-green-800":$==="accepted","bg-red-100 text-red-800":$==="rejected","bg-yellow-100 text-yellow-800":$==="expired"})[$]||"bg-gray-100 text-gray-800",y=$=>({style_1:"Classic",style_2:"Modern",style_3:"Colorful Header",style_4:"Bordered",style_5:"Info Banner",style_6:"Minimal",style_7:"Split Header",style_8:"Elegant"})[$]||$;return nt(()=>{l()}),($,w)=>{var S;return n.value?(_(),b("div",$he,[M(Ut,{size:"40",color:"#5850ec"})])):o.value?(_(),b("div",Che,[i("div",She,[i("div",null,[i("button",{class:"mb-2 inline-flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:w[0]||(w[0]=C=>m(t).push("/quotations"))},[M(m(yv),{class:"mr-1 h-4 w-4"}),se(" "+f($.__("Back to Quotations")),1)]),i("h1",Mhe,f(o.value.quotation_number),1),i("p",The,f($.__("Created on"))+" "+f(p(o.value.created_at)),1)]),i("div",Dhe,[i("span",{class:ne(["inline-flex rounded-full px-3 py-1 text-sm font-semibold",x(o.value.status)])},f(o.value.status.charAt(0).toUpperCase()+o.value.status.slice(1)),3),i("div",Ahe,[M(Ve,{variant:"secondary",onClick:d},{default:X(()=>[M(m(Pc),{class:"mr-2 h-4 w-4"}),se(" "+f($.__("Download PDF")),1)]),_:1}),M(Ve,{onClick:u},{default:X(()=>[M(m(jo),{class:"mr-2 h-4 w-4"}),se(" "+f($.__("Edit")),1)]),_:1})])])]),i("div",Ehe,[o.value.status==="draft"?(_(),oe(Ve,{key:0,variant:"secondary",size:"sm",onClick:w[1]||(w[1]=C=>c("sent"))},{default:X(()=>[M(m(Tv),{class:"mr-1 h-4 w-4"}),se(" "+f($.__("Mark as Sent")),1)]),_:1})):P("",!0),o.value.status==="sent"?(_(),oe(Ve,{key:1,variant:"success",size:"sm",onClick:w[2]||(w[2]=C=>c("accepted"))},{default:X(()=>[M(m(q4),{class:"mr-1 h-4 w-4"}),se(" "+f($.__("Mark as Accepted")),1)]),_:1})):P("",!0),o.value.status==="sent"?(_(),oe(Ve,{key:2,variant:"danger",size:"sm",onClick:w[3]||(w[3]=C=>c("rejected"))},{default:X(()=>[M(m(jc),{class:"mr-1 h-4 w-4"}),se(" "+f($.__("Mark as Rejected")),1)]),_:1})):P("",!0)]),i("div",Phe,[i("div",Rhe,[i("div",Ohe,[i("div",Ihe,[i("div",jhe,[i("div",null,[i("h2",Lhe,f($.__("QUOTATION")),1),i("p",Fhe,"# "+f(o.value.quotation_number),1)]),i("div",Nhe,[i("div",{class:"text-lg font-bold",style:$t({color:o.value.color||"#2568ef"})},f(o.value.business_name||"Your Company"),5),o.value.business_address?(_(),b("p",zhe,f(o.value.business_address),1)):P("",!0),o.value.business_phone?(_(),b("p",Bhe,f(o.value.business_phone),1)):P("",!0)])]),i("div",Uhe,[i("div",null,[i("h3",Vhe,f($.__("Bill To")),1),i("p",Hhe,f(o.value.customer_name),1),i("p",Whe,f(o.value.customer_email),1),o.value.customer_phone?(_(),b("p",qhe,f(o.value.customer_phone),1)):P("",!0),o.value.customer_address?(_(),b("p",Khe,f(o.value.customer_address),1)):P("",!0)]),i("div",Yhe,[i("div",Ghe,[i("span",Xhe,f($.__("Date"))+":",1),i("span",Jhe,f(p(o.value.quotation_date)),1)]),i("div",Qhe,[i("span",Zhe,f($.__("Valid Until"))+":",1),i("span",{class:ne(["ml-2 font-medium",a.value?"text-red-500":""])},f(p(o.value.valid_until)),3)])])]),i("div",epe,[i("table",tpe,[i("thead",null,[i("tr",{style:$t({backgroundColor:o.value.color||"#2568ef"})},[i("th",spe,f($.__("Description")),1),i("th",npe,f($.__("Qty")),1),i("th",ope,f($.__("Price")),1),i("th",ipe,f($.__("Total")),1)],4)]),i("tbody",rpe,[(_(!0),b(ue,null,xe(o.value.items,C=>(_(),b("tr",{key:C.id},[i("td",ape,[i("div",lpe,f(C.description),1),C.details?(_(),b("div",dpe,f(C.details),1)):P("",!0)]),i("td",cpe,f(C.quantity),1),i("td",upe,f(v(C.unit_price)),1),i("td",fpe,f(v(C.total)),1)]))),128))])])]),i("div",hpe,[i("div",ppe,[i("div",mpe,[i("span",gpe,f($.__("Subtotal"))+":",1),i("span",_pe,f(o.value.currency)+" "+f(v(o.value.subtotal)),1)]),o.value.tax_rate>0?(_(),b("div",vpe,[i("span",ype,f($.__("Tax"))+" ("+f(o.value.tax_rate)+"%):",1),i("span",bpe,f(o.value.currency)+" "+f(v(o.value.tax_amount)),1)])):P("",!0),o.value.discount_amount>0?(_(),b("div",xpe,[i("span",wpe,f($.__("Discount"))+":",1),i("span",kpe,"-"+f(o.value.currency)+" "+f(v(o.value.discount_amount)),1)])):P("",!0),i("div",$pe,[i("span",null,f($.__("Total"))+":",1),i("span",{style:$t({color:o.value.color||"#2568ef"})},f(o.value.currency)+" "+f(v(o.value.total_amount)),5)])])]),o.value.notes||o.value.terms?(_(),b("div",Cpe,[o.value.notes?(_(),b("div",Spe,[i("h4",Mpe,f($.__("Notes")),1),i("p",Tpe,f(o.value.notes),1)])):P("",!0),o.value.terms?(_(),b("div",Dpe,[i("h4",Ape,f($.__("Terms & Conditions")),1),i("p",Epe,f(o.value.terms),1)])):P("",!0)])):P("",!0)])])]),i("div",Ppe,[i("div",Rpe,[i("div",Ope,[i("h3",Ipe,f($.__("Quick Info")),1)]),i("div",jpe,[i("div",Lpe,[i("span",Fpe,f($.__("Created By"))+":",1),i("span",Npe,f(((S=o.value.user)==null?void 0:S.name)||"-"),1)]),i("div",zpe,[i("span",Bpe,f($.__("Template"))+":",1),i("span",Upe,f(y(o.value.template)),1)]),i("div",Vpe,[i("span",Hpe,f($.__("Currency"))+":",1),i("span",Wpe,f(o.value.currency),1)])])]),i("div",qpe,[i("div",Kpe,[i("h3",Ype,f($.__("Timeline")),1)]),i("div",Gpe,[i("div",Xpe,[i("ul",Jpe,[i("li",Qpe,[i("div",Zpe,[i("div",null,[i("span",eme,[M(m(Uh),{class:"h-4 w-4 text-indigo-600"})])]),i("div",tme,[i("div",null,[i("p",sme,f($.__("Quotation created")),1)]),i("div",nme,f(g(o.value.created_at)),1)])])])])])])])])]),r.value?(_(),oe(zs,{key:0,size:"4xl",onSaved:h},{default:X(()=>[M(Tb,{"model-value":o.value,onClose:w[4]||(w[4]=C=>r.value=!1)},null,8,["model-value"])]),_:1})):P("",!0)])):P("",!0)}}},ime={class:"space-y-6"},rme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},ame={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},lme={class:"mt-1 sm:col-span-2 sm:mt-0"},dme={class:"flex gap-2"},cme=["placeholder"],ume={key:0,class:"mt-2 text-sm text-red-600"},fme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},hme={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},pme={class:"mt-1 sm:col-span-2 sm:mt-0"},mme={key:0,class:"mt-2 text-sm text-red-600"},gme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},_me={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},vme={class:"mt-1 sm:col-span-2 sm:mt-0"},yme={class:"flex gap-2"},bme={value:""},xme=["value"],wme=["placeholder"],kme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},$me={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Cme={class:"mt-1 sm:col-span-2 sm:mt-0"},Sme=["placeholder"],Mme={key:0,class:"mt-2 text-sm text-red-600"},Tme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Dme={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ame={class:"mt-1 sm:col-span-2 sm:mt-0"},Eme=["placeholder"],Pme={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Rme={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Ome={class:"mt-1 sm:col-span-2 sm:mt-0"},Ime={key:0,class:"mb-2 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-2"},jme={class:"flex items-center"},Lme={class:"text-sm text-gray-700"},Fme={class:"space-y-1 text-center"},Nme={class:"flex text-sm text-gray-600"},zme={for:"receipt-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},Bme={class:"pl-1"},Ume={class:"text-xs text-gray-500"},Vme={key:1,class:"mt-2 flex items-center justify-between rounded-md border border-green-200 bg-green-50 p-2"},Hme={class:"flex items-center"},Wme={class:"text-sm text-green-700"},qme={class:"ml-2 text-xs text-green-600"},Kme={key:2,class:"mt-2 text-sm text-red-600"},Yme={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=R(null),r=R(!1),a=R(!1),l=R(null),d=["Travel","Meals & Entertainment","Office Supplies","Equipment","Software & Subscriptions","Professional Services","Utilities","Marketing","Training & Education","Transportation","Accommodation","Communication","Miscellaneous"],c=_l("expenses",{amount:"",currency:"MWK",expense_date:new Date().toISOString().split("T")[0],category:"",description:"",notes:"",receipt:null}),u=()=>{a.value=!a.value,a.value||(c.category="")},h=w=>{const S=w.target.files[0];S&&g(S)},p=w=>{r.value=!1;const S=w.dataTransfer.files[0];S&&g(S)},g=w=>{if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(w.type)){alert("Please upload a PDF, JPG, JPEG, or PNG file.");return}if(w.size>5242880){alert("File size must be less than 5MB.");return}c.receipt=w,l.value=null},v=()=>{c.receipt=null,o.value&&(o.value.value="")},x=()=>{l.value=null},y=w=>w<1024?w+" B":w<1024*1024?(w/1024).toFixed(1)+" KB":(w/(1024*1024)).toFixed(1)+" MB",$=async()=>{var S,C,T;const w=new FormData;w.append("amount",c.amount),w.append("currency",c.currency),w.append("expense_date",c.expense_date),w.append("category",c.category||""),w.append("description",c.description),w.append("notes",c.notes||""),c.receipt&&w.append("receipt",c.receipt);try{c.processing=!0,c.errors={};let F;c.id?(w.append("_method","PUT"),F=await me.post(`expenses/${c.id}`,w,{headers:{"Content-Type":"multipart/form-data"}})):F=await me.post("expenses",w,{headers:{"Content-Type":"multipart/form-data"}}),n("close")}catch(F){((S=F.response)==null?void 0:S.status)===422?c.errors=F.response.data.errors||{}:alert(((T=(C=F.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to save expense")}finally{c.processing=!1}};return Bt(()=>t.modelValue,w=>{var S;w?(c.id=w.id,c.amount=w.amount,c.currency=w.currency||"MWK",c.expense_date=((S=w.expense_date)==null?void 0:S.split("T")[0])||"",c.category=w.category||"",c.description=w.description||"",c.notes=w.notes||"",c.receipt=null,l.value=w.receipt_name||null,w.category&&!d.includes(w.category)&&(a.value=!0)):(c.reset(),c.currency="MWK",c.expense_date=new Date().toISOString().split("T")[0],l.value=null,a.value=!1)},{immediate:!0}),(w,S)=>(_(),oe(Lo,{"external-form":m(c),onSubmit:$,onCancel:S[10]||(S[10]=C=>n("close"))},{title:X(()=>[se(f(m(c).id?w.__("Edit Expense"):w.__("Add Expense")),1)]),default:X(()=>[i("div",ime,[i("div",rme,[i("label",ame,[se(f(w.__("Amount"))+" ",1),S[11]||(S[11]=i("span",{class:"text-red-500"},"*",-1))]),i("div",lme,[i("div",dme,[V(i("select",{"onUpdate:modelValue":S[0]||(S[0]=C=>m(c).currency=C),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...S[12]||(S[12]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1),i("option",{value:"ZAR"},"ZAR",-1)])],512),[[Ne,m(c).currency]]),V(i("input",{"onUpdate:modelValue":S[1]||(S[1]=C=>m(c).amount=C),type:"number",step:"0.01",min:"0",class:ne(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(c).errors.amount}]),placeholder:w.__("Enter amount"),required:""},null,10,cme),[[ie,m(c).amount]])]),m(c).errors.amount?(_(),b("p",ume,f(m(c).errors.amount),1)):P("",!0)])]),i("div",fme,[i("label",hme,[se(f(w.__("Expense Date"))+" ",1),S[13]||(S[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",pme,[V(i("input",{"onUpdate:modelValue":S[2]||(S[2]=C=>m(c).expense_date=C),type:"date",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(c).errors.expense_date}]),required:""},null,2),[[ie,m(c).expense_date]]),m(c).errors.expense_date?(_(),b("p",mme,f(m(c).errors.expense_date),1)):P("",!0)])]),i("div",gme,[i("label",_me,f(w.__("Category")),1),i("div",vme,[i("div",yme,[a.value?V((_(),b("input",{key:1,"onUpdate:modelValue":S[4]||(S[4]=C=>m(c).category=C),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:w.__("Enter custom category")},null,8,wme)),[[ie,m(c).category]]):V((_(),b("select",{key:0,"onUpdate:modelValue":S[3]||(S[3]=C=>m(c).category=C),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",bme,f(w.__("Select category")),1),(_(),b(ue,null,xe(d,C=>i("option",{key:C,value:C},f(C),9,xme)),64))],512)),[[Ne,m(c).category]]),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:u},f(a.value?w.__("Select"):w.__("Custom")),1)])])]),i("div",kme,[i("label",$me,[se(f(w.__("Description"))+" ",1),S[14]||(S[14]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Cme,[V(i("input",{"onUpdate:modelValue":S[5]||(S[5]=C=>m(c).description=C),type:"text",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(c).errors.description}]),placeholder:w.__("Brief description of the expense"),required:""},null,10,Sme),[[ie,m(c).description]]),m(c).errors.description?(_(),b("p",Mme,f(m(c).errors.description),1)):P("",!0)])]),i("div",Tme,[i("label",Dme,f(w.__("Notes")),1),i("div",Ame,[V(i("textarea",{"onUpdate:modelValue":S[6]||(S[6]=C=>m(c).notes=C),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:w.__("Additional notes or details (optional)")},null,8,Eme),[[ie,m(c).notes]])])]),i("div",Pme,[i("label",Rme,f(w.__("Receipt")),1),i("div",Ome,[l.value&&!m(c).receipt?(_(),b("div",Ime,[i("div",jme,[M(m(Bd),{class:"mr-2 h-5 w-5 text-gray-400"}),i("span",Lme,f(l.value),1)]),i("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:x},f(w.__("Remove")),1)])):P("",!0),i("div",{class:ne(["flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pb-6 pt-5",{"border-indigo-500 bg-indigo-50":r.value}]),onDragenter:S[7]||(S[7]=We(C=>r.value=!0,["prevent"])),onDragleave:S[8]||(S[8]=We(C=>r.value=!1,["prevent"])),onDragover:S[9]||(S[9]=We(()=>{},["prevent"])),onDrop:We(p,["prevent"])},[i("div",Fme,[M(m(U4),{class:"mx-auto h-12 w-12 text-gray-400"}),i("div",Nme,[i("label",zme,[i("span",null,f(w.__("Upload a file")),1),i("input",{id:"receipt-upload",ref_key:"fileInput",ref:o,type:"file",class:"sr-only",accept:".pdf,.jpg,.jpeg,.png",onChange:h},null,544)]),i("p",Bme,f(w.__("or drag and drop")),1)]),i("p",Ume,f(w.__("PDF, JPG, JPEG, PNG up to 5MB")),1)])],34),m(c).receipt?(_(),b("div",Vme,[i("div",Hme,[M(m(Bd),{class:"mr-2 h-5 w-5 text-green-600"}),i("span",Wme,f(m(c).receipt.name),1),i("span",qme,"("+f(y(m(c).receipt.size))+")",1)]),i("button",{type:"button",class:"text-sm text-red-600 hover:text-red-800",onClick:v},f(w.__("Remove")),1)])):P("",!0),m(c).errors.receipt?(_(),b("p",Kme,f(m(c).errors.receipt),1)):P("",!0)])])])]),_:1},8,["external-form"]))}},Gme={key:0,class:"mt-8 flex justify-center"},Xme={key:1},Jme={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Qme={class:"overflow-hidden rounded-lg bg-white shadow"},Zme={class:"p-5"},e0e={class:"flex items-center"},t0e={class:"flex-shrink-0"},s0e={class:"ml-5 w-0 flex-1"},n0e={class:"truncate text-sm font-medium text-gray-500"},o0e={class:"text-lg font-semibold text-gray-900"},i0e={class:"overflow-hidden rounded-lg bg-white shadow"},r0e={class:"p-5"},a0e={class:"flex items-center"},l0e={class:"flex-shrink-0"},d0e={class:"ml-5 w-0 flex-1"},c0e={class:"truncate text-sm font-medium text-gray-500"},u0e={class:"text-lg font-semibold text-gray-900"},f0e={class:"overflow-hidden rounded-lg bg-white shadow"},h0e={class:"p-5"},p0e={class:"flex items-center"},m0e={class:"flex-shrink-0"},g0e={class:"ml-5 w-0 flex-1"},_0e={class:"truncate text-sm font-medium text-gray-500"},v0e={class:"text-lg font-semibold text-gray-900"},y0e={class:"overflow-hidden rounded-lg bg-white shadow"},b0e={class:"p-5"},x0e={class:"flex items-center"},w0e={class:"flex-shrink-0"},k0e={class:"ml-5 w-0 flex-1"},$0e={class:"truncate text-sm font-medium text-gray-500"},C0e={class:"text-lg font-semibold text-gray-900"},S0e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},M0e={class:"flex flex-1 flex-wrap gap-2"},T0e={class:"relative w-64 rounded-md shadow-sm"},D0e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},A0e=["placeholder"],E0e={value:""},P0e={value:"pending"},R0e={value:"approved"},O0e={value:"rejected"},I0e={value:""},j0e=["value"],L0e={class:"ltr:ml-auto rtl:mr-auto"},F0e={class:"flex flex-col"},N0e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},z0e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},B0e={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},U0e={class:"min-w-full divide-y divide-gray-200"},V0e={class:"divide-y divide-gray-200 bg-white"},H0e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},W0e={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},q0e={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},K0e={key:0,class:"inline-flex rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800"},Y0e={key:1,class:"text-gray-400"},G0e={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},X0e={class:"whitespace-nowrap px-6 py-4 text-sm"},J0e={class:"whitespace-nowrap px-6 py-4"},Q0e={class:"flex items-center"},Z0e={class:"h-8 w-8 flex-shrink-0"},ege={class:"ml-3"},tge={class:"text-sm font-medium text-gray-900"},sge={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},nge=["href","title"],oge={key:0},ige={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},rge={class:"p-6"},age={class:"flex items-center justify-between mb-4"},lge={class:"text-lg font-semibold text-gray-900"},dge={key:0,class:"space-y-4"},cge={class:"grid grid-cols-2 gap-4"},uge={class:"block text-sm font-medium text-gray-700"},fge={class:"mt-1 text-sm text-gray-900"},hge={class:"block text-sm font-medium text-gray-700"},pge={class:"mt-1 text-sm font-semibold text-gray-900"},mge={class:"block text-sm font-medium text-gray-700"},gge={class:"mt-1 text-sm text-gray-900"},_ge={class:"block text-sm font-medium text-gray-700"},vge={class:"mt-1"},yge={class:"block text-sm font-medium text-gray-700"},bge={class:"mt-1 text-sm text-gray-900"},xge={class:"block text-sm font-medium text-gray-700"},wge={class:"mt-1 text-sm text-gray-900"},kge={class:"block text-sm font-medium text-gray-700"},$ge={class:"mt-1 text-sm text-gray-900"},Cge={key:0},Sge={class:"block text-sm font-medium text-gray-700"},Mge={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Tge={key:1},Dge={class:"block text-sm font-medium text-gray-700"},Age=["href"],Ege={key:2},Pge={class:"block text-sm font-medium text-gray-700"},Rge={class:"mt-1 text-sm text-gray-900"},Oge={class:"text-sm text-gray-500"},Ige={class:"mt-6 flex justify-end"},jge={class:"p-6"},Lge={class:"flex items-center justify-between mb-4"},Fge={class:"text-lg font-semibold text-gray-900"},Nge={class:"space-y-4"},zge={class:"text-sm text-gray-700"},Bge={class:"rounded-md bg-gray-50 p-3"},Uge={class:"text-sm font-medium text-gray-900"},Vge={class:"text-sm text-gray-600"},Hge={class:"mt-6 flex justify-end space-x-3"},Wge={__name:"Index",setup(s){const e=R(!0),t=R(null),n=R([]),o=R(null),r=R(!1),a=No("expenses",{search:"",status:"",category:"",start_date:"",end_date:"",sort_by:"expense_date",sort_order:"desc",per_page:15}),l=_t({show:!1,model:null}),d=_t({show:!1,expense:null}),c=_t({show:!1,action:null,expense:null});let u=null;const h=()=>{clearTimeout(u),u=setTimeout(()=>{a.get()},300)},p=(z=null)=>{l.model=z,l.show=!0},g=z=>{d.expense=z,d.show=!0},v=z=>{c.expense=z,c.action="approve",c.show=!0},x=z=>{c.expense=z,c.action="reject",c.show=!0},y=async()=>{var z,j;try{const E=c.action==="approve"?"approve":"reject";await me.post(`expenses/${c.expense.id}/${E}`),c.show=!1,a.get(),w()}catch(E){alert(((j=(z=E.response)==null?void 0:z.data)==null?void 0:j.message)||"Failed to process expense")}},$=()=>{a.get(),w(),S()},w=async()=>{try{const z=await me.get("expenses/statistics");t.value=z.data.data}catch{}},S=async()=>{try{const z=await me.get("expenses/categories");n.value=z.data.data}catch{}},C=z=>z?new Date(z).toLocaleDateString():"-",T=z=>z?new Date(z).toLocaleString():"-",F=z=>z?parseFloat(z).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",L=z=>z?"MWK "+F(z):"MWK 0.00";return nt(async()=>{var z,j;o.value=(z=vt.user)==null?void 0:z.id,r.value=((j=vt.user)==null?void 0:j.is_super_admin)||!1,await Promise.all([a.get(),w(),S()]),e.value=!1}),(z,j)=>e.value?(_(),b("div",Gme,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",Xme,[t.value?(_(),b("div",Jme,[i("div",Qme,[i("div",Zme,[i("div",e0e,[i("div",t0e,[M(m(Oo),{class:"h-6 w-6 text-yellow-400"})]),i("div",s0e,[i("dl",null,[i("dt",n0e,f(z.__("Pending")),1),i("dd",o0e,f(t.value.pending),1)])])])])]),i("div",i0e,[i("div",r0e,[i("div",a0e,[i("div",l0e,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",d0e,[i("dl",null,[i("dt",c0e,f(z.__("Approved")),1),i("dd",u0e,f(t.value.approved),1)])])])])]),i("div",f0e,[i("div",h0e,[i("div",p0e,[i("div",m0e,[M(m(zh),{class:"h-6 w-6 text-blue-400"})]),i("div",g0e,[i("dl",null,[i("dt",_0e,f(z.__("This Month")),1),i("dd",v0e,f(L(t.value.this_month)),1)])])])])]),i("div",y0e,[i("div",b0e,[i("div",x0e,[i("div",w0e,[M(m(Ec),{class:"h-6 w-6 text-purple-400"})]),i("div",k0e,[i("dl",null,[i("dt",$0e,f(z.__("Total Expenses")),1),i("dd",C0e,f(L(t.value.total_expenses)),1)])])])])])])):P("",!0),i("div",S0e,[i("div",M0e,[i("div",T0e,[i("div",D0e,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":j[0]||(j[0]=E=>m(a).params.search=E),type:"search",placeholder:z.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:h},null,40,A0e),[[ie,m(a).params.search]])]),V(i("select",{"onUpdate:modelValue":j[1]||(j[1]=E=>m(a).params.status=E),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:j[2]||(j[2]=E=>m(a).get())},[i("option",E0e,f(z.__("All Statuses")),1),i("option",P0e,f(z.__("Pending")),1),i("option",R0e,f(z.__("Approved")),1),i("option",O0e,f(z.__("Rejected")),1)],544),[[Ne,m(a).params.status]]),V(i("select",{"onUpdate:modelValue":j[3]||(j[3]=E=>m(a).params.category=E),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:j[4]||(j[4]=E=>m(a).get())},[i("option",I0e,f(z.__("All Categories")),1),(_(!0),b(ue,null,xe(n.value,E=>(_(),b("option",{key:E,value:E},f(E),9,j0e))),128))],544),[[Ne,m(a).params.category]]),V(i("input",{"onUpdate:modelValue":j[5]||(j[5]=E=>m(a).params.start_date=E),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:j[6]||(j[6]=E=>m(a).get())},null,544),[[ie,m(a).params.start_date]]),V(i("input",{"onUpdate:modelValue":j[7]||(j[7]=E=>m(a).params.end_date=E),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:j[8]||(j[8]=E=>m(a).get())},null,544),[[ie,m(a).params.end_date]])]),i("div",L0e,[M(Ve,{size:"sm",onClick:j[9]||(j[9]=E=>p())},{default:X(()=>[se(f(z.__("Add Expense")),1)]),_:1})])]),i("section",null,[i("div",F0e,[i("div",N0e,[i("div",z0e,[i("div",B0e,[i("table",U0e,[i("thead",null,[i("tr",null,[M(He,{name:"expense",index:m(a),label:z.__("Date"),sort:"expense_date"},null,8,["index","label"]),M(He,{name:"expense",index:m(a),label:z.__("Description")},null,8,["index","label"]),M(He,{name:"expense",index:m(a),label:z.__("Category"),sort:"category"},null,8,["index","label"]),M(He,{name:"expense",index:m(a),label:z.__("Amount"),sort:"amount"},null,8,["index","label"]),M(He,{name:"expense",index:m(a),label:z.__("Status"),sort:"status"},null,8,["index","label"]),M(He,{name:"expense",index:m(a),label:z.__("Submitted By")},null,8,["index","label"]),j[15]||(j[15]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",V0e,[(_(!0),b(ue,null,xe(m(a).data.data,E=>{var O;return _(),b("tr",{key:E.id,class:"hover:bg-gray-50"},[i("td",H0e,f(C(E.expense_date)),1),i("td",W0e,f(E.description),1),i("td",q0e,[E.category?(_(),b("span",K0e,f(E.category),1)):(_(),b("span",Y0e,"-"))]),i("td",G0e,f(E.currency)+" "+f(F(E.amount)),1),i("td",X0e,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":E.status==="pending","bg-green-100 text-green-800":E.status==="approved","bg-red-100 text-red-800":E.status==="rejected"}])},f(E.status.charAt(0).toUpperCase()+E.status.slice(1)),3)]),i("td",J0e,[i("div",Q0e,[i("div",Z0e,[M(ms,{user:E.user,size:"8"},null,8,["user"])]),i("div",ege,[i("div",tge,f((O=E.user)==null?void 0:O.name),1)])])]),i("td",sge,[E.status==="pending"&&r.value?(_(),b(ue,{key:0},[M(Ve,{size:"xs",variant:"success",onClick:I=>v(E)},{default:X(()=>[se(f(z.__("Approve")),1)]),_:1},8,["onClick"]),M(Ve,{size:"xs",variant:"danger",class:"ml-2",onClick:I=>x(E)},{default:X(()=>[se(f(z.__("Reject")),1)]),_:1},8,["onClick"])],64)):P("",!0),E.receipt_path?(_(),b("a",{key:1,href:`/storage/${E.receipt_path}`,target:"_blank",class:"ml-2 text-gray-400 hover:text-gray-600",title:z.__("View Receipt")},[M(m(Bd),{class:"h-5 w-5"})],8,nge)):P("",!0),E.status==="pending"&&(E.user_id===o.value||r.value)?(_(),b(ue,{key:2},[M(m(jo),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:I=>p(E)},null,8,["onClick"]),M(m(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:I=>m(a).deleteIt(E.id)},null,8,["onClick"])],64)):P("",!0),M(m(Io),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:I=>g(E)},null,8,["onClick"])])])}),128)),!m(a).data.data||m(a).data.data.length===0?(_(),b("tr",oge,[i("td",ige,f(z.__("No expenses found")),1)])):P("",!0)])]),M(Gs,{index:m(a)},null,8,["index"])])])])])]),l.show?(_(),oe(zs,{key:1,size:"lg",onSaved:$},{default:X(()=>[M(Yme,{"model-value":l.model,onClose:j[10]||(j[10]=E=>l.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),d.show?(_(),oe(lo,{key:2,width:"max-w-2xl"},{default:X(()=>{var E,O;return[i("div",rge,[i("div",age,[i("h3",lge,f(z.__("Expense Details")),1),i("button",{onClick:j[11]||(j[11]=I=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),d.expense?(_(),b("div",dge,[i("div",cge,[i("div",null,[i("label",uge,f(z.__("Date")),1),i("p",fge,f(C(d.expense.expense_date)),1)]),i("div",null,[i("label",hge,f(z.__("Amount")),1),i("p",pge,f(d.expense.currency)+" "+f(F(d.expense.amount)),1)]),i("div",null,[i("label",mge,f(z.__("Category")),1),i("p",gge,f(d.expense.category||"-"),1)]),i("div",null,[i("label",_ge,f(z.__("Status")),1),i("p",vge,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":d.expense.status==="pending","bg-green-100 text-green-800":d.expense.status==="approved","bg-red-100 text-red-800":d.expense.status==="rejected"}])},f(d.expense.status.charAt(0).toUpperCase()+d.expense.status.slice(1)),3)])]),i("div",null,[i("label",yge,f(z.__("Submitted By")),1),i("p",bge,f((E=d.expense.user)==null?void 0:E.name),1)]),i("div",null,[i("label",xge,f(z.__("Submitted On")),1),i("p",wge,f(T(d.expense.created_at)),1)])]),i("div",null,[i("label",kge,f(z.__("Description")),1),i("p",$ge,f(d.expense.description),1)]),d.expense.notes?(_(),b("div",Cge,[i("label",Sge,f(z.__("Notes")),1),i("p",Mge,f(d.expense.notes),1)])):P("",!0),d.expense.receipt_path?(_(),b("div",Tge,[i("label",Dge,f(z.__("Receipt")),1),i("a",{href:`/storage/${d.expense.receipt_path}`,target:"_blank",class:"mt-1 inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},[M(m(Bd),{class:"mr-1 h-4 w-4"}),se(" "+f(d.expense.receipt_name||z.__("View Receipt")),1)],8,Age)])):P("",!0),d.expense.approver?(_(),b("div",Ege,[i("label",Pge,f(d.expense.status==="approved"?z.__("Approved By"):z.__("Rejected By")),1),i("p",Rge,f((O=d.expense.approver)==null?void 0:O.name),1),i("p",Oge,f(T(d.expense.approved_at)),1)])):P("",!0)])):P("",!0),i("div",Ige,[M(Ve,{onClick:j[12]||(j[12]=I=>d.show=!1)},{default:X(()=>[se(f(z.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),c.show?(_(),oe(lo,{key:3,width:"max-w-md"},{default:X(()=>{var E,O,I;return[i("div",jge,[i("div",Lge,[i("h3",Fge,f(c.action==="approve"?z.__("Approve Expense"):z.__("Reject Expense")),1),i("button",{onClick:j[13]||(j[13]=W=>c.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),i("div",Nge,[i("p",zge,f(c.action==="approve"?z.__("Are you sure you want to approve this expense?"):z.__("Are you sure you want to reject this expense?")),1),i("div",Bge,[i("p",Uge,f((E=c.expense)==null?void 0:E.description),1),i("p",Vge,f((O=c.expense)==null?void 0:O.currency)+" "+f(F((I=c.expense)==null?void 0:I.amount)),1)])]),i("div",Hge,[M(Ve,{white:"",onClick:j[14]||(j[14]=W=>c.show=!1)},{default:X(()=>[se(f(z.__("Cancel")),1)]),_:1}),M(Ve,{class:ne(c.action==="reject"?"bg-red-600 hover:bg-red-700":""),onClick:y},{default:X(()=>[se(f(c.action==="approve"?z.__("Approve"):z.__("Reject")),1)]),_:1},8,["class"])])])]}),_:1})):P("",!0)]))}},qge={class:"space-y-6"},Kge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},Yge={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Gge={class:"mt-1 sm:col-span-2 sm:mt-0"},Xge={class:"flex gap-2"},Jge=["placeholder"],Qge={key:0,class:"mt-2 text-sm text-red-600"},Zge={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},e1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},t1e={class:"mt-1 sm:col-span-2 sm:mt-0"},s1e={key:0,class:"mt-2 text-sm text-red-600"},n1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},o1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},i1e={class:"mt-1 sm:col-span-2 sm:mt-0"},r1e={value:""},a1e={value:"sales"},l1e={value:"services"},d1e={value:"consulting"},c1e={value:"adsense"},u1e={value:"quotation"},f1e={value:"other"},h1e={key:0,class:"mt-2 text-sm text-red-600"},p1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},m1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},g1e={class:"mt-1 sm:col-span-2 sm:mt-0"},_1e={class:"flex gap-2"},v1e={value:""},y1e=["value"],b1e=["placeholder"],x1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},w1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},k1e={class:"mt-1 sm:col-span-2 sm:mt-0"},$1e=["placeholder"],C1e={key:0,class:"mt-2 text-sm text-red-600"},S1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},M1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},T1e={class:"mt-1 sm:col-span-2 sm:mt-0"},D1e=["placeholder"],A1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},E1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},P1e={class:"mt-1 sm:col-span-2 sm:mt-0"},R1e=["placeholder"],O1e={key:0,class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},I1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},j1e={class:"mt-1 sm:col-span-2 sm:mt-0"},L1e={value:null},F1e=["value"],N1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},z1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},B1e={class:"mt-1 sm:col-span-2 sm:mt-0"},U1e={value:"pending"},V1e={value:"received"},H1e={value:"cancelled"},W1e={class:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4"},q1e={class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},K1e={class:"mt-1 sm:col-span-2 sm:mt-0"},Y1e=["placeholder"],G1e={__name:"Form",props:{modelValue:{type:Object,default:null}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=R(!1),r=R([]),a=["Product Sales","Service Revenue","Consulting Fees","Advertising Revenue","Subscription Income","Commission","Rental Income","Interest Income","Royalties","Miscellaneous"],l=_l("income",{amount:"",currency:"MWK",income_date:new Date().toISOString().split("T")[0],source:"",category:"",description:"",invoice_number:"",client_name:"",quotation_id:null,status:"pending",notes:""}),d=()=>{o.value=!o.value,o.value||(l.category="")},c=p=>p?parseFloat(p).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",u=async()=>{try{const p=await me.get("quotations",{params:{per_page:100}});r.value=p.data.data||[]}catch{}},h=async()=>{var p,g,v;try{l.processing=!0,l.errors={};const x={amount:l.amount,currency:l.currency,income_date:l.income_date,source:l.source,category:l.category||null,description:l.description,invoice_number:l.invoice_number||null,client_name:l.client_name||null,quotation_id:l.quotation_id||null,status:l.status,notes:l.notes||null};l.id?await me.put(`income/${l.id}`,x):await me.post("income",x),n("close")}catch(x){((p=x.response)==null?void 0:p.status)===422?l.errors=x.response.data.errors||{}:alert(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to save income")}finally{l.processing=!1}};return Bt(()=>t.modelValue,p=>{var g;p?(l.id=p.id,l.amount=p.amount,l.currency=p.currency||"MWK",l.income_date=((g=p.income_date)==null?void 0:g.split("T")[0])||"",l.source=p.source||"",l.category=p.category||"",l.description=p.description||"",l.invoice_number=p.invoice_number||"",l.client_name=p.client_name||"",l.quotation_id=p.quotation_id||null,l.status=p.status||"pending",l.notes=p.notes||"",p.category&&!a.includes(p.category)&&(o.value=!0)):(l.reset(),l.currency="MWK",l.income_date=new Date().toISOString().split("T")[0],l.status="pending",o.value=!1)},{immediate:!0}),nt(()=>{u()}),(p,g)=>(_(),oe(Lo,{"external-form":m(l),onSubmit:h,onCancel:g[12]||(g[12]=v=>n("close"))},{title:X(()=>[se(f(m(l).id?p.__("Edit Income"):p.__("Add Income")),1)]),default:X(()=>[i("div",qge,[i("div",Kge,[i("label",Yge,[se(f(p.__("Amount"))+" ",1),g[13]||(g[13]=i("span",{class:"text-red-500"},"*",-1))]),i("div",Gge,[i("div",Xge,[V(i("select",{"onUpdate:modelValue":g[0]||(g[0]=v=>m(l).currency=v),class:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...g[14]||(g[14]=[i("option",{value:"MWK"},"MWK",-1),i("option",{value:"USD"},"USD",-1),i("option",{value:"EUR"},"EUR",-1),i("option",{value:"GBP"},"GBP",-1),i("option",{value:"ZAR"},"ZAR",-1)])],512),[[Ne,m(l).currency]]),V(i("input",{"onUpdate:modelValue":g[1]||(g[1]=v=>m(l).amount=v),type:"number",step:"0.01",min:"0",class:ne(["block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(l).errors.amount}]),placeholder:p.__("Enter amount"),required:""},null,10,Jge),[[ie,m(l).amount]])]),m(l).errors.amount?(_(),b("p",Qge,f(m(l).errors.amount),1)):P("",!0)])]),i("div",Zge,[i("label",e1e,[se(f(p.__("Income Date"))+" ",1),g[15]||(g[15]=i("span",{class:"text-red-500"},"*",-1))]),i("div",t1e,[V(i("input",{"onUpdate:modelValue":g[2]||(g[2]=v=>m(l).income_date=v),type:"date",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(l).errors.income_date}]),required:""},null,2),[[ie,m(l).income_date]]),m(l).errors.income_date?(_(),b("p",s1e,f(m(l).errors.income_date),1)):P("",!0)])]),i("div",n1e,[i("label",o1e,[se(f(p.__("Source"))+" ",1),g[16]||(g[16]=i("span",{class:"text-red-500"},"*",-1))]),i("div",i1e,[V(i("select",{"onUpdate:modelValue":g[3]||(g[3]=v=>m(l).source=v),class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(l).errors.source}]),required:""},[i("option",r1e,f(p.__("Select source")),1),i("option",a1e,f(p.__("Sales")),1),i("option",l1e,f(p.__("Services")),1),i("option",d1e,f(p.__("Consulting")),1),i("option",c1e,f(p.__("AdSense")),1),i("option",u1e,f(p.__("Quotation")),1),i("option",f1e,f(p.__("Other")),1)],2),[[Ne,m(l).source]]),m(l).errors.source?(_(),b("p",h1e,f(m(l).errors.source),1)):P("",!0)])]),i("div",p1e,[i("label",m1e,f(p.__("Category")),1),i("div",g1e,[i("div",_1e,[o.value?V((_(),b("input",{key:1,"onUpdate:modelValue":g[5]||(g[5]=v=>m(l).category=v),type:"text",class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Enter custom category")},null,8,b1e)),[[ie,m(l).category]]):V((_(),b("select",{key:0,"onUpdate:modelValue":g[4]||(g[4]=v=>m(l).category=v),class:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",v1e,f(p.__("Select category")),1),(_(),b(ue,null,xe(a,v=>i("option",{key:v,value:v},f(v),9,y1e)),64))],512)),[[Ne,m(l).category]]),i("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:d},f(o.value?p.__("Select"):p.__("Custom")),1)])])]),i("div",x1e,[i("label",w1e,[se(f(p.__("Description"))+" ",1),g[17]||(g[17]=i("span",{class:"text-red-500"},"*",-1))]),i("div",k1e,[V(i("textarea",{"onUpdate:modelValue":g[6]||(g[6]=v=>m(l).description=v),rows:"3",class:ne(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":m(l).errors.description}]),placeholder:p.__("Description of the income"),required:""},null,10,$1e),[[ie,m(l).description]]),m(l).errors.description?(_(),b("p",C1e,f(m(l).errors.description),1)):P("",!0)])]),i("div",S1e,[i("label",M1e,f(p.__("Invoice Number")),1),i("div",T1e,[V(i("input",{"onUpdate:modelValue":g[7]||(g[7]=v=>m(l).invoice_number=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Invoice or reference number (optional)")},null,8,D1e),[[ie,m(l).invoice_number]])])]),i("div",A1e,[i("label",E1e,f(p.__("Client Name")),1),i("div",P1e,[V(i("input",{"onUpdate:modelValue":g[8]||(g[8]=v=>m(l).client_name=v),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Client or payer name (optional)")},null,8,R1e),[[ie,m(l).client_name]])])]),r.value.length>0?(_(),b("div",O1e,[i("label",I1e,f(p.__("Related Quotation")),1),i("div",j1e,[V(i("select",{"onUpdate:modelValue":g[9]||(g[9]=v=>m(l).quotation_id=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",L1e,f(p.__("None")),1),(_(!0),b(ue,null,xe(r.value,v=>{var x;return _(),b("option",{key:v.id,value:v.id},f(v.quotation_number||`#${v.id}`)+" - "+f(((x=v.client)==null?void 0:x.name)||"N/A")+" ("+f(v.currency)+" "+f(c(v.total))+") ",9,F1e)}),128))],512),[[Ne,m(l).quotation_id]])])])):P("",!0),i("div",N1e,[i("label",z1e,f(p.__("Status")),1),i("div",B1e,[V(i("select",{"onUpdate:modelValue":g[10]||(g[10]=v=>m(l).status=v),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[i("option",U1e,f(p.__("Pending")),1),i("option",V1e,f(p.__("Received")),1),i("option",H1e,f(p.__("Cancelled")),1)],512),[[Ne,m(l).status]])])]),i("div",W1e,[i("label",q1e,f(p.__("Notes")),1),i("div",K1e,[V(i("textarea",{"onUpdate:modelValue":g[11]||(g[11]=v=>m(l).notes=v),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:p.__("Additional notes (optional)")},null,8,Y1e),[[ie,m(l).notes]])])])])]),_:1},8,["external-form"]))}},X1e={key:0,class:"mt-8 flex justify-center"},J1e={key:1},Q1e={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5"},Z1e={class:"overflow-hidden rounded-lg bg-white shadow"},e_e={class:"p-5"},t_e={class:"flex items-center"},s_e={class:"flex-shrink-0"},n_e={class:"ml-5 w-0 flex-1"},o_e={class:"truncate text-sm font-medium text-gray-500"},i_e={class:"text-lg font-semibold text-gray-900"},r_e={class:"overflow-hidden rounded-lg bg-white shadow"},a_e={class:"p-5"},l_e={class:"flex items-center"},d_e={class:"flex-shrink-0"},c_e={class:"ml-5 w-0 flex-1"},u_e={class:"truncate text-sm font-medium text-gray-500"},f_e={class:"text-lg font-semibold text-gray-900"},h_e={class:"overflow-hidden rounded-lg bg-white shadow"},p_e={class:"p-5"},m_e={class:"flex items-center"},g_e={class:"flex-shrink-0"},__e={class:"ml-5 w-0 flex-1"},v_e={class:"truncate text-sm font-medium text-gray-500"},y_e={class:"text-lg font-semibold text-gray-900"},b_e={class:"overflow-hidden rounded-lg bg-white shadow"},x_e={class:"p-5"},w_e={class:"flex items-center"},k_e={class:"flex-shrink-0"},$_e={class:"ml-5 w-0 flex-1"},C_e={class:"truncate text-sm font-medium text-gray-500"},S_e={class:"text-lg font-semibold text-gray-900"},M_e={class:"overflow-hidden rounded-lg bg-white shadow"},T_e={class:"p-5"},D_e={class:"flex items-center"},A_e={class:"flex-shrink-0"},E_e={class:"ml-5 w-0 flex-1"},P_e={class:"truncate text-sm font-medium text-gray-500"},R_e={class:"text-lg font-semibold text-gray-900"},O_e={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},I_e={class:"flex flex-1 flex-wrap gap-2"},j_e={class:"relative w-64 rounded-md shadow-sm"},L_e={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},F_e=["placeholder"],N_e={value:""},z_e={value:"pending"},B_e={value:"received"},U_e={value:"cancelled"},V_e={value:""},H_e={value:"sales"},W_e={value:"services"},q_e={value:"consulting"},K_e={value:"adsense"},Y_e={value:"quotation"},G_e={value:"other"},X_e={class:"ltr:ml-auto rtl:mr-auto"},J_e={class:"flex flex-col"},Q_e={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Z_e={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},eve={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},tve={class:"min-w-full divide-y divide-gray-200"},sve={class:"divide-y divide-gray-200 bg-white"},nve={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},ove={class:"max-w-xs truncate px-6 py-4 text-sm text-gray-900"},ive={key:0,class:"text-xs text-gray-500"},rve={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},ave={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"},lve={class:"whitespace-nowrap px-6 py-4 text-sm"},dve={class:"whitespace-nowrap px-6 py-4"},cve={class:"flex items-center"},uve={class:"h-8 w-8 flex-shrink-0"},fve={class:"ml-3"},hve={class:"text-sm font-medium text-gray-900"},pve={class:"flex items-center justify-end whitespace-nowrap px-6 py-4 text-right text-sm font-medium leading-5"},mve={key:0},gve={colspan:"7",class:"px-6 py-8 text-center text-sm text-gray-500"},_ve={class:"p-6"},vve={class:"flex items-center justify-between mb-4"},yve={class:"text-lg font-semibold text-gray-900"},bve={key:0,class:"space-y-4"},xve={class:"grid grid-cols-2 gap-4"},wve={class:"block text-sm font-medium text-gray-700"},kve={class:"mt-1 text-sm text-gray-900"},$ve={class:"block text-sm font-medium text-gray-700"},Cve={class:"mt-1 text-sm font-semibold text-gray-900"},Sve={class:"block text-sm font-medium text-gray-700"},Mve={class:"mt-1"},Tve={class:"block text-sm font-medium text-gray-700"},Dve={class:"mt-1"},Ave={class:"block text-sm font-medium text-gray-700"},Eve={class:"mt-1 text-sm text-gray-900"},Pve={class:"block text-sm font-medium text-gray-700"},Rve={class:"mt-1 text-sm text-gray-900"},Ove={key:0},Ive={class:"block text-sm font-medium text-gray-700"},jve={class:"mt-1 text-sm text-gray-900"},Lve={key:1},Fve={class:"block text-sm font-medium text-gray-700"},Nve={class:"mt-1 text-sm text-gray-900"},zve={class:"block text-sm font-medium text-gray-700"},Bve={class:"mt-1 text-sm text-gray-900"},Uve={key:0},Vve={class:"block text-sm font-medium text-gray-700"},Hve={class:"mt-1 text-sm text-gray-900"},Wve={key:1},qve={class:"block text-sm font-medium text-gray-700"},Kve={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Yve={key:2},Gve={class:"block text-sm font-medium text-gray-700"},Xve={class:"mt-1 text-sm text-gray-900"},Jve={class:"text-sm text-gray-500"},Qve={key:3},Zve={class:"block text-sm font-medium text-gray-700"},eye={class:"mt-1 text-sm text-indigo-600"},tye={class:"mt-6 flex justify-end"},sye={class:"p-6"},nye={class:"flex items-center justify-between mb-4"},oye={class:"text-lg font-semibold text-gray-900"},iye={class:"space-y-4"},rye={class:"text-sm text-gray-700"},aye={class:"rounded-md bg-gray-50 p-3"},lye={class:"text-sm font-medium text-gray-900"},dye={class:"text-sm text-gray-600"},cye={class:"mt-6 flex justify-end space-x-3"},uye={__name:"Index",setup(s){const e=R(!0),t=R(null),n=R(null),o=R(!1),r=No("income",{search:"",status:"",source:"",start_date:"",end_date:"",sort_by:"income_date",sort_order:"desc",per_page:15}),a=_t({show:!1,model:null}),l=_t({show:!1,income:null}),d=_t({show:!1,income:null});let c=null;const u=()=>{clearTimeout(c),c=setTimeout(()=>{r.get()},300)},h=(L=null)=>{a.model=L,a.show=!0},p=L=>{l.income=L,l.show=!0},g=L=>{d.income=L,d.show=!0},v=async()=>{var L,z;try{await me.post(`income/${d.income.id}/mark-as-received`),d.show=!1,r.get(),y()}catch(j){alert(((z=(L=j.response)==null?void 0:L.data)==null?void 0:z.message)||"Failed to mark income as received")}},x=()=>{r.get(),y()},y=async()=>{try{const L=await me.get("income/statistics");t.value=L.data.data}catch{}},$=L=>L?new Date(L).toLocaleDateString():"-",w=L=>L?new Date(L).toLocaleString():"-",S=L=>L?parseFloat(L).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",C=L=>L?"MWK "+S(L):"MWK 0.00",T=L=>({sales:"Sales",services:"Services",consulting:"Consulting",adsense:"AdSense",quotation:"Quotation",other:"Other"})[L]||L,F=L=>({sales:"bg-blue-100 text-blue-800",services:"bg-green-100 text-green-800",consulting:"bg-purple-100 text-purple-800",adsense:"bg-yellow-100 text-yellow-800",quotation:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"})[L]||"bg-gray-100 text-gray-800";return nt(async()=>{var L,z;n.value=(L=vt.user)==null?void 0:L.id,o.value=((z=vt.user)==null?void 0:z.is_super_admin)||!1,await Promise.all([r.get(),y()]),e.value=!1}),(L,z)=>e.value?(_(),b("div",X1e,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",J1e,[t.value?(_(),b("div",Q1e,[i("div",Z1e,[i("div",e_e,[i("div",t_e,[i("div",s_e,[M(m(Ec),{class:"h-6 w-6 text-green-400"})]),i("div",n_e,[i("dl",null,[i("dt",o_e,f(L.__("Total Income")),1),i("dd",i_e,f(C(t.value.total_income)),1)])])])])]),i("div",r_e,[i("div",a_e,[i("div",l_e,[i("div",d_e,[M(m(Oo),{class:"h-6 w-6 text-yellow-400"})]),i("div",c_e,[i("dl",null,[i("dt",u_e,f(L.__("Pending")),1),i("dd",f_e,f(t.value.pending),1)])])])])]),i("div",h_e,[i("div",p_e,[i("div",m_e,[i("div",g_e,[M(m(Js),{class:"h-6 w-6 text-green-400"})]),i("div",__e,[i("dl",null,[i("dt",v_e,f(L.__("Received")),1),i("dd",y_e,f(t.value.received),1)])])])])]),i("div",b_e,[i("div",x_e,[i("div",w_e,[i("div",k_e,[M(m(zh),{class:"h-6 w-6 text-blue-400"})]),i("div",$_e,[i("dl",null,[i("dt",C_e,f(L.__("This Month")),1),i("dd",S_e,f(C(t.value.this_month)),1)])])])])]),i("div",M_e,[i("div",T_e,[i("div",D_e,[i("div",A_e,[M(m(B4),{class:"h-6 w-6 text-purple-400"})]),i("div",E_e,[i("dl",null,[i("dt",P_e,f(L.__("Last Month")),1),i("dd",R_e,f(C(t.value.last_month)),1)])])])])])])):P("",!0),i("div",O_e,[i("div",I_e,[i("div",j_e,[i("div",L_e,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":z[0]||(z[0]=j=>m(r).params.search=j),type:"search",placeholder:L.__("Search..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:u},null,40,F_e),[[ie,m(r).params.search]])]),V(i("select",{"onUpdate:modelValue":z[1]||(z[1]=j=>m(r).params.status=j),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z[2]||(z[2]=j=>m(r).get())},[i("option",N_e,f(L.__("All Statuses")),1),i("option",z_e,f(L.__("Pending")),1),i("option",B_e,f(L.__("Received")),1),i("option",U_e,f(L.__("Cancelled")),1)],544),[[Ne,m(r).params.status]]),V(i("select",{"onUpdate:modelValue":z[3]||(z[3]=j=>m(r).params.source=j),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z[4]||(z[4]=j=>m(r).get())},[i("option",V_e,f(L.__("All Sources")),1),i("option",H_e,f(L.__("Sales")),1),i("option",W_e,f(L.__("Services")),1),i("option",q_e,f(L.__("Consulting")),1),i("option",K_e,f(L.__("AdSense")),1),i("option",Y_e,f(L.__("Quotation")),1),i("option",G_e,f(L.__("Other")),1)],544),[[Ne,m(r).params.source]]),V(i("input",{"onUpdate:modelValue":z[5]||(z[5]=j=>m(r).params.start_date=j),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z[6]||(z[6]=j=>m(r).get())},null,544),[[ie,m(r).params.start_date]]),V(i("input",{"onUpdate:modelValue":z[7]||(z[7]=j=>m(r).params.end_date=j),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:z[8]||(z[8]=j=>m(r).get())},null,544),[[ie,m(r).params.end_date]])]),i("div",X_e,[M(Ve,{size:"sm",onClick:z[9]||(z[9]=j=>h())},{default:X(()=>[se(f(L.__("Add Income")),1)]),_:1})])]),i("section",null,[i("div",J_e,[i("div",Q_e,[i("div",Z_e,[i("div",eve,[i("table",tve,[i("thead",null,[i("tr",null,[M(He,{name:"income",index:m(r),label:L.__("Date"),sort:"income_date"},null,8,["index","label"]),M(He,{name:"income",index:m(r),label:L.__("Description")},null,8,["index","label"]),M(He,{name:"income",index:m(r),label:L.__("Source"),sort:"source"},null,8,["index","label"]),M(He,{name:"income",index:m(r),label:L.__("Amount"),sort:"amount"},null,8,["index","label"]),M(He,{name:"income",index:m(r),label:L.__("Status"),sort:"status"},null,8,["index","label"]),M(He,{name:"income",index:m(r),label:L.__("Created By")},null,8,["index","label"]),z[15]||(z[15]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",sve,[(_(!0),b(ue,null,xe(m(r).data.data,j=>{var E;return _(),b("tr",{key:j.id,class:"hover:bg-gray-50"},[i("td",nve,f($(j.income_date)),1),i("td",ove,[i("div",null,f(j.description),1),j.client_name?(_(),b("div",ive,f(j.client_name),1)):P("",!0)]),i("td",rve,[i("span",{class:ne(["inline-flex rounded-full px-2 py-1 text-xs font-medium",F(j.source)])},f(T(j.source)),3)]),i("td",ave,f(j.currency)+" "+f(S(j.amount)),1),i("td",lve,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":j.status==="pending","bg-green-100 text-green-800":j.status==="received","bg-red-100 text-red-800":j.status==="cancelled"}])},f(j.status.charAt(0).toUpperCase()+j.status.slice(1)),3)]),i("td",dve,[i("div",cve,[i("div",uve,[M(ms,{user:j.user,size:"8"},null,8,["user"])]),i("div",fve,[i("div",hve,f((E=j.user)==null?void 0:E.name),1)])])]),i("td",pve,[j.status==="pending"&&o.value?(_(),oe(Ve,{key:0,size:"xs",variant:"success",onClick:O=>g(j)},{default:X(()=>[se(f(L.__("Mark Received")),1)]),_:1},8,["onClick"])):P("",!0),j.status==="pending"&&(j.user_id===n.value||o.value)?(_(),b(ue,{key:1},[M(m(jo),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>h(j)},null,8,["onClick"]),M(m(ls),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>m(r).deleteIt(j.id)},null,8,["onClick"])],64)):P("",!0),M(m(Io),{class:"ml-2 w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:O=>p(j)},null,8,["onClick"])])])}),128)),!m(r).data.data||m(r).data.data.length===0?(_(),b("tr",mve,[i("td",gve,f(L.__("No income records found")),1)])):P("",!0)])]),M(Gs,{index:m(r)},null,8,["index"])])])])])]),a.show?(_(),oe(zs,{key:1,size:"lg",onSaved:x},{default:X(()=>[M(G1e,{"model-value":a.model,onClose:z[10]||(z[10]=j=>a.show=!1)},null,8,["model-value"])]),_:1})):P("",!0),l.show?(_(),oe(lo,{key:2,width:"max-w-2xl"},{default:X(()=>{var j,E;return[i("div",_ve,[i("div",vve,[i("h3",yve,f(L.__("Income Details")),1),i("button",{onClick:z[11]||(z[11]=O=>l.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),l.income?(_(),b("div",bve,[i("div",xve,[i("div",null,[i("label",wve,f(L.__("Date")),1),i("p",kve,f($(l.income.income_date)),1)]),i("div",null,[i("label",$ve,f(L.__("Amount")),1),i("p",Cve,f(l.income.currency)+" "+f(S(l.income.amount)),1)]),i("div",null,[i("label",Sve,f(L.__("Source")),1),i("p",Mve,[i("span",{class:ne(["inline-flex rounded-full px-2 py-1 text-xs font-medium",F(l.income.source)])},f(T(l.income.source)),3)])]),i("div",null,[i("label",Tve,f(L.__("Status")),1),i("p",Dve,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",{"bg-yellow-100 text-yellow-800":l.income.status==="pending","bg-green-100 text-green-800":l.income.status==="received","bg-red-100 text-red-800":l.income.status==="cancelled"}])},f(l.income.status.charAt(0).toUpperCase()+l.income.status.slice(1)),3)])]),i("div",null,[i("label",Ave,f(L.__("Created By")),1),i("p",Eve,f((j=l.income.user)==null?void 0:j.name),1)]),i("div",null,[i("label",Pve,f(L.__("Created On")),1),i("p",Rve,f(w(l.income.created_at)),1)]),l.income.invoice_number?(_(),b("div",Ove,[i("label",Ive,f(L.__("Invoice Number")),1),i("p",jve,f(l.income.invoice_number),1)])):P("",!0),l.income.client_name?(_(),b("div",Lve,[i("label",Fve,f(L.__("Client")),1),i("p",Nve,f(l.income.client_name),1)])):P("",!0)]),i("div",null,[i("label",zve,f(L.__("Description")),1),i("p",Bve,f(l.income.description),1)]),l.income.category?(_(),b("div",Uve,[i("label",Vve,f(L.__("Category")),1),i("p",Hve,f(l.income.category),1)])):P("",!0),l.income.notes?(_(),b("div",Wve,[i("label",qve,f(L.__("Notes")),1),i("p",Kve,f(l.income.notes),1)])):P("",!0),l.income.receiver?(_(),b("div",Yve,[i("label",Gve,f(L.__("Received By")),1),i("p",Xve,f((E=l.income.receiver)==null?void 0:E.name),1),i("p",Jve,f(w(l.income.received_at)),1)])):P("",!0),l.income.quotation?(_(),b("div",Qve,[i("label",Zve,f(L.__("Related Quotation")),1),i("p",eye,f(l.income.quotation.quotation_number||`#${l.income.quotation.id}`),1)])):P("",!0)])):P("",!0),i("div",tye,[M(Ve,{onClick:z[12]||(z[12]=O=>l.show=!1)},{default:X(()=>[se(f(L.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0),d.show?(_(),oe(lo,{key:3,width:"max-w-md"},{default:X(()=>{var j,E,O;return[i("div",sye,[i("div",nye,[i("h3",oye,f(L.__("Mark as Received")),1),i("button",{onClick:z[13]||(z[13]=I=>d.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),i("div",iye,[i("p",rye,f(L.__("Are you sure you want to mark this income as received?")),1),i("div",aye,[i("p",lye,f((j=d.income)==null?void 0:j.description),1),i("p",dye,f((E=d.income)==null?void 0:E.currency)+" "+f(S((O=d.income)==null?void 0:O.amount)),1)])]),i("div",cye,[M(Ve,{white:"",onClick:z[14]||(z[14]=I=>d.show=!1)},{default:X(()=>[se(f(L.__("Cancel")),1)]),_:1}),M(Ve,{onClick:v},{default:X(()=>[se(f(L.__("Mark Received")),1)]),_:1})])])]}),_:1})):P("",!0)]))}},fye={key:0,class:"mt-8 flex justify-center"},hye={key:1},pye={key:0,class:"mb-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},mye={class:"overflow-hidden rounded-lg bg-white shadow"},gye={class:"p-5"},_ye={class:"flex items-center"},vye={class:"flex-shrink-0"},yye={class:"ml-5 w-0 flex-1"},bye={class:"truncate text-sm font-medium text-gray-500"},xye={class:"text-lg font-semibold text-gray-900"},wye={class:"overflow-hidden rounded-lg bg-white shadow"},kye={class:"p-5"},$ye={class:"flex items-center"},Cye={class:"flex-shrink-0"},Sye={class:"ml-5 w-0 flex-1"},Mye={class:"truncate text-sm font-medium text-gray-500"},Tye={class:"text-lg font-semibold text-gray-900"},Dye={class:"overflow-hidden rounded-lg bg-white shadow"},Aye={class:"p-5"},Eye={class:"flex items-center"},Pye={class:"flex-shrink-0"},Rye={class:"ml-5 w-0 flex-1"},Oye={class:"truncate text-sm font-medium text-gray-500"},Iye={class:"text-lg font-semibold text-gray-900"},jye={class:"overflow-hidden rounded-lg bg-white shadow"},Lye={class:"p-5"},Fye={class:"flex items-center"},Nye={class:"flex-shrink-0"},zye={class:"ml-5 w-0 flex-1"},Bye={class:"truncate text-sm font-medium text-gray-500"},Uye={class:"text-lg font-semibold text-gray-900"},Vye={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Hye={class:"flex flex-1 flex-wrap gap-2"},Wye={class:"relative w-64 rounded-md shadow-sm"},qye={class:"pointer-events-none absolute inset-y-0 flex items-center ltr:left-0 ltr:pl-3 rtl:right-0 rtl:pr-3"},Kye=["placeholder"],Yye={value:""},Gye={value:"created"},Xye={value:"updated"},Jye={value:"deleted"},Qye={value:""},Zye=["value"],ebe={value:""},tbe=["value"],sbe={class:"flex flex-col"},nbe={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},obe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ibe={class:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},rbe={class:"min-w-full divide-y divide-gray-200"},abe={class:"divide-y divide-gray-200 bg-white"},lbe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},dbe={class:"whitespace-nowrap px-6 py-4"},cbe={key:0,class:"flex items-center"},ube={class:"h-8 w-8 flex-shrink-0"},fbe={class:"ml-3"},hbe={class:"text-sm font-medium text-gray-900"},pbe={key:1,class:"text-sm text-gray-400"},mbe={class:"whitespace-nowrap px-6 py-4 text-sm"},gbe={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},_be={class:"inline-flex rounded bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700"},vbe={class:"ml-1 text-gray-400"},ybe={class:"max-w-xs px-6 py-4 text-sm text-gray-500"},bbe={key:0,class:"text-green-600"},xbe={key:1,class:"text-red-600"},wbe={key:2},kbe={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},$be={key:0},Cbe={colspan:"6",class:"px-6 py-8 text-center text-sm text-gray-500"},Sbe={class:"p-6"},Mbe={class:"flex items-center justify-between mb-4"},Tbe={class:"text-lg font-semibold text-gray-900"},Dbe={key:0,class:"space-y-4"},Abe={class:"grid grid-cols-2 gap-4 border-b pb-4"},Ebe={class:"block text-sm font-medium text-gray-700"},Pbe={class:"mt-1 text-sm text-gray-900"},Rbe={class:"block text-sm font-medium text-gray-700"},Obe={class:"mt-1 text-sm text-gray-900"},Ibe={class:"block text-sm font-medium text-gray-700"},jbe={class:"mt-1"},Lbe={class:"block text-sm font-medium text-gray-700"},Fbe={class:"mt-1 text-sm text-gray-900"},Nbe={key:0},zbe={class:"block text-sm font-medium text-gray-700"},Bbe={class:"mt-1 text-sm text-gray-900"},Ube={key:1},Vbe={class:"block text-sm font-medium text-gray-700"},Hbe=["title"],Wbe={key:0,class:"space-y-4"},qbe={class:"text-sm font-semibold text-gray-700"},Kbe={class:"grid grid-cols-2 gap-4"},Ybe={class:"block text-sm font-medium text-red-600 mb-2"},Gbe={class:"bg-red-50 rounded-md p-3 max-h-64 overflow-auto"},Xbe={class:"text-xs text-gray-800 whitespace-pre-wrap"},Jbe={class:"block text-sm font-medium text-green-600 mb-2"},Qbe={class:"bg-green-50 rounded-md p-3 max-h-64 overflow-auto"},Zbe={class:"text-xs text-gray-800 whitespace-pre-wrap"},exe={key:1,class:"space-y-2"},txe={class:"text-sm font-semibold text-gray-700"},sxe={class:"text-xs text-gray-800 whitespace-pre-wrap"},nxe={class:"mt-6 flex justify-end"},oxe={__name:"Index",setup(s){const e=R(!0),t=R(null),n=R([]),o=R([]),r=No("audit-trails",{search:"",event:"",model_type:"",user_id:"",start_date:"",end_date:"",sort_by:"created_at",sort_order:"desc",per_page:20}),a=_t({show:!1,audit:null});let l=null;const d=()=>{clearTimeout(l),l=setTimeout(()=>{r.get()},300)},c=w=>{a.audit=w,a.show=!0},u=w=>({created:"bg-green-100 text-green-800",updated:"bg-blue-100 text-blue-800",deleted:"bg-red-100 text-red-800",restored:"bg-yellow-100 text-yellow-800"})[w]||"bg-gray-100 text-gray-800",h=w=>{if(!w)return"Unknown";const S=w.split("\\");return S[S.length-1]},p=(w,S)=>{if(!w)return"-";const C=Object.keys(w);return C.length===0?"-":S==="created"?`Created with ${C.length} field(s)`:S==="deleted"?"Deleted record":C.length<=2?C.join(", ")+" changed":`${C.length} field(s) changed`},g=w=>w?new Date(w).toLocaleString():"-",v=w=>{if(!w)return"-";try{return JSON.stringify(w,null,2)}catch{return String(w)}},x=async()=>{try{const w=await me.get("audit-trails/statistics");t.value=w.data}catch{}},y=async()=>{try{const w=await me.get("audit-trails/model-types");n.value=w.data}catch{}},$=async()=>{try{const w=await me.get("users");o.value=w.data.data||w.data}catch{}};return nt(async()=>{await Promise.all([r.get(),x(),y(),$()]),e.value=!1}),(w,S)=>e.value?(_(),b("div",fye,[M(Ut,{size:"40",color:"#5850ec"})])):(_(),b("div",hye,[t.value?(_(),b("div",pye,[i("div",mye,[i("div",gye,[i("div",_ye,[i("div",vye,[M(m(Cv),{class:"h-6 w-6 text-blue-400"})]),i("div",yye,[i("dl",null,[i("dt",bye,f(w.__("Total Activities")),1),i("dd",xye,f(t.value.total),1)])])])])]),i("div",wye,[i("div",kye,[i("div",$ye,[i("div",Cye,[M(m(ao),{class:"h-6 w-6 text-green-400"})]),i("div",Sye,[i("dl",null,[i("dt",Mye,f(w.__("Today")),1),i("dd",Tye,f(t.value.today),1)])])])])]),i("div",Dye,[i("div",Aye,[i("div",Eye,[i("div",Pye,[M(m(kv),{class:"h-6 w-6 text-yellow-400"})]),i("div",Rye,[i("dl",null,[i("dt",Oye,f(w.__("This Week")),1),i("dd",Iye,f(t.value.this_week),1)])])])])]),i("div",jye,[i("div",Lye,[i("div",Fye,[i("div",Nye,[M(m(Bh),{class:"h-6 w-6 text-purple-400"})]),i("div",zye,[i("dl",null,[i("dt",Bye,f(w.__("This Month")),1),i("dd",Uye,f(t.value.this_month),1)])])])])])])):P("",!0),i("div",Vye,[i("div",Hye,[i("div",Wye,[i("div",qye,[M(m(ln),{class:"h-5 w-5 text-gray-400"})]),V(i("input",{"onUpdate:modelValue":S[0]||(S[0]=C=>m(r).params.search=C),type:"search",placeholder:w.__("Search changes..."),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 ltr:pl-10 rtl:pr-10 sm:text-sm",onInput:d},null,40,Kye),[[ie,m(r).params.search]])]),V(i("select",{"onUpdate:modelValue":S[1]||(S[1]=C=>m(r).params.event=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[2]||(S[2]=C=>m(r).get())},[i("option",Yye,f(w.__("All Events")),1),i("option",Gye,f(w.__("Created")),1),i("option",Xye,f(w.__("Updated")),1),i("option",Jye,f(w.__("Deleted")),1)],544),[[Ne,m(r).params.event]]),V(i("select",{"onUpdate:modelValue":S[3]||(S[3]=C=>m(r).params.model_type=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[4]||(S[4]=C=>m(r).get())},[i("option",Qye,f(w.__("All Models")),1),(_(!0),b(ue,null,xe(n.value,C=>(_(),b("option",{key:C.value,value:C.label},f(C.label),9,Zye))),128))],544),[[Ne,m(r).params.model_type]]),V(i("select",{"onUpdate:modelValue":S[5]||(S[5]=C=>m(r).params.user_id=C),class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[6]||(S[6]=C=>m(r).get())},[i("option",ebe,f(w.__("All Users")),1),(_(!0),b(ue,null,xe(o.value,C=>(_(),b("option",{key:C.id,value:C.id},f(C.name),9,tbe))),128))],544),[[Ne,m(r).params.user_id]]),V(i("input",{"onUpdate:modelValue":S[7]||(S[7]=C=>m(r).params.start_date=C),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[8]||(S[8]=C=>m(r).get())},null,544),[[ie,m(r).params.start_date]]),V(i("input",{"onUpdate:modelValue":S[9]||(S[9]=C=>m(r).params.end_date=C),type:"date",class:"block rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:S[10]||(S[10]=C=>m(r).get())},null,544),[[ie,m(r).params.end_date]])])]),i("section",null,[i("div",sbe,[i("div",nbe,[i("div",obe,[i("div",ibe,[i("table",rbe,[i("thead",null,[i("tr",null,[M(He,{name:"audit",index:m(r),label:w.__("Date/Time"),sort:"created_at"},null,8,["index","label"]),M(He,{name:"audit",index:m(r),label:w.__("User")},null,8,["index","label"]),M(He,{name:"audit",index:m(r),label:w.__("Event"),sort:"event"},null,8,["index","label"]),M(He,{name:"audit",index:m(r),label:w.__("Model")},null,8,["index","label"]),M(He,{name:"audit",index:m(r),label:w.__("Changes")},null,8,["index","label"]),S[13]||(S[13]=i("th",{class:"bg-gray-50 px-6 py-3"},null,-1))])]),i("tbody",abe,[(_(!0),b(ue,null,xe(m(r).data.data,C=>(_(),b("tr",{key:C.id,class:"hover:bg-gray-50"},[i("td",lbe,f(g(C.created_at)),1),i("td",dbe,[C.user?(_(),b("div",cbe,[i("div",ube,[M(ms,{user:C.user,size:"8"},null,8,["user"])]),i("div",fbe,[i("div",hbe,f(C.user.name),1)])])):(_(),b("span",pbe,"System"))]),i("td",mbe,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u(C.event)])},f(C.event.charAt(0).toUpperCase()+C.event.slice(1)),3)]),i("td",gbe,[i("span",_be,f(h(C.auditable_type)),1),i("span",vbe,"#"+f(C.auditable_id),1)]),i("td",ybe,[C.event==="created"?(_(),b("div",bbe,f(p(C.new_values,"created")),1)):C.event==="deleted"?(_(),b("div",xbe,f(p(C.old_values,"deleted")),1)):(_(),b("div",wbe,f(p(C.new_values,"updated")),1))]),i("td",kbe,[M(m(Io),{class:"w-5 cursor-pointer text-gray-400 hover:text-gray-800",onClick:T=>c(C)},null,8,["onClick"])])]))),128)),!m(r).data.data||m(r).data.data.length===0?(_(),b("tr",$be,[i("td",Cbe,f(w.__("No audit trail records found")),1)])):P("",!0)])]),M(Gs,{index:m(r)},null,8,["index"])])])])])]),a.show?(_(),oe(lo,{key:1,width:"max-w-3xl"},{default:X(()=>{var C;return[i("div",Sbe,[i("div",Mbe,[i("h3",Tbe,f(w.__("Audit Trail Details")),1),i("button",{onClick:S[11]||(S[11]=T=>a.show=!1),class:"text-gray-400 hover:text-gray-600"},[M(m(xn),{class:"h-6 w-6"})])]),a.audit?(_(),b("div",Dbe,[i("div",Abe,[i("div",null,[i("label",Ebe,f(w.__("Date/Time")),1),i("p",Pbe,f(g(a.audit.created_at)),1)]),i("div",null,[i("label",Rbe,f(w.__("User")),1),i("p",Obe,f(((C=a.audit.user)==null?void 0:C.name)||"System"),1)]),i("div",null,[i("label",Ibe,f(w.__("Event")),1),i("p",jbe,[i("span",{class:ne(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",u(a.audit.event)])},f(a.audit.event.charAt(0).toUpperCase()+a.audit.event.slice(1)),3)])]),i("div",null,[i("label",Lbe,f(w.__("Model")),1),i("p",Fbe,f(h(a.audit.auditable_type))+" #"+f(a.audit.auditable_id),1)]),a.audit.ip_address?(_(),b("div",Nbe,[i("label",zbe,f(w.__("IP Address")),1),i("p",Bbe,f(a.audit.ip_address),1)])):P("",!0),a.audit.url?(_(),b("div",Ube,[i("label",Vbe,f(w.__("URL")),1),i("p",{class:"mt-1 text-sm text-gray-900 truncate",title:a.audit.url},f(a.audit.url),9,Hbe)])):P("",!0)]),a.audit.event==="updated"?(_(),b("div",Wbe,[i("h4",qbe,f(w.__("Changes")),1),i("div",Kbe,[i("div",null,[i("label",Ybe,f(w.__("Old Values")),1),i("div",Gbe,[i("pre",Xbe,f(v(a.audit.old_values)),1)])]),i("div",null,[i("label",Jbe,f(w.__("New Values")),1),i("div",Qbe,[i("pre",Zbe,f(v(a.audit.new_values)),1)])])])])):(_(),b("div",exe,[i("h4",txe,f(a.audit.event==="created"?w.__("Created Values"):w.__("Deleted Values")),1),i("div",{class:ne(["rounded-md p-3 max-h-64 overflow-auto",a.audit.event==="created"?"bg-green-50":"bg-red-50"])},[i("pre",sxe,f(v(a.audit.event==="created"?a.audit.new_values:a.audit.old_values)),1)],2)]))])):P("",!0),i("div",nxe,[M(Ve,{onClick:S[12]||(S[12]=T=>a.show=!1)},{default:X(()=>[se(f(w.__("Close")),1)]),_:1})])])]}),_:1})):P("",!0)]))}},ixe={class:"space-y-6"},rxe={class:"flex items-center justify-between"},axe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},lxe={class:"bg-white rounded-lg shadow p-4"},dxe={class:"mt-1 text-2xl font-semibold text-gray-900"},cxe={class:"bg-white rounded-lg shadow p-4"},uxe={class:"mt-1 text-2xl font-semibold text-green-600"},fxe={class:"bg-white rounded-lg shadow p-4"},hxe={class:"mt-1 text-2xl font-semibold text-yellow-600"},pxe={class:"bg-white rounded-lg shadow p-4"},mxe={class:"mt-1 text-2xl font-semibold text-red-600"},gxe={class:"bg-white rounded-lg shadow p-4"},_xe={class:"flex flex-wrap gap-4"},vxe={class:"flex-1 min-w-64"},yxe={class:"relative"},bxe={class:"bg-white rounded-lg shadow overflow-hidden"},xxe={class:"min-w-full divide-y divide-gray-200"},wxe={class:"bg-white divide-y divide-gray-200"},kxe={key:0},$xe={key:1},Cxe=["onClick"],Sxe={class:"px-6 py-4"},Mxe={class:"font-medium text-gray-900"},Txe={class:"text-sm text-gray-500"},Dxe={class:"text-sm text-gray-500"},Axe={class:"px-6 py-4"},Exe={class:"text-gray-900"},Pxe={class:"text-sm text-gray-500"},Rxe={class:"px-6 py-4 text-sm text-gray-500"},Oxe={class:"w-full max-w-xs"},Ixe={class:"flex justify-between text-xs text-gray-600 mb-1"},jxe={class:"w-full bg-gray-200 rounded-full h-2"},Lxe={class:"text-xs text-gray-500 mt-1"},Fxe={key:0,class:"mt-1 text-xs text-green-600"},Nxe={key:1,class:"mt-1 text-xs text-yellow-600"},zxe={class:"py-1"},Bxe=["onClick"],Uxe=["onClick"],Vxe=["onClick"],Hxe=["onClick"],Wxe=["onClick"],qxe={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},Kxe={class:"text-sm text-gray-500"},Yxe={class:"flex space-x-2"},Gxe=["onClick"],Xxe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Jxe={class:"flex items-center justify-center min-h-screen px-4"},Qxe={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},Zxe={class:"text-lg font-semibold text-gray-900 mb-4"},e2e={class:"mb-6"},t2e={class:"flex items-center justify-between"},s2e={class:"flex-1 h-1 mx-4 bg-gray-200"},n2e={class:"space-y-4"},o2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},i2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},r2e={class:"block text-sm font-medium text-gray-700"},a2e=["required"],l2e={class:"space-y-4"},d2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},c2e={class:"grid grid-cols-2 gap-4"},u2e={key:0},f2e={class:"grid grid-cols-2 gap-4"},h2e={key:1,class:"bg-gray-50 rounded-lg p-4 space-y-4"},p2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},m2e={key:2,class:"bg-gray-50 rounded-lg p-4 space-y-4"},g2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_2e={class:"md:col-span-2"},v2e={class:"flex justify-between pt-6 border-t mt-6"},y2e={class:"flex space-x-3"},b2e={key:1,type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},x2e=pe({__name:"Index",setup(s){const e=uo(),t=R([]),n=R({total:0,active:0,pending:0,suspended:0}),o=R(!0),r=R(""),a=R(""),l=R({current_page:1,last_page:1,per_page:15,total:0}),d=R(!1),c=R(!1),u=R(null),h=R(1),p=R({name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""}),g=async(E=1)=>{o.value=!0;try{const O=new URLSearchParams;O.append("page",E.toString()),r.value&&O.append("search",r.value),a.value&&O.append("status",a.value);const I=await Qe.get(`/api/service-providers?${O}`);t.value=I.data.data,l.value={current_page:I.data.current_page,last_page:I.data.last_page,per_page:I.data.per_page,total:I.data.total}}catch{}finally{o.value=!1}},v=async()=>{try{const E=await Qe.get("/api/service-providers/statistics");n.value=E.data}catch{}},x=async()=>{try{await Qe.post("/api/service-providers",p.value),d.value=!1,F(),await g(),await v()}catch{}},y=async()=>{if(u.value)try{const E={...p.value};E.password||delete E.password,await Qe.put(`/api/service-providers/${u.value.id}`,E),c.value=!1,F(),await g()}catch{}},$=async E=>{try{await Qe.post(`/api/service-providers/${E.id}/activate`),await g(),await v()}catch{}},w=async E=>{try{await Qe.post(`/api/service-providers/${E.id}/suspend`),await g(),await v()}catch{}},S=async E=>{if(confirm("Are you sure you want to delete this service provider?"))try{await Qe.delete(`/api/service-providers/${E.id}`),await g(),await v()}catch{}},C=E=>{e.push(`/service-providers/${E.id}`)},T=E=>{var O,I,W;u.value=E,p.value={name:E.name,email:E.email,phone:E.phone||"",national_id:E.national_id||"",address:E.address||"",specialty:E.specialty||"",qualification:E.qualification||"",bio:E.bio||"",hourly_rate:((O=E.hourly_rate)==null?void 0:O.toString())||"",total_agreed_amount:((I=E.total_agreed_amount)==null?void 0:I.toString())||"700000",payment_preference:E.payment_preference||"monthly",monthly_amount:((W=E.monthly_amount)==null?void 0:W.toString())||"",payment_method:E.payment_method||"bank",bank_name:E.bank_name||"",bank_account_number:E.bank_account_number||"",bank_account_name:E.bank_account_name||"",bank_branch:E.bank_branch||"",mobile_money_provider:E.mobile_money_provider||"",mobile_money_number:E.mobile_money_number||"",mobile_money_name:E.mobile_money_name||"",password:""},h.value=1,c.value=!0},F=()=>{p.value={name:"",email:"",phone:"",national_id:"",address:"",specialty:"",qualification:"",bio:"",hourly_rate:"",total_agreed_amount:"700000",payment_preference:"monthly",monthly_amount:"",payment_method:"bank",bank_name:"",bank_account_number:"",bank_account_name:"",bank_branch:"",mobile_money_provider:"",mobile_money_number:"",mobile_money_name:"",password:""},u.value=null,h.value=1},L=E=>{switch(E){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=E=>new Intl.NumberFormat("en-MW",{style:"decimal"}).format(E||0),j=E=>E.total_agreed_amount?Math.round(E.total_paid/E.total_agreed_amount*100):0;return nt(()=>{g(),v()}),(E,O)=>(_(),b("div",ixe,[i("div",rxe,[O[39]||(O[39]=i("div",null,[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Service Providers (Teachers)"),i("p",{class:"mt-1 text-sm text-gray-500"},"Manage teachers and content providers")],-1)),i("button",{onClick:O[0]||(O[0]=I=>d.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[M(m(qn),{class:"w-5 h-5 mr-2"}),O[38]||(O[38]=se(" Add Teacher ",-1))])]),i("div",axe,[i("div",lxe,[O[40]||(O[40]=i("div",{class:"text-sm font-medium text-gray-500"},"Total Teachers",-1)),i("div",dxe,f(n.value.total),1)]),i("div",cxe,[O[41]||(O[41]=i("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),i("div",uxe,f(n.value.active),1)]),i("div",fxe,[O[42]||(O[42]=i("div",{class:"text-sm font-medium text-gray-500"},"Pending Approval",-1)),i("div",hxe,f(n.value.pending),1)]),i("div",pxe,[O[43]||(O[43]=i("div",{class:"text-sm font-medium text-gray-500"},"Suspended",-1)),i("div",mxe,f(n.value.suspended),1)])]),i("div",gxe,[i("div",_xe,[i("div",vxe,[i("div",yxe,[M(m(ln),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),V(i("input",{"onUpdate:modelValue":O[1]||(O[1]=I=>r.value=I),onInput:O[2]||(O[2]=I=>g(1)),type:"text",placeholder:"Search by name, email, phone or ID...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[ie,r.value]])])]),V(i("select",{"onUpdate:modelValue":O[3]||(O[3]=I=>a.value=I),onChange:O[4]||(O[4]=I=>g(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...O[44]||(O[44]=[i("option",{value:""},"All Statuses",-1),i("option",{value:"active"},"Active",-1),i("option",{value:"pending"},"Pending",-1),i("option",{value:"suspended"},"Suspended",-1)])],544),[[Ne,a.value]])])]),i("div",bxe,[i("table",xxe,[O[48]||(O[48]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sessions"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payment Progress"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),i("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),i("tbody",wxe,[o.value?(_(),b("tr",kxe,[...O[45]||(O[45]=[i("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):t.value.length===0?(_(),b("tr",$xe,[...O[46]||(O[46]=[i("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},"No teachers found",-1)])])):P("",!0),(_(!0),b(ue,null,xe(t.value,I=>(_(),b("tr",{key:I.id,class:"hover:bg-gray-50 cursor-pointer",onClick:W=>C(I)},[i("td",Sxe,[i("div",Mxe,f(I.name),1),i("div",Txe,f(I.email),1),i("div",Dxe,f(I.phone),1)]),i("td",Axe,[i("div",Exe,f(I.specialty||"-"),1),i("div",Pxe,f(I.qualification||"-"),1)]),i("td",Rxe,[i("div",null,f(I.recording_sessions_count||0)+" recordings",1),i("div",null,f(I.lesson_plans_count||0)+" lesson plans",1)]),i("td",{class:"px-6 py-4",onClick:O[5]||(O[5]=We(()=>{},["stop"]))},[i("div",Oxe,[i("div",Ixe,[i("span",null,"MK "+f(z(I.total_paid||0)),1),i("span",null,"MK "+f(z(I.total_agreed_amount||7e5)),1)]),i("div",jxe,[i("div",{class:"bg-indigo-600 h-2 rounded-full transition-all",style:$t({width:j(I)+"%"})},null,4)]),i("div",Lxe,f(j(I))+"% paid | Balance: MK "+f(z(I.balance_remaining||I.total_agreed_amount||7e5)),1)])]),i("td",{class:"px-6 py-4",onClick:O[6]||(O[6]=We(()=>{},["stop"]))},[i("span",{class:ne(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",L(I.status)])},f(I.status),3),I.agreement_signed?(_(),b("div",Fxe,"Agreement Signed")):(_(),b("div",Nxe,"Agreement Pending"))]),i("td",{class:"px-6 py-4 text-right",onClick:O[7]||(O[7]=We(()=>{},["stop"]))},[M(m(Mc),{as:"div",class:"relative inline-block text-left"},{default:X(()=>[M(m(Tc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:X(()=>[M(m(Rc),{class:"w-5 h-5"})]),_:1}),M(m(Dc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:X(()=>[i("div",zxe,[M(m(sn),null,{default:X(({active:W})=>[i("button",{onClick:ye=>C(I),class:ne([W?"bg-gray-100":"","flex items-center w-full text-left px-4 py-2 text-sm text-gray-700"])},[M(m(Io),{class:"w-4 h-4 mr-2"}),O[47]||(O[47]=se(" View Details ",-1))],10,Bxe)]),_:2},1024),M(m(sn),null,{default:X(({active:W})=>[i("button",{onClick:ye=>T(I),class:ne([W?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit ",10,Uxe)]),_:2},1024),I.status!=="active"?(_(),oe(m(sn),{key:0},{default:X(({active:W})=>[i("button",{onClick:ye=>$(I),class:ne([W?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])}," Activate ",10,Vxe)]),_:2},1024)):P("",!0),I.status==="active"?(_(),oe(m(sn),{key:1},{default:X(({active:W})=>[i("button",{onClick:ye=>w(I),class:ne([W?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-yellow-700"])}," Suspend ",10,Hxe)]),_:2},1024)):P("",!0),M(m(sn),null,{default:X(({active:W})=>[i("button",{onClick:ye=>S(I),class:ne([W?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,Wxe)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])],8,Cxe))),128))])]),l.value.last_page>1?(_(),b("div",qxe,[i("div",Kxe," Showing "+f((l.value.current_page-1)*l.value.per_page+1)+" to "+f(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+f(l.value.total),1),i("div",Yxe,[(_(!0),b(ue,null,xe(l.value.last_page,I=>(_(),b("button",{key:I,onClick:W=>g(I),class:ne(["px-3 py-1 rounded",I===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(I),11,Gxe))),128))])])):P("",!0)]),d.value||c.value?(_(),b("div",Xxe,[i("div",Jxe,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:O[8]||(O[8]=I=>{d.value=!1,c.value=!1,F()})}),i("div",Qxe,[i("h2",Zxe,f(c.value?"Edit Teacher":"Add Teacher"),1),i("div",e2e,[i("div",t2e,[i("button",{onClick:O[9]||(O[9]=I=>h.value=1),class:ne(["flex items-center",h.value>=1?"text-indigo-600":"text-gray-400"])},[i("span",{class:ne(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",h.value>=1?"bg-indigo-600 text-white":"bg-gray-200"])},"1",2),O[49]||(O[49]=i("span",{class:"hidden sm:inline"},"Personal Info",-1))],2),i("div",s2e,[i("div",{class:ne(["h-1 transition-all",h.value>=2?"bg-indigo-600":"bg-gray-200"]),style:$t({width:h.value>=2?"100%":"0%"})},null,6)]),i("button",{onClick:O[10]||(O[10]=I=>h.value=2),class:ne(["flex items-center",h.value>=2?"text-indigo-600":"text-gray-400"])},[i("span",{class:ne(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mr-2",h.value>=2?"bg-indigo-600 text-white":"bg-gray-200"])},"2",2),O[50]||(O[50]=i("span",{class:"hidden sm:inline"},"Payment Details",-1))],2)])]),i("form",{onSubmit:O[37]||(O[37]=We(I=>c.value?y():x(),["prevent"]))},[V(i("div",n2e,[i("div",o2e,[i("div",null,[O[51]||(O[51]=i("label",{class:"block text-sm font-medium text-gray-700"},"Full Name *",-1)),V(i("input",{"onUpdate:modelValue":O[11]||(O[11]=I=>p.value.name=I),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.name]])]),i("div",null,[O[52]||(O[52]=i("label",{class:"block text-sm font-medium text-gray-700"},"Email *",-1)),V(i("input",{"onUpdate:modelValue":O[12]||(O[12]=I=>p.value.email=I),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.email]])]),i("div",null,[O[53]||(O[53]=i("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),V(i("input",{"onUpdate:modelValue":O[13]||(O[13]=I=>p.value.phone=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.phone]])]),i("div",null,[O[54]||(O[54]=i("label",{class:"block text-sm font-medium text-gray-700"},"National ID",-1)),V(i("input",{"onUpdate:modelValue":O[14]||(O[14]=I=>p.value.national_id=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.national_id]])])]),i("div",null,[O[55]||(O[55]=i("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),V(i("input",{"onUpdate:modelValue":O[15]||(O[15]=I=>p.value.address=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.address]])]),i("div",i2e,[i("div",null,[O[56]||(O[56]=i("label",{class:"block text-sm font-medium text-gray-700"},"Subject/Specialty",-1)),V(i("input",{"onUpdate:modelValue":O[16]||(O[16]=I=>p.value.specialty=I),type:"text",placeholder:"e.g., Mathematics, English",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.specialty]])]),i("div",null,[O[57]||(O[57]=i("label",{class:"block text-sm font-medium text-gray-700"},"Qualification",-1)),V(i("input",{"onUpdate:modelValue":O[17]||(O[17]=I=>p.value.qualification=I),type:"text",placeholder:"e.g., Bachelor's Degree",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.qualification]])])]),i("div",null,[O[58]||(O[58]=i("label",{class:"block text-sm font-medium text-gray-700"},"Bio/About",-1)),V(i("textarea",{"onUpdate:modelValue":O[18]||(O[18]=I=>p.value.bio=I),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Brief description about the teacher..."},null,512),[[ie,p.value.bio]])]),i("div",null,[i("label",r2e,f(c.value?"New Password (leave blank to keep current)":"Password *"),1),V(i("input",{"onUpdate:modelValue":O[19]||(O[19]=I=>p.value.password=I),type:"password",required:!c.value,class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,8,a2e),[[ie,p.value.password]])])],512),[[Ft,h.value===1]]),V(i("div",l2e,[O[84]||(O[84]=i("div",{class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},[i("h3",{class:"font-medium text-indigo-800 mb-2"},"Contract Payment Details"),i("p",{class:"text-sm text-indigo-600"},"Configure the payment terms for this teacher's contract.")],-1)),i("div",d2e,[i("div",null,[O[59]||(O[59]=i("label",{class:"block text-sm font-medium text-gray-700"},"Total Agreed Amount (MK) *",-1)),V(i("input",{"onUpdate:modelValue":O[20]||(O[20]=I=>p.value.total_agreed_amount=I),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.total_agreed_amount]]),O[60]||(O[60]=i("p",{class:"text-xs text-gray-500 mt-1"},"Default: MK 700,000",-1))]),i("div",null,[O[61]||(O[61]=i("label",{class:"block text-sm font-medium text-gray-700"},"Hourly Rate (MK)",-1)),V(i("input",{"onUpdate:modelValue":O[21]||(O[21]=I=>p.value.hourly_rate=I),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.hourly_rate]])])]),i("div",null,[O[66]||(O[66]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Preference *",-1)),i("div",c2e,[i("label",{class:ne(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="monthly"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[V(i("input",{type:"radio","onUpdate:modelValue":O[22]||(O[22]=I=>p.value.payment_preference=I),value:"monthly",class:"sr-only"},null,512),[[no,p.value.payment_preference]]),O[62]||(O[62]=i("div",{class:"font-medium"},"Monthly Payments",-1)),O[63]||(O[63]=i("div",{class:"text-sm text-gray-500"},"Paid each month during contract",-1))],2),i("label",{class:ne(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_preference==="lump_sum"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[V(i("input",{type:"radio","onUpdate:modelValue":O[23]||(O[23]=I=>p.value.payment_preference=I),value:"lump_sum",class:"sr-only"},null,512),[[no,p.value.payment_preference]]),O[64]||(O[64]=i("div",{class:"font-medium"},"Lump Sum",-1)),O[65]||(O[65]=i("div",{class:"text-sm text-gray-500"},"Full payment after completion",-1))],2)])]),p.value.payment_preference==="monthly"?(_(),b("div",u2e,[O[67]||(O[67]=i("label",{class:"block text-sm font-medium text-gray-700"},"Monthly Payment Amount (MK)",-1)),V(i("input",{"onUpdate:modelValue":O[24]||(O[24]=I=>p.value.monthly_amount=I),type:"number",step:"0.01",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 100000"},null,512),[[ie,p.value.monthly_amount]])])):P("",!0),i("div",null,[O[72]||(O[72]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Method *",-1)),i("div",f2e,[i("label",{class:ne(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="bank"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[V(i("input",{type:"radio","onUpdate:modelValue":O[25]||(O[25]=I=>p.value.payment_method=I),value:"bank",class:"sr-only"},null,512),[[no,p.value.payment_method]]),O[68]||(O[68]=i("div",{class:"font-medium"},"Bank Transfer",-1)),O[69]||(O[69]=i("div",{class:"text-sm text-gray-500"},"Direct bank deposit",-1))],2),i("label",{class:ne(["border rounded-lg p-4 cursor-pointer transition-all",p.value.payment_method==="mobile_money"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[V(i("input",{type:"radio","onUpdate:modelValue":O[26]||(O[26]=I=>p.value.payment_method=I),value:"mobile_money",class:"sr-only"},null,512),[[no,p.value.payment_method]]),O[70]||(O[70]=i("div",{class:"font-medium"},"Mobile Money",-1)),O[71]||(O[71]=i("div",{class:"text-sm text-gray-500"},"Airtel Money / TNM Mpamba",-1))],2)])]),p.value.payment_method==="bank"?(_(),b("div",h2e,[O[78]||(O[78]=i("h4",{class:"font-medium text-gray-900"},"Bank Account Details",-1)),i("div",p2e,[i("div",null,[O[74]||(O[74]=i("label",{class:"block text-sm font-medium text-gray-700"},"Bank Name",-1)),V(i("select",{"onUpdate:modelValue":O[27]||(O[27]=I=>p.value.bank_name=I),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...O[73]||(O[73]=[Ir('<option value="">Select Bank</option><option value="National Bank of Malawi">National Bank of Malawi</option><option value="Standard Bank">Standard Bank</option><option value="FDH Bank">FDH Bank</option><option value="NBS Bank">NBS Bank</option><option value="Ecobank">Ecobank</option><option value="First Capital Bank">First Capital Bank</option><option value="CDH Bank">CDH Bank</option><option value="MyBucks">MyBucks</option>',9)])],512),[[Ne,p.value.bank_name]])]),i("div",null,[O[75]||(O[75]=i("label",{class:"block text-sm font-medium text-gray-700"},"Branch",-1)),V(i("input",{"onUpdate:modelValue":O[28]||(O[28]=I=>p.value.bank_branch=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.bank_branch]])]),i("div",null,[O[76]||(O[76]=i("label",{class:"block text-sm font-medium text-gray-700"},"Account Name",-1)),V(i("input",{"onUpdate:modelValue":O[29]||(O[29]=I=>p.value.bank_account_name=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.bank_account_name]])]),i("div",null,[O[77]||(O[77]=i("label",{class:"block text-sm font-medium text-gray-700"},"Account Number",-1)),V(i("input",{"onUpdate:modelValue":O[30]||(O[30]=I=>p.value.bank_account_number=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.bank_account_number]])])])])):P("",!0),p.value.payment_method==="mobile_money"?(_(),b("div",m2e,[O[83]||(O[83]=i("h4",{class:"font-medium text-gray-900"},"Mobile Money Details",-1)),i("div",g2e,[i("div",null,[O[80]||(O[80]=i("label",{class:"block text-sm font-medium text-gray-700"},"Provider",-1)),V(i("select",{"onUpdate:modelValue":O[31]||(O[31]=I=>p.value.mobile_money_provider=I),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...O[79]||(O[79]=[i("option",{value:""},"Select Provider",-1),i("option",{value:"Airtel Money"},"Airtel Money",-1),i("option",{value:"TNM Mpamba"},"TNM Mpamba",-1)])],512),[[Ne,p.value.mobile_money_provider]])]),i("div",null,[O[81]||(O[81]=i("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),V(i("input",{"onUpdate:modelValue":O[32]||(O[32]=I=>p.value.mobile_money_number=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 0999123456"},null,512),[[ie,p.value.mobile_money_number]])]),i("div",_2e,[O[82]||(O[82]=i("label",{class:"block text-sm font-medium text-gray-700"},"Registered Name",-1)),V(i("input",{"onUpdate:modelValue":O[33]||(O[33]=I=>p.value.mobile_money_name=I),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[ie,p.value.mobile_money_name]])])])])):P("",!0)],512),[[Ft,h.value===2]]),i("div",v2e,[i("div",null,[h.value>1?(_(),b("button",{key:0,type:"button",onClick:O[34]||(O[34]=I=>h.value--),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Back ")):P("",!0)]),i("div",y2e,[i("button",{type:"button",onClick:O[35]||(O[35]=I=>{d.value=!1,c.value=!1,F()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"}," Cancel "),h.value<2?(_(),b("button",{key:0,type:"button",onClick:O[36]||(O[36]=I=>h.value++),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Next ")):(_(),b("button",b2e,f(c.value?"Update":"Create")+" Teacher ",1))])])],32)])])])):P("",!0)]))}}),w2e={class:"space-y-6"},k2e={class:"flex items-center justify-between"},$2e={class:"flex items-center space-x-4"},C2e={key:0},S2e={class:"text-2xl font-semibold text-gray-900"},M2e={class:"text-sm text-gray-500"},T2e={key:0,class:"flex space-x-3"},D2e={key:0,class:"text-center py-12 text-gray-500"},A2e={key:1},E2e={class:"bg-white rounded-lg shadow p-6"},P2e={class:"flex items-center justify-between mb-4"},R2e={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},O2e={class:"text-2xl font-bold text-gray-900"},I2e={class:"text-2xl font-bold text-green-600"},j2e={class:"text-2xl font-bold text-red-600"},L2e={class:"flex items-center space-x-3"},F2e={class:"flex-1 bg-gray-200 rounded-full h-3"},N2e={class:"text-lg font-bold text-gray-900"},z2e={class:"border-b border-gray-200"},B2e={class:"flex space-x-8"},U2e=["onClick"],V2e={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H2e={class:"bg-white rounded-lg shadow p-6"},W2e={class:"space-y-3"},q2e={class:"flex justify-between"},K2e={class:"text-gray-900 font-medium"},Y2e={class:"flex justify-between"},G2e={class:"text-gray-900"},X2e={class:"flex justify-between"},J2e={class:"text-gray-900"},Q2e={class:"flex justify-between"},Z2e={class:"text-gray-900"},ewe={class:"flex justify-between"},twe={class:"text-gray-900"},swe={class:"flex justify-between"},nwe={class:"text-gray-900"},owe={class:"flex justify-between"},iwe={class:"text-gray-900"},rwe={class:"bg-white rounded-lg shadow p-6"},awe={class:"space-y-3"},lwe={class:"flex justify-between"},dwe={class:"text-gray-900 capitalize"},cwe={class:"flex justify-between"},uwe={class:"text-gray-900"},fwe={class:"flex justify-between"},hwe={class:"text-gray-900 capitalize"},pwe={class:"flex justify-between"},mwe={class:"text-gray-900"},gwe={class:"flex justify-between"},_we={class:"text-gray-900"},vwe={class:"flex justify-between"},ywe={class:"text-gray-900"},bwe={class:"flex justify-between"},xwe={class:"text-gray-900"},wwe={class:"flex justify-between"},kwe={class:"text-gray-900"},$we={class:"flex justify-between"},Cwe={class:"text-gray-900"},Swe={class:"flex justify-between"},Mwe={class:"text-gray-900"},Twe={class:"bg-white rounded-lg shadow p-6"},Dwe={class:"flex items-center space-x-3"},Awe={class:"text-gray-900"},Ewe={key:0,class:"mt-2 text-sm text-gray-500"},Pwe={key:0,class:"bg-white rounded-lg shadow p-6"},Rwe={class:"space-y-3"},Owe={class:"flex justify-between"},Iwe={class:"text-gray-900 font-medium"},jwe={class:"flex justify-between"},Lwe={class:"text-gray-900"},Fwe={class:"flex justify-between"},Nwe={class:"text-green-600"},zwe={class:"flex justify-between"},Bwe={class:"text-yellow-600"},Uwe={class:"flex justify-between"},Vwe={class:"text-green-600"},Hwe={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},Wwe={class:"min-w-full divide-y divide-gray-200"},qwe={class:"bg-white divide-y divide-gray-200"},Kwe={key:0},Ywe={class:"px-6 py-4 text-sm font-medium text-gray-900"},Gwe={class:"px-6 py-4 text-sm text-gray-500"},Xwe={class:"px-6 py-4 text-sm text-gray-500"},Jwe={class:"px-6 py-4 text-sm font-medium text-gray-900"},Qwe={class:"px-6 py-4 text-sm text-gray-500 capitalize"},Zwe={class:"px-6 py-4"},e5e={class:"px-6 py-4 text-right"},t5e=["onClick"],s5e={key:2,class:"text-gray-500 text-center py-8"},n5e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},o5e={class:"flex items-center justify-center min-h-screen px-4"},i5e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},r5e={class:"text-lg font-semibold text-gray-900 mb-4"},a5e={class:"grid grid-cols-2 gap-4"},l5e={class:"grid grid-cols-2 gap-4"},d5e={class:"grid grid-cols-2 gap-4"},c5e={class:"flex justify-end space-x-3 pt-4"},u5e=pe({__name:"Detail",setup(s){const e=$c(),t=uo(),n=R(null),o=R([]),r=R(null),a=R(!0),l=R("overview"),d=R(!1);R(!1);const c=R({amount:"",payment_method:"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}),u=async()=>{a.value=!0;try{const C=await Qe.get(`/api/service-providers/${e.params.id}`);n.value=C.data.data,r.value=C.data.stats}catch{}finally{a.value=!1}},h=async()=>{try{const C=await Qe.get(`/api/service-providers/${e.params.id}/payments`);o.value=C.data.data}catch{}},p=async()=>{var C;try{await Qe.post("/api/payments",{...c.value,service_provider_id:(C=n.value)==null?void 0:C.id}),d.value=!1,y(),await u(),await h()}catch{}},g=async C=>{window.open(`/api/payments/${C.id}/receipt`,"_blank")},v=()=>{var C;window.open(`/api/service-providers/${(C=n.value)==null?void 0:C.id}/download-agreement`,"_blank")},x=async()=>{var C;try{await Qe.post(`/api/service-providers/${(C=n.value)==null?void 0:C.id}/sign-agreement`),await u()}catch{}},y=()=>{var C,T,F;c.value={amount:((T=(C=n.value)==null?void 0:C.monthly_amount)==null?void 0:T.toString())||"",payment_method:((F=n.value)==null?void 0:F.payment_method)||"bank",payment_date:new Date().toISOString().split("T")[0],status:"completed",month_for:"",reference_number:"",notes:""}},$=C=>{switch(C){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=C=>"MK "+new Intl.NumberFormat().format(C),S=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return nt(()=>{u(),h()}),(C,T)=>{var F,L,z;return _(),b("div",w2e,[i("div",k2e,[i("div",$2e,[i("button",{onClick:T[0]||(T[0]=j=>m(t).push("/service-providers")),class:"p-2 hover:bg-gray-100 rounded-lg"},[M(m(yv),{class:"w-5 h-5 text-gray-500"})]),n.value?(_(),b("div",C2e,[i("h1",S2e,f(n.value.name),1),i("p",M2e,f(n.value.email)+" | "+f(n.value.phone),1)])):P("",!0)]),n.value?(_(),b("div",T2e,[i("button",{onClick:v,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"},[M(m(Pc),{class:"w-5 h-5 mr-2"}),T[11]||(T[11]=se(" Download Agreement ",-1))]),n.value.agreement_signed?P("",!0):(_(),b("button",{key:0,onClick:x,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[M(m(Js),{class:"w-5 h-5 mr-2"}),T[12]||(T[12]=se(" Mark Agreement Signed ",-1))])),i("button",{onClick:T[1]||(T[1]=j=>{d.value=!0,y()}),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[M(m(qn),{class:"w-5 h-5 mr-2"}),T[13]||(T[13]=se(" Record Payment ",-1))])])):P("",!0)]),a.value?(_(),b("div",D2e,"Loading...")):n.value?(_(),b("div",A2e,[i("div",E2e,[i("div",P2e,[T[14]||(T[14]=i("h2",{class:"text-lg font-semibold text-gray-900"},"Payment Progress",-1)),i("span",{class:ne(["px-3 py-1 rounded-full text-sm font-medium",$(n.value.status)])},f(n.value.status),3)]),i("div",R2e,[i("div",null,[T[15]||(T[15]=i("div",{class:"text-sm text-gray-500"},"Total Agreed",-1)),i("div",O2e,f(w(n.value.total_agreed_amount)),1)]),i("div",null,[T[16]||(T[16]=i("div",{class:"text-sm text-gray-500"},"Total Paid",-1)),i("div",I2e,f(w(n.value.total_paid)),1)]),i("div",null,[T[17]||(T[17]=i("div",{class:"text-sm text-gray-500"},"Balance Remaining",-1)),i("div",j2e,f(w(n.value.balance_remaining)),1)]),i("div",null,[T[18]||(T[18]=i("div",{class:"text-sm text-gray-500"},"Progress",-1)),i("div",L2e,[i("div",F2e,[i("div",{class:"bg-indigo-600 h-3 rounded-full transition-all",style:$t({width:`${n.value.payment_progress_percent}%`})},null,4)]),i("span",N2e,f(n.value.payment_progress_percent)+"%",1)])])])]),i("div",z2e,[i("nav",B2e,[(_(),b(ue,null,xe(["overview","payments","sessions"],j=>i("button",{key:j,onClick:E=>l.value=j,class:ne(["py-4 px-1 border-b-2 font-medium text-sm capitalize",l.value===j?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},f(j),11,U2e)),64))])]),l.value==="overview"?(_(),b("div",V2e,[i("div",H2e,[T[26]||(T[26]=i("h3",{class:"font-semibold text-gray-900 mb-4"},"Personal Information",-1)),i("dl",W2e,[i("div",q2e,[T[19]||(T[19]=i("dt",{class:"text-gray-500"},"Name",-1)),i("dd",K2e,f(n.value.name),1)]),i("div",Y2e,[T[20]||(T[20]=i("dt",{class:"text-gray-500"},"Email",-1)),i("dd",G2e,f(n.value.email),1)]),i("div",X2e,[T[21]||(T[21]=i("dt",{class:"text-gray-500"},"Phone",-1)),i("dd",J2e,f(n.value.phone||"-"),1)]),i("div",Q2e,[T[22]||(T[22]=i("dt",{class:"text-gray-500"},"National ID",-1)),i("dd",Z2e,f(n.value.national_id||"-"),1)]),i("div",ewe,[T[23]||(T[23]=i("dt",{class:"text-gray-500"},"Address",-1)),i("dd",twe,f(n.value.address||"-"),1)]),i("div",swe,[T[24]||(T[24]=i("dt",{class:"text-gray-500"},"Specialty",-1)),i("dd",nwe,f(n.value.specialty||"-"),1)]),i("div",owe,[T[25]||(T[25]=i("dt",{class:"text-gray-500"},"Qualification",-1)),i("dd",iwe,f(n.value.qualification||"-"),1)])])]),i("div",rwe,[T[37]||(T[37]=i("h3",{class:"font-semibold text-gray-900 mb-4"},"Payment Details",-1)),i("dl",awe,[i("div",lwe,[T[27]||(T[27]=i("dt",{class:"text-gray-500"},"Payment Preference",-1)),i("dd",dwe,f(((F=n.value.payment_preference)==null?void 0:F.replace("_"," "))||"-"),1)]),i("div",cwe,[T[28]||(T[28]=i("dt",{class:"text-gray-500"},"Monthly Amount",-1)),i("dd",uwe,f(n.value.monthly_amount?w(n.value.monthly_amount):"-"),1)]),i("div",fwe,[T[29]||(T[29]=i("dt",{class:"text-gray-500"},"Payment Method",-1)),i("dd",hwe,f(((L=n.value.payment_method)==null?void 0:L.replace("_"," "))||"-"),1)]),n.value.payment_method==="bank"?(_(),b(ue,{key:0},[i("div",pwe,[T[30]||(T[30]=i("dt",{class:"text-gray-500"},"Bank Name",-1)),i("dd",mwe,f(n.value.bank_name||"-"),1)]),i("div",gwe,[T[31]||(T[31]=i("dt",{class:"text-gray-500"},"Account Name",-1)),i("dd",_we,f(n.value.bank_account_name||"-"),1)]),i("div",vwe,[T[32]||(T[32]=i("dt",{class:"text-gray-500"},"Account Number",-1)),i("dd",ywe,f(n.value.bank_account_number||"-"),1)]),i("div",bwe,[T[33]||(T[33]=i("dt",{class:"text-gray-500"},"Branch",-1)),i("dd",xwe,f(n.value.bank_branch||"-"),1)])],64)):n.value.payment_method==="mobile_money"?(_(),b(ue,{key:1},[i("div",wwe,[T[34]||(T[34]=i("dt",{class:"text-gray-500"},"Provider",-1)),i("dd",kwe,f(n.value.mobile_money_provider||"-"),1)]),i("div",$we,[T[35]||(T[35]=i("dt",{class:"text-gray-500"},"Name",-1)),i("dd",Cwe,f(n.value.mobile_money_name||"-"),1)]),i("div",Swe,[T[36]||(T[36]=i("dt",{class:"text-gray-500"},"Number",-1)),i("dd",Mwe,f(n.value.mobile_money_number||"-"),1)])],64)):P("",!0)])]),i("div",Twe,[T[38]||(T[38]=i("h3",{class:"font-semibold text-gray-900 mb-4"},"Agreement Status",-1)),i("div",Dwe,[i("div",{class:ne(["w-3 h-3 rounded-full",n.value.agreement_signed?"bg-green-500":"bg-yellow-500"])},null,2),i("span",Awe,f(n.value.agreement_signed?"Agreement Signed":"Agreement Pending"),1)]),n.value.agreement_signed_at?(_(),b("div",Ewe," Signed on: "+f(S(n.value.agreement_signed_at)),1)):P("",!0)]),r.value?(_(),b("div",Pwe,[T[44]||(T[44]=i("h3",{class:"font-semibold text-gray-900 mb-4"},"Work Statistics",-1)),i("dl",Rwe,[i("div",Owe,[T[39]||(T[39]=i("dt",{class:"text-gray-500"},"Total Sessions",-1)),i("dd",Iwe,f(r.value.total_sessions),1)]),i("div",jwe,[T[40]||(T[40]=i("dt",{class:"text-gray-500"},"Recording Minutes",-1)),i("dd",Lwe,f(r.value.total_recording_minutes),1)]),i("div",Fwe,[T[41]||(T[41]=i("dt",{class:"text-gray-500"},"Approved Sessions",-1)),i("dd",Nwe,f(r.value.approved_sessions),1)]),i("div",zwe,[T[42]||(T[42]=i("dt",{class:"text-gray-500"},"Pending Sessions",-1)),i("dd",Bwe,f(r.value.pending_sessions),1)]),i("div",Uwe,[T[43]||(T[43]=i("dt",{class:"text-gray-500"},"Approved Lesson Plans",-1)),i("dd",Vwe,f(r.value.approved_lesson_plans),1)])])])):P("",!0)])):P("",!0),l.value==="payments"?(_(),b("div",Hwe,[i("table",Wwe,[T[46]||(T[46]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Receipt #"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Month For"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Method"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),i("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),i("tbody",qwe,[o.value.length===0?(_(),b("tr",Kwe,[...T[45]||(T[45]=[i("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No payments recorded yet",-1)])])):P("",!0),(_(!0),b(ue,null,xe(o.value,j=>(_(),b("tr",{key:j.id},[i("td",Ywe,f(j.receipt_number),1),i("td",Gwe,f(S(j.payment_date)),1),i("td",Xwe,f(j.month_for||"-"),1),i("td",Jwe,f(w(j.amount)),1),i("td",Qwe,f(j.payment_method.replace("_"," ")),1),i("td",Zwe,[i("span",{class:ne(["px-2 py-1 text-xs rounded-full",$(j.status)])},f(j.status),3)]),i("td",e5e,[i("button",{onClick:E=>g(j),class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," Download Receipt ",8,t5e)])]))),128))])])])):P("",!0),l.value==="sessions"?(_(),b("div",s5e," Recording sessions will be displayed here. ")):P("",!0)])):P("",!0),d.value?(_(),b("div",n5e,[i("div",o5e,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:T[2]||(T[2]=j=>d.value=!1)}),i("div",i5e,[i("h2",r5e,"Record Payment for "+f((z=n.value)==null?void 0:z.name),1),i("form",{onSubmit:We(p,["prevent"]),class:"space-y-4"},[i("div",a5e,[i("div",null,[T[47]||(T[47]=i("label",{class:"block text-sm font-medium text-gray-700"},"Amount (MK) *",-1)),V(i("input",{"onUpdate:modelValue":T[3]||(T[3]=j=>c.value.amount=j),type:"number",step:"0.01",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,c.value.amount]])]),i("div",null,[T[48]||(T[48]=i("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date *",-1)),V(i("input",{"onUpdate:modelValue":T[4]||(T[4]=j=>c.value.payment_date=j),type:"date",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,c.value.payment_date]])])]),i("div",l5e,[i("div",null,[T[50]||(T[50]=i("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method *",-1)),V(i("select",{"onUpdate:modelValue":T[5]||(T[5]=j=>c.value.payment_method=j),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[49]||(T[49]=[i("option",{value:"bank"},"Bank Transfer",-1),i("option",{value:"mobile_money"},"Mobile Money",-1),i("option",{value:"cash"},"Cash",-1),i("option",{value:"cheque"},"Cheque",-1)])],512),[[Ne,c.value.payment_method]])]),i("div",null,[T[52]||(T[52]=i("label",{class:"block text-sm font-medium text-gray-700"},"Status *",-1)),V(i("select",{"onUpdate:modelValue":T[6]||(T[6]=j=>c.value.status=j),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...T[51]||(T[51]=[i("option",{value:"completed"},"Completed",-1),i("option",{value:"pending"},"Pending",-1)])],512),[[Ne,c.value.status]])])]),i("div",d5e,[i("div",null,[T[53]||(T[53]=i("label",{class:"block text-sm font-medium text-gray-700"},"Month For",-1)),V(i("input",{"onUpdate:modelValue":T[7]||(T[7]=j=>c.value.month_for=j),type:"text",placeholder:"e.g., January 2026",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,c.value.month_for]])]),i("div",null,[T[54]||(T[54]=i("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),V(i("input",{"onUpdate:modelValue":T[8]||(T[8]=j=>c.value.reference_number=j),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,c.value.reference_number]])])]),i("div",null,[T[55]||(T[55]=i("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),V(i("textarea",{"onUpdate:modelValue":T[9]||(T[9]=j=>c.value.notes=j),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,c.value.notes]])]),i("div",c5e,[i("button",{type:"button",onClick:T[10]||(T[10]=j=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),T[56]||(T[56]=i("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Record Payment",-1))])],32)])])])):P("",!0)])}}}),f5e={class:"space-y-6"},h5e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},p5e={class:"bg-white rounded-lg shadow p-4"},m5e={class:"mt-1 text-2xl font-semibold text-gray-900"},g5e={class:"bg-white rounded-lg shadow p-4"},_5e={class:"mt-1 text-2xl font-semibold text-yellow-600"},v5e={class:"bg-white rounded-lg shadow p-4"},y5e={class:"mt-1 text-2xl font-semibold text-green-600"},b5e={class:"bg-white rounded-lg shadow p-4"},x5e={class:"mt-1 text-2xl font-semibold text-red-600"},w5e={class:"bg-white rounded-lg shadow p-4"},k5e={class:"mt-1 text-2xl font-semibold text-blue-600"},$5e={class:"bg-white rounded-lg shadow p-4"},C5e={class:"mt-1 text-2xl font-semibold text-indigo-600"},S5e={class:"bg-white rounded-lg shadow p-4"},M5e={class:"flex flex-wrap gap-4"},T5e={class:"flex-1 min-w-64"},D5e={class:"relative"},A5e={class:"bg-white rounded-lg shadow overflow-hidden"},E5e={class:"min-w-full divide-y divide-gray-200"},P5e={class:"bg-white divide-y divide-gray-200"},R5e={key:0},O5e={key:1},I5e={class:"px-6 py-4"},j5e={class:"font-medium text-gray-900"},L5e={class:"text-sm text-gray-500"},F5e={class:"px-6 py-4"},N5e={class:"text-gray-900"},z5e={class:"text-sm text-gray-500"},B5e={class:"px-6 py-4 text-sm text-gray-500"},U5e={class:"px-6 py-4 text-sm"},V5e={class:"text-gray-900"},H5e={class:"text-gray-500"},W5e={class:"px-6 py-4"},q5e={class:"px-6 py-4 text-sm text-gray-900"},K5e={class:"px-6 py-4 text-right"},Y5e={class:"py-1"},G5e=["onClick"],X5e=["onClick"],J5e=["href"],Q5e={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},Z5e={class:"text-sm text-gray-500"},eke={class:"flex space-x-2"},tke=["onClick"],ske={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},nke={class:"flex items-center justify-center min-h-screen px-4"},oke={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},ike={class:"flex justify-end space-x-3 pt-4"},rke={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},ake={class:"flex items-center justify-center min-h-screen px-4"},lke={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},dke={class:"flex justify-end space-x-3 pt-4"},cke=pe({__name:"RecordingSessions",setup(s){const e=R([]),t=R({total_sessions:0,pending_review:0,approved:0,rejected:0,in_progress:0,total_recording_minutes:0}),n=R(!0),o=R(""),r=R(""),a=R({current_page:1,last_page:1,per_page:15,total:0}),l=R(!1),d=R(!1),c=R(null),u=R({quality_rating:5,admin_notes:""}),h=R({admin_notes:""}),p=async(T=1)=>{n.value=!0;try{const F=new URLSearchParams;F.append("page",T.toString()),o.value&&F.append("search",o.value),r.value&&F.append("status",r.value);const L=await Qe.get(`/api/recording-sessions?${F}`);e.value=L.data.data,a.value={current_page:L.data.current_page,last_page:L.data.last_page,per_page:L.data.per_page,total:L.data.total}}catch{}finally{n.value=!1}},g=async()=>{try{const T=await Qe.get("/api/recording-sessions/statistics");t.value=T.data}catch{}},v=T=>{c.value=T,u.value={quality_rating:5,admin_notes:""},l.value=!0},x=T=>{c.value=T,h.value={admin_notes:""},d.value=!0},y=async()=>{if(c.value)try{await Qe.post(`/api/recording-sessions/${c.value.id}/approve`,u.value),l.value=!1,await p(a.value.current_page),await g()}catch{}},$=async()=>{if(c.value)try{await Qe.post(`/api/recording-sessions/${c.value.id}/reject`,h.value),d.value=!1,await p(a.value.current_page),await g()}catch{}},w=T=>{switch(T){case"approved":return"bg-green-100 text-green-800";case"pending_review":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},S=T=>{const F=Math.floor(T/60),L=T%60;return F>0?`${F}h ${L}m`:`${L}m`},C=T=>T?new Date(T).toLocaleString():"-";return nt(()=>{p(),g()}),(T,F)=>(_(),b("div",f5e,[F[31]||(F[31]=i("div",null,[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Recording Sessions"),i("p",{class:"mt-1 text-sm text-gray-500"},"Track and manage all recording sessions by teachers")],-1)),i("div",h5e,[i("div",p5e,[F[11]||(F[11]=i("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),i("div",m5e,f(t.value.total_sessions),1)]),i("div",g5e,[F[12]||(F[12]=i("div",{class:"text-sm font-medium text-gray-500"},"Pending Review",-1)),i("div",_5e,f(t.value.pending_review),1)]),i("div",v5e,[F[13]||(F[13]=i("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),i("div",y5e,f(t.value.approved),1)]),i("div",b5e,[F[14]||(F[14]=i("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),i("div",x5e,f(t.value.rejected),1)]),i("div",w5e,[F[15]||(F[15]=i("div",{class:"text-sm font-medium text-gray-500"},"In Progress",-1)),i("div",k5e,f(t.value.in_progress),1)]),i("div",$5e,[F[16]||(F[16]=i("div",{class:"text-sm font-medium text-gray-500"},"Total Recording",-1)),i("div",C5e,f(S(t.value.total_recording_minutes)),1)])]),i("div",S5e,[i("div",M5e,[i("div",T5e,[i("div",D5e,[M(m(ln),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),V(i("input",{"onUpdate:modelValue":F[0]||(F[0]=L=>o.value=L),onInput:F[1]||(F[1]=L=>p(1)),type:"text",placeholder:"Search by teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[ie,o.value]])])]),V(i("select",{"onUpdate:modelValue":F[2]||(F[2]=L=>r.value=L),onChange:F[3]||(F[3]=L=>p(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...F[17]||(F[17]=[Ir('<option value="">All Statuses</option><option value="draft">Draft</option><option value="in_progress">In Progress</option><option value="completed">Completed</option><option value="pending_review">Pending Review</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',7)])],544),[[Ne,r.value]])])]),i("div",A5e,[i("table",E5e,[F[22]||(F[22]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Time"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Recording"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Rating"),i("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),i("tbody",P5e,[n.value?(_(),b("tr",R5e,[...F[18]||(F[18]=[i("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(_(),b("tr",O5e,[...F[19]||(F[19]=[i("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No recording sessions found",-1)])])):P("",!0),(_(!0),b(ue,null,xe(e.value,L=>{var z,j,E,O;return _(),b("tr",{key:L.id},[i("td",I5e,[i("div",j5e,f((z=L.service_provider)==null?void 0:z.name),1),i("div",L5e,f((j=L.service_provider)==null?void 0:j.email),1)]),i("td",F5e,[i("div",N5e,f(((E=L.subject)==null?void 0:E.name)||"-"),1),i("div",z5e,f(((O=L.topic)==null?void 0:O.name)||"-"),1)]),i("td",B5e,[i("div",null,"In: "+f(C(L.clock_in)),1),i("div",null,"Out: "+f(C(L.clock_out)),1)]),i("td",U5e,[i("div",V5e,f(S(L.recording_minutes)),1),i("div",H5e,"Total: "+f(S(L.total_minutes)),1)]),i("td",W5e,[i("span",{class:ne(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",w(L.status)])},f(L.status.replace("_"," ")),3)]),i("td",q5e,f(L.quality_rating?`${L.quality_rating}/5`:"-"),1),i("td",K5e,[M(m(Mc),{as:"div",class:"relative inline-block text-left"},{default:X(()=>[M(m(Tc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:X(()=>[M(m(Rc),{class:"w-5 h-5"})]),_:1}),M(m(Dc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:X(()=>[i("div",Y5e,[L.status==="pending_review"||L.status==="completed"?(_(),oe(m(sn),{key:0},{default:X(({active:I})=>[i("button",{onClick:W=>v(L),class:ne([I?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[M(m(Js),{class:"w-4 h-4 inline mr-2"}),F[20]||(F[20]=se(" Approve ",-1))],10,G5e)]),_:2},1024)):P("",!0),L.status==="pending_review"||L.status==="completed"?(_(),oe(m(sn),{key:1},{default:X(({active:I})=>[i("button",{onClick:W=>x(L),class:ne([I?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[M(m(xn),{class:"w-4 h-4 inline mr-2"}),F[21]||(F[21]=se(" Reject ",-1))],10,X5e)]),_:2},1024)):P("",!0),L.video_file?(_(),oe(m(sn),{key:2},{default:X(({active:I})=>[i("a",{href:L.video_file,target:"_blank",class:ne([I?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," View Video ",10,J5e)]),_:2},1024)):P("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(_(),b("div",Q5e,[i("div",Z5e," Showing "+f((a.value.current_page-1)*a.value.per_page+1)+" to "+f(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+f(a.value.total),1),i("div",eke,[(_(!0),b(ue,null,xe(a.value.last_page,L=>(_(),b("button",{key:L,onClick:z=>p(L),class:ne(["px-3 py-1 rounded",L===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(L),11,tke))),128))])])):P("",!0)]),l.value?(_(),b("div",ske,[i("div",nke,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:F[4]||(F[4]=L=>l.value=!1)}),i("div",oke,[F[27]||(F[27]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Approve Recording Session",-1)),i("form",{onSubmit:We(y,["prevent"]),class:"space-y-4"},[i("div",null,[F[24]||(F[24]=i("label",{class:"block text-sm font-medium text-gray-700"},"Quality Rating (1-5)",-1)),V(i("select",{"onUpdate:modelValue":F[5]||(F[5]=L=>u.value.quality_rating=L),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...F[23]||(F[23]=[i("option",{value:1},"1 - Poor",-1),i("option",{value:2},"2 - Fair",-1),i("option",{value:3},"3 - Good",-1),i("option",{value:4},"4 - Very Good",-1),i("option",{value:5},"5 - Excellent",-1)])],512),[[Ne,u.value.quality_rating]])]),i("div",null,[F[25]||(F[25]=i("label",{class:"block text-sm font-medium text-gray-700"},"Notes (optional)",-1)),V(i("textarea",{"onUpdate:modelValue":F[6]||(F[6]=L=>u.value.admin_notes=L),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,u.value.admin_notes]])]),i("div",ike,[i("button",{type:"button",onClick:F[7]||(F[7]=L=>l.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),F[26]||(F[26]=i("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Approve",-1))])],32)])])])):P("",!0),d.value?(_(),b("div",rke,[i("div",ake,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:F[8]||(F[8]=L=>d.value=!1)}),i("div",lke,[F[30]||(F[30]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Recording Session",-1)),i("form",{onSubmit:We($,["prevent"]),class:"space-y-4"},[i("div",null,[F[28]||(F[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"Reason for Rejection *",-1)),V(i("textarea",{"onUpdate:modelValue":F[9]||(F[9]=L=>h.value.admin_notes=L),rows:"3",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,h.value.admin_notes]])]),i("div",dke,[i("button",{type:"button",onClick:F[10]||(F[10]=L=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),F[29]||(F[29]=i("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):P("",!0)]))}}),uke={class:"space-y-6"},fke={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},hke={class:"bg-white rounded-lg shadow p-4"},pke={class:"mt-1 text-2xl font-semibold text-gray-900"},mke={class:"bg-white rounded-lg shadow p-4"},gke={class:"mt-1 text-2xl font-semibold text-gray-600"},_ke={class:"bg-white rounded-lg shadow p-4"},vke={class:"mt-1 text-2xl font-semibold text-yellow-600"},yke={class:"bg-white rounded-lg shadow p-4"},bke={class:"mt-1 text-2xl font-semibold text-green-600"},xke={class:"bg-white rounded-lg shadow p-4"},wke={class:"mt-1 text-2xl font-semibold text-red-600"},kke={class:"bg-white rounded-lg shadow p-4"},$ke={class:"flex flex-wrap gap-4"},Cke={class:"flex-1 min-w-64"},Ske={class:"relative"},Mke={class:"bg-white rounded-lg shadow overflow-hidden"},Tke={class:"min-w-full divide-y divide-gray-200"},Dke={class:"bg-white divide-y divide-gray-200"},Ake={key:0},Eke={key:1},Pke={class:"px-6 py-4"},Rke={class:"font-medium text-gray-900"},Oke={class:"px-6 py-4"},Ike={class:"text-gray-900"},jke={class:"text-sm text-gray-500"},Lke={class:"px-6 py-4"},Fke={class:"text-gray-900"},Nke={class:"text-sm text-gray-500"},zke={class:"px-6 py-4 text-sm text-gray-500"},Bke={class:"px-6 py-4"},Uke={class:"px-6 py-4 text-sm text-gray-500"},Vke={class:"px-6 py-4 text-right"},Hke={class:"py-1"},Wke=["onClick"],qke=["onClick"],Kke=["onClick"],Yke={key:0,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},Gke={class:"text-sm text-gray-500"},Xke={class:"flex space-x-2"},Jke=["onClick"],Qke={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Zke={class:"flex items-center justify-center min-h-screen px-4"},e4e={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},t4e={class:"text-lg font-semibold text-gray-900 mb-4"},s4e={class:"space-y-4"},n4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},o4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},i4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},r4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},a4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},l4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},d4e={class:"mt-1 text-gray-600 whitespace-pre-wrap"},c4e={class:"flex justify-end pt-4"},u4e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},f4e={class:"flex items-center justify-center min-h-screen px-4"},h4e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},p4e={class:"flex justify-end space-x-3 pt-4"},m4e=pe({__name:"LessonPlans",setup(s){const e=R([]),t=R({total:0,draft:0,submitted:0,approved:0,rejected:0}),n=R(!0),o=R(""),r=R(""),a=R({current_page:1,last_page:1,per_page:15,total:0}),l=R(!1),d=R(!1),c=R(null),u=R({feedback:""}),h=async(S=1)=>{n.value=!0;try{const C=new URLSearchParams;C.append("page",S.toString()),o.value&&C.append("search",o.value),r.value&&C.append("status",r.value);const T=await Qe.get(`/api/lesson-plans?${C}`);e.value=T.data.data,a.value={current_page:T.data.current_page,last_page:T.data.last_page,per_page:T.data.per_page,total:T.data.total}}catch{}finally{n.value=!1}},p=async()=>{try{const S=await Qe.get("/api/lesson-plans/statistics");t.value=S.data}catch{}},g=async S=>{try{const C=await Qe.get(`/api/lesson-plans/${S.id}`);c.value=C.data.data,l.value=!0}catch{}},v=async S=>{try{await Qe.post(`/api/lesson-plans/${S.id}/approve`),await h(a.value.current_page),await p()}catch{}},x=S=>{c.value=S,u.value={feedback:""},d.value=!0},y=async()=>{if(c.value)try{await Qe.post(`/api/lesson-plans/${c.value.id}/reject`,u.value),d.value=!1,await h(a.value.current_page),await p()}catch{}},$=S=>{switch(S){case"approved":return"bg-green-100 text-green-800";case"submitted":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=S=>new Date(S).toLocaleDateString();return nt(()=>{h(),p()}),(S,C)=>(_(),b("div",uke,[C[31]||(C[31]=i("div",null,[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Lesson Plans"),i("p",{class:"mt-1 text-sm text-gray-500"},"Review and approve lesson plans submitted by teachers")],-1)),i("div",fke,[i("div",hke,[C[9]||(C[9]=i("div",{class:"text-sm font-medium text-gray-500"},"Total",-1)),i("div",pke,f(t.value.total),1)]),i("div",mke,[C[10]||(C[10]=i("div",{class:"text-sm font-medium text-gray-500"},"Draft",-1)),i("div",gke,f(t.value.draft),1)]),i("div",_ke,[C[11]||(C[11]=i("div",{class:"text-sm font-medium text-gray-500"},"Submitted",-1)),i("div",vke,f(t.value.submitted),1)]),i("div",yke,[C[12]||(C[12]=i("div",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),i("div",bke,f(t.value.approved),1)]),i("div",xke,[C[13]||(C[13]=i("div",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),i("div",wke,f(t.value.rejected),1)])]),i("div",kke,[i("div",$ke,[i("div",Cke,[i("div",Ske,[M(m(ln),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),V(i("input",{"onUpdate:modelValue":C[0]||(C[0]=T=>o.value=T),onInput:C[1]||(C[1]=T=>h(1)),type:"text",placeholder:"Search by title or teacher name...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[ie,o.value]])])]),V(i("select",{"onUpdate:modelValue":C[2]||(C[2]=T=>r.value=T),onChange:C[3]||(C[3]=T=>h(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...C[14]||(C[14]=[Ir('<option value="">All Statuses</option><option value="draft">Draft</option><option value="submitted">Submitted</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',5)])],544),[[Ne,r.value]])])]),i("div",Mke,[i("table",Tke,[C[20]||(C[20]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Title"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Teacher"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Subject / Topic"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Duration"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),i("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),i("tbody",Dke,[n.value?(_(),b("tr",Ake,[...C[15]||(C[15]=[i("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"Loading...",-1)])])):e.value.length===0?(_(),b("tr",Eke,[...C[16]||(C[16]=[i("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},"No lesson plans found",-1)])])):P("",!0),(_(!0),b(ue,null,xe(e.value,T=>{var F,L,z,j,E;return _(),b("tr",{key:T.id},[i("td",Pke,[i("div",Rke,f(T.title),1)]),i("td",Oke,[i("div",Ike,f((F=T.service_provider)==null?void 0:F.name),1),i("div",jke,f((L=T.service_provider)==null?void 0:L.email),1)]),i("td",Lke,[i("div",Fke,f(((j=(z=T.topic)==null?void 0:z.subject)==null?void 0:j.name)||"-"),1),i("div",Nke,f(((E=T.topic)==null?void 0:E.name)||"-"),1)]),i("td",zke,f(T.duration_minutes?`${T.duration_minutes} min`:"-"),1),i("td",Bke,[i("span",{class:ne(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",$(T.status)])},f(T.status),3)]),i("td",Uke,f(w(T.created_at)),1),i("td",Vke,[M(m(Mc),{as:"div",class:"relative inline-block text-left"},{default:X(()=>[M(m(Tc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:X(()=>[M(m(Rc),{class:"w-5 h-5"})]),_:1}),M(m(Dc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:X(()=>[i("div",Hke,[M(m(sn),null,{default:X(({active:O})=>[i("button",{onClick:I=>g(T),class:ne([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])},[M(m(Io),{class:"w-4 h-4 inline mr-2"}),C[17]||(C[17]=se(" View Details ",-1))],10,Wke)]),_:2},1024),T.status==="submitted"?(_(),oe(m(sn),{key:0},{default:X(({active:O})=>[i("button",{onClick:I=>v(T),class:ne([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-green-700"])},[M(m(Js),{class:"w-4 h-4 inline mr-2"}),C[18]||(C[18]=se(" Approve ",-1))],10,qke)]),_:2},1024)):P("",!0),T.status==="submitted"?(_(),oe(m(sn),{key:1},{default:X(({active:O})=>[i("button",{onClick:I=>x(T),class:ne([O?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])},[M(m(xn),{class:"w-4 h-4 inline mr-2"}),C[19]||(C[19]=se(" Reject ",-1))],10,Kke)]),_:2},1024)):P("",!0)])]),_:2},1024)]),_:2},1024)])])}),128))])]),a.value.last_page>1?(_(),b("div",Yke,[i("div",Gke," Showing "+f((a.value.current_page-1)*a.value.per_page+1)+" to "+f(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+f(a.value.total),1),i("div",Xke,[(_(!0),b(ue,null,xe(a.value.last_page,T=>(_(),b("button",{key:T,onClick:F=>h(T),class:ne(["px-3 py-1 rounded",T===a.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(T),11,Jke))),128))])])):P("",!0)]),l.value&&c.value?(_(),b("div",Qke,[i("div",Zke,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:C[4]||(C[4]=T=>l.value=!1)}),i("div",e4e,[i("h2",t4e,f(c.value.title),1),i("div",s4e,[i("div",null,[C[21]||(C[21]=i("h3",{class:"font-medium text-gray-700"},"Objectives",-1)),i("p",n4e,f(c.value.objectives||"No objectives specified"),1)]),i("div",null,[C[22]||(C[22]=i("h3",{class:"font-medium text-gray-700"},"Introduction",-1)),i("p",o4e,f(c.value.introduction||"No introduction"),1)]),i("div",null,[C[23]||(C[23]=i("h3",{class:"font-medium text-gray-700"},"Main Content",-1)),i("p",i4e,f(c.value.main_content||"No main content"),1)]),i("div",null,[C[24]||(C[24]=i("h3",{class:"font-medium text-gray-700"},"Activities",-1)),i("p",r4e,f(c.value.activities||"No activities"),1)]),i("div",null,[C[25]||(C[25]=i("h3",{class:"font-medium text-gray-700"},"Assessment",-1)),i("p",a4e,f(c.value.assessment||"No assessment"),1)]),i("div",null,[C[26]||(C[26]=i("h3",{class:"font-medium text-gray-700"},"Conclusion",-1)),i("p",l4e,f(c.value.conclusion||"No conclusion"),1)]),i("div",null,[C[27]||(C[27]=i("h3",{class:"font-medium text-gray-700"},"Homework",-1)),i("p",d4e,f(c.value.homework||"No homework"),1)])]),i("div",c4e,[i("button",{onClick:C[5]||(C[5]=T=>l.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200"},"Close")])])])])):P("",!0),d.value?(_(),b("div",u4e,[i("div",f4e,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:C[6]||(C[6]=T=>d.value=!1)}),i("div",h4e,[C[30]||(C[30]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Reject Lesson Plan",-1)),i("form",{onSubmit:We(y,["prevent"]),class:"space-y-4"},[i("div",null,[C[28]||(C[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"Feedback / Reason for Rejection *",-1)),V(i("textarea",{"onUpdate:modelValue":C[7]||(C[7]=T=>u.value.feedback=T),rows:"4",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,u.value.feedback]])]),i("div",p4e,[i("button",{type:"button",onClick:C[8]||(C[8]=T=>d.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),C[29]||(C[29]=i("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Reject",-1))])],32)])])])):P("",!0)]))}}),g4e={class:"space-y-6"},_4e={class:"flex items-center justify-between"},v4e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},y4e={class:"bg-white rounded-lg shadow p-4"},b4e={class:"mt-1 text-2xl font-semibold text-gray-900"},x4e={class:"bg-white rounded-lg shadow p-4"},w4e={class:"mt-1 text-2xl font-semibold text-green-600"},k4e={class:"bg-white rounded-lg shadow p-4"},$4e={class:"mt-1 text-2xl font-semibold text-indigo-600"},C4e={class:"bg-white rounded-lg shadow p-4"},S4e={class:"mt-1 text-2xl font-semibold text-gray-900"},M4e={class:"bg-white rounded-lg shadow p-4"},T4e={class:"mt-1 text-2xl font-semibold text-gray-900"},D4e={class:"bg-white rounded-lg shadow p-4"},A4e={class:"mt-1 text-2xl font-semibold text-gray-900"},E4e={class:"bg-white rounded-lg shadow p-4"},P4e={class:"flex flex-wrap gap-4"},R4e={class:"flex-1 min-w-64"},O4e={class:"relative"},I4e={class:"bg-white rounded-lg shadow overflow-hidden"},j4e={key:0,class:"px-6 py-8 text-center text-gray-500"},L4e={key:1,class:"px-6 py-8 text-center text-gray-500"},F4e={key:2,class:"divide-y divide-gray-200"},N4e=["onClick"],z4e={class:"flex items-center space-x-4"},B4e={class:"flex items-center space-x-2"},U4e={class:"font-medium text-gray-900"},V4e={class:"px-2 py-0.5 text-xs rounded bg-gray-100 text-gray-600"},H4e={class:"px-2 py-0.5 text-xs rounded bg-indigo-100 text-indigo-600"},W4e={key:0,class:"px-2 py-0.5 text-xs rounded bg-red-100 text-red-600"},q4e={class:"text-sm text-gray-500"},K4e={class:"py-1"},Y4e=["onClick"],G4e=["onClick"],X4e=["onClick"],J4e={key:0,class:"bg-gray-50 px-6 py-4 pl-16"},Q4e={key:0,class:"text-sm text-gray-500"},Z4e={key:1,class:"space-y-2"},e$e={class:"font-medium text-gray-900"},t$e={class:"text-sm text-gray-500"},s$e={key:0},n$e=["onClick"],o$e={key:3,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},i$e={class:"text-sm text-gray-500"},r$e={class:"flex space-x-2"},a$e=["onClick"],l$e={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},d$e={class:"flex items-center justify-center min-h-screen px-4"},c$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},u$e={class:"grid grid-cols-2 gap-4"},f$e={class:"flex items-center"},h$e={class:"flex justify-end space-x-3 pt-4"},p$e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},m$e={class:"flex items-center justify-center min-h-screen px-4"},g$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},_$e={class:"grid grid-cols-2 gap-4"},v$e={class:"flex items-center"},y$e={class:"flex justify-end space-x-3 pt-4"},b$e={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},x$e={class:"flex items-center justify-center min-h-screen px-4"},w$e={class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},k$e={class:"text-lg font-semibold text-gray-900 mb-4"},$$e={class:"grid grid-cols-3 gap-4"},C$e={class:"flex justify-end space-x-3 pt-4"},S$e=pe({__name:"Subjects",setup(s){const e=R([]),t=R({total_subjects:0,active_subjects:0,total_topics:0,subjects_by_form:{form_1:0,form_2:0,form_3:0,form_4:0}}),n=R(!0),o=R(""),r=R(""),a=R([]),l=R({current_page:1,last_page:1,per_page:15,total:0}),d=R(!1),c=R(!1),u=R(!1),h=R(null);R(null);const p=R({name:"",code:"",form:"1",description:"",is_active:!0}),g=R({name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}),v=async(I=1)=>{n.value=!0;try{const W=new URLSearchParams;W.append("page",I.toString()),o.value&&W.append("search",o.value),r.value&&W.append("form",r.value);const ye=await Qe.get(`/api/subjects?${W}`);e.value=ye.data.data,l.value={current_page:ye.data.current_page,last_page:ye.data.last_page,per_page:ye.data.per_page,total:ye.data.total}}catch{}finally{n.value=!1}},x=async()=>{try{const I=await Qe.get("/api/subjects/statistics");t.value=I.data}catch{}},y=async I=>{try{const W=await Qe.get(`/api/subjects/${I.id}/topics`);I.topics=W.data}catch{}},$=async I=>{const W=a.value.indexOf(I.id);W===-1?(a.value.push(I.id),I.topics||await y(I)):a.value.splice(W,1)},w=I=>a.value.includes(I),S=async()=>{try{await Qe.post("/api/subjects",p.value),d.value=!1,E(),await v(),await x()}catch{}},C=async()=>{if(h.value)try{await Qe.put(`/api/subjects/${h.value.id}`,p.value),c.value=!1,E(),await v()}catch{}},T=async I=>{if(confirm("Are you sure you want to delete this subject?"))try{await Qe.delete(`/api/subjects/${I.id}`),await v(),await x()}catch{}},F=I=>{h.value=I,p.value={name:I.name,code:I.code,form:I.form,description:I.description||"",is_active:I.is_active},c.value=!0},L=I=>{h.value=I,O(),u.value=!0},z=async()=>{if(h.value)try{await Qe.post(`/api/subjects/${h.value.id}/topics`,g.value),u.value=!1,await y(h.value),await x()}catch{}},j=async(I,W)=>{if(confirm("Are you sure you want to delete this topic?"))try{await Qe.delete(`/api/subjects/${I.id}/topics/${W.id}`),await y(I),await x()}catch{}},E=()=>{p.value={name:"",code:"",form:"1",description:"",is_active:!0},h.value=null},O=()=>{g.value={name:"",term:1,week:1,description:"",estimated_hours:4,is_active:!0}};return nt(()=>{v(),x()}),(I,W)=>{var ye,ve,_e,Q,ee;return _(),b("div",g4e,[i("div",_4e,[W[28]||(W[28]=i("div",null,[i("h1",{class:"text-2xl font-semibold text-gray-900"},"Subjects & Topics"),i("p",{class:"mt-1 text-sm text-gray-500"},"Manage the syllabus subjects and topics")],-1)),i("button",{onClick:W[0]||(W[0]=q=>d.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},[M(m(qn),{class:"w-5 h-5 mr-2"}),W[27]||(W[27]=se(" Add Subject ",-1))])]),i("div",v4e,[i("div",y4e,[W[29]||(W[29]=i("div",{class:"text-sm font-medium text-gray-500"},"Total Subjects",-1)),i("div",b4e,f(t.value.total_subjects),1)]),i("div",x4e,[W[30]||(W[30]=i("div",{class:"text-sm font-medium text-gray-500"},"Active",-1)),i("div",w4e,f(t.value.active_subjects),1)]),i("div",k4e,[W[31]||(W[31]=i("div",{class:"text-sm font-medium text-gray-500"},"Total Topics",-1)),i("div",$4e,f(t.value.total_topics),1)]),i("div",C4e,[W[32]||(W[32]=i("div",{class:"text-sm font-medium text-gray-500"},"Form 1",-1)),i("div",S4e,f(((ye=t.value.subjects_by_form)==null?void 0:ye.form_1)||0),1)]),i("div",M4e,[W[33]||(W[33]=i("div",{class:"text-sm font-medium text-gray-500"},"Form 2",-1)),i("div",T4e,f(((ve=t.value.subjects_by_form)==null?void 0:ve.form_2)||0),1)]),i("div",D4e,[W[34]||(W[34]=i("div",{class:"text-sm font-medium text-gray-500"},"Form 3 & 4",-1)),i("div",A4e,f((((_e=t.value.subjects_by_form)==null?void 0:_e.form_3)||0)+(((Q=t.value.subjects_by_form)==null?void 0:Q.form_4)||0)),1)])]),i("div",E4e,[i("div",P4e,[i("div",R4e,[i("div",O4e,[M(m(ln),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),V(i("input",{"onUpdate:modelValue":W[1]||(W[1]=q=>o.value=q),onInput:W[2]||(W[2]=q=>v(1)),type:"text",placeholder:"Search by name or code...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},null,544),[[ie,o.value]])])]),V(i("select",{"onUpdate:modelValue":W[3]||(W[3]=q=>r.value=q),onChange:W[4]||(W[4]=q=>v(1)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"},[...W[35]||(W[35]=[Ir('<option value="">All Forms</option><option value="1">Form 1</option><option value="2">Form 2</option><option value="3">Form 3</option><option value="4">Form 4</option>',5)])],544),[[Ne,r.value]])])]),i("div",I4e,[n.value?(_(),b("div",j4e,"Loading...")):e.value.length===0?(_(),b("div",L4e,"No subjects found")):(_(),b("div",F4e,[(_(!0),b(ue,null,xe(e.value,q=>(_(),b("div",{key:q.id},[i("div",{class:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:he=>$(q)},[i("div",z4e,[(_(),oe(Mo(w(q.id)?m($v):m(K4)),{class:"w-5 h-5 text-gray-400"})),i("div",null,[i("div",B4e,[i("span",U4e,f(q.name),1),i("span",V4e,f(q.code),1),i("span",H4e,"Form "+f(q.form),1),q.is_active?P("",!0):(_(),b("span",W4e,"Inactive"))]),i("div",q4e,f(q.topics_count)+" topics",1)])]),M(m(Mc),{as:"div",class:"relative",onClick:W[5]||(W[5]=We(()=>{},["stop"]))},{default:X(()=>[M(m(Tc),{class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},{default:X(()=>[M(m(Rc),{class:"w-5 h-5"})]),_:1}),M(m(Dc),{class:"absolute right-0 mt-2 w-48 origin-top-right bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:X(()=>[i("div",K4e,[M(m(sn),null,{default:X(({active:he})=>[i("button",{onClick:we=>L(q),class:ne([he?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Add Topic ",10,Y4e)]),_:2},1024),M(m(sn),null,{default:X(({active:he})=>[i("button",{onClick:we=>F(q),class:ne([he?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"])}," Edit Subject ",10,G4e)]),_:2},1024),M(m(sn),null,{default:X(({active:he})=>[i("button",{onClick:we=>T(q),class:ne([he?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-red-700"])}," Delete ",10,X4e)]),_:2},1024)])]),_:2},1024)]),_:2},1024)],8,N4e),w(q.id)&&q.topics?(_(),b("div",J4e,[q.topics.length===0?(_(),b("div",Q4e,"No topics added yet")):(_(),b("div",Z4e,[(_(!0),b(ue,null,xe(q.topics,he=>(_(),b("div",{key:he.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[i("div",null,[i("div",e$e,f(he.name),1),i("div",t$e,[se(" Term "+f(he.term)+", Week "+f(he.week)+" ",1),he.estimated_hours?(_(),b("span",s$e," | "+f(he.estimated_hours)+"h",1)):P("",!0)])]),i("button",{onClick:we=>j(q,he),class:"text-red-600 hover:text-red-800 text-sm"},"Delete",8,n$e)]))),128))]))])):P("",!0)]))),128))])),l.value.last_page>1?(_(),b("div",o$e,[i("div",i$e," Showing "+f((l.value.current_page-1)*l.value.per_page+1)+" to "+f(Math.min(l.value.current_page*l.value.per_page,l.value.total))+" of "+f(l.value.total),1),i("div",r$e,[(_(!0),b(ue,null,xe(l.value.last_page,q=>(_(),b("button",{key:q,onClick:he=>v(q),class:ne(["px-3 py-1 rounded",q===l.value.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},f(q),11,a$e))),128))])])):P("",!0)]),d.value?(_(),b("div",l$e,[i("div",d$e,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:W[6]||(W[6]=q=>d.value=!1)}),i("div",c$e,[W[43]||(W[43]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Add Subject",-1)),i("form",{onSubmit:We(S,["prevent"]),class:"space-y-4"},[i("div",null,[W[36]||(W[36]=i("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),V(i("input",{"onUpdate:modelValue":W[7]||(W[7]=q=>p.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,p.value.name]])]),i("div",u$e,[i("div",null,[W[37]||(W[37]=i("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),V(i("input",{"onUpdate:modelValue":W[8]||(W[8]=q=>p.value.code=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., MATH_F1"},null,512),[[ie,p.value.code]])]),i("div",null,[W[39]||(W[39]=i("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),V(i("select",{"onUpdate:modelValue":W[9]||(W[9]=q=>p.value.form=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...W[38]||(W[38]=[i("option",{value:"1"},"Form 1",-1),i("option",{value:"2"},"Form 2",-1),i("option",{value:"3"},"Form 3",-1),i("option",{value:"4"},"Form 4",-1)])],512),[[Ne,p.value.form]])])]),i("div",null,[W[40]||(W[40]=i("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),V(i("textarea",{"onUpdate:modelValue":W[10]||(W[10]=q=>p.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,p.value.description]])]),i("div",f$e,[V(i("input",{"onUpdate:modelValue":W[11]||(W[11]=q=>p.value.is_active=q),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[ps,p.value.is_active]]),W[41]||(W[41]=i("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),i("div",h$e,[i("button",{type:"button",onClick:W[12]||(W[12]=q=>{d.value=!1,E()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),W[42]||(W[42]=i("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Create",-1))])],32)])])])):P("",!0),c.value?(_(),b("div",p$e,[i("div",m$e,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:W[13]||(W[13]=q=>c.value=!1)}),i("div",g$e,[W[51]||(W[51]=i("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Edit Subject",-1)),i("form",{onSubmit:We(C,["prevent"]),class:"space-y-4"},[i("div",null,[W[44]||(W[44]=i("label",{class:"block text-sm font-medium text-gray-700"},"Name *",-1)),V(i("input",{"onUpdate:modelValue":W[14]||(W[14]=q=>p.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,p.value.name]])]),i("div",_$e,[i("div",null,[W[45]||(W[45]=i("label",{class:"block text-sm font-medium text-gray-700"},"Code *",-1)),V(i("input",{"onUpdate:modelValue":W[15]||(W[15]=q=>p.value.code=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,p.value.code]])]),i("div",null,[W[47]||(W[47]=i("label",{class:"block text-sm font-medium text-gray-700"},"Form *",-1)),V(i("select",{"onUpdate:modelValue":W[16]||(W[16]=q=>p.value.form=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...W[46]||(W[46]=[i("option",{value:"1"},"Form 1",-1),i("option",{value:"2"},"Form 2",-1),i("option",{value:"3"},"Form 3",-1),i("option",{value:"4"},"Form 4",-1)])],512),[[Ne,p.value.form]])])]),i("div",null,[W[48]||(W[48]=i("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),V(i("textarea",{"onUpdate:modelValue":W[17]||(W[17]=q=>p.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,p.value.description]])]),i("div",v$e,[V(i("input",{"onUpdate:modelValue":W[18]||(W[18]=q=>p.value.is_active=q),type:"checkbox",class:"h-4 w-4 text-indigo-600 rounded"},null,512),[[ps,p.value.is_active]]),W[49]||(W[49]=i("label",{class:"ml-2 text-sm text-gray-700"},"Active",-1))]),i("div",y$e,[i("button",{type:"button",onClick:W[19]||(W[19]=q=>{c.value=!1,E()}),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),W[50]||(W[50]=i("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Update",-1))])],32)])])])):P("",!0),u.value?(_(),b("div",b$e,[i("div",x$e,[i("div",{class:"fixed inset-0 bg-black opacity-50",onClick:W[20]||(W[20]=q=>u.value=!1)}),i("div",w$e,[i("h2",k$e,"Add Topic to "+f((ee=h.value)==null?void 0:ee.name),1),i("form",{onSubmit:We(z,["prevent"]),class:"space-y-4"},[i("div",null,[W[52]||(W[52]=i("label",{class:"block text-sm font-medium text-gray-700"},"Topic Name *",-1)),V(i("input",{"onUpdate:modelValue":W[21]||(W[21]=q=>g.value.name=q),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,g.value.name]])]),i("div",$$e,[i("div",null,[W[54]||(W[54]=i("label",{class:"block text-sm font-medium text-gray-700"},"Term *",-1)),V(i("select",{"onUpdate:modelValue":W[22]||(W[22]=q=>g.value.term=q),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},[...W[53]||(W[53]=[i("option",{value:1},"Term 1",-1),i("option",{value:2},"Term 2",-1),i("option",{value:3},"Term 3",-1)])],512),[[Ne,g.value.term]])]),i("div",null,[W[55]||(W[55]=i("label",{class:"block text-sm font-medium text-gray-700"},"Week *",-1)),V(i("input",{"onUpdate:modelValue":W[23]||(W[23]=q=>g.value.week=q),type:"number",min:"1",max:"15",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,g.value.week]])]),i("div",null,[W[56]||(W[56]=i("label",{class:"block text-sm font-medium text-gray-700"},"Est. Hours",-1)),V(i("input",{"onUpdate:modelValue":W[24]||(W[24]=q=>g.value.estimated_hours=q),type:"number",min:"1",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,g.value.estimated_hours]])])]),i("div",null,[W[57]||(W[57]=i("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),V(i("textarea",{"onUpdate:modelValue":W[25]||(W[25]=q=>g.value.description=q),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[ie,g.value.description]])]),i("div",C$e,[i("button",{type:"button",onClick:W[26]||(W[26]=q=>u.value=!1),class:"px-4 py-2 text-gray-700 hover:text-gray-900"},"Cancel"),W[58]||(W[58]=i("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},"Add Topic",-1))])],32)])])])):P("",!0)])}}}),M$e=[{path:"/",component:jA},{path:"/profile",component:UA},{path:"/projects",name:"ProjectsIndex",component:IH},{path:"/projects/:id",name:"ProjectsDetail",component:d1},{path:"/projects/:id/tasks/:taskId",name:"ProjectsDetailTask",component:d1,props:!0},{path:"/users",name:"Users",component:lH},{path:"/labels",name:"Labels",component:bH},{path:"/roles",name:"Roles",component:KU},{path:"/tasks",name:"Tasks",component:TV},{path:"/attendance",name:"Attendance",component:OX},{path:"/employees",name:"Employees",component:hee},{path:"/employees/:id",name:"EmployeeDetail",component:lse},{path:"/leaves",name:"Leaves",component:iie},{path:"/holidays",name:"Holidays",component:tre},{path:"/payrolls",name:"Payrolls",component:xle},{path:"/clients",name:"Clients",component:Rce},{path:"/quotations",name:"Quotations",component:khe},{path:"/quotations/:id",name:"QuotationDetail",component:ome},{path:"/expenses",name:"Expenses",component:Wge},{path:"/income",name:"Income",component:uye},{path:"/adsense-reports",name:"AdSenseReports",component:bY},{path:"/settings/general",component:oL},{path:"/settings/email",component:Yj},{path:"/settings/adsense",component:WL},{path:"/settings/countries",component:HN},{path:"/settings/user-assignments",component:AB},{path:"/video-enhancer",component:PU},{path:"/audit-trail",name:"AuditTrail",component:oxe},{path:"/service-providers",name:"ServiceProviders",component:x2e},{path:"/service-providers/:id",name:"ServiceProvidersDetail",component:u5e},{path:"/recording-sessions",name:"RecordingSessions",component:cke},{path:"/lesson-plans",name:"LessonPlans",component:m4e},{path:"/subjects",name:"Subjects",component:S$e},{path:"/403",name:"Forbidden",component:sA},{path:"/:pathMatch(.*)*",name:"NotFound",component:tA}],tu=Ek({history:K5(vt.prefix),routes:M$e});tu.beforeEach((s,e,t)=>{t()});tu.afterEach((s,e)=>{});tu.onError(s=>{});eb.config.errorHandler=(s,e,t)=>{};window.addEventListener("unhandledrejection",s=>{});try{eb.use($5()).use(r6).use(tu).mount("#app")}catch(s){alert("Mount Error: "+s.message)}
